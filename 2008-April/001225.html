<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r3963 - in	branches/avidemux_2.5_branch_gruntster/avidemux:	ADM_coreUI/include ADM_coreUI/src	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory	ADM_userInterfaces/ADM_NONE/ADM_dialogFactory
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3963%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster/avidemux%3A%0A%09ADM_coreUI/include%20ADM_coreUI/src%0A%09ADM_userInterfaces/ADM_GTK/ADM_dialogFactory%0A%09ADM_userInterfaces/ADM_NONE/ADM_dialogFactory&In-Reply-To=%3C200804011737.m31HboiU015417%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001224.html">
   <LINK REL="Next"  HREF="001226.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r3963 - in	branches/avidemux_2.5_branch_gruntster/avidemux:	ADM_coreUI/include ADM_coreUI/src	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory	ADM_userInterfaces/ADM_NONE/ADM_dialogFactory</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3963%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster/avidemux%3A%0A%09ADM_coreUI/include%20ADM_coreUI/src%0A%09ADM_userInterfaces/ADM_GTK/ADM_dialogFactory%0A%09ADM_userInterfaces/ADM_NONE/ADM_dialogFactory&In-Reply-To=%3C200804011737.m31HboiU015417%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r3963 - in	branches/avidemux_2.5_branch_gruntster/avidemux:	ADM_coreUI/include ADM_coreUI/src	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory	ADM_userInterfaces/ADM_NONE/ADM_dialogFactory">mean at mail.berlios.de
       </A><BR>
    <I>Tue Apr  1 19:37:50 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001224.html">[Avidemux-svn-commit] r3962 -	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui
</A></li>
        <LI>Next message: <A HREF="001226.html">[Avidemux-svn-commit] r3964 -	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1225">[ date ]</a>
              <a href="thread.html#1225">[ thread ]</a>
              <a href="subject.html#1225">[ subject ]</a>
              <a href="author.html#1225">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2008-04-01 19:37:49 +0200 (Tue, 01 Apr 2008)
New Revision: 3963

Added:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_slider.cpp
Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_coreUI_internal.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_factory.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/DIA_factory.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp
Log:
[Merge]


Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_coreUI_internal.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_coreUI_internal.h	2008-04-01 15:27:40 UTC (rev 3962)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_coreUI_internal.h	2008-04-01 17:37:49 UTC (rev 3963)
@@ -41,6 +41,7 @@
 typedef uint8_t DIA_FACTORY_RUN(const char *title,uint32_t nb,diaElem **elems);
 typedef struct
 {
+	COREUI_GET_VERSION   *FactoryGetVersion;
 	DIA_FACTORY_RUN      *FactoryRun;
 	DIA_FACTORY_RUN_TABS *FactoryRunTab;
 //	
@@ -94,6 +95,21 @@
 // Frame
 	CREATE_FRAME_T       *CreateFrame;
 	DELETE_DIA_ELEM_T    *DestroyFrame;
+// Toggle uint
+	CREATE_TOGGLE_UINT   *CreateToggleUint;
+	DELETE_DIA_ELEM_T    *DestroyToggleUint;
+// Toggle int
+	CREATE_TOGGLE_INT    *CreateToggleInt;
+	DELETE_DIA_ELEM_T    *DestroyToggleInt;
+// Regular Toggle	
+	CREATE_TOGGLE_T      *CreateToggle;
+	DELETE_DIA_ELEM_T    *DestroyToggle;
+// Uslider
+	CREATE_USLIDER_T     *CreateUSlider;
+	DELETE_DIA_ELEM_T    *DestroyUSlider;
+// Slider
+	CREATE_SLIDER_T      *CreateSlider;
+	DELETE_DIA_ELEM_T    *DestroySlider;
 }FactoryDescriptor;
 //
 uint8_t DIA_factoryInit(FactoryDescriptor *d);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_factory.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_factory.h	2008-04-01 15:27:40 UTC (rev 3962)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_factory.h	2008-04-01 17:37:49 UTC (rev 3963)
@@ -1,6 +1,9 @@
 /***************************************************************************
                           DIA_factory.h
   Handles univeral dialog
+  
+  DO NOT USE TEMPLATE HERE!
+  
   (C) Mean 2006 <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
 
  ***************************************************************************/
@@ -18,6 +21,10 @@
 
 #include &quot;ADM_assert.h&quot;
 
+#define ADM_COREUI_MAJOR 1
+#define ADM_COREUI_MINOR 0
+#define ADM_COREUI_PATCH 0
+
 typedef enum 
 {
   ELEM_INVALID=0,
@@ -85,10 +92,9 @@
 
 typedef void      DELETE_DIA_ELEM_T(diaElem *widget);
 typedef void      FINALIZE_DIA_ELEM_T(void);
+typedef void      COREUI_GET_VERSION(uint32_t *maj,uint32_t *min,uint32_t *patch);
 /*********************************************/
 typedef diaElem  *(CREATE_BUTTON_T)(const char *toggleTitle, ADM_FAC_CALLBACK *cb,void *cookie,const char *tip);
-
-
 class diaElemButton : public diaElem
 {
   protected:
@@ -118,35 +124,65 @@
   void      enable(uint32_t onoff) ;
 };
 /************************************/
-template &lt;typename T&gt;
-class diaElemGenericSlider : public diaElem
+class diaElemSliderBase : public diaElem
 {
   protected:
     
-    T min,max,incr;
-    uint32_t digits;
+      uint32_t digits;
 public:
-    diaElemGenericSlider(T *value,const char *toggleTitle, T min,T max,T incr = 1, const char *tip=NULL);
-  virtual   ~diaElemGenericSlider() ;
+	                diaElemSliderBase() : diaElem(ELEM_SLIDER) {}
+  virtual           ~diaElemSliderBase() {};
+  virtual uint8_t   setDigits(uint32_t digits) { this-&gt;digits = digits; }
+};
+
+typedef diaElem *CREATE_USLIDER_T(uint32_t *value,const char *toggleTitle, uint32_t min,uint32_t max,uint32_t incr , const char *tip);
+typedef diaElem *CREATE_SLIDER_T(int32_t *value,const char *toggleTitle, int32_t min,int32_t max,int32_t incr , const char *tip);
+class diaElemUSlider : public diaElemSliderBase
+{
+  protected:
+	  uint32_t min,max,incr;
+public:
+	diaElemUSlider(uint32_t *value,const char *toggleTitle, uint32_t min,uint32_t max,uint32_t incr = 1, const char *tip=NULL);
+  virtual   ~diaElemUSlider() ;
   void      setMe(void *dialog, void *opaque,uint32_t line);
   void      getMe(void);
   void      enable(uint32_t onoff) ;
-  void      setDigits(uint32_t digits) { this-&gt;digits = digits; }
+  uint8_t   setDigits(uint32_t digits) ;
 };
-typedef diaElemGenericSlider &lt;int32_t&gt; diaElemSlider;
-/* Same but unsigned */
-typedef diaElemGenericSlider &lt;uint32_t&gt; diaElemUSlider;
-/* Same but float */
-typedef diaElemGenericSlider &lt;ELEM_TYPE_FLOAT&gt; diaElemFSlider;
-
+class diaElemSlider : public diaElemSliderBase
+{
+  protected:
+    
+	  int32_t min,max,incr;
+    
+public:
+	diaElemSlider(int32_t *value,const char *toggleTitle, int32_t min,int32_t max,int32_t incr = 1, const char *tip=NULL);
+  virtual   ~diaElemSlider() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
+  void      enable(uint32_t onoff) ;
+  uint8_t   setDigits(uint32_t digits) ;
+  
+};
 /*********************************************/
-class diaElemToggle : public diaElem
+typedef diaElem *CREATE_TOGGLE(uint32_t *toggleValue,const char *toggleTitle, const char *tip);
+class diaElemToggleBase : public diaElem
 {
   protected:
     dialElemLink        links[MENU_MAX_lINK];
     uint32_t            nbLink;
     
 public:
+			diaElemToggleBase() :diaElem(ELEM_TOGGLE)
+						{};
+  virtual   ~diaElemToggleBase() {};
+  virtual uint8_t   link(uint32_t onoff,diaElem *w)=0;
+};
+typedef diaElem *CREATE_TOGGLE_T(uint32_t *toggleValue,const char *toggleTitle, const char *tip);
+class diaElemToggle : public diaElemToggleBase
+{
+  protected:
+public:
             diaElemToggle(uint32_t *toggleValue,const char *toggleTitle, const char *tip=NULL);
   virtual   ~diaElemToggle() ;
   void      setMe(void *dialog, void *opaque,uint32_t line);
@@ -157,6 +193,8 @@
   uint8_t   link(uint32_t onoff,diaElem *w);
 };
 /*********************************************/
+typedef diaElem *CREATE_TOGGLE_UINT(uint32_t *toggleValue,const char *toggleTitle, uint32_t *uintval, 
+								const char *name,uint32_t min,uint32_t max,const char *tip=NULL);
 class diaElemToggleUint : public diaElem
 {
   protected:
@@ -165,7 +203,8 @@
         void *widgetUint;
         uint32_t _min,_max;
 public:
-            diaElemToggleUint(uint32_t *toggleValue,const char *toggleTitle, uint32_t *uintval, const char *name,uint32_t min,uint32_t max,const char *tip=NULL);
+            diaElemToggleUint(uint32_t *toggleValue,const char *toggleTitle, uint32_t *uintval,
+            					const char *name,uint32_t min,uint32_t max,const char *tip=NULL);
   virtual   ~diaElemToggleUint() ;
   void      setMe(void *dialog, void *opaque,uint32_t line);
   void      getMe(void);
@@ -173,16 +212,24 @@
   void      finalize(void);
   void      updateMe();
 };
-class diaElemToggleInt : public diaElemToggleUint
+typedef diaElem *CREATE_TOGGLE_INT(uint32_t *toggleValue,const char *toggleTitle, int32_t *intval, 
+									const char *name,int32_t min,int32_t max,const char *tip=NULL);
+class diaElemToggleInt : public diaElem
 {
   protected:
-        int32_t *emb;
-        int32_t _min,_max;
+	  		 int32_t *emb;
+	         const char *embName;
+	         void *widgetUint;
+	         int32_t _min,_max;
 public:
-            diaElemToggleInt(uint32_t *toggleValue,const char *toggleTitle, int32_t *uintval, const char *name,int32_t min,int32_t max,const char *tip=NULL);
+            diaElemToggleInt(uint32_t *toggleValue,const char *toggleTitle, int32_t *uintval,
+            				const char *name,int32_t min,int32_t max,const char *tip=NULL);
   virtual   ~diaElemToggleInt() ;
   void      setMe(void *dialog, void *opaque,uint32_t line);
   void      getMe(void);
+  void      finalize(void);
+  void      updateMe();
+  void      enable(uint32_t onoff) ;
 };
 /*********************************************/
 typedef diaElem  *(CREATE_INTEGER_T)(int32_t *intValue,const char *toggleTitle,int32_t min, int32_t max,const char *tip);
@@ -467,6 +514,7 @@
   void getMe(void) ;
 };
 /*********************************************/
+typedef diaElem *(CREATE_TAB_T )(const char *toggleTitle, uint32_t nb, diaElem **content);
 class diaElemTabs 
 {
   public:

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/DIA_factory.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/DIA_factory.cpp	2008-04-01 15:27:40 UTC (rev 3962)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/DIA_factory.cpp	2008-04-01 17:37:49 UTC (rev 3963)
@@ -29,8 +29,21 @@
  */
 uint8_t  DIA_factoryInit(FactoryDescriptor *d)
 {
+	uint32_t major,minor,patch;
 	Factory=d;
-	return 1;
+	d-&gt;FactoryGetVersion(&amp;major,&amp;minor,&amp;patch);
+	printf(&quot;[COREUI] Compiled with %02d.%02d.%02d\n&quot;,ADM_COREUI_MAJOR,ADM_COREUI_MINOR,ADM_COREUI_PATCH);
+	printf(&quot;[COREUI] Linked with   %02d.%02d.%02d\n&quot;,major,minor,patch);
+	if(major!=ADM_COREUI_MAJOR)
+	{
+			printf(&quot;[CoreUI]Incompatible COREUI Major version, compiled with %d, using %d\n&quot;,ADM_COREUI_MAJOR,major);
+			ADM_assert(0);
+	}
+	if(minor!=ADM_COREUI_MINOR)
+	{
+		printf(&quot;[CoreUI] Maybe Incompatible COREUI Minor version, compiled with %d, using %d\n&quot;,ADM_COREUI_MINOR,minor);
+	}
+	printf(&quot;[CoreUI] Compiled with patch version %d, using %d\n&quot;,ADM_COREUI_PATCH,patch);
 }
 // ****************** All ************************
 uint8_t diaFactoryRun(const char *title,uint32_t nb,diaElem **elems)
@@ -409,5 +422,137 @@
 }
  
 DIA_MKSTUBS(diaElemFrame)
+// ****************** diaElemToggleUint ********************
+diaElemToggleUint ::diaElemToggleUint(uint32_t *toggleValue,const char *toggleTitle, uint32_t *uintval, const char *name,uint32_t min,uint32_t max,const char *tip):
+	diaElem(ELEM_TOGGLE_UINT)
+{
+	ADM_assert(Factory); 
+	internalPointer=Factory-&gt;CreateToggleUint(toggleValue,toggleTitle,uintval,name,min,max,tip);
+}
+diaElemToggleUint ::~diaElemToggleUint()
+	{
+	
+	ADM_assert(Factory); 
+	Factory-&gt;DestroyToggleUint(internalPointer);
+	internalPointer=NULL;
+}
+void      diaElemToggleUint::finalize(void)
+	{ 
+		ADM_assert(internalPointer); 
+		internalPointer-&gt;finalize(); 
+	}
+void      diaElemToggleUint::enable(uint32_t onoff)
+	{ 
+		ADM_assert(internalPointer); 
+		internalPointer-&gt;enable(onoff); 
+	}
+DIA_MKSTUBS(diaElemToggleUint)
+// ****************** diaElemToggleInt ********************
+diaElemToggleInt ::diaElemToggleInt(uint32_t *toggleValue,const char *toggleTitle, int32_t *uintval, 
+									const char *name,int32_t min,int32_t max,const char *tip):
+	diaElem(ELEM_TOGGLE_INT)
+{
+	ADM_assert(Factory); 
+	internalPointer=Factory-&gt;CreateToggleInt(toggleValue,toggleTitle,uintval,name,min,max,tip);
+}
+diaElemToggleInt ::~diaElemToggleInt()
+	{
+	
+	ADM_assert(Factory); 
+	Factory-&gt;DestroyToggleInt(internalPointer);
+	internalPointer=NULL;
+}
+void      diaElemToggleInt::finalize(void)
+	{ 
+		ADM_assert(internalPointer); 
+		internalPointer-&gt;finalize(); 
+	}
+void      diaElemToggleInt::enable(uint32_t onoff)
+	{ 
+		ADM_assert(internalPointer); 
+		internalPointer-&gt;enable(onoff); 
+	}
+DIA_MKSTUBS(diaElemToggleInt)
+// ****************** diaElemToggle ********************
+diaElemToggle ::diaElemToggle(uint32_t *toggleValue,const char *toggleTitle, const char *tip):
+	diaElemToggleBase()
+{
+	ADM_assert(Factory); 
+	internalPointer=Factory-&gt;CreateToggle(toggleValue,toggleTitle,tip);
+}
+diaElemToggle ::~diaElemToggle()
+	{
+	
+	ADM_assert(Factory); 
+	Factory-&gt;DestroyToggle(internalPointer);
+	internalPointer=NULL;
+}
+void      diaElemToggle::finalize(void)
+	{ 
+		ADM_assert(internalPointer); 
+		internalPointer-&gt;finalize(); 
+	}
+void      diaElemToggle::enable(uint32_t onoff)
+	{ 
+		ADM_assert(internalPointer); 
+		internalPointer-&gt;enable(onoff); 
+	}
+uint8_t   diaElemToggle::link(uint32_t onoff,diaElem *w)
+{
+	diaElemToggleBase *cast=(diaElemToggleBase *)internalPointer;
+			cast-&gt;link(onoff,w);	
+}
+DIA_MKSTUBS(diaElemToggle)
 //
+// ****************** diaElemUSlider ********************
+diaElemUSlider ::diaElemUSlider(uint32_t *value,const char *toggleTitle, uint32_t min,uint32_t max,uint32_t incr , const char *tip):
+	diaElemSliderBase()
+{
+	ADM_assert(Factory); 
+	internalPointer=Factory-&gt;CreateUSlider(value,toggleTitle,min,max,incr,tip);
+}
+diaElemUSlider ::~diaElemUSlider()
+	{
+	
+	ADM_assert(Factory); 
+	Factory-&gt;DestroyUSlider(internalPointer);
+	internalPointer=NULL;
+}
+void      diaElemUSlider::enable(uint32_t onoff)
+	{ 
+		ADM_assert(internalPointer); 
+		internalPointer-&gt;enable(onoff); 
+	}
+uint8_t   diaElemUSlider::setDigits(uint32_t digits)
+{
+	diaElemSliderBase *cast=(diaElemSliderBase *)internalPointer;
+			cast-&gt;setDigits(digits);	
+}
+DIA_MKSTUBS(diaElemUSlider)
+// ****************** diaElemSlider ********************
+diaElemSlider ::diaElemSlider(int32_t *value,const char *toggleTitle, int32_t min,int32_t max,int32_t incr , const char *tip):
+	diaElemSliderBase()
+{
+	ADM_assert(Factory); 
+	internalPointer=Factory-&gt;CreateSlider(value,toggleTitle,min,max,incr,tip);
+}
+diaElemSlider ::~diaElemSlider()
+	{
+	
+	ADM_assert(Factory); 
+	Factory-&gt;DestroySlider(internalPointer);
+	internalPointer=NULL;
+}
+void      diaElemSlider::enable(uint32_t onoff)
+	{ 
+		ADM_assert(internalPointer); 
+		internalPointer-&gt;enable(onoff); 
+	}
+uint8_t   diaElemSlider::setDigits(uint32_t digits)
+{
+	diaElemSliderBase *cast=(diaElemSliderBase *)internalPointer;
+			cast-&gt;setDigits(digits);	
+}
+DIA_MKSTUBS(diaElemSlider)
+//
 // EOF

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/CMakeLists.txt	2008-04-01 15:27:40 UTC (rev 3962)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/CMakeLists.txt	2008-04-01 17:37:49 UTC (rev 3963)
@@ -16,7 +16,8 @@
 	FAC_notch.cpp
 	FAC_toggle.cpp
 	FAC_threadCount.cpp
+	FAC_slider.cpp
 	FAC_matrix.cpp)
 
 ADD_ADM_LIB_GTK_TARGET(${ADM_LIB} ${${ADM_LIB}_SRCS})
-ADD_CFLAGS_GTK_TARGET(${ADM_LIB} ${GTK_CFLAGS})
\ No newline at end of file
+ADD_CFLAGS_GTK_TARGET(${ADM_LIB} ${GTK_CFLAGS})

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp	2008-04-01 15:27:40 UTC (rev 3962)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp	2008-04-01 17:37:49 UTC (rev 3963)
@@ -325,12 +325,33 @@
 extern DELETE_DIA_ELEM_T    gtkDestroyFile;
 extern CREATE_DIR_T         gtkCreateDir;
 extern DELETE_DIA_ELEM_T    gtkDestroyDir;
-CREATE_FRAME_T				gtkCreateFrame;
+extern CREATE_FRAME_T		gtkCreateFrame;
 extern DELETE_DIA_ELEM_T    gtkDestroyFrame;
-
+extern CREATE_TOGGLE_UINT   gtkCreateToggleUint;
+extern DELETE_DIA_ELEM_T    gtkDestroyToggleUint;
+extern CREATE_TOGGLE_INT    gtkCreateToggleInt;
+extern DELETE_DIA_ELEM_T    gtkDestroyToggleInt;
+extern CREATE_TOGGLE_T      gtkCreateToggle;
+extern DELETE_DIA_ELEM_T    gtkDestroyToggle;
+extern CREATE_USLIDER_T     gtkCreateUSlider;
+extern DELETE_DIA_ELEM_T    gtkDestroyUSlider;
+extern 	CREATE_SLIDER_T     gtkCreateSlider;
+extern 	DELETE_DIA_ELEM_T   gtkDestroySlider;
+/**
+ *  \fn gtkFactoryGetVersion
+ * 	\brief returns the version this has been compiled with
+ */
+void      gtkFactoryGetVersion(uint32_t *maj,uint32_t *minor,uint32_t *patch)
+{
+	*maj=ADM_COREUI_MAJOR;
+	*minor=ADM_COREUI_MINOR;
+	*patch=ADM_COREUI_PATCH;
+	
+}
 //************
 static FactoryDescriptor GtkFactoryDescriptor=
 {
+	&amp;gtkFactoryGetVersion,
 	&amp;gtkDiaFactoryRun,
 	&amp;gtkDiaFactoryRunTabs,
 	// Buttons
@@ -382,8 +403,20 @@
 	&amp;gtkDestroyDir,
 	// Frame
 	&amp;gtkCreateFrame,
-	&amp;gtkDestroyFrame
-		
+	&amp;gtkDestroyFrame,
+    // Toggle uint/int
+	&amp;gtkCreateToggleUint,
+	&amp;gtkDestroyToggleUint,
+	&amp;gtkCreateToggleInt,
+	&amp;gtkDestroyToggleInt,
+	// Regular toggle
+	&amp;gtkCreateToggle,
+	&amp;gtkDestroyToggle,
+	// Slider
+	&amp;gtkCreateUSlider,
+	&amp;gtkDestroyUSlider,
+	&amp;gtkCreateSlider,
+	&amp;gtkDestroySlider
 };
 
 /**

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp	2008-04-01 15:27:40 UTC (rev 3962)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp	2008-04-01 17:37:49 UTC (rev 3963)
@@ -206,120 +206,5 @@
 	ADM_GtkFactory::diaElemUInteger *a=(ADM_GtkFactory::diaElemUInteger *)e;
 	delete a;
 }
-//****************************************************
-template &lt;typename T&gt;
-static
-uint32_t diaElemSliderDigitsDefault (T incr)
-{
-    return 0; // used for int types; a specialization overrides this for float
-}
 
-template &lt;&gt;  // specialization of above...
-uint32_t diaElemSliderDigitsDefault (ELEM_TYPE_FLOAT incr) // ...for float
-{
-    char tmp [32];
-    uint32_t digits = 3;
-    sprintf (tmp, &quot;%.*f&quot;, digits, incr);
-    const char * cptr = tmp + strlen (tmp);
-    while (*--cptr == '0')
-        --digits;
-
-    if (digits &lt; 1)
-        return 1;
-    else
-        return digits;
-}
-
-template &lt;typename T&gt;
-diaElemGenericSlider&lt;T&gt;::diaElemGenericSlider(T *value,const char *toggleTitle, T min,T max,T incr,const char *tip)
-    : diaElem(ELEM_SLIDER),
-      min (min),
-      max (max),
-      incr (incr),
-      digits (diaElemSliderDigitsDefault (incr))
-{
-    param = (void *)value;
-    paramTitle = toggleTitle;
-    this-&gt;tip = tip;
-    size = 2;
-}
-
-template &lt;typename T&gt;
-diaElemGenericSlider&lt;T&gt;::~diaElemGenericSlider()
-{
-}
-
-template &lt;typename T&gt;
-void diaElemGenericSlider&lt;T&gt;::setMe(void *dialog, void *opaque,uint32_t line)
-{
-  GtkWidget *label = gtk_label_new_with_mnemonic (paramTitle);
-  gtk_misc_set_alignment (GTK_MISC (label), 0.0, 0.5);
-  gtk_widget_show(label);
-  
-  gtk_table_attach (GTK_TABLE (opaque), label, 0, 2, line, line+1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  
-  T val=*(T *)param;
-
-  GtkAdjustment * adj = (GtkAdjustment *) gtk_adjustment_new (val, min, max, incr, incr, 0);
-
-  GtkWidget *spinner = gtk_spin_button_new (adj, 1, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON(spinner), TRUE);
-  gtk_spin_button_set_digits  (GTK_SPIN_BUTTON(spinner), digits);
-  
-  GtkWidget *slider = gtk_hscale_new (adj);
-  gtk_scale_set_draw_value (GTK_SCALE (slider), FALSE);
-  gtk_scale_set_digits (GTK_SCALE (slider), digits);
-  
-  GtkWidget *hbox = gtk_hbox_new (FALSE, 5);
-  gtk_box_pack_start (GTK_BOX (hbox), slider, TRUE, TRUE, 0);
-  gtk_box_pack_start (GTK_BOX (hbox), spinner, FALSE, FALSE, 0);
-
-  gtk_table_attach (GTK_TABLE (opaque), hbox, 0, 2, line+1, line+2,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  
-  gtk_label_set_mnemonic_widget (GTK_LABEL(label), hbox);
-  gtk_widget_show (hbox);
-  gtk_widget_show (spinner);
-  gtk_widget_show (slider);
-  
-  myWidget=(void *)slider;
-  if(readOnly)
-  {
-    gtk_widget_set_sensitive(spinner,0);
-    gtk_widget_set_sensitive(slider,0);
-  }
-  if(tip)
-  {
-      GtkTooltips *tooltips= gtk_tooltips_new ();
-      gtk_tooltips_set_tip (tooltips, spinner, tip, NULL);
-      gtk_tooltips_set_tip (tooltips, slider, tip, NULL);
-  }
-}
-
-template &lt;typename T&gt;
-void diaElemGenericSlider&lt;T&gt;::getMe(void)
-{
-  GtkWidget *widget=(GtkWidget *)myWidget;
-  T *val=(T *)param;
-  ADM_assert(widget);
-  GtkAdjustment *adj = gtk_range_get_adjustment (GTK_RANGE(widget));
-  *val = (T)GTK_ADJUSTMENT(adj)-&gt;value;
-  if(*val&lt;min) *val=min;
-  if(*val&gt;max) *val=max;
-}
-
-template &lt;typename T&gt;
-void diaElemGenericSlider&lt;T&gt;::enable(uint32_t onoff)
-{
-  GtkWidget *widget=(GtkWidget *)myWidget;
-  gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);
-}
-
-template class diaElemGenericSlider &lt;int32_t&gt;;
-template class diaElemGenericSlider &lt;uint32_t&gt;;
-template class diaElemGenericSlider &lt;ELEM_TYPE_FLOAT&gt;;
-
 //EOF

Added: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_slider.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_slider.cpp	2008-04-01 15:27:40 UTC (rev 3962)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_slider.cpp	2008-04-01 17:37:49 UTC (rev 3963)
@@ -0,0 +1,250 @@
+/***************************************************************************
+  FAC_integer.cpp
+  Handle dialog factory elements : Integer, Slider, and variations thereupon
+  (C) 2006 Mean <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">Fixounet at free.fr</A> 
+***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
+#include &quot;DIA_factory.h&quot;
+
+
+
+namespace ADM_GtkFactory
+{
+
+
+class diaElemUSlider : public diaElemSliderBase
+{
+  protected:
+	  uint32_t min,max,incr;
+public:
+	diaElemUSlider(uint32_t *value,const char *toggleTitle, uint32_t min,uint32_t max,uint32_t incr = 1, const char *tip=NULL);
+  virtual   ~diaElemUSlider() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
+  void      enable(uint32_t onoff) ;
+  
+};
+class diaElemSlider : public diaElemSliderBase
+{
+  protected:
+    
+	  int32_t min,max,incr;
+    
+public:
+	diaElemSlider(int32_t *value,const char *toggleTitle, int32_t min,int32_t max,int32_t incr = 1, const char *tip=NULL);
+  virtual   ~diaElemSlider() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
+  void      enable(uint32_t onoff) ;
+  
+  
+};
+
+//****************************************************
+
+
+
+diaElemSlider::diaElemSlider(int32_t *value,const char *toggleTitle, int32_t min,int32_t max,
+				int32_t incr,const char *tip)
+    : diaElemSliderBase()
+    {
+      this-&gt;min=min;
+      this-&gt;max=max;
+      this-&gt;incr=incr;
+      incr=0;
+    param = (void *)value;
+    paramTitle = toggleTitle;
+    this-&gt;tip = tip;
+    size = 2;
+}
+
+diaElemSlider::~diaElemSlider()
+{
+}
+
+void diaElemSlider::setMe(void *dialog, void *opaque,uint32_t line)
+{
+  GtkWidget *label = gtk_label_new_with_mnemonic (paramTitle);
+  gtk_misc_set_alignment (GTK_MISC (label), 0.0, 0.5);
+  gtk_widget_show(label);
+  
+  gtk_table_attach (GTK_TABLE (opaque), label, 0, 2, line, line+1,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  
+  int32_t val=*(int32_t  *)param;
+
+  GtkAdjustment * adj = (GtkAdjustment *) gtk_adjustment_new (val, min, max, incr, incr, 0);
+
+  GtkWidget *spinner = gtk_spin_button_new (adj, 1, 0);
+  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON(spinner), TRUE);
+  gtk_spin_button_set_digits  (GTK_SPIN_BUTTON(spinner), digits);
+  
+  GtkWidget *slider = gtk_hscale_new (adj);
+  gtk_scale_set_draw_value (GTK_SCALE (slider), FALSE);
+  gtk_scale_set_digits (GTK_SCALE (slider), digits);
+  
+  GtkWidget *hbox = gtk_hbox_new (FALSE, 5);
+  gtk_box_pack_start (GTK_BOX (hbox), slider, TRUE, TRUE, 0);
+  gtk_box_pack_start (GTK_BOX (hbox), spinner, FALSE, FALSE, 0);
+
+  gtk_table_attach (GTK_TABLE (opaque), hbox, 0, 2, line+1, line+2,
+                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  
+  gtk_label_set_mnemonic_widget (GTK_LABEL(label), hbox);
+  gtk_widget_show (hbox);
+  gtk_widget_show (spinner);
+  gtk_widget_show (slider);
+  
+  myWidget=(void *)slider;
+  if(readOnly)
+  {
+    gtk_widget_set_sensitive(spinner,0);
+    gtk_widget_set_sensitive(slider,0);
+  }
+  if(tip)
+  {
+      GtkTooltips *tooltips= gtk_tooltips_new ();
+      gtk_tooltips_set_tip (tooltips, spinner, tip, NULL);
+      gtk_tooltips_set_tip (tooltips, slider, tip, NULL);
+  }
+}
+
+void diaElemSlider::getMe(void)
+{
+  GtkWidget *widget=(GtkWidget *)myWidget;
+  uint32_t *val=(uint32_t *)param;
+  ADM_assert(widget);
+  GtkAdjustment *adj = gtk_range_get_adjustment (GTK_RANGE(widget));
+  *val = (uint32_t)GTK_ADJUSTMENT(adj)-&gt;value;
+  if(*val&lt;min) *val=min;
+  if(*val&gt;max) *val=max;
+}
+
+void diaElemSlider::enable(uint32_t onoff)
+{
+  GtkWidget *widget=(GtkWidget *)myWidget;
+  gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);
+}
+//********************** USLIDER***********
+
+
+diaElemUSlider::diaElemUSlider(uint32_t *value,const char *toggleTitle, 
+		uint32_t min,uint32_t max,uint32_t incr,const char *tip)
+
+    : diaElemSliderBase()
+{
+      this-&gt;min=min;
+      this-&gt;max=max;
+      this-&gt;incr=incr;
+      digits=0;
+    param = (void *)value;
+    paramTitle = toggleTitle;
+    this-&gt;tip = tip;
+    size = 2;
+}
+
+diaElemUSlider::~diaElemUSlider()
+{
+}
+
+void diaElemUSlider::setMe(void *dialog, void *opaque,uint32_t line)
+{
+  GtkWidget *label = gtk_label_new_with_mnemonic (paramTitle);
+  gtk_misc_set_alignment (GTK_MISC (label), 0.0, 0.5);
+  gtk_widget_show(label);
+  
+  gtk_table_attach (GTK_TABLE (opaque), label, 0, 2, line, line+1,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  
+  uint32_t val=*(uint32_t *)param;
+
+  GtkAdjustment * adj = (GtkAdjustment *) gtk_adjustment_new (val, min, max, incr, incr, 0);
+
+  GtkWidget *spinner = gtk_spin_button_new (adj, 1, 0);
+  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON(spinner), TRUE);
+  gtk_spin_button_set_digits  (GTK_SPIN_BUTTON(spinner), digits);
+  
+  GtkWidget *slider = gtk_hscale_new (adj);
+  gtk_scale_set_draw_value (GTK_SCALE (slider), FALSE);
+  gtk_scale_set_digits (GTK_SCALE (slider), digits);
+  
+  GtkWidget *hbox = gtk_hbox_new (FALSE, 5);
+  gtk_box_pack_start (GTK_BOX (hbox), slider, TRUE, TRUE, 0);
+  gtk_box_pack_start (GTK_BOX (hbox), spinner, FALSE, FALSE, 0);
+
+  gtk_table_attach (GTK_TABLE (opaque), hbox, 0, 2, line+1, line+2,
+                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  
+  gtk_label_set_mnemonic_widget (GTK_LABEL(label), hbox);
+  gtk_widget_show (hbox);
+  gtk_widget_show (spinner);
+  gtk_widget_show (slider);
+  
+  myWidget=(void *)slider;
+  if(readOnly)
+  {
+    gtk_widget_set_sensitive(spinner,0);
+    gtk_widget_set_sensitive(slider,0);
+  }
+  if(tip)
+  {
+      GtkTooltips *tooltips= gtk_tooltips_new ();
+      gtk_tooltips_set_tip (tooltips, spinner, tip, NULL);
+      gtk_tooltips_set_tip (tooltips, slider, tip, NULL);
+  }
+}
+
+void diaElemUSlider::getMe(void)
+{
+  GtkWidget *widget=(GtkWidget *)myWidget;
+  uint32_t *val=(uint32_t *)param;
+  ADM_assert(widget);
+  GtkAdjustment *adj = gtk_range_get_adjustment (GTK_RANGE(widget));
+  *val = (uint32_t)GTK_ADJUSTMENT(adj)-&gt;value;
+  if(*val&lt;min) *val=min;
+  if(*val&gt;max) *val=max;
+}
+
+void diaElemUSlider::enable(uint32_t onoff)
+{
+  GtkWidget *widget=(GtkWidget *)myWidget;
+  gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);
+}
+//****************************************************
+} // End of namespace
+//****************************Hoook*****************
+
+diaElem  *gtkCreateSlider(int32_t *value,const char *toggleTitle, int32_t min,int32_t max,int32_t incr , const char *tip)
+{
+	return new  ADM_GtkFactory::diaElemSlider(value,toggleTitle,min,max,incr,tip);
+}
+void gtkDestroySlider(diaElem *e)
+{
+	ADM_GtkFactory::diaElemSlider *a=(ADM_GtkFactory::diaElemSlider *)e;
+	delete a;
+}
+diaElem  *gtkCreateUSlider(uint32_t *value,const char *toggleTitle, uint32_t min,uint32_t max,uint32_t incr , const char *tip)
+{
+	return new  ADM_GtkFactory::diaElemUSlider(value,toggleTitle,min,max,incr,tip);
+}
+void gtkDestroyUSlider(diaElem *e)
+{
+	ADM_GtkFactory::diaElemUSlider *a=(ADM_GtkFactory::diaElemUSlider *)e;
+	delete a;
+}
+//****************************************************
+//EOF

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp	2008-04-01 15:27:40 UTC (rev 3962)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp	2008-04-01 17:37:49 UTC (rev 3963)
@@ -16,13 +16,64 @@
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
 #include &quot;DIA_factory.h&quot;
 
+namespace ADM_GtkFactory
+{
+class diaElemToggle : public diaElemToggleBase
+{
+  protected:
+public:
+            diaElemToggle(uint32_t *toggleValue,const char *toggleTitle, const char *tip=NULL);
+  virtual   ~diaElemToggle() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
+  void      enable(uint32_t onoff) ;
+  void      finalize(void);
+  void      updateMe();
+  uint8_t   link(uint32_t onoff,diaElem *w);
+};
+
+class diaElemToggleUint : public diaElem
+{
+  protected:
+        uint32_t *emb;
+        const char *embName;
+        void *widgetUint;
+        uint32_t _min,_max;
+public:
+            diaElemToggleUint(uint32_t *toggleValue,const char *toggleTitle, uint32_t *uintval,
+            					const char *name,uint32_t min,uint32_t max,const char *tip=NULL);
+  virtual   ~diaElemToggleUint() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
+  void      enable(uint32_t onoff) ;
+  void      finalize(void);
+  void      updateMe();
+};
+class diaElemToggleInt : public diaElem
+{
+  protected:
+	  		 int32_t *emb;
+	         const char *embName;
+	         void *widgetUint;
+	         int32_t _min,_max;
+public:
+            diaElemToggleInt(uint32_t *toggleValue,const char *toggleTitle, int32_t *uintval,
+            				const char *name,int32_t min,int32_t max,const char *tip=NULL);
+  virtual   ~diaElemToggleInt() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
+  void      finalize(void);
+  void      updateMe();
+  void      enable(uint32_t onoff) ;
+};
+
 static void cb_menu(void *w,void *p);
 static void cb_menu2(void *w,void *p);
 
 
 
 diaElemToggle::diaElemToggle(uint32_t *toggleValue,const char *toggleTitle, const char *tip)
-  : diaElem(ELEM_TOGGLE)
+  : diaElemToggleBase()
 {
   param=(void *)toggleValue;
   paramTitle=toggleTitle;
@@ -208,7 +259,7 @@
 }
 //*************************************************************************
 diaElemToggleInt::diaElemToggleInt(uint32_t *toggleValue,const char *toggleTitle, int32_t *uintval, const char *name,int32_t min,int32_t max,const char *tip)
-  : diaElemToggleUint(toggleValue,toggleTitle, NULL, name,0,0,tip)
+  : diaElem(ELEM_TOGGLE_INT)
 {
   param=(void *)toggleValue;
   paramTitle=toggleTitle;
@@ -276,5 +327,67 @@
   diaElemToggleInt *me=(diaElemToggleInt *)p;
   me-&gt;updateMe();
 }
+void   diaElemToggleInt::updateMe(void)
+{
+  GtkWidget *widget=(GtkWidget *)myWidget;
+  GtkWidget *wuint=(GtkWidget *)widgetUint;
+  uint32_t val;
+  uint32_t rank;
+  ADM_assert(widget);
+  
+  
+  rank=gtk_toggle_button_get_active (GTK_TOGGLE_BUTTON (widget));
+  gtk_widget_set_sensitive(GTK_WIDGET(wuint),rank);
+    
+}
+void   diaElemToggleInt::finalize(void)
+{
+  updateMe();
+}
+void   diaElemToggleInt::enable(uint32_t onoff)
+{
+   GtkWidget *widget=(GtkWidget *)myWidget;
+  GtkWidget *wuint=(GtkWidget *)widgetUint;
+  
+  gtk_widget_set_sensitive(GTK_WIDGET(widget),onoff);
+  gtk_widget_set_sensitive(GTK_WIDGET(wuint),onoff);
+}
 
+} // End of namespace
+//****************************Hoook*****************
+
+diaElem  *gtkCreateToggleUint(uint32_t *toggleValue,const char *toggleTitle, uint32_t *uintval,
+		const char *name,uint32_t min,uint32_t max,const char *tip)
+{
+	return new  ADM_GtkFactory::diaElemToggleUint(toggleValue,toggleTitle, uintval,
+			name,min,max,tip);
+}
+void gtkDestroyToggleUint(diaElem *e)
+{
+	ADM_GtkFactory::diaElemToggleUint *a=(ADM_GtkFactory::diaElemToggleUint *)e;
+	delete a;
+}
+
+diaElem  *gtkCreateToggleInt(uint32_t *toggleValue,const char *toggleTitle, int32_t *uintval,
+		const char *name,int32_t min,int32_t max,const char *tip)
+{
+	return new  ADM_GtkFactory::diaElemToggleInt(toggleValue,toggleTitle, uintval,
+			name,min,max,tip);
+}
+void gtkDestroyToggleInt(diaElem *e)
+{
+	ADM_GtkFactory::diaElemToggleInt *a=(ADM_GtkFactory::diaElemToggleInt *)e;
+	delete a;
+}
+diaElem  *gtkCreateToggle(uint32_t *toggleValue,const char *toggleTitle, const char *tip)
+{
+	return new  ADM_GtkFactory::diaElemToggle(toggleValue,toggleTitle, tip);
+}
+void gtkDestroyToggle(diaElem *e)
+{
+	ADM_GtkFactory::diaElemToggle *a=(ADM_GtkFactory::diaElemToggle *)e;
+	delete a;
+}
+
+
 //EOF

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp	2008-04-01 15:27:40 UTC (rev 3962)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp	2008-04-01 17:37:49 UTC (rev 3963)
@@ -29,7 +29,7 @@
 
 
 diaElemToggle::diaElemToggle(uint32_t *toggleValue,const char *toggleTitle, const char *tip)
-  : diaElem(ELEM_TOGGLE)
+  : diaElemToggleBase()
 {
 }
 
@@ -357,7 +357,7 @@
 }
 //**************************
 diaElemToggleInt::diaElemToggleInt(uint32_t *toggleValue,const char *toggleTitle, int32_t *uintval, const char *name,int32_t min,int32_t max,const char *tip)
-  :diaElemToggleUint(toggleValue,toggleTitle, NULL, name,0,0,tip)
+  :diaElem(ELEM_TOGGLE_INT)
 {
  
 }
@@ -398,7 +398,7 @@
 
 }
 //***
- 
+#if 0
  template &lt;typename T&gt;
  diaElemGenericSlider&lt;T&gt;::diaElemGenericSlider(T *value,const char *toggleTitle, T min,T max,T incr,const char *tip)
      : diaElem(ELEM_SLIDER)
@@ -429,9 +429,9 @@
  template class diaElemGenericSlider &lt;uint32_t&gt;;
  template class diaElemGenericSlider &lt;ELEM_TYPE_FLOAT&gt;;
 //****
+#endif
 
 
-
  diaElemMatrix::diaElemMatrix(uint8_t *trix,const char *toggleTitle, uint32_t trixSize,const char *tip)
    : diaElem(ELEM_MATRIX)
  {


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001224.html">[Avidemux-svn-commit] r3962 -	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui
</A></li>
	<LI>Next message: <A HREF="001226.html">[Avidemux-svn-commit] r3964 -	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1225">[ date ]</a>
              <a href="thread.html#1225">[ thread ]</a>
              <a href="subject.html#1225">[ subject ]</a>
              <a href="author.html#1225">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
