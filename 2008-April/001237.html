<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r3975 - in	branches/avidemux_2.5_branch_gruntster:	avidemux/ADM_audiocodec avidemux/ADM_core/include	avidemux/ADM_core/src avidemux/ADM_encoder	avidemux/ADM_libraries cmake
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3975%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster%3A%0A%09avidemux/ADM_audiocodec%20avidemux/ADM_core/include%0A%09avidemux/ADM_core/src%20avidemux/ADM_encoder%0A%09avidemux/ADM_libraries%20cmake&In-Reply-To=%3C200804102344.m3ANighV028453%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001236.html">
   <LINK REL="Next"  HREF="001238.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r3975 - in	branches/avidemux_2.5_branch_gruntster:	avidemux/ADM_audiocodec avidemux/ADM_core/include	avidemux/ADM_core/src avidemux/ADM_encoder	avidemux/ADM_libraries cmake</H1>
    <B>gruntster at mail.berlios.de</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3975%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster%3A%0A%09avidemux/ADM_audiocodec%20avidemux/ADM_core/include%0A%09avidemux/ADM_core/src%20avidemux/ADM_encoder%0A%09avidemux/ADM_libraries%20cmake&In-Reply-To=%3C200804102344.m3ANighV028453%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r3975 - in	branches/avidemux_2.5_branch_gruntster:	avidemux/ADM_audiocodec avidemux/ADM_core/include	avidemux/ADM_core/src avidemux/ADM_encoder	avidemux/ADM_libraries cmake">gruntster at mail.berlios.de
       </A><BR>
    <I>Fri Apr 11 01:44:42 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001236.html">[Avidemux-svn-commit] r3974 -	branches/avidemux_2.4_branch/avidemux/ADM_encoder
</A></li>
        <LI>Next message: <A HREF="001238.html">[Avidemux-svn-commit] r3976 - in	branches/avidemux_2.5_branch_gruntster/avidemux: . ADM_codecs	ADM_core/include ADM_coreUI/include ADM_coreUI/src	ADM_inputs/ADM_mp4 ADM_script ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory	ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_NONE/ADM_gui2	ADM_userInterfaces/ADM_QT4/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialogFactory	ADM_userInterfaces/ADM_QT4/ADM_gui
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1237">[ date ]</a>
              <a href="thread.html#1237">[ thread ]</a>
              <a href="subject.html#1237">[ subject ]</a>
              <a href="author.html#1237">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: gruntster
Date: 2008-04-11 01:44:37 +0200 (Fri, 11 Apr 2008)
New Revision: 3975

Removed:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiocodec/ADM_dca.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/ADM_videocodeclist.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libMad/
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_liba52/
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libwrapper/
Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiocodec/ADM_pluginLoad.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/include/ADM_dynamicLoading.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_dynamicLoading.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/cmake/FindThreads.cmake
Log:
[Misc] tidy ups and tweaks

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiocodec/ADM_dca.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiocodec/ADM_dca.cpp	2008-04-10 17:59:45 UTC (rev 3974)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiocodec/ADM_dca.cpp	2008-04-10 23:44:37 UTC (rev 3975)
@@ -1,197 +0,0 @@
-/***************************************************************************
-                          ADM_codecac3.cpp  -  description
-                             -------------------
-    begin                : Fri May 31 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include &lt;math.h&gt;
-
-#include &quot;config.h&quot;
-#include &quot;ADM_default.h&quot;
-
-#include &quot;ADM_audio/aviaudio.hxx&quot;
-#include &quot;ADM_audiocodec/ADM_audiocodec.h&quot;
-
-#include &quot;prefs.h&quot;
-
-#ifdef USE_LIBDCA
-#include &quot;ADM_audio/ADM_dcainfo.h&quot;
-#include &quot;ADM_libraries/ADM_libwrapper/libwrapper_global.h&quot;
-
-#define DTS_HANDLE ((dts_state_t *)dts_handle)
-
-ADM_AudiocodecDCA::ADM_AudiocodecDCA( uint32_t fourcc, WAVHeader *info) :   ADM_Audiocodec(fourcc)
-{
-    int flags=0;
-    ADM_assert(fourcc==WAV_DTS);
-    dts_handle=NULL;
-    
-#ifdef ADM_CPU_X86
-#define CHK(x,y) if(CpuCaps::has##x()) flags|=MM_ACCEL_X86_##y;
-    CHK(MMX,MMX);
-    CHK(3DNOW,3DNOW);
-    CHK(MMXEXT,MMXEXT);
-#endif
-    
-    dts_handle=(void *)dca-&gt;dts_init_(flags);
-    if(!dts_handle)
-    {
-        printf(&quot;Cannot init libdca\n&quot;);
-        ADM_assert(0);   
-    }
-	_wavHeader = info;
-}
-
-ADM_AudiocodecDCA::~ADM_AudiocodecDCA( )
-{
-    if(dts_handle)
-    {
-        dca-&gt;dts_free_(DTS_HANDLE);
-        dts_handle=NULL;
-    }
-}
-
-uint8_t ADM_AudiocodecDCA::beginDecompress( void )
-{
-    return 1;
-}
-
-uint8_t ADM_AudiocodecDCA::endDecompress( void )
-{
-    return 1;
-}
-
-uint8_t ADM_AudiocodecDCA::run(uint8_t *inptr, uint32_t nbIn, float *outptr, uint32_t *nbOut)
-{
-    uint32_t avail;
-    uint32_t length,syncoff;
-    int flags = 0, samprate = 0, bitrate = 0, frame_length;
-    uint8_t chan = _wavHeader-&gt;channels;
-    *nbOut=0;
-
-
-    //  Ready to decode
-    while(nbIn)
-    {
-        if(nbIn&lt;DTS_HEADER_SIZE)
-        {
-            if(nbIn)
-                printf(&quot;[DTS]: no data to decode avail %u\n&quot;,nbIn);
-            break;
-        }
-        //length = ADM_DCAGetInfo(ptr,nbIn, &amp;samprate, &amp;bitrate, &amp;chan,&amp;syncoff,&amp;flags);
-        length = dca-&gt;dts_syncinfo_ (DTS_HANDLE,  inptr, &amp;flags, &amp;samprate,&amp;bitrate, &amp;frame_length);
-
-        if(!length)
-        {
-            printf(&quot;[DTS] dts_syncinfo failed\n&quot;);
-            ADM_assert(0); 
-        }
-        if(length&gt;nbIn)
-        {
-            // not enough data
-            break;
-        }
-
-	if (ch_route.mode &lt; 1) {
-		CHANNEL_TYPE *p_ch_type = ch_route.input_type;
-		switch (flags &amp; DTS_CHANNEL_MASK) {
-			case DTS_MONO:
-				*(p_ch_type++) = CH_MONO;
-			break;
-			case DTS_STEREO:
-			case DTS_DOLBY:
-				*(p_ch_type++) = CH_FRONT_LEFT;
-				*(p_ch_type++) = CH_FRONT_RIGHT;
-			break;
-			case DTS_3F:
-				*(p_ch_type++) = CH_FRONT_CENTER;
-				*(p_ch_type++) = CH_FRONT_LEFT;
-				*(p_ch_type++) = CH_FRONT_RIGHT;
-			break;
-			case DTS_2F1R:
-				*(p_ch_type++) = CH_FRONT_LEFT;
-				*(p_ch_type++) = CH_FRONT_RIGHT;
-				*(p_ch_type++) = CH_REAR_CENTER;
-			break;
-			case DTS_3F1R:
-				*(p_ch_type++) = CH_FRONT_CENTER;
-				*(p_ch_type++) = CH_FRONT_LEFT;
-				*(p_ch_type++) = CH_FRONT_RIGHT;
-				*(p_ch_type++) = CH_REAR_CENTER;
-			break;
-			case DTS_2F2R:
-				*(p_ch_type++) = CH_FRONT_LEFT;
-				*(p_ch_type++) = CH_FRONT_RIGHT;
-				*(p_ch_type++) = CH_REAR_LEFT;
-				*(p_ch_type++) = CH_REAR_RIGHT;
-			break;
-			case DTS_3F2R:
-				*(p_ch_type++) = CH_FRONT_CENTER;
-				*(p_ch_type++) = CH_FRONT_LEFT;
-				*(p_ch_type++) = CH_FRONT_RIGHT;
-				*(p_ch_type++) = CH_REAR_LEFT;
-				*(p_ch_type++) = CH_REAR_RIGHT;
-			break;
-			default:
-				ADM_assert(0);
-		}
-		if (flags &amp; DTS_LFE) {
-			*(p_ch_type++) = CH_LFE;
-		}
-	}
-
-        sample_t level = 1, bias = 0;
-        flags &amp;=DTS_CHANNEL_MASK;
-        flags |= DTS_ADJUST_LEVEL;
-
-        if (dca-&gt;dts_frame_(DTS_HANDLE, inptr, &amp;flags, &amp;level, bias))
-        {
-            printf(&quot;\n DTS_frame failed!&quot;);
-            inptr+=length;
-            nbIn-=length;
-            outptr+=256*chan;
-            *nbOut+=256*chan;
-            break;
-        };
-
-        inptr+=length;
-        nbIn-=length;
-        // Each block is 256 samples
-        *nbOut += 256 * chan * dca-&gt;dts_blocks_num_(DTS_HANDLE);
-	float *cur;
-	for (int i = 0; i &lt; dca-&gt;dts_blocks_num_(DTS_HANDLE); i++) {
-		if (dca-&gt;dts_block_ (DTS_HANDLE)) {
-			printf(&quot;\n[DTS] dts_block failed on block %d/%d\n&quot;,i,dca-&gt;dts_blocks_num_ (DTS_HANDLE));
-			// in that case we silent out the chunk
-			memset(outptr, 0, 256 * chan * sizeof(float));
-		} else {
-			float *cur;
-			for (int k = 0; k &lt; chan; k++) {
-				sample_t *sample=(sample_t *)dca-&gt;dts_samples_(DTS_HANDLE);
-				sample += 256 * k;
-				cur = outptr + k;
-				for (int j = 0; j &lt; 256; j++) {
-					*cur = *sample++;
-					cur+=chan;
-				}
-			}
-		}
-		outptr += chan * 256;
-	}
-    }
-
-    return 1; 
-}
-
-#endif

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiocodec/ADM_pluginLoad.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiocodec/ADM_pluginLoad.cpp	2008-04-10 17:59:45 UTC (rev 3974)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiocodec/ADM_pluginLoad.cpp	2008-04-10 23:44:37 UTC (rev 3975)
@@ -21,6 +21,7 @@
 #include &quot;DIA_fileSel.h&quot;
 #include &quot;ADM_dynamicLoading.h&quot;
 #include &lt;vector&gt;
+
 #if 1
 #define aprintf printf
 #else
@@ -30,17 +31,27 @@
 /**
  * 
  */
-class ADM_ad_plugin
+class ADM_ad_plugin : public ADM_LibWrapper
 {
-public:
-	ADM_ad_CreateFunction		*create;
-	ADM_ad_DeleteFunction		*destroy;
-	ADM_ad_SupportedFormat		*supportedFormat;
-	ADM_ad_GetApiVersion		*getApiVersion;
-	ADM_ad_GetDecoderVersion	*getDecoderVersion;
-	ADM_ADM_ad_GetInfo			*getInfo;
-	ADM_LibWrapper				*wrapper;
-	const char 					*name;
+	public:
+		ADM_ad_CreateFunction		*create;
+		ADM_ad_DeleteFunction		*destroy;
+		ADM_ad_SupportedFormat		*supportedFormat;
+		ADM_ad_GetApiVersion		*getApiVersion;
+		ADM_ad_GetDecoderVersion	*getDecoderVersion;
+		ADM_ADM_ad_GetInfo			*getInfo;
+		const char 					*name;
+
+		ADM_ad_plugin(const char *file) : ADM_LibWrapper()
+		{
+			initialised = (loadLibrary(file) &amp;&amp; getSymbols(6,
+				&amp;create, &quot;create&quot;,
+				&amp;destroy, &quot;destroy&quot;,
+				&amp;supportedFormat, &quot;supportedFormat&quot;,
+				&amp;getApiVersion, &quot;getApiVersion&quot;,
+				&amp;getDecoderVersion, &quot;getDecoderVersion&quot;,
+				&amp;getInfo, &quot;getInfo&quot;));
+		};
 };
 
 std::vector&lt;ADM_ad_plugin *&gt; ADM_audioPlugins;
@@ -50,51 +61,38 @@
  */
 static uint8_t tryLoadingAudioPlugin(const char *file)
 {
-	ADM_ad_plugin blank;
-	//printf(&quot;[ADM_ad_plugin] Scanning %s\n&quot;,ADM_GetFileName(file));
-	ADM_LibWrapper *wrapper=new ADM_LibWrapper;
-	 if(true!=wrapper-&gt;loadLibrary(file))
-	 {
-		 printf(&quot;[ADM_ad_plugin] LoadLibrary failed for %s\n&quot;,ADM_GetFileName(file));
-		 goto Err_ad;
-	 }
-#define FUNCKY(a,b,c)	 blank.a=(b *)wrapper-&gt;getSymbol(#c); if(!blank.a) { printf(&quot;[ADM_ad_plugin]&quot;#c&quot; failed\n&quot;); goto Err_ad;;}
-	 FUNCKY(create,ADM_ad_CreateFunction,create);
-	 FUNCKY(destroy,ADM_ad_DeleteFunction,destroy);
-	 FUNCKY(supportedFormat,ADM_ad_SupportedFormat,supportedFormat);
-	 FUNCKY(getApiVersion,ADM_ad_GetApiVersion,getApiVersion);
-	 FUNCKY(getDecoderVersion,ADM_ad_GetDecoderVersion,getDecoderVersion);
-	 FUNCKY(getInfo,ADM_ADM_ad_GetInfo,getInfo);
-	 
-	 // Check API version
-	 if(blank.getApiVersion()!=AD_API_VERSION)
-	 {
-		 	printf(&quot;[ADM_ad_plugin] File %s has API version too old (%d vs %d)\n&quot;,
-		 			ADM_GetFileName(file),ADM_GetFileName(file),AD_API_VERSION);
-		 	 goto Err_ad;
-	 }
-	 // Get infos
-	 uint32_t major,minor,patch;
-	 const char *desc;
-	 blank.getDecoderVersion(&amp;major,&amp;minor,&amp;patch);
-	 blank.wrapper=wrapper;
-	 blank.name=ADM_strdup(ADM_GetFileName(file));
-	 desc=blank.getInfo();
-	 // Print out stuff
-	 printf(&quot;[ADM_ad_plugin] Plugin loaded version %d.%d.%d, name %s,desc : %s &quot;,
-			 		major,minor,patch,blank.name,desc);
-	 
-	 //
-	 {
-		 ADM_ad_plugin *p=new ADM_ad_plugin;
-		 *p=blank;
-		 ADM_audioPlugins.push_back(p);
-	 }
-	 return 1;
+	ADM_ad_plugin *plugin = new ADM_ad_plugin(file);
+
+	if (!plugin-&gt;isAvailable())
+	{
+		printf(&quot;[ADM_ad_plugin] Unable to load %s\n&quot;, ADM_GetFileName(file));
+		goto Err_ad;
+	}
+
+	// Check API version
+	if (plugin-&gt;getApiVersion() != AD_API_VERSION)
+	{
+		printf(&quot;[ADM_ad_plugin] File %s has API version too old (%d vs %d)\n&quot;,
+			ADM_GetFileName(file), ADM_GetFileName(file), AD_API_VERSION);
+		goto Err_ad;
+	}
+
+	// Get infos
+	uint32_t major, minor, patch;
+
+	plugin-&gt;getDecoderVersion(&amp;major, &amp;minor, &amp;patch);
+	plugin-&gt;name = ADM_strdup(ADM_GetFileName(file));
+
+	printf(&quot;[ADM_ad_plugin] Plugin loaded version %d.%d.%d, name %s, desc: %s\n&quot;,
+		major, minor, patch, plugin-&gt;name, plugin-&gt;getInfo());
+
+	ADM_audioPlugins.push_back(plugin);
+
+	return 1;
+
 Err_ad:
-	delete wrapper;
+	delete plugin;
 	return 0;
-	
 }
 /**
  * 	\fn ADM_ad_loadPlugins

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/include/ADM_dynamicLoading.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/include/ADM_dynamicLoading.h	2008-04-10 17:59:45 UTC (rev 3974)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/include/ADM_dynamicLoading.h	2008-04-10 23:44:37 UTC (rev 3975)
@@ -26,7 +26,7 @@
 	#ifdef __WIN32
 		virtual char* formatMessage(uint32_t msgCode);
 	#endif
-public:
+
 		ADM_LibWrapper();
 		virtual ~ADM_LibWrapper();		
 		virtual bool loadLibrary(const char* path);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_dynamicLoading.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_dynamicLoading.cpp	2008-04-10 17:59:45 UTC (rev 3974)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_dynamicLoading.cpp	2008-04-10 23:44:37 UTC (rev 3975)
@@ -16,6 +16,7 @@
 
 #include &lt;stdlib.h&gt;
 #include &lt;stdio.h&gt;
+#include &lt;stdarg.h&gt;
 
 #ifdef __WIN32
 #include &lt;windows.h&gt;
@@ -135,7 +136,6 @@
 
 bool ADM_LibWrapper::getSymbols(int symCount, ...)
 {
-#ifdef __WIN32
     va_list va;
     va_start(va, symCount);
 
@@ -159,5 +159,4 @@
 
     va_end(va);
     return true;
-#endif
 }

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/CMakeLists.txt	2008-04-10 17:59:45 UTC (rev 3974)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/CMakeLists.txt	2008-04-10 23:44:37 UTC (rev 3975)
@@ -6,7 +6,7 @@
 ADD_TARGET_DEFINITIONS(ADM_core ADM_DEBUG FIND_LEAKS)
 
 IF (MINGW)
-	TARGET_LINK_LIBRARIES(ADM_core &quot;${PTHREAD_LIBRARIES}&quot; imagehlp wsock32)
+	TARGET_LINK_LIBRARIES(ADM_core &quot;${PTHREAD_LIBRARIES}&quot; imagehlp ws2_32)
 	ADD_TARGET_CFLAGS(ADM_core &quot;-I${PTHREAD_INCLUDE_DIR}&quot;)
 ELSEIF (APPLE)
 	ADD_TARGET_LDFLAGS(ADM_core &quot;-framework Carbon&quot;)

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/ADM_videocodeclist.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/ADM_videocodeclist.h	2008-04-10 17:59:45 UTC (rev 3974)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/ADM_videocodeclist.h	2008-04-10 23:44:37 UTC (rev 3975)
@@ -1,45 +0,0 @@
-#if 0				//ndef ADM_VODEC_L
-#define ADM_VODEC_L
-
-typedef struct codecEnumByName
-{
-  SelectCodecType type;
-  const char *displayName;
-  const char *name;
-} codecEnumByName;
-
-static const codecEnumByName mycodec[] = {
-  {CodecCopy, &quot;Copy&quot;, &quot;Copy&quot;},
-#ifdef USE_DIVX
-  {CodecDivx, &quot;Divx&quot;, &quot;Divx&quot;},
-#endif
-#ifdef USE_XX_XVID
-  {CodecXvid, &quot;Xvid&quot;, &quot;Xvid&quot;},
-#endif
-
-#ifdef USE_XVID_4
-  {CodecXvid4, &quot;Xvid4&quot;, &quot;Xvid4&quot;},
-#endif
-  {CodecMjpeg, &quot;MJpeg&quot;, &quot;Mjpeg&quot;},
-#ifdef USE_MJPEG
-  {CodecVCD, &quot;VCD&quot;, &quot;VCD&quot;},
-  {CodecSVCD, &quot;SVCD&quot;, &quot;SVCD&quot;},
-  {CodecDVD, &quot;DVD&quot;, &quot;DVD&quot;},
-#endif
-  {CodecXVCD, &quot;XVCD&quot;, &quot;XVCD&quot;},
-  {CodecXSVCD, &quot;SVCD (lavc)&quot;, &quot;XSVCD&quot;},
-  {CodecXDVD, &quot;DVD (lavc)&quot;, &quot;XDVD&quot;},
-  {CodecFF, &quot;Lav Mpeg4&quot;, &quot;FFmpeg4&quot;},
-  {CodecH263, &quot;H263&quot;, &quot;H263&quot;},
-  {CodecFFhuff, &quot;FF Huffyuv&quot;, &quot;FFHUFF&quot;},
-  {CodecH263P, &quot;H263+&quot;, &quot;H263+&quot;},
-  {CodecHuff, &quot;Huffyuv&quot;, &quot;Huffyuv&quot;},
-  {CodecFFV1, &quot;FFV1&quot;, &quot;FFV1&quot;},
-#ifdef USE_X264
-  {CodecX264, &quot;X264&quot;, &quot;X264&quot;},
-#endif
-  {CodecSnow, &quot;Snow&quot;, &quot;Snow&quot;}
-};
-
-
-#endif

Modified: branches/avidemux_2.5_branch_gruntster/cmake/FindThreads.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/FindThreads.cmake	2008-04-10 17:59:45 UTC (rev 3974)
+++ branches/avidemux_2.5_branch_gruntster/cmake/FindThreads.cmake	2008-04-10 23:44:37 UTC (rev 3975)
@@ -24,6 +24,10 @@
 
 	IF (NOT PTHREAD_LIBRARIES AND WIN32)
 		FIND_LIBRARY(PTHREAD_LIBRARIES &quot;pthreadGC2&quot;)
+		
+		IF (NOT PTHREAD_LIBRARIES)
+			FIND_LIBRARY(PTHREAD_LIBRARIES &quot;pthreadVC2&quot;)
+		ENDIF (NOT PTHREAD_LIBRARIES)
 	ENDIF (NOT PTHREAD_LIBRARIES AND WIN32)
 
 	IF (NOT PTHREAD_LIBRARIES)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001236.html">[Avidemux-svn-commit] r3974 -	branches/avidemux_2.4_branch/avidemux/ADM_encoder
</A></li>
	<LI>Next message: <A HREF="001238.html">[Avidemux-svn-commit] r3976 - in	branches/avidemux_2.5_branch_gruntster/avidemux: . ADM_codecs	ADM_core/include ADM_coreUI/include ADM_coreUI/src	ADM_inputs/ADM_mp4 ADM_script ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory	ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_NONE/ADM_gui2	ADM_userInterfaces/ADM_QT4/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialogFactory	ADM_userInterfaces/ADM_QT4/ADM_gui
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1237">[ date ]</a>
              <a href="thread.html#1237">[ thread ]</a>
              <a href="subject.html#1237">[ subject ]</a>
              <a href="author.html#1237">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
