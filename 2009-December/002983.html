<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r5776 - in	branches/avidemux_2.5_branch_gruntster/avidemux: .	ADM_libraries/ADM_utilities ADM_userInterfaces/ADM_commonUI
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2009-December/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r5776%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster/avidemux%3A%20.%0A%09ADM_libraries/ADM_utilities%20ADM_userInterfaces/ADM_commonUI&In-Reply-To=%3C200912301314.nBUDEVYe028427%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002982.html">
   <LINK REL="Next"  HREF="002984.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r5776 - in	branches/avidemux_2.5_branch_gruntster/avidemux: .	ADM_libraries/ADM_utilities ADM_userInterfaces/ADM_commonUI</H1>
    <B>gruntster at mail.berlios.de</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r5776%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster/avidemux%3A%20.%0A%09ADM_libraries/ADM_utilities%20ADM_userInterfaces/ADM_commonUI&In-Reply-To=%3C200912301314.nBUDEVYe028427%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r5776 - in	branches/avidemux_2.5_branch_gruntster/avidemux: .	ADM_libraries/ADM_utilities ADM_userInterfaces/ADM_commonUI">gruntster at mail.berlios.de
       </A><BR>
    <I>Wed Dec 30 14:14:31 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002982.html">[Avidemux-svn-commit] r5775 -	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui
</A></li>
        <LI>Next message: <A HREF="002984.html">[Avidemux-svn-commit] r5777 -	branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_avcodec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2983">[ date ]</a>
              <a href="thread.html#2983">[ thread ]</a>
              <a href="subject.html#2983">[ subject ]</a>
              <a href="author.html#2983">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: gruntster
Date: 2009-12-30 14:14:26 +0100 (Wed, 30 Dec 2009)
New Revision: 5776

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_utilities/prefs.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/prefs.h
   branches/avidemux_2.5_branch_gruntster/avidemux/prefs.in
Log:
[pref] remove unnecessary external filter options from preferences window

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_utilities/prefs.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_utilities/prefs.cpp	2009-12-29 22:43:02 UTC (rev 5775)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_utilities/prefs.cpp	2009-12-30 13:14:26 UTC (rev 5776)
@@ -133,8 +133,6 @@
 	{&quot;feature.auto_rebuildindex&quot;,		UINT,	&quot;0&quot;,	NULL,	&quot;0&quot;,	&quot;1&quot;	},
 	{&quot;feature.auto_unpack&quot;,		UINT,	&quot;0&quot;,	NULL,	&quot;0&quot;,	&quot;1&quot;	},
 	{&quot;downmixing.prologic&quot;,		UINT,	&quot;2&quot;,	NULL,	&quot;0&quot;,	&quot;2&quot;	},
-	{&quot;filters.autoload.path&quot;,		STRING,&quot;/tmp/&quot;,NULL, NULL, NULL },
-	{&quot;filters.autoload.active&quot;,		UINT,	&quot;0&quot;,	NULL,	&quot;0&quot;,	&quot;1&quot;	},
 	{&quot;feature.alternate_mp3_tag&quot;,		UINT,	&quot;1&quot;,	NULL,	&quot;0&quot;,	&quot;1&quot;	},
 	{&quot;feature.global_glyph.active&quot;,		UINT,	&quot;1&quot;,	NULL,	&quot;0&quot;,	&quot;1&quot;	},
 	{&quot;feature.global_glyph.name&quot;,		STRING,&quot;&quot;,	NULL, NULL, NULL },
@@ -143,7 +141,7 @@
 	{&quot;priority.playback&quot;,		UINT,	&quot;0&quot;,	NULL,	&quot;0&quot;,	&quot;4&quot;	}
 };
 
-int num_opts = 79;
+int num_opts = 77;
 // &lt;/prefs_gen&gt;
 
 #ifdef USE_LIBXML2

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp	2009-12-29 22:43:02 UTC (rev 5775)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp	2009-12-30 13:14:26 UTC (rev 5776)
@@ -57,9 +57,7 @@
 uint32_t downmix;
 uint32_t mpeg_no_limit=0;
 uint32_t msglevel=2;
-uint32_t activeXfilter=0;
 uint32_t mixer=0;
-char     *filterPath=NULL;
 char     *alsaDevice=NULL;
 uint32_t autovbr=0;
 uint32_t autoindex=0;
@@ -162,8 +160,6 @@
                 useNuv=0;
         // Get level of message verbosity
         prefs-&gt;get(MESSAGE_LEVEL,&amp;msglevel);
-        // External filter
-         prefs-&gt;get(FILTERS_AUTOLOAD_ACTIVE,&amp;activeXfilter);
         // Downmix default
         if(prefs-&gt;get(DOWNMIXING_PROLOGIC,&amp;downmix)!=RC_OK)
         {       
@@ -306,17 +302,6 @@
      framePP.swallow(&amp;fdring);
      framePP.swallow(&amp;postProcStrength);
      
-        // Filter path
-        if( prefs-&gt;get(FILTERS_AUTOLOAD_PATH, &amp;filterPath) != RC_OK )
-#ifndef __WIN32
-               filterPath = ADM_strdup(&quot;/tmp&quot;);
-#else
-               filterPath = ADM_strdup(&quot;c:\\&quot;);
-#endif
-        diaElemDirSelect  entryFilterPath(&amp;filterPath,QT_TR_NOOP(&quot;_Filter directory:&quot;),QT_TR_NOOP(&quot;Select filter directory&quot;));
-		diaElemToggle loadEx(&amp;activeXfilter,QT_TR_NOOP(&quot;_Load external filters&quot;));
-		loadEx.link(1, &amp;entryFilterPath);
-
 		diaElemToggle togGlobalGlyph(&amp;useGlobalGlyph, QT_TR_NOOP(&quot;Use _Global GlyphSet&quot;));
 		diaElemFile  entryGLyphPath(0,&amp;globalGlyphName,QT_TR_NOOP(&quot;Gl_yphSet:&quot;), NULL, QT_TR_NOOP(&quot;Select GlyphSet file&quot;));
 		togGlobalGlyph.link(1, &amp;entryGLyphPath);
@@ -369,13 +354,9 @@
         diaElem *diaGlyph[]={&amp;togGlobalGlyph,&amp;entryGLyphPath};
         diaElemTabs tabGlyph(QT_TR_NOOP(&quot;Global GlyphSet&quot;),2,(diaElem **)diaGlyph);
 
-        /* Xfilter tab */
-        diaElem *diaXFilter[]={&amp;loadEx,&amp;entryFilterPath};
-        diaElemTabs tabXfilter(QT_TR_NOOP(&quot;External Filters&quot;),2,(diaElem **)diaXFilter);
-                                    
 // SET
-        diaElemTabs *tabs[]={&amp;tabUser,&amp;tabAuto,&amp;tabInput,&amp;tabOutput,&amp;tabAudio,&amp;tabVideo,&amp;tabCpu,&amp;tabThreading,&amp;tabGlyph,&amp;tabXfilter};
-        if( diaFactoryRunTabs(QT_TR_NOOP(&quot;Preferences&quot;),10,tabs))
+        diaElemTabs *tabs[]={&amp;tabUser,&amp;tabAuto,&amp;tabInput,&amp;tabOutput,&amp;tabAudio,&amp;tabVideo,&amp;tabCpu,&amp;tabThreading,&amp;tabGlyph};
+        if( diaFactoryRunTabs(QT_TR_NOOP(&quot;Preferences&quot;),9,tabs))
 	{
         	
         	// cpu caps
@@ -465,11 +446,7 @@
                 prefs-&gt;set(FEATURE_DISABLE_NUV_RESYNC, useNuv);
                 // Use tray while encoding
                 prefs-&gt;set(FEATURE_USE_SYSTRAY,useTray);
-                // Filter directory
-				prefs-&gt;set(FILTERS_AUTOLOAD_ACTIVE, activeXfilter);
 
-                if(filterPath)
-                  prefs-&gt;set(FILTERS_AUTOLOAD_PATH, filterPath);
                 // Alternate mp3 tag (haali)
                 prefs-&gt;set(FEATURE_ALTERNATE_MP3_TAG,alternate_mp3_tag);
 
@@ -484,7 +461,6 @@
             delete audioDeviceItems[i];
         }
 
-	ADM_dealloc(filterPath);
 	ADM_dealloc(globalGlyphName);
 
 	return 1;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/prefs.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/prefs.h	2009-12-29 22:43:02 UTC (rev 5775)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/prefs.h	2009-12-30 13:14:26 UTC (rev 5776)
@@ -79,8 +79,6 @@
 	FEATURE_AUTO_REBUILDINDEX,
 	FEATURE_AUTO_UNPACK,
 	DOWNMIXING_PROLOGIC,
-	FILTERS_AUTOLOAD_PATH,
-	FILTERS_AUTOLOAD_ACTIVE,
 	FEATURE_ALTERNATE_MP3_TAG,
 	FEATURE_GLOBAL_GLYPH_ACTIVE,
 	FEATURE_GLOBAL_GLYPH_NAME,

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/prefs.in
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/prefs.in	2009-12-29 22:43:02 UTC (rev 5775)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/prefs.in	2009-12-30 13:14:26 UTC (rev 5776)
@@ -96,8 +96,6 @@
 feature.auto_unpack,                    UINT,   0,      0,      1
 # prologic 1/2
 downmixing.prologic,			UINT,	2,	0,	2
-filters.autoload.path,                  STRING, &quot;/tmp/&quot;
-filters.autoload.active,                UINT,   0,      0,      1
 feature.alternate_mp3_tag,              UINT,   1,      0,      1
 # Global glyphset file
 feature.global_glyph.active,            UINT,   1,      0,      1


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002982.html">[Avidemux-svn-commit] r5775 -	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui
</A></li>
	<LI>Next message: <A HREF="002984.html">[Avidemux-svn-commit] r5777 -	branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_avcodec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2983">[ date ]</a>
              <a href="thread.html#2983">[ thread ]</a>
              <a href="subject.html#2983">[ subject ]</a>
              <a href="author.html#2983">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
