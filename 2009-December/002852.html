<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r5643 -	branches/avidemux_2.6_branch_mean/avidemux_core/ADM_smjs
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2009-December/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r5643%20-%0A%09branches/avidemux_2.6_branch_mean/avidemux_core/ADM_smjs&In-Reply-To=%3C200912111014.nBBAEQR6024172%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002850.html">
   <LINK REL="Next"  HREF="002851.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r5643 -	branches/avidemux_2.6_branch_mean/avidemux_core/ADM_smjs</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r5643%20-%0A%09branches/avidemux_2.6_branch_mean/avidemux_core/ADM_smjs&In-Reply-To=%3C200912111014.nBBAEQR6024172%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r5643 -	branches/avidemux_2.6_branch_mean/avidemux_core/ADM_smjs">mean at mail.berlios.de
       </A><BR>
    <I>Fri Dec 11 11:14:26 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002850.html">[Avidemux-svn-commit] r5642 -	branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src
</A></li>
        <LI>Next message: <A HREF="002851.html">[Avidemux-svn-commit] r5644 -	branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2852">[ date ]</a>
              <a href="thread.html#2852">[ thread ]</a>
              <a href="subject.html#2852">[ subject ]</a>
              <a href="author.html#2852">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2009-12-11 11:14:25 +0100 (Fri, 11 Dec 2009)
New Revision: 5643

Modified:
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_smjs/jsautocfg.h
Log:
[js] 32/64 bits setup

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_smjs/jsautocfg.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_smjs/jsautocfg.h	2009-12-11 10:14:24 UTC (rev 5642)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_smjs/jsautocfg.h	2009-12-11 10:14:25 UTC (rev 5643)
@@ -1,19 +1,15 @@
-#ifndef js_autocfg___
-#define js_autocfg___
+#ifndef js_cpucfg___
+#define js_cpucfg___
 
 /* AUTOMATICALLY GENERATED - DO NOT EDIT */
-#include &quot;ADM_coreConfig.h&quot;
-
-
 #ifdef ADM_BIG_ENDIAN
 #undef   IS_LITTLE_ENDIAN 
-#define  IS_BIG_ENDIAN 1
+#define  IS_BIG_ENDIAN   1
 #else
 #define IS_LITTLE_ENDIAN 1
 #undef  IS_BIG_ENDIAN
 #endif
 
-
 #define JS_BYTES_PER_BYTE   1L
 #define JS_BYTES_PER_SHORT  2L
 #define JS_BYTES_PER_INT    4L
@@ -25,31 +21,9 @@
 #ifdef ADM_CPU_64BIT
 #define JS_BYTES_PER_LONG   8L
 #define JS_BYTES_PER_WORD   8L
-#define JS_BITS_PER_LONG    64L
-#define JS_BITS_PER_WORD    64L
-#define JS_BITS_PER_LONG_LOG2   6L
-#define JS_BITS_PER_WORD_LOG2   6L
-#define JS_ALIGN_OF_LONG    8L
-#define JS_ALIGN_OF_INT64   8L
-#define JS_ALIGN_OF_DOUBLE  8L
-#define JS_ALIGN_OF_POINTER 8L
-#define JS_ALIGN_OF_WORD    8L
-
-
-#else // 32bits
+#else
 #define JS_BYTES_PER_LONG   4L
 #define JS_BYTES_PER_WORD   4L
-#define JS_BITS_PER_LONG    32L
-#define JS_BITS_PER_WORD    32L
-#define JS_BITS_PER_LONG_LOG2   5L
-#define JS_BITS_PER_WORD_LOG2   5L
-
-#define JS_ALIGN_OF_LONG    4L
-#define JS_ALIGN_OF_INT64   4L
-#define JS_ALIGN_OF_DOUBLE  4L
-#define JS_ALIGN_OF_POINTER 4L
-#define JS_ALIGN_OF_WORD    4L
-
 #endif
 
 #define JS_BITS_PER_BYTE    8L
@@ -59,6 +33,14 @@
 #define JS_BITS_PER_FLOAT   32L
 #define JS_BITS_PER_DOUBLE  64L
 
+#ifdef ADM_CPU_64BIT
+#define JS_BITS_PER_WORD    64L
+#define JS_BITS_PER_LONG    64L
+#else
+#define JS_BITS_PER_WORD    32L
+#define JS_BITS_PER_LONG    32L
+#endif
+
 #define JS_BITS_PER_BYTE_LOG2   3L
 #define JS_BITS_PER_SHORT_LOG2  4L
 #define JS_BITS_PER_INT_LOG2    5L
@@ -66,14 +48,39 @@
 #define JS_BITS_PER_FLOAT_LOG2  5L
 #define JS_BITS_PER_DOUBLE_LOG2 6L
 
+#ifdef ADM_CPU_64BIT
+#define JS_BITS_PER_WORD_LOG2   6L
+#define JS_BITS_PER_LONG_LOG2   6L
+#else
+#define JS_BITS_PER_WORD_LOG2   5L
+#define JS_BITS_PER_LONG_LOG2   5L
+#endif
+
+#define JS_ALIGN_OF_FLOAT   4L
 #define JS_ALIGN_OF_SHORT   2L
 #define JS_ALIGN_OF_INT     4L
-#define JS_ALIGN_OF_FLOAT   4L
 
+#ifdef ADM_CPU_64BIT
+#define ADM_ALIGN               8L
+#else
+#define ADM_ALIGN               4L
+#endif
+
+#define JS_ALIGN_OF_LONG    ADM_ALIGN
+#define JS_ALIGN_OF_INT64   ADM_ALIGN
+#define JS_ALIGN_OF_DOUBLE  ADM_ALIGN
+#define JS_ALIGN_OF_POINTER ADM_ALIGN
+#define JS_ALIGN_OF_WORD    ADM_ALIGN
+
+#ifdef ADM_CPU_64BIT
+#define JS_BYTES_PER_WORD_LOG2   3L
+#define JS_BYTES_PER_DWORD_LOG2  3L
+#define JS_WORDS_PER_DWORD_LOG2  0L
+#else
 #define JS_BYTES_PER_WORD_LOG2   2L
 #define JS_BYTES_PER_DWORD_LOG2  3L
 #define JS_WORDS_PER_DWORD_LOG2  1L
-
+#endif
 #define JS_STACK_GROWTH_DIRECTION (-1)
 
 #endif /* js_cpucfg___ */


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002850.html">[Avidemux-svn-commit] r5642 -	branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src
</A></li>
	<LI>Next message: <A HREF="002851.html">[Avidemux-svn-commit] r5644 -	branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2852">[ date ]</a>
              <a href="thread.html#2852">[ thread ]</a>
              <a href="subject.html#2852">[ subject ]</a>
              <a href="author.html#2852">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
