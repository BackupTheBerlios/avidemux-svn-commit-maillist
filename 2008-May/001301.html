<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r4044 - in	branches/avidemux_2.5_branch_gruntster/avidemux:	ADM_userInterfaces/ADM_QT4/ADM_dialog	plugins/ADM_videoFilters/AvisynthResize/qt4	plugins/ADM_videoFilters/MplayerResize/qt4
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2008-May/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4044%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster/avidemux%3A%0A%09ADM_userInterfaces/ADM_QT4/ADM_dialog%0A%09plugins/ADM_videoFilters/AvisynthResize/qt4%0A%09plugins/ADM_videoFilters/MplayerResize/qt4&In-Reply-To=%3C200805181802.m4II2k7A021474%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001300.html">
   <LINK REL="Next"  HREF="001302.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r4044 - in	branches/avidemux_2.5_branch_gruntster/avidemux:	ADM_userInterfaces/ADM_QT4/ADM_dialog	plugins/ADM_videoFilters/AvisynthResize/qt4	plugins/ADM_videoFilters/MplayerResize/qt4</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4044%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster/avidemux%3A%0A%09ADM_userInterfaces/ADM_QT4/ADM_dialog%0A%09plugins/ADM_videoFilters/AvisynthResize/qt4%0A%09plugins/ADM_videoFilters/MplayerResize/qt4&In-Reply-To=%3C200805181802.m4II2k7A021474%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r4044 - in	branches/avidemux_2.5_branch_gruntster/avidemux:	ADM_userInterfaces/ADM_QT4/ADM_dialog	plugins/ADM_videoFilters/AvisynthResize/qt4	plugins/ADM_videoFilters/MplayerResize/qt4">mean at mail.berlios.de
       </A><BR>
    <I>Sun May 18 20:02:46 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001300.html">[Avidemux-svn-commit] r4043 - in	branches/avidemux_2.5_branch_gruntster:	avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog	avidemux/plugins/ADM_videoFilters/AvisynthResize	avidemux/plugins/ADM_videoFilters/AvisynthResize/gtk	avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4	avidemux/plugins/ADM_videoFilters/MplayerResize	avidemux/plugins/ADM_videoFilters/MplayerResize/qt4 cmake
</A></li>
        <LI>Next message: <A HREF="001302.html">[Avidemux-svn-commit] r4045 - in	branches/avidemux_2.5_branch_gruntster/avidemux: ADM_editor	ADM_encoder ADM_script plugins/ADM_videoEncoder/ADM_vidEnc_x264	plugins/ADM_videoEncoder/ADM_vidEnc_x264/qt4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1301">[ date ]</a>
              <a href="thread.html#1301">[ thread ]</a>
              <a href="subject.html#1301">[ subject ]</a>
              <a href="author.html#1301">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2008-05-18 20:02:45 +0200 (Sun, 18 May 2008)
New Revision: 4044

Added:
   branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resizing.h
   branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resizing.h
Removed:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.h
Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt
Log:
[Merge]


Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt	2008-05-18 17:52:35 UTC (rev 4043)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt	2008-05-18 18:02:45 UTC (rev 4044)
@@ -2,11 +2,11 @@
 
 SET(uiFiles
 	about.ui  asharp.ui  chromashift.ui  contrast.ui  eq2.ui  crop.ui  encoding.ui  hue.ui  license.ui
-	jobs.ui  props.ui  resizing.ui  vobsub.ui  working.ui)
+	jobs.ui  props.ui    vobsub.ui  working.ui)
 
 SET(headers
 	Q_about.h  Q_asharp.h  Q_chromashift.h  Q_contrast.h  Q_crop.h  Q_encoding.h  Q_eq2.h  Q_hue.h
-	Q_license.h  Q_jobs.h  Q_props.h  Q_resizing.h  Q_vobsub.h  Q_working.h  T_index_pg.h)
+	Q_license.h  Q_jobs.h  Q_props.h    Q_vobsub.h  Q_working.h  T_index_pg.h)
 
 IF (USE_FREETYPE)
 	SET(uiFiles ${uiFiles} srt.ui)
@@ -21,9 +21,9 @@
 SET(${ADM_LIB}_SRCS ${${ADM_LIB}_SRCS}
 	${${ADM_LIB}_headers}  ${${ADM_LIB}_source}  ${${ADM_LIB}_resource}  Q_about.cpp  Q_asharp.cpp
 	Q_chromashift.cpp  Q_contrast.cpp  Q_crop.cpp  Q_encoding.cpp  Q_eq2.cpp  Q_hue.cpp  Q_license.cpp
-	Q_jobs.cpp  Q_props.cpp  Q_resizing.cpp  Q_vobsub.cpp  Q_working.cpp  T_flyDialog.cpp  T_index_pg.cpp
+	Q_jobs.cpp  Q_props.cpp   Q_vobsub.cpp  Q_working.cpp  T_flyDialog.cpp  T_index_pg.cpp
 	T_QCanvas.cpp  alert_qt4.cpp  DIA_busy.cpp  DIA_none.cpp  DIA_xvid4.cpp  OCR_none.cpp)
 
 ADD_DEFINITIONS(-DADM_SUBVERSION=${ADM_SUBVERSION})
 INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR})
-ADD_ADM_LIB_QT4_TARGET(${ADM_LIB} ${${ADM_LIB}_SRCS})
\ No newline at end of file
+ADD_ADM_LIB_QT4_TARGET(${ADM_LIB} ${${ADM_LIB}_SRCS})

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp	2008-05-18 17:52:35 UTC (rev 4043)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp	2008-05-18 18:02:45 UTC (rev 4044)
@@ -1,150 +0,0 @@
-/***************************************************************************
-    copyright            : (C) 2001 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include &lt;math.h&gt;
-
-#include &quot;Q_resizing.h&quot;
-
-static double aspectRatio[2][3]={
-                              {1.,0.888888,1.19}, // NTSC 1:1 4:3 16:9
-                              {1.,1.066667,1.43} // PAL  1:1 4:3 16:9
-                            };
-#define aprintf printf
-
-resizeWindow::resizeWindow(resParam *param)     : QDialog()
- {
-     ui.setupUi(this);
-     _param=param;
-     ui.spinBoxWidth-&gt;setValue(_param-&gt;width);
-     ui.spinBoxHeight-&gt;setValue(_param-&gt;height);
-     ui.horizontalSlider-&gt;setValue(100);
-     update(0);
-     connect( ui.horizontalSlider,SIGNAL(valueChanged(int)),this,SLOT(update(int)));
- 
- }
- void resizeWindow::gather(void)
- {
-    _param-&gt;width=ui.spinBoxWidth-&gt;value();
-    _param-&gt;height=ui.spinBoxHeight-&gt;value();
-    _param-&gt;algo=ui.comboBoxAlgo-&gt;currentIndex();
- }
- 
- void resizeWindow::update(int foo)
- {
-
-  double percent;
-  float x,y;
-  float sr_mul,dst_mul;
-
- int32_t xx,yy;
- float erx,ery;
-  int sar,dar;
-
-  percent = ui.horizontalSlider-&gt;value();;
-  sar=ui.comboBoxSource-&gt;currentIndex();
-  dar=ui.comboBoxDestination-&gt;currentIndex();
-  if(percent&lt;10.0) percent=10.;
-
-  aprintf(&quot;drag called : %f \n&quot;,percent);
-  x=_param-&gt;originalWidth;
-  y=_param-&gt;originalHeight;
-  erx=0;
-  ery=0;
-  sr_mul=1.;
-  if(sar)
-  	{  // source is 4/3 or 16/9
-			sr_mul=aspectRatio[_param-&gt;pal][sar];
-
-	}
-
-  dst_mul=1.;
-  if(dar)
-        {  // dst is 4/3 or 16/9
-  
-                        dst_mul=1/aspectRatio[_param-&gt;pal][dar];
-        }
-        aprintf(&quot;source mul %02.2f , dst mul : %02.2f\n&quot;,sr_mul,dst_mul);
-        x=x*sr_mul*dst_mul;
-        y=y;
-  
-        // normalize it to recover 100% width
-        y=y/(x/_param-&gt;originalWidth);
-        x=_param-&gt;originalWidth;
-  
-        aprintf(&quot;AR:x,y  : %03f %03f \n&quot;,x,y);
-  
-        percent/=100.;
-        x=x*percent;
-        y=y*percent;
-  
-  
-        aprintf(&quot;AR x,y  : %03f %03f \n&quot;,x,y);
-        xx=(uint32_t)floor(x+0.5);
-        yy=(uint32_t)floor(y+0.5);
-  
-        if(xx&amp;1) xx--;
-        if(yy&amp;1) yy--;
-  
-  
-        if(ui.checkBoxRoundup-&gt;checkState())
-        {
-                int32_t ox=xx,oy=yy;
-                xx=(xx +7) &amp; 0xfffff0;
-                yy=(yy +7) &amp; 0xfffff0;
-  
-                erx=(xx-ox);
-                erx=erx/xx;
-                ery=(yy-oy);
-                ery=ery/yy;
-  
-                aprintf(&quot;x: %d -&gt; %d : err %f\n&quot;,ox,xx,erx);
-                aprintf(&quot;y: %d -&gt; %d : err %f\n&quot;,oy,yy,ery);
-        }
-  
-        //
-        ui.spinBoxWidth-&gt;setValue(xx);
-        ui.spinBoxHeight-&gt;setValue(yy);
-
-   
-}
-/**
-    \fn DIA_resize
-    \brief Handle resize dialo
-*/
-uint8_t DIA_resize(uint32_t *width,uint32_t *height,uint32_t *alg,uint32_t originalw, uint32_t originalh,uint32_t fps1000)
-{
-uint8_t r=0;
-      resParam param={*width,*height,originalw,originalh,fps1000,*alg,0};
-      //
-      if(fps1000&gt;24600 &amp;&amp; fps1000&lt;25400)
-        {
-                param.pal=1;
-        }
-       
-
-     // Fetch info
-     resizeWindow resizewindow(&amp;param) ;
-     ;
-     if(resizewindow.exec()==QDialog::Accepted)
-     {
-       resizewindow.gather();
-       *width=param.width;
-       *height=param.height;
-       *alg=param.algo;
-       r=1;
-     }
-     return r;
-}  
-//********************************************
-//EOF

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.h	2008-05-18 17:52:35 UTC (rev 4043)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.h	2008-05-18 18:02:45 UTC (rev 4044)
@@ -1,30 +0,0 @@
-#ifndef Q_resizing_h
-#define Q_resizing_h
-
-#include &quot;ui_resizing.h&quot;
-
-typedef struct resParam
-{
-	uint32_t width,height;
-	uint32_t originalWidth, originalHeight;
-	uint32_t fps1000;
-	uint32_t algo;
-	uint32_t pal;
-} resParam;
-
-class resizeWindow : public QDialog
-{
-	Q_OBJECT
-
-protected: 
-	resParam *_param;
-
-public:
-	resizeWindow(resParam *param);
-	Ui_resizeDialog ui;
-
-public slots:
-	void gather(void);
-	void update(int i);
-};
-#endif	// Q_resizing_h

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resizing.h (from rev 4043, branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.h)
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.h	2008-05-18 17:52:35 UTC (rev 4043)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resizing.h	2008-05-18 18:02:45 UTC (rev 4044)
@@ -0,0 +1,30 @@
+#ifndef Q_resizing_h
+#define Q_resizing_h
+
+#include &quot;ui_resizing.h&quot;
+
+typedef struct resParam
+{
+	uint32_t width,height;
+	uint32_t originalWidth, originalHeight;
+	uint32_t fps1000;
+	uint32_t algo;
+	uint32_t pal;
+} resParam;
+
+class resizeWindow : public QDialog
+{
+	Q_OBJECT
+
+protected: 
+	resParam *_param;
+
+public:
+	resizeWindow(resParam *param);
+	Ui_resizeDialog ui;
+
+public slots:
+	void gather(void);
+	void update(int i);
+};
+#endif	// Q_resizing_h

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resizing.h (from rev 4043, branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.h)
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.h	2008-05-18 17:52:35 UTC (rev 4043)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resizing.h	2008-05-18 18:02:45 UTC (rev 4044)
@@ -0,0 +1,30 @@
+#ifndef Q_resizing_h
+#define Q_resizing_h
+
+#include &quot;ui_resizing.h&quot;
+
+typedef struct resParam
+{
+	uint32_t width,height;
+	uint32_t originalWidth, originalHeight;
+	uint32_t fps1000;
+	uint32_t algo;
+	uint32_t pal;
+} resParam;
+
+class resizeWindow : public QDialog
+{
+	Q_OBJECT
+
+protected: 
+	resParam *_param;
+
+public:
+	resizeWindow(resParam *param);
+	Ui_resizeDialog ui;
+
+public slots:
+	void gather(void);
+	void update(int i);
+};
+#endif	// Q_resizing_h


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001300.html">[Avidemux-svn-commit] r4043 - in	branches/avidemux_2.5_branch_gruntster:	avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog	avidemux/plugins/ADM_videoFilters/AvisynthResize	avidemux/plugins/ADM_videoFilters/AvisynthResize/gtk	avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4	avidemux/plugins/ADM_videoFilters/MplayerResize	avidemux/plugins/ADM_videoFilters/MplayerResize/qt4 cmake
</A></li>
	<LI>Next message: <A HREF="001302.html">[Avidemux-svn-commit] r4045 - in	branches/avidemux_2.5_branch_gruntster/avidemux: ADM_editor	ADM_encoder ADM_script plugins/ADM_videoEncoder/ADM_vidEnc_x264	plugins/ADM_videoEncoder/ADM_vidEnc_x264/qt4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1301">[ date ]</a>
              <a href="thread.html#1301">[ thread ]</a>
              <a href="subject.html#1301">[ subject ]</a>
              <a href="author.html#1301">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
