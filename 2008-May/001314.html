<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r4057 - in	branches/avidemux_2.5_branch_gruntster: avidemux	avidemux/ADM_userInterfaces/ADM_commonUI	avidemux/ADM_userInterfaces/ADM_render	avidemux/plugins/ADM_videoFilters/AvisynthResize	avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4	avidemux/plugins/ADM_videoFilters/MplayerResize	avidemux/plugins/ADM_videoFilters/MplayerResize/qt4 cmake
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2008-May/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4057%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster%3A%20avidemux%0A%09avidemux/ADM_userInterfaces/ADM_commonUI%0A%09avidemux/ADM_userInterfaces/ADM_render%0A%09avidemux/plugins/ADM_videoFilters/AvisynthResize%0A%09avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4%0A%09avidemux/plugins/ADM_videoFilters/MplayerResize%0A%09avidemux/plugins/ADM_videoFilters/MplayerResize/qt4%20cmake&In-Reply-To=%3C200805221407.m4ME7n7m022395%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001313.html">
   <LINK REL="Next"  HREF="001315.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r4057 - in	branches/avidemux_2.5_branch_gruntster: avidemux	avidemux/ADM_userInterfaces/ADM_commonUI	avidemux/ADM_userInterfaces/ADM_render	avidemux/plugins/ADM_videoFilters/AvisynthResize	avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4	avidemux/plugins/ADM_videoFilters/MplayerResize	avidemux/plugins/ADM_videoFilters/MplayerResize/qt4 cmake</H1>
    <B>gruntster at mail.berlios.de</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4057%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster%3A%20avidemux%0A%09avidemux/ADM_userInterfaces/ADM_commonUI%0A%09avidemux/ADM_userInterfaces/ADM_render%0A%09avidemux/plugins/ADM_videoFilters/AvisynthResize%0A%09avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4%0A%09avidemux/plugins/ADM_videoFilters/MplayerResize%0A%09avidemux/plugins/ADM_videoFilters/MplayerResize/qt4%20cmake&In-Reply-To=%3C200805221407.m4ME7n7m022395%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r4057 - in	branches/avidemux_2.5_branch_gruntster: avidemux	avidemux/ADM_userInterfaces/ADM_commonUI	avidemux/ADM_userInterfaces/ADM_render	avidemux/plugins/ADM_videoFilters/AvisynthResize	avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4	avidemux/plugins/ADM_videoFilters/MplayerResize	avidemux/plugins/ADM_videoFilters/MplayerResize/qt4 cmake">gruntster at mail.berlios.de
       </A><BR>
    <I>Thu May 22 16:07:49 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001313.html">[Avidemux-svn-commit] r4056 -	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_render
</A></li>
        <LI>Next message: <A HREF="001315.html">[Avidemux-svn-commit] r4058 - in	branches/avidemux_2.5_branch_gruntster:	avidemux/ADM_userInterfaces/ADM_render cmake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1314">[ date ]</a>
              <a href="thread.html#1314">[ thread ]</a>
              <a href="subject.html#1314">[ subject ]</a>
              <a href="author.html#1314">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: gruntster
Date: 2008-05-22 16:07:34 +0200 (Thu, 22 May 2008)
New Revision: 4057

Added:
   branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4/resizing.h
   branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/MplayerResize/qt4/resizing.h
Removed:
   branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resizing.h
   branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resizing.h
Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_render/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_render/GUI_sdlRender.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_render/GUI_sdlRender.h
   branches/avidemux_2.5_branch_gruntster/avidemux/main.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/AvisynthResize/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/MplayerResize/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.cpp
   branches/avidemux_2.5_branch_gruntster/cmake/vf_plugin_qt4.cmake
Log:
[Merge] Win32 fixes

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp	2008-05-22 06:21:44 UTC (rev 4056)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp	2008-05-22 14:07:34 UTC (rev 4057)
@@ -507,7 +507,7 @@
 
 			#if defined(__WIN32) &amp;&amp; defined(USE_SDL)
 				// Initialise SDL again as driver may have changed
-				initSdl();
+				initSdl(render);
 			#endif
 	}
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_render/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_render/CMakeLists.txt	2008-05-22 06:21:44 UTC (rev 4056)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_render/CMakeLists.txt	2008-05-22 14:07:34 UTC (rev 4057)
@@ -12,14 +12,30 @@
 
 ADD_ADM_SHARED_LIB_ALL_TARGETS(${ADM_LIB} ${${ADM_LIB}_SRCS})
 SDLify(GUI_sdlRender.cpp)
-ADM_TARGET_LINK_LIBARIES_ALL_TARGET( ${ADM_LIB} ADM_core ADM_coreUI ADM_coreImage)
+ADM_TARGET_LINK_LIBARIES_ALL_TARGET(${ADM_LIB} ADM_core ADM_coreUI ADM_coreImage)
 
-IF (GTK_FOUND AND GTHREAD_FOUND)
-        INSTALL(TARGETS ${ADM_LIB}_gtk RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
-IF (GTK_FOUND AND GTHREAD_FOUND)
-IF (QT4_FOUND)
-        INSTALL(TARGETS ${ADM_LIB}_qt4 RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
-ENDIF (QT4_FOUND)
-        INSTALL(TARGETS ${ADM_LIB}_lib RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
+IF (ADM_UI_GTK)
+	IF (GETTEXT_FOUND)
+		TARGET_LINK_LIBRARIES(${ADM_LIB}_gtk ${GETTEXT_LIBRARY_DIR})
+	ENDIF (GETTEXT_FOUND)
 
+	IF (USE_SDL)
+		TARGET_LINK_LIBRARIES(${ADM_LIB}_gtk ${SDL_LIBRARY})
+	ENDIF (USE_SDL)
 
+	INSTALL(TARGETS ${ADM_LIB}_gtk RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
+ENDIF (ADM_UI_GTK)
+
+IF (ADM_UI_QT4)
+	IF (USE_SDL)
+		TARGET_LINK_LIBRARIES(${ADM_LIB}_qt4 ${SDL_LIBRARY})
+	ENDIF (USE_SDL)
+
+	INSTALL(TARGETS ${ADM_LIB}_qt4 RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
+ENDIF (ADM_UI_QT4)
+
+IF (GETTEXT_FOUND)
+	TARGET_LINK_LIBRARIES(${ADM_LIB}_cli ${GETTEXT_LIBRARY_DIR})
+ENDIF (GETTEXT_FOUND)
+
+INSTALL(TARGETS ${ADM_LIB}_cli RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_render/GUI_sdlRender.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_render/GUI_sdlRender.cpp	2008-05-22 06:21:44 UTC (rev 4056)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_render/GUI_sdlRender.cpp	2008-05-22 14:07:34 UTC (rev 4057)
@@ -34,17 +34,11 @@
 }
 
 #include &quot;ADM_colorspace.h&quot;
-
 #include &quot;GUI_render.h&quot;
-
 #include &quot;GUI_accelRender.h&quot;
 #include &quot;GUI_sdlRender.h&quot;
 #include &quot;ADM_assert.h&quot;
 
-#ifdef __WIN32
-#include &quot;prefs.h&quot;
-#endif
-
 #ifdef __APPLE__
 extern &quot;C&quot;
 {
@@ -350,7 +344,7 @@
         return 1;
 }
 
-void initSdl(void)
+void initSdl(int videoDevice)
 {
 	printf(&quot;\n&quot;);
 	quitSdl();
@@ -360,17 +354,15 @@
     printf(&quot;[SDL] Version: %u.%u.%u\n&quot;,SDL_Linked_Version()-&gt;major, SDL_Linked_Version()-&gt;minor, SDL_Linked_Version()-&gt;patch);
 
 #ifdef __WIN32
-	uint32_t videoDevice = RENDER_LAST;
-
-	if(!prefs-&gt;get(DEVICE_VIDEODEVICE, &amp;videoDevice) || videoDevice != RENDER_DIRECTX)
+	if(videoDevice == RENDER_DIRECTX)
 	{
-		printf(&quot;[SDL] Setting video driver to Microsoft Windows GDI\n&quot;);
-		putenv(&quot;SDL_VIDEODRIVER=windib&quot;);
+		printf(&quot;[SDL] Setting video driver to Microsoft DirectX\n&quot;);
+		putenv(&quot;SDL_VIDEODRIVER=directx&quot;);
 	}
 	else
 	{
-		printf(&quot;[SDL] Setting video driver to Microsoft DirectX\n&quot;);
-		putenv(&quot;SDL_VIDEODRIVER=directx&quot;);
+		printf(&quot;[SDL] Setting video driver to Microsoft Windows GDI\n&quot;);
+		putenv(&quot;SDL_VIDEODRIVER=windib&quot;);
 	}
 #endif
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_render/GUI_sdlRender.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_render/GUI_sdlRender.h	2008-05-22 06:21:44 UTC (rev 4056)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_render/GUI_sdlRender.h	2008-05-22 14:07:34 UTC (rev 4057)
@@ -31,6 +31,6 @@
               			uint8_t hasHwZoom(void) {return 1;}
 };
 
-void initSdl(void);
+void initSdl(int videoDevice);
 void quitSdl(void);
 #endif

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/main.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/main.cpp	2008-05-22 06:21:44 UTC (rev 4056)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/main.cpp	2008-05-22 14:07:34 UTC (rev 4057)
@@ -186,7 +186,11 @@
 	register_Encoders();
 
 #ifdef USE_SDL
-	initSdl();
+	uint32_t videoDevice = RENDER_LAST;
+
+	prefs-&gt;get(DEVICE_VIDEODEVICE, &amp;videoDevice);
+
+	initSdl(videoDevice);
 #endif
 
 	atexit(onexit);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/AvisynthResize/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/AvisynthResize/CMakeLists.txt	2008-05-22 06:21:44 UTC (rev 4056)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/AvisynthResize/CMakeLists.txt	2008-05-22 14:07:34 UTC (rev 4057)
@@ -1,19 +1,17 @@
 INCLUDE(vf_plugin)
 
-
 SET(avisynthResizeCommon_SRCS 
-ADM_resizebis.cpp  ADM_resizeter.cpp  ADM_vidResize.cpp
+	ADM_resizebis.cpp  ADM_resizeter.cpp  ADM_vidResize.cpp
 )
 
 INCLUDE(vf_plugin_gtk)
 INCLUDE(vf_plugin_qt4)
 
 SET(resizeCommonGtk_SRCS gtk/gtk_resize.cpp)
-SET(resizeCommonQT_SRCS Q_resize.cpp)
+SET(resizeCommonQT_SRCS qt4/Q_resize.cpp)
 SET(resizeCommonQT_UI resizing)
 
 INIT_VIDEOFILTER_PLUGIN_QT4(ADM_vf_avisynthResize_qt4 
                 ${resizeCommonQT_SRCS} ${resizeCommonQT_UI} ${avisynthResizeCommon_SRCS})
-INIT_VIDEOFILTER_PLUGIN_GTK(  ADM_vf__avisynthResize_gtk 
-                ${resizeCommonGtk_SRCS} ${avisynthResizeCommon_SRCS})
-
+INIT_VIDEOFILTER_PLUGIN_GTK(ADM_vf_avisynthResize_gtk 
+                ${resizeCommonGtk_SRCS} ${avisynthResizeCommon_SRCS})
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.cpp	2008-05-22 06:21:44 UTC (rev 4056)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.cpp	2008-05-22 14:07:34 UTC (rev 4057)
@@ -14,7 +14,7 @@
 
 #include &lt;math.h&gt;
 
-#include &quot;Q_resizing.h&quot;
+#include &quot;resizing.h&quot;
 
 static double aspectRatio[2][3]={
                               {1.,0.888888,1.19}, // NTSC 1:1 4:3 16:9

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resizing.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resizing.h	2008-05-22 06:21:44 UTC (rev 4056)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resizing.h	2008-05-22 14:07:34 UTC (rev 4057)
@@ -1,30 +0,0 @@
-#ifndef Q_resizing_h
-#define Q_resizing_h
-
-#include &quot;ui_resizing.h&quot;
-
-typedef struct resParam
-{
-	uint32_t width,height;
-	uint32_t originalWidth, originalHeight;
-	uint32_t fps1000;
-	uint32_t algo;
-	uint32_t pal;
-} resParam;
-
-class resizeWindow : public QDialog
-{
-	Q_OBJECT
-
-protected: 
-	resParam *_param;
-
-public:
-	resizeWindow(resParam *param);
-	Ui_resizeDialog ui;
-
-public slots:
-	void gather(void);
-	void update(int i);
-};
-#endif	// Q_resizing_h

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4/resizing.h (from rev 4056, branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resizing.h)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/MplayerResize/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/MplayerResize/CMakeLists.txt	2008-05-22 06:21:44 UTC (rev 4056)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/MplayerResize/CMakeLists.txt	2008-05-22 14:07:34 UTC (rev 4057)
@@ -1,33 +1,23 @@
 INCLUDE(vf_plugin)
 
-
 SET(resizeCommon_SRCS ADM_vidMPLResize.cpp)
-
 SET(resizeCommonGtk_SRCS gtk/gtk_resize.cpp)
-SET(resizeCommonQT_SRCS Q_resize.cpp)
+SET(resizeCommonQT_SRCS qt4/Q_resize.cpp)
 SET(resizeCommonQT_UI resizing)
 
 INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/../../../&quot;)
 INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/../&quot;)
 
-
 INCLUDE(vf_plugin_gtk)
-INCLUDE(vf_plugin_qt4)
+INIT_VIDEOFILTER_PLUGIN_GTK(ADM_vf_mplayerResize_gtk ${resizeCommonGtk_SRCS} ${resizeCommon_SRCS})
 
-
-INIT_VIDEOFILTER_PLUGIN_GTK(  ADM_vf_mplayerResize_gtk ${resizeCommonGtk_SRCS} ${resizeCommon_SRCS} )
-# We need some additionnal libs
 IF (GTK_FOUND AND GTHREAD_FOUND)
-        TARGET_LINK_LIBRARIES(ADM_vf_mplayerResize_gtk ADM_libswscale)
-        TARGET_LINK_LIBRARIES(ADM_vf_mplayerResize_gtk ADM_libavcodec)
-        TARGET_LINK_LIBRARIES(ADM_vf_mplayerResize_gtk ADM_libavutil)
-        TARGET_LINK_LIBRARIES(ADM_vf_mplayerResize_gtk ADM_UIGtk)
-ENDIF (GTK_FOUND AND GTHREAD_FOUND)        
+	TARGET_LINK_LIBRARIES(ADM_vf_mplayerResize_gtk ADM_libswscale ADM_libavcodec ADM_libavutil ADM_UIGtk)
+ENDIF (GTK_FOUND AND GTHREAD_FOUND)
 
-INIT_VIDEOFILTER_PLUGIN_QT4(ADM_vf_mplayerResize_qt4  ${resizeCommonQT_SRCS} ${resizeCommonQT_UI} ${resizeCommon_SRCS} )
-IF (QT4_FOUND )
-        TARGET_LINK_LIBRARIES(ADM_vf_mplayerResize_gtk ADM_libswscale)
-        TARGET_LINK_LIBRARIES(ADM_vf_mplayerResize_gtk ADM_libavcodec)
-        TARGET_LINK_LIBRARIES(ADM_vf_mplayerResize_gtk ADM_libavutil)
-        TARGET_LINK_LIBRARIES(ADM_vf_mplayerResize_gtk ADM_UIGtk)
-ENDIF (QT4_FOUND )
+INCLUDE(vf_plugin_qt4)
+INIT_VIDEOFILTER_PLUGIN_QT4(ADM_vf_mplayerResize_qt4 ${resizeCommonQT_SRCS} ${resizeCommonQT_UI} ${resizeCommon_SRCS})
+
+IF (QT4_FOUND)
+	TARGET_LINK_LIBRARIES(ADM_vf_mplayerResize_qt4 ADM_libswscale ADM_libavcodec ADM_libavutil ADM_UIQT4)
+ENDIF (QT4_FOUND)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.cpp	2008-05-22 06:21:44 UTC (rev 4056)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.cpp	2008-05-22 14:07:34 UTC (rev 4057)
@@ -14,7 +14,7 @@
 
 #include &lt;math.h&gt;
 
-#include &quot;Q_resizing.h&quot;
+#include &quot;resizing.h&quot;
 
 static double aspectRatio[2][3]={
                               {1.,0.888888,1.19}, // NTSC 1:1 4:3 16:9

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resizing.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resizing.h	2008-05-22 06:21:44 UTC (rev 4056)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resizing.h	2008-05-22 14:07:34 UTC (rev 4057)
@@ -1,30 +0,0 @@
-#ifndef Q_resizing_h
-#define Q_resizing_h
-
-#include &quot;ui_resizing.h&quot;
-
-typedef struct resParam
-{
-	uint32_t width,height;
-	uint32_t originalWidth, originalHeight;
-	uint32_t fps1000;
-	uint32_t algo;
-	uint32_t pal;
-} resParam;
-
-class resizeWindow : public QDialog
-{
-	Q_OBJECT
-
-protected: 
-	resParam *_param;
-
-public:
-	resizeWindow(resParam *param);
-	Ui_resizeDialog ui;
-
-public slots:
-	void gather(void);
-	void update(int i);
-};
-#endif	// Q_resizing_h

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/MplayerResize/qt4/resizing.h (from rev 4056, branches/avidemux_2.5_branch_gruntster/avidemux/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resizing.h)

Modified: branches/avidemux_2.5_branch_gruntster/cmake/vf_plugin_qt4.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/vf_plugin_qt4.cmake	2008-05-22 06:21:44 UTC (rev 4056)
+++ branches/avidemux_2.5_branch_gruntster/cmake/vf_plugin_qt4.cmake	2008-05-22 14:07:34 UTC (rev 4057)
@@ -1,22 +1,23 @@
 MACRO(INIT_VIDEOFILTER_PLUGIN_QT4  lib  _srcsQt _srcQt_ui _srcsCommon)
-INCLUDE(admCheckQt4)
+	INCLUDE(admCheckQt4)
 
-checkQt4()
+	checkQt4()
 
-IF (QT4_FOUND)
+	IF (QT4_FOUND)
+		INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR} ${QT_INCLUDE_DIR})
+		INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR}/qt4)
+		INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/ ../../../ADM_UIs/ADM_QT4/include/)
 
-	INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR} ${QT_INCLUDE_DIR})
-	INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR}/qt4 )
-        QT4_WRAP_UI(qt4_ui qt4/${_srcQt_ui}.ui )
-        QT4_WRAP_CPP(qt4_cpp  ${qt4_ui})
-        MESSAGE(&quot;ZZ UI&quot; ${qt4_ui})
-        MESSAGE(&quot;ZZ CPP&quot; ${qt4_cpp})
-        ADD_LIBRARY(${lib} SHARED ${_srcsCommon} ${qt4_cpp}  ${qt4_ui} ${x264Qt_source})
-        INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/ ../../../ADM_UIs/ADM_QT4/include/)
-        TARGET_LINK_LIBRARIES( ${lib} ADM_UIQT4  ADM_render_qt4)
-        TARGET_LINK_LIBRARIES(${lib}  ${QT_QTGUI_LIBRARY} ${QT_QTCORE_LIBRARY} )
-        ADD_TARGET_CFLAGS(${lib} &quot;-DADM_UI_TYPE=QT4&quot;)
-        INIT_VIDEOFILTER_PLUGIN(${lib})
-        INSTALL_VIDEOFILTER(${lib})
-ENDIF (QT4_FOUND)
+		QT4_WRAP_UI(qt4_ui qt4/${_srcQt_ui}.ui)
+		QT4_WRAP_CPP(qt4_cpp qt4/${_srcQt_ui}.h)
+
+		ADD_LIBRARY(${lib} SHARED ${_srcsCommon} ${_srcsQt} ${qt4_cpp} ${qt4_ui})
+		ADD_TARGET_CFLAGS(${lib} &quot;-DADM_UI_TYPE=QT4&quot;)
+
+		TARGET_LINK_LIBRARIES( ${lib} ADM_UIQT4  ADM_render_qt4)
+		TARGET_LINK_LIBRARIES(${lib} ${QT_QTGUI_LIBRARY} ${QT_QTCORE_LIBRARY})
+
+		INIT_VIDEOFILTER_PLUGIN(${lib})
+		INSTALL_VIDEOFILTER(${lib})
+	ENDIF (QT4_FOUND)
 ENDMACRO(INIT_VIDEOFILTER_PLUGIN_QT4)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001313.html">[Avidemux-svn-commit] r4056 -	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_render
</A></li>
	<LI>Next message: <A HREF="001315.html">[Avidemux-svn-commit] r4058 - in	branches/avidemux_2.5_branch_gruntster:	avidemux/ADM_userInterfaces/ADM_render cmake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1314">[ date ]</a>
              <a href="thread.html#1314">[ thread ]</a>
              <a href="subject.html#1314">[ subject ]</a>
              <a href="author.html#1314">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
