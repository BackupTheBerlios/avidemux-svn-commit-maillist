<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r4010 - in	branches/avidemux_2.5_branch_gruntster:	avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters	avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui	avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr cmake
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2008-May/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4010%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster%3A%0A%09avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters%0A%09avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui%0A%09avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr%20cmake&In-Reply-To=%3C200805021437.m42Ebgnd029229%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001269.html">
   <LINK REL="Next"  HREF="001271.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r4010 - in	branches/avidemux_2.5_branch_gruntster:	avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters	avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui	avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr cmake</H1>
    <B>gruntster at mail.berlios.de</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4010%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster%3A%0A%09avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters%0A%09avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui%0A%09avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr%20cmake&In-Reply-To=%3C200805021437.m42Ebgnd029229%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r4010 - in	branches/avidemux_2.5_branch_gruntster:	avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters	avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui	avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr cmake">gruntster at mail.berlios.de
       </A><BR>
    <I>Fri May  2 16:37:42 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001269.html">[Avidemux-svn-commit] r4009 - in	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4:	ADM_dialogFactory ADM_filters
</A></li>
        <LI>Next message: <A HREF="001271.html">[Avidemux-svn-commit] r4012 - in	branches/avidemux_2.5_branch_gruntster/avidemux:	ADM_coreImage/include ADM_coreImage/src	ADM_libraries/ADM_utilities ADM_videoFilter plugins/ADM_videoFilters	plugins/ADM_videoFilters/BlendRemover	plugins/ADM_videoFilters/Decimate	plugins/ADM_videoFilters/FastConvolution	plugins/ADM_videoFilters/McDeint plugins/ADM_videoFilters/Telecide
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1270">[ date ]</a>
              <a href="thread.html#1270">[ thread ]</a>
              <a href="subject.html#1270">[ subject ]</a>
              <a href="author.html#1270">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: gruntster
Date: 2008-05-02 16:37:33 +0200 (Fri, 02 May 2008)
New Revision: 4010

Added:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/Q_ocr.h
Removed:
   branches/avidemux_2.5_branch_gruntster/cmake/adm_qt4.cmake
Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qslider.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/Q_ocr.cpp
Log:
[CMake] generate Qt files with CMake (final part 3)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt	2008-05-02 01:40:36 UTC (rev 4009)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt	2008-05-02 14:37:33 UTC (rev 4010)
@@ -1,9 +1,11 @@
 SET(ADM_LIB ADM_filtersQt4)
 
-SET(${ADM_LIB}_SRCS filter_none.cpp  filter_rsc.cpp)
+QT4_WRAP_UI(${ADM_LIB}_header  mainfilter.ui)
+QT4_WRAP_CPP(${ADM_LIB}_source  Q_mainfilter.h)
+QT4_ADD_RESOURCES(${ADM_LIB}_resource  filter.qrc)
 
-SET(${ADM_LIB}_Q mainfilter)
+SET(${ADM_LIB}_SRCS
+	filter_none.cpp  Q_mainfilter.cpp  ${${ADM_LIB}_header}  ${${ADM_LIB}_source}  ${${ADM_LIB}_resource})
 
-INCLUDE(adm_qt4)
-
-Q_RCC(filter)
\ No newline at end of file
+INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR})
+ADD_ADM_LIB_QT4_TARGET(${ADM_LIB} ${${ADM_LIB}_SRCS})
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-05-02 01:40:36 UTC (rev 4009)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-05-02 14:37:33 UTC (rev 4010)
@@ -26,11 +26,7 @@
 #include &quot;config.h&quot;
 #include &lt;vector&gt;
 
-#define Ui_Dialog Ui_mainFilterDialog
-#include &quot;ui_mainfilter.h&quot;
-#undef Ui_Dialog
-#include &quot;QStringListModel&quot; 
-#include &quot;QColor&quot; 
+#include &quot;Q_mainfilter.h&quot;
 #include &quot;ADM_default.h&quot;
 #include &quot;DIA_fileSel.h&quot;
 
@@ -67,46 +63,7 @@
 extern ADM_Composer *video_body;
 extern AVDMGenericVideoStream *filterCreateFromTag(VF_FILTERS tag,CONFcouple *conf, AVDMGenericVideoStream *in) ;
 /*******************************************************/
-class filtermainWindow : public QDialog
-{
-     Q_OBJECT
 
- public:
-     filtermainWindow();
- //    virtual ~filtermainWindow();
-     void             buildActiveFilterList(void);
-     Ui_mainFilterDialog ui;
-     
-     
-     
-     QListWidget      *availableList;
-     QListWidget      *activeList;
-     
-     
-     
- public slots:
-        void VCD(bool b);
-        void DVD(bool b);
-        void SVCD(bool b);
-        void halfD1(bool b);
-        void add(bool b);
-        void up(bool b);
-        void down(bool b);
-        void remove(bool b);
-        void configure(bool b);
-        void partial(bool b);
-        void activeDoubleClick( QListWidgetItem  *item);
-        void allDoubleClick( QListWidgetItem  *item);
-	void filterFamilyClick(QListWidgetItem *item);
-	void filterFamilyClick(int  item);
- private slots:
- private:
-        
-        
-        void setSelected(int sel);
-        void displayFamily(uint32_t family);
-        void setupFilters(void);
-};
 /**
         \fn     void setSelected(int sel)
         \brief  Set the sel line as selected in the active filter window

Added: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.h	2008-05-02 01:40:36 UTC (rev 4009)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.h	2008-05-02 14:37:33 UTC (rev 4010)
@@ -0,0 +1,39 @@
+#ifndef Q_mainfilter_h
+#define Q_mainfilter_h
+
+#include &quot;ui_mainfilter.h&quot;
+
+class filtermainWindow : public QDialog
+{
+	Q_OBJECT
+
+public:
+	filtermainWindow();
+	void buildActiveFilterList(void);
+
+	Ui_mainFilterDialog ui;
+	QListWidget *availableList;
+	QListWidget *activeList;
+
+public slots:
+	void VCD(bool b);
+	void DVD(bool b);
+	void SVCD(bool b);
+	void halfD1(bool b);
+	void add(bool b);
+	void up(bool b);
+	void down(bool b);
+	void remove(bool b);
+	void configure(bool b);
+	void partial(bool b);
+	void activeDoubleClick( QListWidgetItem  *item);
+	void allDoubleClick( QListWidgetItem  *item);
+	void filterFamilyClick(QListWidgetItem *item);
+	void filterFamilyClick(int  item);
+
+private:
+	void setSelected(int sel);
+	void displayFamily(uint32_t family);
+	void setupFilters(void);
+};
+#endif	// Q_mainfilter_h

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui	2008-05-02 01:40:36 UTC (rev 4009)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui	2008-05-02 14:37:33 UTC (rev 4010)
@@ -1,6 +1,6 @@
 &lt;ui version=&quot;4.0&quot; &gt;
- &lt;class&gt;Dialog&lt;/class&gt;
- &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot; &gt;
+ &lt;class&gt;mainFilterDialog&lt;/class&gt;
+ &lt;widget class=&quot;QDialog&quot; name=&quot;mainFilterDialog&quot; &gt;
   &lt;property name=&quot;geometry&quot; &gt;
    &lt;rect&gt;
     &lt;x&gt;0&lt;/x&gt;
@@ -19,34 +19,65 @@
    &lt;string&gt;Video Filter Manager&lt;/string&gt;
   &lt;/property&gt;
   &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-   &lt;property name=&quot;margin&quot; &gt;
-    &lt;number&gt;9&lt;/number&gt;
-   &lt;/property&gt;
    &lt;property name=&quot;spacing&quot; &gt;
     &lt;number&gt;6&lt;/number&gt;
    &lt;/property&gt;
+   &lt;property name=&quot;leftMargin&quot; &gt;
+    &lt;number&gt;9&lt;/number&gt;
+   &lt;/property&gt;
+   &lt;property name=&quot;topMargin&quot; &gt;
+    &lt;number&gt;9&lt;/number&gt;
+   &lt;/property&gt;
+   &lt;property name=&quot;rightMargin&quot; &gt;
+    &lt;number&gt;9&lt;/number&gt;
+   &lt;/property&gt;
+   &lt;property name=&quot;bottomMargin&quot; &gt;
+    &lt;number&gt;9&lt;/number&gt;
+   &lt;/property&gt;
    &lt;item&gt;
     &lt;layout class=&quot;QGridLayout&quot; &gt;
-     &lt;property name=&quot;margin&quot; &gt;
+     &lt;property name=&quot;leftMargin&quot; &gt;
       &lt;number&gt;0&lt;/number&gt;
      &lt;/property&gt;
-     &lt;property name=&quot;spacing&quot; &gt;
+     &lt;property name=&quot;topMargin&quot; &gt;
+      &lt;number&gt;0&lt;/number&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;rightMargin&quot; &gt;
+      &lt;number&gt;0&lt;/number&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;bottomMargin&quot; &gt;
+      &lt;number&gt;0&lt;/number&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;horizontalSpacing&quot; &gt;
       &lt;number&gt;6&lt;/number&gt;
      &lt;/property&gt;
+     &lt;property name=&quot;verticalSpacing&quot; &gt;
+      &lt;number&gt;6&lt;/number&gt;
+     &lt;/property&gt;
      &lt;item row=&quot;4&quot; column=&quot;0&quot; colspan=&quot;2&quot; &gt;
       &lt;layout class=&quot;QGridLayout&quot; &gt;
-       &lt;property name=&quot;margin&quot; &gt;
+       &lt;property name=&quot;leftMargin&quot; &gt;
         &lt;number&gt;0&lt;/number&gt;
        &lt;/property&gt;
-       &lt;property name=&quot;spacing&quot; &gt;
+       &lt;property name=&quot;topMargin&quot; &gt;
+        &lt;number&gt;0&lt;/number&gt;
+       &lt;/property&gt;
+       &lt;property name=&quot;rightMargin&quot; &gt;
+        &lt;number&gt;0&lt;/number&gt;
+       &lt;/property&gt;
+       &lt;property name=&quot;bottomMargin&quot; &gt;
+        &lt;number&gt;0&lt;/number&gt;
+       &lt;/property&gt;
+       &lt;property name=&quot;horizontalSpacing&quot; &gt;
         &lt;number&gt;6&lt;/number&gt;
        &lt;/property&gt;
+       &lt;property name=&quot;verticalSpacing&quot; &gt;
+        &lt;number&gt;6&lt;/number&gt;
+       &lt;/property&gt;
        &lt;item row=&quot;0&quot; column=&quot;1&quot; &gt;
         &lt;widget class=&quot;QPushButton&quot; name=&quot;pushButtonSVCD&quot; &gt;
          &lt;property name=&quot;sizePolicy&quot; &gt;
-          &lt;sizepolicy&gt;
-           &lt;hsizetype&gt;5&lt;/hsizetype&gt;
-           &lt;vsizetype&gt;0&lt;/vsizetype&gt;
+          &lt;sizepolicy vsizetype=&quot;Fixed&quot; hsizetype=&quot;Preferred&quot; &gt;
            &lt;horstretch&gt;0&lt;/horstretch&gt;
            &lt;verstretch&gt;0&lt;/verstretch&gt;
           &lt;/sizepolicy&gt;
@@ -68,9 +99,7 @@
        &lt;item row=&quot;1&quot; column=&quot;1&quot; &gt;
         &lt;widget class=&quot;QPushButton&quot; name=&quot;pushButtonVCD&quot; &gt;
          &lt;property name=&quot;sizePolicy&quot; &gt;
-          &lt;sizepolicy&gt;
-           &lt;hsizetype&gt;5&lt;/hsizetype&gt;
-           &lt;vsizetype&gt;0&lt;/vsizetype&gt;
+          &lt;sizepolicy vsizetype=&quot;Fixed&quot; hsizetype=&quot;Preferred&quot; &gt;
            &lt;horstretch&gt;0&lt;/horstretch&gt;
            &lt;verstretch&gt;0&lt;/verstretch&gt;
           &lt;/sizepolicy&gt;
@@ -92,9 +121,7 @@
        &lt;item row=&quot;1&quot; column=&quot;0&quot; &gt;
         &lt;widget class=&quot;QPushButton&quot; name=&quot;pushButtonHalfDVD&quot; &gt;
          &lt;property name=&quot;sizePolicy&quot; &gt;
-          &lt;sizepolicy&gt;
-           &lt;hsizetype&gt;7&lt;/hsizetype&gt;
-           &lt;vsizetype&gt;5&lt;/vsizetype&gt;
+          &lt;sizepolicy vsizetype=&quot;Preferred&quot; hsizetype=&quot;Expanding&quot; &gt;
            &lt;horstretch&gt;0&lt;/horstretch&gt;
            &lt;verstretch&gt;0&lt;/verstretch&gt;
           &lt;/sizepolicy&gt;
@@ -116,9 +143,7 @@
        &lt;item row=&quot;0&quot; column=&quot;0&quot; &gt;
         &lt;widget class=&quot;QPushButton&quot; name=&quot;pushButtonDVD&quot; &gt;
          &lt;property name=&quot;sizePolicy&quot; &gt;
-          &lt;sizepolicy&gt;
-           &lt;hsizetype&gt;5&lt;/hsizetype&gt;
-           &lt;vsizetype&gt;0&lt;/vsizetype&gt;
+          &lt;sizepolicy vsizetype=&quot;Fixed&quot; hsizetype=&quot;Preferred&quot; &gt;
            &lt;horstretch&gt;0&lt;/horstretch&gt;
            &lt;verstretch&gt;0&lt;/verstretch&gt;
           &lt;/sizepolicy&gt;
@@ -142,9 +167,7 @@
      &lt;item rowspan=&quot;4&quot; row=&quot;1&quot; column=&quot;2&quot; colspan=&quot;2&quot; &gt;
       &lt;widget class=&quot;QListWidget&quot; name=&quot;listWidgetAvailable&quot; &gt;
        &lt;property name=&quot;sizePolicy&quot; &gt;
-        &lt;sizepolicy&gt;
-         &lt;hsizetype&gt;7&lt;/hsizetype&gt;
-         &lt;vsizetype&gt;7&lt;/vsizetype&gt;
+        &lt;sizepolicy vsizetype=&quot;Expanding&quot; hsizetype=&quot;Expanding&quot; &gt;
          &lt;horstretch&gt;0&lt;/horstretch&gt;
          &lt;verstretch&gt;0&lt;/verstretch&gt;
         &lt;/sizepolicy&gt;
@@ -155,8 +178,8 @@
          &lt;height&gt;0&lt;/height&gt;
         &lt;/size&gt;
        &lt;/property&gt;
-       &lt;property name=&quot;cursor&quot; &gt;
-        &lt;cursor&gt;13&lt;/cursor&gt;
+       &lt;property name=&quot;cursor&quot; stdset=&quot;0&quot; &gt;
+        &lt;cursorShape&gt;PointingHandCursor&lt;/cursorShape&gt;
        &lt;/property&gt;
        &lt;property name=&quot;alternatingRowColors&quot; &gt;
         &lt;bool&gt;true&lt;/bool&gt;
@@ -166,9 +189,7 @@
      &lt;item rowspan=&quot;3&quot; row=&quot;1&quot; column=&quot;0&quot; colspan=&quot;2&quot; &gt;
       &lt;widget class=&quot;QListWidget&quot; name=&quot;listFilterCategory&quot; &gt;
        &lt;property name=&quot;sizePolicy&quot; &gt;
-        &lt;sizepolicy&gt;
-         &lt;hsizetype&gt;0&lt;/hsizetype&gt;
-         &lt;vsizetype&gt;7&lt;/vsizetype&gt;
+        &lt;sizepolicy vsizetype=&quot;Expanding&quot; hsizetype=&quot;Fixed&quot; &gt;
          &lt;horstretch&gt;0&lt;/horstretch&gt;
          &lt;verstretch&gt;0&lt;/verstretch&gt;
         &lt;/sizepolicy&gt;
@@ -179,8 +200,8 @@
          &lt;height&gt;340&lt;/height&gt;
         &lt;/size&gt;
        &lt;/property&gt;
-       &lt;property name=&quot;cursor&quot; &gt;
-        &lt;cursor&gt;13&lt;/cursor&gt;
+       &lt;property name=&quot;cursor&quot; stdset=&quot;0&quot; &gt;
+        &lt;cursorShape&gt;PointingHandCursor&lt;/cursorShape&gt;
        &lt;/property&gt;
        &lt;property name=&quot;mouseTracking&quot; &gt;
         &lt;bool&gt;false&lt;/bool&gt;
@@ -324,9 +345,7 @@
      &lt;item row=&quot;0&quot; column=&quot;5&quot; &gt;
       &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot; &gt;
        &lt;property name=&quot;sizePolicy&quot; &gt;
-        &lt;sizepolicy&gt;
-         &lt;hsizetype&gt;5&lt;/hsizetype&gt;
-         &lt;vsizetype&gt;4&lt;/vsizetype&gt;
+        &lt;sizepolicy vsizetype=&quot;Maximum&quot; hsizetype=&quot;Preferred&quot; &gt;
          &lt;horstretch&gt;0&lt;/horstretch&gt;
          &lt;verstretch&gt;0&lt;/verstretch&gt;
         &lt;/sizepolicy&gt;
@@ -339,9 +358,7 @@
      &lt;item rowspan=&quot;4&quot; row=&quot;1&quot; column=&quot;5&quot; colspan=&quot;11&quot; &gt;
       &lt;widget class=&quot;QListWidget&quot; name=&quot;listWidgetActive&quot; &gt;
        &lt;property name=&quot;sizePolicy&quot; &gt;
-        &lt;sizepolicy&gt;
-         &lt;hsizetype&gt;7&lt;/hsizetype&gt;
-         &lt;vsizetype&gt;7&lt;/vsizetype&gt;
+        &lt;sizepolicy vsizetype=&quot;Expanding&quot; hsizetype=&quot;Expanding&quot; &gt;
          &lt;horstretch&gt;0&lt;/horstretch&gt;
          &lt;verstretch&gt;0&lt;/verstretch&gt;
         &lt;/sizepolicy&gt;
@@ -352,8 +369,8 @@
          &lt;height&gt;0&lt;/height&gt;
         &lt;/size&gt;
        &lt;/property&gt;
-       &lt;property name=&quot;cursor&quot; &gt;
-        &lt;cursor&gt;13&lt;/cursor&gt;
+       &lt;property name=&quot;cursor&quot; stdset=&quot;0&quot; &gt;
+        &lt;cursorShape&gt;PointingHandCursor&lt;/cursorShape&gt;
        &lt;/property&gt;
        &lt;property name=&quot;alternatingRowColors&quot; &gt;
         &lt;bool&gt;true&lt;/bool&gt;
@@ -362,12 +379,21 @@
      &lt;/item&gt;
      &lt;item row=&quot;5&quot; column=&quot;5&quot; colspan=&quot;11&quot; &gt;
       &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-       &lt;property name=&quot;margin&quot; &gt;
-        &lt;number&gt;0&lt;/number&gt;
-       &lt;/property&gt;
        &lt;property name=&quot;spacing&quot; &gt;
         &lt;number&gt;6&lt;/number&gt;
        &lt;/property&gt;
+       &lt;property name=&quot;leftMargin&quot; &gt;
+        &lt;number&gt;0&lt;/number&gt;
+       &lt;/property&gt;
+       &lt;property name=&quot;topMargin&quot; &gt;
+        &lt;number&gt;0&lt;/number&gt;
+       &lt;/property&gt;
+       &lt;property name=&quot;rightMargin&quot; &gt;
+        &lt;number&gt;0&lt;/number&gt;
+       &lt;/property&gt;
+       &lt;property name=&quot;bottomMargin&quot; &gt;
+        &lt;number&gt;0&lt;/number&gt;
+       &lt;/property&gt;
        &lt;item&gt;
         &lt;spacer&gt;
          &lt;property name=&quot;orientation&quot; &gt;
@@ -384,9 +410,7 @@
        &lt;item&gt;
         &lt;widget class=&quot;QToolButton&quot; name=&quot;toolButtonConfigure&quot; &gt;
          &lt;property name=&quot;sizePolicy&quot; &gt;
-          &lt;sizepolicy&gt;
-           &lt;hsizetype&gt;0&lt;/hsizetype&gt;
-           &lt;vsizetype&gt;5&lt;/vsizetype&gt;
+          &lt;sizepolicy vsizetype=&quot;Preferred&quot; hsizetype=&quot;Fixed&quot; &gt;
            &lt;horstretch&gt;0&lt;/horstretch&gt;
            &lt;verstretch&gt;0&lt;/verstretch&gt;
           &lt;/sizepolicy&gt;
@@ -399,9 +423,7 @@
        &lt;item&gt;
         &lt;widget class=&quot;QToolButton&quot; name=&quot;toolButtonPartial&quot; &gt;
          &lt;property name=&quot;sizePolicy&quot; &gt;
-          &lt;sizepolicy&gt;
-           &lt;hsizetype&gt;0&lt;/hsizetype&gt;
-           &lt;vsizetype&gt;5&lt;/vsizetype&gt;
+          &lt;sizepolicy vsizetype=&quot;Preferred&quot; hsizetype=&quot;Fixed&quot; &gt;
            &lt;horstretch&gt;0&lt;/horstretch&gt;
            &lt;verstretch&gt;0&lt;/verstretch&gt;
           &lt;/sizepolicy&gt;
@@ -475,12 +497,21 @@
      &lt;/item&gt;
      &lt;item row=&quot;5&quot; column=&quot;2&quot; colspan=&quot;2&quot; &gt;
       &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-       &lt;property name=&quot;margin&quot; &gt;
-        &lt;number&gt;0&lt;/number&gt;
-       &lt;/property&gt;
        &lt;property name=&quot;spacing&quot; &gt;
         &lt;number&gt;6&lt;/number&gt;
        &lt;/property&gt;
+       &lt;property name=&quot;leftMargin&quot; &gt;
+        &lt;number&gt;0&lt;/number&gt;
+       &lt;/property&gt;
+       &lt;property name=&quot;topMargin&quot; &gt;
+        &lt;number&gt;0&lt;/number&gt;
+       &lt;/property&gt;
+       &lt;property name=&quot;rightMargin&quot; &gt;
+        &lt;number&gt;0&lt;/number&gt;
+       &lt;/property&gt;
+       &lt;property name=&quot;bottomMargin&quot; &gt;
+        &lt;number&gt;0&lt;/number&gt;
+       &lt;/property&gt;
        &lt;item&gt;
         &lt;spacer&gt;
          &lt;property name=&quot;orientation&quot; &gt;
@@ -512,9 +543,7 @@
      &lt;item row=&quot;0&quot; column=&quot;2&quot; &gt;
       &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot; &gt;
        &lt;property name=&quot;sizePolicy&quot; &gt;
-        &lt;sizepolicy&gt;
-         &lt;hsizetype&gt;5&lt;/hsizetype&gt;
-         &lt;vsizetype&gt;4&lt;/vsizetype&gt;
+        &lt;sizepolicy vsizetype=&quot;Maximum&quot; hsizetype=&quot;Preferred&quot; &gt;
          &lt;horstretch&gt;0&lt;/horstretch&gt;
          &lt;verstretch&gt;0&lt;/verstretch&gt;
         &lt;/sizepolicy&gt;
@@ -547,12 +576,21 @@
    &lt;/item&gt;
    &lt;item&gt;
     &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-     &lt;property name=&quot;margin&quot; &gt;
-      &lt;number&gt;0&lt;/number&gt;
-     &lt;/property&gt;
      &lt;property name=&quot;spacing&quot; &gt;
       &lt;number&gt;6&lt;/number&gt;
      &lt;/property&gt;
+     &lt;property name=&quot;leftMargin&quot; &gt;
+      &lt;number&gt;0&lt;/number&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;topMargin&quot; &gt;
+      &lt;number&gt;0&lt;/number&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;rightMargin&quot; &gt;
+      &lt;number&gt;0&lt;/number&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;bottomMargin&quot; &gt;
+      &lt;number&gt;0&lt;/number&gt;
+     &lt;/property&gt;
      &lt;item&gt;
       &lt;spacer&gt;
        &lt;property name=&quot;orientation&quot; &gt;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qslider.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qslider.cpp	2008-05-02 01:40:36 UTC (rev 4009)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qslider.cpp	2008-05-02 14:37:33 UTC (rev 4010)
@@ -12,12 +12,9 @@
 *                                                                         *
 ***************************************************************************/
 
-#include &quot;config.h&quot;
+#include &lt;QtGui/QPainter&gt;
+#include &lt;QtGui/QSlider&gt;
 
-#include &lt;math.h&gt;
-#include &lt;QPainter&gt;
-#include &lt;QSlider&gt;
-
 #include &quot;ADM_qslider.h&quot;
 
 ADM_QSlider::ADM_QSlider(QWidget *parent) : QSlider(parent)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2008-05-02 01:40:36 UTC (rev 4009)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2008-05-02 14:37:33 UTC (rev 4010)
@@ -1,8 +1,12 @@
 SET(ADM_LIB ADM_guiQt4)
-SET(${ADM_LIB}_SRCS avidemux_rsc.cpp  file_qt4.cpp  gui_none.cpp  ADM_qslider.cpp)
-SET(${ADM_LIB}_T preview)
-SET(${ADM_LIB}_Q gui2)
 
-Q_RCC(avidemux)
+QT4_WRAP_UI(${ADM_LIB}_header  gui2.ui)
+QT4_WRAP_CPP(${ADM_LIB}_source  Q_gui2.h  T_preview.h)
+QT4_ADD_RESOURCES(${ADM_LIB}_resource  avidemux.qrc)
 
-INCLUDE(adm_qt4)
\ No newline at end of file
+SET(${ADM_LIB}_SRCS
+	Q_gui2.cpp  T_preview.cpp  file_qt4.cpp  gui_none.cpp  ADM_qslider.cpp
+	${${ADM_LIB}_header}  ${${ADM_LIB}_source}  ${${ADM_LIB}_resource})
+
+INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR}  ${CMAKE_CURRENT_SOURCE_DIR})
+ADD_ADM_LIB_QT4_TARGET(${ADM_LIB} ${${ADM_LIB}_SRCS})
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2008-05-02 01:40:36 UTC (rev 4009)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2008-05-02 14:37:33 UTC (rev 4010)
@@ -13,23 +13,10 @@
  ***************************************************************************/
 #include &quot;config.h&quot;
 
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;math.h&gt;
-
-#include &lt;QtCore/QVariant&gt;
-#include &lt;QtGui/QAction&gt;
-#include &lt;QtGui/QApplication&gt;
-#include &lt;QtGui/QFrame&gt;
-#include &lt;QtGui/QGraphicsView&gt;
-#include &lt;QtGui/QMainWindow&gt;
-#include &lt;QtGui/QSlider&gt;
-#include &lt;QtGui/QStatusBar&gt;
-#include &lt;QtGui/QWidget&gt;
 #include &lt;QtGui/QKeyEvent&gt;
-#include &lt;QtGui/QValidator&gt;
+#include &lt;QtGui/QGraphicsView&gt;
 
-#include &quot;ADM_qslider.h&quot;
+#include &quot;Q_gui2.h&quot;
 #include &quot;ADM_default.h&quot;
 
 #include &quot;ADM_codecs/ADM_codec.h&quot;
@@ -71,8 +58,6 @@
 extern uint8_t AVDM_setVolume(int volume);
 #endif
 
-#include &quot;ui_gui2.h&quot;
-
 #define WIDGET(x)  (((MainWindow *)QuiMainWindows)-&gt;ui.x)
 
 #define CONNECT(object,zzz) connect( (ui.object),SIGNAL(triggered()),this,SLOT(buttonPressed()));
@@ -106,133 +91,103 @@
     Declare the class that will be our main window
 
 */
-class MainWindow : public QMainWindow
+
+void MainWindow::comboChanged(int z)
 {
-	Q_OBJECT
+	const char *source=qPrintable(sender()-&gt;objectName());
 
-public:
-	MainWindow();
-	virtual ~MainWindow();	
-	void buildCustomMenu(void);
-	
-	Ui_MainWindow ui;
-
-public slots:
-	void timeChanged(int);
-	void buttonPressed(void);
-	void custom(void);
-	void toolButtonPressed(bool z);
-
-	void comboChanged(int z)
+	if(!strcmp(source,&quot;comboBoxVideo&quot;))  
 	{
-		const char *source=qPrintable(sender()-&gt;objectName());
-
-		if(!strcmp(source,&quot;comboBoxVideo&quot;))  
+		bool b=FALSE;
+		if(ui.comboBoxVideo-&gt;currentIndex())
 		{
-			bool b=FALSE;
-			if(ui.comboBoxVideo-&gt;currentIndex())
-			{
-				b=TRUE;
-			}
-			ui.pushButtonVideoConf-&gt;setEnabled(b);
-			ui.pushButtonVideoFilter-&gt;setEnabled(b);
-			HandleAction (ACT_VideoCodecChanged) ;
+			b=TRUE;
 		}
-		else if(!strcmp(source,&quot;comboBoxAudio&quot;))  
+		ui.pushButtonVideoConf-&gt;setEnabled(b);
+		ui.pushButtonVideoFilter-&gt;setEnabled(b);
+		HandleAction (ACT_VideoCodecChanged) ;
+	}
+	else if(!strcmp(source,&quot;comboBoxAudio&quot;))  
+	{
+		bool b=FALSE;
+		if(ui.comboBoxAudio-&gt;currentIndex())
 		{
-			bool b=FALSE;
-			if(ui.comboBoxAudio-&gt;currentIndex())
-			{
-				b=TRUE;
-			}
-			ui.pushButtonAudioConf-&gt;setEnabled(b);
-			ui.pushButtonAudioFilter-&gt;setEnabled(b);
-			HandleAction (ACT_AudioCodecChanged) ;
+			b=TRUE;
 		}
-		else
-			printf(&quot;From +: %s\n&quot;,source);
+		ui.pushButtonAudioConf-&gt;setEnabled(b);
+		ui.pushButtonAudioFilter-&gt;setEnabled(b);
+		HandleAction (ACT_AudioCodecChanged) ;
 	}
+	else
+		printf(&quot;From +: %s\n&quot;,source);
+}
 
-	void sliderValueChanged(int u) 
-	{
-		if(!_upd_in_progres)
-			HandleAction(ACT_Scale);
-	}
+void MainWindow::sliderValueChanged(int u) 
+{
+	if(!_upd_in_progres)
+		HandleAction(ACT_Scale);
+}
 
-	void sliderMoved(int value)
-	{
-		SliderIsShifted = shiftKeyHeld;
-	}
+void MainWindow::sliderMoved(int value)
+{
+	SliderIsShifted = shiftKeyHeld;
+}
 
-	void sliderReleased(void)
-	{
-		SliderIsShifted = 0;
-	}
+void MainWindow::sliderReleased(void)
+{
+	SliderIsShifted = 0;
+}
 
-	void volumeChange( int u )
-	{
+void MainWindow::volumeChange( int u )
+{
 #ifdef HAVE_AUDIO
-		if (_upd_in_progres || !ui.toolButtonAudioToggle-&gt;isChecked())
-			return;
+	if (_upd_in_progres || !ui.toolButtonAudioToggle-&gt;isChecked())
+		return;
 
-		_upd_in_progres++;
+	_upd_in_progres++;
 
-		int vol = ui.horizontalSlider_2-&gt;value();
+	int vol = ui.horizontalSlider_2-&gt;value();
 
-		AVDM_setVolume(vol);
-		_upd_in_progres--;
+	AVDM_setVolume(vol);
+	_upd_in_progres--;
 #endif
-	}
+}
 
-	void audioToggled(bool checked)
-	{
+void MainWindow::audioToggled(bool checked)
+{
 #ifdef HAVE_AUDIO
-		if (checked)
-			AVDM_setVolume(ui.horizontalSlider_2-&gt;value());
-		else
-			AVDM_setVolume(0);
+	if (checked)
+		AVDM_setVolume(ui.horizontalSlider_2-&gt;value());
+	else
+		AVDM_setVolume(0);
 #endif
-	}
+}
 
-	void previewModeChanged(QAction *action)
-	{
-		HandleAction(ACT_PreviewChanged);
-	}
+void MainWindow::previewModeChanged(QAction *action)
+{
+	HandleAction(ACT_PreviewChanged);
+}
 
-	void previousIntraFrame(void);
-	void nextIntraFrame(void);
+void MainWindow::timeChangeFinished(void)
+{
+	this-&gt;setFocus(Qt::OtherFocusReason);
+}
 
-	void timeChangeFinished(void)
-	{
-		this-&gt;setFocus(Qt::OtherFocusReason);
-	}
+void MainWindow::currentFrameChanged(void)
+{
+	HandleAction(ACT_JumpToFrame);
 
-	void currentFrameChanged(void)
-	{
-		HandleAction(ACT_JumpToFrame);
+	this-&gt;setFocus(Qt::OtherFocusReason);
+}
 
-		this-&gt;setFocus(Qt::OtherFocusReason);
-	}
+void MainWindow::currentTimeChanged(void)
+{
+	HandleAction(ACT_JumpToTime);
 
-	void currentTimeChanged(void)
-	{
-		HandleAction(ACT_JumpToTime);
+	this-&gt;setFocus(Qt::OtherFocusReason);
+}
 
-		this-&gt;setFocus(Qt::OtherFocusReason);
-	}
 
-protected:
-	void clearCustomMenu(void);
-	bool eventFilter(QObject* watched, QEvent* event);
-	void mousePressEvent(QMouseEvent* event);
-
-private slots:
-
-private:
-
-};
-
-
 MainWindow::MainWindow() : QMainWindow()
 {
 	ui.setupUi(this);

Added: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.h	2008-05-02 01:40:36 UTC (rev 4009)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.h	2008-05-02 14:37:33 UTC (rev 4010)
@@ -0,0 +1,45 @@
+#ifndef Q_gui2_h
+#define Q_gui2_h
+
+#include &lt;QtGui/QSlider&gt;
+#include &lt;QtGui/QWidget&gt;
+
+#include &quot;ADM_qslider.h&quot;
+#include &quot;ui_gui2.h&quot;
+
+class MainWindow : public QMainWindow
+{
+	Q_OBJECT
+
+public:
+	MainWindow();
+	virtual ~MainWindow();	
+	void buildCustomMenu(void);
+	
+	Ui_MainWindow ui;
+
+public slots:
+	void timeChanged(int);
+	void buttonPressed(void);
+	void custom(void);
+	void toolButtonPressed(bool z);
+
+	void comboChanged(int z);
+	void sliderValueChanged(int u);
+	void sliderMoved(int value);
+	void sliderReleased(void);
+	void volumeChange( int u );
+	void audioToggled(bool checked);
+	void previewModeChanged(QAction *action);
+	void previousIntraFrame(void);
+	void nextIntraFrame(void);
+	void timeChangeFinished(void);
+	void currentFrameChanged(void);
+	void currentTimeChanged(void);
+
+protected:
+	void clearCustomMenu(void);
+	bool eventFilter(QObject* watched, QEvent* event);
+	void mousePressEvent(QMouseEvent* event);
+};
+#endif	// Q_gui2_h

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-05-02 01:40:36 UTC (rev 4009)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-05-02 14:37:33 UTC (rev 4010)
@@ -15,38 +15,23 @@
  *                                                                         *
  ***************************************************************************/
 
-#include &quot;config.h&quot;
- 
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-
-#include &lt;time.h&gt;
-#include &lt;sys/time.h&gt;
-
-#include &lt;QtCore/QVariant&gt;
-#include &lt;QtGui/QAction&gt;
-#include &lt;QtGui/QApplication&gt;
-#include &lt;QtGui/QButtonGroup&gt;
 #include &lt;QtGui/QFrame&gt;
-#include &lt;QtGui/QGraphicsView&gt;
-#include &lt;QtGui/QSlider&gt;
-#include &lt;QMessageBox&gt;
-#include &lt;QPainter&gt;
-#include &lt;QImage&gt;
+#include &lt;QtGui/QImage&gt;
+#include &lt;QtGui/QPainter&gt;
+
 /* Probably on unix/X11 ..*/
 #ifdef __APPLE__
 #include &lt;Carbon/Carbon.h&gt;
 #elif !defined(__WIN32)
-#include &lt;QX11Info&gt;
+#include &lt;QtGui/QX11Info&gt;
 #endif
 
+#include &quot;T_preview.h&quot;
 #include &quot;ADM_colorspace.h&quot;
 #include &quot;GUI_render.h&quot;
 #include &quot;GUI_accelRender.h&quot;
 #include &quot;prefs.h&quot;
 #include &quot;ADM_assert.h&quot;
-#include &quot;ui_gui2.h&quot;
     
 void UI_QT4VideoWidget(QFrame *host);
 static QFrame *hostFrame=NULL;
@@ -77,45 +62,30 @@
   It is a base QWidget where the image will be put by painter.
 
 */
-class  ADM_Qvideo : public QWidget
+
+ADM_Qvideo::ADM_Qvideo(QWidget *z) : QWidget(z) {}
+ADM_Qvideo::~ADM_Qvideo() {}
+
+void ADM_Qvideo::paintEvent(QPaintEvent *ev)
 {
-     Q_OBJECT
-    
-  signals:
-        
-        
-   public slots:
-        
-  public:
-        ADM_Qvideo(QWidget *z) : QWidget(z) 
-        {
-          
-        }
-        ~ADM_Qvideo() {};
-        /**
-            \fn paintEvent( QPaintEvent *ev))
-            \brief Repaint our &quot;video&quot; widget, ignore when accelRender is on
-        */
-        void paintEvent(QPaintEvent *ev)
-        {
-          if(!displayW || !displayH || !rgbDataBuffer || accelRender)
-            return ;
+	if(!displayW || !displayH || !rgbDataBuffer || accelRender)
+		return ;
 
-          if(accelRender) 
-          {
-            if(lastImage)
-            {
-              accelRender-&gt;display(lastImage,displayW,displayH);
-            }
-          }else
-          {
-            QImage image(rgbDataBuffer,displayW,displayH,QImage::Format_RGB32);
-              QPainter painter(this);
-              painter.drawImage(QPoint(0,0),image);
-              painter.end();
-          }
-        }
-};
+	if(accelRender) 
+	{
+		if(lastImage)
+		{
+			accelRender-&gt;display(lastImage,displayW,displayH);
+		}
+	}else
+	{
+		QImage image(rgbDataBuffer,displayW,displayH,QImage::Format_RGB32);
+		QPainter painter(this);
+		painter.drawImage(QPoint(0,0),image);
+		painter.end();
+	}
+}
+
 ADM_Qvideo *videoWindow=NULL;
 //****************************************************************************************************
 void UI_QT4VideoWidget(QFrame *host)

Added: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.h	2008-05-02 01:40:36 UTC (rev 4009)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.h	2008-05-02 14:37:33 UTC (rev 4010)
@@ -0,0 +1,16 @@
+#ifndef T_preview_h
+#define T_preview_h
+
+#include &lt;QtGui/QPaintEvent&gt;
+#include &lt;QtGui/QWidget&gt;
+
+class  ADM_Qvideo : public QWidget
+{
+	Q_OBJECT
+
+public:
+	ADM_Qvideo(QWidget *z);
+	~ADM_Qvideo();
+	void paintEvent(QPaintEvent *ev);
+};
+#endif	// T_preview_h

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h	2008-05-02 01:40:36 UTC (rev 4009)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h	2008-05-02 14:37:33 UTC (rev 4010)
@@ -94,4 +94,4 @@
 PROCESS(toolButtonFirstFrame, ACT_Begin) \
 PROCESS(toolButtonLastFrame, ACT_End) \
 PROCESS(pushButtonJumpToMarkerA, ACT_GotoMarkA) \
-PROCESS(pushButtonJumpToMarkerB, ACT_GotoMarkB)
\ No newline at end of file
+PROCESS(pushButtonJumpToMarkerB, ACT_GotoMarkB)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/CMakeLists.txt	2008-05-02 01:40:36 UTC (rev 4009)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/CMakeLists.txt	2008-05-02 14:37:33 UTC (rev 4010)
@@ -1,6 +1,10 @@
 SET(ADM_LIB ADM_ocrQt4)
-SET(${ADM_LIB}_Q ocr)
-SET(${ADM_LIB}_T)
-SET(${ADM_LIB}_SRCS)
 
-INCLUDE(adm_qt4)
\ No newline at end of file
+QT4_WRAP_UI(${ADM_LIB}_header  ocr.ui)
+QT4_WRAP_CPP(${ADM_LIB}_source  Q_ocr.h)
+
+SET(${ADM_LIB}_SRCS
+	Q_ocr.cpp  ${${ADM_LIB}_header}  ${${ADM_LIB}_source})
+
+INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR})
+ADD_ADM_LIB_QT4_TARGET(${ADM_LIB} ${${ADM_LIB}_SRCS})
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/Q_ocr.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/Q_ocr.cpp	2008-05-02 01:40:36 UTC (rev 4009)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/Q_ocr.cpp	2008-05-02 14:37:33 UTC (rev 4010)
@@ -16,104 +16,54 @@
  *                                                                         *
  ***************************************************************************/
 
-#include &quot;config.h&quot;
-#include &lt;math.h&gt;
+#include &quot;Q_ocr.h&quot;
 
-#include &quot;ui_ocr.h&quot;
-
-#include &quot;ADM_default.h&quot;
-
-#include &quot;DIA_fileSel.h&quot;
-#include &quot;ADM_image.h&quot;
-#include &quot;ADM_videoFilter.h&quot;
-
-
-#include &quot;ADM_videoFilter/ADM_vobsubinfo.h&quot;
-#include &quot;ADM_videoFilter/ADM_vidVobSub.h&quot;
-
-#include &quot;ADM_ocr/ADM_ocr.h&quot;
-#include &quot;ADM_ocr/ADM_ocrInternal.h&quot;
-#include &quot;ui_ocr.h&quot;
-#include &quot;../ADM_dialog/DIA_flyDialogQt4.h&quot;
 extern void UI_purge(void);
 
 //*********************************************
-class Ui_ocrWindow : public QDialog
- {
-     Q_OBJECT
- protected :
-	 
- public:
-     Ui_ocrWindow(void);
-     ~Ui_ocrWindow();
-     Ui_DialogOcr ui;
      
-     uint32_t _w,_h;
-     uint8_t *data;
-     ADM_QCanvas *canvas;
-     admGlyph *_glyph,*_head;
-     char *_decodedString;
-     
-     ADM_QCanvas *smallCanvas;
-     ReplyType _reply;
-     
-     void setGlyph(admGlyph *glyph,admGlyph *head,char *decodedString)
-     {
-    	 		_glyph=glyph;
-    	 		_head=head;
-    	 		_decodedString=decodedString;
-     }
-     void dialogReturn(ReplyType r)
-     {
-    	 _reply=r;
-    	 accept();
-     }
-     
-     void resizeSmall(uint32_t w,uint32_t h,uint8_t *smallData)
-     {
-    	 	smallCanvas-&gt;changeSize(w*2,h*2);
-    		smallCanvas-&gt;dataBuffer=smallData;
-    		QGraphicsView *graphicsView=ui.smallView;
-    		
-    		graphicsView-&gt;resize(w*2, h*2);
-    		smallCanvas-&gt;setMinimumSize(w*2,h*2);
-    		smallCanvas-&gt;resize(w*2, h*2); 
-     }
-     
- public slots:
- 		void pushButtonCalibrate(bool i);
- 		void pushButtonSkipAll(bool i);
- 		void pushButtonSkip(bool i);
- 		void pushButtonIgnore(bool i);
- 		
- 		void pushButtonOk(bool i);
- 		void pushButtonClose(bool i);
+void Ui_ocrWindow::setGlyph(admGlyph *glyph,admGlyph *head,char *decodedString)
+{
+	_glyph=glyph;
+	_head=head;
+	_decodedString=decodedString;
+}
 
- private slots:
- private:
-     
- };
-  Ui_ocrWindow::Ui_ocrWindow(void)
-  {
-        ui.setupUi(this);
-        ui.textEdit-&gt;setReadOnly(TRUE);
-        data=NULL;
-        _w=_h=100;
-        canvas=new ADM_QCanvas(ui.bigView,_w,_h);
-        smallCanvas= new ADM_QCanvas(ui.smallView,_w,_h);
-#define BUTTON(x)   connect(ui.x,SIGNAL(clicked(bool)),this,SLOT(x(bool)))
-        BUTTON(pushButtonCalibrate);
-        BUTTON(pushButtonSkipAll);
-        BUTTON(pushButtonSkip);
-        BUTTON(pushButtonIgnore);
-        BUTTON(pushButtonOk);
-        BUTTON(pushButtonClose);
-        _glyph=_head=NULL;
-        _decodedString=NULL;
-        //ui.lineEdit-&gt;setBuddy(ui.pushButtonOk);
-        
+void Ui_ocrWindow::dialogReturn(ReplyType r)
+{
+	_reply=r;
+	accept();
+}
 
-  }
+void Ui_ocrWindow::resizeSmall(uint32_t w,uint32_t h,uint8_t *smallData)
+{
+	smallCanvas-&gt;changeSize(w*2,h*2);
+	smallCanvas-&gt;dataBuffer=smallData;
+	QGraphicsView *graphicsView=ui.smallView;
+
+	graphicsView-&gt;resize(w*2, h*2);
+	smallCanvas-&gt;setMinimumSize(w*2,h*2);
+	smallCanvas-&gt;resize(w*2, h*2); 
+}
+
+Ui_ocrWindow::Ui_ocrWindow(void)
+{
+	ui.setupUi(this);
+	ui.textEdit-&gt;setReadOnly(TRUE);
+	data=NULL;
+	_w=_h=100;
+	canvas=new ADM_QCanvas(ui.bigView,_w,_h);
+	smallCanvas= new ADM_QCanvas(ui.smallView,_w,_h);
+#define BUTTON(x)   connect(ui.x,SIGNAL(clicked(bool)),this,SLOT(x(bool)))
+	BUTTON(pushButtonCalibrate);
+	BUTTON(pushButtonSkipAll);
+	BUTTON(pushButtonSkip);
+	BUTTON(pushButtonIgnore);
+	BUTTON(pushButtonOk);
+	BUTTON(pushButtonClose);
+	_glyph=_head=NULL;
+	_decodedString=NULL;
+}
 //***********************************************
 
 void  Ui_ocrWindow::pushButtonSkip(bool i)

Added: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/Q_ocr.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/Q_ocr.h	2008-05-02 01:40:36 UTC (rev 4009)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/Q_ocr.h	2008-05-02 14:37:33 UTC (rev 4010)
@@ -0,0 +1,41 @@
+#ifndef Q_ocr_h
+#define Q_ocr_h
+
+#include &quot;ui_ocr.h&quot;
+#include &quot;ADM_image.h&quot;
+#include &quot;ADM_videoFilter.h&quot;
+#include &quot;ADM_ocr/ADM_ocr.h&quot;
+#include &quot;ADM_ocr/ADM_ocrInternal.h&quot;
+#include &quot;../ADM_dialog/DIA_flyDialogQt4.h&quot;
+
+class Ui_ocrWindow : public QDialog
+{
+	Q_OBJECT
+
+public:
+	Ui_ocrWindow(void);
+	~Ui_ocrWindow();
+	Ui_DialogOcr ui;
+
+	uint32_t _w,_h;
+	uint8_t *data;
+	ADM_QCanvas *canvas;
+	admGlyph *_glyph,*_head;
+	char *_decodedString;
+
+	ADM_QCanvas *smallCanvas;
+	ReplyType _reply;
+
+	void setGlyph(admGlyph *glyph,admGlyph *head,char *decodedString);
+	void dialogReturn(ReplyType r);
+	void resizeSmall(uint32_t w,uint32_t h,uint8_t *smallData);
+
+public slots:
+	void pushButtonCalibrate(bool i);
+	void pushButtonSkipAll(bool i);
+	void pushButtonSkip(bool i);
+	void pushButtonIgnore(bool i);
+	void pushButtonOk(bool i);
+	void pushButtonClose(bool i);
+};
+#endif	// Q_ocr_h

Deleted: branches/avidemux_2.5_branch_gruntster/cmake/adm_qt4.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/adm_qt4.cmake	2008-05-02 01:40:36 UTC (rev 4009)
+++ branches/avidemux_2.5_branch_gruntster/cmake/adm_qt4.cmake	2008-05-02 14:37:33 UTC (rev 4010)
@@ -1,59 +0,0 @@
-# Cygwin and MSYS require escaping but standalone MinGW doesn't.
-IF (MINGW AND NOT MSYS)
-	SET(VERBATIM &quot;&quot;)
-ELSE (MINGW AND NOT MSYS)
-	SET(VERBATIM &quot;VERBATIM&quot;)
-ENDIF(MINGW AND NOT MSYS)
-
-##############################################################&quot;
-# FOR AQ
-# Q_foo.cpp and foo.ui =&gt; AQ_foo.cpp, ui_foo.h and Q_foo.moc
-##############################################################&quot;
-MACRO(Q_UIMOCIFY _source)
-	ADD_CUSTOM_COMMAND(OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/AQ_${_source}.cpp
-		COMMAND  ${QT_UIC_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/${_source}.ui -o ui_${_source}.h
-		COMMAND  ${QT_MOC_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/Q_${_source}.cpp -o Q_${_source}.moc
-		COMMAND  echo &quot;#include \&quot;Q_${_source}.cpp\&quot;&quot; &gt; AQ_${_source}.cpp
-		COMMAND  echo &quot;#include \&quot;Q_${_source}.moc\&quot;&quot; &gt;&gt; AQ_${_source}.cpp
-		DEPENDS  ${CMAKE_CURRENT_SOURCE_DIR}/${_source}.ui  ${CMAKE_CURRENT_SOURCE_DIR}/Q_${_source}.cpp
-		${VERBATIM})
-ENDMACRO(Q_UIMOCIFY _source)
-
-##############################################################&quot;
-# FOR 
-# foo.qrc-&gt;foo_rsc.cpp
-##############################################################&quot;
-# $(RCC)  $&lt; -o $@   -name filter
-MACRO(Q_RCC _source)
-	ADD_CUSTOM_COMMAND(OUTPUT   ${CMAKE_CURRENT_BINARY_DIR}/${_source}_rsc.cpp
-		COMMAND  ${QT_RCC_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/${_source}.qrc -o ${_source}_rsc.cpp -name ${_source}
-		DEPENDS  ${CMAKE_CURRENT_SOURCE_DIR}/${_source}.qrc
-		${VERBATIM})
-ENDMACRO(Q_RCC _source)
-
-##############################################################&quot;
-# FOR AT
-# T_foo.cpp i =&gt; AT_foo.cpp and T_foo.moc
-##############################################################&quot;
-MACRO(Q_MOCIFY _source)
-	ADD_CUSTOM_COMMAND(OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/AT_${_source}.cpp
-		COMMAND  ${QT_MOC_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/T_${_source}.cpp -o T_${_source}.moc 
-		COMMAND  echo &quot;#include \&quot;T_${_source}.cpp\&quot;&quot; &gt; AT_${_source}.cpp
-		COMMAND  echo &quot;#include \&quot;T_${_source}.moc\&quot;&quot; &gt;&gt; AT_${_source}.cpp
-		DEPENDS  ${CMAKE_CURRENT_SOURCE_DIR}/T_${_source}.cpp
-		${VERBATIM})
-ENDMACRO(Q_MOCIFY _source)
-
-# Add to our Targets..
-FOREACH(_current ${${ADM_LIB}_Q})
-	Q_UIMOCIFY(${_current})
-	SET(${ADM_LIB}_SRCS ${${ADM_LIB}_SRCS} ${CMAKE_CURRENT_BINARY_DIR}/AQ_${_current}.cpp)
-ENDFOREACH(_current ${${ADM_LIB}_Q})
-
-FOREACH(_current ${${ADM_LIB}_T})
-	Q_MOCIFY(${_current})
-	SET(${ADM_LIB}_SRCS ${${ADM_LIB}_SRCS} ${CMAKE_CURRENT_BINARY_DIR}/AT_${_current}.cpp)
-ENDFOREACH(_current ${${ADM_LIB}_T})
-
-ADD_ADM_LIB_QT4_TARGET(${ADM_LIB} ${${ADM_LIB}_SRCS})
-ADD_CFLAGS_QT4_TARGET(${ADM_LIB} -I${QT_INCLUDE_DIR} -I${QT_QTCORE_INCLUDE_DIR} -I${QT_QTGUI_INCLUDE_DIR} -I${CMAKE_CURRENT_SOURCE_DIR} -I${CMAKE_CURRENT_BINARY_DIR} ${QT_DEFINITIONS})
\ No newline at end of file


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001269.html">[Avidemux-svn-commit] r4009 - in	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4:	ADM_dialogFactory ADM_filters
</A></li>
	<LI>Next message: <A HREF="001271.html">[Avidemux-svn-commit] r4012 - in	branches/avidemux_2.5_branch_gruntster/avidemux:	ADM_coreImage/include ADM_coreImage/src	ADM_libraries/ADM_utilities ADM_videoFilter plugins/ADM_videoFilters	plugins/ADM_videoFilters/BlendRemover	plugins/ADM_videoFilters/Decimate	plugins/ADM_videoFilters/FastConvolution	plugins/ADM_videoFilters/McDeint plugins/ADM_videoFilters/Telecide
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1270">[ date ]</a>
              <a href="thread.html#1270">[ thread ]</a>
              <a href="subject.html#1270">[ subject ]</a>
              <a href="author.html#1270">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
