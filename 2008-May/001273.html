<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r4014 - in	branches/avidemux_2.4_branch/avidemux: .	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialog	ADM_userInterfaces/ADM_commonUI
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2008-May/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4014%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20.%0A%09ADM_userInterfaces/ADM_GTK/ADM_dialog%0A%09ADM_userInterfaces/ADM_NONE/ADM_dialog%0A%09ADM_userInterfaces/ADM_QT4/ADM_dialog%0A%09ADM_userInterfaces/ADM_commonUI&In-Reply-To=%3C200805030133.m431XGU2020587%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001272.html">
   <LINK REL="Next"  HREF="001274.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r4014 - in	branches/avidemux_2.4_branch/avidemux: .	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialog	ADM_userInterfaces/ADM_commonUI</H1>
    <B>gruntster at mail.berlios.de</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4014%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20.%0A%09ADM_userInterfaces/ADM_GTK/ADM_dialog%0A%09ADM_userInterfaces/ADM_NONE/ADM_dialog%0A%09ADM_userInterfaces/ADM_QT4/ADM_dialog%0A%09ADM_userInterfaces/ADM_commonUI&In-Reply-To=%3C200805030133.m431XGU2020587%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r4014 - in	branches/avidemux_2.4_branch/avidemux: .	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialog	ADM_userInterfaces/ADM_commonUI">gruntster at mail.berlios.de
       </A><BR>
    <I>Sat May  3 03:33:16 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001272.html">[Avidemux-svn-commit] r4013 -	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui
</A></li>
        <LI>Next message: <A HREF="001274.html">[Avidemux-svn-commit] r4015 -	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1273">[ date ]</a>
              <a href="thread.html#1273">[ thread ]</a>
              <a href="subject.html#1273">[ subject ]</a>
              <a href="author.html#1273">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: gruntster
Date: 2008-05-03 03:33:10 +0200 (Sat, 03 May 2008)
New Revision: 4014

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_jobs_save.cpp
Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
Log:
[Jobs] use dialogFactory for Add to Joblist window

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/CMakeLists.txt	2008-05-03 00:53:30 UTC (rev 4013)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/CMakeLists.txt	2008-05-03 01:33:10 UTC (rev 4014)
@@ -9,7 +9,7 @@
 DIA_acodec.cpp    DIA_chromaShift.cpp  DIA_encoding.cpp   DIA_hue.cpp        DIA_ocr.cpp       DIA_properties.cpp  DIA_vcodec.cpp   DIA_xvid.cpp
 DIA_cnr2.cpp         DIA_eq2.cpp        DIA_idx_pg.cpp     DIA_partial.cpp   DIA_quota.cpp       DIA_vobsub.cpp
 DIA_asharp.cpp    DIA_coloryuv.cpp     DIA_equalizer.cpp  DIA_jobs.cpp       DIA_pause.cpp     DIA_recent.cpp      DIA_working.cpp
-DIA_busy.cpp      DIA_contrast.cpp     DIA_exLame.cpp     DIA_jobs_save.cpp  DIA_pipe.cpp      DIA_resize.cpp      DIA_x264.cpp
+DIA_busy.cpp      DIA_contrast.cpp     DIA_exLame.cpp     DIA_pipe.cpp      DIA_resize.cpp      DIA_x264.cpp
 DIA_threshold.cpp DIA_SwissArmyKnife.cpp DIA_particle.cpp DIA_eraser.cpp
 )
 ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp	2008-05-03 00:53:30 UTC (rev 4013)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp	2008-05-03 01:33:10 UTC (rev 4014)
@@ -1,219 +0,0 @@
-#include &lt;sys/types.h&gt;
-#include &lt;sys/stat.h&gt;
-#include &lt;unistd.h&gt;
-#include &lt;string.h&gt;
-#include &lt;stdio.h&gt;
-
-#include &lt;gdk/gdkkeysyms.h&gt;
-#include &lt;gtk/gtk.h&gt;
-
-
-#include &lt;gdk/gdkkeysyms.h&gt;
-#include &lt;gtk/gtk.h&gt;
-# include &lt;math.h&gt;
-# include &quot;config.h&quot;
-#include &quot;default.h&quot;
-#include &quot;ADM_toolkit_gtk/ADM_gladeSupport.h&quot;
-#include &quot;ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;ADM_toolkit_gtk/toolkit_gtk_include.h&quot;
-#include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
-#include &quot;avidemutils.h&quot;
-
-static GtkWidget       *create_dialog1 (void);
-
-#define actionBrowse 31
-
-
-uint8_t  DIA_job_select(char **jobname, char **filename)
-{
-uint8_t ret=0;
-char *tmp=NULL,*tmp2=NULL;
-        *jobname=NULL;
-        *filename=NULL;
-
-        GtkWidget *dialog;
-
-        dialog=create_dialog1();
-        gtk_register_dialog(dialog);
-        gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(buttonBrowse),actionBrowse);
-        while(1)
-        {
-                switch(gtk_dialog_run(GTK_DIALOG(dialog)))
-                {
-                        case actionBrowse:
-                                        {
-                                        
-                                        int r;
-                                        char *escape=NULL;
-                                                GUI_FileSelWrite(QT_TR_NOOP(&quot;Select Video to Write&quot;),&amp;tmp);
-                                                if(!tmp) continue;
-                                                escape=ADM_escape((ADM_filename *)tmp);
-                                                gtk_editable_delete_text(GTK_EDITABLE(WID(entryOutputFileName)), 0,-1);
-                                                gtk_editable_insert_text(GTK_EDITABLE(WID(entryOutputFileName)), escape, strlen(escape), &amp;r);
-                                                ADM_dealloc(tmp);
-                                                delete [] escape;
-                                        }
-                                        break;
-                        case GTK_RESPONSE_OK: 
-                                        {
-                                           tmp=gtk_editable_get_chars(GTK_EDITABLE (WID(entryOutputFileName)), 0, -1);
-                                           if(!tmp || !*tmp)
-                                           {
-                                             GUI_Error_HIG(QT_TR_NOOP(&quot;Invalid filename&quot;),QT_TR_NOOP(&quot;Please select or enter a valid filename.&quot;));
-                                                        continue;
-                                            }
-                                           tmp2=gtk_editable_get_chars(GTK_EDITABLE (WID(entryJobName)), 0, -1);
-                                           if(!tmp2 || !*tmp2)
-                                           {
-                                             GUI_Error_HIG(QT_TR_NOOP(&quot;Invalid jobname&quot;),QT_TR_NOOP(&quot;Please select or enter a valid jobname.&quot;));
-                                                        continue;
-                                            }
-                                            *jobname=ADM_strdup(tmp2);
-                                            *filename=ADM_strdup(tmp);
-                                            ret=1;
-                                        }
-                        default: goto _nxt;
-                }
-        }
-_nxt:
-        gtk_unregister_dialog(dialog);
-        gtk_widget_destroy(dialog);
-        return ret;
-}
-//**************************************************
-//*************************************
-
-GtkWidget       *create_dialog1 (void)
-{
-  GtkWidget *SaveJob;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *table1;
-  GtkWidget *buttonBrowse;
-  GtkWidget *alignment1;
-  GtkWidget *hbox1;
-  GtkWidget *image1;
-  GtkWidget *label3;
-  GtkWidget *entryJobName;
-  GtkWidget *entryOutputFileName;
-  GtkWidget *label1;
-  GtkWidget *label2;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *okbutton1;
-  GtkTooltips *tooltips;
-
-  tooltips = gtk_tooltips_new ();
-
-  SaveJob = gtk_dialog_new ();
-  gtk_container_set_border_width (GTK_CONTAINER (SaveJob), 6);
-  gtk_window_set_title (GTK_WINDOW (SaveJob), QT_TR_NOOP(&quot;Save Job&quot;));
-  gtk_window_set_type_hint (GTK_WINDOW (SaveJob), GDK_WINDOW_TYPE_HINT_DIALOG);
-  gtk_window_set_resizable (GTK_WINDOW (SaveJob), FALSE);
-  gtk_dialog_set_has_separator (GTK_DIALOG (SaveJob), FALSE);
-
-  dialog_vbox1 = GTK_DIALOG (SaveJob)-&gt;vbox;
-  gtk_box_set_spacing (GTK_BOX(dialog_vbox1), 12);
-  gtk_widget_show (dialog_vbox1);
-
-  table1 = gtk_table_new (2, 3, FALSE);
-  gtk_widget_show (table1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), table1, FALSE, FALSE, 0);
-  gtk_container_set_border_width (GTK_CONTAINER (table1), 6);
-  gtk_table_set_row_spacings (GTK_TABLE (table1), 6);
-  gtk_table_set_col_spacings (GTK_TABLE (table1), 12);
-
-  buttonBrowse = gtk_button_new ();
-  gtk_widget_show (buttonBrowse);
-  gtk_table_attach (GTK_TABLE (table1), buttonBrowse, 2, 3, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_tooltips_set_tip (tooltips, buttonBrowse, QT_TR_NOOP(&quot;Select the output file&quot;), NULL);
-
-  alignment1 = gtk_alignment_new (0.5, 0.5, 0, 0);
-  gtk_widget_show (alignment1);
-  gtk_container_add (GTK_CONTAINER (buttonBrowse), alignment1);
-
-  hbox1 = gtk_hbox_new (FALSE, 2);
-  gtk_widget_show (hbox1);
-  gtk_container_add (GTK_CONTAINER (alignment1), hbox1);
-
-  image1 = gtk_image_new_from_stock (&quot;gtk-open&quot;, GTK_ICON_SIZE_BUTTON);
-  gtk_widget_show (image1);
-  gtk_box_pack_start (GTK_BOX (hbox1), image1, FALSE, FALSE, 0);
-
-  label3 = gtk_label_new_with_mnemonic (QT_TR_NOOP(&quot;_Browse...&quot;));
-  gtk_widget_show (label3);
-  gtk_box_pack_start (GTK_BOX (hbox1), label3, FALSE, FALSE, 0);
-
-  entryJobName = gtk_entry_new ();
-  gtk_widget_show (entryJobName);
-  gtk_table_attach (GTK_TABLE (table1), entryJobName, 1, 2, 0, 1,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
-  gtk_tooltips_set_tip (tooltips, entryJobName, QT_TR_NOOP(&quot;Job name displayed in the job list and used as the script filename&quot;), NULL);
-  gtk_entry_set_max_length (GTK_ENTRY (entryJobName), 40);
-  gtk_entry_set_width_chars (GTK_ENTRY (entryJobName), 40);
-
-  entryOutputFileName = gtk_entry_new ();
-  gtk_widget_show (entryOutputFileName);
-  gtk_table_attach (GTK_TABLE (table1), entryOutputFileName, 1, 2, 1, 2,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
-  gtk_tooltips_set_tip (tooltips, entryOutputFileName, QT_TR_NOOP(&quot;Filename of the audio/video output&quot;), NULL);
-  gtk_entry_set_width_chars (GTK_ENTRY (entryOutputFileName), 40);
-
-  label1 = gtk_label_new_with_mnemonic (QT_TR_NOOP(&quot;_Job name:&quot;));
-  gtk_widget_show (label1);
-  gtk_table_attach (GTK_TABLE (table1), label1, 0, 1, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label1), 0, 0.5);
-
-  label2 = gtk_label_new_with_mnemonic (QT_TR_NOOP(&quot;Output _file:&quot;));
-  gtk_widget_show (label2);
-  gtk_table_attach (GTK_TABLE (table1), label2, 0, 1, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
-
-  dialog_action_area1 = GTK_DIALOG (SaveJob)-&gt;action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  cancelbutton1 = gtk_button_new_from_stock (&quot;gtk-cancel&quot;);
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (SaveJob), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock (&quot;gtk-ok&quot;);
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (SaveJob), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-  gtk_label_set_mnemonic_widget (GTK_LABEL (label1), entryJobName);
-  gtk_label_set_mnemonic_widget (GTK_LABEL (label2), entryOutputFileName);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (SaveJob, SaveJob, &quot;SaveJob&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (SaveJob, dialog_vbox1, &quot;dialog_vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (SaveJob, table1, &quot;table1&quot;);
-  GLADE_HOOKUP_OBJECT (SaveJob, buttonBrowse, &quot;buttonBrowse&quot;);
-  GLADE_HOOKUP_OBJECT (SaveJob, alignment1, &quot;alignment1&quot;);
-  GLADE_HOOKUP_OBJECT (SaveJob, hbox1, &quot;hbox1&quot;);
-  GLADE_HOOKUP_OBJECT (SaveJob, image1, &quot;image1&quot;);
-  GLADE_HOOKUP_OBJECT (SaveJob, label3, &quot;label3&quot;);
-  GLADE_HOOKUP_OBJECT (SaveJob, entryJobName, &quot;entryJobName&quot;);
-  GLADE_HOOKUP_OBJECT (SaveJob, entryOutputFileName, &quot;entryOutputFileName&quot;);
-  GLADE_HOOKUP_OBJECT (SaveJob, label1, &quot;label1&quot;);
-  GLADE_HOOKUP_OBJECT (SaveJob, label2, &quot;label2&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (SaveJob, dialog_action_area1, &quot;dialog_action_area1&quot;);
-  GLADE_HOOKUP_OBJECT (SaveJob, cancelbutton1, &quot;cancelbutton1&quot;);
-  GLADE_HOOKUP_OBJECT (SaveJob, okbutton1, &quot;okbutton1&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (SaveJob, tooltips, &quot;tooltips&quot;);
-
-  gtk_widget_grab_focus (entryJobName);
-  gtk_widget_grab_default (okbutton1);
-  return SaveJob;
-}
-

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2008-05-03 00:53:30 UTC (rev 4013)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2008-05-03 01:33:10 UTC (rev 4014)
@@ -79,7 +79,6 @@
 		   				   uint32_t * br,uint32_t *fsize,FFcodecSetting *conf) {return 0;}
 uint8_t DIA_xvid4(COMPRES_PARAMS *incoming) {return 0;}
 uint8_t DIA_quota(char *) {return 0;}
-uint8_t  DIA_job_select(char **jobname, char **filename) {return 0;}
 const char * GUI_getCustomScript(uint32_t nb) {return 0;}
 uint8_t DIA_RecentFiles( char **name ) {return 0;}
 uint8_t DIA_about( void ) {return 0;}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2008-05-03 00:53:30 UTC (rev 4013)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2008-05-03 01:33:10 UTC (rev 4014)
@@ -44,7 +44,6 @@
 uint8_t DIA_videoCodec (SelectCodecType * codec){return 0;}
 uint8_t DIA_audioCodec( AUDIOENCODER *codec ) {return 0;}
 uint8_t DIA_quota(char *) {return 0;}
-uint8_t  DIA_job_select(char **jobname, char **filename) {return 0;}
 uint8_t DIA_RecentFiles( char **name ){return 0;}
 uint8_t DIA_about( void ){return 0;}
 void    DIA_Calculator(uint32_t *sizeInMeg, uint32_t *avgBitrate ){}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt	2008-05-03 00:53:30 UTC (rev 4013)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt	2008-05-03 01:33:10 UTC (rev 4014)
@@ -9,7 +9,7 @@
 DIA_audioFilter.cpp   DIA_enter.cpp           DIA_flyCrop.cpp      DIA_gototime.cpp    DIA_postproc.cpp  DIA_srt.cpp        GUI_render.cpp
 DIA_bitrateHisto.cpp  DIA_flyAsharp.cpp       DIA_flyDialog.cpp    DIA_lavcodec.cpp    DIA_prefs.cpp     DIA_SVCD.cpp       GUI_sdlRender.cpp
 DIA_builtin.cpp       DIA_flyChromaShift.cpp  DIA_flyHue.cpp       DIA_lavDecoder.cpp  DIA_requant.cpp   DIA_tdeint.cpp     GUI_xvRender.cpp
-DIA_animated.cpp      DIA_ocr.cpp DIA_tsSub.cpp
+DIA_animated.cpp      DIA_ocr.cpp             DIA_tsSub.cpp        DIA_jobs_save.cpp
 DIA_flyEq2.cpp        DIA_flv1.cpp            DIA_flyThreshold.cpp DIA_flyParticle.cpp DIA_flyEraser.cpp DIA_flySwissArmyKnife.cpp
 )
 

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_jobs_save.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_jobs_save.cpp	2008-05-03 00:53:30 UTC (rev 4013)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_jobs_save.cpp	2008-05-03 01:33:10 UTC (rev 4014)
@@ -0,0 +1,11 @@
+#include &quot;default.h&quot;
+#include &quot;ADM_commonUI/DIA_factory.h&quot;
+
+uint8_t DIA_job_select(char **jobname, char **filename)
+{
+	diaElemText jobNameWidget(jobname, QT_TR_NOOP(&quot;_Job name:&quot;), NULL);
+	diaElemFile outputFileWidget(1, filename, QT_TR_NOOP(&quot;Output _File:&quot;), NULL, QT_TR_NOOP(&quot;Select Video To Write&quot;));
+	diaElem *elem[] = {&amp;jobNameWidget, &amp;outputFileWidget};
+
+	return diaFactoryRun(QT_TR_NOOP(&quot;Save Job&quot;), 2, elem);
+}

Modified: branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2008-05-03 00:53:30 UTC (rev 4013)
+++ branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2008-05-03 01:33:10 UTC (rev 4014)
@@ -2247,7 +2247,7 @@
 uint8_t  DIA_job_select(char **jobname, char **filename);
 void A_addJob(void)
 {
-        char *name,*fullname,*base,*final=NULL;
+        char *name=NULL,*fullname,*base,*final=NULL;
 
         if(!DIA_job_select(&amp;name,&amp;final)) return;
         if(!name || !final) return;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001272.html">[Avidemux-svn-commit] r4013 -	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui
</A></li>
	<LI>Next message: <A HREF="001274.html">[Avidemux-svn-commit] r4015 -	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1273">[ date ]</a>
              <a href="thread.html#1273">[ thread ]</a>
              <a href="subject.html#1273">[ subject ]</a>
              <a href="author.html#1273">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
