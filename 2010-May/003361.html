<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r6158 - in branches/avidemux_2.6_branch_mean:	avidemux_core/ADM_coreMuxer/include	avidemux_core/ADM_coreVideoFilter/include	avidemux_plugins/ADM_demuxers/Asf avidemux_plugins/ADM_demuxers/Flv	avidemux_plugins/ADM_demuxers/Matroska	avidemux_plugins/ADM_demuxers/MpegPS	avidemux_plugins/ADM_demuxers/MpegTS	avidemux_plugins/ADM_demuxers/OpenDml	avidemux_plugins/ADM_videoFilters6/verticalFlip
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2010-May/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r6158%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux_core/ADM_coreMuxer/include%0A%09avidemux_core/ADM_coreVideoFilter/include%0A%09avidemux_plugins/ADM_demuxers/Asf%20avidemux_plugins/ADM_demuxers/Flv%0A%09avidemux_plugins/ADM_demuxers/Matroska%0A%09avidemux_plugins/ADM_demuxers/MpegPS%0A%09avidemux_plugins/ADM_demuxers/MpegTS%0A%09avidemux_plugins/ADM_demuxers/OpenDml%0A%09avidemux_plugins/ADM_videoFilters6/verticalFlip&In-Reply-To=%3C201005040536.o445abrG022044%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003360.html">
   <LINK REL="Next"  HREF="003362.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r6158 - in branches/avidemux_2.6_branch_mean:	avidemux_core/ADM_coreMuxer/include	avidemux_core/ADM_coreVideoFilter/include	avidemux_plugins/ADM_demuxers/Asf avidemux_plugins/ADM_demuxers/Flv	avidemux_plugins/ADM_demuxers/Matroska	avidemux_plugins/ADM_demuxers/MpegPS	avidemux_plugins/ADM_demuxers/MpegTS	avidemux_plugins/ADM_demuxers/OpenDml	avidemux_plugins/ADM_videoFilters6/verticalFlip</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r6158%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux_core/ADM_coreMuxer/include%0A%09avidemux_core/ADM_coreVideoFilter/include%0A%09avidemux_plugins/ADM_demuxers/Asf%20avidemux_plugins/ADM_demuxers/Flv%0A%09avidemux_plugins/ADM_demuxers/Matroska%0A%09avidemux_plugins/ADM_demuxers/MpegPS%0A%09avidemux_plugins/ADM_demuxers/MpegTS%0A%09avidemux_plugins/ADM_demuxers/OpenDml%0A%09avidemux_plugins/ADM_videoFilters6/verticalFlip&In-Reply-To=%3C201005040536.o445abrG022044%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r6158 - in branches/avidemux_2.6_branch_mean:	avidemux_core/ADM_coreMuxer/include	avidemux_core/ADM_coreVideoFilter/include	avidemux_plugins/ADM_demuxers/Asf avidemux_plugins/ADM_demuxers/Flv	avidemux_plugins/ADM_demuxers/Matroska	avidemux_plugins/ADM_demuxers/MpegPS	avidemux_plugins/ADM_demuxers/MpegTS	avidemux_plugins/ADM_demuxers/OpenDml	avidemux_plugins/ADM_videoFilters6/verticalFlip">mean at mail.berlios.de
       </A><BR>
    <I>Tue May  4 07:36:37 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003360.html">[Avidemux-svn-commit] r6157 - in branches/avidemux_2.6_branch_mean:	avidemux/common/ADM_audioFilter/src	avidemux/common/ADM_audiocodec avidemux/common/ADM_editor	avidemux/common/ADM_script2/include	avidemux/common/ADM_script2/src avidemux/qt4/ADM_UIs/src	avidemux_plugins/ADM_demuxers/Matroska	avidemux_plugins/ADM_demuxers/Mp4	avidemux_plugins/ADM_demuxers/MpegPS	avidemux_plugins/ADM_demuxers/MpegTS	avidemux_plugins/ADM_demuxers/OpenDml
</A></li>
        <LI>Next message: <A HREF="003362.html">[Avidemux-svn-commit] r6159 - tags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3361">[ date ]</a>
              <a href="thread.html#3361">[ thread ]</a>
              <a href="subject.html#3361">[ subject ]</a>
              <a href="author.html#3361">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2010-05-04 07:36:36 +0200 (Tue, 04 May 2010)
New Revision: 6158

Modified:
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreMuxer/include/ADM_muxerInternal.h
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_coreVideoFilterInternal.h
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/Asf/ADM_asf.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/Flv/ADM_flv.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/Matroska/ADM_mkv.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/Matroska/ebml.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegPS/ADM_ps.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegPS/ADM_psIndex.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegTS/ADM_tsIndex.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegTS/ADM_tsReadIndex.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegTS/dmxTSPacket.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/OpenDml/ADM_odml_audio.h
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/OpenDml/ADM_openDML.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/verticalFlip/verticalFlip.cpp
Log:
[clang] Remove plugin warnings

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreMuxer/include/ADM_muxerInternal.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreMuxer/include/ADM_muxerInternal.h	2010-05-04 05:36:32 UTC (rev 6157)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreMuxer/include/ADM_muxerInternal.h	2010-05-04 05:36:36 UTC (rev 6158)
@@ -75,7 +75,7 @@
 extern &quot;C&quot; {\
 ADM_muxer   *create(void){ return new Class; } \
 void         destroy(ADM_muxer *h){ Class *z=(Class *)h;delete z;} \
-uint8_t      getVersion(uint32_t *major,uint32_t *minor,uint32_t *patch) {*major=maj;*minor=mn;*patch=pat;} \
+uint8_t      getVersion(uint32_t *major,uint32_t *minor,uint32_t *patch) {*major=maj;*minor=mn;*patch=pat;return 1;} \
 uint32_t     getApiVersion(void) {return ADM_MUXER_API_VERSION;} \
 const char  *getName(void) {return name;} \
 const char  *getDescriptor(void) {return desc;} \

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_coreVideoFilterInternal.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_coreVideoFilterInternal.h	2010-05-04 05:36:32 UTC (rev 6157)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_coreVideoFilterInternal.h	2010-05-04 05:36:36 UTC (rev 6158)
@@ -32,6 +32,7 @@
 	{ \
 		Class *a=(Class *)codec;\
 		delete a;\
+        return NULL;\
 	}\
 	int supportedUI(void) \
 	{ \

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/Asf/ADM_asf.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/Asf/ADM_asf.cpp	2010-05-04 05:36:32 UTC (rev 6157)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/Asf/ADM_asf.cpp	2010-05-04 05:36:36 UTC (rev 6158)
@@ -110,6 +110,7 @@
     delete _audioStreams[i];
     _audioStreams[i]=NULL;    
   }
+  return 1;
 }
 /**
     \fn asfHeader

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/Flv/ADM_flv.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/Flv/ADM_flv.cpp	2010-05-04 05:36:32 UTC (rev 6157)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/Flv/ADM_flv.cpp	2010-05-04 05:36:36 UTC (rev 6158)
@@ -692,6 +692,7 @@
   audioTrack=NULL;
   _audioStream=NULL;
   access=NULL;
+  return 1;
 }
 /**
     \fn flvHeader

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/Matroska/ADM_mkv.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/Matroska/ADM_mkv.cpp	2010-05-04 05:36:32 UTC (rev 6157)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/Matroska/ADM_mkv.cpp	2010-05-04 05:36:36 UTC (rev 6158)
@@ -423,7 +423,7 @@
         delete [] _access;
         _access=NULL;
     }
-
+    return 1;
 }
 /**
     \fn mkvHeader
@@ -666,7 +666,7 @@
     
     dx-&gt;Dts=dts; // FIXME
     dx-&gt;Pts=pts;
-    
+    return true;
 
 }
 

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/Matroska/ebml.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/Matroska/ebml.cpp	2010-05-04 05:36:32 UTC (rev 6157)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/Matroska/ebml.cpp	2010-05-04 05:36:36 UTC (rev 6158)
@@ -209,6 +209,7 @@
     default:
         ADM_assert(0);
   }
+  return 0;
 }
 
 ADM_ebml::ADM_ebml(void)

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegPS/ADM_ps.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegPS/ADM_ps.cpp	2010-05-04 05:36:32 UTC (rev 6157)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegPS/ADM_ps.cpp	2010-05-04 05:36:36 UTC (rev 6158)
@@ -61,7 +61,7 @@
     if(append) appendType=FP_APPEND;
     if(!parser.open(name,&amp;appendType))
     {
-        printf(&quot;[psDemux] Cannot open root file\n&quot;,name);
+        printf(&quot;[psDemux] Cannot open root file %s\n&quot;,name);
         goto abt;
     }
     if(!readVideo(&amp;index)) 
@@ -187,6 +187,7 @@
         delete psPacket;
         psPacket=NULL;
     }
+    return 1;
 }
 /**
     \fn psHeader

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegPS/ADM_psIndex.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegPS/ADM_psIndex.cpp	2010-05-04 05:36:32 UTC (rev 6157)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegPS/ADM_psIndex.cpp	2010-05-04 05:36:36 UTC (rev 6158)
@@ -416,6 +416,7 @@
         data-&gt;startAt=info-&gt;startAt;
         data-&gt;offset=info-&gt;offset;
     }
+    return true;
 }
 
 /**

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegTS/ADM_tsIndex.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegTS/ADM_tsIndex.cpp	2010-05-04 05:36:32 UTC (rev 6157)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegTS/ADM_tsIndex.cpp	2010-05-04 05:36:36 UTC (rev 6158)
@@ -265,7 +265,7 @@
 bool TsIndexer::decodeSEI(uint32_t nalSize, uint8_t *org,uint32_t *recoveryLength)
 {
     GetBitContext s;
-    uint8_t payload[nalSize+16];
+    uint8_t *payload=(uint8_t *)alloca(nalSize+16);
     nalSize=unescapeH264(nalSize,org,payload);
     init_get_bits(&amp;s, payload, nalSize*8);
     while( get_bits_count(&amp;s)&lt;(nalSize-4)*8)
@@ -311,7 +311,7 @@
     video.pid=videoTrac[0].trackPid;
 
     memset(&amp;data,0,sizeof(data));
-    char indexName[strlen(file)+5];
+    char *indexName=(char *)alloca(strlen(file)+5);
     sprintf(indexName,&quot;%s.idx2&quot;,file);
     index=qfopen(indexName,&quot;wt&quot;);
     if(!index)
@@ -522,7 +522,7 @@
     memset(&amp;data,0,sizeof(data));
 
 
-    char indexName[strlen(file)+5];
+    char *indexName=(char *)alloca(strlen(file)+5);
     sprintf(indexName,&quot;%s.idx2&quot;,file);
     index=qfopen(indexName,&quot;wt&quot;);
     if(!index)

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegTS/ADM_tsReadIndex.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegTS/ADM_tsReadIndex.cpp	2010-05-04 05:36:32 UTC (rev 6157)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegTS/ADM_tsReadIndex.cpp	2010-05-04 05:36:36 UTC (rev 6158)
@@ -122,7 +122,7 @@
                 {
                     printf(&quot;[TsDemuxer]  instead of : (%c %x %x):\n&quot;,*cur,*(cur-1),*cur);
                 }
-                *cur++;
+                cur++;
                 next=strstr(start,&quot; &quot;);
                 int64_t ppts,ddts;
                 ADM_assert(3==sscanf(cur,&quot;%&quot;LX&quot;:%&quot;LLD&quot;:%&quot;LLD,&amp;len,&amp;ppts,&amp;ddts));

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegTS/dmxTSPacket.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegTS/dmxTSPacket.cpp	2010-05-04 05:36:32 UTC (rev 6157)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/MpegTS/dmxTSPacket.cpp	2010-05-04 05:36:36 UTC (rev 6158)
@@ -148,6 +148,7 @@
         printf(&quot;[tsPacket] Cannot seek to %&quot;LLX&quot;\n&quot;, pos);
         return false;
     }
+    return true;
 }
 /**
     \fn getSinglePacket

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/OpenDml/ADM_odml_audio.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/OpenDml/ADM_odml_audio.h	2010-05-04 05:36:32 UTC (rev 6157)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/OpenDml/ADM_odml_audio.h	2010-05-04 05:36:36 UTC (rev 6158)
@@ -32,7 +32,7 @@
                 virtual bool      canGetDuration(void) {return false;};
                 virtual uint64_t  getDurationInUs(void) {return 0;};
                 virtual uint32_t  getLength(void) {return length;}
-                virtual bool      goToTime(uint64_t timeUs) {ADM_assert(0);}
+                virtual bool      goToTime(uint64_t timeUs) {ADM_assert(0);return true;}
                 virtual bool      isCBR(void) ;
                 virtual uint64_t  getPos(void);
                 

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/OpenDml/ADM_openDML.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/OpenDml/ADM_openDML.cpp	2010-05-04 05:36:32 UTC (rev 6157)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_demuxers/OpenDml/ADM_openDML.cpp	2010-05-04 05:36:36 UTC (rev 6158)
@@ -597,7 +597,7 @@
        idx-&gt;dts=frameToUs(i);
     }
     _idx[0].pts=0;
-  
+    return 1;
 }
 /**
     \fn mpegReorder

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/verticalFlip/verticalFlip.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/verticalFlip/verticalFlip.cpp	2010-05-04 05:36:32 UTC (rev 6157)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/verticalFlip/verticalFlip.cpp	2010-05-04 05:36:36 UTC (rev 6158)
@@ -67,7 +67,7 @@
 
 static void flipMe(uint8_t *data, uint32_t w,uint32_t h)
 {
-    uint8_t scratch[w];
+    uint8_t *scratch=(uint8_t *)alloca(w);
     int count=h&gt;&gt;1;
     for(int i=0;i&lt;count;i++)
     {


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003360.html">[Avidemux-svn-commit] r6157 - in branches/avidemux_2.6_branch_mean:	avidemux/common/ADM_audioFilter/src	avidemux/common/ADM_audiocodec avidemux/common/ADM_editor	avidemux/common/ADM_script2/include	avidemux/common/ADM_script2/src avidemux/qt4/ADM_UIs/src	avidemux_plugins/ADM_demuxers/Matroska	avidemux_plugins/ADM_demuxers/Mp4	avidemux_plugins/ADM_demuxers/MpegPS	avidemux_plugins/ADM_demuxers/MpegTS	avidemux_plugins/ADM_demuxers/OpenDml
</A></li>
	<LI>Next message: <A HREF="003362.html">[Avidemux-svn-commit] r6159 - tags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3361">[ date ]</a>
              <a href="thread.html#3361">[ thread ]</a>
              <a href="subject.html#3361">[ subject ]</a>
              <a href="author.html#3361">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
