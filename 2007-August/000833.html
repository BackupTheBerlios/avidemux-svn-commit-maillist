<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r3559 - in	branches/avidemux_2.4_branch/avidemux: . ADM_editor	ADM_encoder ADM_inputs/ADM_asf ADM_libraries/ADM_utilities	ADM_outputs/oplug_avi	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory ADM_video
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3559%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20.%20ADM_editor%0A%09ADM_encoder%20ADM_inputs/ADM_asf%20ADM_libraries/ADM_utilities%0A%09ADM_outputs/oplug_avi%0A%09ADM_userInterfaces/ADM_GTK/ADM_dialogFactory%20ADM_video&In-Reply-To=%3C200708252150.l7PLowWF004851%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000832.html">
   <LINK REL="Next"  HREF="000834.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r3559 - in	branches/avidemux_2.4_branch/avidemux: . ADM_editor	ADM_encoder ADM_inputs/ADM_asf ADM_libraries/ADM_utilities	ADM_outputs/oplug_avi	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory ADM_video</H1>
    <B>gruntster at mail.berlios.de</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3559%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20.%20ADM_editor%0A%09ADM_encoder%20ADM_inputs/ADM_asf%20ADM_libraries/ADM_utilities%0A%09ADM_outputs/oplug_avi%0A%09ADM_userInterfaces/ADM_GTK/ADM_dialogFactory%20ADM_video&In-Reply-To=%3C200708252150.l7PLowWF004851%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r3559 - in	branches/avidemux_2.4_branch/avidemux: . ADM_editor	ADM_encoder ADM_inputs/ADM_asf ADM_libraries/ADM_utilities	ADM_outputs/oplug_avi	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory ADM_video">gruntster at mail.berlios.de
       </A><BR>
    <I>Sat Aug 25 23:50:58 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000832.html">[Avidemux-svn-commit] r3558 - in	branches/avidemux_2.4_branch/avidemux: . ADM_codecs	ADM_colorspace ADM_libraries/ADM_lavcodec
</A></li>
        <LI>Next message: <A HREF="000834.html">[Avidemux-svn-commit] r3560 - in	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:	ADM_GTK/ADM_gui2 ADM_QT4/ADM_dialogFactory ADM_QT4/ADM_gui
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#833">[ date ]</a>
              <a href="thread.html#833">[ thread ]</a>
              <a href="subject.html#833">[ subject ]</a>
              <a href="author.html#833">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: gruntster
Date: 2007-08-25 23:50:43 +0200 (Sat, 25 Aug 2007)
New Revision: 3559

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edCache.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asfPacket.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/prefs.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_aviwrite.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_confCouples.cpp
   branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
Log:
[Cosmetic] correct syntax to make finding leaks easier

Modified: branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edCache.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edCache.cpp	2007-08-25 21:09:36 UTC (rev 3558)
+++ branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edCache.cpp	2007-08-25 21:50:43 UTC (rev 3559)
@@ -45,7 +45,7 @@
 	{
 		delete _elem[i].image;
 	}
-	delete _elem;
+	delete[] _elem;
 
 }
 ADMImage 	*EditorCache::getImage(uint32_t no)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp	2007-08-25 21:09:36 UTC (rev 3558)
+++ branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp	2007-08-25 21:50:43 UTC (rev 3559)
@@ -234,7 +234,7 @@
 
 	if(_segments)
 	{
-		delete _segments;
+		delete[] _segments;
 		_segments=NULL;
 	}
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp	2007-08-25 21:09:36 UTC (rev 3558)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp	2007-08-25 21:50:43 UTC (rev 3559)
@@ -235,7 +235,7 @@
       _codec;
   _codec = NULL;
   if (_logfile)
-    delete[]_logfile;
+    delete _logfile;
 
 
   return 1;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.cpp	2007-08-25 21:09:36 UTC (rev 3558)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.cpp	2007-08-25 21:50:43 UTC (rev 3559)
@@ -80,7 +80,7 @@
   }
   if(myName)
   {
-    delete [] myName;
+    delete myName;
     myName=NULL; 
   }
   if(_extraData)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asfPacket.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asfPacket.cpp	2007-08-25 21:09:36 UTC (rev 3558)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asfPacket.cpp	2007-08-25 21:50:43 UTC (rev 3559)
@@ -378,7 +378,7 @@
    {
      asfBit *bit;
      ADM_assert(queue-&gt;pop((void**)&amp;bit));
-     delete bit-&gt;data;
+     delete[] bit-&gt;data;
      delete bit;
    }
    return 1; 
@@ -393,7 +393,7 @@
      ADM_assert(queue-&gt;pop((void**)&amp;bit));
      memcpy(buffer,bit-&gt;data,bit-&gt;len);
      *len+=bit-&gt;len;
-     delete bit-&gt;data;
+     delete[] bit-&gt;data;
      delete bit;
    }
    return 1;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/prefs.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/prefs.cpp	2007-08-25 21:09:36 UTC (rev 3558)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/prefs.cpp	2007-08-25 21:50:43 UTC (rev 3559)
@@ -935,7 +935,7 @@
 	PRT_LAFI(&quot;=&gt; LASTFILES_&quot;,3,opt_defs[LASTFILES_FILE3].current_val);
 	PRT_LAFI(&quot;=&gt; LASTFILES_&quot;,4,opt_defs[LASTFILES_FILE4].current_val);
 #endif
-	ADM_dealloc(internal_file);
+	delete[] internal_file;
 	return RC_OK;
 }
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp	2007-08-25 21:09:36 UTC (rev 3558)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp	2007-08-25 21:50:43 UTC (rev 3559)
@@ -140,8 +140,8 @@
 GenericAviSave::~GenericAviSave ()
 {
   cleanupAudio();
-  delete vbuffer;
-  delete[]abuffer;
+  delete[] vbuffer;
+  delete[] abuffer;
   _incoming=NULL;
   ADM_assert(!_file);
 }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_aviwrite.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_aviwrite.cpp	2007-08-25 21:09:36 UTC (rev 3558)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_aviwrite.cpp	2007-08-25 21:50:43 UTC (rev 3559)
@@ -860,7 +860,7 @@
 
   alist-&gt;End ();
   delete alist;
-  delete buf;
+  delete[] buf;
   return 1;
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp	2007-08-25 21:09:36 UTC (rev 3558)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp	2007-08-25 21:50:43 UTC (rev 3559)
@@ -113,7 +113,7 @@
 {
   GtkWidget **widget=(GtkWidget **)myWidget;
   char **name=(char **)param;
-  if(*name) delete [] *name;
+  if(*name) delete *name;
   *name=NULL;
   *name =ADM_strdup(gtk_entry_get_text (GTK_ENTRY (widget[0])));
 }
@@ -238,7 +238,7 @@
 GtkWidget **wid=(GtkWidget **)myWidget;
   GtkWidget *widget=wid[0];
   char **name=(char **)param;
-  if(*name) delete [] *name;
+  if(*name) delete *name;
   *name=NULL;
   *name =ADM_strdup(gtk_entry_get_text (GTK_ENTRY (widget)));
 }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_confCouples.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_confCouples.cpp	2007-08-25 21:09:36 UTC (rev 3558)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_confCouples.cpp	2007-08-25 21:50:43 UTC (rev 3559)
@@ -50,8 +50,8 @@
 {
 	for(uint32_t i=0;i&lt;nb;i++)
 		{
-			if(name[i]) delete [] name[i];
-			if(value[i]) delete [] value[i];
+			if(name[i]) delete name[i];
+			if(value[i]) delete value[i];
 		}
 		delete [] name;
 		delete [] value;

Modified: branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2007-08-25 21:09:36 UTC (rev 3558)
+++ branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2007-08-25 21:50:43 UTC (rev 3559)
@@ -924,7 +924,7 @@
 
   if (res!=ADM_OK)			// an error occured
     {
-	ADM_dealloc(longname);
+		delete[] longname;
     	if(ADM_IGN==res) 
 	{
 		return 0;
@@ -992,7 +992,7 @@
 	UI_setTitle(longname+i);
     }
 	g_free(name_utf8);
-	ADM_dealloc(longname);
+	delete[] longname;
 	return 1;
 }
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000832.html">[Avidemux-svn-commit] r3558 - in	branches/avidemux_2.4_branch/avidemux: . ADM_codecs	ADM_colorspace ADM_libraries/ADM_lavcodec
</A></li>
	<LI>Next message: <A HREF="000834.html">[Avidemux-svn-commit] r3560 - in	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:	ADM_GTK/ADM_gui2 ADM_QT4/ADM_dialogFactory ADM_QT4/ADM_gui
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#833">[ date ]</a>
              <a href="thread.html#833">[ thread ]</a>
              <a href="subject.html#833">[ subject ]</a>
              <a href="author.html#833">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
