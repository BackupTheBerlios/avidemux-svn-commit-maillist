<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r3473 - in	branches/avidemux_2.4_branch/avidemux: ADM_audiocodec	ADM_inputs/ADM_mp4 ADM_libraries/ADM_libwrapper	ADM_outputs/oplug_avi ADM_userInterfaces/ADM_QT4/ADM_gui	ADM_videoFilter
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3473%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20ADM_audiocodec%0A%09ADM_inputs/ADM_mp4%20ADM_libraries/ADM_libwrapper%0A%09ADM_outputs/oplug_avi%20ADM_userInterfaces/ADM_QT4/ADM_gui%0A%09ADM_videoFilter&In-Reply-To=%3C200708031648.l73Gmv22004614%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000747.html">
   <LINK REL="Next"  HREF="000749.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r3473 - in	branches/avidemux_2.4_branch/avidemux: ADM_audiocodec	ADM_inputs/ADM_mp4 ADM_libraries/ADM_libwrapper	ADM_outputs/oplug_avi ADM_userInterfaces/ADM_QT4/ADM_gui	ADM_videoFilter</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3473%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20ADM_audiocodec%0A%09ADM_inputs/ADM_mp4%20ADM_libraries/ADM_libwrapper%0A%09ADM_outputs/oplug_avi%20ADM_userInterfaces/ADM_QT4/ADM_gui%0A%09ADM_videoFilter&In-Reply-To=%3C200708031648.l73Gmv22004614%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r3473 - in	branches/avidemux_2.4_branch/avidemux: ADM_audiocodec	ADM_inputs/ADM_mp4 ADM_libraries/ADM_libwrapper	ADM_outputs/oplug_avi ADM_userInterfaces/ADM_QT4/ADM_gui	ADM_videoFilter">mean at mail.berlios.de
       </A><BR>
    <I>Fri Aug  3 18:48:57 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000747.html">[Avidemux-svn-commit] r3472 -	branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex
</A></li>
        <LI>Next message: <A HREF="000749.html">[Avidemux-svn-commit] r3474 -	branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#748">[ date ]</a>
              <a href="thread.html#748">[ thread ]</a>
              <a href="subject.html#748">[ subject ]</a>
              <a href="author.html#748">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2007-08-03 18:48:46 +0200 (Fri, 03 Aug 2007)
New Revision: 3473

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_codecwma.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Leaf.h
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_global.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_global.h
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_aviwrite.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp
Log:
[Warnings] Remove some warnings

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_codecwma.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_codecwma.cpp	2007-08-03 16:09:22 UTC (rev 3472)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_codecwma.cpp	2007-08-03 16:48:46 UTC (rev 3473)
@@ -121,7 +121,7 @@
         {
           nbChunk=(_tail-_head)/_blockalign;
           pout=SCRATCH_PAD_SIZE;
-          out=avcodec_decode_audio(_context,(int16_t *)scratchPad,
+          out=avcodec_decode_audio2(_context,(int16_t *)scratchPad,
                                    &amp;pout,_buffer+_head,nbChunk*_blockalign);
                 
           if(out&lt;0)
@@ -218,7 +218,7 @@
         _tail+=nbIn;
         while(_tail-_head&gt;AMR_PACKET)
         {
-          out=avcodec_decode_audio(_context,(int16_t *)scratchPad,
+          out=avcodec_decode_audio2(_context,(int16_t *)scratchPad,
                                    &amp;pout,_buffer+_head,_tail-_head);
                 
                 if(out&lt;0)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Leaf.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Leaf.h	2007-08-03 16:09:22 UTC (rev 3472)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Leaf.h	2007-08-03 16:48:46 UTC (rev 3473)
@@ -11,7 +11,8 @@
 #ifndef ADMMP4_TAB_LEAF
 #define MKMP4LEAF(a,b,c) ADM_MP4_##b
 #else
-#define MKMP4LEAF(a,b,c) {a,ADM_MP4_##b,c}
+#undef MKMP4LEAF
+#define MKMP4LEAF(a,b,c) {(uint32_t)a,ADM_MP4_##b,c}
 #endif
 
 /* Container atom */

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_global.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_global.cpp	2007-08-03 16:09:22 UTC (rev 3472)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_global.cpp	2007-08-03 16:48:46 UTC (rev 3473)
@@ -27,4 +27,5 @@
 { 
 	return amrnb;
 }
-#endif
\ No newline at end of file
+#endif
+//EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_global.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_global.h	2007-08-03 16:09:22 UTC (rev 3472)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_global.h	2007-08-03 16:48:46 UTC (rev 3473)
@@ -2,6 +2,14 @@
 #define LIBWRAPPER_GLOBAL
 
 #include &quot;config.h&quot;
+//
+#if defined(__DECLARE__)
+#define ZZ_PREFIX
+#define ZZ_POSTFIX =NULL
+#else
+#define ZZ_PREFIX extern
+#define ZZ_POSTFIX 
+#endif //__DECLARE__
 
 // AMRNB
 #ifdef USE_AMR_NB
@@ -10,11 +18,7 @@
 #include &quot;libwrapper_amrnb.h&quot;
 
 #if defined(__cplusplus)
-extern ADM_LibWrapperAmrnb* amrnb
-#if defined(__DECLARE__)
-=NULL
-#endif	// __DECLARE__
-;
+ZZ_PREFIX ADM_LibWrapperAmrnb  *amrnb ZZ_POSTFIX;
 #else
 struct ADM_LibWrapperAmrnb* getAmrnbWrapper(void);
 #endif	// __cplusplus
@@ -24,15 +28,10 @@
 #if defined(USE_LIBDCA) &amp;&amp; defined(__cplusplus)
 #include &quot;libwrapper_dca.h&quot;
 
-extern ADM_LibWrapperDca* dca
-#ifdef __DECLARE__
-=NULL
-#endif
-;
-#endif
+ZZ_PREFIX ADM_LibWrapperDca* dca ZZ_POSTFIX;
 
 // funcs
 void initLibWrappers();
 void destroyLibWrappers();
-
-#endif
+#endif // USE LIBDCA
+#endif // LIBWRAPPER

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_aviwrite.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_aviwrite.cpp	2007-08-03 16:09:22 UTC (rev 3472)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_aviwrite.cpp	2007-08-03 16:48:46 UTC (rev 3473)
@@ -556,7 +556,7 @@
 
                         aprintf(&quot;Fps1000:%f\n&quot;,fps);
                         fps=600*fps; // 10 mn worth;
-                odml_index_size=floor(fps);
+                odml_index_size=(int)floor(fps);
 
 		aprintf(&quot;\nnumber of frames per index: %lu\n&quot;,odml_index_size);
 		// get number or indexes per stream

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h	2007-08-03 16:09:22 UTC (rev 3472)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h	2007-08-03 16:48:46 UTC (rev 3473)
@@ -17,7 +17,7 @@
 PROCESS(actionSave_project,ACT_DUMMY) \
 PROCESS(actionSave_project_as,ACT_SaveWork) \
 PROCESS(actionConnect_to_AvsProxy,ACT_AVS_PROXY) \
-PROCESS(actionReset_Edits,ACT_ResetSegments) \	
+PROCESS(actionReset_Edits,ACT_ResetSegments) \
 PROCESS(actionOCR_DVB_T_TS_files,ACT_DVB_Ocr) \
 PROCESS(actionGlyphs_Edit,ACT_GLYPHEDIT) \
 PROCESS(actionZoom_1_4,ACT_ZOOM_1_4) \

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp	2007-08-03 16:09:22 UTC (rev 3472)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp	2007-08-03 16:48:46 UTC (rev 3473)
@@ -1024,9 +1024,9 @@
                         {
                                 for (x = 0; x &lt; w; x++)
                                 {
-                                        v1 = (int) dstp[x] - dthresh;
+                                        v1 = (int)(dstp[x] - dthresh);
                                         if (v1 &lt; 0) v1 = 0; 
-                                        v2 = (int) dstp[x] + dthresh;
+                                        v2 = (int) (dstp[x] + dthresh);
                                         if (v2 &gt; 235) v2 = 235; 
                                         if ((v1 &gt; dstpp[x] &amp;&amp; v1 &gt; dstpn[x]) || (v2 &lt; dstpp[x] &amp;&amp; v2 &lt; dstpn[x]))
                                         {
@@ -1106,9 +1106,9 @@
                                         {
                                                 for (x = 0; x &lt; wover2; x++)
                                                 {
-                                                        v1 = (int) dstp[x] - dthresh;
+                                                        v1 = (int)( dstp[x] - dthresh);
                                                         if (v1 &lt; 0) v1 = 0; 
-                                                        v2 = (int) dstp[x] + dthresh;
+                                                        v2 = (int)( dstp[x] + dthresh);
                                                         if (v2 &gt; 235) v2 = 235; 
                                                         if ((v1 &gt; dstpp[x] &amp;&amp; v1 &gt; dstpn[x]) || (v2 &lt; dstpp[x] &amp;&amp; v2 &lt; dstpn[x]))
                                                         {
@@ -1145,7 +1145,7 @@
                 {
                         for (x = 0; x &lt; w; x++)
                         {
-                                v1 = (int) dstp[x] - dthresh;
+                                v1 = (int) (dstp[x] - dthresh);
                                 if (v1 &lt; 0) v1 = 0; 
                                 v2 = (int) dstp[x] + dthresh;
                                 if (v2 &gt; 235) v2 = 235; 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000747.html">[Avidemux-svn-commit] r3472 -	branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex
</A></li>
	<LI>Next message: <A HREF="000749.html">[Avidemux-svn-commit] r3474 -	branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#748">[ date ]</a>
              <a href="thread.html#748">[ thread ]</a>
              <a href="subject.html#748">[ subject ]</a>
              <a href="author.html#748">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
