<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r3466 - in	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4:	. ADM_dialog ADM_ocr
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3466%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4%3A%0A%09.%20ADM_dialog%20ADM_ocr&In-Reply-To=%3C200708011833.l71IXmv9024987%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000742.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r3466 - in	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4:	. ADM_dialog ADM_ocr</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3466%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4%3A%0A%09.%20ADM_dialog%20ADM_ocr&In-Reply-To=%3C200708011833.l71IXmv9024987%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r3466 - in	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4:	. ADM_dialog ADM_ocr">mean at mail.berlios.de
       </A><BR>
    <I>Wed Aug  1 20:33:48 CEST 2007</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000742.html">[Avidemux-svn-commit] r3467 - branches/avidemux_2.4_branch/avidemux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#741">[ date ]</a>
              <a href="thread.html#741">[ thread ]</a>
              <a href="subject.html#741">[ subject ]</a>
              <a href="author.html#741">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2007-08-01 20:33:47 +0200 (Wed, 01 Aug 2007)
New Revision: 3466

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/Q_ocr.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/ocr.ui
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/Makefile.am
Log:
[QT] More flesh on the OCR QT4 skeleton

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-07-31 19:51:36 UTC (rev 3465)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-08-01 18:33:47 UTC (rev 3466)
@@ -105,48 +105,7 @@
   return 0; 
 }
 
-// OCR Stubs
-#include &quot;ADM_ocr/ADM_ocr.h&quot;
-#include &quot;ADM_ocr/ADM_ocrInternal.h&quot;
-uint8_t ADM_ocrUpdateNbLines(void *ui,uint32_t cur,uint32_t total)
-{
-	return 0;
-}
-uint8_t ADM_ocrUpdateNbGlyphs(void *ui,uint32_t nbGlyphs)
-{
-	return 0;
-}
-;
-uint8_t ADM_ocrUpdateTextAndTime(void *ui,char *decodedString,char *timeCode)
-{
-	return 0;
-}
-;
-uint8_t ADM_ocrDrawFull(void *d,uint8_t *data)
-{
-	return 0;
-}
-;
-uint8_t ADM_ocrUiEnd(void *d)
-{
-	return 0;
-}
-;
-void 	*ADM_ocrUiSetup(void)
-{
-	return 0;
-}
-;
-uint8_t ADM_ocrSetRedrawSize(uint32_t w,uint32_t h)
-{
-	return 0;
-}
-;
 
-ReplyType glyphToText(admGlyph *glyph,admGlyph *head,char *decodedString)
-{
-	return ReplyOk;
-}
 
 //EOF
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/CMakeLists.txt	2007-07-31 19:51:36 UTC (rev 3465)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/CMakeLists.txt	2007-08-01 18:33:47 UTC (rev 3466)
@@ -2,7 +2,7 @@
 #
 ################################
 include(AdmLib)
-SET(ADM_LIB ADM_ocrQT4)
+SET(ADM_LIB ADM_ocrQt4)
 #
 SET(${ADM_LIB}_Q
 ocr

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/Makefile.am (from rev 3458, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-07-29 17:16:06 UTC (rev 3458)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/Makefile.am	2007-08-01 18:33:47 UTC (rev 3466)
@@ -0,0 +1,16 @@
+
+noinst_LIBRARIES = libADM_ocrQt4.a 
+libADM_ocrQt4_a_SOURCES = AQ_ocr.cpp 
+
+INCLUDES = $(all_includes)  -I../../../ADM_libraries/ADM_utilities \
+		-I../../ADM_commonUI -I../../.. -I../../../ADM_libraries/ADM_lavutil \
+		-I../../../ADM_inputs -I../../../ADM_outputs @ADM_QTINCLUDES@ ../../../ADM_ocr
+
+libADM_ocrQt4_a_METASOURCES = AUTO
+
+
+include ../Makefile.adm
+
+
+EXTRA_DIST =  
+

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/Q_ocr.cpp (from rev 3458, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_vobsub.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_vobsub.cpp	2007-07-29 17:16:06 UTC (rev 3458)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/Q_ocr.cpp	2007-08-01 18:33:47 UTC (rev 3466)
@@ -0,0 +1,116 @@
+/***************************************************************************
+                          Q_SRT.cpp  -  description
+                             -------------------
+
+    Handle the QT specific part of the fontsize &amp; position dialog box
+    copyright            : (C) 2002/2007 by mean
+    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include &lt;config.h&gt;
+#include &lt;string.h&gt;
+#include &lt;stdio.h&gt;
+#include &lt;math.h&gt;
+
+#include &quot;ui_ocr.h&quot;
+
+#include &quot;default.h&quot;
+#include &quot;ADM_toolkit/toolkit.hxx&quot;
+#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;ADM_image.h&quot;
+#include &quot;ADM_video/ADM_genvideo.hxx&quot;
+#include &quot;ADM_colorspace/ADM_rgb.h&quot;
+
+#include &quot;ADM_video/ADM_vobsubinfo.h&quot;
+#include &quot;ADM_video/ADM_vidVobSub.h&quot;
+
+#include &quot;ADM_assert.h&quot;
+#include &quot;ADM_ocr/ADM_ocr.h&quot;
+#include &quot;ADM_ocr/ADM_ocrInternal.h&quot;
+#include &quot;ui_ocr.h&quot;
+
+
+//
+//	Video is in YV12 Colorspace
+//
+//
+class Ui_ocrWindow : public QDialog
+ {
+     Q_OBJECT
+ protected :
+ public:
+     Ui_ocrWindow(void);
+     ~Ui_ocrWindow();
+     Ui_DialogOcr ui;
+     
+     void  gather(void);
+ public slots:
+ private slots:
+ private:
+     
+ };
+  Ui_ocrWindow::Ui_ocrWindow(void)
+  {
+        ui.setupUi(this);
+      
+        
+  }
+ 
+Ui_ocrWindow::~Ui_ocrWindow()
+{
+}
+
+uint8_t ADM_ocrUpdateNbLines(void *ui,uint32_t cur,uint32_t total)
+{
+	return 1;
+}
+uint8_t ADM_ocrUpdateNbGlyphs(void *ui,uint32_t nbGlyphs)
+{
+	return 1;
+}
+uint8_t ADM_ocrUpdateTextAndTime(void *ui,char *decodedString,char *timeCode)
+{
+	return 1;
+}
+uint8_t ADM_ocrDrawFull(void *d,uint8_t *data)
+{
+	return 1;	
+}
+uint8_t ADM_ocrSetRedrawSize(uint32_t w,uint32_t h)
+{
+	return 1;
+}
+
+
+uint8_t ADM_ocrUiEnd(void *d)
+{
+	   Ui_ocrWindow *dialog=( Ui_ocrWindow *)d;
+	   ADM_assert(dialog);
+	   delete dialog;
+	   return 1;	
+}
+void 	*ADM_ocrUiSetup(void)
+{
+	
+	   Ui_ocrWindow *dialog=new Ui_ocrWindow;
+	   return dialog;
+}
+
+ReplyType glyphToText(admGlyph *glyph,admGlyph *head,char *decodedString)
+{
+	return ReplyOk;
+}
+
+//____________________________________
+// EOF
+
+

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/ocr.ui (from rev 3458, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/vobsub.ui)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/vobsub.ui	2007-07-29 17:16:06 UTC (rev 3458)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/ocr.ui	2007-08-01 18:33:47 UTC (rev 3466)
@@ -0,0 +1,175 @@
+&lt;ui version=&quot;4.0&quot; &gt;
+ &lt;class&gt;DialogOcr&lt;/class&gt;
+ &lt;widget class=&quot;QDialog&quot; name=&quot;DialogOcr&quot; &gt;
+  &lt;property name=&quot;geometry&quot; &gt;
+   &lt;rect&gt;
+    &lt;x&gt;0&lt;/x&gt;
+    &lt;y&gt;0&lt;/y&gt;
+    &lt;width&gt;559&lt;/width&gt;
+    &lt;height&gt;474&lt;/height&gt;
+   &lt;/rect&gt;
+  &lt;/property&gt;
+  &lt;property name=&quot;windowTitle&quot; &gt;
+   &lt;string&gt;Dialog&lt;/string&gt;
+  &lt;/property&gt;
+  &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot; &gt;
+   &lt;property name=&quot;geometry&quot; &gt;
+    &lt;rect&gt;
+     &lt;x&gt;40&lt;/x&gt;
+     &lt;y&gt;20&lt;/y&gt;
+     &lt;width&gt;58&lt;/width&gt;
+     &lt;height&gt;17&lt;/height&gt;
+    &lt;/rect&gt;
+   &lt;/property&gt;
+   &lt;property name=&quot;text&quot; &gt;
+    &lt;string&gt;Nb Lines :&lt;/string&gt;
+   &lt;/property&gt;
+  &lt;/widget&gt;
+  &lt;widget class=&quot;QLabel&quot; name=&quot;labelNbLines&quot; &gt;
+   &lt;property name=&quot;geometry&quot; &gt;
+    &lt;rect&gt;
+     &lt;x&gt;110&lt;/x&gt;
+     &lt;y&gt;20&lt;/y&gt;
+     &lt;width&gt;58&lt;/width&gt;
+     &lt;height&gt;17&lt;/height&gt;
+    &lt;/rect&gt;
+   &lt;/property&gt;
+   &lt;property name=&quot;text&quot; &gt;
+    &lt;string&gt;0/0&lt;/string&gt;
+   &lt;/property&gt;
+  &lt;/widget&gt;
+  &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot; &gt;
+   &lt;property name=&quot;geometry&quot; &gt;
+    &lt;rect&gt;
+     &lt;x&gt;40&lt;/x&gt;
+     &lt;y&gt;40&lt;/y&gt;
+     &lt;width&gt;58&lt;/width&gt;
+     &lt;height&gt;17&lt;/height&gt;
+    &lt;/rect&gt;
+   &lt;/property&gt;
+   &lt;property name=&quot;text&quot; &gt;
+    &lt;string&gt;Timecode:&lt;/string&gt;
+   &lt;/property&gt;
+  &lt;/widget&gt;
+  &lt;widget class=&quot;QLabel&quot; name=&quot;labelTimecode&quot; &gt;
+   &lt;property name=&quot;geometry&quot; &gt;
+    &lt;rect&gt;
+     &lt;x&gt;110&lt;/x&gt;
+     &lt;y&gt;40&lt;/y&gt;
+     &lt;width&gt;58&lt;/width&gt;
+     &lt;height&gt;17&lt;/height&gt;
+    &lt;/rect&gt;
+   &lt;/property&gt;
+   &lt;property name=&quot;text&quot; &gt;
+    &lt;string&gt;00:00:00/000&lt;/string&gt;
+   &lt;/property&gt;
+  &lt;/widget&gt;
+  &lt;widget class=&quot;QGraphicsView&quot; name=&quot;smallView&quot; &gt;
+   &lt;property name=&quot;geometry&quot; &gt;
+    &lt;rect&gt;
+     &lt;x&gt;30&lt;/x&gt;
+     &lt;y&gt;130&lt;/y&gt;
+     &lt;width&gt;104&lt;/width&gt;
+     &lt;height&gt;94&lt;/height&gt;
+    &lt;/rect&gt;
+   &lt;/property&gt;
+  &lt;/widget&gt;
+  &lt;widget class=&quot;QGraphicsView&quot; name=&quot;bigView&quot; &gt;
+   &lt;property name=&quot;geometry&quot; &gt;
+    &lt;rect&gt;
+     &lt;x&gt;30&lt;/x&gt;
+     &lt;y&gt;220&lt;/y&gt;
+     &lt;width&gt;361&lt;/width&gt;
+     &lt;height&gt;201&lt;/height&gt;
+    &lt;/rect&gt;
+   &lt;/property&gt;
+  &lt;/widget&gt;
+  &lt;widget class=&quot;QPushButton&quot; name=&quot;pushButtonClose&quot; &gt;
+   &lt;property name=&quot;geometry&quot; &gt;
+    &lt;rect&gt;
+     &lt;x&gt;440&lt;/x&gt;
+     &lt;y&gt;440&lt;/y&gt;
+     &lt;width&gt;83&lt;/width&gt;
+     &lt;height&gt;27&lt;/height&gt;
+    &lt;/rect&gt;
+   &lt;/property&gt;
+   &lt;property name=&quot;text&quot; &gt;
+    &lt;string&gt;Close&lt;/string&gt;
+   &lt;/property&gt;
+  &lt;/widget&gt;
+  &lt;widget class=&quot;QPushButton&quot; name=&quot;pushButton&quot; &gt;
+   &lt;property name=&quot;geometry&quot; &gt;
+    &lt;rect&gt;
+     &lt;x&gt;30&lt;/x&gt;
+     &lt;y&gt;70&lt;/y&gt;
+     &lt;width&gt;83&lt;/width&gt;
+     &lt;height&gt;27&lt;/height&gt;
+    &lt;/rect&gt;
+   &lt;/property&gt;
+   &lt;property name=&quot;text&quot; &gt;
+    &lt;string&gt;PushButton&lt;/string&gt;
+   &lt;/property&gt;
+  &lt;/widget&gt;
+  &lt;widget class=&quot;QPushButton&quot; name=&quot;pushButton_2&quot; &gt;
+   &lt;property name=&quot;geometry&quot; &gt;
+    &lt;rect&gt;
+     &lt;x&gt;120&lt;/x&gt;
+     &lt;y&gt;70&lt;/y&gt;
+     &lt;width&gt;83&lt;/width&gt;
+     &lt;height&gt;27&lt;/height&gt;
+    &lt;/rect&gt;
+   &lt;/property&gt;
+   &lt;property name=&quot;text&quot; &gt;
+    &lt;string&gt;PushButton&lt;/string&gt;
+   &lt;/property&gt;
+  &lt;/widget&gt;
+  &lt;widget class=&quot;QPushButton&quot; name=&quot;pushButton_3&quot; &gt;
+   &lt;property name=&quot;geometry&quot; &gt;
+    &lt;rect&gt;
+     &lt;x&gt;210&lt;/x&gt;
+     &lt;y&gt;70&lt;/y&gt;
+     &lt;width&gt;83&lt;/width&gt;
+     &lt;height&gt;27&lt;/height&gt;
+    &lt;/rect&gt;
+   &lt;/property&gt;
+   &lt;property name=&quot;text&quot; &gt;
+    &lt;string&gt;PushButton&lt;/string&gt;
+   &lt;/property&gt;
+  &lt;/widget&gt;
+  &lt;widget class=&quot;QPushButton&quot; name=&quot;pushButton_4&quot; &gt;
+   &lt;property name=&quot;geometry&quot; &gt;
+    &lt;rect&gt;
+     &lt;x&gt;300&lt;/x&gt;
+     &lt;y&gt;70&lt;/y&gt;
+     &lt;width&gt;83&lt;/width&gt;
+     &lt;height&gt;27&lt;/height&gt;
+    &lt;/rect&gt;
+   &lt;/property&gt;
+   &lt;property name=&quot;text&quot; &gt;
+    &lt;string&gt;PushButton&lt;/string&gt;
+   &lt;/property&gt;
+  &lt;/widget&gt;
+  &lt;widget class=&quot;QLineEdit&quot; name=&quot;lineEdit&quot; &gt;
+   &lt;property name=&quot;geometry&quot; &gt;
+    &lt;rect&gt;
+     &lt;x&gt;30&lt;/x&gt;
+     &lt;y&gt;100&lt;/y&gt;
+     &lt;width&gt;113&lt;/width&gt;
+     &lt;height&gt;25&lt;/height&gt;
+    &lt;/rect&gt;
+   &lt;/property&gt;
+  &lt;/widget&gt;
+  &lt;widget class=&quot;QTextEdit&quot; name=&quot;textEdit&quot; &gt;
+   &lt;property name=&quot;geometry&quot; &gt;
+    &lt;rect&gt;
+     &lt;x&gt;160&lt;/x&gt;
+     &lt;y&gt;110&lt;/y&gt;
+     &lt;width&gt;104&lt;/width&gt;
+     &lt;height&gt;94&lt;/height&gt;
+    &lt;/rect&gt;
+   &lt;/property&gt;
+  &lt;/widget&gt;
+ &lt;/widget&gt;
+ &lt;resources/&gt;
+ &lt;connections/&gt;
+&lt;/ui&gt;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/CMakeLists.txt	2007-07-31 19:51:36 UTC (rev 3465)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/CMakeLists.txt	2007-08-01 18:33:47 UTC (rev 3466)
@@ -2,4 +2,5 @@
 subdirs(PREORDER ADM_dialogFactory)
 subdirs(PREORDER ADM_filters)
 subdirs(PREORDER ADM_gui)
+subdirs(PREORDER ADM_ocr)
 include_directories(../ADM_commonUI)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/Makefile.am	2007-07-31 19:51:36 UTC (rev 3465)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/Makefile.am	2007-08-01 18:33:47 UTC (rev 3466)
@@ -1,4 +1,4 @@
-SUBDIRS= ADM_dialog  ADM_gui  ADM_filters ADM_dialogFactory
+SUBDIRS= ADM_dialog  ADM_gui  ADM_filters ADM_dialogFactory ADM_ocr
 #SUBDIRS= ADM_gui  
 
 qclean:


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000742.html">[Avidemux-svn-commit] r3467 - branches/avidemux_2.4_branch/avidemux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#741">[ date ]</a>
              <a href="thread.html#741">[ thread ]</a>
              <a href="subject.html#741">[ subject ]</a>
              <a href="author.html#741">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
