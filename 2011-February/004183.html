<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r7011 - in branches/avidemux_2.6_branch_mean:	avidemux_core avidemux_core/ADM_core/src	avidemux_core/ADM_coreAudio/src	avidemux_core/ADM_coreAudioDevice/src	avidemux_core/ADM_coreAudioEncoder/src	avidemux_core/ADM_coreAudioFilter/src	avidemux_core/ADM_coreAudioParser/src	avidemux_core/ADM_coreDemuxer/src	avidemux_core/ADM_coreDemuxerMpeg/src	avidemux_core/ADM_coreImage/src	avidemux_core/ADM_coreImageLoader/src avidemux_core/ADM_coreJobs/src	avidemux_core/ADM_coreMuxer/src avidemux_core/ADM_coreSocket/src	avidemux_core/ADM_coreTinyPy/src avidemux_core/ADM_coreUI/src	avidemux_core/ADM_coreUtils/src avidemux_core/ADM_coreVdpau/src	avidemux_core/ADM_coreVideoCodec/src	avidemux_core/ADM_coreVideoEncoder/src	avidemux_core/ADM_coreVideoFilter/src cmake
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r7011%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux_core%20avidemux_core/ADM_core/src%0A%09avidemux_core/ADM_coreAudio/src%0A%09avidemux_core/ADM_coreAudioDevice/src%0A%09avidemux_core/ADM_coreAudioEncoder/src%0A%09avidemux_core/ADM_coreAudioFilter/src%0A%09avidemux_core/ADM_coreAudioParser/src%0A%09avidemux_core/ADM_coreDemuxer/src%0A%09avidemux_core/ADM_coreDemuxerMpeg/src%0A%09avidemux_core/ADM_coreImage/src%0A%09avidemux_core/ADM_coreImageLoader/src%20avidemux_core/ADM_coreJobs/src%0A%09avidemux_core/ADM_coreMuxer/src%20avidemux_core/ADM_coreSocket/src%0A%09avidemux_core/ADM_coreTinyPy/src%20avidemux_core/ADM_coreUI/src%0A%09avidemux_core/ADM_coreUtils/src%20avidemux_core/ADM_coreVdpau/src%0A%09avidemux_core/ADM_coreVideoCodec/src%0A%09avidemux_core/ADM_coreVideoEncoder/src%0A%09avidemux_core/ADM_coreVideoFilter/src%20cmake&In-Reply-To=%3C20110220134306.DAD0F4813EC%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004182.html">
   <LINK REL="Next"  HREF="004184.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r7011 - in branches/avidemux_2.6_branch_mean:	avidemux_core avidemux_core/ADM_core/src	avidemux_core/ADM_coreAudio/src	avidemux_core/ADM_coreAudioDevice/src	avidemux_core/ADM_coreAudioEncoder/src	avidemux_core/ADM_coreAudioFilter/src	avidemux_core/ADM_coreAudioParser/src	avidemux_core/ADM_coreDemuxer/src	avidemux_core/ADM_coreDemuxerMpeg/src	avidemux_core/ADM_coreImage/src	avidemux_core/ADM_coreImageLoader/src avidemux_core/ADM_coreJobs/src	avidemux_core/ADM_coreMuxer/src avidemux_core/ADM_coreSocket/src	avidemux_core/ADM_coreTinyPy/src avidemux_core/ADM_coreUI/src	avidemux_core/ADM_coreUtils/src avidemux_core/ADM_coreVdpau/src	avidemux_core/ADM_coreVideoCodec/src	avidemux_core/ADM_coreVideoEncoder/src	avidemux_core/ADM_coreVideoFilter/src cmake</H1>
    <B>mean at mail.berlios.de</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r7011%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux_core%20avidemux_core/ADM_core/src%0A%09avidemux_core/ADM_coreAudio/src%0A%09avidemux_core/ADM_coreAudioDevice/src%0A%09avidemux_core/ADM_coreAudioEncoder/src%0A%09avidemux_core/ADM_coreAudioFilter/src%0A%09avidemux_core/ADM_coreAudioParser/src%0A%09avidemux_core/ADM_coreDemuxer/src%0A%09avidemux_core/ADM_coreDemuxerMpeg/src%0A%09avidemux_core/ADM_coreImage/src%0A%09avidemux_core/ADM_coreImageLoader/src%20avidemux_core/ADM_coreJobs/src%0A%09avidemux_core/ADM_coreMuxer/src%20avidemux_core/ADM_coreSocket/src%0A%09avidemux_core/ADM_coreTinyPy/src%20avidemux_core/ADM_coreUI/src%0A%09avidemux_core/ADM_coreUtils/src%20avidemux_core/ADM_coreVdpau/src%0A%09avidemux_core/ADM_coreVideoCodec/src%0A%09avidemux_core/ADM_coreVideoEncoder/src%0A%09avidemux_core/ADM_coreVideoFilter/src%20cmake&In-Reply-To=%3C20110220134306.DAD0F4813EC%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r7011 - in branches/avidemux_2.6_branch_mean:	avidemux_core avidemux_core/ADM_core/src	avidemux_core/ADM_coreAudio/src	avidemux_core/ADM_coreAudioDevice/src	avidemux_core/ADM_coreAudioEncoder/src	avidemux_core/ADM_coreAudioFilter/src	avidemux_core/ADM_coreAudioParser/src	avidemux_core/ADM_coreDemuxer/src	avidemux_core/ADM_coreDemuxerMpeg/src	avidemux_core/ADM_coreImage/src	avidemux_core/ADM_coreImageLoader/src avidemux_core/ADM_coreJobs/src	avidemux_core/ADM_coreMuxer/src avidemux_core/ADM_coreSocket/src	avidemux_core/ADM_coreTinyPy/src avidemux_core/ADM_coreUI/src	avidemux_core/ADM_coreUtils/src avidemux_core/ADM_coreVdpau/src	avidemux_core/ADM_coreVideoCodec/src	avidemux_core/ADM_coreVideoEncoder/src	avidemux_core/ADM_coreVideoFilter/src cmake">mean at mail.berlios.de
       </A><BR>
    <I>Sun Feb 20 14:43:06 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004182.html">[Avidemux-svn-commit] r7010 -	branches/avidemux_2.6_branch_mean/avidemux_core/ADM_core/include
</A></li>
        <LI>Next message: <A HREF="004184.html">[Avidemux-svn-commit] r7014 -	branches/avidemux_2.6_branch_mean/cmake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4183">[ date ]</a>
              <a href="thread.html#4183">[ thread ]</a>
              <a href="subject.html#4183">[ subject ]</a>
              <a href="author.html#4183">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2011-02-20 14:43:06 +0100 (Sun, 20 Feb 2011)
New Revision: 7011

Modified:
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_core/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudio/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioDevice/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioEncoder/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioFilter/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioParser/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreDemuxer/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreDemuxerMpeg/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreImage/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreImageLoader/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreJobs/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreMuxer/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreSocket/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreTinyPy/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreUI/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreUtils/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVdpau/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoCodec/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/cmake/admAsNeeded.cmake
Log:
[build] As needify core

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_core/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_core/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_core/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -5,7 +5,7 @@
         ADM_queue.cpp
 )
 
-ADD_LIBRARY(ADM_core6 SHARED ${ADM_core_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_core6 ${ADM_core_SRCS})
 ADD_TARGET_DEFINITIONS(ADM_core6 ADM_DEBUG FIND_LEAKS)
 
 IF (MINGW)

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudio/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudio/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudio/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -14,7 +14,7 @@
 )	
 #*************************************************
 #*************************************************
-ADD_LIBRARY(ADM_coreAudio6 SHARED ${ADMaudioCore_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_coreAudio6 ${ADMaudioCore_SRCS})
 INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/avidemux/ADM_coreAudio/include)
 TARGET_LINK_LIBRARIES(ADM_coreAudio6 ADM_core6 ADM_coreUI6 ADM_audioParser6)
 

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioDevice/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioDevice/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioDevice/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -2,7 +2,7 @@
 	ADM_audiodevice.cpp  
 	)
 
-ADD_LIBRARY(ADM_coreAudioDevice6 SHARED ${ADM_audiodevice_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_coreAudioDevice6 ${ADM_audiodevice_SRCS})
 TARGET_LINK_LIBRARIES(ADM_coreAudioDevice6 ADM_core6 ADM_coreUI6 ADM_coreAudio6 ADM_coreUtils6)
 INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/avidemux/ADM_coreAudio/include)
 ADM_INSTALL_LIB(ADM_coreAudioDevice6)

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioEncoder/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioEncoder/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioEncoder/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -4,7 +4,7 @@
 )	
 #*************************************************
 #*************************************************
-ADD_LIBRARY(ADM_coreAudioEncoder6 SHARED ${ADMaudioCoreEncoder_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_coreAudioEncoder6 ${ADMaudioCoreEncoder_SRCS})
 TARGET_LINK_LIBRARIES(ADM_coreAudioEncoder6 ADM_core6 ADM_coreAudio6 ADM_coreAudioFilterAPI6 ADM_coreUI6)
 
 ADM_INSTALL_LIB(ADM_coreAudioEncoder6)

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioFilter/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioFilter/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioFilter/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -4,7 +4,7 @@
 audiofilterAPI.cpp
 )
 # For the API part, needed by coreAudioEncoder
-ADD_LIBRARY(ADM_coreAudioFilterAPI6 SHARED ${ADM_audioFilterAPI_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_coreAudioFilterAPI6 ${ADM_audioFilterAPI_SRCS})
 TARGET_LINK_LIBRARIES(ADM_coreAudioFilterAPI6 ADM_core6 ADM_coreUI6  )
 ADM_INSTALL_LIB(ADM_coreAudioFilterAPI6)
 # END

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioParser/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioParser/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioParser/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -12,7 +12,7 @@
 ADD_DEFINITIONS(-DHAVE_LRINT -DHAVE_LRINTF)
 ADD_DEFINITIONS(-DCPU_CLIPS_POSITIVE=0 -DCPU_CLIPS_NEGATIVE=0)
 #*************************************************
-ADD_LIBRARY(ADM_audioParser6 SHARED ${ADMaudioParser_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_audioParser6 ${ADMaudioParser_SRCS})
 TARGET_LINK_LIBRARIES(ADM_audioParser6 ADM_core6 ADM_coreUtils6 ADM_coreUI6  ADM_libavcodec ADM_libavformat ADM_libavutil)
 
 if (NOT ${CMAKE_VERSION} VERSION_GREATER 2.8.3)

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreDemuxer/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreDemuxer/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreDemuxer/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -4,7 +4,7 @@
 ADM_demuxer.cpp
 )	
 #*************************************************
-ADD_LIBRARY(ADM_coreDemuxer6 SHARED ${ADMcoreDemuxer_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_coreDemuxer6 ${ADMcoreDemuxer_SRCS})
 INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/avidemux/ADM_coreAudio/include)
 TARGET_LINK_LIBRARIES(ADM_coreDemuxer6 ADM_coreImage6 ADM_coreAudio6 ADM_core6)
 

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreDemuxerMpeg/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreDemuxerMpeg/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreDemuxerMpeg/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -10,7 +10,7 @@
 dmxPSPacket.cpp
 )	
 #*************************************************
-ADD_LIBRARY(ADM_coreDemuxerMpeg6 SHARED ${ADMcoreDemuxerMpeg_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_coreDemuxerMpeg6 ${ADMcoreDemuxerMpeg_SRCS})
 TARGET_LINK_LIBRARIES(ADM_coreDemuxerMpeg6 ADM_core6)
 INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/../include)
 ADM_INSTALL_LIB(ADM_coreDemuxerMpeg6)

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreImage/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreImage/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreImage/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -19,7 +19,7 @@
         ADM_imageOperation.cpp
 )
 
-ADD_LIBRARY(ADM_coreImage6 SHARED ${ADM_coreImage_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_coreImage6 ${ADM_coreImage_SRCS})
 ADD_SOURCE_CFLAGS(DIA_flyDialog.cpp &quot; -DADM_UI_TYPE_BUILD=99&quot;)
 IF (APPLE)
 	TARGET_LINK_LIBRARIES(ADM_coreImage6 -Wl,-read_only_relocs,suppress)

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreImageLoader/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreImageLoader/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreImageLoader/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -2,7 +2,7 @@
 ADM_imageLoader.cpp
 )
 
-ADD_LIBRARY(ADM_coreImageLoader6 SHARED ${ADM_imageLoader_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_coreImageLoader6 ${ADM_imageLoader_SRCS})
 TARGET_LINK_LIBRARIES(ADM_coreImageLoader6 
                                           ADM_core6
                                           ADM_coreImage6 

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreJobs/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreJobs/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreJobs/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -8,7 +8,7 @@
         SysLog.cpp
 )
 
-ADD_LIBRARY(ADM_coreJobs SHARED ${ADM_coreJobs_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_coreJobs ${ADM_coreJobs_SRCS})
 IF (APPLE)
 	TARGET_LINK_LIBRARIES(ADM_coreJobs -Wl,-read_only_relocs,suppress)
 ENDIF (APPLE)

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreMuxer/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreMuxer/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreMuxer/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -6,7 +6,7 @@
 ADM_coreMuxerFfmpeg.cpp
 )	
 #*************************************************
-ADD_LIBRARY(ADM_coreMuxer6 SHARED ${ADMcoreMuxer_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_coreMuxer6 ${ADMcoreMuxer_SRCS})
 INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/avidemux/ADM_coreAudio/include)
 
 TARGET_LINK_LIBRARIES(ADM_coreMuxer6 ADM_coreImage6 ADM_coreAudio6 ADM_core6 ADM_libavcodec ADM_libavformat ADM_libavutil ADM_coreUtils6)

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreSocket/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreSocket/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreSocket/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -3,7 +3,7 @@
         ADM_coreCommandSocket.cpp
 )	
 #*************************************************
-ADD_LIBRARY(ADM_coreSocket6 SHARED ${ADMcoreSocket_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_coreSocket6 ${ADMcoreSocket_SRCS})
 TARGET_LINK_LIBRARIES(ADM_coreSocket6  ADM_core6 ADM_coreUtils6)
 INCLUDE_DIRECTORIES(../include)
 if(WIN32)

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreTinyPy/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreTinyPy/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreTinyPy/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -3,7 +3,7 @@
         ADM_tinypy.cpp
 )
 
-ADD_LIBRARY(ADM_coreTinyPy6 SHARED ${ADM_coreTinyPy_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_coreTinyPy6 ${ADM_coreTinyPy_SRCS})
 ADD_DEFINITIONS(-DCPYTHON_MOD)
 IF (APPLE)
 	TARGET_LINK_LIBRARIES(ADM_coreTinyPy6 -Wl,-read_only_relocs,suppress)

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreUI/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreUI/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreUI/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -6,7 +6,7 @@
         DIA_encoding.cpp
 )
 
-ADD_LIBRARY(ADM_coreUI6 SHARED ${ADM_coreUI_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_coreUI6 ${ADM_coreUI_SRCS})
 TARGET_LINK_LIBRARIES(ADM_coreUI6 ADM_core6)
 
 ADM_INSTALL_LIB(ADM_coreUI6)

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreUtils/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreUtils/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreUtils/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -17,7 +17,7 @@
 ADM_writeRiff.cpp
 prefs.cpp)
 
-ADD_LIBRARY(ADM_coreUtils6 SHARED ${ADM_coreUtils_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_coreUtils6 ${ADM_coreUtils_SRCS})
 TARGET_LINK_LIBRARIES(ADM_coreUtils6 ADM_core6 ADM_coreUI6 ADM_libavutil ADM_libavcodec ${LIBXML2_LIBRARIES})
 
 if (NOT ${CMAKE_VERSION} VERSION_GREATER 2.8.3)

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVdpau/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVdpau/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVdpau/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -5,7 +5,7 @@
 )	
 #*************************************************
 #*************************************************
-ADD_LIBRARY(ADM_coreVDPAU6 SHARED ${ADM_vdpau_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_coreVDPAU6 ${ADM_vdpau_SRCS})
 INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/avidemux/ADM_coreVdpau/include)
 TARGET_LINK_LIBRARIES(ADM_coreVDPAU6 ADM_core6 ADM_coreUI6 )
 ADM_INSTALL_LIB(ADM_coreVDPAU6)

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoCodec/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoCodec/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoCodec/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -8,7 +8,7 @@
 DIA_lavDecoder.cpp
 )
 
-ADD_LIBRARY(ADM_coreVideoCodec6 SHARED ${ADM_codecs_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_coreVideoCodec6 ${ADM_codecs_SRCS})
 TARGET_LINK_LIBRARIES(ADM_coreVideoCodec6 
                                           ADM_core6
                                           ADM_coreImage6 

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -3,11 +3,11 @@
         ADM_coreVideoEncoderFFmpeg.cpp
 )
 
-ADD_LIBRARY(ADM_coreVideoEncoder6 SHARED ${ADM_CoreVideoEncoder_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_coreVideoEncoder6 ${ADM_CoreVideoEncoder_SRCS})
 TARGET_LINK_LIBRARIES(ADM_coreVideoEncoder6 ADM_core6 ADM_coreUtils6 ADM_coreImage6 ADM_libavcodec ADM_libavutil)
 
 if (NOT ${CMAKE_VERSION} VERSION_GREATER 2.8.3)
 	add_dependencies(ADM_coreVideoEncoder6 libavcodec libavutil)
 endif (NOT ${CMAKE_VERSION} VERSION_GREATER 2.8.3)
 
-ADM_INSTALL_LIB(ADM_coreVideoEncoder6)
\ No newline at end of file
+ADM_INSTALL_LIB(ADM_coreVideoEncoder6)

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -4,7 +4,7 @@
         ADM_videoFilterCache.cpp
 )
 
-ADD_LIBRARY(ADM_coreVideoFilter6 SHARED ${ADM_CoreVideoFilter_SRCS})
+ADM_ADD_SHARED_LIBRARY(ADM_coreVideoFilter6 ${ADM_CoreVideoFilter_SRCS})
 TARGET_LINK_LIBRARIES(ADM_coreVideoFilter6 ADM_core6 ADM_coreImage6)
 
 ADM_INSTALL_LIB(ADM_coreVideoFilter6)

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/CMakeLists.txt	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/CMakeLists.txt	2011-02-20 13:43:06 UTC (rev 7011)
@@ -15,7 +15,7 @@
 
 ADD_DEFINITIONS(-D_FILE_OFFSET_BITS=64 -D_LARGE_FILES)
 include(admMainChecks)
-
+include(admAsNeeded)
 ########################################
 # VDPAU
 ########################################

Modified: branches/avidemux_2.6_branch_mean/cmake/admAsNeeded.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admAsNeeded.cmake	2011-02-20 13:43:00 UTC (rev 7010)
+++ branches/avidemux_2.6_branch_mean/cmake/admAsNeeded.cmake	2011-02-20 13:43:06 UTC (rev 7011)
@@ -2,3 +2,8 @@
         TARGET_LINK_LIBRARIES( ${name} &quot;-Wl,--as-needed&quot;)
 ENDMACRO(AS_NEEDED name)
 
+MACRO(ADM_ADD_SHARED_LIBRARY name )
+        ADD_LIBRARY(${name} SHARED ${ARGN})
+	AS_NEEDED(${name})
+ENDMACRO(ADM_ADD_SHARED_LIBRARY name )
+


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004182.html">[Avidemux-svn-commit] r7010 -	branches/avidemux_2.6_branch_mean/avidemux_core/ADM_core/include
</A></li>
	<LI>Next message: <A HREF="004184.html">[Avidemux-svn-commit] r7014 -	branches/avidemux_2.6_branch_mean/cmake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4183">[ date ]</a>
              <a href="thread.html#4183">[ thread ]</a>
              <a href="subject.html#4183">[ subject ]</a>
              <a href="author.html#4183">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
