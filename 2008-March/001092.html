<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r3826 - in	branches/avidemux_2.5_branch_gruntster: .	avidemux/ADM_inputs/ADM_nuv avidemux/ADM_libraries/ADM_lavcodec	avidemux/ADM_libraries/ADM_lavformat	avidemux/ADM_libraries/ADM_lavutil avidemux/ADM_libraries/ADM_libMad	avidemux/ADM_libraries/ADM_libMpeg2Dec	avidemux/ADM_libraries/ADM_liba52	avidemux/ADM_libraries/ADM_libpostproc	avidemux/ADM_libraries/ADM_libswscale	avidemux/ADM_libraries/ADM_mplex avidemux/ADM_osSupport	avidemux/ADM_userInterfaces/ADM_commonUI cmake
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2008-March/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3826%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster%3A%20.%0A%09avidemux/ADM_inputs/ADM_nuv%20avidemux/ADM_libraries/ADM_lavcodec%0A%09avidemux/ADM_libraries/ADM_lavformat%0A%09avidemux/ADM_libraries/ADM_lavutil%20avidemux/ADM_libraries/ADM_libMad%0A%09avidemux/ADM_libraries/ADM_libMpeg2Dec%0A%09avidemux/ADM_libraries/ADM_liba52%0A%09avidemux/ADM_libraries/ADM_libpostproc%0A%09avidemux/ADM_libraries/ADM_libswscale%0A%09avidemux/ADM_libraries/ADM_mplex%20avidemux/ADM_osSupport%0A%09avidemux/ADM_userInterfaces/ADM_commonUI%20cmake&In-Reply-To=%3C200803051433.m25EX0FU002239%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001091.html">
   <LINK REL="Next"  HREF="001093.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r3826 - in	branches/avidemux_2.5_branch_gruntster: .	avidemux/ADM_inputs/ADM_nuv avidemux/ADM_libraries/ADM_lavcodec	avidemux/ADM_libraries/ADM_lavformat	avidemux/ADM_libraries/ADM_lavutil avidemux/ADM_libraries/ADM_libMad	avidemux/ADM_libraries/ADM_libMpeg2Dec	avidemux/ADM_libraries/ADM_liba52	avidemux/ADM_libraries/ADM_libpostproc	avidemux/ADM_libraries/ADM_libswscale	avidemux/ADM_libraries/ADM_mplex avidemux/ADM_osSupport	avidemux/ADM_userInterfaces/ADM_commonUI cmake</H1>
    <B>gruntster at mail.berlios.de</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3826%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster%3A%20.%0A%09avidemux/ADM_inputs/ADM_nuv%20avidemux/ADM_libraries/ADM_lavcodec%0A%09avidemux/ADM_libraries/ADM_lavformat%0A%09avidemux/ADM_libraries/ADM_lavutil%20avidemux/ADM_libraries/ADM_libMad%0A%09avidemux/ADM_libraries/ADM_libMpeg2Dec%0A%09avidemux/ADM_libraries/ADM_liba52%0A%09avidemux/ADM_libraries/ADM_libpostproc%0A%09avidemux/ADM_libraries/ADM_libswscale%0A%09avidemux/ADM_libraries/ADM_mplex%20avidemux/ADM_osSupport%0A%09avidemux/ADM_userInterfaces/ADM_commonUI%20cmake&In-Reply-To=%3C200803051433.m25EX0FU002239%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r3826 - in	branches/avidemux_2.5_branch_gruntster: .	avidemux/ADM_inputs/ADM_nuv avidemux/ADM_libraries/ADM_lavcodec	avidemux/ADM_libraries/ADM_lavformat	avidemux/ADM_libraries/ADM_lavutil avidemux/ADM_libraries/ADM_libMad	avidemux/ADM_libraries/ADM_libMpeg2Dec	avidemux/ADM_libraries/ADM_liba52	avidemux/ADM_libraries/ADM_libpostproc	avidemux/ADM_libraries/ADM_libswscale	avidemux/ADM_libraries/ADM_mplex avidemux/ADM_osSupport	avidemux/ADM_userInterfaces/ADM_commonUI cmake">gruntster at mail.berlios.de
       </A><BR>
    <I>Wed Mar  5 15:33:00 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001091.html">[Avidemux-svn-commit] r3825 - in	branches/avidemux_2.5_branch_gruntster: . avidemux	avidemux/ADM_audiocodec avidemux/ADM_codecs	avidemux/ADM_colorspace avidemux/ADM_filter	avidemux/ADM_inputs/ADM_openDML avidemux/ADM_libraries/ADM_lavcodec	avidemux/ADM_libraries/ADM_lavformat	avidemux/ADM_libraries/ADM_lavutil	avidemux/ADM_libraries/ADM_libMpeg2Dec	avidemux/ADM_libraries/ADM_libmpeg2enc	avidemux/ADM_libraries/ADM_libpostproc	avidemux/ADM_libraries/ADM_libswscale	avidemux/ADM_libraries/ADM_mplex	avidemux/ADM_libraries/ADM_utilities avidemux/ADM_osSupport	avidemux/ADM_userInterfaces/ADM_commonUI avidemux/ADM_video	avidemux/ADM_videoFilter cmake
</A></li>
        <LI>Next message: <A HREF="001093.html">[Avidemux-svn-commit] r3827 - in	branches/avidemux_2.5_branch_gruntster: cmake cmake_compile_check
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1092">[ date ]</a>
              <a href="thread.html#1092">[ thread ]</a>
              <a href="subject.html#1092">[ subject ]</a>
              <a href="author.html#1092">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: gruntster
Date: 2008-03-05 15:32:46 +0100 (Wed, 05 Mar 2008)
New Revision: 3826

Added:
   branches/avidemux_2.5_branch_gruntster/cmake/admLibFfmpeg.cmake
Removed:
   branches/avidemux_2.5_branch_gruntster/cmake/admLibavcodec.cmake
Modified:
   branches/avidemux_2.5_branch_gruntster/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavcodec/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavcodec/ffconf.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavcodec/ffconf.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavformat/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavutil/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavutil/internal.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libMad/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libMpeg2Dec/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_liba52/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libpostproc/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libswscale/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_mplex/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_osSupport/ADM_cpuCap.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_osSupport/ADM_cpuCap.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp
   branches/avidemux_2.5_branch_gruntster/cmake/admDetermineSystem.cmake
   branches/avidemux_2.5_branch_gruntster/cmake/config.h.cmake
Log:
[CMake] final stage of localising defines

Modified: branches/avidemux_2.5_branch_gruntster/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/CMakeLists.txt	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/CMakeLists.txt	2008-03-05 14:32:46 UTC (rev 3826)
@@ -54,22 +54,19 @@
 ########################################
 SET(VERSION 2.5)
 
+# Define internal flags for GTK+ and Qt4 builds.  These are turned off
+# if a showstopper is found.  CLI is automatically assumed as possible
+# since it uses the minimum set of required libraries and CMake will 
+# fail if these aren't met.
+SET(ADM_UI_GTK 1)
+SET(ADM_UI_QT4 1)
+
 SET(HAVE_AUDIO 1)
 SET(USE_MP3 1)
 SET(USE_AC3 1)
 SET(USE_FFMPEG 1)
 SET(USE_MJPEG 1)
 
-IF (CMAKE_WORDS_BIGENDIAN)
-	SET(ADM_BIG_ENDIAN 1)
-# needs to be made library specific
-	SET(WORDS_BIGENDIAN 1)
-ENDIF (CMAKE_WORDS_BIGENDIAN)
-
-# Libavcodec
-INCLUDE(admLibavcodec)
-SET_LAVC_CONFIG_FLAGS()
-
 IF (NOT CMAKE_BUILD_TYPE)
 	SET(CMAKE_BUILD_TYPE &quot;Release&quot;)
 ELSEIF (CMAKE_BUILD_TYPE STREQUAL &quot;Debug&quot;)
@@ -106,13 +103,6 @@
 ########################################
 # Check for libraries
 ########################################
-# Define internal flags for GTK+ and Qt4 builds.  These are turned off
-# if a showstopper is found.  CLI is automatically assumed as possible
-# since it uses the minimum set of required libraries and CMake will 
-# fail if these aren't met.
-SET(ADM_UI_GTK 1)
-SET(ADM_UI_QT4 1)
-
 SET(MSG_DISABLE_OPTION &quot;Disabled per request&quot;)
 
 INCLUDE(admCheckRequiredLibs)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/CMakeLists.txt	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/CMakeLists.txt	2008-03-05 14:32:46 UTC (rev 3826)
@@ -1,4 +1,8 @@
 SET(ADM_nuv_SRCS 
 	ADM_nuvAudio.cpp  ADM_nuv.cpp  minilzo.c  RTjpeg.c  RTjpegN.cpp  RToldformat.cpp)
 
-ADD_ADM_LIB_ALL_TARGETS(ADM_nuv ${ADM_nuv_SRCS})
\ No newline at end of file
+ADD_ADM_LIB_ALL_TARGETS(ADM_nuv ${ADM_nuv_SRCS})
+
+IF (ADM_BIG_ENDIAN)
+	ADD_CFLAGS_ALL_TARGETS(ADM_nuv &quot;-DWORDS_BIGENDIAN&quot;)
+ENDIF (ADM_BIG_ENDIAN)
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavcodec/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavcodec/CMakeLists.txt	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavcodec/CMakeLists.txt	2008-03-05 14:32:46 UTC (rev 3826)
@@ -1,63 +1,63 @@
-SET(ADM_LIB ADM_lavcodec)
-
-SET(${ADM_LIB}_SRCS 
-	adpcm.c 	allcodecs.c 	cyuv.c 	dsputil.c 	dv.c 
-	error_resilience.c 		fft.c 	h263.c 	h263dec.c 	huffyuv.c 	imgconvert.c 
-	jfdctfst.c 	jfdctint.c 	jrevdct.c 	mace.c 	mdct.c 	 	mjpeg.c 
-	motion_est.c 	mpeg12.c 	mpegaudio.c 	mpegaudiodec.c 	mpegvideo.c 	msmpeg4.c 	 
-	pcm.c 	ratecontrol.c 	raw.c 	resample.c 	rv10.c 	simple_idct.c 	svq1.c 
-	utils.c 	wmadec.c 	indeo3.c 	vp3.c 	vp3dsp.c 	h264.c 	ffv1.c 	ra144.c 	ra288.c 
-	golomb.c 	4xm.c 	cabac.c 	asv1.c vcr1.c cljr.c 	faandct.c 	 	parser.c 
-	roqvideo.c 	xan.c 	rpza.c 	msrle.c 	msvideo1.c 	cinepak.c 	vqavideo.c 
-	idcinvideo.c 	smc.c 	flicvideo.c 	interplayvideo.c 	dpcm.c 	8bps.c vmdav.c 
-	truemotion1.c flac.c g726.c 	qtrle.c lcl.c 	snow.c  
-	rangecoder.c bitstream.c h264idct.c h261.c amr.c tscc.c 
-	resample2.c pthread.c qdm2.c bitstream_filter.c eval.c 
-	vc1.c vc1dsp.c vp56.c  vp6.c vp5.c indeo2.c smacker.c  opt.c
-	fraps.c dnxhddata.h  dnxhddec.c
-	mpeg12data.c  mpegaudiodata.c  msmpeg4data.c   vc1data.c   vp56data.c mjpegbdec.c
-	h263_parser.c
-	h264_parser.c
-	mpeg4video_parser.c
-	mpegvideo_enc.c
-	mpeg12enc.c mpegaudioenc.c
-	ac3enc.c ac3.c ac3tab.c
-	mjpegenc.c mjpegdec.c
-	wma.c
-	dvbsub_parser.c
-	dvbsubdec.c
-	dvbsub.c xiph.c
-	sp5xdec.c nellymoserdec.c)
-
-IF(ADM_CPU_X86)
-	SET(${ADM_LIB}_SRCS  ${${ADM_LIB}_SRCS}
-		i386/cputest.c
-		i386/mpegvideo_mmx.c     i386/vp3dsp_mmx.c 
-		i386/dsputil_mmx.c   
-		i386/fdct_mmx.c   i386/motion_est_mmx.c  i386/simple_idct_mmx.c 
-		i386/fft_sse.c i386/vp3dsp_sse2.c  
-		i386/idct_mmx_xvid.c i386/fft_3dn2.c 
-		i386/snowdsp_mmx.c i386/fft_3dn.c)
-ENDIF(ADM_CPU_X86)
-
-IF (ADM_CPU_ALTIVEC)
-	SET(${ADM_LIB}_SRCS  ${${ADM_LIB}_SRCS}
-		ppc/dsputil_altivec.c  ppc/dsputil_ppc.c  ppc/fdct_altivec.c  ppc/fft_altivec.c  ppc/float_altivec.c  ppc/gmc_altivec.c
-		ppc/h264_altivec.c  ppc/idct_altivec.c  ppc/int_altivec.c  ppc/mpegvideo_altivec.c  ppc/mpegvideo_ppc.c
-		ppc/snow_altivec.c  ppc/vc1dsp_altivec.c)
-ENDIF (ADM_CPU_ALTIVEC)
-
-ADD_ADM_LIB_ALL_TARGETS(${ADM_LIB} ${${ADM_LIB}_SRCS})
-ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-I../ADM_lavutil -DHAVE_AV_CONFIG_H -Drestrict=__restrict__ -fomit-frame-pointer -include ffconf.h&quot;)
-
-IF (ADM_DEBUG)
-	ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-O2&quot;)
-ENDIF (ADM_DEBUG)
-
-IF (USE_AMR_NB)
-	ADD_SOURCE_CFLAGS(amr.c -I${AMRNB_INCLUDE_DIR})
-ENDIF (USE_AMR_NB)
-
-INCLUDE(admLibavcodec)
-GET_LAVC_CFLAGS(LAVC_CFLAGS)
-ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;${LAVC_CFLAGS}&quot;)
\ No newline at end of file
+SET(ADM_LIB ADM_lavcodec)
+
+SET(${ADM_LIB}_SRCS 
+	adpcm.c 	allcodecs.c 	cyuv.c 	dsputil.c 	dv.c 
+	error_resilience.c 		fft.c 	h263.c 	h263dec.c 	huffyuv.c 	imgconvert.c 
+	jfdctfst.c 	jfdctint.c 	jrevdct.c 	mace.c 	mdct.c 	 	mjpeg.c 
+	motion_est.c 	mpeg12.c 	mpegaudio.c 	mpegaudiodec.c 	mpegvideo.c 	msmpeg4.c 	 
+	pcm.c 	ratecontrol.c 	raw.c 	resample.c 	rv10.c 	simple_idct.c 	svq1.c 
+	utils.c 	wmadec.c 	indeo3.c 	vp3.c 	vp3dsp.c 	h264.c 	ffv1.c 	ra144.c 	ra288.c 
+	golomb.c 	4xm.c 	cabac.c 	asv1.c vcr1.c cljr.c 	faandct.c 	 	parser.c 
+	roqvideo.c 	xan.c 	rpza.c 	msrle.c 	msvideo1.c 	cinepak.c 	vqavideo.c 
+	idcinvideo.c 	smc.c 	flicvideo.c 	interplayvideo.c 	dpcm.c 	8bps.c vmdav.c 
+	truemotion1.c flac.c g726.c 	qtrle.c lcl.c 	snow.c  
+	rangecoder.c bitstream.c h264idct.c h261.c amr.c tscc.c 
+	resample2.c pthread.c qdm2.c bitstream_filter.c eval.c 
+	vc1.c vc1dsp.c vp56.c  vp6.c vp5.c indeo2.c smacker.c  opt.c
+	fraps.c dnxhddata.h  dnxhddec.c
+	mpeg12data.c  mpegaudiodata.c  msmpeg4data.c   vc1data.c   vp56data.c mjpegbdec.c
+	h263_parser.c
+	h264_parser.c
+	mpeg4video_parser.c
+	mpegvideo_enc.c
+	mpeg12enc.c mpegaudioenc.c
+	ac3enc.c ac3.c ac3tab.c
+	mjpegenc.c mjpegdec.c
+	wma.c
+	dvbsub_parser.c
+	dvbsubdec.c
+	dvbsub.c xiph.c
+	sp5xdec.c nellymoserdec.c)
+
+IF(ADM_CPU_X86)
+	SET(${ADM_LIB}_SRCS  ${${ADM_LIB}_SRCS}
+		i386/cputest.c
+		i386/mpegvideo_mmx.c     i386/vp3dsp_mmx.c 
+		i386/dsputil_mmx.c   
+		i386/fdct_mmx.c   i386/motion_est_mmx.c  i386/simple_idct_mmx.c 
+		i386/fft_sse.c i386/vp3dsp_sse2.c  
+		i386/idct_mmx_xvid.c i386/fft_3dn2.c 
+		i386/snowdsp_mmx.c i386/fft_3dn.c)
+ENDIF(ADM_CPU_X86)
+
+IF (ADM_CPU_ALTIVEC)
+	SET(${ADM_LIB}_SRCS  ${${ADM_LIB}_SRCS}
+		ppc/dsputil_altivec.c  ppc/dsputil_ppc.c  ppc/fdct_altivec.c  ppc/fft_altivec.c  ppc/float_altivec.c  ppc/gmc_altivec.c
+		ppc/h264_altivec.c  ppc/idct_altivec.c  ppc/int_altivec.c  ppc/mpegvideo_altivec.c  ppc/mpegvideo_ppc.c
+		ppc/snow_altivec.c  ppc/vc1dsp_altivec.c)
+ENDIF (ADM_CPU_ALTIVEC)
+
+ADD_ADM_LIB_ALL_TARGETS(${ADM_LIB} ${${ADM_LIB}_SRCS})
+ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-I../ADM_lavutil -DHAVE_AV_CONFIG_H -Drestrict=__restrict__ -fomit-frame-pointer -include ffconf.h&quot;)
+
+IF (ADM_DEBUG)
+	ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-O2&quot;)
+ENDIF (ADM_DEBUG)
+
+IF (USE_AMR_NB)
+	ADD_SOURCE_CFLAGS(amr.c -I${AMRNB_INCLUDE_DIR})
+ENDIF (USE_AMR_NB)
+
+INCLUDE(admLibFfmpeg)
+GET_FFMPEG_CFLAGS(FFMPEG_CFLAGS)
+ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;${FFMPEG_CFLAGS}&quot;)
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavcodec/ffconf.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavcodec/ffconf.c	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavcodec/ffconf.c	2008-03-05 14:32:46 UTC (rev 3826)
@@ -1,348 +1,396 @@
-/*
- * Glue to lavcodec configure
- * MEANX
- * */
-#include &lt;stdlib.h&gt;
-#include &lt;stdio.h&gt;
-int main(void)
-{
-#define DECLARE_DECODER(a,b); printf(&quot;#define ENABLE_&quot;#a&quot;_DECODER 1\n&quot;); 
-  
-    DECLARE_DECODER(NELLYMOSER,nellymoser);
-    DECLARE_DECODER(ADPCM_IMA_AMV, amv);
-    DECLARE_DECODER(CINEPAK, cinepak);
-    DECLARE_DECODER(DNXHD, dnxhd);
-    DECLARE_DECODER(FOURXM, fourxm);
-    DECLARE_DECODER(FRAPS, fraps);
-	DECLARE_DECODER(H263, h263);
-    DECLARE_DECODER(H264, h264);
-    DECLARE_DECODER(INDEO2, indeo2);
-    DECLARE_DECODER(INDEO3, indeo3);
-    DECLARE_DECODER(INTERPLAY_VIDEO, interplay_video);
-    DECLARE_DECODER(MPEGVIDEO, mpegvideo);
-    DECLARE_DECODER(MSVIDEO1, msvideo1);
-    DECLARE_DECODER(VC1, vc1);
-    DECLARE_DECODER(VCR1, vcr1);
-    DECLARE_DECODER(VP5, vp5);
-    DECLARE_DECODER(VP6, vp6);
-    DECLARE_DECODER(VP6F, vp6f);
-    DECLARE_DECODER(WMV3, wmv3);
-    DECLARE_DECODER (WMV1, wmv1);
-    DECLARE_DECODER (WMV2, wmv2);
-    DECLARE_DECODER(VP3, vp3);
-    DECLARE_DECODER (MPEG4, mpeg4);
-    DECLARE_DECODER (MSMPEG4V1, msmpeg4v1);
-    DECLARE_DECODER (MSMPEG4V2, msmpeg4v2);
-    DECLARE_DECODER (MSMPEG4V3, msmpeg4v3);
-    DECLARE_DECODER(MJPEGB, mjpegb);
-    DECLARE_DECODER (MJPEG, mjpeg);
-    DECLARE_DECODER(WMAV2, wmav2);
-    DECLARE_DECODER (DVVIDEO, dvvideo);
-    DECLARE_DECODER (HUFFYUV, huffyuv);
-    DECLARE_DECODER (FFVHUFF, ffvhuff);
-    DECLARE_DECODER(SVQ3, svq3);
-    DECLARE_DECODER(TSCC, tscc);
-    DECLARE_DECODER(QDM2, qdm2);
-    DECLARE_DECODER (FFV1, ffv1);
-    DECLARE_DECODER (MPEG1VIDEO, mpeg1video);
-    DECLARE_DECODER (MPEG2VIDEO, mpeg2video);
-    DECLARE_DECODER (RV10, rv10);
-    DECLARE_DECODER (RV20, rv20);
-    DECLARE_DECODER (DVBSUB, dvbsub);
-    DECLARE_DECODER (FLV, flv);
-    DECLARE_DECODER (SNOW, snow);
-    DECLARE_DECODER (AMV, amv);
-#undef DECLARE_DECODER
-#define DECLARE_DECODER(a,b); printf(&quot;#define ENABLE_&quot;#a&quot;_DECODER 0\n&quot;); 
-
-    DECLARE_DECODER(AASC, aasc);
-    DECLARE_DECODER(AVS, avs);
-    DECLARE_DECODER(BETHSOFTVID, bethsoftvid);
-    DECLARE_DECODER(C93, c93);
-    DECLARE_DECODER(CAVS, cavs);
-    DECLARE_DECODER(CLJR, cljr);
-    DECLARE_DECODER(CSCD, cscd);
-    DECLARE_DECODER(CYUV, cyuv);
-    DECLARE_DECODER(DSICINVIDEO, dsicinvideo);
-    DECLARE_DECODER(DXA, dxa);
-    DECLARE_DECODER(EIGHTBPS, eightbps);
-    DECLARE_DECODER(FLIC, flic);
-    DECLARE_DECODER(IDCIN, idcin);
-    DECLARE_DECODER(KMVC, kmvc);
-    DECLARE_DECODER(LOCO, loco);
-    DECLARE_DECODER(MDEC, mdec);
-    DECLARE_DECODER(MMVIDEO, mmvideo);
-    DECLARE_DECODER(MPEG_XVMC, mpeg_xvmc);
-    DECLARE_DECODER(MSRLE, msrle);
-    DECLARE_DECODER(MSZH, mszh);
-    DECLARE_DECODER(NUV, nuv);
-    DECLARE_DECODER(PTX, ptx);
-    DECLARE_DECODER(QDRAW, qdraw);
-    DECLARE_DECODER(QPEG, qpeg);
-    DECLARE_DECODER(RPZA, rpza);
-    DECLARE_DECODER(SMACKER, smacker);
-    DECLARE_DECODER(SMC, smc);
-    DECLARE_DECODER(SP5X, sp5x);
-    DECLARE_DECODER(THEORA, theora);
-    DECLARE_DECODER(THP, thp);
-    DECLARE_DECODER(TIERTEXSEQVIDEO, tiertexseqvideo);
-    DECLARE_DECODER(TRUEMOTION1, truemotion1);
-    DECLARE_DECODER(TRUEMOTION2, truemotion2);
-    DECLARE_DECODER(TXD, txd);
-    DECLARE_DECODER(ULTI, ulti);
-    DECLARE_DECODER(VMDVIDEO, vmdvideo);
-    DECLARE_DECODER(VMNC, vmnc);
-    DECLARE_DECODER(VQA, vqa);
-    DECLARE_DECODER(WNV1, wnv1);
-    DECLARE_DECODER(XAN_WC3, xan_wc3);
-    DECLARE_DECODER(XL, xl);
-    DECLARE_DECODER(MPEG4AAC, mpeg4aac);
-    DECLARE_DECODER(ALAC, alac);
-    DECLARE_DECODER(ATRAC3, atrac3);
-    DECLARE_DECODER(COOK, cook);
-    DECLARE_DECODER(DCA, dca);
-    DECLARE_DECODER(DSICINAUDIO, dsicinaudio);
-    DECLARE_DECODER(IMC, imc);
-    DECLARE_DECODER(LIBA52, liba52);
-    DECLARE_DECODER(LIBFAAD, libfaad);
-    DECLARE_DECODER(MACE3, mace3);
-    DECLARE_DECODER(MACE6, mace6);
-    DECLARE_DECODER(MP3, mp3);
-    DECLARE_DECODER(MP3ADU, mp3adu);
-    DECLARE_DECODER(MP3ON4, mp3on4);
-    DECLARE_DECODER(MPC7, mpc7);
-    DECLARE_DECODER(RA_144, ra_144);
-    DECLARE_DECODER(RA_288, ra_288);
-    DECLARE_DECODER(SHORTEN, shorten);
-    DECLARE_DECODER(SMACKAUD, smackaud);
-    DECLARE_DECODER(TRUESPEECH, truespeech);
-    DECLARE_DECODER(TTA, tta);
-    DECLARE_DECODER(VMDAUDIO, vmdaudio);
-    DECLARE_DECODER(WAVPACK, wavpack);
-    DECLARE_DECODER(WS_SND1, ws_snd1);
-    DECLARE_DECODER(INTERPLAY_DPCM, interplay_dpcm);
-    DECLARE_DECODER(SOL_DPCM, sol_dpcm);
-    DECLARE_DECODER(XAN_DPCM, xan_dpcm);
-    DECLARE_DECODER(ADPCM_THP, adpcm_thp);
-    /* DUPE */
-    DECLARE_DECODER (ASV1, asv1);
-    DECLARE_DECODER (ASV2, asv2);
-    DECLARE_DECODER (BMP, bmp);
-    DECLARE_DECODER (FLASHSV, flashsv);
-    DECLARE_DECODER (GIF, gif);
-    DECLARE_DECODER (H261, h261);
-	DECLARE_DECODER (H263I, h263i);
-    DECLARE_DECODER (JPEGLS, jpegls);
-    DECLARE_DECODER (PNG, png);
-    DECLARE_DECODER (QTRLE, qtrle);
-    DECLARE_DECODER (RAWVIDEO, rawvideo);
-    DECLARE_DECODER (ROQ, roq);
-    DECLARE_DECODER (SGI, sgi);
-    DECLARE_DECODER (SVQ1, svq1);
-    DECLARE_DECODER (TARGA, targa);
-    DECLARE_DECODER (TIFF, tiff);
-    DECLARE_DECODER (ZLIB, zlib);
-    DECLARE_DECODER (ZMBV, zmbv);
-    DECLARE_DECODER (FLAC, flac);
-    DECLARE_DECODER (LIBAMR_NB, libamr_nb);
-    DECLARE_DECODER (LIBAMR_WB, libamr_wb);
-    DECLARE_DECODER (LIBGSM, libgsm);
-    DECLARE_DECODER (LIBGSM_MS, libgsm_ms);
-    DECLARE_DECODER (MP2, mp2);
-    DECLARE_DECODER (SONIC, sonic);
-    DECLARE_DECODER (VORBIS, vorbis);
-    DECLARE_DECODER(WMAV1, wmav1);
-    DECLARE_DECODER (PCM_ALAW, pcm_alaw);
-    DECLARE_DECODER (PCM_MULAW, pcm_mulaw);
-    DECLARE_DECODER (PCM_S8, pcm_s8);
-    DECLARE_DECODER (PCM_S16BE, pcm_s16be);
-    DECLARE_DECODER (PCM_S16LE, pcm_s16le);
-    DECLARE_DECODER (PCM_S24BE, pcm_s24be);
-    DECLARE_DECODER (PCM_S24DAUD, pcm_s24daud);
-    DECLARE_DECODER (PCM_S24LE, pcm_s24le);
-    DECLARE_DECODER (PCM_S32BE, pcm_s32be);
-    DECLARE_DECODER (PCM_S32LE, pcm_s32le);
-    DECLARE_DECODER (PCM_U8, pcm_u8);
-    DECLARE_DECODER (PCM_U16BE, pcm_u16be);
-    DECLARE_DECODER (PCM_U16LE, pcm_u16le);
-    DECLARE_DECODER (PCM_U24BE, pcm_u24be);
-    DECLARE_DECODER (PCM_U24LE, pcm_u24le);
-    DECLARE_DECODER (PCM_U32BE, pcm_u32be);
-    DECLARE_DECODER (PCM_U32LE, pcm_u32le);
-    DECLARE_DECODER (ROQ_DPCM, roq_dpcm);
-    DECLARE_DECODER (ADPCM_4XM, adpcm_4xm);
-    DECLARE_DECODER (ADPCM_ADX, adpcm_adx);
-    DECLARE_DECODER (ADPCM_CT, adpcm_ct);
-    DECLARE_DECODER (ADPCM_EA, adpcm_ea);
-    DECLARE_DECODER (ADPCM_G726, adpcm_g726);
-    DECLARE_DECODER (ADPCM_IMA_DK3, adpcm_ima_dk3);
-    DECLARE_DECODER (ADPCM_IMA_DK4, adpcm_ima_dk4);
-    DECLARE_DECODER (ADPCM_IMA_QT, adpcm_ima_qt);
-    DECLARE_DECODER (ADPCM_IMA_SMJPEG, adpcm_ima_smjpeg);
-    DECLARE_DECODER (ADPCM_IMA_WAV, adpcm_ima_wav);
-    DECLARE_DECODER (ADPCM_IMA_WS, adpcm_ima_ws);
-    DECLARE_DECODER (ADPCM_MS, adpcm_ms);
-    DECLARE_DECODER (ADPCM_SBPRO_2, adpcm_sbpro_2);
-    DECLARE_DECODER (ADPCM_SBPRO_3, adpcm_sbpro_3);
-    DECLARE_DECODER (ADPCM_SBPRO_4, adpcm_sbpro_4);
-    DECLARE_DECODER (ADPCM_SWF, adpcm_swf);
-    DECLARE_DECODER (ADPCM_XA, adpcm_xa);
-    DECLARE_DECODER (ADPCM_YAMAHA, adpcm_yamaha);
-    DECLARE_DECODER (DVDSUB, dvdsub);
-
-#define DECLARE_PARSER(a,b); printf(&quot;#define ENABLE_&quot;#a&quot;_PARSER 1\n&quot;); 
-    DECLARE_PARSER (H263, h263);
-    DECLARE_PARSER (H264, h264);
-    DECLARE_PARSER (MPEG4VIDEO, mpeg4video);
-
-#undef DECLARE_PARSER
-#define DECLARE_PARSER(a,b); printf(&quot;#define ENABLE_&quot;#a&quot;_PARSER 0\n&quot;); 
-    DECLARE_PARSER (AAC, aac);
-    DECLARE_PARSER (AC3, ac3);
-    DECLARE_PARSER (CAVSVIDEO, cavsvideo);
-    DECLARE_PARSER (DCA, dca);
-    DECLARE_PARSER (DVBSUB, dvbsub);
-    DECLARE_PARSER (DVDSUB, dvdsub);
-    DECLARE_PARSER (H261, h261);
-    DECLARE_PARSER (MJPEG, mjpeg);
-    DECLARE_PARSER (MPEGAUDIO, mpegaudio);
-    DECLARE_PARSER (MPEGVIDEO, mpegvideo);
-    DECLARE_PARSER (PNM, pnm);
-    DECLARE_PARSER (VC1, vc1);
-
-#define DECLARE_ENCODER(a,b); printf(&quot;#define ENABLE_&quot;#a&quot;_ENCODER 1\n&quot;); 
-    DECLARE_ENCODER (MJPEG, mjpeg);
-    DECLARE_ENCODER (MSMPEG4V3, msmpeg4v3);
-    DECLARE_ENCODER(H263P, h263p);
-    DECLARE_ENCODER(AC3, ac3);
-    DECLARE_ENCODER (FFV1, ffv1);
-    DECLARE_ENCODER (FLV1, flv1);
-    DECLARE_ENCODER (FFVHUFF, ffvhuff);
-    DECLARE_ENCODER (H263, h263);
-    DECLARE_ENCODER (MPEG1VIDEO, mpeg1video);
-    DECLARE_ENCODER (MPEG2VIDEO, mpeg2video);
-    DECLARE_ENCODER (MPEG4, mpeg4);
-    DECLARE_ENCODER (FLV, flv);
-    DECLARE_ENCODER (MP2, mp2);
-    DECLARE_ENCODER (DVVIDEO, dvvideo);
-    DECLARE_ENCODER (HUFFYUV, huffyuv);
-    DECLARE_ENCODER (DVBSUB, dvbsub);
-    DECLARE_ENCODER (SNOW, snow);
-
-#undef DECLARE_ENCODER
-#define DECLARE_ENCODER(a,b); printf(&quot;#define ENABLE_&quot;#a&quot;_ENCODER 0\n&quot;); 
-    DECLARE_ENCODER(ADPCM_IMA_AMV, amv);
-    DECLARE_ENCODER(LIBX264, libx264);
-    DECLARE_ENCODER(LIBXVID, libxvid);
-    DECLARE_ENCODER(LJPEG, ljpeg);
-    DECLARE_ENCODER(PAM, pam);
-    DECLARE_ENCODER(PBM, pbm);
-    DECLARE_ENCODER(PGM, pgm);
-    DECLARE_ENCODER(PGMYUV, pgmyuv);
-    DECLARE_ENCODER(PPM, ppm);
-    DECLARE_ENCODER(LIBFAAC, libfaac);
-    DECLARE_ENCODER(LIBMP3LAME, libmp3lame);
-    DECLARE_ENCODER(LIBTHEORA, libtheora);
-    DECLARE_ENCODER(SONIC_LS, sonic_ls);
-/* Dupe */
- DECLARE_ENCODER (ASV1, asv1);
-    DECLARE_ENCODER (ASV2, asv2);
-    DECLARE_ENCODER (BMP, bmp);
-    DECLARE_ENCODER (FLASHSV, flashsv);
-    DECLARE_ENCODER (GIF, gif);
-    DECLARE_ENCODER (H261, h261);
-    DECLARE_ENCODER (JPEGLS, jpegls);
-    DECLARE_ENCODER (MSMPEG4V1, msmpeg4v1);
-    DECLARE_ENCODER (MSMPEG4V2, msmpeg4v2);
-    DECLARE_ENCODER (PNG, png);
-    DECLARE_ENCODER (QTRLE, qtrle);
-    DECLARE_ENCODER (RAWVIDEO, rawvideo);
-    DECLARE_ENCODER (ROQ, roq);
-    DECLARE_ENCODER (RV10, rv10);
-    DECLARE_ENCODER (RV20, rv20);
-    DECLARE_ENCODER (SGI, sgi);
-    DECLARE_ENCODER (SVQ1, svq1);
-    DECLARE_ENCODER (TARGA, targa);
-    DECLARE_ENCODER (TIFF, tiff);
-    DECLARE_ENCODER (WMV1, wmv1);
-    DECLARE_ENCODER (WMV2, wmv2);
-    DECLARE_ENCODER (ZLIB, zlib);
-    DECLARE_ENCODER (ZMBV, zmbv);
-    DECLARE_ENCODER (FLAC, flac);
-    DECLARE_ENCODER (LIBAMR_NB, libamr_nb);
-    DECLARE_ENCODER (LIBAMR_WB, libamr_wb);
-    DECLARE_ENCODER (LIBGSM, libgsm);
-    DECLARE_ENCODER (LIBGSM_MS, libgsm_ms);
-    DECLARE_ENCODER (SONIC, sonic);
-    DECLARE_ENCODER (VORBIS, vorbis);
-    DECLARE_ENCODER(WMAV1, wmav1);
-    DECLARE_ENCODER(WMAV2, wmav2);
-    DECLARE_ENCODER (PCM_ALAW, pcm_alaw);
-    DECLARE_ENCODER (PCM_MULAW, pcm_mulaw);
-    DECLARE_ENCODER (PCM_S8, pcm_s8);
-    DECLARE_ENCODER (PCM_S16BE, pcm_s16be);
-    DECLARE_ENCODER (PCM_S16LE, pcm_s16le);
-    DECLARE_ENCODER (PCM_S24BE, pcm_s24be);
-    DECLARE_ENCODER (PCM_S24DAUD, pcm_s24daud);
-    DECLARE_ENCODER (PCM_S24LE, pcm_s24le);
-    DECLARE_ENCODER (PCM_S32BE, pcm_s32be);
-    DECLARE_ENCODER (PCM_S32LE, pcm_s32le);
-    DECLARE_ENCODER (PCM_U8, pcm_u8);
-    DECLARE_ENCODER (PCM_U16BE, pcm_u16be);
-    DECLARE_ENCODER (PCM_U16LE, pcm_u16le);
-    DECLARE_ENCODER (PCM_U24BE, pcm_u24be);
-    DECLARE_ENCODER (PCM_U24LE, pcm_u24le);
-    DECLARE_ENCODER (PCM_U32BE, pcm_u32be);
-    DECLARE_ENCODER (PCM_U32LE, pcm_u32le);
-    DECLARE_ENCODER (ROQ_DPCM, roq_dpcm);
-    DECLARE_ENCODER (ADPCM_4XM, adpcm_4xm);
-    DECLARE_ENCODER (ADPCM_ADX, adpcm_adx);
-    DECLARE_ENCODER (ADPCM_CT, adpcm_ct);
-    DECLARE_ENCODER (ADPCM_EA, adpcm_ea);
-    DECLARE_ENCODER (ADPCM_G726, adpcm_g726);
-    DECLARE_ENCODER (ADPCM_IMA_DK3, adpcm_ima_dk3);
-    DECLARE_ENCODER (ADPCM_IMA_DK4, adpcm_ima_dk4);
-    DECLARE_ENCODER (ADPCM_IMA_QT, adpcm_ima_qt);
-    DECLARE_ENCODER (ADPCM_IMA_SMJPEG, adpcm_ima_smjpeg);
-    DECLARE_ENCODER (ADPCM_IMA_WAV, adpcm_ima_wav);
-    DECLARE_ENCODER (ADPCM_IMA_WS, adpcm_ima_ws);
-    DECLARE_ENCODER (ADPCM_MS, adpcm_ms);
-    DECLARE_ENCODER (ADPCM_SBPRO_2, adpcm_sbpro_2);
-    DECLARE_ENCODER (ADPCM_SBPRO_3, adpcm_sbpro_3);
-    DECLARE_ENCODER (ADPCM_SBPRO_4, adpcm_sbpro_4);
-    DECLARE_ENCODER (ADPCM_SWF, adpcm_swf);
-    DECLARE_ENCODER (ADPCM_XA, adpcm_xa);
-    DECLARE_ENCODER (ADPCM_YAMAHA, adpcm_yamaha);
-    DECLARE_ENCODER (DVDSUB, dvdsub);
-
-printf(&quot;#define ENABLE_LIBVORBIS_ENCODER        0\n&quot;);
-printf(&quot;#define ENABLE_LIBVORBIS_DECODER        0\n&quot;);
-printf(&quot;#define ENABLE_MP3_HEADER_COMPRESS_BSF  0\n&quot;);
-printf(&quot;#define ENABLE_IMX_DUMP_HEADER_BSF      0\n&quot;);
-
-printf(&quot;#define ENABLE_DUMP_EXTRADATA_BSF       0\n&quot;);
-printf(&quot;#define ENABLE_REMOVE_EXTRADATA_BSF     0\n&quot;);
-printf(&quot;#define ENABLE_NOISE_BSF                0\n&quot;);
-printf(&quot;#define ENABLE_MP3_HEADER_DECOMPRESS_BSF 0\n&quot;);
-printf(&quot;#define ENABLE_MJPEGA_DUMP_HEADER_BSF   0\n&quot;);
-printf(&quot;#define ENABLE_IMX_DUMP_HEADER_BSF      0\n&quot;);
-/* FIXME */
-printf(&quot;#define ENABLE_ARMV4L      0\n&quot;);
-printf(&quot;#define ENABLE_MLIB      0\n&quot;);
-printf(&quot;#define ENABLE_SPARC      0\n&quot;);
-printf(&quot;#define ENABLE_ALPHA      0\n&quot;);
-
-// Hack so CMake and autoconf don't need to be changed
-printf(&quot;#include \&quot;config.h\&quot;\n&quot;);
-printf(&quot;#ifdef ARCH_POWERPC\n&quot;);
-printf(&quot;#define ENABLE_POWERPC      1\n&quot;);
-printf(&quot;#else\n&quot;);
-printf(&quot;#define ENABLE_POWERPC      0\n&quot;);
-printf(&quot;#endif\n&quot;);
-
-printf(&quot;#define ENABLE_MMI      0\n&quot;);
-printf(&quot;#define ENABLE_SH4      0\n&quot;);
-printf(&quot;#define ENABLE_BFIN      0\n&quot;);
-printf(&quot;#define ENABLE_SMALL      0\n&quot;);
-printf(&quot;#define CONFIG_SNOW_ENCODER      1\n&quot;);
-}
+/*
+ * Glue to lavcodec configure
+ * MEANX
+ * */
+#include &lt;stdlib.h&gt;
+#include &lt;stdio.h&gt;
+int main(void)
+{
+#define DECLARE_DECODER(a,b); printf(&quot;#define ENABLE_&quot;#a&quot;_DECODER 1\n&quot;); 
+  
+    DECLARE_DECODER(NELLYMOSER,nellymoser);
+    DECLARE_DECODER(ADPCM_IMA_AMV, amv);
+    DECLARE_DECODER(CINEPAK, cinepak);
+    DECLARE_DECODER(DNXHD, dnxhd);
+    DECLARE_DECODER(FOURXM, fourxm);
+    DECLARE_DECODER(FRAPS, fraps);
+	DECLARE_DECODER(H263, h263);
+    DECLARE_DECODER(H264, h264);
+    DECLARE_DECODER(INDEO2, indeo2);
+    DECLARE_DECODER(INDEO3, indeo3);
+    DECLARE_DECODER(INTERPLAY_VIDEO, interplay_video);
+    DECLARE_DECODER(MPEGVIDEO, mpegvideo);
+    DECLARE_DECODER(MSVIDEO1, msvideo1);
+    DECLARE_DECODER(VC1, vc1);
+    DECLARE_DECODER(VCR1, vcr1);
+    DECLARE_DECODER(VP5, vp5);
+    DECLARE_DECODER(VP6, vp6);
+    DECLARE_DECODER(VP6F, vp6f);
+    DECLARE_DECODER(WMV3, wmv3);
+    DECLARE_DECODER (WMV1, wmv1);
+    DECLARE_DECODER (WMV2, wmv2);
+    DECLARE_DECODER(VP3, vp3);
+    DECLARE_DECODER (MPEG4, mpeg4);
+    DECLARE_DECODER (MSMPEG4V1, msmpeg4v1);
+    DECLARE_DECODER (MSMPEG4V2, msmpeg4v2);
+    DECLARE_DECODER (MSMPEG4V3, msmpeg4v3);
+    DECLARE_DECODER(MJPEGB, mjpegb);
+    DECLARE_DECODER (MJPEG, mjpeg);
+    DECLARE_DECODER(WMAV2, wmav2);
+    DECLARE_DECODER (DVVIDEO, dvvideo);
+    DECLARE_DECODER (HUFFYUV, huffyuv);
+    DECLARE_DECODER (FFVHUFF, ffvhuff);
+    DECLARE_DECODER(SVQ3, svq3);
+    DECLARE_DECODER(TSCC, tscc);
+    DECLARE_DECODER(QDM2, qdm2);
+    DECLARE_DECODER (FFV1, ffv1);
+    DECLARE_DECODER (MPEG1VIDEO, mpeg1video);
+    DECLARE_DECODER (MPEG2VIDEO, mpeg2video);
+    DECLARE_DECODER (RV10, rv10);
+    DECLARE_DECODER (RV20, rv20);
+    DECLARE_DECODER (DVBSUB, dvbsub);
+    DECLARE_DECODER (FLV, flv);
+    DECLARE_DECODER (SNOW, snow);
+    DECLARE_DECODER (AMV, amv);
+#undef DECLARE_DECODER
+#define DECLARE_DECODER(a,b); printf(&quot;#define ENABLE_&quot;#a&quot;_DECODER 0\n&quot;); 
+
+    DECLARE_DECODER(AASC, aasc);
+    DECLARE_DECODER(AVS, avs);
+    DECLARE_DECODER(BETHSOFTVID, bethsoftvid);
+    DECLARE_DECODER(C93, c93);
+    DECLARE_DECODER(CAVS, cavs);
+    DECLARE_DECODER(CLJR, cljr);
+    DECLARE_DECODER(CSCD, cscd);
+    DECLARE_DECODER(CYUV, cyuv);
+    DECLARE_DECODER(DSICINVIDEO, dsicinvideo);
+    DECLARE_DECODER(DXA, dxa);
+    DECLARE_DECODER(EIGHTBPS, eightbps);
+    DECLARE_DECODER(FLIC, flic);
+    DECLARE_DECODER(IDCIN, idcin);
+    DECLARE_DECODER(KMVC, kmvc);
+    DECLARE_DECODER(LOCO, loco);
+    DECLARE_DECODER(MDEC, mdec);
+    DECLARE_DECODER(MMVIDEO, mmvideo);
+    DECLARE_DECODER(MPEG_XVMC, mpeg_xvmc);
+    DECLARE_DECODER(MSRLE, msrle);
+    DECLARE_DECODER(MSZH, mszh);
+    DECLARE_DECODER(NUV, nuv);
+    DECLARE_DECODER(PTX, ptx);
+    DECLARE_DECODER(QDRAW, qdraw);
+    DECLARE_DECODER(QPEG, qpeg);
+    DECLARE_DECODER(RPZA, rpza);
+    DECLARE_DECODER(SMACKER, smacker);
+    DECLARE_DECODER(SMC, smc);
+    DECLARE_DECODER(SP5X, sp5x);
+    DECLARE_DECODER(THEORA, theora);
+    DECLARE_DECODER(THP, thp);
+    DECLARE_DECODER(TIERTEXSEQVIDEO, tiertexseqvideo);
+    DECLARE_DECODER(TRUEMOTION1, truemotion1);
+    DECLARE_DECODER(TRUEMOTION2, truemotion2);
+    DECLARE_DECODER(TXD, txd);
+    DECLARE_DECODER(ULTI, ulti);
+    DECLARE_DECODER(VMDVIDEO, vmdvideo);
+    DECLARE_DECODER(VMNC, vmnc);
+    DECLARE_DECODER(VQA, vqa);
+    DECLARE_DECODER(WNV1, wnv1);
+    DECLARE_DECODER(XAN_WC3, xan_wc3);
+    DECLARE_DECODER(XL, xl);
+    DECLARE_DECODER(MPEG4AAC, mpeg4aac);
+    DECLARE_DECODER(ALAC, alac);
+    DECLARE_DECODER(ATRAC3, atrac3);
+    DECLARE_DECODER(COOK, cook);
+    DECLARE_DECODER(DCA, dca);
+    DECLARE_DECODER(DSICINAUDIO, dsicinaudio);
+    DECLARE_DECODER(IMC, imc);
+    DECLARE_DECODER(LIBA52, liba52);
+    DECLARE_DECODER(LIBFAAD, libfaad);
+    DECLARE_DECODER(MACE3, mace3);
+    DECLARE_DECODER(MACE6, mace6);
+    DECLARE_DECODER(MP3, mp3);
+    DECLARE_DECODER(MP3ADU, mp3adu);
+    DECLARE_DECODER(MP3ON4, mp3on4);
+    DECLARE_DECODER(MPC7, mpc7);
+    DECLARE_DECODER(RA_144, ra_144);
+    DECLARE_DECODER(RA_288, ra_288);
+    DECLARE_DECODER(SHORTEN, shorten);
+    DECLARE_DECODER(SMACKAUD, smackaud);
+    DECLARE_DECODER(TRUESPEECH, truespeech);
+    DECLARE_DECODER(TTA, tta);
+    DECLARE_DECODER(VMDAUDIO, vmdaudio);
+    DECLARE_DECODER(WAVPACK, wavpack);
+    DECLARE_DECODER(WS_SND1, ws_snd1);
+    DECLARE_DECODER(INTERPLAY_DPCM, interplay_dpcm);
+    DECLARE_DECODER(SOL_DPCM, sol_dpcm);
+    DECLARE_DECODER(XAN_DPCM, xan_dpcm);
+    DECLARE_DECODER(ADPCM_THP, adpcm_thp);
+    /* DUPE */
+    DECLARE_DECODER (ASV1, asv1);
+    DECLARE_DECODER (ASV2, asv2);
+    DECLARE_DECODER (BMP, bmp);
+    DECLARE_DECODER (FLASHSV, flashsv);
+    DECLARE_DECODER (GIF, gif);
+    DECLARE_DECODER (H261, h261);
+	DECLARE_DECODER (H263I, h263i);
+    DECLARE_DECODER (JPEGLS, jpegls);
+    DECLARE_DECODER (PNG, png);
+    DECLARE_DECODER (QTRLE, qtrle);
+    DECLARE_DECODER (RAWVIDEO, rawvideo);
+    DECLARE_DECODER (ROQ, roq);
+    DECLARE_DECODER (SGI, sgi);
+    DECLARE_DECODER (SVQ1, svq1);
+    DECLARE_DECODER (TARGA, targa);
+    DECLARE_DECODER (TIFF, tiff);
+    DECLARE_DECODER (ZLIB, zlib);
+    DECLARE_DECODER (ZMBV, zmbv);
+    DECLARE_DECODER (FLAC, flac);
+    DECLARE_DECODER (LIBAMR_NB, libamr_nb);
+    DECLARE_DECODER (LIBAMR_WB, libamr_wb);
+    DECLARE_DECODER (LIBGSM, libgsm);
+    DECLARE_DECODER (LIBGSM_MS, libgsm_ms);
+    DECLARE_DECODER (MP2, mp2);
+    DECLARE_DECODER (SONIC, sonic);
+    DECLARE_DECODER (VORBIS, vorbis);
+    DECLARE_DECODER(WMAV1, wmav1);
+    DECLARE_DECODER (PCM_ALAW, pcm_alaw);
+    DECLARE_DECODER (PCM_MULAW, pcm_mulaw);
+    DECLARE_DECODER (PCM_S8, pcm_s8);
+    DECLARE_DECODER (PCM_S16BE, pcm_s16be);
+    DECLARE_DECODER (PCM_S16LE, pcm_s16le);
+    DECLARE_DECODER (PCM_S24BE, pcm_s24be);
+    DECLARE_DECODER (PCM_S24DAUD, pcm_s24daud);
+    DECLARE_DECODER (PCM_S24LE, pcm_s24le);
+    DECLARE_DECODER (PCM_S32BE, pcm_s32be);
+    DECLARE_DECODER (PCM_S32LE, pcm_s32le);
+    DECLARE_DECODER (PCM_U8, pcm_u8);
+    DECLARE_DECODER (PCM_U16BE, pcm_u16be);
+    DECLARE_DECODER (PCM_U16LE, pcm_u16le);
+    DECLARE_DECODER (PCM_U24BE, pcm_u24be);
+    DECLARE_DECODER (PCM_U24LE, pcm_u24le);
+    DECLARE_DECODER (PCM_U32BE, pcm_u32be);
+    DECLARE_DECODER (PCM_U32LE, pcm_u32le);
+    DECLARE_DECODER (ROQ_DPCM, roq_dpcm);
+    DECLARE_DECODER (ADPCM_4XM, adpcm_4xm);
+    DECLARE_DECODER (ADPCM_ADX, adpcm_adx);
+    DECLARE_DECODER (ADPCM_CT, adpcm_ct);
+    DECLARE_DECODER (ADPCM_EA, adpcm_ea);
+    DECLARE_DECODER (ADPCM_G726, adpcm_g726);
+    DECLARE_DECODER (ADPCM_IMA_DK3, adpcm_ima_dk3);
+    DECLARE_DECODER (ADPCM_IMA_DK4, adpcm_ima_dk4);
+    DECLARE_DECODER (ADPCM_IMA_QT, adpcm_ima_qt);
+    DECLARE_DECODER (ADPCM_IMA_SMJPEG, adpcm_ima_smjpeg);
+    DECLARE_DECODER (ADPCM_IMA_WAV, adpcm_ima_wav);
+    DECLARE_DECODER (ADPCM_IMA_WS, adpcm_ima_ws);
+    DECLARE_DECODER (ADPCM_MS, adpcm_ms);
+    DECLARE_DECODER (ADPCM_SBPRO_2, adpcm_sbpro_2);
+    DECLARE_DECODER (ADPCM_SBPRO_3, adpcm_sbpro_3);
+    DECLARE_DECODER (ADPCM_SBPRO_4, adpcm_sbpro_4);
+    DECLARE_DECODER (ADPCM_SWF, adpcm_swf);
+    DECLARE_DECODER (ADPCM_XA, adpcm_xa);
+    DECLARE_DECODER (ADPCM_YAMAHA, adpcm_yamaha);
+    DECLARE_DECODER (DVDSUB, dvdsub);
+	DECLARE_DECODER (LIBVORBIS, libvorbis);
+
+#define DECLARE_PARSER(a,b); printf(&quot;#define ENABLE_&quot;#a&quot;_PARSER 1\n&quot;); 
+    DECLARE_PARSER (H263, h263);
+    DECLARE_PARSER (H264, h264);
+    DECLARE_PARSER (MPEG4VIDEO, mpeg4video);
+
+#undef DECLARE_PARSER
+#define DECLARE_PARSER(a,b); printf(&quot;#define ENABLE_&quot;#a&quot;_PARSER 0\n&quot;); 
+    DECLARE_PARSER (AAC, aac);
+    DECLARE_PARSER (AC3, ac3);
+    DECLARE_PARSER (CAVSVIDEO, cavsvideo);
+    DECLARE_PARSER (DCA, dca);
+    DECLARE_PARSER (DVBSUB, dvbsub);
+    DECLARE_PARSER (DVDSUB, dvdsub);
+    DECLARE_PARSER (H261, h261);
+    DECLARE_PARSER (MJPEG, mjpeg);
+    DECLARE_PARSER (MPEGAUDIO, mpegaudio);
+    DECLARE_PARSER (MPEGVIDEO, mpegvideo);
+    DECLARE_PARSER (PNM, pnm);
+    DECLARE_PARSER (VC1, vc1);
+
+#define DECLARE_ENCODER(a,b); printf(&quot;#define ENABLE_&quot;#a&quot;_ENCODER 1\n&quot;); 
+    DECLARE_ENCODER (MJPEG, mjpeg);
+    DECLARE_ENCODER (MSMPEG4V3, msmpeg4v3);
+    DECLARE_ENCODER(H263P, h263p);
+    DECLARE_ENCODER(AC3, ac3);
+    DECLARE_ENCODER (FFV1, ffv1);
+    DECLARE_ENCODER (FLV1, flv1);
+    DECLARE_ENCODER (FFVHUFF, ffvhuff);
+    DECLARE_ENCODER (H263, h263);
+    DECLARE_ENCODER (MPEG1VIDEO, mpeg1video);
+    DECLARE_ENCODER (MPEG2VIDEO, mpeg2video);
+    DECLARE_ENCODER (MPEG4, mpeg4);
+    DECLARE_ENCODER (FLV, flv);
+    DECLARE_ENCODER (MP2, mp2);
+    DECLARE_ENCODER (DVVIDEO, dvvideo);
+    DECLARE_ENCODER (HUFFYUV, huffyuv);
+    DECLARE_ENCODER (DVBSUB, dvbsub);
+    DECLARE_ENCODER (SNOW, snow);
+
+#undef DECLARE_ENCODER
+#define DECLARE_ENCODER(a,b); printf(&quot;#define ENABLE_&quot;#a&quot;_ENCODER 0\n&quot;); 
+    DECLARE_ENCODER(ADPCM_IMA_AMV, amv);
+    DECLARE_ENCODER(LIBX264, libx264);
+    DECLARE_ENCODER(LIBXVID, libxvid);
+    DECLARE_ENCODER(LJPEG, ljpeg);
+    DECLARE_ENCODER(PAM, pam);
+    DECLARE_ENCODER(PBM, pbm);
+    DECLARE_ENCODER(PGM, pgm);
+    DECLARE_ENCODER(PGMYUV, pgmyuv);
+    DECLARE_ENCODER(PPM, ppm);
+    DECLARE_ENCODER(LIBFAAC, libfaac);
+    DECLARE_ENCODER(LIBMP3LAME, libmp3lame);
+    DECLARE_ENCODER(LIBTHEORA, libtheora);
+    DECLARE_ENCODER(SONIC_LS, sonic_ls);
+/* Dupe */
+	DECLARE_ENCODER (ASV1, asv1);
+    DECLARE_ENCODER (ASV2, asv2);
+    DECLARE_ENCODER (BMP, bmp);
+    DECLARE_ENCODER (FLASHSV, flashsv);
+    DECLARE_ENCODER (GIF, gif);
+    DECLARE_ENCODER (H261, h261);
+    DECLARE_ENCODER (JPEGLS, jpegls);
+    DECLARE_ENCODER (MSMPEG4V1, msmpeg4v1);
+    DECLARE_ENCODER (MSMPEG4V2, msmpeg4v2);
+    DECLARE_ENCODER (PNG, png);
+    DECLARE_ENCODER (QTRLE, qtrle);
+    DECLARE_ENCODER (RAWVIDEO, rawvideo);
+    DECLARE_ENCODER (ROQ, roq);
+    DECLARE_ENCODER (RV10, rv10);
+    DECLARE_ENCODER (RV20, rv20);
+    DECLARE_ENCODER (SGI, sgi);
+    DECLARE_ENCODER (SVQ1, svq1);
+    DECLARE_ENCODER (TARGA, targa);
+    DECLARE_ENCODER (TIFF, tiff);
+    DECLARE_ENCODER (WMV1, wmv1);
+    DECLARE_ENCODER (WMV2, wmv2);
+    DECLARE_ENCODER (ZLIB, zlib);
+    DECLARE_ENCODER (ZMBV, zmbv);
+    DECLARE_ENCODER (FLAC, flac);
+    DECLARE_ENCODER (LIBAMR_NB, libamr_nb);
+    DECLARE_ENCODER (LIBAMR_WB, libamr_wb);
+    DECLARE_ENCODER (LIBGSM, libgsm);
+    DECLARE_ENCODER (LIBGSM_MS, libgsm_ms);
+    DECLARE_ENCODER (SONIC, sonic);
+    DECLARE_ENCODER (VORBIS, vorbis);
+    DECLARE_ENCODER(WMAV1, wmav1);
+    DECLARE_ENCODER(WMAV2, wmav2);
+    DECLARE_ENCODER (PCM_ALAW, pcm_alaw);
+    DECLARE_ENCODER (PCM_MULAW, pcm_mulaw);
+    DECLARE_ENCODER (PCM_S8, pcm_s8);
+    DECLARE_ENCODER (PCM_S16BE, pcm_s16be);
+    DECLARE_ENCODER (PCM_S16LE, pcm_s16le);
+    DECLARE_ENCODER (PCM_S24BE, pcm_s24be);
+    DECLARE_ENCODER (PCM_S24DAUD, pcm_s24daud);
+    DECLARE_ENCODER (PCM_S24LE, pcm_s24le);
+    DECLARE_ENCODER (PCM_S32BE, pcm_s32be);
+    DECLARE_ENCODER (PCM_S32LE, pcm_s32le);
+    DECLARE_ENCODER (PCM_U8, pcm_u8);
+    DECLARE_ENCODER (PCM_U16BE, pcm_u16be);
+    DECLARE_ENCODER (PCM_U16LE, pcm_u16le);
+    DECLARE_ENCODER (PCM_U24BE, pcm_u24be);
+    DECLARE_ENCODER (PCM_U24LE, pcm_u24le);
+    DECLARE_ENCODER (PCM_U32BE, pcm_u32be);
+    DECLARE_ENCODER (PCM_U32LE, pcm_u32le);
+    DECLARE_ENCODER (ROQ_DPCM, roq_dpcm);
+    DECLARE_ENCODER (ADPCM_4XM, adpcm_4xm);
+    DECLARE_ENCODER (ADPCM_ADX, adpcm_adx);
+    DECLARE_ENCODER (ADPCM_CT, adpcm_ct);
+    DECLARE_ENCODER (ADPCM_EA, adpcm_ea);
+    DECLARE_ENCODER (ADPCM_G726, adpcm_g726);
+    DECLARE_ENCODER (ADPCM_IMA_DK3, adpcm_ima_dk3);
+    DECLARE_ENCODER (ADPCM_IMA_DK4, adpcm_ima_dk4);
+    DECLARE_ENCODER (ADPCM_IMA_QT, adpcm_ima_qt);
+    DECLARE_ENCODER (ADPCM_IMA_SMJPEG, adpcm_ima_smjpeg);
+    DECLARE_ENCODER (ADPCM_IMA_WAV, adpcm_ima_wav);
+    DECLARE_ENCODER (ADPCM_IMA_WS, adpcm_ima_ws);
+    DECLARE_ENCODER (ADPCM_MS, adpcm_ms);
+    DECLARE_ENCODER (ADPCM_SBPRO_2, adpcm_sbpro_2);
+    DECLARE_ENCODER (ADPCM_SBPRO_3, adpcm_sbpro_3);
+    DECLARE_ENCODER (ADPCM_SBPRO_4, adpcm_sbpro_4);
+    DECLARE_ENCODER (ADPCM_SWF, adpcm_swf);
+    DECLARE_ENCODER (ADPCM_XA, adpcm_xa);
+    DECLARE_ENCODER (ADPCM_YAMAHA, adpcm_yamaha);
+    DECLARE_ENCODER (DVDSUB, dvdsub);
+	DECLARE_ENCODER (LIBVORBIS, libvorbis);
+
+#define DECLARE_BSF(a,b); printf(&quot;#define ENABLE_&quot;#a&quot;_BSF 0\n&quot;);
+
+	DECLARE_BSF(MP3_HEADER_COMPRESS, mp3_header_compress);
+	DECLARE_BSF(IMX_DUMP_HEADER, imx_dump_header);
+	DECLARE_BSF(DUMP_EXTRADATA, dump_extradata);
+	DECLARE_BSF(REMOVE_EXTRADATA, remove_extradata);
+	DECLARE_BSF(NOISE, noise);
+	DECLARE_BSF(MP3_HEADER_DECOMPRESS, mp3_header_decompress);
+	DECLARE_BSF(MJPEGA_DUMP_HEADER, mjpega_dump_header);
+	DECLARE_BSF(IMX_DUMP_HEADER, imx_dump_header);
+
+#define DECLARE_MUXER(a,b); printf(&quot;#define CONFIG_&quot;#a&quot;_MUXER 1\n&quot;);
+
+	printf(&quot;#define CONFIG_MUXERS 1\n&quot;);
+	DECLARE_MUXER(MOV, mov)
+	DECLARE_MUXER(MP4, mp4)
+	DECLARE_MUXER(PSP, psp)
+	DECLARE_MUXER(TG2, tg2)
+	DECLARE_MUXER(TGP, tgp)
+
+	printf(&quot;#define CONFIG_ENCODERS 1\n&quot;);
+	printf(&quot;#define CONFIG_DVVIDEO_ENCODER 1\n&quot;);
+	printf(&quot;#define CONFIG_SNOW_ENCODER 1\n&quot;);
+
+#define DECLARE_CONFIG_DECODER(a,b); printf(&quot;#define CONFIG_&quot;#a&quot;_DECODER 1\n&quot;);
+
+	printf(&quot;#define CONFIG_DECODERS 1\n&quot;);
+	DECLARE_CONFIG_DECODER(DVVIDEO, dvvideo);
+	DECLARE_CONFIG_DECODER(H263, h263);
+	DECLARE_CONFIG_DECODER(MPEG4, mpeg4);
+	DECLARE_CONFIG_DECODER(SNOW, snow);
+	DECLARE_CONFIG_DECODER(VC1, vc1);
+	DECLARE_CONFIG_DECODER(WMV2, wmv2);
+	DECLARE_CONFIG_DECODER(WMV3, wmv3);
+
+	printf(&quot;#define CONFIG_MPEGAUDIO_HP 1\n&quot;);
+	printf(&quot;#define CONFIG_ZLIB 1\n&quot;);
+
+#define ENABLE(a,b); printf(&quot;#define ENABLE_&quot;#a&quot; 0\n&quot;);
+
+	ENABLE(ARMV4L, armv4l);
+	ENABLE(MLIB, mlib);
+	ENABLE(SPARC, sparc);
+	ENABLE(ALPHA, alpha);
+	ENABLE(MMI, mmi);
+	ENABLE(SH4, sh4);
+	ENABLE(BFIN, bfin);
+	ENABLE(SMALL, small);
+
+	// Hack so CMake and autoconf don't need to be changed
+	printf(&quot;#ifdef ARCH_POWERPC\n&quot;);
+	printf(&quot;#define ENABLE_POWERPC 1\n&quot;);
+	printf(&quot;#else\n&quot;);
+	printf(&quot;#define ENABLE_POWERPC 0\n&quot;);
+	printf(&quot;#endif\n&quot;);
+
+	printf(&quot;#ifdef ARCH_X86\n&quot;);
+	printf(&quot;#define ENABLE_MMX 1\n&quot;);
+	printf(&quot;#define HAVE_MMX 1\n&quot;);
+	printf(&quot;#define HAVE_FAST_UNALIGNED 1\n&quot;);
+	printf(&quot;#else\n&quot;);
+	printf(&quot;#define ENABLE_MMX 0\n&quot;);
+	printf(&quot;#endif\n&quot;);
+
+	printf(&quot;#ifdef ARCH_X86_64\n&quot;);
+	printf(&quot;#define HAVE_FAST_64BIT 1\n&quot;);
+	printf(&quot;#endif\n&quot;);
+
+	printf(&quot;#ifdef __APPLE__\n&quot;);
+	printf(&quot;#define CONFIG_DARWIN 1\n&quot;);
+	printf(&quot;#endif\n&quot;);
+
+	printf(&quot;#define ENABLE_THREADS 1\n&quot;);
+	printf(&quot;#define HAVE_LRINTF 1\n&quot;);
+	printf(&quot;#define HAVE_THREADS 1\n&quot;);
+	printf(&quot;#define RUNTIME_CPUDETECT 1\n&quot;);
+}

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavcodec/ffconf.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavcodec/ffconf.h	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavcodec/ffconf.h	2008-03-05 14:32:46 UTC (rev 3826)
@@ -175,6 +175,7 @@
 #define ENABLE_ADPCM_XA_DECODER 0
 #define ENABLE_ADPCM_YAMAHA_DECODER 0
 #define ENABLE_DVDSUB_DECODER 0
+#define ENABLE_LIBVORBIS_DECODER 0
 #define ENABLE_H263_PARSER 1
 #define ENABLE_H264_PARSER 1
 #define ENABLE_MPEG4VIDEO_PARSER 1
@@ -289,28 +290,61 @@
 #define ENABLE_ADPCM_XA_ENCODER 0
 #define ENABLE_ADPCM_YAMAHA_ENCODER 0
 #define ENABLE_DVDSUB_ENCODER 0
-#define ENABLE_LIBVORBIS_ENCODER        0
-#define ENABLE_LIBVORBIS_DECODER        0
-#define ENABLE_MP3_HEADER_COMPRESS_BSF  0
-#define ENABLE_IMX_DUMP_HEADER_BSF      0
-#define ENABLE_DUMP_EXTRADATA_BSF       0
-#define ENABLE_REMOVE_EXTRADATA_BSF     0
-#define ENABLE_NOISE_BSF                0
+#define ENABLE_LIBVORBIS_ENCODER 0
+#define ENABLE_MP3_HEADER_COMPRESS_BSF 0
+#define ENABLE_IMX_DUMP_HEADER_BSF 0
+#define ENABLE_DUMP_EXTRADATA_BSF 0
+#define ENABLE_REMOVE_EXTRADATA_BSF 0
+#define ENABLE_NOISE_BSF 0
 #define ENABLE_MP3_HEADER_DECOMPRESS_BSF 0
-#define ENABLE_MJPEGA_DUMP_HEADER_BSF   0
-#define ENABLE_IMX_DUMP_HEADER_BSF      0
-#define ENABLE_ARMV4L      0
-#define ENABLE_MLIB      0
-#define ENABLE_SPARC      0
-#define ENABLE_ALPHA      0
-#include &quot;config.h&quot;
+#define ENABLE_MJPEGA_DUMP_HEADER_BSF 0
+#define ENABLE_IMX_DUMP_HEADER_BSF 0
+#define CONFIG_MUXERS 1
+#define CONFIG_MOV_MUXER 1
+#define CONFIG_MP4_MUXER 1
+#define CONFIG_PSP_MUXER 1
+#define CONFIG_TG2_MUXER 1
+#define CONFIG_TGP_MUXER 1
+#define CONFIG_ENCODERS 1
+#define CONFIG_DVVIDEO_ENCODER 1
+#define CONFIG_SNOW_ENCODER 1
+#define CONFIG_DECODERS 1
+#define CONFIG_DVVIDEO_DECODER 1
+#define CONFIG_H263_DECODER 1
+#define CONFIG_MPEG4_DECODER 1
+#define CONFIG_SNOW_DECODER 1
+#define CONFIG_VC1_DECODER 1
+#define CONFIG_WMV2_DECODER 1
+#define CONFIG_WMV3_DECODER 1
+#define CONFIG_MPEGAUDIO_HP 1
+#define CONFIG_ZLIB 1
+#define ENABLE_ARMV4L 0
+#define ENABLE_MLIB 0
+#define ENABLE_SPARC 0
+#define ENABLE_ALPHA 0
+#define ENABLE_MMI 0
+#define ENABLE_SH4 0
+#define ENABLE_BFIN 0
+#define ENABLE_SMALL 0
 #ifdef ARCH_POWERPC
-#define ENABLE_POWERPC      1
+#define ENABLE_POWERPC 1
 #else
-#define ENABLE_POWERPC      0
+#define ENABLE_POWERPC 0
 #endif
-#define ENABLE_MMI      0
-#define ENABLE_SH4      0
-#define ENABLE_BFIN      0
-#define ENABLE_SMALL      0
-#define CONFIG_SNOW_ENCODER      1
+#ifdef ARCH_X86
+#define ENABLE_MMX 1
+#define HAVE_MMX 1
+#define HAVE_FAST_UNALIGNED 1
+#else
+#define ENABLE_MMX 0
+#endif
+#ifdef ARCH_X86_64
+#define HAVE_FAST_64BIT 1
+#endif
+#ifdef __APPLE__
+#define CONFIG_DARWIN 1
+#endif
+#define ENABLE_THREADS 1
+#define HAVE_LRINTF 1
+#define HAVE_THREADS 1
+#define RUNTIME_CPUDETECT 1

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavformat/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavformat/CMakeLists.txt	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavformat/CMakeLists.txt	2008-03-05 14:32:46 UTC (rev 3826)
@@ -1,14 +1,14 @@
-SET(ADM_LIB ADM_lavformat)
-
-SET(${ADM_LIB}_SRCS 
-	mpeg.c utils.c avio.c ADM_lavformat.cpp 
-	aviobuf.c cutils.c img2.c file.c mpegtsenc.c ADM_muxts.cpp movenc.c 
-	avienc.c wav.c mov.c matroska.c isom.c isom.h riff.c
-	flvenc.c matroskaenc.c)
-
-ADD_ADM_LIB_ALL_TARGETS(${ADM_LIB} ${${ADM_LIB}_SRCS})
-ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-I../ADM_lavcodec -I../ADM_lavutil -DHAVE_AV_CONFIG_H&quot;)
-
-INCLUDE(admLibavcodec)
-GET_LAVC_CFLAGS(LAVC_CFLAGS)
-ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;${LAVC_CFLAGS}&quot;)
\ No newline at end of file
+SET(ADM_LIB ADM_lavformat)
+
+SET(${ADM_LIB}_SRCS 
+	mpeg.c utils.c avio.c ADM_lavformat.cpp 
+	aviobuf.c cutils.c img2.c file.c mpegtsenc.c ADM_muxts.cpp movenc.c 
+	avienc.c wav.c mov.c matroska.c isom.c isom.h riff.c
+	flvenc.c matroskaenc.c)
+
+ADD_ADM_LIB_ALL_TARGETS(${ADM_LIB} ${${ADM_LIB}_SRCS})
+ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-I../ADM_lavcodec -I../ADM_lavutil -DHAVE_AV_CONFIG_H -include ffconf.h&quot;)
+
+INCLUDE(admLibFfmpeg)
+GET_FFMPEG_CFLAGS(FFMPEG_CFLAGS)
+ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;${FFMPEG_CFLAGS}&quot;)
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavutil/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavutil/CMakeLists.txt	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavutil/CMakeLists.txt	2008-03-05 14:32:46 UTC (rev 3826)
@@ -1,12 +1,12 @@
-SET(ADM_LIB ADM_lavutil)
-
-SET(${ADM_LIB}_SRCS 
-	integer.c  intfloat_readwrite.c  mathematics.c  rational.c md5.c crc.c log.c  adler32.c lls.c random.c
-	string.c)
-
-ADD_ADM_LIB_ALL_TARGETS(${ADM_LIB} ${${ADM_LIB}_SRCS})
-ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-DHAVE_AV_CONFIG_H&quot;)
-
-INCLUDE(admLibavcodec)
-GET_LAVC_CFLAGS(LAVC_CFLAGS)
-ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;${LAVC_CFLAGS}&quot;)
\ No newline at end of file
+SET(ADM_LIB ADM_lavutil)
+
+SET(${ADM_LIB}_SRCS 
+	integer.c  intfloat_readwrite.c  mathematics.c  rational.c md5.c crc.c log.c  adler32.c lls.c random.c
+	string.c)
+
+ADD_ADM_LIB_ALL_TARGETS(${ADM_LIB} ${${ADM_LIB}_SRCS})
+ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-DHAVE_AV_CONFIG_H -include ffconf.h&quot;)
+
+INCLUDE(admLibFfmpeg)
+GET_FFMPEG_CFLAGS(FFMPEG_CFLAGS)
+ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;${FFMPEG_CFLAGS}&quot;)
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavutil/internal.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavutil/internal.h	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_lavutil/internal.h	2008-03-05 14:32:46 UTC (rev 3826)
@@ -1,39 +1,39 @@
-/*
- * copyright (c) 2006 Michael Niedermayer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">michaelni at gmx.at</A>&gt;
- *
- * This file is part of FFmpeg.
- *
- * FFmpeg is free software; you can redistribute it and/or
- * modify it under the terms of the GNU Lesser General Public
- * License as published by the Free Software Foundation; either
- * version 2.1 of the License, or (at your option) any later version.
- *
- * FFmpeg is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * Lesser General Public License for more details.
- *
- * You should have received a copy of the GNU Lesser General Public
- * License along with FFmpeg; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
- */
-
-/**
- * @file internal.h
- * common internal api header.
- */
-
-#ifndef INTERNAL_H
-#define INTERNAL_H
-
-#if !defined(DEBUG) &amp;&amp; !defined(NDEBUG)
-#    define NDEBUG
-#endif
-
-#include &lt;stdint.h&gt;
-#include &lt;stddef.h&gt;
-#include &lt;assert.h&gt;
-
+/*
+ * copyright (c) 2006 Michael Niedermayer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">michaelni at gmx.at</A>&gt;
+ *
+ * This file is part of FFmpeg.
+ *
+ * FFmpeg is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU Lesser General Public
+ * License as published by the Free Software Foundation; either
+ * version 2.1 of the License, or (at your option) any later version.
+ *
+ * FFmpeg is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ * Lesser General Public License for more details.
+ *
+ * You should have received a copy of the GNU Lesser General Public
+ * License along with FFmpeg; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
+ */
+
+/**
+ * @file internal.h
+ * common internal api header.
+ */
+
+#ifndef INTERNAL_H
+#define INTERNAL_H
+
+#if !defined(DEBUG) &amp;&amp; !defined(NDEBUG)
+#    define NDEBUG
+#endif
+
+#include &lt;stdint.h&gt;
+#include &lt;stddef.h&gt;
+#include &lt;assert.h&gt;
+
 #ifndef attribute_align_arg
 #if defined(__GNUC__) &amp;&amp; (__GNUC__ &gt; 4 || __GNUC__ == 4 &amp;&amp; __GNUC_MINOR__ &gt; 1)
 #    define attribute_align_arg __attribute__((force_align_arg_pointer))
@@ -41,234 +41,234 @@
 #    define attribute_align_arg
 #endif
 #endif
-
-#ifndef attribute_used
-#if defined(__GNUC__) &amp;&amp; (__GNUC__ &gt; 3 || __GNUC__ == 3 &amp;&amp; __GNUC_MINOR__ &gt; 0)
-#    define attribute_used __attribute__((used))
-#else
-#    define attribute_used
-#endif
-#endif
-
-#ifndef M_PI
-#define M_PI    3.14159265358979323846
-#endif
-
-#ifndef INT16_MIN
-#define INT16_MIN       (-0x7fff-1)
-#endif
-
-#ifndef INT16_MAX
-#define INT16_MAX       0x7fff
-#endif
-
-#ifndef INT32_MIN
-#define INT32_MIN       (-0x7fffffff-1)
-#endif
-
-#ifndef INT32_MAX
-#define INT32_MAX       0x7fffffff
-#endif
-
-#ifndef UINT32_MAX
-#define UINT32_MAX      0xffffffff
-#endif
-
-#ifndef INT64_MIN
-#define INT64_MIN       (-0x7fffffffffffffffLL-1)
-#endif
-
-#ifndef INT64_MAX
-#define INT64_MAX INT64_C(9223372036854775807)
-#endif
-
-#ifndef UINT64_MAX
-#define UINT64_MAX UINT64_C(0xFFFFFFFFFFFFFFFF)
-#endif
-
-#ifndef INT_BIT
-#    if INT_MAX != 2147483647
-#        define INT_BIT 64
-#    else
-#        define INT_BIT 32
-#    endif
-#endif
-
-#if ( defined(__PIC__) || defined(__pic__) ) &amp;&amp; ! defined(PIC)
-#    define PIC
-#endif
-
-#include &quot;intreadwrite.h&quot;
-#include &quot;bswap.h&quot;
-
-#ifndef offsetof
-#    define offsetof(T,F) ((unsigned int)((char *)&amp;((T *)0)-&gt;F))
-#endif
-
-#ifdef USE_FASTMEMCPY
-#    include &quot;libvo/fastmemcpy.h&quot;
-#    define memcpy(a,b,c) fast_memcpy(a,b,c)
-#endif
-
-// Use rip-relative addressing if compiling PIC code on x86-64.
-#if defined(__MINGW32__) || defined(__CYGWIN__) || \
-    defined(__OS2__) || (defined (__OpenBSD__) &amp;&amp; !defined(__ELF__))
-#    if defined(ARCH_X86_64) &amp;&amp; defined(PIC)
-#        define MANGLE(a) &quot;_&quot; #a&quot;(%%rip)&quot;
-#    else
-#        define MANGLE(a) &quot;_&quot; #a
-#    endif
-#else
-#    if defined(ARCH_X86_64) &amp;&amp; defined(PIC)
-#        define MANGLE(a) #a&quot;(%%rip)&quot;
-#    elif defined(CONFIG_DARWIN)
-#        define MANGLE(a) &quot;_&quot; #a
-#    else
-#        define MANGLE(a) #a
-#    endif
-#endif
-
-/* debug stuff */
-
-/* dprintf macros */
-#ifdef DEBUG
-#    define dprintf(pctx, ...) av_log(pctx, AV_LOG_DEBUG, __VA_ARGS__)
-#else
-#    define dprintf(pctx, ...)
-#endif
-
-#define av_abort()      do { av_log(NULL, AV_LOG_ERROR, &quot;Abort at %s:%d\n&quot;, __FILE__, __LINE__); abort(); } while (0)
-
-/* math */
-
-extern const uint32_t ff_inverse[256];
-
-#if defined(ARCH_X86)
-#    define FASTDIV(a,b) \
-    ({\
-        int ret,dmy;\
-        asm volatile(\
-            &quot;mull %3&quot;\
-            :&quot;=d&quot;(ret),&quot;=a&quot;(dmy)\
-            :&quot;1&quot;(a),&quot;g&quot;(ff_inverse[b])\
-            );\
-        ret;\
-    })
-#elif defined(ARCH_ARMV4L)
-#    define FASTDIV(a,b) \
-    ({\
-        int ret,dmy;\
-        asm volatile(\
-            &quot;umull %1, %0, %2, %3&quot;\
-            :&quot;=&amp;r&quot;(ret),&quot;=&amp;r&quot;(dmy)\
-            :&quot;r&quot;(a),&quot;r&quot;(ff_inverse[b])\
-            );\
-        ret;\
-    })
-#elif defined(CONFIG_FASTDIV)
-#    define FASTDIV(a,b)   ((uint32_t)((((uint64_t)a)*ff_inverse[b])&gt;&gt;32))
-#else
-#    define FASTDIV(a,b)   ((a)/(b))
-#endif
-
-extern const uint8_t ff_sqrt_tab[128];
-
-static inline int ff_sqrt(int a)
-{
-    int ret=0;
-    int s, b;
-
-    if(a&lt;128) return ff_sqrt_tab[a];
-
-    for(s=30; s&gt;=0; s-=2){
-        ret+=ret;
-        b= (1+2*ret)&lt;&lt;s;
-        if(b&lt;=a){
-            a-=b;
-            ret++;
-        }
-    }
-    return ret;
-}
-
-#if defined(ARCH_X86)
-#define MASK_ABS(mask, level)\
-            asm volatile(\
-                &quot;cdq                    \n\t&quot;\
-                &quot;xorl %1, %0            \n\t&quot;\
-                &quot;subl %1, %0            \n\t&quot;\
-                : &quot;+a&quot; (level), &quot;=&amp;d&quot; (mask)\
-            );
-#else
-#define MASK_ABS(mask, level)\
-            mask= level&gt;&gt;31;\
-            level= (level^mask)-mask;
-#endif
-
-#ifdef HAVE_CMOV
-#define COPY3_IF_LT(x,y,a,b,c,d)\
-asm volatile (\
-    &quot;cmpl %0, %3        \n\t&quot;\
-    &quot;cmovl %3, %0       \n\t&quot;\
-    &quot;cmovl %4, %1       \n\t&quot;\
-    &quot;cmovl %5, %2       \n\t&quot;\
-    : &quot;+&amp;r&quot; (x), &quot;+&amp;r&quot; (a), &quot;+r&quot; (c)\
-    : &quot;r&quot; (y), &quot;r&quot; (b), &quot;r&quot; (d)\
-);
-#else
-#define COPY3_IF_LT(x,y,a,b,c,d)\
-if((y)&lt;(x)){\
-     (x)=(y);\
-     (a)=(b);\
-     (c)=(d);\
-}
-#endif
-
-/* avoid usage of various functions */
-#undef  malloc
-#define malloc please_use_av_malloc
-#undef  free
-#define free please_use_av_free
-#undef  realloc
-#define realloc please_use_av_realloc
-#undef  time
-#define time time_is_forbidden_due_to_security_issues
-#undef  rand
-#define rand rand_is_forbidden_due_to_state_trashing_use_av_random
-#undef  srand
-#define srand srand_is_forbidden_due_to_state_trashing_use_av_init_random
-#undef  random
-#define random random_is_forbidden_due_to_state_trashing_use_av_random
-#undef  sprintf
-#define sprintf sprintf_is_forbidden_due_to_security_issues_use_snprintf
-#undef  strcat
-#define strcat strcat_is_forbidden_due_to_security_issues_use_av_strlcat
-#undef  exit
-#define exit exit_is_forbidden
-#if !(defined(LIBAVFORMAT_BUILD) || defined(FRAMEHOOK_H))
-#undef  printf
-#define printf please_use_av_log
-#undef  fprintf
-#define fprintf please_use_av_log
-#endif
-
-#define CHECKED_ALLOCZ(p, size)\
-{\
-    p= av_mallocz(size);\
-    if(p==NULL &amp;&amp; (size)!=0){\
-        perror(&quot;malloc&quot;);\
-        goto fail;\
-    }\
-}
-
-#ifndef HAVE_LRINTF
-/* XXX: add ISOC specific test to avoid specific BSD testing. */
-/* better than nothing implementation. */
-/* btw, rintf() is existing on fbsd too -- alex */
-static av_always_inline long int lrintf(float x)
-{
-    return (int)(rint(x));
-}
-#endif /* HAVE_LRINTF */
-
-#endif /* INTERNAL_H */
+
+#ifndef attribute_used
+#if defined(__GNUC__) &amp;&amp; (__GNUC__ &gt; 3 || __GNUC__ == 3 &amp;&amp; __GNUC_MINOR__ &gt; 0)
+#    define attribute_used __attribute__((used))
+#else
+#    define attribute_used
+#endif
+#endif
+
+#ifndef M_PI
+#define M_PI    3.14159265358979323846
+#endif
+
+#ifndef INT16_MIN
+#define INT16_MIN       (-0x7fff-1)
+#endif
+
+#ifndef INT16_MAX
+#define INT16_MAX       0x7fff
+#endif
+
+#ifndef INT32_MIN
+#define INT32_MIN       (-0x7fffffff-1)
+#endif
+
+#ifndef INT32_MAX
+#define INT32_MAX       0x7fffffff
+#endif
+
+#ifndef UINT32_MAX
+#define UINT32_MAX      0xffffffff
+#endif
+
+#ifndef INT64_MIN
+#define INT64_MIN       (-0x7fffffffffffffffLL-1)
+#endif
+
+#ifndef INT64_MAX
+#define INT64_MAX INT64_C(9223372036854775807)
+#endif
+
+#ifndef UINT64_MAX
+#define UINT64_MAX UINT64_C(0xFFFFFFFFFFFFFFFF)
+#endif
+
+#ifndef INT_BIT
+#    if INT_MAX != 2147483647
+#        define INT_BIT 64
+#    else
+#        define INT_BIT 32
+#    endif
+#endif
+
+#if ( defined(__PIC__) || defined(__pic__) ) &amp;&amp; ! defined(PIC)
+#    define PIC
+#endif
+
+#include &quot;intreadwrite.h&quot;
+#include &quot;bswap.h&quot;
+
+#ifndef offsetof
+#    define offsetof(T,F) ((unsigned int)((char *)&amp;((T *)0)-&gt;F))
+#endif
+
+#ifdef USE_FASTMEMCPY
+#    include &quot;libvo/fastmemcpy.h&quot;
+#    define memcpy(a,b,c) fast_memcpy(a,b,c)
+#endif
+
+// Use rip-relative addressing if compiling PIC code on x86-64.
+#if defined(__MINGW32__) || defined(__CYGWIN__) || \
+    defined(__OS2__) || (defined (__OpenBSD__) &amp;&amp; !defined(__ELF__))
+#    if defined(ARCH_X86_64) &amp;&amp; defined(PIC)
+#        define MANGLE(a) &quot;_&quot; #a&quot;(%%rip)&quot;
+#    else
+#        define MANGLE(a) &quot;_&quot; #a
+#    endif
+#else
+#    if defined(ARCH_X86_64) &amp;&amp; defined(PIC)
+#        define MANGLE(a) #a&quot;(%%rip)&quot;
+#    elif defined(CONFIG_DARWIN)
+#        define MANGLE(a) &quot;_&quot; #a
+#    else
+#        define MANGLE(a) #a
+#    endif
+#endif
+
+/* debug stuff */
+
+/* dprintf macros */
+#ifdef DEBUG
+#    define dprintf(pctx, ...) av_log(pctx, AV_LOG_DEBUG, __VA_ARGS__)
+#else
+#    define dprintf(pctx, ...)
+#endif
+
+#define av_abort()      do { av_log(NULL, AV_LOG_ERROR, &quot;Abort at %s:%d\n&quot;, __FILE__, __LINE__); abort(); } while (0)
+
+/* math */
+
+extern const uint32_t ff_inverse[256];
+
+#if defined(ARCH_X86)
+#    define FASTDIV(a,b) \
+    ({\
+        int ret,dmy;\
+        asm volatile(\
+            &quot;mull %3&quot;\
+            :&quot;=d&quot;(ret),&quot;=a&quot;(dmy)\
+            :&quot;1&quot;(a),&quot;g&quot;(ff_inverse[b])\
+            );\
+        ret;\
+    })
+#elif defined(ARCH_ARMV4L)
+#    define FASTDIV(a,b) \
+    ({\
+        int ret,dmy;\
+        asm volatile(\
+            &quot;umull %1, %0, %2, %3&quot;\
+            :&quot;=&amp;r&quot;(ret),&quot;=&amp;r&quot;(dmy)\
+            :&quot;r&quot;(a),&quot;r&quot;(ff_inverse[b])\
+            );\
+        ret;\
+    })
+#elif defined(CONFIG_FASTDIV)
+#    define FASTDIV(a,b)   ((uint32_t)((((uint64_t)a)*ff_inverse[b])&gt;&gt;32))
+#else
+#    define FASTDIV(a,b)   ((a)/(b))
+#endif
+
+extern const uint8_t ff_sqrt_tab[128];
+
+static inline int ff_sqrt(int a)
+{
+    int ret=0;
+    int s, b;
+
+    if(a&lt;128) return ff_sqrt_tab[a];
+
+    for(s=30; s&gt;=0; s-=2){
+        ret+=ret;
+        b= (1+2*ret)&lt;&lt;s;
+        if(b&lt;=a){
+            a-=b;
+            ret++;
+        }
+    }
+    return ret;
+}
+
+#if defined(ARCH_X86)
+#define MASK_ABS(mask, level)\
+            asm volatile(\
+                &quot;cdq                    \n\t&quot;\
+                &quot;xorl %1, %0            \n\t&quot;\
+                &quot;subl %1, %0            \n\t&quot;\
+                : &quot;+a&quot; (level), &quot;=&amp;d&quot; (mask)\
+            );
+#else
+#define MASK_ABS(mask, level)\
+            mask= level&gt;&gt;31;\
+            level= (level^mask)-mask;
+#endif
+
+#ifdef HAVE_CMOV
+#define COPY3_IF_LT(x,y,a,b,c,d)\
+asm volatile (\
+    &quot;cmpl %0, %3        \n\t&quot;\
+    &quot;cmovl %3, %0       \n\t&quot;\
+    &quot;cmovl %4, %1       \n\t&quot;\
+    &quot;cmovl %5, %2       \n\t&quot;\
+    : &quot;+&amp;r&quot; (x), &quot;+&amp;r&quot; (a), &quot;+r&quot; (c)\
+    : &quot;r&quot; (y), &quot;r&quot; (b), &quot;r&quot; (d)\
+);
+#else
+#define COPY3_IF_LT(x,y,a,b,c,d)\
+if((y)&lt;(x)){\
+     (x)=(y);\
+     (a)=(b);\
+     (c)=(d);\
+}
+#endif
+
+/* avoid usage of various functions */
+#undef  malloc
+#define malloc please_use_av_malloc
+#undef  free
+#define free please_use_av_free
+#undef  realloc
+#define realloc please_use_av_realloc
+#undef  time
+#define time time_is_forbidden_due_to_security_issues
+#undef  rand
+#define rand rand_is_forbidden_due_to_state_trashing_use_av_random
+#undef  srand
+#define srand srand_is_forbidden_due_to_state_trashing_use_av_init_random
+#undef  random
+#define random random_is_forbidden_due_to_state_trashing_use_av_random
+#undef  sprintf
+#define sprintf sprintf_is_forbidden_due_to_security_issues_use_snprintf
+#undef  strcat
+#define strcat strcat_is_forbidden_due_to_security_issues_use_av_strlcat
+#undef  exit
+#define exit exit_is_forbidden
+#if !(defined(LIBAVFORMAT_BUILD) || defined(FRAMEHOOK_H))
+#undef  printf
+#define printf please_use_av_log
+#undef  fprintf
+#define fprintf please_use_av_log
+#endif
+
+#define CHECKED_ALLOCZ(p, size)\
+{\
+    p= av_mallocz(size);\
+    if(p==NULL &amp;&amp; (size)!=0){\
+        perror(&quot;malloc&quot;);\
+        goto fail;\
+    }\
+}
+
+#ifndef HAVE_LRINTF
+/* XXX: add ISOC specific test to avoid specific BSD testing. */
+/* better than nothing implementation. */
+/* btw, rintf() is existing on fbsd too -- alex */
+static av_always_inline long int lrintf(float x)
+{
+    return (int)(rint(x));
+}
+#endif /* HAVE_LRINTF */
+
+#endif /* INTERNAL_H */

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libMad/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libMad/CMakeLists.txt	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libMad/CMakeLists.txt	2008-03-05 14:32:46 UTC (rev 3826)
@@ -9,4 +9,8 @@
 INCLUDE(admLibMad)
 GET_MAD_CFLAGS(MAD_CFLAGS)
 
-ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} ${MAD_CFLAGS})
\ No newline at end of file
+ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} ${MAD_CFLAGS})
+
+IF (ADM_BIG_ENDIAN)
+    ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-DWORDS_BIGENDIAN&quot;)
+ENDIF (ADM_BIG_ENDIAN)
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libMpeg2Dec/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libMpeg2Dec/CMakeLists.txt	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libMpeg2Dec/CMakeLists.txt	2008-03-05 14:32:46 UTC (rev 3826)
@@ -12,7 +12,7 @@
 ELSEIF (ADM_CPU_ALTIVEC)
 	ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-DARCH_PPC&quot;)
 
-	IF (NOT __APPLE__)
+	IF (NOT APPLE)
 		ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-DHAVE_ALTIVEC_H&quot;)
-	ENDIF (NOT __APPLE__)
+	ENDIF (NOT APPLE)
 ENDIF (ADM_CPU_X86)
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_liba52/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_liba52/CMakeLists.txt	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_liba52/CMakeLists.txt	2008-03-05 14:32:46 UTC (rev 3826)
@@ -3,4 +3,8 @@
 SET(${ADM_LIB}_SRCS 
 	bit_allocate.c  bitstream.c  downmix.c  imdct.c  parse.c)
 
-ADD_ADM_LIB_ALL_TARGETS(${ADM_LIB} ${${ADM_LIB}_SRCS})
\ No newline at end of file
+ADD_ADM_LIB_ALL_TARGETS(${ADM_LIB} ${${ADM_LIB}_SRCS})
+
+IF (ADM_BIG_ENDIAN)
+    ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-DWORDS_BIGENDIAN&quot;)
+ENDIF (ADM_BIG_ENDIAN)
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libpostproc/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libpostproc/CMakeLists.txt	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libpostproc/CMakeLists.txt	2008-03-05 14:32:46 UTC (rev 3826)
@@ -1,15 +1,15 @@
-SET(ADM_LIB ADM_libpostproc)
-
-SET(${ADM_LIB}_SRCS 
-	postprocess.c)
-
-ADD_ADM_LIB_ALL_TARGETS(${ADM_LIB} ${${ADM_LIB}_SRCS})
-ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-I.. -DHAVE_AV_CONFIG_H  -O3 -I../.. -I../ADM_lavutil -Drestrict=__restrict__ -fomit-frame-pointer&quot;)
-
-IF(ADM_CPU_X86_64)
-	ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-msse&quot;)
-ENDIF(ADM_CPU_X86_64)
-
-INCLUDE(admLibavcodec)
-GET_LAVC_CFLAGS(LAVC_CFLAGS)
-ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;${LAVC_CFLAGS}&quot;)
\ No newline at end of file
+SET(ADM_LIB ADM_libpostproc)
+
+SET(${ADM_LIB}_SRCS 
+	postprocess.c)
+
+ADD_ADM_LIB_ALL_TARGETS(${ADM_LIB} ${${ADM_LIB}_SRCS})
+ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-I.. -DHAVE_AV_CONFIG_H  -O3 -I../.. -I../ADM_lavutil -Drestrict=__restrict__ -fomit-frame-pointer -include ffconf.h&quot;)
+
+IF(ADM_CPU_X86_64)
+	ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-msse&quot;)
+ENDIF(ADM_CPU_X86_64)
+
+INCLUDE(admLibFfmpeg)
+GET_FFMPEG_CFLAGS(FFMPEG_CFLAGS)
+ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;${FFMPEG_CFLAGS}&quot;)
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libswscale/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libswscale/CMakeLists.txt	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libswscale/CMakeLists.txt	2008-03-05 14:32:46 UTC (rev 3826)
@@ -6,7 +6,7 @@
 ENDIF (ADM_CPU_ALTIVEC)
 	
 ADD_ADM_LIB_ALL_TARGETS(${ADM_LIB} ${${ADM_LIB}_SRCS})
-ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-DCONFIG_GPL -fomit-frame-pointer&quot;)
+ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-DCONFIG_GPL -fomit-frame-pointer -include ffconf.h&quot;)
 
 IF (APPLE)
 	ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-DPIC&quot;)
@@ -16,6 +16,6 @@
 	ENDIF (ADM_DEBUG)
 ENDIF (APPLE)
 
-INCLUDE(admLibavcodec)
-GET_LAVC_CFLAGS(LAVC_CFLAGS)
-ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;${LAVC_CFLAGS}&quot;)
\ No newline at end of file
+INCLUDE(admLibFfmpeg)
+GET_FFMPEG_CFLAGS(FFMPEG_CFLAGS)
+ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;${FFMPEG_CFLAGS}&quot;)
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_mplex/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_mplex/CMakeLists.txt	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_mplex/CMakeLists.txt	2008-03-05 14:32:46 UTC (rev 3826)
@@ -7,16 +7,14 @@
 	yuv4mpeg.c          cpu_accel.c)
 
 ADD_ADM_LIB_ALL_TARGETS(${ADM_LIB} ${${ADM_LIB}_SRCS})
-ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-I${CMAKE_CURRENT_SOURCE_DIR} -DHAVE_FMAX&quot;)
+ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-I${CMAKE_CURRENT_SOURCE_DIR} -DHAVE_FMAX -DRETSIGTYPE=void&quot;)
 
 IF (NOT APPLE)
     ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-DHAVE_MEMALIGN&quot;)
 ENDIF (NOT APPLE)
 
 IF (ADM_CPU_X86)
-    ADD_SOURCE_CFLAGS(cpu_accel.c &quot;-DHAVE_X86CPU&quot;)
-ENDIF (ADM_CPU_X86)
-
-IF (ADM_CPU_ALTIVEC)
-    ADD_SOURCE_CFLAGS(cpu_accel.c &quot;-DHAVE_ALTIVEC&quot;)
-ENDIF (ADM_CPU_ALTIVEC)
\ No newline at end of file
+    ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-DHAVE_X86CPU&quot;)
+ELSEIF (ADM_CPU_ALTIVEC)
+    ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-DHAVE_ALTIVEC&quot;)
+ENDIF (ADM_CPU_X86)
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_osSupport/ADM_cpuCap.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_osSupport/ADM_cpuCap.cpp	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_osSupport/ADM_cpuCap.cpp	2008-03-05 14:32:46 UTC (rev 3826)
@@ -99,15 +99,15 @@
  {
      cpuid(1, eax, ebx, ecx, std_caps);
      if (std_caps &amp; (1&lt;&lt;23))
-    	 myCpuCaps |= ADM_CPU_MMX;
+    	 myCpuCaps |= ADM_CPUCAP_MMX;
      if (std_caps &amp; (1&lt;&lt;25))
-    	 myCpuCaps |= ADM_CPU_MMXEXT | ADM_CPU_SSE;
+    	 myCpuCaps |= ADM_CPUCAP_MMXEXT | ADM_CPUCAP_SSE;
      if (std_caps &amp; (1&lt;&lt;26))
-    	 myCpuCaps |= ADM_CPU_SSE2;
+    	 myCpuCaps |= ADM_CPUCAP_SSE2;
      if (ecx &amp; 1)
-    	 myCpuCaps |= ADM_CPU_SSE3;
+    	 myCpuCaps |= ADM_CPUCAP_SSE3;
      if (ecx &amp; 0x00000200 )
-    	 myCpuCaps |= ADM_CPU_SSSE3;
+    	 myCpuCaps |= ADM_CPUCAP_SSSE3;
      
      
      
@@ -119,17 +119,17 @@
  {
      cpuid(0x80000001, eax, ebx, ecx, ext_caps);
      if (ext_caps &amp; (1&lt;&lt;31))
-    	 myCpuCaps |= ADM_CPU_3DNOW;
+    	 myCpuCaps |= ADM_CPUCAP_3DNOW;
      if (ext_caps &amp; (1&lt;&lt;30))
-    	 myCpuCaps |= ADM_CPU_3DNOWEXT;
+    	 myCpuCaps |= ADM_CPUCAP_3DNOWEXT;
      if (ext_caps &amp; (1&lt;&lt;23))
-    	 myCpuCaps |= ADM_CPU_MMX;
+    	 myCpuCaps |= ADM_CPUCAP_MMX;
      if (ext_caps &amp; (1&lt;&lt;22))
-    	 myCpuCaps |= ADM_CPU_MMXEXT;
+    	 myCpuCaps |= ADM_CPUCAP_MMXEXT;
      
  }
-#define CHECK(x) if(myCpuCaps &amp; ADM_CPU_##x) { printf(&quot;\t\t&quot;#x&quot; detected &quot;);\
-											if(!(myCpuMask&amp;ADM_CPU_##x)) printf(&quot;  but disabled&quot;);printf(&quot;\n&quot;);}
+#define CHECK(x) if(myCpuCaps &amp; ADM_CPUCAP_##x) { printf(&quot;\t\t&quot;#x&quot; detected &quot;);\
+											if(!(myCpuMask&amp;ADM_CPUCAP_##x)) printf(&quot;  but disabled&quot;);printf(&quot;\n&quot;);}
 	CHECK(MMX);
 	CHECK(3DNOW);
 	CHECK(MMXEXT);
@@ -154,7 +154,7 @@
 
 #ifdef ADM_CPU_X86
 #undef MATCH
-#define MATCH(x,y) if(CpuCaps::myCpuCaps &amp; CpuCaps::myCpuMask &amp; ADM_CPU_##x) rval|=MPEG2_ACCEL_X86_##x;
+#define MATCH(x,y) if(CpuCaps::myCpuCaps &amp; CpuCaps::myCpuMask &amp; ADM_CPUCAP_##x) rval|=MPEG2_ACCEL_X86_##x;
 	
 	MATCH(MMX,MMX);
 	MATCH(MMXEXT,MMXEXT);
@@ -177,7 +177,7 @@
 
 #ifdef ADM_CPU_X86
 #undef MATCH
-#define MATCH(x,y) if(CpuCaps::myCpuCaps &amp;  CpuCaps::myCpuMask &amp; ADM_CPU_##x) rval|=MM_##x;
+#define MATCH(x,y) if(CpuCaps::myCpuCaps &amp;  CpuCaps::myCpuMask &amp; ADM_CPUCAP_##x) rval|=MM_##x;
 
 	MATCH(MMX,MMX);
 	MATCH(MMXEXT,MMXEXT);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_osSupport/ADM_cpuCap.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_osSupport/ADM_cpuCap.h	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_osSupport/ADM_cpuCap.h	2008-03-05 14:32:46 UTC (rev 3826)
@@ -11,7 +11,7 @@
 //
 #ifdef ADM_CPU_X86
 
-#define CHECK_Z(x) {if(CpuCaps::myCpuCaps &amp; ADM_CPU_##x &amp; CpuCaps::myCpuMask) return 1; else return 0;} 
+#define CHECK_Z(x) {if(CpuCaps::myCpuCaps &amp; ADM_CPUCAP_##x &amp; CpuCaps::myCpuMask) return 1; else return 0;} 
 
 #else
 #define         CHECK_Z(x) {return 0;}
@@ -19,19 +19,19 @@
 
 typedef enum 
 {
-        ADM_CPU_NONE   =1,
-        ADM_CPU_MMX    =1&lt;&lt;1,
-        ADM_CPU_MMXEXT =1&lt;&lt;2,
-        ADM_CPU_3DNOW  =1&lt;&lt;3,
-        ADM_CPU_3DNOWEXT  =1&lt;&lt;4,
-        ADM_CPU_SSE    =1&lt;&lt;5,
-        ADM_CPU_SSE2   =1&lt;&lt;6,
-		ADM_CPU_SSE3   =1&lt;&lt;7,
-		ADM_CPU_SSSE3  =1&lt;&lt;8,
-        ADM_CPU_ALTIVEC=1&lt;&lt;9,
+        ADM_CPUCAP_NONE   =1,
+        ADM_CPUCAP_MMX    =1&lt;&lt;1,
+        ADM_CPUCAP_MMXEXT =1&lt;&lt;2,
+        ADM_CPUCAP_3DNOW  =1&lt;&lt;3,
+        ADM_CPUCAP_3DNOWEXT  =1&lt;&lt;4,
+        ADM_CPUCAP_SSE    =1&lt;&lt;5,
+        ADM_CPUCAP_SSE2   =1&lt;&lt;6,
+		ADM_CPUCAP_SSE3   =1&lt;&lt;7,
+		ADM_CPUCAP_SSSE3  =1&lt;&lt;8,
+        ADM_CPUCAP_ALTIVEC=1&lt;&lt;9,
         
-        ADM_CPU_ALL=0xffffffff
-} ADM_CPU_CAPS;
+        ADM_CPUCAP_ALL=0xffffffff
+} ADM_CPUCAP;
 
 class CpuCaps
 {

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp	2008-03-05 14:32:46 UTC (rev 3826)
@@ -92,9 +92,9 @@
     DOME(4,dring);
      
 // Cpu caps
-#define CPU_CAPS(x)    	if(CpuCaps::myCpuMask &amp; ADM_CPU_##x) caps##x=1; else caps##x=0;
+#define CPU_CAPS(x)    	if(CpuCaps::myCpuMask &amp; ADM_CPUCAP_##x) caps##x=1; else caps##x=0;
     
-    	if(CpuCaps::myCpuMask==ADM_CPU_ALL) capsAll=1; else capsAll=0;
+    	if(CpuCaps::myCpuMask==ADM_CPUCAP_ALL) capsAll=1; else capsAll=0;
     	CPU_CAPS(MMX);
     	CPU_CAPS(MMXEXT);
     	CPU_CAPS(3DNOW);
@@ -422,12 +422,12 @@
         	// cpu caps
         		if(capsAll)
         		{
-        			CpuCaps::myCpuMask=ADM_CPU_ALL;
+        			CpuCaps::myCpuMask=ADM_CPUCAP_ALL;
         		}else
         		{
         			CpuCaps::myCpuMask=0;
 #undef CPU_CAPS
-#define CPU_CAPS(x)    	if(caps##x) CpuCaps::myCpuMask|= ADM_CPU_##x;        	    	
+#define CPU_CAPS(x)    	if(caps##x) CpuCaps::myCpuMask|= ADM_CPUCAP_##x;        	    	
         	    	CPU_CAPS(MMX);
         	    	CPU_CAPS(MMXEXT);
         	    	CPU_CAPS(3DNOW);

Modified: branches/avidemux_2.5_branch_gruntster/cmake/admDetermineSystem.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/admDetermineSystem.cmake	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/cmake/admDetermineSystem.cmake	2008-03-05 14:32:46 UTC (rev 3826)
@@ -1,12 +1,13 @@
 # Determine CPU and Operating System for GCC
-#  ADM_BSD_FAMILY        - BSD family operating system was detected
-#  ADM_CPU_64BIT         - 64-bit CPU was detected
-#  ADM_CPU_ALTIVEC       - PowerPC CPU with AltiVec architecture was detected
-#  ADM_CPU_PPC           - PowerPC CPU architecture was detected
-#  ADM_CPU_X86           - x86 CPU architecture was detected
-#  ADM_CPU_X86_32        - x86 32-bit CPU architecture was detected
-#  ADM_CPU_X86_64        - x86 64-bit CPU architecture was detected
-#  CMAKE_WORDS_BIGENDIAN - big endian CPU detected
+#  ADM_BIG_ENDIAN  - big endian CPU detected
+#  ADM_BSD_FAMILY  - BSD family operating system was detected
+#  ADM_CPU_64BIT   - 64-bit CPU was detected
+#  ADM_CPU_ALTIVEC - PowerPC CPU with AltiVec architecture was detected
+#  ADM_CPU_PPC     - PowerPC CPU architecture was detected
+#  ADM_CPU_SSSE3   - x86 CPU with SSSE3 instructions was detected
+#  ADM_CPU_X86     - x86 CPU architecture was detected
+#  ADM_CPU_X86_32  - x86 32-bit CPU architecture was detected
+#  ADM_CPU_X86_64  - x86 64-bit CPU architecture was detected
 
 MACRO (PERFORM_SYSTEM_TEST testFile testName testSupportedVarName)
 	IF (${ARGC} EQUAL 4)
@@ -124,8 +125,22 @@
 	ENDIF (X86_32_SUPPORTED)
 ENDIF (X86_64_SUPPORTED)
 
-TEST_BIG_ENDIAN(CMAKE_WORDS_BIGENDIAN)
+IF (ADM_CPU_X86)
+	PERFORM_SYSTEM_TEST(cpu_ssse3_check.cpp &quot;SSSE3&quot; SSSE3_SUPPORTED)
 
+	IF (SSSE3_SUPPORTED)
+		SET(ADM_CPU_SSSE3)
+	ENDIF (SSSE3_SUPPORTED)
+ENDIF (ADM_CPU_X86)
+
 IF (NOT ADM_CPU_X86_32 AND NOT ADM_CPU_X86_64 AND NOT ADM_CPU_PPC)
 	MESSAGE(FATAL_ERROR &quot;CPU not supported&quot;)
-ENDIF (NOT ADM_CPU_X86_32 AND NOT ADM_CPU_X86_64 AND NOT ADM_CPU_PPC)
\ No newline at end of file
+ENDIF (NOT ADM_CPU_X86_32 AND NOT ADM_CPU_X86_64 AND NOT ADM_CPU_PPC)
+
+TEST_BIG_ENDIAN(CMAKE_WORDS_BIGENDIAN)
+
+IF (CMAKE_WORDS_BIGENDIAN)
+	SET(ADM_BIG_ENDIAN 1)
+ENDIF (CMAKE_WORDS_BIGENDIAN)
+
+MESSAGE(&quot;&quot;)
\ No newline at end of file

Copied: branches/avidemux_2.5_branch_gruntster/cmake/admLibFfmpeg.cmake (from rev 3825, branches/avidemux_2.5_branch_gruntster/cmake/admLibavcodec.cmake)
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/admLibavcodec.cmake	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/cmake/admLibFfmpeg.cmake	2008-03-05 14:32:46 UTC (rev 3826)
@@ -0,0 +1,28 @@
+# This is a hack. FFmpeg libraries should have one config file.
+# This will be easier if automake is ever dropped.
+
+MACRO (GET_FFMPEG_CFLAGS varToSet)
+	IF (ADM_CPU_X86_32)
+		SET(${varToSet} &quot;-DARCH_X86 -DARCH_X86_32&quot;)
+	ELSEIF (ADM_CPU_X86_64)
+		SET(${varToSet} &quot;-DARCH_X86 -DARCH_X86_64&quot;)
+	ELSEIF (ADM_CPU_PPC)
+		SET(${varToSet} &quot;-DARCH_POWERPC&quot;)
+
+		IF (ADM_CPU_ALTIVEC)
+			SET(${varToSet} &quot;${${varToSet}} -DHAVE_ALTIVEC&quot;)
+
+			IF (NOT APPLE)
+				SET(${varToSet} &quot;${${varToSet}} -DHAVE_ALTIVEC_H&quot;)
+			ENDIF (NOT APPLE)
+		ENDIF (ADM_CPU_ALTIVEC)
+	ENDIF (ADM_CPU_X86_32)
+
+	IF (ADM_CPU_SSSE3)
+		SET(${varToSet} &quot;${${varToSet}} -DHAVE_SSSE3&quot;)
+	ENDIF (ADM_CPU_SSSE3)
+
+	IF (ADM_BIG_ENDIAN)
+		SET(${varToSet} &quot;${${varToSet}} -DWORDS_BIGENDIAN&quot;)
+	ENDIF (ADM_BIG_ENDIAN)
+ENDMACRO (GET_FFMPEG_CFLAGS)
\ No newline at end of file

Deleted: branches/avidemux_2.5_branch_gruntster/cmake/admLibavcodec.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/admLibavcodec.cmake	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/cmake/admLibavcodec.cmake	2008-03-05 14:32:46 UTC (rev 3826)
@@ -1,84 +0,0 @@
-# this is a temporary hack. Libavcodec should have it's own config file.
-
-MACRO (SET_LAVC_CONFIG_FLAGS)
-	SET(CONFIG_ENCODERS 1)
-	SET(CONFIG_DVVIDEO_ENCODER 1)
-
-	SET(CONFIG_DECODERS 1)
-	SET(CONFIG_DVVIDEO_DECODER 1)
-	SET(CONFIG_H263_DECODER 1)
-	SET(CONFIG_MPEG4_DECODER 1)
-	SET(CONFIG_MPEGAUDIO_HP 1)
-	SET(CONFIG_SNOW_DECODER 1)
-	SET(CONFIG_VC1_DECODER 1)
-	SET(CONFIG_WMV2_DECODER 1)
-	SET(CONFIG_WMV3_DECODER 1)
-	SET(CONFIG_ZLIB 1)
-
-	SET(CONFIG_MUXERS 1)
-	SET(CONFIG_MOV_MUXER 1)
-	SET(CONFIG_MP4_MUXER 1)
-	SET(CONFIG_PSP_MUXER 1)
-	SET(CONFIG_TG2_MUXER 1)
-	SET(CONFIG_TGP_MUXER 1)
-
-	SET(ENABLE_THREADS 1)
-	SET(HAVE_LRINTF 1)
-	SET(HAVE_THREADS 1)
-	SET(RUNTIME_CPUDETECT 1)
-
-	IF (ADM_CPU_X86)
-		SET(ENABLE_MMX 1)
-		SET(HAVE_MMX 1)
-		SET(HAVE_FAST_UNALIGNED 1)
-
-		IF (ADM_CPU_X86_64)
-			SET(HAVE_FAST_64BIT 1)
-		ENDIF (ADM_CPU_X86_64)
-	ELSE (ADM_CPU_X86)
-		SET(ENABLE_MMX 0)
-	ENDIF (ADM_CPU_X86)
-
-	IF (APPLE)
-		SET(CONFIG_DARWIN 1)
-	ENDIF (APPLE)
-
-	########################################
-	# Check GCC support for SSSE3
-	########################################
-	IF (ADM_CPU_X86)
-		ADM_COMPILE(cpu_ssse3_check.cpp &quot;&quot; &quot;&quot; &quot;&quot; SSSE3_SUPPORTED outputSsse3Test)
-
-		IF (SSSE3_SUPPORTED)
-			SET(HAVE_SSSE3 1)
-
-			MESSAGE(STATUS &quot;Check if GCC supports SSSE3 - Yes&quot;)
-		ELSE (SSSE3_SUPPORTED)
-			MESSAGE(STATUS &quot;Check if GCC supports SSSE3 - No&quot;)
-
-			IF (VERBOSE)
-				MESSAGE(&quot;Error Message: ${outputSsse3Test}&quot;)
-			ENDIF (VERBOSE)	
-		ENDIF (SSSE3_SUPPORTED)
-	ENDIF (ADM_CPU_X86)
-
-	MESSAGE(&quot;&quot;)
-ENDMACRO (SET_LAVC_CONFIG_FLAGS)
-
-MACRO (GET_LAVC_CFLAGS varToSet)
-	IF (ADM_CPU_X86)
-		SET(${varToSet} &quot;-DARCH_X86 -DARCH_X86_32&quot;)
-	ELSEIF (ADM_CPU_X86_64)
-		SET(${varToSet} &quot;-DARCH_X86 -DARCH_X86_64&quot;)
-	ELSEIF (ADM_CPU_PPC)
-		SET(${varToSet} &quot;-DARCH_POWERPC&quot;)
-
-		IF (ADM_CPU_ALTIVEC)
-			SET(${varToSet} &quot;${${varToSet}} -DHAVE_ALTIVEC&quot;)
-
-			IF (NOT APPLE)
-				SET(${varToSet} &quot;${${varToSet}} -DHAVE_ALTIVEC_H&quot;)
-			ENDIF (NOT APPLE)
-		ENDIF (ADM_CPU_ALTIVEC)
-	ENDIF (ADM_CPU_X86)
-ENDMACRO (GET_LAVC_CFLAGS)
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/cmake/config.h.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/config.h.cmake	2008-03-05 11:49:06 UTC (rev 3825)
+++ branches/avidemux_2.5_branch_gruntster/cmake/config.h.cmake	2008-03-05 14:32:46 UTC (rev 3826)
@@ -4,25 +4,25 @@
 #define ADM_BUILD_GTK 2
 #define ADM_BUILD_QT4 3
 
+// GCC - CPU
+#cmakedefine ADM_BIG_ENDIAN
 #cmakedefine ADM_CPU_64BIT
 #cmakedefine ADM_CPU_ALTIVEC
 #cmakedefine ADM_CPU_PPC
+#cmakedefine ADM_CPU_SSSE3
 #cmakedefine ADM_CPU_X86
 #cmakedefine ADM_CPU_X86_32
 #cmakedefine ADM_CPU_X86_64
 
+// GCC - Operating System
+#cmakedefine ADM_BSD_FAMILY
+
 /* Jog Shuttle */
 #cmakedefine USE_JOG
 
-/* Big endian CPU */
-#cmakedefine ADM_BIG_ENDIAN
-
 #define PACKAGE   &quot;avidemux&quot;
 #define ADMLOCALE &quot;${ADM_LOCALE}&quot;
 
-/* BSD OS specific ifdef */
-#cmakedefine ADM_BSD_FAMILY
-
 #cmakedefine HAVE_AUDIO
 
 #if ${CONFIG_HEADER_TYPE} == ADM_BUILD_GTK || ${CONFIG_HEADER_TYPE} == ADM_BUILD_QT4
@@ -33,40 +33,6 @@
 /* AMR_NB */
 #cmakedefine AMR_NB
 
-/* FFMPEG */
-#cmakedefine CONFIG_ENCODERS
-#cmakedefine CONFIG_DVVIDEO_ENCODER
-
-#cmakedefine CONFIG_DECODERS
-#cmakedefine CONFIG_DVVIDEO_DECODER
-#cmakedefine CONFIG_H263_DECODER
-#cmakedefine CONFIG_MPEG4_DECODER
-#cmakedefine CONFIG_MPEGAUDIO_HP
-#cmakedefine CONFIG_SNOW_DECODER
-#cmakedefine CONFIG_VC1_DECODER
-#cmakedefine CONFIG_WMV2_DECODER
-#cmakedefine CONFIG_WMV3_DECODER
-#cmakedefine CONFIG_ZLIB
-
-#cmakedefine CONFIG_MUXERS
-#cmakedefine CONFIG_MOV_MUXER
-#cmakedefine CONFIG_MP4_MUXER
-#cmakedefine CONFIG_PSP_MUXER
-#cmakedefine CONFIG_TG2_MUXER
-#cmakedefine CONFIG_TGP_MUXER
-
-#define ENABLE_MMX ${ENABLE_MMX}
-#define ENABLE_THREADS ${ENABLE_THREADS}
-#cmakedefine HAVE_FAST_UNALIGNED
-#cmakedefine HAVE_LRINTF
-#cmakedefine HAVE_MMX
-#cmakedefine HAVE_THREADS
-#cmakedefine RUNTIME_CPUDETECT
-
-#cmakedefine HAVE_FAST_64BIT
-#cmakedefine HAVE_SSSE3
-#cmakedefine CONFIG_DARWIN
-
 /* FontConfig detected */
 #cmakedefine HAVE_FONTCONFIG
 
@@ -192,9 +158,6 @@
 /* Version number of package */
 #define VERSION &quot;${VERSION}&quot;
 
-/* Big endian CPU */
-#cmakedefine WORDS_BIGENDIAN
-
 /* use Nvwa memory leak detector */
 #cmakedefine FIND_LEAKS
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001091.html">[Avidemux-svn-commit] r3825 - in	branches/avidemux_2.5_branch_gruntster: . avidemux	avidemux/ADM_audiocodec avidemux/ADM_codecs	avidemux/ADM_colorspace avidemux/ADM_filter	avidemux/ADM_inputs/ADM_openDML avidemux/ADM_libraries/ADM_lavcodec	avidemux/ADM_libraries/ADM_lavformat	avidemux/ADM_libraries/ADM_lavutil	avidemux/ADM_libraries/ADM_libMpeg2Dec	avidemux/ADM_libraries/ADM_libmpeg2enc	avidemux/ADM_libraries/ADM_libpostproc	avidemux/ADM_libraries/ADM_libswscale	avidemux/ADM_libraries/ADM_mplex	avidemux/ADM_libraries/ADM_utilities avidemux/ADM_osSupport	avidemux/ADM_userInterfaces/ADM_commonUI avidemux/ADM_video	avidemux/ADM_videoFilter cmake
</A></li>
	<LI>Next message: <A HREF="001093.html">[Avidemux-svn-commit] r3827 - in	branches/avidemux_2.5_branch_gruntster: cmake cmake_compile_check
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1092">[ date ]</a>
              <a href="thread.html#1092">[ thread ]</a>
              <a href="subject.html#1092">[ subject ]</a>
              <a href="author.html#1092">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
