<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r3934 - in	branches/avidemux_2.5_branch_gruntster/avidemux: .	ADM_audiocodec ADM_audiofilter ADM_core/src ADM_coreUI	ADM_coreUI/include ADM_coreUI/src ADM_filter	ADM_inputs/ADM_inpics ADM_inputs/ADM_mpegdemuxer	ADM_inputs/ADM_nuv ADM_libraries/ADM_ffmpeg/ADM_lavcodec	ADM_ocr ADM_outputs/oplug_avi ADM_script	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory	ADM_userInterfaces/ADM_GTK/ADM_filters	ADM_userInterfaces/ADM_GTK/ADM_gui2	ADM_userInterfaces/ADM_GTK/ADM_ocr	ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_NONE/ADM_dialogFactory	ADM_userInterfaces/ADM_NONE/ADM_gui2	ADM_userInterfaces/ADM_QT4/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialogFactory	ADM_userInterfaces/ADM_QT4/ADM_filters	ADM_userInterfaces/ADM_QT4/ADM_gui	ADM_userInterfaces/ADM_commonUI ADM_video ADM_videoFilter
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2008-March/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3934%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster/avidemux%3A%20.%0A%09ADM_audiocodec%20ADM_audiofilter%20ADM_core/src%20ADM_coreUI%0A%09ADM_coreUI/include%20ADM_coreUI/src%20ADM_filter%0A%09ADM_inputs/ADM_inpics%20ADM_inputs/ADM_mpegdemuxer%0A%09ADM_inputs/ADM_nuv%20ADM_libraries/ADM_ffmpeg/ADM_lavcodec%0A%09ADM_ocr%20ADM_outputs/oplug_avi%20ADM_script%0A%09ADM_userInterfaces/ADM_GTK/ADM_dialog%0A%09ADM_userInterfaces/ADM_GTK/ADM_dialogFactory%0A%09ADM_userInterfaces/ADM_GTK/ADM_filters%0A%09ADM_userInterfaces/ADM_GTK/ADM_gui2%0A%09ADM_userInterfaces/ADM_GTK/ADM_ocr%0A%09ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk%0A%09ADM_userInterfaces/ADM_NONE/ADM_dialog%0A%09ADM_userInterfaces/ADM_NONE/ADM_dialogFactory%0A%09ADM_userInterfaces/ADM_NONE/ADM_gui2%0A%09ADM_userInterfaces/ADM_QT4/ADM_dialog%0A%09ADM_userInterfaces/ADM_QT4/ADM_dialogFactory%0A%09ADM_userInterfaces/ADM_QT4/ADM_filters%0A%09ADM_userInterfaces/ADM_QT4/ADM_gui%0A%09ADM_userInterfaces/ADM_commonUI%20ADM_video%20ADM_videoFilter&In-Reply-To=%3C200803261926.m2QJQlAJ011486%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001195.html">
   <LINK REL="Next"  HREF="001197.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r3934 - in	branches/avidemux_2.5_branch_gruntster/avidemux: .	ADM_audiocodec ADM_audiofilter ADM_core/src ADM_coreUI	ADM_coreUI/include ADM_coreUI/src ADM_filter	ADM_inputs/ADM_inpics ADM_inputs/ADM_mpegdemuxer	ADM_inputs/ADM_nuv ADM_libraries/ADM_ffmpeg/ADM_lavcodec	ADM_ocr ADM_outputs/oplug_avi ADM_script	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory	ADM_userInterfaces/ADM_GTK/ADM_filters	ADM_userInterfaces/ADM_GTK/ADM_gui2	ADM_userInterfaces/ADM_GTK/ADM_ocr	ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_NONE/ADM_dialogFactory	ADM_userInterfaces/ADM_NONE/ADM_gui2	ADM_userInterfaces/ADM_QT4/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialogFactory	ADM_userInterfaces/ADM_QT4/ADM_filters	ADM_userInterfaces/ADM_QT4/ADM_gui	ADM_userInterfaces/ADM_commonUI ADM_video ADM_videoFilter</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3934%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster/avidemux%3A%20.%0A%09ADM_audiocodec%20ADM_audiofilter%20ADM_core/src%20ADM_coreUI%0A%09ADM_coreUI/include%20ADM_coreUI/src%20ADM_filter%0A%09ADM_inputs/ADM_inpics%20ADM_inputs/ADM_mpegdemuxer%0A%09ADM_inputs/ADM_nuv%20ADM_libraries/ADM_ffmpeg/ADM_lavcodec%0A%09ADM_ocr%20ADM_outputs/oplug_avi%20ADM_script%0A%09ADM_userInterfaces/ADM_GTK/ADM_dialog%0A%09ADM_userInterfaces/ADM_GTK/ADM_dialogFactory%0A%09ADM_userInterfaces/ADM_GTK/ADM_filters%0A%09ADM_userInterfaces/ADM_GTK/ADM_gui2%0A%09ADM_userInterfaces/ADM_GTK/ADM_ocr%0A%09ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk%0A%09ADM_userInterfaces/ADM_NONE/ADM_dialog%0A%09ADM_userInterfaces/ADM_NONE/ADM_dialogFactory%0A%09ADM_userInterfaces/ADM_NONE/ADM_gui2%0A%09ADM_userInterfaces/ADM_QT4/ADM_dialog%0A%09ADM_userInterfaces/ADM_QT4/ADM_dialogFactory%0A%09ADM_userInterfaces/ADM_QT4/ADM_filters%0A%09ADM_userInterfaces/ADM_QT4/ADM_gui%0A%09ADM_userInterfaces/ADM_commonUI%20ADM_video%20ADM_videoFilter&In-Reply-To=%3C200803261926.m2QJQlAJ011486%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r3934 - in	branches/avidemux_2.5_branch_gruntster/avidemux: .	ADM_audiocodec ADM_audiofilter ADM_core/src ADM_coreUI	ADM_coreUI/include ADM_coreUI/src ADM_filter	ADM_inputs/ADM_inpics ADM_inputs/ADM_mpegdemuxer	ADM_inputs/ADM_nuv ADM_libraries/ADM_ffmpeg/ADM_lavcodec	ADM_ocr ADM_outputs/oplug_avi ADM_script	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory	ADM_userInterfaces/ADM_GTK/ADM_filters	ADM_userInterfaces/ADM_GTK/ADM_gui2	ADM_userInterfaces/ADM_GTK/ADM_ocr	ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_NONE/ADM_dialogFactory	ADM_userInterfaces/ADM_NONE/ADM_gui2	ADM_userInterfaces/ADM_QT4/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialogFactory	ADM_userInterfaces/ADM_QT4/ADM_filters	ADM_userInterfaces/ADM_QT4/ADM_gui	ADM_userInterfaces/ADM_commonUI ADM_video ADM_videoFilter">mean at mail.berlios.de
       </A><BR>
    <I>Wed Mar 26 20:26:47 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001195.html">[Avidemux-svn-commit] r3933 -	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg
</A></li>
        <LI>Next message: <A HREF="001197.html">[Avidemux-svn-commit] r3935 -	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1196">[ date ]</a>
              <a href="thread.html#1196">[ thread ]</a>
              <a href="subject.html#1196">[ subject ]</a>
              <a href="author.html#1196">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2008-03-26 20:26:31 +0100 (Wed, 26 Mar 2008)
New Revision: 3934

Added:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_coreUI_internal.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_enter.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_factory.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_factoryStubs.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_fileSel.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/DIA_factory.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/DIA_fileSel.cpp
Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiocodec/ADM_pluginLoad.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audioencoder_lame.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audioencoder_vorbis.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_fileio.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_filter/filter_dylib.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_inpics/ADM_pics.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_h264.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_mpeg2.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probe.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probeTS.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/avcodec.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_ocr/ADM_bitmapSource.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_ocr/ADM_ocr.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_ocr/ADM_vob2vobsub.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisave.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_script/ADM_JSFunctions.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_SwissArmyKnife.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eraser.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_particle.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bar.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_button.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_float.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_frame.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_hex.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_matrix.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_menu.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_notch.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_readOnlyText.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_threadCount.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/adm_editglyph.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/adm_ocr.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/DIA_dialogFactory.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/file_none.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_srt.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_bar.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_float.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_frame.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_hex.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_integer.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_matrix.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_notch.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_readOnlyText.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_button.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_menu.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_slider.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_threadCount.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_toggle.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioconfig.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tsSub.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_video/ADM_vidFieldUnblend.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidASS.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidBSmear.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDGbob.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDecDec.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDeinterlace.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDenoise.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDropOut.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidEq2.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidEraser.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidFade.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidFastConvolution.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidFlux.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidHue.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidLargeMedian.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidLogo.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMosaic.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidPalShift.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidParticle.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidRotate.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidSoften.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidStabilize.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidTdeint.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidThreshold.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidVlad.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidVobSubRender.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidVobsub.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidYadif.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/GUI_jobs.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/gtk_gui.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/gui_navigate.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/gui_savenew.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/guiplay.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/main.cpp
Log:
[Merge]


Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiocodec/ADM_pluginLoad.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiocodec/ADM_pluginLoad.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiocodec/ADM_pluginLoad.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -18,7 +18,7 @@
  ***************************************************************************/
 #include &quot;ADM_default.h&quot;
 #include &quot;ADM_ad_plugin.h&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;ADM_dynamicLoading.h&quot;
 #include &lt;vector&gt;
 #if 1

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audioencoder_lame.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audioencoder_lame.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audioencoder_lame.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -194,7 +194,7 @@
       @return 1 on success, 0 on failure
 
 */
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 int DIA_getLameSettings(ADM_audioEncoderDescriptor *descriptor)
   {
     int ret=0;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audioencoder_vorbis.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audioencoder_vorbis.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audioencoder_vorbis.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -248,7 +248,7 @@
       @return 1 on success, 0 on failure
 
 */
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 int DIA_getVorbisSettings(ADM_audioEncoderDescriptor *descriptor)
   {
     int ret=0;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_fileio.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_fileio.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_fileio.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -28,7 +28,7 @@
 #endif
 
 #include &quot;ADM_default.h&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
 
 #ifdef __WIN32

Added: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/CMakeLists.txt	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/CMakeLists.txt	2008-03-26 19:26:31 UTC (rev 3934)
@@ -0,0 +1 @@
+ADD_SUBDIRECTORY(src)

Added: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_coreUI_internal.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_coreUI_internal.h	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_coreUI_internal.h	2008-03-26 19:26:31 UTC (rev 3934)
@@ -0,0 +1,56 @@
+/***************************************************************************
+                          DIA_coreUI_internal.h
+  Handles univeral dialog
+  (C) Mean 2006 <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#ifndef DIA_COREUI_INTERNAL_H
+#define DIA_COREUI_INTERNAL_H
+#include &quot;DIA_enter.h&quot;
+#include &quot;DIA_fileSel.h&quot;
+#include &quot;DIA_factory.h&quot;
+ 
+// Dia enter
+typedef struct
+{
+	DIA_FILE_INIT	  *fileInit;
+	DIA_FILE_SEL_CB   *fileReadCb;
+	DIA_FILE_SEL_CB   *fileWriteCb;
+	DIA_FILE_SEL_NAME *fileReadName;
+	DIA_FILE_SEL_NAME *fileWriteName;
+	DIA_FILE_SELECT   *fileSelectRead;
+	DIA_FILE_SELECT   *fileSelectWrite;
+	DIA_FILE_SELECT   *fileSelectDirectory;
+}DIA_FILESEL_DESC_T;
+
+// Call this to hook your fileSelector functions
+uint8_t DIA_fileSelInit(DIA_FILESEL_DESC_T *d);
+
+
+//
+typedef uint8_t DIA_FACTORY_RUN_TABS(const char *title,uint32_t nb,diaElemTabs **tabs);
+typedef uint8_t DIA_FACTORY_RUN(const char *title,uint32_t nb,diaElem **elems);
+typedef struct
+{
+	DIA_FACTORY_RUN      *FactoryRun;
+	DIA_FACTORY_RUN_TABS *FactoryRunTab;
+//	
+	CREATE_BUTTON_T 	 *CreareButton;
+	DELETE_DIA_ELEM_T    *DestroyButton;
+//
+	CREATE_BAR_T		 *CreateBar;
+	DELETE_DIA_ELEM_T    *DestroyBar;
+	
+}FactoryDescriptor;
+//
+uint8_t DIA_factoryInit(FactoryDescriptor *d);
+#endif

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_enter.h (from rev 3933, branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/DIA_dialogFactory.cpp)
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/DIA_dialogFactory.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_enter.h	2008-03-26 19:26:31 UTC (rev 3934)
@@ -0,0 +1,24 @@
+/***************************************************************************
+                          DIA_enter.h
+  Handles univeral dialog
+  (C) Mean 2006 <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#ifndef DIA_ENTER_H
+#define DIA_ENTER_H
+
+//  Get a float value
+uint8_t  DIA_GetFloatValue(float *value, float min, float max, const char *title, const char *legend);
+//  Get an integer value
+uint8_t  DIA_GetIntegerValue(int *value, int min, int max, const char *title, const char *legend);
+
+#endif

Added: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_factory.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_factory.h	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_factory.h	2008-03-26 19:26:31 UTC (rev 3934)
@@ -0,0 +1,469 @@
+/***************************************************************************
+                          DIA_factory.h
+  Handles univeral dialog
+  (C) Mean 2006 <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#ifndef DIA_FACTORY_H
+#define DIA_FACTORY_H
+
+#include &quot;ADM_assert.h&quot;
+
+typedef enum 
+{
+  ELEM_INVALID=0,
+  ELEM_TOGGLE,
+  ELEM_INTEGER,
+  ELEM_FLOAT,
+  ELEM_MENU,
+  ELEM_FILE_READ,
+  ELEM_BITRATE,
+  ELEM_BAR,
+  ELEM_ROTEXT,
+  ELEM_NOTCH,
+  ELEM_DIR_SELECT,
+  ELEM_TEXT,
+  ELEM_FRAME,
+  ELEM_HEXDUMP,
+  ELEM_TOGGLE_UINT,
+  ELEM_TOGGLE_INT,
+  ELEM_BUTTON,
+  ELEM_SLIDER,
+  ELEM_THREAD_COUNT,
+  ELEM_MATRIX,
+  ELEM_COUNT,
+  ELEM_MAX=ELEM_COUNT-1
+}elemEnum;
+typedef void ADM_FAC_CALLBACK(void *cookie);
+
+#define ELEM_TYPE_FLOAT float
+
+/*********************************************/
+class diaElem
+{
+  protected:
+    void    setSize(int z) {size=z;};
+    int     readOnly;
+    diaElem    *internalPointer;
+public:
+  void *param;
+  void *myWidget;
+  const char *paramTitle;
+  const char *tip;
+  elemEnum mySelf;
+  int       size; // Size of the widget in line
+
+  diaElem(elemEnum num) {paramTitle=NULL;param=NULL;mySelf=num;myWidget=NULL;size=1;readOnly=0;internalPointer=NULL;};
+          int getSize(void) {return size;};
+  virtual ~diaElem() {};
+  virtual void setMe(void *dialog, void *opaque,uint32_t line)=0;
+  virtual void getMe(void)=0;
+  virtual void setRo(void) {readOnly=1;}
+  virtual void setRw(void) {readOnly=0;}
+          
+  virtual void enable(uint32_t onoff) {}
+  virtual void finalize(void) {} // in case some widget needs some stuff just before using them
+};
+/*********************************************/
+#define MENU_MAX_lINK 10
+typedef struct dialElemLink
+{
+  uint32_t  value;
+  uint32_t  onoff;
+  diaElem  *widget;
+}dialElemLink;
+/*********************************************/
+
+typedef void      DELETE_DIA_ELEM_T(diaElem *widget);
+/*********************************************/
+typedef diaElem  *(CREATE_BUTTON_T)(const char *toggleTitle, ADM_FAC_CALLBACK *cb,void *cookie,const char *tip);
+
+
+class diaElemButton : public diaElem
+{
+  protected:
+  public:
+    void            *_cookie;
+    ADM_FAC_CALLBACK *_callBack;
+            diaElemButton(const char *toggleTitle, ADM_FAC_CALLBACK *cb,void *cookie,const char *tip=NULL);
+  virtual   ~diaElemButton() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
+  void      enable(uint32_t onoff) ;
+};
+
+/*********************************************/
+
+class diaElemMatrix : public diaElem
+{
+  protected:
+  public:
+    uint8_t *_matrix;
+    uint32_t _matrixSize;
+    		diaElemMatrix(uint8_t *trix,const char *toggleTitle, uint32_t trixSize,const char *tip=NULL);
+  virtual   ~diaElemMatrix() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
+  void      enable(uint32_t onoff) ;
+};
+/************************************/
+template &lt;typename T&gt;
+class diaElemGenericSlider : public diaElem
+{
+  protected:
+    
+    T min,max,incr;
+    uint32_t digits;
+public:
+    diaElemGenericSlider(T *value,const char *toggleTitle, T min,T max,T incr = 1, const char *tip=NULL);
+  virtual   ~diaElemGenericSlider() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
+  void      enable(uint32_t onoff) ;
+  void      setDigits(uint32_t digits) { this-&gt;digits = digits; }
+};
+typedef diaElemGenericSlider &lt;int32_t&gt; diaElemSlider;
+/* Same but unsigned */
+typedef diaElemGenericSlider &lt;uint32_t&gt; diaElemUSlider;
+/* Same but float */
+typedef diaElemGenericSlider &lt;ELEM_TYPE_FLOAT&gt; diaElemFSlider;
+
+/*********************************************/
+class diaElemToggle : public diaElem
+{
+  protected:
+    dialElemLink        links[MENU_MAX_lINK];
+    uint32_t            nbLink;
+    
+public:
+            diaElemToggle(uint32_t *toggleValue,const char *toggleTitle, const char *tip=NULL);
+  virtual   ~diaElemToggle() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
+  void      enable(uint32_t onoff) ;
+  void      finalize(void);
+  void      updateMe();
+  uint8_t   link(uint32_t onoff,diaElem *w);
+};
+/*********************************************/
+class diaElemToggleUint : public diaElem
+{
+  protected:
+        uint32_t *emb;
+        const char *embName;
+        void *widgetUint;
+        uint32_t _min,_max;
+public:
+            diaElemToggleUint(uint32_t *toggleValue,const char *toggleTitle, uint32_t *uintval, const char *name,uint32_t min,uint32_t max,const char *tip=NULL);
+  virtual   ~diaElemToggleUint() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
+  void      enable(uint32_t onoff) ;
+  void      finalize(void);
+  void      updateMe();
+};
+class diaElemToggleInt : public diaElemToggleUint
+{
+  protected:
+        int32_t *emb;
+        int32_t _min,_max;
+public:
+            diaElemToggleInt(uint32_t *toggleValue,const char *toggleTitle, int32_t *uintval, const char *name,int32_t min,int32_t max,const char *tip=NULL);
+  virtual   ~diaElemToggleInt() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
+};
+/*********************************************/
+class diaElemInteger : public diaElem
+{
+
+public:
+  int32_t min,max;
+  diaElemInteger(int32_t *intValue,const char *toggleTitle, int32_t min, int32_t max,const char *tip=NULL);
+  virtual ~diaElemInteger() ;
+  void setMe(void *dialog, void *opaque,uint32_t line);
+  void getMe(void);
+  void      enable(uint32_t onoff) ;
+};
+/* Same but unsigned */
+class diaElemUInteger : public diaElem
+{
+
+public:
+  uint32_t min,max;
+  diaElemUInteger(uint32_t *intValue,const char *toggleTitle, uint32_t min, uint32_t max,const char *tip=NULL);
+  virtual ~diaElemUInteger() ;
+  void setMe(void *dialog, void *opaque,uint32_t line);
+  void getMe(void);
+  void      enable(uint32_t onoff) ;
+  
+};
+/*************************************************/
+typedef diaElem  *(CREATE_BAR_T)(uint32_t percent,const char *toggleTitle);
+
+class diaElemBar : public diaElem
+{
+  protected :
+        uint32_t per;
+public:
+  
+  diaElemBar(uint32_t percent,const char *toggleTitle);
+  virtual ~diaElemBar() ;
+  void setMe(void *dialog, void *opaque,uint32_t line);
+  void getMe(void);
+};
+
+/*********************************************/
+class diaElemFloat : public diaElem
+{
+
+public:
+  ELEM_TYPE_FLOAT min,max;
+  diaElemFloat(ELEM_TYPE_FLOAT *intValue,const char *toggleTitle, ELEM_TYPE_FLOAT min, 
+               ELEM_TYPE_FLOAT max,const char *tip=NULL);
+  virtual ~diaElemFloat() ;
+  void setMe(void *dialog, void *opaque,uint32_t line);
+  void getMe(void);
+  void      enable(uint32_t onoff) ;
+};
+/*************************************************/
+typedef struct diaMenuEntry
+{
+  public:
+    uint32_t    val;
+    const char *text;
+    const char *desc;
+  public:
+}diaMenuEntry;
+
+class diaMenuEntryDynamic : public diaMenuEntry
+{
+  public:
+  public:
+    diaMenuEntryDynamic(uint32_t v,const char *t,const char *d) 
+      {
+          val=v;
+          text=ADM_strdup(t);
+          desc=ADM_strdup(d);
+      }
+    ~diaMenuEntryDynamic() 
+      { 
+          ADM_dealloc(text);
+          ADM_dealloc(desc);
+      }
+    
+};
+//*******************************
+// static (i.e. hardcoded) menu
+//*******************************
+
+
+
+//*******************************
+// Same but for dynamic menus
+//*******************************
+class diaElemMenuDynamic : public diaElem
+{
+diaMenuEntryDynamic **menu;
+uint32_t            nbMenu;
+dialElemLink        links[MENU_MAX_lINK];
+uint32_t            nbLink;
+
+public:
+  diaElemMenuDynamic(uint32_t *intValue,const char *itle, uint32_t nb, 
+               diaMenuEntryDynamic **menu,const char *tip=NULL);
+  
+  virtual   ~diaElemMenuDynamic() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
+  uint8_t   link(diaMenuEntryDynamic *entry,uint32_t onoff,diaElem *w);
+  void      updateMe(void);
+  void      enable(uint32_t onoff) ;
+  void      finalize(void);
+};
+
+class diaElemMenu : public diaElem
+{
+const diaMenuEntry  *menu;
+uint32_t            nbMenu;
+dialElemLink        links[MENU_MAX_lINK];
+uint32_t            nbLink;
+
+diaElemMenuDynamic  *dyna;
+diaMenuEntryDynamic  **menus;
+public:
+  diaElemMenu(uint32_t *intValue,const char *itle, uint32_t nb, 
+               const diaMenuEntry *menu,const char *tip=NULL);
+  
+  virtual ~diaElemMenu() ;
+  void setMe(void *dialog, void *opaque,uint32_t line);
+  void getMe(void);
+  uint8_t   link(diaMenuEntry *entry,uint32_t onoff,diaElem *w);
+  void      updateMe(void);
+  void      enable(uint32_t onoff) ;
+  void      finalize(void);;
+};
+
+/*************************************************/
+#include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;
+
+class diaElemBitrate : public diaElem
+{
+  protected:
+    COMPRES_PARAMS    copy;
+    uint32_t maxQ;
+public:
+  
+  diaElemBitrate(COMPRES_PARAMS *p,const char *toggleTitle,const char *tip=NULL);
+  virtual ~diaElemBitrate() ;
+  void setMe(void *dialog, void *opaque,uint32_t line);
+  void getMe(void);
+  void setMaxQz(uint32_t qz);
+  
+  void updateMe(void);
+};
+
+/*************************************************/
+class diaElemFile : public diaElem
+{
+
+protected:
+    const char * defaultSuffix;
+public:
+  
+  diaElemFile(uint32_t writeMode,char **filename,const char *toggleTitle,
+              const char *defaultSuffix = 0,const char *tip=NULL);
+  virtual ~diaElemFile() ;
+  void setMe(void *dialog, void *opaque,uint32_t line);
+  void getMe(void);
+  uint32_t _write;
+  void   changeFile(void);
+  void   enable(uint32_t onoff);
+};
+/*************************************************/
+class diaElemDirSelect : public diaElem
+{
+
+public:
+  
+  diaElemDirSelect(char **filename,const char *toggleTitle,const char *tip=NULL);
+  virtual ~diaElemDirSelect() ;
+  void setMe(void *dialog, void *opaque,uint32_t line);
+  void getMe(void);
+  
+  void changeFile(void);
+  void   enable(uint32_t onoff);
+};
+/*************************************************/
+/* The text MUST be copied internally ! */
+class diaElemReadOnlyText : public diaElem
+{
+
+public:
+  
+  diaElemReadOnlyText(char *readyOnly,const char *toggleTitle,const char *tip=NULL);
+  virtual ~diaElemReadOnlyText() ;
+  void setMe(void *dialog, void *opaque,uint32_t line);
+  void getMe(void);
+  
+};
+/*************************************************/
+/* The text MUST be copied internally ! */
+class diaElemText : public diaElem
+{
+
+public:
+  
+  diaElemText(char **text,const char *toggleTitle,const char *tip=NULL);
+  virtual ~diaElemText() ;
+  void setMe(void *dialog, void *opaque,uint32_t line);
+  void getMe(void);
+  void enable(uint32_t onoff);
+};
+
+/*********************************************/
+class diaElemNotch : public diaElem
+{
+  uint32_t yesno;
+public:
+  
+  diaElemNotch(uint32_t yes,const char *toggleTitle, const char *tip=NULL);
+  virtual ~diaElemNotch() ;
+  void setMe(void *dialog, void *opaque,uint32_t line);
+  void getMe(void) {};
+};
+/*********************************************/
+class diaElemTabs 
+{
+  public:
+    
+  uint32_t nbElems;
+  diaElem  **dias;
+  const char *title;
+  
+  diaElemTabs(const char *toggleTitle, uint32_t nb, diaElem **content)
+  {
+      nbElems=nb;
+      dias=content; 
+      title=toggleTitle;
+  }
+  virtual ~diaElemTabs() 
+  {
+  }
+};
+/**********************************************/
+#define DIA_MAX_FRAME 10
+class diaElemFrame : public diaElem
+{
+  uint32_t frameSize;
+  uint32_t nbElems;
+  diaElem  *elems[DIA_MAX_FRAME];
+public:
+  
+  diaElemFrame(const char *toggleTitle, const char *tip=NULL);
+  virtual ~diaElemFrame() ;
+  void setMe(void *dialog, void *opaque,uint32_t line);
+  void getMe(void) ;
+  void swallow(diaElem *widget);
+  void enable(uint32_t onoff);
+  void finalize(void);
+};
+/**********************************************/
+class diaElemHex : public diaElem
+{
+  uint32_t dataSize;
+  uint8_t  *data;
+  
+public:
+  
+  diaElemHex(const char *toggleTitle, uint32_t dataSize,uint8_t *data);
+  virtual ~diaElemHex() ;
+  void setMe(void *dialog, void *opaque,uint32_t line);
+  void getMe(void) ;
+  void finalize(void);
+};
+/**********************************************/
+class diaElemThreadCount : public diaElem
+{
+
+public:
+  
+  diaElemThreadCount(uint32_t *value, const char *title, const char *tip = NULL);
+  virtual ~diaElemThreadCount() ;
+  void setMe(void *dialog, void *opaque, uint32_t line);
+  void getMe(void);
+};
+/*********************************************/
+uint8_t diaFactoryRun(const char *title,uint32_t nb,diaElem **elems);
+uint8_t diaFactoryRunTabs(const char *title,uint32_t nb,diaElemTabs **tabs);
+/*********************************************/
+#endif

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_factoryStubs.h (from rev 3933, branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/DIA_dialogFactory.cpp)
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/DIA_dialogFactory.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_factoryStubs.h	2008-03-26 19:26:31 UTC (rev 3934)
@@ -0,0 +1,32 @@
+/***************************************************************************
+                          DIA_factoryStubs.h
+  
+  (C) Mean 2008 <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#ifndef DIA_FACTORY_STUBS_H
+#define DIA_FACTORY_STUBS_H
+
+#define DIA_MKSTUBS(aClass) \
+void      aClass::setMe(void *dialog, void *opaque,uint32_t line)\
+	{ \
+		ADM_assert(internalPointer); \
+		internalPointer-&gt;setMe(dialog,opaque,line); \
+	} \
+void      aClass::getMe(void)\
+	{ \
+	ADM_assert(internalPointer); \
+	internalPointer-&gt;getMe(); \
+	} 
+
+#endif

Added: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_fileSel.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_fileSel.h	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_fileSel.h	2008-03-26 19:26:31 UTC (rev 3934)
@@ -0,0 +1,39 @@
+
+/***************************************************************************
+    copyright            : (C) 2001/2005 by mean
+    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#ifndef DIA_FILESEL_H
+#define DIA_FILESEL_H
+typedef void SELFILE_CB(char *);
+
+// Associated functions type
+typedef void    DIA_FILE_SEL_CB(const char *label,SELFILE_CB cb);
+typedef void    DIA_FILE_SEL_NAME(const char *label, char * * name);
+typedef uint8_t DIA_FILE_SELECT(const char *title,char *target,uint32_t max, const char *source);
+typedef void	DIA_FILE_INIT(void);
+
+// Old FileSel interface
+void GUI_FileSelRead(const char *label,SELFILE_CB cb) ;
+void GUI_FileSelWrite(const char *label,SELFILE_CB cb) ;
+void GUI_FileSelRead(const char *label, char * * name);
+void GUI_FileSelWrite(const char *label, char * * name);
+
+// New FileSel interface, the receiving buffer is allocated by the caller
+uint8_t FileSel_SelectWrite(const char *title,char *target,uint32_t max, const char *source);
+uint8_t FileSel_SelectRead(const char *title,char *target,uint32_t max, const char *source);
+uint8_t FileSel_SelectDir(const char *title,char *target,uint32_t max, const char *source);
+
+
+#endif
+//EOF

Added: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/CMakeLists.txt	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/CMakeLists.txt	2008-03-26 19:26:31 UTC (rev 3934)
@@ -0,0 +1,16 @@
+SET(ADM_coreUI_SRCS 
+        DIA_factory.cpp
+        DIA_fileSel.cpp
+)
+
+ADD_LIBRARY(ADM_coreUI SHARED ${ADM_coreUI_SRCS})
+ADD_TARGET_DEFINITIONS(ADM_coreUI ADM_DEBUG FIND_LEAKS)
+
+IF (MINGW)
+ELSEIF (APPLE)
+	ADD_TARGET_LDFLAGS(ADM_coreUI &quot;-framework Carbon&quot;)
+ENDIF (MINGW)
+
+REMOVE_DEFINITIONS(-DHAVE_CONFIG_H)
+
+INSTALL(TARGETS ADM_coreUI RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)

Added: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/DIA_factory.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/DIA_factory.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/DIA_factory.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -0,0 +1,75 @@
+/***************************************************************************
+                          DIA_factory.cpp
+  This file contains only redirect functions.
+  Check the GTK/QT/.. functions to see the intersting parts
+  (C) Mean 2008 <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include &quot;ADM_default.h&quot;
+#include &quot;DIA_coreUI_internal.h&quot;
+#include &quot;DIA_factoryStubs.h&quot;
+
+static FactoryDescriptor *Factory=NULL;
+/**
+ * 	\fn FactoryDescriptor
+ */
+uint8_t  DIA_factoryInit(FactoryDescriptor *d)
+{
+	Factory=d;
+	return 1;
+}
+// ****************** All ************************
+uint8_t diaFactoryRun(const char *title,uint32_t nb,diaElem **elems)
+{
+	ADM_assert(Factory); 
+	return Factory-&gt;FactoryRun(title,nb,elems);
+}
+uint8_t diaFactoryRunTabs(const char *title,uint32_t nb,diaElemTabs **tabs)
+{
+	ADM_assert(Factory); 
+	return Factory-&gt;FactoryRunTab(title,nb,tabs);
+}
+
+// ****************** Buttons ********************
+diaElemButton ::diaElemButton(const char *toggleTitle, ADM_FAC_CALLBACK *cb,void *cookie,const char *tip) :diaElem(ELEM_BUTTON)
+{
+	ADM_assert(Factory); 
+	internalPointer=Factory-&gt;CreareButton(toggleTitle, cb,cookie,tip);
+}
+diaElemButton ::~diaElemButton()
+{
+	ADM_assert(Factory); 
+	Factory-&gt;DestroyButton(internalPointer);
+	internalPointer=NULL;
+}
+void      diaElemButton::enable(uint32_t onoff)
+	{ 
+		ADM_assert(internalPointer); 
+		internalPointer-&gt;enable(onoff); 
+	}
+DIA_MKSTUBS(diaElemButton)
+// ****************** Bar ********************
+diaElemBar ::diaElemBar(uint32_t percent,const char *toggleTitle) :diaElem(ELEM_BAR)
+{
+	ADM_assert(Factory); 
+	internalPointer=Factory-&gt;CreateBar(percent,toggleTitle);
+}
+diaElemBar ::~diaElemBar()
+{
+	ADM_assert(Factory); 
+	Factory-&gt;DestroyBar(internalPointer);
+	internalPointer=NULL;
+}
+DIA_MKSTUBS(diaElemBar)
+// ******************************************	
+// EOF

Added: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/DIA_fileSel.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/DIA_fileSel.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/DIA_fileSel.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -0,0 +1,110 @@
+/***************************************************************************
+                          DIA_fileSel.cpp
+  
+  (C) Mean 2008 <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include &quot;ADM_default.h&quot;
+#include &quot;DIA_coreUI_internal.h&quot;
+
+static DIA_FILESEL_DESC_T *fileSelDescriptor=NULL;
+/**
+ * 	\fn DIA_fileSelInit
+ *  \brief Hook the fileDialog
+ */
+uint8_t DIA_fileSelInit(DIA_FILESEL_DESC_T *d)
+{
+	fileSelDescriptor=d;
+	fileSelDescriptor-&gt;fileInit();
+	return 1;
+}
+
+// A bunch of boomerang functions
+/**
+ * \fn GUI_FileSelRead
+ * \brief Select a file for reading, when ok the CB callback is called with the name as argument
+ */	
+void GUI_FileSelRead(const char *label,SELFILE_CB cb) 
+{
+	ADM_assert(fileSelDescriptor);
+	return fileSelDescriptor-&gt;fileReadCb(label,cb);	
+}
+/**
+ * \fn GUI_FileSelWrite
+ * \brief Select a file for Writing, when ok the CB callback is called with the name as argument
+ */	
+void GUI_FileSelWrite(const char *label,SELFILE_CB cb) 
+{
+	ADM_assert(fileSelDescriptor);
+	return fileSelDescriptor-&gt;fileWriteCb(label,cb);	
+}
+/**
+ * \fn GUI_FileSelRead
+ * \brief Select a file for reading, name is allocated with a copy of the name, null if fail.
+ */	
+void GUI_FileSelRead(const char *label,char * * name) 
+{
+	ADM_assert(fileSelDescriptor);
+	return fileSelDescriptor-&gt;fileReadName(label,name);	
+}
+/**
+ * \fn GUI_FileSelWrite
+ * \brief Select a file for Writing, name is allocated with a copy of the name, null if fail.
+ */	
+
+void GUI_FileSelWrite(const char *label,char * * name) 
+{
+	ADM_assert(fileSelDescriptor);
+	return fileSelDescriptor-&gt;fileWriteName(label,name);	
+}
+/**
+ * \fn FileSel_SelectWrite
+ * \brief Select a file for Writing, name is allocated with a copy of the name, null if fail.
+ * @param title : [in] Title of the dialog box
+ * @param target: [in/out] Buffer that will hold the name, must be at least max bytes big
+ * @param max : [in] Max number of bytes the buffer will hold
+ * @param source : [in] Initial value for the file, can be null
+ */	
+uint8_t FileSel_SelectWrite(const char *title,char *target,uint32_t max, const char *source)
+{
+	ADM_assert(fileSelDescriptor);
+	return fileSelDescriptor-&gt;fileSelectWrite(title,target,max, source);
+}
+/**
+ * \fn FileSel_SelectRead
+ * \brief Select a file for Reading, name is allocated with a copy of the name, null if fail.
+ * @param title : [in] Title of the dialog box
+ * @param target: [in/out] Buffer that will hold the name, must be at least max bytes big
+ * @param max : [in] Max number of bytes the buffer will hold
+ * @param source : [in] Initial value for the file, can be null
+ */	
+uint8_t FileSel_SelectRead(const char *title,char *target,uint32_t max, const char *source)
+{
+	ADM_assert(fileSelDescriptor);
+	return fileSelDescriptor-&gt;fileSelectRead(title,target,max, source);
+}
+/**
+ * \fn FileSel_SelectDir
+ * \brief Select a directory, name is allocated with a copy of the name, null if fail.
+ * @param title : [in] Title of the dialog box
+ * @param target: [in/out] Buffer that will hold the name, must be at least max bytes big
+ * @param max : [in] Max number of bytes the buffer will hold
+ * @param source : [in] Initial value for the file, can be null
+ */	
+uint8_t FileSel_SelectDir(const char *title,char *target,uint32_t max, const char *source)
+{
+	ADM_assert(fileSelDescriptor);
+	return fileSelDescriptor-&gt;fileSelectDirectory(title,target,max, source);
+}
+
+// EOF

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_filter/filter_dylib.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_filter/filter_dylib.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_filter/filter_dylib.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -33,7 +33,7 @@
 #include &quot;fourcc.h&quot;
 
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;ADM_video/ADM_genvideo.hxx&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_inpics/ADM_pics.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_inpics/ADM_pics.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_inpics/ADM_pics.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -34,7 +34,7 @@
 #include &quot;ADM_toolkit/bitmap.h&quot;
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
 #include &quot;ADM_assert.h&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;ADM_osSupport/ADM_debugID.h&quot;
 #define MODULE_NAME MODULE_INPIC
 #include &quot;ADM_osSupport/ADM_debug.h&quot;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -27,7 +27,7 @@
 
 
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;ADM_osSupport/ADM_quota.h&quot;
 #include &quot;ADM_userInterfaces/ADM_commonUI/DIA_idx_pg.h&quot;
 #include &quot;ADM_libraries/ADM_utilities/avidemutils.h&quot;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_h264.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_h264.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_h264.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -26,7 +26,7 @@
 
 
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;ADM_osSupport/ADM_quota.h&quot;
 #include &quot;ADM_userInterfaces/ADM_commonUI/DIA_idx_pg.h&quot;
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_mpeg2.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_mpeg2.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_mpeg2.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -26,7 +26,7 @@
 
 
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;ADM_osSupport/ADM_quota.h&quot;
 #include &quot;ADM_userInterfaces/ADM_commonUI/DIA_idx_pg.h&quot;
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probe.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probe.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probe.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -25,7 +25,7 @@
 #include &quot;ADM_assert.h&quot;
 
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;fourcc.h&quot;
 #include &quot;ADM_userInterfaces/ADM_commonUI/DIA_working.h&quot;
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probeTS.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probeTS.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probeTS.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -26,7 +26,7 @@
 
 
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;fourcc.h&quot;
 #include &quot;ADM_userInterfaces/ADM_commonUI/DIA_working.h&quot;
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -77,7 +77,7 @@
 #include &quot;RTjpegN.h&quot;
 
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 
 #include &quot;ADM_osSupport/ADM_debugID.h&quot;
 #define MODULE_NAME MODULE_NUV

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/avcodec.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/avcodec.h	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/avcodec.h	2008-03-26 19:26:31 UTC (rev 3934)
@@ -2298,7 +2298,7 @@
 
 #if LIBAVCODEC_VERSION_INT &lt; ((52&lt;&lt;16)+(0&lt;&lt;8)+0)
 /* YUV420 format is assumed ! */
-
+#if 0 // MEANX
 /**
  * @deprecated Use the software scaler (swscale) instead.
  */
@@ -2330,7 +2330,7 @@
  * @deprecated Use the software scaler (swscale) instead.
  */
 attribute_deprecated void img_resample_close(struct ImgReSampleContext *s);
-
+#endif //MEANX
 #endif
 
 /**

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_ocr/ADM_bitmapSource.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_ocr/ADM_bitmapSource.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_ocr/ADM_bitmapSource.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -23,8 +23,8 @@
  #include &quot;ADM_ocr.h&quot;
  #include &quot;ADM_ocrInternal.h&quot;
  #include &quot;ADM_toolkit/toolkit.hxx&quot;
- #include &quot;ADM_userInterfaces/ADM_commonUI/DIA_enter.h&quot;
- #include &quot;ADM_videoFilter/ADM_vidDvbSub.h&quot;
+ #include &quot;DIA_enter.h&quot;
+#include &quot;ADM_videoFilter/ADM_vidDvbSub.h&quot;
 
 /*  *****************************
  * 	**** Case 1 : Vobsub ********

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_ocr/ADM_ocr.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_ocr/ADM_ocr.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_ocr/ADM_ocr.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -23,8 +23,7 @@
  #include &quot;ADM_ocr.h&quot;
 #include &quot;ADM_ocrInternal.h&quot;
  #include &quot;ADM_toolkit/toolkit.hxx&quot;
- #include &quot;ADM_userInterfaces/ADM_commonUI/DIA_enter.h&quot;
-
+ #include &quot;DIA_enter.h&quot;
 static uint32_t minThreshold=0x80;
 
 /* In the UI related code */

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_ocr/ADM_vob2vobsub.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_ocr/ADM_vob2vobsub.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_ocr/ADM_vob2vobsub.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -43,7 +43,7 @@
 #include &quot;ADM_audio/aviaudio.hxx&quot;
 #include &quot;ADM_audiofilter/audioprocess.hxx&quot;
 
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;ADM_inputs/ADM_mpegdemuxer/dmx_demuxer.h&quot;
 #include &quot;ADM_inputs/ADM_mpegdemuxer/dmx_demuxerPS.h&quot;
 #include &quot;ADM_userInterfaces/ADM_commonUI/DIA_working.h&quot;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -54,7 +54,7 @@
 
 
 #include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;ADM_coreUI/include/DIA_factory.h&quot;
 const char *getStrFromAudioCodec( uint32_t codec);
 //_________________________
 uint8_t ADM_aviUISetMuxer(  void )
@@ -374,7 +374,7 @@
       encoding_gui=NULL;
 
 }
-void GenericAviSave::guiSetPhasis(char *str)
+void GenericAviSave::guiSetPhasis(const char *str)
 {
       ADM_assert(encoding_gui);
       encoding_gui-&gt;setPhasis(str);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisave.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisave.h	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisave.h	2008-03-26 19:26:31 UTC (rev 3934)
@@ -64,7 +64,7 @@
                     virtual uint8_t writeVideoChunk(uint32_t frame )=0;
                     virtual void guiStart(void);
                     virtual void guiStop(void);
-                    	    void guiSetPhasis(char *str);
+                    	    void guiSetPhasis(const char *str);
                     virtual uint8_t guiUpdate(uint32_t nb,uint32_t total);		    
                     uint8_t	handleMuxSize(void ) ; // auto chop
                     uint8_t reigniteChunk( uint32_t len, uint8_t *data );

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_script/ADM_JSFunctions.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_script/ADM_JSFunctions.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_script/ADM_JSFunctions.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -42,9 +42,9 @@
 #include &quot;ADM_script/ADM_container.h&quot;
 
 #include &quot;ADM_JSGlobal.h&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 std::vector &lt;std::string&gt; g_vIncludes;
 extern char **environ;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_SwissArmyKnife.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_SwissArmyKnife.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_SwissArmyKnife.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -31,7 +31,7 @@
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
 #include &quot;DIA_flyDialog.h&quot;
 #include &quot;DIA_flySwissArmyKnife.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot; // for diaElemMenu etc.
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 
 #undef _

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -19,7 +19,7 @@
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
 
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 #include &quot;ADM_video/ADM_genvideo.hxx&quot;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eraser.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eraser.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eraser.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -28,11 +28,11 @@
 #include &quot;ADM_video/ADM_genvideo.hxx&quot;
 #include &quot;ADM_videoFilter/ADM_vidEraser.h&quot;
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 
 #include &quot;DIA_flyDialog.h&quot;
 #include &quot;DIA_flyEraser.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot; // for diaElemMenu etc.
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 
 using namespace std;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -1,6 +1,6 @@
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;avidemutils.h&quot;
 
 static GtkWidget       *create_dialog1 (void);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_particle.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_particle.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_particle.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -28,11 +28,11 @@
 #include &quot;ADM_video/ADM_genvideo.hxx&quot;
 #include &quot;ADM_videoFilter/ADM_vidParticle.h&quot;
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 
 #include &quot;DIA_flyDialog.h&quot;
 #include &quot;DIA_flyParticle.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot; // for diaElemMenu etc.
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 
 #undef _

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -20,7 +20,7 @@
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
 
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 #include &quot;ADM_video/ADM_genvideo.hxx&quot;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -15,7 +15,7 @@
  ***************************************************************************/
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 
 #define CHECK_GET(x,y) {*y=gtk_toggle_button_get_active( GTK_TOGGLE_BUTTON(WID(x)));}
 #define CHECK_SET(x,y) {gtk_toggle_button_set_active( GTK_TOGGLE_BUTTON(WID(x)),*y);}   

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -1,5 +1,5 @@
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
 
 #ifdef USE_XVID_4

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -13,12 +13,16 @@
  ***************************************************************************/
 
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
+#include &quot;DIA_coreUI_internal.h&quot;
 
 static uint8_t  buildOneTab(GtkWidget *nb,int index, diaElemTabs *tab);
 static uint8_t  readOneTab(int index, diaElemTabs *tab);
+//
+static uint8_t gtkDiaFactoryRunTabs(const char *title,uint32_t nb,diaElemTabs **tabs);
+static uint8_t gtkDiaFactoryRun(const char *title,uint32_t nb,diaElem **elems);
+//
 
-
 /**
     \fn addLine(diaElem *elem, GtkDialog *dialog, GtkWidget *vbox)
     \brief setup an line with the element given as parameter
@@ -48,7 +52,7 @@
     @return 0 on failure, 1 on success
 */
 
-uint8_t diaFactoryRun(const char *title,uint32_t nb,diaElem **elems)
+uint8_t gtkDiaFactoryRun(const char *title,uint32_t nb,diaElem **elems)
 {
   uint8_t ret=0;
   ADM_assert(elems);
@@ -146,7 +150,7 @@
     \fn   diaFactoryRun
     \brief   Same as above but for tabbed dialog
 */
-uint8_t diaFactoryRunTabs(const char *title,uint32_t nb,diaElemTabs **tabs)
+uint8_t gtkDiaFactoryRunTabs(const char *title,uint32_t nb,diaElemTabs **tabs)
 {
   uint8_t ret=0;
   ADM_assert(tabs);
@@ -283,4 +287,38 @@
   return 1; 
 }
 
+
+//*****************HOOK************
+/**
+ * 	\fn InitFactory
+ *  \brief Install hoook for dialogFactory
+ * */
+extern diaElem  *gtkCreateButton(const char *toggleTitle, ADM_FAC_CALLBACK *cb,void *cookie,const char *tip);
+extern void 	gtkDeleteButton(diaElem *e);
+extern diaElem  *gtkCreateBar(uint32_t percent,const char *toggleTitle);
+extern void     gtkDeleteBar(diaElem *e);
+//************
+static FactoryDescriptor GtkFactoryDescriptor=
+{
+	&amp;gtkDiaFactoryRun,
+	&amp;gtkDiaFactoryRunTabs,
+	// Buttons
+	&amp;gtkCreateButton,
+	&amp;gtkDeleteButton,
+	// Bar
+	&amp;gtkCreateBar,
+	&amp;gtkDeleteBar
+};
+
+/**
+ * 	\fn InitFactory
+ *  \brief Install our factory hooks
+ */
+void InitFactory(void)
+{
+	DIA_factoryInit(&amp;GtkFactoryDescriptor);
+	
+	
+}
+
 //EOF

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -13,8 +13,8 @@
  *                                                                         *
  ***************************************************************************/
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_factory.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 
 static void fileRead(void *w,void *p);
 static void dirSel(void *w,void *p);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bar.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bar.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bar.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -14,9 +14,21 @@
  ***************************************************************************/
 
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
+namespace ADM_GtkFactory
+{
+class diaElemBar : public diaElem
+{
+  protected :
+        uint32_t per;
+public:
+  
+  diaElemBar(uint32_t percent,const char *toggleTitle);
+  virtual ~diaElemBar() ;
+  void setMe(void *dialog, void *opaque,uint32_t line);
+  void getMe(void);
+};
 
-
 diaElemBar::diaElemBar(uint32_t percent,const char *toggleTitle)
   : diaElem(ELEM_BAR)
 {
@@ -61,5 +73,17 @@
 {
   
 }
+} // End of namespace
+//****************************Hoook*****************
 
+diaElem  *gtkCreateBar(uint32_t percent,const char *toggleTitle)
+{
+	return new  ADM_GtkFactory::diaElemBar(percent,toggleTitle);
+}
+void gtkDeleteBar(diaElem *e)
+{
+	ADM_GtkFactory::diaElemBar *a=(ADM_GtkFactory::diaElemBar *)e;
+	delete a;
+}
+//
 //EOF

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -14,7 +14,7 @@
  ***************************************************************************/
 
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 
 static void cb_mod(void *w,void *p);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_button.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_button.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_button.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -14,11 +14,26 @@
  ***************************************************************************/
 
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
+namespace ADM_GtkFactory
+{
 
 static void cb_button (GtkWidget *widget,gpointer callback_data);
+class diaElemButton : public diaElem
+{
+  protected:
+  public:
+    void            *_cookie;
+    ADM_FAC_CALLBACK *_callBack;
+            diaElemButton(const char *toggleTitle, ADM_FAC_CALLBACK *cb,void *cookie,const char *tip=NULL);
+  virtual   ~diaElemButton() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
+  void      enable(uint32_t onoff) ;
+};
 
+
 diaElemButton:: diaElemButton(const char *toggleTitle, ADM_FAC_CALLBACK *cb,void *cookie,const char *tip)
   : diaElem(ELEM_BUTTON)
 {
@@ -65,4 +80,18 @@
   button-&gt;_callBack(button-&gt;_cookie);
 }
 
+} // End of namespace
+//****************************Hoook*****************
+
+diaElem  *gtkCreateButton(const char *toggleTitle, ADM_FAC_CALLBACK *cb,void *cookie,const char *tip)
+{
+	return new  ADM_GtkFactory::diaElemButton(toggleTitle,cb,cookie,tip);
+}
+void gtkDeleteButton(diaElem *e)
+{
+	ADM_GtkFactory::diaElemButton *a=(ADM_GtkFactory::diaElemButton *)e;
+	delete a;
+}
+//
+
 //EOF

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_float.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_float.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_float.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -14,7 +14,7 @@
  ***************************************************************************/
 
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 diaElemFloat::diaElemFloat(ELEM_TYPE_FLOAT *intValue,const char *toggleTitle, 
                             ELEM_TYPE_FLOAT min, ELEM_TYPE_FLOAT max,const char *tip)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_frame.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_frame.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_frame.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -14,7 +14,7 @@
  ***************************************************************************/
 
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 
 diaElemFrame::diaElemFrame(const char *toggleTitle, const char *tip)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_hex.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_hex.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_hex.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -14,7 +14,7 @@
  ***************************************************************************/
 
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 
 #define HEX_NB_LINE   8

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -14,7 +14,7 @@
  ***************************************************************************/
 
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 diaElemInteger::diaElemInteger(int32_t *intValue,const char *toggleTitle, int32_t min, int32_t max,const char *tip)
   : diaElem(ELEM_INTEGER)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_matrix.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_matrix.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_matrix.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -14,7 +14,7 @@
  ***************************************************************************/
 
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 diaElemMatrix::diaElemMatrix(uint8_t *trix,const char *toggleTitle, uint32_t trixSize,const char *tip)
   : diaElem(ELEM_MATRIX)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_menu.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_menu.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_menu.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -14,7 +14,7 @@
  ***************************************************************************/
 
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 static void cb_menu(void *w,void *p);
 static void cb_menus(void *w,void *p);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_notch.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_notch.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_notch.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -14,7 +14,7 @@
  ***************************************************************************/
 
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 
 diaElemNotch::diaElemNotch(uint32_t yes,const char *toggleTitle, const char *tip)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_readOnlyText.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_readOnlyText.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_readOnlyText.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -14,7 +14,7 @@
  ***************************************************************************/
 
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 
 diaElemReadOnlyText::diaElemReadOnlyText(char *readyOnly,const char *toggleTitle,const char *tip)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_threadCount.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_threadCount.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_threadCount.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -14,7 +14,7 @@
  ***************************************************************************/
 
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 static void customToggled(void *widget, void *userData);
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -14,7 +14,7 @@
  ***************************************************************************/
 
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 static void cb_menu(void *w,void *p);
 static void cb_menu2(void *w,void *p);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -11,7 +11,7 @@
 #include &lt;vector&gt;
 
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;ADM_video/ADM_genvideo.hxx&quot;
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 #include &quot;ADM_video/ADM_videoNull.h&quot;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -27,7 +27,7 @@
 #include &quot;ADM_codecs/ADM_codec.h&quot;
 #include &quot;../ADM_commonUI/GUI_ui.h&quot;
 
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;ADM_editor/ADM_Video.h&quot;
 
 #include &quot;prefs.h&quot;
@@ -120,7 +120,10 @@
 extern void guiCallback(GtkMenuItem * menuitem, gpointer user_data);
 extern void HandleAction(Action act);
 extern gboolean UI_on_key_press(GtkWidget *widget, GdkEventKey* event, gpointer user_data);
+namespace ADM_GTK_fileSel
+{
 extern void fileReadWrite(SELFILE_CB cb, int rw, char *name);
+};
 
 // To build vcodec
 extern uint32_t encoderGetNbEncoder(void);
@@ -1178,11 +1181,11 @@
       char *filename=names[i];
       if (avifileinfo) 
               {
-                    fileReadWrite(A_appendAvi, 0, (char*)filename);
+    	  		   ADM_GTK_fileSel::fileReadWrite(A_appendAvi, 0, (char*)filename);
                }
                else
                {
-                    fileReadWrite(reinterpret_cast &lt;void (*)(char *)&gt; (A_openAvi), 0, (char*)filename);
+            	   ADM_GTK_fileSel::fileReadWrite(reinterpret_cast &lt;void (*)(char *)&gt; (A_openAvi), 0, (char*)filename);
                }
       ADM_dealloc(names[i]); 
     }

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/adm_editglyph.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/adm_editglyph.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/adm_editglyph.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -13,11 +13,11 @@
  ***************************************************************************/
 #include &quot;../ADM_toolkit_gtk/toolkit_gtk.h&quot;
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 
 
 #include &quot;ADM_ocr/adm_glyph.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 static GtkWidget *create_dialog1 (void);
 static admGlyph *currentGlyph=NULL;
 static GtkWidget *dialog;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/adm_ocr.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/adm_ocr.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/adm_ocr.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -37,7 +37,7 @@
 #include &quot;ADM_video/ADM_genvideo.hxx&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;ADM_colorspace/colorspace.h&quot;
 
 #include &quot;ADM_videoFilter/ADM_vobsubinfo.h&quot;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -27,15 +27,18 @@
 #include &quot;ADM_default.h&quot;
 #include &quot;avi_vars.h&quot;
 
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
+#include &quot;DIA_coreUI_internal.h&quot;
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
 #include &quot;prefs.h&quot;
 
 #define TH_READ 1
 #define TH_WRITE 2
-
 extern char *actual_workbench_file;
 
+namespace ADM_GTK_fileSel 
+{
+
 static void GUI_FileSel(const char *label, SELFILE_CB *cb, int rw, char **name = NULL);
 uint8_t initFileSelector(void);
 
@@ -544,4 +547,30 @@
 
 	return 1;
 }
+/*************/
+void init(void)
+{
+	initFileSelector();
+}
+} // End of nameSpace
+static DIA_FILESEL_DESC_T GtkFileSelDesc=
+{
+	ADM_GTK_fileSel::init,	
+	ADM_GTK_fileSel::GUI_FileSelRead,
+	ADM_GTK_fileSel::GUI_FileSelWrite,
+	ADM_GTK_fileSel::GUI_FileSelRead,
+	ADM_GTK_fileSel::GUI_FileSelWrite,
+	ADM_GTK_fileSel::FileSel_SelectWrite,
+	ADM_GTK_fileSel::FileSel_SelectRead,
+	ADM_GTK_fileSel::FileSel_SelectDir
+};
+
+
+
+// Hook our functions
+void initFileSelector(void)
+{
+	DIA_fileSelInit(&amp;GtkFileSelDesc);
+}
+
 //EOF

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -87,7 +87,6 @@
 void DIA_Calculator(uint32_t *sizeInMeg, uint32_t *avgBitrate ) {}
 void DIA_properties(void) {}
 int GUI_handleVFilter (void) {return 0;}
-uint8_t initFileSelector(void) {return 0;}
 uint8_t initGUI(void) {return 1;}
 void destroyGUI(void) {}
 uint8_t DIA_job(uint32_t nb,char **name) {return 0;}

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/DIA_dialogFactory.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/DIA_dialogFactory.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/DIA_dialogFactory.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -37,7 +37,10 @@
 {
   return 0; 
 }
+void InitFactory(void)
+{
+	
+}
 
 
-
 //EOF

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/file_none.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/file_none.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/file_none.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -14,12 +14,21 @@
 #include &lt;stdlib.h&gt;
 #include &quot;ADM_default.h&quot;
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
+#include &quot;DIA_coreUI_internal.h&quot;
 
-uint8_t FileSel_SelectDir(const char *title,char *target,uint32_t max, const char *source)
-{ 
-  return 0;
-}
+namespace  ADM_CLI_fileSel
+{
+//********************
+static void GUI_FileSelRead(const char *label,SELFILE_CB cb);
+static void GUI_FileSelWrite(const char *label,SELFILE_CB cb);
+static void GUI_FileSelRead(const char *label, char * * name);
+static void GUI_FileSelWrite(const char *label, char * * name);
+static uint8_t FileSel_SelectDir(const char *title,char *target,uint32_t max, const char *source);
+static uint8_t FileSel_SelectWrite(const char *title,char *target,uint32_t max, const char *source);
+static uint8_t FileSel_SelectRead(const char *title,char *target,uint32_t max, const char *source);
+static void init(void);
+//********************
 void GUI_FileSelRead(const char *label,SELFILE_CB cb) 
 {}
 void GUI_FileSelWrite(const char *label,SELFILE_CB cb) 
@@ -29,6 +38,45 @@
 void GUI_FileSelWrite(const char *label, char * * name)
 {}
 
+uint8_t FileSel_SelectWrite(const char *title,char *target,uint32_t max, const char *source)
+{
+	return 0;
+}
+uint8_t FileSel_SelectRead(const char *title,char *target,uint32_t max, const char *source)
+{
+  return 0;
+}
+uint8_t FileSel_SelectDir(const char *title,char *target,uint32_t max, const char *source)
+{
+	return 0;
+}
+void init(void)
+{
+	return ;
+}
+
+} //--- end namespace-------------
+static DIA_FILESEL_DESC_T CliFileSelDesc=
+{
+	ADM_CLI_fileSel::init,	
+	ADM_CLI_fileSel::GUI_FileSelRead,
+	ADM_CLI_fileSel::GUI_FileSelWrite,
+	ADM_CLI_fileSel::GUI_FileSelRead,
+	ADM_CLI_fileSel::GUI_FileSelWrite,
+	ADM_CLI_fileSel::FileSel_SelectWrite,
+	ADM_CLI_fileSel::FileSel_SelectRead,
+	ADM_CLI_fileSel::FileSel_SelectDir
+};
+
+
+
+// Hook our functions
+void initFileSelector(void)
+{
+	DIA_fileSelInit(&amp;CliFileSelDesc);
+}
+
+
 uint8_t UI_getPhysicalScreenSize(void *window, uint32_t *w,uint32_t *h)
 {
   *w=*h=10000; 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_srt.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_srt.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_srt.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -7,9 +7,9 @@
 #include &quot;config.h&quot;
 #include &quot;ADM_default.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 #include &quot;ADM_video/ADM_genvideo.hxx&quot;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -10,7 +10,7 @@
 #ifdef USE_X264
 #include &quot;ADM_default.h&quot;
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;
 #include &quot;ADM_codecs/ADM_x264param.h&quot;
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -10,7 +10,7 @@
 #ifdef USE_XVID_4
 #include &quot;ADM_default.h&quot;
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;
 #include &quot;ADM_codecs/ADM_xvid4param.h&quot;
 /**

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_bar.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_bar.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_bar.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -28,7 +28,7 @@
 #include &lt;QProgressBar&gt;
 
 #include &quot;ADM_default.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_assert.h&quot;
 
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_float.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_float.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_float.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -27,7 +27,7 @@
 #include &lt;QLabel&gt;
 
 #include &quot;ADM_default.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_assert.h&quot;
 
 extern const char *shortkey(const char *);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_frame.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_frame.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_frame.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -28,7 +28,7 @@
 #include &lt;QLabel&gt;
 
 #include &quot;ADM_default.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_assert.h&quot;
 
 extern const char *shortkey(const char *);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_hex.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_hex.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_hex.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -27,7 +27,7 @@
 #include &lt;QCheckBox&gt;
 
 #include &quot;ADM_default.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_assert.h&quot;
 
 extern const char *shortkey(const char *);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_integer.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_integer.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_integer.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -28,7 +28,7 @@
 #include &lt;QSlider&gt;
 
 #include &quot;ADM_default.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_assert.h&quot;
 
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_matrix.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_matrix.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_matrix.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -27,7 +27,7 @@
 #include &lt;QLabel&gt;
 
 #include &quot;ADM_default.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_assert.h&quot;
 
 extern const char *shortkey(const char *);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_notch.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_notch.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_notch.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -27,7 +27,7 @@
 #include &lt;QCheckBox&gt;
 
 #include &quot;ADM_default.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_assert.h&quot;
 
 extern const char *shortkey(const char *);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_readOnlyText.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_readOnlyText.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_readOnlyText.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -28,7 +28,7 @@
 #include &lt;QLineEdit&gt;
 
 #include &quot;ADM_default.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_assert.h&quot;
 
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -29,7 +29,7 @@
 #include &lt;QLabel&gt;
 
 #include &quot;ADM_default.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_assert.h&quot;
 
 extern const char *shortkey(const char *);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_button.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_button.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_button.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -29,7 +29,7 @@
 #include &lt;QLabel&gt;
 
 #include &quot;ADM_default.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_assert.h&quot;
 
 extern const char *shortkey(const char *);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -29,7 +29,7 @@
 #include &lt;QTabWidget&gt;
 
 #include &quot;ADM_default.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_assert.h&quot;
 
 class factoryWindow : public QDialog
@@ -205,4 +205,12 @@
     tab-&gt;dias[i]-&gt;finalize(); 
   }
 }
+/**
+ * 
+ */
+void InitFactory(void)
+{
+	
+}
+
 //EOF

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -30,7 +30,7 @@
 
 #include &quot;ADM_default.h&quot;
 #include &quot;prefs.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_assert.h&quot;
 #include &quot;ADM_toolkit/filesel.h&quot;
 extern const char *shortkey(const char *);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_menu.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_menu.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_menu.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -27,7 +27,7 @@
 #include &lt;QGridLayout&gt;
 
 #include &quot;ADM_default.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_assert.h&quot;
 
 #include &lt;QCheckBox&gt;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_slider.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_slider.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_slider.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -28,7 +28,7 @@
 #include &lt;QSlider&gt;
 
 #include &quot;ADM_default.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_assert.h&quot;
 
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_threadCount.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_threadCount.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_threadCount.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -22,7 +22,7 @@
 #include &lt;QSpinBox&gt;
 
 #include &quot;ADM_default.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 extern const char* shortkey(const char*);
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_toggle.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_toggle.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_toggle.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -28,7 +28,7 @@
 #include &lt;QSpinBox&gt;
 
 #include &quot;ADM_default.h&quot;
-#include &quot;../ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_assert.h&quot;
 
 extern const char *shortkey(const char *);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -51,7 +51,7 @@
 #include &quot;ADM_filter/video_filters.h&quot;
 #include &quot;ADM_video/ADM_vidPartial.h&quot;
 #include &quot;ADM_filter/vidVCD.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 /*******************************************************/
 #define NB_TREE 8
 #define myFg 0xFF

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -17,12 +17,18 @@
 #include &quot;ADM_default.h&quot;
 
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
+#include &quot;DIA_coreUI_internal.h&quot;
+
 #include &quot;prefs.h&quot;
 
-    
+namespace ADM_QT4_fileSel
+{
 static void GUI_FileSelSelect(const char *label, char **name, uint32_t access) ;
-
+static void GUI_FileSelRead(const char *label,SELFILE_CB cb) ;
+static void GUI_FileSelWrite(const char *label,SELFILE_CB cb);
+static void GUI_FileSelRead(const char *label, char * * name);
+static void GUI_FileSelWrite(const char *label, char * * name);
 //****************************************************************************************************
 void GUI_FileSelRead(const char *label,SELFILE_CB cb) 
 {
@@ -199,8 +205,35 @@
 
   return 0;
 }
+/**
+ * 
+ */
+void init(void)
+{
+	// Nothing special to do for QT4 fileselector
+}
+} // End of nameSpace
+static DIA_FILESEL_DESC_T Qt4FileSelDesc=
+{
+	ADM_QT4_fileSel::init,	
+	ADM_QT4_fileSel::GUI_FileSelRead,
+	ADM_QT4_fileSel::GUI_FileSelWrite,
+	ADM_QT4_fileSel::GUI_FileSelRead,
+	ADM_QT4_fileSel::GUI_FileSelWrite,
+	ADM_QT4_fileSel::FileSel_SelectWrite,
+	ADM_QT4_fileSel::FileSel_SelectRead,
+	ADM_QT4_fileSel::FileSel_SelectDir
+};
 
 
 
+// Hook our functions
+void initFileSelector(void)
+{
+	DIA_fileSelInit(&amp;Qt4FileSelDesc);
+}
+
+
+
 //****************************************************************************************************
 //EOF

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -16,7 +16,7 @@
 #include &quot;ADM_default.h&quot;
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_audiofilter/audiofilter_normalize_param.h&quot;
 #include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
 /**

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioconfig.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioconfig.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioconfig.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -28,7 +28,6 @@
       @return 1 on success, 0 on failure
 
 */
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
 int DIA_defaultSettings(ADM_audioEncoderDescriptor *descriptor)
   {
     int ret=0;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -1,6 +1,6 @@
 #include &quot;config.h&quot;
 #include &quot;ADM_default.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 uint8_t DIA_gotoTime(uint16_t *hh, uint16_t *mm, uint16_t *ss)
 {

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -14,7 +14,7 @@
 
 #include &quot;config.h&quot;
 #include &quot;ADM_default.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 /**
       \fn DIA_lavDecoder

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -16,7 +16,7 @@
 #include &quot;ADM_default.h&quot;
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_lavcodec.h&quot;
 #include &quot;ADM_codecs/ADM_ffmpegConfig.h&quot;
 #include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -32,7 +32,7 @@
 #include &quot;ADM_default.h&quot;
 
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 #include &quot;ADM_video/ADM_genvideo.hxx&quot;
 #include &quot;ADM_filter/video_filters.h&quot;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -16,7 +16,7 @@
 #include &quot;ADM_default.h&quot;
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 int DIA_getMPParams( uint32_t *pplevel, uint32_t *ppstrength,uint32_t *swap)
 {

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -21,7 +21,7 @@
 
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;
 //#include &quot;ADM_video/ADM_vidFont.h&quot;
 class ADMfont;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -19,7 +19,7 @@
 
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_videoFilter/ADM_vidTDeint_param.h&quot;
 /**
       \fn DIA_tdeint

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tsSub.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tsSub.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tsSub.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -26,7 +26,7 @@
 #include &quot;ADM_lavcodec.h&quot;
 #include &quot;ADM_default.h&quot;
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;DIA_factory.h&quot;
 #include &quot;ADM_inputs/ADM_mpegdemuxer/dmx_mpegstartcode.h&quot;
 #include &quot;ADM_inputs/ADM_mpegdemuxer/dmx_demuxerTS.h&quot;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -19,7 +19,7 @@
 #include &quot;ADM_default.h&quot;
 
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;DIA_factory.h&quot;
 
 /**

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_video/ADM_vidFieldUnblend.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_video/ADM_vidFieldUnblend.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_video/ADM_vidFieldUnblend.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -36,7 +36,7 @@
 #include &quot;ADM_osSupport/ADM_debug.h&quot;
 #include &quot;ADM_video/ADM_cache.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_enter.h&quot;
+#include &quot;DIA_enter.h&quot;
 
 #define MUL 1
 // Set it to 2 for post separate field

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -34,7 +34,7 @@
 #include &quot;ADM_video/ADM_genvideo.hxx&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 
 #include &quot;ADM_colorspace/colorspace.h&quot;
 
@@ -46,7 +46,7 @@
 
 #include &quot;ADM_lavpp_deintparam.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 /*
 {&quot;al&quot;, &quot;autolevels&quot;,            0, 1, 2, LEVEL_FIX},
 {&quot;lb&quot;, &quot;linblenddeint&quot;,         1, 1, 4, LINEAR_BLEND_DEINT_FILTER},

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidASS.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidASS.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidASS.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -19,7 +19,7 @@
 #include &quot;ADM_vidASS.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 #include &quot;ADM_colorspace/ADM_rgb.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 #ifdef USE_FREETYPE
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -24,7 +24,7 @@
 #include &quot;ADM_video/ADM_vidCommonFilter.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 static FILTER_PARAM cropParam={4,{&quot;left&quot;,&quot;right&quot;,&quot;top&quot;,&quot;bottom&quot;}};
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidBSmear.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidBSmear.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidBSmear.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -30,7 +30,7 @@
 #include &quot;ADM_video/ADM_vidCommonFilter.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 static FILTER_PARAM cropParam={4,{&quot;left&quot;,&quot;right&quot;,&quot;top&quot;,&quot;bottom&quot;}};
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -36,9 +36,9 @@
 #include &quot;ADM_osSupport/ADM_debug.h&quot;
 #include &quot;ADM_video/ADM_cache.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_enter.h&quot;
+#include &quot;DIA_enter.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_vidBlendRemoval_param.h&quot;
 #define MUL 1
 // Set it to 2 for post separate field

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -26,7 +26,7 @@
 
 #include &quot;ADM_filter/video_filters.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 #include &quot;ADM_vidComputeAverage.h&quot;
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDGbob.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDGbob.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDGbob.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -35,7 +35,7 @@
 
 #include &quot;ADM_vidDGbob_param.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 class DGbob : public AVDMGenericVideoStream
 {

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDecDec.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDecDec.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDecDec.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -52,7 +52,7 @@
 #define MODULE_NAME MODULE_FILTER
 #include &quot;ADM_osSupport/ADM_debug.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 
 #define PROGRESSIVE  0x00000001

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -42,7 +42,7 @@
 
 #include &quot;ADM_vidDecTelecide.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 static FILTER_PARAM decomb_template={16,{&quot;order&quot;,&quot;back&quot;,&quot;guide&quot;,
 	 	 	&quot;gthresh&quot;,&quot;post&quot;,&quot;chroma&quot;,&quot;vthresh&quot;,

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDeinterlace.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDeinterlace.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDeinterlace.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -28,7 +28,7 @@
 #include&quot;ADM_vidDeinterlace.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 static FILTER_PARAM deintParam={2,{&quot;motion_trigger&quot;,&quot;blend_trigger&quot;}};
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDenoise.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDenoise.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDenoise.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -30,7 +30,7 @@
 #include &quot;ADM_filter/video_filters.h&quot;
 
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 static FILTER_PARAM denoiseParam={5,{&quot;lumaLock&quot;,&quot;lumaThreshold&quot;,&quot;chromaLock&quot;,&quot;chromaThreshold&quot;,
 					&quot;sceneChange&quot;}};

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDropOut.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDropOut.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidDropOut.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -21,7 +21,7 @@
 #include &quot;ADM_video/ADM_genvideo.hxx&quot;
 #include &quot;ADM_vidDropOut.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 static FILTER_PARAM dropParam={1,{&quot;threshold&quot;}};
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidEq2.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidEq2.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidEq2.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -32,7 +32,7 @@
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 #include &quot;ADM_video/ADM_genvideo.hxx&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_enter.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_video/ADM_cache.h&quot;
 
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidEraser.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidEraser.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidEraser.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -40,7 +40,7 @@
 
 #include &quot;ADM_filter/video_filters.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 #include &quot;ADM_vidEraser.h&quot;
 #include &quot;ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.h&quot; // for MenuMapping

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidFade.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidFade.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidFade.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -23,7 +23,7 @@
 #include &quot;ADM_filter/video_filters.h&quot;
 #include &quot;ADM_vidFade_param.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 class AVDM_Fade : public AVDMGenericVideoStream
 {

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidFastConvolution.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidFastConvolution.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidFastConvolution.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -27,7 +27,7 @@
 #include &quot;ADM_video/ADM_genvideo.hxx&quot;
 
 #include&quot;ADM_filter/video_filters.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_vidConvolution.hxx&quot;
 #include &quot;ADM_assert.h&quot;
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidFlux.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidFlux.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidFlux.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -36,7 +36,7 @@
 #include &quot;ADM_video/ADM_genvideo.hxx&quot;
 
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_vidFlux.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -23,10 +23,10 @@
 #include &quot;ADM_osSupport/ADM_debug.h&quot;
 
 #include &quot;ADM_vidForcedPP.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_enter.h&quot;
+#include &quot;DIA_enter.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 static FILTER_PARAM ppParam={3,{&quot;postProcType&quot;,&quot;postProcStrength&quot;,&quot;forcedQuant&quot;}};
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -36,9 +36,9 @@
 #include &quot;ADM_osSupport/ADM_debug.h&quot;
 #include &quot;ADM_video/ADM_cache.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_enter.h&quot;
+#include &quot;DIA_enter.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 #define MUL 1
 // Set it to 2 for post separate field

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidHue.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidHue.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidHue.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -18,7 +18,7 @@
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 #include &quot;ADM_video/ADM_genvideo.hxx&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_enter.h&quot;
+#include &quot;DIA_enter.h&quot;
 #include &quot;ADM_video/ADM_cache.h&quot;
 
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -47,7 +47,7 @@
 #include &quot;ADM_filter/video_filters.h&quot;
 #include &quot;ADM_vidKernelDeint.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 static FILTER_PARAM kdintParam={5,{&quot;order&quot;,&quot;threshold&quot;,&quot;sharp&quot;,&quot;twoway&quot;,&quot;map&quot;}};
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidLargeMedian.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidLargeMedian.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidLargeMedian.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -28,7 +28,7 @@
 
 #include&quot;ADM_vidLargeMedian.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 static FILTER_PARAM nullParam={2,{&quot;chroma&quot;,&quot;luma&quot;}};
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidLogo.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidLogo.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidLogo.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -34,7 +34,7 @@
 #include &quot;ADM_video/ADM_vidCommonFilter.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 #include &quot;ADM_colorspace/ADM_rgb.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 static FILTER_PARAM logoParam={4,
         { /* float */ &quot;image&quot;,

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -31,7 +31,7 @@
 #include &quot;ADM_osSupport/ADM_debug.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 static FILTER_PARAM mp3Param={3,{&quot;param1&quot;,&quot;param2&quot;,&quot;param3&quot;}};
 
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -31,7 +31,7 @@
 #include &quot;ADM_osSupport/ADM_debug.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 static FILTER_PARAM mp3Param={3,{&quot;param1&quot;,&quot;param2&quot;,&quot;param3&quot;}};
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -46,7 +46,7 @@
 
 #include &quot;ADM_filter/video_filters.h&quot;
 #include &quot;ADM_vidMSharpen_param.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 class Msharpen : public AVDMGenericVideoStream
 {

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -35,7 +35,7 @@
 
 #include &quot;ADM_vidMcDeint_param.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 static FILTER_PARAM mcDeintParam={3,{&quot;mode&quot;,&quot;qp&quot;,&quot;initial_parity&quot;}};
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMosaic.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMosaic.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMosaic.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -21,7 +21,7 @@
 #include &quot;ADM_video/ADM_genvideo.hxx&quot;
 #include &quot;ADM_video/ADM_vidCommonFilter.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 
 extern &quot;C&quot; {

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -40,7 +40,7 @@
 #include &quot;ADM_osSupport/ADM_debug.h&quot;
 
 #include &quot;ADM_filter/video_filters.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 #if 0
 #undef aprintf

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidPalShift.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidPalShift.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidPalShift.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -23,7 +23,7 @@
 #include &quot;ADM_vidPalShift.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 static FILTER_PARAM nullParam={0,{&quot;&quot;}};
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidParticle.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidParticle.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidParticle.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -36,7 +36,7 @@
 
 #include &quot;ADM_filter/video_filters.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 #include &quot;ADM_vidParticle.h&quot;
 #include &quot;ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.h&quot; // for MenuMapping

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -23,9 +23,9 @@
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 #include &quot;ADM_video/ADM_genvideo.hxx&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_enter.h&quot;
+#include &quot;DIA_enter.h&quot;
 #include &quot;ADM_video/ADM_cache.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 static FILTER_PARAM ResampParam={2,{&quot;newfps&quot;,&quot;use_linear&quot;}};
 typedef struct FPS_Param

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidRotate.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidRotate.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidRotate.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -29,7 +29,7 @@
 #include &quot;ADM_filter/video_filters.h&quot;
 #include &quot;ADM_assert.h&quot;
         
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 typedef struct ROTATE_PARAM
 {

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidSoften.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidSoften.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidSoften.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -27,10 +27,10 @@
 #include &quot;ADM_osSupport/ADM_debug.h&quot;
 
 #include &quot;ADM_vidSoften.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_enter.h&quot;
+#include &quot;DIA_enter.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 static FILTER_PARAM softParam={3,{&quot;radius&quot;,&quot;luma&quot;,&quot;chroma&quot;}};
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidStabilize.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidStabilize.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidStabilize.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -25,7 +25,7 @@
 #include &quot;ADM_vidStabilize.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 static FILTER_PARAM stabParam={1,{&quot;param&quot;}};
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -39,7 +39,7 @@
 
 #include &quot;ADM_filter/video_filters.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 #include &quot;ADM_vidSwissArmyKnife.h&quot;
 #include &quot;ADM_vidParticle.h&quot; // for ImageTool

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidTdeint.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidTdeint.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidTdeint.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -51,7 +51,7 @@
 #include &quot;ADM_osSupport/ADM_debug.h&quot;
 #include &quot;ADM_video/ADM_cache.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_enter.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 
 #define min MIN

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidThreshold.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidThreshold.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidThreshold.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -22,7 +22,7 @@
 
 #include &quot;ADM_filter/video_filters.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 #include &quot;ADM_vidThreshold.h&quot;
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidVlad.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidVlad.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidVlad.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -28,7 +28,7 @@
 #include &quot;ADM_vidVlad.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 
 #ifdef ADM_CPU_X86_64
 #define COUNTER long int

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidVobSubRender.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidVobSubRender.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidVobSubRender.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -60,7 +60,7 @@
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 #include &quot;ADM_video/ADM_genvideo.hxx&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;ADM_colorspace/colorspace.h&quot;
 #include &quot;ADM_vobsubinfo.h&quot;
 #include &quot;ADM_vidVobSub.h&quot;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidVobsub.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidVobsub.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidVobsub.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -40,7 +40,7 @@
 #include &quot;ADM_filter/video_filters.h&quot;
 
 
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 
 #include &quot;ADM_colorspace/colorspace.h&quot;
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidYadif.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidYadif.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_videoFilter/ADM_vidYadif.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -33,7 +33,7 @@
 #include &quot;ADM_video/ADM_cache.h&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;DIA_factory.h&quot;
 //************************************************
 #define MIN(a,b) ((a) &gt; (b) ? (b) : (a))
 #define MAX(a,b) ((a) &lt; (b) ? (b) : (a))

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/CMakeLists.txt	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/CMakeLists.txt	2008-03-26 19:26:31 UTC (rev 3934)
@@ -54,6 +54,7 @@
 INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}&quot;)
 INCLUDE_DIRECTORIES(&quot;${CMAKE_BINARY_DIR}/config&quot;)
 INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/ADM_core/include&quot;)
+INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/ADM_coreUI/include&quot;)
 INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/ADM_libraries/ADM_utilities&quot;)
 INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/ADM_libraries/ADM_ffmpeg/ADM_lavutil&quot;)
 INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/ADM_libraries/ADM_ffmpeg/ADM_lavcodec&quot;)
@@ -299,10 +300,12 @@
 ADD_ADMLIB_ALL_TARGETS(ADM_utilities)
 
 ###########################################
-# ADM_core
+# ADM_core/ADM_coreUI
 ###########################################
 ADD_SUBDIRECTORY(ADM_core)
 ADD_LIB_ALL_TARGETS(ADM_core)
+ADD_SUBDIRECTORY(ADM_coreUI)
+ADD_LIB_ALL_TARGETS(ADM_coreUI)
 
 ###########################################
 # External libs

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/GUI_jobs.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/GUI_jobs.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/GUI_jobs.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -20,7 +20,7 @@
 
 #include &quot;ADM_default.h&quot;
 #include &quot;ADM_assert.h&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
 
 #define MAX_JOBS 120

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/gtk_gui.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/gtk_gui.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/gtk_gui.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -29,7 +29,7 @@
 #include &quot;fourcc.h&quot;
 #include &quot;avi_vars.h&quot;
 #include &quot;ADM_assert.h&quot;
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;prototype.h&quot;
 #include &quot;ADM_toolkit/toolkit.hxx&quot;
 #include &quot;ADM_toolkit/bitmap.h&quot;
@@ -52,8 +52,8 @@
 
 #include &quot;ADM_userInterfaces/ADM_commonUI/DIA_busy.h&quot;
 #include &quot;ADM_userInterfaces/ADM_commonUI/DIA_working.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
-#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_enter.h&quot;
+#include &quot;DIA_factory.h&quot;
+#include &quot;DIA_enter.h&quot;
 
 #include &quot;ADM_video/ADM_genvideo.hxx&quot;
 #include &quot;ADM_filter/video_filters.h&quot;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/gui_navigate.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/gui_navigate.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/gui_navigate.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -23,7 +23,7 @@
 
 #include &lt;math.h&gt;
 
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;ADM_assert.h&quot;
 #include &quot;prototype.h&quot;
 #include &quot;ADM_audiodevice/audio_out.h&quot;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/gui_savenew.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/gui_savenew.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/gui_savenew.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -40,7 +40,7 @@
 #include &quot;ADM_outputs/oplug_avi/op_savesmart.hxx&quot;
 #include &quot;ADM_filter/video_filters.h&quot;
 
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;ADM_userInterfaces/ADM_commonUI/GUI_ui.h&quot;
 #include &quot;ADM_outputs/oplug_mpegFF/oplug_vcdff.h&quot;
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/guiplay.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/guiplay.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/guiplay.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -31,7 +31,7 @@
 #include &quot;avi_vars.h&quot;
 #include &quot;ADM_assert.h&quot; 
 
-#include &quot;ADM_toolkit/filesel.h&quot;
+#include &quot;DIA_fileSel.h&quot;
 #include &quot;prototype.h&quot;
 #include &quot;ADM_audiodevice/audio_out.h&quot;
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/main.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/main.cpp	2008-03-26 19:26:26 UTC (rev 3933)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/main.cpp	2008-03-26 19:26:31 UTC (rev 3934)
@@ -74,7 +74,7 @@
 extern void ADM_memStatEnd( void );
 extern void getUIDescription(char*);
 extern uint8_t ADM_ad_loadPlugins(const char *path);
-
+extern void InitFactory(void);
 #ifdef __MINGW32__
 extern EXCEPTION_DISPOSITION exceptionHandler(struct _EXCEPTION_RECORD* pExceptionRec, void* pEstablisherFrame, struct _CONTEXT* pContextRecord, void* pDispatcherContext);
 #else
@@ -203,7 +203,7 @@
 #ifdef USE_XVID_4
     xvid4_init();
 #endif
-
+    InitFactory();
     initFileSelector();
     ADM_InitMemcpy();
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001195.html">[Avidemux-svn-commit] r3933 -	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg
</A></li>
	<LI>Next message: <A HREF="001197.html">[Avidemux-svn-commit] r3935 -	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1196">[ date ]</a>
              <a href="thread.html#1196">[ thread ]</a>
              <a href="subject.html#1196">[ subject ]</a>
              <a href="author.html#1196">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
