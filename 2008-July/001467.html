<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r4219 - in branches/avidemux_2.4_branch:	avidemux platforms/windows platforms/windows/build_scripts	platforms/windows/build_scripts/avidemux_2.4	platforms/windows/build_scripts/avidemux_2.4/Tools	platforms/windows/installer
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4219%20-%20in%20branches/avidemux_2.4_branch%3A%0A%09avidemux%20platforms/windows%20platforms/windows/build_scripts%0A%09platforms/windows/build_scripts/avidemux_2.4%0A%09platforms/windows/build_scripts/avidemux_2.4/Tools%0A%09platforms/windows/installer&In-Reply-To=%3C200807160120.m6G1K5X7018399%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001466.html">
   <LINK REL="Next"  HREF="001468.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r4219 - in branches/avidemux_2.4_branch:	avidemux platforms/windows platforms/windows/build_scripts	platforms/windows/build_scripts/avidemux_2.4	platforms/windows/build_scripts/avidemux_2.4/Tools	platforms/windows/installer</H1>
    <B>gruntster at mail.berlios.de</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4219%20-%20in%20branches/avidemux_2.4_branch%3A%0A%09avidemux%20platforms/windows%20platforms/windows/build_scripts%0A%09platforms/windows/build_scripts/avidemux_2.4%0A%09platforms/windows/build_scripts/avidemux_2.4/Tools%0A%09platforms/windows/installer&In-Reply-To=%3C200807160120.m6G1K5X7018399%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r4219 - in branches/avidemux_2.4_branch:	avidemux platforms/windows platforms/windows/build_scripts	platforms/windows/build_scripts/avidemux_2.4	platforms/windows/build_scripts/avidemux_2.4/Tools	platforms/windows/installer">gruntster at mail.berlios.de
       </A><BR>
    <I>Wed Jul 16 03:20:05 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001466.html">[Avidemux-svn-commit] r4218 - in	branches/avidemux_2.4_branch/avidemux: ADM_inputs/ADM_mp4	ADM_libraries/ADM_lavformat
</A></li>
        <LI>Next message: <A HREF="001468.html">[Avidemux-svn-commit] r4220 -	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1467">[ date ]</a>
              <a href="thread.html#1467">[ thread ]</a>
              <a href="subject.html#1467">[ subject ]</a>
              <a href="author.html#1467">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: gruntster
Date: 2008-07-16 03:19:49 +0200 (Wed, 16 Jul 2008)
New Revision: 4219

Added:
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/Set Common Environment Variables.bat
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/1. Perform Build.bat
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/1b. Continue Build.bat
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/2. Create Packages.bat
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/2a. Update Notes.bat
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/2b. Package Build.bat
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Package Notes.xml
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Set Avidemux 2.4 Environment Variables.bat
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/Get Revision Number.bat
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/Revision No template.bat
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/gennotes.sh
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/gentouch.sh
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/package_notes.xslt
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/touch_files.xslt
   branches/avidemux_2.4_branch/platforms/windows/installer/
Removed:
   branches/avidemux_2.4_branch/avidemux/winInstaller/
Modified:
   branches/avidemux_2.4_branch/platforms/windows/installer/avidemux.nsi
   branches/avidemux_2.4_branch/platforms/windows/installer/genlog.sh
Log:
[Win32] build scripts

Added: branches/avidemux_2.4_branch/platforms/windows/build_scripts/Set Common Environment Variables.bat
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/build_scripts/Set Common Environment Variables.bat	2008-07-15 18:21:57 UTC (rev 4218)
+++ branches/avidemux_2.4_branch/platforms/windows/build_scripts/Set Common Environment Variables.bat	2008-07-16 01:19:49 UTC (rev 4219)
@@ -0,0 +1,78 @@
<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">+ at echo</A> off
+
+set ProgramFiles32=%ProgramFiles%
+if &quot;%PROCESSOR_ARCHITECTURE%&quot; == &quot;AMD64&quot; for /D %%d in (&quot;%ProgramFiles(x86)%&quot;) do set ProgramFiles32=%%~fsd
+set nsisDir=%ProgramFiles32%\NSIS
+
+set devDir=C:\Dev
+set mingwDir=%devDir%\MinGW
+set msysDir=C:/Dev/MSYS
+set usrLocalDir=%msysDir%/local
+set CMAKE_INCLUDE_PATH=%usrLocalDir%/include
+set CMAKE_LIBRARY_PATH=%usrLocalDir%/lib
+set PKG_CONFIG_PATH=%usrLocalDir%\lib\pkgconfig
+set SDLDIR=%usrLocalDir%
+set CFLAGS=-I%CMAKE_INCLUDE_PATH% -L%CMAKE_LIBRARY_PATH%
+set CXXFLAGS=-I%CMAKE_INCLUDE_PATH% -L%CMAKE_LIBRARY_PATH%
+set qtDir=%devDir%\Qt
+
+if exist &quot;%qtDir%&quot; (
+	for /f %%d in ('dir /b /ad /on %qtDir%') do set qtVer=%%d
+) else (
+	echo Qt 4 could not be found at &quot;%qtDir%&quot;.  Please download from <A HREF="http://www.trolltech.com">http://www.trolltech.com</A>
+	goto error
+)
+
+set qtDir=%qtDir%\%qtVer%
+
+if exist &quot;%devDir%\CMake 2.4\bin&quot; (
+	set cmakeDir=%devDir%\CMake 2.4\bin
+	goto foundCMake
+)
+
+if exist &quot;%ProgramFiles32%\CMake 2.4\bin&quot; (
+	set cmakeDir=%ProgramFiles32%\CMake 2.4\bin
+	goto foundCMake
+)
+
+if exist &quot;%devDir%\CMake 2.6\bin&quot; (
+	set cmakeDir=%devDir%\CMake 2.6\bin
+	goto foundCMake
+)
+
+if exist &quot;%ProgramFiles32%\CMake 2.6\bin&quot; (
+	set cmakeDir=%ProgramFiles32%\CMake 2.6\bin
+) else (
+	echo CMake could not be found.  Please download from <A HREF="http://www.cmake.org">http://www.cmake.org</A>
+	goto error
+)
+
+:foundCMake
+if not exist &quot;%mingwDir%&quot; (
+	echo MinGW could not be found at &quot;%mingwDir%&quot;.  Please download from <A HREF="http://www.mingw.org">http://www.mingw.org</A>
+	goto error
+)
+
+if not exist &quot;%CMAKE_INCLUDE_PATH%&quot; (
+	echo Include path could not be found at &quot;%CMAKE_INCLUDE_PATH%&quot;.
+	goto error
+)
+
+if not exist &quot;%CMAKE_LIBRARY_PATH%&quot; (
+	echo Library path could not be found at &quot;%CMAKE_LIBRARY_PATH%&quot;.
+	goto error
+)
+
+if not exist &quot;%nsisDir%&quot; (
+	echo NSIS could not be found at &quot;%nsisDir%&quot;.  Please download from <A HREF="http://nsis.sourceforge.net">http://nsis.sourceforge.net</A>
+	goto error
+)
+
+set PATH=%cmakeDir%;%mingwDir%\bin;%usrLocalDir%\bin;%msysDir%\bin;%qtDir%\bin;%PATH%
+
+goto end
+
+:error
+set ERRORLEVEL=1
+
+:end
\ No newline at end of file

Added: branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/1. Perform Build.bat
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/1. Perform Build.bat	2008-07-15 18:21:57 UTC (rev 4218)
+++ branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/1. Perform Build.bat	2008-07-16 01:19:49 UTC (rev 4219)
@@ -0,0 +1,35 @@
<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">+ at echo</A> off
+
+set curDir=%CD%
+call &quot;Set Avidemux 2.4 Environment Variables&quot;
+
+if errorlevel 1 goto error
+
+cd &quot;%sourceDir%&quot;
+echo Cleaning build directories
+rmdir /s /q build 2&gt; NULL
+rmdir /s /q buildcli 2&gt; NULL
+
+if exist build goto removalFailure
+if exist buildcli goto removalFailure
+
+mkdir buildcli
+mkdir build
+
+echo Performing Subversion update
+svn up .
+
+cd %curDir%
+call &quot;1b. Continue Build&quot;
+
+goto end
+
+:removalFailure
+echo ERROR - build or buildcli could not be fully deleted.
+echo Aborting.
+pause
+
+:error
+set ERRORLEVEL=1
+
+:end

Added: branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/1b. Continue Build.bat
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/1b. Continue Build.bat	2008-07-15 18:21:57 UTC (rev 4218)
+++ branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/1b. Continue Build.bat	2008-07-16 01:19:49 UTC (rev 4219)
@@ -0,0 +1,34 @@
<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">+ at echo</A> off
+
+call &quot;Set Avidemux 2.4 Environment Variables&quot;
+
+cd &quot;%sourceDir%\build&quot;
+
+cmake -DUSE_LATE_BINDING=1 -G&quot;MinGW Makefiles&quot; ..
+
+if errorlevel 1 goto error
+
+pause
+mingw32-make avidemux2_gtk
+mingw32-make avidemux2_qt4
+mingw32-make mofiles
+mingw32-make qmfiles
+
+copy /y .\avidemux\avidemux2_gtk.exe &quot;%buildDir%&quot;
+copy /y .\avidemux\avidemux2_qt4.exe &quot;%buildDir%&quot;
+
+cd ..\buildcli
+
+cmake -DUSE_LATE_BINDING=1 -G&quot;MinGW Makefiles&quot; -DNO_SDL=1 ..
+mingw32-make avidemux2_cli
+
+copy /y .\avidemux\avidemux2_cli.exe &quot;%buildDir%&quot;
+
+echo Finished!
+goto end
+
+:error
+set ERRORLEVEL=1
+
+:end
+pause
\ No newline at end of file

Added: branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/2. Create Packages.bat
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/2. Create Packages.bat	2008-07-15 18:21:57 UTC (rev 4218)
+++ branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/2. Create Packages.bat	2008-07-16 01:19:49 UTC (rev 4219)
@@ -0,0 +1,12 @@
<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">+ at call</A> &quot;2a. Update Notes.bat&quot;
+
+if errorlevel 1 goto error
+
<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">+ at call</A> &quot;2b. Package Build.bat&quot;
+
+goto end
+
+:error
+set ERRORLEVEL 1
+
+:end
\ No newline at end of file

Added: branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/2a. Update Notes.bat
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/2a. Update Notes.bat	2008-07-15 18:21:57 UTC (rev 4218)
+++ branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/2a. Update Notes.bat	2008-07-16 01:19:49 UTC (rev 4219)
@@ -0,0 +1,29 @@
<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">+ at echo</A> off
+
+call &quot;Set Avidemux 2.4 Environment Variables&quot;
+if errorlevel 1 goto error
+
+set curDir=%CD%
+
+echo -- Generating Change Log.html --
+cd &quot;..\..\installer&quot;
+sh genlog.sh
+
+echo -- Generating Package Notes.html --
+cd &quot;%curDir%\Tools&quot;
+sh gennotes.sh
+
+echo -- Generating Touch Files.html --
+sh gentouch.sh
+
+echo -- Generating avidemux.pot --
+cd &quot;%sourceDir%\po&quot;
+sh update_pot.bash
+
+goto end
+
+:error
+set ERRORLEVEL=1
+
+:end
+pause
\ No newline at end of file

Added: branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/2b. Package Build.bat
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/2b. Package Build.bat	2008-07-15 18:21:57 UTC (rev 4218)
+++ branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/2b. Package Build.bat	2008-07-16 01:19:49 UTC (rev 4219)
@@ -0,0 +1,32 @@
<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">+ at echo</A> off
+
+call &quot;Set Avidemux 2.4 Environment Variables&quot;
+
+cd Tools
+call &quot;Get Revision Number&quot;
+cd ..
+
+set curDir=%CD%
+set zipFile=avidemux_2.4_r%revisionNo%_win32.zip
+set exeFile=avidemux_2.4_r%revisionNo%_win32.exe
+set packageDir=%CD%\%revisionNo%
+
+echo %packageDir%
+mkdir %packageDir%
+
+copy &quot;%buildDir%\Change Log.html&quot; &quot;%packageDir%&quot;
+move &quot;Tools\Package Notes.html&quot; &quot;%packageDir%&quot;
+copy &quot;%sourceDir%\po\avidemux.pot&quot; &quot;%packageDir%&quot;
+
+cd %buildDir%
+zip -r &quot;%packageDir%\%zipFile%&quot; *
+cd %curDir%
+advzip -z -4 &quot;%packageDir%\%zipFile%&quot;
+
+echo -- Generating %exeFile% --
+echo !define BUILDDIR %buildDir% &gt; &quot;..\..\installer\builddir.nsh&quot;
+&quot;%nsisDir%\makensis&quot; /V2 &quot;..\..\installer\avidemux.nsi&quot;
+
+move &quot;..\..\installer\%exeFile%&quot; &quot;%packageDir%&quot;
+
+pause
\ No newline at end of file

Added: branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Package Notes.xml
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Package Notes.xml	2008-07-15 18:21:57 UTC (rev 4218)
+++ branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Package Notes.xml	2008-07-16 01:19:49 UTC (rev 4219)
@@ -0,0 +1,328 @@
+&lt;?xml version=&quot;1.0&quot;?&gt;
+&lt;log&gt;
+  &lt;buildentry revision=&quot;4211&quot; date=&quot;2008-07-13&quot;&gt;
+    &lt;comment&gt;Updated GLib to version 2.16.4.&lt;/comment&gt;
+    &lt;comment&gt;Updated GTK+ to version 2.12.11.&lt;/comment&gt;
+    &lt;comment&gt;Updated Pango to version 1.20.5.&lt;/comment&gt;
+    &lt;comment&gt;Updated x264 to r912 (patched).&lt;/comment&gt;
+  &lt;/buildentry&gt;  
+  &lt;buildentry revision=&quot;4195 [2.4.2 Final]&quot; date=&quot;2008-07-06&quot;&gt;
+    &lt;comment&gt;Updated LAME to version 3.98.&lt;/comment&gt;
+    &lt;comment&gt;Updated x264 to r899 (patched).&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;4182&quot; date=&quot;2008-06-30&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;4170&quot; date=&quot;2008-06-27&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;4160&quot; date=&quot;2008-06-25&quot;&gt;
+    &lt;comment&gt;Updated x264 to r891 (patched).&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;4145&quot; date=&quot;2008-06-22&quot;&gt;
+    &lt;comment&gt;Updated x264 to r889 (patched).&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;4123&quot; date=&quot;2008-06-18&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;4114&quot; date=&quot;2008-06-17&quot;&gt;
+    &lt;comment&gt;Updated Freetype to version 2.3.6.&lt;/comment&gt;
+    &lt;comment&gt;Updated x264 to r886 (patched).&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;4090&quot; date=&quot;2008-06-12&quot;&gt;
+    &lt;comment&gt;Updated GTK+ to version 2.12.10.&lt;/comment&gt;
+    &lt;comment&gt;Updated x264 to r881, patched and compiled with MinGW GCC 4.2.1-sjlj-2.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;4081&quot; date=&quot;2008-06-01&quot;&gt;
+    &lt;comment&gt;Updated Cairo to version 1.6.4-2.&lt;/comment&gt;
+    &lt;comment&gt;Updated libpng to version 1.2.29.&lt;/comment&gt;
+    &lt;comment&gt;Updated Pango to version 1.20.3.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;4028&quot; date=&quot;2008-05-14&quot;&gt;
+    &lt;comment&gt;Updated Libxml2 to version 2.6.32+.&lt;/comment&gt;
+    &lt;comment&gt;Updated Qt to version 4.4.0.&lt;/comment&gt;
+    &lt;comment&gt;Updated x264 to r845.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;4017&quot; date=&quot;2008-05-03&quot;&gt;
+    &lt;comment&gt;Updated x264 to r839.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3982&quot; date=&quot;2008-04-24&quot;&gt;
+    &lt;comment&gt;Updated Cairo to version 1.6.4-1.&lt;/comment&gt;
+    &lt;comment&gt;Updated GLib to version 2.16.3.&lt;/comment&gt;
+    &lt;comment&gt;Updated Pango to version 1.20.2.&lt;/comment&gt;
+    &lt;comment&gt;Updated x264 to r828.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3974&quot; date=&quot;2008-04-10&quot;&gt;
+    &lt;comment&gt;Updated GLib to version 2.16.2.&lt;/comment&gt;
+    &lt;comment&gt;Updated x264 to r816.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3947&quot; date=&quot;2008-04-01&quot;&gt;
+    &lt;comment&gt;Updated x264 to r808, compiled with Microsoft Visual C++ 6 SP5.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3945&quot; date=&quot;2008-03-30&quot;&gt;
+    &lt;comment&gt;Updated win_iconv to version 20080320.&lt;/comment&gt;
+    &lt;comment&gt;Updated x264 to r798, compiled with Microsoft Visual C++ 9.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3908&quot; date=&quot;2008-03-19&quot;&gt;
+    &lt;comment&gt;Updated GTK+ to version 2.12.9.&lt;/comment&gt;
+    &lt;comment&gt;Recompiled Aften 0.0.8 with Microsoft Visual C++ 9 (to enable SSE3).&lt;/comment&gt;
+    &lt;comment&gt;Recompiled Avidemux and LAME with MinGW's GCC 4.2.1-sjlj-2.&lt;/comment&gt;
+    &lt;comment&gt;Replaced libiconv with win_iconv (20080317).&lt;/comment&gt;
+    &lt;comment&gt;Reverted x264 back to SVN revision 741.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3872&quot; date=&quot;2008-03-13&quot;&gt;
+    &lt;comment&gt;Updated ATK to version 1.22.0.&lt;/comment&gt;
+    &lt;comment&gt;Updated Avisynth Proxy GUI to version 2.04.&lt;/comment&gt;
+    &lt;comment&gt;Updated Fontconfig to version 2.4.2 (20071015).&lt;/comment&gt;
+    &lt;comment&gt;Updated GLib to version 2.16.1.&lt;/comment&gt;
+    &lt;comment&gt;Updated Qt to version 4.3.4.&lt;/comment&gt;
+    &lt;comment&gt;Updated Pango to version 1.20.0.&lt;/comment&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 745.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3791 [2.4.1 Final]&quot; date=&quot;2008-02-15&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3789&quot; date=&quot;2008-02-08&quot;&gt;
+    &lt;comment&gt;Updated GLib to version 2.14.6-1.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3784&quot; date=&quot;2008-02-02&quot;&gt;
+    &lt;comment&gt;Compiled CLI without SDL so output is directed to the console instead of log files.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3779&quot; date=&quot;2008-01-29&quot;&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 736.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3775&quot; date=&quot;2008-01-28&quot;&gt;
+    &lt;comment&gt;Updated gettext to version 0.17-1.&lt;/comment&gt;
+    &lt;comment&gt;Updated Libxml2 to version 2.6.30+.&lt;/comment&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 735.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3764&quot; date=&quot;2008-01-22&quot;&gt;
+    &lt;comment&gt;Updated gettext to version 0.17.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3756&quot; date=&quot;2008-01-18&quot;&gt;
+    &lt;comment&gt;Updated Cairo to version 1.4.14.&lt;/comment&gt;
+    &lt;comment&gt;Updated GLib to version 2.14.5.&lt;/comment&gt;
+    &lt;comment&gt;Updated Pango to version 1.18.4.&lt;/comment&gt;
+    &lt;comment&gt;Updated SDL to version 1.2.13.&lt;/comment&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 721.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3731 [2.4.0 Final]&quot; date=&quot;2007-12-24&quot;&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 712.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3728&quot; date=&quot;2007-12-13&quot;&gt;
+    &lt;comment&gt;Updated Qt to version 4.3.3.&lt;/comment&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 711.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3718&quot; date=&quot;2007-12-03&quot;&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 708.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3707&quot; date=&quot;2007-11-29&quot;&gt;
+    &lt;comment&gt;Updated GLib to version 2.14.4.&lt;/comment&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 702.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3699&quot; date=&quot;2007-11-22&quot;&gt;
+    &lt;comment&gt;Updated GLib to version 2.14.3.&lt;/comment&gt;
+    &lt;comment&gt;Updated FAAD2 to version 2.6.1.&lt;/comment&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 700.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3688 [2.4.0 Preview 3.1]&quot; date=&quot;2007-11-12&quot;&gt;
+    &lt;comment&gt;FAAC support was missing from the earlier preview 3 build.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3688 [2.4.0 Preview 3]&quot; date=&quot;2007-11-11&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3676&quot; date=&quot;2007-10-31&quot;&gt;
+    &lt;comment&gt;Updated FAAC to version 1.26.&lt;/comment&gt;
+    &lt;comment&gt;Updated FAAD2 to version 2.6.&lt;/comment&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 681.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3665&quot; date=&quot;2007-10-23&quot;&gt;
+    &lt;comment&gt;Updated GLib to version 2.14.2.&lt;/comment&gt;
+    &lt;comment&gt;Updated Pango to version 1.18.3.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3658&quot; date=&quot;2007-10-17&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3639&quot; date=&quot;2007-10-10&quot;&gt;
+    &lt;comment&gt;Reverted GTK+ back to version 2.10.14 (due to reports of instability).&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3625&quot; date=&quot;2007-10-07&quot;&gt;
+    &lt;comment&gt;Updated Qt to version 4.3.2.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3600&quot; date=&quot;2007-09-26&quot;&gt;
+    &lt;comment&gt;Updated Aften to version 0.0.8&lt;/comment&gt;
+    &lt;comment&gt;Updated ATK to version 1.20.0.&lt;/comment&gt;
+    &lt;comment&gt;Updated Cairo to version 1.4.10.&lt;/comment&gt;
+    &lt;comment&gt;Updated GLib to version 2.14.1.&lt;/comment&gt;
+    &lt;comment&gt;Updated GTK+ to version 2.12.0.&lt;/comment&gt;
+    &lt;comment&gt;Updated Libxml2 to 2.6.30.&lt;/comment&gt;
+    &lt;comment&gt;Updated Pango to version 1.18.2.&lt;/comment&gt;
+    &lt;comment&gt;Updated SDL to version 1.2.12.&lt;/comment&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 680.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3591&quot; date=&quot;2007-09-22&quot;&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 677.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3587&quot; date=&quot;2007-09-11&quot;&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 674.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3579&quot; date=&quot;2007-09-05&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3570&quot; date=&quot;2007-08-31&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3563&quot; date=&quot;2007-08-26&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3553&quot; date=&quot;2007-08-23&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3535&quot; date=&quot;2007-08-19&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3516&quot; date=&quot;2007-08-16&quot;&gt;
+    &lt;comment&gt;Updated Freetype to version 2.3.5.&lt;/comment&gt;
+    &lt;comment&gt;Updated GLib to version 2.14.0.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3500&quot; date=&quot;2007-08-13&quot;&gt;
+    &lt;comment&gt;Updated Qt to version 4.3.1.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3488&quot; date=&quot;2007-08-08&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3475&quot; date=&quot;2007-08-05&quot;&gt;
+    &lt;comment&gt;Updated GTK+ to version 2.10.14.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3465&quot; date=&quot;2007-08-01&quot;&gt;
+    &lt;comment&gt;Packaged using NSIS 2.29.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3451&quot; date=&quot;2007-07-28&quot;&gt;
+    &lt;comment&gt;Updated GLib to version 2.12.13.&lt;/comment&gt;
+    &lt;comment&gt;Updated Xvid to CVS HEAD 2007-07-26.&lt;/comment&gt;
+    &lt;comment&gt;Updated Vorbis to version 1.2.0.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3441&quot; date=&quot;2007-07-24&quot;&gt;
+    &lt;comment&gt;Updated GCC to version 4.2.1.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3412&quot; date=&quot;2007-07-18&quot;&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 667.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3374&quot; date=&quot;2007-07-16&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3364&quot; date=&quot;2007-07-14&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3353&quot; date=&quot;2007-07-10&quot;&gt;
+    &lt;comment&gt;Updated GCC to version 4.2.0 again.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3342&quot; date=&quot;2007-07-08&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3332&quot; date=&quot;2007-07-06&quot;&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 663.&lt;/comment&gt;
+    &lt;comment&gt;Updated Xvid to CVS HEAD 2007-06-28.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3322 [2.4.0 Preview 2]&quot; date=&quot;2007-06-30&quot;&gt;
+    &lt;comment&gt;Reverted GCC back to version 4.1.2 (due to video issues).&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3317&quot; date=&quot;2007-06-28&quot;&gt;
+    &lt;comment&gt;Updated Xvid to CVS HEAD 2007-06-27.&lt;/comment&gt;
+    &lt;comment&gt;Reverted GTK+ back to version 2.10.9 (due to reports of instability).&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3310&quot; date=&quot;2007-06-26&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3294&quot; date=&quot;2007-06-24&quot;&gt;
+    &lt;comment&gt;Updated Freetype to version 2.3.4.&lt;/comment&gt;
+    &lt;comment&gt;Updated Libxml2 to version 2.6.28.&lt;/comment&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 662.&lt;/comment&gt;
+    &lt;comment&gt;Recompiled Aften 0.07 with Microsoft Visual C++ 8 (to fix SSE2 threading issue).&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3283&quot; date=&quot;2007-06-21&quot;&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 661.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3273&quot; date=&quot;2007-06-18&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3253&quot; date=&quot;2007-06-15&quot;&gt;
+    &lt;comment&gt;Updated GCC to version 4.2.0 (also recompiled LAME).&lt;/comment&gt;
+    &lt;comment&gt;Updated Aften to version 0.07 (R522 to fix GCC alignment issue).&lt;/comment&gt;
+    &lt;comment&gt;Updated Cairo to version 1.4.8.&lt;/comment&gt;
+    &lt;comment&gt;Updated Fontconfig to version 2.4.2.&lt;/comment&gt;
+    &lt;comment&gt;Updated GLib to version 2.12.12.&lt;/comment&gt;
+    &lt;comment&gt;Updated GTK+ to version 2.10.13.&lt;/comment&gt;
+    &lt;comment&gt;Updated Pango to version 1.16.4.&lt;/comment&gt;
+    &lt;comment&gt;Updated Qt to version 4.3.0.&lt;/comment&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 659.&lt;/comment&gt;
+    &lt;comment&gt;Updated Xvid to CVS HEAD 2007-06-03.&lt;/comment&gt;
+    &lt;comment&gt;Avidemux was built using new CMake scripts.&lt;/comment&gt;
+    &lt;comment&gt;Packaged using NSIS 2.28.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3140&quot; date=&quot;2007-05-25&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3124&quot; date=&quot;2007-05-22&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3110&quot; date=&quot;2007-05-18&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3099&quot; date=&quot;2007-05-16&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3086&quot; date=&quot;2007-05-14&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3070&quot; date=&quot;2007-05-13&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3059&quot; date=&quot;2007-05-10&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3048&quot; date=&quot;2007-05-09&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3040&quot; date=&quot;2007-05-07&quot;&gt;
+    &lt;comment&gt;Updated Avisynth Proxy GUI to 2007-05-04.&lt;/comment&gt;
+    &lt;comment&gt;Removed ADM Tools.&lt;/comment&gt;
+    &lt;comment&gt;Installer now prompts to remove previous version before installing.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3015&quot; date=&quot;2007-05-04&quot;&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 655.&lt;/comment&gt;
+    &lt;comment&gt;Updated Avisynth Proxy GUI to 2007-05-02.&lt;/comment&gt;
+    &lt;comment&gt;Installer now adds Avisynth Proxy GUI to Start Menu.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;3003&quot; date=&quot;2007-05-02&quot;&gt;
+    &lt;comment&gt;Added Avisynth Proxy GUI to Installer.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;2994&quot; date=&quot;2007-04-30&quot;&gt;
+    &lt;comment&gt;Updated Xvid to CVS HEAD 2007-04-29.&lt;/comment&gt;
+    &lt;comment&gt;Added Avisynth Proxy to Installer.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;2975&quot; date=&quot;2007-04-27&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;2960&quot; date=&quot;2007-04-24&quot;&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 654.&lt;/comment&gt;
+    &lt;comment&gt;Added GTK translations to installer.  Standard GTK windows (e.g. Open and Save) are now correctly translated.&lt;/comment&gt;
+    &lt;comment&gt;The Installer now prohibits ADM Tools from being installed if the GTK+ user interface isn't also chosen.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;2955&quot; date=&quot;2007-04-23&quot;&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 652.&lt;/comment&gt;
+    &lt;comment&gt;Updated ADM Tools to 2007-04-20.&lt;/comment&gt;
+    &lt;comment&gt;Installer now remembers previous installation folder (thanks LoRd_MuldeR).&lt;/comment&gt;
+    &lt;comment&gt;Translations now work when starting Avidemux via the shortcuts created by the Installer (thanks Tetsuro).&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;2953&quot; date=&quot;2007-04-19&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;2951&quot; date=&quot;2007-04-20&quot;&gt;
+    &lt;comment&gt;Updated Xvid to CVS HEAD 2007-04-17.&lt;/comment&gt;
+    &lt;comment&gt;Updated ADM Tools to 2007-04-18.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;2948&quot; date=&quot;2007-04-17&quot;&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;2945&quot; date=&quot;2007-04-15&quot;&gt;
+    &lt;comment&gt;A bug in the Avidemux configure script prevented full compiler optimisations from being enabled. This has now been rectified, which means the main Avidemux executables are larger but hopefully faster in certain areas.&lt;/comment&gt;
+    &lt;comment&gt;The installer now uses improved compression so the file size is smaller than the last release.&lt;/comment&gt;
+    &lt;comment&gt;Included ADM Tools.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;2934&quot; date=&quot;2007-04-13&quot;&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 650.&lt;/comment&gt;
+    &lt;comment&gt;Introduced a new installer.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;2926 [Release 2]&quot; date=&quot;2007-04-11&quot;&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 649.&lt;/comment&gt;
+    &lt;comment&gt;
+      FAAC and FAAD2 have been rebuilt. Prior builds incorrectly included DRM versions
+      of both libraries, which aren't appropriate for Avidemux.
+    &lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;2926&quot; date=&quot;2007-04-07&quot;&gt;
+    &lt;comment&gt;Updated Aften to version 0.06&lt;/comment&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 648.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;2922&quot; date=&quot;2007-04-05&quot;&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 641.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;2916&quot; date=&quot;2007-04-02&quot;&gt;
+    &lt;comment&gt;Updated x264 to SVN revision 636.&lt;/comment&gt;
+  &lt;/buildentry&gt;
+  &lt;buildentry revision=&quot;2910&quot; date=&quot;2007-03-29&quot;&gt;
+  &lt;/buildentry&gt;
+&lt;/log&gt;

Added: branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Set Avidemux 2.4 Environment Variables.bat
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Set Avidemux 2.4 Environment Variables.bat	2008-07-15 18:21:57 UTC (rev 4218)
+++ branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Set Avidemux 2.4 Environment Variables.bat	2008-07-16 01:19:49 UTC (rev 4219)
@@ -0,0 +1,50 @@
+call &quot;..\Set Common Environment Variables&quot;
+
+if errorlevel 1 goto error
+
+zip &gt; NUL 2&gt; NUL
+if errorlevel 1 (
+	echo Info-ZIP could not be found in the PATH.  Please download from <A HREF="http://www.info-zip.org">http://www.info-zip.org</A>
+	goto error
+)
+
+advzip &gt; NUL 2&gt; NUL
+if errorlevel 1 (
+	echo AdvanceCOMP could not be found in the PATH.  Please download from <A HREF="http://advancemame.sourceforge.net">http://advancemame.sourceforge.net</A>
+	goto error
+)
+
+svn help &gt; NUL 2&gt; NUL
+if errorlevel 1 (
+	echo Subversion could not be found in the PATH.  Please download from <A HREF="http://subversion.tigris.org/">http://subversion.tigris.org/</A>
+	goto error
+)
+
+xsltproc --version &gt; NUL 2&gt; NUL
+if errorlevel 1 (
+	echo xsltproc could not be found in the PATH.  Please download from <A HREF="http://www.zlatkovic.com">http://www.zlatkovic.com</A>
+	goto error
+)
+
+set buildDir=%devDir%\avidemux_2.4_build
+set curDir=%CD%
+cd ..\..\..\..
+set sourceDir=%CD%
+cd &quot;%curDir%&quot;
+
+if not exist &quot;%buildDir%&quot; (
+	echo Build directory could not be found at &quot;%buildDir%&quot;.
+	goto error
+)
+
+if not exist &quot;%sourceDir%&quot; (
+	echo Source directory could not be found at &quot;%sourceDir%&quot;.
+	goto error
+)
+
+goto end
+
+:error
+set ERRORLEVEL=1
+
+:end
\ No newline at end of file

Added: branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/Get Revision Number.bat
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/Get Revision Number.bat	2008-07-15 18:21:57 UTC (rev 4218)
+++ branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/Get Revision Number.bat	2008-07-16 01:19:49 UTC (rev 4219)
@@ -0,0 +1,10 @@
+if not exist &quot;..\..\..\installer\revision.nsh&quot; goto end
+
+copy &quot;Revision No template.bat&quot; + &quot;..\..\..\installer\revision.nsh&quot; temp.bat &gt; NUL
+
+call temp.bat
+del temp.bat
+
+set revisionNo=%revisionNo:~17,4%
+
+:end
\ No newline at end of file

Added: branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/Revision No template.bat
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/Revision No template.bat	2008-07-15 18:21:57 UTC (rev 4218)
+++ branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/Revision No template.bat	2008-07-16 01:19:49 UTC (rev 4219)
@@ -0,0 +1 @@
+set revisionNo=
\ No newline at end of file

Added: branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/gennotes.sh
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/gennotes.sh	2008-07-15 18:21:57 UTC (rev 4218)
+++ branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/gennotes.sh	2008-07-16 01:19:49 UTC (rev 4219)
@@ -0,0 +1 @@
+xsltproc package_notes.xslt &quot;../Package Notes.xml&quot; &gt; &quot;Package Notes.html&quot;
\ No newline at end of file

Added: branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/gentouch.sh
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/gentouch.sh	2008-07-15 18:21:57 UTC (rev 4218)
+++ branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/gentouch.sh	2008-07-16 01:19:49 UTC (rev 4219)
@@ -0,0 +1 @@
+xsltproc touch_files.xslt &quot;../Package Notes.xml&quot; &gt; &quot;../Touch 2.4 Files.html&quot;
\ No newline at end of file

Added: branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/package_notes.xslt
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/package_notes.xslt	2008-07-15 18:21:57 UTC (rev 4218)
+++ branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/package_notes.xslt	2008-07-16 01:19:49 UTC (rev 4219)
@@ -0,0 +1,127 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
+
+&lt;xsl:stylesheet version=&quot;1.0&quot;
+    xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;&gt;
+  &lt;xsl:output method=&quot;html&quot; indent=&quot;yes&quot; /&gt;
+
+  &lt;xsl:template match=&quot;log&quot;&gt;
+    &lt;html&gt;
+      &lt;head&gt;
+        &lt;meta content=&quot;text/html; charset=ISO-8859-1&quot; http-equiv=&quot;content-type&quot; /&gt;
+        &lt;style type=&quot;text/css&quot;&gt;
+          body {
+          margin: 10px 15px 0px 15px;
+          height: 100%;
+          font-size: 82%;
+          }
+
+          h1 {
+          padding: 0;
+          font-family: Helvetica,Arial,sans-serif;
+          font-size: 1.7em;
+          font-weight: bold;
+          color: #1B57B1;
+          vertical-align: bottom;
+          text-align: center;
+          width: 100%;
+          }
+
+          div, p, table, td, th {
+          font-family: Tahoma,Helvetica,Arial,sans-serif;
+          font-size: 1em;
+          color: #333;
+          }
+
+          table.build {
+          border-collapse: collapse;
+          border: 1px solid #ccc;
+          }
+
+          table.build td, table.roadmap th {
+          border: 1px solid #ccc;
+          }
+
+          table.build th {
+          background: #ddd;
+          padding: 5px;
+          }
+
+          table.build td {
+          background: #f7f7f7;
+          padding-left: 15px;
+          padding-right: 15px;
+          padding-top: 5px;
+          padding-bottom: 5px;
+          }
+        &lt;/style&gt;
+        &lt;title&gt;Avidemux 2.4 Win32 Package Notes&lt;/title&gt;
+      &lt;/head&gt;
+      &lt;body&gt;
+        &lt;h1&gt;Avidemux 2.4 Win32 Package Notes&lt;/h1&gt;
+        &lt;div&gt;
+          &lt;xsl:apply-templates select=&quot;buildentry&quot; /&gt;
+        &lt;/div&gt;
+      &lt;/body&gt;
+    &lt;/html&gt;
+  &lt;/xsl:template&gt;
+
+  &lt;xsl:template match=&quot;buildentry&quot;&gt;
+    &lt;p&gt;
+      &lt;b&gt;
+        &lt;xsl:text&gt;Revision&#160;&lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;@revision&quot;/&gt;
+      &lt;/b&gt;
+      &lt;xsl:text&gt;&#160;(&lt;/xsl:text&gt;
+      &lt;xsl:call-template name=&quot;FormatDate&quot;&gt;
+        &lt;xsl:with-param name=&quot;Date&quot; select=&quot;@date&quot; /&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+      &lt;br/&gt;
+
+      &lt;xsl:for-each select=&quot;comment&quot;&gt;
+        &lt;li&gt;
+          &lt;xsl:value-of select=&quot;.&quot;/&gt;
+        &lt;/li&gt;
+      &lt;/xsl:for-each&gt;
+    &lt;/p&gt;
+  &lt;/xsl:template&gt;
+
+  &lt;xsl:template name=&quot;FormatDate&quot;&gt;
+    &lt;xsl:param name=&quot;Date&quot;/&gt;
+
+    &lt;!-- Day --&gt;
+    &lt;xsl:value-of select=&quot;substring($Date, 9, 2)&quot; /&gt;
+    &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;
+
+    &lt;!-- Month --&gt;
+    &lt;xsl:call-template name=&quot;FormatMonth&quot;&gt;
+      &lt;xsl:with-param name=&quot;Month&quot; select=&quot;substring($Date, 6, 2)&quot; /&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;
+
+    &lt;!-- Year --&gt;
+    &lt;xsl:value-of select=&quot;substring($Date, 1, 4)&quot;/&gt;
+    &lt;!-- &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;--&gt;
+
+    &lt;!-- Time --&gt;
+    &lt;!-- &lt;xsl:value-of select=&quot;substring($Date, 12, 8)&quot;/&gt;--&gt;
+  &lt;/xsl:template&gt;
+
+  &lt;xsl:template name=&quot;FormatMonth&quot;&gt;
+    &lt;xsl:param name=&quot;Month&quot;/&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$Month = '01'&quot;&gt;Jan&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$Month = '02'&quot;&gt;Feb&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$Month = '03'&quot;&gt;Mar&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$Month = '04'&quot;&gt;Apr&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$Month = '05'&quot;&gt;May&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$Month = '06'&quot;&gt;Jun&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$Month = '07'&quot;&gt;Jul&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$Month = '08'&quot;&gt;Aug&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$Month = '09'&quot;&gt;Sep&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$Month = '10'&quot;&gt;Oct&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$Month = '11'&quot;&gt;Nov&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$Month = '12'&quot;&gt;Dec&lt;/xsl:when&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:template&gt;
+&lt;/xsl:stylesheet&gt;
\ No newline at end of file

Added: branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/touch_files.xslt
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/touch_files.xslt	2008-07-15 18:21:57 UTC (rev 4218)
+++ branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Tools/touch_files.xslt	2008-07-16 01:19:49 UTC (rev 4219)
@@ -0,0 +1,152 @@
+&lt;xsl:stylesheet version=&quot;1.0&quot;
+    xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;&gt;
+  &lt;xsl:output method=&quot;html&quot; indent=&quot;yes&quot; /&gt;
+
+  &lt;xsl:template match=&quot;/&quot;&gt;
+    &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&lt;?php
+      function touchDirContents($path, $time)
+      {
+        $dirHandle = opendir($path);
+
+        while (($resource = readdir($dirHandle)) != false)
+        {
+          if (is_file($path . &quot;/&quot; . $resource))
+          {
+            touch($path . &quot;/&quot; . $resource, $time);
+          }
+        }
+
+        closedir($dirHandle);
+      }
+      &lt;/xsl:text&gt;
+    &lt;xsl:apply-templates select=&quot;log&quot; /&gt;
+    &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;?&gt;&lt;/xsl:text&gt;
+  &lt;/xsl:template&gt;
+
+  &lt;xsl:template match=&quot;log&quot; mode=&quot;php&quot;&gt;
+    &lt;script language=&quot;php&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;buildentry&quot; /&gt;
+    &lt;/script&gt;
+  &lt;/xsl:template&gt;
+
+  &lt;xsl:template match=&quot;buildentry&quot;&gt;
+    &lt;xsl:variable name=&quot;fileName&quot;&gt;
+      &lt;xsl:call-template name=&quot;getFileName&quot;&gt;
+        &lt;xsl:with-param name=&quot;revision&quot; select=&quot;@revision&quot; /&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:variable name=&quot;day&quot;&gt;
+      &lt;xsl:call-template name=&quot;getDay&quot;&gt;
+        &lt;xsl:with-param name=&quot;date&quot; select=&quot;@date&quot; /&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:variable name=&quot;month&quot;&gt;
+      &lt;xsl:call-template name=&quot;getMonth&quot;&gt;
+        &lt;xsl:with-param name=&quot;date&quot; select=&quot;@date&quot; /&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:variable name=&quot;year&quot;&gt;
+      &lt;xsl:call-template name=&quot;getYear&quot;&gt;
+        &lt;xsl:with-param name=&quot;date&quot; select=&quot;@date&quot; /&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:text&gt;touch(&quot;&lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$fileName&quot; /&gt;
+    &lt;xsl:text&gt;&quot;, mktime(0, 0, 0, &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$month&quot; /&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$day&quot; /&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$year&quot; /&gt;
+    &lt;xsl:text&gt;)); &lt;/xsl:text&gt;
+
+    &lt;xsl:text&gt;touchDirContents(&quot;&lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$fileName&quot; /&gt;
+    &lt;xsl:text&gt;&quot;, mktime(0, 0, 0, &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$month&quot; /&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$day&quot; /&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$year&quot; /&gt;
+    &lt;xsl:text&gt;)); &lt;/xsl:text&gt;
+  &lt;/xsl:template&gt;
+
+  &lt;xsl:template name='getDay'&gt;
+    &lt;xsl:param name='date' /&gt;
+    &lt;xsl:variable name=&quot;day&quot; select=&quot;substring(@date, 9, 2)&quot;/&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;starts-with($day, '0')&quot;&gt;
+        &lt;xsl:value-of select=&quot;substring($day, 2)&quot; /&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$day&quot; /&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:template&gt;
+
+  &lt;xsl:template name='getMonth'&gt;
+    &lt;xsl:param name='date' /&gt;
+    &lt;xsl:variable name=&quot;month&quot; select=&quot;substring(@date, 6, 2)&quot;/&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;starts-with($month, '0')&quot;&gt;
+        &lt;xsl:value-of select=&quot;substring($month, 2)&quot; /&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$month&quot; /&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:template&gt;
+
+  &lt;xsl:template name='getYear'&gt;
+    &lt;xsl:param name='date' /&gt;
+    &lt;xsl:value-of select=&quot;substring(@date, 1, 4)&quot;/&gt;
+  &lt;/xsl:template&gt;
+
+  &lt;xsl:template name='getFileName'&gt;
+    &lt;xsl:param name='revision' /&gt;
+
+    &lt;xsl:text&gt;2.4/&lt;/xsl:text&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;contains($revision, 'Final')&quot;&gt;
+        &lt;xsl:text&gt;Milestone/&lt;/xsl:text&gt;
+        &lt;xsl:variable name=&quot;version&quot; select=&quot;substring-after($revision, ' [')&quot;/&gt;
+        &lt;xsl:value-of select=&quot;substring-before($version, ' ')&quot; /&gt;
+        &lt;xsl:text&gt;_(&lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;substring-before($revision, ' [')&quot; /&gt;
+        &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:text&gt;SVN/&lt;/xsl:text&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;contains($revision, 'Preview')&quot;&gt;
+            &lt;xsl:variable name=&quot;version&quot; select=&quot;substring-after($revision, ' [')&quot;/&gt;
+            &lt;xsl:variable name=&quot;minorVersion&quot; select=&quot;substring-after($version, ' ')&quot;/&gt;
+            &lt;xsl:value-of select=&quot;substring-before($revision, ' [')&quot;/&gt;
+            &lt;xsl:text&gt;_&lt;/xsl:text&gt;
+            &lt;xsl:call-template name=&quot;convertToLower&quot;&gt;
+              &lt;xsl:with-param name=&quot;toconvert&quot; select=&quot;translate(substring-before($minorVersion, ']'), ' ', '_')&quot; /&gt;
+            &lt;/xsl:call-template&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;contains($revision, 'Release')&quot;&gt;
+            &lt;xsl:value-of select=&quot;substring-before($revision, ' [')&quot; /&gt;
+            &lt;xsl:text&gt;_r&lt;/xsl:text&gt;
+            &lt;xsl:variable name=&quot;version&quot; select=&quot;substring-after($revision, ' [Release ')&quot;/&gt;
+            &lt;xsl:value-of select=&quot;substring-before($version, ']')&quot; /&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:value-of select=&quot;$revision&quot;/&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:template&gt;
+
+  &lt;xsl:template name='convertToLower'&gt;
+    &lt;xsl:param name='toconvert' /&gt;
+    &lt;xsl:variable name=&quot;lcletters&quot;&gt;abcdefghijklmnopqrstuvwxyz&lt;/xsl:variable&gt;
+    &lt;xsl:variable name=&quot;ucletters&quot;&gt;ABCDEFGHIJKLMNOPQRSTUVWXYZ&lt;/xsl:variable&gt;
+    &lt;xsl:value-of select=&quot;translate($toconvert,$ucletters,$lcletters)&quot; /&gt;
+  &lt;/xsl:template&gt;
+&lt;/xsl:stylesheet&gt;
\ No newline at end of file

Copied: branches/avidemux_2.4_branch/platforms/windows/installer (from rev 4218, branches/avidemux_2.4_branch/avidemux/winInstaller)


Property changes on: branches/avidemux_2.4_branch/platforms/windows/installer
___________________________________________________________________
Name: svn:mergeinfo
   + 

Modified: branches/avidemux_2.4_branch/platforms/windows/installer/avidemux.nsi
===================================================================
--- branches/avidemux_2.4_branch/avidemux/winInstaller/avidemux.nsi	2008-07-15 18:21:57 UTC (rev 4218)
+++ branches/avidemux_2.4_branch/platforms/windows/installer/avidemux.nsi	2008-07-16 01:19:49 UTC (rev 4219)
@@ -5,6 +5,7 @@
 !include MUI.nsh
 !include WinMessages.nsh
 !include revision.nsh
+!include builddir.nsh
 
 Name &quot;Avidemux 2.4.2 r${REVISION}&quot;
 
@@ -36,7 +37,7 @@
 !define MUI_STARTMENUPAGE_DEFAULTFOLDER Avidemux
 !define MUI_STARTMENUPAGE_NODISABLE
 !define MUI_WELCOMEFINISHPAGE_BITMAP &quot;WelcomeFinishStrip.bmp&quot;
-!define MUI_UNICON &quot;..\xpm\adm.ico&quot;
+!define MUI_UNICON &quot;..\..\..\avidemux\xpm\adm.ico&quot;
 !define MUI_UNFINISHPAGE_NOAUTOCLOSE
 !define MUI_COMPONENTSPAGE_NODESC
 
@@ -115,8 +116,8 @@
 
 installGtk${LANG_CODE}:
     SetOutPath $INSTDIR\share\locale\${LANG_CODE}\LC_MESSAGES
-    File ..\..\..\avidemux_2.4_build\share\locale\${LANG_CODE}\LC_MESSAGES\avidemux.mo
-    File ..\..\..\avidemux_2.4_build\share\locale\${LANG_CODE}\LC_MESSAGES\gtk20.mo
+    File ${BUILDDIR}\share\locale\${LANG_CODE}\LC_MESSAGES\avidemux.mo
+    File ${BUILDDIR}\share\locale\${LANG_CODE}\LC_MESSAGES\gtk20.mo
 
     WriteRegStr HKLM &quot;${REGKEY}\Components&quot; ${LANG_NAME} 1
 endGtk${LANG_CODE}:
@@ -129,8 +130,8 @@
 
 installQt4${LANG_CODE}:	
 	SetOutPath $INSTDIR\i18n
-    File ..\..\..\avidemux_2.4_build\i18n\avidemux_${LANG_CODE}.qm
-    File ..\..\..\avidemux_2.4_build\i18n\qt_${LANG_CODE}.qm
+    File ${BUILDDIR}\i18n\avidemux_${LANG_CODE}.qm
+    File ${BUILDDIR}\i18n\qt_${LANG_CODE}.qm
     
     WriteRegStr HKLM &quot;${REGKEY}\Components&quot; ${LANG_NAME} 1
 endQt4${LANG_CODE}:    
@@ -164,31 +165,31 @@
     SectionIn 1 2 RO
     SetOutPath $INSTDIR
     SetOverwrite on
-    File &quot;..\..\..\avidemux_2.4_build\Build Info.txt&quot;
-    File &quot;..\..\..\avidemux_2.4_build\Change Log.html&quot;
-    File ..\..\..\avidemux_2.4_build\zlib1.dll
-    File ..\..\..\avidemux_2.4_build\freetype6.dll
-    File ..\..\..\avidemux_2.4_build\iconv.dll
-    File ..\..\..\avidemux_2.4_build\intl.dll
-    File ..\..\..\avidemux_2.4_build\libaften.dll
-    File ..\..\..\avidemux_2.4_build\libexpat.dll
-    File ..\..\..\avidemux_2.4_build\libfaac.dll
-    File ..\..\..\avidemux_2.4_build\libfaad2.dll
-    File ..\..\..\avidemux_2.4_build\libfontconfig-1.dll
-    File ..\..\..\avidemux_2.4_build\libglib-2.0-0.dll
-    File ..\..\..\avidemux_2.4_build\libmp3lame-0.dll
-    File ..\..\..\avidemux_2.4_build\libpng12-0.dll
-    File ..\..\..\avidemux_2.4_build\libx264.dll
-    File ..\..\..\avidemux_2.4_build\libxml2.dll
-    File ..\..\..\avidemux_2.4_build\ogg.dll
-    File ..\..\..\avidemux_2.4_build\pthreadGC2.dll
-    File ..\..\..\avidemux_2.4_build\SDL.dll
-    File ..\..\..\avidemux_2.4_build\vorbis.dll
-    File ..\..\..\avidemux_2.4_build\vorbisenc.dll
-    File ..\..\..\avidemux_2.4_build\xmltok.dll
-    File ..\..\..\avidemux_2.4_build\xvidcore.dll
+    File &quot;${BUILDDIR}\Build Info.txt&quot;
+    File &quot;${BUILDDIR}\Change Log.html&quot;
+    File ${BUILDDIR}\zlib1.dll
+    File ${BUILDDIR}\freetype6.dll
+    File ${BUILDDIR}\iconv.dll
+    File ${BUILDDIR}\intl.dll
+    File ${BUILDDIR}\libaften.dll
+    File ${BUILDDIR}\libexpat.dll
+    File ${BUILDDIR}\libfaac.dll
+    File ${BUILDDIR}\libfaad2.dll
+    File ${BUILDDIR}\libfontconfig-1.dll
+    File ${BUILDDIR}\libglib-2.0-0.dll
+    File ${BUILDDIR}\libmp3lame-0.dll
+    File ${BUILDDIR}\libpng12-0.dll
+    File ${BUILDDIR}\libx264.dll
+    File ${BUILDDIR}\libxml2.dll
+    File ${BUILDDIR}\ogg.dll
+    File ${BUILDDIR}\pthreadGC2.dll
+    File ${BUILDDIR}\SDL.dll
+    File ${BUILDDIR}\vorbis.dll
+    File ${BUILDDIR}\vorbisenc.dll
+    File ${BUILDDIR}\xmltok.dll
+    File ${BUILDDIR}\xvidcore.dll
     SetOutPath $INSTDIR\etc\fonts
-    File /r ..\..\..\avidemux_2.4_build\etc\fonts\*
+    File /r ${BUILDDIR}\etc\fonts\*
 
     # if $PROFILE\avidemux exists and $APPDATA\avidemux doesn't, then move it
     IfFileExists &quot;$PROFILE\avidemux&quot; 0 end
@@ -205,7 +206,7 @@
         SectionIn 1 2
         SetOutPath $INSTDIR
         SetOverwrite on
-        File ..\..\..\avidemux_2.4_build\avidemux2_cli.exe
+        File ${BUILDDIR}\avidemux2_cli.exe
         WriteRegStr HKLM &quot;${REGKEY}\Components&quot; &quot;Command line&quot; 1
     SectionEnd
 
@@ -213,27 +214,27 @@
         SectionIn 1 2
         SetOverwrite on
         SetOutPath $INSTDIR\etc\gtk-2.0
-        File /r ..\..\..\avidemux_2.4_build\etc\gtk-2.0\*
+        File /r ${BUILDDIR}\etc\gtk-2.0\*
         SetOutPath $INSTDIR\etc\pango
-        File /r ..\..\..\avidemux_2.4_build\etc\pango\*
+        File /r ${BUILDDIR}\etc\pango\*
         SetOutPath $INSTDIR\lib\gtk-2.0
-        File /r ..\..\..\avidemux_2.4_build\lib\gtk-2.0\*
+        File /r ${BUILDDIR}\lib\gtk-2.0\*
         SetOutPath $INSTDIR\share\themes
-        File /r ..\..\..\avidemux_2.4_build\share\themes\*
+        File /r ${BUILDDIR}\share\themes\*
         SetOutPath $INSTDIR
-        File ..\..\..\avidemux_2.4_build\avidemux2_gtk.exe
-        File ..\..\..\avidemux_2.4_build\gtk2_prefs.exe
-        File ..\..\..\avidemux_2.4_build\libatk-1.0-0.dll
-        File ..\..\..\avidemux_2.4_build\libcairo-2.dll
-        File ..\..\..\avidemux_2.4_build\libgdk_pixbuf-2.0-0.dll
-        File ..\..\..\avidemux_2.4_build\libgdk-win32-2.0-0.dll
-        File ..\..\..\avidemux_2.4_build\libgmodule-2.0-0.dll
-        File ..\..\..\avidemux_2.4_build\libgobject-2.0-0.dll
-        File ..\..\..\avidemux_2.4_build\libgthread-2.0-0.dll
-        File ..\..\..\avidemux_2.4_build\libgtk-win32-2.0-0.dll
-        File ..\..\..\avidemux_2.4_build\libpango-1.0-0.dll
-        File ..\..\..\avidemux_2.4_build\libpangocairo-1.0-0.dll
-        File ..\..\..\avidemux_2.4_build\libpangowin32-1.0-0.dll
+        File ${BUILDDIR}\avidemux2_gtk.exe
+        File ${BUILDDIR}\gtk2_prefs.exe
+        File ${BUILDDIR}\libatk-1.0-0.dll
+        File ${BUILDDIR}\libcairo-2.dll
+        File ${BUILDDIR}\libgdk_pixbuf-2.0-0.dll
+        File ${BUILDDIR}\libgdk-win32-2.0-0.dll
+        File ${BUILDDIR}\libgmodule-2.0-0.dll
+        File ${BUILDDIR}\libgobject-2.0-0.dll
+        File ${BUILDDIR}\libgthread-2.0-0.dll
+        File ${BUILDDIR}\libgtk-win32-2.0-0.dll
+        File ${BUILDDIR}\libpango-1.0-0.dll
+        File ${BUILDDIR}\libpangocairo-1.0-0.dll
+        File ${BUILDDIR}\libpangowin32-1.0-0.dll
         WriteRegStr HKLM &quot;${REGKEY}\Components&quot; GTK+ 1
     SectionEnd
     
@@ -241,10 +242,10 @@
         SectionIn 2
         SetOutPath $INSTDIR
         SetOverwrite on
-        File ..\..\..\avidemux_2.4_build\QtGui4.dll
-        File ..\..\..\avidemux_2.4_build\avidemux2_qt4.exe
-        File ..\..\..\avidemux_2.4_build\mingwm10.dll
-        File ..\..\..\avidemux_2.4_build\QtCore4.dll
+        File ${BUILDDIR}\QtGui4.dll
+        File ${BUILDDIR}\avidemux2_qt4.exe
+        File ${BUILDDIR}\mingwm10.dll
+        File ${BUILDDIR}\QtCore4.dll
         WriteRegStr HKLM &quot;${REGKEY}\Components&quot; Qt4 1
     SectionEnd    
 SectionGroupEnd
@@ -317,8 +318,8 @@
     SectionIn 2
     SetOutPath $INSTDIR
     SetOverwrite on
-    File /r ..\..\..\avidemux_2.4_build\avsproxy.exe
-    File /r ..\..\..\avidemux_2.4_build\avsproxy_gui.exe
+    File /r ${BUILDDIR}\avsproxy.exe
+    File /r ${BUILDDIR}\avsproxy_gui.exe
     WriteRegStr HKLM &quot;${REGKEY}\Components&quot; &quot;AvsProxy&quot; 1
 SectionEnd
 
@@ -326,7 +327,7 @@
     SectionIn 2
     SetOutPath $INSTDIR\plugin
     SetOverwrite on
-    File /r ..\..\..\avidemux_2.4_build\plugin\*
+    File /r ${BUILDDIR}\plugin\*
     WriteRegStr HKLM &quot;${REGKEY}\Components&quot; &quot;Sample external filter&quot; 1
 SectionEnd
 

Modified: branches/avidemux_2.4_branch/platforms/windows/installer/genlog.sh
===================================================================
--- branches/avidemux_2.4_branch/avidemux/winInstaller/genlog.sh	2008-07-15 18:21:57 UTC (rev 4218)
+++ branches/avidemux_2.4_branch/platforms/windows/installer/genlog.sh	2008-07-16 01:19:49 UTC (rev 4219)
@@ -1,4 +1,4 @@
-svn log --stop-on-copy --xml ../.. &gt; svn.xml
-xsltproc svnlog.xslt svn.xml &gt; &quot;../../../avidemux_2.4_build/Change Log.html&quot;
+svn log --stop-on-copy --xml $SOURCEDIR &gt; svn.xml
+xsltproc svnlog.xslt svn.xml &gt; &quot;$BUILDDIR/Change Log.html&quot;
 xsltproc revision.xslt svn.xml &gt; revision.nsh
 rm svn.xml


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001466.html">[Avidemux-svn-commit] r4218 - in	branches/avidemux_2.4_branch/avidemux: ADM_inputs/ADM_mp4	ADM_libraries/ADM_lavformat
</A></li>
	<LI>Next message: <A HREF="001468.html">[Avidemux-svn-commit] r4220 -	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1467">[ date ]</a>
              <a href="thread.html#1467">[ thread ]</a>
              <a href="subject.html#1467">[ subject ]</a>
              <a href="author.html#1467">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
