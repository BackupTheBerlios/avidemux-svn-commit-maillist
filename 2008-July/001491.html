<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r4245 - in	branches/avidemux_2.5_branch_gruntster/avidemux: .	ADM_audioEncoder ADM_audioEncoder/include	ADM_audioEncoder/src ADM_audiofilter ADM_script ADM_toolkit	ADM_userInterfaces/ADM_QT4/ADM_dialog
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4245%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster/avidemux%3A%20.%0A%09ADM_audioEncoder%20ADM_audioEncoder/include%0A%09ADM_audioEncoder/src%20ADM_audiofilter%20ADM_script%20ADM_toolkit%0A%09ADM_userInterfaces/ADM_QT4/ADM_dialog&In-Reply-To=%3C200807191601.m6JG14kp024368%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001490.html">
   <LINK REL="Next"  HREF="001492.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r4245 - in	branches/avidemux_2.5_branch_gruntster/avidemux: .	ADM_audioEncoder ADM_audioEncoder/include	ADM_audioEncoder/src ADM_audiofilter ADM_script ADM_toolkit	ADM_userInterfaces/ADM_QT4/ADM_dialog</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4245%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster/avidemux%3A%20.%0A%09ADM_audioEncoder%20ADM_audioEncoder/include%0A%09ADM_audioEncoder/src%20ADM_audiofilter%20ADM_script%20ADM_toolkit%0A%09ADM_userInterfaces/ADM_QT4/ADM_dialog&In-Reply-To=%3C200807191601.m6JG14kp024368%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r4245 - in	branches/avidemux_2.5_branch_gruntster/avidemux: .	ADM_audioEncoder ADM_audioEncoder/include	ADM_audioEncoder/src ADM_audiofilter ADM_script ADM_toolkit	ADM_userInterfaces/ADM_QT4/ADM_dialog">mean at mail.berlios.de
       </A><BR>
    <I>Sat Jul 19 18:01:04 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001490.html">[Avidemux-svn-commit] r4244 -	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter
</A></li>
        <LI>Next message: <A HREF="001492.html">[Avidemux-svn-commit] r4246 - in	branches/avidemux_2.5_branch_gruntster:	avidemux/ADM_audiofilter plugins/ADM_audioEncoders/lavcodec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1491">[ date ]</a>
              <a href="thread.html#1491">[ thread ]</a>
              <a href="subject.html#1491">[ subject ]</a>
              <a href="author.html#1491">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2008-07-19 18:01:02 +0200 (Sat, 19 Jul 2008)
New Revision: 4245

Removed:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audioEncoder/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audioEncoder/include/audioencoder_config.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audioEncoder/include/audioencoder_enum.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audioEncoder/src/CMakeLists.txt
Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audioEncoderApi.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audio_encoderPlugin.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audioeng_buildfilters.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audiofilter_buildchain.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_toolkit/automation.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/gtk_gui.cpp
Log:
[AudioEncode] Cleanup


Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audioEncoder/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audioEncoder/CMakeLists.txt	2008-07-19 16:00:59 UTC (rev 4244)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audioEncoder/CMakeLists.txt	2008-07-19 16:01:02 UTC (rev 4245)
@@ -1 +0,0 @@
-ADD_SUBDIRECTORY(src)

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audioEncoder/include/audioencoder_config.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audioEncoder/include/audioencoder_config.h	2008-07-19 16:00:59 UTC (rev 4244)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audioEncoder/include/audioencoder_config.h	2008-07-19 16:01:02 UTC (rev 4245)
@@ -1,182 +0,0 @@
-#ifndef AUDIOENCODER_CONFIG_H
-#define AUDIOENCODER_CONFIG_H
-
-#if 0
-#include &quot;audioencoder_faac_param.h&quot;
-#include &quot;audioencoder_lame_param.h&quot;
-#include &quot;audioencoder_twolame_param.h&quot;
-#include &quot;audioencoder_vorbis_param.h&quot;
-#include &quot;audioencoder_aften_param.h&quot;
-
-
-
-extern int DIA_defaultSettings(ADM_audioEncoderDescriptor *descriptor);
-/**** Copy ****/
-
-ADM_audioEncoderDescriptor copyDescriptor=
-{
-  AUDIOENC_COPY,
-  DIA_defaultSettings,
-  &quot;Copy encoder&quot;,
-  128,
-  99,
-  0,
-  NULL
-};
-/**** FAAC ****/
-#ifdef USE_FAAC
-FAAC_encoderParam aacParam={128};
-ADM_audioEncoderDescriptor aacDescriptor=
-{
-        AUDIOENC_FAAC,
-        DIA_defaultSettings,
-        &quot;FAAC encoder&quot;,
-        128,
-        6,      // AAC can do 5.1
-        sizeof(aacParam),
-        &amp;aacParam
-};
-#endif
-/**** LAME ****/
-LAME_encoderParam lameParam=
-{
-  ADM_LAME_PRESET_CBR,
-  ADM_STEREO,
-  2,
-  0 /* Reservoir enable by default */
-};
-#ifdef HAVE_LIBMP3LAME
-extern int DIA_getLameSettings(ADM_audioEncoderDescriptor *descriptor);
-ADM_audioEncoderDescriptor  lameDescriptor=
-{
-  AUDIOENC_MP3,
-  DIA_getLameSettings,
-  &quot;Lame encoder&quot;,
-  128,
-  2,      // Lame can only do stereo
-  sizeof(lameParam),
-  &amp;lameParam
-};
-#endif
-/**** TWOLAME ****/
-TWOLAME_encoderParam twolameParam=
-{
-  ADM_STEREO
-};
-ADM_audioEncoderDescriptor  twolameDescriptor=
-{
-  AUDIOENC_2LAME,
-  DIA_defaultSettings,
-  &quot;TwoLame encoder&quot;,
-  128,
-  2,      // Lame can only do stereo
-  sizeof(twolameParam),
-  &amp;twolameParam
-};
-/********** Lavcodec **************/
-ADM_audioEncoderDescriptor  lavcodecMP2Descriptor=
-{
-  AUDIOENC_MP2,
-  DIA_defaultSettings,
-  &quot;LAvcodec MP2 encoder&quot;,
-  128,
-  2,    
-  0,
-  NULL
-};
-ADM_audioEncoderDescriptor  lavcodecAC3Descriptor=
-{
-  AUDIOENC_AC3,
-  DIA_defaultSettings,
-  &quot;LAvcodec AC3 encoder&quot;,
-  128,
-  6,    
-  0,
-  NULL
-};
-
-/************** Vorbis **************/
-#ifdef USE_VORBIS
-extern int DIA_getVorbisSettings(ADM_audioEncoderDescriptor *descriptor);
-VORBIS_encoderParam vorbisParam=
-{
-  ADM_VORBIS_VBR,
-  3
-  
-};
-ADM_audioEncoderDescriptor  vorbisDescriptor=
-{
-  AUDIOENC_VORBIS,
-  DIA_getVorbisSettings,
-  &quot;Vorbis encoder&quot;,
-  128,
-  6,      // Lame can only do stereo
-  sizeof(vorbisParam),
-  &amp;vorbisParam
-};
-#endif
-/********** PCM **************/
-ADM_audioEncoderDescriptor  pcmDescriptor=
-{
-  AUDIOENC_NONE,
-  NULL,
-  &quot;PCM encoder&quot;,
-  128,
-  6,    
-  0,
-  NULL
-};
-ADM_audioEncoderDescriptor  lpcmDescriptor=
-{
-  AUDIOENC_LPCM,
-  NULL,
-  &quot;LPCM encoder&quot;,
-  128,
-  6,    
-  0,
-  NULL
-};
-//---------------- AFTEN ------------------
-#ifdef USE_AFTEN
-AFTEN_encoderParam aftenParam =
-{
-  ADM_STEREO
-};
-
-ADM_audioEncoderDescriptor  aftenDescriptor=
-{
-  AUDIOENC_AFTEN,
-  DIA_defaultSettings,
-  &quot;Aften AC3 encoder&quot;,
-  128,
-  6,      // Lame can only do stereo
-  sizeof(aftenParam),
-  &amp;aftenParam
-};
-#endif
-ADM_audioEncoderDescriptor *allDescriptors[]=
-{
-      &amp;copyDescriptor,
-#ifdef USE_FAAC
-      &amp;aacDescriptor,
-#endif
-      &amp;twolameDescriptor,
-      &amp;lavcodecAC3Descriptor,
-      &amp;lavcodecMP2Descriptor,
-#ifdef USE_VORBIS
-      &amp;vorbisDescriptor ,
-#endif      
-      &amp;pcmDescriptor,
-      &amp;lpcmDescriptor
-#ifdef USE_AFTEN
-      ,&amp;aftenDescriptor
-#endif
-#ifdef HAVE_LIBMP3LAME
-      ,&amp;lameDescriptor
-#endif
-};
-#define NB_AUDIO_DESCRIPTOR (sizeof(allDescriptors)/sizeof(ADM_audioEncoderDescriptor *))
-#endif
-//EOF
-
-#endif
\ No newline at end of file

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audioEncoder/include/audioencoder_enum.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audioEncoder/include/audioencoder_enum.h	2008-07-19 16:00:59 UTC (rev 4244)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audioEncoder/include/audioencoder_enum.h	2008-07-19 16:01:02 UTC (rev 4245)
@@ -1,24 +0,0 @@
-/**
-    \fn audioencoder_enum
-    \brief Temporary, will be removed
-*/
-
-#ifndef audioencoder_enum_h
-#define audioencoder_enum_h
-#if 0
-typedef enum 
-{
-	AUDIOENC_NONE,
-	AUDIOENC_MP3,
-	AUDIOENC_MP2,
-	AUDIOENC_AC3,
-	AUDIOENC_2LAME,
-	AUDIOENC_FAAC,
-	AUDIOENC_VORBIS,
-    AUDIOENC_COPY,
-    AUDIOENC_LPCM,
-    AUDIOENC_AFTEN,
-    AUDIOENC_DUMMY
-}AUDIOENCODER;
-#endif
-#endif
\ No newline at end of file

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audioEncoder/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audioEncoder/src/CMakeLists.txt	2008-07-19 16:00:59 UTC (rev 4244)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audioEncoder/src/CMakeLists.txt	2008-07-19 16:01:02 UTC (rev 4245)
@@ -1,30 +0,0 @@
-SET(ADMaudioEncoder_SRCS
-audioencoder_aften.cpp
-audioencoder_faac.cpp
-audioencoder_lame.cpp
-audioencoder_lavcodec.cpp
-audioencoder_pcm.cpp
-audioencoder_twolame.cpp
-audioencoder_vorbis.cpp 
-)	
-ADD_ADM_LIB_ALL_TARGETS(ADM_audioEncoder ${ADMaudioEncoder_SRCS})
-INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/avidemux/ADM_coreAudio/include)
-INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/avidemux/ADM_audioEncoder/include)
-INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/avidemux/ADM_audiofilter/)
-INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/avidemux/ADM_audioEncoder/include)
-IF (USE_AFTEN)
-	ADD_SOURCE_CFLAGS(audioencoder_aften.cpp -I${AFTEN_INCLUDE_DIR})
-ENDIF (USE_AFTEN)
-
-IF (USE_FAAC)
-	ADD_SOURCE_CFLAGS(audioencoder_faac.cpp -I${FAAC_INCLUDE_DIR})
-ENDIF (USE_FAAC)
-
-IF (HAVE_LIBMP3LAME)
-	ADD_SOURCE_CFLAGS(audioencoder_lame.cpp -I${LAME_INCLUDE_DIR})
-ENDIF (HAVE_LIBMP3LAME)
-
-IF (USE_VORBIS)
-	ADD_SOURCE_CFLAGS(audioencoder_vorbis.cpp -I${VORBIS_INCLUDE_DIR})
-ENDIF (USE_VORBIS)
-

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audioEncoderApi.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audioEncoderApi.h	2008-07-19 16:00:59 UTC (rev 4244)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audioEncoderApi.h	2008-07-19 16:01:02 UTC (rev 4245)
@@ -0,0 +1,35 @@
+/**
+    \file audioEncoderApi.h
+    \brief Helper functions to deal with audioEncoders
+
+*/
+#ifndef AUDIOENCODERAPI_H
+#define AUDIOENCODERAPI_H
+
+/// Select the best encoder using the audio fourcc : WAV_MP3 etc...
+uint8_t audio_selectCodecByTag(uint32_t tag);
+/// Set an option for example &quot;DISABLERESERVOIR&quot;,1
+uint8_t audioSetOption(const char *option, uint32_t value);
+/// Select the copy Codec
+uint8_t audio_setCopyCodec(void);
+/// Directly set the codec, *only to be used
+uint8_t audioCodecSetByIndex(int i);
+/// Spawn a new encoder
+AUDMEncoder *audioEncoderCreate(AUDMAudioFilter *filter);
+/// Select a encoder by its name e.g. &quot;lame&quot;
+uint8_t audioCodecSetByName( const char *name);
+/// Returns the name of the currently selected codec
+const char *audioCodecGetName( void );
+/// Update the UI with the currently selected codec
+void audioPrintCurrentCodec(void);
+/// Returns 1 if we are in process mode, 0 if in copy mode
+uint32_t audioProcessMode(void);
+/// Retrieve current audio encoder configuration
+uint8_t getAudioExtraConf(uint32_t *bitrate,uint32_t *extraDataSize, uint8_t **extradata);
+/// Set current audio encoder configuration
+uint8_t setAudioExtraConf(uint32_t bitrate,uint32_t extraDataSize, uint8_t *extradata);
+
+
+
+#endif
+// EOF

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audio_encoderPlugin.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audio_encoderPlugin.cpp	2008-07-19 16:00:59 UTC (rev 4244)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audio_encoderPlugin.cpp	2008-07-19 16:01:02 UTC (rev 4245)
@@ -25,7 +25,10 @@
 static AUDIOENCODER ADM_encoderByName(const char *name);
 static const char *ADM_audioEncoderById(AUDIOENCODER id);
 
-
+/**
+    \class ADM_AudioEncoderLoader
+    \brief Helper class to load plugins
+*/
 class ADM_AudioEncoderLoader :public ADM_LibWrapper
 {
 
@@ -198,18 +201,7 @@
 {
 	return currentEncoder;
 }
-//*******************************************************************
-/**
-    \fn     
-    \brief
-*/
-void audioCodecChanged(int newcodec)
-{
-      ADM_assert(newcodec&lt;ListOfAudioEncoder.size());
-      currentEncoder=newcodec;
 
-}
-
 /**
     \fn     
     \brief
@@ -260,18 +252,6 @@
 			UI_setAudioCodec(currentEncoder);
 }
 /**
-      \fn audioCodecSetcodec
-      \brief Set &amp; update current audio encoder
-*/
-/*
-void audioCodecSetcodec(AUDIOENCODER codec)
-{
-
-	currentEncoder=codec;
-	audioPrintCurrentCodec();
-
-}*/
-/**
     \fn audioCodecSelect
     \brief
 */

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audioeng_buildfilters.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audioeng_buildfilters.h	2008-07-19 16:00:59 UTC (rev 4244)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audioeng_buildfilters.h	2008-07-19 16:01:02 UTC (rev 4245)
@@ -20,6 +20,7 @@
 #include &quot;audioencoder.h&quot;
 #include &quot;ADM_audio/aviaudio.hxx&quot;
 
+#include &quot;ADM_audiofilter/audioEncoderApi.h&quot;
 
  AVDMGenericAudioStream *buildAudioFilter(AVDMGenericAudioStream *stream, uint32_t startTime);
  AUDMAudioFilter *buildPlaybackFilter(AVDMGenericAudioStream *currentaudiostream,
@@ -37,7 +38,7 @@
 uint32_t audioFilter_getOuputFrequency(uint32_t inputFrequency);
 uint32_t audioFilter_getMaxChannels(void);
 
-#include &quot;ADM_audioEncoder/include/audioencoder_enum.h&quot;
+//#include &quot;ADM_audioEncoder/include/audioencoder_enum.h&quot;
 
 typedef enum 
 {
@@ -65,19 +66,12 @@
 
 }AudioSource;
 
-void audioCodecSetcodec(AUDIOENCODER codec);
+//void audioCodecSetcodec(AUDIOENCODER codec);
 uint8_t audioReset(void);
 /*  for job/workspace stuff  */
-uint8_t audioCodecSetByName( const char *name);
-AudioSource audioCodecGetFromName( const char *name);
-const char *audioCodecGetName( void );
-
 const char *audioFilterGetName( void );
 uint8_t audioFilterSetByName( const char *name);
 
-const char *audioCodecGetConf( void );
-uint8_t audioCodecSetConf(char *conf );
-
 AVDMGenericAudioStream *mpt_getAudioStream(void);
 
 /* -- Set filter --*/
@@ -105,17 +99,8 @@
 AudioSource             audioSourceFromString(const char *name);
 const char              *getCurrentMixerString(void);
 uint8_t                 setCurrentMixerFromString(const char *string);
-uint8_t                 audioLamePreset(const char *name);
+
 //*****
-uint8_t getAudioExtraConf(uint32_t *bitrate,uint32_t *extraDataSize, uint8_t **extradata);
-uint8_t setAudioExtraConf(uint32_t bitrate,uint32_t extraDataSize, uint8_t *extradata);
 //
-uint8_t audio_selectCodecByTag(uint32_t tag);
-void audioCodecChanged(int newcodec);
-uint8_t audioSetOption(const char *option, uint32_t value);
-uint8_t audio_setCopyCodec(void);
-uint8_t audioCodecSetByIndex(int i);
-//
-AUDMEncoder *audioEncoderCreate(AUDMAudioFilter *filter);
 #endif
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audiofilter_buildchain.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audiofilter_buildchain.cpp	2008-07-19 16:00:59 UTC (rev 4244)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audiofilter_buildchain.cpp	2008-07-19 16:01:02 UTC (rev 4245)
@@ -46,7 +46,7 @@
 #include &quot;audiofilter_film2pal.h&quot;
 
 /* ************ Conf *********** */
-#include &quot;audioencoder_config.h&quot;
+//#include &quot;audioencoder_config.h&quot;
 
 
 #include &quot;ADM_osSupport/ADM_debugID.h&quot;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp	2008-07-19 16:00:59 UTC (rev 4244)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp	2008-07-19 16:01:02 UTC (rev 4245)
@@ -456,7 +456,7 @@
         ADM_LowerCase(name);
         // First search the codec by its name
         AudioSource source;
-        if(AudioInvalid==(source=audioCodecGetFromName(name)))
+        if(AudioInvalid==(source=audioSourceFromString(name)))
                 return JS_FALSE;
         // Now get the name
         name = JS_GetStringBytes(JSVAL_TO_STRING(argv[1]));

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_toolkit/automation.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_toolkit/automation.cpp	2008-07-19 16:00:59 UTC (rev 4244)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_toolkit/automation.cpp	2008-07-19 16:01:02 UTC (rev 4245)
@@ -396,7 +396,7 @@
 	else if(!strcasecmp(p,&quot;VORBIS&quot;))
 		audio_selectCodecByTag( WAV_OGG );		
 	else if(!strcasecmp(p,&quot;COPY&quot;))
-		audioCodecChanged( AUDIOENC_COPY );		
+		audio_setCopyCodec();		
 	else{
 		audio_selectCodecByTag( WAV_PCM );
 		fprintf(stderr,&quot;audio codec \&quot;%s\&quot; unknown.\n&quot;,p);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2008-07-19 16:00:59 UTC (rev 4244)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2008-07-19 16:01:02 UTC (rev 4245)
@@ -22,7 +22,7 @@
 
 
 #include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;
-#include &quot;ADM_audioEncoder/include/audioencoder_enum.h&quot;
+//#include &quot;ADM_audioEncoder/include/audioencoder_enum.h&quot;
 
 
 #ifdef USE_XX_XVID 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/gtk_gui.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/gtk_gui.cpp	2008-07-19 16:00:59 UTC (rev 4244)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/gtk_gui.cpp	2008-07-19 16:01:02 UTC (rev 4245)
@@ -238,7 +238,7 @@
 		return;
    case ACT_AudioCodecChanged:
                 nw=UI_getCurrentACodec();
-   		audioCodecChanged(nw);
+                audioCodecSetByIndex(nw);
     		
 		return;
     case ACT_PLUGIN_INFO:


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001490.html">[Avidemux-svn-commit] r4244 -	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter
</A></li>
	<LI>Next message: <A HREF="001492.html">[Avidemux-svn-commit] r4246 - in	branches/avidemux_2.5_branch_gruntster:	avidemux/ADM_audiofilter plugins/ADM_audioEncoders/lavcodec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1491">[ date ]</a>
              <a href="thread.html#1491">[ thread ]</a>
              <a href="subject.html#1491">[ subject ]</a>
              <a href="author.html#1491">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
