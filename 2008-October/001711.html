<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r4474 - in	branches/avidemux_2.5_branch_gruntster: avidemux	avidemux/ADM_UIs/ADM_CLI/src avidemux/ADM_UIs/ADM_GTK/src	avidemux/ADM_UIs/ADM_QT4/src avidemux/ADM_coreUI/include	avidemux/ADM_coreUI/src avidemux/ADM_outputs/oplug_mp4	avidemux/ADM_userInterfaces/ADM_NONE	avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui	plugins/ADM_audioEncoders/faac
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2008-October/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4474%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster%3A%20avidemux%0A%09avidemux/ADM_UIs/ADM_CLI/src%20avidemux/ADM_UIs/ADM_GTK/src%0A%09avidemux/ADM_UIs/ADM_QT4/src%20avidemux/ADM_coreUI/include%0A%09avidemux/ADM_coreUI/src%20avidemux/ADM_outputs/oplug_mp4%0A%09avidemux/ADM_userInterfaces/ADM_NONE%0A%09avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui%0A%09plugins/ADM_audioEncoders/faac&In-Reply-To=%3C200810152240.m9FMeO7W014221%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001710.html">
   <LINK REL="Next"  HREF="001712.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r4474 - in	branches/avidemux_2.5_branch_gruntster: avidemux	avidemux/ADM_UIs/ADM_CLI/src avidemux/ADM_UIs/ADM_GTK/src	avidemux/ADM_UIs/ADM_QT4/src avidemux/ADM_coreUI/include	avidemux/ADM_coreUI/src avidemux/ADM_outputs/oplug_mp4	avidemux/ADM_userInterfaces/ADM_NONE	avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui	plugins/ADM_audioEncoders/faac</H1>
    <B>gruntster at mail.berlios.de</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4474%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster%3A%20avidemux%0A%09avidemux/ADM_UIs/ADM_CLI/src%20avidemux/ADM_UIs/ADM_GTK/src%0A%09avidemux/ADM_UIs/ADM_QT4/src%20avidemux/ADM_coreUI/include%0A%09avidemux/ADM_coreUI/src%20avidemux/ADM_outputs/oplug_mp4%0A%09avidemux/ADM_userInterfaces/ADM_NONE%0A%09avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui%0A%09plugins/ADM_audioEncoders/faac&In-Reply-To=%3C200810152240.m9FMeO7W014221%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r4474 - in	branches/avidemux_2.5_branch_gruntster: avidemux	avidemux/ADM_UIs/ADM_CLI/src avidemux/ADM_UIs/ADM_GTK/src	avidemux/ADM_UIs/ADM_QT4/src avidemux/ADM_coreUI/include	avidemux/ADM_coreUI/src avidemux/ADM_outputs/oplug_mp4	avidemux/ADM_userInterfaces/ADM_NONE	avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui	plugins/ADM_audioEncoders/faac">gruntster at mail.berlios.de
       </A><BR>
    <I>Thu Oct 16 00:40:24 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001710.html">[Avidemux-svn-commit] r4473 - branches/avidemux_2.4_branch/avidemux
</A></li>
        <LI>Next message: <A HREF="001712.html">[Avidemux-svn-commit] r4475 - in	branches/avidemux_2.5_branch_gruntster: avidemux	avidemux/ADM_coreImage/src avidemux/ADM_inputs/ADM_mpegdemuxer	avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui cmake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1711">[ date ]</a>
              <a href="thread.html#1711">[ thread ]</a>
              <a href="subject.html#1711">[ subject ]</a>
              <a href="author.html#1711">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: gruntster
Date: 2008-10-16 00:40:08 +0200 (Thu, 16 Oct 2008)
New Revision: 4474

Removed:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/
Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_CLI/src/FAC_toggle.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/DIA_dialogFactory.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/FAC_float.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/FAC_float.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_factory.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/DIA_factory.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/gtk_gui.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_audioEncoders/faac/audioencoder_faac.cpp
Log:
[Merge] integrate changes from 2.4 branch (r4457)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_CLI/src/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_CLI/src/FAC_toggle.cpp	2008-10-15 20:09:19 UTC (rev 4473)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_CLI/src/FAC_toggle.cpp	2008-10-15 22:40:08 UTC (rev 4474)
@@ -103,7 +103,7 @@
 //******************************************************
 
 diaElemFloat::diaElemFloat(ELEM_TYPE_FLOAT *intValue,const char *toggleTitle, 
-                            ELEM_TYPE_FLOAT min, ELEM_TYPE_FLOAT max,const char *tip)
+                            ELEM_TYPE_FLOAT min, ELEM_TYPE_FLOAT max,const char *tip, int decimals)
   : diaElem(ELEM_FLOAT)
 {
 }

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/DIA_dialogFactory.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/DIA_dialogFactory.cpp	2008-10-15 20:09:19 UTC (rev 4473)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/DIA_dialogFactory.cpp	2008-10-15 22:40:08 UTC (rev 4474)
@@ -308,7 +308,7 @@
 extern void 	gtkDeleteButton(diaElem *e);
 extern diaElem  *gtkCreateBar(uint32_t percent,const char *toggleTitle);
 extern void     gtkDeleteBar(diaElem *e);
-extern diaElem  *gtkCreateFloat(ELEM_TYPE_FLOAT *intValue,const char *toggleTitle, ELEM_TYPE_FLOAT min, ELEM_TYPE_FLOAT max,const char *tip);
+extern diaElem  *gtkCreateFloat(ELEM_TYPE_FLOAT *intValue,const char *toggleTitle, ELEM_TYPE_FLOAT min, ELEM_TYPE_FLOAT max,const char *tip, int decimals);
 extern void     gtkDeleteFloat(diaElem *e);
 extern CREATE_INTEGER_T  gtkCreateInteger;
 extern CREATE_UINTEGER_T gtkCreateUInteger;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/FAC_float.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/FAC_float.cpp	2008-10-15 20:09:19 UTC (rev 4473)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/FAC_float.cpp	2008-10-15 22:40:08 UTC (rev 4474)
@@ -22,11 +22,13 @@
 
 class diaElemFloat : public diaElem
 {
+protected:
+	int decimals;
 
 public:
   ELEM_TYPE_FLOAT min,max;
   diaElemFloat(ELEM_TYPE_FLOAT *intValue,const char *toggleTitle, ELEM_TYPE_FLOAT min, 
-               ELEM_TYPE_FLOAT max,const char *tip=NULL);
+               ELEM_TYPE_FLOAT max,const char *tip=NULL, int decimals = 2);
   virtual ~diaElemFloat() ;
   void setMe(void *dialog, void *opaque,uint32_t line);
   void getMe(void);
@@ -35,7 +37,7 @@
 };
 
 diaElemFloat::diaElemFloat(ELEM_TYPE_FLOAT *intValue,const char *toggleTitle, 
-                            ELEM_TYPE_FLOAT min, ELEM_TYPE_FLOAT max,const char *tip)
+                            ELEM_TYPE_FLOAT min, ELEM_TYPE_FLOAT max,const char *tip, int decimals)
   : diaElem(ELEM_FLOAT)
 {
   param=(void *)intValue;
@@ -43,6 +45,7 @@
   this-&gt;min=min;
   this-&gt;max=max;
   this-&gt;tip=tip;
+  this-&gt;decimals = decimals;
 }
 
 diaElemFloat::~diaElemFloat()
@@ -105,9 +108,9 @@
 //****************************Hoook*****************
 
 diaElem  *gtkCreateFloat(ELEM_TYPE_FLOAT *intValue,const char *toggleTitle, ELEM_TYPE_FLOAT min,
-        ELEM_TYPE_FLOAT max,const char *tip)
+        ELEM_TYPE_FLOAT max,const char *tip, int decimals)
 {
-	return new  ADM_GtkFactory::diaElemFloat(intValue,toggleTitle,min,max,tip);
+	return new  ADM_GtkFactory::diaElemFloat(intValue,toggleTitle,min,max,tip, decimals);
 }
 void gtkDeleteFloat(diaElem *e)
 {

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/FAC_float.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/FAC_float.cpp	2008-10-15 20:09:19 UTC (rev 4473)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/FAC_float.cpp	2008-10-15 22:40:08 UTC (rev 4474)
@@ -30,11 +30,13 @@
 
 class diaElemFloat : public diaElem
 {
+protected:
+	int decimals;
 
 public:
   ELEM_TYPE_FLOAT min,max;
   diaElemFloat(ELEM_TYPE_FLOAT *intValue,const char *toggleTitle, ELEM_TYPE_FLOAT min, 
-               ELEM_TYPE_FLOAT max,const char *tip=NULL);
+               ELEM_TYPE_FLOAT max,const char *tip=NULL, int decimals = 2);
   virtual ~diaElemFloat() ;
   void setMe(void *dialog, void *opaque,uint32_t line);
   void getMe(void);
@@ -44,7 +46,7 @@
 
 
 //********************************************************************
-diaElemFloat::diaElemFloat(ELEM_TYPE_FLOAT *intValue,const char *toggleTitle, ELEM_TYPE_FLOAT min, ELEM_TYPE_FLOAT max,const char *tip)
+diaElemFloat::diaElemFloat(ELEM_TYPE_FLOAT *intValue,const char *toggleTitle, ELEM_TYPE_FLOAT min, ELEM_TYPE_FLOAT max,const char *tip, int decimals)
   : diaElem(ELEM_TOGGLE)
 {
   param=(void *)intValue;
@@ -52,6 +54,7 @@
   this-&gt;min=min;
   this-&gt;max=max;
   this-&gt;tip=tip;
+  this-&gt;decimals = decimals;
  }
 
 diaElemFloat::~diaElemFloat()
@@ -68,7 +71,7 @@
    
  box-&gt;setMinimum(min);
  box-&gt;setMaximum(max);
- box-&gt;setDecimals(2);
+ box-&gt;setDecimals(decimals);
  box-&gt;setSingleStep(0.1);
  box-&gt;setValue(*(ELEM_TYPE_FLOAT *)param);
  
@@ -109,9 +112,9 @@
 //****************************Hoook*****************
 
 diaElem  *qt4CreateFloat(ELEM_TYPE_FLOAT *intValue,const char *toggleTitle, ELEM_TYPE_FLOAT min,
-        ELEM_TYPE_FLOAT max,const char *tip)
+        ELEM_TYPE_FLOAT max,const char *tip, int decimals)
 {
-	return new  ADM_qt4Factory::diaElemFloat(intValue,toggleTitle,min,max,tip);
+	return new  ADM_qt4Factory::diaElemFloat(intValue,toggleTitle,min,max,tip, decimals);
 }
 void qt4DestroyFloat(diaElem *e)
 {

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_factory.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_factory.h	2008-10-15 20:09:19 UTC (rev 4473)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/include/DIA_factory.h	2008-10-15 22:40:08 UTC (rev 4474)
@@ -285,14 +285,16 @@
 
 /*********************************************/
 typedef diaElem  *(CREATE_FLOAT_T)(ELEM_TYPE_FLOAT *intValue,const char *toggleTitle, ELEM_TYPE_FLOAT min,
-        ELEM_TYPE_FLOAT max,const char *tip);
+        ELEM_TYPE_FLOAT max,const char *tip, int decimals);
 class diaElemFloat : public diaElem
 {
+protected:
+	int decimals;
 
 public:
   ELEM_TYPE_FLOAT min,max;
   diaElemFloat(ELEM_TYPE_FLOAT *intValue,const char *toggleTitle, ELEM_TYPE_FLOAT min, 
-               ELEM_TYPE_FLOAT max,const char *tip=NULL);
+               ELEM_TYPE_FLOAT max,const char *tip=NULL, int decimals = 2);
   virtual ~diaElemFloat() ;
   void setMe(void *dialog, void *opaque,uint32_t line);
   void getMe(void);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/DIA_factory.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/DIA_factory.cpp	2008-10-15 20:09:19 UTC (rev 4473)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/DIA_factory.cpp	2008-10-15 22:40:08 UTC (rev 4474)
@@ -93,10 +93,10 @@
 
 // ****************** Buttons ********************
 diaElemFloat ::diaElemFloat(ELEM_TYPE_FLOAT *intValue,const char *toggleTitle, ELEM_TYPE_FLOAT min,
-        ELEM_TYPE_FLOAT max,const char *tip) :diaElem(ELEM_FLOAT)
+        ELEM_TYPE_FLOAT max,const char *tip, int decimals) :diaElem(ELEM_FLOAT)
 {
 	ADM_assert(Factory); 
-	internalPointer=Factory-&gt;CreateFloat(intValue,toggleTitle, min,max,tip);
+	internalPointer=Factory-&gt;CreateFloat(intValue,toggleTitle, min,max,tip, decimals);
 }
 diaElemFloat ::~diaElemFloat()
 {

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp	2008-10-15 20:09:19 UTC (rev 4473)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp	2008-10-15 22:40:08 UTC (rev 4474)
@@ -328,8 +328,10 @@
 			  for (;;)
 			  {
 				  bitstream.cleanup(frame);
-				  bitstream.dtsFrame = UINT32_MAX;	// let libavformat calculate it
 
+				  if (videoCodecGetType() == CodecExternal &amp;&amp; strcmp(videoCodecPluginGetGuid(), &quot;32BCB447-21C9-4210-AE9A-4FCE6C8588AE&quot;) == 0)
+					  bitstream.dtsFrame = UINT32_MAX;	// let libavformat calculate it
+
 				  if (frame + frameDelay &gt;= total)
 				  {
 					  if (_encode-&gt;getRequirements() &amp; ADM_ENC_REQ_NULL_FLUSH)
@@ -430,8 +432,10 @@
 					for (;;)
 					{
 						bitstream.cleanup(frame);
-						bitstream.dtsFrame = UINT32_MAX;	// let libavformat calculate it
 
+						if (videoCodecGetType() == CodecExternal &amp;&amp; strcmp(videoCodecPluginGetGuid(), &quot;32BCB447-21C9-4210-AE9A-4FCE6C8588AE&quot;) == 0)
+							bitstream.dtsFrame = UINT32_MAX;	// let libavformat calculate it
+
 						if (frame + frameDelay &gt;= total)
 						{
 							if (_encode-&gt;getRequirements() &amp; ADM_ENC_REQ_NULL_FLUSH)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp	2008-10-15 20:09:19 UTC (rev 4473)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp	2008-10-15 22:40:08 UTC (rev 4474)
@@ -62,10 +62,8 @@
 		options |= QFileDialog::DontUseNativeDialog;
 #endif
 
-		if (access)
-			fileName = QFileDialog::getSaveFileName(qtLastRegisteredDialog(), label, str, NULL, NULL, options);
-		else
-			fileName = QFileDialog::getOpenFileName(qtLastRegisteredDialog(), label, str, NULL, NULL, options);
+   if(access)  fileName=QFileDialog::getSaveFileName(qtLastRegisteredDialog(), QString::fromUtf8(label), str, NULL, NULL, options);
+       else    fileName=QFileDialog::getOpenFileName(qtLastRegisteredDialog(), QString::fromUtf8(label), str, NULL, NULL, options);
 
 		if (!fileName.isNull() )
 		{
@@ -133,7 +131,7 @@
 		options |= QFileDialog::DontUseNativeDialog;
 #endif
 
-		fileName=QFileDialog::getSaveFileName(qtLastRegisteredDialog(), title, source, NULL, NULL, options);
+  fileName=QFileDialog::getSaveFileName(qtLastRegisteredDialog(), QString::fromUtf8(title), QString::fromUtf8(source), NULL, NULL, options);
 
 		if (!fileName.isNull())
 		{
@@ -165,7 +163,7 @@
 		options |= QFileDialog::DontUseNativeDialog;
 #endif
 
-		fileName = QFileDialog::getOpenFileName(qtLastRegisteredDialog(), title, source, NULL, NULL, options);
+  fileName = QFileDialog::getOpenFileName(qtLastRegisteredDialog(), QString::fromUtf8(title), QString::fromUtf8(source), NULL, NULL, options);
 
 		if (!fileName.isNull())
 		{
@@ -197,7 +195,7 @@
 		options |= QFileDialog::DontUseNativeDialog;
 #endif
 
-		fileName = QFileDialog::getExistingDirectory(qtLastRegisteredDialog(), title, source, options);
+   fileName=QFileDialog::getExistingDirectory(qtLastRegisteredDialog(), QString::fromUtf8(title), QString::fromUtf8(source), options);
 
 		if (!fileName.isNull())
 		{

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/gtk_gui.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/gtk_gui.cpp	2008-10-15 20:09:19 UTC (rev 4473)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/gtk_gui.cpp	2008-10-15 22:40:08 UTC (rev 4474)
@@ -772,20 +772,20 @@
 
 
         diaElemToggle togUsePredefined(&amp;useDefined,QT_TR_NOOP(&quot;Use custom value&quot;));
-        diaElemFloat  fpsFloatValue(&amp;fps,QT_TR_NOOP(&quot;Frame Rate&quot;),1.,200.,QT_TR_NOOP(&quot;_Frames per second&quot;));
+        diaElemFloat  fpsFloatValue(&amp;fps,QT_TR_NOOP(&quot;Frame Rate&quot;),1.,200.,QT_TR_NOOP(&quot;_Frames per second&quot;),3);
 
         diaMenuEntry menuFps[]={
               {0,QT_TR_NOOP(&quot;PAL - 25 FPS&quot;)},
-              {1,QT_TR_NOOP(&quot;FILM- 24 FPS&quot;)},
-              {2,QT_TR_NOOP(&quot;NTSC- 30 FPS&quot;)}};
+              {1,QT_TR_NOOP(&quot;FILM - 24 FPS&quot;)},
+              {2,QT_TR_NOOP(&quot;NTSC - 30 FPS&quot;)}};
 
-         diaElemMenu      stdFps(&amp;index,QT_TR_NOOP(&quot;Standard FrameRate:&quot;),3,menuFps);
+         diaElemMenu      stdFps(&amp;index,QT_TR_NOOP(&quot;Standard Frame Rate:&quot;),3,menuFps);
 
         togUsePredefined.link(1,&amp;fpsFloatValue);
         togUsePredefined.link(0,&amp;stdFps);
 
         diaElem *elems[3]={&amp;togUsePredefined,&amp;fpsFloatValue,&amp;stdFps};
-        if(diaFactoryRun(QT_TR_NOOP(&quot;Change FrameRate&quot;),3,elems))
+        if(diaFactoryRun(QT_TR_NOOP(&quot;Change Frame Rate&quot;),3,elems))
         {
           if(useDefined)
           {

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_audioEncoders/faac/audioencoder_faac.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_audioEncoders/faac/audioencoder_faac.cpp	2008-10-15 20:09:19 UTC (rev 4473)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_audioEncoders/faac/audioencoder_faac.cpp	2008-10-15 22:40:08 UTC (rev 4474)
@@ -122,7 +122,7 @@
     // Set default conf, same as ffmpeg
     cfg-&gt;aacObjectType = LOW;
     cfg-&gt;mpegVersion = MPEG4;
-    cfg-&gt;bandWidth= (_wavheader-&gt;frequency*3)/4; // Should be relevant
+    cfg-&gt;bandWidth= 0; //(_wavheader-&gt;frequency*3)/4; // Should be relevant
     cfg-&gt;useTns = 0;
     cfg-&gt;allowMidside = 0;
     cfg-&gt;bitRate = (faacParm.bitrate*1000)/_wavheader-&gt;channels; // It is per channel


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001710.html">[Avidemux-svn-commit] r4473 - branches/avidemux_2.4_branch/avidemux
</A></li>
	<LI>Next message: <A HREF="001712.html">[Avidemux-svn-commit] r4475 - in	branches/avidemux_2.5_branch_gruntster: avidemux	avidemux/ADM_coreImage/src avidemux/ADM_inputs/ADM_mpegdemuxer	avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui cmake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1711">[ date ]</a>
              <a href="thread.html#1711">[ thread ]</a>
              <a href="subject.html#1711">[ subject ]</a>
              <a href="author.html#1711">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
