<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r6577 - in	branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters:	AddBorders AvisynthResize AvisynthResize/gtk	AvisynthResize/qt4 BlackenBorders Crop Crop/gtk Crop/qt4	KernelDeint Logo MplayerDenoise3D MplayerResize	MplayerResize/gtk MplayerResize/qt4 ResampleFps Rotate SwapUV	VerticalFlip lavDeinterlace
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2010-September/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r6577%20-%20in%0A%09branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters%3A%0A%09AddBorders%20AvisynthResize%20AvisynthResize/gtk%0A%09AvisynthResize/qt4%20BlackenBorders%20Crop%20Crop/gtk%20Crop/qt4%0A%09KernelDeint%20Logo%20MplayerDenoise3D%20MplayerResize%0A%09MplayerResize/gtk%20MplayerResize/qt4%20ResampleFps%20Rotate%20SwapUV%0A%09VerticalFlip%20lavDeinterlace&In-Reply-To=%3C20100904090558.CE3DB48100F%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003762.html">
   <LINK REL="Next"  HREF="003764.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r6577 - in	branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters:	AddBorders AvisynthResize AvisynthResize/gtk	AvisynthResize/qt4 BlackenBorders Crop Crop/gtk Crop/qt4	KernelDeint Logo MplayerDenoise3D MplayerResize	MplayerResize/gtk MplayerResize/qt4 ResampleFps Rotate SwapUV	VerticalFlip lavDeinterlace</H1>
    <B>mean at mail.berlios.de</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r6577%20-%20in%0A%09branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters%3A%0A%09AddBorders%20AvisynthResize%20AvisynthResize/gtk%0A%09AvisynthResize/qt4%20BlackenBorders%20Crop%20Crop/gtk%20Crop/qt4%0A%09KernelDeint%20Logo%20MplayerDenoise3D%20MplayerResize%0A%09MplayerResize/gtk%20MplayerResize/qt4%20ResampleFps%20Rotate%20SwapUV%0A%09VerticalFlip%20lavDeinterlace&In-Reply-To=%3C20100904090558.CE3DB48100F%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r6577 - in	branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters:	AddBorders AvisynthResize AvisynthResize/gtk	AvisynthResize/qt4 BlackenBorders Crop Crop/gtk Crop/qt4	KernelDeint Logo MplayerDenoise3D MplayerResize	MplayerResize/gtk MplayerResize/qt4 ResampleFps Rotate SwapUV	VerticalFlip lavDeinterlace">mean at mail.berlios.de
       </A><BR>
    <I>Sat Sep  4 11:05:58 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003762.html">[Avidemux-svn-commit] r6576 -	branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders/ADM_ad_faad
</A></li>
        <LI>Next message: <A HREF="003764.html">[Avidemux-svn-commit] r6578 -	branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3763">[ date ]</a>
              <a href="thread.html#3763">[ thread ]</a>
              <a href="subject.html#3763">[ subject ]</a>
              <a href="author.html#3763">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2010-09-04 11:05:58 +0200 (Sat, 04 Sep 2010)
New Revision: 6577

Removed:
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AddBorders/ADM_vidAddBorder.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AddBorders/ADM_vidAddBorder.h
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AddBorders/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_resizebis.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_resizebis.hxx
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_resizeter.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_vidResize.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_vidResize.h
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/gtk/gtk_resize.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.h
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.h.orig
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/qt4/resizing.ui
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/BlackenBorders/ADM_vidBlackenBorders.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/BlackenBorders/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/ADM_vidCrop.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/ADM_vidCrop_param.h
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/DIA_flyCrop.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/DIA_flyCrop.h
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/gtk/DIA_crop.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/qt4/Q_crop.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/qt4/Q_crop.h
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/qt4/crop.ui
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/KernelDeint/ADM_vidKernelDeint.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/KernelDeint/ADM_vidKernelDeint.h
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/KernelDeint/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Logo/ADM_vidLogo.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Logo/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/ADM_vidMPLD3D.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/ADM_vidMPLD3D.h
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/ADM_vidMPLD3Dlow.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/ADM_vidMPLD3Dlow.h
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/ADM_vidMPLResize.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/gtk/gtk_resize.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.h
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.h.orig
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/qt4/resizing.ui
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/ResampleFps/ADM_vidResampleFPS.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/ResampleFps/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Rotate/ADM_vidRotate.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Rotate/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/SwapUV/ADM_vidUVSwap.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/SwapUV/ADM_vidUVSwap.h
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/SwapUV/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/VerticalFlip/ADM_vidFlipV.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/VerticalFlip/ADM_vidFlipV.h
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/VerticalFlip/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/lavDeinterlace/ADM_lavpp_deint.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/lavDeinterlace/ADM_lavpp_deintparam.h
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/lavDeinterlace/CMakeLists.txt
Log:
[filter] Remove ported filters

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AddBorders/ADM_vidAddBorder.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AddBorders/ADM_vidAddBorder.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AddBorders/ADM_vidAddBorder.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,246 +0,0 @@
-/***************************************************************************
-                          ADM_vidAddBorder.cpp  -  description
-                             -------------------
-    begin                : Sun Aug 11 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include &quot;ADM_default.h&quot;
-#include &quot;ADM_videoFilterDynamic.h&quot;
-#include &quot;DIA_coreToolkit.h&quot;
-#include &quot;ADM_vidAddBorder.h&quot;
-
-
-
-#include &quot;DIA_factory.h&quot;
-
-static FILTER_PARAM cropParam={4,{&quot;left&quot;,&quot;right&quot;,&quot;top&quot;,&quot;bottom&quot;}};
-
-
-VF_DEFINE_FILTER(AVDMVideoAddBorder,cropParam,
-                addblack,
-                QT_TR_NOOP(&quot;Add black borders&quot;),
-                1,
-                VF_TRANSFORM,
-                QT_TR_NOOP(&quot;Add pure black border(s).&quot;));
-
-char *AVDMVideoAddBorder::printConf( void )
-{
- 	ADM_FILTER_DECLARE_CONF(&quot; Add Borders %lu x %lu --&gt; %lu x %lu&quot;,
- 				_in-&gt;getInfo()-&gt;width,
- 				_in-&gt;getInfo()-&gt;height,
- 				_info.width,
- 				_info.height);
-        
-}
-
-AVDMVideoAddBorder::AVDMVideoAddBorder(  AVDMGenericVideoStream *in,CONFcouple *couples)
-{
-
- 	_in=in;		
-   	memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));  		
-	
-		if(couples)
-		{
-
-			 _param=NEW(ADDBORDER_PARAMS);
-
-				GET(left);
-				GET(right);
-				GET(top);
-				GET(bottom);
-				_info.width+=_param-&gt;right+_param-&gt;left;
-				_info.height+=_param-&gt;bottom+_param-&gt;top;
-		}	
-			else 			
-		{	// default parameter	
-				_param=NEW(ADDBORDER_PARAMS);
-				_param-&gt;left=_param-&gt;top=
-				_param-&gt;right=_param-&gt;bottom=0;
-		}				
-					
- 	//_uncompressed=(uint8_t *)malloc(3*_in-&gt;getInfo()-&gt;width*_in-&gt;getInfo()-&gt;height);
- 	//_uncompressed=new uint8_t [3*_in-&gt;getInfo()-&gt;width*_in-&gt;getInfo()-&gt;height];
-	_uncompressed=new ADMImage(_in-&gt;getInfo()-&gt;width,_in-&gt;getInfo()-&gt;height);
-  ADM_assert(_uncompressed);
-  _info.encoding=1;
-
-  	  	
-}
-AVDMGenericVideoStream *create_addBorder(AVDMGenericVideoStream *in,uint32_t x,uint32_t x2,uint32_t y,uint32_t y2)
-{
-	return new AVDMVideoAddBorder(in,x,x2,y,y2);
-}
-AVDMVideoAddBorder::AVDMVideoAddBorder(  AVDMGenericVideoStream *in,uint32_t x,uint32_t x2,uint32_t y,uint32_t y2)
-{
-
- 	_in=in;		
-   	memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));  		
-
-				_param=NEW(ADDBORDER_PARAMS);
-				_param-&gt;left=x;
-				_param-&gt;top=y;
-				_param-&gt;right=x2;
-				_param-&gt;bottom=y2;
-	_info.width+=_param-&gt;right+_param-&gt;left;
-	_info.height+=_param-&gt;bottom+_param-&gt;top;
- 	//_uncompressed=(uint8_t *)malloc(3*_in-&gt;getInfo()-&gt;width*_in-&gt;getInfo()-&gt;height);
- 	//_uncompressed=new uint8_t [3*_in-&gt;getInfo()-&gt;width*_in-&gt;getInfo()-&gt;height];
-	_uncompressed=new ADMImage(_in-&gt;getInfo()-&gt;width,_in-&gt;getInfo()-&gt;height);
-  ADM_assert(_uncompressed);
-  _info.encoding=1;
-
-
-}
-
-uint8_t	AVDMVideoAddBorder::getCoupledConf( CONFcouple **couples)
-{
-
-			ADM_assert(_param);
-			*couples=new CONFcouple(4);
-
-
-	CSET(left);
-	CSET(right);
-	CSET(top);
-	CSET(bottom);
-			return 1;
-
-}
-AVDMVideoAddBorder::~AVDMVideoAddBorder()
-{
- 	delete _uncompressed;
-	DELETE(_param);
-	_uncompressed=NULL;
- 	
-}
-uint8_t AVDMVideoAddBorder::getFrameNumberNoAlloc(uint32_t frame,
-				uint32_t *len,
-   				ADMImage *data,
-				uint32_t *flags)
-{
-
-		if(frame&gt;=_info.nb_frames) 
-		{
-			printf(&quot;Filter : out of bound!\n&quot;);
-			return 0;
-		}
-	
-		ADM_assert(_param);									
-								
-			// read uncompressed frame
-       		if(!_in-&gt;getFrameNumberNoAlloc(frame, len,_uncompressed,flags)) return 0;
-       		
-				// blacken screen
-				memset(YPLANE(data),16,_info.width*_info.height);
-				memset(UPLANE(data),128,(_info.width*_info.height)&gt;&gt;2);
-				memset(VPLANE(data),128,(_info.width*_info.height)&gt;&gt;2);
-
-				// do luma
-				uint8_t *src,*dest;
-       		uint32_t y,x,line,lineout;
-       		
-       		y=_in-&gt;getInfo()-&gt;height;
-       		x=_in-&gt;getInfo()-&gt;width;
-       		line=x;
-		lineout=_info.width;
-		
-		// copy Luma
-       		src=YPLANE(_uncompressed);
-       		dest=YPLANE(data)+_param-&gt;left+_info.width*_param-&gt;top;
-       		
-       		for(uint32_t k=y;k&gt;0;k--)
-       		{
-       		 	    memcpy(dest,src,line);
-       		 	    src+=line;
-       		 	    dest+=lineout;
-       		}
-       		 
-		// U and V now
-		uint8_t *src_u,*src_v;
-		uint8_t *dst_u,*dst_v;
-
-       		src_u=UPLANE(_uncompressed);
-       		src_v=VPLANE(_uncompressed);
-       		line&gt;&gt;=1;
-       		lineout&gt;&gt;=1;       		       		 	
-		dst_u=UPLANE( data)+(_info.width*_param-&gt;top&gt;&gt;2)+
-						(_param-&gt;left&gt;&gt;1);;
-		dst_v= VPLANE( data)+(_info.width*_param-&gt;top&gt;&gt;2)+
-						(_param-&gt;left&gt;&gt;1);;
-
-       		 for(uint32_t k=y&gt;&gt;1;k&gt;0;k--)
-       		 {
-       		 	memcpy(dst_u,src_u,line);
-       		 	memcpy(dst_v,src_v,line);
-
-       			src_u+=line;
-       			src_v+=line;
-
-       			dst_u+=lineout;
-       		    	dst_v+=lineout;
-
-       		 }
-       		  *len= _info.width*_info.height+(_info.width*_info.height&gt;&gt;1);
-		  data-&gt;copyInfo(_uncompressed);
-      return 1;
-}
-uint8_t AVDMVideoAddBorder::configure(AVDMGenericVideoStream *in)
-{
-	_in=in;
-	ADM_assert(_param);
-        uint32_t width,height;
-#define MAKEME(x) uint32_t x=_param-&gt;x;
-        while(1)
-        {
-          MAKEME(left);
-          MAKEME(right);
-          MAKEME(top);
-          MAKEME(bottom);
-          
-          width=_in-&gt;getInfo()-&gt;width;
-          height=_in-&gt;getInfo()-&gt;height;
-          
-          diaElemUInteger dleft(&amp;left,QT_TR_NOOP(&quot;_Left border:&quot;),       0,width);
-          diaElemUInteger dright(&amp;right,QT_TR_NOOP(&quot;_Right border:&quot;),    0,width);
-          diaElemUInteger dtop(&amp;(top),QT_TR_NOOP(&quot;_Top border:&quot;),          0,height);
-          diaElemUInteger dbottom(&amp;(bottom),QT_TR_NOOP(&quot;_Bottom border:&quot;), 0,height);
-            
-          diaElem *elems[4]={&amp;dleft,&amp;dright,&amp;dtop,&amp;dbottom};
-          if(diaFactoryRun(QT_TR_NOOP(&quot;Add Borders&quot;),4,elems))
-          {
-            if((left&amp;1) || (right&amp;1)|| (top&amp;1) || (bottom&amp;1))
-            {
-              GUI_Error_HIG(QT_TR_NOOP(&quot;Incorrect parameters&quot;),QT_TR_NOOP(&quot;All parameters must be even and within range.&quot;)); 
-              continue;
-            }
-            else
-            {
-  #undef MAKEME
-  #define MAKEME(x) _param-&gt;x=x;
-                MAKEME(left);
-                MAKEME(right);
-                MAKEME(top);
-                MAKEME(bottom);
-                _info.width=width+left+right;
-                _info.height=height+top+bottom;
-                return 1;
-            }
-          }
-          return 0;
-      }
-}
-
-
-
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AddBorders/ADM_vidAddBorder.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AddBorders/ADM_vidAddBorder.h	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AddBorders/ADM_vidAddBorder.h	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,45 +0,0 @@
-/***************************************************************************
-                          ADM_vidAddBorder.h  -  description
-                             -------------------
-    begin                : Sun Aug 11 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#ifndef __ADDBORDER__
-#define     __ADDBORDER__
-
-
-typedef struct
-{
-        uint32_t left,right;
-        uint32_t top,bottom;
-}ADDBORDER_PARAMS;
-
-  class  AVDMVideoAddBorder:public AVDMGenericVideoStream
- {
-
- protected:
-              virtual char        *printConf(void);
-              ADDBORDER_PARAMS         *_param;
- public:
-
-                                    AVDMVideoAddBorder(  AVDMGenericVideoStream *in,CONFcouple *setup);
-                                    AVDMVideoAddBorder(  AVDMGenericVideoStream *in,uint32_t x,uint32_t x2,
-                                                              uint32_t y,uint32_t y2);
-            virtual                 ~AVDMVideoAddBorder();
-            virtual 	uint8_t     getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-                                            ADMImage *data,uint32_t *flags);
-                        uint8_t     configure( AVDMGenericVideoStream *instream) ;
-                        uint8_t     getCoupledConf( CONFcouple **couples);
- }     ;
-
-#endif

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AddBorders/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AddBorders/CMakeLists.txt	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AddBorders/CMakeLists.txt	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,9 +0,0 @@
-INCLUDE(vf_plugin)
-
-
-SET(ADM_vf_addborders_SRCS ADM_vidAddBorder.cpp)
-
-ADD_LIBRARY(ADM_vf_addborders SHARED ${ADM_vf_addborders_SRCS})
-
-INIT_VIDEOFILTER_PLUGIN(ADM_vf_addborders)
-INSTALL_VIDEOFILTER(ADM_vf_addborders)

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_resizebis.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_resizebis.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_resizebis.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,356 +0,0 @@
-/***************************************************************************
-                          ADM_resizebis.cpp  -  description
-                             -------------------
-
-      Strongly derivated from avisynth
-
-      Seems that int on VC++ is a long integer, hence the INT cast.
-
-
-    begin                : Sun Mar 24 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include &lt;math.h&gt;
-
-#include &quot;ADM_default.h&quot;
-
-#include &quot;ADM_videoFilterDynamic.h&quot;
-#include &quot;ADM_vidResize.h&quot;
-#include &quot;ADM_resizebis.hxx&quot;
-
-#define SLOW
-
-// General purpose, no need to put them inside class
-// declare static as it could lead to some optimizations
-// the original file was plain C
-
-double TriangleFunc(double x);
-double MitchellFunc(double x);
-double Lanczos3f(double x);
-double Lanczos3sinc(double x);
-
-
-ResampleFunc TriangleFilter = {
-    TriangleFunc, 1.0
-};
-
-ResampleFunc MitchellFilter = {
-    MitchellFunc, 2.0
-};
-
-ResampleFunc LanczosFilter = {
-    Lanczos3f, 3.0
-};
-
-
-
-ResampleFunc RFuncs[3] = {
-    TriangleFilter, MitchellFilter,LanczosFilter
-};
-
-
-//________________________________________________
-
-double TriangleFunc(double x)
-{
-    x = fabs(x);
-    return (x &lt; 1.0) ? 1.0 - x : 0.0;
-}
-
-
-#define bbb (1./3.)
-#define ccc (1./3.)
-#define p0  ((6. - 2. * bbb) / 6.)
-#define p2  ((-18. + 12. * bbb + 6. * ccc) / 6.)
-#define p3  ((12. - 9. * bbb - 6. * ccc) / 6. )
-#define q0  ((8. * bbb + 24. * ccc) / 6.   )
-#define q1  ((-12. * bbb - 48. * ccc) / 6.)
-#define q2  ((6. * bbb + 30. * ccc) / 6.)
-#define   q3 ( (     -     bbb -  6.*ccc) / 6.)
-double MitchellFunc(double x)
-{
-    x = fabs(x);
-    return (x &lt; 1.0) ? (p0 + x * x * (p2 + x * p3)) :
-      (x &lt;  2.) ? (q0 +     x * (q1 +  x *  (q2   +   x   *   q3))): 0.0;
-}
-double Lanczos3sinc(double value)
-{
-	if (value != 0.0)
-	{
-		value *= M_PI;
-		return sin(value) / value;
-	}
-	else
-	{
-		return 1.0;
-	}
-}
-
-double Lanczos3f(double value)
-{
-	if (value &lt; 0.0)
-	{
-		value = -value;
-	}
-	if (value &lt; 3.0)
-	{
-		return (Lanczos3sinc(value) * Lanczos3sinc(value / 3.0));
-	}
-	else
-	{
-		return 0.0;
-	}
-}
-
-
-
-// This function returns a resampling &quot;program&quot; which is interpreted by the
-// FilteredResize filters.  It handles edge conditions so FilteredResize
-// doesn't have to.
-//____________________________________________________________________________
-
-INT *GetResamplingPattern(uint32_t original_width,
-			      uint32_t target_width, ResampleFunc * func)
-{
-    double scale, filter_step,filter_support;
-    double pos_step ;
-
-    scale = double (target_width);
-    scale/= (double)original_width;
-    if (scale &lt; 1.0)
-	filter_step = scale;
-
-    else
-	filter_step = 1.0;
-    filter_support = func-&gt;support;
-    filter_support /= filter_step;
-    int fir_filter_size = int (ceil(filter_support * 2));
-    INT *result = new INT[1 + target_width * (1 + fir_filter_size)];
-    INT *cur = result;
-    
-    *cur++ = fir_filter_size;
-   
-    printf(&quot;\n Fir size : %d&quot;,fir_filter_size);
-    pos_step=original_width;
-    pos_step /= target_width;
-
- 
-
-    // the following translates such that the image center remains fixed
-    double pos = original_width;
-
-       pos-= target_width ;
-       pos/= (target_width * 2);
-
-//   printf(&quot;\n In width : %lu out width : %lu pos_step : %lf pos_initial : %lf&quot;,original_width,target_width, pos_step,pos);
-
-    for (uint32_t i = 0; i &lt; target_width; ++i)
-
-      {
-	  INT end_pos = (INT) (pos + filter_support);
-	  if (end_pos &gt; (INT)original_width - 1)
-	      end_pos = original_width - 1;
-	  INT start_pos = end_pos - fir_filter_size + 1;
-	  if (start_pos &lt; 0)
-	      start_pos = 0;
-	  *cur++ = start_pos;
-
-	  // the following code ensures that the coefficients add to exactly 65536
-	  double total = 0.0;
-	  for (int j = 0; j &lt; fir_filter_size; ++j)
-	      total += func-&gt;f((start_pos + j - pos) * filter_step);
-	  double total2 = 0.0;
-	  for (int k = 0; k &lt; fir_filter_size; ++k)
-
-	    {
-		double total3 =
-		    total2 +func-&gt;f((start_pos + k - pos) * filter_step) / total;
-		    *cur++ =int (total3 * 65536 + 0.5) - int (total2 * 65536 +
-						      0.5);
-		total2 = total3;
-	    } 
-            pos += pos_step;
-      } 
-      return result;
-}
-
-//
-//      Vertical resizing
-//              Resized one plane also
-//_______________________________
-void AVDMVideoStreamResize::ResizeV(Image * iin, Image * iout,
-				    INT *pattern)
-{
-    INT *cur = pattern;
-    int fir_filter_width = *cur++;
-    int row_size = iin-&gt;width;
-    unsigned char *out = iout-&gt;data;
-    unsigned char *srcbuffer = iin-&gt;data;
-    unsigned char *base ,*base2;
-	int total;
-
-    for (uint32_t y = 0; y &lt; iout-&gt;height; ++y)
-
-      {
-	  			base = srcbuffer + row_size * (*cur++);
-	  			for (int x = 0; x &lt; row_size; ++x)
-				  {
-					 total = 0;
-					 base2 = base + x;
-					for (int b = 0; b &lt; fir_filter_width; ++b)
-				  	{	
-				      		total += *base2 * cur[b];
-		      				base2 += row_size;
-					  }
-					  *out++ = ScaledPixelClip(total);
-	  			  } 
-				cur += fir_filter_width;
-	}
-}
-
-//____________________________________
-//      Perform horizontal resizing
-//              On one plane
-//              Must be called 3 times for RGB or 3 times for YV12
-//____________________________________
-void AVDMVideoStreamResize::ResizeH(Image * iin, Image * iout,
-				    INT  *pattern)
-{
-    unsigned char *base = iin-&gt;data;
-    unsigned char *out = iout-&gt;data;
-    int src_row_size = iin-&gt;width;
-    int dst_row_size = iout-&gt;width;
-	uint8_t *ptr;
-	INT *cur;
-	int32_t total;
-   INT ofs;
-    
-    for (uint32_t y =  iin-&gt;height; y&gt;0; y--)
-      {
-	  	cur = pattern + 1;
-	  for (int x = 0; x &lt; dst_row_size ; x++)
-	    {
-			total=0;
-			ofs = *cur++;
-			ptr= &amp;(base[(ofs )]);
-
-			for (int a =   pattern[0];a&gt;0; a--)
-			  {
-			      total += (*ptr++) * (*cur++);
-		  		}
-		   		out[x] = ScaledPixelClip(total);
-	    } // next line...
-	     base += src_row_size;
-	  	out += dst_row_size;
-	}
-
-}
-
-///_____________
-
-/*  ____________________________________________________________________
-	zoom()
-
-	Resizes bitmaps while resampling them.
-	Returns -1 if error, 0 if success.
-*/
-void AVDMVideoStreamResize::precompute(Image * dst, Image * src,
-				       uint8_t algo)
-//____________________________________________________________________
-{
-
-#define FREE_USED(x) if(x) { delete [] x;x=NULL;}
-	FREE_USED(Hpattern_luma);
-	FREE_USED(Hpattern_chroma);
-	FREE_USED(Vpattern_luma);
-	FREE_USED(Vpattern_chroma);
-	
-#ifdef SLOW	 
-	#define MakePattern GetResamplingPattern
-#else
-	#define MakePattern GetResamplingPatternFIR4
-#endif
-
-    Hpattern_luma = MakePattern(src-&gt;width,  dst-&gt;width, &amp;RFuncs[algo]);
-    Hpattern_chroma =MakePattern(src-&gt;width &gt;&gt; 1,  dst-&gt;width &gt;&gt; 1, &amp;RFuncs[algo]);
-    Vpattern_luma =MakePattern(src-&gt;height,  dst-&gt;height,&amp;RFuncs[algo]);
-    Vpattern_chroma =MakePattern(src-&gt;height &gt;&gt; 1,   dst-&gt;height &gt;&gt; 1, &amp;RFuncs[algo]);
-
-
-}
-
-//__________________________________________________________________
-uint8_t AVDMVideoStreamResize::zoom(Image * dst, Image * src)				
-//__________________________________________________________________
-{
-  // First Horizontal resize from src -&gt; intermediate
-  Image tmpin;
-                      tmpin.width=dst-&gt;width;
-                      tmpin.height=src-&gt;height;
-                      tmpin.data=_intermediate_buffer;
-		      
-
-#ifdef SLOW		 											
-					#define DORES(src,dst,patH,patV)   	ResizeH(src, &amp;tmpin,patH)    ;  \
-													        		        ResizeV(&amp;tmpin,dst,patV);        
-#else                     
-					#define DORES(src,dst,patH,patV)    ResizeHFIR4(src, &amp;tmpin,patH)    ; \
-													           					ResizeVFIR4(&amp;tmpin,dst,patV);      
-#endif
-		      
-		      
-		      //---------Y---------------
-		      
-		      	DORES(src,dst,Hpattern_luma, Vpattern_luma);
-    				
-
-				// update fields, 
-    				src-&gt;data+=src-&gt;width*src-&gt;height;
-    				dst-&gt;data+=dst-&gt;width*dst-&gt;height;
-    				
-    		    src-&gt;width&gt;&gt;=1;
-    		    src-&gt;height&gt;&gt;=1;
-    		    dst-&gt;width&gt;&gt;=1;
-    		    dst-&gt;height&gt;&gt;=1;
-          
-		       	tmpin.height=src-&gt;height;
-		       	tmpin.width=dst-&gt;width;
-		       	tmpin.data+= tmpin.height*tmpin.width;
-
-		       // --------- U -------------
-		      	DORES(src,dst,Hpattern_chroma, Vpattern_chroma);
-		          				
-    		    src-&gt;data+=src-&gt;width*src-&gt;height;
-    				dst-&gt;data+=dst-&gt;width*dst-&gt;height;
-    				tmpin.data+= tmpin.height*tmpin.width;
-		       // --------- V -------------
-		      
-		      	DORES(src,dst,Hpattern_chroma, Vpattern_chroma);    				
-    		       
-    return 1;
-}				/* zoom */
-
-
-// clean up insiders datas
-//
-void AVDMVideoStreamResize::endcompute(void)
-{
-	FREE_USED(Hpattern_luma);
-	FREE_USED(Hpattern_chroma);
-	FREE_USED(Vpattern_luma);
-	FREE_USED(Vpattern_chroma);
-}
-
-
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_resizebis.hxx
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_resizebis.hxx	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_resizebis.hxx	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,52 +0,0 @@
-/***************************************************************************
-                          ADM_resizebis.hxx  -  description
-                             -------------------
-    begin                : Sun Mar 24 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#ifndef __RESIZE_B_SUPPORT
-#define __RESIZE_B_SUPPORT
-
-typedef struct {
-    double (*f) (double x);
-    double support;
-} ResampleFunc;
-
-INT *GetResamplingPattern(uint32_t original_width,
-			      uint32_t target_width, ResampleFunc * func);
-
-INT *GetResamplingPatternFIR4(uint32_t original_width,
-			      uint32_t target_width, ResampleFunc * func);
-		
-static inline uint8_t PixelClip(int16_t in)
-{
-    if (in &gt; 255)
-	in = 255;
-   if(in&lt;0)
-   	in=0;
-    return (uint8_t) in;
-};
-			   	   
-static inline unsigned char ScaledPixelClip(INT i)
-{
-    return PixelClip(((i +32768) &gt;&gt; 16)); //  + 32768
-};
-
-static inline unsigned char ScaledPixelClip8(int16_t i)
-{
-    return PixelClip(((i +256) &gt;&gt; 8)); //  + 32768
-};
-
-			         
-#endif

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_resizeter.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_resizeter.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_resizeter.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,193 +0,0 @@
-/***************************************************************************
-                          ADM_resizeter.cpp  -  description
-                             -------------------
-                             
-		This is an optimised with FIR size=4
-		of vidResizebis
-		
-    Faster but lesser quality		
-    (nb sample to compute is potentially smaller)                                                          
-                             
-    begin                : Sat Sep 21 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include &quot;ADM_default.h&quot;
-#include &quot;ADM_videoFilterDynamic.h&quot;
-#include &quot;ADM_vidResize.h&quot;
-#include &quot;ADM_resizebis.hxx&quot;
- 
- 
- /*
-  	Same as above but use a fixed size FIR size of 4
-   	Good until ~ half width
-
-
-*/
-INT *GetResamplingPatternFIR4(uint32_t original_width,
-			      uint32_t target_width, ResampleFunc * func)
-{
-    double scale, filter_step,filter_support;
-    double pos_step ;
-
-    scale = double (target_width);
-    scale/= (double)original_width;
-    if (scale &lt; 1.0)
-	filter_step = scale;
-
-    else
-	filter_step = 1.0;
-    filter_support = func-&gt;support;
-    filter_support /= filter_step;
-    
-    int fir_filter_size = 3;
-    
-    
-    int16_t  *result = new int16_t[1 + target_width * (1 + fir_filter_size)];
-    int16_t  *cur = result;
-    
-    *cur++ = fir_filter_size;
-   
-    printf(&quot;\n Fixed Fir size : %d&quot;,fir_filter_size);
-    pos_step=original_width;
-    pos_step /= target_width;
-
- 
-
-    // the following translates such that the image center remains fixed
-    double pos = original_width;
-
-       pos-= target_width ;
-       pos/= (target_width * 2);
-
-//   printf(&quot;\n In width : %lu out width : %lu pos_step : %lf pos_initial : %lf&quot;,original_width,target_width, pos_step,pos);
-
-    for (uint32_t i = 0; i &lt; target_width; ++i)
-
-      {
-	  INT end_pos = (INT) (pos + filter_support);
-	  if (end_pos &gt; (INT)original_width - 1)
-	      end_pos = original_width - 1;
-	  INT start_pos = end_pos - fir_filter_size + 1;
-	  if (start_pos &lt; 0)
-	      start_pos = 0;
-	  *cur++ = start_pos;
-
-	  // the following code ensures that the coefficients add to exactly 65536
-	  double total = 0.0;
-	  for (int j = 0; j &lt; fir_filter_size; ++j)
-	      total += func-&gt;f((start_pos + j - pos) * filter_step);
-	  double total2 = 0.0;
-	  for (int k = 0; k &lt; fir_filter_size; ++k)
-
-	    {
-		double total3 =
-		    total2 +func-&gt;f((start_pos + k - pos) * filter_step) / total;
-		    *cur++ =int (total3 * 256 + 0.5) - int (total2 * 256 +
-						      0.5);
-		total2 = total3;
-	    } 
-            pos += pos_step;
-      } 
-      return (INT *)result;
-}
-
-
-
-
-/*
-      Vertical resizing
-
-  		Fast resample, FIR= 4 hardcoded
-    
-    	the input is byte
-     	the coef are signed 16 bits integere
-
-*/
-void AVDMVideoStreamResize::ResizeVFIR4(Image * iin, Image * iout,
-				    INT *intpattern)
-{
-    int16_t *pattern = (int16_t *)intpattern;
-
-    int16_t *cur = pattern;
-    /*int fir_filter_width = *cur++*/cur++;
-    int row_size = iin-&gt;width;
-    unsigned char *out = iout-&gt;data;
-    unsigned char *srcbuffer = iin-&gt;data;
-    unsigned char *base ,*base2;
-		int total;
-		
-			
-
-    for (uint32_t y = 0; y &lt; iout-&gt;height; ++y)
-
-      {
-	  			base = srcbuffer + row_size * (*cur++);
-	  			for (int x = 0; x &lt; row_size; ++x)
-				  {
-					
-					 base2 = base + x;
-					 
-					    		total = *base2 							 * cur[0];
-					    		total += *(base2+row_size) 		 * cur[1];
-					    		total += *(base2+(row_size&lt;&lt;1)) * cur[2];		      			
-					    		//total += *(base2 + row_size*3) * cur[3];
-								  *out++ = ScaledPixelClip8(total);
-	  			  } 
-				cur += 3;
-		}
-}
-
-
-/*
-  		Fast resample, FIR= 4 hardcoded
-    
-    	the input is byte
-     	the coef are signed 16 bits integere
-
-*/
-void AVDMVideoStreamResize::ResizeHFIR4(Image * iin, Image * iout,
-				    INT  *bigpattern)
-{
-    uint8_t *base = iin-&gt;data;
-    uint8_t *out 	= iout-&gt;data;
-  
-    int src_row_size = iin-&gt;width;
-    int dst_row_size = iout-&gt;width;
-    int16_t *pattern=(int16_t *)bigpattern;
-    
-		uint8_t 				*ptr;
-		int16_t 				*cur;
-		static int32_t 	total;
-		//int32_t					*t=&total;
-  	int16_t 				ofs;
-   
-	for (uint32_t y =  iin-&gt;height; y&gt;0; y--)
-      {
-	  	cur = pattern + 1;	   
-		  for (int x = 0; x &lt; dst_row_size ; x++)
-	    {
-				ofs = *cur++;
-				ptr= &amp;(base[(ofs )]);
-      	total=0;
-	
-				total =  *(ptr) 	* *(cur);
-				total += *(ptr+1) * *(cur+1);
-		  	total += *(ptr+2) * *(cur+2);
-//		  	total += *(ptr+3) * *(cur+3);   		   		
-      	cur+=3;
-		  	*out++ = ScaledPixelClip8(total);
-	    } // next line...
-	     base += src_row_size;
-	}
-}

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_vidResize.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_vidResize.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_vidResize.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,254 +0,0 @@
-/***************************************************************************
-                          ADM_vidResize.cpp  -  description
-                             -------------------
-   Resize a picture in YUV12
-
-   w,h 		size of final picture
-   dw,dh  size of black bordered picture
-
-
-    begin                : Thu Mar 21 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-
-#include &quot;ADM_default.h&quot;
-
-#include &quot;ADM_videoFilterDynamic.h&quot;
-#include &quot;ADM_resizebis.hxx&quot;
-#include &quot;ADM_vidResize.h&quot;
-
-#include &quot;DIA_coreToolkit.h&quot;
-
-
-static FILTER_PARAM mpresizeParam={3,{&quot;w&quot;,&quot;h&quot;,&quot;algo&quot;}};
-
-//********** Register chunk ************
-VF_DEFINE_FILTER_UI(AVDMVideoStreamResize,mpresizeParam,
-                resize,
-                QT_TR_NOOP(&quot;Resize&quot;),
-                1,
-                VF_TRANSFORM,
-                QT_TR_NOOP(&quot;Picture resizer ported from Avisynth (C Version, slow).&quot;));
-//****************************************
-
-char *AVDMVideoStreamResize::printConf( void )
-{
- 	ADM_FILTER_DECLARE_CONF(&quot; Resize %lu x %lu --&gt; %lu x %lu&quot;,
- 				_in-&gt;getInfo()-&gt;width,
- 				_in-&gt;getInfo()-&gt;height,
- 				_info.width,
- 				_info.height);
-        
-}
-//_______________________________________________________________
-AVDMVideoStreamResize::AVDMVideoStreamResize(
-									AVDMGenericVideoStream *in,CONFcouple *couples)
-{
-
-  	_in=in;
-   	memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));
-	_uncompressed=new ADMImage(_info.width,_info.height);
-
-		if(couples)
-		{
-			 _param=NEW(RESIZE_PARAMS);
-			GET(w);
-			GET(h);
-			GET(algo);
-			_info.width=_param-&gt;w;
-			_info.height=_param-&gt;h;
-
-		}
-			else
-			{
-				_param=NEW( RESIZE_PARAMS);
-				_param-&gt;w=_info.width;
-				_param-&gt;h = _info.height;
-				_param-&gt;algo = 0;
-			}			
-			_intermediate_buffer=new uint8_t [3*_info.width*_in-&gt;getInfo()-&gt;height];	
-
-  _info.encoding=1;
-  _init=0;
-	Vpattern_luma=NULL;
-    Vpattern_chroma=NULL;
-	Hpattern_luma=NULL;
-    Hpattern_chroma=NULL;
-}
-#if !defined(MPLAYER_RESIZE_PREFFERED) 
-AVDMGenericVideoStream *createResizeFromParam(AVDMGenericVideoStream *in,uint32_t x,uint32_t y)
-{
-
-	return new AVDMVideoStreamResize(in,x,y);
-}
-#endif
-AVDMVideoStreamResize::AVDMVideoStreamResize(
-									AVDMGenericVideoStream *in,uint32_t x,uint32_t y)
-{
-
-  	_in=in;
-   	memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));
-	_uncompressed=new ADMImage(_info.width,_info.height);
-	_param=NEW( RESIZE_PARAMS);
-	_param-&gt;w=x;
-	_param-&gt;h = y;
-	_info.width=_param-&gt;w;
-	_info.height=_param-&gt;h;
-	_param-&gt;algo = 0;
-	_intermediate_buffer=new uint8_t [3*_info.width*_in-&gt;getInfo()-&gt;height];
-
-	_info.encoding=1;
-	_init=0;
-	Vpattern_luma=NULL;
-	Vpattern_chroma=NULL;
-	Hpattern_luma=NULL;
-	Hpattern_chroma=NULL;
-}
-
-uint8_t	AVDMVideoStreamResize::getCoupledConf( CONFcouple **couples)
-{
-
-			ADM_assert(_param);
-			*couples=new CONFcouple(3);
-
-#define CSET(x)  (*couples)-&gt;setCouple((char *)#x,(_param-&gt;x))
-	CSET(w);
-	CSET(h);
-	CSET(algo);
-			return 1;
-
-}
-// ___ destructor_____________
-AVDMVideoStreamResize::~AVDMVideoStreamResize()
-{
- 	delete  _uncompressed;
-	delete [] _intermediate_buffer;
-	DELETE(_param);
-	_uncompressed=NULL;
-	_intermediate_buffer=NULL;
- 	endcompute();
-}
-
-//
-//	Basically ask a uncompressed frame from editor and ask
-//		GUI to decompress it .
-//
-
-uint8_t AVDMVideoStreamResize::getFrameNumberNoAlloc(uint32_t frame,
-				uint32_t *len,
-   				ADMImage *data,
-				uint32_t *flags)
-{
-static Image in,out;
-	if(frame&gt;=_info.nb_frames) 
-	{
-		printf(&quot;Filter : out of bound!\n&quot;);
-		return 0;
-	}
-	
-	ADM_assert(_param);	
-	if(!_in-&gt;getFrameNumberNoAlloc(frame, len,_uncompressed,flags)) return 0;
-       		
-	// do the resize in 3 passes, Y, U then V
-	in.width=_in-&gt;getInfo()-&gt;width;
-	in.height=_in-&gt;getInfo()-&gt;height;
-	in.data=_uncompressed-&gt;data;
-
-	out.width=_info.width;
-	out.height=_info.height;
-	out.data=data-&gt;data;	
-	if(!_init)
-	{
-		_init=1;
-		printf(&quot;\n Precomputing with algo :%lu\n&quot;,_param-&gt;algo);
-		if(_param-&gt;algo&gt;2)
-                {
-			printf(&quot;\n Wrong algorithm selection&quot;);
-			ADM_assert(0);
-		}
-		precompute(&amp;out,&amp;in, _param-&gt;algo );
-	}
-       	zoom(&amp;out,&amp;in)         ;       
-       data-&gt;flags=*flags=_uncompressed-&gt;flags;
-
-       *len= _info.width*_info.height+(_info.width*_info.height&gt;&gt;1);
-       data-&gt;copyInfo(_uncompressed);	
-      return 1;
-}
-
-
-static int getResizeParams(uint32_t * w, uint32_t * h, uint32_t * algo,uint32_t ow,uint32_t oh,uint32_t fps);
-
-
-extern uint8_t DIA_resize(uint32_t *width,uint32_t *height,uint32_t *algo,uint32_t originalw, uint32_t originalh,uint32_t fps1000);
-
-uint8_t AVDMVideoStreamResize::configure(AVDMGenericVideoStream * instream)
-{
-    UNUSED_ARG(instream);
-
-    RESIZE_PARAMS *par;
-//    uint8_t ret=0;
-
-    _init = 0;          // force recompute
-    par = _param;
-
-
-
-    if (!getResizeParams(&amp;par-&gt;w, &amp;par-&gt;h, &amp;par-&gt;algo,instream-&gt;getInfo()-&gt;width,instream-&gt;getInfo()-&gt;height,_info.fps1000))
-      {
-      return 0;
-      }
-      printf(&quot;\n OK was selected \n&quot;);
-    // update other parameters
-    _info.width = _param-&gt;w;
-    _info.height = _param-&gt;h;
-    // intermediate buffer
-    if (_intermediate_buffer)
-      {
-      delete  [] _intermediate_buffer;
-      _intermediate_buffer = NULL;
-      }
-    //_intermediate_buffer=(uint8_t *)malloc(3*_info.width*_in-&gt;getInfo()-&gt;height);
-    _intermediate_buffer =
-    new uint8_t[3 * _info.width * _in-&gt;getInfo()-&gt;height];
-
-    return 1;
-
-}
-
-//
-//  
-//
-//
-//   static GtkWidget *resi;
-int getResizeParams(uint32_t * w, uint32_t * h, uint32_t * algo,uint32_t ow,uint32_t oh,uint32_t fps)
-{
-uint32_t ww,hh;
-    while(1)
-    {
-        ww=*w;
-        hh=*h;
-        if(!DIA_resize(&amp;ww,&amp;hh,algo,ow,oh,fps)) return 0;
-                if(!ww || !hh) GUI_Error_HIG(QT_TR_NOOP(&quot;Width and height cannot be 0&quot;), NULL);
-        else
-                  if( ww&amp;1 || hh &amp;1) GUI_Error_HIG(QT_TR_NOOP(&quot;Width and height cannot be odd&quot;), NULL);
-            else
-            {
-                *w=ww;
-                *h=hh;
-                return 1;
-            }
-    }
-}
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_vidResize.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_vidResize.h	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/ADM_vidResize.h	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,44 +0,0 @@
-/**
-    \file ADM_vidResize.h
-
-
-*/
-#ifndef ADM_VIDRESIZE_H
-#define ADM_VIDRESIZE_H
-class  AVDMVideoStreamResize:public AVDMGenericVideoStream
- {
-
- protected:
-            RESIZE_PARAMS           *_param;
-            uint8_t             _init;
-            INT                     *Hpattern_luma;
-            INT                     *Hpattern_chroma;
-            INT                     *Vpattern_luma;
-            INT                     *Vpattern_chroma;
-            uint8_t                 *_intermediate_buffer;
-        // engine
-        void ResizeV(Image * iin, Image * iout, INT *pattern) ;
-        void ResizeVFIR4(Image * iin, Image * iout, INT *pattern) ;
-
-        void ResizeH(Image * iin, Image * iout, INT *pattern) ;
-        void ResizeHFIR4(Image * iin, Image * iout, INT  *pattern)  ;
-
-        void precompute(Image * dst, Image * src, uint8_t algo);
-            uint8_t     zoom(Image * dst, Image * src);
-            void endcompute(void);
-
- public:
-
-                AVDMVideoStreamResize(  AVDMGenericVideoStream *in,CONFcouple *setup);
-                AVDMVideoStreamResize(  AVDMGenericVideoStream *in,uint32_t x,uint32_t y);
-                virtual         ~AVDMVideoStreamResize();
-          virtual       uint8_t getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-                                                                            ADMImage *data,uint32_t *flags);
-                uint8_t configure( AVDMGenericVideoStream *instream);
-    virtual         char    *printConf(void) ;
-
-          virtual uint8_t   getCoupledConf( CONFcouple **couples);
-
-
- }     ;
- #endif

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/CMakeLists.txt	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/CMakeLists.txt	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,20 +0,0 @@
-INCLUDE(vf_plugin)
-
-SET(avisynthResizeCommon_SRCS 
-	ADM_resizebis.cpp  ADM_resizeter.cpp  ADM_vidResize.cpp
-)
-
-
-SET(resizeCommonGtk_SRCS gtk/gtk_resize.cpp)
-
-SET(resizeQt_SRCS qt4/Q_resize.cpp)
-SET(resizeQt_Headers qt4/Q_resize.h)
-SET(resizeQt_UI qt4/resizing)
-
-INCLUDE(vf_plugin_gtk)
-INCLUDE(vf_plugin_qt4)
-
-INIT_VIDEOFILTER_PLUGIN_QT4(ADM_vf_avisynthResize_qt4 
-                ${resizeQt_SRCS} ${resizeQt_Headers} ${resizeQt_UI} ${avisynthResizeCommon_SRCS})
-INIT_VIDEOFILTER_PLUGIN_GTK(ADM_vf_avisynthResize_gtk 
-                ${resizeCommonGtk_SRCS} ${avisynthResizeCommon_SRCS})

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/gtk/gtk_resize.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/gtk/gtk_resize.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/gtk/gtk_resize.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,561 +0,0 @@
-/*
-	Resize GUI
-
-*/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include &lt;math.h&gt;
-
-#include &quot;ADM_toolkitGtk.h&quot;
-#include &quot;ADM_default.h&quot;
-#define aprintf(...) {}
-
-#include &lt;gdk/gdkkeysyms.h&gt;
-#include &lt;gtk/gtk.h&gt;
-
-
-#include &quot;ADM_gladeSupport.h&quot;
-
-#define FILL_ENTRY(widget_name,string) 		{r=-1;   \
-gtk_editable_delete_text(GTK_EDITABLE(lookup_widget(dialog,#widget_name)), 0,-1);\
-gtk_editable_insert_text(GTK_EDITABLE(lookup_widget(dialog,#widget_name)), string, strlen(string), &amp;r);}
-#define CHECKBOX(x,y) if(TRUE==gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(lookup_widget(dialog,#x))))  \
-			y=1; else y=0;
-#define READ_ENTRY(widget_name)   gtk_editable_get_chars(GTK_EDITABLE (lookup_widget(dialog,#widget_name)), 0, -1);
-
-#define SPIN_GET(x,y) {y= gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(WID(x))) ;}
-#define SPIN_SET(x,y)  {gtk_spin_button_set_value(GTK_SPIN_BUTTON(WID(x)),(gfloat)y) ;}
-
-
-/*----------------------------------------------*/
-static GtkWidget	*create_dialog1 (void);
-static void drag(GtkButton * button, gpointer user_data);
-static void read (void );
-static void write (void );
-/*----------------------------------------------*/
-static GtkWidget *dialog;
-static uint32_t iw,ih,ow,oh;
-static GtkAdjustment *adj_angle;
-static gint  r;
-static int sar;
-static int dar;
-static int resizeMethod;
-static int roundBool;
-static float erx,ery;
-static double aspectRatio[2][3]={
-								{1.,0.888888,1.19}, // NTSC 1:1 4:3 16:9
-								{1.,1.066667,1.43} // PAL  1:1 4:3 16:9
-							};
-static int pal=1;
-/*----------------------------------------------*/
-uint8_t DIA_resize(uint32_t *width,uint32_t *height,uint32_t *alg,uint32_t originalw, uint32_t originalh,uint32_t fps1000)
-{
-
-
-	char str[100];
-	uint8_t ret=0;
-
-
-	if(fps1000&gt;24600 &amp;&amp; fps1000&lt;25400)
-	{
-		aprintf(&quot;Pal\n&quot;);
-		pal=1;
-	}
-	else
-	{
-		aprintf(&quot;NTSC\n&quot;);
-		pal=0;
-	}
-
-	ow=originalw;
-	oh=originalh;
-
-	iw=*width;
-	ih=*height;
-	dialog=create_dialog1();
-	//gtk_transient(dialog);
-        gtk_register_dialog(dialog);
-	erx=ery=0;
-
-	double val;
-	val=100.*iw;
-	if(ow) val=val/ow;
-	adj_angle=	gtk_range_get_adjustment (GTK_RANGE(WID(hscale1)));
-	gtk_adjustment_set_value( GTK_ADJUSTMENT(adj_angle),(  gdouble  ) val );
-
-	// remember algo
- 	gtk_option_menu_set_history (GTK_OPTION_MENU (WID(optionmenu1)), *alg);
-
-
-	#define CONNECT(w,x) gtk_signal_connect(GTK_OBJECT(lookup_widget(dialog,#w)), #x, \
-		       GTK_SIGNAL_FUNC(drag), NULL)
-
-		       	CONNECT(hscale1,drag_data_received);
-			CONNECT(hscale1,drag_motion);
-			CONNECT(hscale1,drag_data_get);
-			CONNECT(hscale1,drag_begin);
-
-			gtk_signal_connect(GTK_OBJECT(adj_angle),&quot;value_changed&quot;,    GTK_SIGNAL_FUNC(drag), NULL);
-
-	write();
-
-	ret=0;
-	uint8_t stop=0;
-	while(!stop)
-	{
-		switch(gtk_dialog_run(GTK_DIALOG(dialog)))
-		{
-			case GTK_RESPONSE_OK:
-				gchar *s;
-
-                                SPIN_GET(spinbutton_width,*width);
-                                SPIN_GET(spinbutton_height,*height);
-				*alg= getRangeInMenu(lookup_widget(dialog,&quot;optionmenu1&quot;));
-				ret=1;
-				stop=1;
-				break;
-		default:			
-		case GTK_RESPONSE_CANCEL:
-				stop=1;
-				break;
-		case GTK_RESPONSE_APPLY:
-				drag(NULL,NULL);
-				break;
-							
-		}
-
-	}
-        gtk_unregister_dialog(dialog);
-	gtk_widget_destroy(dialog);
-
-	return ret;
-
-}
-/*
-	Called when the hscale is changed
-*/
-void drag(GtkButton * button, gpointer user_data)
-{
-  UNUSED_ARG(button);
-  UNUSED_ARG(user_data);
-
-  double percent;
-  float x,y;
-  float sr_mul,dst_mul;
-
- int32_t xx,yy;
-
-
-
-  percent = GTK_ADJUSTMENT(adj_angle)-&gt;value;
-  if(percent&lt;10.0) percent=10.;
-  read();
-
-  aprintf(&quot;drag called : %f \n&quot;,percent);
-  x=ow;
-  y=oh;
- erx=0;
- ery=0;
-  sr_mul=1.;
-  if(sar)
-  	{  // source is 4/3 or 16/9
-			sr_mul=aspectRatio[pal][sar];
-
-	}
-
-dst_mul=1.;
-  if(dar)
-  	{  // dst is 4/3 or 16/9
-
-			dst_mul=1/aspectRatio[pal][dar];
-	}
-	aprintf(&quot;source mul %02.2f , dst mul : %02.2f\n&quot;,sr_mul,dst_mul);
-	x=x*sr_mul*dst_mul;
-	y=y;
-
-	// normalize it to recover 100% width
-	y=y/(x/ow);
-	x=ow;
-
-	aprintf(&quot;AR:x,y  : %03f %03f \n&quot;,x,y);
-
-  	percent/=100.;
-  	x=x*percent;
-  	y=y*percent;
-
-
-	aprintf(&quot;AR x,y  : %03f %03f \n&quot;,x,y);
-  	xx=(uint32_t)floor(x+0.5);
-	yy=(uint32_t)floor(y+0.5);
-
-	if(xx&amp;1) xx--;
-	if(yy&amp;1) yy--;
-
-
-	if(roundBool)
-	{
-		int32_t ox=xx,oy=yy;
-		xx=(xx +7) &amp; 0xfffff0;
-		yy=(yy +7) &amp; 0xfffff0;
-
-		erx=(xx-ox);
-		erx=erx/xx;
-		ery=(yy-oy);
-		ery=ery/yy;
-
-		aprintf(&quot;x: %d -&gt; %d : err %f\n&quot;,ox,xx,erx);
-		aprintf(&quot;y: %d -&gt; %d : err %f\n&quot;,oy,yy,ery);
-	}
-
-	iw=xx;
-	ih=yy;
-	write();
-
-  }
-//---------------------------------------------
-// 	read all value from dialog
-//---------------------------------------------
-void read (void )
-{
-	// Read source and dest aspect ratio
- 	sar=getRangeInMenu(WID(optionmenu_source));
-	dar=getRangeInMenu(WID(optionmenu_dest));
-	// Read resizing method
-	resizeMethod=getRangeInMenu(WID(optionmenu1));
-	// Read round to neareast 16
-	CHECKBOX(checkbutton_16,roundBool);
-
-}
-//---------------------------------------------
-// 	update dialog with new value
-//---------------------------------------------
-
-void write (void )
-{
- char str[100];
-
-        SPIN_SET(spinbutton_width,iw);
-        SPIN_SET(spinbutton_height,ih);
-
-	sprintf(str,&quot;%2.2f&quot;,erx*100.);
-	gtk_label_set_text(GTK_LABEL(WID(label_errorx)),str);
-
-	sprintf(str,&quot;%2.2f&quot;,ery*100.);
-	gtk_label_set_text(GTK_LABEL(WID(label_errory)),str);
-
-}
-
-//----------------------------
-GtkWidget*
-create_dialog1 (void)
-{
-  GtkWidget *dialog1;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *vbox1;
-  GtkWidget *table2;
-  GtkWidget *label1;
-  GtkWidget *label2;
-  GtkObject *spinbutton_width_adj;
-  GtkWidget *spinbutton_width;
-  GtkObject *spinbutton_height_adj;
-  GtkWidget *spinbutton_height;
-  GtkWidget *label5;
-  GtkWidget *label6;
-  GtkWidget *optionmenu_source;
-  GtkWidget *menu1;
-  GtkWidget *item1_1;
-  GtkWidget *_4_1;
-  GtkWidget *_16_1;
-  GtkWidget *optionmenu_dest;
-  GtkWidget *menu2;
-  GtkWidget *menuitem1;
-  GtkWidget *menuitem2;
-  GtkWidget *menuitem3;
-  GtkWidget *label3;
-  GtkWidget *label_errorx;
-  GtkWidget *label7;
-  GtkWidget *label_errory;
-  GtkWidget *checkbutton_16;
-  GtkWidget *optionmenu1;
-  GtkWidget *menu3;
-  GtkWidget *bilinear1;
-  GtkWidget *bicubic1;
-  GtkWidget *lanczos1;
-  GtkWidget *alignment1;
-  GtkWidget *fixed1;
-  GtkWidget *fixed2;
-  GtkWidget *hscale1;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *applybutton1;
-  GtkWidget *okbutton1;
-
-  dialog1 = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog1), QT_TR_NOOP(&quot;Resize&quot;));
-  gtk_window_set_type_hint (GTK_WINDOW (dialog1), GDK_WINDOW_TYPE_HINT_DIALOG);
-
-  dialog_vbox1 = GTK_DIALOG (dialog1)-&gt;vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  vbox1 = gtk_vbox_new (FALSE, 0);
-  gtk_widget_show (vbox1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), vbox1, TRUE, TRUE, 0);
-
-  table2 = gtk_table_new (4, 4, FALSE);
-  gtk_widget_show (table2);
-  gtk_box_pack_start (GTK_BOX (vbox1), table2, FALSE, FALSE, 0);
-
-  label1 = gtk_label_new (QT_TR_NOOP(&quot; Width &quot;));
-  gtk_widget_show (label1);
-  gtk_table_attach (GTK_TABLE (table2), label1, 0, 1, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label1), 0, 0.5);
-
-  label2 = gtk_label_new (QT_TR_NOOP(&quot; Height &quot;));
-  gtk_widget_show (label2);
-  gtk_table_attach (GTK_TABLE (table2), label2, 0, 1, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
-
-  spinbutton_width_adj = gtk_adjustment_new (2, 0, 3000, 1, 10, 10);
-  spinbutton_width = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_width_adj), 1, 0);
-  gtk_widget_show (spinbutton_width);
-  gtk_table_attach (GTK_TABLE (table2), spinbutton_width, 1, 2, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton_width), TRUE);
-
-  spinbutton_height_adj = gtk_adjustment_new (1, 0, 3000, 1, 10, 10);
-  spinbutton_height = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_height_adj), 1, 0);
-  gtk_widget_show (spinbutton_height);
-  gtk_table_attach (GTK_TABLE (table2), spinbutton_height, 1, 2, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton_height), TRUE);
-
-  label5 = gtk_label_new (QT_TR_NOOP(&quot;Source :&quot;));
-  gtk_widget_show (label5);
-  gtk_table_attach (GTK_TABLE (table2), label5, 2, 3, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  label6 = gtk_label_new (QT_TR_NOOP(&quot;Destination&quot;));
-  gtk_widget_show (label6);
-  gtk_table_attach (GTK_TABLE (table2), label6, 2, 3, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  optionmenu_source = gtk_option_menu_new ();
-  gtk_widget_show (optionmenu_source);
-  gtk_table_attach (GTK_TABLE (table2), optionmenu_source, 3, 4, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  menu1 = gtk_menu_new ();
-
-  item1_1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;1:1&quot;));
-  gtk_widget_show (item1_1);
-  gtk_container_add (GTK_CONTAINER (menu1), item1_1);
-
-  _4_1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;4:3&quot;));
-  gtk_widget_show (_4_1);
-  gtk_container_add (GTK_CONTAINER (menu1), _4_1);
-
-  _16_1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;16:9&quot;));
-  gtk_widget_show (_16_1);
-  gtk_container_add (GTK_CONTAINER (menu1), _16_1);
-
-  gtk_option_menu_set_menu (GTK_OPTION_MENU (optionmenu_source), menu1);
-
-  optionmenu_dest = gtk_option_menu_new ();
-  gtk_widget_show (optionmenu_dest);
-  gtk_table_attach (GTK_TABLE (table2), optionmenu_dest, 3, 4, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  menu2 = gtk_menu_new ();
-
-  menuitem1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;1:1&quot;));
-  gtk_widget_show (menuitem1);
-  gtk_container_add (GTK_CONTAINER (menu2), menuitem1);
-
-  menuitem2 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;4:3&quot;));
-  gtk_widget_show (menuitem2);
-  gtk_container_add (GTK_CONTAINER (menu2), menuitem2);
-
-  menuitem3 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;16:9&quot;));
-  gtk_widget_show (menuitem3);
-  gtk_container_add (GTK_CONTAINER (menu2), menuitem3);
-
-  gtk_option_menu_set_menu (GTK_OPTION_MENU (optionmenu_dest), menu2);
-
-  label3 = gtk_label_new (QT_TR_NOOP(&quot; Error X:&quot;));
-  gtk_widget_show (label3);
-  gtk_table_attach (GTK_TABLE (table2), label3, 0, 1, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label3), 0, 0.5);
-
-  label_errorx = gtk_label_new (QT_TR_NOOP(&quot;0&quot;));
-  gtk_widget_show (label_errorx);
-  gtk_table_attach (GTK_TABLE (table2), label_errorx, 1, 2, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label_errorx), 0, 0.5);
-
-  label7 = gtk_label_new (QT_TR_NOOP(&quot; Error Y:&quot;));
-  gtk_widget_show (label7);
-  gtk_table_attach (GTK_TABLE (table2), label7, 0, 1, 3, 4,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label7), 0, 0.5);
-
-  label_errory = gtk_label_new (QT_TR_NOOP(&quot;0&quot;));
-  gtk_widget_show (label_errory);
-  gtk_table_attach (GTK_TABLE (table2), label_errory, 1, 2, 3, 4,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label_errory), 0, 0.5);
-
-  checkbutton_16 = gtk_check_button_new_with_mnemonic (QT_TR_NOOP(&quot;16 round up&quot;));
-  gtk_widget_show (checkbutton_16);
-  gtk_table_attach (GTK_TABLE (table2), checkbutton_16, 3, 4, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  optionmenu1 = gtk_option_menu_new ();
-  gtk_widget_show (optionmenu1);
-  gtk_table_attach (GTK_TABLE (table2), optionmenu1, 3, 4, 3, 4,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  menu3 = gtk_menu_new ();
-
-  bilinear1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;Bilinear&quot;));
-  gtk_widget_show (bilinear1);
-  gtk_container_add (GTK_CONTAINER (menu3), bilinear1);
-
-  bicubic1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;Bicubic&quot;));
-  gtk_widget_show (bicubic1);
-  gtk_container_add (GTK_CONTAINER (menu3), bicubic1);
-
-  lanczos1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;Lanczos3&quot;));
-  gtk_widget_show (lanczos1);
-  gtk_container_add (GTK_CONTAINER (menu3), lanczos1);
-
-  gtk_option_menu_set_menu (GTK_OPTION_MENU (optionmenu1), menu3);
-
-  alignment1 = gtk_alignment_new (0.5, 0.5, 1, 1);
-  gtk_widget_show (alignment1);
-  gtk_table_attach (GTK_TABLE (table2), alignment1, 2, 3, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (GTK_FILL), 0, 0);
-
-  fixed1 = gtk_fixed_new ();
-  gtk_widget_show (fixed1);
-  gtk_container_add (GTK_CONTAINER (alignment1), fixed1);
-
-  fixed2 = gtk_fixed_new ();
-  gtk_widget_show (fixed2);
-  gtk_table_attach (GTK_TABLE (table2), fixed2, 2, 3, 3, 4,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (GTK_FILL), 0, 0);
-
-  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (100, 0, 100, 1, 1, 0)));
-  gtk_widget_show (hscale1);
-  gtk_box_pack_start (GTK_BOX (vbox1), hscale1, FALSE, FALSE, 0);
-  gtk_scale_set_digits (GTK_SCALE (hscale1), 0);
-
-  dialog_action_area1 = GTK_DIALOG (dialog1)-&gt;action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  cancelbutton1 = gtk_button_new_from_stock (&quot;gtk-cancel&quot;);
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  applybutton1 = gtk_button_new_from_stock (&quot;gtk-apply&quot;);
-  gtk_widget_show (applybutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), applybutton1, GTK_RESPONSE_APPLY);
-  GTK_WIDGET_SET_FLAGS (applybutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock (&quot;gtk-ok&quot;);
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-/*
-  g_signal_connect ((gpointer) _4_1, &quot;activate&quot;,
-                    G_CALLBACK (on_4_1_activate),
-                    NULL);
-  g_signal_connect ((gpointer) _16_1, &quot;activate&quot;,
-                    G_CALLBACK (on_16_1_activate),
-                    NULL);
-  g_signal_connect ((gpointer) menuitem2, &quot;activate&quot;,
-                    G_CALLBACK (on_4_1_activate),
-                    NULL);
-  g_signal_connect ((gpointer) menuitem3, &quot;activate&quot;,
-                    G_CALLBACK (on_16_1_activate),
-                    NULL);
-  g_signal_connect ((gpointer) bilinear1, &quot;activate&quot;,
-                    G_CALLBACK (on_bilinear1_activate),
-                    NULL);
-  g_signal_connect ((gpointer) bicubic1, &quot;activate&quot;,
-                    G_CALLBACK (on_bicubic1_activate),
-                    NULL);
-  g_signal_connect ((gpointer) lanczos1, &quot;activate&quot;,
-                    G_CALLBACK (on_lanczos1_activate),
-                    NULL);
-*/
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, &quot;dialog1&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, &quot;dialog_vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, vbox1, &quot;vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, table2, &quot;table2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label1, &quot;label1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label2, &quot;label2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, spinbutton_width, &quot;spinbutton_width&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, spinbutton_height, &quot;spinbutton_height&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label5, &quot;label5&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label6, &quot;label6&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, optionmenu_source, &quot;optionmenu_source&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, menu1, &quot;menu1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, item1_1, &quot;item1_1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, _4_1, &quot;_4_1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, _16_1, &quot;_16_1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, optionmenu_dest, &quot;optionmenu_dest&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, menu2, &quot;menu2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, menuitem1, &quot;menuitem1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, menuitem2, &quot;menuitem2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, menuitem3, &quot;menuitem3&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label3, &quot;label3&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label_errorx, &quot;label_errorx&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label7, &quot;label7&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label_errory, &quot;label_errory&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, checkbutton_16, &quot;checkbutton_16&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, optionmenu1, &quot;optionmenu1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, menu3, &quot;menu3&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, bilinear1, &quot;bilinear1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, bicubic1, &quot;bicubic1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, lanczos1, &quot;lanczos1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, alignment1, &quot;alignment1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, fixed1, &quot;fixed1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, fixed2, &quot;fixed2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, hscale1, &quot;hscale1&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, &quot;dialog_action_area1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, &quot;cancelbutton1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, applybutton1, &quot;applybutton1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, okbutton1, &quot;okbutton1&quot;);
-
-  return dialog1;
-}
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,278 +0,0 @@
-/***************************************************************************
-    copyright            : (C) 2001 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include &lt;math.h&gt;
-
-#include &quot;Q_resize.h&quot;
-#include &quot;DIA_coreToolkit.h&quot;
-
-static double aspectRatio[2][3]={
-                              {1.,0.888888,1.19}, // NTSC 1:1 4:3 16:9
-                              {1.,1.066667,1.43} // PAL  1:1 4:3 16:9
-                            };
-#define aprintf
-
-resizeWindow::resizeWindow(resParam *param) : QDialog()
- {
-     ui.setupUi(this);
-	 lastPercentage = 100;
-     _param=param;
-     ui.spinBoxWidth-&gt;setValue(_param-&gt;width);
-     ui.spinBoxHeight-&gt;setValue(_param-&gt;height);
-     ui.horizontalSlider-&gt;setValue(100);
-     updateWidthHeightSpinners();
-
-	 connect(ui.comboBoxSource, SIGNAL(currentIndexChanged(int)), this, SLOT(aspectRatioChanged(int)));
-	 connect(ui.comboBoxDestination, SIGNAL(currentIndexChanged(int)), this, SLOT(aspectRatioChanged(int)));
-	 connect(ui.checkBoxRoundup, SIGNAL(toggled(bool)), this, SLOT(roundupToggled(bool)));
-	 connect(ui.lockArCheckBox, SIGNAL(toggled(bool)), this, SLOT(lockArToggled(bool)));
-	 connect(ui.buttonBox, SIGNAL(accepted()), this, SLOT(okButtonClicked()));
-
-	 connectDimensionControls();
- }
-
- void resizeWindow::gather(void)
- {
-    _param-&gt;width=ui.spinBoxWidth-&gt;value();
-    _param-&gt;height=ui.spinBoxHeight-&gt;value();
-    _param-&gt;algo=ui.comboBoxAlgo-&gt;currentIndex();
- }
- 
- void resizeWindow::sliderChanged(int value)
-{
-	disconnectDimensionControls();
-
-	percentageSpinBoxChanged(value);
-
-	connectDimensionControls();
-}
-
-void resizeWindow::percentageSpinBoxChanged(int value)
-{
-	disconnectDimensionControls();
-
-	if (ui.checkBoxRoundup-&gt;isChecked())
-	{
-		if (lastPercentage &gt; value)
-			ui.spinBoxWidth-&gt;setValue(ui.spinBoxWidth-&gt;value() - 16);
-		else
-			ui.spinBoxWidth-&gt;setValue(ui.spinBoxWidth-&gt;value() + 16);
-	}
-	else
-	{
-		float width = _param-&gt;originalWidth;
-
-		width /= 100.;
-		width *= value;
-
-		ui.spinBoxWidth-&gt;setValue(floor(width + 0.5));
-	}
-
-	updateWidthHeightSpinners(false);
-
-	lastPercentage = ui.percentageSpinBox-&gt;value();
-
-	connectDimensionControls();
-}
-
-void resizeWindow::widthSpinBoxChanged(int value)
-{
-	disconnectDimensionControls();
-
-	if (ui.lockArCheckBox-&gt;isChecked())
-		updateWidthHeightSpinners(false);
-
-	connectDimensionControls();
-}
-
-void resizeWindow::heightSpinBoxChanged(int value)
-{
-	disconnectDimensionControls();
-
-	if (ui.lockArCheckBox-&gt;isChecked())
-		updateWidthHeightSpinners(true);
-
-	connectDimensionControls();
-}
-
-void resizeWindow::aspectRatioChanged(int index)
-{
-	disconnectDimensionControls();
-
-	if (ui.lockArCheckBox-&gt;isChecked())
-		updateWidthHeightSpinners();
-
-	connectDimensionControls();
-}
-
-void resizeWindow::disconnectDimensionControls()
-{
-	disconnect(ui.spinBoxHeight, SIGNAL(valueChanged(int)), this, SLOT(heightSpinBoxChanged(int)));
-	disconnect(ui.spinBoxWidth, SIGNAL(valueChanged(int)), this, SLOT(widthSpinBoxChanged(int)));
-	disconnect(ui.horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(sliderChanged(int)));
-	disconnect(ui.percentageSpinBox, SIGNAL(valueChanged(int)), this, SLOT(percentageSpinBoxChanged(int)));
-}
-
-void resizeWindow::connectDimensionControls()
-{
-	connect(ui.spinBoxHeight, SIGNAL(valueChanged(int)), this, SLOT(heightSpinBoxChanged(int)));
-	connect(ui.spinBoxWidth, SIGNAL(valueChanged(int)), this, SLOT(widthSpinBoxChanged(int)));
-	connect(ui.horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(sliderChanged(int)));
-	connect(ui.percentageSpinBox, SIGNAL(valueChanged(int)), this, SLOT(percentageSpinBoxChanged(int)));
-}
-
-void resizeWindow::updateWidthHeightSpinners(bool useHeightAsRef)
-{
-	int sar = ui.comboBoxSource-&gt;currentIndex();
-	int dar = ui.comboBoxDestination-&gt;currentIndex();
-	float x = ui.spinBoxWidth-&gt;value();
-	float y = ui.spinBoxHeight-&gt;value();
-	float sr_mul = 1.;
-	float dst_mul = 1.;
-	float ar = 1.;
-
-	if (sar)
-	{  // source is 4/3 or 16/9
-		sr_mul = aspectRatio[_param-&gt;pal][sar];
-	}
-
-	if (dar)
-	{  // dst is 4/3 or 16/9
-		dst_mul = 1 / aspectRatio[_param-&gt;pal][dar];
-	}
-
-	aprintf(&quot;source mul %02.2f , dst mul: %02.2f\n&quot;, sr_mul, dst_mul);
-
-	ar = _param-&gt;originalWidth / (_param-&gt;originalHeight / (sr_mul * dst_mul));
-
-	if (useHeightAsRef)
-		x = y * ar;
-	else
-		y = x / ar;
-
-	aprintf(&quot;x, y: %03f, %03f\n&quot;, x, y);
-
-	int xx = floor(x + 0.5);
-	int yy = floor(y + 0.5);
-
-	if (xx &amp; 1)
-		xx--;
-
-	if (yy &amp; 1)
-		yy--;
-
-	roundUp(xx, yy);
-	updateSlider();
-}
-
-void resizeWindow::updateSlider()
-{
-	float percent = (((float)ui.spinBoxWidth-&gt;value() / (float)_param-&gt;originalWidth) * 100.) + 0.5;
-
-	ui.horizontalSlider-&gt;setValue(percent);
-	ui.percentageSpinBox-&gt;setValue(percent);
-}
-
-void resizeWindow::roundUp(int xx, int yy)
-{
-	float erx = 0.;
-	float ery = 0.;
-
-	if (ui.checkBoxRoundup-&gt;checkState())
-	{
-		int ox = xx, oy = yy;
-
-		xx = (xx + 7) &amp; 0xfffff0;
-		yy = (yy + 7) &amp; 0xfffff0;
-
-		erx = xx - ox;
-		erx = erx / xx;
-		ery = yy - oy;
-		ery = ery / yy;
-
-		aprintf(&quot;x: %d -&gt; %d : err %f\n&quot;, ox, xx, erx);
-		aprintf(&quot;y: %d -&gt; %d : err %f\n&quot;, oy, yy, ery);
-	}
-
-	ui.spinBoxWidth-&gt;setValue(xx);
-	ui.spinBoxHeight-&gt;setValue(yy);
-
-	ui.labelErrorXY-&gt;setText(QString(&quot;%1&quot;).arg(erx * 100., 0, 'f', 2) + &quot; / &quot; + QString(&quot;%1&quot;).arg(ery * 100., 0, 'f', 2));
-}
-
-void resizeWindow::lockArToggled(bool toggled)
-{
-	if (ui.lockArCheckBox-&gt;isChecked())
-		widthSpinBoxChanged(0);
-	else
-		ui.checkBoxRoundup-&gt;setChecked(false);
-}
-
-void resizeWindow::roundupToggled(bool toggled)
-{
-	if (toggled)
-	{
-		disconnectDimensionControls();
-
-		ui.spinBoxWidth-&gt;setSingleStep(16);
-		ui.spinBoxHeight-&gt;setSingleStep(16);
-		widthSpinBoxChanged(0);
-
-		connectDimensionControls();
-	}
-	else
-	{
-		ui.spinBoxWidth-&gt;setSingleStep(2);
-		ui.spinBoxHeight-&gt;setSingleStep(2);
-	}
-}
-
-void resizeWindow::okButtonClicked()
-{
-	if (ui.spinBoxWidth-&gt;value() &amp; 1 || ui.spinBoxHeight-&gt;value() &amp; 1)
-		GUI_Error_HIG(QT_TR_NOOP(&quot;Width and height cannot be odd&quot;), NULL);
-	else
-		accept();
-}
-
-/**
-    \fn DIA_resize
-    \brief Handle resize dialo
-*/
-uint8_t DIA_resize(uint32_t *width,uint32_t *height,uint32_t *alg,uint32_t originalw, uint32_t originalh,uint32_t fps1000)
-{
-uint8_t r=0;
-      resParam param={*width,*height,originalw,originalh,fps1000,*alg,0};
-      //
-      if(fps1000&gt;24600 &amp;&amp; fps1000&lt;25400)
-        {
-                param.pal=1;
-        }
-       
-
-     // Fetch info
-     resizeWindow resizewindow(&amp;param) ;
-     ;
-     if(resizewindow.exec()==QDialog::Accepted)
-     {
-       resizewindow.gather();
-       *width=param.width;
-       *height=param.height;
-       *alg=param.algo;
-       r=1;
-     }
-     return r;
-}  
-//********************************************
-//EOF

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.h	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.h	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,45 +0,0 @@
-#ifndef Q_resizing_h
-#define Q_resizing_h
-
-#include &quot;ui_resizing.h&quot;
-
-typedef struct resParam
-{
-	uint32_t width,height;
-	uint32_t originalWidth, originalHeight;
-	uint32_t fps1000;
-	uint32_t algo;
-	uint32_t pal;
-} resParam;
-
-class resizeWindow : public QDialog
-{
-	Q_OBJECT
-
-private:
-	int lastPercentage;
-	void updateWidthHeightSpinners(bool useHeightAsRef = false);
-	void updateSlider();
-	void connectDimensionControls();
-	void disconnectDimensionControls();
-	void roundUp(int xx, int yy);
-
-protected:
-	resParam *_param;
-
-public:
-	resizeWindow(resParam *param);
-	Ui_resizeDialog ui;
-
-public slots:
-	void gather(void);
-	void okButtonClicked();
-	void sliderChanged(int value);
-	void percentageSpinBoxChanged(int value);
-	void widthSpinBoxChanged(int value);
-	void heightSpinBoxChanged(int value);
-	void lockArToggled(bool toggled);
-	void roundupToggled(bool toggled);
-	void aspectRatioChanged(int index);
-};
-#endif	// Q_resizing_h

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.h.orig
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.h.orig	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.h.orig	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,30 +0,0 @@
-#ifndef Q_resizing_h
-#define Q_resizing_h
-
-#include &quot;ui_resizing.h&quot;
-
-typedef struct resParam
-{
-	uint32_t width,height;
-	uint32_t originalWidth, originalHeight;
-	uint32_t fps1000;
-	uint32_t algo;
-	uint32_t pal;
-} resParam;
-
-class resizeWindow : public QDialog
-{
-	Q_OBJECT
-
-protected: 
-	resParam *_param;
-
-public:
-	resizeWindow(resParam *param);
-	Ui_resizeDialog ui;
-
-public slots:
-	void gather(void);
-	void update(int i);
-};
-#endif	// Q_resizing_h

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/qt4/resizing.ui
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/qt4/resizing.ui	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/AvisynthResize/qt4/resizing.ui	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,724 +0,0 @@
-&lt;ui version=&quot;4.0&quot; &gt;
- &lt;class&gt;resizeDialog&lt;/class&gt;
- &lt;widget class=&quot;QDialog&quot; name=&quot;resizeDialog&quot; &gt;
-  &lt;property name=&quot;geometry&quot; &gt;
-   &lt;rect&gt;
-    &lt;x&gt;0&lt;/x&gt;
-    &lt;y&gt;0&lt;/y&gt;
-    &lt;width&gt;350&lt;/width&gt;
-    &lt;height&gt;342&lt;/height&gt;
-   &lt;/rect&gt;
-  &lt;/property&gt;
-  &lt;property name=&quot;windowTitle&quot; &gt;
-   &lt;string&gt;Resize&lt;/string&gt;
-  &lt;/property&gt;
-  &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-   &lt;property name=&quot;margin&quot; &gt;
-    &lt;number&gt;9&lt;/number&gt;
-   &lt;/property&gt;
-   &lt;property name=&quot;spacing&quot; &gt;
-    &lt;number&gt;6&lt;/number&gt;
-   &lt;/property&gt;
-   &lt;item&gt;
-    &lt;widget class=&quot;QGroupBox&quot; name=&quot;groupBox_2&quot; &gt;
-     &lt;property name=&quot;title&quot; &gt;
-      &lt;string&gt;Aspect Ratio&lt;/string&gt;
-     &lt;/property&gt;
-     &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-      &lt;property name=&quot;margin&quot; &gt;
-       &lt;number&gt;9&lt;/number&gt;
-      &lt;/property&gt;
-      &lt;property name=&quot;spacing&quot; &gt;
-       &lt;number&gt;6&lt;/number&gt;
-      &lt;/property&gt;
-      &lt;item&gt;
-       &lt;widget class=&quot;QCheckBox&quot; name=&quot;lockArCheckBox&quot; &gt;
-        &lt;property name=&quot;text&quot; &gt;
-         &lt;string&gt;Lock Aspect Ratio&lt;/string&gt;
-        &lt;/property&gt;
-        &lt;property name=&quot;checked&quot; &gt;
-         &lt;bool&gt;true&lt;/bool&gt;
-        &lt;/property&gt;
-       &lt;/widget&gt;
-      &lt;/item&gt;
-      &lt;item&gt;
-       &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-        &lt;property name=&quot;margin&quot; &gt;
-         &lt;number&gt;0&lt;/number&gt;
-        &lt;/property&gt;
-        &lt;property name=&quot;spacing&quot; &gt;
-         &lt;number&gt;6&lt;/number&gt;
-        &lt;/property&gt;
-        &lt;item&gt;
-         &lt;widget class=&quot;QLabel&quot; name=&quot;label_4&quot; &gt;
-          &lt;property name=&quot;text&quot; &gt;
-           &lt;string&gt;Source:&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;widget class=&quot;QComboBox&quot; name=&quot;comboBoxSource&quot; &gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot; &gt;
-            &lt;string&gt;1:1&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot; &gt;
-            &lt;string&gt;4:3&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot; &gt;
-            &lt;string&gt;16:9&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;spacer&gt;
-          &lt;property name=&quot;orientation&quot; &gt;
-           &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;sizeType&quot; &gt;
-           &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;sizeHint&quot; &gt;
-           &lt;size&gt;
-            &lt;width&gt;30&lt;/width&gt;
-            &lt;height&gt;20&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-         &lt;/spacer&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;widget class=&quot;QLabel&quot; name=&quot;label_3&quot; &gt;
-          &lt;property name=&quot;text&quot; &gt;
-           &lt;string&gt;Destination:&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;widget class=&quot;QComboBox&quot; name=&quot;comboBoxDestination&quot; &gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot; &gt;
-            &lt;string&gt;1:1&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot; &gt;
-            &lt;string&gt;4:3&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot; &gt;
-            &lt;string&gt;16:9&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;spacer&gt;
-          &lt;property name=&quot;orientation&quot; &gt;
-           &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;sizeHint&quot; &gt;
-           &lt;size&gt;
-            &lt;width&gt;40&lt;/width&gt;
-            &lt;height&gt;20&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-         &lt;/spacer&gt;
-        &lt;/item&gt;
-       &lt;/layout&gt;
-      &lt;/item&gt;
-     &lt;/layout&gt;
-    &lt;/widget&gt;
-   &lt;/item&gt;
-   &lt;item&gt;
-    &lt;widget class=&quot;QGroupBox&quot; name=&quot;groupBox&quot; &gt;
-     &lt;property name=&quot;title&quot; &gt;
-      &lt;string&gt;Resize Dimensions&lt;/string&gt;
-     &lt;/property&gt;
-     &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-      &lt;property name=&quot;margin&quot; &gt;
-       &lt;number&gt;9&lt;/number&gt;
-      &lt;/property&gt;
-      &lt;property name=&quot;spacing&quot; &gt;
-       &lt;number&gt;6&lt;/number&gt;
-      &lt;/property&gt;
-      &lt;item&gt;
-       &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-        &lt;property name=&quot;margin&quot; &gt;
-         &lt;number&gt;0&lt;/number&gt;
-        &lt;/property&gt;
-        &lt;property name=&quot;spacing&quot; &gt;
-         &lt;number&gt;6&lt;/number&gt;
-        &lt;/property&gt;
-        &lt;item&gt;
-         &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot; &gt;
-          &lt;property name=&quot;text&quot; &gt;
-           &lt;string&gt;Width:&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;widget class=&quot;QSpinBox&quot; name=&quot;spinBoxWidth&quot; &gt;
-          &lt;property name=&quot;maximum&quot; &gt;
-           &lt;number&gt;2900&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;minimum&quot; &gt;
-           &lt;number&gt;16&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;singleStep&quot; &gt;
-           &lt;number&gt;2&lt;/number&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;spacer&gt;
-          &lt;property name=&quot;orientation&quot; &gt;
-           &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;sizeType&quot; &gt;
-           &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;sizeHint&quot; &gt;
-           &lt;size&gt;
-            &lt;width&gt;30&lt;/width&gt;
-            &lt;height&gt;20&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-         &lt;/spacer&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot; &gt;
-          &lt;property name=&quot;text&quot; &gt;
-           &lt;string&gt;Height:&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;widget class=&quot;QSpinBox&quot; name=&quot;spinBoxHeight&quot; &gt;
-          &lt;property name=&quot;maximum&quot; &gt;
-           &lt;number&gt;2000&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;minimum&quot; &gt;
-           &lt;number&gt;16&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;singleStep&quot; &gt;
-           &lt;number&gt;2&lt;/number&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;spacer&gt;
-          &lt;property name=&quot;orientation&quot; &gt;
-           &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;sizeHint&quot; &gt;
-           &lt;size&gt;
-            &lt;width&gt;40&lt;/width&gt;
-            &lt;height&gt;20&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-         &lt;/spacer&gt;
-        &lt;/item&gt;
-       &lt;/layout&gt;
-      &lt;/item&gt;
-      &lt;item&gt;
-       &lt;widget class=&quot;QCheckBox&quot; name=&quot;checkBoxRoundup&quot; &gt;
-        &lt;property name=&quot;text&quot; &gt;
-         &lt;string&gt;Round to the Nearest Multiple of 16&lt;/string&gt;
-        &lt;/property&gt;
-       &lt;/widget&gt;
-      &lt;/item&gt;
-      &lt;item&gt;
-       &lt;spacer&gt;
-        &lt;property name=&quot;orientation&quot; &gt;
-         &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
-        &lt;/property&gt;
-        &lt;property name=&quot;sizeType&quot; &gt;
-         &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
-        &lt;/property&gt;
-        &lt;property name=&quot;sizeHint&quot; &gt;
-         &lt;size&gt;
-          &lt;width&gt;312&lt;/width&gt;
-          &lt;height&gt;4&lt;/height&gt;
-         &lt;/size&gt;
-        &lt;/property&gt;
-       &lt;/spacer&gt;
-      &lt;/item&gt;
-      &lt;item&gt;
-       &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-        &lt;property name=&quot;margin&quot; &gt;
-         &lt;number&gt;0&lt;/number&gt;
-        &lt;/property&gt;
-        &lt;property name=&quot;spacing&quot; &gt;
-         &lt;number&gt;6&lt;/number&gt;
-        &lt;/property&gt;
-        &lt;item&gt;
-         &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-          &lt;property name=&quot;margin&quot; &gt;
-           &lt;number&gt;0&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;spacing&quot; &gt;
-           &lt;number&gt;12&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;item&gt;
-           &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-            &lt;property name=&quot;margin&quot; &gt;
-             &lt;number&gt;0&lt;/number&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;spacing&quot; &gt;
-             &lt;number&gt;6&lt;/number&gt;
-            &lt;/property&gt;
-            &lt;item&gt;
-             &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-              &lt;property name=&quot;margin&quot; &gt;
-               &lt;number&gt;0&lt;/number&gt;
-              &lt;/property&gt;
-              &lt;property name=&quot;spacing&quot; &gt;
-               &lt;number&gt;6&lt;/number&gt;
-              &lt;/property&gt;
-              &lt;item&gt;
-               &lt;widget class=&quot;QLabel&quot; name=&quot;label_8&quot; &gt;
-                &lt;property name=&quot;text&quot; &gt;
-                 &lt;string&gt;1%&lt;/string&gt;
-                &lt;/property&gt;
-               &lt;/widget&gt;
-              &lt;/item&gt;
-              &lt;item&gt;
-               &lt;spacer&gt;
-                &lt;property name=&quot;orientation&quot; &gt;
-                 &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-                &lt;/property&gt;
-                &lt;property name=&quot;sizeHint&quot; &gt;
-                 &lt;size&gt;
-                  &lt;width&gt;40&lt;/width&gt;
-                  &lt;height&gt;20&lt;/height&gt;
-                 &lt;/size&gt;
-                &lt;/property&gt;
-               &lt;/spacer&gt;
-              &lt;/item&gt;
-              &lt;item&gt;
-               &lt;widget class=&quot;QLabel&quot; name=&quot;label_5&quot; &gt;
-                &lt;property name=&quot;text&quot; &gt;
-                 &lt;string&gt;Percent&lt;/string&gt;
-                &lt;/property&gt;
-               &lt;/widget&gt;
-              &lt;/item&gt;
-              &lt;item&gt;
-               &lt;spacer&gt;
-                &lt;property name=&quot;orientation&quot; &gt;
-                 &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-                &lt;/property&gt;
-                &lt;property name=&quot;sizeHint&quot; &gt;
-                 &lt;size&gt;
-                  &lt;width&gt;40&lt;/width&gt;
-                  &lt;height&gt;20&lt;/height&gt;
-                 &lt;/size&gt;
-                &lt;/property&gt;
-               &lt;/spacer&gt;
-              &lt;/item&gt;
-              &lt;item&gt;
-               &lt;widget class=&quot;QLabel&quot; name=&quot;label_9&quot; &gt;
-                &lt;property name=&quot;text&quot; &gt;
-                 &lt;string&gt;200%&lt;/string&gt;
-                &lt;/property&gt;
-               &lt;/widget&gt;
-              &lt;/item&gt;
-             &lt;/layout&gt;
-            &lt;/item&gt;
-            &lt;item&gt;
-             &lt;widget class=&quot;QSlider&quot; name=&quot;horizontalSlider&quot; &gt;
-              &lt;property name=&quot;minimum&quot; &gt;
-               &lt;number&gt;1&lt;/number&gt;
-              &lt;/property&gt;
-              &lt;property name=&quot;maximum&quot; &gt;
-               &lt;number&gt;200&lt;/number&gt;
-              &lt;/property&gt;
-              &lt;property name=&quot;value&quot; &gt;
-               &lt;number&gt;100&lt;/number&gt;
-              &lt;/property&gt;
-              &lt;property name=&quot;orientation&quot; &gt;
-               &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-              &lt;/property&gt;
-             &lt;/widget&gt;
-            &lt;/item&gt;
-           &lt;/layout&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;widget class=&quot;QSpinBox&quot; name=&quot;percentageSpinBox&quot; &gt;
-            &lt;property name=&quot;maximum&quot; &gt;
-             &lt;number&gt;200&lt;/number&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;minimum&quot; &gt;
-             &lt;number&gt;1&lt;/number&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;value&quot; &gt;
-             &lt;number&gt;100&lt;/number&gt;
-            &lt;/property&gt;
-           &lt;/widget&gt;
-          &lt;/item&gt;
-         &lt;/layout&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-          &lt;property name=&quot;margin&quot; &gt;
-           &lt;number&gt;0&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;spacing&quot; &gt;
-           &lt;number&gt;6&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;item&gt;
-           &lt;widget class=&quot;QLabel&quot; name=&quot;label_10&quot; &gt;
-            &lt;property name=&quot;text&quot; &gt;
-             &lt;string&gt;Error X / Y:&lt;/string&gt;
-            &lt;/property&gt;
-           &lt;/widget&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;widget class=&quot;QLabel&quot; name=&quot;labelErrorXY&quot; &gt;
-            &lt;property name=&quot;text&quot; &gt;
-             &lt;string&gt;0.00 / 0.00&lt;/string&gt;
-            &lt;/property&gt;
-           &lt;/widget&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;spacer&gt;
-            &lt;property name=&quot;orientation&quot; &gt;
-             &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;sizeHint&quot; &gt;
-             &lt;size&gt;
-              &lt;width&gt;40&lt;/width&gt;
-              &lt;height&gt;20&lt;/height&gt;
-             &lt;/size&gt;
-            &lt;/property&gt;
-           &lt;/spacer&gt;
-          &lt;/item&gt;
-         &lt;/layout&gt;
-        &lt;/item&gt;
-       &lt;/layout&gt;
-      &lt;/item&gt;
-     &lt;/layout&gt;
-    &lt;/widget&gt;
-   &lt;/item&gt;
-   &lt;item&gt;
-    &lt;spacer&gt;
-     &lt;property name=&quot;orientation&quot; &gt;
-      &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
-     &lt;/property&gt;
-     &lt;property name=&quot;sizeType&quot; &gt;
-      &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
-     &lt;/property&gt;
-     &lt;property name=&quot;sizeHint&quot; &gt;
-      &lt;size&gt;
-       &lt;width&gt;332&lt;/width&gt;
-       &lt;height&gt;6&lt;/height&gt;
-      &lt;/size&gt;
-     &lt;/property&gt;
-    &lt;/spacer&gt;
-   &lt;/item&gt;
-   &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-     &lt;property name=&quot;margin&quot; &gt;
-      &lt;number&gt;0&lt;/number&gt;
-     &lt;/property&gt;
-     &lt;property name=&quot;spacing&quot; &gt;
-      &lt;number&gt;6&lt;/number&gt;
-     &lt;/property&gt;
-     &lt;item&gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label_6&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
-        &lt;string&gt;Resize Method:&lt;/string&gt;
-       &lt;/property&gt;
-      &lt;/widget&gt;
-     &lt;/item&gt;
-     &lt;item&gt;
-      &lt;widget class=&quot;QComboBox&quot; name=&quot;comboBoxAlgo&quot; &gt;
-       &lt;item&gt;
-        &lt;property name=&quot;text&quot; &gt;
-         &lt;string&gt;Bilinear&lt;/string&gt;
-        &lt;/property&gt;
-       &lt;/item&gt;
-       &lt;item&gt;
-        &lt;property name=&quot;text&quot; &gt;
-         &lt;string&gt;Bicubic&lt;/string&gt;
-        &lt;/property&gt;
-       &lt;/item&gt;
-       &lt;item&gt;
-        &lt;property name=&quot;text&quot; &gt;
-         &lt;string&gt;Lanzcos3&lt;/string&gt;
-        &lt;/property&gt;
-       &lt;/item&gt;
-      &lt;/widget&gt;
-     &lt;/item&gt;
-     &lt;item&gt;
-      &lt;spacer&gt;
-       &lt;property name=&quot;orientation&quot; &gt;
-        &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-       &lt;/property&gt;
-       &lt;property name=&quot;sizeHint&quot; &gt;
-        &lt;size&gt;
-         &lt;width&gt;40&lt;/width&gt;
-         &lt;height&gt;20&lt;/height&gt;
-        &lt;/size&gt;
-       &lt;/property&gt;
-      &lt;/spacer&gt;
-     &lt;/item&gt;
-    &lt;/layout&gt;
-   &lt;/item&gt;
-   &lt;item&gt;
-    &lt;spacer&gt;
-     &lt;property name=&quot;orientation&quot; &gt;
-      &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
-     &lt;/property&gt;
-     &lt;property name=&quot;sizeType&quot; &gt;
-      &lt;enum&gt;QSizePolicy::MinimumExpanding&lt;/enum&gt;
-     &lt;/property&gt;
-     &lt;property name=&quot;sizeHint&quot; &gt;
-      &lt;size&gt;
-       &lt;width&gt;20&lt;/width&gt;
-       &lt;height&gt;16&lt;/height&gt;
-      &lt;/size&gt;
-     &lt;/property&gt;
-    &lt;/spacer&gt;
-   &lt;/item&gt;
-   &lt;item&gt;
-    &lt;widget class=&quot;QDialogButtonBox&quot; name=&quot;buttonBox&quot; &gt;
-     &lt;property name=&quot;orientation&quot; &gt;
-      &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-     &lt;/property&gt;
-     &lt;property name=&quot;standardButtons&quot; &gt;
-      &lt;set&gt;QDialogButtonBox::Cancel|QDialogButtonBox::NoButton|QDialogButtonBox::Ok&lt;/set&gt;
-     &lt;/property&gt;
-    &lt;/widget&gt;
-   &lt;/item&gt;
-  &lt;/layout&gt;
- &lt;/widget&gt;
- &lt;tabstops&gt;
-  &lt;tabstop&gt;lockArCheckBox&lt;/tabstop&gt;
-  &lt;tabstop&gt;comboBoxSource&lt;/tabstop&gt;
-  &lt;tabstop&gt;comboBoxDestination&lt;/tabstop&gt;
-  &lt;tabstop&gt;spinBoxWidth&lt;/tabstop&gt;
-  &lt;tabstop&gt;spinBoxHeight&lt;/tabstop&gt;
-  &lt;tabstop&gt;checkBoxRoundup&lt;/tabstop&gt;
-  &lt;tabstop&gt;horizontalSlider&lt;/tabstop&gt;
-  &lt;tabstop&gt;percentageSpinBox&lt;/tabstop&gt;
-  &lt;tabstop&gt;comboBoxAlgo&lt;/tabstop&gt;
-  &lt;tabstop&gt;buttonBox&lt;/tabstop&gt;
- &lt;/tabstops&gt;
- &lt;resources/&gt;
- &lt;connections&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;buttonBox&lt;/sender&gt;
-   &lt;signal&gt;rejected()&lt;/signal&gt;
-   &lt;receiver&gt;resizeDialog&lt;/receiver&gt;
-   &lt;slot&gt;reject()&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;316&lt;/x&gt;
-     &lt;y&gt;260&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;286&lt;/x&gt;
-     &lt;y&gt;274&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;label_8&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;184&lt;/x&gt;
-     &lt;y&gt;117&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;39&lt;/x&gt;
-     &lt;y&gt;148&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;label_5&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;184&lt;/x&gt;
-     &lt;y&gt;117&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;150&lt;/x&gt;
-     &lt;y&gt;148&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;label_9&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;184&lt;/x&gt;
-     &lt;y&gt;117&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;267&lt;/x&gt;
-     &lt;y&gt;148&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;horizontalSlider&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;184&lt;/x&gt;
-     &lt;y&gt;117&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;156&lt;/x&gt;
-     &lt;y&gt;164&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;percentageSpinBox&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;184&lt;/x&gt;
-     &lt;y&gt;117&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;317&lt;/x&gt;
-     &lt;y&gt;155&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;checkBoxRoundup&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;184&lt;/x&gt;
-     &lt;y&gt;95&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;184&lt;/x&gt;
-     &lt;y&gt;117&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;label_10&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;182&lt;/x&gt;
-     &lt;y&gt;155&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;55&lt;/x&gt;
-     &lt;y&gt;251&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;labelErrorXY&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;182&lt;/x&gt;
-     &lt;y&gt;155&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;114&lt;/x&gt;
-     &lt;y&gt;251&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;label_4&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;182&lt;/x&gt;
-     &lt;y&gt;69&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;46&lt;/x&gt;
-     &lt;y&gt;95&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;comboBoxSource&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;182&lt;/x&gt;
-     &lt;y&gt;69&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;94&lt;/x&gt;
-     &lt;y&gt;95&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;label_3&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;182&lt;/x&gt;
-     &lt;y&gt;69&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;188&lt;/x&gt;
-     &lt;y&gt;95&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;comboBoxDestination&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;182&lt;/x&gt;
-     &lt;y&gt;69&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;247&lt;/x&gt;
-     &lt;y&gt;95&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
- &lt;/connections&gt;
-&lt;/ui&gt;

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/BlackenBorders/ADM_vidBlackenBorders.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/BlackenBorders/ADM_vidBlackenBorders.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/BlackenBorders/ADM_vidBlackenBorders.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,242 +0,0 @@
-/***************************************************************************
-                          ADM_vidBSMear.cpp  -  description
-                             -------------------
-         change part of video into black borders
-
-          Each one ,must be even
-
-          Copy / Paste from crop,almost the same thing
-
-
-    begin                : Sun Mar 24 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-
-#include &quot;ADM_default.h&quot;
-#include &quot;DIA_coreToolkit.h&quot;
-#include &quot;ADM_videoFilterDynamic.h&quot;
-
-#include &quot;DIA_factory.h&quot;
-typedef struct
-{
-        uint32_t left,right;
-        uint32_t top,bottom;
-}BLACKEN_PARAMS;
-class  AVDMVideoStreamBSMear:public AVDMGenericVideoStream
- {
-
- protected:
-                BLACKEN_PARAMS          *_param;
-
- public:
-
-                                AVDMVideoStreamBSMear(  AVDMGenericVideoStream *in,CONFcouple *setup);
-                virtual         ~AVDMVideoStreamBSMear();
-                virtual uint8_t getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-                                                                        ADMImage *data,uint32_t *flags);
-                virtual         char            *printConf(void) ;
-                                uint8_t         configure( AVDMGenericVideoStream *instream);
-                                uint8_t getCoupledConf( CONFcouple **couples);
- }     ;
-
-static FILTER_PARAM cropParam={4,{&quot;left&quot;,&quot;right&quot;,&quot;top&quot;,&quot;bottom&quot;}};
-
-//********************************************
-VF_DEFINE_FILTER(AVDMVideoStreamBSMear,cropParam,
-    blacken,
-                QT_TR_NOOP(&quot;Blacken borders&quot;),
-                1,
-                VF_TRANSFORM,
-                QT_TR_NOOP(&quot;Fill borders with pure black. Doesn't alter size.&quot;));
-//********************************************
-char *AVDMVideoStreamBSMear::printConf( void )
-{
- 	ADM_FILTER_DECLARE_CONF(&quot; Black l:%lu  r:%lu  u:%lu x d:%lu&quot;,
- 				_param-&gt;left,
- 					_param-&gt;right,
- 					_param-&gt;top,
- 					_param-&gt;bottom);
-        
-}
-
-//_______________________________________________________________
-
-AVDMVideoStreamBSMear::AVDMVideoStreamBSMear(  	AVDMGenericVideoStream *in,CONFcouple *couples)
-{
-
-
-  	_in=in;		
-   	memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));  		
-
-		if(couples)
-		{
-			_param=NEW(BLACKEN_PARAMS);
-			GET(left);
-			GET(right);
-			GET(top);
-			GET(bottom);
-		}	
-			else 	
-		{	// default parameter	
-				_param=NEW(BLACKEN_PARAMS);
-				_param-&gt;left=_param-&gt;top=
-						_param-&gt;right=_param-&gt;bottom=0;
-		}										
- 	
-  _info.encoding=1;
-
-  	  	
-}
-
-uint8_t	AVDMVideoStreamBSMear::getCoupledConf( CONFcouple **couples)
-{
-
-			ADM_assert(_param);
-			*couples=new CONFcouple(4);
-
-#define CSET(x)  (*couples)-&gt;setCouple((char *)#x,(_param-&gt;x))
-	CSET(left);
-	CSET(right);
-	CSET(top);
-	CSET(bottom);
-			return 1;
-
-}
-AVDMVideoStreamBSMear::~AVDMVideoStreamBSMear()
-{
- 	DELETE(_param);
- 	
-}
-
-//
-//	Blacken borders, just setting luma to null should be enough
-//
-
-uint8_t AVDMVideoStreamBSMear::getFrameNumberNoAlloc(uint32_t frame,
-				uint32_t *len,
-   				ADMImage *data,
-				uint32_t *flags)
-{
-
-			if(frame&gt;=_info.nb_frames) 
-			{
-				printf(&quot;Filter : out of bound!\n&quot;);
-				return 0;
-			}
-	
-			ADM_assert(_param);									
-								
-			// read uncompressed frame directly into follower
-			// and blacken there
-			
-       		if(!_in-&gt;getFrameNumberNoAlloc(frame, len,data,flags)) return 0;
-       		  *len= _info.width*_info.height+(_info.width*_info.height&gt;&gt;1);       			
-       		  // blacken top
-       		  uint8_t *srcY=YPLANE(data);
-		  uint8_t *srcU=UPLANE(data);
-		  uint8_t *srcV=VPLANE(data);
-       		  uint32_t bytes=_info.width*_param-&gt;top;
-		  uint32_t page=_info.width*_info.height;
-       		
-       		  memset(srcY,0x10,bytes);
-		  memset(srcU,0x80,bytes&gt;&gt;2);
-		  memset(srcV,0x80,bytes&gt;&gt;2);
-       		  // left &amp; right
-       		  uint32_t stride=_info.width;
-		  
-       		  for(uint32_t y=_info.height;y&gt;0;y--)
-       		  {
-       		        memset(srcY,0x10,_param-&gt;left);
-       		        memset(srcY+stride-_param-&gt;right,0,_param-&gt;right);       		
-       		        srcY+=stride;       		
-		 }
-		 for(uint32_t y=_info.height&gt;&gt;1;y&gt;0;y--)
-       		  {
-       		        
-			memset(srcU,0x80,_param-&gt;left&gt;&gt;1);
-			memset(srcV,0x80,_param-&gt;left&gt;&gt;1);
-			memset(srcU+((stride-_param-&gt;right)&gt;&gt;1),0x80,_param-&gt;right&gt;&gt;1);
-			memset(srcV+((stride-_param-&gt;right)&gt;&gt;1),0x80,_param-&gt;right&gt;&gt;1);
-			srcU+=stride&gt;&gt;1;
-			srcV+=stride&gt;&gt;1;
-       		  }
-       		
-       		  // backen bottom
-       		  srcY=YPLANE(data)+_info.width*_info.height-1;
-       		
-       		 bytes=_info.width*_param-&gt;bottom;
-       	 	 srcY-=bytes;
-       		 memset(srcY,0x10,bytes);
-		// chroma
-		 srcU=UPLANE(data)+(page&gt;&gt;2)-1;
-		 srcU-=bytes&gt;&gt;2;
-       		 memset(srcU,0x80,bytes&gt;&gt;2);
-		 
-		 srcV=VPLANE(data)+(page&gt;&gt;2)-1;
-		 srcV-=bytes&gt;&gt;2;
-       		 memset(srcV,0x80,bytes&gt;&gt;2);
-		 
-		  
-       		  	
-       		         		       		
-      return 1;
-}
-uint8_t AVDMVideoStreamBSMear::configure(AVDMGenericVideoStream *in)
-{
-	_in=in;
-	ADM_assert(_param);
-        uint32_t width,height;
-#define MAKEME(x) uint32_t x=_param-&gt;x;
-        while(1)
-        {
-          MAKEME(left);
-          MAKEME(right);
-          MAKEME(top);
-          MAKEME(bottom);
-          
-          width=_in-&gt;getInfo()-&gt;width;
-          height=_in-&gt;getInfo()-&gt;height;
-          
-          diaElemUInteger dleft(&amp;left, QT_TR_NOOP(&quot;_Left border:&quot;), 0,width);
-          diaElemUInteger dright(&amp;right, QT_TR_NOOP(&quot;_Right border:&quot;), 0,width);
-          diaElemUInteger dtop(&amp;(top), QT_TR_NOOP(&quot;_Top border:&quot;), 0,height);
-          diaElemUInteger dbottom(&amp;(bottom), QT_TR_NOOP(&quot;_Bottom border:&quot;), 0,height);
-            
-          diaElem *elems[4]={&amp;dleft,&amp;dright,&amp;dtop,&amp;dbottom};
-          if(diaFactoryRun(QT_TR_NOOP(&quot;Blacken Borders&quot;),4,elems))
-          {
-            if((left&amp;1) || (right&amp;1)|| (top&amp;1) || (bottom&amp;1) ||
-                     (top+bottom&gt;=height)|| (left+right&gt;width))
-            {
-              GUI_Error_HIG(QT_TR_NOOP(&quot;Incorrect parameters&quot;), QT_TR_NOOP(&quot;All parameters must be even and within range.&quot;));
-              continue;
-            }
-            else
-            {
-  #undef MAKEME
-  #define MAKEME(x) _param-&gt;x=x;
-                MAKEME(left);
-                MAKEME(right);
-                MAKEME(top);
-                MAKEME(bottom);
-                _info.width=width+left+right;
-                _info.height=height+top+bottom;
-                return 1;
-            }
-          }
-          return 0;
-      }
-}
-
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/BlackenBorders/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/BlackenBorders/CMakeLists.txt	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/BlackenBorders/CMakeLists.txt	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,9 +0,0 @@
-INCLUDE(vf_plugin)
-
-
-SET(ADM_vf_blackenBorders_SRCS ADM_vidBlackenBorders.cpp)
-
-ADD_LIBRARY(ADM_vf_blackenBorders SHARED ${ADM_vf_blackenBorders_SRCS})
-
-INIT_VIDEOFILTER_PLUGIN(ADM_vf_blackenBorders)
-INSTALL_VIDEOFILTER(ADM_vf_blackenBorders)

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/ADM_vidCrop.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/ADM_vidCrop.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/ADM_vidCrop.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,215 +0,0 @@
-/***************************************************************************
-                          ADM_vidCrop.cpp  -  description
-                             -------------------
-          Crop top/left/right/bottom
-
-          Each one ,must be even
-
-
-    begin                : Sun Mar 24 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include &quot;ADM_default.h&quot;
-#include &quot;ADM_videoFilterDynamic.h&quot;
-#include &quot;DIA_factory.h&quot;
-
-
-#include &quot;ADM_vidCrop_param.h&quot;
-class  AVDMVideoStreamCrop:public AVDMGenericVideoStream
- {
-
- protected:
-                CROP_PARAMS          *_param;
-
- public:
-
-                                AVDMVideoStreamCrop(  AVDMGenericVideoStream *in,CONFcouple *couples);
-        virtual                 ~AVDMVideoStreamCrop();
-        virtual uint8_t         getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-                                                                ADMImage *data,uint32_t *flags);
-        virtual char    *printConf(void) ;
-                  uint8_t       configure( AVDMGenericVideoStream *instream);
-          virtual uint8_t       getCoupledConf( CONFcouple **couples);
-
-
- }     ;
- 
-static FILTER_PARAM cropParam={4,{&quot;left&quot;,&quot;right&quot;,&quot;top&quot;,&quot;bottom&quot;}};
-
-
-VF_DEFINE_FILTER_UI(AVDMVideoStreamCrop,cropParam,
-    crop,
-                                QT_TR_NOOP(&quot;Crop&quot;),
-                                1,
-                                VF_TRANSFORM,
-                                QT_TR_NOOP(&quot;Remove lines from top/bottom/left/right.&quot;));
-
-
-char *AVDMVideoStreamCrop::printConf( void )
-{
- 	ADM_FILTER_DECLARE_CONF(&quot; Crop %lu x %lu --&gt; %lu x %lu&quot;,
- 				_in-&gt;getInfo()-&gt;width,
- 				_in-&gt;getInfo()-&gt;height,
- 				_info.width,
- 				_info.height);
- 
-}
-
-//_______________________________________________________________
-
-AVDMVideoStreamCrop::AVDMVideoStreamCrop(
-									AVDMGenericVideoStream *in,CONFcouple *couples)
-{
-
-
-  	_in=in;		
-   	memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));
-	
-		if(couples)
-		{
-			_param=	NEW(CROP_PARAMS);
-			GET(left);
-			GET(right);
-			GET(top);
-			GET(bottom);
-				// Consistency check
-				if(  _in-&gt;getInfo()-&gt;width&lt;(_param-&gt;right+_param-&gt;left))
-						{
-                      		printf(&quot;\n Warning Cropping too much width ! Width reseted !\n&quot;);
-								_param-&gt;right=_param-&gt;left=0;
-						}
-				if(  _in-&gt;getInfo()-&gt;height&lt;(_param-&gt;bottom+_param-&gt;top))
-						{
-                      		printf(&quot;\n Warning Cropping too much height ! Height reseted !\n&quot;);
-								_param-&gt;bottom=_param-&gt;top=0;
-						}
-
-			_info.width=_in-&gt;getInfo()-&gt;width-_param-&gt;right-_param-&gt;left;		
-			_info.height=_in-&gt;getInfo()-&gt;height-_param-&gt;bottom-_param-&gt;top;	
-			
-		}	
-			else 			
-		{	// default parameter	
-				_param=	NEW(CROP_PARAMS); ;
-				_param-&gt;left=_param-&gt;top=
-				_param-&gt;right=_param-&gt;bottom=0;
-		}				
-					
- 	//_uncompressed=(uint8_t *)malloc(3*_in-&gt;getInfo()-&gt;width*_in-&gt;getInfo()-&gt;height);
- 	//_uncompressed=new uint8_t [3*_in-&gt;getInfo()-&gt;width*_in-&gt;getInfo()-&gt;height];
-	_uncompressed=new ADMImage(_in-&gt;getInfo()-&gt;width,_in-&gt;getInfo()-&gt;height);
-  	ADM_assert(_uncompressed);
-  	_info.encoding=1;
-	  
-
-  	  	
-}
-AVDMVideoStreamCrop::~AVDMVideoStreamCrop()
-{
- 	delete _uncompressed;
- 	DELETE(_param);
-}
-
-//
-//	Basically ask a uncompressed frame from editor and ask
-//		GUI to decompress it .
-//
-
-uint8_t AVDMVideoStreamCrop::getFrameNumberNoAlloc(uint32_t frame,
-				uint32_t *len,
-   				ADMImage *data,
-				uint32_t *flags)
-{
-
-			ADM_assert(frame&lt;_info.nb_frames);
-			ADM_assert(_param);									
-		if(frame&gt;= _info.nb_frames) return 0;
-			// read uncompressed frame
-       		if(!_in-&gt;getFrameNumberNoAlloc(frame, len,_uncompressed,flags)) return 0;
-       		
-       		// Crop Y luma
-       		uint32_t y,x,line;
-       		uint8_t *src,*src2,*dest;
-       		
-       		y=_in-&gt;getInfo()-&gt;height;
-       		x=_in-&gt;getInfo()-&gt;width;
-       		line=_info.width;
-       		src=YPLANE(_uncompressed)+_param-&gt;top*x+_param-&gt;left;
-       		dest=YPLANE(data);
-       		
-       		for(uint32_t k=_info.height;k&gt;0;k--)
-       			{
-       			 	    memcpy(dest,src,line);
-       			 	    src+=x;
-       			 	    dest+=line;
-       			}
-       		 // Crop U  &amp; V
-       		 	src=UPLANE(_uncompressed)+(x*_param-&gt;top&gt;&gt;2)+(_param-&gt;left&gt;&gt;1);
-       		 	src2=VPLANE(_uncompressed)+(x*_param-&gt;top&gt;&gt;2)+(_param-&gt;left&gt;&gt;1);
-			dest=UPLANE(data);
-       		 	line&gt;&gt;=1;
-       		 	x&gt;&gt;=1;       		       		 	
-       		 		for(uint32_t k=((_info.height)&gt;&gt;1);k&gt;0;k--)
-       		 		{
-       		 	    	  	memcpy(dest,src,line);
-       			 	    	src+=x;
-       			 	    	dest+=line;
-       		 		}
-			dest=VPLANE(data);	
-       		 		for(uint32_t k=((_info.height)&gt;&gt;1);k&gt;0;k--)
-       		 		{
-       		 	    	  	memcpy(dest,src2,line);
-       			 	    	src2+=x;
-       			 	    	dest+=line;
-       		 		}	
-       		  *flags=0;
-       		  *len= _info.width*_info.height+(_info.width*_info.height&gt;&gt;1);
-		  data-&gt;copyInfo(_uncompressed);
-      return 1;
-}
-/**
-	Return the configuration as a couple of string
-	Up to the client to free them afterward
-*/
-uint8_t	AVDMVideoStreamCrop::getCoupledConf( CONFcouple **couples)
-{
-
-			ADM_assert(_param);
-			*couples=new CONFcouple(4);
-
-#define CSET(x)  (*couples)-&gt;setCouple((char *)#x,(_param-&gt;x))
-			CSET(left);
-			CSET(right);
-			CSET(top);
-			CSET(bottom);
-			return 1;
-
-}
-extern int DIA_getCropParams(const char *name, CROP_PARAMS *param, AVDMGenericVideoStream *in);
-uint8_t AVDMVideoStreamCrop::configure( AVDMGenericVideoStream *instream)
-
-{
-		uint8_t r;
-		uint32_t w,h;
-    	if(r = (DIA_getCropParams(&quot;Crop Settings&quot;,_param,instream )))
-    	{
-			w=_param-&gt;left+_param-&gt;right;
-			h=_param-&gt;top+_param-&gt;bottom;
-			ADM_assert(w&lt;instream-&gt;getInfo()-&gt;width);
-			ADM_assert(h&lt;instream-&gt;getInfo()-&gt;height);
-			_info.width=instream-&gt;getInfo()-&gt;width-w;
-			_info.height=instream-&gt;getInfo()-&gt;height-h;
-		}
-		return r;
-}
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/ADM_vidCrop_param.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/ADM_vidCrop_param.h	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/ADM_vidCrop_param.h	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,10 +0,0 @@
-#ifndef DIA_CROP_PARAM_H
-#define DIA_CROP_PARAM_H
-typedef struct
-{
-        uint32_t left,right;
-        uint32_t top,bottom;
-}CROP_PARAMS;
-#endif
-
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/CMakeLists.txt	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/CMakeLists.txt	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,20 +0,0 @@
-INCLUDE(vf_plugin)
-
-
-SET(CropCommon_SRCS 
-ADM_vidCrop.cpp  DIA_flyCrop.cpp
-)
-
-INCLUDE(vf_plugin_gtk)
-INCLUDE(vf_plugin_qt4)
-
-SET(CropGtk_SRCS gtk/DIA_crop.cpp)
-SET(CropQT_SRCS  qt4/Q_crop.cpp)
-SET(CropQT_HEADERS  qt4/Q_crop.h)
-SET(CropQT_UI    qt4/crop)
-
-INIT_VIDEOFILTER_PLUGIN_QT4(ADM_vf_crop_qt4 
-                ${CropQT_SRCS} ${CropQT_HEADERS} ${CropQT_UI} ${CropCommon_SRCS})
-INIT_VIDEOFILTER_PLUGIN_GTK(  ADM_vf_Crop_gtk 
-                ${CropGtk_SRCS} ${CropCommon_SRCS})
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/DIA_flyCrop.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/DIA_flyCrop.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/DIA_flyCrop.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,235 +0,0 @@
-/***************************************************************************
-                          DIA_flyCrop.cpp  -  description
-                             -------------------
-
-        Common part of the crop dialog
-    
-    copyright            : (C) 2002/2007 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include &quot;DIA_flyDialog.h&quot;
-#include &quot;ADM_default.h&quot;
-
-#include &quot;ADM_image.h&quot;
-#include &quot;ADM_videoFilter.h&quot;
-
-
-
-#include &quot;DIA_flyCrop.h&quot;
-
-
-static uint8_t 		Metrics( uint8_t *in, uint32_t width,uint32_t *avg, uint32_t *eqt);
-static uint8_t 		MetricsV( uint8_t *in, uint32_t width,uint32_t height,uint32_t *avg, uint32_t *eqt);
-
-uint8_t    flyCrop::process(void)
-{
-        uint32_t x,y;
-        uint8_t  *in;
-        uint32_t w=_w,h=_h;
-  
-        
-        memcpy(_rgbBufferOut,_rgbBuffer,_w*_h*4);
-        in=_rgbBufferOut;
-        for(y=0;y&lt;top;y++)
-        {
-                for(x=0;x&lt;w;x++)
-                {
-                        *in++=0;
-                        
-                        
-                        *in++=0xff;
-                        
-                        *in++=0;
-                        *in++=0;
-                }
-        }
-        // bottom
-        in=_rgbBufferOut+(w*4)*(h-bottom);
-        for(y=0;y&lt;bottom;y++)
-        {
-                for(x=0;x&lt;w;x++)
-                {
-                        *in++=0;
-                        
-                        
-                        *in++=0xff;
-                        *in++=0;
-                        *in++=0;
-                }
-        }
-        // left
-        in=_rgbBufferOut;
-        uint32_t stride=4*w-4;
-        for(y=0;y&lt;h;y++)
-        {
-                for(x=0;x&lt;left;x++)
-                {
-                        *(in+4*x)=0;
-                        
-                        
-                        *(in+4*x+1)=0xff;
-                        *(in+4*x+2)=0;
-                        *(in+4*x+3)=0;
-                }
-                for(x=0;x&lt;right;x++)
-                {
-                        *(in-4*x+stride-4)=0;
-                        
-                        
-                        *(in-4*x+stride-3)=0xff;
-                        *(in-4*x+stride-2)=0;
-                        *(in-4*x+stride-1)=0;
-                        
-                }
-                in+=4*w;
-  
-        }
-
-		copyRgbFinalToDisplay();
-}
-
-/*----------------------------------
-  autocrop
------------------------------------*/
-
-uint8_t  flyCrop::autocrop(void)
-{
-uint8_t *in;
-uint32_t y,avg,eqt;
-	// Top
-
-#define THRESH_AVG   30
-#define THRESH_EQT   50
-        
-        in=_yuvBuffer-&gt;data;
-        for(y=0;y&lt;((_h&gt;&gt;1)-2);y++)	
-        {
-                Metrics(in,_w,&amp;avg,&amp;eqt);
-                in+=_w;
-                //printf(&quot;LineT :%d avg: %d eqt: %d\n&quot;,y,avg,eqt);
-                if(avg&gt; THRESH_AVG || eqt &gt; THRESH_EQT)
-                        break;
-        }
-//gotcha_:	
-        if(y)
-                top=y-1;
-        else 
-                top=0;
-                
-        in=_yuvBuffer-&gt;data+_w*(_h-1);
-        for(y=0;y&lt;((_h&gt;&gt;1)-2);y++)	
-        {
-                Metrics(in,_w,&amp;avg,&amp;eqt);
-                in-=_w;
-                //printf(&quot;Line B :%d avg: %d eqt: %d\n&quot;,y,avg,eqt);
-                if(avg&gt; THRESH_AVG || eqt &gt; THRESH_EQT)
-                                break;
-        }
-//gotcha_:	
-        if(y)
-                bottom=y-1;
-        else
-                bottom=0;
-
-                
-// Left
-        in=_yuvBuffer-&gt;data;
-        for(y=0;y&lt;((_w&gt;&gt;1)-2);y++)	
-        {
-                MetricsV(in,_w,_h,&amp;avg,&amp;eqt);
-                in++;
-                //printf(&quot;Line L :%d avg: %d eqt: %d\n&quot;,y,avg,eqt);
-                if(avg&gt; THRESH_AVG || eqt &gt; THRESH_EQT)
-                                break;
-        }
-//gotcha_:	
-        if(y)
-                left=y-1;
-        else
-                left=0;		
-// Right
-        in=_yuvBuffer-&gt;data+_w-1;
-        for(y=0;y&lt;((_w&gt;&gt;1)-2);y++)	
-        {
-                MetricsV(in,_w,_h,&amp;avg,&amp;eqt);
-                in--;
-                //printf(&quot;Line R :%d avg: %d eqt: %d\n&quot;,y,avg,eqt);
-                if(avg&gt; THRESH_AVG || eqt &gt; THRESH_EQT)
-                                break;
-        }
-//gotcha_:	
-        if(y)
-                right=y-1;
-        else
-                right=0;
-  
-              
-        // Update display
-        top=top &amp; 0xfffe;
-        bottom=bottom &amp; 0xfffe;
-        upload();
-        process();
-        display();
-        return 1;
-}
-/*---------------------------------------------
-	Compute the average value of pixels
-	and eqt is the &quot;ecart type&quot;
-*/
-uint8_t Metrics( uint8_t *in, uint32_t width,uint32_t *avg, uint32_t *eqt)
-{
-
-uint32_t x;
-uint32_t sum=0,eq=0;
-uint8_t v;
-              for(x=0;x&lt;width;x++)
-              {
-                      sum+=*(in+x);
-              }
-              sum=sum/width;
-              *avg=sum;
-              for(x=0;x&lt;width;x++)
-              {
-                      v=*(in+x)-sum;
-                      eq+=v*v;
-              }
-              eq=eq/(width*width);
-              *eqt=eq;
-              return 1;
-}
-/*---------------------------------------------
-	Compute the average value of pixels
-	and eqt is the &quot;ecart type&quot;
-*/
-uint8_t MetricsV( uint8_t *in,uint32_t width, uint32_t height,uint32_t *avg, uint32_t *eqt)
-{
-
-uint32_t x;
-uint32_t sum=0,eq=0;
-uint8_t v;
-              for(x=0;x&lt;height;x++)
-              {
-                      sum+=*(in+x*width);
-              }
-              sum=sum/height;
-              *avg=sum;
-              for(x=0;x&lt;height;x++)
-              {
-                      v=*(in+x*width)-sum;
-                      eq+=v*v;
-              }
-              eq=eq/(height*height);
-              *eqt=eq;
-              return 1;
-}
-//EOF
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/DIA_flyCrop.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/DIA_flyCrop.h	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/DIA_flyCrop.h	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,16 +0,0 @@
-#ifndef FLY_CROP_H
-#define FLY_CROP_H
-class flyCrop : public FLY_DIALOG_TYPE
-{
-  
-  public:
-   uint32_t left,right,top,bottom;
-  public:
-   uint8_t    process(void);
-   uint8_t    download(void);
-   uint8_t    upload(void);
-   uint8_t    autocrop(void);
-   flyCrop (uint32_t width,uint32_t height,AVDMGenericVideoStream *in,
-                                    void *canvas, void *slider) : FLY_DIALOG_TYPE(width, height,in,canvas, slider,0,RESIZE_LAST) {};
-};
-#endif

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/gtk/DIA_crop.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/gtk/DIA_crop.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/gtk/DIA_crop.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,389 +0,0 @@
-/***************************************************************************
-                          DIA_crop.cpp  -  description
-                             -------------------
-
-			    GUI for cropping including autocrop
-			    +Revisted the Gtk2 way
-			     +Autocrop now in RGB space (more accurate)
-
-    begin                : Fri May 3 2002
-    copyright            : (C) 2002/2007 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include &quot;ADM_toolkitGtk.h&quot;
-
-#include &quot;ADM_image.h&quot;
-#include &quot;ADM_videoFilter.h&quot;
-
-#include &quot;DIA_flyDialog.h&quot;
-#include &quot;DIA_flyCrop.h&quot;
-#include &quot;ADM_vidCrop_param.h&quot;
-
-#if 1
-static GtkWidget	*create_dialog1 (void);
-
-/* Link between UI and core */
-static gboolean 	ui_draw( void );
-static void 		ui_autocrop (void );
-static void 		ui_reset( void );
-static void 		ui_upload(void);
-static void  		ui_read ( void);
-static void  		ui_update ( void);
-static void 		ui_frame_changed( void );
-
-static GtkWidget *dialog=NULL;
-
-/* Prevent loop when updating value */
-
-static int lock=0;
-static flyCrop *myCrop=NULL;
-//
-//	Video is in YV12 Colorspace
-//
-//
-int DIA_getCropParams(const char *name, CROP_PARAMS *param, AVDMGenericVideoStream *in)
-{
-	uint32_t width, height;
-
-	// Allocate space for green-ised video
-	width = in-&gt;getInfo()-&gt;width;
-	height = in-&gt;getInfo()-&gt;height;
-
-	uint8_t ret=0;
-
-	dialog=create_dialog1();
-	gtk_dialog_set_alternative_button_order(GTK_DIALOG(dialog),
-										GTK_RESPONSE_OK,
-										GTK_RESPONSE_CANCEL,
-										GTK_RESPONSE_APPLY,
-										-1);
-	gtk_register_dialog(dialog);
-	gtk_window_set_title(GTK_WINDOW(dialog), name);
-	gtk_widget_show(dialog);
-	
-#define CONNECT(x,y,z) 	gtk_signal_connect(GTK_OBJECT(WID(x)), #y, GTK_SIGNAL_FUNC(z), NULL);
-
-	CONNECT(drawingarea1,expose_event,ui_draw);
-	CONNECT(buttonAutocrop,clicked,ui_autocrop);
-	CONNECT(buttonReset,clicked,ui_reset);
-	CONNECT(scale,value_changed,ui_frame_changed);
-
-#define CONNECT_SPIN(x) CONNECT(spinbutton##x, value_changed,ui_update)
-          
-	CONNECT_SPIN(Top);
-	CONNECT_SPIN(Left);
-	CONNECT_SPIN(Right);
-	CONNECT_SPIN(Bottom);
-
-	myCrop=new flyCrop(width, height,in,WID(drawingarea1),WID(scale));
-	myCrop-&gt;left=param-&gt;left;
-	myCrop-&gt;right=param-&gt;right;
-	myCrop-&gt;top=param-&gt;top;
-	myCrop-&gt;bottom=param-&gt;bottom;
-	myCrop-&gt;upload();	
-	myCrop-&gt;sliderChanged();	
-
-	int response;
-
-	while((response = gtk_dialog_run(GTK_DIALOG(dialog))) == GTK_RESPONSE_APPLY)
-	{
-	  ui_update();
-	}
-
-	if(response==GTK_RESPONSE_OK)
-	{
-		ui_read( );
-		param-&gt;left=myCrop-&gt;left;
-		param-&gt;right=myCrop-&gt;right;
-		param-&gt;top=myCrop-&gt;top;
-		param-&gt;bottom=myCrop-&gt;bottom;
-		ret=1;
-	}
-
-	gtk_unregister_dialog(dialog);
-	gtk_widget_destroy(dialog);
-	delete myCrop;
-	return ret;
-}
-
-/*
-      Link GTK dialog and core
-*/
-void ui_frame_changed( void )
-{
-  myCrop-&gt;sliderChanged();
-}
-void ui_update(void)
-{
-  if(lock) return;
-  myCrop-&gt;download();
-  myCrop-&gt;process();
-  myCrop-&gt;display();
-}
-/*---------------------------------------------------------------------------
-	Actually draw the working frame on screen
-*/
-gboolean ui_draw( void )
-{
-        myCrop-&gt;display();
-}
-void ui_read (void )
-{
-        myCrop-&gt;download();
-}
-void ui_upload(void)
-{
-    myCrop-&gt;upload();
-}
-void ui_autocrop( void )
-{
-  myCrop-&gt;autocrop();
- 
-}
-void ui_reset( void )
-{
-        myCrop-&gt;left=0;
-        myCrop-&gt;right=0;
-        myCrop-&gt;bottom=0;
-        myCrop-&gt;top=0;
-        
-	myCrop-&gt;upload();
-        myCrop-&gt;process();
-        myCrop-&gt;display();
-}
-
-/*---------------------------------------------------------------------------
-	Read entried from dialog box
-*/
-
-#define SPIN_GET(x,y) {x= gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(WID(spinbutton##y))) ;}
-#define SPIN_SET(x,y)  {gtk_spin_button_set_value(GTK_SPIN_BUTTON(WID(spinbutton##y)),(gfloat)x) ;}
-
-
-//____________________________________
-uint8_t flyCrop::upload(void)
-{
-        lock++;
-        SPIN_SET(left,Left);
-        SPIN_SET(right,Right);
-        SPIN_SET(top,Top);
-        SPIN_SET(bottom,Bottom);
-        lock--;
-        return 1;
-}
-uint8_t flyCrop::download(void)
-{
-        int reject=0;
-        
-                        SPIN_GET(left,Left);
-                        SPIN_GET(right,Right);
-                        SPIN_GET(top,Top);
-                        SPIN_GET(bottom,Bottom);
-                        
-                        printf(&quot;%d %d %d %d\n&quot;,left,right,top,bottom);
-                        
-                        left&amp;=0xffffe;
-                        right&amp;=0xffffe;
-                        top&amp;=0xffffe;
-                        bottom&amp;=0xffffe;
-                        
-                        if((top+bottom)&gt;_h)
-                                {
-                                        top=bottom=0;
-                                        reject=1;
-                                }
-                        if((left+right)&gt;_w)
-                                {
-                                        left=right=0;
-                                        reject=1;
-                                }
-                        if(reject)
-                                upload();
-}
-// End common part
-//--------------------------------------------
-GtkWidget*
-create_dialog1 (void)
-{
-  GtkWidget *dialog1;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *vbox1;
-  GtkWidget *drawingarea1;
-  GtkWidget *scale;
-  GtkWidget *table1;
-  GtkWidget *label1;
-  GtkWidget *label2;
-  GtkWidget *label3;
-  GtkWidget *label4;
-  GtkObject *spinbuttonRight_adj;
-  GtkWidget *spinbuttonRight;
-  GtkObject *spinbuttonLeft_adj;
-  GtkWidget *spinbuttonLeft;
-  GtkObject *spinbuttonBottom_adj;
-  GtkWidget *spinbuttonBottom;
-  GtkObject *spinbuttonTop_adj;
-  GtkWidget *spinbuttonTop;
-  GtkWidget *hbox1;
-  GtkWidget *hbox2;
-  GtkWidget *buttonAutocrop;
-  GtkWidget *buttonReset;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *applybutton1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *okbutton1;
-
-  dialog1 = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog1), QT_TR_NOOP(&quot;Crop Settings&quot;));
-  gtk_window_set_type_hint (GTK_WINDOW (dialog1), GDK_WINDOW_TYPE_HINT_DIALOG);
-
-  dialog_vbox1 = GTK_DIALOG (dialog1)-&gt;vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  vbox1 = gtk_vbox_new (FALSE, 6);
-  gtk_widget_show (vbox1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), vbox1, TRUE, TRUE, 0);
-  gtk_container_set_border_width (GTK_CONTAINER (vbox1), 6);
-
-  drawingarea1 = gtk_drawing_area_new ();
-  gtk_widget_show (drawingarea1);
-  gtk_box_pack_start (GTK_BOX (vbox1), drawingarea1, TRUE, TRUE, 0);
-
-  scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 0, 0, 0, 0)));
-  gtk_widget_show (scale);
-  gtk_box_pack_start (GTK_BOX (vbox1), scale, FALSE, TRUE, 0);
-
-  table1 = gtk_table_new (2, 4, FALSE);
-  gtk_widget_show (table1);
-  gtk_box_pack_start (GTK_BOX (vbox1), table1, FALSE, FALSE, 10);
-  gtk_table_set_row_spacings (GTK_TABLE (table1), 4);
-  gtk_table_set_col_spacings (GTK_TABLE (table1), 15);
-
-  label1 = gtk_label_new (QT_TR_NOOP(&quot;Crop Left:&quot;));
-  gtk_widget_show (label1);
-  gtk_table_attach (GTK_TABLE (table1), label1, 0, 1, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label1), 0, 0.5);
-
-  label2 = gtk_label_new (QT_TR_NOOP(&quot;Crop Right:&quot;));
-  gtk_widget_show (label2);
-  gtk_table_attach (GTK_TABLE (table1), label2, 0, 1, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
-
-  label3 = gtk_label_new (QT_TR_NOOP(&quot;Crop Top:&quot;));
-  gtk_widget_show (label3);
-  gtk_table_attach (GTK_TABLE (table1), label3, 2, 3, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label3), 0, 0.5);
-
-  label4 = gtk_label_new (QT_TR_NOOP(&quot;Crop Bottom:&quot;));
-  gtk_widget_show (label4);
-  gtk_table_attach (GTK_TABLE (table1), label4, 2, 3, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label4), 0, 0.5);
-
-  spinbuttonRight_adj = gtk_adjustment_new (1, 0, 1000, 1, 10, 10);
-  spinbuttonRight = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonRight_adj), 1, 0);
-  gtk_widget_show (spinbuttonRight);
-  gtk_table_attach (GTK_TABLE (table1), spinbuttonRight, 1, 2, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  spinbuttonLeft_adj = gtk_adjustment_new (1, 0, 1000, 1, 10, 10);
-  spinbuttonLeft = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonLeft_adj), 1, 0);
-  gtk_widget_show (spinbuttonLeft);
-  gtk_table_attach (GTK_TABLE (table1), spinbuttonLeft, 1, 2, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  spinbuttonBottom_adj = gtk_adjustment_new (1, 0, 1000, 1, 10, 10);
-  spinbuttonBottom = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBottom_adj), 1, 0);
-  gtk_widget_show (spinbuttonBottom);
-  gtk_table_attach (GTK_TABLE (table1), spinbuttonBottom, 3, 4, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  spinbuttonTop_adj = gtk_adjustment_new (1, 0, 1000, 1, 10, 10);
-  spinbuttonTop = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonTop_adj), 1, 0);
-  gtk_widget_show (spinbuttonTop);
-  gtk_table_attach (GTK_TABLE (table1), spinbuttonTop, 3, 4, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  hbox1 = gtk_hbox_new (FALSE, 0);
-  gtk_widget_show (hbox1);
-  gtk_box_pack_start (GTK_BOX (vbox1), hbox1, FALSE, TRUE, 0);
-
-  hbox2 = gtk_hbox_new (TRUE, 6);
-  gtk_widget_show (hbox2);
-  gtk_box_pack_start (GTK_BOX (hbox1), hbox2, FALSE, TRUE, 0);
-
-  buttonAutocrop = gtk_button_new_with_mnemonic (QT_TR_NOOP(&quot;Auto Crop&quot;));
-  gtk_widget_show (buttonAutocrop);
-  gtk_box_pack_start (GTK_BOX (hbox2), buttonAutocrop, FALSE, TRUE, 0);
-
-  buttonReset = gtk_button_new_from_stock (&quot;gtk-clear&quot;);
-  gtk_widget_show (buttonReset);
-  gtk_box_pack_start (GTK_BOX (hbox2), buttonReset, FALSE, TRUE, 0);
-
-  dialog_action_area1 = GTK_DIALOG (dialog1)-&gt;action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  applybutton1 = gtk_button_new_from_stock (&quot;gtk-apply&quot;);
-  gtk_widget_show (applybutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), applybutton1, GTK_RESPONSE_APPLY);
-  GTK_WIDGET_SET_FLAGS (applybutton1, GTK_CAN_DEFAULT);
-
-  cancelbutton1 = gtk_button_new_from_stock (&quot;gtk-cancel&quot;);
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock (&quot;gtk-ok&quot;);
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, &quot;dialog1&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, &quot;dialog_vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, vbox1, &quot;vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, drawingarea1, &quot;drawingarea1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, scale, &quot;scale&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, table1, &quot;table1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label1, &quot;label1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label2, &quot;label2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label3, &quot;label3&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label4, &quot;label4&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonRight, &quot;spinbuttonRight&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonLeft, &quot;spinbuttonLeft&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonBottom, &quot;spinbuttonBottom&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonTop, &quot;spinbuttonTop&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, hbox1, &quot;hbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, hbox2, &quot;hbox2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, buttonAutocrop, &quot;buttonAutocrop&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, buttonReset, &quot;buttonReset&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, &quot;dialog_action_area1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, applybutton1, &quot;applybutton1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, &quot;cancelbutton1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, okbutton1, &quot;okbutton1&quot;);
-
-  return dialog1;
-}
-
-#endif

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/qt4/Q_crop.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/qt4/Q_crop.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/qt4/Q_crop.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,171 +0,0 @@
-/***************************************************************************
-                          DIA_crop.cpp  -  description
-                             -------------------
-
-			    GUI for cropping including autocrop
-			    +Revisted the Gtk2 way
-			     +Autocrop now in RGB space (more accurate)
-
-    begin                : Fri May 3 2002
-    copyright            : (C) 2002/2007 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#if 1
-#include &quot;Q_crop.h&quot;
-
-//
-//	Video is in YV12 Colorspace
-//
-//
-  Ui_cropWindow::Ui_cropWindow(CROP_PARAMS *param,AVDMGenericVideoStream *in)
-  {
-    uint32_t width,height;
-        ui.setupUi(this);
-        lock=0;
-        // Allocate space for green-ised video
-        width=in-&gt;getInfo()-&gt;width;
-        height=in-&gt;getInfo()-&gt;height;
-
-        canvas=new ADM_QCanvas(ui.graphicsView,width,height);
-        
-        myCrop=new flyCrop( width, height,in,canvas,ui.horizontalSlider);
-        myCrop-&gt;left=param-&gt;left;
-        myCrop-&gt;right=param-&gt;right;
-        myCrop-&gt;top=param-&gt;top;
-        myCrop-&gt;bottom=param-&gt;bottom;
-        myCrop-&gt;_cookie=&ui;
-        myCrop-&gt;upload();
-        myCrop-&gt;sliderChanged();
-
-
-        connect( ui.horizontalSlider,SIGNAL(valueChanged(int)),this,SLOT(sliderUpdate(int)));
-        connect( ui.pushButtonAutoCrop,SIGNAL(clicked(bool)),this,SLOT(autoCrop(bool)));
-        connect( ui.pushButtonReset,SIGNAL(clicked(bool)),this,SLOT(reset(bool)));
-#define SPINNER(x) connect( ui.spinBox##x,SIGNAL(valueChanged(int)),this,SLOT(valueChanged(int))); 
-          SPINNER(Left);
-          SPINNER(Right);
-          SPINNER(Top);
-          SPINNER(Bottom);
-
-  }
-  void Ui_cropWindow::sliderUpdate(int foo)
-  {
-    myCrop-&gt;sliderChanged();
-  }
-  void Ui_cropWindow::gather(CROP_PARAMS *param)
-  {
-    
-        myCrop-&gt;download();
-        param-&gt;left=myCrop-&gt;left;
-        param-&gt;right=myCrop-&gt;right;
-        param-&gt;top=myCrop-&gt;top;
-        param-&gt;bottom=myCrop-&gt;bottom;
-  }
-Ui_cropWindow::~Ui_cropWindow()
-{
-  if(myCrop) delete myCrop;
-  myCrop=NULL; 
-  if(canvas) delete canvas;
-  canvas=NULL;
-}
-void Ui_cropWindow::valueChanged( int f )
-{
-  if(lock) return;
-  lock++;
-  myCrop-&gt;download();
-  myCrop-&gt;process();
-  myCrop-&gt;display();
-  lock--;
-}
-
-void Ui_cropWindow::autoCrop( bool f )
-{
-  lock++;
-  myCrop-&gt;autocrop();
-  lock--;
-}
-void Ui_cropWindow::reset( bool f )
-{
-         myCrop-&gt;left=0;
-         myCrop-&gt;right=0;
-         myCrop-&gt;bottom=0;
-         myCrop-&gt;top=0;
-         lock++;
-         myCrop-&gt;upload();
-         myCrop-&gt;process();
-         myCrop-&gt;display();
-         lock--;
-}
-
-//************************
-uint8_t flyCrop::upload(void)
-{
-      Ui_cropDialog *w=(Ui_cropDialog *)_cookie;
-        
-        w-&gt;spinBoxLeft-&gt;setValue(left);
-        w-&gt;spinBoxRight-&gt;setValue(right);
-        w-&gt;spinBoxTop-&gt;setValue(top);
-        w-&gt;spinBoxBottom-&gt;setValue(bottom);
-        
-        return 1;
-}
-uint8_t flyCrop::download(void)
-{
-        int reject=0;
-Ui_cropDialog *w=(Ui_cropDialog *)_cookie;
-#define SPIN_GET(x,y) x=w-&gt;spinBox##y-&gt;value();
-                        SPIN_GET(left,Left);
-                        SPIN_GET(right,Right);
-                        SPIN_GET(top,Top);
-                        SPIN_GET(bottom,Bottom);
-                        
-                        printf(&quot;%d %d %d %d\n&quot;,left,right,top,bottom);
-                        
-                        left&amp;=0xffffe;
-                        right&amp;=0xffffe;
-                        top&amp;=0xffffe;
-                        bottom&amp;=0xffffe;
-                        
-                        if((top+bottom)&gt;_h)
-                                {
-                                        top=bottom=0;
-                                        reject=1;
-                                }
-                        if((left+right)&gt;_w)
-                                {
-                                        left=right=0;
-                                        reject=1;
-                                }
-                        if(reject)
-                                upload();
-}
-
-/**
-      \fn     DIA_getCropParams
-      \brief  Handle crop dialog
-*/
-int DIA_getCropParams(	const char *name,CROP_PARAMS *param,AVDMGenericVideoStream *in)
-{
-        uint8_t ret=0;
-        
-        Ui_cropWindow dialog(param,in);        
-        if(dialog.exec()==QDialog::Accepted)
-        {
-            dialog.gather(param); 
-            ret=1;
-        }
-        return ret;
-}
-//____________________________________
-// EOF
-
-#endif

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/qt4/Q_crop.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/qt4/Q_crop.h	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/qt4/Q_crop.h	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,38 +0,0 @@
-#ifndef Q_crop_h
-#define Q_crop_h
-#include &quot;DIA_flyDialog.h&quot;
-#include &quot;ui_crop.h&quot;
-#include &quot;ADM_image.h&quot;
-#include &quot;ADM_videoFilter.h&quot;
-
-#include &quot;DIA_flyDialogQt4.h&quot;
-#include &quot;DIA_flyCrop.h&quot;
-#include &quot;ADM_vidCrop_param.h&quot;
-#if 1
-class Ui_cropWindow : public QDialog
-{
-	Q_OBJECT
-
-protected: 
-	int lock;
-
-public:
-	flyCrop *myCrop;
-	ADM_QCanvas *canvas;
-	Ui_cropWindow(CROP_PARAMS *param,AVDMGenericVideoStream *in);
-	~Ui_cropWindow();
-	Ui_cropDialog ui;
-
-public slots:
-	void gather(CROP_PARAMS *param);
-
-private slots:
-	void sliderUpdate(int foo);
-	void valueChanged(int foo);
-	void autoCrop(bool f);
-	void reset(bool f);
-};
-
-#endif	// Q_crop_h
-#endif
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/qt4/crop.ui
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/qt4/crop.ui	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Crop/qt4/crop.ui	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,231 +0,0 @@
-&lt;ui version=&quot;4.0&quot; &gt;
- &lt;class&gt;cropDialog&lt;/class&gt;
- &lt;widget class=&quot;QDialog&quot; name=&quot;cropDialog&quot; &gt;
-  &lt;property name=&quot;geometry&quot; &gt;
-   &lt;rect&gt;
-    &lt;x&gt;0&lt;/x&gt;
-    &lt;y&gt;0&lt;/y&gt;
-    &lt;width&gt;348&lt;/width&gt;
-    &lt;height&gt;300&lt;/height&gt;
-   &lt;/rect&gt;
-  &lt;/property&gt;
-  &lt;property name=&quot;windowTitle&quot; &gt;
-   &lt;string&gt;Crop&lt;/string&gt;
-  &lt;/property&gt;
-  &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-   &lt;property name=&quot;margin&quot; &gt;
-    &lt;number&gt;9&lt;/number&gt;
-   &lt;/property&gt;
-   &lt;property name=&quot;spacing&quot; &gt;
-    &lt;number&gt;6&lt;/number&gt;
-   &lt;/property&gt;
-   &lt;item&gt;
-    &lt;layout class=&quot;QGridLayout&quot; &gt;
-     &lt;property name=&quot;margin&quot; &gt;
-      &lt;number&gt;0&lt;/number&gt;
-     &lt;/property&gt;
-     &lt;property name=&quot;spacing&quot; &gt;
-      &lt;number&gt;6&lt;/number&gt;
-     &lt;/property&gt;
-     &lt;item row=&quot;0&quot; column=&quot;3&quot; &gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
-        &lt;string&gt;Right:&lt;/string&gt;
-       &lt;/property&gt;
-      &lt;/widget&gt;
-     &lt;/item&gt;
-     &lt;item row=&quot;1&quot; column=&quot;0&quot; &gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label_4&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
-        &lt;string&gt;Top:&lt;/string&gt;
-       &lt;/property&gt;
-      &lt;/widget&gt;
-     &lt;/item&gt;
-     &lt;item row=&quot;0&quot; column=&quot;4&quot; &gt;
-      &lt;widget class=&quot;QSpinBox&quot; name=&quot;spinBoxRight&quot; &gt;
-       &lt;property name=&quot;maximum&quot; &gt;
-        &lt;number&gt;2147483647&lt;/number&gt;
-       &lt;/property&gt;
-      &lt;/widget&gt;
-     &lt;/item&gt;
-     &lt;item row=&quot;0&quot; column=&quot;2&quot; &gt;
-      &lt;spacer&gt;
-       &lt;property name=&quot;orientation&quot; &gt;
-        &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-       &lt;/property&gt;
-       &lt;property name=&quot;sizeType&quot; &gt;
-        &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
-       &lt;/property&gt;
-       &lt;property name=&quot;sizeHint&quot; &gt;
-        &lt;size&gt;
-         &lt;width&gt;26&lt;/width&gt;
-         &lt;height&gt;20&lt;/height&gt;
-        &lt;/size&gt;
-       &lt;/property&gt;
-      &lt;/spacer&gt;
-     &lt;/item&gt;
-     &lt;item row=&quot;1&quot; column=&quot;5&quot; &gt;
-      &lt;spacer&gt;
-       &lt;property name=&quot;orientation&quot; &gt;
-        &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-       &lt;/property&gt;
-       &lt;property name=&quot;sizeHint&quot; &gt;
-        &lt;size&gt;
-         &lt;width&gt;40&lt;/width&gt;
-         &lt;height&gt;20&lt;/height&gt;
-        &lt;/size&gt;
-       &lt;/property&gt;
-      &lt;/spacer&gt;
-     &lt;/item&gt;
-     &lt;item row=&quot;1&quot; column=&quot;6&quot; &gt;
-      &lt;widget class=&quot;QPushButton&quot; name=&quot;pushButtonReset&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
-        &lt;string&gt;Reset&lt;/string&gt;
-       &lt;/property&gt;
-      &lt;/widget&gt;
-     &lt;/item&gt;
-     &lt;item row=&quot;1&quot; column=&quot;1&quot; &gt;
-      &lt;widget class=&quot;QSpinBox&quot; name=&quot;spinBoxTop&quot; &gt;
-       &lt;property name=&quot;maximum&quot; &gt;
-        &lt;number&gt;2147483647&lt;/number&gt;
-       &lt;/property&gt;
-      &lt;/widget&gt;
-     &lt;/item&gt;
-     &lt;item row=&quot;1&quot; column=&quot;4&quot; &gt;
-      &lt;widget class=&quot;QSpinBox&quot; name=&quot;spinBoxBottom&quot; &gt;
-       &lt;property name=&quot;maximum&quot; &gt;
-        &lt;number&gt;2147483647&lt;/number&gt;
-       &lt;/property&gt;
-      &lt;/widget&gt;
-     &lt;/item&gt;
-     &lt;item row=&quot;1&quot; column=&quot;3&quot; &gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label_3&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
-        &lt;string&gt;Bottom:&lt;/string&gt;
-       &lt;/property&gt;
-      &lt;/widget&gt;
-     &lt;/item&gt;
-     &lt;item row=&quot;0&quot; column=&quot;0&quot; &gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
-        &lt;string&gt;Left:&lt;/string&gt;
-       &lt;/property&gt;
-      &lt;/widget&gt;
-     &lt;/item&gt;
-     &lt;item row=&quot;0&quot; column=&quot;5&quot; &gt;
-      &lt;spacer&gt;
-       &lt;property name=&quot;orientation&quot; &gt;
-        &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-       &lt;/property&gt;
-       &lt;property name=&quot;sizeType&quot; &gt;
-        &lt;enum&gt;QSizePolicy::MinimumExpanding&lt;/enum&gt;
-       &lt;/property&gt;
-       &lt;property name=&quot;sizeHint&quot; &gt;
-        &lt;size&gt;
-         &lt;width&gt;40&lt;/width&gt;
-         &lt;height&gt;20&lt;/height&gt;
-        &lt;/size&gt;
-       &lt;/property&gt;
-      &lt;/spacer&gt;
-     &lt;/item&gt;
-     &lt;item row=&quot;0&quot; column=&quot;1&quot; &gt;
-      &lt;widget class=&quot;QSpinBox&quot; name=&quot;spinBoxLeft&quot; &gt;
-       &lt;property name=&quot;maximum&quot; &gt;
-        &lt;number&gt;2147483647&lt;/number&gt;
-       &lt;/property&gt;
-      &lt;/widget&gt;
-     &lt;/item&gt;
-     &lt;item row=&quot;0&quot; column=&quot;6&quot; &gt;
-      &lt;widget class=&quot;QPushButton&quot; name=&quot;pushButtonAutoCrop&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
-        &lt;string&gt;Auto Crop&lt;/string&gt;
-       &lt;/property&gt;
-      &lt;/widget&gt;
-     &lt;/item&gt;
-     &lt;item row=&quot;1&quot; column=&quot;2&quot; &gt;
-      &lt;spacer&gt;
-       &lt;property name=&quot;orientation&quot; &gt;
-        &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-       &lt;/property&gt;
-       &lt;property name=&quot;sizeType&quot; &gt;
-        &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
-       &lt;/property&gt;
-       &lt;property name=&quot;sizeHint&quot; &gt;
-        &lt;size&gt;
-         &lt;width&gt;26&lt;/width&gt;
-         &lt;height&gt;20&lt;/height&gt;
-        &lt;/size&gt;
-       &lt;/property&gt;
-      &lt;/spacer&gt;
-     &lt;/item&gt;
-    &lt;/layout&gt;
-   &lt;/item&gt;
-   &lt;item&gt;
-    &lt;widget class=&quot;QSlider&quot; name=&quot;horizontalSlider&quot; &gt;
-     &lt;property name=&quot;orientation&quot; &gt;
-      &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-     &lt;/property&gt;
-    &lt;/widget&gt;
-   &lt;/item&gt;
-   &lt;item&gt;
-    &lt;widget class=&quot;QGraphicsView&quot; name=&quot;graphicsView&quot; /&gt;
-   &lt;/item&gt;
-   &lt;item&gt;
-    &lt;widget class=&quot;QDialogButtonBox&quot; name=&quot;buttonBox&quot; &gt;
-     &lt;property name=&quot;orientation&quot; &gt;
-      &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-     &lt;/property&gt;
-     &lt;property name=&quot;standardButtons&quot; &gt;
-      &lt;set&gt;QDialogButtonBox::Cancel|QDialogButtonBox::NoButton|QDialogButtonBox::Ok&lt;/set&gt;
-     &lt;/property&gt;
-    &lt;/widget&gt;
-   &lt;/item&gt;
-  &lt;/layout&gt;
- &lt;/widget&gt;
- &lt;tabstops&gt;
-  &lt;tabstop&gt;spinBoxLeft&lt;/tabstop&gt;
-  &lt;tabstop&gt;spinBoxRight&lt;/tabstop&gt;
-  &lt;tabstop&gt;spinBoxTop&lt;/tabstop&gt;
-  &lt;tabstop&gt;spinBoxBottom&lt;/tabstop&gt;
-  &lt;tabstop&gt;pushButtonAutoCrop&lt;/tabstop&gt;
-  &lt;tabstop&gt;pushButtonReset&lt;/tabstop&gt;
-  &lt;tabstop&gt;horizontalSlider&lt;/tabstop&gt;
-  &lt;tabstop&gt;graphicsView&lt;/tabstop&gt;
-  &lt;tabstop&gt;buttonBox&lt;/tabstop&gt;
- &lt;/tabstops&gt;
- &lt;resources/&gt;
- &lt;connections&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;buttonBox&lt;/sender&gt;
-   &lt;signal&gt;accepted()&lt;/signal&gt;
-   &lt;receiver&gt;cropDialog&lt;/receiver&gt;
-   &lt;slot&gt;accept()&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;248&lt;/x&gt;
-     &lt;y&gt;254&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;157&lt;/x&gt;
-     &lt;y&gt;274&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;buttonBox&lt;/sender&gt;
-   &lt;signal&gt;rejected()&lt;/signal&gt;
-   &lt;receiver&gt;cropDialog&lt;/receiver&gt;
-   &lt;slot&gt;reject()&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;316&lt;/x&gt;
-     &lt;y&gt;260&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;286&lt;/x&gt;
-     &lt;y&gt;274&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
- &lt;/connections&gt;
-&lt;/ui&gt;

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/KernelDeint/ADM_vidKernelDeint.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/KernelDeint/ADM_vidKernelDeint.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/KernelDeint/ADM_vidKernelDeint.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,441 +0,0 @@
-/***************************************************************************
-                          ADM_vidKernelDeint  -  description
-                             -------------------
- 			Port of another D Graft deinterlacer
-			<A HREF="http://neuron2.net/kerneldeint/kerneldeint.html">http://neuron2.net/kerneldeint/kerneldeint.html</A>
-     ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-
-/*
-	KernelDeint() plugin for Avisynth.
-
-	Copyright (C) 2003 Donald A. Graft
-
-	This program is free software; you can redistribute it and/or modify
-	it under the terms of the GNU General Public License as published by
-	the Free Software Foundation.
-
-	This program is distributed in the hope that it will be useful,
-	but WITHOUT ANY WARRANTY; without even the implied warranty of
-	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-	GNU General Public License for more details.
-
-	You should have received a copy of the GNU General Public License
-	along with this program; if not, write to the Free Software
-	Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
-*/
-
-#include &quot;ADM_default.h&quot;
-#include &quot;ADM_videoFilterDynamic.h&quot;
-#include &quot;ADM_vidKernelDeint.h&quot;
-
-#include &quot;DIA_factory.h&quot;
-
-static FILTER_PARAM kdintParam={5,{&quot;order&quot;,&quot;threshold&quot;,&quot;sharp&quot;,&quot;twoway&quot;,&quot;map&quot;}};
-
-
-VF_DEFINE_FILTER(ADMVideoKernelDeint,kdintParam,
-    kerneldeint,
-                QT_TR_NOOP(&quot;KernelDeint&quot;),
-                1,
-                VF_INTERLACING,
-                QT_TR_NOOP(&quot;Kernel deinterlacer by Donald Graft.&quot;));
-static int PutHintingData(uint8_t *video, unsigned int hint);
-static int GetHintingData(uint8_t *video, unsigned int *hint);
-
-// extern uint8_t DIA_kerneldeint(uint32_t *order, uint32_t *threshold, uint32_t *sharp, 
-// 		uint32_t *twoway, uint32_t *map);
-
-#define PROGRESSIVE  0x00000001
-
-
-
-
-
-uint8_t ADMVideoKernelDeint::configure( AVDMGenericVideoStream *instream)
-{
-  #define PX(x) &amp;(_param-&gt;x)
-_in=instream;
-
-   diaMenuEntry menuField[2]={{1,QT_TR_NOOP(&quot;Top&quot;),NULL},
-                             {0,QT_TR_NOOP(&quot;Bottom&quot;),NULL}
-                          };
-  
-    
-    diaElemMenu     menu1(PX(order),QT_TR_NOOP(&quot;_Field order:&quot;), 2,menuField);
-    diaElemUInteger threshold(PX(threshold),QT_TR_NOOP(&quot;_Threshold:&quot;),0,100,QT_TR_NOOP(&quot;Smaller means more deinterlacing&quot;));
-    diaElemToggle   sharp(PX(sharp),QT_TR_NOOP(&quot;_Sharp&quot;),QT_TR_NOOP(&quot;_Sharper engine:&quot;));
-    diaElemToggle   twoway(PX(twoway),QT_TR_NOOP(&quot;T_woway&quot;),QT_TR_NOOP(&quot;Extrapolate better (better not to use it)&quot;));
-    diaElemToggle   map(PX(map),QT_TR_NOOP(&quot;_Map&quot;),QT_TR_NOOP(&quot;Show interlaced areas (for test!)&quot;));
-    
-    diaElem *elems[5]={&amp;menu1,&amp;threshold,&amp;sharp,&amp;twoway,&amp;map};
-  
-   return  diaFactoryRun(QT_TR_NOOP(&quot;KernelDeint&quot;),5,elems);
-}
-uint8_t	ADMVideoKernelDeint::getCoupledConf( CONFcouple **couples)
-{
-
-			*couples=new CONFcouple(5);
-
-			CSET(order);
-			CSET(threshold);
-			CSET(sharp);
-			CSET(twoway);
-			CSET(map);	
-
-		return 1;	
-}
-char *ADMVideoKernelDeint::printConf( void )
-{
- 	ADM_FILTER_DECLARE_CONF(&quot; D Graft Kernel Deint&quot;);
-        
-}
-
-ADMVideoKernelDeint::~ADMVideoKernelDeint()
-{
- if(vidCache) delete vidCache;
- 	
-}
-
-
- ADMVideoKernelDeint::ADMVideoKernelDeint( AVDMGenericVideoStream *in,CONFcouple *couples)
-{
-
-		if(!couples)
-		{
-			_param=NEW(KERNEL_CONF);
-	    		_param-&gt;order=1; // Bff=0 / 1=tff
-	    		_param-&gt;threshold=10;
-	    		_param-&gt;sharp=0;
-	    		_param-&gt;twoway=0;
-	    		_param-&gt;map=0;
-		}
-		else
-		{
-			_param=NEW(KERNEL_CONF);
-			GET(order);
-			GET(threshold);
-			GET(sharp);
-			GET(twoway);
-			GET(map);
-						
-		}
-	    debug=0;   
-	    _in=in;
-	    
-	   _uncompressed=NULL;
-
-  	memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));
-	vidCache=new VideoCache(4,_in);
-
-
-}
-uint8_t ADMVideoKernelDeint::getFrameNumberNoAlloc(uint32_t frame,
-							uint32_t *len,
-							ADMImage *data,
-							uint32_t *flags)
-{
-		
-		uint32_t frame_prev;
-		uint32_t page=_info.width*_info.height;
-		ADMImage *mysrc=NULL, *myprev=NULL;
-		
-		if(frame&gt;_info.nb_frames-1) return 0;
-
-
-		
-		frame_prev=frame;
-		if(frame_prev) frame_prev--;
-		
-		
-		
-			mysrc=vidCache-&gt;getImage(frame);
-			myprev=vidCache-&gt;getImage(frame_prev);
-			ADM_assert(mysrc);
-			ADM_assert(myprev);
-		// Now go to kernel deint code
-			
-    const uint8_t *srcp, *prvp,*prvp_saved, *prvpp, *prvpn, *prvppp, *prvpnn, *prvp4p, *prvp4n;
-	const uint8_t *srcp_saved;
-	const uint8_t *srcpp, *srcppp, *srcpn, *srcpnn, *srcp3p, *srcp3n, *srcp4p, *srcp4n;
-    uint8_t *dstp;
-	uint8_t *dstp_saved;
- 
-	int plane;
-	int src_pitch;
-    int dst_pitch;
-    int w;
-    int h;
-	int x, y, z;
-	int val, hi, lo;
-	double valf;
-	unsigned int hint;
-	char buf[80];
-	
-	uint32_t pitch;
-	uint32_t offset;
-	
-	
-	uint32_t		order, threshold;
-	uint8_t			sharp, twoway, map;
-	
-	order=_param-&gt;order;
-	threshold=_param-&gt;threshold;
-	sharp=_param-&gt;sharp;
-	twoway=_param-&gt;twoway;
-	map=_param-&gt;map;
-	
-	
-	for (z = 0; z &lt; 3; z++)
-	{
-		
-		pitch=_info.width;
-		switch(z)
-		{
-			case 0:		offset=0;
-					srcp=srcp_saved= YPLANE(mysrc);
-					dstp = dstp_saved=YPLANE(data);
-					prvp_saved=prvp=YPLANE(myprev);
-					break;
-			case 1:		offset=page;
-					pitch&gt;&gt;=1;
-					srcp=srcp_saved=UPLANE(mysrc);
-					dstp = dstp_saved=UPLANE(data);
-					prvp_saved=prvp=UPLANE(myprev);
-					break;
-			case 2:		offset=((page*5)&gt;&gt;2);
-					pitch&gt;&gt;=1;
-					srcp=srcp_saved=VPLANE(mysrc);
-					dstp = dstp_saved=VPLANE(data);
-					prvp_saved=prvp=VPLANE(myprev);
-					break;
-		
-		}
-		
-		if (z==0 &amp;&amp; (GetHintingData((uint8_t *) srcp, &amp;hint) == false) &amp;&amp; (hint &amp; PROGRESSIVE))
-		{
-			if (debug ==true)
-			{
-				printf( &quot;KernelDeint: frame %d: progressive\n&quot;, frame); 
-				
-			}
-			memcpy(YPLANE(data),YPLANE(mysrc),page);
-			memcpy(UPLANE(data),UPLANE(mysrc),page&gt;&gt;2);
-			memcpy(VPLANE(data),VPLANE(mysrc),page&gt;&gt;2);
-			vidCache-&gt;unlockAll();
-			data-&gt;copyInfo(mysrc);
-			return 1;
-		}
-		else
-		{
-			if (debug == true)
-			{
-				printf( &quot;KernelDeint: frame %d: interkaced\n&quot;, frame); 
-			}
-		}
-		
-		src_pitch = pitch;	
-		dst_pitch = pitch;
-		
-		w = pitch; //dst-&gt;GetRowSize(plane);
-		h=_info.height;
-		if(z) h&gt;&gt;=1;  //h = dst-&gt;GetHeight(plane);
-		
-		srcp = srcp_saved  + (1-order) * src_pitch;
-		dstp = dstp_saved  + (1-order) * dst_pitch;
-		for (y = 0; y &lt; h; y+=2)
-		{
-			memcpy(dstp, srcp, w);
-			srcp += 2*src_pitch;
-			dstp += 2*dst_pitch;
-		}
-
-		// Copy through the lines that will be missed below.
-		memcpy(dstp_saved + order*dst_pitch, srcp_saved + (1-order)*src_pitch, w);
-		memcpy(dstp_saved + (2+order)*dst_pitch, srcp_saved + (3-order)*src_pitch, w);
-		memcpy(dstp_saved + (h-2+order)*dst_pitch, srcp_saved + (h-1-order)*src_pitch, w);
-		memcpy(dstp_saved + (h-4+order)*dst_pitch, srcp_saved + (h-3-order)*src_pitch, w);
-		/* For the other field choose adaptively between using the previous field
-		   or the interpolant from the current field. */
-		//prvp = prv-&gt;GetReadPtr(plane) + 5*src_pitch - (1-order)*src_pitch;
-		prvp = prvp_saved + 5*src_pitch - (1-order)*src_pitch;
-		
-		
-		prvpp = prvp - src_pitch;
-		prvppp = prvp - 2*src_pitch;
-		prvp4p = prvp - 4*src_pitch;
-		prvpn = prvp + src_pitch;
-		prvpnn = prvp + 2*src_pitch;
-		prvp4n = prvp + 4*src_pitch;
-		srcp = srcp_saved + 5*src_pitch - (1-order)*src_pitch;
-		srcpp = srcp - src_pitch;
-		srcppp = srcp - 2*src_pitch;
-		srcp3p = srcp - 3*src_pitch;
-		srcp4p = srcp - 4*src_pitch;
-		srcpn = srcp + src_pitch;
-		srcpnn = srcp + 2*src_pitch;
-		srcp3n = srcp + 3*src_pitch;
-		srcp4n = srcp + 4*src_pitch;
-		dstp =  dstp_saved  + 5*dst_pitch - (1-order)*dst_pitch;
-		for (y = 5 - (1-order); y &lt;= h - 5 - (1-order); y+=2)
-		{
-			for (x = 0; x &lt; w; x++)
-			{
-				if ((threshold == 0) || (frame == 0) ||
-					(abs((int)prvp[x] - (int)srcp[x]) &gt; threshold) ||
-					(abs((int)prvpp[x] - (int)srcpp[x]) &gt; threshold) ||
-					(abs((int)prvpn[x] - (int)srcpn[x]) &gt; threshold))
-				{
-					if (map == true)
-					{
-						int g = x &amp; ~3;
-						
-						{
-							if (z == 0) dstp[x] = 235;
-							else dstp[x] = 128;
-						}
-					}
-					else
-					{
-						
-						{
-							hi = (z == 0) ? 235 : 240;
-							lo = 16;
-						}
-						
-						if (sharp == true)
-						{
-							if (twoway == true)
-								valf = + 0.526*((int)srcpp[x] +
-								 (int)srcpn[x])
-								   + 0.170*((int)srcp[x] + (int)prvp[x])
-								   - 0.116*((int)srcppp[x] +
-								    (int)srcpnn[x] + (int)prvppp[x] +
-								    (int)prvpnn[x])
-					 			   - 0.026*((int)srcp3p[x] +
-								    (int)srcp3n[x])
-								   + 0.031*((int)srcp4p[x] +
-								    (int)srcp4n[x] + (int)prvp4p[x] +
-								    (int)prvp4n[x]);
-							else
-								valf = + 0.526*((int)srcpp[x] +
-								 (int)srcpn[x])
-								   + 0.170*((int)prvp[x])
-								   - 0.116*((int)prvppp[x] +
-								    (int)prvpnn[x])
-					 			   - 0.026*((int)srcp3p[x] +
-								    (int)srcp3n[x])
-								   + 0.031*((int)prvp4p[x] +
-								    (int)prvp4p[x]);
-							if (valf &gt; hi) valf = hi;
-							else if (valf &lt; lo) valf = lo;
-							dstp[x] = (int) valf;
-						}
-						else
-						{
-							if (twoway == true)
-								val = (8*((int)srcpp[x] + (int)srcpn[x]) +
-								 2*((int)srcp[x] + (int)prvp[x]) -
-								 			 
-									(int)(srcppp[x]) -
-									 (int)(srcpnn[x]) -
-									(int)(prvppp[x]) -
-									 (int)(prvpnn[x])) &gt;&gt; 4;
-							else
-								val = (8*((int)srcpp[x] + (int)srcpn[x]) +
-								 2*((int)prvp[x]) -
-									(int)(prvppp[x]) -
-									 (int)(prvpnn[x])) &gt;&gt; 4;
-							if (val &gt; hi) val = hi;
-							else if (val &lt; lo) val = lo;
-							dstp[x] = (int) val;
-						}
-					}
-				}
-				else
-				{
-					dstp[x] = srcp[x];
-				}
-			}
-			prvp  += 2*src_pitch;
-			prvpp  += 2*src_pitch;
-			prvppp  += 2*src_pitch;
-			prvpn  += 2*src_pitch;
-			prvpnn  += 2*src_pitch;
-			prvp4p  += 2*src_pitch;
-			prvp4n  += 2*src_pitch;
-			srcp  += 2*src_pitch;
-			srcpp += 2*src_pitch;
-			srcppp += 2*src_pitch;
-			srcp3p += 2*src_pitch;
-			srcp4p += 2*src_pitch;
-			srcpn += 2*src_pitch;
-			srcpnn += 2*src_pitch;
-			srcp3n += 2*src_pitch;
-			srcp4n += 2*src_pitch;
-			dstp  += 2*dst_pitch;
-		}
-	}
-	data-&gt;copyInfo(mysrc);
-	vidCache-&gt;unlockAll();
-	return 1;
-}
-
-
-
-#define MAGIC_NUMBER (0xdeadbeef)
-
-int PutHintingData(uint8_t *video, unsigned int hint)
-{
-	uint8_t *p;
-	unsigned int i, magic_number = MAGIC_NUMBER;
-	int error = false;
-
-	p = video;
-	for (i = 0; i &lt; 32; i++)
-	{
-		*p &amp;= ~1; 
-		*p++ |= ((magic_number &amp; (1 &lt;&lt; i)) &gt;&gt; i);
-	}
-	for (i = 0; i &lt; 32; i++)
-	{
-		*p &amp;= ~1;
-		*p++ |= ((hint &amp; (1 &lt;&lt; i)) &gt;&gt; i);
-	}
-	return error;
-}
-
-int GetHintingData(uint8_t *video, unsigned int *hint)
-{
-	uint8_t *p;
-	unsigned int i, magic_number = 0;
-	int error = false;
-
-	p = video;
-	for (i = 0; i &lt; 32; i++)
-	{
-		magic_number |= ((*p++ &amp; 1) &lt;&lt; i);
-	}
-	if (magic_number != MAGIC_NUMBER)
-	{
-		error = true;
-	}
-	else
-	{
-		*hint = 0;
-		for (i = 0; i &lt; 32; i++)
-		{
-			*hint |= ((*p++ &amp; 1) &lt;&lt; i);
-		}
-	}
-	return error;
-}

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/KernelDeint/ADM_vidKernelDeint.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/KernelDeint/ADM_vidKernelDeint.h	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/KernelDeint/ADM_vidKernelDeint.h	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,33 +0,0 @@
-
-#ifndef ADM_KERNELDEINT
-#define ADM_KERNELDEINT
-
-typedef struct  KERNEL_CONF
-{
-	uint32_t		order, threshold;
-	uint32_t		sharp, twoway, map;
-
-}KERNEL_CONF;
-
-class  ADMVideoKernelDeint:public AVDMGenericVideoStream
- {
-
- protected:
-        virtual char 		*printConf(void) ;
-	KERNEL_CONF		*_param;
-        int			 debug;
-	VideoCache		*vidCache;
-	   
-
- public:
- 		
-  			ADMVideoKernelDeint(  AVDMGenericVideoStream *in,CONFcouple *setup);
-  			~ADMVideoKernelDeint();
-	virtual uint8_t getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-						ADMImage *data,uint32_t *flags);
-	virtual uint8_t	getCoupledConf( CONFcouple **couples)		;
-	virtual uint8_t configure( AVDMGenericVideoStream *instream);
-							
-};
-
-#endif

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/KernelDeint/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/KernelDeint/CMakeLists.txt	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/KernelDeint/CMakeLists.txt	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,9 +0,0 @@
-INCLUDE(vf_plugin)
-
-
-SET(ADM_vf_kernelDeint_SRCS ADM_vidKernelDeint.cpp)
-
-ADD_LIBRARY(ADM_vf_kernelDeint SHARED ${ADM_vf_kernelDeint_SRCS})
-
-INIT_VIDEOFILTER_PLUGIN(ADM_vf_kernelDeint)
-INSTALL_VIDEOFILTER(ADM_vf_kernelDeint)

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Logo/ADM_vidLogo.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Logo/ADM_vidLogo.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Logo/ADM_vidLogo.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,193 +0,0 @@
-/***************************************************************************
-
-		Put a logon on video
-
-    copyright            : (C) 2007 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-/*
-  Initial port from MPlayer by Moonz
-
-*/
-#include &quot;ADM_default.h&quot;
-#include &quot;ADM_videoFilterDynamic.h&quot;
-#include &quot;ADM_colorspace.h&quot;
-#include &quot;DIA_factory.h&quot;
-
-static FILTER_PARAM logoParam={4,
-        { /* float */ &quot;image&quot;,
-          /*float*/ &quot;x&quot;,
-          /* int */ &quot;y&quot;,
-          /* int */ &quot;alpha&quot;}};
-
-
-typedef struct 
-{
-		char *image;
-		uint32_t x,y;
-		uint32_t alpha;
-}PARAM_LOGO;
-
-
-class ADMVideoLogo : public AVDMGenericVideoStream
-{
-  
-	PARAM_LOGO   *_param;
-	ADMImage	 *_image;
-	uint32_t	 _inited;
-	uint8_t		 init(void);
-	uint8_t		 cleanup(void);
-  public:
-                                
-	  				ADMVideoLogo(AVDMGenericVideoStream *in,CONFcouple *couples);    
-                    ~ADMVideoLogo(void);
-    uint8_t         getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-                                          ADMImage *data,uint32_t *flags);
-        
-    char            *printConf( void );
-    uint8_t         configure(AVDMGenericVideoStream *in);
-    uint8_t         getCoupledConf( CONFcouple **couples);
-};
-
-//********** Register chunk ************
-//REGISTERX(VF_MISC, &quot;logo&quot;,QT_TR_NOOP(&quot;Logo&quot;),QT_TR_NOOP(&quot;Add a png as logo.&quot;),VF_LOGO,1,logo_create,logo_script);
-VF_DEFINE_FILTER(ADMVideoLogo,logoParam,
-    logo,
-                QT_TR_NOOP(&quot;Logo&quot;),
-                1,
-                VF_MISC,
-                QT_TR_NOOP(&quot;Add a png as logo.&quot;));
-//********** Register chunk ************
-//***********************************
-char *ADMVideoLogo::printConf() 
-{
-	ADM_FILTER_DECLARE_CONF(&quot;Logo at %u %u, alpha %u&quot;,_param-&gt;x,_param-&gt;y);
-}
-
-
-uint8_t ADMVideoLogo::configure(AVDMGenericVideoStream * instream)
-{
-#define PX(x) &amp;(_param-&gt;x)
-	   diaElemFile       file(0,(char **)PX(image),QT_TR_NOOP(&quot;_Logo (jpg file):&quot;), NULL, QT_TR_NOOP(&quot;Select JPEG file&quot;));
-	   diaElemUInteger   positionX(PX(x),QT_TR_NOOP(&quot;_X Position:&quot;),0,_info.width);
-	   diaElemUInteger   positionY(PX(y),QT_TR_NOOP(&quot;_Y Position:&quot;),0,_info.height);
-	   diaElemUInteger   alpha(PX(alpha),QT_TR_NOOP(&quot;_Alpha:&quot;),0,255);
-	    
-	   diaElem *elems[4]={&amp;file,&amp;positionX,&amp;positionY,&amp;alpha};
-	  
-	   if( diaFactoryRun(QT_TR_NOOP(&quot;Logo&quot;),4,elems))
-	   {
-		   init();
-		   return 1;
-	   }
-	   return 0;
-}
-
-//_______________________________________________________________
-
-ADMVideoLogo::ADMVideoLogo(AVDMGenericVideoStream *in, CONFcouple *couples) 
-{
-        _in=in;		
-        memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));
-        _param = new PARAM_LOGO;
-        ADM_assert(_param);
-        
-        
-        if(couples) {
-        
-                GET(image)
-                GET(x)
-                GET(y)
-                GET(alpha)
-        }	
-        else {
-        	 		_param-&gt;image=ADM_strdup(&quot;/work/samples/r01.jpg&quot;);
-        	 		_param-&gt;x=0;
-        	 		_param-&gt;y=0;
-        	 		_param-&gt;alpha=255;
-        }
-        _image=NULL;
-        _inited=init();
-        
-        
-        _info.encoding=1;
-
-}
-// **********************************
-uint8_t ADMVideoLogo::init(void)
-{
-		cleanup();
-		_image=createImageFromFile(_param-&gt;image);
-		if(_image) return 1;
-        return 0;
-} 
-// **********************************
-uint8_t ADMVideoLogo::cleanup(void)
-{
-	if(_image) delete _image;
-	_image=NULL;
-	
-	return 1;
-} 
-
-//*******************************************
-ADMVideoLogo::~ADMVideoLogo() 
-{
-    
-      
-      if(_param) 
-      {
-    	 if(_param-&gt;image) delete _param-&gt;image;
-    	 _param-&gt;image=NULL;
-    	 delete _param;
-    	 _param=NULL;
-      }
-      cleanup();
-
-}
-//*******************************************
-uint8_t ADMVideoLogo::getFrameNumberNoAlloc(uint32_t frame, uint32_t *len, ADMImage *data, uint32_t *flags) 
-{
-       
-
-        if(frame&gt;=_info.nb_frames)
-        {
-          printf(&quot;[Logo] out of bound %u/%u\n&quot;,frame,_info.nb_frames); 
-          return 0;
-        }
-        ADM_assert(_param);
-
-        if(!_in-&gt;getFrameNumberNoAlloc(frame, len, data, flags))
-                return 0;
-
-        if(!_image)
-        {
-        	printf(&quot;[LOGO] No image to put\n&quot;);
-        	return 1;
-        }
-        // No alpha ATM
-        _image-&gt;copyToAlpha(data,_param-&gt;x,_param-&gt;y,_param-&gt;alpha);
-        return 1;
-}
-
-uint8_t	ADMVideoLogo::getCoupledConf(CONFcouple **couples) 
-{
-        *couples=new CONFcouple(4);
-
-#define COUPLE_SET(x) (*couples)-&gt;setCouple((char *)#x,(_param-&gt;x));
-        COUPLE_SET(image)
-        COUPLE_SET(x)
-        COUPLE_SET(y)
-        COUPLE_SET(alpha)
-        return 1;
-}
-/************************************************/
-//EOF

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Logo/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Logo/CMakeLists.txt	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Logo/CMakeLists.txt	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,9 +0,0 @@
-INCLUDE(vf_plugin)
-
-
-SET(ADM_vf_logo_SRCS ADM_vidLogo.cpp)
-
-ADD_LIBRARY(ADM_vf_logo SHARED ${ADM_vf_logo_SRCS})
-
-INIT_VIDEOFILTER_PLUGIN(ADM_vf_logo)
-INSTALL_VIDEOFILTER(ADM_vf_logo)

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/ADM_vidMPLD3D.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/ADM_vidMPLD3D.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/ADM_vidMPLD3D.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,350 +0,0 @@
-/***************************************************************************
-                          ADM_vidMPLD3D.cpp  -  description
-                             -------------------
-Mplayer HQDenoise3d port to avidemux2
-Original Authors
-Copyright (C) 2003
-Daniel Moreno &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">comac at comac.darktech.org</A>&gt;
-	&amp; A'rpi
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include &lt;math.h&gt;
-#include &quot;ADM_default.h&quot;
-#include &quot;ADM_videoFilterDynamic.h&quot;
-
-#include &quot;ADM_vidMPLD3D.h&quot;
-
-
-#include &quot;DIA_factory.h&quot;
-static FILTER_PARAM mp3Param={3,{&quot;param1&quot;,&quot;param2&quot;,&quot;param3&quot;}};
-#define aprintf(...) {}
-//********** Register chunk ************
-VF_DEFINE_FILTER(ADMVideoMPD3D,mp3Param,
-                mphqdenoise3d,
-                QT_TR_NOOP(&quot;MPlayer hqdn3d&quot;),
-                1,
-                VF_NOISE,
-                QT_TR_NOOP(&quot;High quality version of denoise3d. Slower but more precise.&quot;));
-
-#define PARAM1_DEFAULT 4.0
-#define PARAM2_DEFAULT 3.0
-#define PARAM3_DEFAULT 6.0
-
- char 	*ADMVideoMPD3D::printConf(void)
- {
-	  ADM_FILTER_DECLARE_CONF(&quot; MPlayer HQ Denoise 3D (%2.1f - %2.1f - %2.1f)'&quot;,
-						_param-&gt;param1,_param-&gt;param2,_param-&gt;param3);
-        
-}
-
-uint8_t ADMVideoMPD3D::configure(AVDMGenericVideoStream *instream)
-{
-
-        _in=instream;
-        ELEM_TYPE_FLOAT fluma,fchroma,ftemporal;
-#define PX(x) &amp;x
-#define OOP(x,y) f##x=(ELEM_TYPE_FLOAT )_param-&gt;y;
-        
-        OOP(luma,param1);
-        OOP(chroma,param2);
-        OOP(temporal,param3);
-        
-    diaElemFloat   luma(PX(fluma),QT_TR_NOOP(&quot;_Spatial luma strength:&quot;),0.,100.);
-    diaElemFloat   chroma(PX(fchroma),QT_TR_NOOP(&quot;S_patial chroma strength:&quot;),0.,100.);
-    diaElemFloat   temporal(PX(ftemporal),QT_TR_NOOP(&quot;_Temporal strength:&quot;),0.,100.);
-    
-       diaElem *elems[3]={&amp;luma,&amp;chroma,&amp;temporal};
-  
-   if(  diaFactoryRun(QT_TR_NOOP(&quot;MPlayer hqdn3d&quot;),3,elems))
-        {
-#undef OOP
-#define OOP(x,y) _param-&gt;y=(double) f##x
-                OOP(luma,param1);
-                OOP(chroma,param2);
-                OOP(temporal,param3);
-          
-                setup();
-                return 1;
-        }
-        return 0;}
-ADMVideoMPD3D::~ADMVideoMPD3D()
-{
-
- 	DELETE(_param);
-	if(_uncompressed)
-		delete [] _uncompressed;
-	if(Line)
-		delete [] Line;
-	if(_storage)
-		delete  _storage;
-
-	_storage=NULL;
-	Line=NULL;
-	_uncompressed=NULL;
-}
-
-static inline unsigned int LowPassMul(unsigned int PrevMul, unsigned int CurrMul, int* Coef){
-//    int dMul= (PrevMul&amp;0xFFFFFF)-(CurrMul&amp;0xFFFFFF);
-    int dMul= PrevMul-CurrMul;
-    int d=((dMul+0x10007FF)/(65536/16));
-    return CurrMul + Coef[d];
-}
-
-void ADMVideoMPD3D::deNoise(unsigned char *Frame,        // mpi-&gt;planes[x]
-                    unsigned char *FrameDest,    // dmpi-&gt;planes[x]
-                   uint32_t 		 *LineAnt,      // vf-&gt;priv-&gt;Line (width bytes)
-		    unsigned short 	*FrameAntPtr,
-                    int W, int H, int sStride, int dStride,
-                    int *Horizontal, int *Vertical, int *Temporal)
-{
-    int X, Y;
-    int sLineOffs = 0, dLineOffs = 0;
-    unsigned int PixelAnt;
-    int PixelDst;
-    unsigned short* FrameAnt=(FrameAntPtr);
-    
-
-    /* First pixel has no left nor top neightbour. Only previous frame */
-    LineAnt[0] = PixelAnt = Frame[0]&lt;&lt;16;
-    PixelDst = LowPassMul(FrameAnt[0]&lt;&lt;8, PixelAnt, Temporal);
-    FrameAnt[0] = ((PixelDst+0x1000007F)/256);
-    FrameDest[0]= ((PixelDst+0x10007FFF)/65536);
-
-    /* Fist line has no top neightbour. Only left one for each pixel and
-     * last frame */
-    for (X = 1; X &lt; W; X++){
-        LineAnt[X] = PixelAnt = LowPassMul(PixelAnt, Frame[X]&lt;&lt;16, Horizontal);
-        PixelDst = LowPassMul(FrameAnt[X]&lt;&lt;8, PixelAnt, Temporal);
-	FrameAnt[X] = ((PixelDst+0x1000007F)/256);
-	FrameDest[X]= ((PixelDst+0x10007FFF)/65536);
-    }
-
-    for (Y = 1; Y &lt; H; Y++){
-	unsigned int PixelAnt;
-	unsigned short* LinePrev=&amp;FrameAnt[Y*W];
-	sLineOffs += sStride, dLineOffs += dStride;
-        /* First pixel on each line doesn't have previous pixel */
-        PixelAnt = Frame[sLineOffs]&lt;&lt;16;
-        LineAnt[0] = LowPassMul(LineAnt[0], PixelAnt, Vertical);
-	PixelDst = LowPassMul(LinePrev[0]&lt;&lt;8, LineAnt[0], Temporal);
-	LinePrev[0] = ((PixelDst+0x1000007F)/256);
-	FrameDest[dLineOffs]= ((PixelDst+0x10007FFF)/65536);
-
-        for (X = 1; X &lt; W; X++){
-	    int PixelDst;
-            /* The rest are normal */
-            PixelAnt = LowPassMul(PixelAnt, Frame[sLineOffs+X]&lt;&lt;16, Horizontal);
-            LineAnt[X] = LowPassMul(LineAnt[X], PixelAnt, Vertical);
-	    PixelDst = LowPassMul(LinePrev[X]&lt;&lt;8, LineAnt[X], Temporal);
-	    LinePrev[X] = ((PixelDst+0x1000007F)/256);
-	    FrameDest[dLineOffs+X]= ((PixelDst+0x10007FFF)/65536);
-        }
-    }
-}
-
-
-uint8_t  ADMVideoMPD3D::setup(void)
-{
- double LumSpac, LumTmp, ChromSpac, ChromTmp;
-
-        LumSpac = _param-&gt;param1;
-        LumTmp = _param-&gt;param3;
-
-        ChromSpac = _param-&gt;param2;
-        ChromTmp = LumTmp * ChromSpac / LumSpac;
-
-        PrecalcCoefs((int *)Coefs[0], LumSpac);
-        PrecalcCoefs((int *)Coefs[1], LumTmp);
-        PrecalcCoefs((int *)Coefs[2], ChromSpac);
-        PrecalcCoefs((int *)Coefs[3], ChromTmp);
-
-	aprintf(&quot;\n Param : %lf %lf %lf \n&quot;,
-		_param-&gt;param1,
-		_param-&gt;param2,
-		_param-&gt;param3);
-
-	return 1;
-}
-//--------------------------------------------------------
-ADMVideoMPD3D::ADMVideoMPD3D(AVDMGenericVideoStream *in,CONFcouple *couples)
-
-{
-  //uint32_t frame;
-  _storage=NULL;
-  _uncompressed=NULL;
-  Line=NULL;
-
-  _in=in;
-
-  Line=new uint32_t[in-&gt;getInfo()-&gt;width];
-  memcpy(&amp;_info,in-&gt;getInfo(),sizeof(_info));
-  _info.encoding=1;
-  if(couples)
-  {
-			_param=NEW(MPD3D_PARAM);
-			GET(param1);
-			GET(param2);
-			GET(param3);
-	}
-	else
-	{
-			_param=NEW( MPD3D_PARAM);
-			_param-&gt;param1=PARAM1_DEFAULT;
-			_param-&gt;param2=PARAM2_DEFAULT;
-			_param-&gt;param3=PARAM3_DEFAULT;
-	}
-	_uncompressed=new uint16_t[(_info.width*_info.height*3)&gt;&gt;1];
-	_storage=new ADMImage(_info.width,_info.height);
-	setup();
-
-	_last=0xFFFFFFF;
-}
-
-
-uint8_t	ADMVideoMPD3D::getCoupledConf( CONFcouple **couples)
-{
-
-			ADM_assert(_param);
-			*couples=new CONFcouple(3);
- 			//(*couples)-&gt;setCouple((char *)&quot;param&quot;,*_param);
-#define CSET(x)  (*couples)-&gt;setCouple((char *)#x,(_param-&gt;x))
-			CSET(param1);
-			CSET(param2);
-			CSET(param3);
-			return 1;
-
-}
-//                     1
-//		Get in range in 121 + coeff matrix
-//                     1
-//
-// If the value is too far away we ignore it
-// else we blend
-
-uint8_t ADMVideoMPD3D::getFrameNumberNoAlloc(uint32_t frame,
-				uint32_t *len,
-   				ADMImage *data,
-				uint32_t *flags)
-{
-UNUSED_ARG(flags);
-
-	int cw= _info.width&gt;&gt;1;
-	int ch= _info.height&gt;&gt;1;
-        int W = _info.width;
-	int H  = _info.height;
-	uint32_t dlen,dflags;
-
-  		if(frame&gt; _info.nb_frames-1) return 0;
-		*len=(W*H*3)&gt;&gt;1;
-		// First and last frame we don&quot;t modify.
-		if(!frame || (frame!=_last+1))
-			{
-					 if(!_in-&gt;getFrameNumberNoAlloc(frame, &amp;dlen,data,&amp;dflags))
-					 {
-					 	return 0;
-					}
-				 	unsigned short* dst=_uncompressed;
-	    				unsigned char* src=YPLANE(data);
-					for (int Y = 0; Y &lt; W*H; Y++)
-						{
-	    						 	*(dst++)=*(src++)&lt;&lt;8;
-						}
-					src=UPLANE(data);
-					dst=_uncompressed+(W*H);
-					for (int Y = 0; Y &lt; (W*H)&gt;&gt;2; Y++)
-						{
-	    						 	*(dst++)=*(src++)&lt;&lt;8;
-						}
-					src=VPLANE(data);
-					dst=_uncompressed+((5*W*H)&gt;&gt;2);
-					for (int Y = 0; Y &lt; (W*H)&gt;&gt;2; Y++)
-						{
-	    						 	*(dst++)=*(src++)&lt;&lt;8;
-						}
-					
-					_last=frame;
-					return 1;
-
-			}
-		ADM_assert(frame&lt;_info.nb_frames);
-		// read uncompressed frame
-		// else we fill previous/current/next
-		if(!_in-&gt;getFrameNumberNoAlloc(frame, &amp;dlen,_storage,&amp;dflags))
-		{
-			return 0;
-		}
-
-		uint8_t *c,*n;
-		unsigned short *ant;
-
-		ant=(_uncompressed);
-		n=YPLANE(data);
-		c=YPLANE(_storage);
-//
-   		deNoise(c, n,
-			Line,ant, W, H,
-                	W,W,
-                	(int *)Coefs[0],
-                	(int *)Coefs[0],
-                	(int *)Coefs[1]);
-
-
-		ant=(_uncompressed)+W*H;
-		n=UPLANE(data);
-		c=UPLANE(_storage);
-
-		deNoise(c, n,
-			Line, ant, cw, ch,
-                	cw,cw,
-                	(int *)Coefs[2],
-                	(int *)Coefs[2],
-                	(int *)Coefs[3]);
-
-
-		ant=_uncompressed+((W*H*5)&gt;&gt;2);
-		n=VPLANE(data);
-		c=VPLANE(_storage);
-
-		deNoise(c, n,
-			Line, ant, cw, ch,
-                	cw,cw,
-                	(int *)Coefs[2],
-                	(int *)Coefs[2],
-                	(int *)Coefs[3]);
-
-	// n is out....
-	_last=frame;
-	data-&gt;copyInfo(_storage);
-	return 1;
-
-
-}
-
-#define ABS(A) ( (A) &gt; 0 ? (A) : -(A) )
-
-void ADMVideoMPD3D::PrecalcCoefs(int *Ct, double Dist25)
-{
-    int i;
-    double Gamma, Simil, C;
-
-    Gamma = log(0.25) / log(1.0 - Dist25/255.0 - 0.00001);
-
-    for (i = -256*16; i &lt; 256*16; i++)
-    {
-        Simil = 1.0 - ABS(i) / (16*255.0);
-	C=4096.*(double)i;
-        C *= pow(Simil, Gamma) ;
-       Ct[16*256+i] = (int)((C&lt;0) ? (C-0.5) : (C+0.5));
-    }
-
-}
-
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/ADM_vidMPLD3D.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/ADM_vidMPLD3D.h	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/ADM_vidMPLD3D.h	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,69 +0,0 @@
-/***************************************************************************
-                          ADM_vidMPLD3D.h  -  description
-                             -------------------
-Mplayer HQDenoise3d port to avidemux2
-Original Authors
-Copyright (C) 2003
-Daniel Moreno &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">comac at comac.darktech.org</A>&gt;
-	&amp; A'rpi
-
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
- 
-#ifndef _D3D__
-#define _D3D__   
-
-typedef struct MPD3D_PARAM
-{
-	double  param1;  // Luma 
-	double  param2;  // Chroma
-	double  param3;  // Temporal
-}MPD3D_PARAM;
-
-class  ADMVideoMPD3D:public AVDMGenericVideoStream
- {
-
- protected:
-
-        			MPD3D_PARAM			*_param;
-
-				int	  					Coefs[4][512*16];
-        			uint32_t					*Line;
-
-				uint16_t				*_uncompressed;
-				ADMImage				*_storage;
-				uint32_t				_last;
-
-				void 	PrecalcCoefs(int *Ct, double Dist25);
-				uint8_t  	setup(void);
-				void 	deNoise(unsigned char *Frame,        // mpi-&gt;planes[x]
-                    					unsigned char *FrameDest,    // dmpi-&gt;planes[x]
-                    					uint32_t *LineAnt,      // vf-&gt;priv-&gt;Line (width bytes)
-		    					unsigned short *FrameAntPtr,
-                    					int W, int H, int sStride, int dStride,
-                    					int *Horizontal, int *Vertical, int *Temporal);
-
-
-
- public:
-
-
-						ADMVideoMPD3D(  AVDMGenericVideoStream *in,CONFcouple *setup);
-  						 ~ADMVideoMPD3D();
-		        virtual uint8_t 	getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-   								ADMImage *data,uint32_t *flags);
-
-			virtual uint8_t 	configure( AVDMGenericVideoStream *instream);
-     			virtual char 	*printConf(void);
-			virtual uint8_t 	getCoupledConf( CONFcouple **couples);
-							
- }     ;
-#endif

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/ADM_vidMPLD3Dlow.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/ADM_vidMPLD3Dlow.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/ADM_vidMPLD3Dlow.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,333 +0,0 @@
-/***************************************************************************
-                          ADM_vidMPLD3D.cpp  -  description
-                             -------------------
-Mplayer HQDenoise3d port to avidemux2
-Original Authors
-Copyright (C) 2003
-Daniel Moreno &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">comac at comac.darktech.org</A>&gt;
-	&amp; A'rpi
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include &lt;math.h&gt;
-#include &quot;ADM_default.h&quot;
-#include &quot;ADM_videoFilterDynamic.h&quot;
-
-#include &quot;ADM_vidMPLD3Dlow.h&quot;
-
-
-#include &quot;DIA_factory.h&quot;
-#define aprintf(...) {}
-static FILTER_PARAM mp3Param={3,{&quot;param1&quot;,&quot;param2&quot;,&quot;param3&quot;}};
-
-//********** Register chunk ************
-VF_DEFINE_FILTER(ADMVideoMPD3Dlow,mp3Param,
-                mpdenoise3d,
-                QT_TR_NOOP(&quot;MPlayer denoise3d&quot;),
-                1,
-                VF_NOISE,
-                QT_TR_NOOP(&quot;Reduce noise, smooth image, increase compressibility.&quot;));
-#define PARAM1_DEFAULT 4.0
-#define PARAM2_DEFAULT 3.0
-#define PARAM3_DEFAULT 6.0
-
- char 	*ADMVideoMPD3Dlow::printConf(void)
- {
-	  ADM_FILTER_DECLARE_CONF(&quot; MPlayer Denoise 3D (%2.1f - %2.1f - %2.1f)'&quot;,
-						_param-&gt;param1,_param-&gt;param2,_param-&gt;param3);
-        
-}
-
-uint8_t ADMVideoMPD3Dlow::configure(AVDMGenericVideoStream *instream)
-{
-
-        _in=instream;
-        ELEM_TYPE_FLOAT fluma,fchroma,ftemporal;
-#define PX(x) &amp;x
-#define OOP(x,y) f##x=(ELEM_TYPE_FLOAT )_param-&gt;y;
-        
-        OOP(luma,param1);
-        OOP(chroma,param2);
-        OOP(temporal,param3);
-        
-    diaElemFloat   luma(PX(fluma),QT_TR_NOOP(&quot;_Spatial luma strength:&quot;),0.,100.);
-    diaElemFloat   chroma(PX(fchroma),QT_TR_NOOP(&quot;S_patial chroma strength:&quot;),0.,100.);
-    diaElemFloat   temporal(PX(ftemporal),QT_TR_NOOP(&quot;_Temporal strength:&quot;),0.,100.);
-    
-       diaElem *elems[3]={&amp;luma,&amp;chroma,&amp;temporal};
-  
-   if(  diaFactoryRun(QT_TR_NOOP(&quot;MPlayer denoise3d&quot;),3,elems))
-        {
-#undef OOP
-#define OOP(x,y) _param-&gt;y=(double) f##x
-                OOP(luma,param1);
-                OOP(chroma,param2);
-                OOP(temporal,param3);
-          
-                setup();
-                return 1;
-        }
-        return 0;
-}
-ADMVideoMPD3Dlow::~ADMVideoMPD3Dlow()
-{
-
- 	DELETE(_param);
-	delete  _uncompressed;
-	delete  _stored;
-	delete [] Line;
-	Line=NULL;
-	_param=NULL;
-	_uncompressed=NULL;
-	_stored=NULL;
-}
-
-
-#define LowPass(Prev, Curr, Coef) (Curr + Coef[Prev - Curr])
-
-
-void ADMVideoMPD3Dlow::deNoise(unsigned char *Frame,        // mpi-&gt;planes[x]
-                    unsigned char *FramePrev,    // pmpi-&gt;planes[x]
-                    unsigned char *FrameDest,    // dmpi-&gt;planes[x]
-                    unsigned char *LineAnt,      // vf-&gt;priv-&gt;Line (width bytes)
-                    int W, int H, int sStride, int pStride, int dStride,
-                    int *Horizontal, int *Vertical, int *Temporal)
-{
-    int X, Y;
-    int sLineOffs = 0, pLineOffs = 0, dLineOffs = 0;
-    unsigned char PixelAnt;
-
-    /* First pixel has no left nor top neightbour. Only previous frame */
-    LineAnt[0] = PixelAnt = Frame[0];
-    FrameDest[0] = LowPass(FramePrev[0], LineAnt[0], Temporal);
-
-    /* Fist line has no top neightbour. Only left one for each pixel and
-     * last frame */
-    for (X = 1; X &lt; W; X++)
-    {
-        PixelAnt = LowPass(PixelAnt, Frame[X], Horizontal);
-        LineAnt[X] = PixelAnt;
-        FrameDest[X] = LowPass(FramePrev[X], LineAnt[X], Temporal);
-    }
-
-    for (Y = 1; Y &lt; H; Y++)
-    {
-	sLineOffs += sStride, pLineOffs += pStride, dLineOffs += dStride;
-        /* First pixel on each line doesn't have previous pixel */
-        PixelAnt = Frame[sLineOffs];
-        LineAnt[0] = LowPass(LineAnt[0], PixelAnt, Vertical);
-        FrameDest[dLineOffs] = LowPass(FramePrev[pLineOffs], LineAnt[0], Temporal);
-
-        for (X = 1; X &lt; W; X++)
-        {
-            /* The rest are normal */
-            PixelAnt = LowPass(PixelAnt, Frame[sLineOffs+X], Horizontal);
-            LineAnt[X] = LowPass(LineAnt[X], PixelAnt, Vertical);
-            FrameDest[dLineOffs+X] = LowPass(FramePrev[pLineOffs+X], LineAnt[X], Temporal);
-        }
-    }
-}
-
-
-
-uint8_t  ADMVideoMPD3Dlow::setup(void)
-{
- double LumSpac, LumTmp, ChromSpac, ChromTmp;
-
-        LumSpac = _param-&gt;param1;
-        LumTmp = _param-&gt;param3;
-
-        ChromSpac = _param-&gt;param2;
-        ChromTmp = LumTmp * ChromSpac / LumSpac;
-
-        PrecalcCoefs((int *)Coefs[0], LumSpac);
-        PrecalcCoefs((int *)Coefs[1], LumTmp);
-        PrecalcCoefs((int *)Coefs[2], ChromSpac);
-        PrecalcCoefs((int *)Coefs[3], ChromTmp);
-
-	aprintf(&quot;\n Param : %lf %lf %lf \n&quot;,
-		_param-&gt;param1,
-		_param-&gt;param2,
-		_param-&gt;param3);
-
-	_last=0xFFFFFFF;
-
-	return 1;
-}
-//--------------------------------------------------------
-ADMVideoMPD3Dlow::ADMVideoMPD3Dlow(
-									AVDMGenericVideoStream *in,CONFcouple *couples)
-
-{
-uint32_t page;
-
-  Line=new uint8_t [in-&gt;getInfo()-&gt;width];
-  memcpy(&amp;_info,in-&gt;getInfo(),sizeof(_info));
-
-	page=_info.width*_info.height;
-
- // _stored=new uint8_t[(page*3)&gt;&gt;1];
- // _uncompressed=new uint8_t[ (page*3)&gt;&gt;1];
- 	_stored=new ADMImage(_info.width,_info.height);
-	_uncompressed=new ADMImage(_info.width,_info.height);
-
-  _info.encoding=1;
-  _in=in;
-  if(couples)
-  {
-			_param=NEW(MPD3D_PARAM);
-			GET(param1);
-			GET(param2);
-			GET(param3);
-	}
-	else
-	{
-			_param=NEW( MPD3D_PARAM);
-			_param-&gt;param1=PARAM1_DEFAULT;
-			_param-&gt;param2=PARAM2_DEFAULT;
-			_param-&gt;param3=PARAM3_DEFAULT;
-	}
-	setup();
-
-}
-
-
-uint8_t	ADMVideoMPD3Dlow::getCoupledConf( CONFcouple **couples)
-{
-
-			ADM_assert(_param);
-			*couples=new CONFcouple(3);
- 			//(*couples)-&gt;setCouple((char *)&quot;param&quot;,*_param);
-#define CSET(x)  (*couples)-&gt;setCouple((char *)#x,(_param-&gt;x))
-			CSET(param1);
-			CSET(param2);
-			CSET(param3);
-			return 1;
-
-}
-//                     1
-//		Get in range in 121 + coeff matrix
-//                     1
-//
-// If the value is too far away we ignore it
-// else we blend
-
-uint8_t ADMVideoMPD3Dlow::getFrameNumberNoAlloc(uint32_t frame,
-				uint32_t *len,
-   				ADMImage *data,
-				uint32_t *flags)
-{
-UNUSED_ARG(flags);
-
-	int cw= _info.width&gt;&gt;1;
-	int ch= _info.height&gt;&gt;1;
-        int W = _info.width;
-	int H  = _info.height;
-	uint32_t dlen,dflags;
-
-  		if(frame&gt; _info.nb_frames-1) return 0;
-		*len=(W*H*3)&gt;&gt;1;
-		// First and last frame we don&quot;t modify.
-		if(!frame || (frame!=_last+1))
-			{
-				aprintf(&quot;D3D: First /last frame\n&quot;);
-				 if(!_in-&gt;getFrameNumberNoAlloc(frame, &amp;dlen,data,&amp;dflags))
-				 {
-					 	return 0;
-				 }
-				// store for future use
-				memcpy(_stored-&gt;data,data-&gt;data,*len);
-				_last=frame;
-				
-				return 1;
-			}
-			ADM_assert(frame&lt;_info.nb_frames);
-			aprintf(&quot;D3D: next frame\n&quot;);
-			// read uncompressed frame
-	 		if(!_in-&gt;getFrameNumberNoAlloc(frame, &amp;dlen,_uncompressed,&amp;dflags))
-				 {
-					 	return 0;
-				 }
-
-		uint8_t *c,*d,*p;
-
-		d=YPLANE(data);
-		c=YPLANE(_uncompressed);
-		p=YPLANE(_stored);
-//
-
-   	deNoise(c,p, d,
-		Line, W, H,
-                W,W,W,
-               	Coefs[0] + 256,
-                Coefs[0] + 256,
-                Coefs[1] + 256);
-
-	uint32_t page=W*H;
-		d=UPLANE(data);
-		c=UPLANE(_uncompressed);
-		p=UPLANE(_stored);
-
-	deNoise(c,p, d,
-		Line, cw, ch,
-                cw,cw,cw,
-               	Coefs[2] + 256,
-                Coefs[2] + 256,
-                Coefs[3] + 256);
-
-	page=page&gt;&gt;2;		
-		d=VPLANE(data);
-		c=VPLANE(_uncompressed);
-		p=VPLANE(_stored);
-
-	deNoise(c,p, d,
-		Line, cw, ch,
-                cw,cw,cw,
-               	Coefs[2] + 256,
-              	Coefs[2] + 256,
-                Coefs[3] + 256);
-
-
-	_last=frame;
-	memcpy(YPLANE(_stored),YPLANE(data),W*H);
-	memcpy(UPLANE(_stored),UPLANE(data),(W*H)&gt;&gt;2);
-	memcpy(VPLANE(_stored),VPLANE(data),(W*H)&gt;&gt;2);
-	data-&gt;copyInfo(_uncompressed);
-	return 1;
-
-
-}
-
-#define ABS(A) ( (A) &gt; 0 ? (A) : -(A) )
-
-void ADMVideoMPD3Dlow::PrecalcCoefs(int *Ct, double Dist25)
-{
- int i;
-    double Gamma, Simil, C;
-    double d;
-    Gamma = log(0.25) / log(1.0 - Dist25/255.0);
-
-    for (i = -256; i &lt;= 255; i++)
-    {
-    	if(i&gt;0) d=(double)i/255.;
-		else d=(double)-i/255.;
-        Simil = 1.0 - d;
-//        Ct[256+i] = lround(pow(Simil, Gamma) * (double)i);
- 	C= (double)i;
-        C *= pow(Simil, Gamma);
-
-  	Ct[256+i] = (int)((C&lt;0) ? (C-0.5) : (C+0.5));
-
-    }
-
-
-}
-
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/ADM_vidMPLD3Dlow.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/ADM_vidMPLD3Dlow.h	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/ADM_vidMPLD3Dlow.h	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,65 +0,0 @@
-/***************************************************************************
-                          ADM_vidMPLD3D.h  -  description
-                             -------------------
-Mplayer Denoise3d port to avidemux2
-Original Authors
-Copyright (C) 2003
-Daniel Moreno &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">comac at comac.darktech.org</A>&gt;
-
-
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#ifndef __D3DLOW__
-#define __D3DLOW__
-
-#include &quot;ADM_vidMPLD3D.h&quot;
-
-class  ADMVideoMPD3Dlow:public AVDMGenericVideoStream
- {
-
- protected:
-
-        			MPD3D_PARAM			*_param;
-
-				int				Coefs[4][512];
-        			uint8_t				*Line;
-				ADMImage			*_stored;
-				
-
-
-				uint32_t					_last;
-
-				void 	PrecalcCoefs(int *Ct, double Dist25);
-				uint8_t  	setup(void);
-				void 	deNoise(unsigned char *Frame,        // mpi-&gt;planes[x]
-                    						unsigned char *FramePrev,    // pmpi-&gt;planes[x]
-                    						unsigned char *FrameDest,    // dmpi-&gt;planes[x]
-                    						unsigned char *LineAnt,      // vf-&gt;priv-&gt;Line (width bytes)
-                    						int W, int H, int sStride, int pStride, int dStride,
-                    						int *Horizontal, int *Vertical, int *Temporal);
-
-
-
- public:
-
-
-						ADMVideoMPD3Dlow(  AVDMGenericVideoStream *in,CONFcouple *setup);
-  						 ~ADMVideoMPD3Dlow();
-		        virtual uint8_t 	getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
- 									ADMImage *data,uint32_t *flags);
-
-			virtual uint8_t 	configure( AVDMGenericVideoStream *instream);
-     			virtual char 		*printConf(void);
-			virtual uint8_t 	getCoupledConf( CONFcouple **couples);
-
- }     ;
-#endif

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/CMakeLists.txt	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerDenoise3D/CMakeLists.txt	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,12 +0,0 @@
-INCLUDE(vf_plugin)
-
-
-SET(ADM_vf_denoise3dhq_SRCS ADM_vidMPLD3D.cpp)
-ADD_LIBRARY(ADM_vf_denoise3dhq SHARED ${ADM_vf_denoise3dhq_SRCS})
-INIT_VIDEOFILTER_PLUGIN(ADM_vf_denoise3dhq)
-INSTALL_VIDEOFILTER(ADM_vf_denoise3dhq)
-
-SET(ADM_vf_denoise3d_SRCS ADM_vidMPLD3Dlow.cpp)
-ADD_LIBRARY(ADM_vf_denoise3d SHARED ${ADM_vf_denoise3d_SRCS})
-INIT_VIDEOFILTER_PLUGIN(ADM_vf_denoise3d)
-INSTALL_VIDEOFILTER(ADM_vf_denoise3d)

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/ADM_vidMPLResize.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/ADM_vidMPLResize.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/ADM_vidMPLResize.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,338 +0,0 @@
-/***************************************************************************
-                          ADM_MPLvidResize.cpp  -  description
-                             -------------------
-
-			     Wrapper for Mplayer resizer by Michael Niedermayer
-			     See swscale* for the actual resizing code.
-
-
-    begin                : Thu Apr 16 2003
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include &quot;ADM_default.h&quot;
-#include &quot;DIA_coreToolkit.h&quot;
-#include &quot;ADM_videoFilterDynamic.h&quot;
-
-
-
-extern &quot;C&quot; {
-#include &quot;ADM_libraries/ADM_ffmpeg/ADM_lavcodec/avcodec.h&quot;
-#include &quot;ADM_libraries/ADM_ffmpeg/ADM_lavutil/avutil.h&quot;
-#include &quot;ADM_libraries/ADM_ffmpeg/ADM_libswscale/swscale.h&quot;
-}
-
-typedef struct alg
-{
-					int in;
-					char *name;
-}alg;
-#define DECLARE(y) {SWS_##y,(char *)#y}
-
-/**
-	Convert mplayer-resize numbering &lt;--&gt; avidemux one
-
-*/
-alg algs[]={
-				DECLARE(BILINEAR),
-				DECLARE(BICUBIC),
-				DECLARE(LANCZOS)
-		};
-
-
-
-
-class  AVDMVideoStreamMPResize:public AVDMGenericVideoStream
- {
-
- protected:
-				RESIZE_PARAMS 	*_param;
-				SwsContext	*_context;
-				uint8_t 	reset(uint32_t nw, uint32_t old,uint32_t algo);
-				uint8_t		clean( void );
- public:
-
-  				AVDMVideoStreamMPResize(  AVDMGenericVideoStream *in,CONFcouple *setup);
-				AVDMVideoStreamMPResize(	AVDMGenericVideoStream *in,uint32_t x,uint32_t y);
-  				virtual 		~AVDMVideoStreamMPResize();
-          virtual 		uint8_t getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-          							ADMImage *data,uint32_t *flags);
-				uint8_t configure( AVDMGenericVideoStream *instream);
-	virtual 		char 	*printConf(void) ;
-
-          virtual uint8_t	getCoupledConf( CONFcouple **couples);
-
-
- }     ;
-static FILTER_PARAM mpresizeParam={3,{&quot;w&quot;,&quot;h&quot;,&quot;algo&quot;}};
-
-    
-
-//********** Register chunk ************
-VF_DEFINE_FILTER_UI(AVDMVideoStreamMPResize,mpresizeParam,
-                mpresize,
-                QT_TR_NOOP(&quot;MPlayer resize&quot;),
-                1,
-                VF_TRANSFORM,
-                QT_TR_NOOP(&quot;Change image size. Faster than Avisynth's Resize.&quot;));
-//****************************************
-static int getResizeParams(uint32_t * w, uint32_t * h, uint32_t * algo,uint32_t ow,uint32_t oh,uint32_t fps);
-extern uint8_t DIA_resize(uint32_t *width,uint32_t *height,uint32_t *alg,uint32_t originalw, uint32_t originalh,uint32_t fps1000);
-
-uint8_t AVDMVideoStreamMPResize::configure(AVDMGenericVideoStream * instream)
-{
-    UNUSED_ARG(instream);
-
-    RESIZE_PARAMS *par;
-//    uint8_t ret=0;
-
-
-    par = _param;
-
-
-
-    if (!getResizeParams(&amp;par-&gt;w, &amp;par-&gt;h, &amp;par-&gt;algo,instream-&gt;getInfo()-&gt;width,instream-&gt;getInfo()-&gt;height,
-    				_info.fps1000))
-      {
-	  return 0;
-      }
-      printf(&quot;\n OK was selected \n&quot;);
-    // update other parameters
-    _info.width = _param-&gt;w;
-    _info.height = _param-&gt;h;
-	// do update the filter
-	reset(_param-&gt;w,_param-&gt;h,_param-&gt;algo);
-    return 1;
-
-}
-
-//
-//  
-//
-
-int getResizeParams(uint32_t * w, uint32_t * h, uint32_t * algo,uint32_t ow,uint32_t oh,uint32_t fps)
-{
-uint32_t ww,hh;
-	while(1)
-	{
-		ww=*w;
-		hh=*h;
-  		if(!DIA_resize(&amp;ww,&amp;hh,algo,ow,oh,fps)) return 0;
-                if(!ww || !hh) GUI_Error_HIG(QT_TR_NOOP(&quot;Width and height cannot be 0&quot;), NULL);
-		else
-                  if( ww&amp;1 || hh &amp;1) GUI_Error_HIG(QT_TR_NOOP(&quot;Width and height cannot be odd&quot;), NULL);
-			else
-			{
-				*w=ww;
-				*h=hh;
-				return 1;
-			}
-	}
-}
-uint8_t AVDMVideoStreamMPResize::clean(void)
-{
-		if(_context)
-		{
-			sws_freeContext(_context);
-		}
-		_context=NULL;
-		return 1;
-}
-
-uint8_t AVDMVideoStreamMPResize::reset(uint32_t nw, uint32_t old,uint32_t algo)
-{
- 				 SwsFilter 		    *srcFilter=NULL;
-				 SwsFilter		    *dstFilter=NULL;
-				 int 			   flags=0;
-
-
-				clean();
-
-				 // swsGetFlagsAndFilterFromCmdLine(&amp;flags, &amp;srcFilter, &amp;dstFilter);
-
-//SwsContext *getSwsContextFromCmdLine(int srcW, int srcH, int srcFormat, int dstW, int dstH, int dstFormat);
-
-					flags=algo;
-					switch(flags)
-					{
-						case 0: //bilinear
-								flags=SWS_BILINEAR;break;
-						case 1: //bicubic
-								flags=SWS_BICUBIC;break;
-						case 2: //Lanczos
-								flags=SWS_LANCZOS;break;
-						default:ADM_assert(0);
-
-					}
-#ifdef ADM_CPU_X86		
-		#define ADD(x,y) if( CpuCaps::has##x()) flags|=SWS_CPU_CAPS_##y;
-		ADD(MMX,MMX);		
-		ADD(3DNOW,3DNOW);
-		ADD(MMXEXT,MMX2);
-#endif	
-#ifdef ADM_CPU_ALTIVEC
-		flags|=SWS_CPU_CAPS_ALTIVEC;
-#endif
-				    _context=sws_getContext(
-				    		_in-&gt;getInfo()-&gt;width,_in-&gt;getInfo()-&gt;height,
-						PIX_FMT_YUV420P,
-		 				nw,old,
-	   					PIX_FMT_YUV420P,
-	    					flags, srcFilter, dstFilter,NULL);
-
-				if(!_context) return 0;
-				return 1;
-
-
-}
-char *AVDMVideoStreamMPResize::printConf( void )
-{
- 	ADM_FILTER_DECLARE_CONF(&quot; MPL Resize %lu x %lu --&gt; %lu x %lu (%s)&quot;,
- 				_in-&gt;getInfo()-&gt;width,
- 				_in-&gt;getInfo()-&gt;height,
- 				_info.width,
- 				_info.height,
-				algs[_param-&gt;algo].name);
-        
-}
-//_______________________________________________________________
-AVDMVideoStreamMPResize::AVDMVideoStreamMPResize(
-									AVDMGenericVideoStream *in,CONFcouple *couples)
-{
-
-  	_in=in;
-   	memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));
-	//_uncompressed=(uint8_t *)malloc(3*_info.width*_info.height);
-//	_uncompressed=new uint8_t[3*_info.width*_info.height];
-	_uncompressed=new ADMImage(_info.width,_info.height);
-
-		if(couples)
-		{
-			 _param=NEW(RESIZE_PARAMS);
-			GET(w);
-			GET(h);
-			GET(algo);
-			_info.width=_param-&gt;w;
-			_info.height=_param-&gt;h;
-
-		}
-			else
-			{
-				_param=NEW( RESIZE_PARAMS);
-				_param-&gt;w=_info.width;
-				_param-&gt;h = _info.height;
-			    _param-&gt;algo = 0;
-			}
-
-	_context=NULL;
-	reset(_param-&gt;w,_param-&gt;h,_param-&gt;algo);
-  _info.encoding=1;
-
-}
-#ifdef MPLAYER_RESIZE_PREFFERED
-AVDMGenericVideoStream *createResizeFromParam(AVDMGenericVideoStream *in,uint32_t x,uint32_t y)
-{
-
-	return new AVDMVideoStreamMPResize(in,x,y);
-}
-#endif
-AVDMVideoStreamMPResize::AVDMVideoStreamMPResize(
-									AVDMGenericVideoStream *in,uint32_t x,uint32_t y)
-{
-
-  	_in=in;
-   	memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));
-	_uncompressed=new ADMImage(_info.width,_info.height);
-	_param=NEW( RESIZE_PARAMS);
-	_param-&gt;w=x;
-	_param-&gt;h = y;
-	_info.width=_param-&gt;w;
-	_info.height=_param-&gt;h;
-	_param-&gt;algo = 0;
-
-	_context=NULL;
-	reset(_param-&gt;w,_param-&gt;h,_param-&gt;algo);
-
-}
-
-uint8_t	AVDMVideoStreamMPResize::getCoupledConf( CONFcouple **couples)
-{
-
-			ADM_assert(_param);
-			*couples=new CONFcouple(3);
-
-#define CSET(x)  (*couples)-&gt;setCouple((char *)#x,(_param-&gt;x))
-	CSET(w);
-	CSET(h);
-	CSET(algo);
-			return 1;
-
-}
-// ___ destructor_____________
-AVDMVideoStreamMPResize::~AVDMVideoStreamMPResize()
-{
- 	delete  _uncompressed;
-	_uncompressed=NULL;
-
-	DELETE(_param);
-	clean();
-
-}
-
-//
-//	Basically ask a uncompressed frame from editor and ask
-//		GUI to decompress it .
-//
-
-uint8_t AVDMVideoStreamMPResize::getFrameNumberNoAlloc(uint32_t frame,
-				uint32_t *len,
-   				ADMImage *data,
-				uint32_t *flags)
-{
-			if(frame&gt;=_info.nb_frames) 
-			{
-				printf(&quot;Filter : out of bound!\n&quot;);
-				return 0;
-			}
-	
-			ADM_assert(_param);
-
-       			if(!_in-&gt;getFrameNumberNoAlloc(frame, len,_uncompressed,flags)) return 0;
-
-			uint8_t *src[3];
-			uint8_t *dst[3];
-			int ssrc[3];
-			int ddst[3];
-
-			uint32_t page;
-
-			page=_in-&gt;getInfo()-&gt;width*_in-&gt;getInfo()-&gt;height;
-			src[0]=YPLANE(_uncompressed);
-			src[1]=UPLANE(_uncompressed);
-			src[2]=VPLANE(_uncompressed);
-
-			ssrc[0]=_in-&gt;getInfo()-&gt;width;
-			ssrc[1]=ssrc[2]=_in-&gt;getInfo()-&gt;width&gt;&gt;1;
-
-			page=_info.width*_info.height;
-			dst[0]=YPLANE(data);
-			dst[1]=UPLANE(data);
-			dst[2]=VPLANE(data);
-			ddst[0]=_info.width;
-			ddst[1]=ddst[2]=_info.width&gt;&gt;1;
-
-			sws_scale(_context,src,ssrc,0,_in-&gt;getInfo()-&gt;height,dst,ddst);
-			data-&gt;copyInfo(_uncompressed);
-	return 1;
-}
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/CMakeLists.txt	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/CMakeLists.txt	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,24 +0,0 @@
-INCLUDE(vf_plugin)
-
-SET(resizeCommon_SRCS ADM_vidMPLResize.cpp)
-SET(resizeCommonGtk_SRCS gtk/gtk_resize.cpp)
-SET(resizeCommonQT_SRCS qt4/Q_resize.cpp)
-SET(resizeCommonQT_Headers qt4/Q_resize.h)
-SET(resizeCommonQT_UI qt4/resizing)
-
-INCLUDE_DIRECTORIES(&quot;${AVIDEMUX_SOURCE_DIR}/avidemux/&quot;)
-#INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/../&quot;)
-
-INCLUDE(vf_plugin_gtk)
-INIT_VIDEOFILTER_PLUGIN_GTK(ADM_vf_mplayerResize_gtk ${resizeCommonGtk_SRCS} ${resizeCommon_SRCS})
-
-IF (GTK_FOUND AND GTHREAD_FOUND)
-	TARGET_LINK_LIBRARIES(ADM_vf_mplayerResize_gtk ADM_libswscale ADM_libavcodec ADM_libavutil ADM_UIGtk)
-ENDIF (GTK_FOUND AND GTHREAD_FOUND)
-
-INCLUDE(vf_plugin_qt4)
-INIT_VIDEOFILTER_PLUGIN_QT4(ADM_vf_mplayerResize_qt4 ${resizeCommonQT_SRCS} ${resizeCommonQT_Headers} ${resizeCommonQT_UI} ${resizeCommon_SRCS})
-
-IF (QT4_FOUND)
-	TARGET_LINK_LIBRARIES(ADM_vf_mplayerResize_qt4 ADM_libswscale ADM_libavcodec ADM_libavutil ADM_UIQT4)
-ENDIF (QT4_FOUND)

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/gtk/gtk_resize.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/gtk/gtk_resize.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/gtk/gtk_resize.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,561 +0,0 @@
-/*
-	Resize GUI
-
-*/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include &lt;math.h&gt;
-
-#include &quot;ADM_toolkitGtk.h&quot;
-#include &quot;ADM_default.h&quot;
-#define aprintf(...) {}
-
-#include &lt;gdk/gdkkeysyms.h&gt;
-#include &lt;gtk/gtk.h&gt;
-
-
-#include &quot;ADM_gladeSupport.h&quot;
-
-#define FILL_ENTRY(widget_name,string) 		{r=-1;   \
-gtk_editable_delete_text(GTK_EDITABLE(lookup_widget(dialog,#widget_name)), 0,-1);\
-gtk_editable_insert_text(GTK_EDITABLE(lookup_widget(dialog,#widget_name)), string, strlen(string), &amp;r);}
-#define CHECKBOX(x,y) if(TRUE==gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(lookup_widget(dialog,#x))))  \
-			y=1; else y=0;
-#define READ_ENTRY(widget_name)   gtk_editable_get_chars(GTK_EDITABLE (lookup_widget(dialog,#widget_name)), 0, -1);
-
-#define SPIN_GET(x,y) {y= gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(WID(x))) ;}
-#define SPIN_SET(x,y)  {gtk_spin_button_set_value(GTK_SPIN_BUTTON(WID(x)),(gfloat)y) ;}
-
-
-/*----------------------------------------------*/
-static GtkWidget	*create_dialog1 (void);
-static void drag(GtkButton * button, gpointer user_data);
-static void read (void );
-static void write (void );
-/*----------------------------------------------*/
-static GtkWidget *dialog;
-static uint32_t iw,ih,ow,oh;
-static GtkAdjustment *adj_angle;
-static gint  r;
-static int sar;
-static int dar;
-static int resizeMethod;
-static int roundBool;
-static float erx,ery;
-static double aspectRatio[2][3]={
-								{1.,0.888888,1.19}, // NTSC 1:1 4:3 16:9
-								{1.,1.066667,1.43} // PAL  1:1 4:3 16:9
-							};
-static int pal=1;
-/*----------------------------------------------*/
-uint8_t DIA_resize(uint32_t *width,uint32_t *height,uint32_t *alg,uint32_t originalw, uint32_t originalh,uint32_t fps1000)
-{
-
-
-	char str[100];
-	uint8_t ret=0;
-
-
-	if(fps1000&gt;24600 &amp;&amp; fps1000&lt;25400)
-	{
-		aprintf(&quot;Pal\n&quot;);
-		pal=1;
-	}
-	else
-	{
-		aprintf(&quot;NTSC\n&quot;);
-		pal=0;
-	}
-
-	ow=originalw;
-	oh=originalh;
-
-	iw=*width;
-	ih=*height;
-	dialog=create_dialog1();
-	//gtk_transient(dialog);
-        gtk_register_dialog(dialog);
-	erx=ery=0;
-
-	double val;
-	val=100.*iw;
-	if(ow) val=val/ow;
-	adj_angle=	gtk_range_get_adjustment (GTK_RANGE(WID(hscale1)));
-	gtk_adjustment_set_value( GTK_ADJUSTMENT(adj_angle),(  gdouble  ) val );
-
-	// remember algo
- 	gtk_option_menu_set_history (GTK_OPTION_MENU (WID(optionmenu1)), *alg);
-
-
-	#define CONNECT(w,x) gtk_signal_connect(GTK_OBJECT(lookup_widget(dialog,#w)), #x, \
-		       GTK_SIGNAL_FUNC(drag), NULL)
-
-		       	CONNECT(hscale1,drag_data_received);
-			CONNECT(hscale1,drag_motion);
-			CONNECT(hscale1,drag_data_get);
-			CONNECT(hscale1,drag_begin);
-
-			gtk_signal_connect(GTK_OBJECT(adj_angle),&quot;value_changed&quot;,    GTK_SIGNAL_FUNC(drag), NULL);
-
-	write();
-
-	ret=0;
-	uint8_t stop=0;
-	while(!stop)
-	{
-		switch(gtk_dialog_run(GTK_DIALOG(dialog)))
-		{
-			case GTK_RESPONSE_OK:
-				gchar *s;
-
-                                SPIN_GET(spinbutton_width,*width);
-                                SPIN_GET(spinbutton_height,*height);
-				*alg= getRangeInMenu(lookup_widget(dialog,&quot;optionmenu1&quot;));
-				ret=1;
-				stop=1;
-				break;
-		default:			
-		case GTK_RESPONSE_CANCEL:
-				stop=1;
-				break;
-		case GTK_RESPONSE_APPLY:
-				drag(NULL,NULL);
-				break;
-							
-		}
-
-	}
-        gtk_unregister_dialog(dialog);
-	gtk_widget_destroy(dialog);
-
-	return ret;
-
-}
-/*
-	Called when the hscale is changed
-*/
-void drag(GtkButton * button, gpointer user_data)
-{
-  UNUSED_ARG(button);
-  UNUSED_ARG(user_data);
-
-  double percent;
-  float x,y;
-  float sr_mul,dst_mul;
-
- int32_t xx,yy;
-
-
-
-  percent = GTK_ADJUSTMENT(adj_angle)-&gt;value;
-  if(percent&lt;10.0) percent=10.;
-  read();
-
-  aprintf(&quot;drag called : %f \n&quot;,percent);
-  x=ow;
-  y=oh;
- erx=0;
- ery=0;
-  sr_mul=1.;
-  if(sar)
-  	{  // source is 4/3 or 16/9
-			sr_mul=aspectRatio[pal][sar];
-
-	}
-
-dst_mul=1.;
-  if(dar)
-  	{  // dst is 4/3 or 16/9
-
-			dst_mul=1/aspectRatio[pal][dar];
-	}
-	aprintf(&quot;source mul %02.2f , dst mul : %02.2f\n&quot;,sr_mul,dst_mul);
-	x=x*sr_mul*dst_mul;
-	y=y;
-
-	// normalize it to recover 100% width
-	y=y/(x/ow);
-	x=ow;
-
-	aprintf(&quot;AR:x,y  : %03f %03f \n&quot;,x,y);
-
-  	percent/=100.;
-  	x=x*percent;
-  	y=y*percent;
-
-
-	aprintf(&quot;AR x,y  : %03f %03f \n&quot;,x,y);
-  	xx=(uint32_t)floor(x+0.5);
-	yy=(uint32_t)floor(y+0.5);
-
-	if(xx&amp;1) xx--;
-	if(yy&amp;1) yy--;
-
-
-	if(roundBool)
-	{
-		int32_t ox=xx,oy=yy;
-		xx=(xx +7) &amp; 0xfffff0;
-		yy=(yy +7) &amp; 0xfffff0;
-
-		erx=(xx-ox);
-		erx=erx/xx;
-		ery=(yy-oy);
-		ery=ery/yy;
-
-		aprintf(&quot;x: %d -&gt; %d : err %f\n&quot;,ox,xx,erx);
-		aprintf(&quot;y: %d -&gt; %d : err %f\n&quot;,oy,yy,ery);
-	}
-
-	iw=xx;
-	ih=yy;
-	write();
-
-  }
-//---------------------------------------------
-// 	read all value from dialog
-//---------------------------------------------
-void read (void )
-{
-	// Read source and dest aspect ratio
- 	sar=getRangeInMenu(WID(optionmenu_source));
-	dar=getRangeInMenu(WID(optionmenu_dest));
-	// Read resizing method
-	resizeMethod=getRangeInMenu(WID(optionmenu1));
-	// Read round to neareast 16
-	CHECKBOX(checkbutton_16,roundBool);
-
-}
-//---------------------------------------------
-// 	update dialog with new value
-//---------------------------------------------
-
-void write (void )
-{
- char str[100];
-
-        SPIN_SET(spinbutton_width,iw);
-        SPIN_SET(spinbutton_height,ih);
-
-	sprintf(str,&quot;%2.2f&quot;,erx*100.);
-	gtk_label_set_text(GTK_LABEL(WID(label_errorx)),str);
-
-	sprintf(str,&quot;%2.2f&quot;,ery*100.);
-	gtk_label_set_text(GTK_LABEL(WID(label_errory)),str);
-
-}
-
-//----------------------------
-GtkWidget*
-create_dialog1 (void)
-{
-  GtkWidget *dialog1;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *vbox1;
-  GtkWidget *table2;
-  GtkWidget *label1;
-  GtkWidget *label2;
-  GtkObject *spinbutton_width_adj;
-  GtkWidget *spinbutton_width;
-  GtkObject *spinbutton_height_adj;
-  GtkWidget *spinbutton_height;
-  GtkWidget *label5;
-  GtkWidget *label6;
-  GtkWidget *optionmenu_source;
-  GtkWidget *menu1;
-  GtkWidget *item1_1;
-  GtkWidget *_4_1;
-  GtkWidget *_16_1;
-  GtkWidget *optionmenu_dest;
-  GtkWidget *menu2;
-  GtkWidget *menuitem1;
-  GtkWidget *menuitem2;
-  GtkWidget *menuitem3;
-  GtkWidget *label3;
-  GtkWidget *label_errorx;
-  GtkWidget *label7;
-  GtkWidget *label_errory;
-  GtkWidget *checkbutton_16;
-  GtkWidget *optionmenu1;
-  GtkWidget *menu3;
-  GtkWidget *bilinear1;
-  GtkWidget *bicubic1;
-  GtkWidget *lanczos1;
-  GtkWidget *alignment1;
-  GtkWidget *fixed1;
-  GtkWidget *fixed2;
-  GtkWidget *hscale1;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *applybutton1;
-  GtkWidget *okbutton1;
-
-  dialog1 = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog1), QT_TR_NOOP(&quot;Resize&quot;));
-  gtk_window_set_type_hint (GTK_WINDOW (dialog1), GDK_WINDOW_TYPE_HINT_DIALOG);
-
-  dialog_vbox1 = GTK_DIALOG (dialog1)-&gt;vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  vbox1 = gtk_vbox_new (FALSE, 0);
-  gtk_widget_show (vbox1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), vbox1, TRUE, TRUE, 0);
-
-  table2 = gtk_table_new (4, 4, FALSE);
-  gtk_widget_show (table2);
-  gtk_box_pack_start (GTK_BOX (vbox1), table2, FALSE, FALSE, 0);
-
-  label1 = gtk_label_new (QT_TR_NOOP(&quot; Width &quot;));
-  gtk_widget_show (label1);
-  gtk_table_attach (GTK_TABLE (table2), label1, 0, 1, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label1), 0, 0.5);
-
-  label2 = gtk_label_new (QT_TR_NOOP(&quot; Height &quot;));
-  gtk_widget_show (label2);
-  gtk_table_attach (GTK_TABLE (table2), label2, 0, 1, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
-
-  spinbutton_width_adj = gtk_adjustment_new (2, 0, 3000, 1, 10, 10);
-  spinbutton_width = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_width_adj), 1, 0);
-  gtk_widget_show (spinbutton_width);
-  gtk_table_attach (GTK_TABLE (table2), spinbutton_width, 1, 2, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton_width), TRUE);
-
-  spinbutton_height_adj = gtk_adjustment_new (1, 0, 3000, 1, 10, 10);
-  spinbutton_height = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_height_adj), 1, 0);
-  gtk_widget_show (spinbutton_height);
-  gtk_table_attach (GTK_TABLE (table2), spinbutton_height, 1, 2, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton_height), TRUE);
-
-  label5 = gtk_label_new (QT_TR_NOOP(&quot;Source :&quot;));
-  gtk_widget_show (label5);
-  gtk_table_attach (GTK_TABLE (table2), label5, 2, 3, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  label6 = gtk_label_new (QT_TR_NOOP(&quot;Destination&quot;));
-  gtk_widget_show (label6);
-  gtk_table_attach (GTK_TABLE (table2), label6, 2, 3, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  optionmenu_source = gtk_option_menu_new ();
-  gtk_widget_show (optionmenu_source);
-  gtk_table_attach (GTK_TABLE (table2), optionmenu_source, 3, 4, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  menu1 = gtk_menu_new ();
-
-  item1_1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;1:1&quot;));
-  gtk_widget_show (item1_1);
-  gtk_container_add (GTK_CONTAINER (menu1), item1_1);
-
-  _4_1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;4:3&quot;));
-  gtk_widget_show (_4_1);
-  gtk_container_add (GTK_CONTAINER (menu1), _4_1);
-
-  _16_1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;16:9&quot;));
-  gtk_widget_show (_16_1);
-  gtk_container_add (GTK_CONTAINER (menu1), _16_1);
-
-  gtk_option_menu_set_menu (GTK_OPTION_MENU (optionmenu_source), menu1);
-
-  optionmenu_dest = gtk_option_menu_new ();
-  gtk_widget_show (optionmenu_dest);
-  gtk_table_attach (GTK_TABLE (table2), optionmenu_dest, 3, 4, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  menu2 = gtk_menu_new ();
-
-  menuitem1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;1:1&quot;));
-  gtk_widget_show (menuitem1);
-  gtk_container_add (GTK_CONTAINER (menu2), menuitem1);
-
-  menuitem2 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;4:3&quot;));
-  gtk_widget_show (menuitem2);
-  gtk_container_add (GTK_CONTAINER (menu2), menuitem2);
-
-  menuitem3 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;16:9&quot;));
-  gtk_widget_show (menuitem3);
-  gtk_container_add (GTK_CONTAINER (menu2), menuitem3);
-
-  gtk_option_menu_set_menu (GTK_OPTION_MENU (optionmenu_dest), menu2);
-
-  label3 = gtk_label_new (QT_TR_NOOP(&quot; Error X:&quot;));
-  gtk_widget_show (label3);
-  gtk_table_attach (GTK_TABLE (table2), label3, 0, 1, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label3), 0, 0.5);
-
-  label_errorx = gtk_label_new (QT_TR_NOOP(&quot;0&quot;));
-  gtk_widget_show (label_errorx);
-  gtk_table_attach (GTK_TABLE (table2), label_errorx, 1, 2, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label_errorx), 0, 0.5);
-
-  label7 = gtk_label_new (QT_TR_NOOP(&quot; Error Y:&quot;));
-  gtk_widget_show (label7);
-  gtk_table_attach (GTK_TABLE (table2), label7, 0, 1, 3, 4,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label7), 0, 0.5);
-
-  label_errory = gtk_label_new (QT_TR_NOOP(&quot;0&quot;));
-  gtk_widget_show (label_errory);
-  gtk_table_attach (GTK_TABLE (table2), label_errory, 1, 2, 3, 4,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label_errory), 0, 0.5);
-
-  checkbutton_16 = gtk_check_button_new_with_mnemonic (QT_TR_NOOP(&quot;16 round up&quot;));
-  gtk_widget_show (checkbutton_16);
-  gtk_table_attach (GTK_TABLE (table2), checkbutton_16, 3, 4, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  optionmenu1 = gtk_option_menu_new ();
-  gtk_widget_show (optionmenu1);
-  gtk_table_attach (GTK_TABLE (table2), optionmenu1, 3, 4, 3, 4,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  menu3 = gtk_menu_new ();
-
-  bilinear1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;Bilinear&quot;));
-  gtk_widget_show (bilinear1);
-  gtk_container_add (GTK_CONTAINER (menu3), bilinear1);
-
-  bicubic1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;Bicubic&quot;));
-  gtk_widget_show (bicubic1);
-  gtk_container_add (GTK_CONTAINER (menu3), bicubic1);
-
-  lanczos1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;Lanczos3&quot;));
-  gtk_widget_show (lanczos1);
-  gtk_container_add (GTK_CONTAINER (menu3), lanczos1);
-
-  gtk_option_menu_set_menu (GTK_OPTION_MENU (optionmenu1), menu3);
-
-  alignment1 = gtk_alignment_new (0.5, 0.5, 1, 1);
-  gtk_widget_show (alignment1);
-  gtk_table_attach (GTK_TABLE (table2), alignment1, 2, 3, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (GTK_FILL), 0, 0);
-
-  fixed1 = gtk_fixed_new ();
-  gtk_widget_show (fixed1);
-  gtk_container_add (GTK_CONTAINER (alignment1), fixed1);
-
-  fixed2 = gtk_fixed_new ();
-  gtk_widget_show (fixed2);
-  gtk_table_attach (GTK_TABLE (table2), fixed2, 2, 3, 3, 4,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (GTK_FILL), 0, 0);
-
-  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (100, 0, 100, 1, 1, 0)));
-  gtk_widget_show (hscale1);
-  gtk_box_pack_start (GTK_BOX (vbox1), hscale1, FALSE, FALSE, 0);
-  gtk_scale_set_digits (GTK_SCALE (hscale1), 0);
-
-  dialog_action_area1 = GTK_DIALOG (dialog1)-&gt;action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  cancelbutton1 = gtk_button_new_from_stock (&quot;gtk-cancel&quot;);
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  applybutton1 = gtk_button_new_from_stock (&quot;gtk-apply&quot;);
-  gtk_widget_show (applybutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), applybutton1, GTK_RESPONSE_APPLY);
-  GTK_WIDGET_SET_FLAGS (applybutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock (&quot;gtk-ok&quot;);
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-/*
-  g_signal_connect ((gpointer) _4_1, &quot;activate&quot;,
-                    G_CALLBACK (on_4_1_activate),
-                    NULL);
-  g_signal_connect ((gpointer) _16_1, &quot;activate&quot;,
-                    G_CALLBACK (on_16_1_activate),
-                    NULL);
-  g_signal_connect ((gpointer) menuitem2, &quot;activate&quot;,
-                    G_CALLBACK (on_4_1_activate),
-                    NULL);
-  g_signal_connect ((gpointer) menuitem3, &quot;activate&quot;,
-                    G_CALLBACK (on_16_1_activate),
-                    NULL);
-  g_signal_connect ((gpointer) bilinear1, &quot;activate&quot;,
-                    G_CALLBACK (on_bilinear1_activate),
-                    NULL);
-  g_signal_connect ((gpointer) bicubic1, &quot;activate&quot;,
-                    G_CALLBACK (on_bicubic1_activate),
-                    NULL);
-  g_signal_connect ((gpointer) lanczos1, &quot;activate&quot;,
-                    G_CALLBACK (on_lanczos1_activate),
-                    NULL);
-*/
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, &quot;dialog1&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, &quot;dialog_vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, vbox1, &quot;vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, table2, &quot;table2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label1, &quot;label1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label2, &quot;label2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, spinbutton_width, &quot;spinbutton_width&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, spinbutton_height, &quot;spinbutton_height&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label5, &quot;label5&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label6, &quot;label6&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, optionmenu_source, &quot;optionmenu_source&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, menu1, &quot;menu1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, item1_1, &quot;item1_1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, _4_1, &quot;_4_1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, _16_1, &quot;_16_1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, optionmenu_dest, &quot;optionmenu_dest&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, menu2, &quot;menu2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, menuitem1, &quot;menuitem1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, menuitem2, &quot;menuitem2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, menuitem3, &quot;menuitem3&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label3, &quot;label3&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label_errorx, &quot;label_errorx&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label7, &quot;label7&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label_errory, &quot;label_errory&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, checkbutton_16, &quot;checkbutton_16&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, optionmenu1, &quot;optionmenu1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, menu3, &quot;menu3&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, bilinear1, &quot;bilinear1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, bicubic1, &quot;bicubic1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, lanczos1, &quot;lanczos1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, alignment1, &quot;alignment1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, fixed1, &quot;fixed1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, fixed2, &quot;fixed2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, hscale1, &quot;hscale1&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, &quot;dialog_action_area1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, &quot;cancelbutton1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, applybutton1, &quot;applybutton1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, okbutton1, &quot;okbutton1&quot;);
-
-  return dialog1;
-}
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,278 +0,0 @@
-/***************************************************************************
-    copyright            : (C) 2001 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include &lt;math.h&gt;
-
-#include &quot;Q_resize.h&quot;
-#include &quot;DIA_coreToolkit.h&quot;
-
-static double aspectRatio[2][3]={
-                              {1.,0.888888,1.19}, // NTSC 1:1 4:3 16:9
-                              {1.,1.066667,1.43} // PAL  1:1 4:3 16:9
-                            };
-#define aprintf
-
-resizeWindow::resizeWindow(resParam *param) : QDialog()
- {
-     ui.setupUi(this);
-	 lastPercentage = 100;
-     _param=param;
-     ui.spinBoxWidth-&gt;setValue(_param-&gt;width);
-     ui.spinBoxHeight-&gt;setValue(_param-&gt;height);
-     ui.horizontalSlider-&gt;setValue(100);
-     updateWidthHeightSpinners();
-
-	 connect(ui.comboBoxSource, SIGNAL(currentIndexChanged(int)), this, SLOT(aspectRatioChanged(int)));
-	 connect(ui.comboBoxDestination, SIGNAL(currentIndexChanged(int)), this, SLOT(aspectRatioChanged(int)));
-	 connect(ui.checkBoxRoundup, SIGNAL(toggled(bool)), this, SLOT(roundupToggled(bool)));
-	 connect(ui.lockArCheckBox, SIGNAL(toggled(bool)), this, SLOT(lockArToggled(bool)));
-	 connect(ui.buttonBox, SIGNAL(accepted()), this, SLOT(okButtonClicked()));
-
-	 connectDimensionControls();
- }
-
- void resizeWindow::gather(void)
- {
-    _param-&gt;width=ui.spinBoxWidth-&gt;value();
-    _param-&gt;height=ui.spinBoxHeight-&gt;value();
-    _param-&gt;algo=ui.comboBoxAlgo-&gt;currentIndex();
- }
- 
- void resizeWindow::sliderChanged(int value)
-{
-	disconnectDimensionControls();
-
-	percentageSpinBoxChanged(value);
-
-	connectDimensionControls();
-}
-
-void resizeWindow::percentageSpinBoxChanged(int value)
-{
-	disconnectDimensionControls();
-
-	if (ui.checkBoxRoundup-&gt;isChecked())
-	{
-		if (lastPercentage &gt; value)
-			ui.spinBoxWidth-&gt;setValue(ui.spinBoxWidth-&gt;value() - 16);
-		else
-			ui.spinBoxWidth-&gt;setValue(ui.spinBoxWidth-&gt;value() + 16);
-	}
-	else
-	{
-		float width = _param-&gt;originalWidth;
-
-		width /= 100.;
-		width *= value;
-
-		ui.spinBoxWidth-&gt;setValue(floor(width + 0.5));
-	}
-
-	updateWidthHeightSpinners(false);
-
-	lastPercentage = ui.percentageSpinBox-&gt;value();
-
-	connectDimensionControls();
-}
-
-void resizeWindow::widthSpinBoxChanged(int value)
-{
-	disconnectDimensionControls();
-
-	if (ui.lockArCheckBox-&gt;isChecked())
-		updateWidthHeightSpinners(false);
-
-	connectDimensionControls();
-}
-
-void resizeWindow::heightSpinBoxChanged(int value)
-{
-	disconnectDimensionControls();
-
-	if (ui.lockArCheckBox-&gt;isChecked())
-		updateWidthHeightSpinners(true);
-
-	connectDimensionControls();
-}
-
-void resizeWindow::aspectRatioChanged(int index)
-{
-	disconnectDimensionControls();
-
-	if (ui.lockArCheckBox-&gt;isChecked())
-		updateWidthHeightSpinners();
-
-	connectDimensionControls();
-}
-
-void resizeWindow::disconnectDimensionControls()
-{
-	disconnect(ui.spinBoxHeight, SIGNAL(valueChanged(int)), this, SLOT(heightSpinBoxChanged(int)));
-	disconnect(ui.spinBoxWidth, SIGNAL(valueChanged(int)), this, SLOT(widthSpinBoxChanged(int)));
-	disconnect(ui.horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(sliderChanged(int)));
-	disconnect(ui.percentageSpinBox, SIGNAL(valueChanged(int)), this, SLOT(percentageSpinBoxChanged(int)));
-}
-
-void resizeWindow::connectDimensionControls()
-{
-	connect(ui.spinBoxHeight, SIGNAL(valueChanged(int)), this, SLOT(heightSpinBoxChanged(int)));
-	connect(ui.spinBoxWidth, SIGNAL(valueChanged(int)), this, SLOT(widthSpinBoxChanged(int)));
-	connect(ui.horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(sliderChanged(int)));
-	connect(ui.percentageSpinBox, SIGNAL(valueChanged(int)), this, SLOT(percentageSpinBoxChanged(int)));
-}
-
-void resizeWindow::updateWidthHeightSpinners(bool useHeightAsRef)
-{
-	int sar = ui.comboBoxSource-&gt;currentIndex();
-	int dar = ui.comboBoxDestination-&gt;currentIndex();
-	float x = ui.spinBoxWidth-&gt;value();
-	float y = ui.spinBoxHeight-&gt;value();
-	float sr_mul = 1.;
-	float dst_mul = 1.;
-	float ar = 1.;
-
-	if (sar)
-	{  // source is 4/3 or 16/9
-		sr_mul = aspectRatio[_param-&gt;pal][sar];
-	}
-
-	if (dar)
-	{  // dst is 4/3 or 16/9
-		dst_mul = 1 / aspectRatio[_param-&gt;pal][dar];
-	}
-
-	aprintf(&quot;source mul %02.2f , dst mul: %02.2f\n&quot;, sr_mul, dst_mul);
-
-	ar = _param-&gt;originalWidth / (_param-&gt;originalHeight / (sr_mul * dst_mul));
-
-	if (useHeightAsRef)
-		x = y * ar;
-	else
-		y = x / ar;
-
-	aprintf(&quot;x, y: %03f, %03f\n&quot;, x, y);
-
-	int xx = floor(x + 0.5);
-	int yy = floor(y + 0.5);
-
-	if (xx &amp; 1)
-		xx--;
-
-	if (yy &amp; 1)
-		yy--;
-
-	roundUp(xx, yy);
-	updateSlider();
-}
-
-void resizeWindow::updateSlider()
-{
-	float percent = (((float)ui.spinBoxWidth-&gt;value() / (float)_param-&gt;originalWidth) * 100.) + 0.5;
-
-	ui.horizontalSlider-&gt;setValue(percent);
-	ui.percentageSpinBox-&gt;setValue(percent);
-}
-
-void resizeWindow::roundUp(int xx, int yy)
-{
-	float erx = 0.;
-	float ery = 0.;
-
-	if (ui.checkBoxRoundup-&gt;checkState())
-	{
-		int ox = xx, oy = yy;
-
-		xx = (xx + 7) &amp; 0xfffff0;
-		yy = (yy + 7) &amp; 0xfffff0;
-
-		erx = xx - ox;
-		erx = erx / xx;
-		ery = yy - oy;
-		ery = ery / yy;
-
-		aprintf(&quot;x: %d -&gt; %d : err %f\n&quot;, ox, xx, erx);
-		aprintf(&quot;y: %d -&gt; %d : err %f\n&quot;, oy, yy, ery);
-	}
-
-	ui.spinBoxWidth-&gt;setValue(xx);
-	ui.spinBoxHeight-&gt;setValue(yy);
-
-	ui.labelErrorXY-&gt;setText(QString(&quot;%1&quot;).arg(erx * 100., 0, 'f', 2) + &quot; / &quot; + QString(&quot;%1&quot;).arg(ery * 100., 0, 'f', 2));
-}
-
-void resizeWindow::lockArToggled(bool toggled)
-{
-	if (ui.lockArCheckBox-&gt;isChecked())
-		widthSpinBoxChanged(0);
-	else
-		ui.checkBoxRoundup-&gt;setChecked(false);
-}
-
-void resizeWindow::roundupToggled(bool toggled)
-{
-	if (toggled)
-	{
-		disconnectDimensionControls();
-
-		ui.spinBoxWidth-&gt;setSingleStep(16);
-		ui.spinBoxHeight-&gt;setSingleStep(16);
-		widthSpinBoxChanged(0);
-
-		connectDimensionControls();
-	}
-	else
-	{
-		ui.spinBoxWidth-&gt;setSingleStep(2);
-		ui.spinBoxHeight-&gt;setSingleStep(2);
-	}
-}
-
-void resizeWindow::okButtonClicked()
-{
-	if (ui.spinBoxWidth-&gt;value() &amp; 1 || ui.spinBoxHeight-&gt;value() &amp; 1)
-		GUI_Error_HIG(QT_TR_NOOP(&quot;Width and height cannot be odd&quot;), NULL);
-	else
-		accept();
-}
-
-/**
-    \fn DIA_resize
-    \brief Handle resize dialo
-*/
-uint8_t DIA_resize(uint32_t *width,uint32_t *height,uint32_t *alg,uint32_t originalw, uint32_t originalh,uint32_t fps1000)
-{
-uint8_t r=0;
-      resParam param={*width,*height,originalw,originalh,fps1000,*alg,0};
-      //
-      if(fps1000&gt;24600 &amp;&amp; fps1000&lt;25400)
-        {
-                param.pal=1;
-        }
-       
-
-     // Fetch info
-     resizeWindow resizewindow(&amp;param) ;
-     ;
-     if(resizewindow.exec()==QDialog::Accepted)
-     {
-       resizewindow.gather();
-       *width=param.width;
-       *height=param.height;
-       *alg=param.algo;
-       r=1;
-     }
-     return r;
-}  
-//********************************************
-//EOF

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.h	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.h	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,31 +0,0 @@
-#ifndef Q_resizing_h
-#define Q_resizing_h
-
-#include &quot;ui_resizing.h&quot;
-
-typedef struct resParam
-{
-	uint32_t width,height;
-	uint32_t originalWidth, originalHeight;
-	uint32_t fps1000;
-	uint32_t algo;
-	uint32_t pal;
-} resParam;
-
-class resizeWindow : public QDialog
-{
-	Q_OBJECT
-
-protected: 
-	resParam *_param;
-
-public:
-	resizeWindow(resParam *param);
-	~resizeWindow();
-	Ui_resizeDialog ui;
-
-public slots:
-	void gather(void);
-	void update(int i);
-};
-#endif	// Q_resizing_h

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.h.orig
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.h.orig	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.h.orig	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,31 +0,0 @@
-#ifndef Q_resizing_h
-#define Q_resizing_h
-
-#include &quot;ui_resizing.h&quot;
-
-typedef struct resParam
-{
-	uint32_t width,height;
-	uint32_t originalWidth, originalHeight;
-	uint32_t fps1000;
-	uint32_t algo;
-	uint32_t pal;
-} resParam;
-
-class resizeWindow : public QDialog
-{
-	Q_OBJECT
-
-protected: 
-	resParam *_param;
-
-public:
-	resizeWindow(resParam *param);
-	~resizeWindow();
-	Ui_resizeDialog ui;
-
-public slots:
-	void gather(void);
-	void update(int i);
-};
-#endif	// Q_resizing_h

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/qt4/resizing.ui
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/qt4/resizing.ui	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/MplayerResize/qt4/resizing.ui	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,724 +0,0 @@
-&lt;ui version=&quot;4.0&quot; &gt;
- &lt;class&gt;resizeDialog&lt;/class&gt;
- &lt;widget class=&quot;QDialog&quot; name=&quot;resizeDialog&quot; &gt;
-  &lt;property name=&quot;geometry&quot; &gt;
-   &lt;rect&gt;
-    &lt;x&gt;0&lt;/x&gt;
-    &lt;y&gt;0&lt;/y&gt;
-    &lt;width&gt;350&lt;/width&gt;
-    &lt;height&gt;342&lt;/height&gt;
-   &lt;/rect&gt;
-  &lt;/property&gt;
-  &lt;property name=&quot;windowTitle&quot; &gt;
-   &lt;string&gt;Resize&lt;/string&gt;
-  &lt;/property&gt;
-  &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-   &lt;property name=&quot;margin&quot; &gt;
-    &lt;number&gt;9&lt;/number&gt;
-   &lt;/property&gt;
-   &lt;property name=&quot;spacing&quot; &gt;
-    &lt;number&gt;6&lt;/number&gt;
-   &lt;/property&gt;
-   &lt;item&gt;
-    &lt;widget class=&quot;QGroupBox&quot; name=&quot;groupBox_2&quot; &gt;
-     &lt;property name=&quot;title&quot; &gt;
-      &lt;string&gt;Aspect Ratio&lt;/string&gt;
-     &lt;/property&gt;
-     &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-      &lt;property name=&quot;margin&quot; &gt;
-       &lt;number&gt;9&lt;/number&gt;
-      &lt;/property&gt;
-      &lt;property name=&quot;spacing&quot; &gt;
-       &lt;number&gt;6&lt;/number&gt;
-      &lt;/property&gt;
-      &lt;item&gt;
-       &lt;widget class=&quot;QCheckBox&quot; name=&quot;lockArCheckBox&quot; &gt;
-        &lt;property name=&quot;text&quot; &gt;
-         &lt;string&gt;Lock Aspect Ratio&lt;/string&gt;
-        &lt;/property&gt;
-        &lt;property name=&quot;checked&quot; &gt;
-         &lt;bool&gt;true&lt;/bool&gt;
-        &lt;/property&gt;
-       &lt;/widget&gt;
-      &lt;/item&gt;
-      &lt;item&gt;
-       &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-        &lt;property name=&quot;margin&quot; &gt;
-         &lt;number&gt;0&lt;/number&gt;
-        &lt;/property&gt;
-        &lt;property name=&quot;spacing&quot; &gt;
-         &lt;number&gt;6&lt;/number&gt;
-        &lt;/property&gt;
-        &lt;item&gt;
-         &lt;widget class=&quot;QLabel&quot; name=&quot;label_4&quot; &gt;
-          &lt;property name=&quot;text&quot; &gt;
-           &lt;string&gt;Source:&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;widget class=&quot;QComboBox&quot; name=&quot;comboBoxSource&quot; &gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot; &gt;
-            &lt;string&gt;1:1&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot; &gt;
-            &lt;string&gt;4:3&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot; &gt;
-            &lt;string&gt;16:9&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;spacer&gt;
-          &lt;property name=&quot;orientation&quot; &gt;
-           &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;sizeType&quot; &gt;
-           &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;sizeHint&quot; &gt;
-           &lt;size&gt;
-            &lt;width&gt;30&lt;/width&gt;
-            &lt;height&gt;20&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-         &lt;/spacer&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;widget class=&quot;QLabel&quot; name=&quot;label_3&quot; &gt;
-          &lt;property name=&quot;text&quot; &gt;
-           &lt;string&gt;Destination:&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;widget class=&quot;QComboBox&quot; name=&quot;comboBoxDestination&quot; &gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot; &gt;
-            &lt;string&gt;1:1&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot; &gt;
-            &lt;string&gt;4:3&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;property name=&quot;text&quot; &gt;
-            &lt;string&gt;16:9&lt;/string&gt;
-           &lt;/property&gt;
-          &lt;/item&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;spacer&gt;
-          &lt;property name=&quot;orientation&quot; &gt;
-           &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;sizeHint&quot; &gt;
-           &lt;size&gt;
-            &lt;width&gt;40&lt;/width&gt;
-            &lt;height&gt;20&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-         &lt;/spacer&gt;
-        &lt;/item&gt;
-       &lt;/layout&gt;
-      &lt;/item&gt;
-     &lt;/layout&gt;
-    &lt;/widget&gt;
-   &lt;/item&gt;
-   &lt;item&gt;
-    &lt;widget class=&quot;QGroupBox&quot; name=&quot;groupBox&quot; &gt;
-     &lt;property name=&quot;title&quot; &gt;
-      &lt;string&gt;Resize Dimensions&lt;/string&gt;
-     &lt;/property&gt;
-     &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-      &lt;property name=&quot;margin&quot; &gt;
-       &lt;number&gt;9&lt;/number&gt;
-      &lt;/property&gt;
-      &lt;property name=&quot;spacing&quot; &gt;
-       &lt;number&gt;6&lt;/number&gt;
-      &lt;/property&gt;
-      &lt;item&gt;
-       &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-        &lt;property name=&quot;margin&quot; &gt;
-         &lt;number&gt;0&lt;/number&gt;
-        &lt;/property&gt;
-        &lt;property name=&quot;spacing&quot; &gt;
-         &lt;number&gt;6&lt;/number&gt;
-        &lt;/property&gt;
-        &lt;item&gt;
-         &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot; &gt;
-          &lt;property name=&quot;text&quot; &gt;
-           &lt;string&gt;Width:&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;widget class=&quot;QSpinBox&quot; name=&quot;spinBoxWidth&quot; &gt;
-          &lt;property name=&quot;maximum&quot; &gt;
-           &lt;number&gt;2900&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;minimum&quot; &gt;
-           &lt;number&gt;16&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;singleStep&quot; &gt;
-           &lt;number&gt;2&lt;/number&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;spacer&gt;
-          &lt;property name=&quot;orientation&quot; &gt;
-           &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;sizeType&quot; &gt;
-           &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;sizeHint&quot; &gt;
-           &lt;size&gt;
-            &lt;width&gt;30&lt;/width&gt;
-            &lt;height&gt;20&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-         &lt;/spacer&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot; &gt;
-          &lt;property name=&quot;text&quot; &gt;
-           &lt;string&gt;Height:&lt;/string&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;widget class=&quot;QSpinBox&quot; name=&quot;spinBoxHeight&quot; &gt;
-          &lt;property name=&quot;maximum&quot; &gt;
-           &lt;number&gt;2000&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;minimum&quot; &gt;
-           &lt;number&gt;16&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;singleStep&quot; &gt;
-           &lt;number&gt;2&lt;/number&gt;
-          &lt;/property&gt;
-         &lt;/widget&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;spacer&gt;
-          &lt;property name=&quot;orientation&quot; &gt;
-           &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;sizeHint&quot; &gt;
-           &lt;size&gt;
-            &lt;width&gt;40&lt;/width&gt;
-            &lt;height&gt;20&lt;/height&gt;
-           &lt;/size&gt;
-          &lt;/property&gt;
-         &lt;/spacer&gt;
-        &lt;/item&gt;
-       &lt;/layout&gt;
-      &lt;/item&gt;
-      &lt;item&gt;
-       &lt;widget class=&quot;QCheckBox&quot; name=&quot;checkBoxRoundup&quot; &gt;
-        &lt;property name=&quot;text&quot; &gt;
-         &lt;string&gt;Round to the Nearest Multiple of 16&lt;/string&gt;
-        &lt;/property&gt;
-       &lt;/widget&gt;
-      &lt;/item&gt;
-      &lt;item&gt;
-       &lt;spacer&gt;
-        &lt;property name=&quot;orientation&quot; &gt;
-         &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
-        &lt;/property&gt;
-        &lt;property name=&quot;sizeType&quot; &gt;
-         &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
-        &lt;/property&gt;
-        &lt;property name=&quot;sizeHint&quot; &gt;
-         &lt;size&gt;
-          &lt;width&gt;312&lt;/width&gt;
-          &lt;height&gt;4&lt;/height&gt;
-         &lt;/size&gt;
-        &lt;/property&gt;
-       &lt;/spacer&gt;
-      &lt;/item&gt;
-      &lt;item&gt;
-       &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-        &lt;property name=&quot;margin&quot; &gt;
-         &lt;number&gt;0&lt;/number&gt;
-        &lt;/property&gt;
-        &lt;property name=&quot;spacing&quot; &gt;
-         &lt;number&gt;6&lt;/number&gt;
-        &lt;/property&gt;
-        &lt;item&gt;
-         &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-          &lt;property name=&quot;margin&quot; &gt;
-           &lt;number&gt;0&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;spacing&quot; &gt;
-           &lt;number&gt;12&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;item&gt;
-           &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-            &lt;property name=&quot;margin&quot; &gt;
-             &lt;number&gt;0&lt;/number&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;spacing&quot; &gt;
-             &lt;number&gt;6&lt;/number&gt;
-            &lt;/property&gt;
-            &lt;item&gt;
-             &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-              &lt;property name=&quot;margin&quot; &gt;
-               &lt;number&gt;0&lt;/number&gt;
-              &lt;/property&gt;
-              &lt;property name=&quot;spacing&quot; &gt;
-               &lt;number&gt;6&lt;/number&gt;
-              &lt;/property&gt;
-              &lt;item&gt;
-               &lt;widget class=&quot;QLabel&quot; name=&quot;label_8&quot; &gt;
-                &lt;property name=&quot;text&quot; &gt;
-                 &lt;string&gt;1%&lt;/string&gt;
-                &lt;/property&gt;
-               &lt;/widget&gt;
-              &lt;/item&gt;
-              &lt;item&gt;
-               &lt;spacer&gt;
-                &lt;property name=&quot;orientation&quot; &gt;
-                 &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-                &lt;/property&gt;
-                &lt;property name=&quot;sizeHint&quot; &gt;
-                 &lt;size&gt;
-                  &lt;width&gt;40&lt;/width&gt;
-                  &lt;height&gt;20&lt;/height&gt;
-                 &lt;/size&gt;
-                &lt;/property&gt;
-               &lt;/spacer&gt;
-              &lt;/item&gt;
-              &lt;item&gt;
-               &lt;widget class=&quot;QLabel&quot; name=&quot;label_5&quot; &gt;
-                &lt;property name=&quot;text&quot; &gt;
-                 &lt;string&gt;Percent&lt;/string&gt;
-                &lt;/property&gt;
-               &lt;/widget&gt;
-              &lt;/item&gt;
-              &lt;item&gt;
-               &lt;spacer&gt;
-                &lt;property name=&quot;orientation&quot; &gt;
-                 &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-                &lt;/property&gt;
-                &lt;property name=&quot;sizeHint&quot; &gt;
-                 &lt;size&gt;
-                  &lt;width&gt;40&lt;/width&gt;
-                  &lt;height&gt;20&lt;/height&gt;
-                 &lt;/size&gt;
-                &lt;/property&gt;
-               &lt;/spacer&gt;
-              &lt;/item&gt;
-              &lt;item&gt;
-               &lt;widget class=&quot;QLabel&quot; name=&quot;label_9&quot; &gt;
-                &lt;property name=&quot;text&quot; &gt;
-                 &lt;string&gt;200%&lt;/string&gt;
-                &lt;/property&gt;
-               &lt;/widget&gt;
-              &lt;/item&gt;
-             &lt;/layout&gt;
-            &lt;/item&gt;
-            &lt;item&gt;
-             &lt;widget class=&quot;QSlider&quot; name=&quot;horizontalSlider&quot; &gt;
-              &lt;property name=&quot;minimum&quot; &gt;
-               &lt;number&gt;1&lt;/number&gt;
-              &lt;/property&gt;
-              &lt;property name=&quot;maximum&quot; &gt;
-               &lt;number&gt;200&lt;/number&gt;
-              &lt;/property&gt;
-              &lt;property name=&quot;value&quot; &gt;
-               &lt;number&gt;100&lt;/number&gt;
-              &lt;/property&gt;
-              &lt;property name=&quot;orientation&quot; &gt;
-               &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-              &lt;/property&gt;
-             &lt;/widget&gt;
-            &lt;/item&gt;
-           &lt;/layout&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;widget class=&quot;QSpinBox&quot; name=&quot;percentageSpinBox&quot; &gt;
-            &lt;property name=&quot;maximum&quot; &gt;
-             &lt;number&gt;200&lt;/number&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;minimum&quot; &gt;
-             &lt;number&gt;1&lt;/number&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;value&quot; &gt;
-             &lt;number&gt;100&lt;/number&gt;
-            &lt;/property&gt;
-           &lt;/widget&gt;
-          &lt;/item&gt;
-         &lt;/layout&gt;
-        &lt;/item&gt;
-        &lt;item&gt;
-         &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-          &lt;property name=&quot;margin&quot; &gt;
-           &lt;number&gt;0&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;property name=&quot;spacing&quot; &gt;
-           &lt;number&gt;6&lt;/number&gt;
-          &lt;/property&gt;
-          &lt;item&gt;
-           &lt;widget class=&quot;QLabel&quot; name=&quot;label_10&quot; &gt;
-            &lt;property name=&quot;text&quot; &gt;
-             &lt;string&gt;Error X / Y:&lt;/string&gt;
-            &lt;/property&gt;
-           &lt;/widget&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;widget class=&quot;QLabel&quot; name=&quot;labelErrorXY&quot; &gt;
-            &lt;property name=&quot;text&quot; &gt;
-             &lt;string&gt;0.00 / 0.00&lt;/string&gt;
-            &lt;/property&gt;
-           &lt;/widget&gt;
-          &lt;/item&gt;
-          &lt;item&gt;
-           &lt;spacer&gt;
-            &lt;property name=&quot;orientation&quot; &gt;
-             &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-            &lt;/property&gt;
-            &lt;property name=&quot;sizeHint&quot; &gt;
-             &lt;size&gt;
-              &lt;width&gt;40&lt;/width&gt;
-              &lt;height&gt;20&lt;/height&gt;
-             &lt;/size&gt;
-            &lt;/property&gt;
-           &lt;/spacer&gt;
-          &lt;/item&gt;
-         &lt;/layout&gt;
-        &lt;/item&gt;
-       &lt;/layout&gt;
-      &lt;/item&gt;
-     &lt;/layout&gt;
-    &lt;/widget&gt;
-   &lt;/item&gt;
-   &lt;item&gt;
-    &lt;spacer&gt;
-     &lt;property name=&quot;orientation&quot; &gt;
-      &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
-     &lt;/property&gt;
-     &lt;property name=&quot;sizeType&quot; &gt;
-      &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
-     &lt;/property&gt;
-     &lt;property name=&quot;sizeHint&quot; &gt;
-      &lt;size&gt;
-       &lt;width&gt;332&lt;/width&gt;
-       &lt;height&gt;6&lt;/height&gt;
-      &lt;/size&gt;
-     &lt;/property&gt;
-    &lt;/spacer&gt;
-   &lt;/item&gt;
-   &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-     &lt;property name=&quot;margin&quot; &gt;
-      &lt;number&gt;0&lt;/number&gt;
-     &lt;/property&gt;
-     &lt;property name=&quot;spacing&quot; &gt;
-      &lt;number&gt;6&lt;/number&gt;
-     &lt;/property&gt;
-     &lt;item&gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label_6&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
-        &lt;string&gt;Resize Method:&lt;/string&gt;
-       &lt;/property&gt;
-      &lt;/widget&gt;
-     &lt;/item&gt;
-     &lt;item&gt;
-      &lt;widget class=&quot;QComboBox&quot; name=&quot;comboBoxAlgo&quot; &gt;
-       &lt;item&gt;
-        &lt;property name=&quot;text&quot; &gt;
-         &lt;string&gt;Bilinear&lt;/string&gt;
-        &lt;/property&gt;
-       &lt;/item&gt;
-       &lt;item&gt;
-        &lt;property name=&quot;text&quot; &gt;
-         &lt;string&gt;Bicubic&lt;/string&gt;
-        &lt;/property&gt;
-       &lt;/item&gt;
-       &lt;item&gt;
-        &lt;property name=&quot;text&quot; &gt;
-         &lt;string&gt;Lanzcos3&lt;/string&gt;
-        &lt;/property&gt;
-       &lt;/item&gt;
-      &lt;/widget&gt;
-     &lt;/item&gt;
-     &lt;item&gt;
-      &lt;spacer&gt;
-       &lt;property name=&quot;orientation&quot; &gt;
-        &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-       &lt;/property&gt;
-       &lt;property name=&quot;sizeHint&quot; &gt;
-        &lt;size&gt;
-         &lt;width&gt;40&lt;/width&gt;
-         &lt;height&gt;20&lt;/height&gt;
-        &lt;/size&gt;
-       &lt;/property&gt;
-      &lt;/spacer&gt;
-     &lt;/item&gt;
-    &lt;/layout&gt;
-   &lt;/item&gt;
-   &lt;item&gt;
-    &lt;spacer&gt;
-     &lt;property name=&quot;orientation&quot; &gt;
-      &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
-     &lt;/property&gt;
-     &lt;property name=&quot;sizeType&quot; &gt;
-      &lt;enum&gt;QSizePolicy::MinimumExpanding&lt;/enum&gt;
-     &lt;/property&gt;
-     &lt;property name=&quot;sizeHint&quot; &gt;
-      &lt;size&gt;
-       &lt;width&gt;20&lt;/width&gt;
-       &lt;height&gt;16&lt;/height&gt;
-      &lt;/size&gt;
-     &lt;/property&gt;
-    &lt;/spacer&gt;
-   &lt;/item&gt;
-   &lt;item&gt;
-    &lt;widget class=&quot;QDialogButtonBox&quot; name=&quot;buttonBox&quot; &gt;
-     &lt;property name=&quot;orientation&quot; &gt;
-      &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
-     &lt;/property&gt;
-     &lt;property name=&quot;standardButtons&quot; &gt;
-      &lt;set&gt;QDialogButtonBox::Cancel|QDialogButtonBox::NoButton|QDialogButtonBox::Ok&lt;/set&gt;
-     &lt;/property&gt;
-    &lt;/widget&gt;
-   &lt;/item&gt;
-  &lt;/layout&gt;
- &lt;/widget&gt;
- &lt;tabstops&gt;
-  &lt;tabstop&gt;lockArCheckBox&lt;/tabstop&gt;
-  &lt;tabstop&gt;comboBoxSource&lt;/tabstop&gt;
-  &lt;tabstop&gt;comboBoxDestination&lt;/tabstop&gt;
-  &lt;tabstop&gt;spinBoxWidth&lt;/tabstop&gt;
-  &lt;tabstop&gt;spinBoxHeight&lt;/tabstop&gt;
-  &lt;tabstop&gt;checkBoxRoundup&lt;/tabstop&gt;
-  &lt;tabstop&gt;horizontalSlider&lt;/tabstop&gt;
-  &lt;tabstop&gt;percentageSpinBox&lt;/tabstop&gt;
-  &lt;tabstop&gt;comboBoxAlgo&lt;/tabstop&gt;
-  &lt;tabstop&gt;buttonBox&lt;/tabstop&gt;
- &lt;/tabstops&gt;
- &lt;resources/&gt;
- &lt;connections&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;buttonBox&lt;/sender&gt;
-   &lt;signal&gt;rejected()&lt;/signal&gt;
-   &lt;receiver&gt;resizeDialog&lt;/receiver&gt;
-   &lt;slot&gt;reject()&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;316&lt;/x&gt;
-     &lt;y&gt;260&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;286&lt;/x&gt;
-     &lt;y&gt;274&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;label_8&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;184&lt;/x&gt;
-     &lt;y&gt;117&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;39&lt;/x&gt;
-     &lt;y&gt;148&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;label_5&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;184&lt;/x&gt;
-     &lt;y&gt;117&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;150&lt;/x&gt;
-     &lt;y&gt;148&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;label_9&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;184&lt;/x&gt;
-     &lt;y&gt;117&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;267&lt;/x&gt;
-     &lt;y&gt;148&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;horizontalSlider&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;184&lt;/x&gt;
-     &lt;y&gt;117&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;156&lt;/x&gt;
-     &lt;y&gt;164&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;percentageSpinBox&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;184&lt;/x&gt;
-     &lt;y&gt;117&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;317&lt;/x&gt;
-     &lt;y&gt;155&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;checkBoxRoundup&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;184&lt;/x&gt;
-     &lt;y&gt;95&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;184&lt;/x&gt;
-     &lt;y&gt;117&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;label_10&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;182&lt;/x&gt;
-     &lt;y&gt;155&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;55&lt;/x&gt;
-     &lt;y&gt;251&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;labelErrorXY&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;182&lt;/x&gt;
-     &lt;y&gt;155&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;114&lt;/x&gt;
-     &lt;y&gt;251&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;label_4&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;182&lt;/x&gt;
-     &lt;y&gt;69&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;46&lt;/x&gt;
-     &lt;y&gt;95&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;comboBoxSource&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;182&lt;/x&gt;
-     &lt;y&gt;69&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;94&lt;/x&gt;
-     &lt;y&gt;95&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;label_3&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;182&lt;/x&gt;
-     &lt;y&gt;69&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;188&lt;/x&gt;
-     &lt;y&gt;95&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
-  &lt;connection&gt;
-   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
-   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
-   &lt;receiver&gt;comboBoxDestination&lt;/receiver&gt;
-   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
-   &lt;hints&gt;
-    &lt;hint type=&quot;sourcelabel&quot; &gt;
-     &lt;x&gt;182&lt;/x&gt;
-     &lt;y&gt;69&lt;/y&gt;
-    &lt;/hint&gt;
-    &lt;hint type=&quot;destinationlabel&quot; &gt;
-     &lt;x&gt;247&lt;/x&gt;
-     &lt;y&gt;95&lt;/y&gt;
-    &lt;/hint&gt;
-   &lt;/hints&gt;
-  &lt;/connection&gt;
- &lt;/connections&gt;
-&lt;/ui&gt;

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/ResampleFps/ADM_vidResampleFPS.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/ResampleFps/ADM_vidResampleFPS.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/ResampleFps/ADM_vidResampleFPS.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,343 +0,0 @@
-/***************************************************************************
-                          Resample fps
-                             -------------------
-    begin                : Wed Nov 6 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include &lt;math.h&gt;
-
-#include &quot;ADM_default.h&quot;
-#include &quot;ADM_videoFilterDynamic.h&quot;
-#include &quot;DIA_enter.h&quot;
-#include &quot;DIA_factory.h&quot;
-
-static FILTER_PARAM ResampParam={2,{&quot;newfps&quot;,&quot;use_linear&quot;}};
-typedef struct FPS_Param
-{
-  uint32_t  newfps; 
-  uint32_t  use_linear;
-}FPS_Param;
-class  ADMVideoResampleFPS:public AVDMGenericVideoStream
-{
-
-  protected:
-    AVDMGenericVideoStream  *_in;           
-    virtual char            *printConf(void);
-            FPS_Param       *_param;    
-            VideoCache      *vidCache; 
-  public:
-                
-                        ADMVideoResampleFPS(  AVDMGenericVideoStream *in,CONFcouple *setup);
-                        ADMVideoResampleFPS(  AVDMGenericVideoStream *in,uint32_t target1000);
-    virtual             ~ADMVideoResampleFPS();
-    virtual uint8_t     configure(AVDMGenericVideoStream *in);
-    virtual uint8_t     getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-                                          ADMImage *data,uint32_t *flags);
-
-             uint8_t     getCoupledConf( CONFcouple **couples);
-}     ;
-//***********************************
-VF_DEFINE_FILTER(ADMVideoResampleFPS,ResampParam,
-                resamplefps,
-                QT_TR_NOOP(&quot;Resample fps&quot;),
-                1,
-                VF_TRANSFORM,
-                QT_TR_NOOP(&quot;Change framerate while keeping duration.&quot;));
-//***********************************
-
-AVDMGenericVideoStream *createResampleFps(AVDMGenericVideoStream *in,uint32_t targetfps1000)
-{
-  return new ADMVideoResampleFPS(in,targetfps1000);
-}
-
-uint8_t ADMVideoResampleFPS::configure(AVDMGenericVideoStream *in)
-{
-  float f=_param-&gt;newfps; 
-  f/=1000;
-  
-  _in=in;
-  
-    diaElemFloat fps(&amp;f,QT_TR_NOOP(&quot;_New frame rate:&quot;),1,200.);
-    diaElemToggle blend(&amp;(_param-&gt;use_linear),QT_TR_NOOP(&quot;_Blend&quot;));
-    
-    diaElem *elems[2]={&amp;fps,&amp;blend};
-  
-    if( diaFactoryRun(QT_TR_NOOP(&quot;Resample fps&quot;),2,elems))
-    {
-        f*=1000;
-      _param-&gt;newfps=(uint32_t)floor(f+0.4); 
-      _info.fps1000=_param-&gt;newfps;
-      return 1;
-    }
-    return 0;
-}
-char *ADMVideoResampleFPS::printConf( void )
-{
- ADM_FILTER_DECLARE_CONF(&quot; Resample to %2.2f fps (blend:%d)&quot;,(double)_param-&gt;newfps/1000.,
-                _param-&gt;use_linear);
-  
-}
-
-ADMVideoResampleFPS::ADMVideoResampleFPS(  AVDMGenericVideoStream *in,uint32_t target)
-{
-
-  _in=in;         
-  memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));    
-  _info.encoding=1; 
-  _param=new  FPS_Param;
-   
-    _param-&gt;newfps =target;                
-    _param-&gt;use_linear=1;
- 
-  double newlength;
-  
-  newlength=_info.nb_frames;
-  newlength/=_info.fps1000;
-  newlength*=_param-&gt;newfps;
-  _info.nb_frames=(uint32_t)floor(newlength);
-  _info.fps1000=_param-&gt;newfps;
-  printf(&quot;[Resample FPS] %u -&gt; %u\n&quot;,_in-&gt;getInfo()-&gt;nb_frames,_info.nb_frames);
-  vidCache=new VideoCache(3,_in);
-
-}
-
-ADMVideoResampleFPS::ADMVideoResampleFPS(  AVDMGenericVideoStream *in,CONFcouple *couples)
-{
-  
-  _in=in;         
-  memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));    
-  _info.encoding=1; 
-  _param=new  FPS_Param;
-   
-  if(couples)
-  {                 
-    GET(newfps);    
-    GET(use_linear); 
-  }
-  else
-  {
-    _param-&gt;newfps =_info.fps1000;                
-    _param-&gt;use_linear=0;
-  }      
- 
-  double newlength;
-  
-  newlength=_info.nb_frames;
-  newlength/=_info.fps1000;
-  newlength*=_param-&gt;newfps;
-  _info.nb_frames=(uint32_t)floor(newlength);
-  _info.fps1000=_param-&gt;newfps;
-  vidCache=new VideoCache(3,_in);
-  
-}
-ADMVideoResampleFPS::~ADMVideoResampleFPS()
-{
-  delete _param;
-  delete vidCache;
-  
-}
-uint8_t ADMVideoResampleFPS::getCoupledConf( CONFcouple **couples)
-{
-  ADM_assert(_param);
-  *couples=new CONFcouple(2);
-
-
-                CSET(newfps);
-                CSET(use_linear);
-                return 1;
-}
-#ifdef ADM_CPU_X86
-static uint64_t FUNNY_MANGLE(low) , FUNNY_MANGLE(high);
-static void blendMMX(uint8_t *src, uint8_t *src2, uint8_t *dst, uint8_t alpha, uint8_t beta,uint32_t count)
-{
-uint32_t left=count&amp;3;
-#define EXPAND(x) (x)+((x)&lt;&lt;16)+((x)&lt;&lt;32) +((x)&lt;&lt;48)
-        high=alpha;
-        low=beta;
-        high=EXPAND(high);
-        low=EXPAND(low);
-        count&gt;&gt;=2;
-#ifdef GCC_2_95_X
-         __asm__ __volatile__ (
-                                &quot;movq &quot;Mangle(high)&quot;, %mm0\n&quot;
-                                &quot;movq &quot;Mangle(low)&quot;,  %mm1\n&quot;                                
-                                &quot;pxor %mm7        ,  %mm7\n&quot;
-                                :: );
-#else
-         __asm__ __volatile__ (
-                                &quot;movq &quot;Mangle(high)&quot;, %%mm0\n&quot;
-                                &quot;movq &quot;Mangle(low)&quot;,  %%mm1\n&quot;                                
-                                &quot;pxor %%mm7        ,  %%mm7\n&quot;
-                                :: );
-#endif
-
-        while(count&gt;0)
-        {
-                __asm__ __volatile__ (
-                               
-                                &quot;movd      (%0),  %%mm2\n&quot;
-                                &quot;movd      (%1),  %%mm3\n&quot;                               
-
-                                &quot;punpcklbw %%mm7, %%mm2\n&quot;
-                                &quot;punpcklbw %%mm7, %%mm3\n&quot;
-
-                                &quot;pmullw   %%mm0, %%mm2\n&quot;
-                                &quot;pmullw   %%mm1, %%mm3\n&quot;
-                
-                                &quot;paddw    %%mm3, %%mm2\n&quot;
-
-                                &quot;psrlw    $8,    %%mm2 \n&quot;
-
-                                &quot;packuswb %%mm2,%%mm2\n&quot;
-                                &quot;movd     %%mm2, (%2)\n&quot;
-
-                                :: &quot;r&quot; (src), &quot;r&quot; (src2), &quot;r&quot; (dst) );
-                                
-                src+=4;
-                src2+=4;
-                dst+=4;
-                count--;
-        }
-        __asm__ __volatile__ (
-                                &quot;emms\n&quot;
-                                :: );
-        for(uint32_t i=0;i&lt;left;i++)
-        {
-                dst[i] = ((src[i]*alpha) + (src2[i]*beta))&gt;&gt;8;
-        }
-}
-
-#endif
-
-uint8_t ADMVideoResampleFPS::getFrameNumberNoAlloc(uint32_t frame,
-                                             uint32_t *len,
-                                             ADMImage *data,
-                                             uint32_t *flags)
-{
-  ADMImage *mysrc1=NULL;
-  ADMImage *mysrc2=NULL;
-
-  if(frame&gt;=_info.nb_frames) return 0;
-  // read uncompressed frame
-  
-  // What frame are we seeking ?
-  double f;
-  uint32_t page=_info.width*_info.height;
-  
-  f=frame;
-  f*=_in-&gt;getInfo()-&gt;fps1000;
-  f/=_param-&gt;newfps;
-  
-  if(!_param-&gt;use_linear)
-  {
-      uint32_t nw;
-      
-      nw=(uint32_t)floor(f+0.4);
-      if(nw&gt;_in-&gt;getInfo()-&gt;nb_frames-1)
-        nw=_in-&gt;getInfo()-&gt;nb_frames-1;
-    
-      mysrc1=vidCache-&gt;getImage(nw);
-      if(!mysrc1) return 0;
-      
-      memcpy(YPLANE(data),YPLANE(mysrc1),page);
-      memcpy(UPLANE(data),UPLANE(mysrc1),page&gt;&gt;2);
-      memcpy(VPLANE(data),VPLANE(mysrc1),page&gt;&gt;2);
-    
-      vidCache-&gt;unlockAll();
-      
-      return 1;
-  }
-  /* With linear blending */
-  uint32_t nw;
-  uint8_t lowweight;
-  uint8_t highweight;
-  
-  double diff;
-  
-  nw=(uint32_t)floor(f);
-  diff=f-floor(f);
-  highweight = (uint8_t)floor(diff*256);
-  lowweight = 256 - highweight;
-
-  if(nw&gt;=_in-&gt;getInfo()-&gt;nb_frames-1)
-    {
-      printf(&quot;[ResampleFps] In %u Out %u\n&quot;,frame,nw);
-      nw=_in-&gt;getInfo()-&gt;nb_frames-1;
-      highweight=0;
-    }
-  //printf(&quot;New:%lu old:%lu\n&quot;,frame,nw);
-
-  if(highweight == 0)
-    {
-      mysrc1=vidCache-&gt;getImage(nw);  
-      if(!mysrc1) return 0;
-      
-      memcpy(YPLANE(data),YPLANE(mysrc1),page);
-      memcpy(UPLANE(data),UPLANE(mysrc1),page&gt;&gt;2);
-      memcpy(VPLANE(data),VPLANE(mysrc1),page&gt;&gt;2);
-      
-      vidCache-&gt;unlockAll();
-    }
-  else
-    {
-      mysrc1=vidCache-&gt;getImage(nw);
-      mysrc2=vidCache-&gt;getImage(nw+1);
-      if(!mysrc1 || !mysrc2) return 0;
-      
-      uint8_t *out, *in1, *in2;
-      uint32_t count;
-      uint32_t idx;
-      
-      out = YPLANE(data);
-      in1 = YPLANE(mysrc1);
-      in2 = YPLANE(mysrc2);
-        
-      count = page;
-
-#ifdef ADM_CPU_X86
-        if(CpuCaps::hasMMX())
-                blendMMX(in1,in2,out,lowweight,highweight,(count*3)&gt;&gt;1);
-        else
-#endif
-      {
-      for(idx = 0; idx &lt; count; ++idx)
-	out[idx] = ((in1[idx]*lowweight) + (in2[idx]*highweight))&gt;&gt;8;
-
-      out = UPLANE(data);
-      in1 = UPLANE(mysrc1);
-      in2 = UPLANE(mysrc2);
-      count = page&gt;&gt;2;
-
-      for(idx = 0; idx &lt; count; ++idx)
-        out[idx] = ((in1[idx]*lowweight) + (in2[idx]*highweight))&gt;&gt;8;      
-
-
-      out = VPLANE(data);
-      in1 = VPLANE(mysrc1);
-      in2 = VPLANE(mysrc2);
-      count = page&gt;&gt;2;
-
-      for(idx = 0; idx &lt; count; ++idx)
-	out[idx] = ((in1[idx]*lowweight) + (in2[idx]*highweight))&gt;&gt;8;
-      }
-
-      vidCache-&gt;unlockAll();
-    }
-  return 1;
- 
-}
-
-
-
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/ResampleFps/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/ResampleFps/CMakeLists.txt	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/ResampleFps/CMakeLists.txt	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,9 +0,0 @@
-INCLUDE(vf_plugin)
-
-
-SET(ADM_vf_resampleFps_SRCS ADM_vidResampleFPS.cpp)
-
-ADD_LIBRARY(ADM_vf_resampleFps SHARED ${ADM_vf_resampleFps_SRCS})
-
-INIT_VIDEOFILTER_PLUGIN(ADM_vf_resampleFps)
-INSTALL_VIDEOFILTER(ADM_vf_resampleFps)

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Rotate/ADM_vidRotate.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Rotate/ADM_vidRotate.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Rotate/ADM_vidRotate.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,282 +0,0 @@
-/***************************************************************************
-                          ADM_vidRotate.cpp  -  description
-                             -------------------
-    begin                : Sat Jan 8 2003
-    copyright            : (C) 2003 by Tracy Harton
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">tracy at amphibious.org</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include &quot;ADM_default.h&quot;
-#include &quot;ADM_videoFilterDynamic.h&quot;
-#include &quot;DIA_factory.h&quot;
-
-typedef struct ROTATE_PARAM
-{
-  uint32_t width;
-  uint32_t height;
-  uint32_t angle;
-}ROTATE_PARAM;
-
-class  ADMVideoRotate:public AVDMGenericVideoStream
-{
-
- protected:
-  virtual char                  *printConf(void);
-  ROTATE_PARAM                  *_param;
-
- public:
-                  ADMVideoRotate(AVDMGenericVideoStream *in, CONFcouple *setup);
-  virtual         ~ADMVideoRotate();
-  virtual uint8_t configure( AVDMGenericVideoStream *instream) ;
-  virtual uint8_t getFrameNumberNoAlloc(uint32_t frame, uint32_t *len, ADMImage *data,uint32_t *flags);
-  virtual uint8_t	getCoupledConf( CONFcouple **couples)				;
- }     ;
-
-static FILTER_PARAM rotpParam={3,{&quot;width&quot;,&quot;height&quot;,&quot;angle&quot;}};
-
-
-//********** Register chunk ************
-static FILTER_PARAM flipParam={0,{&quot;&quot;}};
-
-//REGISTERX(VF_TRANSFORM, &quot;rotate&quot;,QT_TR_NOOP(&quot;Rotate&quot;),QT_TR_NOOP(
-//    &quot;Rotate the picture by 90, 180 or 270 degrees.&quot;),VF_ROTATE,1,rotate_create,rotate_script);
-VF_DEFINE_FILTER(ADMVideoRotate,flipParam,
-                                rotate,
-                                QT_TR_NOOP(&quot;Rotate&quot;),
-                                1,
-                                VF_TRANSFORM,
-                                QT_TR_NOOP(&quot;Rotate the picture by 90, 180 or 270 degrees.&quot;));
-//************************************
-
-static void do_rotate(ADMImage *source,ADMImage *target,uint32_t angle);
-
-char *ADMVideoRotate::printConf( void )
-{
-  ADM_FILTER_DECLARE_CONF(&quot; Rotate %u degrees&quot;, _param-&gt;angle);
-  
-}
-
-ADMVideoRotate::ADMVideoRotate(AVDMGenericVideoStream *in, CONFcouple *couples)
-{
-  _in=in;		
-
-  memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info)); 
-  _info.encoding=1;
-
- // _uncompressed=new uint8_t [3*_in-&gt;getInfo()-&gt;width*_in-&gt;getInfo()-&gt;height];
- 
-
-  if(couples)
-  {
-   	 _param=NEW(ROTATE_PARAM);
-	GET(width);
-	GET(height);
-	GET(angle);
-	_info.width=_param-&gt;width;
-	_info.height=_param-&gt;height;
-
-  }
-  else
-  {
-    _param = NEW( ROTATE_PARAM);
-    printf(&quot;New Angle 0.0\n&quot;);
-    _param-&gt;angle = 0;
-    _param-&gt;width = _info.width;
-    _param-&gt;height = _info.height;
-  }
- _uncompressed=new ADMImage(_in-&gt;getInfo()-&gt;width,_in-&gt;getInfo()-&gt;height);
-  printf(&quot;New Rotate %ld %ld %f\n&quot;, _info.width, _info.height, _param-&gt;angle);
-  ADM_assert(_uncompressed);    	  	
-
-}
-
-
-
-uint8_t	ADMVideoRotate::getCoupledConf( CONFcouple **couples)
-{
-
-			ADM_assert(_param);
-			*couples=new CONFcouple(3);
-
-#define CSET(x)  (*couples)-&gt;setCouple((char *)#x,(_param-&gt;x))
-			CSET(width);
-			CSET(height);
-			CSET(angle);
-
-			return 1;
-
-}
-
-
-ADMVideoRotate::~ADMVideoRotate()
-{
- 	delete  _uncompressed;
-	_uncompressed=NULL;
-	DELETE(_param);
-}
-uint8_t ADMVideoRotate::getFrameNumberNoAlloc(uint32_t frame,
-                                              uint32_t *len,
-                                              ADMImage *data,
-                                              uint32_t *flags)
-{
- if(frame&gt;= _info.nb_frames) return 0;
-								
-  // read uncompressed frame
-  if(!_in-&gt;getFrameNumberNoAlloc(frame, len, _uncompressed, flags)) return 0;
-
-  
-  do_rotate(_uncompressed,data,_param-&gt;angle);
-
-  //printf(&quot;%ld,%ld\n&quot;, _info.width, _info.height);
-
-  *flags=_uncompressed-&gt;flags;
-  *len= (_info.width * _info.height) + ((_info.width * _info.height) / 2);
-   data-&gt;copyInfo(_uncompressed);	
-  return 1;
-}
-
-void do_rotate(ADMImage *source,ADMImage *target,uint32_t angle)
-{
-uint8_t *in;
-uint32_t in_w,in_h;
-
-in=source-&gt;data;
-in_w=source-&gt;_width;
-in_h=source-&gt;_height;
-
-uint32_t x, y;
-uint32_t u_offset = (in_w * in_h);
-uint32_t v_offset = u_offset + (in_w/2 * in_h/2);
-uint32_t in_sub_w = in_w/2;
-uint32_t in_sub_h = in_h/2;
-uint32_t out_sub_w, out_sub_h;
-
-uint8_t *out=target-&gt;data;
-uint32_t *out_w=&amp;(target-&gt;_width);
-uint32_t *out_h=&amp;(target-&gt;_height);
-
-ADM_assert(in_w*in_h==(*out_w)*(*out_h));
-
-// In general, for 0 &lt;= i &lt; width and 0 &lt;= j &lt; height, the pixel (x + i, y + j) is colored with red value 
-// red value   rgb_buf[(j * rowstride) + (i * 3) + 0], 
-// green value rgb_buf[(j * rowstride) + (i * 3) + 1], 
-// blue value  rgb_buf[(j * rowstride) + (i * 3) + 2].
-
-        switch(angle)
-        {
-        case 0:
-                *out_w = in_w;
-                *out_h = in_h;
-                out_sub_w = *out_w/2;
-                out_sub_h = *out_h/2;
-            
-                for(x = 0; x &lt; *out_w; x++)
-                for(y = 0; y &lt; *out_h; y++)
-                    *(out + (*out_w * y) + x) = *(in + (in_w * y) + x);
-            
-                for(x = 0; x &lt; out_sub_w; x++)
-                for(y = 0; y &lt; out_sub_h; y++)
-                {
-                    *(out + u_offset + (out_sub_w * y) + x) = *(in + u_offset + (in_sub_w * y) + x);
-                    *(out + v_offset + (out_sub_w * y) + x) = *(in + v_offset + (in_sub_w * y) + x);
-                }
-                break;
-        case 90:
-        {
-            *out_w = in_h;
-            *out_h = in_w;
-            out_sub_w = *out_w/2;
-            out_sub_h = *out_h/2;
-        
-            for(x = 0; x &lt; *out_w; x++)
-            for(y = 0; y &lt; *out_h; y++)
-                *(out + (*out_w * y) + x) = *(in + (in_w * (in_h-x-1)) + y);
-        
-            for(x = 0; x &lt; out_sub_w; x++)
-            for(y = 0; y &lt; out_sub_h; y++)
-            {
-                *(out + u_offset + (out_sub_w * y) + x) = *(in + u_offset + (in_sub_w * (in_sub_h-x-1)) + y);
-                *(out + v_offset + (out_sub_w * y) + x) = *(in + v_offset + (in_sub_w * (in_sub_h-x-1)) + y);
-            }
-        }
-        break;
-        case 180:
-        {
-            *out_w = in_w;
-            *out_h = in_h;
-            out_sub_w = *out_w/2;
-            out_sub_h = *out_h/2;
-        
-            for(x = 0; x &lt; *out_w; x++)
-            for(y = 0; y &lt; *out_h; y++)
-                *(out + (*out_w * y) + x) = *(in + (in_w * (in_h-y-1)) + in_w-x-1);
-        
-        
-            for(x = 0; x &lt; out_sub_w; x++)
-            for(y = 0; y &lt; out_sub_h; y++)
-                {
-                *(out + u_offset + (out_sub_w * y) + x) = *(in + u_offset + (in_sub_w * (in_sub_h-y-1)) + in_sub_w-x-1);
-                *(out + v_offset + (out_sub_w * y) + x) = *(in + v_offset + (in_sub_w * (in_sub_h-y-1)) + in_sub_w-x-1);
-                }
-        }
-            break;
-        case 270:
-        {
-            *out_w = in_h;
-            *out_h = in_w;
-            out_sub_w = *out_w/2;
-            out_sub_h = *out_h/2;
-        
-            for(x = 0; x &lt; *out_w; x++)
-            for(y = 0; y &lt; *out_h; y++)
-                *(out + (*out_w * y) + x) = *(in + (in_w * x) + (in_w-y-1));
-        
-            for(x = 0; x &lt; out_sub_w; x++)
-            for(y = 0; y &lt; out_sub_h; y++)
-            {
-                *(out + u_offset + (out_sub_w * y) + x) = *(in + u_offset + (in_sub_w * x) + (in_sub_w-y-1));
-                *(out + v_offset + (out_sub_w * y) + x) = *(in + v_offset + (in_sub_w * x) + (in_sub_w-y-1));
-            }
-        }
-        break;
-        default:
-            ADM_assert(0);
-        }
-}
-uint8_t ADMVideoRotate::configure( AVDMGenericVideoStream *instream)
-{
-  uint8_t r;
-  
-  diaMenuEntry rotateValues[]={
-      {0,QT_TR_NOOP(&quot;None&quot;),QT_TR_NOOP(&quot;None&quot;)},
-      {90,QT_TR_NOOP(&quot;90 degrees&quot;),QT_TR_NOOP(&quot;90&#176;&quot;)},
-      {180,QT_TR_NOOP(&quot;180 degrees&quot;),QT_TR_NOOP(&quot;180&#176;&quot;)},
-      {270,QT_TR_NOOP(&quot;270 degrees&quot;),QT_TR_NOOP(&quot;270&#176;&quot;)}
-  };
-  diaElemMenu     rotate(&amp;(_param-&gt;angle),QT_TR_NOOP(&quot;_Angle:&quot;),4,rotateValues,NULL);
-  diaElem *allWidgets[]={&amp;rotate};
-  if( !diaFactoryRun(QT_TR_NOOP(&quot;Rotate&quot;),1,allWidgets)) return 0;
-  
-  uint32_t w,h;
-  w=_in-&gt;getInfo()-&gt;width;
-  h=_in-&gt;getInfo()-&gt;height;
-  if((_param-&gt;angle%180)==90)
-  {
-    _info.width=_param-&gt;width=h;
-    _info.height=_param-&gt;height=w;
-  }else
-  {
-      _info.width=_param-&gt;width=w;
-      _info.height=_param-&gt;height=h;
-  }
-  return 1;
-}
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Rotate/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Rotate/CMakeLists.txt	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/Rotate/CMakeLists.txt	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,9 +0,0 @@
-INCLUDE(vf_plugin)
-
-
-SET(ADM_vf_rotate_SRCS ADM_vidRotate.cpp)
-
-ADD_LIBRARY(ADM_vf_rotate SHARED ${ADM_vf_rotate_SRCS})
-
-INIT_VIDEOFILTER_PLUGIN(ADM_vf_rotate)
-INSTALL_VIDEOFILTER(ADM_vf_rotate)

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/SwapUV/ADM_vidUVSwap.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/SwapUV/ADM_vidUVSwap.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/SwapUV/ADM_vidUVSwap.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,86 +0,0 @@
-/***************************************************************************
-                          ADM_vidUVSwap.cpp  -  description
-                             -------------------
-    begin                : Tue Sep 10 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include &quot;ADM_default.h&quot;
-#include &quot;ADM_videoFilterDynamic.h&quot;
-#include &quot;ADM_vidUVSwap.h&quot;
-
-
-static FILTER_PARAM nullParam={0,{&quot;&quot;}};
-
-
-VF_DEFINE_FILTER(ADMVideoUVSwap,nullParam,
-                swapuv,
-                QT_TR_NOOP(&quot;Swap U and V&quot;),
-                1,
-                VF_COLORS,
-                QT_TR_NOOP(&quot;Invert chroma U and chroma V.&quot;));
-//*********************************
-char *ADMVideoUVSwap::printConf( void )
-{
- 	ADM_FILTER_DECLARE_CONF(&quot; UV Swap&quot;);
-        
-}
-
-ADMVideoUVSwap::ADMVideoUVSwap(  AVDMGenericVideoStream *in,CONFcouple *setup)
-{
-UNUSED_ARG(setup);
-	_buf=NULL;
- 	_in=in;
-   	memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));
-
-		
-  _info.encoding=1;
- _buf=new uint8_t [(_info.width*_info.height)&gt;&gt;2];
-
-
-}
-ADMVideoUVSwap::~ADMVideoUVSwap()
-{
-		if(_buf)
-		{
-            		delete []_buf;
-			_buf=NULL;
-		}
-}
-uint8_t ADMVideoUVSwap::getFrameNumberNoAlloc(uint32_t frame,
-				uint32_t *len,
-   				ADMImage *data,
-				uint32_t *flags)
-{
-
-		if(frame&gt;= _info.nb_frames) return 0;
-		// read uncompressed frame
-       		if(!_in-&gt;getFrameNumberNoAlloc(frame, len,data,flags)) return 0;
-
-		uint32_t sz;
-		uint8_t *start;
-					
-			sz=_info.width*_info.height;
-			sz&gt;&gt;=2;
-				
-			start=UPLANE(data);
-			memcpy(_buf,start,sz);
-					
-			memcpy(UPLANE(data),VPLANE(data),sz);
-			memcpy(VPLANE(data),_buf,sz);
-			
-
-
-      return 1;
-}
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/SwapUV/ADM_vidUVSwap.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/SwapUV/ADM_vidUVSwap.h	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/SwapUV/ADM_vidUVSwap.h	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,37 +0,0 @@
-/***************************************************************************
-                          ADM_vidUVSwap.h  -  description
-                             -------------------
-    begin                : Tue Sep 10 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#ifndef UVSWAP_
-#define UVSWAP_
-
- class  ADMVideoUVSwap:public AVDMGenericVideoStream
- {
-
- protected:
-
-           virtual 	char					*printConf(void);
-			uint8_t				*_buf;
-
- public:
-
-  						ADMVideoUVSwap(  AVDMGenericVideoStream *in,CONFcouple *setup);
-  			virtual 		~ADMVideoUVSwap();
-		        virtual uint8_t 	getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-          							ADMImage *data,uint32_t *flags);
-			virtual uint8_t 	configure( AVDMGenericVideoStream *instream) { UNUSED_ARG(instream); return 1;};
-
- }     ;
-#endif

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/SwapUV/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/SwapUV/CMakeLists.txt	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/SwapUV/CMakeLists.txt	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,9 +0,0 @@
-INCLUDE(vf_plugin)
-
-
-SET(ADM_vf_swapuv_SRCS ADM_vidUVSwap.cpp)
-
-ADD_LIBRARY(ADM_vf_swapuv SHARED ${ADM_vf_swapuv_SRCS})
-
-INIT_VIDEOFILTER_PLUGIN(ADM_vf_swapuv)
-INSTALL_VIDEOFILTER(ADM_vf_swapuv)

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/VerticalFlip/ADM_vidFlipV.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/VerticalFlip/ADM_vidFlipV.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/VerticalFlip/ADM_vidFlipV.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,130 +0,0 @@
-/***************************************************************************
-                          ADM_vidFlipV.cpp  -  description
-                             -------------------
-    begin                : Wed Nov 6 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include &quot;ADM_default.h&quot;
-#include &quot;ADM_videoFilterDynamic.h&quot;
-//********** Class Definition ************
- class ADMVideoFlipV : public AVDMGenericVideoStream 
- {
-
-protected:
-	AVDMGenericVideoStream *_in;
-	virtual char *printConf(void);
-
-public:
-
-	ADMVideoFlipV(AVDMGenericVideoStream *in, CONFcouple *setup);
-	virtual ~ADMVideoFlipV();
-	virtual uint8_t getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-			ADMImage *data, uint32_t *flags);
-	virtual uint8_t configure(AVDMGenericVideoStream *instream) 
-	{
-		UNUSED_ARG(instream);
-		return 1;
-	};
-};
-
-//********** Register chunk ************
-static FILTER_PARAM flipParam={0,{&quot;&quot;}};
-
-
-VF_DEFINE_FILTER(ADMVideoFlipV,flipParam,
-				flipV,
-				QT_TR_NOOP(&quot;Vertical flip&quot;),
-				1,
-				VF_TRANSFORM,
-				QT_TR_NOOP(&quot;Vertically flip the picture.&quot;));
-//************************************
-char *ADMVideoFlipV::printConf( void )
-{
- 	ADM_FILTER_DECLARE_CONF(&quot; V-Flip&quot;);
-        
-}
-
-ADMVideoFlipV::ADMVideoFlipV(  AVDMGenericVideoStream *in,CONFcouple *setup)
-{
-    UNUSED_ARG(setup);
- 	_in=in;		
-   	memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info)); 	
-  	_info.encoding=1;	
-	_uncompressed=new ADMImage(_in-&gt;getInfo()-&gt;width,_in-&gt;getInfo()-&gt;height);
-	ADM_assert(_uncompressed);    	  	
-}
-ADMVideoFlipV::~ADMVideoFlipV()
-{
- 	delete  _uncompressed;	
-	_uncompressed=NULL;
-  
-}
-uint8_t ADMVideoFlipV::getFrameNumberNoAlloc(uint32_t frame,
-				uint32_t *len,
-   				ADMImage *data,
-				uint32_t *flags)
-{
-
-	if (frame&gt;= _info.nb_frames)
-		return 0;
-	// read uncompressed frame
-	if (!_in-&gt;getFrameNumberNoAlloc(frame, len, _uncompressed, flags))
-		return 0;
-
-	uint8_t *in, *out;
-	uint32_t stride=_info.width;
-	uint32_t h=_info.height;
-	uint32_t page, qpage;
-
-	page=stride*h;
-	qpage=page&gt;&gt;2;
-
-	in=YPLANE(_uncompressed);
-	out=YPLANE(data)+(h-1)*stride;
-	// flip y
-	for (uint32_t y=h; y&gt;0; y--) 
-	{
-		memcpy(out,in,stride);
-		in+=stride;
-		out-=stride;
-	}
-	// Flip U &amp; V			         
-	stride&gt;&gt;=1;
-	in=UPLANE(_uncompressed);
-	out=UPLANE(data)+qpage-stride;
-	// flip u
-	for (uint32_t y=h&gt;&gt;1; y&gt;0; y--) 
-	{
-		memcpy(out,in,stride);
-		in+=stride;
-		out-=stride;
-	}
-	in=VPLANE(_uncompressed);
-	out=VPLANE(data)+qpage-stride;
-
-	// flip u
-	for (uint32_t y=h&gt;&gt;1; y&gt;0; y--)
-	{
-		memcpy(out,in,stride);
-		in+=stride;
-		out-=stride;
-	}
-	data-&gt;copyInfo(_uncompressed);
-	return 1;
-}
-//EOF
-
-
-
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/VerticalFlip/ADM_vidFlipV.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/VerticalFlip/ADM_vidFlipV.h	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/VerticalFlip/ADM_vidFlipV.h	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,37 +0,0 @@
-/***************************************************************************
-                          ADM_vidFlipV.h  -  description
-                             -------------------
-    begin                : Wed Nov 6 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#ifndef FLIP__
-#define FLIP__
-
- class  ADMVideoFlipV:public AVDMGenericVideoStream
- {
-
- protected:
-    		AVDMGenericVideoStream 	*_in;    	
-           virtual char 									*printConf(void);
-          
- public:
- 		
-  					ADMVideoFlipV(  AVDMGenericVideoStream *in,CONFcouple *setup);
-  					virtual ~ADMVideoFlipV();
-		          virtual uint8_t getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-          																	ADMImage *data,uint32_t *flags);
-					virtual uint8_t configure( AVDMGenericVideoStream *instream) { UNUSED_ARG(instream); return 1;};          																	
-
-
- }     ;
-#endif

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/VerticalFlip/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/VerticalFlip/CMakeLists.txt	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/VerticalFlip/CMakeLists.txt	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,9 +0,0 @@
-INCLUDE(vf_plugin)
-
-
-SET(ADM_vf_vflip_SRCS ADM_vidFlipV.cpp)
-
-ADD_LIBRARY(ADM_vf_vflip SHARED ${ADM_vf_vflip_SRCS})
-
-INIT_VIDEOFILTER_PLUGIN(ADM_vf_vflip)
-INSTALL_VIDEOFILTER(ADM_vf_vflip)

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/lavDeinterlace/ADM_lavpp_deint.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/lavDeinterlace/ADM_lavpp_deint.cpp	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/lavDeinterlace/ADM_lavpp_deint.cpp	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,290 +0,0 @@
-//
-// C++ Implementation: %{MODULE}
-//
-// Description: 
-//
-//
-// Author: %{AUTHOR} &lt;%{EMAIL}&gt;, (C) %{YEAR}
-//
-// Copyright: See COPYING file that comes with this distribution
-//
-//  Small wrapper for lavcodec deinterlacer postprocessing
-
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include &lt;math.h&gt;
-#include &quot;ADM_default.h&quot;
-#include &quot;ADM_videoFilterDynamic.h&quot;
-
-#include &quot;DIA_fileSel.h&quot;
-
-#include &quot;ADM_colorspace.h&quot;
-
-#include &quot;ADM_lavpp_deintparam.h&quot;
-extern &quot;C&quot;
-{
-#include &quot;ADM_libraries/ADM_ffmpeg/ADM_libpostproc/postprocess.h&quot;
-};
-#include &quot;DIA_factory.h&quot;
-/*
-{&quot;al&quot;, &quot;autolevels&quot;,            0, 1, 2, LEVEL_FIX},
-{&quot;lb&quot;, &quot;linblenddeint&quot;,         1, 1, 4, LINEAR_BLEND_DEINT_FILTER},
-{&quot;li&quot;, &quot;linipoldeint&quot;,          1, 1, 4, LINEAR_IPOL_DEINT_FILTER},
-{&quot;ci&quot;, &quot;cubicipoldeint&quot;,        1, 1, 4, CUBIC_IPOL_DEINT_FILTER},
-{&quot;md&quot;, &quot;mediandeint&quot;,           1, 1, 4, MEDIAN_DEINT_FILTER},
-{&quot;fd&quot;, &quot;ffmpegdeint&quot;,           1, 1, 4, FFMPEG_DEINT_FILTER},
-{&quot;tn&quot;, &quot;tmpnoise&quot;,              1, 7, 8, TEMP_NOISE_FILTER},
-
-{&quot;fq&quot;, &quot;forcequant&quot;,            1, 0, 0, FORCE_QUANT}, *******************
-{&quot;l5&quot;, &quot;lowpass5&quot;,              1, 1, 4, LOWPASS5_DEINT_FILTER}, *********
-*/
-
-#define AVI_KEY_FRAME 0x10  // FIXME
-#define AVI_B_FRAME 0x4000
-
-
-class  ADMVideoLavPPDeint:public AVDMGenericVideoStream
-{
-
-  protected:
-    virtual char                    *printConf(void);
-    void                            *ppcontext;
-    void                            *ppmode;
-    ADMImage                        *uncompressed;
-    lavc_pp_param                   *_param;
-    
-    void                            setup( void );
-    void                            cleanup( void );
-  public:
-    
-    
-    ADMVideoLavPPDeint(  AVDMGenericVideoStream *in,CONFcouple *setup);
-    ~ADMVideoLavPPDeint();
-    virtual uint8_t getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-                                          ADMImage *data,uint32_t *flags);
-    virtual uint8_t getCoupledConf( CONFcouple **couples)           ;
-    virtual uint8_t configure( AVDMGenericVideoStream *instream);
-                                                        
-};
-
-
-static FILTER_PARAM lavppdeint_param={2,{&quot;deintType&quot;,&quot;autolevel&quot;}};
-//*************************************************************
-//
-
-//*************************************************************
-//********** Register chunk ************
-//REGISTERX(VF_INTERLACING, &quot;lavcppdeint&quot;,QT_TR_NOOP(&quot;libavcodec deinterlacer&quot;),
-//    QT_TR_NOOP(&quot;All FFmpeg deinterlace filters (bicubic, median, ...).&quot;),VF_LAVPP_DEINT,1,lavppdeint_create,lavppdeint_script);
-
-VF_DEFINE_FILTER(ADMVideoLavPPDeint,lavppdeint_param,
-    lavcppdeint,
-                QT_TR_NOOP(&quot;libavcodec deinterlacer&quot;),
-                1,
-                VF_INTERLACING,
-                QT_TR_NOOP(&quot;All FFmpeg deinterlace filters (bicubic, median, ...).&quot;));
-//********** Register chunk ************
-
-
-
-//*************************************************************
-uint8_t ADMVideoLavPPDeint::configure(AVDMGenericVideoStream *in)
-{
-
-  #define PX(x) &amp;(_param-&gt;x)
-  _in=in;
-  
-  
-   diaMenuEntry menuField[6]={{PP_BM_NONE,        QT_TR_NOOP(&quot;None&quot;),NULL},
-                             {PP_BM_LINEAR_BLEND, QT_TR_NOOP(&quot;Linear blend&quot;),NULL},
-                             {PP_BM_LINEAR_INTER, QT_TR_NOOP(&quot;Linear interpolate&quot;),NULL},
-                             {PP_BM_CUBIC_INTER, QT_TR_NOOP(&quot;Cubic interpolate&quot;),NULL},
-                             {PP_BM_MEDIAN_INTER, QT_TR_NOOP(&quot;Median interpolate&quot;),NULL},
-                             {PP_BM_FFMPEG_DEINT, QT_TR_NOOP(&quot;FFmpeg deint&quot;),NULL},
-                          };
-  
-    
-    diaElemMenu     menu1(PX(deintType),QT_TR_NOOP(&quot;_Deinterlacing:&quot;), 6,menuField);
-    diaElemToggle   autolevel(PX(autolevel),QT_TR_NOOP(&quot;_Autolevel&quot;));
-    
-    diaElem *elems[2]={&amp;menu1,&amp;autolevel};
-  
-   if(diaFactoryRun(QT_TR_NOOP(&quot;libavcodec deinterlacer&quot;),2,elems))
-  {
-    setup();
-    return 1; 
-  }
-  return 0;        
-}
- 
-//*************************************************************
-char *ADMVideoLavPPDeint::printConf( void )
-{
- ADM_FILTER_DECLARE_CONF(&quot; Lavcodec PP deinterlacer autolev:%d deint:%d&quot;,_param-&gt;autolevel,_param-&gt;deintType);
-  
-}
-//*************************************************************
-ADMVideoLavPPDeint::ADMVideoLavPPDeint(  AVDMGenericVideoStream *in,CONFcouple *couples)
-{
-
-  _in=in;         
-  memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));    
-  _info.encoding=1;  
-  
-  ppcontext=NULL;  
-  ppmode=NULL;   
-  
-  _uncompressed=new ADMImage(_info.width,_info.height);
-  if(couples)
-  {   
-    _param=NEW(lavc_pp_param);
-    GET(deintType);    
-    GET(autolevel);
-  }      
-  else
-  {
-    _param=NEW(lavc_pp_param);
-    _param-&gt;deintType=0;
-    _param-&gt;autolevel=0;
-    
-  } 
-                 
-  setup();
- 
-}
-//*************************************************************
-void ADMVideoLavPPDeint::cleanup(void)
-{
-  if(ppcontext)
-  {
-    pp_free_context(ppcontext);
-    ppcontext=NULL;
-  }
-  if(ppmode)
-  {
-    pp_free_mode(ppmode);
-    ppmode=NULL;
-  }
-  
-} 
-//*************************************************************
-void ADMVideoLavPPDeint::setup(void)
-{
-  char string[1024];
-  uint32_t ppCaps=0;
-                
-  string[0]=0;
-  
-        cleanup();
-#ifdef ADM_CPU_X86
-#define ADD(x,y) if( CpuCaps::has##x()) ppCaps|=PP_CPU_CAPS_##y;                
-                ADD(MMX,MMX);           
-                ADD(3DNOW,3DNOW);
-                ADD(MMXEXT,MMX2);
-#endif             
-        cleanup();
-#undef ADD       
-#define ADD(z)  { if(string[0]) strcat(string,&quot;,&quot;#z); else strcpy(string,#z);}        
-               
-        if(_param-&gt;autolevel) ADD(al);
-        switch(_param-&gt;deintType)
-        {
-          case PP_BM_NONE:break;
-          case PP_BM_LINEAR_BLEND: ADD(lb);break;
-          case PP_BM_LINEAR_INTER: ADD(li);break;
-          case PP_BM_CUBIC_INTER: ADD(ci);break;
-          case PP_BM_MEDIAN_INTER: ADD(md);break;
-          case PP_BM_FFMPEG_DEINT: ADD(fd);break;                             
-        }        
-
-
-        ppcontext=pp_get_context(_info.width, _info.height, ppCaps);           
-        ppmode=pp_get_mode_by_name_and_quality(string,1);;
-        
-        ADM_assert(ppcontext);
-        ADM_assert(ppmode);
-  
-} 
-//*************************************************************
-ADMVideoLavPPDeint::~ADMVideoLavPPDeint()
-{
-  cleanup();
-  if(_uncompressed)
-        delete _uncompressed;
-  DELETE(_param);
-  _uncompressed=NULL;
-}
-
-//*************************************************************
-uint8_t ADMVideoLavPPDeint::getCoupledConf( CONFcouple **couples)
-{
-  
-  *couples=new CONFcouple(2);
-  CSET(deintType);    
-  CSET(autolevel);
-  
-  return 1;
-}
-//*************************************************************
-uint8_t ADMVideoLavPPDeint::getFrameNumberNoAlloc(uint32_t frame,
-                                              uint32_t *len,
-                                              ADMImage *data,
-                                              uint32_t *flags)
-{
-
- 
-  if(frame&gt;= _info.nb_frames) return 0;
-        // read uncompressed frame
-  if(!_in-&gt;getFrameNumberNoAlloc(frame, len,_uncompressed,flags)) return 0;
-
-  
-  //
-  const uint8_t *iBuff[3];
-   uint8_t *oBuff[3];
-  int strideTab[3],strideTab2[3];                 
-                                                                
-  oBuff[0]=YPLANE(data);
-  oBuff[1]=UPLANE(data);
-  oBuff[2]=VPLANE(data);
-                                
-  iBuff[0]=YPLANE(_uncompressed);
-  iBuff[1]=UPLANE(_uncompressed);
-  iBuff[2]=VPLANE(_uncompressed);
-                                
-                                
-  strideTab[0]=strideTab2[0]=_info.width;
-  strideTab[1]=strideTab2[1]=_info.width&gt;&gt;1;
-  strideTab[2]=strideTab2[2]=_info.width&gt;&gt;1;
-        
-  int type;
-  if(_uncompressed-&gt;flags&amp;AVI_KEY_FRAME)
-    type=1;
-  else if(_uncompressed-&gt;flags &amp; AVI_B_FRAME)
-    type=3;
-  else
-    type=2;
-  pp_postprocess(
-        iBuff,
-        strideTab,
-        oBuff,
-        strideTab2,
-        _info.width,
-        _info.height,
-        NULL,
-        0,
-        ppmode,
-        ppcontext,
-        type); // I ?
-                                
-  
-  data-&gt;copyInfo(_uncompressed);
-  return 1;
-}

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/lavDeinterlace/ADM_lavpp_deintparam.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/lavDeinterlace/ADM_lavpp_deintparam.h	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/lavDeinterlace/ADM_lavpp_deintparam.h	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,26 +0,0 @@
-//
-// C++ Interface: %{MODULE}
-//
-// Description: 
-//
-//
-// Author: %{AUTHOR} &lt;%{EMAIL}&gt;, (C) %{YEAR}
-//
-// Copyright: See COPYING file that comes with this distribution
-//
-//
-enum 
-{
-  PP_BM_NONE           =0x0000,
-  PP_BM_LINEAR_BLEND   =0x0001, 
-  PP_BM_LINEAR_INTER   =0x0002, 
-  PP_BM_CUBIC_INTER    =0x0003, 
-  PP_BM_MEDIAN_INTER   =0x0004, 
-  PP_BM_FFMPEG_DEINT   =0x0005,  
-};
-
-typedef struct 
-{
-  uint32_t      deintType;
-  uint32_t       autolevel;
-}lavc_pp_param;

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/lavDeinterlace/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/lavDeinterlace/CMakeLists.txt	2010-09-04 09:05:56 UTC (rev 6576)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters/lavDeinterlace/CMakeLists.txt	2010-09-04 09:05:58 UTC (rev 6577)
@@ -1,10 +0,0 @@
-INCLUDE(vf_plugin)
-
-
-SET(ADM_vf_lavDeinterlace_SRCS ADM_lavpp_deint.cpp)
-INCLUDE_DIRECTORIES(&quot;${AVIDEMUX_SOURCE_DIR}/avidemux/&quot;)
-ADD_LIBRARY(ADM_vf_lavDeinterlace SHARED ${ADM_vf_lavDeinterlace_SRCS})
-TARGET_LINK_LIBRARIES(ADM_vf_lavDeinterlace ADM_libswscale ADM_libpostproc)
-
-INIT_VIDEOFILTER_PLUGIN(ADM_vf_lavDeinterlace)
-INSTALL_VIDEOFILTER(ADM_vf_lavDeinterlace)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003762.html">[Avidemux-svn-commit] r6576 -	branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders/ADM_ad_faad
</A></li>
	<LI>Next message: <A HREF="003764.html">[Avidemux-svn-commit] r6578 -	branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3763">[ date ]</a>
              <a href="thread.html#3763">[ thread ]</a>
              <a href="subject.html#3763">[ subject ]</a>
              <a href="author.html#3763">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
