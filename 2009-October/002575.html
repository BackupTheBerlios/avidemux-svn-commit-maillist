<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r5364 - in	branches/avidemux_2.6_branch_mean/avidemux: . common	common/ADM_editor common/ADM_filter common/ADM_script	common/ADM_toolkit common/ADM_video common/ADM_videoFilter2	gtk/ADM_userInterfaces/ADM_dialog gtk/ADM_userInterfaces/ADM_filters
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r5364%20-%20in%0A%09branches/avidemux_2.6_branch_mean/avidemux%3A%20.%20common%0A%09common/ADM_editor%20common/ADM_filter%20common/ADM_script%0A%09common/ADM_toolkit%20common/ADM_video%20common/ADM_videoFilter2%0A%09gtk/ADM_userInterfaces/ADM_dialog%20gtk/ADM_userInterfaces/ADM_filters&In-Reply-To=%3C200910020522.n925M9SY030648%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002574.html">
   <LINK REL="Next"  HREF="002576.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r5364 - in	branches/avidemux_2.6_branch_mean/avidemux: . common	common/ADM_editor common/ADM_filter common/ADM_script	common/ADM_toolkit common/ADM_video common/ADM_videoFilter2	gtk/ADM_userInterfaces/ADM_dialog gtk/ADM_userInterfaces/ADM_filters</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r5364%20-%20in%0A%09branches/avidemux_2.6_branch_mean/avidemux%3A%20.%20common%0A%09common/ADM_editor%20common/ADM_filter%20common/ADM_script%0A%09common/ADM_toolkit%20common/ADM_video%20common/ADM_videoFilter2%0A%09gtk/ADM_userInterfaces/ADM_dialog%20gtk/ADM_userInterfaces/ADM_filters&In-Reply-To=%3C200910020522.n925M9SY030648%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r5364 - in	branches/avidemux_2.6_branch_mean/avidemux: . common	common/ADM_editor common/ADM_filter common/ADM_script	common/ADM_toolkit common/ADM_video common/ADM_videoFilter2	gtk/ADM_userInterfaces/ADM_dialog gtk/ADM_userInterfaces/ADM_filters">mean at mail.berlios.de
       </A><BR>
    <I>Fri Oct  2 07:22:09 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002574.html">[Avidemux-svn-commit] r5363 - in branches/avidemux_2.6_branch_mean:	avidemux/common/ADM_filter avidemux/common/ADM_videoFilter2	avidemux_core/ADM_coreVideoFilter/include	avidemux_plugins/ADM_videoFilters6/dummy
</A></li>
        <LI>Next message: <A HREF="002576.html">[Avidemux-svn-commit] r5365 - in	branches/avidemux_2.6_branch_mean/avidemux: . common	common/ADM_filter common/ADM_toolkit common/ADM_videoFilter	gtk/ADM_userInterfaces/ADM_dialog gtk/ADM_userInterfaces/ADM_filters	gtk/ADM_userInterfaces/ADM_ocr
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2575">[ date ]</a>
              <a href="thread.html#2575">[ thread ]</a>
              <a href="subject.html#2575">[ subject ]</a>
              <a href="author.html#2575">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2009-10-02 07:22:07 +0200 (Fri, 02 Oct 2009)
New Revision: 5364

Removed:
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/ADM_vidDummyFilter.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/buildummy.sh
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/buildummy_win32.sh
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/buildummy_yadif.sh
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/buildummy_yadif_win32.sh
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_reorderTemplate.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidNull.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidPartial.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidPartial.h
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidPartial_param.h
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidRaw.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_videoNull.h
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_dialog/DIA_partial.cpp
Modified:
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_editor/ADM_edLoadSave.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/filter_declaration.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/filter_saveload.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_preview.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSAvidemuxVideo.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_toolkit/automation.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/ADM_pluginLoad.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/common/gtk_gui.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/gui_play.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/main.cpp
   branches/avidemux_2.6_branch_mean/avidemux/commonCmakeApplication.cmake
   branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_dialog/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_filters/gui_filtermanager.cpp
Log:
[Vfilter] Keep on removing old stuff

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_editor/ADM_edLoadSave.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_editor/ADM_edLoadSave.cpp	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_editor/ADM_edLoadSave.cpp	2009-10-02 05:22:07 UTC (rev 5364)
@@ -150,7 +150,7 @@
 // Filter
 //___________________________
         qfprintf(fd,&quot;\n//** Filters **\n&quot;);
-        filterSaveScriptJS(fd);
+//        filterSaveScriptJS(fd);
 
 // Video codec
 //___________________________

Deleted: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/ADM_vidDummyFilter.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/ADM_vidDummyFilter.cpp	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/ADM_vidDummyFilter.cpp	2009-10-02 05:22:07 UTC (rev 5364)
@@ -1,139 +0,0 @@
-/***************************************************************************
-                          ADM_vidFlipV.cpp  -  description
-                             -------------------
-    begin                : Wed Nov 6 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-
-#if 0 // OBSOLETE
-
-#include &quot;ADM_default.h&quot;
-
-#include &quot;ADM_videoFilter.h&quot;
-#include &quot;ADM_videoFilter/ADM_vidFlipV.h&quot;
-
-//#define REDUCED
-//adm_fast_memcpy myAdmMemcpy=memcpy;
-#undef memcpy
-
-static FILTER_PARAM flipParam={0,{&quot;&quot;}};
-
-//********************************************
-extern &quot;C&quot;
-{
-SCRIPT_CREATE(FILTER_create_fromscript,ADMVideoFlipV,flipParam);
-BUILD_CREATE(FILTER_create,ADMVideoFlipV);
-char *FILTER_getName(void)
-{
-	return &quot;DynFLIPPER&quot;;
-}
-
-char *FILTER_getDesc(void)
-{
-	return &quot;Vertical flip, demo for dynamically loaded filters&quot;;
-}
-
-
-
-uint32_t FILTER_getVersion(void)
-{
-  return 1; 
-}
-uint32_t FILTER_getAPIVersion(void)
-{
-  return ADM_FILTER_API_VERSION; 
-}
-}
-
-//********************************************
-char *ADMVideoFlipV::printConf( void )
-{
- 	ADM_FILTER_DECLARE_CONF(&quot; V-Flip&quot;);
-
-}
-
-ADMVideoFlipV::ADMVideoFlipV(  AVDMGenericVideoStream *in,CONFcouple *setup)
-{
-    UNUSED_ARG(setup);
-    	ADM_assert(in);
- 	_in=in;		
-	printf(&quot;%s\n&quot;,_in-&gt;printConf());
-   	memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info)); 	
-  	_info.encoding=1;	
-	_uncompressed=new ADMImage(_in-&gt;getInfo()-&gt;width,_in-&gt;getInfo()-&gt;height);
-	ADM_assert(_uncompressed);    	  	
-}
-ADMVideoFlipV::~ADMVideoFlipV()
-{
- 	delete  _uncompressed;	
-	_uncompressed=NULL;
-  
-}
-uint8_t ADMVideoFlipV::getFrameNumberNoAlloc(uint32_t frame,
-				uint32_t *len,
-   				ADMImage *data,
-				uint32_t *flags)
-{
-
-	if(frame&gt;= _info.nb_frames) return 0;
-	// read uncompressed frame
-	if(!_in-&gt;getFrameNumberNoAlloc(frame, len,_uncompressed,flags)) return 0;
-
-         uint8_t *in,*out;
-         uint32_t stride=_info.width;
-         uint32_t h=_info.height;
-         uint32_t page,qpage;
-        
-
-	  
-         page=stride*h;
-         qpage=page&gt;&gt;2;
-         
-         in=YPLANE(_uncompressed);
-         out=YPLANE(data)+(h-1)*stride;
-         // flip y
-         for(uint32_t y=h;y&gt;0;y--)
-         {
-		 memcpy(out,in,stride);
-		 in+=stride;
-		 out-=stride;
-	}
-	// Flip U &amp; V			         
-        stride&gt;&gt;=1;
-	in=UPLANE(_uncompressed);	
-        out=UPLANE(data)+qpage-stride;
-         // flip u
-         for(uint32_t y=h&gt;&gt;1;y&gt;0;y--)
-         {
-		 memcpy(out,in,stride);
-		 in+=stride;
-		 out-=stride;
-	}
-	in=VPLANE(_uncompressed);
-        out=VPLANE(data)+qpage-stride;
-       
-      
-         // flip u
-         for(uint32_t y=h&gt;&gt;1;y&gt;0;y--)
-         {
-		 memcpy(out,in,stride);
-		 in+=stride;
-		 out-=stride;
-	}   
-	data-&gt;copyInfo(_uncompressed);
-	return 1;
-}
-
-#endif
-

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/CMakeLists.txt	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/CMakeLists.txt	2009-10-02 05:22:07 UTC (rev 5364)
@@ -1,5 +1,4 @@
 SET(ADM_filter_SRCS 
-ADM_vidDummyFilter.cpp  
 filter.cpp  
 filter_declaration.cpp  
 filter_saveload.cpp  

Deleted: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/buildummy.sh
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/buildummy.sh	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/buildummy.sh	2009-10-02 05:22:07 UTC (rev 5364)
@@ -1,3 +0,0 @@
-g++ -DHAVE_CONFIG_H -I. -I. -I../..  -I../ADM_libraries -I../ADM_libraries/ADM_utilities -I../ADM_libraries/ADM_lavutil -I/usr/include/libxml2  -I/usr/include/malloc -I/usr/include/libxml2 -I/usr/include/SDL -D_GNU_SOURCE=1 -D_REENTRANT  -I.. -I../ADM_lavutil -IADM_utilities -I../ADM_utilities  -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -g -O2 -I../.. -O1 -g3 -falign-loops=16 -shared -o dummy.so ADM_vidDummyFilter.cpp -fPIC
-g++ -DHAVE_CONFIG_H -I. -I. -I../..  -I../ADM_libraries -I../ADM_libraries/ADM_utilities -I../ADM_libraries/ADM_lavutil -I/usr/include/libxml2  -I/usr/include/malloc -I/usr/include/libxml2 -I/usr/include/SDL -D_GNU_SOURCE=1 -D_REENTRANT  -I.. -I../ADM_lavutil -IADM_utilities -I../ADM_utilities  -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -g -O2 -I../.. -O1 -g3 -falign-loops=16 -o dummy.E -E ADM_vidDummyFilter.cpp -fPIC
-cp dummy.so ~/Xfilters

Deleted: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/buildummy_win32.sh
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/buildummy_win32.sh	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/buildummy_win32.sh	2009-10-02 05:22:07 UTC (rev 5364)
@@ -1,10 +0,0 @@
-i586-mingw32msvc-g++ -DHAVE_CONFIG_H -I/rot2/include/ -I. -I. -I../..  -I../ADM_libraries -I../ADM_libraries/ADM_utilities -I../ADM_libraries/ADM_lavutil -I/usr/include/libxml2  -I/usr/include/malloc -I/usr/include/libxml2 -I/usr/include/SDL -D_GNU_SOURCE=1 -D_REENTRANT  -I.. -I../ADM_lavutil -IADM_utilities -I../ADM_utilities  -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -g -O2 -I../.. -O1 -g3 -falign-loops=16 \
--c -o dummy.o \
-ADM_vidDummyFilter.cpp  -mno-cygwin -mms-bitfields -mwindows
-
-i586-mingw32msvc-g++ -shared dummy.o -o dummy.dll -L.. \
-    -Wl,--export-all-symbols \
-    -Wl,--enable-auto-import \
-    -mno-cygwin -lmingw32  ../libavidemux2.dll.a
-    #../avidemux2_gtk.exe
-#../avidemux2_gtk.exe.a \

Deleted: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/buildummy_yadif.sh
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/buildummy_yadif.sh	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/buildummy_yadif.sh	2009-10-02 05:22:07 UTC (rev 5364)
@@ -1,4 +0,0 @@
-g++ -DHAVE_CONFIG_H -I. -I. -I../..  -I../ADM_libraries -I../ADM_libraries/ADM_utilities -I../ADM_libraries/ADM_lavutil -I/usr/include/libxml2  -I/usr/include/malloc -I/usr/include/libxml2 -I/usr/include/SDL -D_GNU_SOURCE=1 -D_REENTRANT  -I.. -I../ADM_lavutil -IADM_utilities -I../ADM_utilities  -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -g -O2 -I../.. -O1 -g3 -falign-loops=16  -o dummy.o ../ADM_videoFilter/ADM_vidYadif.cpp  -c -fPIC
-gcc -DHAVE_CONFIG_H -I. -I. -I../..  -I../ADM_libraries -I../ADM_libraries/ADM_utilities -I../ADM_libraries/ADM_lavutil -I/usr/include/libxml2  -I/usr/include/malloc -I/usr/include/libxml2 -I/usr/include/SDL -D_GNU_SOURCE=1 -D_REENTRANT  -I.. -I../ADM_lavutil -IADM_utilities -I../ADM_utilities  -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -g -O2 -I../.. -O1 -g3 -falign-loops=16  -o dummy2.o ../ADM_videoFilter/ADM_vidYadif_asm.c  -c -fPIC
-g++ -shared dummy.o dummy2.o -o yadif.so
-cp yadif.so ~/Xfilters

Deleted: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/buildummy_yadif_win32.sh
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/buildummy_yadif_win32.sh	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/buildummy_yadif_win32.sh	2009-10-02 05:22:07 UTC (rev 5364)
@@ -1,15 +0,0 @@
-i586-pc-mingw32-g++ -DHAVE_CONFIG_H -I/rot2/include/ -I. -I. -I../..  -I../ADM_libraries -I../ADM_libraries/ADM_utilities -I../ADM_libraries/ADM_lavutil -I/usr/include/libxml2  -I/usr/include/malloc -I/usr/include/libxml2 -I/usr/include/SDL -D_GNU_SOURCE=1 -D_REENTRANT  -I.. -I../ADM_lavutil -IADM_utilities -I../ADM_utilities  -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -g -O2 -I../.. -O1 -g3 -falign-loops=16 \
--c -o yad_dummy.o \
-../ADM_videoFilter/ADM_vidYadif.cpp  -mno-cygwin -mms-bitfields -mwindows
-
-i586-pc-mingw32-gcc -DHAVE_CONFIG_H -I/rot2/include/ -I. -I. -I../..  -I../ADM_libraries -I../ADM_libraries/ADM_utilities -I../ADM_libraries/ADM_lavutil -I/usr/include/libxml2  -I/usr/include/malloc -I/usr/include/libxml2 -I/usr/include/SDL -D_GNU_SOURCE=1 -D_REENTRANT  -I.. -I../ADM_lavutil -IADM_utilities -I../ADM_utilities  -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -g -O2 -I../.. -O1 -g3 -falign-loops=16 \
--c -o yad_dummy2.o \
-../ADM_videoFilter/ADM_vidYadif_asm.c  -mno-cygwin -mms-bitfields -mwindows
-
-i586-pc-mingw32-g++ -shared yad_dummy.o yad_dummy2.o -o yadif.dll -L.. \
-    -Wl,--export-all-symbols \
-    -Wl,--enable-auto-import \
-    -mno-cygwin -lmingw32  ../libavidemux2.dll.a
-    #../avidemux2_gtk.exe
-i586-pc-mingw32-strip -S yadiff.dll
-#../avidemux2_gtk.exe.a \

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/filter_declaration.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/filter_declaration.cpp	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/filter_declaration.cpp	2009-10-02 05:22:07 UTC (rev 5364)
@@ -54,8 +54,8 @@
 	REGISTERX(&quot;swissarmyknife&quot;,QT_TR_NOOP(&quot;Swiss Army Knife&quot;),QT_TR_NOOP(&quot;Apply operation like P'=P*A, P-A, P+A, etc. using a convolution, rolling average, image from file, or constant&quot;),VF_SWISSARMYKNIFE,1,swissarmyknife_create,swissarmyknife_script);
 #endif
 // Misc filter, internal only
-	REGISTERX(VF_MISC,&quot;partial&quot;,QT_TR_NOOP(&quot;Partial&quot;),&quot;&quot;,VF_PARTIAL,0,partial_create,partial_script);
-	REGISTERX(VF_MISC,&quot;framenum&quot;,QT_TR_NOOP(&quot;Add Framenumber&quot;),QT_TR_NOOP(&quot;Print frame number directly in image&quot;),VF_FRAMENUM,1,number_create,number_script);
+//	REGISTERX(VF_MISC,&quot;partial&quot;,QT_TR_NOOP(&quot;Partial&quot;),&quot;&quot;,VF_PARTIAL,0,partial_create,partial_script);
+//	REGISTERX(VF_MISC,&quot;framenum&quot;,QT_TR_NOOP(&quot;Add Framenumber&quot;),QT_TR_NOOP(&quot;Print frame number directly in image&quot;),VF_FRAMENUM,1,number_create,number_script);
  printf(&quot;\n&quot;);
 }
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/filter_saveload.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/filter_saveload.cpp	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_filter/filter_saveload.cpp	2009-10-02 05:22:07 UTC (rev 5364)
@@ -28,9 +28,9 @@
 
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 #include &quot;ADM_videoFilter.h&quot;
-#include &quot;ADM_video/ADM_videoNull.h&quot;
+//#include &quot;ADM_video/ADM_videoNull.h&quot;
 #include &quot;ADM_videoFilter_internal.h&quot;
-#include &quot;ADM_video/ADM_vidPartial.h&quot;
+//#include &quot;ADM_video/ADM_vidPartial.h&quot;
 #include &quot;avi_vars.h&quot;
 // exported vars
 extern uint32_t nb_active_filter;
@@ -134,6 +134,7 @@
 
 int filterLoadXml(const char *docname,uint8_t silent)
 {
+#if 0
  xmlDocPtr xdoc;
  xmlNodePtr node,subnode;
 int32_t nb_filters,itag;
@@ -237,6 +238,7 @@
 			}
 			printf(&quot;\n found : %&quot;LU&quot; filters\n&quot;,nb_filters);
 	xmlFreeDoc(xdoc);
+#endif
 	return 1;
 }
 CONFcouple *buildCouple(uint32_t nb, xmlNodePtr node)

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_preview.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_preview.cpp	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_preview.cpp	2009-10-02 05:22:07 UTC (rev 5364)
@@ -175,6 +175,7 @@
 {
             aprintf(&quot;--killing\n&quot;);
             renderLock();
+#if 0
             getFirstVideoFilter();
             
             preview=videofilters[  nb_active_filter-1].filter;
@@ -182,7 +183,7 @@
             ADM_assert(!previewImage)
                 
             previewImage=new ADMImage(preview-&gt;getInfo()-&gt;width,preview-&gt;getInfo()-&gt;height);
-            
+#endif            
             ADM_assert(!original);
             switch(previewMode)
             {

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSAvidemuxVideo.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSAvidemuxVideo.cpp	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSAvidemuxVideo.cpp	2009-10-02 05:22:07 UTC (rev 5364)
@@ -192,7 +192,7 @@
 JSBool ADM_JSAvidemuxVideo::ClearFilters(JSContext *cx, JSObject *obj, uintN argc,
                                        jsval *argv, jsval *rval)
 {// begin Clear
-	filterCleanUp();
+//	filterCleanUp();
         return JS_TRUE;
 }// end Clear
 
@@ -200,6 +200,7 @@
 JSBool ADM_JSAvidemuxVideo::AddFilter(JSContext *cx, JSObject *obj, uintN argc, 
                                        jsval *argv, jsval *rval)
 {// begin AddFilter
+#if 0
         VF_FILTERS filter;
 
         // default return value
@@ -230,7 +231,7 @@
         {
             ADM_dealloc(args[i].arg.string);
         }
-        
+#endif        
         return JS_TRUE;
 }// end AddFilter
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_toolkit/automation.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_toolkit/automation.cpp	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_toolkit/automation.cpp	2009-10-02 05:22:07 UTC (rev 5364)
@@ -44,7 +44,7 @@
 #include &quot;ADM_vidMisc.h&quot;
 #include &quot;ADM_coreVideoEncoder.h&quot;
 #include &quot;ADM_audioFilter/include/ADM_audioFilterInterface.h&quot;
-extern void filterListAll(void );
+//extern void filterListAll(void );
 
 //extern uint8_t loadVideoCodecConf( const char *name);
 extern int A_saveJpg (char *name);
@@ -137,7 +137,7 @@
 AUTOMATON reaction_table[]=
 {
         {&quot;nogui&quot;,               0,&quot;Run in silent mode&quot;,		(one_arg_type)GUI_Quiet}   ,
-        {&quot;listfilters&quot;,		0,&quot;list all filters by name&quot;,		(one_arg_type)filterListAll}   ,
+//        {&quot;listfilters&quot;,		0,&quot;list all filters by name&quot;,		(one_arg_type)filterListAll}   ,
         {&quot;run&quot;,			1,&quot;load and run a script&quot;,		(one_arg_type)A_parseECMAScript},
         {&quot;audio-normalize&quot;,	1,&quot;activate normalization&quot;,		call_normalize},
         {&quot;audio-resample&quot;,	1,&quot;resample to x hz&quot;,			call_resample},

Deleted: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_reorderTemplate.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_reorderTemplate.cpp	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_reorderTemplate.cpp	2009-10-02 05:22:07 UTC (rev 5364)
@@ -1,84 +0,0 @@
-/*
- * INDEX_TMPL is the type of each index
- * INDEX_ARRAY_TMPL is the attribute holding the index
- * FRAMETYPE_TMPL is the field holding video flags
- * */
-#ifndef INDEX_TMPL
-#error INDEX_TMPL
-#endif
-#ifndef INDEX_ARRAY_TMPL
-#error INDEX_ARRAY_TMPL
-#endif
-#ifndef FRAMETYPE_TMPL
-#error FRAMETYPE_TMPL
-#endif
-
-INDEX_TMPL *index;
-uint8_t ret=1;
-uint32_t nbFrame= _videostream.dwLength;
-	// already done..
-	if( _reordered) return 1;
-	ADM_assert(INDEX_ARRAY_TMPL);
-	
-	index=new INDEX_TMPL[nbFrame];
-	// clear B frame flag for last frames
-	INDEX_ARRAY_TMPL[nbFrame-1].FRAMETYPE_TMPL &amp;=~AVI_B_FRAME;
-
-			//__________________________________________
-			// the direct index is in DTS time (i.e. decoder time)
-			// we will now do the PTS index, so that frame numbering is done
-			// according to the frame # as they are seen by editor / user
-			// I1 P0 B0 B1 P1 B2 B3 I2 B7 B8
-			// xx I1 B0 B1 P0 B2 B3 P1 B7 B8
-			//__________________________________________
-			uint32_t forward=0;
-			uint32_t curPTS=0;
-			uint32_t dropped=0;
-
-			for(uint32_t c=1;c&lt;nbFrame;c++)
-			{
-				if(!(INDEX_ARRAY_TMPL[c].FRAMETYPE_TMPL &amp; AVI_B_FRAME))
-					{
-								memcpy(&amp;index[curPTS],
-										&amp;INDEX_ARRAY_TMPL[forward],
-										sizeof(INDEX_TMPL));
-								forward=c;
-								curPTS++;
-								dropped++;
-					}
-					else
-					{// we need  at lest 2 i/P frames to start decoding B frames
-						if(dropped&gt;=1)
-						{
-							memcpy(&amp;index[curPTS],
-								&amp;INDEX_ARRAY_TMPL[c],
-								sizeof(INDEX_TMPL));
-							curPTS++;
-						}
-						else
-						{
-						printf(&quot;We dropped a frame (%d/%d).\n&quot;,dropped,c);
-						}
-					}
-			}
-
-			uint32_t last;
-
-
-			// put back last I/P we had in store
-			memcpy(&amp;index[curPTS],
-				&amp;INDEX_ARRAY_TMPL[forward],
-				sizeof(INDEX_TMPL));
-			last=curPTS;
-
-			_videostream.dwLength= _mainaviheader.dwTotalFrames=nbFrame=last+1;
-			// last frame is always I
-
-			delete [] INDEX_ARRAY_TMPL;
-
-			INDEX_ARRAY_TMPL=index;;
-			// last frame cannot be B frame
-			INDEX_ARRAY_TMPL[last].FRAMETYPE_TMPL&amp;=~AVI_B_FRAME;
-                        // And first is an intra
-                        INDEX_ARRAY_TMPL[0].FRAMETYPE_TMPL=AVI_KEY_FRAME;
-			 _reordered=ret;

Deleted: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidNull.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidNull.cpp	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidNull.cpp	2009-10-02 05:22:07 UTC (rev 5364)
@@ -1,107 +0,0 @@
-/***************************************************************************
-                          ADM_vidNull.cpp  -  description
-                             -------------------
-
-	This filter asks an image from the editor and
-	clean-up the output
-	It does compute the average quant possibly apply postprocessing
-
-
-
-    begin                : Wed Mar 20 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include &quot;ADM_default.h&quot;
-#include &quot;ADM_editor/ADM_edit.hxx&quot;
-#include &quot;ADM_videoFilter.h&quot;
-#include &quot;ADM_videoNull.h&quot;
-
-#include &quot;ADM_debugID.h&quot;
-#define MODULE_NAME MODULE_FILTER
-#include &quot;ADM_debug.h&quot;
-
-
-
-
-//_______________________________________________________________
-
-AVDMVideoStreamNull::AVDMVideoStreamNull(ADM_Composer *in,uint32_t start, uint32_t nb)
-{
-aviInfo aviinf;
-  	_in=in;
-
-  	// now build infos
-
-  	ADM_assert(_in-&gt;getVideoInfo(&amp;aviinf));
-  	_info.width=aviinf.width;
-  	_info.height=aviinf.height;
-	if(start+nb==aviinf.nb_frames-1)  nb++; // take last frame
-  	_info.nb_frames=nb;
-	_start=start;
-  	_info.encoding=0;
-	_info.fps1000=aviinf.fps1000;
-	_info.orgFrame=start;
-//  	_uncompressed=(uint8_t *)malloc(3*aviinf.width*aviinf.height);
-//	_uncompressed=new ADMImage(aviinf.width,aviinf.height);
-
-  //	ADM_assert(_uncompressed);
-	ADM_assert(start+nb&lt;=aviinf.nb_frames);
-        par_width=_in-&gt;getPARWidth();
-        par_height=_in-&gt;getPARHeight();
-	aprintf(&quot;\n Null stream initialized with start frame = %lu, nbframe=%lu \n&quot;,_start,nb);
-
-}
-uint32_t   AVDMVideoStreamNull::getPARWidth(void)
-{
-  return par_width;
-}
-uint32_t   AVDMVideoStreamNull::getPARHeight(void)
-{
-  return par_height;
-}
-AVDMVideoStreamNull::~AVDMVideoStreamNull()
-{
-
- //	delete _uncompressed;
-
-}
-//
-//	Basically ask a uncompressed frame from editor and ask
-//		GUI to decompress it .
-//
-
-uint8_t AVDMVideoStreamNull::getFrameNumberNoAlloc(uint32_t frame,
-				uint32_t *len,
-   				ADMImage *data,
-				uint32_t *flags)
-{
-        UNUSED_ARG(len);
-    	UNUSED_ARG(flags);
-		if(!(frame&lt;_info.nb_frames))
-		{
-				printf(&quot;\n going out of bounds! :%&quot;LD&quot; / %&quot;LD&quot;\n&quot;,frame,_info.nb_frames);
-				return 0;
-		}
-
-			// read uncompressed frame
-
-	// 1 get it
-    	if(!_in-&gt;getUncompressedFrame(_start+frame,data)     )
-     			return 0;
-	return 1;
-}
-
-uint8_t AVDMVideoStreamNull::configure( AVDMGenericVideoStream *instream){
-	UNUSED_ARG(instream);
-	return 0;
-}

Deleted: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidPartial.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidPartial.cpp	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidPartial.cpp	2009-10-02 05:22:07 UTC (rev 5364)
@@ -1,155 +0,0 @@
-/***************************************************************************
-                          ADM_vidPartial.cpp  -  description
-                             -------------------
-    begin                : Mon Dec 30 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
-
-    This filter is special
-    It uses internally another filter from _start to _end
-    and output copy of input else
-
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include &quot;ADM_default.h&quot;
-
-#include &quot;ADM_editor/ADM_edit.hxx&quot;
-#include &quot;ADM_videoFilter.h&quot;
-#include &quot;ADM_videoFilter_internal.h&quot;
-#include &quot;ADM_video/ADM_vidPartial.h&quot;
-
-extern AVDMGenericVideoStream *filterCreateFromTag(VF_FILTERS tag,CONFcouple *couple, AVDMGenericVideoStream *in);
-
-
-static FILTER_PARAM partialParam={VARIABLE_PARAMS+3,{&quot;_start&quot;,&quot;_end&quot;,&quot;_tag&quot;}};
-
-
-SCRIPT_CREATE(partial_script,ADMVideoPartial,partialParam);
-BUILD_CREATE(partial_create,ADMVideoPartial);
-
-//___________________________________________________
-char 						*ADMVideoPartial::printConf(void)
-{
-	static char string[500];
-		 			sprintf(string,&quot;Partial from %&quot;LD&quot; to %&quot;LD&quot; : %s&quot;,
-		    						_param-&gt;_start,
-		          			_param-&gt;_end,
-		             		_son-&gt;printConf());
-		    return string;
-}
-
-ADMVideoPartial::ADMVideoPartial(   AVDMGenericVideoStream *in,
-							CONFcouple		*couples)
-{
-		_param=NEW( PARTIAL_CONFIG);
-		_param-&gt;_start=0;
-		_param-&gt;_end=0;
-		_in=in;
-
-			GET(_start);
-			GET(_end);
-			GET(_tag);
-			// we share the same parameters
-			_son= filterCreateFromTag((VF_FILTERS)_param-&gt;_tag,couples,_in);
-		 	memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));
-}
-
-ADMVideoPartial::ADMVideoPartial(  AVDMGenericVideoStream *in,VF_FILTERS tag,CONFcouple *setup)
-{
-		_param=NEW( PARTIAL_CONFIG);
-		_param-&gt;_start=0;
-		_param-&gt;_end=0;
-		_param-&gt;_tag=tag;
-		_in=in;
-		// we share the same parameters
-		_son= filterCreateFromTag(tag,setup,_in);
-		memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));
-}
-
-/**/
-uint8_t	ADMVideoPartial::getCoupledConf( CONFcouple **couples)
-{
-			uint32_t nbParam=0;
-
-			ADM_assert(_param);
-
-			// first we ask the child its config
-			CONFcouple *child;
-			if(!_son-&gt;getCoupledConf(&amp;child))
-			{
-				// no param for child
-#define CSET(x)  (*couples)-&gt;setCouple((char *)#x,(_param-&gt;x))
-				*couples=new CONFcouple(3);
-				CSET(_start);
-				CSET(_end);
-				CSET(_tag);
-				return 1;
-			}
-
-			// grab child param
-			nbParam=child-&gt;getNumber();
-
-			*couples=new CONFcouple(3+nbParam);
-			CSET(_start);
-			CSET(_end);
-			CSET(_tag);
-
-	// then set the child ones
-	char *nm,*vl;
-
-	for(uint32_t i=0;i&lt;nbParam;i++)
-	{
-		child-&gt;getEntry(i,&amp;nm, &amp;vl);
-		  (*couples)-&gt;setCouple(nm,vl);
-	}
-	// delete child
-	delete child;
-
-	return 1;
-
-}
-
-//
-ADMVideoPartial::~ADMVideoPartial()
-{
-		if(_son) delete _son;
-		DELETE(_param);
-
-}
-//
-uint8_t ADMVideoPartial::getFrameNumberNoAlloc(uint32_t frame,
-				uint32_t *len,
-   				ADMImage *data,
-				uint32_t *flags)
-{
-		ADM_assert(_son);
-		if(frame&gt;= _info.nb_frames) return 0;
-		if((frame+_info.orgFrame&gt;=_param-&gt;_start) &amp;&amp; (frame+_info.orgFrame)&lt;=_param-&gt;_end) //
-		{
-				return _son-&gt;getFrameNumberNoAlloc(frame,len,data,flags);
-		}
-		return _in-&gt;getFrameNumberNoAlloc(frame,len,data,flags);
-}
-//
-extern uint8_t DIA_getPartial(PARTIAL_CONFIG *param,AVDMGenericVideoStream *son,AVDMGenericVideoStream *previous);
-uint8_t ADMVideoPartial::configure( AVDMGenericVideoStream *instream)
-{
-  uint8_t r=0;
-    r=DIA_getPartial(_param,_son,_in);
-    if(_param-&gt;_end&lt;_param-&gt;_start) _param-&gt;_end=_param-&gt;_start;
-
-   return r;
-}
-
-
-
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidPartial.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidPartial.h	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidPartial.h	2009-10-02 05:22:07 UTC (rev 5364)
@@ -1,42 +0,0 @@
-/***************************************************************************
-                          ADM_vidPartial.h  -  description
-                             -------------------
-    begin                : Mon Dec 30 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#ifndef PARTIAL__
-#define PARTIAL__
-
-#define MAXSONCONF 100
-
-#include &quot;ADM_vidPartial_param.h&quot;
- class  ADMVideoPartial:public AVDMGenericVideoStream
- {
-
- protected:
-
-      			AVDMGenericVideoStream 	*_son;
-			PARTIAL_CONFIG			*_param;
- public:
- 	virtual 	char 		*printConf(void);
-  					ADMVideoPartial(  AVDMGenericVideoStream *in,CONFcouple *setup);
-					ADMVideoPartial(  AVDMGenericVideoStream *in,VF_FILTERS tag,CONFcouple *setup);
-  			virtual ~ADMVideoPartial();
-		    	virtual uint8_t getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-          																	ADMImage *data,uint32_t *flags);
-			virtual uint8_t configure( AVDMGenericVideoStream *instream) ;
-			virtual uint8_t	getCoupledConf( CONFcouple **couples);
- }     ;
- 
-
-#endif

Deleted: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidPartial_param.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidPartial_param.h	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidPartial_param.h	2009-10-02 05:22:07 UTC (rev 5364)
@@ -1,21 +0,0 @@
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#ifndef ADM_VID_PARTIAL_PARAM_H
-#define ADM_VID_PARTIAL_PARAM_H
-
-typedef struct  PARTIAL_CONFIG
-{
-  uint32_t _start,_end;
-  uint32_t _confsize;
-  uint32_t _tag;
-
-}PARTIAL_CONFIG;
-
-#endif

Deleted: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidRaw.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidRaw.cpp	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_vidRaw.cpp	2009-10-02 05:22:07 UTC (rev 5364)
@@ -1,84 +0,0 @@
-/***************************************************************************
-                          ADM_vidRaw.cpp  -  description
-                             -------------------
-
-    Pass throught filter, just to have a coherent interface
-
-    begin                : Wed Mar 20 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include &quot;ADM_default.h&quot;
-#include &quot;ADM_editor/ADM_edit.hxx&quot;
-#include &quot;ADM_videoFilter.h&quot;
-#include &quot;ADM_video/ADM_videoNull.h&quot;
-
-
-
-
-//_______________________________________________________________
-
-AVDMVideoStreamRaw::AVDMVideoStreamRaw(ADM_Composer *in,uint32_t start, uint32_t nb)
-{
-aviInfo aviinf;
-  	_in=in;
-
-  	// now build infos
-
-  	ADM_assert(_in-&gt;getVideoInfo(&amp;aviinf));
-  	_info.width=aviinf.width;
-  	_info.height=aviinf.height;
-  	_info.nb_frames=nb;
-	_start=start;
-  	_info.encoding=0;
-	_info.fps1000=aviinf.fps1000;
-	ADM_assert(start+nb&lt;=aviinf.nb_frames);
-	printf(&quot;\n Raw stream initialized with start frame = %&quot;LU&quot;\n&quot;,_start);
-}
-AVDMVideoStreamRaw::~AVDMVideoStreamRaw()
-{
-
-
-}
-//
-//	Basically ask a uncompressed frame from editor and ask
-//		GUI to decompress it .
-//
-
-uint8_t AVDMVideoStreamRaw::getFrameNumberNoAlloc(uint32_t frame,
-				uint32_t *len,
-   				ADMImage *data,
-				uint32_t *flags)
-{
-        UNUSED_ARG(len);
-    	UNUSED_ARG(flags);
-                if(frame&gt;= _info.nb_frames) return 0;
-		*len=(_info.width*_info.height*3)&gt;&gt;1;
-		if(!(frame&lt;_info.nb_frames))
-		{
-				printf(&quot;\n going out of bounds! :%&quot;LU&quot; / %&quot;LU&quot; \n&quot;,frame,_info.nb_frames);
-				return 0;
-		}
-
-			// read uncompressed frame
-		if(!_in-&gt;getUncompressedFrame(_start+frame,data,flags)     )
-     			return 0;
-
-        return 1;
-
-
-}
-
-uint8_t AVDMVideoStreamRaw::configure( AVDMGenericVideoStream *instream){
-	UNUSED_ARG(instream);
-	return 0;
-}

Deleted: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_videoNull.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_videoNull.h	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/ADM_videoNull.h	2009-10-02 05:22:07 UTC (rev 5364)
@@ -1,48 +0,0 @@
-#ifndef ADM_VIDEO_NULL_H
-#define ADM_VIDEO_NULL_H
-
-class  AVDMVideoStreamNull :public AVDMGenericVideoStream
- {
-
- protected:
-                  ADM_Composer      *_in;
-                  uint32_t          _start;
-                  uint32_t          par_width,par_height;
-
- public:
-
-                          AVDMVideoStreamNull(  ADM_Composer *in,uint32_t framestart, uint32_t nb);
-                          virtual ~AVDMVideoStreamNull();
-    
-    
-        virtual	  uint8_t getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-                                                          ADMImage *data,uint32_t *flags);
-                  uint8_t configure( AVDMGenericVideoStream *instream);
-    
-        virtual uint32_t   getPARWidth(void);
-        virtual uint32_t   getPARHeight(void);
-
- }     ;
-
-class  AVDMVideoStreamRaw :public AVDMGenericVideoStream
- {
-
- protected:
-				ADM_Composer *_in;
-				uint32_t			_start;
-
- public:
-
-  				AVDMVideoStreamRaw(  ADM_Composer *in,uint32_t framestart, uint32_t nb);
-  				virtual ~AVDMVideoStreamRaw();
-
-
-          virtual 	uint8_t getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-								ADMImage *data,uint32_t *flags);
-           	 	uint8_t configure( AVDMGenericVideoStream *instream);
-
-
- }     ;
-
-#endif
-// EOF

Deleted: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/CMakeLists.txt	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_video/CMakeLists.txt	2009-10-02 05:22:07 UTC (rev 5364)
@@ -1,13 +0,0 @@
-SET(ADM_video_SRCS 
-ADM_vidPartial.cpp    
-ADM_vidRaw.cpp        
-ADM_vidNull.cpp)
-
-ADD_LIBRARY(ADM_video6 ${ADM_video_SRCS})
-
-IF (USE_FREETYPE)
-	ADD_TARGET_CFLAGS(ADM_video6 ${FREETYPE2_CFLAGS})
-ENDIF (USE_FREETYPE)
-
-ADD_TARGET_CFLAGS(ADM_video6 &quot;-I../ADM_inputs&quot;)
-#ADM_vidFieldUnblend.cpp  

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/ADM_pluginLoad.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/ADM_pluginLoad.cpp	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/ADM_pluginLoad.cpp	2009-10-02 05:22:07 UTC (rev 5364)
@@ -59,7 +59,7 @@
 
 		ADM_vf_plugin(const char *file) : ADM_LibWrapper()
 		{
-			initialised = (loadLibrary(file) &amp;&amp; getSymbols(7,
+			initialised = (loadLibrary(file) &amp;&amp; getSymbols(9,
 				&amp;create, &quot;create&quot;,
 				&amp;destroy, &quot;destroy&quot;,
 				&amp;getApiVersion, &quot;getApiVersion&quot;,

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/CMakeLists.txt	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/CMakeLists.txt	2009-10-02 05:22:07 UTC (rev 5364)
@@ -16,7 +16,7 @@
 ADD_SUBDIRECTORY(ADM_requant)
 ADD_SUBDIRECTORY(ADM_script)
 ADD_SUBDIRECTORY(ADM_toolkit)
-ADD_SUBDIRECTORY(ADM_video)
+#ADD_SUBDIRECTORY(ADM_video)
 ADD_SUBDIRECTORY(ADM_videoFilter)
 ADD_SUBDIRECTORY(ADM_videoEncoder)
 ADD_SUBDIRECTORY(ADM_videoFilter2)

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/gtk_gui.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/gtk_gui.cpp	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/gtk_gui.cpp	2009-10-02 05:22:07 UTC (rev 5364)
@@ -875,7 +875,7 @@
 	}
 
 	currentaudiostream=NULL;
-	filterCleanUp();
+//	filterCleanUp();
 	admPreview::cleanUp();
 }
 
@@ -1267,7 +1267,7 @@
 	  aviaudiostream=NULL;
 	  secondaudiostream=NULL;
 
-      filterCleanUp ();
+//      filterCleanUp ();
 	  UI_setTitle(NULL);
 
       return 1;

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/gui_play.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/gui_play.cpp	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/gui_play.cpp	2009-10-02 05:22:07 UTC (rev 5364)
@@ -114,11 +114,11 @@
     
     if(getPreviewMode()==ADM_PREVIEW_OUTPUT)
     {
-            filter=getLastVideoFilter();
+//            filter=getLastVideoFilter();
     }
     else
     {
-            filter=getFirstVideoFilter( );
+  //          filter=getFirstVideoFilter( );
     }
     
     stop_req = 0;
@@ -134,7 +134,7 @@
     delete playLoop;
    playing = 0;
             
-   getFirstVideoFilter( );
+//   getFirstVideoFilter( );
 
    admPreview::deferDisplay(0,0);
    

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/main.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/main.cpp	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/main.cpp	2009-10-02 05:22:07 UTC (rev 5364)
@@ -320,7 +320,7 @@
     SpidermonkeyDestroy();
     pthread_mutex_unlock(&amp;g_pSpiderMonkeyMutex);
     destroyPrefs();
-    filterCleanUp();
+//    filterCleanUp();
 	ADM_lavDestroy();
 
 #ifdef USE_SDL

Modified: branches/avidemux_2.6_branch_mean/avidemux/commonCmakeApplication.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/commonCmakeApplication.cmake	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/commonCmakeApplication.cmake	2009-10-02 05:22:07 UTC (rev 5364)
@@ -96,7 +96,7 @@
 ADM_script6 
 ADM_toolkit6
 ADM_videoEncoder6 
-ADM_video6 
+#ADM_video6 
 ADM_videoFilter6 
 ADM_internalVideoFilter6
 )

Modified: branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_dialog/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_dialog/CMakeLists.txt	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_dialog/CMakeLists.txt	2009-10-02 05:22:07 UTC (rev 5364)
@@ -12,7 +12,7 @@
  DIA_vcodec.cpp  
  DIA_xvid.cpp
  DIA_idx_pg.cpp    
- DIA_partial.cpp  
+ #DIA_partial.cpp  
  DIA_quota.cpp      
  DIA_vobsub.cpp
  DIA_jobs.cpp      

Deleted: branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_dialog/DIA_partial.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_dialog/DIA_partial.cpp	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_dialog/DIA_partial.cpp	2009-10-02 05:22:07 UTC (rev 5364)
@@ -1,188 +0,0 @@
-//
-// C++ Implementation: DIA_decimate
-//
-// Description: 
-//
-//
-// Author: mean &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>&gt;, (C) 2004
-//
-// Copyright: See COPYING file that comes with this distribution
-//
-//
-//
-// C++ Implementation: DIA_dectel
-//
-// Description: 
-//
-//
-// Author: mean &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>&gt;, (C) 2004
-//
-// Copyright: See COPYING file that comes with this distribution
-//
-//
-
-
-#include &quot;ADM_toolkitGtk.h&quot;
-
-
-#include &quot;ADM_video/ADM_vidPartial_param.h&quot;
-#include &quot;ADM_videoFilter.h&quot;
-#include &quot;DIA_coreToolkit.h&quot;
-#define SPIN_GET(x,y) {param-&gt;y= gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(WID(x))) ;}
-#define SPIN_SET(x,y)  {gtk_spin_button_set_value(GTK_SPIN_BUTTON(WID(x)),(gfloat)param-&gt;y) ;}
-#define SGET(x) gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(WID(x))) 
-
-static GtkWidget        *create_dialog1 (void);
-#define F_CONF 0x100
-uint8_t DIA_getPartial(PARTIAL_CONFIG *param,AVDMGenericVideoStream *son,AVDMGenericVideoStream *previous)
-{
-  
-    GtkWidget *dialog;
-    int ret=0,done=0;
-    dialog=create_dialog1();
-
-	gtk_dialog_set_alternative_button_order(GTK_DIALOG(dialog),
-								GTK_RESPONSE_OK,
-								GTK_RESPONSE_CANCEL,
-								-1);
-
-    // Update
-    SPIN_SET(spinbuttonStart,_start);
-    SPIN_SET(spinbuttonSize,_end);
-    gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(buttonConf), F_CONF);
-    // Run
-    gtk_register_dialog(dialog);
-    while(!done)
-    {
-      switch(gtk_dialog_run(GTK_DIALOG(dialog)))
-      {
-          case F_CONF:
-              printf(&quot;Poof\n&quot;);
-              son-&gt;configure(previous);
-              break;
-          case GTK_RESPONSE_OK:
-            {
-              uint32_t s,e;
-                s=SGET(spinbuttonStart);
-                e=SGET(spinbuttonSize);
-                if(e&lt;s)
-                {
-                  GUI_Error_HIG(&quot;Bad parameters&quot;,&quot;The end frame must be after the start frame !&quot;); 
-                }
-                else
-                {
-                  param-&gt;_start=s;
-                  param-&gt;_end=e;
-                  done=1;
-                  ret=1;
-                }
-              }
-                break;
-            default:
-              done=1;
-              break;
-                
-        }
-    }
-    gtk_unregister_dialog(dialog);
-    gtk_widget_destroy(dialog);
-    return ret;
-}
-GtkWidget*
-    create_dialog1 (void)
-{
-  GtkWidget *dialog1;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *vbox1;
-  GtkWidget *table1;
-  GtkWidget *label1;
-  GtkWidget *label2;
-  GtkObject *spinbuttonStart_adj;
-  GtkWidget *spinbuttonStart;
-  GtkObject *spinbuttonSize_adj;
-  GtkWidget *spinbuttonSize;
-  GtkWidget *buttonConf;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *okbutton1;
-
-  dialog1 = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog1), QT_TR_NOOP(&quot;Partial&quot;));
-  gtk_window_set_type_hint (GTK_WINDOW (dialog1), GDK_WINDOW_TYPE_HINT_DIALOG);
-
-  dialog_vbox1 = GTK_DIALOG (dialog1)-&gt;vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  vbox1 = gtk_vbox_new (FALSE, 0);
-  gtk_widget_show (vbox1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), vbox1, TRUE, TRUE, 0);
-
-  table1 = gtk_table_new (2, 2, FALSE);
-  gtk_widget_show (table1);
-  gtk_box_pack_start (GTK_BOX (vbox1), table1, TRUE, TRUE, 0);
-
-  label1 = gtk_label_new (QT_TR_NOOP(&quot;Start frame for partial :&quot;));
-  gtk_widget_show (label1);
-  gtk_table_attach (GTK_TABLE (table1), label1, 0, 1, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label1), 0, 0.5);
-
-  label2 = gtk_label_new (QT_TR_NOOP(&quot;End frame for partial :&quot;));
-  gtk_widget_show (label2);
-  gtk_table_attach (GTK_TABLE (table1), label2, 0, 1, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
-
-  spinbuttonStart_adj = gtk_adjustment_new (1, 0, 1000000, 1, 10, 10);
-  spinbuttonStart = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonStart_adj), 1, 0);
-  gtk_widget_show (spinbuttonStart);
-  gtk_table_attach (GTK_TABLE (table1), spinbuttonStart, 1, 2, 0, 1,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonStart), TRUE);
-
-  spinbuttonSize_adj = gtk_adjustment_new (1, 0, 1000000, 1, 10, 10);
-  spinbuttonSize = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonSize_adj), 1, 0);
-  gtk_widget_show (spinbuttonSize);
-  gtk_table_attach (GTK_TABLE (table1), spinbuttonSize, 1, 2, 1, 2,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonSize), TRUE);
-
-  buttonConf = gtk_button_new_with_mnemonic (QT_TR_NOOP(&quot;Configure partialized filter&quot;));
-  gtk_widget_show (buttonConf);
-  gtk_box_pack_start (GTK_BOX (vbox1), buttonConf, FALSE, FALSE, 0);
-
-  dialog_action_area1 = GTK_DIALOG (dialog1)-&gt;action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  cancelbutton1 = gtk_button_new_from_stock (&quot;gtk-cancel&quot;);
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock (&quot;gtk-ok&quot;);
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, &quot;dialog1&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, &quot;dialog_vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, vbox1, &quot;vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, table1, &quot;table1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label1, &quot;label1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label2, &quot;label2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonStart, &quot;spinbuttonStart&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonSize, &quot;spinbuttonSize&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, buttonConf, &quot;buttonConf&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, &quot;dialog_action_area1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, &quot;cancelbutton1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, okbutton1, &quot;okbutton1&quot;);
-
-  return dialog1;
-}
-

Modified: branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_filters/gui_filtermanager.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_filters/gui_filtermanager.cpp	2009-10-02 05:22:03 UTC (rev 5363)
+++ branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_filters/gui_filtermanager.cpp	2009-10-02 05:22:07 UTC (rev 5364)
@@ -17,9 +17,6 @@
 #include &quot;ADM_videoFilter.h&quot;
 #include &quot;ADM_videoFilter_internal.h&quot;
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
-#include &quot;ADM_video/ADM_videoNull.h&quot;
-
-#include &quot;ADM_video/ADM_vidPartial.h&quot;
 #include &quot;avi_vars.h&quot;
 #include &quot;ADM_filter/vidVCD.h&quot;
 //___________________________________________
@@ -92,7 +89,7 @@
 int
 GUI_handleVFilter (void)
 {
-
+#if 0
     getLastVideoFilter ();	// expand video to full size
 
     // sanity check
@@ -127,7 +124,7 @@
         gtk_unregister_dialog (dialog);
         gtk_widget_destroy(dialog);
         dialog=NULL;
-        
+#endif        
     return 1;
     
 }
@@ -231,7 +228,8 @@
         setSelectionNumber(nb_active_filter-1, WID(treeview0), stores[0], action_parameter-1);
         break;
 
-    case A_PARTIAL:
+    case A_PARTIAL:
+#if 0
         if (!action_parameter) break;
         AVDMGenericVideoStream *replace;
         CONFcouple *conf;
@@ -258,7 +256,8 @@
 			updateFilterList ();
 			setSelectionNumber(nb_active_filter-1, WID(treeview0), stores[0], action_parameter-1);
         }
-        else delete replace;
+        else delete replace;
+#endif
         break;
 
     case A_UP:


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002574.html">[Avidemux-svn-commit] r5363 - in branches/avidemux_2.6_branch_mean:	avidemux/common/ADM_filter avidemux/common/ADM_videoFilter2	avidemux_core/ADM_coreVideoFilter/include	avidemux_plugins/ADM_videoFilters6/dummy
</A></li>
	<LI>Next message: <A HREF="002576.html">[Avidemux-svn-commit] r5365 - in	branches/avidemux_2.6_branch_mean/avidemux: . common	common/ADM_filter common/ADM_toolkit common/ADM_videoFilter	gtk/ADM_userInterfaces/ADM_dialog gtk/ADM_userInterfaces/ADM_filters	gtk/ADM_userInterfaces/ADM_ocr
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2575">[ date ]</a>
              <a href="thread.html#2575">[ thread ]</a>
              <a href="subject.html#2575">[ subject ]</a>
              <a href="author.html#2575">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
