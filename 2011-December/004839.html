<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r7695 - in branches/avidemux_2.6_branch_mean:	avidemux avidemux/cli avidemux/gtk avidemux/qt4 avidemux_core	avidemux_plugins avidemux_plugins/ADM_audioDecoders	avidemux_plugins/ADM_audioDevices	avidemux_plugins/ADM_audioEncoders cmake
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2011-December/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r7695%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux%20avidemux/cli%20avidemux/gtk%20avidemux/qt4%20avidemux_core%0A%09avidemux_plugins%20avidemux_plugins/ADM_audioDecoders%0A%09avidemux_plugins/ADM_audioDevices%0A%09avidemux_plugins/ADM_audioEncoders%20cmake&In-Reply-To=%3C20111211154234.67F64482844%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004838.html">
   <LINK REL="Next"  HREF="004840.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r7695 - in branches/avidemux_2.6_branch_mean:	avidemux avidemux/cli avidemux/gtk avidemux/qt4 avidemux_core	avidemux_plugins avidemux_plugins/ADM_audioDecoders	avidemux_plugins/ADM_audioDevices	avidemux_plugins/ADM_audioEncoders cmake</H1>
    <B>gruntster at mail.berlios.de</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r7695%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux%20avidemux/cli%20avidemux/gtk%20avidemux/qt4%20avidemux_core%0A%09avidemux_plugins%20avidemux_plugins/ADM_audioDecoders%0A%09avidemux_plugins/ADM_audioDevices%0A%09avidemux_plugins/ADM_audioEncoders%20cmake&In-Reply-To=%3C20111211154234.67F64482844%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r7695 - in branches/avidemux_2.6_branch_mean:	avidemux avidemux/cli avidemux/gtk avidemux/qt4 avidemux_core	avidemux_plugins avidemux_plugins/ADM_audioDecoders	avidemux_plugins/ADM_audioDevices	avidemux_plugins/ADM_audioEncoders cmake">gruntster at mail.berlios.de
       </A><BR>
    <I>Sun Dec 11 16:42:34 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004838.html">[Avidemux-svn-commit] r7694 -	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
</A></li>
        <LI>Next message: <A HREF="004840.html">[Avidemux-svn-commit] r7696 -	branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/mplayerDenoise3D
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4839">[ date ]</a>
              <a href="thread.html#4839">[ thread ]</a>
              <a href="subject.html#4839">[ subject ]</a>
              <a href="author.html#4839">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: gruntster
Date: 2011-12-11 16:42:33 +0100 (Sun, 11 Dec 2011)
New Revision: 7695

Removed:
   branches/avidemux_2.6_branch_mean/cmake/admCheckAmrnb.cmake
   branches/avidemux_2.6_branch_mean/cmake/admPluginConfigSummary.cmake
   branches/avidemux_2.6_branch_mean/cmake/admSummary.cmake
Modified:
   branches/avidemux_2.6_branch_mean/avidemux/cli/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/commonCmakeApplication.cmake
   branches/avidemux_2.6_branch_mean/avidemux/gtk/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/qt4/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDevices/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioEncoders/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_plugins/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/cmake/admCheckAudioDeviceLibs.cmake
   branches/avidemux_2.6_branch_mean/cmake/admCheckAudioEncoderLibs.cmake
   branches/avidemux_2.6_branch_mean/cmake/admCheckDca.cmake
   branches/avidemux_2.6_branch_mean/cmake/admCheckFaad.cmake
   branches/avidemux_2.6_branch_mean/cmake/admCheckFontConfig.cmake
   branches/avidemux_2.6_branch_mean/cmake/admCheckFreeType.cmake
   branches/avidemux_2.6_branch_mean/cmake/admCheckGettext.cmake
   branches/avidemux_2.6_branch_mean/cmake/admCheckMiscLibs.cmake
   branches/avidemux_2.6_branch_mean/cmake/admCheckOpenGl.cmake
   branches/avidemux_2.6_branch_mean/cmake/admCheckOpencore.cmake
   branches/avidemux_2.6_branch_mean/cmake/admCheckVDPAU.cmake
   branches/avidemux_2.6_branch_mean/cmake/admCheckVorbisDec.cmake
   branches/avidemux_2.6_branch_mean/cmake/admCheckVpx.cmake
   branches/avidemux_2.6_branch_mean/cmake/admCheckX264.cmake
   branches/avidemux_2.6_branch_mean/cmake/admCheckXvid.cmake
   branches/avidemux_2.6_branch_mean/cmake/admConfigSummary.cmake
   branches/avidemux_2.6_branch_mean/cmake/admMainChecks.cmake
Log:
[cmake] dynamically build summary of optional libraries and present it at end of configuration rather than interspersed and hard-coded

Modified: branches/avidemux_2.6_branch_mean/avidemux/cli/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/cli/CMakeLists.txt	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/avidemux/cli/CMakeLists.txt	2011-12-11 15:42:33 UTC (rev 7695)
@@ -118,7 +118,6 @@
 endif (WIN32 OR APPLE)
 
 IF (WIN32)
-	target_link_libraries(ADM_osSupport)
 	target_link_libraries(avidemux3_cli winmm -mwindows -Wl,-subsystem,console -Wl,--export-all-symbols)
 ENDIF (WIN32)
 
@@ -127,9 +126,10 @@
 ###########################################
 ADM_LINK_THREAD(avidemux3_cli)
 ADM_INSTALL_BIN(avidemux3_cli)
-INSTALL(FILES ${CMAKE_BINARY_DIR}/config/cli/config.h DESTINATION &quot;${AVIDEMUX_INCLUDE_DIR}/avidemux/2.6/cli&quot;) 
-#
-# Packaging
-#
+
+DISPLAY_SUMMARY_LIST()
+
 include(admPackager)
 admPackager(cliPackage)
+INSTALL(FILES ${CMAKE_BINARY_DIR}/config/cli/config.h DESTINATION &quot;${AVIDEMUX_INCLUDE_DIR}/avidemux/2.6/cli&quot;) 
+MESSAGE(&quot;&quot;)
\ No newline at end of file

Modified: branches/avidemux_2.6_branch_mean/avidemux/commonCmakeApplication.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/commonCmakeApplication.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/avidemux/commonCmakeApplication.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -7,12 +7,15 @@
 
 SET(CMAKE_MODULE_PATH &quot;${AVIDEMUX_TOP_SOURCE_DIR}/cmake&quot; &quot;${CMAKE_MODULE_PATH}&quot;)
 
-IF (WIN32)
-	SET(ADM_PLUGIN_DIR &quot;plugins&quot;)
-ELSE (WIN32)
-	SET(ADM_PLUGIN_DIR &quot;ADM_plugins6&quot;)
+IF (WIN32)
+	SET(ADM_PLUGIN_DIR &quot;plugins&quot;)
+ELSE (WIN32)
+	SET(ADM_PLUGIN_DIR &quot;ADM_plugins6&quot;)
 ENDIF (WIN32)
 
+include(admConfigSummary)
+INITIALISE_SUMMARY_LISTS()
+
 ########################################
 # Shared cmake part
 ########################################

Modified: branches/avidemux_2.6_branch_mean/avidemux/gtk/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/gtk/CMakeLists.txt	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/avidemux/gtk/CMakeLists.txt	2011-12-11 15:42:33 UTC (rev 7695)
@@ -132,7 +132,6 @@
 endif (WIN32 OR APPLE)
 
 IF (WIN32)
-	target_link_libraries(ADM_osSupport)
 	target_link_libraries(avidemux3_gtk winmm -mwindows -Wl,--export-all-symbols)
 ENDIF (WIN32)
 
@@ -141,9 +140,10 @@
 ###########################################
 ADM_LINK_THREAD(avidemux3_gtk)
 ADM_INSTALL_BIN(avidemux3_gtk)
-INSTALL(FILES ${CMAKE_BINARY_DIR}/config/gtk/config.h DESTINATION &quot;${AVIDEMUX_INCLUDE_DIR}/avidemux/2.6/gtk&quot;) 
-#
-# Packaging
-#
+
+DISPLAY_SUMMARY_LIST()
+
 include(admPackager)
 admPackager(gtkPackage)
+INSTALL(FILES ${CMAKE_BINARY_DIR}/config/gtk/config.h DESTINATION &quot;${AVIDEMUX_INCLUDE_DIR}/avidemux/2.6/gtk&quot;) 
+MESSAGE(&quot;&quot;)
\ No newline at end of file

Modified: branches/avidemux_2.6_branch_mean/avidemux/qt4/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/qt4/CMakeLists.txt	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/avidemux/qt4/CMakeLists.txt	2011-12-11 15:42:33 UTC (rev 7695)
@@ -192,10 +192,10 @@
 ###########################################
 ADM_LINK_THREAD(avidemux3_qt4)
 ADM_INSTALL_BIN(avidemux3_qt4)
-INSTALL(FILES ${CMAKE_BINARY_DIR}/config/qt4/config.h DESTINATION &quot;${AVIDEMUX_INCLUDE_DIR}/avidemux/2.6/qt4&quot;) 
-#
-# Packaging
-#
+
+DISPLAY_SUMMARY_LIST()
+
 include(admPackager)
 admPackager(qt4Package)
-include(admConfigSummary)
+INSTALL(FILES ${CMAKE_BINARY_DIR}/config/qt4/config.h DESTINATION &quot;${AVIDEMUX_INCLUDE_DIR}/avidemux/2.6/qt4&quot;) 
+MESSAGE(&quot;&quot;)

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/CMakeLists.txt	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/CMakeLists.txt	2011-12-11 15:42:33 UTC (rev 7695)
@@ -20,9 +20,14 @@
 ENDIF (WIN32)
 
 ADD_DEFINITIONS(-D_FILE_OFFSET_BITS=64 -D_LARGE_FILES)
+
+include(admConfigSummary)
+INITIALISE_SUMMARY_LISTS()
+
 include(admMainChecks)
 include(admCheckFtello)
 include(admAsNeeded)
+
 ########################################
 # VDPAU
 ########################################
@@ -98,10 +103,8 @@
 ########################################
 # Config Summary
 ########################################
-INCLUDE(admConfigSummary)
-#
-# Packaging
-#
+DISPLAY_SUMMARY_LIST()
+
 include(admPackager)
 admPackager(corePackage)
 INSTALL(FILES ${CMAKE_BINARY_DIR}/config/ADM_coreConfig.h DESTINATION &quot;${AVIDEMUX_INCLUDE_DIR}/avidemux/2.6&quot;) 

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders/CMakeLists.txt	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders/CMakeLists.txt	2011-12-11 15:42:33 UTC (rev 7695)
@@ -1,22 +1,12 @@
-include(admSummary)
 ADD_SUBDIRECTORY(ADM_ad_ac3)
 ADD_SUBDIRECTORY(ADM_ad_faad)
 ADD_SUBDIRECTORY(ADM_ad_mad)
 ADD_SUBDIRECTORY(ADM_ad_vorbis)
 ADD_SUBDIRECTORY(ADM_ad_dca)
-ADD_SUBDIRECTORY(ADM_ad_amrnb)
+#ADD_SUBDIRECTORY(ADM_ad_amrnb)
 ADD_SUBDIRECTORY(ADM_ad_lav)
 ADD_SUBDIRECTORY(ADM_ad_ulaw)
 ADD_SUBDIRECTORY(ADM_ad_ms_adpcm)
 ADD_SUBDIRECTORY(ADM_ad_ima_adpcm)
 ADD_SUBDIRECTORY(ADM_ad_opencore_amrwb)
-ADD_SUBDIRECTORY(ADM_ad_opencore_amrnb)
-MESSAGE(STATUS &quot;***  Audio Decoder ***&quot;)
-ADM_DISPLAY(&quot;FAAD      &quot; &quot;${USE_FAAD}&quot;)
-ADM_DISPLAY(&quot;Vorbis    &quot; &quot;${USE_LIBVORBIS}&quot;)
-ADM_DISPLAY(&quot;FAAC      &quot; &quot;${USE_FAAC}&quot;)
-ADM_DISPLAY(&quot;OpenAMR-NB&quot; &quot;${OPENCORE_AMRNB_FOUND}&quot;)
-ADM_DISPLAY(&quot;DCA       &quot; &quot;${LIBDCA_FOUND}&quot;)
-MESSAGE(STATUS &quot;***  /Audio Decoder  ***&quot;)
-
-
+ADD_SUBDIRECTORY(ADM_ad_opencore_amrnb)
\ No newline at end of file

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDevices/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDevices/CMakeLists.txt	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDevices/CMakeLists.txt	2011-12-11 15:42:33 UTC (rev 7695)
@@ -1,5 +1,5 @@
 include(admCheckAudioDeviceLibs)
-include(admSummary)
+
 if(USE_ALSA)
 ADD_SUBDIRECTORY(Alsa)
 endif(USE_ALSA)
@@ -31,17 +31,3 @@
 if(WIN32)
 ADD_SUBDIRECTORY(Win32)
 endif(WIN32)
-
-MESSAGE(&quot;***  Audio Devices ***&quot;)
-ADM_DISPLAY(&quot;SDL      &quot; &quot;${USE_SDL}&quot;)
-ADM_DISPLAY(&quot;Pulse    &quot; &quot;${USE_PULSE_SIMPLE}&quot;)
-ADM_DISPLAY(&quot;ESD      &quot; &quot;${USE_ESD}&quot;)
-ADM_DISPLAY(&quot;OSS      &quot; &quot;${USE_OSS}&quot;)
-ADM_DISPLAY(&quot;Alsa     &quot; &quot;${USE_ALSA}&quot;)
-ADM_DISPLAY(&quot;Jack     &quot; &quot;${USE_JACK}&quot;)
-if(WIN32)
-ADM_DISPLAY(&quot;Win32    &quot; &quot;1&quot;)
-endif(WIN32)
-MESSAGE(&quot;***  /Audio Devices  ***&quot;)
-
-

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioEncoders/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioEncoders/CMakeLists.txt	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioEncoders/CMakeLists.txt	2011-12-11 15:42:33 UTC (rev 7695)
@@ -1,4 +1,3 @@
-#######################################
 include (admCheckAudioEncoderLibs)
 ADD_SUBDIRECTORY(twolame)
 ADD_SUBDIRECTORY(pcm)
@@ -19,12 +18,5 @@
 if(USE_FAAC)
 ADD_SUBDIRECTORY(faac)
 endif(USE_FAAC)
-MESSAGE(&quot;***  Audio Encoder ***&quot;)
-ADM_DISPLAY(&quot;Aften     &quot; &quot;${USE_AFTEN}&quot;)
-ADM_DISPLAY(&quot;LAME      &quot; &quot;${USE_LAME}&quot;)
-ADM_DISPLAY(&quot;FAAC      &quot; &quot;${USE_FAAC}&quot;)
-ADM_DISPLAY(&quot;Vorbis    &quot; &quot;${USE_VORBIS}&quot;)
-MESSAGE(&quot;***  /Audio Encoder  ***&quot;)
 
 
-

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/CMakeLists.txt	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/CMakeLists.txt	2011-12-11 15:42:33 UTC (rev 7695)
@@ -82,9 +82,8 @@
     SET(DO_CLI    1)
 endif(PLUGIN_UI MATCHES &quot;CLI&quot;)
 
-
-
 MESSAGE(STATUS &quot;Plugin UI : ${PLUGIN_UI}&quot;)
+MESSAGE(&quot;&quot;)
 
 ########################################
 # Check for UI libraries
@@ -104,11 +103,11 @@
     ENDIF(${ADM_INC} MATCHES &quot;NOTFOUND&quot;)
 ENDMACRO(CHECK_ADM_CONFIG_H flavor result)
 
+APPEND_SUMMARY_LIST(&quot;User Interface&quot; &quot;Common&quot; &quot;${DO_COMMON}&quot;)
+
 #*****
 # GTK
 #*****
-MESSAGE(STATUS &quot;Checking flavors to build (gtk/qt4/...)&quot;)
-MESSAGE(STATUS &quot;***************************************&quot;)
 if(DO_GTK)
     INCLUDE(admCheckGtk)
     INCLUDE(admCheckGettext)
@@ -118,15 +117,19 @@
         MESSAGE(STATUS &quot;Gtk and gthread found, good&quot;)
         CHECK_ADM_CONFIG_H(gtk ADM_INC)
         IF(NOT ADM_INC)
-            MESSAGE(ERROR &quot; GTK UI requested, but cannot find header file for avidemux/gtk...disabling it&quot;)
+            MESSAGE(&quot;ERROR GTK UI requested, but cannot find header file for avidemux/gtk...disabling it&quot;)
+			MESSAGE(&quot;&quot;)
             SET(DO_GTK 0)
         ENDIF(NOT ADM_INC)
     else (GTK_FOUND AND GTHREAD_FOUND)
-        MESSAGE(ERROR &quot; GTK UI requested, but gtk/gthread libraries not found... disabling it&quot;)
+        MESSAGE(&quot;ERROR GTK UI requested, but gtk/gthread libraries not found... disabling it&quot;)
+		MESSAGE(&quot;&quot;)
         SET(DO_GTK 0)
     endif (GTK_FOUND AND GTHREAD_FOUND)
 endif(DO_GTK)
 
+APPEND_SUMMARY_LIST(&quot;User Interface&quot; &quot;GTK+&quot; &quot;${DO_GTK}&quot;)
+
 #*****
 # QT4
 #*****
@@ -135,30 +138,43 @@
     checkQt4()
     IF (NOT QT4_FOUND)
         SET(DO_QT4 0)
-        MESSAGE(ERROR &quot; QT4 UI requested, but qt4 libraries not found... disabling it&quot;)
+        MESSAGE(&quot;ERROR QT4 UI requested, but qt4 libraries not found... disabling it&quot;)
+		MESSAGE(&quot;&quot;)
     ELSE (NOT QT4_FOUND)
-        MESSAGE(STATUS &quot; QT4 libraries found, good&quot;)
+        MESSAGE(STATUS &quot;QT4 libraries found, good&quot;)
         CHECK_ADM_CONFIG_H(qt4 ADM_INC)
-        MESSAGE(STATUS &quot; Checking for Qt4 OpenGL support &quot;)
+		MESSAGE(&quot;&quot;)
+
         INCLUDE(admCheckOpenGl)
         IF(NOT ADM_INC)
-            MESSAGE(ERROR &quot; QT4 UI requested, but cannot find header file for avidemux/qt4...disabling it&quot;)
+            MESSAGE(&quot;ERROR QT4 UI requested, but cannot find header file for avidemux/qt4...disabling it&quot;)
+			MESSAGE(&quot;&quot;)
             SET(DO_QT4 0)
         ENDIF(NOT ADM_INC)
     ENDIF (NOT QT4_FOUND)
 endif(DO_QT4)
 
+APPEND_SUMMARY_LIST(&quot;User Interface&quot; &quot;Qt 4&quot; &quot;${DO_QT4}&quot;)
+
 #*****
 # CLI
 #*****
 if(DO_CLI)
+		MESSAGE(STATUS &quot;Checking for CLI&quot;)
+		MESSAGE(STATUS &quot;****************&quot;)
+
         CHECK_ADM_CONFIG_H(cli ADM_INC)
+
         IF(NOT ADM_INC)
-            MESSAGE(ERROR &quot; CLI UI requested, but cannot find header file for avidemux/cli...disabling it&quot;)
+            MESSAGE(&quot;ERROR CLI UI requested, but cannot find header file for avidemux/cli...disabling it&quot;)
             SET(DO_CLI 0)
         ENDIF(NOT ADM_INC)
+
+		MESSAGE(&quot;&quot;)
 endif(DO_CLI)
 
+APPEND_SUMMARY_LIST(&quot;User Interface&quot; &quot;CLI&quot; &quot;${DO_CLI}&quot;)
+
 ########################################
 # Actual work to do..
 ########################################
@@ -183,10 +199,8 @@
 ########################################
 # Config Summary
 ########################################
-INCLUDE(admPluginConfigSummary)
-MESSAGE(&quot;&quot;)
-#
-# Packaging
-#
+DISPLAY_SUMMARY_LIST()
+
 include(admPackager)
 admPackager(pluginsPackage)
+MESSAGE(&quot;&quot;)
\ No newline at end of file

Deleted: branches/avidemux_2.6_branch_mean/cmake/admCheckAmrnb.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admCheckAmrnb.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admCheckAmrnb.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -1,20 +0,0 @@
-MACRO(checkAmrnb)
-	IF (NOT AMRNB_CHECKED)
-		OPTION(AMRNB &quot;&quot; ON)
-
-		MESSAGE(STATUS &quot;Checking for amrnb&quot;)
-		MESSAGE(STATUS &quot;******************&quot;)
-
-		IF (AMRNB)
-			FIND_HEADER_AND_LIB(AMRNB amrnb/interf_dec.h amrnb GP3Decoder_Interface_Decode)
-			PRINT_LIBRARY_INFO(&quot;amrnb&quot; AMRNB_FOUND &quot;${AMRNB_INCLUDE_DIR}&quot; &quot;${AMRNB_LIBRARY_DIR}&quot;)
-		ELSE (AMRNB)
-			MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
-		ENDIF (AMRNB)
-
-		SET(ENV{ADM_HAVE_AMRNB} ${AMRNB_FOUND})
-		SET(AMRNB_CHECKED 1)
-
-		MESSAGE(&quot;&quot;)
-	ENDIF (NOT AMRNB_CHECKED)
-ENDMACRO(checkAmrnb)
\ No newline at end of file

Modified: branches/avidemux_2.6_branch_mean/cmake/admCheckAudioDeviceLibs.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admCheckAudioDeviceLibs.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admCheckAudioDeviceLibs.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -23,6 +23,7 @@
 	ENDIF (ALSA)
 
 	MESSAGE(&quot;&quot;)
+	APPEND_SUMMARY_LIST(&quot;Audio Device&quot; &quot;ALSA&quot; &quot;${USE_ALSA}&quot;)
 ELSE (UNIX AND NOT APPLE)
 	SET(ALSA_CAPABLE FALSE)
 ENDIF (UNIX AND NOT APPLE)
@@ -48,6 +49,7 @@
 	ENDIF (ARTS)
 
 	MESSAGE(&quot;&quot;)
+	APPEND_SUMMARY_LIST(&quot;Audio Device&quot; &quot;aRts&quot; &quot;${USE_ARTS}&quot;)
 ELSE (UNIX)
 	SET(ARTS_CAPABLE FALSE)
 ENDIF (UNIX)
@@ -73,6 +75,7 @@
 	ENDIF (ESD)
 
 	MESSAGE(&quot;&quot;)
+	APPEND_SUMMARY_LIST(&quot;Audio Device&quot; &quot;ESD&quot; &quot;${USE_ESD}&quot;)
 ELSE (UNIX)
 	SET(ESD_CAPABLE FALSE)
 ENDIF (UNIX)
@@ -98,6 +101,7 @@
 	ENDIF (JACK)
 
 	MESSAGE(&quot;&quot;)
+	APPEND_SUMMARY_LIST(&quot;Audio Device&quot; &quot;JACK&quot; &quot;${USE_JACK}&quot;)
 ELSE (UNIX)
 	SET(JACK_CAPABLE FALSE)
 ENDIF (UNIX)
@@ -117,6 +121,7 @@
 	ENDIF (SRC_FOUND)
 
 	MESSAGE(&quot;&quot;)
+	APPEND_SUMMARY_LIST(&quot;Audio Device&quot; &quot;SRC&quot; &quot;${USE_SRC}&quot;)
 ENDIF (JACK_FOUND)
 
 ########################################
@@ -140,9 +145,11 @@
 	ENDIF (OSS)
 
 	MESSAGE(&quot;&quot;)
+	APPEND_SUMMARY_LIST(&quot;Audio Device&quot; &quot;OSS&quot; &quot;${USE_OSS}&quot;)
 ELSE (UNIX AND NOT APPLE)
 	SET(OSS_CAPABLE FALSE)
 ENDIF (UNIX AND NOT APPLE)
+
 ########################################
 # PulseAudioSimple
 ########################################
@@ -190,6 +197,7 @@
 
         MARK_AS_ADVANCED(PULSEAUDIOSIMPLE_INCLUDE_DIR PULSEAUDIOSIMPLE_LIBRARIES)
 
+		APPEND_SUMMARY_LIST(&quot;Audio Device&quot; &quot;PulseAudio&quot; &quot;${USE_PULSE_SIMPLE}&quot;)
 ELSE (UNIX AND NOT APPLE)
 	SET(PULSEAUDIOSIMPLE_CAPABLE FALSE)
 ENDIF (UNIX AND NOT APPLE)

Modified: branches/avidemux_2.6_branch_mean/cmake/admCheckAudioEncoderLibs.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admCheckAudioEncoderLibs.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admCheckAudioEncoderLibs.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -42,12 +42,12 @@
 			                SET(USE_AFTEN 0)
                         ENDIF( AFTEN_TEST_COMPILE_RESULT )
                 ENDIF(CROSS)
-
 	ENDIF (AFTEN_FOUND)
 ELSE (AFTEN)
 	MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
 ENDIF (AFTEN)
 
+APPEND_SUMMARY_LIST(&quot;Audio Encoder&quot; &quot;Aften&quot; &quot;${USE_AFTEN}&quot;)
 MESSAGE(&quot;&quot;)
 
 ########################################
@@ -73,6 +73,7 @@
 	MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
 ENDIF (LAME)
 
+APPEND_SUMMARY_LIST(&quot;Audio Encoder&quot; &quot;LAME&quot; &quot;${USE_LAME}&quot;)
 MESSAGE(&quot;&quot;)
 
 
@@ -95,6 +96,7 @@
 	MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
 ENDIF (FAAC)
 
+APPEND_SUMMARY_LIST(&quot;Audio Encoder&quot; &quot;FAAC&quot; &quot;${USE_FAAC}&quot;)
 MESSAGE(&quot;&quot;)
 
 ########################################
@@ -120,4 +122,5 @@
 	MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
 ENDIF (VORBIS)
 
+APPEND_SUMMARY_LIST(&quot;Audio Encoder&quot; &quot;Vorbis&quot; &quot;${USE_VORBIS}&quot;)
 MESSAGE (&quot;&quot;)

Modified: branches/avidemux_2.6_branch_mean/cmake/admCheckDca.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admCheckDca.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admCheckDca.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -36,9 +36,10 @@
 			MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
 		ENDIF (LIBDCA)
 
-		SET(ENV{ADM_HAVE_LIBDCA} ${LIBDCA_FOUND})
 		SET(LIBDCA_CHECKED 1)
 
 		MESSAGE(&quot;&quot;)
 	ENDIF (NOT LIBDCA_CHECKED)
+
+	APPEND_SUMMARY_LIST(&quot;Audio Decoder&quot; &quot;libdca&quot; &quot;${LIBDCA_FOUND}&quot;)
 ENDMACRO(checkDca)

Modified: branches/avidemux_2.6_branch_mean/cmake/admCheckFaad.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admCheckFaad.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admCheckFaad.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -39,9 +39,10 @@
 			MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
 		ENDIF (FAAD)
 
-		SET(ENV{ADM_HAVE_FAAD} ${FAAD_FOUND})
 		SET(FAAD_CHECKED 1)
 
 		MESSAGE(&quot;&quot;)
 	ENDIF (NOT FAAD_CHECKED)
+
+	APPEND_SUMMARY_LIST(&quot;Audio Decoder&quot; &quot;FAAD&quot; &quot;${FAAD_FOUND}&quot;)
 ENDMACRO(checkFaad)

Modified: branches/avidemux_2.6_branch_mean/cmake/admCheckFontConfig.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admCheckFontConfig.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admCheckFontConfig.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -16,9 +16,10 @@
 			MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
 		ENDIF (FONTCONFIG)
 
-		SET(ENV{ADM_HAVE_FONTCONFIG} ${FONTCONFIG_FOUND})
 		SET(FONTCONFIG_CHECKED 1)
 
 		MESSAGE(&quot;&quot;)
 	ENDIF (NOT FONTCONFIG_CHECKED)
+
+	APPEND_SUMMARY_LIST(&quot;Miscellaneous&quot; &quot;FontConfig&quot; &quot;${FONTCONFIG_FOUND}&quot;)
 ENDMACRO(checkFontConfig)
\ No newline at end of file

Modified: branches/avidemux_2.6_branch_mean/cmake/admCheckFreeType.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admCheckFreeType.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admCheckFreeType.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -18,6 +18,8 @@
 	MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
 ENDIF (FREETYPE2)
 
+APPEND_SUMMARY_LIST(&quot;Miscellaneous&quot; &quot;FreeType2&quot; &quot;${FREETYPE2_FOUND}&quot;)
+
 MESSAGE(&quot;&quot;)
 
 ########################################

Modified: branches/avidemux_2.6_branch_mean/cmake/admCheckGettext.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admCheckGettext.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admCheckGettext.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -45,7 +45,8 @@
 		ENDIF (GETTEXT)
 
 		SET(GETTEXT_CHECKED 1)
-
 		MESSAGE(&quot;&quot;)
 	ENDIF (NOT GETTEXT_CHECKED)
+
+	APPEND_SUMMARY_LIST(&quot;Miscellaneous&quot; &quot;gettext&quot; &quot;${HAVE_GETTEXT}&quot;)
 ENDMACRO(checkGettext)
\ No newline at end of file

Modified: branches/avidemux_2.6_branch_mean/cmake/admCheckMiscLibs.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admCheckMiscLibs.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admCheckMiscLibs.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -32,6 +32,8 @@
 	MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
 ENDIF (SDL)
 
+APPEND_SUMMARY_LIST(&quot;Miscellaneous&quot; &quot;SDL&quot; &quot;${USE_SDL}&quot;)
+
 MESSAGE(&quot;&quot;)
 
 ########################################
@@ -53,6 +55,8 @@
 
 		MESSAGE(&quot;&quot;)
 	ENDIF (XVIDEO)
+
+	APPEND_SUMMARY_LIST(&quot;Miscellaneous&quot; &quot;XVideo&quot; &quot;${XVIDEO_FOUND}&quot;)
 ELSE (UNIX AND NOT APPLE)
 	SET(XVIDEO_CAPABLE FALSE)
 ENDIF (UNIX AND NOT APPLE)

Modified: branches/avidemux_2.6_branch_mean/cmake/admCheckOpenGl.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admCheckOpenGl.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admCheckOpenGl.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -38,6 +38,8 @@
        MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
 ENDIF (OPENGL)
 
+APPEND_SUMMARY_LIST(&quot;Miscellaneous&quot; &quot;OpenGL&quot; &quot;${USE_OPENGL}&quot;)
+
 MESSAGE(&quot;&quot;)
 
 

Modified: branches/avidemux_2.6_branch_mean/cmake/admCheckOpencore.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admCheckOpencore.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admCheckOpencore.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -12,11 +12,12 @@
 			MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
 		ENDIF (OPENCORE_AMRNB)
 
-		SET(ENV{ADM_HAVE_OPENCORE_AMRNB} ${OPENCORE_AMRNB_FOUND})
 		MESSAGE(&quot;&quot;)
 
 		SET(OPENCORE_AMRNB_CHECKED 1)
 	ENDIF (NOT OPENCORE_AMRNB_CHECKED)
+
+	APPEND_SUMMARY_LIST(&quot;Audio Decoder&quot; &quot;opencore-amrnb&quot; &quot;${OPENCORE_AMRNB_FOUND}&quot;)
 ENDMACRO(checkOpencoreAmrnb)
 
 MACRO(checkOpencoreAmrwb)
@@ -38,4 +39,6 @@
 		
 		SET(OPENCORE_AMRWB_CHECKED 1)
 	ENDIF (NOT OPENCORE_AMRWB_CHECKED)
+
+	APPEND_SUMMARY_LIST(&quot;Audio Decoder&quot; &quot;opencore-amrwb&quot; &quot;${OPENCORE_AMRWB_FOUND}&quot;)
 ENDMACRO(checkOpencoreAmrwb)
\ No newline at end of file

Modified: branches/avidemux_2.6_branch_mean/cmake/admCheckVDPAU.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admCheckVDPAU.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admCheckVDPAU.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -4,37 +4,40 @@
 # as it is including its own dynlinker
 ########################################
 MACRO(checkVDPAU)
-	IF (NOT VDPAU_CHECKED)
-		OPTION(VDPAU &quot;&quot; ON)
+	if (UNIX)
+		IF (NOT VDPAU_CHECKED)
+			OPTION(VDPAU &quot;&quot; ON)
 
-		MESSAGE(STATUS &quot;Checking for VDPAU&quot;)
-		MESSAGE(STATUS &quot;*******************&quot;)
+			MESSAGE(STATUS &quot;Checking for VDPAU&quot;)
+			MESSAGE(STATUS &quot;*******************&quot;)
 
-		IF (VDPAU)
+			IF (VDPAU)
 		
-			FIND_HEADER_AND_LIB(VDPAU vdpau/vdpau.h )
+				FIND_HEADER_AND_LIB(VDPAU vdpau/vdpau.h )
 		
-			IF (VDPAU_FOUND)
-                                # CHECK That it has 
-                                ADM_COMPILE(check_vdpau.cpp &quot;&quot; &quot;${VDPAU_INCLUDE_DIR}&quot; &quot;${VDPAU_LIBRARY_DIR}&quot; VDPAU_COMPILE VDPAU_OUTPUT)
-                                IF(VDPAU_COMPILE)
-				        SET(VDPAU_FOUND 1)
-				        SET(USE_VDPAU 1)
-				        SET(VDPAU_INCLUDE_DIR &quot;${VDPAU_INCLUDE_DIR}&quot;)
-				        SET(VDPAU_LIBRARY_DIR &quot;${VDPAU_LIBRARY_DIR}&quot;)
-                                ELSE(VDPAU_COMPILE)
-                                        MESSAGE(STATUS &quot;The vdpau found does not compile, probably too old ${VDPAU_OUTPUT}.&quot;)
-                                ENDIF(VDPAU_COMPILE)
+				IF (VDPAU_FOUND)
+									# CHECK That it has 
+									ADM_COMPILE(check_vdpau.cpp &quot;&quot; &quot;${VDPAU_INCLUDE_DIR}&quot; &quot;${VDPAU_LIBRARY_DIR}&quot; VDPAU_COMPILE VDPAU_OUTPUT)
+									IF(VDPAU_COMPILE)
+							SET(VDPAU_FOUND 1)
+							SET(USE_VDPAU 1)
+							SET(VDPAU_INCLUDE_DIR &quot;${VDPAU_INCLUDE_DIR}&quot;)
+							SET(VDPAU_LIBRARY_DIR &quot;${VDPAU_LIBRARY_DIR}&quot;)
+									ELSE(VDPAU_COMPILE)
+											MESSAGE(STATUS &quot;The vdpau found does not compile, probably too old ${VDPAU_OUTPUT}.&quot;)
+									ENDIF(VDPAU_COMPILE)
                                 
-			ENDIF (VDPAU_FOUND)
+				ENDIF (VDPAU_FOUND)
 
-			PRINT_LIBRARY_INFO(&quot;VDPAU&quot; VDPAU_FOUND &quot;${VDPAU_INCLUDE_DIR}&quot; &quot;${VDPAU_LIBRARY_DIR}&quot;)
-		ELSE (VDPAU)
-			MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
-		ENDIF (VDPAU)
+				PRINT_LIBRARY_INFO(&quot;VDPAU&quot; VDPAU_FOUND &quot;${VDPAU_INCLUDE_DIR}&quot; &quot;${VDPAU_LIBRARY_DIR}&quot;)
+			ELSE (VDPAU)
+				MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
+			ENDIF (VDPAU)
 
-		SET(VDPAU_CHECKED 1)
+			SET(VDPAU_CHECKED 1)
+			MESSAGE(&quot;&quot;)
+		ENDIF (NOT VDPAU_CHECKED)
 
-		MESSAGE(&quot;&quot;)
-	ENDIF (NOT VDPAU_CHECKED)
+		APPEND_SUMMARY_LIST(&quot;Miscellaneous&quot; &quot;VDPAU&quot; &quot;${VDPAU_FOUND}&quot;)
+	endif (UNIX)
 ENDMACRO(checkVDPAU)

Modified: branches/avidemux_2.6_branch_mean/cmake/admCheckVorbisDec.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admCheckVorbisDec.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admCheckVorbisDec.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -32,4 +32,6 @@
 
 		MESSAGE(&quot;&quot;)
 	ENDIF (NOT LIBVORBIS_CHECKED)
+
+	APPEND_SUMMARY_LIST(&quot;Audio Decoder&quot; &quot;Vorbis&quot; &quot;${LIBVORBIS_FOUND}&quot;)
 ENDMACRO(checkvorbis)

Modified: branches/avidemux_2.6_branch_mean/cmake/admCheckVpx.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admCheckVpx.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admCheckVpx.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -15,4 +15,6 @@
 			MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
 		ENDIF (VPXDEC)
 		MESSAGE(&quot;&quot;)
+
+		APPEND_SUMMARY_LIST(&quot;Audio Decoder&quot; &quot;libvpx&quot; &quot;${VPX_FOUND}&quot;)
 ENDMACRO(checkVpxDec)

Modified: branches/avidemux_2.6_branch_mean/cmake/admCheckX264.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admCheckX264.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admCheckX264.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -31,9 +31,10 @@
 			MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
 		ENDIF (X264)
 
-		SET(ENV{ADM_HAVE_X264} ${X264_FOUND})
 		SET(X264_CHECKED 1)
 
 		MESSAGE(&quot;&quot;)
 	ENDIF (NOT X264_CHECKED)
+
+	APPEND_SUMMARY_LIST(&quot;Video Encoder&quot; &quot;x264&quot; &quot;${_X264_FOUND}&quot;)
 ENDMACRO(checkX264)

Modified: branches/avidemux_2.6_branch_mean/cmake/admCheckXvid.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admCheckXvid.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admCheckXvid.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -14,4 +14,6 @@
 			MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
 		ENDIF (XVID)
 		MESSAGE(&quot;&quot;)
+
+		APPEND_SUMMARY_LIST(&quot;Video Encoder&quot; &quot;Xvid&quot; &quot;${XVID_FOUND}&quot;)
 ENDMACRO(checkXvid)

Modified: branches/avidemux_2.6_branch_mean/cmake/admConfigSummary.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admConfigSummary.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admConfigSummary.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -1,38 +1,86 @@
-# ARGV2 - capable flag
-MACRO(ADM_DISPLAY _name)
-	SET(PROCEED 1)
+macro(INITIALISE_SUMMARY_LISTS)
+	foreach(componentType ${SUMMARY_LIST})
+		GET_SUMMARY_LIST_NAME(listName ${componentType})
+		unset(${listName} CACHE)
+	endforeach(componentType)
 
-	IF (NOT ${ARGV2})
-		SET(PROCEED 0)
-	ENDIF (NOT ${ARGV2})
+	set(SUMMARY_LIST &quot;&quot; CACHE INTERNAL &quot;&quot;)
+endmacro(INITIALISE_SUMMARY_LISTS)
 
-	IF (${PROCEED})
-		IF (${ARGV1})
-			SET(s &quot;Yes&quot;)
-		ELSE (${ARGV1})
-			SET(s &quot;No&quot;)
-		ENDIF (${ARGV1})
+macro(GET_SUMMARY_LIST_NAME outVariable componentType)
+	string(REPLACE &quot; &quot; &quot;_&quot; safeComponentType &quot;${componentType}&quot;)
+	set(${outVariable} &quot;SUMMARY_${safeComponentType}&quot;)
+endmacro(GET_SUMMARY_LIST_NAME)
 
-		MESSAGE(&quot;   ${_name}  ${s}&quot;)
-	ENDIF (${PROCEED})
-ENDMACRO(ADM_DISPLAY)
+macro(APPEND_SUMMARY_LIST componentType componentName componentFound)
+	GET_SUMMARY_LIST_NAME(listName ${componentType})
 
-MESSAGE(&quot;*********************&quot;)
-MESSAGE(&quot;***    SUMMARY    ***&quot;)
-MESSAGE(&quot;*********************&quot;)
+	if (${listName})
+		set(${listName} ${${listName}} &quot;${componentName}=${componentFound}&quot; CACHE INTERNAL &quot;&quot;)
+	else (${listName})
+		if (SUMMARY_LIST)
+			set(SUMMARY_LIST ${componentType} ${SUMMARY_LIST} CACHE INTERNAL &quot;&quot;)
+		else (SUMMARY_LIST)
+			set(SUMMARY_LIST ${componentType} CACHE INTERNAL &quot;&quot;)
+		endif (SUMMARY_LIST)
 
-MESSAGE(&quot;*** Miscellaneous ***&quot;)
-ADM_DISPLAY(&quot;gettext   &quot; &quot;${HAVE_GETTEXT}&quot;)
-ADM_DISPLAY(&quot;SDL       &quot; &quot;${USE_SDL}&quot;)
-ADM_DISPLAY(&quot;XVideo    &quot; &quot;${USE_XV}&quot; &quot;${XVIDEO_CAPABLE}&quot;)
-ADM_DISPLAY(&quot;VDPAU     &quot; &quot;${USE_VDPAU}&quot; )
+		set(${listName} &quot;${componentName}=${componentFound}&quot; CACHE INTERNAL &quot;&quot;)
+	endif (${listName})
+endmacro(APPEND_SUMMARY_LIST)
 
-MESSAGE(&quot;*********************&quot;)
+function(padString outVariable length padCharacter value)
+    string(LENGTH &quot;${value}&quot; valueLength)
+    math(EXPR padLength &quot;${length} - ${valueLength} - 1&quot;)
+    set(paddedValue ${value})
 
-IF (CMAKE_BUILD_TYPE STREQUAL &quot;Debug&quot;)
-	MESSAGE(&quot;***  Debug Build  ***&quot;)
-ELSE (CMAKE_BUILD_TYPE STREQUAL &quot;Debug&quot;)
-	MESSAGE(&quot;*** Release Build ***&quot;)
-ENDIF(CMAKE_BUILD_TYPE STREQUAL &quot;Debug&quot;)
+    if (padLength GREATER -1)
+        foreach(dummy RANGE ${padLength})
+            set(paddedValue &quot;${paddedValue}${padCharacter}&quot;)
+        endforeach(dummy)
+    endif (padLength GREATER -1)
 
-MESSAGE(&quot;*********************&quot;)
+    set(${outVariable} &quot;${paddedValue}&quot; PARENT_SCOPE)
+endfunction(padString)
+
+macro(DISPLAY_SUMMARY_LIST)
+	message(&quot;&quot;)
+	message(&quot;**************************&quot;)
+	message(&quot;***  Optional Library  ***&quot;)
+	message(&quot;***      Summary       ***&quot;)
+	message(&quot;**************************&quot;)
+
+	foreach(componentType ${SUMMARY_LIST})
+		GET_SUMMARY_LIST_NAME(listName ${componentType})
+
+		padString(componentType 18 &quot; &quot; &quot;${componentType}&quot;)
+		message(&quot;*** ${componentType} ***&quot;)
+
+		foreach(component ${${listName}})
+			string(FIND &quot;${component}&quot; = valuePosition)
+
+			string(SUBSTRING &quot;${component}&quot; 0 ${valuePosition} componentName)
+			math(EXPR valuePosition &quot;${valuePosition} + 1&quot;)
+			string(SUBSTRING &quot;${component}&quot; ${valuePosition} -1 componentFound)
+
+			if (${componentFound})
+				set(componentSummary &quot;Yes&quot;)
+			else (${componentFound})
+				set(componentSummary &quot;No&quot;)
+			endif (${componentFound})
+
+			padString(componentName 14 &quot; &quot; &quot;${componentName}&quot;)
+			message(&quot;    ${componentName} ${componentSummary}&quot;)
+		endforeach(component)
+	endforeach(componentType)
+
+	message(&quot;**************************&quot;)
+
+	if (CMAKE_BUILD_TYPE STREQUAL &quot;Debug&quot;)
+		message(&quot;***    Debug Build     ***&quot;)
+	else (CMAKE_BUILD_TYPE STREQUAL &quot;Debug&quot;)
+		message(&quot;***   Release Build    ***&quot;)
+	endif(CMAKE_BUILD_TYPE STREQUAL &quot;Debug&quot;)
+
+	message(&quot;**************************&quot;)
+	message(&quot;&quot;)
+endmacro(DISPLAY_SUMMARY_LIST)
\ No newline at end of file

Modified: branches/avidemux_2.6_branch_mean/cmake/admMainChecks.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admMainChecks.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admMainChecks.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -3,7 +3,6 @@
 SET(CMAKE_C_FLAGS $ENV{CFLAGS})
 SET(CMAKE_CXX_FLAGS $ENV{CXXFLAGS})
 SET(CMAKE_LD_FLAGS $ENV{LDFLAGS})
-cmake_policy(SET CMP0004 OLD)
 
 IF (NOT CMAKE_CXX_COMPILER_WORKS MATCHES &quot;^${CMAKE_CXX_COMPILER_WORKS}$&quot;)
 	SET(FRESH_BUILD 1)

Deleted: branches/avidemux_2.6_branch_mean/cmake/admPluginConfigSummary.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admPluginConfigSummary.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admPluginConfigSummary.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -1,23 +0,0 @@
-# ARGV2 - capable flag
-include(admSummary)
-
-
-MESSAGE(&quot;*** Miscellaneous ***&quot;)
-ADM_DISPLAY(&quot;FontConfig&quot; &quot;$ENV{ADM_HAVE_FONTCONFIG}&quot;)
-ADM_DISPLAY(&quot;FreeType2 &quot; &quot;${FREETYPE2_FOUND}&quot;)
-ADM_DISPLAY(&quot;gettext   &quot; &quot;${HAVE_GETTEXT}&quot;)
-
-MESSAGE(&quot;*********************&quot;)
-
-IF (CMAKE_BUILD_TYPE STREQUAL &quot;Debug&quot;)
-	MESSAGE(&quot;***  Debug Build  ***&quot;)
-ELSE (CMAKE_BUILD_TYPE STREQUAL &quot;Debug&quot;)
-	MESSAGE(&quot;*** Release Build ***&quot;)
-ENDIF(CMAKE_BUILD_TYPE STREQUAL &quot;Debug&quot;)
-MESSAGE(&quot;******** UI *************&quot;)
-ADM_DISPLAY(&quot;Common    &quot; &quot;${DO_COMMON}&quot;)
-ADM_DISPLAY(&quot;Gtk       &quot; &quot;${DO_GTK}&quot;)
-ADM_DISPLAY(&quot;Qt4       &quot; &quot;${DO_QT4}&quot;)
-ADM_DISPLAY(&quot;Cli       &quot; &quot;${DO_CLI}&quot;)
-
-MESSAGE(&quot;*********************&quot;)

Deleted: branches/avidemux_2.6_branch_mean/cmake/admSummary.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admSummary.cmake	2011-12-05 21:49:50 UTC (rev 7694)
+++ branches/avidemux_2.6_branch_mean/cmake/admSummary.cmake	2011-12-11 15:42:33 UTC (rev 7695)
@@ -1,19 +0,0 @@
-# ARGV2 - capable flag
-MACRO(ADM_DISPLAY _name)
-	SET(PROCEED 1)
-
-	IF (NOT ${ARGV2})
-		SET(PROCEED 0)
-	ENDIF (NOT ${ARGV2})
-
-	IF (${PROCEED})
-		IF (${ARGV1})
-			SET(s &quot;Yes&quot;)
-		ELSE (${ARGV1})
-			SET(s &quot;No&quot;)
-		ENDIF (${ARGV1})
-
-		MESSAGE(&quot;   ${_name}  ${s}&quot;)
-	ENDIF (${PROCEED})
-ENDMACRO(ADM_DISPLAY)
-


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004838.html">[Avidemux-svn-commit] r7694 -	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
</A></li>
	<LI>Next message: <A HREF="004840.html">[Avidemux-svn-commit] r7696 -	branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/mplayerDenoise3D
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4839">[ date ]</a>
              <a href="thread.html#4839">[ thread ]</a>
              <a href="subject.html#4839">[ subject ]</a>
              <a href="author.html#4839">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
