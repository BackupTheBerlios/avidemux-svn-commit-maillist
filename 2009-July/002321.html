<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r5106 - in branches/avidemux_2.6_branch_mean:	avidemux_core/ADM_coreAudio/include	avidemux_plugins/ADM_audioDecoders	avidemux_plugins/ADM_audioDecoders/ADM_ad_opencore_amrnb	avidemux_plugins/ADM_audioDecoders/ADM_ad_opencore_amrwb cmake
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r5106%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux_core/ADM_coreAudio/include%0A%09avidemux_plugins/ADM_audioDecoders%0A%09avidemux_plugins/ADM_audioDecoders/ADM_ad_opencore_amrnb%0A%09avidemux_plugins/ADM_audioDecoders/ADM_ad_opencore_amrwb%20cmake&In-Reply-To=%3C200907181745.n6IHjBvA000211%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002320.html">
   <LINK REL="Next"  HREF="002322.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r5106 - in branches/avidemux_2.6_branch_mean:	avidemux_core/ADM_coreAudio/include	avidemux_plugins/ADM_audioDecoders	avidemux_plugins/ADM_audioDecoders/ADM_ad_opencore_amrnb	avidemux_plugins/ADM_audioDecoders/ADM_ad_opencore_amrwb cmake</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r5106%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux_core/ADM_coreAudio/include%0A%09avidemux_plugins/ADM_audioDecoders%0A%09avidemux_plugins/ADM_audioDecoders/ADM_ad_opencore_amrnb%0A%09avidemux_plugins/ADM_audioDecoders/ADM_ad_opencore_amrwb%20cmake&In-Reply-To=%3C200907181745.n6IHjBvA000211%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r5106 - in branches/avidemux_2.6_branch_mean:	avidemux_core/ADM_coreAudio/include	avidemux_plugins/ADM_audioDecoders	avidemux_plugins/ADM_audioDecoders/ADM_ad_opencore_amrnb	avidemux_plugins/ADM_audioDecoders/ADM_ad_opencore_amrwb cmake">mean at mail.berlios.de
       </A><BR>
    <I>Sat Jul 18 19:45:11 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002320.html">[Avidemux-svn-commit] r5105 - in	branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders:	. ADM_ad_opencore_amrnb ADM_ad_opencore_amrwb
</A></li>
        <LI>Next message: <A HREF="002322.html">[Avidemux-svn-commit] r5107 -	branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreUI/include
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2321">[ date ]</a>
              <a href="thread.html#2321">[ thread ]</a>
              <a href="subject.html#2321">[ subject ]</a>
              <a href="author.html#2321">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2009-07-18 19:45:11 +0200 (Sat, 18 Jul 2009)
New Revision: 5106

Added:
   branches/avidemux_2.6_branch_mean/cmake/admCheckOpencore.cmake
Modified:
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudio/include/ADM_audioCodecEnum.h
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders/ADM_ad_opencore_amrnb/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders/ADM_ad_opencore_amrwb/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders/CMakeLists.txt
Log:
[openCore] Merged opencore support from 2.5

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudio/include/ADM_audioCodecEnum.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudio/include/ADM_audioCodecEnum.h	2009-07-18 17:45:08 UTC (rev 5105)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudio/include/ADM_audioCodecEnum.h	2009-07-18 17:45:11 UTC (rev 5106)
@@ -19,6 +19,7 @@
 #define WAV_AAC_HE 	0xfe // dummy id
 #define WAV_8BITS_UNSIGNED 	55 // dummy id
 #define WAV_AMRNB 	56 // dummy id
+#define WAV_AMRWB 	57 // dummy id
 #define WAV_ULAW	7 
 #define WAV_QDM2 	58
 #define WAV_IMAADPCM    17

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders/ADM_ad_opencore_amrnb/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders/ADM_ad_opencore_amrnb/CMakeLists.txt	2009-07-18 17:45:08 UTC (rev 5105)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders/ADM_ad_opencore_amrnb/CMakeLists.txt	2009-07-18 17:45:11 UTC (rev 5106)
@@ -8,7 +8,7 @@
 	SET(ADM_ad_opencore_amrnb_SRCS ADM_ad_opencore_amrnb.cpp)
 
 	ADD_LIBRARY(ADM_ad_opencore_amrnb SHARED ${ADM_ad_opencore_amrnb_SRCS})
-	TARGET_LINK_LIBRARIES(ADM_ad_opencore_amrnb ADM_core ${OPENCORE_AMRNB_LIBRARY_DIR})
+	TARGET_LINK_LIBRARIES(ADM_ad_opencore_amrnb  ${OPENCORE_AMRNB_LIBRARY_DIR})
 
 	ADD_TARGET_CFLAGS(ADM_ad_opencore_amrnb &quot;-I${OPENCORE_AMRNB_INCLUDE_DIR}&quot;)
 

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders/ADM_ad_opencore_amrwb/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders/ADM_ad_opencore_amrwb/CMakeLists.txt	2009-07-18 17:45:08 UTC (rev 5105)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders/ADM_ad_opencore_amrwb/CMakeLists.txt	2009-07-18 17:45:11 UTC (rev 5106)
@@ -8,7 +8,7 @@
 	SET(ADM_ad_opencore_amrwb_SRCS ADM_ad_opencore_amrwb.cpp)
 
 	ADD_LIBRARY(ADM_ad_opencore_amrwb SHARED ${ADM_ad_opencore_amrwb_SRCS})
-	TARGET_LINK_LIBRARIES(ADM_ad_opencore_amrwb ADM_core ${OPENCORE_AMRWB_LIBRARY_DIR})
+	TARGET_LINK_LIBRARIES(ADM_ad_opencore_amrwb  ${OPENCORE_AMRWB_LIBRARY_DIR})
 
 	ADD_TARGET_CFLAGS(ADM_ad_opencore_amrwb &quot;-I${OPENCORE_AMRWB_INCLUDE_DIR}&quot;)
 

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders/CMakeLists.txt	2009-07-18 17:45:08 UTC (rev 5105)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders/CMakeLists.txt	2009-07-18 17:45:11 UTC (rev 5106)
@@ -8,3 +8,5 @@
 ADD_SUBDIRECTORY(ADM_ad_ulaw)
 ADD_SUBDIRECTORY(ADM_ad_ms_adpcm)
 ADD_SUBDIRECTORY(ADM_ad_ima_adpcm)
+ADD_SUBDIRECTORY(ADM_ad_opencore_amrwb)
+ADD_SUBDIRECTORY(ADM_ad_opencore_amrnb)

Added: branches/avidemux_2.6_branch_mean/cmake/admCheckOpencore.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admCheckOpencore.cmake	2009-07-18 17:45:08 UTC (rev 5105)
+++ branches/avidemux_2.6_branch_mean/cmake/admCheckOpencore.cmake	2009-07-18 17:45:11 UTC (rev 5106)
@@ -0,0 +1,41 @@
+MACRO(checkOpencoreAmrnb)
+	IF (NOT OPENCORE_AMRNB_CHECKED)
+		OPTION(OPENCORE_AMRNB &quot;&quot; ON)
+
+		MESSAGE(STATUS &quot;Checking for opencore-amrnb&quot;)
+		MESSAGE(STATUS &quot;***************************&quot;)
+
+		IF (OPENCORE_AMRNB)
+			FIND_HEADER_AND_LIB(OPENCORE_AMRNB opencore-amrnb/interf_dec.h opencore-amrnb Decoder_Interface_init)
+			PRINT_LIBRARY_INFO(&quot;opencore-amrnb&quot; OPENCORE_AMRNB_FOUND &quot;${OPENCORE_AMRNB_INCLUDE_DIR}&quot; &quot;${OPENCORE_AMRNB_LIBRARY_DIR}&quot;)
+		ELSE (OPENCORE_AMRNB)
+			MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
+		ENDIF (OPENCORE_AMRNB)
+
+		SET(ENV{ADM_HAVE_OPENCORE_AMRNB} ${OPENCORE_AMRNB_FOUND})
+		MESSAGE(&quot;&quot;)
+
+		SET(OPENCORE_AMRNB_CHECKED 1)
+	ENDIF (NOT OPENCORE_AMRNB_CHECKED)
+ENDMACRO(checkOpencoreAmrnb)
+
+MACRO(checkOpencoreAmrwb)
+	IF (NOT OPENCORE_AMRWB_CHECKED)
+		OPTION(OPENCORE_AMRWB &quot;&quot; ON)
+
+		MESSAGE(STATUS &quot;Checking for opencore-amrwb&quot;)
+		MESSAGE(STATUS &quot;***************************&quot;)
+
+		IF (OPENCORE_AMRWB)
+			FIND_HEADER_AND_LIB(OPENCORE_AMRWB opencore-amrwb/dec_if.h opencore-amrwb D_IF_init)
+			PRINT_LIBRARY_INFO(&quot;opencore-amrwb&quot; OPENCORE_AMRWB_FOUND &quot;${OPENCORE_AMRWB_INCLUDE_DIR}&quot; &quot;${OPENCORE_AMRWB_LIBRARY_DIR}&quot;)
+		ELSE (OPENCORE_AMRWB)
+			MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
+		ENDIF (OPENCORE_AMRWB)
+
+		SET(ENV{ADM_HAVE_OPENCORE_AMRWB} ${OPENCORE_AMRWB_FOUND})		
+		MESSAGE(&quot;&quot;)
+		
+		SET(OPENCORE_AMRWB_CHECKED 1)
+	ENDIF (NOT OPENCORE_AMRWB_CHECKED)
+ENDMACRO(checkOpencoreAmrwb)
\ No newline at end of file


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002320.html">[Avidemux-svn-commit] r5105 - in	branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_audioDecoders:	. ADM_ad_opencore_amrnb ADM_ad_opencore_amrwb
</A></li>
	<LI>Next message: <A HREF="002322.html">[Avidemux-svn-commit] r5107 -	branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreUI/include
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2321">[ date ]</a>
              <a href="thread.html#2321">[ thread ]</a>
              <a href="subject.html#2321">[ subject ]</a>
              <a href="author.html#2321">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
