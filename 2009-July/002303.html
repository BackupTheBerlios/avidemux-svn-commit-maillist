<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r5088 - in branches/avidemux_2.6_branch_mean:	avidemux avidemux/common avidemux/common/ADM_audioFilter	avidemux/common/ADM_audioFilter/include	avidemux/common/ADM_audioFilter/src	avidemux/common/ADM_audioFilter_old	avidemux/common/ADM_commonUI avidemux/common/ADM_editor	avidemux/common/ADM_script avidemux/common/ADM_toolkit	avidemux/gtk/ADM_userInterfaces/ADM_dialog	avidemux_core/ADM_coreAudio/include	avidemux_core/ADM_coreAudioFilter/include
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r5088%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux%20avidemux/common%20avidemux/common/ADM_audioFilter%0A%09avidemux/common/ADM_audioFilter/include%0A%09avidemux/common/ADM_audioFilter/src%0A%09avidemux/common/ADM_audioFilter_old%0A%09avidemux/common/ADM_commonUI%20avidemux/common/ADM_editor%0A%09avidemux/common/ADM_script%20avidemux/common/ADM_toolkit%0A%09avidemux/gtk/ADM_userInterfaces/ADM_dialog%0A%09avidemux_core/ADM_coreAudio/include%0A%09avidemux_core/ADM_coreAudioFilter/include&In-Reply-To=%3C200907141537.n6EFbMb1028323%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002302.html">
   <LINK REL="Next"  HREF="002304.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r5088 - in branches/avidemux_2.6_branch_mean:	avidemux avidemux/common avidemux/common/ADM_audioFilter	avidemux/common/ADM_audioFilter/include	avidemux/common/ADM_audioFilter/src	avidemux/common/ADM_audioFilter_old	avidemux/common/ADM_commonUI avidemux/common/ADM_editor	avidemux/common/ADM_script avidemux/common/ADM_toolkit	avidemux/gtk/ADM_userInterfaces/ADM_dialog	avidemux_core/ADM_coreAudio/include	avidemux_core/ADM_coreAudioFilter/include</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r5088%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux%20avidemux/common%20avidemux/common/ADM_audioFilter%0A%09avidemux/common/ADM_audioFilter/include%0A%09avidemux/common/ADM_audioFilter/src%0A%09avidemux/common/ADM_audioFilter_old%0A%09avidemux/common/ADM_commonUI%20avidemux/common/ADM_editor%0A%09avidemux/common/ADM_script%20avidemux/common/ADM_toolkit%0A%09avidemux/gtk/ADM_userInterfaces/ADM_dialog%0A%09avidemux_core/ADM_coreAudio/include%0A%09avidemux_core/ADM_coreAudioFilter/include&In-Reply-To=%3C200907141537.n6EFbMb1028323%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r5088 - in branches/avidemux_2.6_branch_mean:	avidemux avidemux/common avidemux/common/ADM_audioFilter	avidemux/common/ADM_audioFilter/include	avidemux/common/ADM_audioFilter/src	avidemux/common/ADM_audioFilter_old	avidemux/common/ADM_commonUI avidemux/common/ADM_editor	avidemux/common/ADM_script avidemux/common/ADM_toolkit	avidemux/gtk/ADM_userInterfaces/ADM_dialog	avidemux_core/ADM_coreAudio/include	avidemux_core/ADM_coreAudioFilter/include">mean at mail.berlios.de
       </A><BR>
    <I>Tue Jul 14 17:37:22 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002302.html">[Avidemux-svn-commit] r5087 -	branches/avidemux_2.5_branch_gruntster/plugins/ADM_audioEncoders/lame
</A></li>
        <LI>Next message: <A HREF="002304.html">[Avidemux-svn-commit] r5089 - in branches/avidemux_2.6_branch_mean:	avidemux/common avidemux/common/ADM_audioFilter/include	avidemux/common/ADM_audioFilter/src	avidemux/common/ADM_commonUI avidemux/common/ADM_script	avidemux/common/ADM_toolkit	avidemux_core/ADM_coreAudioFilter/include	avidemux_plugins/ADM_audioEncoders/lame
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2303">[ date ]</a>
              <a href="thread.html#2303">[ thread ]</a>
              <a href="subject.html#2303">[ subject ]</a>
              <a href="author.html#2303">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2009-07-14 17:37:21 +0200 (Tue, 14 Jul 2009)
New Revision: 5088

Added:
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/include/
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/include/ADM_audioFilterInterface.h
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/audiofilter_interface.cpp
Removed:
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter_old/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter_old/audiodeng_buildfilters.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter_old/audioeng_buildfilters.h
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter_old/audioprocess.hxx
Modified:
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/audiofilter.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/audiofilter_encoder.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_commonUI/DIA_audioFilter.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_editor/ADM_edLoadSave.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSAvidemuxAudio.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSAvidemuxVideo.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSFunctions.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSFunctionsNonRegFactory.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_toolkit/ADM_audioQueue.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_toolkit/automation.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/common/gtk_gui.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/gui_autodrive.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/gui_blackframes.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/gui_savenew.cpp
   branches/avidemux_2.6_branch_mean/avidemux/commonCmakeApplication.cmake
   branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_dialog/DIA_acodec.cpp
   branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_dialog/DIA_calculator.cpp
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudio/include/ADM_audiodef.h
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioFilter/include/audiofilter_conf.h
Log:
[audioFiler/audioEncoder] Huge removal of old stuff, half broken

Copied: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/include/ADM_audioFilterInterface.h (from rev 5085, branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter_old/audioprocess.hxx)
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter_old/audioprocess.hxx	2009-07-13 09:57:01 UTC (rev 5085)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/include/ADM_audioFilterInterface.h	2009-07-14 15:37:21 UTC (rev 5088)
@@ -0,0 +1,38 @@
+
+/**************************************************************************
+                          audioeng_buildfilters.h  -  description
+                             -------------------
+    begin                : Mon Dec 2 2002
+    copyright            : (C) 2002 by mean
+    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#ifndef ADM_audioFilterInterface_H
+#define ADM_audioFilterInterface_H
+
+#include &quot;ADM_audiodef.h&quot;
+
+/* Filter part */
+bool            audioFilterReset(void);
+
+bool            audioFilterSetResample(uint32_t newfq);  // Set 0 to disable frequency
+bool            audioFilterSetFrameRate(FILMCONV conf);
+bool            audioFilterSetMixer(CHANNEL_CONF conf); // Invalid to disable
+
+uint32_t        audioFilterGetResample(void);  // Set 0 to disable frequency
+FILMCONV        audioFilterGetFrameRate(void);
+CHANNEL_CONF    audioFilterGetMixer(void); // Invalid to disable
+
+/* Encoder part */
+uint8_t         audioCodecSetByIndex(int i);
+void            audioCodecConfigure( void );
+
+#endif

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/CMakeLists.txt	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/CMakeLists.txt	2009-07-14 15:37:21 UTC (rev 5088)
@@ -12,6 +12,7 @@
 audiofilter_normalize.cpp
 audiofilter_SRC.cpp
 audiofilter_encoder.cpp
+audiofilter_interface.cpp
 ADM_audioResample.cpp
 audiofilter.cpp
 ADM_libsamplerate/samplerate.c  

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/audiofilter.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/audiofilter.cpp	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/audiofilter.cpp	2009-07-14 15:37:21 UTC (rev 5088)
@@ -21,6 +21,7 @@
 #include &quot;audiofilter_access.h&quot;
 #include &quot;audiofilter_internal.h&quot;
 #include &quot;audiofilter_conf.h&quot;
+#include &quot;audiofilter_film2pal.h&quot;
 
 VectorOfAudioFilter PlaybackVector;
 extern ADM_Composer *video_body;
@@ -88,6 +89,28 @@
         AUDMAudioFilterMixer *mixer=new AUDMAudioFilterMixer(last,config-&gt;mixerConf);
         ADD_FILTER(mixer);
     }
+    // Pal 2 film &amp; friends
+    switch(config-&gt;film2pal)
+    {
+        case FILMCONV_NONE:
+            break;
+        case FILMCONV_FILM2PAL:
+            {
+            AUDMAudioFilterFilm2Pal *f2p=new AUDMAudioFilterFilm2Pal(last);
+            ADD_FILTER(f2p);
+            }
+            break;
+        case FILMCONV_PAL2FILM:
+            {
+            AUDMAudioFilterPal2Film *f2p=new AUDMAudioFilterPal2Film(last);
+            ADD_FILTER(f2p);
+            }
+            break;
+        default:
+            ADM_assert(0);
+            break;
+
+    }
     // Resample
     if(config-&gt;resamplerEnabled &amp;&amp; config-&gt;resamplerFrequency!=last-&gt;getInfo()-&gt;frequency)
     {

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/audiofilter_encoder.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/audiofilter_encoder.cpp	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/audiofilter_encoder.cpp	2009-07-14 15:37:21 UTC (rev 5088)
@@ -26,6 +26,7 @@
 
 VectorOfAudioFilter EncodingVector;
 extern ADM_Composer *video_body;
+extern ADM_AUDIOFILTER_CONFIG audioEncodingConfig;
 
 //
  extern bool ADM_buildFilterChain(VectorOfAudioFilter *vec,ADM_AUDIOFILTER_CONFIG *config);
@@ -39,13 +40,10 @@
 AUDMAudioFilter *createEncodingFilter(uint64_t startTime,int32_t shift)
 {
     //
-    ADM_AUDIOFILTER_CONFIG playback;
-    playback.startTimeInUs=startTime;
-    playback.shiftInMs=shift;
-    playback.mixerEnabled=true;
-    playback.mixerConf=CHANNEL_STEREO;
+    audioEncodingConfig.startTimeInUs=startTime;
+    audioEncodingConfig.shiftInMs=shift;
     //
-    ADM_buildFilterChain(&amp;EncodingVector,&amp;playback);
+    ADM_buildFilterChain(&amp;EncodingVector,&amp;audioEncodingConfig);
     //
     int last=EncodingVector.size();
     ADM_assert(last);
@@ -111,4 +109,4 @@
     }
     return stream;
 }
-// EOF
\ No newline at end of file
+// EOF

Added: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/audiofilter_interface.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/audiofilter_interface.cpp	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/audiofilter_interface.cpp	2009-07-14 15:37:21 UTC (rev 5088)
@@ -0,0 +1,112 @@
+/***************************************************************************
+            \file audiofilter_interface.cpp
+            \brief Offer simple C api to enable/disable filter
+              (c) 2006 Mean , <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+
+#include &quot;ADM_default.h&quot;
+#include &lt;math.h&gt;
+#include &quot;audiofilter_conf.h&quot;
+
+// This structure defines the current filter chain used for **ENCODING**
+// Warning, we have another one for playback
+
+ADM_AUDIOFILTER_CONFIG audioEncodingConfig;
+/**
+    \fn audioFilterReset
+    \brief Put back default value on audio filter chain
+
+*/
+bool audioFilterReset(void)
+{
+       return audioEncodingConfig.reset();
+}
+
+/**
+    \fn audioFilterSetResample
+    \brief
+*/
+bool    audioFilterSetResample(uint32_t newfq)  // Set 0 to disable frequency
+{
+    if(!newfq) audioEncodingConfig.resamplerEnabled=false;
+        else        
+            {
+                    audioEncodingConfig.resamplerEnabled=true;
+                    audioEncodingConfig.resamplerFrequency=newfq;
+            }
+    return true;
+}
+/**
+    \fn audioFilterGetResample
+    \brief
+*/
+
+uint32_t        audioFilterGetResample(void)  // Set 0 to disable frequency
+{
+    if(audioEncodingConfig.resamplerEnabled==false) return 0;
+    return audioEncodingConfig.resamplerFrequency;
+}
+
+/**
+    \fn audioFilterSetFrameRate
+    \brief
+*/
+
+bool    audioFilterSetFrameRate(FILMCONV conf)
+{
+    audioEncodingConfig.film2pal=conf;
+    return true;
+}
+
+/**
+    \fn audioFilterGetFrameRate
+    \brief
+*/
+
+FILMCONV        audioFilterGetFrameRate(void)
+{
+    return audioEncodingConfig.film2pal;
+}
+
+/**
+    \fn audioFilterSetMixer
+    \brief
+*/
+
+bool    audioFilterSetMixer(CHANNEL_CONF conf) // Invalid to disable
+{
+    if(conf==CHANNEL_INVALID)
+    {
+        audioEncodingConfig.mixerEnabled=false;
+    }else   
+    {
+        audioEncodingConfig.mixerEnabled=true;
+        audioEncodingConfig.mixerConf=conf;
+    }
+    return true;
+}
+
+/**
+    \fn audioFilterGetMixer
+    \brief
+*/
+
+CHANNEL_CONF    audioFilterGetMixer(void) // Invalid to disable
+{
+    if( audioEncodingConfig.mixerEnabled==false) return CHANNEL_INVALID;
+    return audioEncodingConfig.mixerConf;
+}
+
+// EOF
+
+

Deleted: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter_old/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter_old/CMakeLists.txt	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter_old/CMakeLists.txt	2009-07-14 15:37:21 UTC (rev 5088)
@@ -1,7 +0,0 @@
-SET(ADMaudiofilter_SRCS 
-	audiodeng_buildfilters.cpp    
-)
-	
-ADD_LIBRARY(ADM_audioFilter_old STATIC ${ADMaudiofilter_SRCS})
-INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/avidemux/ADM_audioEncoder/include)
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter_old/audiodeng_buildfilters.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter_old/audiodeng_buildfilters.cpp	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter_old/audiodeng_buildfilters.cpp	2009-07-14 15:37:21 UTC (rev 5088)
@@ -1,371 +0,0 @@
-/***************************************************************************
-                          audiodeng_buildfilters.cpp  -  description
-                             -------------------
-    begin                : Mon Dec 2 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include &lt;math.h&gt;
-
-#include &quot;ADM_default.h&quot;
-
-#include &quot;audiofilter_limiter_param.h&quot;
-#include &quot;audiofilter_normalize_param.h&quot;
-
-#include &quot;audioeng_buildfilters.h&quot;
-
-
-#include &quot;audioencoder.h&quot;
-
-#include &quot;ADM_audiocodec/ADM_audiocodeclist.h&quot;
-
-
-#include &quot;audiofilter_bridge.h&quot;
-#include &quot;audiofilter_mixer.h&quot;
-#include &quot;audiofilter_normalize.h&quot;
-#include &quot;audiofilter_limiter.h&quot;
-
-#include &quot;prefs.h&quot;
-
-#include &quot;ADM_debugID.h&quot;
-#define MODULE_NAME MODULE_AUDIO_FILTER
-#include &quot;ADM_debug.h&quot;
-
-extern void UI_setAProcessToggleStatus( uint8_t status );
-extern uint8_t DIA_audioCodec( int *codec );
-extern void UI_setAudioCodec( int i);
-uint32_t audioFilterGetNbEncoder(void);
-const char* audioFilterGetIndexedName(uint32_t i);
-
-
-typedef struct externalSource
-{
- AudioSource type;
- const char *name;
-}externalSource;
-
-static const externalSource Sources[]=
-{
-        {AudioAvi,&quot;VIDEO&quot;},
-        {AudioMP3,&quot;MP3&quot;},
-        {AudioWav,&quot;WAV&quot;},
-        {AudioAC3,&quot;AC3&quot;},
-        {AudioNone,&quot;NONE&quot;}
-};
-typedef struct
-{
-  const char         *name;
-  CHANNEL_CONF conf;
-}Mixer_String;
-
-#define DOME(x) {#x,CHANNEL_##x}
-static Mixer_String Mixer_strings[]=
-{
-  {&quot;NONE&quot;,CHANNEL_INVALID},
-  DOME(MONO),
-  DOME(STEREO),
-  DOME(2F_1R),
-  DOME(3F),
-  DOME(3F_1R),
-  DOME(2F_2R),
-  DOME(3F_2R),
-  DOME(3F_2R_LFE),
-  DOME(DOLBY_PROLOGIC),
-  DOME(DOLBY_PROLOGIC2)
-
-};
-
-
-
-extern void UI_PrintCurrentACodec( const char *s);
-
-
-/*----------------------------------*/
-GAINparam audioGain;
-int  audioFreq=48000;
-int  audioDRC = 0;
-FILMCONV audioFilmConv=FILMCONV_NONE;
-RESAMPLING  audioResampleMode = RESAMPLING_NONE;
-CHANNEL_CONF audioMixing=CHANNEL_INVALID;
-// These are globals for the moment
-//************************************
-int 	   audioShift = 0;
-int	   audioDelay=0;
-//**********
-
-const char              *getCurrentMixerString(void)
-{
-        uint32_t nb=sizeof(Mixer_strings)/sizeof(Mixer_String);
-        for(uint32_t i=0;i&lt;nb;i++)
-                if(audioMixing==Mixer_strings[i].conf) return Mixer_strings[i].name;
-        ADM_assert(0);
-
-}
-uint8_t                    setCurrentMixerFromString(const char *name)
-{
-        uint32_t nb=sizeof(Mixer_strings)/sizeof(Mixer_String);
-        for(uint32_t i=0;i&lt;nb;i++)
-                if(!strcasecmp(name,Mixer_strings[i].name))
-                {
-                  audioMixing= Mixer_strings[i].conf;
-                  return 1;
-                }
-        return 0;
-
-}
-//**********
-
-const char              *audioSourceFromEnum(AudioSource src)
-{
-        uint32_t nb=sizeof(Sources)/sizeof(externalSource);
-        for(uint32_t i=0;i&lt;nb;i++)
-                if(src==Sources[i].type) return Sources[i].name;
-        ADM_assert(0);
-
-}
-AudioSource             audioSourceFromString(const char *name)
-{
-        uint32_t nb=sizeof(Sources)/sizeof(externalSource);
-        for(uint32_t i=0;i&lt;nb;i++)
-                if(!strcasecmp(name,Sources[i].name)) return Sources[i].type;
-        return (AudioSource)0;
-
-}
-
-//**********
-uint8_t audioReset(void )
-{
-  audioGain.mode=ADM_NO_GAIN;
-  audioResampleMode = RESAMPLING_NONE;
-  audioFilmConv=FILMCONV_NONE;
-  audioMixing=CHANNEL_INVALID;
-  return 1;
-}
-//************
-uint8_t audioGetNormalizeMode(void)
-{
-  return audioGain.mode;
-
-}
-int32_t  audioGetNormalizeValue(void)
-{
-  return audioGain.gain10;
-
-}
-
-uint32_t audioGetResample(void)
-{
-      return audioFreq;
-
-}
-uint32_t audioGetDrc(void)
-{
-  return audioDRC;
-}
-uint32_t audioGetDelay(void)
-{
-        if(audioShift &amp;&amp; audioDelay)
-        {
-                return audioDelay;
-
-        }
-        return 0;
-}
-FILMCONV audioGetFpsConv(void)
-{
-        return audioFilmConv;
-}
-
-/*----------------------------------*/
-//
-
-
-
-
-void audioFilterNormalizeMode(uint8_t onoff)
-{
-  audioGain.mode=(ADM_GAINMode)onoff;
-}
-void audioFilterNormalizeValue(int v)
-{
-  audioGain.gain10=v;
-}
-
-uint8_t audioFilterDelay(int32_t delay)
-{
-	if(delay)
-	{
-		audioShift=1;
-		audioDelay=delay;
-	}
-	else
-	{
-		audioShift=audioDelay=0;
-	}
-	return 1;
-
-}
-RESAMPLING  audioGetResampling(void)
-{
-        return audioResampleMode;
-}
-uint8_t audioFilterFilm2Pal(uint8_t onoff)
-{
-	if(onoff) audioFilmConv=FILMCONV_FILM2PAL;
-	else audioFilmConv=FILMCONV_NONE;
-	return 1;
-}
-uint8_t audioFilterDrc(uint8_t onoff)
-{
-  audioDRC=onoff;
-  return 1;
-}
-uint8_t audioFilterPal2Film(uint8_t onoff)
-{
-        if(onoff) audioFilmConv=FILMCONV_PAL2FILM;
-        else audioFilmConv=FILMCONV_NONE;
-        return 1;
-}
-
-void audioFilterResample(uint32_t onoff)
-{
-	if(onoff)
-	{
-		audioResampleMode=RESAMPLING_CUSTOM;
-		audioFreq=onoff;
-	}
-	else
-		audioResampleMode=RESAMPLING_NONE;
-
-}
-//______________________________
-//#include &quot;ADM_gui2/GUI_ui.h&quot;
-uint8_t UI_setTimeShift(int onoff,int value);
-extern  int DIA_getAudioFilter(GAINparam *normalized, RESAMPLING *downsamplingmethod, int *tshifted,
-  			 int *shiftvalue, int *drc,int *freqvalue,FILMCONV *filmconv,CHANNEL_CONF *channel);
-
-void audioFilter_configureFilters( void )
-{
-    int olddelay=audioDelay;
-    int oldshift=audioShift;
-	 DIA_getAudioFilter(&amp;audioGain,&amp;audioResampleMode,&amp;audioShift,&amp;audioDelay,&amp;audioDRC,&amp;audioFreq,
-	 		&amp;audioFilmConv,&amp;audioMixing );
-         if(audioDelay!=olddelay ||oldshift!= audioShift)
-         {  // Refresh
-
-
-
-         }
-
-}
-
-/*
-
-*/
-
-#define Read(x) { \
-		tmp=name; \
-		if((tmp=strstr(name,#x))) \
-			{ \
-				tmp+=strlen(#x); \
-				aprintf(&quot;-- %s\n&quot;,tmp); \
-				sscanf(tmp,&quot;=%d &quot;,(int *)&amp;x); \
-			} \
-			 else \
-			{ printf(&quot;*** %s not found !***\n&quot;,#x);} \
-		}
-#define Add(x) {sprintf(tmp,&quot;%s=%d &quot;,#x,x);strcat(conf,tmp);}
-
-uint8_t audioFilterSetByName( const char *name)
-{
-	const char *tmp;
-	aprintf(&quot;-Audio filter by name : %s\n&quot;,name);
-
-	Read(audioGain.mode);
-        Read(audioGain.gain10);
-	Read(audioResampleMode);
-	Read(audioDRC);
-	Read(audioShift);
-	Read(audioDelay);
-	Read(audioFreq);
-	Read(audioMixing);
-	return 1;
-}
-
-const char *audioFilterGetName( void )
-{
-	static char conf[400];
-	static char tmp[200];
-	conf[0]=0;
-	#undef Add
-	#define Add(x) {sprintf(tmp,&quot;%s=%d &quot;,#x,x);strcat(conf,tmp);}
-	Add(audioGain.mode);
-        Add(audioGain.gain10);
-	Add(audioResampleMode);
-	Add(audioDRC);
-	Add(audioShift);
-	Add(audioDelay);
-	Add(audioFreq);
-	Add(audioMixing);
-	return conf;
-
-}
-
-
-/*
-	Refresh   activeAudioEncoder value
-	depending on what's selected
-
-*/
-
-
-
-void audioSetResample(uint32_t fq)
-{
-
-	audioResampleMode=RESAMPLING_CUSTOM;
-	audioFreq=fq;
-}
-/**
- * 	\fn getAudioOuputFrequency
- *  \brief Return the encoding of the currently selected codec
- */
-uint32_t audioProcessMode(void);
-uint32_t audioFilter_getOuputFrequency(uint32_t inputFrequency)
-{
-	if(!audioProcessMode()) return inputFrequency;
-	if(audioResampleMode == RESAMPLING_NONE) return inputFrequency;
-	return audioFreq;
-}
-/**
-    \fn audioCodecGetName
-    \brief Returns the current codec tagname
-*/
-
-AudioSource audioCodecGetFromName( const char *name)
-{
-                for(uint32_t i=0;i&lt;sizeof(Sources)/sizeof(externalSource);i++)
-                {
-                        if(!strcasecmp(name,Sources[i].name))
-                        {
-
-                                return Sources[i].type;
-                        }
-
-                }
-                printf(&quot;\n Mmmm Select audio codec by name failed...(%s).\n&quot;,name);
-                return AudioNone;
-}
-
-//EOF
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter_old/audioeng_buildfilters.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter_old/audioeng_buildfilters.h	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter_old/audioeng_buildfilters.h	2009-07-14 15:37:21 UTC (rev 5088)
@@ -1,107 +0,0 @@
-/**************************************************************************
-                          audioeng_buildfilters.h  -  description
-                             -------------------
-    begin                : Mon Dec 2 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#ifndef ADM_AUDIO_BUILDFILTER_H
-#define  ADM_AUDIO_BUILDFILTER_H
-
-#include &quot;audioencoder.h&quot;
-#include &quot;ADM_audioCodecEnum.h&quot;
-
-#include &quot;audioEncoderApi.h&quot;
-#include &quot;ADM_audioStream.h&quot;
-
- ADM_audioStream *buildAudioFilter(ADM_audioStream *stream, uint32_t startTime);
- AUDMAudioFilter *buildPlaybackFilter(ADM_audioStream *currentaudiostream,
-				uint32_t starttime, uint32_t duration);
-
- void deleteAudioFilter(ADM_audioStream *in);
-void audioFilter_configureFilters( void );
-
-
-
-void audioCodecConfigure( void );
-void audioCodecSelect( void );
-void audioFilter_MP3DisableReservoir(int onoff);
-uint32_t audioFilter_getOuputCodec(void);
-uint32_t audioFilter_getOuputFrequency(uint32_t inputFrequency);
-uint32_t audioFilter_getMaxChannels(void);
-
-//#include &quot;ADM_audioEncoder/include/audioencoder_enum.h&quot;
-
-typedef enum 
-{
-	RESAMPLING_NONE=0,
-	RESAMPLING_CUSTOM=1,
-	RESAMPLING_LAST
-}RESAMPLING;
-
-typedef enum 
-{
-	FILMCONV_NONE=0,
-	FILMCONV_FILM2PAL=1,
-	FILMCONV_PAL2FILM=2,
-	FILMCONV_LAST
-}FILMCONV;
-
-typedef enum
-{
-        AudioInvalid,
-        AudioAvi=1,
-        AudioMP3,
-        AudioWav,
-        AudioAC3,
-        AudioNone
-
-}AudioSource;
-
-//void audioCodecSetcodec(AUDIOENCODER codec);
-uint8_t audioReset(void);
-/*  for job/workspace stuff  */
-const char *audioFilterGetName( void );
-uint8_t audioFilterSetByName( const char *name);
-
-//AVDMGenericAudioStream *mpt_getAudioStream(void);
-
-/* -- Set filter --*/
-void audioFilterNormalizeMode(uint8_t onoff);
-void audioFilterNormalizeValue(int value);
-void audioFilterResample(uint32_t onoff);
-uint8_t audioFilterDelay(int32_t delay);
-uint8_t audioFilterFilm2Pal(uint8_t onoff);
-uint8_t audioFilterPal2Film(uint8_t onoff);
-uint8_t audioFilterDrc(uint8_t onoff);
-void audioFilter_SetBitrate( int i);
-/* -- Get filter -- */
-uint32_t audioGetBitrate(void);
-uint8_t audioGetNormalizeMode(void);
-int32_t audioGetNormalizeValue(void);
-uint32_t audioGetResample(void);
-uint32_t audioGetDelay(void);
-FILMCONV audioGetFpsConv(void);
-uint32_t audioGetDrc(void);
-RESAMPLING  audioGetResampling(void);
-/*-----*/
-uint8_t                 A_changeAudioStream(ADM_audioStream *newaudio,AudioSource so,char *name);
-AudioSource             getCurrentAudioSource(char **name);
-const char              *audioSourceFromEnum(AudioSource src);
-AudioSource             audioSourceFromString(const char *name);
-const char              *getCurrentMixerString(void);
-uint8_t                 setCurrentMixerFromString(const char *string);
-
-//*****
-//
-#endif
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter_old/audioprocess.hxx
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter_old/audioprocess.hxx	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter_old/audioprocess.hxx	2009-07-14 15:37:21 UTC (rev 5088)
@@ -1,27 +0,0 @@
-/***************************************************************************
-                          audioprocess.hxx  -  description
-                             -------------------
-    begin                : Sun Jan 13 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#ifndef __AudioProcess__
-#define __AudioProcess__
-
-#include &quot;ADM_coreAudio.h&quot;
-#include &quot;ADM_audioStream.h&quot;
-#define PROCESS_BUFFER_SIZE 48000*4*4 // should be enougth
-#define MINIMUM_BUFFER   8192*4
-
-#endif
-// EOF

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_commonUI/DIA_audioFilter.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_commonUI/DIA_audioFilter.cpp	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_commonUI/DIA_audioFilter.cpp	2009-07-14 15:37:21 UTC (rev 5088)
@@ -12,54 +12,23 @@
 //
 //
 
-#include &quot;config.h&quot;
-#include &quot;ADM_default.h&quot;
 
-
+#include &quot;ADM_default.h&quot;
+#include &quot;audiofilter_conf.h&quot;
 #include &quot;DIA_factory.h&quot;
-#include &quot;audiofilter_normalize_param.h&quot;
-#include &quot;audioeng_buildfilters.h&quot;
 /**
     \fn DIA_getAudioFilter
     \brief Dialog to manage audio filters
 */
-int DIA_getAudioFilter(GAINparam *gain,
-                        RESAMPLING *downsamplingmethod, 
-                        int *tshifted,
-                        int *shiftvalue, 
-                        int *drc,
-                        int *freqvalue,
-                        FILMCONV *filmconv,
-                        CHANNEL_CONF *channel)
+int DIA_getAudioFilter(ADM_AUDIOFILTER_CONFIG *config)
 {
   
-  uint32_t vDRC=*drc;
-  uint32_t vTshift=*tshifted;
-  int32_t vTshiftValue=*shiftvalue;
-  uint32_t vFreq=*freqvalue;
-  uint32_t vChan=(uint32_t)*channel;
-  uint32_t vDownsample=(uint32_t )*downsamplingmethod;
-  uint32_t vFilm=(uint32_t )*filmconv;
-  uint32_t vGainMode=(uint32_t)gain-&gt;mode;
-  ELEM_TYPE_FLOAT vGainValue=gain-&gt;gain10;
-  vGainValue/=10.;
-  //**********************************
-       
-   diaElemToggle    eDRC(&amp;vDRC,QT_TR_NOOP(&quot;_Dynamic range compression&quot;));
-   
-   diaElemToggleInt eTimeShift(&amp;vTshift,QT_TR_NOOP(&quot;_Time shift (ms):&quot;),&amp;vTshiftValue,QT_TR_NOOP(&quot;Time shift value (ms)&quot;),-1000*100,1000*100);
-   
-//    diaElemToggle    eTimeShift(&amp;vTshift,QT_TR_NOOP(&quot;Enable _time shift&quot;));
-//    diaElemInteger  eShift(&amp;vTshiftValue,QT_TR_NOOP(&quot;Time shift _value (ms):&quot;),-10000,10000);
-//    
-//    eTimeShift.link(1,&amp;eShift);
-//   
-    //**********************************
+  uint32_t vFreq=config-&gt;resamplerFrequency;
+  uint32_t vChan=config-&gt;mixerConf;
+  uint32_t vDownsample=config-&gt;mixerEnabled;
+  uint32_t vFilm=config-&gt;film2pal;
+
    diaElemToggleUint eResample(&amp;vDownsample,QT_TR_NOOP(&quot;R_esampling (Hz):&quot;),&amp;vFreq,QT_TR_NOOP(&quot;Resampling frequency (Hz)&quot;),6000,64000);
-    //diaElemToggle      eResample(&amp;vDownsample,QT_TR_NOOP(&quot;R_esampling (Hz)&quot;));
-    //diaElemUInteger  eResampleValue(&amp;vFreq,QT_TR_NOOP(&quot;_Resampling frequency (Hz):&quot;),6000,64000);
-  
-//    eResample.link(1,&amp;eResampleValue);
     
     //**********************************
     diaMenuEntry menuFPS[]={
@@ -71,19 +40,6 @@
    diaElemMenu      eFPS(&amp;vFilm,QT_TR_NOOP(&quot;_Frame rate change:&quot;),3,menuFPS);
 
    //**********************************
-    diaMenuEntry menuGain[]={
-  {ADM_NO_GAIN,       QT_TR_NOOP(&quot;None&quot;)},
-  {ADM_GAIN_AUTOMATIC,QT_TR_NOOP(&quot;Automatic (max -3 dB)&quot;)},
-  {ADM_GAIN_MANUAL,   QT_TR_NOOP(&quot;Manual&quot;)}};
-  
-   diaElemMenu      eGain(&amp;vGainMode,QT_TR_NOOP(&quot;_Gain mode:&quot;),3,menuGain);
-   
-    diaElemFloat  eGainValue(&amp;vGainValue,QT_TR_NOOP(&quot;G_ain value:&quot;),-10,10);
-     eGain.link(&amp;(menuGain[2]),1,&amp;eGainValue);
-   diaElemFrame frameGain(QT_TR_NOOP(&quot;Gain&quot;));   
-    frameGain.swallow(&amp;eGain);
-    frameGain.swallow(&amp;eGainValue);
-  //********************************
     diaMenuEntry menuMixer[]={
   {CHANNEL_INVALID,     QT_TR_NOOP(&quot;No change&quot;)},
   {CHANNEL_MONO,        QT_TR_NOOP(&quot;Mono&quot;)},
@@ -101,23 +57,17 @@
  diaElemMenu      eMixer(&amp;vChan,QT_TR_NOOP(&quot;_Mixer:&quot;),11,menuMixer);
  
  /************************************/
- diaElem *elems[]={&amp;eFPS, &amp;eMixer, &amp;eTimeShift,  &amp;eResample, &amp;eDRC, &amp;frameGain};
-  if( diaFactoryRun(QT_TR_NOOP(&quot;Audio Filters&quot;),6,elems))
+ diaElem *elems[]={&amp;eFPS, &amp;eMixer, &amp;eResample};
+  if( diaFactoryRun(QT_TR_NOOP(&quot;Audio Filters&quot;),3,elems))
     {
-        *drc=vDRC;
-        *tshifted=vTshift;
-        *shiftvalue=vTshiftValue;
-        *freqvalue=vFreq;
-        *channel=(CHANNEL_CONF)vChan;
-        *downsamplingmethod=(RESAMPLING)vDownsample;
-        *filmconv=(FILMCONV)vFilm;
-        gain-&gt;mode=(ADM_GAINMode)vGainMode;
-        gain-&gt;gain10=(uint32_t)(10.*vGainValue);
-      return 1;
+        config-&gt;resamplerFrequency=vFreq;
+        config-&gt;mixerConf=(CHANNEL_CONF)vChan;
+        config-&gt;mixerEnabled=vDownsample;
+        config-&gt;film2pal=(FILMCONV)vFilm;
+      return true;
     }
     
-    return 0;
- 
+    return false;
 }
 
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_editor/ADM_edLoadSave.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_editor/ADM_edLoadSave.cpp	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_editor/ADM_edLoadSave.cpp	2009-07-14 15:37:21 UTC (rev 5088)
@@ -27,9 +27,6 @@
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 #include &quot;ADM_videoFilter.h&quot;
 #include &quot;ADM_videoFilter_internal.h&quot;
-
-#include &quot;audioeng_buildfilters.h&quot;
-//#include &quot;ADM_encoder/adm_encConfig.h&quot;
 #include &quot;prefs.h&quot;
 #include &quot;avi_vars.h&quot;
 
@@ -190,7 +187,7 @@
    
    qfprintf(fd,&quot;\n//** Audio **\n&quot;);
    qfprintf(fd,&quot;app.audio.reset();\n&quot;);
-
+#if 0
    // External audio ?
         char *audioName;
         AudioSource  source;
@@ -212,7 +209,7 @@
                         qfprintf(fd,&quot;app.audio.setTrack(%d);\n&quot;, source); 
                         
         }
-#if 0
+
    getAudioExtraConf(&amp;bitrate,&amp;extraDataSize,&amp;extraData);
    qfprintf(fd,&quot;app.audio.codec(\&quot;%s\&quot;,%d,%d,\&quot;&quot;, audioCodecGetName(),bitrate,extraDataSize); 
    for(int i=0;i&lt;extraDataSize;i++)

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSAvidemuxAudio.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSAvidemuxAudio.cpp	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSAvidemuxAudio.cpp	2009-07-14 15:37:21 UTC (rev 5088)
@@ -16,25 +16,18 @@
 #include &quot;ADM_JSAvidemuxAudio.h&quot;
 
 #include &quot;ADM_commonUI/GUI_ui.h&quot;
-#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;avi_vars.h&quot;
 #include &quot;gui_action.hxx&quot;
-//#include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;
 #include &quot;ADM_videoFilter.h&quot;
-//#include &quot;ADM_encoder/adm_encoder.h&quot;
-//#include &quot;ADM_encoder/adm_encConfig.h&quot;
 #include &quot;ADM_editor/ADM_outputfmt.h&quot;
-
-
-
 #include &quot;ADM_script/ADM_container.h&quot;
+#include &quot;ADM_audioFilter/include/ADM_audioFilterInterface.h&quot;
 
 extern int A_audioSave(char *name);
 extern int A_loadAC3 (char *name);
 extern int A_loadMP3 (char *name);
 extern int A_loadWave (char *name);
 extern void HandleAction(Action act);
-extern uint8_t A_setSecondAudioTrack(const AudioSource nw,char *name);
 
 JSPropertySpec ADM_JSAvidemuxAudio::avidemuxaudio_properties[] = 
 { 
@@ -166,6 +159,7 @@
 
 JSBool ADM_JSAvidemuxAudio::JSSetProperty(JSContext *cx, JSObject *obj, jsval id, jsval *vp)
 {
+#if 0
         if (JSVAL_IS_INT(id)) 
         {
                 
@@ -253,6 +247,7 @@
                         return JS_FALSE;
                 }
         }
+#endif
         return JS_TRUE;
 }
 
@@ -293,6 +288,7 @@
 JSBool ADM_JSAvidemuxAudio::Load(JSContext *cx, JSObject *obj, uintN argc, 
                                       jsval *argv, jsval *rval)
 {// begin Load
+#if 0
         ADM_JSAvidemuxAudio *p = (ADM_JSAvidemuxAudio *)JS_GetPrivate(cx, obj);
         // default return value
         *rval = BOOLEAN_TO_JSVAL(false);
@@ -342,6 +338,7 @@
         printf(&quot; external source %d (%s) \n&quot;, src,pTempStr);
 
         *rval = INT_TO_JSVAL(result);
+#endif
         return JS_TRUE;
 }// end Load
 
@@ -354,7 +351,7 @@
         if(argc != 0)
                 return JS_FALSE;
         enterLock();
-        audioReset();
+        audioFilterReset();
         leaveLock()
         *rval = BOOLEAN_TO_JSVAL(true);
         return JS_TRUE;
@@ -364,6 +361,7 @@
 JSBool ADM_JSAvidemuxAudio::Codec(JSContext *cx, JSObject *obj, uintN argc, 
                                       jsval *argv, jsval *rval)
 {// begin Codec
+#if 0
         ADM_JSAvidemuxAudio *p = (ADM_JSAvidemuxAudio *)JS_GetPrivate(cx, obj);
         // default return value
         *rval = BOOLEAN_TO_JSVAL(false);
@@ -401,6 +399,7 @@
                 *rval = BOOLEAN_TO_JSVAL(true);
         }// end set bitrate
         leaveLock();
+#endif
         return JS_TRUE;
 }// end Codec
 JSBool ADM_JSAvidemuxAudio::getNbTracks(JSContext *cx, JSObject *obj, uintN argc, 
@@ -446,6 +445,7 @@
 }// end Codec
 JSBool ADM_JSAvidemuxAudio::secondAudioTrack(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval)
 {
+#if 0
         ADM_JSAvidemuxAudio *p = (ADM_JSAvidemuxAudio *)JS_GetPrivate(cx, obj);
         if(argc != 2)
                 return JS_FALSE;
@@ -467,11 +467,13 @@
                 return JS_TRUE;
         }
         leaveLock();
+#endif
       return JS_FALSE;
 }
 JSBool ADM_JSAvidemuxAudio::mixer(JSContext *cx, JSObject *obj, uintN argc, 
                                       jsval *argv, jsval *rval)
 {
+#if 0
 uint32_t nb=0,nw=0;
 uint32_t *infos=NULL;
         // default return value
@@ -488,6 +490,7 @@
         else
                 *rval=BOOLEAN_TO_JSVAL(false);
         leaveLock();
+#endif
         return JS_TRUE;
 
 }// end Codec

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSAvidemuxVideo.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSAvidemuxVideo.cpp	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSAvidemuxVideo.cpp	2009-07-14 15:37:21 UTC (rev 5088)
@@ -17,14 +17,10 @@
 
 
 #include &quot;ADM_commonUI/GUI_ui.h&quot;
-#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;avi_vars.h&quot;
 #include &quot;gui_action.hxx&quot;
-//#include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;
 #include &quot;ADM_videoFilter.h&quot;
 #include &quot;ADM_videoFilter_internal.h&quot;
-//#include &quot;ADM_encoder/adm_encoder.h&quot;
-//#include &quot;ADM_encoder/adm_encConfig.h&quot;
 #include &quot;ADM_editor/ADM_outputfmt.h&quot;
 #include &quot;ADM_commonUI/GUI_ui.h&quot;
 #include &quot;ADM_script/ADM_container.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSFunctions.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSFunctions.cpp	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSFunctions.cpp	2009-07-14 15:37:21 UTC (rev 5088)
@@ -31,14 +31,10 @@
 #include &quot;ADM_default.h&quot;
 #include &quot;DIA_coreToolkit.h&quot;
 #include &quot;ADM_editor/ADM_outputfmt.h&quot;
-#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;adm_scanner.h&quot; 
 #include &quot;avi_vars.h&quot;
 #include &quot;gui_action.hxx&quot;
-//#include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;
 #include &quot;ADM_videoFilter.h&quot;
-//#include &quot;ADM_encoder/adm_encoder.h&quot;
-//#include &quot;ADM_encoder/adm_encConfig.h&quot;
 #include &quot;ADM_editor/ADM_outputfmt.h&quot;
 
 #include &quot;ADM_script/ADM_container.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSFunctionsNonRegFactory.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSFunctionsNonRegFactory.cpp	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script/ADM_JSFunctionsNonRegFactory.cpp	2009-07-14 15:37:21 UTC (rev 5088)
@@ -31,7 +31,6 @@
 #include &quot;ADM_default.h&quot;
 #include &quot;DIA_coreToolkit.h&quot;
 #include &quot;ADM_editor/ADM_outputfmt.h&quot;
-#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;adm_scanner.h&quot; 
 #include &quot;avi_vars.h&quot;
 #include &quot;gui_action.hxx&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_toolkit/ADM_audioQueue.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_toolkit/ADM_audioQueue.cpp	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_toolkit/ADM_audioQueue.cpp	2009-07-14 15:37:21 UTC (rev 5088)
@@ -14,9 +14,6 @@
 #include &quot;ADM_default.h&quot;
 #include &quot;ADM_threads.h&quot;
 
-#include &quot;audioprocess.hxx&quot;
-#include &quot;audioeng_buildfilters.h&quot;
-
 #include &quot;ADM_audioQueue.h&quot;
 
 /*

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_toolkit/automation.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_toolkit/automation.cpp	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_toolkit/automation.cpp	2009-07-14 15:37:21 UTC (rev 5088)
@@ -31,8 +31,6 @@
 
 
 #include &quot;gui_action.hxx&quot;
-//#include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;
-#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;prefs.h&quot;
 #include &quot;gtkgui.h&quot;
 
@@ -45,7 +43,7 @@
 #include &quot;ADM_filter/vidVCD.h&quot;
 #include &quot;ADM_vidMisc.h&quot;
 #include &quot;ADM_coreVideoEncoder.h&quot;
-
+#include &quot;ADM_audioFilter/include/ADM_audioFilterInterface.h&quot;
 extern void filterListAll(void );
 
 //extern uint8_t loadVideoCodecConf( const char *name);
@@ -323,7 +321,7 @@
 {
   int32_t i;
   sscanf(p,&quot;%d&quot;,&amp;i);
-        audioFilterNormalizeMode(i);
+  //audioFilterNormalizeMode(i);
 }
 void call_resample    (char *p)
 {
@@ -331,7 +329,7 @@
         fq=atoi(p);
         if(fq&gt;1000)
         {
-                audioSetResample(fq);
+                audioFilterSetResample(fq);
                 printf(&quot;resample to %d\n&quot;,fq);
         }
         else
@@ -379,10 +377,11 @@
 
 		int32_t i;
 		sscanf(p,&quot;%&quot;LD,&amp;i);
-		audioFilterDelay(i);
+//		audioFilterDelay(i);
 }
 void call_audiocodec(char *p)
 {
+#if 0
 	if(!strcasecmp(p,&quot;MP2&quot;))
 		audio_selectCodecByTag(WAV_MP2);
 	else if(!strcasecmp(p,&quot;AC3&quot;))
@@ -399,6 +398,7 @@
 		audio_selectCodecByTag( WAV_PCM );
 		fprintf(stderr,&quot;audio codec \&quot;%s\&quot; unknown.\n&quot;,p);
 	}
+#endif
 }
 void call_probePat(char *p)
 {

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/CMakeLists.txt	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/CMakeLists.txt	2009-07-14 15:37:21 UTC (rev 5088)
@@ -1,6 +1,6 @@
 ADD_SUBDIRECTORY(ADM_audiocodec)
 ADD_SUBDIRECTORY(ADM_audioFilter)
-ADD_SUBDIRECTORY(ADM_audioFilter_old)
+#ADD_SUBDIRECTORY(ADM_audioFilter_old)
 ADD_SUBDIRECTORY(ADM_codecs)
 ADD_SUBDIRECTORY(ADM_commonUI)
 ADD_SUBDIRECTORY(ADM_editor)

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/gtk_gui.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/gtk_gui.cpp	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/gtk_gui.cpp	2009-07-14 15:37:21 UTC (rev 5088)
@@ -29,11 +29,9 @@
 
 #include &quot;ADM_coreAudio.h&quot;
 
-#include &quot;audioprocess.hxx&quot;
 #include &quot;gui_action.hxx&quot;
 #include &quot;gtkgui.h&quot;
 
-#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;prefs.h&quot;
 #include &quot;ADM_render/GUI_render.h&quot;
 #include &quot;ADM_commonUI/GUI_ui.h&quot;
@@ -51,14 +49,9 @@
 #include &quot;ADM_vidMisc.h&quot;
 #include &quot;ADM_preview.h&quot;
 #include &quot;ADM_coreVideoEncoder.h&quot;
+#include &quot;ADM_audioFilter/include/ADM_audioFilterInterface.h&quot;
 
 
-static AudioSource currentAudioSource = AudioAvi;
-static AudioSource secondAudioSource = AudioNone;
-
-static char *currentAudioName = NULL;
-static char *secondAudioName = NULL;
-
 char * actual_workbench_file;
 renderZoom currentZoom=ZOOM_1_1;
 //***********************************
@@ -88,7 +81,6 @@
 extern int A_SavePackedVop(const char *name);
 uint8_t A_TimeShift(void);
 void A_ResetMarkers(void);
-uint8_t A_setSecondAudioTrack(const AudioSource nw,char *name);
 extern void A_jog(void);
 //***********************************
 //******** GUI Function**************
@@ -216,7 +208,7 @@
                 return;
 #endif
       case ACT_AudioConfigure:
-    		audioCodecSelect();
+//    		audioCodecSelect();
 		return;
 	case ACT_VideoConfigure:
     		videoEncoder6Configure();
@@ -259,7 +251,7 @@
       return;
 
     case ACT_AudioFilters:
-      audioFilter_configureFilters ();
+    //  audioFilter_configureFilters ();
       return;
     case ACT_Pref:
         if(playing) return;
@@ -489,7 +481,7 @@
  
     case ACT_AudioSourceAvi:
       //currentaudiostream=aviaudiostream;
-      A_changeAudioStream (aviaudiostream, AudioAvi,NULL);
+//      A_changeAudioStream (aviaudiostream, AudioAvi,NULL);
       //wavinfo= currentaudiostream-&gt;getInfo();
       break;
 
@@ -821,7 +813,8 @@
             }
             if(infos) delete [] infos;
             // Revert mixer to copy
-            setCurrentMixerFromString(&quot;NONE&quot;);
+            //setCurrentMixerFromString(&quot;NONE&quot;);
+            audioFilterSetMixer(CHANNEL_INVALID);
         }
 	for(i=strlen(longname);i&gt;=0;i--)
     {
@@ -873,7 +866,7 @@
   else
     {
 	  video_body-&gt;getAudioStream (&amp;aviaudiostream);
-      A_changeAudioStream (aviaudiostream, AudioAvi,NULL);
+//      A_changeAudioStream (aviaudiostream, AudioAvi,NULL);
 #if 0
       if (aviaudiostream)
 	if (!aviaudiostream-&gt;isDecompressable ())
@@ -981,7 +974,7 @@
   video_body-&gt;getAudioStream (&amp;aviaudiostream);
   if (isaviaud)
     {
-      A_changeAudioStream (aviaudiostream, AudioAvi,NULL);
+//      A_changeAudioStream (aviaudiostream, AudioAvi,NULL);
     }
   	//updateVideoFilters ();
 	getFirstVideoFilter();
@@ -1038,16 +1031,20 @@
 {
 
 }
+#if 0
 AudioSource getCurrentAudioSource(char **name)
 {
         *name=currentAudioName;
         return currentAudioSource;
 }
+#endif
 //________________________________________________________
 // Change audio stream and delete the old one if needed
 //________________________________________________________
+#if 0
 uint8_t A_changeAudioStream (ADM_audioStream * newaudio, AudioSource nwsource,char *myname)
 {
+
 	if (currentaudiostream)
 	{
 		if (currentaudiostream != aviaudiostream)
@@ -1069,13 +1066,14 @@
     if(myname)
         currentAudioName=ADM_strdup(myname);
   }
+
   return 1;
 }
+#endif
 
 
 
 
-
 //      Clean up
 //      free all pending stuff, make leakchecker happy
 //
@@ -1098,7 +1096,7 @@
 		delete secondaudiostream;
 		secondaudiostream=NULL;
 	}
-
+#if 0
 	if (currentAudioName)
 	{
 		ADM_dealloc(currentAudioName);
@@ -1110,7 +1108,7 @@
 		ADM_dealloc(secondAudioName);
 		secondAudioName = NULL;
 	}
-
+#endif
 	if (actual_workbench_file)
 	{
 		ADM_dealloc(actual_workbench_file);
@@ -1164,10 +1162,6 @@
    }
    ADM_dealloc(longname);
 }
-/**---------------------------------------------------
-		Pipe to toolame
--------------------------------------------------------**/
-extern  void audioCodecSetcodec(AUDIOENCODER codec);
 
 /*
 	Unpack all frames without displaying them to check for error
@@ -1266,7 +1260,6 @@
  	}
 
 }
-extern uint8_t DIA_audioTrack(AudioSource *source, uint32_t *track,uint32_t nbTrack, audioInfo *infos);
 extern const char *getStrFromAudioCodec( uint32_t codec);
 /**
       \fn A_audioTrack
@@ -1274,6 +1267,7 @@
 */
 void A_audioTrack( void )
 {
+#if 0
         uint32_t nb;
         audioInfo *infos=NULL;
 
@@ -1379,7 +1373,7 @@
          for(int i=0;i&lt;nb;i++)
             delete sourceavitracks[i];
         return;
-
+#endif
 }
 /**
         \fn A_externalAudioTrack
@@ -1387,6 +1381,7 @@
 */
 void A_externalAudioTrack( void )
 {
+#if 0
         uint32_t old,nw;
         uint32_t oldtrack,newtrack;
         char  *newtrackname=ADM_strdup(secondAudioName);
@@ -1427,11 +1422,12 @@
        secondAudioSource=(AudioSource)nw;
         A_setSecondAudioTrack(secondAudioSource,newtrackname);
         if(newtrackname) ADM_dealloc(newtrackname);
+#endif
 }
-
+#if 0
 uint8_t A_setSecondAudioTrack(const AudioSource nw,char *name)
 {
-#if 0
+
         switch(nw)
         {
                 case AudioNone:break;
@@ -1509,10 +1505,10 @@
                 ADM_assert(0);
         }
         return 0;
-#endif
+
 }
+#endif
 
-
 void A_Resync(void)
 {
 // Just in case update file info
@@ -1624,7 +1620,7 @@
       avifileinfo = NULL;
       video_body-&gt;cleanup ();
       curframe = 0;
-      A_changeAudioStream (NULL, AudioNone,NULL);
+//      A_changeAudioStream (NULL, AudioNone,NULL);
 
       // Audio streams are cleared by editor
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/gui_autodrive.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/gui_autodrive.cpp	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/gui_autodrive.cpp	2009-07-14 15:37:21 UTC (rev 5088)
@@ -29,8 +29,6 @@
 
 #include &quot;audio_out.h&quot;
 #include &quot;ADM_coreAudio.h&quot;
-#include &quot;audioprocess.hxx&quot;
-#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;gui_action.hxx&quot;
 
 //#include &quot;ADM_encoder/adm_encConfig.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/gui_blackframes.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/gui_blackframes.cpp	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/gui_blackframes.cpp	2009-07-14 15:37:21 UTC (rev 5088)
@@ -28,7 +28,6 @@
 #include &quot;prototype.h&quot;
 #include &quot;audio_out.h&quot;
 #include &quot;ADM_coreAudio.h&quot;
-#include &quot;audioprocess.hxx&quot;
 #include &quot;gui_action.hxx&quot;
 #include &quot;gtkgui.h&quot;
 #include &quot;DIA_coreToolkit.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/gui_savenew.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/gui_savenew.cpp	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/gui_savenew.cpp	2009-07-14 15:37:21 UTC (rev 5088)
@@ -23,7 +23,6 @@
 #include &quot;DIA_coreToolkit.h&quot;
 #include &quot;DIA_enter.h&quot;
 #include &quot;ADM_coreAudio.h&quot;
-#include &quot;audioprocess.hxx&quot;
 
 #include &quot;ADM_videoFilter.h&quot;
 #include &quot;ADM_videoFilter_internal.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/commonCmakeApplication.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/commonCmakeApplication.cmake	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/commonCmakeApplication.cmake	2009-07-14 15:37:21 UTC (rev 5088)
@@ -107,7 +107,7 @@
 	INCLUDE_DIRECTORIES(${GETTEXT_INCLUDE_DIR})
 ENDIF (GETTEXT_FOUND)
 INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/../common/&quot;)
-INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/../common/ADM_audioFilter_old&quot;)
+INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/../common/ADM_audioFilter/include&quot;)
 INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/../common/ADM_commonUI&quot;)
 #
 # Add main source
@@ -160,7 +160,6 @@
 SET(commonLibs1
 ADM_muxerGate 
 ADM_audioFilter
-ADM_audioFilter_old 
 ADM_editor 
 ADM_audiocodec 
 ADM_codecs 

Modified: branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_dialog/DIA_acodec.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_dialog/DIA_acodec.cpp	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_dialog/DIA_acodec.cpp	2009-07-14 15:37:21 UTC (rev 5088)
@@ -4,10 +4,6 @@
 
 #include &quot;ADM_toolkitGtk.h&quot;
 
-#include &quot;audioprocess.hxx&quot;
-#include &quot;audioeng_buildfilters.h&quot;
-//#include &quot;ADM_audiocodec/ADM_audiocodeclist.h&quot;
-
 extern uint32_t audioEncoderGetNumberOfEncoders(void);
 extern const char  *audioEncoderGetDisplayName(uint32_t i);
 extern uint8_t audioCodecSetByIndex(int i);
@@ -36,7 +32,7 @@
 
 		cur=findCodec();
 		audioCodecSetByIndex(cur);
-		audioCodecConfigure();
+//		audioCodecConfigure();
 
 }
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_dialog/DIA_calculator.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_dialog/DIA_calculator.cpp	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux/gtk/ADM_userInterfaces/ADM_dialog/DIA_calculator.cpp	2009-07-14 15:37:21 UTC (rev 5088)
@@ -25,10 +25,6 @@
 #include &quot;ADM_videoFilter.h&quot;
 #include &quot;ADM_videoFilter_internal.h&quot;
 
-#include &quot;audioprocess.hxx&quot;
-#include &quot;audioeng_buildfilters.h&quot;
-
-
 #include &quot;ADM_vidMisc.h&quot;
 #include &quot;avi_vars.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudio/include/ADM_audiodef.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudio/include/ADM_audiodef.h	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudio/include/ADM_audiodef.h	2009-07-14 15:37:21 UTC (rev 5088)
@@ -5,7 +5,19 @@
 #ifndef AUDIO_DEF
 #define AUDIO_DEF
 #include &lt;string.h&gt;
+
+
 /**
+    \enum FILMCONV
+*/
+typedef enum 
+{
+	FILMCONV_NONE=0,
+	FILMCONV_FILM2PAL=1,
+	FILMCONV_PAL2FILM=2,
+	FILMCONV_LAST
+}FILMCONV;
+/**
     \struct WAVHeader
 */
 typedef struct

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioFilter/include/audiofilter_conf.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioFilter/include/audiofilter_conf.h	2009-07-13 18:58:49 UTC (rev 5087)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreAudioFilter/include/audiofilter_conf.h	2009-07-14 15:37:21 UTC (rev 5088)
@@ -29,14 +29,19 @@
 public    :
 
     ADM_AUDIOFILTER_CONFIG(void)
-        {
-                startTimeInUs=0;
-                shiftInMs=0;
-                mixerEnabled=false;
-                mixerConf=CHANNEL_STEREO;
-                resamplerEnabled=false;
-                resamplerFrequency=44100;
-        }
+                {
+                    reset();
+                }
+    bool        reset()
+                {
+                        startTimeInUs=0;
+                        shiftInMs=0;
+                        mixerEnabled=false;
+                        mixerConf=CHANNEL_STEREO;
+                        resamplerEnabled=false;
+                        resamplerFrequency=44100;
+                        film2pal    =FILMCONV_NONE;
+                }
 
     uint64_t     startTimeInUs;
     int32_t      shiftInMs;
@@ -46,8 +51,12 @@
     // Resampler
     bool         resamplerEnabled;
     uint32_t     resamplerFrequency;
+    // film2pal &amp; pal2film
+    FILMCONV     film2pal;
+    // Gain filter
+    //GAINparam    gainParam;
+     
 
-
 };
 
 #endif
\ No newline at end of file


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002302.html">[Avidemux-svn-commit] r5087 -	branches/avidemux_2.5_branch_gruntster/plugins/ADM_audioEncoders/lame
</A></li>
	<LI>Next message: <A HREF="002304.html">[Avidemux-svn-commit] r5089 - in branches/avidemux_2.6_branch_mean:	avidemux/common avidemux/common/ADM_audioFilter/include	avidemux/common/ADM_audioFilter/src	avidemux/common/ADM_commonUI avidemux/common/ADM_script	avidemux/common/ADM_toolkit	avidemux_core/ADM_coreAudioFilter/include	avidemux_plugins/ADM_audioEncoders/lame
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2303">[ date ]</a>
              <a href="thread.html#2303">[ thread ]</a>
              <a href="subject.html#2303">[ subject ]</a>
              <a href="author.html#2303">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
