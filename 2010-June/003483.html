<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r6289 - in	branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2:	include include/scriptDialogFactory js/src_dialogFactory src	src/scriptDialogFactory
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2010-June/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r6289%20-%20in%0A%09branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2%3A%0A%09include%20include/scriptDialogFactory%20js/src_dialogFactory%20src%0A%09src/scriptDialogFactory&In-Reply-To=%3C201006021803.o52I3VvF026448%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003482.html">
   <LINK REL="Next"  HREF="003484.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r6289 - in	branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2:	include include/scriptDialogFactory js/src_dialogFactory src	src/scriptDialogFactory</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r6289%20-%20in%0A%09branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2%3A%0A%09include%20include/scriptDialogFactory%20js/src_dialogFactory%20src%0A%09src/scriptDialogFactory&In-Reply-To=%3C201006021803.o52I3VvF026448%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r6289 - in	branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2:	include include/scriptDialogFactory js/src_dialogFactory src	src/scriptDialogFactory">mean at mail.berlios.de
       </A><BR>
    <I>Wed Jun  2 20:03:31 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003482.html">[Avidemux-svn-commit] r6288 - in	branches/avidemux_2.5_branch_gruntster:	platforms/windows/build_scripts/avidemux	platforms/windows/build_scripts/avidemux/Tools po
</A></li>
        <LI>Next message: <A HREF="003484.html">[Avidemux-svn-commit] r6290 - in branches/avidemux_2.6_branch_mean:	avidemux/common/ADM_script2/py cmake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3483">[ date ]</a>
              <a href="thread.html#3483">[ thread ]</a>
              <a href="subject.html#3483">[ subject ]</a>
              <a href="author.html#3483">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2010-06-02 20:03:27 +0200 (Wed, 02 Jun 2010)
New Revision: 6289

Added:
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDF.h
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDFInteger.h
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDFMenu.h
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDFToggle.h
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDialogFactory.h
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/scriptDialogFactory/
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/scriptDialogFactory/ADM_scriptDFInteger.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/scriptDialogFactory/ADM_scriptDFMenu.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/scriptDialogFactory/ADM_scriptDFToggle.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/scriptDialogFactory/ADM_scriptDialogFactory.cpp
Modified:
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFInteger.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFInteger.h
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFMenu.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFMenu.h
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFToggle.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFToggle.h
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDialogFactory.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDialogFactory.h
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDialogFactory_if.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/CMakeLists.txt
Log:
[script/dialogFactory] Split helper from core so that helper can be reused by py binding

Added: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDF.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDF.h	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDF.h	2010-06-02 18:03:27 UTC (rev 6289)
@@ -0,0 +1,31 @@
+/**
+    \file   ADM_JSDF.h
+    \brief  JS / DF binding
+    \author gruntster/Mean 2010
+
+
+*/
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#ifndef _ADM_scriptDF_H
+#define _ADM_scriptDF_H
+#include &quot;ADM_default.h&quot;
+/**
+    \class ADM_scriptBaseHelper
+*/
+class ADM_scriptDFBaseHelper
+{
+public:
+                        ADM_scriptDFBaseHelper() {};
+    virtual             ~ADM_scriptDFBaseHelper() {};
+    virtual diaElem*    getControl(void)=0;
+};
+
+#endif

Added: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDFInteger.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDFInteger.h	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDFInteger.h	2010-06-02 18:03:27 UTC (rev 6289)
@@ -0,0 +1,39 @@
+/**
+    \file   ADM_JSDFInteger.h
+    \brief  JS / DF binding
+    \author gruntster/mean 2010
+
+
+*/
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#ifndef _ADM_scriptDFInteger_H
+#define _ADM_scriptDFInteger_H
+
+#include &quot;DIA_factory.h&quot;
+#include &quot;ADM_scriptDF.h&quot;
+/**
+    \class ADM_JSDFIntegerHelper
+*/
+class ADM_scriptDFIntegerHelper : public ADM_scriptDFBaseHelper
+{
+private:
+	char                *_title;
+	int32_t             _value;
+        int32_t             _min,_max;
+
+public:
+                     ADM_scriptDFIntegerHelper(const char *title,int32_t mn, int32_t mx);
+                     ~ADM_scriptDFIntegerHelper(void);
+	virtual diaElem* getControl(void);
+            int32_t value(void);
+            void     setValue(int32_t value);
+};
+#endif

Added: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDFMenu.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDFMenu.h	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDFMenu.h	2010-06-02 18:03:27 UTC (rev 6289)
@@ -0,0 +1,43 @@
+/**
+    \file   ADM_scriptDFMenu.h
+    \brief  JS / DF binding
+    \author gruntster 2010
+
+
+*/
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#ifndef _ADM_scriptDFMenu_H
+#define _ADM_scriptDFMenu_H
+
+#include &quot;DIA_factory.h&quot;
+#include &quot;ADM_scriptDF.h&quot;
+#include &lt;vector&gt;
+/**
+    \class ADM_scriptDFMenuHelper
+*/
+class ADM_scriptDFMenuHelper : public ADM_scriptDFBaseHelper
+{
+private:
+	char                *_title;
+	uint32_t            _index;
+	diaMenuEntry        *_menuEntries;
+	std::vector &lt;char*&gt; _items;
+
+public:
+                     ADM_scriptDFMenuHelper(const char *title);
+                     ~ADM_scriptDFMenuHelper(void);
+            void     addItem(const char* item);
+	virtual diaElem* getControl(void);
+            int      index(void);
+            void     setIndex(int index);
+};
+
+#endif

Added: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDFToggle.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDFToggle.h	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDFToggle.h	2010-06-02 18:03:27 UTC (rev 6289)
@@ -0,0 +1,38 @@
+/**
+    \file   ADM_JSDFToggle.h
+    \brief  JS / DF binding
+    \author gruntster/mean 2010
+
+
+*/
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#ifndef _ADM_scriptDFToggle_H
+#define _ADM_scriptDFToggle_H
+
+#include &quot;DIA_factory.h&quot;
+#include &quot;ADM_scriptDF.h&quot;
+/**
+    \class ADM_JSDFToggleHelper
+*/
+class ADM_scriptDFToggleHelper : public ADM_scriptDFBaseHelper
+{
+private:
+	char                *_title;
+	uint32_t            _value;
+
+public:
+                     ADM_scriptDFToggleHelper(const char *title);
+                     ~ADM_scriptDFToggleHelper(void);
+	virtual diaElem* getControl(void);
+            uint32_t value(void);
+            void     setValue(uint32_t value);
+};
+#endif

Added: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDialogFactory.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDialogFactory.h	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/include/scriptDialogFactory/ADM_scriptDialogFactory.h	2010-06-02 18:03:27 UTC (rev 6289)
@@ -0,0 +1,40 @@
+/**
+    \file   ADM_scriptDialogFactory.h
+    \brief  JS / DF binding
+    \author gruntster 2010
+
+
+*/
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#ifndef _ADM_scriptDialogFactory_H
+#define _ADM_scriptDialogFactory_H
+
+#include &quot;DIA_factory.h&quot;
+#include &quot;ADM_scriptDFMenu.h&quot;
+#include &lt;vector&gt;
+/**
+    \class ADM_scriptDialogFactoryHelper
+*/
+class ADM_scriptDialogFactoryHelper
+{
+private:
+	char* _title;
+	std::vector &lt;ADM_scriptDFBaseHelper*&gt; _controls;
+
+public:
+	ADM_scriptDialogFactoryHelper(const char *title);
+	~ADM_scriptDialogFactoryHelper(void);
+	void addControl(ADM_scriptDFBaseHelper* control);
+	diaElem** getControls(int *controlCount);
+	const char* title(void);
+};
+
+#endif

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFInteger.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFInteger.cpp	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFInteger.cpp	2010-06-02 18:03:27 UTC (rev 6289)
@@ -14,41 +14,9 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;ADM_JSDFInteger.h&quot;
+#include &quot;ADM_JSDFInteger.h&quot;
+#include &quot;ADM_scriptDFInteger.h&quot;
 
-ADM_JSDFIntegerHelper::ADM_JSDFIntegerHelper(const char *title,int32_t mn,int32_t mx)
-{
-	_title = ADM_strdup(title); 
-    _min=mn;
-    _max=mx;
-	_value = 0;
-}
-
-ADM_JSDFIntegerHelper::~ADM_JSDFIntegerHelper(void)
-{
-	if (_title)
-		delete _title;
-
-	_title = NULL;
-
-
-}
-
-
-diaElem* ADM_JSDFIntegerHelper::getControl(void)
-{
-    return new diaElemInteger(&amp;_value,_title, _min,_max);
-}
-
-int32_t ADM_JSDFIntegerHelper::value(void)
-{
-	return _value;
-}
-
-void ADM_JSDFIntegerHelper::setValue(int32_t index)
-{
-	_value = index;
-}
 /*************************************************/
 JSPropertySpec ADM_JSDFInteger::properties[] = 
 { 
@@ -95,7 +63,7 @@
 		return JS_FALSE;
 
 
-	ADM_JSDFIntegerHelper *pObject = new ADM_JSDFIntegerHelper(
+	ADM_scriptDFIntegerHelper *pObject = new ADM_scriptDFIntegerHelper(
                                                     JS_GetStringBytes(JSVAL_TO_STRING(argv[0])),
                                                     JSVAL_TO_INT(argv[1]),
                                                     JSVAL_TO_INT(argv[2])
@@ -111,7 +79,7 @@
 
 void ADM_JSDFInteger::JSDestructor(JSContext *cx, JSObject *obj)
 {
-	ADM_JSDFIntegerHelper *pObject = (ADM_JSDFIntegerHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfIntegerHelper, NULL);
+	ADM_scriptDFIntegerHelper *pObject = (ADM_scriptDFIntegerHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfIntegerHelper, NULL);
 
 	if (pObject)
 		delete pObject;
@@ -121,7 +89,7 @@
 {
 	if (JSVAL_IS_INT(id)) 
 	{
-		ADM_JSDFIntegerHelper *pObject = (ADM_JSDFIntegerHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfIntegerHelper, NULL);
+		ADM_scriptDFIntegerHelper *pObject = (ADM_scriptDFIntegerHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfIntegerHelper, NULL);
 
 		switch(JSVAL_TO_INT(id))
 		{
@@ -140,7 +108,7 @@
 {
 	if (JSVAL_IS_INT(id)) 
 	{
-		ADM_JSDFIntegerHelper *pObject = (ADM_JSDFIntegerHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfIntegerHelper, NULL);
+		ADM_scriptDFIntegerHelper *pObject = (ADM_scriptDFIntegerHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfIntegerHelper, NULL);
 
 		switch(JSVAL_TO_INT(id))
 		{

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFInteger.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFInteger.h	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFInteger.h	2010-06-02 18:03:27 UTC (rev 6289)
@@ -20,24 +20,8 @@
 #include &quot;jsapi.h&quot;
 #include &quot;DIA_factory.h&quot;
 #include &quot;ADM_JSDF.h&quot;
+#include &quot;ADM_scriptDF.h&quot;
 /**
-    \class ADM_JSDFIntegerHelper
-*/
-class ADM_JSDFIntegerHelper : public ADM_JSDFBaseHelper
-{
-private:
-	char                *_title;
-	int32_t             _value;
-    int32_t             _min,_max;
-
-public:
-                     ADM_JSDFIntegerHelper(const char *title,int32_t mn, int32_t mx);
-                     ~ADM_JSDFIntegerHelper(void);
-	virtual diaElem* getControl(void);
-            int32_t value(void);
-            void     setValue(int32_t value);
-};
-/**
     \class ADM_JSDFInteger
 */
 class ADM_JSDFInteger

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFMenu.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFMenu.cpp	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFMenu.cpp	2010-06-02 18:03:27 UTC (rev 6289)
@@ -14,72 +14,10 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;ADM_JSDFMenu.h&quot;
+#include &quot;ADM_JSDFMenu.h&quot;
+#include &quot;ADM_scriptDFMenu.h&quot;
 
-ADM_JSDFMenuHelper::ADM_JSDFMenuHelper(const char *title)
-{
-	_title = ADM_strdup(title);
-	_menuEntries = NULL;
-	_index = 0;
-}
 
-ADM_JSDFMenuHelper::~ADM_JSDFMenuHelper(void)
-{
-	if (_title)
-		delete _title;
-
-	_title = NULL;
-
-	std::vector&lt;char*&gt;::iterator it;
-
-	for (it = _items.begin(); it != _items.end(); it++)
-		delete *it;
-
-	_items.clear();
-
-	if (_menuEntries)
-		delete _menuEntries;
-
-	_menuEntries = NULL;
-}
-
-void ADM_JSDFMenuHelper::addItem(const char* item)
-{
-	_items.push_back(ADM_strdup(item));
-}
-
-diaElem* ADM_JSDFMenuHelper::getControl(void)
-{
-	if (_menuEntries)
-		delete _menuEntries;
-
-	std::vector&lt;char*&gt;::iterator it;
-	int i = 0;
-
-	_menuEntries = new diaMenuEntry[_items.size()];	
-
-	for (it = _items.begin(); it != _items.end(); it++)
-	{
-		_menuEntries[i].val = i;
-		_menuEntries[i].text = *it;
-		_menuEntries[i].desc = NULL;
-
-		i++;
-	}
-
-	return new diaElemMenu(&amp;_index, _title, _items.size(), _menuEntries);
-}
-
-int ADM_JSDFMenuHelper::index(void)
-{
-	return _index;
-}
-
-void ADM_JSDFMenuHelper::setIndex(int index)
-{
-	_index = index;
-}
-
 JSPropertySpec ADM_JSDFMenu::properties[] = 
 { 
 	{ &quot;index&quot;, indexProperty, JSPROP_ENUMERATE },
@@ -117,7 +55,7 @@
 	if (!JSVAL_IS_STRING(argv[0]))
 		return JS_FALSE;
 
-	ADM_JSDFMenuHelper *pObject = new ADM_JSDFMenuHelper(JS_GetStringBytes(JSVAL_TO_STRING(argv[0])));
+	ADM_scriptDFMenuHelper *pObject = new ADM_scriptDFMenuHelper(JS_GetStringBytes(JSVAL_TO_STRING(argv[0])));
 
 	if (!JS_SetPrivate(cx, obj, pObject))
 		return JS_FALSE;
@@ -129,7 +67,7 @@
 
 void ADM_JSDFMenu::JSDestructor(JSContext *cx, JSObject *obj)
 {
-	ADM_JSDFMenuHelper *pObject = (ADM_JSDFMenuHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfMenuHelper, NULL);
+	ADM_scriptDFMenuHelper *pObject = (ADM_scriptDFMenuHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfMenuHelper, NULL);
 
 	if (pObject)
 		delete pObject;
@@ -137,7 +75,7 @@
 
 JSBool ADM_JSDFMenu::addItem(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval)
 {
-	ADM_JSDFMenuHelper *pObject = (ADM_JSDFMenuHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfMenuHelper, NULL);
+	ADM_scriptDFMenuHelper *pObject = (ADM_scriptDFMenuHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfMenuHelper, NULL);
 
 	if (argc != 1)
 		return JS_FALSE;
@@ -154,7 +92,7 @@
 {
 	if (JSVAL_IS_INT(id)) 
 	{
-		ADM_JSDFMenuHelper *pObject = (ADM_JSDFMenuHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfMenuHelper, NULL);
+		ADM_scriptDFMenuHelper *pObject = (ADM_scriptDFMenuHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfMenuHelper, NULL);
 
 		switch(JSVAL_TO_INT(id))
 		{
@@ -173,7 +111,7 @@
 {
 	if (JSVAL_IS_INT(id)) 
 	{
-		ADM_JSDFMenuHelper *pObject = (ADM_JSDFMenuHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfMenuHelper, NULL);
+		ADM_scriptDFMenuHelper *pObject = (ADM_scriptDFMenuHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfMenuHelper, NULL);
 
 		switch(JSVAL_TO_INT(id))
 		{

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFMenu.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFMenu.h	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFMenu.h	2010-06-02 18:03:27 UTC (rev 6289)
@@ -19,27 +19,10 @@
 
 #include &quot;jsapi.h&quot;
 #include &quot;DIA_factory.h&quot;
-#include &quot;ADM_JSDF.h&quot;
+#include &quot;ADM_JSDF.h&quot;
+#include &quot;ADM_scriptDF.h&quot;
 #include &lt;vector&gt;
-/**
-    \class ADM_JSDFMenuHelper
-*/
-class ADM_JSDFMenuHelper : public ADM_JSDFBaseHelper
-{
-private:
-	char                *_title;
-	uint32_t            _index;
-	diaMenuEntry        *_menuEntries;
-	std::vector &lt;char*&gt; _items;
 
-public:
-                     ADM_JSDFMenuHelper(const char *title);
-                     ~ADM_JSDFMenuHelper(void);
-            void     addItem(const char* item);
-	virtual diaElem* getControl(void);
-            int      index(void);
-            void     setIndex(int index);
-};
 /**
     \class ADM_JSDFMenu
 */

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFToggle.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFToggle.cpp	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFToggle.cpp	2010-06-02 18:03:27 UTC (rev 6289)
@@ -14,39 +14,9 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;ADM_JSDFToggle.h&quot;
+#include &quot;ADM_JSDFToggle.h&quot;
+#include &quot;ADM_scriptDFToggle.h&quot;
 
-ADM_JSDFToggleHelper::ADM_JSDFToggleHelper(const char *title)
-{
-	_title = ADM_strdup(title);
-	_value = 0;
-}
-
-ADM_JSDFToggleHelper::~ADM_JSDFToggleHelper(void)
-{
-	if (_title)
-		delete _title;
-
-	_title = NULL;
-
-
-}
-
-
-diaElem* ADM_JSDFToggleHelper::getControl(void)
-{
-    return new   diaElemToggle(&amp;_value,_title,NULL);
-}
-
-uint32_t ADM_JSDFToggleHelper::value(void)
-{
-	return _value;
-}
-
-void ADM_JSDFToggleHelper::setValue(uint32_t index)
-{
-	_value = index;
-}
 /*************************************************/
 JSPropertySpec ADM_JSDFToggle::properties[] = 
 { 
@@ -86,7 +56,7 @@
 	if (!JSVAL_IS_STRING(argv[0]))
 		return JS_FALSE;
 
-	ADM_JSDFToggleHelper *pObject = new ADM_JSDFToggleHelper(JS_GetStringBytes(JSVAL_TO_STRING(argv[0])));
+	ADM_scriptDFToggleHelper *pObject = new ADM_scriptDFToggleHelper(JS_GetStringBytes(JSVAL_TO_STRING(argv[0])));
 
 	if (!JS_SetPrivate(cx, obj, pObject))
 		return JS_FALSE;
@@ -98,7 +68,7 @@
 
 void ADM_JSDFToggle::JSDestructor(JSContext *cx, JSObject *obj)
 {
-	ADM_JSDFToggleHelper *pObject = (ADM_JSDFToggleHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfToggleHelper, NULL);
+	ADM_scriptDFToggleHelper *pObject = (ADM_scriptDFToggleHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfToggleHelper, NULL);
 
 	if (pObject)
 		delete pObject;
@@ -108,7 +78,7 @@
 {
 	if (JSVAL_IS_INT(id)) 
 	{
-		ADM_JSDFToggleHelper *pObject = (ADM_JSDFToggleHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfToggleHelper, NULL);
+		ADM_scriptDFToggleHelper *pObject = (ADM_scriptDFToggleHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfToggleHelper, NULL);
 
 		switch(JSVAL_TO_INT(id))
 		{
@@ -127,7 +97,7 @@
 {
 	if (JSVAL_IS_INT(id)) 
 	{
-		ADM_JSDFToggleHelper *pObject = (ADM_JSDFToggleHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfToggleHelper, NULL);
+		ADM_scriptDFToggleHelper *pObject = (ADM_scriptDFToggleHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dfToggleHelper, NULL);
 
 		switch(JSVAL_TO_INT(id))
 		{

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFToggle.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFToggle.h	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDFToggle.h	2010-06-02 18:03:27 UTC (rev 6289)
@@ -20,22 +20,8 @@
 #include &quot;jsapi.h&quot;
 #include &quot;DIA_factory.h&quot;
 #include &quot;ADM_JSDF.h&quot;
-/**
-    \class ADM_JSDFToggleHelper
-*/
-class ADM_JSDFToggleHelper : public ADM_JSDFBaseHelper
-{
-private:
-	char                *_title;
-	uint32_t            _value;
+#include &quot;ADM_scriptDF.h&quot;
 
-public:
-                     ADM_JSDFToggleHelper(const char *title);
-                     ~ADM_JSDFToggleHelper(void);
-	virtual diaElem* getControl(void);
-            uint32_t value(void);
-            void     setValue(uint32_t value);
-};
 /**
     \class ADM_JSDFToggle
 */

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDialogFactory.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDialogFactory.cpp	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDialogFactory.cpp	2010-06-02 18:03:27 UTC (rev 6289)
@@ -13,48 +13,9 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;ADM_JSDialogFactory.h&quot;
+#include &quot;ADM_JSDialogFactory.h&quot;
+#include &quot;ADM_scriptDialogFactory.h&quot;
 
-ADM_JSDialogFactoryHelper::ADM_JSDialogFactoryHelper(const char *title)
-{
-	_title = ADM_strdup(title);
-}
-
-ADM_JSDialogFactoryHelper::~ADM_JSDialogFactoryHelper(void)
-{
-	if (_title)
-		delete _title;
-
-	_title = NULL;
-}
-
-void ADM_JSDialogFactoryHelper::addControl(ADM_JSDFBaseHelper* control)
-{
-	_controls.push_back(control);
-}
-
-diaElem** ADM_JSDialogFactoryHelper::getControls(int *controlCount)
-{
-	*controlCount = (int)_controls.size();
-
-	std::vector&lt;ADM_JSDFBaseHelper*&gt;::iterator it;
-	int i = 0;
-	diaElem **elems = new diaElem*[*controlCount];
-
-	for (it = _controls.begin(); it != _controls.end(); it++)
-	{
-		elems[i] = (*it)-&gt;getControl();
-		i++;
-	}
-
-	return elems;
-}
-
-const char* ADM_JSDialogFactoryHelper::title(void)
-{
-	return _title;
-}
-
 JSFunctionSpec ADM_JSDialogFactory::methods[] =
 {
 	{ &quot;addControl&quot;, addControl, 1, 0, 0 },
@@ -87,7 +48,7 @@
 	if (JSVAL_IS_STRING(argv[0]) == false)
 		return JS_FALSE;
 
-	ADM_JSDialogFactoryHelper *pObject = new ADM_JSDialogFactoryHelper(JS_GetStringBytes(JSVAL_TO_STRING(argv[0])));
+	ADM_scriptDialogFactoryHelper *pObject = new ADM_scriptDialogFactoryHelper(JS_GetStringBytes(JSVAL_TO_STRING(argv[0])));
 
 	if (!JS_SetPrivate(cx, obj, pObject))
 		return JS_FALSE;
@@ -99,7 +60,7 @@
 
 void ADM_JSDialogFactory::JSDestructor(JSContext *cx, JSObject *obj)
 {
-	ADM_JSDialogFactoryHelper *pObject = (ADM_JSDialogFactoryHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dialogFactoryHelper, NULL);
+	ADM_scriptDialogFactoryHelper *pObject = (ADM_scriptDialogFactoryHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dialogFactoryHelper, NULL);
 
 	if (pObject != NULL)
 		delete pObject;
@@ -107,19 +68,19 @@
 
 JSBool ADM_JSDialogFactory::addControl(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval)
 {
-	ADM_JSDialogFactoryHelper *p = (ADM_JSDialogFactoryHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dialogFactoryHelper, NULL);
+	ADM_scriptDialogFactoryHelper *p = (ADM_scriptDialogFactoryHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dialogFactoryHelper, NULL);
 
 	if (argc != 1)
 		return JS_FALSE;
 
-	p-&gt;addControl((ADM_JSDFMenuHelper*)JS_GetPrivate(cx, JSVAL_TO_OBJECT(argv[0])));
+	p-&gt;addControl((ADM_scriptDFMenuHelper*)JS_GetPrivate(cx, JSVAL_TO_OBJECT(argv[0])));
 
 	return JS_TRUE;
 }
 
 JSBool ADM_JSDialogFactory::show(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval)
 {
-	ADM_JSDialogFactoryHelper *p = (ADM_JSDialogFactoryHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dialogFactoryHelper, NULL);
+	ADM_scriptDialogFactoryHelper *p = (ADM_scriptDialogFactoryHelper*)JS_GetInstancePrivate(cx, obj, &amp;m_dialogFactoryHelper, NULL);
 
 	if (argc != 0)
 		return JS_FALSE;

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDialogFactory.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDialogFactory.h	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDialogFactory.h	2010-06-02 18:03:27 UTC (rev 6289)
@@ -20,24 +20,9 @@
 #include &quot;jsapi.h&quot;
 #include &quot;DIA_factory.h&quot;
 #include &quot;ADM_JSDFMenu.h&quot;
+#include &quot;ADM_scriptDFMenu.h&quot;
 #include &lt;vector&gt;
 /**
-    \class ADM_JSDialogFactoryHelper
-*/
-class ADM_JSDialogFactoryHelper
-{
-private:
-	char* _title;
-	std::vector &lt;ADM_JSDFBaseHelper*&gt; _controls;
-
-public:
-	ADM_JSDialogFactoryHelper(const char *title);
-	~ADM_JSDialogFactoryHelper(void);
-	void addControl(ADM_JSDFBaseHelper* control);
-	diaElem** getControls(int *controlCount);
-	const char* title(void);
-};
-/**
     \class ADM_JSDialogFactory
 */
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDialogFactory_if.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDialogFactory_if.cpp	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/ADM_JSDialogFactory_if.cpp	2010-06-02 18:03:27 UTC (rev 6289)
@@ -25,6 +25,11 @@
 #include &quot;ADM_JSDFInteger.h&quot;
 #include &quot;ADM_JSDialogFactory.h&quot;
 
+#include &quot;ADM_scriptDFMenu.h&quot;
+#include &quot;ADM_scriptDFToggle.h&quot;
+#include &quot;ADM_scriptDFInteger.h&quot;
+#include &quot;ADM_scriptDialogFactory.h&quot;
+
 /**
     \fn ADM_JSDialogFactoryInit()
     \brief Hook classes to spidermonkey

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/CMakeLists.txt	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/js/src_dialogFactory/CMakeLists.txt	2010-06-02 18:03:27 UTC (rev 6289)
@@ -9,6 +9,7 @@
 
 ADD_DEFINITIONS(&quot;-DJS_THREADSAFE -DXP_UNIX&quot;)
 ADD_LIBRARY(ADM_scriptDF STATIC ${ADM_scriptDF_SRCS})
+include_directories(../../include/scriptDialogFactory)
 include_directories(../include)
 include_directories(.)
 include_directories(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux_core/ADM_smjs)

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/CMakeLists.txt	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/CMakeLists.txt	2010-06-02 18:03:27 UTC (rev 6289)
@@ -5,6 +5,10 @@
         ADM_scriptAvidemuxInfo.cpp
         ADM_scriptAudio.cpp
         ADM_scriptUtils.cpp
+        scriptDialogFactory/ADM_scriptDFInteger.cpp
+        scriptDialogFactory/ADM_scriptDFMenu.cpp
+        scriptDialogFactory/ADM_scriptDFToggle.cpp
+        scriptDialogFactory/ADM_scriptDialogFactory.cpp
 )
 
 

Added: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/scriptDialogFactory/ADM_scriptDFInteger.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/scriptDialogFactory/ADM_scriptDFInteger.cpp	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/scriptDialogFactory/ADM_scriptDFInteger.cpp	2010-06-02 18:03:27 UTC (rev 6289)
@@ -0,0 +1,51 @@
+/**
+    \file   ADM_JSDFInteger.cpp
+    \brief  JS / DF binding
+    \author gruntster/mean 2010
+
+
+
+*/
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include &quot;scriptDialogFactory/ADM_scriptDFInteger.h&quot;
+
+ADM_scriptDFIntegerHelper::ADM_scriptDFIntegerHelper(const char *title,int32_t mn,int32_t mx)
+{
+	_title = ADM_strdup(title); 
+    _min=mn;
+    _max=mx;
+	_value = 0;
+}
+
+ADM_scriptDFIntegerHelper::~ADM_scriptDFIntegerHelper(void)
+{
+	if (_title)
+		delete _title;
+
+	_title = NULL;
+
+
+}
+
+
+diaElem* ADM_scriptDFIntegerHelper::getControl(void)
+{
+    return new diaElemInteger(&amp;_value,_title, _min,_max);
+}
+
+int32_t ADM_scriptDFIntegerHelper::value(void)
+{
+	return _value;
+}
+
+void ADM_scriptDFIntegerHelper::setValue(int32_t index)
+{
+	_value = index;
+}

Added: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/scriptDialogFactory/ADM_scriptDFMenu.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/scriptDialogFactory/ADM_scriptDFMenu.cpp	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/scriptDialogFactory/ADM_scriptDFMenu.cpp	2010-06-02 18:03:27 UTC (rev 6289)
@@ -0,0 +1,82 @@
+/**
+    \file   ADM_scriptDFMenu.cpp
+    \brief  JS / DF binding
+    \author gruntster 2010
+
+
+
+*/
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include &quot;scriptDialogFactory/ADM_scriptDFMenu.h&quot;
+
+ADM_scriptDFMenuHelper::ADM_scriptDFMenuHelper(const char *title)
+{
+	_title = ADM_strdup(title);
+	_menuEntries = NULL;
+	_index = 0;
+}
+
+ADM_scriptDFMenuHelper::~ADM_scriptDFMenuHelper(void)
+{
+	if (_title)
+		delete _title;
+
+	_title = NULL;
+
+	std::vector&lt;char*&gt;::iterator it;
+
+	for (it = _items.begin(); it != _items.end(); it++)
+		delete *it;
+
+	_items.clear();
+
+	if (_menuEntries)
+		delete _menuEntries;
+
+	_menuEntries = NULL;
+}
+
+void ADM_scriptDFMenuHelper::addItem(const char* item)
+{
+	_items.push_back(ADM_strdup(item));
+}
+
+diaElem* ADM_scriptDFMenuHelper::getControl(void)
+{
+	if (_menuEntries)
+		delete _menuEntries;
+
+	std::vector&lt;char*&gt;::iterator it;
+	int i = 0;
+
+	_menuEntries = new diaMenuEntry[_items.size()];	
+
+	for (it = _items.begin(); it != _items.end(); it++)
+	{
+		_menuEntries[i].val = i;
+		_menuEntries[i].text = *it;
+		_menuEntries[i].desc = NULL;
+
+		i++;
+	}
+
+	return new diaElemMenu(&amp;_index, _title, _items.size(), _menuEntries);
+}
+
+int ADM_scriptDFMenuHelper::index(void)
+{
+	return _index;
+}
+
+void ADM_scriptDFMenuHelper::setIndex(int index)
+{
+	_index = index;
+}
+

Added: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/scriptDialogFactory/ADM_scriptDFToggle.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/scriptDialogFactory/ADM_scriptDFToggle.cpp	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/scriptDialogFactory/ADM_scriptDFToggle.cpp	2010-06-02 18:03:27 UTC (rev 6289)
@@ -0,0 +1,50 @@
+/**
+    \file   ADM_scriptDFToggle.cpp
+    \brief  JS / DF binding
+    \author gruntster/mean 2010
+
+
+
+*/
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include &quot;scriptDialogFactory/ADM_scriptDFToggle.h&quot;
+
+ADM_scriptDFToggleHelper::ADM_scriptDFToggleHelper(const char *title)
+{
+	_title = ADM_strdup(title);
+	_value = 0;
+}
+
+ADM_scriptDFToggleHelper::~ADM_scriptDFToggleHelper(void)
+{
+	if (_title)
+		delete _title;
+
+	_title = NULL;
+
+
+}
+
+
+diaElem* ADM_scriptDFToggleHelper::getControl(void)
+{
+    return new   diaElemToggle(&amp;_value,_title,NULL);
+}
+
+uint32_t ADM_scriptDFToggleHelper::value(void)
+{
+	return _value;
+}
+
+void ADM_scriptDFToggleHelper::setValue(uint32_t index)
+{
+	_value = index;
+}
+/**/

Added: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/scriptDialogFactory/ADM_scriptDialogFactory.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/scriptDialogFactory/ADM_scriptDialogFactory.cpp	2010-06-01 20:29:02 UTC (rev 6288)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_script2/src/scriptDialogFactory/ADM_scriptDialogFactory.cpp	2010-06-02 18:03:27 UTC (rev 6289)
@@ -0,0 +1,58 @@
+/**
+    \file   ADM_scriptDialogFactory.cpp
+    \brief  JS / DF binding
+    \author gruntster 2010
+
+
+*/
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include &quot;scriptDialogFactory/ADM_scriptDialogFactory.h&quot;
+
+ADM_scriptDialogFactoryHelper::ADM_scriptDialogFactoryHelper(const char *title)
+{
+	_title = ADM_strdup(title);
+}
+
+ADM_scriptDialogFactoryHelper::~ADM_scriptDialogFactoryHelper(void)
+{
+	if (_title)
+		delete _title;
+
+	_title = NULL;
+}
+
+void ADM_scriptDialogFactoryHelper::addControl(ADM_scriptDFBaseHelper* control)
+{
+	_controls.push_back(control);
+}
+
+diaElem** ADM_scriptDialogFactoryHelper::getControls(int *controlCount)
+{
+	*controlCount = (int)_controls.size();
+
+	std::vector&lt;ADM_scriptDFBaseHelper*&gt;::iterator it;
+	int i = 0;
+	diaElem **elems = new diaElem*[*controlCount];
+
+	for (it = _controls.begin(); it != _controls.end(); it++)
+	{
+		elems[i] = (*it)-&gt;getControl();
+		i++;
+	}
+
+	return elems;
+}
+
+const char* ADM_scriptDialogFactoryHelper::title(void)
+{
+	return _title;
+}
+// EOF
+


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003482.html">[Avidemux-svn-commit] r6288 - in	branches/avidemux_2.5_branch_gruntster:	platforms/windows/build_scripts/avidemux	platforms/windows/build_scripts/avidemux/Tools po
</A></li>
	<LI>Next message: <A HREF="003484.html">[Avidemux-svn-commit] r6290 - in branches/avidemux_2.6_branch_mean:	avidemux/common/ADM_script2/py cmake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3483">[ date ]</a>
              <a href="thread.html#3483">[ thread ]</a>
              <a href="subject.html#3483">[ subject ]</a>
              <a href="author.html#3483">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
