<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r4713 -	branches/avidemux_2.6_branch_mean/plugins/ADM_demuxers/OpenDml
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4713%20-%0A%09branches/avidemux_2.6_branch_mean/plugins/ADM_demuxers/OpenDml&In-Reply-To=%3C200903281635.n2SGZWHl016737%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001941.html">
   <LINK REL="Next"  HREF="001943.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r4713 -	branches/avidemux_2.6_branch_mean/plugins/ADM_demuxers/OpenDml</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4713%20-%0A%09branches/avidemux_2.6_branch_mean/plugins/ADM_demuxers/OpenDml&In-Reply-To=%3C200903281635.n2SGZWHl016737%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r4713 -	branches/avidemux_2.6_branch_mean/plugins/ADM_demuxers/OpenDml">mean at mail.berlios.de
       </A><BR>
    <I>Sat Mar 28 17:35:32 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001941.html">[Avidemux-svn-commit] r4712 -	branches/avidemux_2.6_branch_mean/avidemux/ADM_editor
</A></li>
        <LI>Next message: <A HREF="001943.html">[Avidemux-svn-commit] r4714 - in branches/avidemux_2.6_branch_mean:	avidemux avidemux/ADM_audioFilter_old	avidemux/ADM_audiofilter avidemux/ADM_editor	avidemux/ADM_encoder avidemux/ADM_libraries/ADM_mplex	avidemux/ADM_script avidemux/ADM_toolkit	avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog	avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog	avidemux/ADM_userInterfaces/ADM_commonUI	plugins/ADM_muxers/muxerAvi plugins/ADM_muxers/oplug_dummy	plugins/ADM_muxers/oplug_flv plugins/ADM_muxers/oplug_mpeg	plugins/ADM_muxers/oplug_mpegFF plugins/ADM_muxers/oplug_ogm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1942">[ date ]</a>
              <a href="thread.html#1942">[ thread ]</a>
              <a href="subject.html#1942">[ subject ]</a>
              <a href="author.html#1942">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2009-03-28 17:35:31 +0100 (Sat, 28 Mar 2009)
New Revision: 4713

Modified:
   branches/avidemux_2.6_branch_mean/plugins/ADM_demuxers/OpenDml/ADM_openDML.cpp
   branches/avidemux_2.6_branch_mean/plugins/ADM_demuxers/OpenDml/ADM_openDMLDepack.cpp
Log:
[Demuxer:Avi]Cosmetic

Modified: branches/avidemux_2.6_branch_mean/plugins/ADM_demuxers/OpenDml/ADM_openDML.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/plugins/ADM_demuxers/OpenDml/ADM_openDML.cpp	2009-03-28 16:35:25 UTC (rev 4712)
+++ branches/avidemux_2.6_branch_mean/plugins/ADM_demuxers/OpenDml/ADM_openDML.cpp	2009-03-28 16:35:31 UTC (rev 4713)
@@ -638,7 +638,7 @@
         printf(  &quot;Main header\n&quot; );
         printf(  &quot;______________________\n&quot; );  
 
-#define X_DUMP(x) printf(#x&quot;:\t\t:%d\n&quot;,_mainaviheader.x);
+#define X_DUMP(x) printf(&quot;[Avi] &quot;#x&quot;:\t\t:%d\n&quot;,_mainaviheader.x);
     	X_DUMP(dwStreams);
     	X_DUMP(dwMicroSecPerFrame) ;
 	X_DUMP(dwMaxBytesPerSec);
@@ -650,21 +650,22 @@
     	X_DUMP(dwHeight);
  	printf(&quot;\n&quot;);
 #undef X_DUMP
-#define X_DUMP(x) printf(&quot;\n &quot;#x&quot;:\t\t:%d&quot;,_videostream.x);
+#define X_DUMP(x) printf(&quot;[Avi]  &quot;#x&quot;:\t\t:%d\n&quot;,_videostream.x);
 
 				
-	printf(  &quot;video stream attached:\n&quot; );
-	printf(  &quot;______________________\n&quot; );	
-	printf(&quot; Extra Data  : %u&quot;,_videoExtraLen);
+	printf(  &quot;[Avi] video stream attached:\n&quot; );
+	printf(  &quot;[Avi] ______________________\n&quot; );	
+	printf(  &quot;[Avi] Extra Data  : %u&quot;,_videoExtraLen);
 	if(_videoExtraLen)
 	{
 		mixDump( _videoExtraData, _videoExtraLen);
+        printf(&quot;\n&quot;);
 	}
 
-	printf(&quot;\n fccType     :&quot;);
-	fourCC::print(_videostream.fccType);
-	printf(&quot;\n fccHandler :&quot;);
-	fourCC::print(_videostream.fccHandler);
+	printf(&quot;[Avi]  fccType     :&quot;);
+	fourCC::print(_videostream.fccType);printf(&quot;\n&quot;);
+	printf(&quot;[Avi]  fccHandler :&quot;);
+	fourCC::print(_videostream.fccHandler);printf(&quot;\n&quot;);
 
 	X_DUMP(dwFlags);
 	X_DUMP(dwInitialFrames);
@@ -686,19 +687,19 @@
         for(int i=0;i&lt;_nbAudioTracks;i++)
      	{
 #undef X_DUMP
-#define X_DUMP(x) printf(&quot;\n &quot;#x&quot;:\t\t:%d&quot;,_audioTracks[i].avistream-&gt;x);
+#define X_DUMP(x) printf(&quot;[Avi] &quot;#x&quot;:\t\t:%d\n&quot;,_audioTracks[i].avistream-&gt;x);
 
 
 
-	   printf(  &quot;\naudio stream attached:\n&quot; );
-	   printf(  &quot;______________________\n&quot; );
+	   printf(  &quot;[Avi] audio stream attached:\n&quot; );
+	   printf(  &quot;[Avi] ______________________\n&quot; );
 
 
-	  printf(&quot;\n fccType     :&quot;);
-	  fourCC::print(_audioTracks[i].avistream-&gt;fccType);
-	  printf(&quot;\n fccHandler :&quot;);
-	  fourCC::print(_audioTracks[i].avistream-&gt;fccHandler);
-	  printf(&quot;\n fccHandler :0x%x&quot;, _audioTracks[i].avistream-&gt;fccHandler);
+	  printf(&quot;[Avi]  fccType     :&quot;);
+	  fourCC::print(_audioTracks[i].avistream-&gt;fccType);printf(&quot;\n&quot;);
+	  printf(&quot;[Avi]  fccHandler :&quot;);
+	  fourCC::print(_audioTracks[i].avistream-&gt;fccHandler);printf(&quot;\n&quot;);
+	  printf(&quot;[Avi]  fccHandler :0x%x\n&quot;, _audioTracks[i].avistream-&gt;fccHandler);
 
 
 	  X_DUMP(dwFlags);
@@ -716,7 +717,7 @@
 #undef X_DUMP
 
         printWavHeader(_audioTracks[i].wavHeader);
-        printf(&quot; Extra Data  : %u\n&quot;,_audioTracks[i].extraDataLen);
+        printf(&quot;[Avi]  Extra Data  : %u\n&quot;,_audioTracks[i].extraDataLen);
 	if(_audioTracks[i].extraDataLen)
 	{
 		mixDump( _audioTracks[i].extraData, _audioTracks[i].extraDataLen);
@@ -759,11 +760,11 @@
 #ifdef ADM_BIG_ENDIAN
 			Endian_AviMainHeader(&amp;_mainaviheader);
 #endif
-				printf(&quot;\n Main avi header :\n&quot;);				
+				printf(&quot;[Avi]  Main avi header :\n&quot;);				
 				break;
 		case MKFCC('i','d','x','1'):
                                 _regularIndex.offset=p-&gt;getPos();
-                                printf(&quot;Idx1 found at offset %lx\n&quot;,_regularIndex.offset);
+                                printf(&quot;[Avi] Idx1 found at offset %lx\n&quot;,_regularIndex.offset);
                                 _regularIndex.size=len;
 				return;
 				break;				
@@ -792,7 +793,7 @@
 					DUMP_TRACK(_nbTrack);
 					break;
 		case MKFCC('i','n','d','x'):
-					printf(&quot;Indx found for track %d\n&quot;,_nbTrack);
+					printf(&quot;[Avi] Indx found for track %d\n&quot;,_nbTrack);
 					_Tracks[_nbTrack].indx.offset=p-&gt;getPos();
 					_Tracks[_nbTrack].indx.size=len;
 					p-&gt;skip(len);
@@ -830,7 +831,7 @@
 				break;
 		default:
 			PAD;
-			aprintf(&quot;\tskipping %lu bytes\n&quot;);
+			aprintf(&quot;[Avi] \tskipping %lu bytes\n&quot;);
 			p-&gt;skip(len);
 			break;
 		

Modified: branches/avidemux_2.6_branch_mean/plugins/ADM_demuxers/OpenDml/ADM_openDMLDepack.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/plugins/ADM_demuxers/OpenDml/ADM_openDMLDepack.cpp	2009-03-28 16:35:25 UTC (rev 4712)
+++ branches/avidemux_2.6_branch_mean/plugins/ADM_demuxers/OpenDml/ADM_openDMLDepack.cpp	2009-03-28 16:35:31 UTC (rev 4713)
@@ -96,7 +96,7 @@
 	prefs-&gt;get(PRIORITY_INDEXING,&amp;priorityLevel);
 	setpriority(PRIO_PROCESS, 0, ADM_getNiceValue(priorityLevel));
 #endif
-	printf(&quot;Trying to unpack the stream\n&quot;);
+	printf(&quot;[Avi] Trying to unpack the stream\n&quot;);
 	DIA_workingBase *working=createWorking(QT_TR_NOOP(&quot;Unpacking bitstream&quot;));
 	ADMCompressedImage image;
     image.data=buffer;
@@ -110,7 +110,7 @@
 		working-&gt;update(img,nbFrame);
 		if(!getFrame(img,&amp;image))
         {
-            printf(&quot;Error could not get frame %&quot;LU&quot;\n&quot;,img);
+            printf(&quot;[Avi] Error could not get frame %&quot;LU&quot;\n&quot;,img);
             goto _abortUnpack;
         }
 		aprintf(&quot;--Frame:%lu/%lu, len %lu, nbDuped%u\n&quot;,img,nbFrame,image.dataLength,nbDuped);
@@ -136,7 +136,7 @@
                 /* Cannot find vop, corrupted or WTF ...*/
                 if(!searchVop(buffer,buffer+image.dataLength,&amp;nbVop,myVops,&amp;timcincbits))
                 {
-                    printf(&quot;img :%u failed to find vop!\n&quot;,img);
+                    printf(&quot;[Avi] img :%u failed to find vop!\n&quot;,img);
                     memcpy(&amp;newIndex[targetIndex],&amp;_idx[img],sizeof(_idx[0]));
                     targetIndex++;
                     img++;
@@ -185,7 +185,7 @@
                         {
                           if(nbDuped)
                           {
-                              printf(&quot;WARNING*************** Missing one NVOP, dropping one b frame instead  at image %u\n&quot;,img);
+                              printf(&quot;[Avi] WARNING*************** Missing one NVOP, dropping one b frame instead  at image %u\n&quot;,img);
                               nbDuped--;
                           }else
                           {
@@ -215,7 +215,7 @@
 #endif
 	if(ret==1)
 	{
-		printf(&quot;Sucessfully unpacked the bitstream\n&quot;);
+		printf(&quot;[Avi] Sucessfully unpacked the bitstream\n&quot;);
 
 		delete [] _idx;
 		_idx=newIndex;
@@ -223,9 +223,9 @@
 	else
 	{
 		delete [] newIndex;
-		printf(&quot;Could not unpack this...\n&quot;);
+		printf(&quot;[Avi] Could not unpack this...\n&quot;);
 	}
-	printf(&quot;Initial # of images : %&quot;LU&quot;, now we have %&quot;LU&quot; \n&quot;,nbFrame,targetIndex);
+	printf(&quot;[Avi] Initial # of images : %&quot;LU&quot;, now we have %&quot;LU&quot; \n&quot;,nbFrame,targetIndex);
 	nbFrame=targetIndex;
 
 	setpriority(PRIO_PROCESS, 0, originalPriority);
@@ -260,7 +260,7 @@
 					case 0: voptype=AVI_KEY_FRAME;break;
 					case 1: voptype=0;break;
 					case 2: voptype=AVI_B_FRAME;break;
-					case 3: printf(&quot;Glouglou\n&quot;);voptype=0;break;
+					case 3: printf(&quot;[Avi] Glouglou\n&quot;);voptype=0;break;
 
 				}
         	                vop[*nb].offset=globalOff+off-4;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001941.html">[Avidemux-svn-commit] r4712 -	branches/avidemux_2.6_branch_mean/avidemux/ADM_editor
</A></li>
	<LI>Next message: <A HREF="001943.html">[Avidemux-svn-commit] r4714 - in branches/avidemux_2.6_branch_mean:	avidemux avidemux/ADM_audioFilter_old	avidemux/ADM_audiofilter avidemux/ADM_editor	avidemux/ADM_encoder avidemux/ADM_libraries/ADM_mplex	avidemux/ADM_script avidemux/ADM_toolkit	avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog	avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog	avidemux/ADM_userInterfaces/ADM_commonUI	plugins/ADM_muxers/muxerAvi plugins/ADM_muxers/oplug_dummy	plugins/ADM_muxers/oplug_flv plugins/ADM_muxers/oplug_mpeg	plugins/ADM_muxers/oplug_mpegFF plugins/ADM_muxers/oplug_ogm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1942">[ date ]</a>
              <a href="thread.html#1942">[ thread ]</a>
              <a href="subject.html#1942">[ subject ]</a>
              <a href="author.html#1942">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
