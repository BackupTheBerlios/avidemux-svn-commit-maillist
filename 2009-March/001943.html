<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r4714 - in branches/avidemux_2.6_branch_mean:	avidemux avidemux/ADM_audioFilter_old	avidemux/ADM_audiofilter avidemux/ADM_editor	avidemux/ADM_encoder avidemux/ADM_libraries/ADM_mplex	avidemux/ADM_script avidemux/ADM_toolkit	avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog	avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog	avidemux/ADM_userInterfaces/ADM_commonUI	plugins/ADM_muxers/muxerAvi plugins/ADM_muxers/oplug_dummy	plugins/ADM_muxers/oplug_flv plugins/ADM_muxers/oplug_mpeg	plugins/ADM_muxers/oplug_mpegFF plugins/ADM_muxers/oplug_ogm
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4714%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux%20avidemux/ADM_audioFilter_old%0A%09avidemux/ADM_audiofilter%20avidemux/ADM_editor%0A%09avidemux/ADM_encoder%20avidemux/ADM_libraries/ADM_mplex%0A%09avidemux/ADM_script%20avidemux/ADM_toolkit%0A%09avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog%0A%09avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog%0A%09avidemux/ADM_userInterfaces/ADM_commonUI%0A%09plugins/ADM_muxers/muxerAvi%20plugins/ADM_muxers/oplug_dummy%0A%09plugins/ADM_muxers/oplug_flv%20plugins/ADM_muxers/oplug_mpeg%0A%09plugins/ADM_muxers/oplug_mpegFF%20plugins/ADM_muxers/oplug_ogm&In-Reply-To=%3C200903281635.n2SGZcJu016767%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001942.html">
   <LINK REL="Next"  HREF="001944.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r4714 - in branches/avidemux_2.6_branch_mean:	avidemux avidemux/ADM_audioFilter_old	avidemux/ADM_audiofilter avidemux/ADM_editor	avidemux/ADM_encoder avidemux/ADM_libraries/ADM_mplex	avidemux/ADM_script avidemux/ADM_toolkit	avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog	avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog	avidemux/ADM_userInterfaces/ADM_commonUI	plugins/ADM_muxers/muxerAvi plugins/ADM_muxers/oplug_dummy	plugins/ADM_muxers/oplug_flv plugins/ADM_muxers/oplug_mpeg	plugins/ADM_muxers/oplug_mpegFF plugins/ADM_muxers/oplug_ogm</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4714%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux%20avidemux/ADM_audioFilter_old%0A%09avidemux/ADM_audiofilter%20avidemux/ADM_editor%0A%09avidemux/ADM_encoder%20avidemux/ADM_libraries/ADM_mplex%0A%09avidemux/ADM_script%20avidemux/ADM_toolkit%0A%09avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog%0A%09avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog%0A%09avidemux/ADM_userInterfaces/ADM_commonUI%0A%09plugins/ADM_muxers/muxerAvi%20plugins/ADM_muxers/oplug_dummy%0A%09plugins/ADM_muxers/oplug_flv%20plugins/ADM_muxers/oplug_mpeg%0A%09plugins/ADM_muxers/oplug_mpegFF%20plugins/ADM_muxers/oplug_ogm&In-Reply-To=%3C200903281635.n2SGZcJu016767%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r4714 - in branches/avidemux_2.6_branch_mean:	avidemux avidemux/ADM_audioFilter_old	avidemux/ADM_audiofilter avidemux/ADM_editor	avidemux/ADM_encoder avidemux/ADM_libraries/ADM_mplex	avidemux/ADM_script avidemux/ADM_toolkit	avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog	avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog	avidemux/ADM_userInterfaces/ADM_commonUI	plugins/ADM_muxers/muxerAvi plugins/ADM_muxers/oplug_dummy	plugins/ADM_muxers/oplug_flv plugins/ADM_muxers/oplug_mpeg	plugins/ADM_muxers/oplug_mpegFF plugins/ADM_muxers/oplug_ogm">mean at mail.berlios.de
       </A><BR>
    <I>Sat Mar 28 17:35:38 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001942.html">[Avidemux-svn-commit] r4713 -	branches/avidemux_2.6_branch_mean/plugins/ADM_demuxers/OpenDml
</A></li>
        <LI>Next message: <A HREF="001944.html">[Avidemux-svn-commit] r4715 -	branches/avidemux_2.6_branch_mean/avidemux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1943">[ date ]</a>
              <a href="thread.html#1943">[ thread ]</a>
              <a href="subject.html#1943">[ subject ]</a>
              <a href="author.html#1943">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2009-03-28 17:35:35 +0100 (Sat, 28 Mar 2009)
New Revision: 4714

Added:
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/audiodeng_buildfilters.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/audioeng_buildfilters.h
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/audioprocess.hxx
Removed:
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audio_encoderWrapper.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audio_encoderWrapper.h
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audio_raw.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audio_raw.h
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audiodeng_buildfilters.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audioeng_buff.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audioeng_buildfilters.h
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audiofilter_buildchain.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audioprocess.hxx
Modified:
   branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edLoadSave.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encmpeg2enc.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_mplex/ADM_mthread.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemuxVideo.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSFunctions.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSFunctions.cpp.orig
   branches/avidemux_2.6_branch_mean/avidemux/ADM_toolkit/ADM_audioQueue.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_toolkit/automation.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_calculator.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp
   branches/avidemux_2.6_branch_mean/avidemux/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/gtk_gui.cpp
   branches/avidemux_2.6_branch_mean/avidemux/gui_autodrive.cpp
   branches/avidemux_2.6_branch_mean/avidemux/gui_blackframes.cpp
   branches/avidemux_2.6_branch_mean/avidemux/gui_savenew.cpp
   branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/muxerAvi/op_avisave.cpp
   branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/muxerAvi/op_avisavedual.cpp
   branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_dummy/oplug_dummy.cpp
   branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_flv/oplug_flv.cpp
   branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_mpeg/op_mpegpass.cpp
   branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_mpegFF/oplug_vcdff.cpp
   branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_ogm/op_ogaudio.cpp
Log:
[Audio] Removed unused stuff, renamed still used so that it can be checked out on win32

Added: branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/CMakeLists.txt	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/CMakeLists.txt	2009-03-28 16:35:35 UTC (rev 4714)
@@ -0,0 +1,7 @@
+SET(ADMaudiofilter_SRCS 
+	audiodeng_buildfilters.cpp    
+)
+	
+ADD_ADM_LIB_ALL_TARGETS(ADM_audioFilter_old ${ADMaudiofilter_SRCS})
+INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/avidemux/ADM_audioEncoder/include)
+

Copied: branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/audiodeng_buildfilters.cpp (from rev 4713, branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audiodeng_buildfilters.cpp)
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audiodeng_buildfilters.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/audiodeng_buildfilters.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -0,0 +1,371 @@
+/***************************************************************************
+                          audiodeng_buildfilters.cpp  -  description
+                             -------------------
+    begin                : Mon Dec 2 2002
+    copyright            : (C) 2002 by mean
+    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include &quot;config.h&quot;
+#include &lt;math.h&gt;
+
+#include &quot;ADM_default.h&quot;
+
+#include &quot;audiofilter_limiter_param.h&quot;
+#include &quot;audiofilter_normalize_param.h&quot;
+
+#include &quot;audioeng_buildfilters.h&quot;
+
+
+#include &quot;audioencoder.h&quot;
+
+#include &quot;ADM_audiocodec/ADM_audiocodeclist.h&quot;
+
+
+#include &quot;audiofilter_bridge.h&quot;
+#include &quot;audiofilter_mixer.h&quot;
+#include &quot;audiofilter_normalize.h&quot;
+#include &quot;audiofilter_limiter.h&quot;
+
+#include &quot;prefs.h&quot;
+
+#include &quot;ADM_osSupport/ADM_debugID.h&quot;
+#define MODULE_NAME MODULE_AUDIO_FILTER
+#include &quot;ADM_osSupport/ADM_debug.h&quot;
+
+extern void UI_setAProcessToggleStatus( uint8_t status );
+extern uint8_t DIA_audioCodec( int *codec );
+extern void UI_setAudioCodec( int i);
+uint32_t audioFilterGetNbEncoder(void);
+const char* audioFilterGetIndexedName(uint32_t i);
+
+
+typedef struct externalSource
+{
+ AudioSource type;
+ const char *name;
+}externalSource;
+
+static const externalSource Sources[]=
+{
+        {AudioAvi,&quot;VIDEO&quot;},
+        {AudioMP3,&quot;MP3&quot;},
+        {AudioWav,&quot;WAV&quot;},
+        {AudioAC3,&quot;AC3&quot;},
+        {AudioNone,&quot;NONE&quot;}
+};
+typedef struct
+{
+  const char         *name;
+  CHANNEL_CONF conf;
+}Mixer_String;
+
+#define DOME(x) {#x,CHANNEL_##x}
+static Mixer_String Mixer_strings[]=
+{
+  {&quot;NONE&quot;,CHANNEL_INVALID},
+  DOME(MONO),
+  DOME(STEREO),
+  DOME(2F_1R),
+  DOME(3F),
+  DOME(3F_1R),
+  DOME(2F_2R),
+  DOME(3F_2R),
+  DOME(3F_2R_LFE),
+  DOME(DOLBY_PROLOGIC),
+  DOME(DOLBY_PROLOGIC2)
+
+};
+
+
+
+extern void UI_PrintCurrentACodec( const char *s);
+
+
+/*----------------------------------*/
+GAINparam audioGain;
+int  audioFreq=48000;
+int  audioDRC = 0;
+FILMCONV audioFilmConv=FILMCONV_NONE;
+RESAMPLING  audioResampleMode = RESAMPLING_NONE;
+CHANNEL_CONF audioMixing=CHANNEL_INVALID;
+// These are globals for the moment
+//************************************
+int 	   audioShift = 0;
+int	   audioDelay=0;
+//**********
+
+const char              *getCurrentMixerString(void)
+{
+        uint32_t nb=sizeof(Mixer_strings)/sizeof(Mixer_String);
+        for(uint32_t i=0;i&lt;nb;i++)
+                if(audioMixing==Mixer_strings[i].conf) return Mixer_strings[i].name;
+        ADM_assert(0);
+
+}
+uint8_t                    setCurrentMixerFromString(const char *name)
+{
+        uint32_t nb=sizeof(Mixer_strings)/sizeof(Mixer_String);
+        for(uint32_t i=0;i&lt;nb;i++)
+                if(!strcasecmp(name,Mixer_strings[i].name))
+                {
+                  audioMixing= Mixer_strings[i].conf;
+                  return 1;
+                }
+        return 0;
+
+}
+//**********
+
+const char              *audioSourceFromEnum(AudioSource src)
+{
+        uint32_t nb=sizeof(Sources)/sizeof(externalSource);
+        for(uint32_t i=0;i&lt;nb;i++)
+                if(src==Sources[i].type) return Sources[i].name;
+        ADM_assert(0);
+
+}
+AudioSource             audioSourceFromString(const char *name)
+{
+        uint32_t nb=sizeof(Sources)/sizeof(externalSource);
+        for(uint32_t i=0;i&lt;nb;i++)
+                if(!strcasecmp(name,Sources[i].name)) return Sources[i].type;
+        return (AudioSource)0;
+
+}
+
+//**********
+uint8_t audioReset(void )
+{
+  audioGain.mode=ADM_NO_GAIN;
+  audioResampleMode = RESAMPLING_NONE;
+  audioFilmConv=FILMCONV_NONE;
+  audioMixing=CHANNEL_INVALID;
+  return 1;
+}
+//************
+uint8_t audioGetNormalizeMode(void)
+{
+  return audioGain.mode;
+
+}
+int32_t  audioGetNormalizeValue(void)
+{
+  return audioGain.gain10;
+
+}
+
+uint32_t audioGetResample(void)
+{
+      return audioFreq;
+
+}
+uint32_t audioGetDrc(void)
+{
+  return audioDRC;
+}
+uint32_t audioGetDelay(void)
+{
+        if(audioShift &amp;&amp; audioDelay)
+        {
+                return audioDelay;
+
+        }
+        return 0;
+}
+FILMCONV audioGetFpsConv(void)
+{
+        return audioFilmConv;
+}
+
+/*----------------------------------*/
+//
+
+
+
+
+void audioFilterNormalizeMode(uint8_t onoff)
+{
+  audioGain.mode=(ADM_GAINMode)onoff;
+}
+void audioFilterNormalizeValue(int v)
+{
+  audioGain.gain10=v;
+}
+
+uint8_t audioFilterDelay(int32_t delay)
+{
+	if(delay)
+	{
+		audioShift=1;
+		audioDelay=delay;
+	}
+	else
+	{
+		audioShift=audioDelay=0;
+	}
+	return 1;
+
+}
+RESAMPLING  audioGetResampling(void)
+{
+        return audioResampleMode;
+}
+uint8_t audioFilterFilm2Pal(uint8_t onoff)
+{
+	if(onoff) audioFilmConv=FILMCONV_FILM2PAL;
+	else audioFilmConv=FILMCONV_NONE;
+	return 1;
+}
+uint8_t audioFilterDrc(uint8_t onoff)
+{
+  audioDRC=onoff;
+  return 1;
+}
+uint8_t audioFilterPal2Film(uint8_t onoff)
+{
+        if(onoff) audioFilmConv=FILMCONV_PAL2FILM;
+        else audioFilmConv=FILMCONV_NONE;
+        return 1;
+}
+
+void audioFilterResample(uint32_t onoff)
+{
+	if(onoff)
+	{
+		audioResampleMode=RESAMPLING_CUSTOM;
+		audioFreq=onoff;
+	}
+	else
+		audioResampleMode=RESAMPLING_NONE;
+
+}
+//______________________________
+//#include &quot;ADM_gui2/GUI_ui.h&quot;
+uint8_t UI_setTimeShift(int onoff,int value);
+extern  int DIA_getAudioFilter(GAINparam *normalized, RESAMPLING *downsamplingmethod, int *tshifted,
+  			 int *shiftvalue, int *drc,int *freqvalue,FILMCONV *filmconv,CHANNEL_CONF *channel);
+
+void audioFilter_configureFilters( void )
+{
+    int olddelay=audioDelay;
+    int oldshift=audioShift;
+	 DIA_getAudioFilter(&amp;audioGain,&amp;audioResampleMode,&amp;audioShift,&amp;audioDelay,&amp;audioDRC,&amp;audioFreq,
+	 		&amp;audioFilmConv,&amp;audioMixing );
+         if(audioDelay!=olddelay ||oldshift!= audioShift)
+         {  // Refresh
+
+
+
+         }
+
+}
+
+/*
+
+*/
+
+#define Read(x) { \
+		tmp=name; \
+		if((tmp=strstr(name,#x))) \
+			{ \
+				tmp+=strlen(#x); \
+				aprintf(&quot;-- %s\n&quot;,tmp); \
+				sscanf(tmp,&quot;=%d &quot;,(int *)&amp;x); \
+			} \
+			 else \
+			{ printf(&quot;*** %s not found !***\n&quot;,#x);} \
+		}
+#define Add(x) {sprintf(tmp,&quot;%s=%d &quot;,#x,x);strcat(conf,tmp);}
+
+uint8_t audioFilterSetByName( const char *name)
+{
+	const char *tmp;
+	aprintf(&quot;-Audio filter by name : %s\n&quot;,name);
+
+	Read(audioGain.mode);
+        Read(audioGain.gain10);
+	Read(audioResampleMode);
+	Read(audioDRC);
+	Read(audioShift);
+	Read(audioDelay);
+	Read(audioFreq);
+	Read(audioMixing);
+	return 1;
+}
+
+const char *audioFilterGetName( void )
+{
+	static char conf[400];
+	static char tmp[200];
+	conf[0]=0;
+	#undef Add
+	#define Add(x) {sprintf(tmp,&quot;%s=%d &quot;,#x,x);strcat(conf,tmp);}
+	Add(audioGain.mode);
+        Add(audioGain.gain10);
+	Add(audioResampleMode);
+	Add(audioDRC);
+	Add(audioShift);
+	Add(audioDelay);
+	Add(audioFreq);
+	Add(audioMixing);
+	return conf;
+
+}
+
+
+/*
+	Refresh   activeAudioEncoder value
+	depending on what's selected
+
+*/
+
+
+
+void audioSetResample(uint32_t fq)
+{
+
+	audioResampleMode=RESAMPLING_CUSTOM;
+	audioFreq=fq;
+}
+/**
+ * 	\fn getAudioOuputFrequency
+ *  \brief Return the encoding of the currently selected codec
+ */
+uint32_t audioProcessMode(void);
+uint32_t audioFilter_getOuputFrequency(uint32_t inputFrequency)
+{
+	if(!audioProcessMode()) return inputFrequency;
+	if(audioResampleMode == RESAMPLING_NONE) return inputFrequency;
+	return audioFreq;
+}
+/**
+    \fn audioCodecGetName
+    \brief Returns the current codec tagname
+*/
+
+AudioSource audioCodecGetFromName( const char *name)
+{
+                for(uint32_t i=0;i&lt;sizeof(Sources)/sizeof(externalSource);i++)
+                {
+                        if(!strcasecmp(name,Sources[i].name))
+                        {
+
+                                return Sources[i].type;
+                        }
+
+                }
+                printf(&quot;\n Mmmm Select audio codec by name failed...(%s).\n&quot;,name);
+                return AudioNone;
+}
+
+//EOF
+

Copied: branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/audioeng_buildfilters.h (from rev 4713, branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audioeng_buildfilters.h)
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audioeng_buildfilters.h	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/audioeng_buildfilters.h	2009-03-28 16:35:35 UTC (rev 4714)
@@ -0,0 +1,107 @@
+/**************************************************************************
+                          audioeng_buildfilters.h  -  description
+                             -------------------
+    begin                : Mon Dec 2 2002
+    copyright            : (C) 2002 by mean
+    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#ifndef ADM_AUDIO_BUILDFILTER_H
+#define  ADM_AUDIO_BUILDFILTER_H
+
+#include &quot;audioencoder.h&quot;
+#include &quot;ADM_audio/aviaudio.hxx&quot;
+
+#include &quot;audioEncoderApi.h&quot;
+#include &quot;ADM_audioStream.h&quot;
+
+ ADM_audioStream *buildAudioFilter(ADM_audioStream *stream, uint32_t startTime);
+ AUDMAudioFilter *buildPlaybackFilter(ADM_audioStream *currentaudiostream,
+				uint32_t starttime, uint32_t duration);
+
+ void deleteAudioFilter(ADM_audioStream *in);
+void audioFilter_configureFilters( void );
+
+
+
+void audioCodecConfigure( void );
+void audioCodecSelect( void );
+void audioFilter_MP3DisableReservoir(int onoff);
+uint32_t audioFilter_getOuputCodec(void);
+uint32_t audioFilter_getOuputFrequency(uint32_t inputFrequency);
+uint32_t audioFilter_getMaxChannels(void);
+
+//#include &quot;ADM_audioEncoder/include/audioencoder_enum.h&quot;
+
+typedef enum 
+{
+	RESAMPLING_NONE=0,
+	RESAMPLING_CUSTOM=1,
+	RESAMPLING_LAST
+}RESAMPLING;
+
+typedef enum 
+{
+	FILMCONV_NONE=0,
+	FILMCONV_FILM2PAL=1,
+	FILMCONV_PAL2FILM=2,
+	FILMCONV_LAST
+}FILMCONV;
+
+typedef enum
+{
+        AudioInvalid,
+        AudioAvi=1,
+        AudioMP3,
+        AudioWav,
+        AudioAC3,
+        AudioNone
+
+}AudioSource;
+
+//void audioCodecSetcodec(AUDIOENCODER codec);
+uint8_t audioReset(void);
+/*  for job/workspace stuff  */
+const char *audioFilterGetName( void );
+uint8_t audioFilterSetByName( const char *name);
+
+//AVDMGenericAudioStream *mpt_getAudioStream(void);
+
+/* -- Set filter --*/
+void audioFilterNormalizeMode(uint8_t onoff);
+void audioFilterNormalizeValue(int value);
+void audioFilterResample(uint32_t onoff);
+uint8_t audioFilterDelay(int32_t delay);
+uint8_t audioFilterFilm2Pal(uint8_t onoff);
+uint8_t audioFilterPal2Film(uint8_t onoff);
+uint8_t audioFilterDrc(uint8_t onoff);
+void audioFilter_SetBitrate( int i);
+/* -- Get filter -- */
+uint32_t audioGetBitrate(void);
+uint8_t audioGetNormalizeMode(void);
+int32_t audioGetNormalizeValue(void);
+uint32_t audioGetResample(void);
+uint32_t audioGetDelay(void);
+FILMCONV audioGetFpsConv(void);
+uint32_t audioGetDrc(void);
+RESAMPLING  audioGetResampling(void);
+/*-----*/
+uint8_t                 A_changeAudioStream(ADM_audioStream *newaudio,AudioSource so,char *name);
+AudioSource             getCurrentAudioSource(char **name);
+const char              *audioSourceFromEnum(AudioSource src);
+AudioSource             audioSourceFromString(const char *name);
+const char              *getCurrentMixerString(void);
+uint8_t                 setCurrentMixerFromString(const char *string);
+
+//*****
+//
+#endif
+

Copied: branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/audioprocess.hxx (from rev 4713, branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audioprocess.hxx)
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audioprocess.hxx	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/audioprocess.hxx	2009-03-28 16:35:35 UTC (rev 4714)
@@ -0,0 +1,27 @@
+/***************************************************************************
+                          audioprocess.hxx  -  description
+                             -------------------
+    begin                : Sun Jan 13 2002
+    copyright            : (C) 2002 by mean
+    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#ifndef __AudioProcess__
+#define __AudioProcess__
+
+#include &quot;ADM_audio/aviaudio.hxx&quot;
+#include &quot;ADM_audioStream.h&quot;
+#define PROCESS_BUFFER_SIZE 48000*4*4 // should be enougth
+#define MINIMUM_BUFFER   8192*4
+
+#endif
+// EOF

Deleted: branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/CMakeLists.txt	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/CMakeLists.txt	2009-03-28 16:35:35 UTC (rev 4714)
@@ -1,19 +0,0 @@
-SET(ADMaudiofilter_SRCS 
-	audiodeng_buildfilters.cpp    
-#        audiofilter_film2pal.cpp   
-#	audiofilter_bridge.cpp         
-#        audiofilter_limiter.cpp    
-	audiofilter_buildchain.cpp     
-#        audiofilter_mixer.cpp
-#	audiofilter_normalize.cpp
-#        audiofilter_dolby.cpp          
-#        audiofilter_SRC.cpp
-        audio_raw.cpp
-	audioeng_buff.cpp          
-#        audio_encoderWrapper.cpp
-#        audio_encoderPlugin.cpp
-)
-	
-ADD_ADM_LIB_ALL_TARGETS(ADM_audiofilter ${ADMaudiofilter_SRCS})
-INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/avidemux/ADM_audioEncoder/include)
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audio_encoderWrapper.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audio_encoderWrapper.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audio_encoderWrapper.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -1,86 +0,0 @@
-/**
-        \file audio_encoderWrapper.cpp
-        \bried proxy between AUDMEncoder class and AVDMGenericAudioStream
-
-*/
-
-#include &quot;ADM_default.h&quot;
-#include &quot;ADM_coreAudio.h&quot;
-
-#include &quot;audioencoder.h&quot;
-
-#include &quot;audio_encoderWrapper.h&quot;
-#if 0
-/**
-    \fn ADM_audioEncoderWrapper
-    \brief Constructor to wrap an encoder inside ADMgenericblah blah
-
-*/
-ADM_audioEncoderWrapper::ADM_audioEncoderWrapper( AUDMEncoder *coder) : ADM_audioStream(NULL,NULL)
-{
-   
-    memcpy(&amp;wavHeader,coder-&gt;_wavheader,sizeof(WAVHeader));
-    _encoder=coder;
-}
-/**
-    \fn ~ADM_audioEncoderWrapper
-    \brief Destructor
-
-*/
-
-ADM_audioEncoderWrapper::~ADM_audioEncoderWrapper()
-{
-    if(_encoder) delete _encoder;
-    
-    _encoder=NULL;
-    
-}
-/**
-    \fn getPacket
-    \brief Trampoline
-
-*/
-
-uint8_t		ADM_audioEncoderWrapper::getPacket(uint8_t *dest, uint32_t *len, uint32_t *samples)
-{
-    ADM_assert(_encoder);
-    return _encoder-&gt;getPacket(dest,len,samples);
-}
-
-/**
-    \fn packetPerFrame
-    \brief Trampoline
-
-*/
-uint8_t     ADM_audioEncoderWrapper::packetPerFrame( void)
-{
-//    ADM_assert(_encoder);
-//    return _encoder-&gt;packetPerFrame();
-    return 1;
-}
-
-/**
-    \fn read
-    \brief Trampoline
-
-*/
-uint32_t	ADM_audioEncoderWrapper::read(uint32_t size,uint8_t *ptr)
-{
-    ADM_assert(_encoder);
-    return _encoder-&gt;read(size,ptr);
-}
-/**
-    \fn extraData
-    \brief Trampoline
-
-*/
-uint8_t		ADM_audioEncoderWrapper::extraData(uint32_t *l,uint8_t **d)
-{
-
-    ADM_assert(_encoder);
-    return _encoder-&gt;extraData(l,d);
-
-}
-#endif
-//EOF
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audio_encoderWrapper.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audio_encoderWrapper.h	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audio_encoderWrapper.h	2009-03-28 16:35:35 UTC (rev 4714)
@@ -1,28 +0,0 @@
-/**
-    \file audio_encoderWrapper.h
-    \brief Do the opposite of the bridge. Transform an ADM_audioEncoder stream to a ADMGenericVideoStream
-
-*/
-#ifndef audio_encoderWrapper_H
-#define audio_encoderWrapper_H
-#include &quot;ADM_audioStream.h&quot;
-#if 0
-class ADM_audioEncoderWrapper :  public ADM_audioStream
-{
-protected:
-        AUDMEncoder *_encoder;
-
-public:
-                            ADM_audioEncoderWrapper( AUDMEncoder *coder);
-        virtual             ~ADM_audioEncoderWrapper();
-        virtual	uint8_t		getPacket(uint8_t *dest, uint32_t *len, uint32_t *samples);
-		virtual uint8_t     packetPerFrame( void);
-
-        virtual uint8_t		goTo(uint32_t offset) {ADM_assert(0);return 0;} // Not supposed to seek..
-        virtual uint32_t	read(uint32_t size,uint8_t *ptr);
-        virtual uint8_t		extraData(uint32_t *l,uint8_t **d);
-};
-
-#endif
-#endif
-//EOF

Deleted: branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audio_raw.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audio_raw.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audio_raw.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -1,145 +0,0 @@
-/***************************************************************************
-                          audioeng_rawshift.cpp  -  description
-                             -------------------
-
- 	This filter i used only in copy mode
-			     
-    begin                : Fri Jun 28 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include &quot;config.h&quot;
-
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &lt;math.h&gt;
-
-#include &quot;ADM_default.h&quot;
-
-#include &quot;ADM_audioStream.h&quot;
-#include &quot;audioprocess.hxx&quot;
-#include &quot;audio_raw.h&quot;
-#if 0
-AVDMProcessAudio_RawShift::AVDMProcessAudio_RawShift(ADM_audioStream * instream,
-      uint32_t starttime, int32_t msoff): AVDMBufferedAudioStream    (instream)
-{
-    _wavheader = new WAVHeader;
-    memcpy(_wavheader, _instream-&gt;getInfo(), sizeof(WAVHeader));
-    _starttime=starttime;
-    
-    _hold=0;
-    printf(&quot;[Raw shift] : Start:%u ms, shift  %d\n&quot;,_starttime,msoff);
-    msoff=-msoff;
-        if (msoff &gt; 0) // just seek in the file
-        {
-                _starttime+=msoff;
-                _instream-&gt;goToTime(  _starttime);
-        }
-        else
-        {
-                // need to dupe the beginning
-                // if there is enough audio
-                msoff=-msoff;
-                if(_starttime&gt;=msoff)
-                {
-                        _starttime-=msoff;
-                        _instream-&gt;goToTime(  _starttime); // just rewind to compensate
-                }
-                else
-                {
-                        // we have to dupe a bit
-                        msoff-=_starttime;
-                        _starttime=0;
-                        int32_t dupe;
-                        _instream-&gt;goToTime(0);
-                        _hold=(msoff*_wavheader-&gt;frequency)/1000; // in sample
-                }
-        }
-//    _length = instream-&gt;getLength();
-    printf(&quot;[Raw shift] : Start:%u ms, offset in sample  %d\n&quot;,_starttime,_hold);
-};
-
-AVDMProcessAudio_RawShift::~AVDMProcessAudio_RawShift()
-{
-  delete _wavheader;
-}
-
-//
-//	If filterOn, it means we have to dupe sampleOffset sample, going back to start
-//		and do it again
-//
-uint8_t	 AVDMProcessAudio_RawShift::getPacket(uint8_t *dest, uint32_t *len, uint32_t *samples)
-{
-        uint8_t r;
-        uint64_t dts;
-                
-                if(!_hold)
-                        return _instream-&gt;getPacket(dest,len,64*1024,samples,&amp;dts); // BAZOOKA
-
-                // filter is still on
-                r=_instream-&gt;getPacket(dest,len,64*1024,samples,&amp;dts); // BAZOOKA
-
-
-                if(!r)
-                {
-                        printf(&quot;[RawShift]: Readerror\n&quot;);
-                        *len=0;
-                        *samples=0;
-                        return 0;
-                }
-                if(_hold&gt;0)
-                {
-                  _hold-=(int32_t)*samples;
-                  if(_hold&lt;=0)
-                  {
-                    _hold=0;  
-                    _instream-&gt;goToTime(  _starttime);
-                    printf(&quot;[RawShift] Rewinding to %u ms \n&quot;,_starttime);
-                  }
-                }
-              return r;
-
-}
-
-uint32_t AVDMProcessAudio_RawShift::read(uint32_t len, uint8_t * buffer)
-{
-    return readDecompress(len, buffer);
-};
-uint32_t AVDMProcessAudio_RawShift::readDecompress(uint32_t len,
-						    uint8_t * buffer)
-{
- uint32_t l,sam;
-          if(!getPacket(buffer,&amp;len,&amp;sam))
-                  return 0;
-          return len;
-
-}
-uint8_t AVDMProcessAudio_RawShift::goToTime(uint32_t newoffset)
-{
-        // since we are in copy mode, the only value accepted is 0 here
-        ADM_assert(!newoffset);
-        _instream-&gt;goToTime(  _starttime);
-        return 1;
-}
-
-uint8_t AVDMProcessAudio_RawShift::goTo(uint32_t newoffset)
-{
-
-        // since we are in copy mode, the only value accepted is 0 here
-        ADM_assert(!newoffset);
-        _instream-&gt;goToTime(  _starttime);
-        return 1;
-};
-// EOF
-#endif

Deleted: branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audio_raw.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audio_raw.h	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audio_raw.h	2009-03-28 16:35:35 UTC (rev 4714)
@@ -1,19 +0,0 @@
-/***************************************************************************
-    copyright            : (C) 2006 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#ifndef AUDIO_RSHIFT_H
-#define AUDIO_RSHIFT_H
-#include &quot;ADM_audioStream.h&quot;
-
-#endif
-//EOF

Deleted: branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audiodeng_buildfilters.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audiodeng_buildfilters.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audiodeng_buildfilters.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -1,371 +0,0 @@
-/***************************************************************************
-                          audiodeng_buildfilters.cpp  -  description
-                             -------------------
-    begin                : Mon Dec 2 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include &quot;config.h&quot;
-#include &lt;math.h&gt;
-
-#include &quot;ADM_default.h&quot;
-
-#include &quot;audiofilter_limiter_param.h&quot;
-#include &quot;audiofilter_normalize_param.h&quot;
-
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
-
-
-#include &quot;audioencoder.h&quot;
-
-#include &quot;ADM_audiocodec/ADM_audiocodeclist.h&quot;
-
-
-#include &quot;audiofilter_bridge.h&quot;
-#include &quot;audiofilter_mixer.h&quot;
-#include &quot;audiofilter_normalize.h&quot;
-#include &quot;audiofilter_limiter.h&quot;
-
-#include &quot;prefs.h&quot;
-
-#include &quot;ADM_osSupport/ADM_debugID.h&quot;
-#define MODULE_NAME MODULE_AUDIO_FILTER
-#include &quot;ADM_osSupport/ADM_debug.h&quot;
-
-extern void UI_setAProcessToggleStatus( uint8_t status );
-extern uint8_t DIA_audioCodec( int *codec );
-extern void UI_setAudioCodec( int i);
-uint32_t audioFilterGetNbEncoder(void);
-const char* audioFilterGetIndexedName(uint32_t i);
-
-
-typedef struct externalSource
-{
- AudioSource type;
- const char *name;
-}externalSource;
-
-static const externalSource Sources[]=
-{
-        {AudioAvi,&quot;VIDEO&quot;},
-        {AudioMP3,&quot;MP3&quot;},
-        {AudioWav,&quot;WAV&quot;},
-        {AudioAC3,&quot;AC3&quot;},
-        {AudioNone,&quot;NONE&quot;}
-};
-typedef struct
-{
-  const char         *name;
-  CHANNEL_CONF conf;
-}Mixer_String;
-
-#define DOME(x) {#x,CHANNEL_##x}
-static Mixer_String Mixer_strings[]=
-{
-  {&quot;NONE&quot;,CHANNEL_INVALID},
-  DOME(MONO),
-  DOME(STEREO),
-  DOME(2F_1R),
-  DOME(3F),
-  DOME(3F_1R),
-  DOME(2F_2R),
-  DOME(3F_2R),
-  DOME(3F_2R_LFE),
-  DOME(DOLBY_PROLOGIC),
-  DOME(DOLBY_PROLOGIC2)
-
-};
-
-
-
-extern void UI_PrintCurrentACodec( const char *s);
-
-
-/*----------------------------------*/
-GAINparam audioGain;
-int  audioFreq=48000;
-int  audioDRC = 0;
-FILMCONV audioFilmConv=FILMCONV_NONE;
-RESAMPLING  audioResampleMode = RESAMPLING_NONE;
-CHANNEL_CONF audioMixing=CHANNEL_INVALID;
-// These are globals for the moment
-//************************************
-int 	   audioShift = 0;
-int	   audioDelay=0;
-//**********
-
-const char              *getCurrentMixerString(void)
-{
-        uint32_t nb=sizeof(Mixer_strings)/sizeof(Mixer_String);
-        for(uint32_t i=0;i&lt;nb;i++)
-                if(audioMixing==Mixer_strings[i].conf) return Mixer_strings[i].name;
-        ADM_assert(0);
-
-}
-uint8_t                    setCurrentMixerFromString(const char *name)
-{
-        uint32_t nb=sizeof(Mixer_strings)/sizeof(Mixer_String);
-        for(uint32_t i=0;i&lt;nb;i++)
-                if(!strcasecmp(name,Mixer_strings[i].name))
-                {
-                  audioMixing= Mixer_strings[i].conf;
-                  return 1;
-                }
-        return 0;
-
-}
-//**********
-
-const char              *audioSourceFromEnum(AudioSource src)
-{
-        uint32_t nb=sizeof(Sources)/sizeof(externalSource);
-        for(uint32_t i=0;i&lt;nb;i++)
-                if(src==Sources[i].type) return Sources[i].name;
-        ADM_assert(0);
-
-}
-AudioSource             audioSourceFromString(const char *name)
-{
-        uint32_t nb=sizeof(Sources)/sizeof(externalSource);
-        for(uint32_t i=0;i&lt;nb;i++)
-                if(!strcasecmp(name,Sources[i].name)) return Sources[i].type;
-        return (AudioSource)0;
-
-}
-
-//**********
-uint8_t audioReset(void )
-{
-  audioGain.mode=ADM_NO_GAIN;
-  audioResampleMode = RESAMPLING_NONE;
-  audioFilmConv=FILMCONV_NONE;
-  audioMixing=CHANNEL_INVALID;
-  return 1;
-}
-//************
-uint8_t audioGetNormalizeMode(void)
-{
-  return audioGain.mode;
-
-}
-int32_t  audioGetNormalizeValue(void)
-{
-  return audioGain.gain10;
-
-}
-
-uint32_t audioGetResample(void)
-{
-      return audioFreq;
-
-}
-uint32_t audioGetDrc(void)
-{
-  return audioDRC;
-}
-uint32_t audioGetDelay(void)
-{
-        if(audioShift &amp;&amp; audioDelay)
-        {
-                return audioDelay;
-
-        }
-        return 0;
-}
-FILMCONV audioGetFpsConv(void)
-{
-        return audioFilmConv;
-}
-
-/*----------------------------------*/
-//
-
-
-
-
-void audioFilterNormalizeMode(uint8_t onoff)
-{
-  audioGain.mode=(ADM_GAINMode)onoff;
-}
-void audioFilterNormalizeValue(int v)
-{
-  audioGain.gain10=v;
-}
-
-uint8_t audioFilterDelay(int32_t delay)
-{
-	if(delay)
-	{
-		audioShift=1;
-		audioDelay=delay;
-	}
-	else
-	{
-		audioShift=audioDelay=0;
-	}
-	return 1;
-
-}
-RESAMPLING  audioGetResampling(void)
-{
-        return audioResampleMode;
-}
-uint8_t audioFilterFilm2Pal(uint8_t onoff)
-{
-	if(onoff) audioFilmConv=FILMCONV_FILM2PAL;
-	else audioFilmConv=FILMCONV_NONE;
-	return 1;
-}
-uint8_t audioFilterDrc(uint8_t onoff)
-{
-  audioDRC=onoff;
-  return 1;
-}
-uint8_t audioFilterPal2Film(uint8_t onoff)
-{
-        if(onoff) audioFilmConv=FILMCONV_PAL2FILM;
-        else audioFilmConv=FILMCONV_NONE;
-        return 1;
-}
-
-void audioFilterResample(uint32_t onoff)
-{
-	if(onoff)
-	{
-		audioResampleMode=RESAMPLING_CUSTOM;
-		audioFreq=onoff;
-	}
-	else
-		audioResampleMode=RESAMPLING_NONE;
-
-}
-//______________________________
-//#include &quot;ADM_gui2/GUI_ui.h&quot;
-uint8_t UI_setTimeShift(int onoff,int value);
-extern  int DIA_getAudioFilter(GAINparam *normalized, RESAMPLING *downsamplingmethod, int *tshifted,
-  			 int *shiftvalue, int *drc,int *freqvalue,FILMCONV *filmconv,CHANNEL_CONF *channel);
-
-void audioFilter_configureFilters( void )
-{
-    int olddelay=audioDelay;
-    int oldshift=audioShift;
-	 DIA_getAudioFilter(&amp;audioGain,&amp;audioResampleMode,&amp;audioShift,&amp;audioDelay,&amp;audioDRC,&amp;audioFreq,
-	 		&amp;audioFilmConv,&amp;audioMixing );
-         if(audioDelay!=olddelay ||oldshift!= audioShift)
-         {  // Refresh
-
-
-
-         }
-
-}
-
-/*
-
-*/
-
-#define Read(x) { \
-		tmp=name; \
-		if((tmp=strstr(name,#x))) \
-			{ \
-				tmp+=strlen(#x); \
-				aprintf(&quot;-- %s\n&quot;,tmp); \
-				sscanf(tmp,&quot;=%d &quot;,(int *)&amp;x); \
-			} \
-			 else \
-			{ printf(&quot;*** %s not found !***\n&quot;,#x);} \
-		}
-#define Add(x) {sprintf(tmp,&quot;%s=%d &quot;,#x,x);strcat(conf,tmp);}
-
-uint8_t audioFilterSetByName( const char *name)
-{
-	const char *tmp;
-	aprintf(&quot;-Audio filter by name : %s\n&quot;,name);
-
-	Read(audioGain.mode);
-        Read(audioGain.gain10);
-	Read(audioResampleMode);
-	Read(audioDRC);
-	Read(audioShift);
-	Read(audioDelay);
-	Read(audioFreq);
-	Read(audioMixing);
-	return 1;
-}
-
-const char *audioFilterGetName( void )
-{
-	static char conf[400];
-	static char tmp[200];
-	conf[0]=0;
-	#undef Add
-	#define Add(x) {sprintf(tmp,&quot;%s=%d &quot;,#x,x);strcat(conf,tmp);}
-	Add(audioGain.mode);
-        Add(audioGain.gain10);
-	Add(audioResampleMode);
-	Add(audioDRC);
-	Add(audioShift);
-	Add(audioDelay);
-	Add(audioFreq);
-	Add(audioMixing);
-	return conf;
-
-}
-
-
-/*
-	Refresh   activeAudioEncoder value
-	depending on what's selected
-
-*/
-
-
-
-void audioSetResample(uint32_t fq)
-{
-
-	audioResampleMode=RESAMPLING_CUSTOM;
-	audioFreq=fq;
-}
-/**
- * 	\fn getAudioOuputFrequency
- *  \brief Return the encoding of the currently selected codec
- */
-uint32_t audioProcessMode(void);
-uint32_t audioFilter_getOuputFrequency(uint32_t inputFrequency)
-{
-	if(!audioProcessMode()) return inputFrequency;
-	if(audioResampleMode == RESAMPLING_NONE) return inputFrequency;
-	return audioFreq;
-}
-/**
-    \fn audioCodecGetName
-    \brief Returns the current codec tagname
-*/
-
-AudioSource audioCodecGetFromName( const char *name)
-{
-                for(uint32_t i=0;i&lt;sizeof(Sources)/sizeof(externalSource);i++)
-                {
-                        if(!strcasecmp(name,Sources[i].name))
-                        {
-
-                                return Sources[i].type;
-                        }
-
-                }
-                printf(&quot;\n Mmmm Select audio codec by name failed...(%s).\n&quot;,name);
-                return AudioNone;
-}
-
-//EOF
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audioeng_buff.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audioeng_buff.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audioeng_buff.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -1,152 +0,0 @@
-/***************************************************************************
-                          audioeng_buff.cpp  -  description
-
-  	That is a derivated class to handle generically buffered input/output
-	
-                             -------------------
-    begin                : Thu Feb 7 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include &quot;config.h&quot;
-
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &quot;ADM_assert.h&quot;
-#include &lt;math.h&gt;
-
-#include &quot;ADM_default.h&quot;
-
-#include &quot;audioprocess.hxx&quot;
-//
-#if 0
-AVDMBufferedAudioStream::AVDMBufferedAudioStream(ADM_audioStream * instream):AVDMGenericAudioStream()
-{
-        _instream=instream;
-        _chunk = 4096;
-        _headBuff=_tailBuff=0;
-}
-
-AVDMBufferedAudioStream::~AVDMBufferedAudioStream()
-{
-}
-
-//
-//
-uint32_t AVDMBufferedAudioStream::read(uint32_t len, uint8_t * buffer)//deprecate
-{
-	uint32_t avail = 0;
-	uint32_t got=0;
-	uint32_t grabbed;
-	uint8_t  *myBuffer;
-	myBuffer=(uint8_t *)internalBuffer;
-
-more:
-	// have we already got what's needed ?
-	avail=_tailBuff-_headBuff;
-	//    printf(&quot;\n asked : %lu, available : %lu&quot;,len,avail);
-	// got everything ?
-	if (avail &gt;= len) {
-		memcpy(buffer, myBuffer+_headBuff, len);
-		_headBuff+=len;
-		got+=len;
-		//printf(&quot;Got : %lu\n&quot;,got);
-		return got;
-	}
-	// first empty what was available
-	memcpy(buffer, myBuffer+_headBuff, avail);
-
-	got+=avail;
-	len -= avail;
-	buffer+=avail;
-	_headBuff+=avail;
-
-	// rewind to beginning
-	_tailBuff=_headBuff=0;
-
-	//printf(&quot;\n grabing...&quot;);
-	grabbed = grab(myBuffer);
-	//  printf(&quot;grabbed :%lu\n&quot;,grabbed);
-	// Minus one means we could not get a single byte
-	if (grabbed == MINUS_ONE) {
-		printf(&quot;\n ** end stream **\n&quot;);
-		_tailBuff=_headBuff=0;	
-		return got;		// we got everything  !
-	}
-	_tailBuff+=grabbed;
-	goto more;
-};
-
-uint32_t AVDMBufferedAudioStream::read(uint32_t len, float *buffer)
-{
-    uint32_t avail = 0;
-    uint32_t got = 0;
-    uint32_t grabbed;
-    // this disable the filter
-    // return _instream-&gt;read(len,buffer);
-
-more:
-
-
-    // have we already got what's needed ?
-    avail=_tailBuff-_headBuff;
- //    printf(&quot;\n asked : %lu, available : %lu&quot;,len,avail);  
-    // got everything ?
-    if (avail &gt;= len)
-      {	
-	  memcpy(buffer, internalBuffer_float + _headBuff, sizeof(float) * len);
-	  _headBuff+=len;
-	  got+=len;
-//	  printf(&quot;Got : %lu\n&quot;,got);
-	  return got;
-      }
-    // first empty what was available
-    memcpy(buffer, internalBuffer_float + _headBuff, sizeof(float) * avail);
-
-    got+=avail;
-    len -= avail;
-    buffer+=avail;
-    _headBuff+=avail;
-
-
-    // rewind to beginning
-    _tailBuff=_headBuff=0;
-
-    //printf(&quot;\n grabing...&quot;);
-    grabbed = grab(internalBuffer_float);
-  //  printf(&quot;grabbed :%lu\n&quot;,grabbed);
-    // Minus one means we could not get a single byte
-    if (grabbed == MINUS_ONE)
-      {
-	  printf(&quot;\n ** end stream **\n&quot;);
-	  _tailBuff=_headBuff=0;	
-	  return got;		// we got everything  !
-      }
-    _tailBuff+=grabbed;
-    goto more;
-};
-
-uint8_t AVDMBufferedAudioStream::goTo(uint32_t newoffset) {
-        ADM_assert(!newoffset);
-        goToTime(0);
-        return 1;
-}
-
-uint8_t AVDMBufferedAudioStream::goToTime(uint32_t newoffset) {
-        ADM_assert(!newoffset);
-        _instream-&gt;goToTime(0);
-        _headBuff=_tailBuff=0;
-        return 1;
-}
-#endif
-// EOF

Deleted: branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audioeng_buildfilters.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audioeng_buildfilters.h	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audioeng_buildfilters.h	2009-03-28 16:35:35 UTC (rev 4714)
@@ -1,107 +0,0 @@
-/**************************************************************************
-                          audioeng_buildfilters.h  -  description
-                             -------------------
-    begin                : Mon Dec 2 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#ifndef ADM_AUDIO_BUILDFILTER_H
-#define  ADM_AUDIO_BUILDFILTER_H
-
-#include &quot;audioencoder.h&quot;
-#include &quot;ADM_audio/aviaudio.hxx&quot;
-
-#include &quot;audioEncoderApi.h&quot;
-#include &quot;ADM_audioStream.h&quot;
-
- ADM_audioStream *buildAudioFilter(ADM_audioStream *stream, uint32_t startTime);
- AUDMAudioFilter *buildPlaybackFilter(ADM_audioStream *currentaudiostream,
-				uint32_t starttime, uint32_t duration);
-
- void deleteAudioFilter(ADM_audioStream *in);
-void audioFilter_configureFilters( void );
-
-
-
-void audioCodecConfigure( void );
-void audioCodecSelect( void );
-void audioFilter_MP3DisableReservoir(int onoff);
-uint32_t audioFilter_getOuputCodec(void);
-uint32_t audioFilter_getOuputFrequency(uint32_t inputFrequency);
-uint32_t audioFilter_getMaxChannels(void);
-
-//#include &quot;ADM_audioEncoder/include/audioencoder_enum.h&quot;
-
-typedef enum 
-{
-	RESAMPLING_NONE=0,
-	RESAMPLING_CUSTOM=1,
-	RESAMPLING_LAST
-}RESAMPLING;
-
-typedef enum 
-{
-	FILMCONV_NONE=0,
-	FILMCONV_FILM2PAL=1,
-	FILMCONV_PAL2FILM=2,
-	FILMCONV_LAST
-}FILMCONV;
-
-typedef enum
-{
-        AudioInvalid,
-        AudioAvi=1,
-        AudioMP3,
-        AudioWav,
-        AudioAC3,
-        AudioNone
-
-}AudioSource;
-
-//void audioCodecSetcodec(AUDIOENCODER codec);
-uint8_t audioReset(void);
-/*  for job/workspace stuff  */
-const char *audioFilterGetName( void );
-uint8_t audioFilterSetByName( const char *name);
-
-//AVDMGenericAudioStream *mpt_getAudioStream(void);
-
-/* -- Set filter --*/
-void audioFilterNormalizeMode(uint8_t onoff);
-void audioFilterNormalizeValue(int value);
-void audioFilterResample(uint32_t onoff);
-uint8_t audioFilterDelay(int32_t delay);
-uint8_t audioFilterFilm2Pal(uint8_t onoff);
-uint8_t audioFilterPal2Film(uint8_t onoff);
-uint8_t audioFilterDrc(uint8_t onoff);
-void audioFilter_SetBitrate( int i);
-/* -- Get filter -- */
-uint32_t audioGetBitrate(void);
-uint8_t audioGetNormalizeMode(void);
-int32_t audioGetNormalizeValue(void);
-uint32_t audioGetResample(void);
-uint32_t audioGetDelay(void);
-FILMCONV audioGetFpsConv(void);
-uint32_t audioGetDrc(void);
-RESAMPLING  audioGetResampling(void);
-/*-----*/
-uint8_t                 A_changeAudioStream(ADM_audioStream *newaudio,AudioSource so,char *name);
-AudioSource             getCurrentAudioSource(char **name);
-const char              *audioSourceFromEnum(AudioSource src);
-AudioSource             audioSourceFromString(const char *name);
-const char              *getCurrentMixerString(void);
-uint8_t                 setCurrentMixerFromString(const char *string);
-
-//*****
-//
-#endif
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audiofilter_buildchain.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audiofilter_buildchain.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audiofilter_buildchain.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -1,361 +0,0 @@
-/***************************************************************************
-                          audiodeng_buildfilters.cpp  -  description
-                             -------------------
-    begin                : Mon Dec 2 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include &quot;config.h&quot;
-#include &quot;ADM_default.h&quot;
-#include &quot;DIA_coreToolkit.h&quot;
-
-#include &quot;audioencoder.h&quot;
-
-#include &quot;audiofilter_limiter_param.h&quot;
-#include &quot;audiofilter_normalize_param.h&quot;
-#include &quot;audio_encoderWrapper.h&quot;
-
-#include &quot;audioprocess.hxx&quot;
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
-#include &quot;ADM_audiofilter/audio_raw.h&quot;
-#include &quot;ADM_editor/ADM_edit.hxx&quot;
-extern ADM_Composer *video_body;
-
-/* ************* Encoder *********** */
-
-#include &quot;ADM_audiocodec/ADM_audiocodeclist.h&quot;
-
-
-#include &quot;prefs.h&quot;
-
-
-/* ************ Filters *********** */
-#include &quot;audiofilter_bridge.h&quot;
-#include &quot;audiofilter_mixer.h&quot;
-#include &quot;audiofilter_normalize.h&quot;
-#include &quot;audiofilter_limiter.h&quot;
-#include &quot;audiofilter_SRC.h&quot;
-#include &quot;audiofilter_film2pal.h&quot;
-
-/* ************ Conf *********** */
-//#include &quot;audioencoder_config.h&quot;
-
-
-#include &quot;ADM_osSupport/ADM_debugID.h&quot;
-#define MODULE_NAME MODULE_AUDIO_FILTER
-#include &quot;ADM_osSupport/ADM_debug.h&quot;
-
-#define MAX_AUDIO_FILTER 10
-
-
-static AUDMAudioFilter *filtersFloat[MAX_AUDIO_FILTER];
-static uint32_t filtercount = 0;
-
-extern uint32_t audioProcessMode(void);
-
-/******************************************************
-  Configuration variables for filters
-******************************************************/
-
-extern AUDIOENCODER  activeAudioEncoder;
-
-extern GAINparam audioGain;
-extern int  audioFreq;
-extern int  audioDRC;
-extern FILMCONV audioFilmConv;
-extern CHANNEL_CONF audioMixing;
-extern int audioMP3mode;
-extern int audioMP3bitrate;
-extern RESAMPLING  audioResampleMode;
-extern int   audioShift ;
-extern int   audioDelay;
-
-static DRCparam drcSetup=
-{
-  1,
-  0.001,//double   mFloor;
-  0.2, //double   mAttackTime;
-  1.0, //double   mDecayTime;
-  2.0, //double   mRatio;
-  -12.0 ,//double   mThresholdDB;
-};
-
-
-
-//
-// Build audio filters
-// Starttime : starttime in ms
-// mode : 0 for playback,  1 for audio save
-//_______________________________________
-
-
-AUDMAudioFilter *buildInternalAudioFilter(ADM_audioStream *currentaudiostream,uint32_t starttime)
-{
-
-  AUDMAudioFilter *firstFilter = NULL;
-  AUDMAudioFilter *lastFilter = NULL;
-  
-//  deleteAudioFilter(NULL);
-  int32_t timeShiftMs=audioDelay*audioShift;
-  
-  
-  firstFilter = new AUDMAudioFilter_Bridge(video_body, starttime,timeShiftMs);
-  filtercount = 0;
-  lastFilter = firstFilter;
-  filtersFloat[filtercount++] = firstFilter;
-
-
-
-//_______________________________________________________
-      if( (audioMixing!=CHANNEL_INVALID ))
-          {
-            AUDMAudioFilter *mixer;
-            mixer=new AUDMAudioFilterMixer( lastFilter,audioMixing);
-            lastFilter = mixer;
-            filtersFloat[filtercount++] = lastFilter;
-          } 
-#if 0
-    if (audioDRC)
-          {
-            AUDMAudioFilterLimiter *pdrc = NULL;
-            printf(&quot;\n  DRC activated...\n&quot;);
-            pdrc = new AUDMAudioFilterLimiter(lastFilter,&amp;drcSetup);
-            lastFilter = (AUDMAudioFilter *)pdrc;
-            filtersFloat[filtercount++] = lastFilter;
-          
-          }
-
-      switch(audioResampleMode)
-          {
-                  
-            case RESAMPLING_NONE: break;
-            case RESAMPLING_CUSTOM:
-            {
-                      AUDMAudioFilterSrc  *resample=NULL;
-                      resample = new AUDMAudioFilterSrc(lastFilter, audioFreq);
-                      lastFilter = resample;
-                      filtersFloat[filtercount++] = lastFilter;	
-            }
-                      break;
-
-            default:
-                      ADM_assert(0);
-          }
-
-      switch(audioFilmConv)
-        {
-          default:
-                        ADM_assert(0);
-          case FILMCONV_NONE:
-                        break;
-          case FILMCONV_PAL2FILM:		
-                  AUDMAudioFilterPal2Film *p2f;
-                        p2f = new AUDMAudioFilterPal2Film(lastFilter);
-                        lastFilter = p2f;
-                        filtersFloat[filtercount++] = lastFilter;	
-                        break;
-                        
-                
-          case FILMCONV_FILM2PAL:
-                    AUDMAudioFilterFilm2Pal *f2p;
-                        f2p = new AUDMAudioFilterFilm2Pal(lastFilter);
-                        lastFilter = f2p;
-                        filtersFloat[filtercount++] = lastFilter;	
-                        break;
-                
-                        
-        }   
-
-      if ( audioGain.mode!=ADM_NO_GAIN)	// Normalize activated ?
-      {
-        printf(&quot;\n  normalize activated..\n&quot;);
-      
-        AUDMAudioFilterNormalize *normalize = new AUDMAudioFilterNormalize(lastFilter,&amp;audioGain);
-        lastFilter = normalize;
-        filtersFloat[filtercount++] = lastFilter;
-      
-      }
-#endif
-//_______________________________________________________
-
-
-
-
-    return lastFilter;
-}
-/**
-
-    \fn buildPlaybackFilter
-    \brief Warning : starttime is in ms, not us!
-    @param currentaudiostream : audio stream to build playback from
-    @param starttime starting time in ms
-    @param duration duration of stream in ms
-*/
-AUDMAudioFilter *buildPlaybackFilter(ADM_audioStream *currentaudiostream, uint32_t starttime, uint32_t duration)
-{
-  AUDMAudioFilter *lastFilter=NULL;
-  int32_t sstart;
-  uint32_t channels;
-        // Do we need to go back
-  sstart=(int32_t)starttime;
-  int32_t timeShiftMs=audioDelay*audioShift;
-        
-//  deleteAudioFilter(NULL);
-  
-  lastFilter = new AUDMAudioFilter_Bridge(video_body,sstart,timeShiftMs);
-        filtercount = 0;
-        filtersFloat[filtercount++] = lastFilter;
-        
-        
-        // Downmix for local playback ?
-  
-        uint32_t downmix;
-        
-        if(prefs-&gt;get(DOWNMIXING_PROLOGIC,&amp;downmix)!=RC_OK)
-        {       
-          downmix=0;
-        }
-        channels=lastFilter-&gt;getInfo()-&gt;channels;
-        if( downmix &amp;&amp; channels&gt;2)
-        {
-          CHANNEL_CONF mix;
-          switch (downmix) {
-		case 1:
-			printf(&quot;Downmixing to stereo\n&quot;);
-			mix=CHANNEL_STEREO;
-		break;
-		case 2:
-			printf(&quot;Downmixing to prologic\n&quot;);
-			mix=CHANNEL_DOLBY_PROLOGIC;
-		break;
-		case 3:
-			printf(&quot;Downmixing to prologic2\n&quot;);
-			mix=CHANNEL_DOLBY_PROLOGIC2;
-		break;
-		default:
-			ADM_assert(0);
-          }
-          AUDMAudioFilterMixer *mixer;
-          mixer=new AUDMAudioFilterMixer( lastFilter,mix);
-          lastFilter = mixer;
-          filtersFloat[filtercount++] = lastFilter;
-        }	
-
-        return lastFilter;
-}
-/*
-*******************************************************************************************************************
-
-*******************************************************************************************************************
-*/
-
-ADM_audioStream *buildAudioFilter(ADM_audioStream *currentaudiostream,  uint32_t starttime)
-{
-#if 0
-  AUDMAudioFilter         *lastFilter=NULL;
-  ADM_audioStream         *output=NULL;
-  AUDMEncoder             *tmpfilter=NULL;
-	// if audio is set to copy, we just return the first filter
-  if(!audioProcessMode())
-  {
-    int32_t timeShiftMs=audioDelay*audioShift;
-//    deleteAudioFilter(NULL);
-//    output = new AVDMProcessAudio_RawShift(currentaudiostream, starttime, timeShiftMs);
-    return output;
-
-  }
-
-
-
-// else we build the full chain
-  lastFilter=buildInternalAudioFilter(currentaudiostream,starttime);
-  
-// and add encoder...
-
-
-//_______________________________________________________
-  uint8_t init;
-  
-  if(!lastFilter)
-  {
-    printf(&quot; buildInternalAudioFilter failed\n&quot;);
-    return 0;
-  }
-  if(lastFilter-&gt;getInfo()-&gt;channels &gt; audioFilter_getMaxChannels())
-  {
-    GUI_Error_HIG(QT_TR_NOOP(&quot;Codec Error&quot;),QT_TR_NOOP(&quot;The number of channels is greater than what the selected audio codec can do.\n&quot;
-        &quot;Either change codec or use the mixer filter to have less channels.&quot;));
-//    deleteAudioFilter(NULL);
-    return 0; 
-  }
-
-  tmpfilter=audioEncoderCreate(lastFilter);
-  if(!tmpfilter || !tmpfilter-&gt;initialize())
-  {
-    if(tmpfilter) delete tmpfilter;
-    tmpfilter=NULL;
-    GUI_Error_HIG(QT_TR_NOOP(&quot;[BuildChain] Encoder initialization failed&quot;), QT_TR_NOOP(&quot;Not activated.&quot;));
-  }
-  ADM_audioEncoderWrapper *wrapper=new ADM_audioEncoderWrapper(tmpfilter);
-//  output=wrapper;
-
-  ADM_assert(output);
-  return output;
-#endif
-}
-
-
-/*
-*******************************************************************************************************************
-     delete audio filters
-*******************************************************************************************************************
-*/
-#if 0
-void deleteAudioFilter(AVDMGenericAudioStream *in)
-{
-  for (uint32_t i = 0; i &lt; filtercount; i++)
-  {
-    delete filtersFloat[i];
-    filtersFloat[i] = NULL;
-  }
-  if(in)
-    delete in;
-  filtercount = 0;
-  if (currentaudiostream)
-    currentaudiostream-&gt;endDecompress();
-
-}
-#endif
-/**
-    \fn     audioFilter_MP3DisableReservoir
-    \brief  Set/unset the disable reservoir bit, usefull for strict mp3 frame boundaries(FLV)
-
-*/
-void audioFilter_MP3DisableReservoir(int onoff)
-{
-#if 0
-      if(activeAudioEncoder!=AUDIOENC_MP3) return;
-      ADM_audioEncoderDescriptor *desc=getAudioDescriptor( activeAudioEncoder);
-      ADM_assert(desc);
-      LAME_encoderParam *param=(LAME_encoderParam *)desc-&gt;param;
-      ADM_assert(param);
-      param-&gt;disableReservoir=onoff;
-#endif
-}
-
-/**********************************************/
-
-
-
-
-

Deleted: branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audioprocess.hxx
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audioprocess.hxx	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audiofilter/audioprocess.hxx	2009-03-28 16:35:35 UTC (rev 4714)
@@ -1,27 +0,0 @@
-/***************************************************************************
-                          audioprocess.hxx  -  description
-                             -------------------
-    begin                : Sun Jan 13 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#ifndef __AudioProcess__
-#define __AudioProcess__
-
-#include &quot;ADM_audio/aviaudio.hxx&quot;
-#include &quot;ADM_audioStream.h&quot;
-#define PROCESS_BUFFER_SIZE 48000*4*4 // should be enougth
-#define MINIMUM_BUFFER   8192*4
-
-#endif
-// EOF

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edLoadSave.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edLoadSave.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edLoadSave.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -40,7 +40,7 @@
 #include &quot;ADM_videoFilter.h&quot;
 #include &quot;ADM_videoFilter_internal.h&quot;
 
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;ADM_encoder/adm_encConfig.h&quot;
 #include &quot;prefs.h&quot;
 #include &quot;avi_vars.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encmpeg2enc.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encmpeg2enc.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encmpeg2enc.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -36,10 +36,10 @@
 #include &quot;ADM_encoder/adm_encoder.h&quot;
 #include &quot;ADM_encoder/adm_encConfig.h&quot;
 
-#include &quot;ADM_audiofilter/audioprocess.hxx&quot;
+#include &quot;audioprocess.hxx&quot;
 
 #include &quot;ADM_libraries/ADM_libmpeg2enc/ADM_mpeg2enc.h&quot;
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;prefs.h&quot;
 #include &quot;adm_encmpeg2enc.h&quot;
 #include &quot;ADM_libraries/ADM_xvidratectl/ADM_ratecontrol.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_mplex/ADM_mthread.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_mplex/ADM_mthread.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_mplex/ADM_mthread.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -23,8 +23,8 @@
 #include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;
 #include &quot;ADM_encoder/adm_encoder.h&quot;
 #include &quot;ADM_userInterfaces/ADM_commonUI/DIA_encoding.h&quot;
-#include &quot;ADM_audiofilter/audioprocess.hxx&quot;
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioprocess.hxx&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 //#include &quot;ADM_outputs/ADM_lavformat.h&quot;
 #include &quot;ADM_mthread.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -16,7 +16,7 @@
 #include &quot;ADM_JSAvidemuxAudio.h&quot;
 
 #include &quot;../ADM_userInterfaces/ADM_commonUI/GUI_ui.h&quot;
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;avi_vars.h&quot;
 #include &quot;gui_action.hxx&quot;
 #include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemuxVideo.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemuxVideo.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemuxVideo.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -17,7 +17,7 @@
 
 
 #include &quot;../ADM_userInterfaces/ADM_commonUI/GUI_ui.h&quot;
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;avi_vars.h&quot;
 #include &quot;gui_action.hxx&quot;
 #include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSFunctions.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSFunctions.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSFunctions.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -33,7 +33,7 @@
 #include &quot;ADM_default.h&quot;
 #include &quot;DIA_coreToolkit.h&quot;
 #include &quot;ADM_editor/ADM_outputfmt.h&quot;
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;adm_scanner.h&quot; 
 #include &quot;avi_vars.h&quot;
 #include &quot;gui_action.hxx&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSFunctions.cpp.orig
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSFunctions.cpp.orig	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSFunctions.cpp.orig	2009-03-28 16:35:35 UTC (rev 4714)
@@ -29,7 +29,7 @@
 #include &quot;ADM_default.h&quot;
 #include &quot;DIA_coreToolkit.h&quot;
 #include &quot;ADM_editor/ADM_outputfmt.h&quot;
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;adm_scanner.h&quot; 
 #include &quot;avi_vars.h&quot;
 #include &quot;gui_action.hxx&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_toolkit/ADM_audioQueue.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_toolkit/ADM_audioQueue.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_toolkit/ADM_audioQueue.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -14,8 +14,8 @@
 #include &quot;ADM_default.h&quot;
 #include &quot;ADM_threads.h&quot;
 
-#include &quot;ADM_audiofilter/audioprocess.hxx&quot;
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioprocess.hxx&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 
 #include &quot;ADM_audioQueue.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_toolkit/automation.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_toolkit/automation.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_toolkit/automation.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -32,7 +32,7 @@
 
 #include &quot;gui_action.hxx&quot;
 #include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;prefs.h&quot;
 #include &quot;gtkgui.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -4,8 +4,8 @@
 
 #include &quot;ADM_toolkitGtk.h&quot;
 
-#include &quot;ADM_audiofilter/audioprocess.hxx&quot;
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioprocess.hxx&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 //#include &quot;ADM_audiocodec/ADM_audiocodeclist.h&quot;
 
 extern uint32_t audioEncoderGetNumberOfEncoders(void);

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -25,8 +25,8 @@
 #include &quot;ADM_videoFilter.h&quot;
 #include &quot;ADM_videoFilter_internal.h&quot;
 
-#include &quot;ADM_audiofilter/audioprocess.hxx&quot;
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioprocess.hxx&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 
 
 #include &quot;ADM_video/ADM_vidMisc.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_calculator.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_calculator.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_calculator.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -21,7 +21,7 @@
 #include &quot;avi_vars.h&quot;
 #include &quot;ADM_videoFilter.h&quot;
 #include &quot;ADM_audio/aviaudio.hxx&quot;
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;ADM_video/ADM_vidMisc.h&quot;
 #include &quot;ADM_encoder/adm_encConfig.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -18,7 +18,7 @@
 
 #include &quot;DIA_factory.h&quot;
 #include &quot;audiofilter_normalize_param.h&quot;
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 /**
     \fn DIA_getAudioFilter
     \brief Dialog to manage audio filters

Modified: branches/avidemux_2.6_branch_mean/avidemux/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/CMakeLists.txt	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/CMakeLists.txt	2009-03-28 16:35:35 UTC (rev 4714)
@@ -53,6 +53,8 @@
 
 INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}&quot;)
 INCLUDE_DIRECTORIES(&quot;${CMAKE_BINARY_DIR}/config&quot;)
+# temp
+INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/ADM_audioFilter_old/&quot;)
 INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/ADM_core/include&quot;)
 INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/ADM_coreUI/include&quot;)
 INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/ADM_coreImage/include&quot;)
@@ -174,7 +176,7 @@
 # Compile and link general subdirs
 ########################################
 SET(ADM_SUBDIR 
-	ADM_audiofilter
+	ADM_audioFilter_old
 	#ADM_audioEncoder
 	ADM_editor
 	ADM_muxerGate

Modified: branches/avidemux_2.6_branch_mean/avidemux/gtk_gui.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/gtk_gui.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/gtk_gui.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -29,11 +29,11 @@
 
 #include &quot;ADM_audio/aviaudio.hxx&quot;
 #include &quot;ADM_audio/audioex.h&quot;
-#include &quot;ADM_audiofilter/audioprocess.hxx&quot;
+#include &quot;audioprocess.hxx&quot;
 #include &quot;gui_action.hxx&quot;
 #include &quot;gtkgui.h&quot;
 
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;prefs.h&quot;
 #include &quot;ADM_encoder/adm_encConfig.h&quot;
 #include &quot;ADM_userInterfaces/ADM_render/GUI_render.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/gui_autodrive.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/gui_autodrive.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/gui_autodrive.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -29,8 +29,8 @@
 
 #include &quot;audio_out.h&quot;
 #include &quot;ADM_audio/aviaudio.hxx&quot;
-#include &quot;ADM_audiofilter/audioprocess.hxx&quot;
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioprocess.hxx&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;gui_action.hxx&quot;
 
 #include &quot;ADM_encoder/adm_encConfig.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/gui_blackframes.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/gui_blackframes.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/gui_blackframes.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -28,7 +28,7 @@
 #include &quot;prototype.h&quot;
 #include &quot;audio_out.h&quot;
 #include &quot;ADM_audio/aviaudio.hxx&quot;
-#include &quot;ADM_audiofilter/audioprocess.hxx&quot;
+#include &quot;audioprocess.hxx&quot;
 #include &quot;gui_action.hxx&quot;
 #include &quot;gtkgui.h&quot;
 #include &quot;DIA_coreToolkit.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/gui_savenew.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/gui_savenew.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/avidemux/gui_savenew.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -23,7 +23,7 @@
 #include &quot;DIA_coreToolkit.h&quot;
 #include &quot;DIA_enter.h&quot;
 #include &quot;ADM_audio/aviaudio.hxx&quot;
-#include &quot;ADM_audiofilter/audioprocess.hxx&quot;
+#include &quot;audioprocess.hxx&quot;
 
 #include &quot;ADM_videoFilter.h&quot;
 #include &quot;ADM_videoFilter_internal.h&quot;

Modified: branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/muxerAvi/op_avisave.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/muxerAvi/op_avisave.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/muxerAvi/op_avisave.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -47,7 +47,7 @@
 
 
 
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;ADM_coreUI/include/DIA_factory.h&quot;
 const char *getStrFromAudioCodec( uint32_t codec);
 //_________________________

Modified: branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/muxerAvi/op_avisavedual.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/muxerAvi/op_avisavedual.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/muxerAvi/op_avisavedual.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -33,14 +33,14 @@
 #include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;
 
 #include &quot;ADM_audio/aviaudio.hxx&quot;
-#include &quot;ADM_audiofilter/audioprocess.hxx&quot;
+#include &quot;audioprocess.hxx&quot;
 #include &quot;op_aviwrite.hxx&quot;
 #include &quot;op_avisave.h&quot;
 #include &quot;op_savecopy.h&quot;
 
-#include &quot;ADM_audiofilter/audioprocess.hxx&quot;
+#include &quot;audioprocess.hxx&quot;
 #include &quot;ADM_audio/audioex.h&quot;
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 
 GenericAviSaveCopyDualAudio::GenericAviSaveCopyDualAudio (void	*track)
 			: GenericAviSaveCopy()

Modified: branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_dummy/oplug_dummy.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_dummy/oplug_dummy.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_dummy/oplug_dummy.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -42,8 +42,8 @@
 #include &quot;../oplug_mpegFF/oplug_vcdff.h&quot;
 
 #include &quot;ADM_userInterfaces/ADM_commonUI/DIA_encoding.h&quot;
-#include &quot;ADM_audiofilter/audioprocess.hxx&quot;
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioprocess.hxx&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;../ADM_lavformat.h&quot;
 #include &quot;fourcc.h&quot;
 #include &quot;ADM_encoder/adm_encConfig.h&quot;

Modified: branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_flv/oplug_flv.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_flv/oplug_flv.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_flv/oplug_flv.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -41,8 +41,8 @@
 #include &quot;../oplug_mpegFF/oplug_vcdff.h&quot;
 
 #include &quot;ADM_userInterfaces/ADM_commonUI/DIA_encoding.h&quot;
-#include &quot;ADM_audiofilter/audioprocess.hxx&quot;
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioprocess.hxx&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;../ADM_lavformat.h&quot;
 #include &quot;fourcc.h&quot;
 #include &quot;ADM_encoder/adm_encConfig.h&quot;

Modified: branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_mpeg/op_mpegpass.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_mpeg/op_mpegpass.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_mpeg/op_mpegpass.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -18,11 +18,11 @@
 #include &quot;ADM_threads.h&quot;
 
 #include &quot;avi_vars.h&quot;
-#include &quot;ADM_audiofilter/audioprocess.hxx&quot;
+#include &quot;audioprocess.hxx&quot;
 
 #include &quot;ADM_userInterfaces/ADM_commonUI/DIA_encoding.h&quot;
 
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;prefs.h&quot;
 #include &quot;DIA_coreToolkit.h&quot;
 #include &quot;ADM_editor/ADM_outputfmt.h&quot;

Modified: branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_mpegFF/oplug_vcdff.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_mpegFF/oplug_vcdff.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_mpegFF/oplug_vcdff.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -49,7 +49,7 @@
 #include &quot;../oplug_mpegFF/oplug_vcdff.h&quot;
 
 #include &quot;ADM_userInterfaces/ADM_commonUI/DIA_encoding.h&quot;
-#include &quot;ADM_audiofilter/audioprocess.hxx&quot;
+#include &quot;audioprocess.hxx&quot;
 #include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
 #include &quot;../ADM_lavformat.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_ogm/op_ogaudio.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_ogm/op_ogaudio.cpp	2009-03-28 16:35:31 UTC (rev 4713)
+++ branches/avidemux_2.6_branch_mean/plugins/ADM_muxers/oplug_ogm/op_ogaudio.cpp	2009-03-28 16:35:35 UTC (rev 4714)
@@ -38,8 +38,8 @@
 #include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;
 
 #include &quot;ADM_audio/aviaudio.hxx&quot;
-#include &quot;ADM_audiofilter/audioprocess.hxx&quot;
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
+#include &quot;audioprocess.hxx&quot;
+#include &quot;audioeng_buildfilters.h&quot;
 #include &quot;ADM_audio/ADM_a52info.h&quot;
 
 #include &quot;op_ogsave.h&quot;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001942.html">[Avidemux-svn-commit] r4713 -	branches/avidemux_2.6_branch_mean/plugins/ADM_demuxers/OpenDml
</A></li>
	<LI>Next message: <A HREF="001944.html">[Avidemux-svn-commit] r4715 -	branches/avidemux_2.6_branch_mean/avidemux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1943">[ date ]</a>
              <a href="thread.html#1943">[ thread ]</a>
              <a href="subject.html#1943">[ subject ]</a>
              <a href="author.html#1943">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
