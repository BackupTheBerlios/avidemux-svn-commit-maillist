<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r3799 - in	branches/avidemux_2.5_branch_mean/avidemux: . ADM_core	ADM_core/include ADM_libraries/ADM_utilities ADM_osSupport ADM_video
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3799%20-%20in%0A%09branches/avidemux_2.5_branch_mean/avidemux%3A%20.%20ADM_core%0A%09ADM_core/include%20ADM_libraries/ADM_utilities%20ADM_osSupport%20ADM_video&In-Reply-To=%3C200802241726.m1OHQpoI007382%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001065.html">
   <LINK REL="Next"  HREF="001067.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r3799 - in	branches/avidemux_2.5_branch_mean/avidemux: . ADM_core	ADM_core/include ADM_libraries/ADM_utilities ADM_osSupport ADM_video</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3799%20-%20in%0A%09branches/avidemux_2.5_branch_mean/avidemux%3A%20.%20ADM_core%0A%09ADM_core/include%20ADM_libraries/ADM_utilities%20ADM_osSupport%20ADM_video&In-Reply-To=%3C200802241726.m1OHQpoI007382%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r3799 - in	branches/avidemux_2.5_branch_mean/avidemux: . ADM_core	ADM_core/include ADM_libraries/ADM_utilities ADM_osSupport ADM_video">mean at mail.berlios.de
       </A><BR>
    <I>Sun Feb 24 18:26:51 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001065.html">[Avidemux-svn-commit] r3798 - in	branches/avidemux_2.5_branch_mean/avidemux: ADM_audio	ADM_audiocodec ADM_editor ADM_encoder ADM_filter	ADM_libraries/ADM_libswscale ADM_libraries/ADM_utilities	ADM_ocr ADM_outputs/oplug_avi ADM_outputs/oplug_ogm	ADM_toolkit ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_GTK/ADM_ocr	ADM_userInterfaces/ADM_NONE/ADM_gui2	ADM_userInterfaces/ADM_QT4/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_gui	ADM_userInterfaces/ADM_commonUI ADM_video ADM_videoFilter
</A></li>
        <LI>Next message: <A HREF="001067.html">[Avidemux-svn-commit] r3800 - in branches/avidemux_2.5_branch_mean: . avidemux avidemux/ADM_audio avidemux/ADM_audiocodec avidemux/ADM_audiodevice avidemux/ADM_audiofilter avidemux/ADM_codecs avidemux/ADM_colorspace avidemux/ADM_core/include avidemux/ADM_editor avidemux/ADM_encoder avidemux/ADM_filter avidemux/ADM_infoExtractor avidemux/ADM_inputs/ADM_amv avidemux/ADM_inputs/ADM_asf avidemux/ADM_inputs/ADM_avsproxy avidemux/ADM_inputs/ADM_flv avidemux/ADM_inputs/ADM_h263 avidemux/ADM_inputs/ADM_inpics avidemux/ADM_inputs/ADM_matroska avidemux/ADM_inputs/ADM_mp4 avidemux/ADM_inputs/ADM_mpegdemuxer avidemux/ADM_inputs/ADM_nuv avidemux/ADM_inputs/ADM_ogm avidemux/ADM_inputs/ADM_openDML avidemux/ADM_libraries/ADM_lavformat avidemux/ADM_libraries/ADM_libMad avidemux/ADM_libraries/ADM_libMpeg2Dec avidemux/ADM_libraries/ADM_liba52 avidemux/ADM_libraries/ADM_libmpeg2enc avidemux/ADM_libraries/ADM_libswscale avidemux/ADM_libraries/ADM_libwrapper avidemux/ADM_libraries/ADM_lvemux avidemux/ADM_libr! aries/ADM_mplex avidemux/ADM_libraries/ADM_utilities avidemux/ADM_libraries/ADM_xvidratectl avidemux/ADM_ocr avidemux/ADM_osSupport avidemux/ADM_outputs/oplug_avi avidemux/ADM_outputs/oplug_dummy avidemux/ADM_outputs/oplug_flv avidemux/ADM_outputs/oplug_mpeg avidemux/ADM_outputs/oplug_mpegFF avidemux/ADM_outputs/oplug_ogm avidemux/ADM_requant avidemux/ADM_script avidemux/ADM_toolkit avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2 avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2 avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters avidemux/ADM_u! serInterfaces/ADM_QT4/ADM_gui avidemux/ADM_userInterfaces/ADM_! QT4/ADM_
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1066">[ date ]</a>
              <a href="thread.html#1066">[ thread ]</a>
              <a href="subject.html#1066">[ subject ]</a>
              <a href="author.html#1066">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2008-02-24 18:26:50 +0100 (Sun, 24 Feb 2008)
New Revision: 3799

Added:
   branches/avidemux_2.5_branch_mean/avidemux/ADM_core/
   branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/
   branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_assert.h
   branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_clock.h
   branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_cpuCap.h
   branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_fileio.h
   branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_inttype.h
   branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_mangle.h
   branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_misc.h
   branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_threads.h
   branches/avidemux_2.5_branch_mean/avidemux/ADM_video/ADM_vidMisc.h
Removed:
   branches/avidemux_2.5_branch_mean/avidemux/ADM_assert.h
   branches/avidemux_2.5_branch_mean/avidemux/ADM_libraries/ADM_utilities/ADM_fileio.h
   branches/avidemux_2.5_branch_mean/avidemux/ADM_libraries/ADM_utilities/admmangle.h
   branches/avidemux_2.5_branch_mean/avidemux/ADM_libraries/ADM_utilities/default.h
   branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_cpuCap.h
   branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_misc.h
   branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_threads.h
   branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/TLK_clock.h
Log:
[All] Cleanup and begin to separate core


Deleted: branches/avidemux_2.5_branch_mean/avidemux/ADM_assert.h
===================================================================
--- branches/avidemux_2.5_branch_mean/avidemux/ADM_assert.h	2008-02-22 19:47:14 UTC (rev 3798)
+++ branches/avidemux_2.5_branch_mean/avidemux/ADM_assert.h	2008-02-24 17:26:50 UTC (rev 3799)
@@ -1,77 +0,0 @@
-/*
-	Replacement for assert etc...
-*/
-#ifndef ADM_ASSERT_H
-#define ADM_ASSERT_H
-
-#include &lt;assert.h&gt;
-
-#define ADM_assert(x) { if(!(x)) {ADM_backTrack(__LINE__,__FILE__);  }}
-
-/* Functions we want to override to have better os support / debug / error control */
-    
-#ifdef __cplusplus
-extern &quot;C&quot; {
-#endif
-void   ADM_backTrack(int lineno,const char *file);
-size_t ADM_fread (void *ptr, size_t size, size_t n, FILE *sstream);
-size_t ADM_fwrite (void *ptr, size_t size, size_t n, FILE *sstream);
-FILE  *ADM_fopen (const char *file, const char *mode);
-int    ADM_fclose (FILE *file);
-
-extern void *ADM_alloc(size_t size);
-extern void *ADM_calloc(size_t nbElm,size_t elSize);
-extern void *ADM_realloc(void *in,size_t size);
-extern void ADM_dezalloc(void *ptr);
-extern char *ADM_strdup( const char *in);
-extern char *slashToBackSlash(char *in);
-typedef void *(* adm_fast_memcpy)(void *to, const void *from, size_t len);
-extern adm_fast_memcpy myAdmMemcpy;
-
-#define ADM_memalign(x,y) ADM_alloc(y)
-
-#define ADM_dealloc(x) ADM_dezalloc( (void *)x)
-#define memcpy myAdmMemcpy
-
-// Override fread/fwrite ..
-#define fread   ADM_fread
-#define fwrite  ADM_fwrite
-#define fopen   ADM_fopen
-#define fclose  ADM_fclose
-
-#ifndef __APPLE__
-#ifndef ADM_LEGACY_PROGGY
-  #define malloc #error
-  #define realloc #error
-  #define memalign #error
-  #define free  #error
-  #undef strdup
-  #define strdup #error
-  #define calloc #error
-#else
-  #define malloc ADM_alloc
-  #define realloc ADM_realloc
-  #define memalign(x,y) ADM_alloc(y)
-  #define free  ADM_dealloc
-  #undef strdup
-  #define strdup ADM_strdup
-  #define calloc ADM_calloc
-#endif
-#endif    // __APPLE__
-#ifdef __cplusplus
-}
-#endif
-// Compatibility with fprintf etc.. with long long &amp; win32
-#ifdef ADM_WIN32
-        #define LLX &quot;I64x&quot;
-        #define LLU &quot;I64u&quot;
-        
-        #define cleanupPath(x) slashToBackSlash(x)
-#else
-        #define LLX &quot;llx&quot;
-        #define LLU &quot;llu&quot;
-        #define cleanupPath(x) ADM_strdup(x)
-#endif
-
-
-#endif

Copied: branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_assert.h (from rev 3798, branches/avidemux_2.5_branch_mean/avidemux/ADM_assert.h)
===================================================================
--- branches/avidemux_2.5_branch_mean/avidemux/ADM_assert.h	2008-02-22 19:47:14 UTC (rev 3798)
+++ branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_assert.h	2008-02-24 17:26:50 UTC (rev 3799)
@@ -0,0 +1,77 @@
+/*
+	Replacement for assert etc...
+*/
+#ifndef ADM_ASSERT_H
+#define ADM_ASSERT_H
+
+#include &lt;assert.h&gt;
+
+#define ADM_assert(x) { if(!(x)) {ADM_backTrack(__LINE__,__FILE__);  }}
+
+/* Functions we want to override to have better os support / debug / error control */
+    
+#ifdef __cplusplus
+extern &quot;C&quot; {
+#endif
+void   ADM_backTrack(int lineno,const char *file);
+size_t ADM_fread (void *ptr, size_t size, size_t n, FILE *sstream);
+size_t ADM_fwrite (void *ptr, size_t size, size_t n, FILE *sstream);
+FILE  *ADM_fopen (const char *file, const char *mode);
+int    ADM_fclose (FILE *file);
+
+extern void *ADM_alloc(size_t size);
+extern void *ADM_calloc(size_t nbElm,size_t elSize);
+extern void *ADM_realloc(void *in,size_t size);
+extern void ADM_dezalloc(void *ptr);
+extern char *ADM_strdup( const char *in);
+extern char *slashToBackSlash(char *in);
+typedef void *(* adm_fast_memcpy)(void *to, const void *from, size_t len);
+extern adm_fast_memcpy myAdmMemcpy;
+
+#define ADM_memalign(x,y) ADM_alloc(y)
+
+#define ADM_dealloc(x) ADM_dezalloc( (void *)x)
+#define memcpy myAdmMemcpy
+
+// Override fread/fwrite ..
+#define fread   ADM_fread
+#define fwrite  ADM_fwrite
+#define fopen   ADM_fopen
+#define fclose  ADM_fclose
+
+#ifndef __APPLE__
+#ifndef ADM_LEGACY_PROGGY
+  #define malloc #error
+  #define realloc #error
+  #define memalign #error
+  #define free  #error
+  #undef strdup
+  #define strdup #error
+  #define calloc #error
+#else
+  #define malloc ADM_alloc
+  #define realloc ADM_realloc
+  #define memalign(x,y) ADM_alloc(y)
+  #define free  ADM_dealloc
+  #undef strdup
+  #define strdup ADM_strdup
+  #define calloc ADM_calloc
+#endif
+#endif    // __APPLE__
+#ifdef __cplusplus
+}
+#endif
+// Compatibility with fprintf etc.. with long long &amp; win32
+#ifdef ADM_WIN32
+        #define LLX &quot;I64x&quot;
+        #define LLU &quot;I64u&quot;
+        
+        #define cleanupPath(x) slashToBackSlash(x)
+#else
+        #define LLX &quot;llx&quot;
+        #define LLU &quot;llu&quot;
+        #define cleanupPath(x) ADM_strdup(x)
+#endif
+
+
+#endif

Copied: branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_clock.h (from rev 3798, branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/TLK_clock.h)
===================================================================
--- branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/TLK_clock.h	2008-02-22 19:47:14 UTC (rev 3798)
+++ branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_clock.h	2008-02-24 17:26:50 UTC (rev 3799)
@@ -0,0 +1,16 @@
+//
+#ifndef __CLK__
+#define __CLK__
+class Clock
+{
+	private: uint32_t _startTime;
+
+	public:
+			Clock(void );
+			~Clock( );
+			uint32_t getElapsedMS( void );
+			uint8_t reset( void );
+
+
+};
+#endif

Copied: branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_cpuCap.h (from rev 3798, branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_cpuCap.h)
===================================================================
--- branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_cpuCap.h	2008-02-22 19:47:14 UTC (rev 3798)
+++ branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_cpuCap.h	2008-02-24 17:26:50 UTC (rev 3799)
@@ -0,0 +1,57 @@
+//
+// C++ Interface: ADM_cpuCap
+//
+// Description: 
+//
+//
+// Author: mean &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>&gt;, (C) 2004
+//
+// Copyright: See COPYING file that comes with this distribution
+//
+//
+#if defined(ARCH_X86_64) ||defined(ARCH_X86)
+
+#define CHECK_Z(x) {if(CpuCaps::myCpuCaps &amp; ADM_CPU_##x &amp; CpuCaps::myCpuMask) return 1; else return 0;} 
+
+#else
+#define         CHECK_Z(x) {return 0;}
+#endif
+
+typedef enum 
+{
+        ADM_CPU_NONE   =1,
+        ADM_CPU_MMX    =1&lt;&lt;1,
+        ADM_CPU_MMXEXT =1&lt;&lt;2,
+        ADM_CPU_3DNOW  =1&lt;&lt;3,
+        ADM_CPU_3DNOWEXT  =1&lt;&lt;4,
+        ADM_CPU_SSE    =1&lt;&lt;5,
+        ADM_CPU_SSE2   =1&lt;&lt;6,
+		ADM_CPU_SSE3   =1&lt;&lt;7,
+		ADM_CPU_SSSE3  =1&lt;&lt;8,
+        ADM_CPU_ALTIVEC=1&lt;&lt;9,
+        
+        ADM_CPU_ALL=0xffffffff
+} ADM_CPU_CAPS;
+
+class CpuCaps
+{
+public:
+        static uint32_t      myCpuCaps;
+        static uint32_t      myCpuMask;
+public:
+	static void 	init( void);
+	static uint8_t 	hasMMX (void) {CHECK_Z(MMX)};
+	static uint8_t 	hasMMXEXT (void){CHECK_Z(MMXEXT)};
+	static uint8_t 	has3DNOW (void) {CHECK_Z(3DNOW)};
+	static uint8_t 	hasSSE (void) {CHECK_Z(SSE)};
+	static uint8_t 	hasSSE2 (void){CHECK_Z(SSE2)};
+	static uint8_t 	hasSSE3 (void){CHECK_Z(SSE3)};
+	static uint8_t 	hasSSSE3 (void){CHECK_Z(SSSE3)};
+	static uint8_t 	has3DNOWEXT(void){CHECK_Z(3DNOWEXT)};
+
+
+};
+
+#if (defined( ARCH_X86)  || defined(ARCH_X86_64)) &amp;&amp; defined(HAVE_BUILTIN_VECTOR)
+#define USE_SSE 1
+#endif

Copied: branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_fileio.h (from rev 3798, branches/avidemux_2.5_branch_mean/avidemux/ADM_libraries/ADM_utilities/ADM_fileio.h)
===================================================================
--- branches/avidemux_2.5_branch_mean/avidemux/ADM_libraries/ADM_utilities/ADM_fileio.h	2008-02-22 19:47:14 UTC (rev 3798)
+++ branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_fileio.h	2008-02-24 17:26:50 UTC (rev 3799)
@@ -0,0 +1,38 @@
+//
+// C++ Interface: %{MODULE}
+//
+// Description: 
+//
+//
+// Author: Mean <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.Fr</A>, (C) 2005 GPL 2
+//
+// Copyright: See COPYING file that comes with this distribution
+//      This tries to implement bufferd output io
+//      to speed up things a bit
+//
+#ifndef ADM_FILE_IO
+#define ADM_FILE_IO
+
+
+
+class ADMFile
+{
+protected:
+        FILE            *_out;
+        uint32_t        _fill;
+        uint8_t         *_buffer;	  
+        uint64_t        _curPos;
+public:
+                        ADMFile();
+                        ~ADMFile();
+        uint8_t         open(FILE *in);
+        uint8_t         write(uint8_t *in, uint32_t size);
+        uint8_t         flush(void);
+        uint8_t         seek(uint64_t where);
+        uint64_t        tell(void);
+	  
+
+
+};
+
+#endif

Copied: branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_inttype.h (from rev 3798, branches/avidemux_2.5_branch_mean/avidemux/ADM_libraries/ADM_utilities/default.h)
===================================================================
--- branches/avidemux_2.5_branch_mean/avidemux/ADM_libraries/ADM_utilities/default.h	2008-02-22 19:47:14 UTC (rev 3798)
+++ branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_inttype.h	2008-02-24 17:26:50 UTC (rev 3799)
@@ -0,0 +1,111 @@
+/***************************************************************************
+                          default.h  -  description
+                             -------------------
+    begin                : Thu Nov 1 2001
+    copyright            : (C) 2001 by mean
+    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#ifndef __ZDEFAULT
+#define __ZDEFAULT
+
+#include &quot;config.h&quot;
+
+#include &lt;stdio.h&gt;
+#include &lt;stdlib.h&gt;
+#include &lt;string.h&gt;
+#ifdef HAVE_UNISTD_H
+#include &lt;unistd.h&gt;
+#endif
+
+/*
+   	The maximum width/height is MAXIMUM_SIZE 768*768 for now
+*/
+#define MAXIMUM_SIZE 2048
+
+typedef unsigned char ADM_filename ;
+
+#ifdef HAVE_STDINT_H
+#include &lt;stdint.h&gt;
+#define GOT_TYPES
+#endif
+
+#ifdef HAVE_INTTYPES_H
+	#define __STDC_FORMAT_MACROS
+	#include &lt;inttypes.h&gt;
+	#define GOT_TYPES
+#ifndef SCNu8
+#define SCNu8 &quot;u&quot;
+#endif
+#endif
+
+#ifndef GOT_TYPES
+#ifdef ARCH_64_BITS
+#define int32_t 	signed int
+#define int64_t 	signed long int 
+#define uint64_t 	unsigned long  int
+#else
+#define int32_t 	signed long  int
+#define int64_t 	signed long  long
+#define uint64_t 	unsigned long  long
+
+#endif
+#define uint8_t  	unsigned char
+#define int8_t   	signed char
+
+#define int16_t 	signed short int
+#define uint16_t 	unsigned short int
+#define uint32_t 	unsigned long  int
+
+#endif
+#define UNUSED_ARG(a) do {/* null */} while (&amp;a == 0)
+
+#define MKFCC(a,b,c,d)   ((d&lt;&lt;24)+(c&lt;&lt;16)+(b&lt;&lt;8)+a)
+#define MKFCCR(a,b,c,d)   ((a&lt;&lt;24)+(b&lt;&lt;16)+(c&lt;&lt;8)+d)
+
+// 0 means error, 1 means ok, 2 means ignore
+// 2 is seldom used
+
+#define ADM_ERR 0
+#define ADM_OK 	1
+#define ADM_IGN 2
+
+/*
+ * Standard gettext macros.
+ */
+#ifdef HAVE_GETTEXT
+#  include &lt;libintl.h&gt;
+#  undef _
+#else
+#  define textdomain(String) (String)
+#  define gettext(String) (String)
+#  define dgettext(Domain,Message) (Message)
+#  define dcgettext(Domain,Message,Type) (Message)
+#  define bindtextdomain(Domain,Directory) (Domain)
+#endif
+
+extern const char* translate(const char *__domainname, const char *__msgid);
+
+#ifdef QT_TR_NOOP
+#undef QT_TR_NOOP
+#endif
+
+#define QT_TR_NOOP(String) translate (PACKAGE, String)
+
+#if (defined( HAVE_LIBESD) &amp;&amp; defined(HAVE_ESD_H)) || \
+ defined(OSS_SUPPORT) || defined (USE_ARTS) || \
+  defined(USE_SDL) || defined(CONFIG_DARWIN) || \
+  defined(ADM_WIN32) || defined(ALSA_SUPPORT)
+  
+#define HAVE_AUDIO
+#endif
+               
+#endif

Copied: branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_mangle.h (from rev 3798, branches/avidemux_2.5_branch_mean/avidemux/ADM_libraries/ADM_utilities/admmangle.h)
===================================================================
--- branches/avidemux_2.5_branch_mean/avidemux/ADM_libraries/ADM_utilities/admmangle.h	2008-02-22 19:47:14 UTC (rev 3798)
+++ branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_mangle.h	2008-02-24 17:26:50 UTC (rev 3799)
@@ -0,0 +1,63 @@
+// Symbol mangling for asm
+// is different on win32
+// Shamelessly borrowed from lavcodec
+
+#ifdef CYG_MANGLING // CYGWIN
+	#define Mangle(x) &quot;_&quot; #x
+	#define MANGLE(x) &quot;_&quot; #x
+#else
+	#define Mangle(x) #x
+	#define MANGLE(x) #x
+#endif
+
+#define ADM_ALIGN16 &quot;.p2align 4\n&quot;
+/* Regiter renaming */
+#ifdef ARCH_X86_64
+#define REG_a  &quot;rax&quot; 
+#define REGa    rax 
+#define REGb    rbx 
+#define REGc    rcx 
+#define REG_b  &quot;rbx&quot;
+#define REG_c  &quot;rcx&quot; 
+#define REG_d  &quot;rdx&quot; 
+#define REG_S  &quot;rsi&quot; 
+#define REG_D  &quot;rdi&quot; 
+#define REGSP   rsp  
+#define REG_SP &quot;rsp&quot; 
+#define REG_BP &quot;rbp&quot; 
+#else
+#define REGa    eax  
+#define REGb    ebx 
+#define REGc    ecx 
+#define REG_a  &quot;eax&quot;  
+#define REG_b  &quot;ebx&quot; 
+#define REG_c  &quot;ecx&quot; 
+#define REG_d  &quot;edx&quot; 
+#define REG_S  &quot;esi&quot; 
+#define REG_D  &quot;edi&quot; 
+#define REG_SP &quot;esp&quot; 
+#define REGSP   esp  
+#define REG_BP &quot;ebp&quot; 
+#endif
+
+#define REG_ax &quot;%%&quot;REG_a
+#define REG_bx &quot;%%&quot;REG_b
+#define REG_cx &quot;%%&quot;REG_c
+#define REG_dx &quot;%%&quot;REG_d
+
+#define REG_si &quot;%%&quot;REG_S
+#define REG_di &quot;%%&quot;REG_D
+
+#define REG_sp &quot;%%&quot;REG_SP
+#define REG_bp &quot;%%&quot;REG_BP
+
+#ifndef attribute_used
+#if defined(__GNUC__) &amp;&amp; (__GNUC__ &gt; 3 || __GNUC__ == 3 &amp;&amp; __GNUC_MINOR__ &gt; 0)
+#    define attribute_used __attribute__((used))
+#else
+#    define attribute_used
+#endif
+#endif
+
+#define ASM_CONST attribute_used __attribute__ ((aligned(8)))
+

Copied: branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_misc.h (from rev 3798, branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_misc.h)
===================================================================
--- branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_misc.h	2008-02-22 19:47:14 UTC (rev 3798)
+++ branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_misc.h	2008-02-24 17:26:50 UTC (rev 3799)
@@ -0,0 +1,110 @@
+/***************************************************************************
+                          ADM_misc.h  -  description
+    copyright            : (C) 2001 by mean
+    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#ifndef __ADM_MISC__
+#define __ADM_MISC__
+//#include &quot;time.h&quot;
+
+typedef enum 
+{
+        ADM_LOG_NONE=0,
+        ADM_LOG_IMPORTANT=1,
+        ADM_LOG_INFO=2,
+        ADM_LOG_DEBUG=3
+  
+} ADM_LOG_LEVEL;
+typedef struct 
+{
+  uint32_t hours,minutes,seconds; 
+} ADM_date;
+void            TLK_getDate(ADM_date *date);
+void            PathSplit(char *str, char **root, char **ext);
+void	        PathStripName(char *str);
+const char      *GetFileName(const char *str);
+char            *PathCanonize(const char *tmpname);
+void            LowerCase(char *string);
+uint32_t        getTime( int called );;
+void            frame2time(uint32_t frame, uint32_t fps, uint16_t * hh, uint16_t * mm,
+                                uint16_t * ss, uint16_t * ms);
+void            time2frame(uint32_t *frame, uint32_t fps, uint32_t hh, uint32_t mm,
+                                uint32_t ss, uint32_t ms);
+void            ms2time(uint32_t len2,uint16_t * hh, uint16_t * mm,
+                                uint16_t * ss, uint16_t * ms);				
+char*			ms2timedisplay(uint32_t ms);
+uint32_t 		getTimeOfTheDay(void);
+uint64_t 	ADM_swap64(uint64_t in);
+uint32_t 	ADM_swap32(uint32_t in);
+uint16_t 	ADM_swap16(uint16_t in);
+inline uint32_t 		dontswap(uint32_t in) {return in;};
+char 		*ADM_rindex(const char *s, int c);
+char 		*ADM_index(const char *s, int c);
+void 		ADM_usleep(unsigned long us);
+uint8_t         ADM_fileExist(char *name);
+
+#ifdef HAVE_GETTIMEOFDAY
+	#define TIMZ struct timezone
+#else
+	#ifndef HAVE_STRUCT_TIMESPEC
+	#define HAVE_STRUCT_TIMESPEC
+	extern &quot;C&quot;
+	{
+		typedef struct timespec
+		{
+			time_t tv_sec;
+			long int tv_nsec;
+		};
+
+		void gettimeofday(struct timeval *p, void *tz);
+		};
+		#define timezone int
+		#define TIMZ int
+	#endif
+#endif
+
+#ifdef ADM_WIN32
+	#define PRIO_MIN -20
+	#define PRIO_MAX 20
+	#define PRIO_PROCESS 0
+
+	int getpriority(int which, int who);
+	int setpriority(int which, int who, int value);
+
+	#define RB_POWER_OFF 0x4321fedc
+	#define SHTDN_REASON_FLAG_PLANNED 0x80000000
+
+	int shutdown_win32(void);
+	void getWorkingArea(uint32_t *width, uint32_t *height);
+#else
+	#include &lt;sys/resource.h&gt;
+#endif
+
+bool shutdown(void);
+
+#define FRAME_PAL 1
+#define FRAME_FILM 2
+#define FRAME_NTSC 3
+
+uint8_t 	identMovieType(uint32_t fps1000); // identify the movie type (mainly for mpeg1/2) 
+uint8_t 	ms2time(uint32_t ms, uint32_t *h,uint32_t *m, uint32_t *s);
+#ifdef ADM_BIG_ENDIAN	
+	#define R64 ADM_swap64
+	#define R32 ADM_swap32
+	#define R16 ADM_swap16
+#else
+	#define R64(x) (x)
+	#define R32(x) (x) 
+	#define R16(x) (x) 
+#endif
+#endif

Copied: branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_threads.h (from rev 3798, branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_threads.h)
===================================================================
--- branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_threads.h	2008-02-22 19:47:14 UTC (rev 3798)
+++ branches/avidemux_2.5_branch_mean/avidemux/ADM_core/include/ADM_threads.h	2008-02-24 17:26:50 UTC (rev 3799)
@@ -0,0 +1,54 @@
+/***************************************************************************
+                    
+    copyright            : (C) 2006 by mean
+    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+
+#ifndef ADM_THREADS_H
+#define ADM_THREADS_H
+
+#include &lt;pthread.h&gt;
+
+class admMutex
+{
+  private:
+    uint8_t       _locked;
+    const char    *_name;
+  public: 
+    pthread_mutex_t _tex;       
+    admMutex( const char *name=NULL);
+    ~admMutex();        
+    uint8_t lock(void);
+    uint8_t unlock(void);
+    uint8_t isLocked(void);
+};
+
+class admCond
+{
+  private:
+    pthread_cond_t  _cond;
+    admMutex        *_condtex;
+
+  public:        
+    uint8_t         waiting;
+    uint8_t         aborted;
+    admCond( admMutex *tex);
+    ~admCond();        
+    uint8_t wait(void);
+    uint8_t wakeup(void);
+    uint8_t iswaiting(void);
+    uint8_t abort(void);
+                
+};
+extern admMutex sharedMutex;
+#endif

Deleted: branches/avidemux_2.5_branch_mean/avidemux/ADM_libraries/ADM_utilities/ADM_fileio.h
===================================================================
--- branches/avidemux_2.5_branch_mean/avidemux/ADM_libraries/ADM_utilities/ADM_fileio.h	2008-02-22 19:47:14 UTC (rev 3798)
+++ branches/avidemux_2.5_branch_mean/avidemux/ADM_libraries/ADM_utilities/ADM_fileio.h	2008-02-24 17:26:50 UTC (rev 3799)
@@ -1,38 +0,0 @@
-//
-// C++ Interface: %{MODULE}
-//
-// Description: 
-//
-//
-// Author: Mean <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.Fr</A>, (C) 2005 GPL 2
-//
-// Copyright: See COPYING file that comes with this distribution
-//      This tries to implement bufferd output io
-//      to speed up things a bit
-//
-#ifndef ADM_FILE_IO
-#define ADM_FILE_IO
-
-
-
-class ADMFile
-{
-protected:
-        FILE            *_out;
-        uint32_t        _fill;
-        uint8_t         *_buffer;	  
-        uint64_t        _curPos;
-public:
-                        ADMFile();
-                        ~ADMFile();
-        uint8_t         open(FILE *in);
-        uint8_t         write(uint8_t *in, uint32_t size);
-        uint8_t         flush(void);
-        uint8_t         seek(uint64_t where);
-        uint64_t        tell(void);
-	  
-
-
-};
-
-#endif

Deleted: branches/avidemux_2.5_branch_mean/avidemux/ADM_libraries/ADM_utilities/admmangle.h
===================================================================
--- branches/avidemux_2.5_branch_mean/avidemux/ADM_libraries/ADM_utilities/admmangle.h	2008-02-22 19:47:14 UTC (rev 3798)
+++ branches/avidemux_2.5_branch_mean/avidemux/ADM_libraries/ADM_utilities/admmangle.h	2008-02-24 17:26:50 UTC (rev 3799)
@@ -1,63 +0,0 @@
-// Symbol mangling for asm
-// is different on win32
-// Shamelessly borrowed from lavcodec
-
-#ifdef CYG_MANGLING // CYGWIN
-	#define Mangle(x) &quot;_&quot; #x
-	#define MANGLE(x) &quot;_&quot; #x
-#else
-	#define Mangle(x) #x
-	#define MANGLE(x) #x
-#endif
-
-#define ADM_ALIGN16 &quot;.p2align 4\n&quot;
-/* Regiter renaming */
-#ifdef ARCH_X86_64
-#define REG_a  &quot;rax&quot; 
-#define REGa    rax 
-#define REGb    rbx 
-#define REGc    rcx 
-#define REG_b  &quot;rbx&quot;
-#define REG_c  &quot;rcx&quot; 
-#define REG_d  &quot;rdx&quot; 
-#define REG_S  &quot;rsi&quot; 
-#define REG_D  &quot;rdi&quot; 
-#define REGSP   rsp  
-#define REG_SP &quot;rsp&quot; 
-#define REG_BP &quot;rbp&quot; 
-#else
-#define REGa    eax  
-#define REGb    ebx 
-#define REGc    ecx 
-#define REG_a  &quot;eax&quot;  
-#define REG_b  &quot;ebx&quot; 
-#define REG_c  &quot;ecx&quot; 
-#define REG_d  &quot;edx&quot; 
-#define REG_S  &quot;esi&quot; 
-#define REG_D  &quot;edi&quot; 
-#define REG_SP &quot;esp&quot; 
-#define REGSP   esp  
-#define REG_BP &quot;ebp&quot; 
-#endif
-
-#define REG_ax &quot;%%&quot;REG_a
-#define REG_bx &quot;%%&quot;REG_b
-#define REG_cx &quot;%%&quot;REG_c
-#define REG_dx &quot;%%&quot;REG_d
-
-#define REG_si &quot;%%&quot;REG_S
-#define REG_di &quot;%%&quot;REG_D
-
-#define REG_sp &quot;%%&quot;REG_SP
-#define REG_bp &quot;%%&quot;REG_BP
-
-#ifndef attribute_used
-#if defined(__GNUC__) &amp;&amp; (__GNUC__ &gt; 3 || __GNUC__ == 3 &amp;&amp; __GNUC_MINOR__ &gt; 0)
-#    define attribute_used __attribute__((used))
-#else
-#    define attribute_used
-#endif
-#endif
-
-#define ASM_CONST attribute_used __attribute__ ((aligned(8)))
-

Deleted: branches/avidemux_2.5_branch_mean/avidemux/ADM_libraries/ADM_utilities/default.h
===================================================================
--- branches/avidemux_2.5_branch_mean/avidemux/ADM_libraries/ADM_utilities/default.h	2008-02-22 19:47:14 UTC (rev 3798)
+++ branches/avidemux_2.5_branch_mean/avidemux/ADM_libraries/ADM_utilities/default.h	2008-02-24 17:26:50 UTC (rev 3799)
@@ -1,111 +0,0 @@
-/***************************************************************************
-                          default.h  -  description
-                             -------------------
-    begin                : Thu Nov 1 2001
-    copyright            : (C) 2001 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#ifndef __ZDEFAULT
-#define __ZDEFAULT
-
-#include &quot;config.h&quot;
-
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#ifdef HAVE_UNISTD_H
-#include &lt;unistd.h&gt;
-#endif
-
-/*
-   	The maximum width/height is MAXIMUM_SIZE 768*768 for now
-*/
-#define MAXIMUM_SIZE 2048
-
-typedef unsigned char ADM_filename ;
-
-#ifdef HAVE_STDINT_H
-#include &lt;stdint.h&gt;
-#define GOT_TYPES
-#endif
-
-#ifdef HAVE_INTTYPES_H
-	#define __STDC_FORMAT_MACROS
-	#include &lt;inttypes.h&gt;
-	#define GOT_TYPES
-#ifndef SCNu8
-#define SCNu8 &quot;u&quot;
-#endif
-#endif
-
-#ifndef GOT_TYPES
-#ifdef ARCH_64_BITS
-#define int32_t 	signed int
-#define int64_t 	signed long int 
-#define uint64_t 	unsigned long  int
-#else
-#define int32_t 	signed long  int
-#define int64_t 	signed long  long
-#define uint64_t 	unsigned long  long
-
-#endif
-#define uint8_t  	unsigned char
-#define int8_t   	signed char
-
-#define int16_t 	signed short int
-#define uint16_t 	unsigned short int
-#define uint32_t 	unsigned long  int
-
-#endif
-#define UNUSED_ARG(a) do {/* null */} while (&amp;a == 0)
-
-#define MKFCC(a,b,c,d)   ((d&lt;&lt;24)+(c&lt;&lt;16)+(b&lt;&lt;8)+a)
-#define MKFCCR(a,b,c,d)   ((a&lt;&lt;24)+(b&lt;&lt;16)+(c&lt;&lt;8)+d)
-
-// 0 means error, 1 means ok, 2 means ignore
-// 2 is seldom used
-
-#define ADM_ERR 0
-#define ADM_OK 	1
-#define ADM_IGN 2
-
-/*
- * Standard gettext macros.
- */
-#ifdef HAVE_GETTEXT
-#  include &lt;libintl.h&gt;
-#  undef _
-#else
-#  define textdomain(String) (String)
-#  define gettext(String) (String)
-#  define dgettext(Domain,Message) (Message)
-#  define dcgettext(Domain,Message,Type) (Message)
-#  define bindtextdomain(Domain,Directory) (Domain)
-#endif
-
-extern const char* translate(const char *__domainname, const char *__msgid);
-
-#ifdef QT_TR_NOOP
-#undef QT_TR_NOOP
-#endif
-
-#define QT_TR_NOOP(String) translate (PACKAGE, String)
-
-#if (defined( HAVE_LIBESD) &amp;&amp; defined(HAVE_ESD_H)) || \
- defined(OSS_SUPPORT) || defined (USE_ARTS) || \
-  defined(USE_SDL) || defined(CONFIG_DARWIN) || \
-  defined(ADM_WIN32) || defined(ALSA_SUPPORT)
-  
-#define HAVE_AUDIO
-#endif
-               
-#endif

Deleted: branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_cpuCap.h
===================================================================
--- branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_cpuCap.h	2008-02-22 19:47:14 UTC (rev 3798)
+++ branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_cpuCap.h	2008-02-24 17:26:50 UTC (rev 3799)
@@ -1,57 +0,0 @@
-//
-// C++ Interface: ADM_cpuCap
-//
-// Description: 
-//
-//
-// Author: mean &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>&gt;, (C) 2004
-//
-// Copyright: See COPYING file that comes with this distribution
-//
-//
-#if defined(ARCH_X86_64) ||defined(ARCH_X86)
-
-#define CHECK_Z(x) {if(CpuCaps::myCpuCaps &amp; ADM_CPU_##x &amp; CpuCaps::myCpuMask) return 1; else return 0;} 
-
-#else
-#define         CHECK_Z(x) {return 0;}
-#endif
-
-typedef enum 
-{
-        ADM_CPU_NONE   =1,
-        ADM_CPU_MMX    =1&lt;&lt;1,
-        ADM_CPU_MMXEXT =1&lt;&lt;2,
-        ADM_CPU_3DNOW  =1&lt;&lt;3,
-        ADM_CPU_3DNOWEXT  =1&lt;&lt;4,
-        ADM_CPU_SSE    =1&lt;&lt;5,
-        ADM_CPU_SSE2   =1&lt;&lt;6,
-		ADM_CPU_SSE3   =1&lt;&lt;7,
-		ADM_CPU_SSSE3  =1&lt;&lt;8,
-        ADM_CPU_ALTIVEC=1&lt;&lt;9,
-        
-        ADM_CPU_ALL=0xffffffff
-} ADM_CPU_CAPS;
-
-class CpuCaps
-{
-public:
-        static uint32_t      myCpuCaps;
-        static uint32_t      myCpuMask;
-public:
-	static void 	init( void);
-	static uint8_t 	hasMMX (void) {CHECK_Z(MMX)};
-	static uint8_t 	hasMMXEXT (void){CHECK_Z(MMXEXT)};
-	static uint8_t 	has3DNOW (void) {CHECK_Z(3DNOW)};
-	static uint8_t 	hasSSE (void) {CHECK_Z(SSE)};
-	static uint8_t 	hasSSE2 (void){CHECK_Z(SSE2)};
-	static uint8_t 	hasSSE3 (void){CHECK_Z(SSE3)};
-	static uint8_t 	hasSSSE3 (void){CHECK_Z(SSSE3)};
-	static uint8_t 	has3DNOWEXT(void){CHECK_Z(3DNOWEXT)};
-
-
-};
-
-#if (defined( ARCH_X86)  || defined(ARCH_X86_64)) &amp;&amp; defined(HAVE_BUILTIN_VECTOR)
-#define USE_SSE 1
-#endif

Deleted: branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_misc.h
===================================================================
--- branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_misc.h	2008-02-22 19:47:14 UTC (rev 3798)
+++ branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_misc.h	2008-02-24 17:26:50 UTC (rev 3799)
@@ -1,110 +0,0 @@
-/***************************************************************************
-                          ADM_misc.h  -  description
-    copyright            : (C) 2001 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#ifndef __ADM_MISC__
-#define __ADM_MISC__
-//#include &quot;time.h&quot;
-
-typedef enum 
-{
-        ADM_LOG_NONE=0,
-        ADM_LOG_IMPORTANT=1,
-        ADM_LOG_INFO=2,
-        ADM_LOG_DEBUG=3
-  
-} ADM_LOG_LEVEL;
-typedef struct 
-{
-  uint32_t hours,minutes,seconds; 
-} ADM_date;
-void            TLK_getDate(ADM_date *date);
-void            PathSplit(char *str, char **root, char **ext);
-void	        PathStripName(char *str);
-const char      *GetFileName(const char *str);
-char            *PathCanonize(const char *tmpname);
-void            LowerCase(char *string);
-uint32_t        getTime( int called );;
-void            frame2time(uint32_t frame, uint32_t fps, uint16_t * hh, uint16_t * mm,
-                                uint16_t * ss, uint16_t * ms);
-void            time2frame(uint32_t *frame, uint32_t fps, uint32_t hh, uint32_t mm,
-                                uint32_t ss, uint32_t ms);
-void            ms2time(uint32_t len2,uint16_t * hh, uint16_t * mm,
-                                uint16_t * ss, uint16_t * ms);				
-char*			ms2timedisplay(uint32_t ms);
-uint32_t 		getTimeOfTheDay(void);
-uint64_t 	ADM_swap64(uint64_t in);
-uint32_t 	ADM_swap32(uint32_t in);
-uint16_t 	ADM_swap16(uint16_t in);
-inline uint32_t 		dontswap(uint32_t in) {return in;};
-char 		*ADM_rindex(const char *s, int c);
-char 		*ADM_index(const char *s, int c);
-void 		ADM_usleep(unsigned long us);
-uint8_t         ADM_fileExist(char *name);
-
-#ifdef HAVE_GETTIMEOFDAY
-	#define TIMZ struct timezone
-#else
-	#ifndef HAVE_STRUCT_TIMESPEC
-	#define HAVE_STRUCT_TIMESPEC
-	extern &quot;C&quot;
-	{
-		typedef struct timespec
-		{
-			time_t tv_sec;
-			long int tv_nsec;
-		};
-
-		void gettimeofday(struct timeval *p, void *tz);
-		};
-		#define timezone int
-		#define TIMZ int
-	#endif
-#endif
-
-#ifdef ADM_WIN32
-	#define PRIO_MIN -20
-	#define PRIO_MAX 20
-	#define PRIO_PROCESS 0
-
-	int getpriority(int which, int who);
-	int setpriority(int which, int who, int value);
-
-	#define RB_POWER_OFF 0x4321fedc
-	#define SHTDN_REASON_FLAG_PLANNED 0x80000000
-
-	int shutdown_win32(void);
-	void getWorkingArea(uint32_t *width, uint32_t *height);
-#else
-	#include &lt;sys/resource.h&gt;
-#endif
-
-bool shutdown(void);
-
-#define FRAME_PAL 1
-#define FRAME_FILM 2
-#define FRAME_NTSC 3
-
-uint8_t 	identMovieType(uint32_t fps1000); // identify the movie type (mainly for mpeg1/2) 
-uint8_t 	ms2time(uint32_t ms, uint32_t *h,uint32_t *m, uint32_t *s);
-#ifdef ADM_BIG_ENDIAN	
-	#define R64 ADM_swap64
-	#define R32 ADM_swap32
-	#define R16 ADM_swap16
-#else
-	#define R64(x) (x)
-	#define R32(x) (x) 
-	#define R16(x) (x) 
-#endif
-#endif

Deleted: branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_threads.h
===================================================================
--- branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_threads.h	2008-02-22 19:47:14 UTC (rev 3798)
+++ branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_threads.h	2008-02-24 17:26:50 UTC (rev 3799)
@@ -1,54 +0,0 @@
-/***************************************************************************
-                    
-    copyright            : (C) 2006 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-
-#ifndef ADM_THREADS_H
-#define ADM_THREADS_H
-
-#include &lt;pthread.h&gt;
-
-class admMutex
-{
-  private:
-    uint8_t       _locked;
-    const char    *_name;
-  public: 
-    pthread_mutex_t _tex;       
-    admMutex( const char *name=NULL);
-    ~admMutex();        
-    uint8_t lock(void);
-    uint8_t unlock(void);
-    uint8_t isLocked(void);
-};
-
-class admCond
-{
-  private:
-    pthread_cond_t  _cond;
-    admMutex        *_condtex;
-
-  public:        
-    uint8_t         waiting;
-    uint8_t         aborted;
-    admCond( admMutex *tex);
-    ~admCond();        
-    uint8_t wait(void);
-    uint8_t wakeup(void);
-    uint8_t iswaiting(void);
-    uint8_t abort(void);
-                
-};
-extern admMutex sharedMutex;
-#endif

Deleted: branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/TLK_clock.h
===================================================================
--- branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/TLK_clock.h	2008-02-22 19:47:14 UTC (rev 3798)
+++ branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/TLK_clock.h	2008-02-24 17:26:50 UTC (rev 3799)
@@ -1,16 +0,0 @@
-//
-#ifndef __CLK__
-#define __CLK__
-class Clock
-{
-	private: uint32_t _startTime;
-
-	public:
-			Clock(void );
-			~Clock( );
-			uint32_t getElapsedMS( void );
-			uint8_t reset( void );
-
-
-};
-#endif

Copied: branches/avidemux_2.5_branch_mean/avidemux/ADM_video/ADM_vidMisc.h (from rev 3798, branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_misc.h)
===================================================================
--- branches/avidemux_2.5_branch_mean/avidemux/ADM_osSupport/ADM_misc.h	2008-02-22 19:47:14 UTC (rev 3798)
+++ branches/avidemux_2.5_branch_mean/avidemux/ADM_video/ADM_vidMisc.h	2008-02-24 17:26:50 UTC (rev 3799)
@@ -0,0 +1,110 @@
+/***************************************************************************
+                          ADM_misc.h  -  description
+    copyright            : (C) 2001 by mean
+    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#ifndef __ADM_MISC__
+#define __ADM_MISC__
+//#include &quot;time.h&quot;
+
+typedef enum 
+{
+        ADM_LOG_NONE=0,
+        ADM_LOG_IMPORTANT=1,
+        ADM_LOG_INFO=2,
+        ADM_LOG_DEBUG=3
+  
+} ADM_LOG_LEVEL;
+typedef struct 
+{
+  uint32_t hours,minutes,seconds; 
+} ADM_date;
+void            TLK_getDate(ADM_date *date);
+void            PathSplit(char *str, char **root, char **ext);
+void	        PathStripName(char *str);
+const char      *GetFileName(const char *str);
+char            *PathCanonize(const char *tmpname);
+void            LowerCase(char *string);
+uint32_t        getTime( int called );;
+void            frame2time(uint32_t frame, uint32_t fps, uint16_t * hh, uint16_t * mm,
+                                uint16_t * ss, uint16_t * ms);
+void            time2frame(uint32_t *frame, uint32_t fps, uint32_t hh, uint32_t mm,
+                                uint32_t ss, uint32_t ms);
+void            ms2time(uint32_t len2,uint16_t * hh, uint16_t * mm,
+                                uint16_t * ss, uint16_t * ms);				
+char*			ms2timedisplay(uint32_t ms);
+uint32_t 		getTimeOfTheDay(void);
+uint64_t 	ADM_swap64(uint64_t in);
+uint32_t 	ADM_swap32(uint32_t in);
+uint16_t 	ADM_swap16(uint16_t in);
+inline uint32_t 		dontswap(uint32_t in) {return in;};
+char 		*ADM_rindex(const char *s, int c);
+char 		*ADM_index(const char *s, int c);
+void 		ADM_usleep(unsigned long us);
+uint8_t         ADM_fileExist(char *name);
+
+#ifdef HAVE_GETTIMEOFDAY
+	#define TIMZ struct timezone
+#else
+	#ifndef HAVE_STRUCT_TIMESPEC
+	#define HAVE_STRUCT_TIMESPEC
+	extern &quot;C&quot;
+	{
+		typedef struct timespec
+		{
+			time_t tv_sec;
+			long int tv_nsec;
+		};
+
+		void gettimeofday(struct timeval *p, void *tz);
+		};
+		#define timezone int
+		#define TIMZ int
+	#endif
+#endif
+
+#ifdef ADM_WIN32
+	#define PRIO_MIN -20
+	#define PRIO_MAX 20
+	#define PRIO_PROCESS 0
+
+	int getpriority(int which, int who);
+	int setpriority(int which, int who, int value);
+
+	#define RB_POWER_OFF 0x4321fedc
+	#define SHTDN_REASON_FLAG_PLANNED 0x80000000
+
+	int shutdown_win32(void);
+	void getWorkingArea(uint32_t *width, uint32_t *height);
+#else
+	#include &lt;sys/resource.h&gt;
+#endif
+
+bool shutdown(void);
+
+#define FRAME_PAL 1
+#define FRAME_FILM 2
+#define FRAME_NTSC 3
+
+uint8_t 	identMovieType(uint32_t fps1000); // identify the movie type (mainly for mpeg1/2) 
+uint8_t 	ms2time(uint32_t ms, uint32_t *h,uint32_t *m, uint32_t *s);
+#ifdef ADM_BIG_ENDIAN	
+	#define R64 ADM_swap64
+	#define R32 ADM_swap32
+	#define R16 ADM_swap16
+#else
+	#define R64(x) (x)
+	#define R32(x) (x) 
+	#define R16(x) (x) 
+#endif
+#endif


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001065.html">[Avidemux-svn-commit] r3798 - in	branches/avidemux_2.5_branch_mean/avidemux: ADM_audio	ADM_audiocodec ADM_editor ADM_encoder ADM_filter	ADM_libraries/ADM_libswscale ADM_libraries/ADM_utilities	ADM_ocr ADM_outputs/oplug_avi ADM_outputs/oplug_ogm	ADM_toolkit ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_GTK/ADM_ocr	ADM_userInterfaces/ADM_NONE/ADM_gui2	ADM_userInterfaces/ADM_QT4/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_gui	ADM_userInterfaces/ADM_commonUI ADM_video ADM_videoFilter
</A></li>
	<LI>Next message: <A HREF="001067.html">[Avidemux-svn-commit] r3800 - in branches/avidemux_2.5_branch_mean: . avidemux avidemux/ADM_audio avidemux/ADM_audiocodec avidemux/ADM_audiodevice avidemux/ADM_audiofilter avidemux/ADM_codecs avidemux/ADM_colorspace avidemux/ADM_core/include avidemux/ADM_editor avidemux/ADM_encoder avidemux/ADM_filter avidemux/ADM_infoExtractor avidemux/ADM_inputs/ADM_amv avidemux/ADM_inputs/ADM_asf avidemux/ADM_inputs/ADM_avsproxy avidemux/ADM_inputs/ADM_flv avidemux/ADM_inputs/ADM_h263 avidemux/ADM_inputs/ADM_inpics avidemux/ADM_inputs/ADM_matroska avidemux/ADM_inputs/ADM_mp4 avidemux/ADM_inputs/ADM_mpegdemuxer avidemux/ADM_inputs/ADM_nuv avidemux/ADM_inputs/ADM_ogm avidemux/ADM_inputs/ADM_openDML avidemux/ADM_libraries/ADM_lavformat avidemux/ADM_libraries/ADM_libMad avidemux/ADM_libraries/ADM_libMpeg2Dec avidemux/ADM_libraries/ADM_liba52 avidemux/ADM_libraries/ADM_libmpeg2enc avidemux/ADM_libraries/ADM_libswscale avidemux/ADM_libraries/ADM_libwrapper avidemux/ADM_libraries/ADM_lvemux avidemux/ADM_libr! aries/ADM_mplex avidemux/ADM_libraries/ADM_utilities avidemux/ADM_libraries/ADM_xvidratectl avidemux/ADM_ocr avidemux/ADM_osSupport avidemux/ADM_outputs/oplug_avi avidemux/ADM_outputs/oplug_dummy avidemux/ADM_outputs/oplug_flv avidemux/ADM_outputs/oplug_mpeg avidemux/ADM_outputs/oplug_mpegFF avidemux/ADM_outputs/oplug_ogm avidemux/ADM_requant avidemux/ADM_script avidemux/ADM_toolkit avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2 avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2 avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters avidemux/ADM_u! serInterfaces/ADM_QT4/ADM_gui avidemux/ADM_userInterfaces/ADM_! QT4/ADM_
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1066">[ date ]</a>
              <a href="thread.html#1066">[ thread ]</a>
              <a href="subject.html#1066">[ subject ]</a>
              <a href="author.html#1066">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
