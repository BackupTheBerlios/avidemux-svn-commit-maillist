<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r4922 - in branches/avidemux_2.6_branch_mean:	avidemux/common avidemux/common/ADM_audioFilter/src	avidemux/common/ADM_videoEncoder	avidemux/common/ADM_videoFilter2 avidemux/gtk	avidemux_core/ADM_coreVideoEncoder/src	avidemux_core/ADM_coreVideoFilter/src cmake
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4922%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux/common%20avidemux/common/ADM_audioFilter/src%0A%09avidemux/common/ADM_videoEncoder%0A%09avidemux/common/ADM_videoFilter2%20avidemux/gtk%0A%09avidemux_core/ADM_coreVideoEncoder/src%0A%09avidemux_core/ADM_coreVideoFilter/src%20cmake&In-Reply-To=%3C200906151747.n5FHlM0T014362%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002137.html">
   <LINK REL="Next"  HREF="002139.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r4922 - in branches/avidemux_2.6_branch_mean:	avidemux/common avidemux/common/ADM_audioFilter/src	avidemux/common/ADM_videoEncoder	avidemux/common/ADM_videoFilter2 avidemux/gtk	avidemux_core/ADM_coreVideoEncoder/src	avidemux_core/ADM_coreVideoFilter/src cmake</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4922%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux/common%20avidemux/common/ADM_audioFilter/src%0A%09avidemux/common/ADM_videoEncoder%0A%09avidemux/common/ADM_videoFilter2%20avidemux/gtk%0A%09avidemux_core/ADM_coreVideoEncoder/src%0A%09avidemux_core/ADM_coreVideoFilter/src%20cmake&In-Reply-To=%3C200906151747.n5FHlM0T014362%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r4922 - in branches/avidemux_2.6_branch_mean:	avidemux/common avidemux/common/ADM_audioFilter/src	avidemux/common/ADM_videoEncoder	avidemux/common/ADM_videoFilter2 avidemux/gtk	avidemux_core/ADM_coreVideoEncoder/src	avidemux_core/ADM_coreVideoFilter/src cmake">mean at mail.berlios.de
       </A><BR>
    <I>Mon Jun 15 19:47:22 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002137.html">[Avidemux-svn-commit] r4921 - in	branches/avidemux_2.6_branch_mean/avidemux: common/ADM_render	gtk gtk/ADM_userInterfaces gtk/ADM_userInterfaces/ADM_dialog	gtk/ADM_userInterfaces/ADM_filters gtk/ADM_userInterfaces/ADM_gui2	gtk/ADM_userInterfaces/ADM_ocr	gtk/ADM_userInterfaces/ADM_toolkit_gtk
</A></li>
        <LI>Next message: <A HREF="002139.html">[Avidemux-svn-commit] r4923 - in	branches/avidemux_2.6_branch_mean/avidemux: common	common/ADM_audiocodec common/ADM_codecs common/ADM_commonUI	common/ADM_libraries/ADM_xvidratectl common/ADM_mpegIndexer gtk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2138">[ date ]</a>
              <a href="thread.html#2138">[ thread ]</a>
              <a href="subject.html#2138">[ subject ]</a>
              <a href="author.html#2138">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2009-06-15 19:47:21 +0200 (Mon, 15 Jun 2009)
New Revision: 4922

Added:
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoEncoder/
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoEncoder/ADM_VideoEncoders.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoEncoder/ADM_dynVideoEncoder.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoEncoder/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/ADM_filterChain.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/ADM_videoFilterBridge.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/gtk/gtkIncludes.cmake
   branches/avidemux_2.6_branch_mean/cmake/admCoreIncludes.cmake
Removed:
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/ADM_VideoEncoders.cpp
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/ADM_dynVideoEncoder.cpp
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/ADM_filterChain.cpp
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/ADM_videoFilterBridge.cpp
Modified:
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/audiofilter_bridge.cpp
   branches/avidemux_2.6_branch_mean/avidemux/common/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/gtk/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/CMakeLists.txt
Log:
[Build] Gtk (follow up)

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/audiofilter_bridge.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/audiofilter_bridge.cpp	2009-06-15 17:47:18 UTC (rev 4921)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_audioFilter/src/audiofilter_bridge.cpp	2009-06-15 17:47:21 UTC (rev 4922)
@@ -19,9 +19,9 @@
 #include &quot;ADM_audioFilter.h&quot;
 #include &quot;audiofilter_bridge.h&quot;
 
-#include &quot;ADM_osSupport/ADM_debugID.h&quot;
+#include &quot;ADM_debugID.h&quot;
 #define MODULE_NAME MODULE_AUDIO_FILTER
-#include &quot;ADM_osSupport/ADM_debug.h&quot;
+#include &quot;ADM_debug.h&quot;
 
 /**
     \fn AUDMAudioFilter_Bridge

Copied: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoEncoder/ADM_VideoEncoders.cpp (from rev 4921, branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/ADM_VideoEncoders.cpp)
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/ADM_VideoEncoders.cpp	2009-06-15 17:47:18 UTC (rev 4921)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoEncoder/ADM_VideoEncoders.cpp	2009-06-15 17:47:21 UTC (rev 4922)
@@ -0,0 +1,21 @@
+/***************************************************************************
+                          \fn ADM_VideoEncoders
+                          \brief Internal handling of video encoders
+                             -------------------
+    
+    copyright            : (C) 2002/2009 by mean
+    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include &quot;ADM_default.h&quot;
+#include &quot;ADM_coreVideoEncoder.h&quot;
+#include &quot;ADM_filterChain.h&quot;
+// EOF

Copied: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoEncoder/ADM_dynVideoEncoder.cpp (from rev 4921, branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/ADM_dynVideoEncoder.cpp)
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/ADM_dynVideoEncoder.cpp	2009-06-15 17:47:18 UTC (rev 4921)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoEncoder/ADM_dynVideoEncoder.cpp	2009-06-15 17:47:21 UTC (rev 4922)
@@ -0,0 +1,251 @@
+/***************************************************************************
+                             ADM_dynVideoEncoder.cpp
+
+    begin                : Mon Apr 14 2008
+    copyright            : (C) 2008 2009 by gruntster/mean
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+
+#include &quot;ADM_default.h&quot;
+#include &lt;vector&gt;
+
+#include &quot;DIA_fileSel.h&quot;
+
+#include &quot;ADM_coreVideoEncoder.h&quot;
+#include &quot;ADM_coreVideoEncoderInternal.h&quot;
+#include &quot;DIA_uiTypes.h&quot;
+#include &quot;ADM_dynamicLoading.h&quot;
+
+static int currentVideoCodec=0;
+/**
+    \class ADM_videoEncoder6
+    \brief Plugin Wrapper Class
+
+*/
+class ADM_videoEncoder6 :public ADM_LibWrapper
+{
+public:
+        int                  initialised;
+        ADM_videoEncoderDesc *desc;
+        ADM_videoEncoderDesc  *(*getInfo)();
+        ADM_videoEncoder6(const char *file) : ADM_LibWrapper()
+        {
+			initialised = (loadLibrary(file) &amp;&amp; getSymbols(1,
+				&amp;getInfo, &quot;getInfo&quot;));
+                if(initialised)
+                {
+                    desc=getInfo();
+                    printf(&quot;[videoEncoder6]Name :%s ApiVersion :%d Description :%s\n&quot;,
+                                                        desc-&gt;encoderName,
+                                                        desc-&gt;apiVersion,
+                                                        desc-&gt;description);
+                }else
+                {
+                    printf(&quot;[videoEncoder6]Symbol loading failed for %s\n&quot;,file);
+                }
+        }
+};
+
+std::vector &lt;ADM_videoEncoder6 *&gt; ListOfEncoders;
+// 
+ADM_videoEncoderDesc copyDesc={
+        &quot;Copy&quot;,
+        &quot;Copy&quot;,
+        &quot;Copy encoder&quot;,
+        ADM_VIDEO_ENCODER_API_VERSION, //uint32_t     apiVersion;            // const
+
+        NULL, //ADM_coreVideoEncoder *(*create)(ADM_coreVideoFilter *head);  
+        NULL, //void         (*destroy)(ADM_coreVideoEncoder *codec);
+        NULL, //bool         (*configure)(void);                                // Call UI to set it up
+        NULL, //bool         (*getConfigurationData)(uint32_t *l, uint8_t **d); // Get the encoder private conf
+        NULL, //bool         (*setConfigurationData)(uint32_t l, uint8_t *d);   // Set the encoder private conf
+
+        ADM_UI_ALL, //ADM_UI_TYPE  UIType;                // Type of UI
+        1,0,0, //uint32_t     major,minor,patch;     // Version of the plugin
+        NULL  //void         *opaque;               // Hide stuff in here
+};
+
+/**
+        \fn ADM_ve6_getNbEncoders
+        \brief Returns the number of demuxers plugins except one
+*/
+uint32_t ADM_ve6_getNbEncoders(void)
+{
+    return ListOfEncoders.size();
+}
+/**
+    \fn     ADM_ve6_getEncoderInfo
+    \brief  Get Infos about the demuxer #th plugin
+*/
+bool     ADM_ve6_getEncoderInfo(int filter, const char **name, uint32_t *major,uint32_t *minor,uint32_t *patch)
+{
+    ADM_assert(filter&lt;ListOfEncoders.size());
+    ADM_videoEncoderDesc *desc=ListOfEncoders[filter]-&gt;desc;
+    ADM_assert(desc);
+    *name=desc-&gt;menuName;
+    *major=desc-&gt;major;
+    *minor=desc-&gt;minor;
+    *patch=desc-&gt;patch;
+    return true;
+}
+/**
+    \fn tryLoadingFilterPlugin
+    \brief Try loading the file given as argument as an audio device plugin
+
+*/
+#define Fail(x) {printf(&quot;%s:&quot;#x&quot;\n&quot;,file);goto er;}
+static bool tryLoadingEncoderPlugin(const char *file)
+{
+	ADM_videoEncoder6 *dll=new ADM_videoEncoder6(file);
+    if(!dll-&gt;initialised) Fail(CannotLoad);
+    if(dll-&gt;desc-&gt;apiVersion!=ADM_VIDEO_ENCODER_API_VERSION) Fail(WrongApiVersion);
+//fixme todo also check uiType    
+    ListOfEncoders.push_back(dll); // Needed for cleanup. FIXME TODO Delete it.
+    printf(&quot;[VideoEncoder6] Registered filter %s as  %s\n&quot;,file,dll-&gt;desc-&gt;description);
+    return true;
+	// Fail!
+er:
+	delete dll;
+	return false;
+
+}
+/**
+ * 	\fn ADM_ve6_loadPlugins
+ *  \brief load all audio device plugins
+ */
+uint8_t ADM_ve6_loadPlugins(const char *path)
+{
+#define MAX_EXTERNAL_FILTER 100
+// FIXME Factorize
+
+	char *files[MAX_EXTERNAL_FILTER];
+	uint32_t nbFile;
+
+	memset(files,0,sizeof(char *)*MAX_EXTERNAL_FILTER);
+	printf(&quot;[ADM_ve6_plugin] Scanning directory %s\n&quot;,path);
+
+	if(!buildDirectoryContent(&amp;nbFile, path, files, MAX_EXTERNAL_FILTER, SHARED_LIB_EXT))
+	{
+		printf(&quot;[ADM_ve6_plugin] Cannot parse plugin\n&quot;);
+		return 0;
+	}
+    // Add our copy encoder....
+    ADM_videoEncoder6 *dll=new ADM_videoEncoder6(&quot;copyADM&quot;);
+    dll-&gt;desc=&copyDesc;
+    ListOfEncoders.push_back(dll);
+
+	for(int i=0;i&lt;nbFile;i++)
+		tryLoadingEncoderPlugin(files[i]);
+    
+	printf(&quot;[ADM_ve6_plugin] Scanning done\n&quot;);
+
+	return 1;
+}
+/**
+        \fn ADM_ve6_cleanup
+        \brief Current device is no longer used, delete
+*/
+void ADM_ve6_cleanup(void)
+{
+        int nb=ListOfEncoders.size();
+        for(int i=0;i&lt;nb;i++)
+                {
+                        if(ListOfEncoders[i]) delete ListOfEncoders[i];
+                        ListOfEncoders[i]=NULL;
+                }
+}
+
+/**
+    \fn ADM_ve6_getMenuName
+    \brief IT starts from 0, ignoring the copy one
+*/
+const char *ADM_ve6_getMenuName(uint32_t i)
+{
+	 int nb=ListOfEncoders.size();
+
+	ADM_assert(i &lt; nb);
+
+	return ListOfEncoders[i]-&gt;desc-&gt;menuName;
+}
+/**
+    \fn ADM_ve6_Changed
+*/
+void ADM_ve6_Changed(int newCodecIndex)
+{
+	int nb=ListOfEncoders.size();
+	ADM_assert(newCodecIndex &lt; nb);
+
+	currentVideoCodec=newCodecIndex;
+}
+
+
+/**
+    \fn createVideoEncoder
+*/
+ADM_coreVideoEncoder *createVideoEncoderFromIndex(ADM_coreVideoFilter *chain,int index)
+{
+    int nb=ListOfEncoders.size();
+	ADM_assert(index &lt; nb);
+    ADM_assert(index); // 0 is for copy, should not get it through here
+    ADM_videoEncoder6 *plugin=ListOfEncoders[index];
+
+    ADM_coreVideoEncoder *enc=plugin-&gt;desc-&gt;create(chain);
+    if(enc)
+    {
+        if(false==enc-&gt;setup())
+        {
+            printf(&quot;[createVideoEncoderFromIndex] Cannot setup encoder\n&quot;);
+            delete enc;
+            return NULL;
+        }
+    }
+    return enc;
+}
+/**
+    \fn videoEncoder6SelectByName
+*/
+bool videoEncoder6SelectByName(const char *name)
+{
+    int nb=ListOfEncoders.size();
+    for(int i=0;i&lt;nb;i++)
+    {
+        ADM_videoEncoderDesc *desc=ListOfEncoders[i]-&gt;desc;
+        if(!strcasecmp(name,desc-&gt;encoderName))
+        {
+            currentVideoCodec=i;
+            return true;
+        }
+    }
+    return false;
+}
+/**
+    \fn videoEncoder6Configure
+
+*/
+bool                  videoEncoder6Configure(void)
+{
+    ADM_videoEncoderDesc *desc=ListOfEncoders[currentVideoCodec]-&gt;desc;
+    if(desc-&gt;configure) return desc-&gt;configure();
+    return true;
+}
+/**
+    \fn videoEncoder6_SetCurrentEncoder
+
+*/
+bool                  videoEncoder6_SetCurrentEncoder(uint32_t index)
+{
+      int nb=ListOfEncoders.size();
+      if(index&gt;=nb) return false;
+      currentVideoCodec=index;
+      return true;
+}
+//EOF

Added: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoEncoder/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoEncoder/CMakeLists.txt	2009-06-15 17:47:18 UTC (rev 4921)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoEncoder/CMakeLists.txt	2009-06-15 17:47:21 UTC (rev 4922)
@@ -0,0 +1,5 @@
+SET(ADM_internalVideoEncoder_SRCS 
+	ADM_VideoEncoders.cpp
+        ADM_dynVideoEncoder.cpp
+)
+ADD_LIBRARY(ADM_videoEncoder STATIC ${ADM_internalVideoEncoder_SRCS})

Copied: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/ADM_filterChain.cpp (from rev 4921, branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/ADM_filterChain.cpp)
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/ADM_filterChain.cpp	2009-06-15 17:47:18 UTC (rev 4921)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/ADM_filterChain.cpp	2009-06-15 17:47:21 UTC (rev 4922)
@@ -0,0 +1,50 @@
+/***************************************************************************
+                          \fn ADM_filterChain.cpp
+                          \brief Base class for Video Filters
+                           (c) Mean 2009
+
+
+
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include &quot;ADM_default.h&quot;
+#include &quot;ADM_coreVideoFilter.h&quot;
+#include &quot;ADM_filterChain.h&quot;
+#include &quot;ADM_videoFilterBridge.h&quot;
+/**
+    \fn createVideoFilterChain
+    \brief Create a filter chain
+*/
+ADM_videoFilterChain *createVideoFilterChain(uint64_t startAt,uint64_t endAt)
+{
+    ADM_videoFilterChain *chain=new ADM_videoFilterChain;
+    // 1- Add bridge always # 1
+    ADM_videoFilterBridge *bridge=new ADM_videoFilterBridge(startAt,endAt);
+    chain-&gt;push_back(bridge);
+    return chain;
+}
+/**
+        \fn destroyVideoFilterChain
+        \brief Destroy a filter chain
+*/
+bool                 destroyVideoFilterChain(ADM_videoFilterChain *chain)
+{
+    ADM_assert(chain-&gt;size());
+    for(int i=0;i&lt;chain-&gt;size();i++)
+    {
+        ADM_coreVideoFilter *filter=(*chain)[i];
+        delete filter;
+    }
+    chain-&gt;erase(chain-&gt;begin(),chain-&gt;end()-1);
+    return true;
+}
+
+// EOF

Copied: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/ADM_videoFilterBridge.cpp (from rev 4921, branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/ADM_videoFilterBridge.cpp)
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/ADM_videoFilterBridge.cpp	2009-06-15 17:47:18 UTC (rev 4921)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/ADM_videoFilterBridge.cpp	2009-06-15 17:47:21 UTC (rev 4922)
@@ -0,0 +1,93 @@
+/***************************************************************************
+                          \fn ADM_videoFilterBridge
+                          \brief Interface between editor &amp; filter chain
+                           (c) Mean 2009
+
+
+
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include &quot;ADM_default.h&quot;
+#include &quot;ADM_videoFilterBridge.h&quot;
+#include &quot;ADM_editor/ADM_edit.hxx&quot;
+extern ADM_Composer *video_body;
+/**
+    \fn ADM_videoFilterBridge
+
+*/
+ADM_videoFilterBridge::ADM_videoFilterBridge(uint64_t startTime, uint64_t endTime) : ADM_coreVideoFilter(NULL,NULL)
+{
+    printf(&quot;[VideoFilterBridge] Creating bridge from %&quot;LU&quot; s to %&quot;LU&quot; s\n&quot;,(uint32_t)(startTime/1000000LL),(uint32_t)(endTime/1000000LL));
+    this-&gt;startTime=startTime;
+    this-&gt;endTime=endTime;
+    
+    aviInfo fo;
+    video_body-&gt;getVideoInfo(&amp;fo);
+    bridgeInfo.width=fo.width;
+    bridgeInfo.height=fo.height;
+    bridgeInfo.frameIncrement=video_body-&gt;getFrameIncrement();
+    bridgeInfo.totalDuration=video_body-&gt;getVideoDuration();
+    bridgeInfo.frameIncrement=video_body-&gt;getFrameIncrement();
+    rewind();
+}
+/**
+    \fn rewind
+    \brief go or return to the original position...
+*/
+bool ADM_videoFilterBridge::rewind(void)
+{
+    video_body-&gt;GoToTime(startTime);
+    return true;
+}
+
+/**
+    \fn ADM_videoFilterBridge
+
+*/
+ADM_videoFilterBridge::~ADM_videoFilterBridge()
+{
+
+}
+/**
+    \fn getNextFrame
+    \brief
+*/
+bool         ADM_videoFilterBridge::getNextFrame(ADMImage *image)
+{
+again:
+    bool r=   video_body-&gt;NextPicture(image);
+    if(r==false) return false;
+    // Translate pts if any
+    int64_t pts=image-&gt;Pts;
+    if(pts&gt;endTime)
+    {
+        printf(&quot;[VideoBridge] This frame is too late (%&quot;LU&quot; vs %&quot;LU&quot;)\n&quot;,pts,startTime);
+        return false;
+    }
+    if(pts&lt;startTime) 
+    {
+            printf(&quot;[VideoBridge] This frame is too early (%&quot;LU&quot; vs %&quot;LU&quot;)\n&quot;,pts,endTime);
+            goto again;
+    }
+    // Rescale time
+    image-&gt;Pts-=startTime;
+    return true;
+}
+/**
+    \fn ADM_videoFilterBridge
+
+*/
+FilterInfo  *ADM_videoFilterBridge::getInfo(void)
+{
+    return &bridgeInfo;
+}
+// EOF

Added: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/CMakeLists.txt	2009-06-15 17:47:18 UTC (rev 4921)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/CMakeLists.txt	2009-06-15 17:47:21 UTC (rev 4922)
@@ -0,0 +1,5 @@
+SET(ADM_internalVideoFilter_SRCS 
+	ADM_videoFilterBridge.cpp
+        ADM_filterChain.cpp
+)
+ADD_LIBRARY(ADM_internalVideoFilter STATIC ${ADM_internalVideoFilter_SRCS})

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/CMakeLists.txt	2009-06-15 17:47:18 UTC (rev 4921)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/CMakeLists.txt	2009-06-15 17:47:21 UTC (rev 4922)
@@ -18,3 +18,5 @@
 ADD_SUBDIRECTORY(ADM_toolkit)
 ADD_SUBDIRECTORY(ADM_video)
 ADD_SUBDIRECTORY(ADM_videoFilter)
+ADD_SUBDIRECTORY(ADM_videoEncoder)
+ADD_SUBDIRECTORY(ADM_videoFilter2)

Modified: branches/avidemux_2.6_branch_mean/avidemux/gtk/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/gtk/CMakeLists.txt	2009-06-15 17:47:18 UTC (rev 4921)
+++ branches/avidemux_2.6_branch_mean/avidemux/gtk/CMakeLists.txt	2009-06-15 17:47:21 UTC (rev 4922)
@@ -113,6 +113,7 @@
 
 SET(commonLibs
 ADM_audiocodec 
+ADM_audioFilter
 ADM_audioFilter_old 
 ADM_editor 
 ADM_filter 
@@ -120,8 +121,11 @@
 ADM_requant 
 ADM_script 
 ADM_toolkit 
+ADM_videoEncoder 
 ADM_video 
-ADM_videoFilter )
+ADM_videoFilter 
+ADM_internalVideoFilter
+)
 FOREACH (_libName ${commonLibs})
         TARGET_LINK_LIBRARIES(avidemux2_gtk ${_libName})
 ENDFOREACH (_libName ${commonLibs})
@@ -164,7 +168,7 @@
 TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_gui2Gtk)
 TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_ocrGtk)
 TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_toolkitGtk)
-
+TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_UI_GTK)
 ###########################################
 # External libs
 ###########################################

Added: branches/avidemux_2.6_branch_mean/avidemux/gtk/gtkIncludes.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/gtk/gtkIncludes.cmake	2009-06-15 17:47:18 UTC (rev 4921)
+++ branches/avidemux_2.6_branch_mean/avidemux/gtk/gtkIncludes.cmake	2009-06-15 17:47:21 UTC (rev 4922)
@@ -0,0 +1,2 @@
+include_directories(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux/gtk/ADM_userInterfaces/ADM_toolkitGtk)
+include_directories(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux/gtk/ADM_UIs/include)

Deleted: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/ADM_VideoEncoders.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/ADM_VideoEncoders.cpp	2009-06-15 17:47:18 UTC (rev 4921)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/ADM_VideoEncoders.cpp	2009-06-15 17:47:21 UTC (rev 4922)
@@ -1,21 +0,0 @@
-/***************************************************************************
-                          \fn ADM_VideoEncoders
-                          \brief Internal handling of video encoders
-                             -------------------
-    
-    copyright            : (C) 2002/2009 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include &quot;ADM_default.h&quot;
-#include &quot;ADM_coreVideoEncoder.h&quot;
-#include &quot;ADM_filterChain.h&quot;
-// EOF

Deleted: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/ADM_dynVideoEncoder.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/ADM_dynVideoEncoder.cpp	2009-06-15 17:47:18 UTC (rev 4921)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/ADM_dynVideoEncoder.cpp	2009-06-15 17:47:21 UTC (rev 4922)
@@ -1,251 +0,0 @@
-/***************************************************************************
-                             ADM_dynVideoEncoder.cpp
-
-    begin                : Mon Apr 14 2008
-    copyright            : (C) 2008 2009 by gruntster/mean
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-
-#include &quot;ADM_default.h&quot;
-#include &lt;vector&gt;
-
-#include &quot;DIA_fileSel.h&quot;
-
-#include &quot;ADM_coreVideoEncoder.h&quot;
-#include &quot;ADM_coreVideoEncoderInternal.h&quot;
-#include &quot;DIA_uiTypes.h&quot;
-#include &quot;ADM_dynamicLoading.h&quot;
-
-static int currentVideoCodec=0;
-/**
-    \class ADM_videoEncoder6
-    \brief Plugin Wrapper Class
-
-*/
-class ADM_videoEncoder6 :public ADM_LibWrapper
-{
-public:
-        int                  initialised;
-        ADM_videoEncoderDesc *desc;
-        ADM_videoEncoderDesc  *(*getInfo)();
-        ADM_videoEncoder6(const char *file) : ADM_LibWrapper()
-        {
-			initialised = (loadLibrary(file) &amp;&amp; getSymbols(1,
-				&amp;getInfo, &quot;getInfo&quot;));
-                if(initialised)
-                {
-                    desc=getInfo();
-                    printf(&quot;[videoEncoder6]Name :%s ApiVersion :%d Description :%s\n&quot;,
-                                                        desc-&gt;encoderName,
-                                                        desc-&gt;apiVersion,
-                                                        desc-&gt;description);
-                }else
-                {
-                    printf(&quot;[videoEncoder6]Symbol loading failed for %s\n&quot;,file);
-                }
-        }
-};
-
-std::vector &lt;ADM_videoEncoder6 *&gt; ListOfEncoders;
-// 
-ADM_videoEncoderDesc copyDesc={
-        &quot;Copy&quot;,
-        &quot;Copy&quot;,
-        &quot;Copy encoder&quot;,
-        ADM_VIDEO_ENCODER_API_VERSION, //uint32_t     apiVersion;            // const
-
-        NULL, //ADM_coreVideoEncoder *(*create)(ADM_coreVideoFilter *head);  
-        NULL, //void         (*destroy)(ADM_coreVideoEncoder *codec);
-        NULL, //bool         (*configure)(void);                                // Call UI to set it up
-        NULL, //bool         (*getConfigurationData)(uint32_t *l, uint8_t **d); // Get the encoder private conf
-        NULL, //bool         (*setConfigurationData)(uint32_t l, uint8_t *d);   // Set the encoder private conf
-
-        ADM_UI_ALL, //ADM_UI_TYPE  UIType;                // Type of UI
-        1,0,0, //uint32_t     major,minor,patch;     // Version of the plugin
-        NULL  //void         *opaque;               // Hide stuff in here
-};
-
-/**
-        \fn ADM_ve6_getNbEncoders
-        \brief Returns the number of demuxers plugins except one
-*/
-uint32_t ADM_ve6_getNbEncoders(void)
-{
-    return ListOfEncoders.size();
-}
-/**
-    \fn     ADM_ve6_getEncoderInfo
-    \brief  Get Infos about the demuxer #th plugin
-*/
-bool     ADM_ve6_getEncoderInfo(int filter, const char **name, uint32_t *major,uint32_t *minor,uint32_t *patch)
-{
-    ADM_assert(filter&lt;ListOfEncoders.size());
-    ADM_videoEncoderDesc *desc=ListOfEncoders[filter]-&gt;desc;
-    ADM_assert(desc);
-    *name=desc-&gt;menuName;
-    *major=desc-&gt;major;
-    *minor=desc-&gt;minor;
-    *patch=desc-&gt;patch;
-    return true;
-}
-/**
-    \fn tryLoadingFilterPlugin
-    \brief Try loading the file given as argument as an audio device plugin
-
-*/
-#define Fail(x) {printf(&quot;%s:&quot;#x&quot;\n&quot;,file);goto er;}
-static bool tryLoadingEncoderPlugin(const char *file)
-{
-	ADM_videoEncoder6 *dll=new ADM_videoEncoder6(file);
-    if(!dll-&gt;initialised) Fail(CannotLoad);
-    if(dll-&gt;desc-&gt;apiVersion!=ADM_VIDEO_ENCODER_API_VERSION) Fail(WrongApiVersion);
-//fixme todo also check uiType    
-    ListOfEncoders.push_back(dll); // Needed for cleanup. FIXME TODO Delete it.
-    printf(&quot;[VideoEncoder6] Registered filter %s as  %s\n&quot;,file,dll-&gt;desc-&gt;description);
-    return true;
-	// Fail!
-er:
-	delete dll;
-	return false;
-
-}
-/**
- * 	\fn ADM_ve6_loadPlugins
- *  \brief load all audio device plugins
- */
-uint8_t ADM_ve6_loadPlugins(const char *path)
-{
-#define MAX_EXTERNAL_FILTER 100
-// FIXME Factorize
-
-	char *files[MAX_EXTERNAL_FILTER];
-	uint32_t nbFile;
-
-	memset(files,0,sizeof(char *)*MAX_EXTERNAL_FILTER);
-	printf(&quot;[ADM_ve6_plugin] Scanning directory %s\n&quot;,path);
-
-	if(!buildDirectoryContent(&amp;nbFile, path, files, MAX_EXTERNAL_FILTER, SHARED_LIB_EXT))
-	{
-		printf(&quot;[ADM_ve6_plugin] Cannot parse plugin\n&quot;);
-		return 0;
-	}
-    // Add our copy encoder....
-    ADM_videoEncoder6 *dll=new ADM_videoEncoder6(&quot;copyADM&quot;);
-    dll-&gt;desc=&copyDesc;
-    ListOfEncoders.push_back(dll);
-
-	for(int i=0;i&lt;nbFile;i++)
-		tryLoadingEncoderPlugin(files[i]);
-    
-	printf(&quot;[ADM_ve6_plugin] Scanning done\n&quot;);
-
-	return 1;
-}
-/**
-        \fn ADM_ve6_cleanup
-        \brief Current device is no longer used, delete
-*/
-void ADM_ve6_cleanup(void)
-{
-        int nb=ListOfEncoders.size();
-        for(int i=0;i&lt;nb;i++)
-                {
-                        if(ListOfEncoders[i]) delete ListOfEncoders[i];
-                        ListOfEncoders[i]=NULL;
-                }
-}
-
-/**
-    \fn ADM_ve6_getMenuName
-    \brief IT starts from 0, ignoring the copy one
-*/
-const char *ADM_ve6_getMenuName(uint32_t i)
-{
-	 int nb=ListOfEncoders.size();
-
-	ADM_assert(i &lt; nb);
-
-	return ListOfEncoders[i]-&gt;desc-&gt;menuName;
-}
-/**
-    \fn ADM_ve6_Changed
-*/
-void ADM_ve6_Changed(int newCodecIndex)
-{
-	int nb=ListOfEncoders.size();
-	ADM_assert(newCodecIndex &lt; nb);
-
-	currentVideoCodec=newCodecIndex;
-}
-
-
-/**
-    \fn createVideoEncoder
-*/
-ADM_coreVideoEncoder *createVideoEncoderFromIndex(ADM_coreVideoFilter *chain,int index)
-{
-    int nb=ListOfEncoders.size();
-	ADM_assert(index &lt; nb);
-    ADM_assert(index); // 0 is for copy, should not get it through here
-    ADM_videoEncoder6 *plugin=ListOfEncoders[index];
-
-    ADM_coreVideoEncoder *enc=plugin-&gt;desc-&gt;create(chain);
-    if(enc)
-    {
-        if(false==enc-&gt;setup())
-        {
-            printf(&quot;[createVideoEncoderFromIndex] Cannot setup encoder\n&quot;);
-            delete enc;
-            return NULL;
-        }
-    }
-    return enc;
-}
-/**
-    \fn videoEncoder6SelectByName
-*/
-bool videoEncoder6SelectByName(const char *name)
-{
-    int nb=ListOfEncoders.size();
-    for(int i=0;i&lt;nb;i++)
-    {
-        ADM_videoEncoderDesc *desc=ListOfEncoders[i]-&gt;desc;
-        if(!strcasecmp(name,desc-&gt;encoderName))
-        {
-            currentVideoCodec=i;
-            return true;
-        }
-    }
-    return false;
-}
-/**
-    \fn videoEncoder6Configure
-
-*/
-bool                  videoEncoder6Configure(void)
-{
-    ADM_videoEncoderDesc *desc=ListOfEncoders[currentVideoCodec]-&gt;desc;
-    if(desc-&gt;configure) return desc-&gt;configure();
-    return true;
-}
-/**
-    \fn videoEncoder6_SetCurrentEncoder
-
-*/
-bool                  videoEncoder6_SetCurrentEncoder(uint32_t index)
-{
-      int nb=ListOfEncoders.size();
-      if(index&gt;=nb) return false;
-      currentVideoCodec=index;
-      return true;
-}
-//EOF

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/CMakeLists.txt	2009-06-15 17:47:18 UTC (rev 4921)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/CMakeLists.txt	2009-06-15 17:47:21 UTC (rev 4922)
@@ -8,8 +8,3 @@
 
 INSTALL(TARGETS ADM_coreVideoEncoder RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib  ARCHIVE DESTINATION lib)
 
-SET(ADM_internalVideoEncoder_SRCS 
-	ADM_VideoEncoders.cpp
-        ADM_dynVideoEncoder.cpp
-)
-#ADD_LIBRARY(ADM_internalVideoEncoder STATIC ${ADM_internalVideoEncoder_SRCS})

Deleted: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/ADM_filterChain.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/ADM_filterChain.cpp	2009-06-15 17:47:18 UTC (rev 4921)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/ADM_filterChain.cpp	2009-06-15 17:47:21 UTC (rev 4922)
@@ -1,50 +0,0 @@
-/***************************************************************************
-                          \fn ADM_filterChain.cpp
-                          \brief Base class for Video Filters
-                           (c) Mean 2009
-
-
-
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include &quot;ADM_default.h&quot;
-#include &quot;ADM_coreVideoFilter.h&quot;
-#include &quot;ADM_filterChain.h&quot;
-#include &quot;ADM_videoFilterBridge.h&quot;
-/**
-    \fn createVideoFilterChain
-    \brief Create a filter chain
-*/
-ADM_videoFilterChain *createVideoFilterChain(uint64_t startAt,uint64_t endAt)
-{
-    ADM_videoFilterChain *chain=new ADM_videoFilterChain;
-    // 1- Add bridge always # 1
-    ADM_videoFilterBridge *bridge=new ADM_videoFilterBridge(startAt,endAt);
-    chain-&gt;push_back(bridge);
-    return chain;
-}
-/**
-        \fn destroyVideoFilterChain
-        \brief Destroy a filter chain
-*/
-bool                 destroyVideoFilterChain(ADM_videoFilterChain *chain)
-{
-    ADM_assert(chain-&gt;size());
-    for(int i=0;i&lt;chain-&gt;size();i++)
-    {
-        ADM_coreVideoFilter *filter=(*chain)[i];
-        delete filter;
-    }
-    chain-&gt;erase(chain-&gt;begin(),chain-&gt;end()-1);
-    return true;
-}
-
-// EOF

Deleted: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/ADM_videoFilterBridge.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/ADM_videoFilterBridge.cpp	2009-06-15 17:47:18 UTC (rev 4921)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/ADM_videoFilterBridge.cpp	2009-06-15 17:47:21 UTC (rev 4922)
@@ -1,93 +0,0 @@
-/***************************************************************************
-                          \fn ADM_videoFilterBridge
-                          \brief Interface between editor &amp; filter chain
-                           (c) Mean 2009
-
-
-
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include &quot;ADM_default.h&quot;
-#include &quot;ADM_videoFilterBridge.h&quot;
-#include &quot;ADM_editor/ADM_edit.hxx&quot;
-extern ADM_Composer *video_body;
-/**
-    \fn ADM_videoFilterBridge
-
-*/
-ADM_videoFilterBridge::ADM_videoFilterBridge(uint64_t startTime, uint64_t endTime) : ADM_coreVideoFilter(NULL,NULL)
-{
-    printf(&quot;[VideoFilterBridge] Creating bridge from %&quot;LU&quot; s to %&quot;LU&quot; s\n&quot;,(uint32_t)(startTime/1000000LL),(uint32_t)(endTime/1000000LL));
-    this-&gt;startTime=startTime;
-    this-&gt;endTime=endTime;
-    
-    aviInfo fo;
-    video_body-&gt;getVideoInfo(&amp;fo);
-    bridgeInfo.width=fo.width;
-    bridgeInfo.height=fo.height;
-    bridgeInfo.frameIncrement=video_body-&gt;getFrameIncrement();
-    bridgeInfo.totalDuration=video_body-&gt;getVideoDuration();
-    bridgeInfo.frameIncrement=video_body-&gt;getFrameIncrement();
-    rewind();
-}
-/**
-    \fn rewind
-    \brief go or return to the original position...
-*/
-bool ADM_videoFilterBridge::rewind(void)
-{
-    video_body-&gt;GoToTime(startTime);
-    return true;
-}
-
-/**
-    \fn ADM_videoFilterBridge
-
-*/
-ADM_videoFilterBridge::~ADM_videoFilterBridge()
-{
-
-}
-/**
-    \fn getNextFrame
-    \brief
-*/
-bool         ADM_videoFilterBridge::getNextFrame(ADMImage *image)
-{
-again:
-    bool r=   video_body-&gt;NextPicture(image);
-    if(r==false) return false;
-    // Translate pts if any
-    int64_t pts=image-&gt;Pts;
-    if(pts&gt;endTime)
-    {
-        printf(&quot;[VideoBridge] This frame is too late (%&quot;LU&quot; vs %&quot;LU&quot;)\n&quot;,pts,startTime);
-        return false;
-    }
-    if(pts&lt;startTime) 
-    {
-            printf(&quot;[VideoBridge] This frame is too early (%&quot;LU&quot; vs %&quot;LU&quot;)\n&quot;,pts,endTime);
-            goto again;
-    }
-    // Rescale time
-    image-&gt;Pts-=startTime;
-    return true;
-}
-/**
-    \fn ADM_videoFilterBridge
-
-*/
-FilterInfo  *ADM_videoFilterBridge::getInfo(void)
-{
-    return &bridgeInfo;
-}
-// EOF

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/CMakeLists.txt	2009-06-15 17:47:18 UTC (rev 4921)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/src/CMakeLists.txt	2009-06-15 17:47:21 UTC (rev 4922)
@@ -7,8 +7,3 @@
 
 INSTALL(TARGETS ADM_coreVideoFilter RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib  ARCHIVE DESTINATION lib)
 
-SET(ADM_internalVideoFilter_SRCS 
-	ADM_videoFilterBridge.cpp
-        ADM_filterChain.cpp
-)
-#ADD_LIBRARY(ADM_internalVideoFilter STATIC ${ADM_internalVideoFilter_SRCS})

Added: branches/avidemux_2.6_branch_mean/cmake/admCoreIncludes.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admCoreIncludes.cmake	2009-06-15 17:47:18 UTC (rev 4921)
+++ branches/avidemux_2.6_branch_mean/cmake/admCoreIncludes.cmake	2009-06-15 17:47:21 UTC (rev 4922)
@@ -0,0 +1,19 @@
+INCLUDE_DIRECTORIES(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux_core)
+INCLUDE_DIRECTORIES(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux_core/ADM_core/include)
+INCLUDE_DIRECTORIES(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux_core/ADM_ffmpeg)
+INCLUDE_DIRECTORIES(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux_core/ADM_coreAudioFilter/include)
+INCLUDE_DIRECTORIES(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux_core/ADM_coreAudioParser/include)
+INCLUDE_DIRECTORIES(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux_core/ADM_coreAudio/include)
+INCLUDE_DIRECTORIES(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux_core/ADM_coreAudioDevice/include)
+INCLUDE_DIRECTORIES(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux_core/ADM_coreAudioEncoder/include)
+INCLUDE_DIRECTORIES(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux_core/ADM_coreDemuxer/include)
+INCLUDE_DIRECTORIES(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux_core/ADM_coreDemuxerMpeg/include)
+INCLUDE_DIRECTORIES(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux_core/ADM_coreImage/include)
+INCLUDE_DIRECTORIES(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux_core/ADM_coreMuxer/include)
+INCLUDE_DIRECTORIES(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux_core/ADM_coreUI/include)
+INCLUDE_DIRECTORIES(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux_core/ADM_coreUtils/include)
+INCLUDE_DIRECTORIES(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux_core/ADM_coreVideoEncoder/include)
+INCLUDE_DIRECTORIES(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux_core/ADM_coreVideoFilter/include)
+INCLUDE_DIRECTORIES(${AVIDEMUX_TOP_SOURCE_DIR}/avidemux_core/ADM_ffmpeg)
+INCLUDE_DIRECTORIES(${AVIDEMUX_CORE_BUILD_DIR}/config)
+


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002137.html">[Avidemux-svn-commit] r4921 - in	branches/avidemux_2.6_branch_mean/avidemux: common/ADM_render	gtk gtk/ADM_userInterfaces gtk/ADM_userInterfaces/ADM_dialog	gtk/ADM_userInterfaces/ADM_filters gtk/ADM_userInterfaces/ADM_gui2	gtk/ADM_userInterfaces/ADM_ocr	gtk/ADM_userInterfaces/ADM_toolkit_gtk
</A></li>
	<LI>Next message: <A HREF="002139.html">[Avidemux-svn-commit] r4923 - in	branches/avidemux_2.6_branch_mean/avidemux: common	common/ADM_audiocodec common/ADM_codecs common/ADM_commonUI	common/ADM_libraries/ADM_xvidratectl common/ADM_mpegIndexer gtk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2138">[ date ]</a>
              <a href="thread.html#2138">[ thread ]</a>
              <a href="subject.html#2138">[ subject ]</a>
              <a href="author.html#2138">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
