<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r6071 - in	branches/avidemux_2.5_branch_gruntster: avidemux	avidemux/ADM_audiocodec avidemux/ADM_audiofilter	avidemux/ADM_toolkit avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog	avidemux/ADM_userInterfaces/ADM_commonUI cmake cmake/patches
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2010-April/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r6071%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster%3A%20avidemux%0A%09avidemux/ADM_audiocodec%20avidemux/ADM_audiofilter%0A%09avidemux/ADM_toolkit%20avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog%0A%09avidemux/ADM_userInterfaces/ADM_commonUI%20cmake%20cmake/patches&In-Reply-To=%3C201004061252.o36CqDig006558%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003274.html">
   <LINK REL="Next"  HREF="003276.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r6071 - in	branches/avidemux_2.5_branch_gruntster: avidemux	avidemux/ADM_audiocodec avidemux/ADM_audiofilter	avidemux/ADM_toolkit avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog	avidemux/ADM_userInterfaces/ADM_commonUI cmake cmake/patches</H1>
    <B>gruntster at mail.berlios.de</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r6071%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster%3A%20avidemux%0A%09avidemux/ADM_audiocodec%20avidemux/ADM_audiofilter%0A%09avidemux/ADM_toolkit%20avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog%0A%09avidemux/ADM_userInterfaces/ADM_commonUI%20cmake%20cmake/patches&In-Reply-To=%3C201004061252.o36CqDig006558%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r6071 - in	branches/avidemux_2.5_branch_gruntster: avidemux	avidemux/ADM_audiocodec avidemux/ADM_audiofilter	avidemux/ADM_toolkit avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog	avidemux/ADM_userInterfaces/ADM_commonUI cmake cmake/patches">gruntster at mail.berlios.de
       </A><BR>
    <I>Tue Apr  6 14:52:13 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003274.html">[Avidemux-svn-commit] r6070 -	branches/avidemux_2.5_branch_gruntster/addons/avisynthproxy
</A></li>
        <LI>Next message: <A HREF="003276.html">[Avidemux-svn-commit] r6072 -	branches/avidemux_2.6_branch_mean/avidemux/qt4/ADM_userInterfaces/ADM_gui
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3275">[ date ]</a>
              <a href="thread.html#3275">[ thread ]</a>
              <a href="subject.html#3275">[ subject ]</a>
              <a href="author.html#3275">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: gruntster
Date: 2010-04-06 14:52:04 +0200 (Tue, 06 Apr 2010)
New Revision: 6071

Removed:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiocodec/ADM_audiocodeclist.h
Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audiodeng_buildfilters.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audiofilter_buildchain.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_toolkit/automation.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/cmake/admConfigSummary.cmake
   branches/avidemux_2.5_branch_gruntster/cmake/config.h.cmake
   branches/avidemux_2.5_branch_gruntster/cmake/patches/libavformat_flvenc.c.patch
Log:
[misc] minor clean ups

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiocodec/ADM_audiocodeclist.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiocodec/ADM_audiocodeclist.h	2010-04-06 12:49:08 UTC (rev 6070)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiocodec/ADM_audiocodeclist.h	2010-04-06 12:52:04 UTC (rev 6071)
@@ -1,34 +0,0 @@
-
-#ifndef CODECA_LIST
-#define CODECA_LIST
-#if 0
-typedef struct {
-        const char *name;
-        const char *menuName;
-        AUDIOENCODER codec;
-        uint32_t     wavTag;
-}CODECLIST;
-
- const CODECLIST myCodecList[]=
-{
-                {&quot;copy&quot;,&quot;Copy&quot;, AUDIOENC_COPY,WAV_PCM},
-#ifdef HAVE_LIBMP3LAME
-                {&quot;lame&quot;,&quot;MP3 (LAME)&quot;, AUDIOENC_MP3,WAV_MP3},
-#endif
-#ifdef USE_FAAC
-                {&quot;aac&quot;,&quot;AAC (FAAC)&quot;, AUDIOENC_FAAC,WAV_AAC},
-#endif
-#ifdef USE_VORBIS
-                {&quot;vorbis&quot;,&quot;Vorbis&quot;, AUDIOENC_VORBIS,WAV_OGG},
-#endif
-#ifdef USE_AFTEN
-                {&quot;aften&quot;,&quot;AC3 (Aften)&quot;, AUDIOENC_AFTEN,WAV_AC3},
-#endif
-                {&quot;twolame&quot;,&quot;MP2 (TwoLAME)&quot;, AUDIOENC_2LAME,WAV_MP2},
-                {&quot;mp2&quot;, &quot;MP2 (lavc)&quot;, AUDIOENC_MP2,WAV_MP2},
-                {&quot;ac3&quot;, &quot;AC3 (lavc)&quot;,AUDIOENC_AC3,WAV_AC3},
-                {&quot;none&quot;, &quot;WAV PCM&quot;,AUDIOENC_NONE,WAV_PCM},
-                {&quot;lpcm&quot;, &quot;WAV LPCM&quot;,AUDIOENC_LPCM,WAV_LPCM}
-};
-#endif
-#endif

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audiodeng_buildfilters.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audiodeng_buildfilters.cpp	2010-04-06 12:49:08 UTC (rev 6070)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audiodeng_buildfilters.cpp	2010-04-06 12:52:04 UTC (rev 6071)
@@ -26,10 +26,6 @@
 
 
 #include &quot;audioencoder.h&quot;
-
-#include &quot;ADM_audiocodec/ADM_audiocodeclist.h&quot;
-
-
 #include &quot;audiofilter_bridge.h&quot;
 #include &quot;audiofilter_mixer.h&quot;
 #include &quot;audiofilter_normalize.h&quot;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audiofilter_buildchain.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audiofilter_buildchain.cpp	2010-04-06 12:49:08 UTC (rev 6070)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_audiofilter/audiofilter_buildchain.cpp	2010-04-06 12:52:04 UTC (rev 6071)
@@ -31,9 +31,6 @@
 
 /* ************* Encoder *********** */
 
-#include &quot;ADM_audiocodec/ADM_audiocodeclist.h&quot;
-
-
 #include &quot;prefs.h&quot;
 
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_toolkit/automation.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_toolkit/automation.cpp	2010-04-06 12:49:08 UTC (rev 6070)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_toolkit/automation.cpp	2010-04-06 12:52:04 UTC (rev 6071)
@@ -397,10 +397,8 @@
 {
 	if(!strcasecmp(p,&quot;MP2&quot;))
 		audio_selectCodecByTag(WAV_MP2);
-#ifdef USE_FAAC
 	else if(!strcasecmp(p,&quot;AAC&quot;))
-		audioCodecSetcodec( AUDIOENC_FAAC );
-#endif
+		audio_selectCodecByTag( WAV_AAC );
 	else if(!strcasecmp(p,&quot;AC3&quot;))
 		audio_selectCodecByTag( WAV_AC3 );
 	else if(!strcasecmp(p,&quot;MP3&quot;))

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp	2010-04-06 12:49:08 UTC (rev 6070)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp	2010-04-06 12:52:04 UTC (rev 6071)
@@ -6,7 +6,6 @@
 
 #include &quot;ADM_audiofilter/audioprocess.hxx&quot;
 #include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
-//#include &quot;ADM_audiocodec/ADM_audiocodeclist.h&quot;
 
 extern uint32_t audioEncoderGetNumberOfEncoders(void);
 extern const char  *audioEncoderGetDisplayName(uint32_t i);
@@ -93,20 +92,6 @@
   GtkWidget *vbox1;
   GtkWidget *optionmenu_CodecList;
   GtkWidget *menu1;
-  GtkWidget *uncompressed;
-  GtkWidget *ffmpeg_mpeg_audio;
-  GtkWidget *ffmpeg_ac3_2_channels1;
-  #ifdef HAVE_LIBMP3LAME
-  GtkWidget *lame_mp1;
-  #endif
-    #ifdef USE_VORBIS
-  GtkWidget *vorbis;
-  #endif
-
-#ifdef USE_FAAC
-  GtkWidget *faac;
-#endif
-  GtkWidget *toolame,*libtoolame;
   GtkWidget *buttonConfigure;
   GtkWidget *dialog_action_area1;
   GtkWidget *cancelbutton1;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp	2010-04-06 12:49:08 UTC (rev 6070)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp	2010-04-06 12:52:04 UTC (rev 6071)
@@ -41,7 +41,7 @@
 
 uint8_t DIA_builtin(void)
 {
-  uint32_t altivec=0,freetype=0,win32=0;
+  uint32_t altivec=0,win32=0;
   uint32_t sdl=0,xvideo=0,x86=0,x86_64=0;
   uint32_t adm_powerpc=0,adm_gettext=0,adm_fontconfig=0;
 #ifdef USE_FONTCONFIG
@@ -50,9 +50,6 @@
 #ifdef ADM_CPU_ALTIVEC
         altivec=1;
 #endif
-#ifdef USE_FREETYPE
-        freetype=1;
-#endif
 #ifdef __WIN32
         win32=1;
 #endif
@@ -81,7 +78,6 @@
 
 
         diaElemNotch tFontConfig(adm_fontconfig, QT_TR_NOOP(&quot;Fontconfig&quot;));
-	diaElemNotch tFreetype(freetype, QT_TR_NOOP(&quot;FreeType 2&quot;));
 	diaElemNotch tGettext(adm_gettext, QT_TR_NOOP(&quot;Gettext&quot;));
 	diaElemNotch tSdl(sdl, QT_TR_NOOP(&quot;SDL&quot;));
 	diaElemNotch tXvideo(xvideo, QT_TR_NOOP(&quot;XVideo&quot;));
@@ -93,10 +89,10 @@
 
 
 
-	diaElem *libsElems[] = {&amp;tFontConfig, &amp;tFreetype, &amp;tGettext, &amp;tSdl, &amp;tXvideo};
+	diaElem *libsElems[] = {&amp;tFontConfig, &amp;tGettext, &amp;tSdl, &amp;tXvideo};
 	diaElem *CPUElems[] = {&amp;tAltivec, &amp;tPowerPc, &amp;tX86, &amp;tX86_64};
 
-	diaElemTabs tabLibs(QT_TR_NOOP(&quot;Libraries&quot;), 5, libsElems);
+	diaElemTabs tabLibs(QT_TR_NOOP(&quot;Libraries&quot;), 4, libsElems);
 	diaElemTabs tabCPU(QT_TR_NOOP(&quot;CPU&quot;), 4, CPUElems);
 
 	diaElemTabs *tabs[] = { &amp;tabLibs, &amp;tabCPU};

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/CMakeLists.txt	2010-04-06 12:49:08 UTC (rev 6070)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/CMakeLists.txt	2010-04-06 12:52:04 UTC (rev 6071)
@@ -398,37 +398,7 @@
 		TARGET_LINK_LIBRARIES(avidemux2_qt4 ${SDL_LIBRARY})
 	ENDIF (ADM_UI_QT4)
 ENDIF (USE_SDL)
-# LAME
-IF (HAVE_LIBMP3LAME)
-	ADD_LIB_ALL_TARGETS(&quot;${LAME_LIBRARY_DIR}&quot;)
-ENDIF (HAVE_LIBMP3LAME)
 
-# Vorbis
-IF (USE_VORBIS)
-	ADD_LIB_ALL_TARGETS(&quot;${VORBIS_LIBRARY_DIR}&quot;)
-	ADD_LIB_ALL_TARGETS(&quot;${VORBISENC_LIBRARY_DIR}&quot;)
-ENDIF (USE_VORBIS)
-
-# FAAC
-IF (USE_FAAC)
-	ADD_LIB_ALL_TARGETS(&quot;${FAAC_LIBRARY_DIR}&quot;)
-ENDIF (USE_FAAC)
-
-# Aften
-IF (USE_AFTEN)
-	ADD_LIB_ALL_TARGETS(&quot;${AFTEN_LIBRARY_DIR}&quot;)
-ENDIF (USE_AFTEN)
-
-# Secret Rabbit Code
-IF (USE_SRC)
-	ADD_LIB_ALL_TARGETS(&quot;${SRC_LIBRARY_DIR}&quot;)
-ENDIF (USE_SRC)
-
-# Xvid
-IF (USE_XVID_4)
-	ADD_LIB_ALL_TARGETS(&quot;${XVID_LIBRARY_DIR}&quot;)
-ENDIF (USE_XVID_4)
-
 ###########################################
 # UI Specific
 ###########################################

Modified: branches/avidemux_2.5_branch_gruntster/cmake/admConfigSummary.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/admConfigSummary.cmake	2010-04-06 12:49:08 UTC (rev 6070)
+++ branches/avidemux_2.5_branch_gruntster/cmake/admConfigSummary.cmake	2010-04-06 12:52:04 UTC (rev 6071)
@@ -23,18 +23,6 @@
 ADM_DISPLAY(&quot;GTK+      &quot; &quot;${ADM_UI_GTK}&quot;)
 ADM_DISPLAY(&quot;Qt 4      &quot; &quot;${ADM_UI_QT4}&quot;)
 
-#MESSAGE(&quot;*** Audio Device  ***&quot;)
-#ADM_DISPLAY(&quot;ALSA      &quot; &quot;${ALSA_SUPPORT}&quot; &quot;${ALSA_CAPABLE}&quot;)
-#ADM_DISPLAY(&quot;aRts      &quot; &quot;${USE_ARTS}&quot; &quot;${ARTS_CAPABLE}&quot;)
-#ADM_DISPLAY(&quot;ESD       &quot; &quot;${USE_ESD}&quot; &quot;${ESD_CAPABLE}&quot;)
-#ADM_DISPLAY(&quot;JACK      &quot; &quot;${USE_JACK}&quot; &quot;${JACK_CAPABLE}&quot;)
-#ADM_DISPLAY(&quot;OSS       &quot; &quot;${OSS_SUPPORT}&quot; &quot;${OSS_CAPABLE}&quot;)
-#ADM_DISPLAY(&quot;SRC       &quot; &quot;${USE_SRC}&quot; &quot;${JACK_CAPABLE}&quot;)
-
-#IF (WIN32)
-#	ADM_DISPLAY(&quot;Win32     &quot; 1)
-#ENDIF (WIN32)
-
 MESSAGE(&quot;*** Miscellaneous ***&quot;)
 ADM_DISPLAY(&quot;gettext   &quot; &quot;${HAVE_GETTEXT}&quot;)
 ADM_DISPLAY(&quot;SDL       &quot; &quot;${USE_SDL}&quot;)

Modified: branches/avidemux_2.5_branch_gruntster/cmake/config.h.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/config.h.cmake	2010-04-06 12:49:08 UTC (rev 6070)
+++ branches/avidemux_2.5_branch_gruntster/cmake/config.h.cmake	2010-04-06 12:52:04 UTC (rev 6071)
@@ -26,9 +26,6 @@
 // GTK+ uses X11 framework
 #cmakedefine HAVE_GTK_X11
 
-/* Define to 1 if you have the `mp3lame' library (-lmp3lame). */
-#cmakedefine HAVE_LIBMP3LAME
-
 /* OSS detected */
 #cmakedefine OSS_SUPPORT
 
@@ -51,31 +48,17 @@
 /* Jack detected */
 #cmakedefine USE_JACK
 
-/* Use faac audio enccoder */
-#cmakedefine USE_FAAC
-
 /* FFmpeg */
 #define USE_FFMPEG
 
-/* FreeType2 detected */
-#cmakedefine USE_FREETYPE
-
 /* Libxml2 is available */
 #cmakedefine USE_LIBXML2
 
-#define USE_MJPEG
-
-/* use libsamplerate */
-#cmakedefine USE_SRC
-
 #if ${CONFIG_HEADER_TYPE} == ADM_BUILD_GTK || ${CONFIG_HEADER_TYPE} == ADM_BUILD_QT4
 /* SDL detected */
 #cmakedefine USE_SDL
 #endif
 
-/* Vorbis detected */
-#cmakedefine USE_VORBIS
-
 #if ${CONFIG_HEADER_TYPE} == ADM_BUILD_GTK || ${CONFIG_HEADER_TYPE} == ADM_BUILD_QT4
 /* XVideo detected */
 #cmakedefine USE_XV

Modified: branches/avidemux_2.5_branch_gruntster/cmake/patches/libavformat_flvenc.c.patch
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/patches/libavformat_flvenc.c.patch	2010-04-06 12:49:08 UTC (rev 6070)
+++ branches/avidemux_2.5_branch_gruntster/cmake/patches/libavformat_flvenc.c.patch	2010-04-06 12:52:04 UTC (rev 6071)
@@ -1,24 +1,6 @@
 *** libavformat/flvenc.c.old	Sat Mar 27 20:05:43 2010
 --- libavformat/flvenc.c	Sat Mar 27 20:05:43 2010
 ***************
-*** 406,412 ****
-      &quot;video/x-flv&quot;,
-      &quot;flv&quot;,
-      sizeof(FLVContext),
-! #if CONFIG_LIBMP3LAME
-      CODEC_ID_MP3,
-  #else // CONFIG_LIBMP3LAME
-      CODEC_ID_ADPCM_SWF,
---- 406,413 ----
-      &quot;video/x-flv&quot;,
-      &quot;flv&quot;,
-      sizeof(FLVContext),
-! //MEANX #if CONFIG_LIBMP3LAME
-! #ifdef HAVE_LIBMP3LAME
-      CODEC_ID_MP3,
-  #else // CONFIG_LIBMP3LAME
-      CODEC_ID_ADPCM_SWF,
-***************
 *** 418,420 ****
 --- 419,429 ----
       .codec_tag= (const AVCodecTag* const []){flv_video_codec_ids, flv_audio_codec_ids, 0},


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003274.html">[Avidemux-svn-commit] r6070 -	branches/avidemux_2.5_branch_gruntster/addons/avisynthproxy
</A></li>
	<LI>Next message: <A HREF="003276.html">[Avidemux-svn-commit] r6072 -	branches/avidemux_2.6_branch_mean/avidemux/qt4/ADM_userInterfaces/ADM_gui
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3275">[ date ]</a>
              <a href="thread.html#3275">[ thread ]</a>
              <a href="subject.html#3275">[ subject ]</a>
              <a href="author.html#3275">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
