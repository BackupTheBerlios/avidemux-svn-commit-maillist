<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r7083 - in branches/avidemux_2.6_branch_mean:	avidemux_core/ADM_coreVideoEncoder/include	avidemux_core/ADM_coreVideoEncoder/src cmake	myOwnPlugins/videoFilter
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r7083%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux_core/ADM_coreVideoEncoder/include%0A%09avidemux_core/ADM_coreVideoEncoder/src%20cmake%0A%09myOwnPlugins/videoFilter&In-Reply-To=%3C20110326185045.7F0544807EC%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004244.html">
   <LINK REL="Next"  HREF="004246.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r7083 - in branches/avidemux_2.6_branch_mean:	avidemux_core/ADM_coreVideoEncoder/include	avidemux_core/ADM_coreVideoEncoder/src cmake	myOwnPlugins/videoFilter</H1>
    <B>mean at mail.berlios.de</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r7083%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux_core/ADM_coreVideoEncoder/include%0A%09avidemux_core/ADM_coreVideoEncoder/src%20cmake%0A%09myOwnPlugins/videoFilter&In-Reply-To=%3C20110326185045.7F0544807EC%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r7083 - in branches/avidemux_2.6_branch_mean:	avidemux_core/ADM_coreVideoEncoder/include	avidemux_core/ADM_coreVideoEncoder/src cmake	myOwnPlugins/videoFilter">mean at mail.berlios.de
       </A><BR>
    <I>Sat Mar 26 19:50:45 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004244.html">[Avidemux-svn-commit] r7082 - in	branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoEncoder:	. x264
</A></li>
        <LI>Next message: <A HREF="004246.html">[Avidemux-svn-commit] r7084 - in branches/avidemux_2.6_branch_mean: avidemux_plugins avidemux_plugins/ADM_audioEncoders/lame avidemux_plugins/ADM_audioEncoders/vorbis avidemux_plugins/ADM_muxers/muxerAvi avidemux_plugins/ADM_muxers/muxerMkv avidemux_plugins/ADM_muxers/muxerMp4 avidemux_plugins/ADM_muxers/muxerMp4v2 avidemux_plugins/ADM_muxers/muxerffPS avidemux_plugins/ADM_muxers/muxerffTS avidemux_plugins/ADM_videoEncoder/ffMpeg2 avidemux_plugins/ADM_videoEncoder/huff avidemux_plugins/ADM_videoEncoder/jpeg avidemux_plugins/ADM_videoEncoder/x264 avidemux_plugins/ADM_videoEncoder/xvid4 avidemux_plugins/ADM_videoFilters6/addBorder avidemux_plugins/ADM_videoFilters6/ass avidemux_plugins/ADM_videoFilters6/blackenBorder avidemux_plugins/ADM_videoFilters6/colorYUV avidemux_plugins/ADM_videoFilters6/crop avidemux_plugins/ADM_videoFilters6/fastConvolution avidemux_plugins/ADM_videoFilters6/kernelDeint avidemux_plugins/ADM_videoFilters6/largeMedian avidemux_plugins/ADM_videoFilters6/lavDeint avide mux_plugins/ADM_videoFilters6/logo avidemux_plugins/ADM_videoFilters6/mplayerDenoise3D avidemux_plugins/ADM_videoFilters6/resampleFps avidemux_plugins/ADM_videoFilters6/resize avidemux_plugins/ADM_videoFilters6/rotate avidemux_plugins/ADM_videoFilters6/vdpauFilters avidemux_plugins/ADM_videoFilters6/yadif cmake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4245">[ date ]</a>
              <a href="thread.html#4245">[ thread ]</a>
              <a href="subject.html#4245">[ subject ]</a>
              <a href="author.html#4245">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2011-03-26 19:50:45 +0100 (Sat, 26 Mar 2011)
New Revision: 7083

Added:
   branches/avidemux_2.6_branch_mean/cmake/admSerialization.py
Modified:
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/include/FFcodecContext.h
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/include/FFcodecSettings.h
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/FFcodecContext.conf
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/FFcodecContext_desc.cpp
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/FFcodecSettings.conf
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/FFcodecSettings_desc.cpp
   branches/avidemux_2.6_branch_mean/myOwnPlugins/videoFilter/logo.conf
   branches/avidemux_2.6_branch_mean/myOwnPlugins/videoFilter/logo.h
   branches/avidemux_2.6_branch_mean/myOwnPlugins/videoFilter/logo_desc.cpp
Log:
[core/build] Switch to admSerialization.py, supports nesting, begin updating conf files

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/include/FFcodecContext.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/include/FFcodecContext.h	2011-03-21 06:54:41 UTC (rev 7082)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/include/FFcodecContext.h	2011-03-26 18:50:45 UTC (rev 7083)
@@ -1,47 +1,47 @@
-// Automatically generated, do not edit!
+// automatically generated by admSerialization.py, do not edit!
+// automatically generated by admSerialization.py do not edit
 #ifndef ADM_FFcodecContext_CONF_H
 #define ADM_FFcodecContext_CONF_H
 typedef struct {
-   uint32_t version;
-   uint32_t MultiThreaded;
-   uint32_t me_method;
-   uint32_t _GMC;
-   uint32_t _4MV;
-   uint32_t _QPEL;
-   uint32_t _TRELLIS_QUANT;
-   uint32_t qmin;
-   uint32_t qmax;
-   uint32_t max_qdiff;
-   uint32_t max_b_frames;
-   uint32_t mpeg_quant;
-   uint32_t is_luma_elim_threshold;
-   uint32_t luma_elim_threshold;
-   uint32_t is_chroma_elim_threshold;
-   uint32_t chroma_elim_threshold;
-   float lumi_masking;
-   int32_t is_lumi_masking;
-   float dark_masking;
-   int32_t is_dark_masking;
-   float qcompress;
-   float qblur;
-   uint32_t minBitrate;
-   uint32_t maxBitrate;
-   uint32_t user_matrix;
-   uint32_t gop_size;
-   uint32_t interlaced;
-   uint32_t bff;
-   uint32_t widescreen;
-   uint32_t mb_eval;
-   uint32_t vratetol;
-   uint32_t is_temporal_cplx_masking;
-   float temporal_cplx_masking;
-   uint32_t is_spatial_cplx_masking;
-   float spatial_cplx_masking;
-   uint32_t _NORMALIZE_AQP;
-   uint32_t use_xvid_ratecontrol;
-   uint32_t bufferSize;
-   uint32_t override_ratecontrol;
-   uint32_t dummy;
+uint32_t version;
+uint32_t MultiThreaded;
+uint32_t me_method;
+uint32_t _GMC;
+uint32_t _4MV;
+uint32_t _QPEL;
+uint32_t _TRELLIS_QUANT;
+uint32_t qmin;
+uint32_t qmax;
+uint32_t max_qdiff;
+uint32_t max_b_frames;
+uint32_t mpeg_quant;
+uint32_t is_luma_elim_threshold;
+uint32_t luma_elim_threshold;
+uint32_t is_chroma_elim_threshold;
+uint32_t chroma_elim_threshold;
+float lumi_masking;
+int32_t is_lumi_masking;
+float dark_masking;
+int32_t is_dark_masking;
+float qcompress;
+float qblur;
+uint32_t minBitrate;
+uint32_t maxBitrate;
+uint32_t user_matrix;
+uint32_t gop_size;
+uint32_t interlaced;
+uint32_t bff;
+uint32_t widescreen;
+uint32_t mb_eval;
+uint32_t vratetol;
+uint32_t is_temporal_cplx_masking;
+float temporal_cplx_masking;
+uint32_t is_spatial_cplx_masking;
+float spatial_cplx_masking;
+uint32_t _NORMALIZE_AQP;
+uint32_t use_xvid_ratecontrol;
+uint32_t bufferSize;
+uint32_t override_ratecontrol;
+uint32_t dummy;
 }FFcodecContext;
-#endif //FFcodecContext
-//EOF
+#endif

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/include/FFcodecSettings.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/include/FFcodecSettings.h	2011-03-21 06:54:41 UTC (rev 7082)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/include/FFcodecSettings.h	2011-03-26 18:50:45 UTC (rev 7083)
@@ -1,9 +1,9 @@
-// Automatically generated, do not edit!
+// automatically generated by admSerialization.py, do not edit!
+// automatically generated by admSerialization.py do not edit
 #ifndef ADM_FFcodecSettings_CONF_H
 #define ADM_FFcodecSettings_CONF_H
 typedef struct {
-   COMPRES_PARAMS params;
-   FFcodecContext lavcSettings;
+COMPRES_PARAMS params;
+FFcodecContext lavcSettings;
 }FFcodecSettings;
-#endif //FFcodecSettings
-//EOF
+#endif

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/FFcodecContext.conf
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/FFcodecContext.conf	2011-03-21 06:54:41 UTC (rev 7082)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/FFcodecContext.conf	2011-03-26 18:50:45 UTC (rev 7083)
@@ -1,3 +1,4 @@
+FFcodecContext{
 uint32_t:version;
 uint32_t:MultiThreaded;
 uint32_t:me_method;
@@ -38,3 +39,4 @@
 uint32_t:bufferSize;		// in KBYTES !!!!
 uint32_t:override_ratecontrol;
 uint32_t:dummy;
+}

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/FFcodecContext_desc.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/FFcodecContext_desc.cpp	2011-03-21 06:54:41 UTC (rev 7082)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/FFcodecContext_desc.cpp	2011-03-26 18:50:45 UTC (rev 7083)
@@ -1,44 +1,43 @@
-// Automatically generated, do not edit!
 const ADM_paramList FFcodecContext_param[]={
- {&quot;version&quot;,offsetof( FFcodecContext,version),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;MultiThreaded&quot;,offsetof( FFcodecContext,MultiThreaded),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;me_method&quot;,offsetof( FFcodecContext,me_method),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;_GMC&quot;,offsetof( FFcodecContext,_GMC),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;_4MV&quot;,offsetof( FFcodecContext,_4MV),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;_QPEL&quot;,offsetof( FFcodecContext,_QPEL),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;_TRELLIS_QUANT&quot;,offsetof( FFcodecContext,_TRELLIS_QUANT),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;qmin&quot;,offsetof( FFcodecContext,qmin),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;qmax&quot;,offsetof( FFcodecContext,qmax),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;max_qdiff&quot;,offsetof( FFcodecContext,max_qdiff),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;max_b_frames&quot;,offsetof( FFcodecContext,max_b_frames),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;mpeg_quant&quot;,offsetof( FFcodecContext,mpeg_quant),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;is_luma_elim_threshold&quot;,offsetof( FFcodecContext,is_luma_elim_threshold),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;luma_elim_threshold&quot;,offsetof( FFcodecContext,luma_elim_threshold),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;is_chroma_elim_threshold&quot;,offsetof( FFcodecContext,is_chroma_elim_threshold),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;chroma_elim_threshold&quot;,offsetof( FFcodecContext,chroma_elim_threshold),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;lumi_masking&quot;,offsetof( FFcodecContext,lumi_masking),&quot;float&quot;,ADM_param_float},
- {&quot;is_lumi_masking&quot;,offsetof( FFcodecContext,is_lumi_masking),&quot;int32_t&quot;,ADM_param_int32_t},
- {&quot;dark_masking&quot;,offsetof( FFcodecContext,dark_masking),&quot;float&quot;,ADM_param_float},
- {&quot;is_dark_masking&quot;,offsetof( FFcodecContext,is_dark_masking),&quot;int32_t&quot;,ADM_param_int32_t},
- {&quot;qcompress&quot;,offsetof( FFcodecContext,qcompress),&quot;float&quot;,ADM_param_float},
- {&quot;qblur&quot;,offsetof( FFcodecContext,qblur),&quot;float&quot;,ADM_param_float},
- {&quot;minBitrate&quot;,offsetof( FFcodecContext,minBitrate),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;maxBitrate&quot;,offsetof( FFcodecContext,maxBitrate),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;user_matrix&quot;,offsetof( FFcodecContext,user_matrix),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;gop_size&quot;,offsetof( FFcodecContext,gop_size),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;interlaced&quot;,offsetof( FFcodecContext,interlaced),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;bff&quot;,offsetof( FFcodecContext,bff),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;widescreen&quot;,offsetof( FFcodecContext,widescreen),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;mb_eval&quot;,offsetof( FFcodecContext,mb_eval),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;vratetol&quot;,offsetof( FFcodecContext,vratetol),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;is_temporal_cplx_masking&quot;,offsetof( FFcodecContext,is_temporal_cplx_masking),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;temporal_cplx_masking&quot;,offsetof( FFcodecContext,temporal_cplx_masking),&quot;float&quot;,ADM_param_float},
- {&quot;is_spatial_cplx_masking&quot;,offsetof( FFcodecContext,is_spatial_cplx_masking),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;spatial_cplx_masking&quot;,offsetof( FFcodecContext,spatial_cplx_masking),&quot;float&quot;,ADM_param_float},
- {&quot;_NORMALIZE_AQP&quot;,offsetof( FFcodecContext,_NORMALIZE_AQP),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;use_xvid_ratecontrol&quot;,offsetof( FFcodecContext,use_xvid_ratecontrol),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;bufferSize&quot;,offsetof( FFcodecContext,bufferSize),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;override_ratecontrol&quot;,offsetof( FFcodecContext,override_ratecontrol),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;dummy&quot;,offsetof( FFcodecContext,dummy),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;version&quot;,offsetof(FFcodecContext,version),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;MultiThreaded&quot;,offsetof(FFcodecContext,MultiThreaded),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;me_method&quot;,offsetof(FFcodecContext,me_method),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;_GMC&quot;,offsetof(FFcodecContext,_GMC),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;_4MV&quot;,offsetof(FFcodecContext,_4MV),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;_QPEL&quot;,offsetof(FFcodecContext,_QPEL),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;_TRELLIS_QUANT&quot;,offsetof(FFcodecContext,_TRELLIS_QUANT),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;qmin&quot;,offsetof(FFcodecContext,qmin),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;qmax&quot;,offsetof(FFcodecContext,qmax),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;max_qdiff&quot;,offsetof(FFcodecContext,max_qdiff),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;max_b_frames&quot;,offsetof(FFcodecContext,max_b_frames),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;mpeg_quant&quot;,offsetof(FFcodecContext,mpeg_quant),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;is_luma_elim_threshold&quot;,offsetof(FFcodecContext,is_luma_elim_threshold),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;luma_elim_threshold&quot;,offsetof(FFcodecContext,luma_elim_threshold),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;is_chroma_elim_threshold&quot;,offsetof(FFcodecContext,is_chroma_elim_threshold),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;chroma_elim_threshold&quot;,offsetof(FFcodecContext,chroma_elim_threshold),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;lumi_masking&quot;,offsetof(FFcodecContext,lumi_masking),&quot;float&quot;,ADM_param_float},
+ {&quot;is_lumi_masking&quot;,offsetof(FFcodecContext,is_lumi_masking),&quot;int32_t&quot;,ADM_param_int32_t},
+ {&quot;dark_masking&quot;,offsetof(FFcodecContext,dark_masking),&quot;float&quot;,ADM_param_float},
+ {&quot;is_dark_masking&quot;,offsetof(FFcodecContext,is_dark_masking),&quot;int32_t&quot;,ADM_param_int32_t},
+ {&quot;qcompress&quot;,offsetof(FFcodecContext,qcompress),&quot;float&quot;,ADM_param_float},
+ {&quot;qblur&quot;,offsetof(FFcodecContext,qblur),&quot;float&quot;,ADM_param_float},
+ {&quot;minBitrate&quot;,offsetof(FFcodecContext,minBitrate),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;maxBitrate&quot;,offsetof(FFcodecContext,maxBitrate),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;user_matrix&quot;,offsetof(FFcodecContext,user_matrix),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;gop_size&quot;,offsetof(FFcodecContext,gop_size),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;interlaced&quot;,offsetof(FFcodecContext,interlaced),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;bff&quot;,offsetof(FFcodecContext,bff),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;widescreen&quot;,offsetof(FFcodecContext,widescreen),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;mb_eval&quot;,offsetof(FFcodecContext,mb_eval),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;vratetol&quot;,offsetof(FFcodecContext,vratetol),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;is_temporal_cplx_masking&quot;,offsetof(FFcodecContext,is_temporal_cplx_masking),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;temporal_cplx_masking&quot;,offsetof(FFcodecContext,temporal_cplx_masking),&quot;float&quot;,ADM_param_float},
+ {&quot;is_spatial_cplx_masking&quot;,offsetof(FFcodecContext,is_spatial_cplx_masking),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;spatial_cplx_masking&quot;,offsetof(FFcodecContext,spatial_cplx_masking),&quot;float&quot;,ADM_param_float},
+ {&quot;_NORMALIZE_AQP&quot;,offsetof(FFcodecContext,_NORMALIZE_AQP),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;use_xvid_ratecontrol&quot;,offsetof(FFcodecContext,use_xvid_ratecontrol),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;bufferSize&quot;,offsetof(FFcodecContext,bufferSize),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;override_ratecontrol&quot;,offsetof(FFcodecContext,override_ratecontrol),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;dummy&quot;,offsetof(FFcodecContext,dummy),&quot;uint32_t&quot;,ADM_param_uint32_t},
 {NULL,0,NULL}
 };

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/FFcodecSettings.conf
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/FFcodecSettings.conf	2011-03-21 06:54:41 UTC (rev 7082)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/FFcodecSettings.conf	2011-03-26 18:50:45 UTC (rev 7083)
@@ -1,2 +1,4 @@
+FFcodecSettings{
 video_encode:params
 lavcodec_context:lavcSettings
+}

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/FFcodecSettings_desc.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/FFcodecSettings_desc.cpp	2011-03-21 06:54:41 UTC (rev 7082)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoEncoder/src/FFcodecSettings_desc.cpp	2011-03-26 18:50:45 UTC (rev 7083)
@@ -1,6 +1,5 @@
-// Automatically generated, do not edit!
 const ADM_paramList FFcodecSettings_param[]={
- {&quot;params&quot;,offsetof( FFcodecSettings,params),&quot;COMPRES_PARAMS&quot;,ADM_param_video_encode},
- {&quot;lavcSettings&quot;,offsetof( FFcodecSettings,lavcSettings),&quot;FFcodecContext&quot;,ADM_param_lavcodec_context},
+ {&quot;params&quot;,offsetof(FFcodecSettings,params),&quot;COMPRES_PARAMS&quot;,ADM_param_video_encode},
+ {&quot;lavcSettings&quot;,offsetof(FFcodecSettings,lavcSettings),&quot;FFcodecContext&quot;,ADM_param_lavcodec_context},
 {NULL,0,NULL}
 };

Added: branches/avidemux_2.6_branch_mean/cmake/admSerialization.py
===================================================================
--- branches/avidemux_2.6_branch_mean/cmake/admSerialization.py	                        (rev 0)
+++ branches/avidemux_2.6_branch_mean/cmake/admSerialization.py	2011-03-26 18:50:45 UTC (rev 7083)
@@ -0,0 +1,146 @@
+# Take a .conf file and generate :
+# 1- Couple header   (.h)
+# 2- Couple template (_desc.cpp)
+# 3....
+# (c) Mean 2011
+#
+import os
+import re
+import sys
+
+structName=r'foostruct'
+allCTypes=dict()
+allATypes=dict()
+allCTypes[&quot;uint32_t&quot;]=&quot;uint32_t&quot;
+allCTypes[&quot;int32_t&quot;]=&quot;int32_t&quot;
+allCTypes[&quot;bool&quot;]=&quot;bool&quot;
+allCTypes[&quot;string&quot;]=&quot;char *&quot;
+allCTypes[&quot;bool&quot;]=&quot;bool&quot;
+allCTypes[&quot;float&quot;]=&quot;float&quot;
+allCTypes[&quot;video_encode&quot;]=&quot;COMPRES_PARAMS&quot;
+allCTypes[&quot;lavcodec_context&quot;]=&quot;FFcodecContext&quot;
+
+allATypes[&quot;uint32_t&quot;]=&quot;ADM_param_uint32_t&quot;
+allATypes[&quot;int32_t&quot;]=&quot;ADM_param_int32_t&quot;
+allATypes[&quot;float&quot;]=&quot;ADM_param_float&quot;
+allATypes[&quot;bool&quot;]=&quot;ADM_param_bool&quot;
+allATypes[&quot;string&quot;]=&quot;ADM_param_string&quot;
+allATypes[&quot;float&quot;]=&quot;ADM_param_float&quot;
+allATypes[&quot;video_encode&quot;]=&quot;ADM_param_video_encode&quot;
+allATypes[&quot;lavcodec_context&quot;]=&quot;ADM_param_lavcodec_context&quot;
+
+fullPath=&quot;&quot;
+nested=list()
+gotName=False
+def usage():
+    print(&quot;python admSerialization xxxx.conf&quot;)
+#########################################################
+def outputHeader(st):
+    tab=&quot;\t&quot;*len(nested)
+    headerFile.write(tab+str(st)+&quot;\n&quot;)
+    pass
+def outputDesc(st):
+    descFile.write(str(st)+&quot;\n&quot;)
+    pass
+
+#
+def processLine(varType,varName):
+    if(not varType in allCTypes):
+        print(&quot;Unknown var &quot;+str(varType))
+        exit(1)
+    if(not varType in allATypes):
+        print(&quot;Unknown var &quot;+str(varType))
+        exit(1)
+    ctype=allCTypes[varType].strip()
+    atype=allATypes[varType].strip()
+    outputHeader( str(ctype)+&quot; &quot;+str(varName)+&quot;;&quot;)
+    if(len(fullPath)==0):
+        fullName=varName
+    else:
+        fullName=fullPath+&quot;.&quot;+varName
+    outputDesc(&quot; {\&quot;&quot;+str(varName)+&quot;\&quot;,offsetof(&quot;+str(structName)+&quot;,&quot;+str(fullName)+&quot;),\&quot;&quot;+str(ctype)+&quot;\&quot;,&quot;+str(atype)+&quot;},&quot;)
+###################################################################################################################################
+def writeDescHead():
+    outputHeader(&quot;// automatically generated by admSerialization.py, do not edit!&quot;)
+    outputDesc(&quot;const ADM_paramList &quot;+str(structName)+&quot;_param[]={&quot;)
+
+def writeDescFooter():
+    outputDesc(&quot;{NULL,0,NULL}&quot;)
+    outputDesc(&quot;};&quot;)
+
+
+def writeHeaderHead():
+    outputHeader( &quot;// automatically generated by admSerialization.py do not edit&quot;)
+    outputHeader(  &quot;#ifndef ADM_&quot;+str(structName)+&quot;_CONF_H&quot;)
+    outputHeader(  &quot;#define ADM_&quot;+str(structName)+&quot;_CONF_H&quot;)
+    outputHeader(  &quot;typedef struct {&quot;)
+
+def writeHeadFooter():
+    outputHeader(&quot;}&quot;+structName+&quot;;&quot;)
+    outputHeader(&quot;#endif&quot;)
+###################################################################################################################################
+# Main...
+###################################################################################################################################
+nb=len(sys.argv)
+if(nb!=2):       
+    usage()
+    exit(1)
+print(&quot;Processing &quot;+str(sys.argv[1]))
+inputFile=sys.argv[1]
+if(not os.path.isfile(inputFile)):
+    print &quot;no such file &quot;+str(inputFile)
+    exit(1)
+structName=re.sub(r'.conf',r'',inputFile)
+#
+headerFileName=re.sub(r'.conf',r'.h',inputFile)
+headerFile=open(headerFileName,'w')
+#
+descFileName=re.sub(r'.conf',r'_desc.cpp',inputFile)
+descFile=open(descFileName,'w')
+#
+f=open(inputFile,'r')
+while(1):
+    line=f.readline()
+    if(len(line)==0):
+        break # eof
+    # Remove #....
+    if(line.find(r'{')!=-1):
+        #
+        structs=re.sub(r'{.*$',r'',line).strip()
+        if(len(nested)==0 and gotName==False): # first one = struct Name
+            structName=structs
+            print(&quot;Our structure is :&quot;+str(structName))
+            writeDescHead()
+            writeHeaderHead()
+            gotName=True
+        else:  # else we have structure inside structure
+            outputHeader(&quot;struct &quot;+structs+&quot; {&quot;)
+            nested.append(structs)
+            fullPath=&quot;.&quot;.join(nested)
+    elif(line.find(r'}')!=-1):
+        if(len(nested)!=0):
+            nested.pop()
+            outputHeader(&quot;}&quot;+str(structName)+&quot;;&quot;)
+        fullPath=&quot;.&quot;.join(nested)
+    elif(line.find(':')!=-1):
+        if(gotName==False):
+            print &quot;No structure name !&quot;
+            exit(1)
+        line=re.sub(r'#.*$',r'',line)
+        line=re.sub(r'//.*$',r'',line)
+        # split by :
+        (varType,varName)=line.split(r':')
+        #
+        varName=re.sub(r';.*$',r'',varName)
+        varName=varName.strip()
+        varType=varType.strip()
+        processLine(varType,varName)
+    else:
+        print &quot;Invalid line &quot;+str(line)
+        exit(1)
+f.close()
+writeDescFooter()
+writeHeadFooter()
+headerFile.close()
+descFile.close()
+print &quot;All done&quot;

Modified: branches/avidemux_2.6_branch_mean/myOwnPlugins/videoFilter/logo.conf
===================================================================
--- branches/avidemux_2.6_branch_mean/myOwnPlugins/videoFilter/logo.conf	2011-03-21 06:54:41 UTC (rev 7082)
+++ branches/avidemux_2.6_branch_mean/myOwnPlugins/videoFilter/logo.conf	2011-03-26 18:50:45 UTC (rev 7083)
@@ -1,3 +1,4 @@
+logo{
 uint32_t:x
 uint32_t:y
 uint32_t:alpha
@@ -2 +3,2 @@
 string:logo
+}

Modified: branches/avidemux_2.6_branch_mean/myOwnPlugins/videoFilter/logo.h
===================================================================
--- branches/avidemux_2.6_branch_mean/myOwnPlugins/videoFilter/logo.h	2011-03-21 06:54:41 UTC (rev 7082)
+++ branches/avidemux_2.6_branch_mean/myOwnPlugins/videoFilter/logo.h	2011-03-26 18:50:45 UTC (rev 7083)
@@ -1,11 +1,11 @@
-// Automatically generated, do not edit!
+// automatically generated by admSerialization.py, do not edit!
+// automatically generated by admSerialization.py do not edit
 #ifndef ADM_logo_CONF_H
 #define ADM_logo_CONF_H
 typedef struct {
-   uint32_t x;
-   uint32_t y;
-   uint32_t alpha;
-   char * logo;
+uint32_t x;
+uint32_t y;
+uint32_t alpha;
+char * logo;
 }logo;
-#endif //logo
-//EOF
+#endif

Modified: branches/avidemux_2.6_branch_mean/myOwnPlugins/videoFilter/logo_desc.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/myOwnPlugins/videoFilter/logo_desc.cpp	2011-03-21 06:54:41 UTC (rev 7082)
+++ branches/avidemux_2.6_branch_mean/myOwnPlugins/videoFilter/logo_desc.cpp	2011-03-26 18:50:45 UTC (rev 7083)
@@ -1,8 +1,7 @@
-// Automatically generated, do not edit!
 const ADM_paramList logo_param[]={
- {&quot;x&quot;,offsetof( logo,x),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;y&quot;,offsetof( logo,y),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;alpha&quot;,offsetof( logo,alpha),&quot;uint32_t&quot;,ADM_param_uint32_t},
- {&quot;logo&quot;,offsetof( logo,logo),&quot;char *&quot;,ADM_param_string},
+ {&quot;x&quot;,offsetof(logo,x),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;y&quot;,offsetof(logo,y),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;alpha&quot;,offsetof(logo,alpha),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;logo&quot;,offsetof(logo,logo),&quot;char *&quot;,ADM_param_string},
 {NULL,0,NULL}
 };


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004244.html">[Avidemux-svn-commit] r7082 - in	branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoEncoder:	. x264
</A></li>
	<LI>Next message: <A HREF="004246.html">[Avidemux-svn-commit] r7084 - in branches/avidemux_2.6_branch_mean: avidemux_plugins avidemux_plugins/ADM_audioEncoders/lame avidemux_plugins/ADM_audioEncoders/vorbis avidemux_plugins/ADM_muxers/muxerAvi avidemux_plugins/ADM_muxers/muxerMkv avidemux_plugins/ADM_muxers/muxerMp4 avidemux_plugins/ADM_muxers/muxerMp4v2 avidemux_plugins/ADM_muxers/muxerffPS avidemux_plugins/ADM_muxers/muxerffTS avidemux_plugins/ADM_videoEncoder/ffMpeg2 avidemux_plugins/ADM_videoEncoder/huff avidemux_plugins/ADM_videoEncoder/jpeg avidemux_plugins/ADM_videoEncoder/x264 avidemux_plugins/ADM_videoEncoder/xvid4 avidemux_plugins/ADM_videoFilters6/addBorder avidemux_plugins/ADM_videoFilters6/ass avidemux_plugins/ADM_videoFilters6/blackenBorder avidemux_plugins/ADM_videoFilters6/colorYUV avidemux_plugins/ADM_videoFilters6/crop avidemux_plugins/ADM_videoFilters6/fastConvolution avidemux_plugins/ADM_videoFilters6/kernelDeint avidemux_plugins/ADM_videoFilters6/largeMedian avidemux_plugins/ADM_videoFilters6/lavDeint avide mux_plugins/ADM_videoFilters6/logo avidemux_plugins/ADM_videoFilters6/mplayerDenoise3D avidemux_plugins/ADM_videoFilters6/resampleFps avidemux_plugins/ADM_videoFilters6/resize avidemux_plugins/ADM_videoFilters6/rotate avidemux_plugins/ADM_videoFilters6/vdpauFilters avidemux_plugins/ADM_videoFilters6/yadif cmake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4245">[ date ]</a>
              <a href="thread.html#4245">[ thread ]</a>
              <a href="subject.html#4245">[ subject ]</a>
              <a href="author.html#4245">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
