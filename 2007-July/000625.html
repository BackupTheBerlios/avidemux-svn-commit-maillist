<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r3348 - in	branches/avidemux_2.4_branch/avidemux: . ADM_ocr	ADM_userInterfaces/ADM_GTK/ADM_gui2	ADM_userInterfaces/ADM_GTK/ADM_ocr	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialog
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2007-July/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3348%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20.%20ADM_ocr%0A%09ADM_userInterfaces/ADM_GTK/ADM_gui2%0A%09ADM_userInterfaces/ADM_GTK/ADM_ocr%0A%09ADM_userInterfaces/ADM_NONE/ADM_dialog%0A%09ADM_userInterfaces/ADM_QT4/ADM_dialog&In-Reply-To=%3C200707081752.l68Hq6Ni001666%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000624.html">
   <LINK REL="Next"  HREF="000626.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r3348 - in	branches/avidemux_2.4_branch/avidemux: . ADM_ocr	ADM_userInterfaces/ADM_GTK/ADM_gui2	ADM_userInterfaces/ADM_GTK/ADM_ocr	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialog</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3348%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20.%20ADM_ocr%0A%09ADM_userInterfaces/ADM_GTK/ADM_gui2%0A%09ADM_userInterfaces/ADM_GTK/ADM_ocr%0A%09ADM_userInterfaces/ADM_NONE/ADM_dialog%0A%09ADM_userInterfaces/ADM_QT4/ADM_dialog&In-Reply-To=%3C200707081752.l68Hq6Ni001666%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r3348 - in	branches/avidemux_2.4_branch/avidemux: . ADM_ocr	ADM_userInterfaces/ADM_GTK/ADM_gui2	ADM_userInterfaces/ADM_GTK/ADM_ocr	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialog">mean at mail.berlios.de
       </A><BR>
    <I>Sun Jul  8 19:52:06 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000624.html">[Avidemux-svn-commit] r3347 -	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr
</A></li>
        <LI>Next message: <A HREF="000626.html">[Avidemux-svn-commit] r3349 -	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#625">[ date ]</a>
              <a href="thread.html#625">[ thread ]</a>
              <a href="subject.html#625">[ subject ]</a>
              <a href="author.html#625">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2007-07-08 19:52:05 +0200 (Sun, 08 Jul 2007)
New Revision: 3348

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_ocr/adm_glyph.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_ocr/adm_glyph.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_menumap.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/adm_editglyph.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_jobs.cpp
   branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
   branches/avidemux_2.4_branch/avidemux/gui_action.hxx
Log:
very basic glyphset editor

Modified: branches/avidemux_2.4_branch/avidemux/ADM_ocr/adm_glyph.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_ocr/adm_glyph.cpp	2007-07-08 17:19:30 UTC (rev 3347)
+++ branches/avidemux_2.4_branch/avidemux/ADM_ocr/adm_glyph.cpp	2007-07-08 17:52:05 UTC (rev 3348)
@@ -135,5 +135,23 @@
             return nw;
 
 }
+/**
+    \fn glyphSearchFather
+    \brief Returns the father of the &quot;in&quot; glyph.
+    @param in : Glyph to search the father of
+    @param head : head of glyph list
+    @returns father or NULL if not found
+*/
+admGlyph *glyphSearchFather(admGlyph *in,admGlyph *head )
+{
+  admGlyph *cur=head;
+  while(cur)
+  {
+    if(!cur-&gt;next) return NULL;
+    if(cur-&gt;next==in) return cur; 
+    cur=cur-&gt;next;
+  }
+  return NULL;
+}
 /*************************************************/
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_ocr/adm_glyph.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_ocr/adm_glyph.h	2007-07-08 17:19:30 UTC (rev 3347)
+++ branches/avidemux_2.4_branch/avidemux/ADM_ocr/adm_glyph.h	2007-07-08 17:52:05 UTC (rev 3348)
@@ -59,4 +59,5 @@
 uint8_t  destroyGlyphTree(admGlyph *startGlyph);
 uint8_t  insertInGlyphTree(admGlyph *startGlyph, admGlyph *candidate);
 admGlyph *clippedGlyph(admGlyph *in);
+admGlyph *glyphSearchFather(admGlyph *in,admGlyph *head );
 #endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp	2007-07-08 17:19:30 UTC (rev 3347)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp	2007-07-08 17:52:05 UTC (rev 3348)
@@ -36,11 +36,11 @@
   GtkWidget *menuitem1;
   GtkWidget *menuitem1_menu;
   GtkWidget *open_video1;
-  GtkWidget *image8196;
+  GtkWidget *image8246;
   GtkWidget *append_video1;
-  GtkWidget *image8197;
+  GtkWidget *image8247;
   GtkWidget *save_stuff;
-  GtkWidget *image8198;
+  GtkWidget *image8248;
   GtkWidget *save_stuff_menu;
   GtkWidget *save_as_avi1;
   GtkWidget *separator1;
@@ -50,41 +50,41 @@
   GtkWidget *close1;
   GtkWidget *separator3;
   GtkWidget *save_project1;
-  GtkWidget *image8199;
+  GtkWidget *image8249;
   GtkWidget *save_project_as1;
-  GtkWidget *image8200;
+  GtkWidget *image8250;
   GtkWidget *run_script1;
-  GtkWidget *image8201;
+  GtkWidget *image8251;
   GtkWidget *add_to_joblist1;
   GtkWidget *joblist1;
   GtkWidget *separator16;
   GtkWidget *connect_to_avsproxy1;
   GtkWidget *separator18;
   GtkWidget *video_informations1;
-  GtkWidget *image8202;
+  GtkWidget *image8252;
   GtkWidget *avi_muxer_options1;
   GtkWidget *separator4;
   GtkWidget *quit1;
-  GtkWidget *image8203;
+  GtkWidget *image8253;
   GtkWidget *menuitem2;
   GtkWidget *menuitem2_menu;
   GtkWidget *reset_edits1;
-  GtkWidget *image8204;
+  GtkWidget *image8254;
   GtkWidget *separator5;
   GtkWidget *cut1;
-  GtkWidget *image8205;
+  GtkWidget *image8255;
   GtkWidget *copy1;
-  GtkWidget *image8206;
+  GtkWidget *image8256;
   GtkWidget *paste1;
-  GtkWidget *image8207;
+  GtkWidget *image8257;
   GtkWidget *delete1;
-  GtkWidget *image8208;
+  GtkWidget *image8258;
   GtkWidget *separator6;
   GtkWidget *set_marker_a1;
   GtkWidget *set_marker_b1;
   GtkWidget *separator7;
   GtkWidget *preferences1;
-  GtkWidget *image8209;
+  GtkWidget *image8259;
   GtkWidget *view1;
   GtkWidget *view1_menu;
   GtkWidget *toolbar1;
@@ -113,13 +113,13 @@
   GtkWidget *build_vbr_time_map1;
   GtkWidget *separator11;
   GtkWidget *save_audio1;
-  GtkWidget *image8210;
+  GtkWidget *image8260;
   GtkWidget *audio_encoder1;
   GtkWidget *filters2;
   GtkWidget *tools1;
   GtkWidget *tools1_menu;
   GtkWidget *calculator1;
-  GtkWidget *image8211;
+  GtkWidget *image8261;
   GtkWidget *separator12;
   GtkWidget *rebuild_frames;
   GtkWidget *check_frames;
@@ -128,6 +128,7 @@
   GtkWidget *separator13;
   GtkWidget *v2v;
   GtkWidget *ocr_vobsub_2_srt;
+  GtkWidget *edit_glyph1;
   GtkWidget *separator17;
   GtkWidget *see_hex1;
   GtkWidget *help1;
@@ -140,35 +141,35 @@
   GtkWidget *go1;
   GtkWidget *go1_menu;
   GtkWidget *play_video1;
-  GtkWidget *image8212;
+  GtkWidget *image8262;
   GtkWidget *previous_frame1;
-  GtkWidget *image8213;
+  GtkWidget *image8263;
   GtkWidget *next_frame1;
-  GtkWidget *image8214;
+  GtkWidget *image8264;
   GtkWidget *previous_intra_frame1;
-  GtkWidget *image8215;
+  GtkWidget *image8265;
   GtkWidget *next_intra_frame1;
-  GtkWidget *image8216;
+  GtkWidget *image8266;
   GtkWidget *search_previous_black_frame1;
   GtkWidget *search_next_black_frame1;
   GtkWidget *first_frame1;
-  GtkWidget *image8217;
+  GtkWidget *image8267;
   GtkWidget *last_frame1;
-  GtkWidget *image8218;
+  GtkWidget *image8268;
   GtkWidget *separator14;
   GtkWidget *go_to_marker_a1;
   GtkWidget *go_to_marker_b1;
   GtkWidget *separator15;
   GtkWidget *jum_to_frame1;
-  GtkWidget *image8219;
+  GtkWidget *image8269;
   GtkWidget *jump_to_time1;
-  GtkWidget *image8220;
+  GtkWidget *image8270;
   GtkWidget *custom1;
   GtkWidget *help2;
   GtkWidget *help2_menu;
   GtkWidget *show_builtin_support1;
   GtkWidget *about1;
-  GtkWidget *image8221;
+  GtkWidget *image8271;
   GtkWidget *toolbar2;
   GtkIconSize tmp_toolbar_icon_size;
   GtkWidget *menutoolbuttonOpen;
@@ -294,9 +295,9 @@
                               GDK_O, (GdkModifierType)( GDK_CONTROL_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8196 = gtk_image_new_from_stock (&quot;gtk-open&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8196);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (open_video1), image8196);
+  image8246 = gtk_image_new_from_stock (&quot;gtk-open&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8246);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (open_video1), image8246);
 
   append_video1 = gtk_image_menu_item_new_with_mnemonic (_(&quot;_Append...&quot;));
   gtk_widget_show (append_video1);
@@ -305,17 +306,17 @@
                               GDK_A, (GdkModifierType)( GDK_CONTROL_MASK | GDK_MOD1_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8197 = gtk_image_new_from_stock (&quot;gtk-add&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8197);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (append_video1), image8197);
+  image8247 = gtk_image_new_from_stock (&quot;gtk-add&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8247);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (append_video1), image8247);
 
   save_stuff = gtk_image_menu_item_new_with_mnemonic (_(&quot;_Save&quot;));
   gtk_widget_show (save_stuff);
   gtk_container_add (GTK_CONTAINER (menuitem1_menu), save_stuff);
 
-  image8198 = gtk_image_new_from_stock (&quot;gtk-save&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8198);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (save_stuff), image8198);
+  image8248 = gtk_image_new_from_stock (&quot;gtk-save&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8248);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (save_stuff), image8248);
 
   save_stuff_menu = gtk_menu_new ();
   gtk_menu_item_set_submenu (GTK_MENU_ITEM (save_stuff), save_stuff_menu);
@@ -357,25 +358,25 @@
   gtk_widget_show (save_project1);
   gtk_container_add (GTK_CONTAINER (menuitem1_menu), save_project1);
 
-  image8199 = gtk_image_new_from_stock (&quot;gtk-save&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8199);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (save_project1), image8199);
+  image8249 = gtk_image_new_from_stock (&quot;gtk-save&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8249);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (save_project1), image8249);
 
   save_project_as1 = gtk_image_menu_item_new_with_mnemonic (_(&quot;Save P_roject As...&quot;));
   gtk_widget_show (save_project_as1);
   gtk_container_add (GTK_CONTAINER (menuitem1_menu), save_project_as1);
 
-  image8200 = gtk_image_new_from_stock (&quot;gtk-save-as&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8200);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (save_project_as1), image8200);
+  image8250 = gtk_image_new_from_stock (&quot;gtk-save-as&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8250);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (save_project_as1), image8250);
 
   run_script1 = gtk_image_menu_item_new_with_mnemonic (_(&quot;_Load/Run Project...&quot;));
   gtk_widget_show (run_script1);
   gtk_container_add (GTK_CONTAINER (menuitem1_menu), run_script1);
 
-  image8201 = gtk_image_new_from_stock (&quot;gtk-execute&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8201);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (run_script1), image8201);
+  image8251 = gtk_image_new_from_stock (&quot;gtk-execute&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8251);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (run_script1), image8251);
 
   add_to_joblist1 = gtk_menu_item_new_with_mnemonic (_(&quot;A_dd to Joblist...&quot;));
   gtk_widget_show (add_to_joblist1);
@@ -409,9 +410,9 @@
                               GDK_Return, (GdkModifierType)( GDK_MOD1_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8202 = gtk_image_new_from_stock (&quot;gtk-properties&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8202);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (video_informations1), image8202);
+  image8252 = gtk_image_new_from_stock (&quot;gtk-properties&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8252);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (video_informations1), image8252);
 
   avi_muxer_options1 = gtk_menu_item_new_with_mnemonic (_(&quot;AVI _Muxer Options&quot;));
   gtk_widget_show (avi_muxer_options1);
@@ -429,9 +430,9 @@
                               GDK_Q, (GdkModifierType)( GDK_CONTROL_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8203 = gtk_image_new_from_stock (&quot;gtk-quit&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8203);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (quit1), image8203);
+  image8253 = gtk_image_new_from_stock (&quot;gtk-quit&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8253);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (quit1), image8253);
 
   menuitem2 = gtk_menu_item_new_with_mnemonic (_(&quot;_Edit&quot;));
   gtk_widget_show (menuitem2);
@@ -444,9 +445,9 @@
   gtk_widget_show (reset_edits1);
   gtk_container_add (GTK_CONTAINER (menuitem2_menu), reset_edits1);
 
-  image8204 = gtk_image_new_from_stock (&quot;gtk-undo&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8204);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (reset_edits1), image8204);
+  image8254 = gtk_image_new_from_stock (&quot;gtk-undo&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8254);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (reset_edits1), image8254);
 
   separator5 = gtk_separator_menu_item_new ();
   gtk_widget_show (separator5);
@@ -460,9 +461,9 @@
                               GDK_X, (GdkModifierType)( GDK_CONTROL_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8205 = gtk_image_new_from_stock (&quot;gtk-cut&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8205);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (cut1), image8205);
+  image8255 = gtk_image_new_from_stock (&quot;gtk-cut&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8255);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (cut1), image8255);
 
   copy1 = gtk_image_menu_item_new_with_mnemonic (_(&quot;_Copy&quot;));
   gtk_widget_show (copy1);
@@ -471,9 +472,9 @@
                               GDK_C, (GdkModifierType)( GDK_CONTROL_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8206 = gtk_image_new_from_stock (&quot;gtk-copy&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8206);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (copy1), image8206);
+  image8256 = gtk_image_new_from_stock (&quot;gtk-copy&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8256);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (copy1), image8256);
 
   paste1 = gtk_image_menu_item_new_with_mnemonic (_(&quot;_Paste&quot;));
   gtk_widget_show (paste1);
@@ -482,9 +483,9 @@
                               GDK_V, (GdkModifierType)( GDK_CONTROL_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8207 = gtk_image_new_from_stock (&quot;gtk-paste&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8207);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (paste1), image8207);
+  image8257 = gtk_image_new_from_stock (&quot;gtk-paste&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8257);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (paste1), image8257);
 
   delete1 = gtk_image_menu_item_new_with_mnemonic (_(&quot;_Delete&quot;));
   gtk_widget_show (delete1);
@@ -493,9 +494,9 @@
                               GDK_Delete, (GdkModifierType)( 0 ),
                               GTK_ACCEL_VISIBLE);
 
-  image8208 = gtk_image_new_from_stock (&quot;gtk-remove&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8208);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (delete1), image8208);
+  image8258 = gtk_image_new_from_stock (&quot;gtk-remove&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8258);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (delete1), image8258);
 
   separator6 = gtk_separator_menu_item_new ();
   gtk_widget_show (separator6);
@@ -525,9 +526,9 @@
   gtk_widget_show (preferences1);
   gtk_container_add (GTK_CONTAINER (menuitem2_menu), preferences1);
 
-  image8209 = gtk_image_new_from_stock (&quot;gtk-preferences&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8209);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (preferences1), image8209);
+  image8259 = gtk_image_new_from_stock (&quot;gtk-preferences&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8259);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (preferences1), image8259);
 
   view1 = gtk_menu_item_new_with_mnemonic (_(&quot;_View&quot;));
   gtk_widget_show (view1);
@@ -681,9 +682,9 @@
                               GDK_S, (GdkModifierType)( GDK_CONTROL_MASK | GDK_MOD1_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8210 = gtk_image_new_from_stock (&quot;gtk-save-as&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8210);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (save_audio1), image8210);
+  image8260 = gtk_image_new_from_stock (&quot;gtk-save-as&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8260);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (save_audio1), image8260);
 
   audio_encoder1 = gtk_menu_item_new_with_mnemonic (_(&quot;_Encoder&quot;));
   gtk_widget_show (audio_encoder1);
@@ -710,9 +711,9 @@
                               GDK_F7, (GdkModifierType)( 0 ),
                               GTK_ACCEL_VISIBLE);
 
-  image8211 = create_pixmap (mainWindow, &quot;gnome-calculator_small.xpm&quot;);
-  gtk_widget_show (image8211);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (calculator1), image8211);
+  image8261 = create_pixmap (mainWindow, &quot;gnome-calculator_small.xpm&quot;);
+  gtk_widget_show (image8261);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (calculator1), image8261);
 
   separator12 = gtk_separator_menu_item_new ();
   gtk_widget_show (separator12);
@@ -748,6 +749,10 @@
   gtk_widget_show (ocr_vobsub_2_srt);
   gtk_container_add (GTK_CONTAINER (tools1_menu), ocr_vobsub_2_srt);
 
+  edit_glyph1 = gtk_menu_item_new_with_mnemonic (_(&quot;Edit glyph&quot;));
+  gtk_widget_show (edit_glyph1);
+  gtk_container_add (GTK_CONTAINER (tools1_menu), edit_glyph1);
+
   separator17 = gtk_separator_menu_item_new ();
   gtk_widget_show (separator17);
   gtk_container_add (GTK_CONTAINER (tools1_menu), separator17);
@@ -798,9 +803,9 @@
                               GDK_P, (GdkModifierType)( 0 ),
                               GTK_ACCEL_VISIBLE);
 
-  image8212 = gtk_image_new_from_stock (&quot;gtk-media-play&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8212);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (play_video1), image8212);
+  image8262 = gtk_image_new_from_stock (&quot;gtk-media-play&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8262);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (play_video1), image8262);
 
   previous_frame1 = gtk_image_menu_item_new_with_mnemonic (_(&quot;P_revious Frame&quot;));
   gtk_widget_show (previous_frame1);
@@ -809,9 +814,9 @@
                               GDK_KP_4, (GdkModifierType)( 0 ),
                               GTK_ACCEL_VISIBLE);
 
-  image8213 = gtk_image_new_from_stock (&quot;gtk-media-previous&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8213);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (previous_frame1), image8213);
+  image8263 = gtk_image_new_from_stock (&quot;gtk-media-previous&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8263);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (previous_frame1), image8263);
 
   next_frame1 = gtk_image_menu_item_new_with_mnemonic (_(&quot;_Next Frame&quot;));
   gtk_widget_show (next_frame1);
@@ -820,9 +825,9 @@
                               GDK_KP_6, (GdkModifierType)( 0 ),
                               GTK_ACCEL_VISIBLE);
 
-  image8214 = gtk_image_new_from_stock (&quot;gtk-media-next&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8214);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (next_frame1), image8214);
+  image8264 = gtk_image_new_from_stock (&quot;gtk-media-next&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8264);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (next_frame1), image8264);
 
   previous_intra_frame1 = gtk_image_menu_item_new_with_mnemonic (_(&quot;Pr_evious Intra Frame&quot;));
   gtk_widget_show (previous_intra_frame1);
@@ -831,9 +836,9 @@
                               GDK_KP_2, (GdkModifierType)( 0 ),
                               GTK_ACCEL_VISIBLE);
 
-  image8215 = gtk_image_new_from_stock (&quot;gtk-media-rewind&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8215);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (previous_intra_frame1), image8215);
+  image8265 = gtk_image_new_from_stock (&quot;gtk-media-rewind&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8265);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (previous_intra_frame1), image8265);
 
   next_intra_frame1 = gtk_image_menu_item_new_with_mnemonic (_(&quot;Next _Intra Frame&quot;));
   gtk_widget_show (next_intra_frame1);
@@ -842,9 +847,9 @@
                               GDK_KP_8, (GdkModifierType)( 0 ),
                               GTK_ACCEL_VISIBLE);
 
-  image8216 = gtk_image_new_from_stock (&quot;gtk-media-forward&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8216);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (next_intra_frame1), image8216);
+  image8266 = gtk_image_new_from_stock (&quot;gtk-media-forward&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8266);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (next_intra_frame1), image8266);
 
   search_previous_black_frame1 = gtk_menu_item_new_with_mnemonic (_(&quot;Previou_s Black Frame&quot;));
   gtk_widget_show (search_previous_black_frame1);
@@ -861,9 +866,9 @@
                               GDK_Home, (GdkModifierType)( 0 ),
                               GTK_ACCEL_VISIBLE);
 
-  image8217 = gtk_image_new_from_stock (&quot;gtk-goto-first&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8217);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (first_frame1), image8217);
+  image8267 = gtk_image_new_from_stock (&quot;gtk-goto-first&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8267);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (first_frame1), image8267);
 
   last_frame1 = gtk_image_menu_item_new_with_mnemonic (_(&quot;_Last Frame&quot;));
   gtk_widget_show (last_frame1);
@@ -872,9 +877,9 @@
                               GDK_End, (GdkModifierType)( 0 ),
                               GTK_ACCEL_VISIBLE);
 
-  image8218 = gtk_image_new_from_stock (&quot;gtk-goto-last&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8218);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (last_frame1), image8218);
+  image8268 = gtk_image_new_from_stock (&quot;gtk-goto-last&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8268);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (last_frame1), image8268);
 
   separator14 = gtk_separator_menu_item_new ();
   gtk_widget_show (separator14);
@@ -907,9 +912,9 @@
                               GDK_F, (GdkModifierType)( GDK_CONTROL_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8219 = gtk_image_new_from_stock (&quot;gtk-jump-to&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8219);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (jum_to_frame1), image8219);
+  image8269 = gtk_image_new_from_stock (&quot;gtk-jump-to&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8269);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (jum_to_frame1), image8269);
 
   jump_to_time1 = gtk_image_menu_item_new_with_mnemonic (_(&quot;Jump to _Time...&quot;));
   gtk_widget_show (jump_to_time1);
@@ -918,9 +923,9 @@
                               GDK_T, (GdkModifierType)( GDK_CONTROL_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8220 = gtk_image_new_from_stock (&quot;gtk-jump-to&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8220);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (jump_to_time1), image8220);
+  image8270 = gtk_image_new_from_stock (&quot;gtk-jump-to&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8270);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (jump_to_time1), image8270);
 
   custom1 = gtk_menu_item_new_with_mnemonic (_(&quot;_Custom&quot;));
   gtk_widget_show (custom1);
@@ -941,9 +946,9 @@
   gtk_widget_show (about1);
   gtk_container_add (GTK_CONTAINER (help2_menu), about1);
 
-  image8221 = gtk_image_new_from_stock (&quot;gtk-about&quot;, GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8221);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (about1), image8221);
+  image8271 = gtk_image_new_from_stock (&quot;gtk-about&quot;, GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8271);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (about1), image8271);
 
   toolbar2 = gtk_toolbar_new ();
   gtk_widget_show (toolbar2);
@@ -1440,11 +1445,11 @@
   GLADE_HOOKUP_OBJECT (mainWindow, menuitem1, &quot;menuitem1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, menuitem1_menu, &quot;menuitem1_menu&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, open_video1, &quot;open_video1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8196, &quot;image8196&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8246, &quot;image8246&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, append_video1, &quot;append_video1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8197, &quot;image8197&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8247, &quot;image8247&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, save_stuff, &quot;save_stuff&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8198, &quot;image8198&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8248, &quot;image8248&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, save_stuff_menu, &quot;save_stuff_menu&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, save_as_avi1, &quot;save_as_avi1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, separator1, &quot;separator1&quot;);
@@ -1454,41 +1459,41 @@
   GLADE_HOOKUP_OBJECT (mainWindow, close1, &quot;close1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, separator3, &quot;separator3&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, save_project1, &quot;save_project1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8199, &quot;image8199&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8249, &quot;image8249&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, save_project_as1, &quot;save_project_as1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8200, &quot;image8200&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8250, &quot;image8250&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, run_script1, &quot;run_script1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8201, &quot;image8201&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8251, &quot;image8251&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, add_to_joblist1, &quot;add_to_joblist1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, joblist1, &quot;joblist1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, separator16, &quot;separator16&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, connect_to_avsproxy1, &quot;connect_to_avsproxy1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, separator18, &quot;separator18&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, video_informations1, &quot;video_informations1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8202, &quot;image8202&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8252, &quot;image8252&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, avi_muxer_options1, &quot;avi_muxer_options1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, separator4, &quot;separator4&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, quit1, &quot;quit1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8203, &quot;image8203&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8253, &quot;image8253&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, menuitem2, &quot;menuitem2&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, menuitem2_menu, &quot;menuitem2_menu&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, reset_edits1, &quot;reset_edits1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8204, &quot;image8204&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8254, &quot;image8254&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, separator5, &quot;separator5&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, cut1, &quot;cut1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8205, &quot;image8205&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8255, &quot;image8255&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, copy1, &quot;copy1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8206, &quot;image8206&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8256, &quot;image8256&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, paste1, &quot;paste1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8207, &quot;image8207&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8257, &quot;image8257&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, delete1, &quot;delete1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8208, &quot;image8208&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8258, &quot;image8258&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, separator6, &quot;separator6&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, set_marker_a1, &quot;set_marker_a1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, set_marker_b1, &quot;set_marker_b1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, separator7, &quot;separator7&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, preferences1, &quot;preferences1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8209, &quot;image8209&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8259, &quot;image8259&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, view1, &quot;view1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, view1_menu, &quot;view1_menu&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, toolbar1, &quot;toolbar1&quot;);
@@ -1517,13 +1522,13 @@
   GLADE_HOOKUP_OBJECT (mainWindow, build_vbr_time_map1, &quot;build_vbr_time_map1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, separator11, &quot;separator11&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, save_audio1, &quot;save_audio1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8210, &quot;image8210&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8260, &quot;image8260&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, audio_encoder1, &quot;audio_encoder1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, filters2, &quot;filters2&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, tools1, &quot;tools1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, tools1_menu, &quot;tools1_menu&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, calculator1, &quot;calculator1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8211, &quot;image8211&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8261, &quot;image8261&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, separator12, &quot;separator12&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, rebuild_frames, &quot;rebuild_frames&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, check_frames, &quot;check_frames&quot;);
@@ -1532,6 +1537,7 @@
   GLADE_HOOKUP_OBJECT (mainWindow, separator13, &quot;separator13&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, v2v, &quot;v2v&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, ocr_vobsub_2_srt, &quot;ocr_vobsub_2_srt&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, edit_glyph1, &quot;edit_glyph1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, separator17, &quot;separator17&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, see_hex1, &quot;see_hex1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, help1, &quot;help1&quot;);
@@ -1544,35 +1550,35 @@
   GLADE_HOOKUP_OBJECT (mainWindow, go1, &quot;go1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, go1_menu, &quot;go1_menu&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, play_video1, &quot;play_video1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8212, &quot;image8212&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8262, &quot;image8262&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, previous_frame1, &quot;previous_frame1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8213, &quot;image8213&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8263, &quot;image8263&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, next_frame1, &quot;next_frame1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8214, &quot;image8214&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8264, &quot;image8264&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, previous_intra_frame1, &quot;previous_intra_frame1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8215, &quot;image8215&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8265, &quot;image8265&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, next_intra_frame1, &quot;next_intra_frame1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8216, &quot;image8216&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8266, &quot;image8266&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, search_previous_black_frame1, &quot;search_previous_black_frame1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, search_next_black_frame1, &quot;search_next_black_frame1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, first_frame1, &quot;first_frame1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8217, &quot;image8217&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8267, &quot;image8267&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, last_frame1, &quot;last_frame1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8218, &quot;image8218&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8268, &quot;image8268&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, separator14, &quot;separator14&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, go_to_marker_a1, &quot;go_to_marker_a1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, go_to_marker_b1, &quot;go_to_marker_b1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, separator15, &quot;separator15&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, jum_to_frame1, &quot;jum_to_frame1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8219, &quot;image8219&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8269, &quot;image8269&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, jump_to_time1, &quot;jump_to_time1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8220, &quot;image8220&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8270, &quot;image8270&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, custom1, &quot;custom1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, help2, &quot;help2&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, help2_menu, &quot;help2_menu&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, show_builtin_support1, &quot;show_builtin_support1&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, about1, &quot;about1&quot;);
-  GLADE_HOOKUP_OBJECT (mainWindow, image8221, &quot;image8221&quot;);
+  GLADE_HOOKUP_OBJECT (mainWindow, image8271, &quot;image8271&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, toolbar2, &quot;toolbar2&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, menutoolbuttonOpen, &quot;menutoolbuttonOpen&quot;);
   GLADE_HOOKUP_OBJECT (mainWindow, toolitem11, &quot;toolitem11&quot;);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_menumap.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_menumap.h	2007-07-08 17:19:30 UTC (rev 3347)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_menumap.h	2007-07-08 17:52:05 UTC (rev 3348)
@@ -101,5 +101,6 @@
 CALLBACK(zoom_1_1                                   ,ACT_ZOOM_1_1);
 CALLBACK(zoom_2_1                                   ,ACT_ZOOM_2_1);
 CALLBACK(zoom_4_1                                   ,ACT_ZOOM_4_1);
+CALLBACK(edit_glyph1                                ,ACT_GLYPHEDIT);
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/CMakeLists.txt	2007-07-08 17:19:30 UTC (rev 3347)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/CMakeLists.txt	2007-07-08 17:52:05 UTC (rev 3348)
@@ -6,6 +6,7 @@
 #
 SET(${ADM_LIB}_SRCS
 adm_ocr.cpp
+adm_editglyph.cpp
 )
 ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
 ADD_ADM_LIB(${ADM_LIB} ADM_libraries)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/adm_editglyph.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/adm_editglyph.cpp	2007-07-08 17:19:30 UTC (rev 3347)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/adm_editglyph.cpp	2007-07-08 17:52:05 UTC (rev 3348)
@@ -34,6 +34,7 @@
 static GtkWidget *dialog;
 
 static uint8_t loadGlyph(char *name,admGlyph *head,uint32_t *outNb);
+static uint8_t saveGlyph(char *name,admGlyph *head,uint32_t nb);
 static gboolean glyphDraw( void );
 static void glyphUpdate(void );
 /**
@@ -76,12 +77,21 @@
   gtk_register_dialog(dialog);
   
   // Register callbacks
-  #define ASSOCIATE(x,y)   gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(x),y)
-  #define CONNECT(x,y,z) 	gtk_signal_connect(GTK_OBJECT(WID(x)), #y,GTK_SIGNAL_FUNC(z),   NULL);
+#define ASSOCIATE(x,y)   gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(x),y)
+#define CONNECT(x,y,z) 	gtk_signal_connect(GTK_OBJECT(WID(x)), #y,GTK_SIGNAL_FUNC(z),   NULL);
 #define ACTION_PREV 10
 #define ACTION_NEXT 20
+#define ACTION_PREV_EMPTY 30
+#define ACTION_NEXT_EMPTY 40
+#define ACTION_SAVE 50
+#define ACTION_DELETE 60
+  
   ASSOCIATE(buttonPrev,ACTION_PREV);
   ASSOCIATE(buttonNext,ACTION_NEXT);
+  ASSOCIATE(buttonEmptyPrev,ACTION_PREV_EMPTY);
+  ASSOCIATE(buttonNextEmpty,ACTION_NEXT_EMPTY);
+  ASSOCIATE(buttonSave,ACTION_SAVE);
+  ASSOCIATE(buttonDelete,ACTION_DELETE);
   
   CONNECT(drawingarea1,expose_event,glyphDraw);
   gtk_widget_show(dialog);
@@ -113,6 +123,67 @@
                           glyphUpdate();
                         }
                         continue;break; 
+      case ACTION_NEXT_EMPTY: 
+                        printf(&quot;NEXT EMPTY\n&quot;);
+                        while(1)
+                        {
+                            if(currentGlyph-&gt;next)
+                            {
+                              currentGlyph=currentGlyph-&gt;next; 
+                              glyphUpdate();
+                              if(!currentGlyph-&gt;code || !*(currentGlyph-&gt;code))
+                              {
+                                break;
+                              }
+                            }
+                            else 
+                            {
+                              GUI_Error_HIG(_(&quot;End reached&quot;),_(&quot;No more glyphs&quot;));
+                              break;
+                            }
+                        }
+                        continue;break; 
+        case ACTION_PREV_EMPTY: 
+                        printf(&quot;PREV EMPTY\n&quot;);
+                        while(1)
+                        {
+                            if(currentGlyph!=head.next)
+                            {
+                              admGlyph *father;
+                              father=glyphSearchFather(currentGlyph,&amp;head);
+                              if(father)
+                              {
+                                  currentGlyph=father;
+                                  glyphUpdate();
+                                   if(!currentGlyph-&gt;code || !*(currentGlyph-&gt;code))
+                                    {
+                                      break;
+                                    }
+                                  continue;
+                              } 
+                            } 
+                            GUI_Error_HIG(_(&quot;Head reached&quot;),_(&quot;No more glyphs&quot;));
+                            break;
+                        }
+                        continue;break;
+      case ACTION_SAVE:
+                    saveGlyph(glyphName,&amp;head,nbGlyph);
+                    continue;break;
+      case ACTION_DELETE:
+                  {
+                      admGlyph *father;
+                      father=glyphSearchFather(currentGlyph,&amp;head);
+                      ADM_assert(father);
+                      father-&gt;next=currentGlyph-&gt;next;
+                      delete currentGlyph;
+                      
+                      currentGlyph=father;
+                        if(father==&amp;head &amp;&amp; head.next)
+                          currentGlyph=head.next;
+                      nbGlyph--;
+                      glyphUpdate();
+                      continue;break; 
+                  }
     }
     break; // exit while(1)
   }
@@ -125,6 +196,43 @@
 
 }
 /**
+    \fn       glyphSave
+    \brief    Save the glypset
+*/
+uint8_t saveGlyph(char *name,admGlyph *head,uint32_t nb)
+{
+  FILE *out;
+  uint32_t slen;
+    
+  admGlyph *glyph=head-&gt;next;
+    
+    
+  out=fopen(name,&quot;wb&quot;);
+  if(!out)
+  {
+    GUI_Error_HIG(_(&quot;Could not write the file&quot;), NULL);
+    return 0;
+  }
+#define WRITE(x) fwrite(&amp;(x),sizeof(x),1,out);
+    WRITE(nb);
+    
+    while(glyph)
+    {
+      WRITE(glyph-&gt;width);
+      WRITE(glyph-&gt;height);
+      fwrite(glyph-&gt;data,glyph-&gt;width*glyph-&gt;height,1,out);
+      if(glyph-&gt;code) slen=strlen(glyph-&gt;code);
+      else slen=0;
+      WRITE(slen);
+      fwrite(glyph-&gt;code,slen,1,out);
+      glyph=glyph-&gt;next;
+    }
+    
+    fclose(out);
+    return 1;
+  
+}
+/**
     \fn glyphUpdate
     \brief Update all fields in the dialog wrt currentGlyph
 */
@@ -133,9 +241,9 @@
   if(!currentGlyph) return;
   gtk_widget_set_usize(WID(drawingarea1), currentGlyph-&gt;width+4, currentGlyph-&gt;height+4);
   glyphDraw();
+  gtk_editable_delete_text(GTK_EDITABLE(WID(entry1)), 0,-1); 
   if(currentGlyph-&gt;code)
   {
-    gtk_editable_delete_text(GTK_EDITABLE(WID(entry1)), 0,-1); 
     // Set our text
     gtk_entry_set_text (GTK_ENTRY (WID(entry1)), currentGlyph-&gt;code);
   }
@@ -206,18 +314,30 @@
 
 
 //**********************************
-GtkWidget *create_dialog1 (void)
+
+GtkWidget*
+create_dialog1 (void)
 {
   GtkWidget *dialog1;
   GtkWidget *dialog_vbox1;
   GtkWidget *vbox2;
   GtkWidget *drawingarea1;
   GtkWidget *entry1;
-  GtkWidget *hbox1;
+  GtkWidget *table1;
+  GtkWidget *buttonNext;
   GtkWidget *buttonPrev;
-  GtkWidget *buttonNext;
-  GtkWidget *hseparator1;
-  GtkWidget *button3;
+  GtkWidget *buttonEmptyPrev;
+  GtkWidget *alignment2;
+  GtkWidget *hbox4;
+  GtkWidget *image2;
+  GtkWidget *label2;
+  GtkWidget *buttonNextEmpty;
+  GtkWidget *alignment3;
+  GtkWidget *hbox5;
+  GtkWidget *image3;
+  GtkWidget *label3;
+  GtkWidget *buttonDelete;
+  GtkWidget *buttonSave;
   GtkWidget *dialog_action_area1;
   GtkWidget *closebutton1;
 
@@ -240,26 +360,78 @@
   gtk_widget_show (entry1);
   gtk_box_pack_start (GTK_BOX (vbox2), entry1, FALSE, FALSE, 0);
 
-  hbox1 = gtk_hbox_new (FALSE, 0);
-  gtk_widget_show (hbox1);
-  gtk_box_pack_start (GTK_BOX (vbox2), hbox1, TRUE, TRUE, 0);
+  table1 = gtk_table_new (3, 2, FALSE);
+  gtk_widget_show (table1);
+  gtk_box_pack_start (GTK_BOX (vbox2), table1, TRUE, TRUE, 0);
 
+  buttonNext = gtk_button_new_from_stock (&quot;gtk-media-next&quot;);
+  gtk_widget_show (buttonNext);
+  gtk_table_attach (GTK_TABLE (table1), buttonNext, 1, 2, 0, 1,
+                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL),
+                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK), 0, 0);
+
   buttonPrev = gtk_button_new_from_stock (&quot;gtk-media-previous&quot;);
   gtk_widget_show (buttonPrev);
-  gtk_box_pack_start (GTK_BOX (hbox1), buttonPrev, TRUE, TRUE, 0);
+  gtk_table_attach (GTK_TABLE (table1), buttonPrev, 0, 1, 0, 1,
+                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL),
+                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL), 0, 0);
 
-  buttonNext = gtk_button_new_from_stock (&quot;gtk-media-next&quot;);
-  gtk_widget_show (buttonNext);
-  gtk_box_pack_start (GTK_BOX (hbox1), buttonNext, TRUE, TRUE, 0);
+  buttonEmptyPrev = gtk_button_new ();
+  gtk_widget_show (buttonEmptyPrev);
+  gtk_table_attach (GTK_TABLE (table1), buttonEmptyPrev, 0, 1, 1, 2,
+                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL),
+                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK), 0, 0);
 
-  hseparator1 = gtk_hseparator_new ();
-  gtk_widget_show (hseparator1);
-  gtk_box_pack_start (GTK_BOX (hbox1), hseparator1, TRUE, TRUE, 0);
+  alignment2 = gtk_alignment_new (0.5, 0.5, 0, 0);
+  gtk_widget_show (alignment2);
+  gtk_container_add (GTK_CONTAINER (buttonEmptyPrev), alignment2);
 
-  button3 = gtk_button_new_from_stock (&quot;gtk-save-as&quot;);
-  gtk_widget_show (button3);
-  gtk_box_pack_start (GTK_BOX (hbox1), button3, FALSE, FALSE, 0);
+  hbox4 = gtk_hbox_new (FALSE, 2);
+  gtk_widget_show (hbox4);
+  gtk_container_add (GTK_CONTAINER (alignment2), hbox4);
 
+  image2 = gtk_image_new_from_stock (&quot;gtk-media-previous&quot;, GTK_ICON_SIZE_BUTTON);
+  gtk_widget_show (image2);
+  gtk_box_pack_start (GTK_BOX (hbox4), image2, FALSE, FALSE, 0);
+
+  label2 = gtk_label_new_with_mnemonic (_(&quot;Prev. Empty&quot;));
+  gtk_widget_show (label2);
+  gtk_box_pack_start (GTK_BOX (hbox4), label2, FALSE, FALSE, 0);
+
+  buttonNextEmpty = gtk_button_new ();
+  gtk_widget_show (buttonNextEmpty);
+  gtk_table_attach (GTK_TABLE (table1), buttonNextEmpty, 1, 2, 1, 2,
+                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL),
+                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK), 0, 0);
+
+  alignment3 = gtk_alignment_new (0.5, 0.5, 0, 0);
+  gtk_widget_show (alignment3);
+  gtk_container_add (GTK_CONTAINER (buttonNextEmpty), alignment3);
+
+  hbox5 = gtk_hbox_new (FALSE, 2);
+  gtk_widget_show (hbox5);
+  gtk_container_add (GTK_CONTAINER (alignment3), hbox5);
+
+  image3 = gtk_image_new_from_stock (&quot;gtk-media-next&quot;, GTK_ICON_SIZE_BUTTON);
+  gtk_widget_show (image3);
+  gtk_box_pack_start (GTK_BOX (hbox5), image3, FALSE, FALSE, 0);
+
+  label3 = gtk_label_new_with_mnemonic (_(&quot;Next Empty&quot;));
+  gtk_widget_show (label3);
+  gtk_box_pack_start (GTK_BOX (hbox5), label3, FALSE, FALSE, 0);
+
+  buttonDelete = gtk_button_new_from_stock (&quot;gtk-delete&quot;);
+  gtk_widget_show (buttonDelete);
+  gtk_table_attach (GTK_TABLE (table1), buttonDelete, 0, 1, 2, 3,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+
+  buttonSave = gtk_button_new_from_stock (&quot;gtk-save&quot;);
+  gtk_widget_show (buttonSave);
+  gtk_table_attach (GTK_TABLE (table1), buttonSave, 1, 2, 2, 3,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+
   dialog_action_area1 = GTK_DIALOG (dialog1)-&gt;action_area;
   gtk_widget_show (dialog_action_area1);
   gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
@@ -275,15 +447,24 @@
   GLADE_HOOKUP_OBJECT (dialog1, vbox2, &quot;vbox2&quot;);
   GLADE_HOOKUP_OBJECT (dialog1, drawingarea1, &quot;drawingarea1&quot;);
   GLADE_HOOKUP_OBJECT (dialog1, entry1, &quot;entry1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, hbox1, &quot;hbox1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, table1, &quot;table1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, buttonNext, &quot;buttonNext&quot;);
   GLADE_HOOKUP_OBJECT (dialog1, buttonPrev, &quot;buttonPrev&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, buttonNext, &quot;buttonNext&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, hseparator1, &quot;hseparator1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, button3, &quot;button3&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, buttonEmptyPrev, &quot;buttonEmptyPrev&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, alignment2, &quot;alignment2&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, hbox4, &quot;hbox4&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, image2, &quot;image2&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, label2, &quot;label2&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, buttonNextEmpty, &quot;buttonNextEmpty&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, alignment3, &quot;alignment3&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, hbox5, &quot;hbox5&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, image3, &quot;image3&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, label3, &quot;label3&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, buttonDelete, &quot;buttonDelete&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, buttonSave, &quot;buttonSave&quot;);
   GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, &quot;dialog_action_area1&quot;);
   GLADE_HOOKUP_OBJECT (dialog1, closebutton1, &quot;closebutton1&quot;);
 
   return dialog1;
 }
 
-

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-07-08 17:19:30 UTC (rev 3347)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-07-08 17:52:05 UTC (rev 3348)
@@ -158,5 +158,5 @@
     printf(&quot;*********************************\n&quot;);
     printf(&quot;*********************************\n&quot;);
 }
-
+uint8_t DIA_glyphEdit(void) {return 0;};
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-07-08 17:19:30 UTC (rev 3347)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-07-08 17:52:05 UTC (rev 3348)
@@ -97,8 +97,8 @@
 uint8_t initFileSelector(void){return 0;}
 uint8_t initGUI( void ){return 1;}
 int DIA_colorSel(uint8_t *r, uint8_t *g, uint8_t *b) {return 0;}
+uint8_t DIA_glyphEdit(void){ return 0;};
 
-
 int32_t UI_readJog(void)
 {
   return 0; 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_jobs.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_jobs.cpp	2007-07-08 17:19:30 UTC (rev 3347)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_jobs.cpp	2007-07-08 17:52:05 UTC (rev 3348)
@@ -6,6 +6,7 @@
 
 #include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;
+#include &lt;unistd.h&gt;
 #include &lt;math.h&gt;
 
 

Modified: branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2007-07-08 17:19:30 UTC (rev 3347)
+++ branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2007-07-08 17:52:05 UTC (rev 3348)
@@ -170,6 +170,7 @@
 void GUI_avsProxy(void);
 uint8_t GUI_close(void);
 extern void A_jog(void);
+extern void DIA_glyphEdit(void);
 //___________________________________________
 // serialization of user event throught gui
 //
@@ -197,6 +198,9 @@
   }
   switch (action)
     {
+        case ACT_GLYPHEDIT: 
+                                DIA_glyphEdit();
+                                return;
         case ACT_AVS_PROXY:
                                 GUI_avsProxy();
                                 return;

Modified: branches/avidemux_2.4_branch/avidemux/gui_action.hxx
===================================================================
--- branches/avidemux_2.4_branch/avidemux/gui_action.hxx	2007-07-08 17:19:30 UTC (rev 3347)
+++ branches/avidemux_2.4_branch/avidemux/gui_action.hxx	2007-07-08 17:52:05 UTC (rev 3348)
@@ -192,6 +192,7 @@
 ACT_HEX_DUMP,
 ACT_AVS_PROXY,
 ACT_JOG,
+ACT_GLYPHEDIT,
 ACT_CUSTOM_BASE,
 ACT_CUSTOM_END=ACT_CUSTOM_BASE+ADM_MAC_CUSTOM_SCRIPT,
 ACT_DUMMY


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000624.html">[Avidemux-svn-commit] r3347 -	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr
</A></li>
	<LI>Next message: <A HREF="000626.html">[Avidemux-svn-commit] r3349 -	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#625">[ date ]</a>
              <a href="thread.html#625">[ thread ]</a>
              <a href="subject.html#625">[ subject ]</a>
              <a href="author.html#625">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
