<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r4581 - in	branches/avidemux_2.5_branch_gruntster/platforms/windows:	build_scripts/avidemux build_scripts/avidemux/Tools installer
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4581%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster/platforms/windows%3A%0A%09build_scripts/avidemux%20build_scripts/avidemux/Tools%20installer&In-Reply-To=%3C200902092107.n19L7bDc022763%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001810.html">
   <LINK REL="Next"  HREF="001812.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r4581 - in	branches/avidemux_2.5_branch_gruntster/platforms/windows:	build_scripts/avidemux build_scripts/avidemux/Tools installer</H1>
    <B>gruntster at mail.berlios.de</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4581%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster/platforms/windows%3A%0A%09build_scripts/avidemux%20build_scripts/avidemux/Tools%20installer&In-Reply-To=%3C200902092107.n19L7bDc022763%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r4581 - in	branches/avidemux_2.5_branch_gruntster/platforms/windows:	build_scripts/avidemux build_scripts/avidemux/Tools installer">gruntster at mail.berlios.de
       </A><BR>
    <I>Mon Feb  9 22:07:37 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001810.html">[Avidemux-svn-commit] r4580 - in	branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts:	. avidemux
</A></li>
        <LI>Next message: <A HREF="001812.html">[Avidemux-svn-commit] r4582 - in	branches/avidemux_2.5_branch_gruntster/platforms/windows:	build_scripts/avidemux installer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1811">[ date ]</a>
              <a href="thread.html#1811">[ thread ]</a>
              <a href="subject.html#1811">[ subject ]</a>
              <a href="author.html#1811">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: gruntster
Date: 2009-02-09 22:07:24 +0100 (Mon, 09 Feb 2009)
New Revision: 4581

Removed:
   branches/avidemux_2.5_branch_gruntster/platforms/windows/installer/InstallOptions.ini
Modified:
   branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/1. Perform Build.bat
   branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/1b. Continue Build.bat
   branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/2b. Package Build.bat
   branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/Package Notes.xml
   branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/Tools/gentouch.sh
   branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/Tools/package_notes.xslt
   branches/avidemux_2.5_branch_gruntster/platforms/windows/installer/avidemux.nsi
   branches/avidemux_2.5_branch_gruntster/platforms/windows/installer/svnlog.xslt
Log:
[Win32] update installer script for 2.5 (now using Modern UI 2 and Memento) [Part 1]

Modified: branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/1. Perform Build.bat
===================================================================
--- branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/1. Perform Build.bat	2009-02-08 17:28:54 UTC (rev 4580)
+++ branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/1. Perform Build.bat	2009-02-09 21:07:24 UTC (rev 4581)
@@ -7,10 +7,10 @@
 
 cd &quot;%sourceDir%&quot;
 echo Cleaning build directories
-rmdir /s /q build 2&gt; NULL
+rmdir /s /q build 2&gt; NUL
 
 cd &quot;%sourceDir%\plugins&quot;
-rmdir /s /q build 2&gt; NULL
+rmdir /s /q build 2&gt; NUL
 
 if exist build goto removalFailure
 cd &quot;%sourceDir%&quot;

Modified: branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/1b. Continue Build.bat
===================================================================
--- branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/1b. Continue Build.bat	2009-02-08 17:28:54 UTC (rev 4580)
+++ branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/1b. Continue Build.bat	2009-02-09 21:07:24 UTC (rev 4581)
@@ -24,6 +24,8 @@
 make install
 
 del /s &quot;%buildDir%\*.a&quot;
+del &quot;%buildDir%\lib\ADM_plugins\audioDecoder\libADM_ad_dca.dll&quot;
+del &quot;%buildDir%\lib\ADM_plugins\audioDecoder\libADM_ad_amrnb.dll&quot;
 
 echo Finished!
 goto end

Modified: branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/2b. Package Build.bat
===================================================================
--- branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/2b. Package Build.bat	2009-02-08 17:28:54 UTC (rev 4580)
+++ branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/2b. Package Build.bat	2009-02-09 21:07:24 UTC (rev 4581)
@@ -7,8 +7,8 @@
 cd ..
 
 set curDir=%CD%
-set zipFile=avidemux_2.4_r%revisionNo%_win32.zip
-set exeFile=avidemux_2.4_r%revisionNo%_win32.exe
+set zipFile=avidemux_2.5_r%revisionNo%_win32.zip
+set exeFile=avidemux_2.5_r%revisionNo%_win32.exe
 set packageDir=%CD%\%revisionNo%
 
 echo %packageDir%
@@ -29,4 +29,4 @@
 
 move &quot;..\..\installer\%exeFile%&quot; &quot;%packageDir%&quot;
 
-pause
\ No newline at end of file
+pause

Modified: branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/Package Notes.xml
===================================================================
--- branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/Package Notes.xml	2009-02-08 17:28:54 UTC (rev 4580)
+++ branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/Package Notes.xml	2009-02-09 21:07:24 UTC (rev 4581)
@@ -1,426 +1,6 @@
 &lt;?xml version=&quot;1.0&quot;?&gt;
 &lt;log&gt;
-  &lt;buildentry revision=&quot;4508&quot; date=&quot;2009-01-01&quot;&gt;
-    &lt;comment&gt;Updated x264 to r1069.&lt;/comment&gt;
+  &lt;buildentry revision=&quot;&quot; date=&quot;&quot;&gt;
+    &lt;comment&gt;&lt;/comment&gt;
   &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4502&quot; date=&quot;2008-12-27&quot;&gt;
-    &lt;comment&gt;Updated GTK+ to version 2.14.6-1.&lt;/comment&gt;
-    &lt;comment&gt;Updated Libxml2 to version 2.7.2+.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to r1062 (patched).&lt;/comment&gt;
-    &lt;comment&gt;Updated Xvid to 1.2.1.&lt;/comment&gt;    
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4499&quot; date=&quot;2008-12-03&quot;&gt;
-    &lt;comment&gt;Packaged using NSIS 2.41.&lt;/comment&gt;
-    &lt;comment&gt;Updated Avisynth Proxy GUI to version 2.06.&lt;/comment&gt;
-    &lt;comment&gt;Updated GLib to version 2.18.3-1.&lt;/comment&gt;
-    &lt;comment&gt;Updated GTK+ to version 2.14.5-1.&lt;/comment&gt;
-    &lt;comment&gt;Updated Libxml2 to version 2.7.2.&lt;/comment&gt;
-    &lt;comment&gt;Updated Pango to version 1.22.2-1.&lt;/comment&gt;
-    &lt;comment&gt;Updated Qt to version 4.4.3.&lt;/comment&gt;
-    &lt;comment&gt;Updated win_iconv to version 20080403.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to r1046 (patched).&lt;/comment&gt;
-    &lt;comment&gt;Updated Xvid to 1.2.0.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4494&quot; date=&quot;2008-10-22&quot;&gt;
-    &lt;comment&gt;Updated GTK+ to version 2.14.4-1.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4486&quot; date=&quot;2008-10-18&quot;&gt;
-    &lt;comment&gt;Updated GLib to version 2.18.2-1.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4473&quot; date=&quot;2008-10-15&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4458&quot; date=&quot;2008-10-13&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4454&quot; date=&quot;2008-10-08&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4445&quot; date=&quot;2008-10-06&quot;&gt;
-    &lt;comment&gt;Updated x264 to r999 (patched).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4435&quot; date=&quot;2008-10-02&quot;&gt;
-    &lt;comment&gt;Updated x264 to r997 (patched).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4421&quot; date=&quot;2008-09-30&quot;&gt;
-    &lt;comment&gt;Updated x264 to r995 (patched).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4413&quot; date=&quot;2008-09-26&quot;&gt;
-    &lt;comment&gt;Updated Cairo to version 1.8.0-1.&lt;/comment&gt;
-    &lt;comment&gt;Updated LAME to version 3.98.2.&lt;/comment&gt;
-    &lt;comment&gt;Updated libpng to version 1.2.32.&lt;/comment&gt;
-    &lt;comment&gt;Updated Pango to version 1.22.0-1.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4407&quot; date=&quot;2008-09-25&quot;&gt;
-    &lt;comment&gt;Updated ATK to version 1.24.0-1.&lt;/comment&gt;
-    &lt;comment&gt;Updated GLib to version 2.18.1-2.&lt;/comment&gt;
-    &lt;comment&gt;Updated GTK+ to version 2.14.3-2.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4402&quot; date=&quot;2008-09-23&quot;&gt;
-    &lt;comment&gt;Updated x264 to r987 (patched).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4392&quot; date=&quot;2008-09-22&quot;&gt;
-    &lt;comment&gt;Updated x264 to r986 (patched).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4376&quot; date=&quot;2008-09-20&quot;&gt;
-    &lt;comment&gt;Updated ATK to version 1.22.0-2.&lt;/comment&gt;
-    &lt;comment&gt;Updated GLib to version 2.18.1-1.&lt;/comment&gt;
-    &lt;comment&gt;Updated GTK+ to version 2.14.2-1.&lt;/comment&gt;
-    &lt;comment&gt;Updated Libxml2 to version 2.7.1.&lt;/comment&gt;
-    &lt;comment&gt;Updated Pango to version 1.20.5-2.&lt;/comment&gt;
-    &lt;comment&gt;Updated Qt to version 4.4.2.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to r979 (patched).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4346&quot; date=&quot;2008-09-14&quot;&gt;
-    &lt;comment&gt;Reverted GTK+ back to original 2.14.1 (Avidemux has now been fixed).&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to r968 (patched).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4324&quot; date=&quot;2008-09-11&quot;&gt;
-    &lt;comment&gt;Patched GTK+ 2.14.1 to fix incorrect spin button ranges.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4316&quot; date=&quot;2008-09-08&quot;&gt;
-    &lt;comment&gt;Updated GLib to version 2.18.0-2.&lt;/comment&gt;
-    &lt;comment&gt;Updated GTK+ to version 2.14.1-1.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to r965 (patched).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4304&quot; date=&quot;2008-09-02&quot;&gt;
-    &lt;comment&gt;Updated Qt to version 4.4.1.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to r956 (patched).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4297&quot; date=&quot;2008-07-31&quot;&gt;
-    &lt;comment&gt;Updated x264 to r927 (patched).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4281&quot; date=&quot;2008-07-25&quot;&gt;
-    &lt;comment&gt;Updated x264 to r918 (patched).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4276 [2.4.3 Final]&quot; date=&quot;2008-07-24&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4269&quot; date=&quot;2008-07-21&quot;&gt;
-    &lt;comment&gt;Updated GLib to version 2.16.5.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to r915 (patched).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4219&quot; date=&quot;2008-07-16&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4211&quot; date=&quot;2008-07-13&quot;&gt;
-    &lt;comment&gt;Updated GLib to version 2.16.4.&lt;/comment&gt;
-    &lt;comment&gt;Updated GTK+ to version 2.12.11.&lt;/comment&gt;
-    &lt;comment&gt;Updated Pango to version 1.20.5.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to r912 (patched).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4195 [2.4.2 Final]&quot; date=&quot;2008-07-06&quot;&gt;
-    &lt;comment&gt;Updated LAME to version 3.98.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to r899 (patched).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4182&quot; date=&quot;2008-06-30&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4170&quot; date=&quot;2008-06-27&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4160&quot; date=&quot;2008-06-25&quot;&gt;
-    &lt;comment&gt;Updated x264 to r891 (patched).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4145&quot; date=&quot;2008-06-22&quot;&gt;
-    &lt;comment&gt;Updated x264 to r889 (patched).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4123&quot; date=&quot;2008-06-18&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4114&quot; date=&quot;2008-06-17&quot;&gt;
-    &lt;comment&gt;Updated Freetype to version 2.3.6.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to r886 (patched).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4090&quot; date=&quot;2008-06-12&quot;&gt;
-    &lt;comment&gt;Updated GTK+ to version 2.12.10.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to r881, patched and compiled with MinGW GCC 4.2.1-sjlj-2.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4081&quot; date=&quot;2008-06-01&quot;&gt;
-    &lt;comment&gt;Updated Cairo to version 1.6.4-2.&lt;/comment&gt;
-    &lt;comment&gt;Updated libpng to version 1.2.29.&lt;/comment&gt;
-    &lt;comment&gt;Updated Pango to version 1.20.3.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4028&quot; date=&quot;2008-05-14&quot;&gt;
-    &lt;comment&gt;Updated Libxml2 to version 2.6.32+.&lt;/comment&gt;
-    &lt;comment&gt;Updated Qt to version 4.4.0.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to r845.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;4017&quot; date=&quot;2008-05-03&quot;&gt;
-    &lt;comment&gt;Updated x264 to r839.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3982&quot; date=&quot;2008-04-24&quot;&gt;
-    &lt;comment&gt;Updated Cairo to version 1.6.4-1.&lt;/comment&gt;
-    &lt;comment&gt;Updated GLib to version 2.16.3.&lt;/comment&gt;
-    &lt;comment&gt;Updated Pango to version 1.20.2.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to r828.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3974&quot; date=&quot;2008-04-10&quot;&gt;
-    &lt;comment&gt;Updated GLib to version 2.16.2.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to r816.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3947&quot; date=&quot;2008-04-01&quot;&gt;
-    &lt;comment&gt;Updated x264 to r808, compiled with Microsoft Visual C++ 6 SP5.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3945&quot; date=&quot;2008-03-30&quot;&gt;
-    &lt;comment&gt;Updated win_iconv to version 20080320.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to r798, compiled with Microsoft Visual C++ 9.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3908&quot; date=&quot;2008-03-19&quot;&gt;
-    &lt;comment&gt;Updated GTK+ to version 2.12.9.&lt;/comment&gt;
-    &lt;comment&gt;Recompiled Aften 0.0.8 with Microsoft Visual C++ 9 (to enable SSE3).&lt;/comment&gt;
-    &lt;comment&gt;Recompiled Avidemux and LAME with MinGW's GCC 4.2.1-sjlj-2.&lt;/comment&gt;
-    &lt;comment&gt;Replaced libiconv with win_iconv (20080317).&lt;/comment&gt;
-    &lt;comment&gt;Reverted x264 back to SVN revision 741.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3872&quot; date=&quot;2008-03-13&quot;&gt;
-    &lt;comment&gt;Updated ATK to version 1.22.0.&lt;/comment&gt;
-    &lt;comment&gt;Updated Avisynth Proxy GUI to version 2.04.&lt;/comment&gt;
-    &lt;comment&gt;Updated Fontconfig to version 2.4.2 (20071015).&lt;/comment&gt;
-    &lt;comment&gt;Updated GLib to version 2.16.1.&lt;/comment&gt;
-    &lt;comment&gt;Updated Qt to version 4.3.4.&lt;/comment&gt;
-    &lt;comment&gt;Updated Pango to version 1.20.0.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 745.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3791 [2.4.1 Final]&quot; date=&quot;2008-02-15&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3789&quot; date=&quot;2008-02-08&quot;&gt;
-    &lt;comment&gt;Updated GLib to version 2.14.6-1.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3784&quot; date=&quot;2008-02-02&quot;&gt;
-    &lt;comment&gt;Compiled CLI without SDL so output is directed to the console instead of log files.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3779&quot; date=&quot;2008-01-29&quot;&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 736.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3775&quot; date=&quot;2008-01-28&quot;&gt;
-    &lt;comment&gt;Updated gettext to version 0.17-1.&lt;/comment&gt;
-    &lt;comment&gt;Updated Libxml2 to version 2.6.30+.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 735.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3764&quot; date=&quot;2008-01-22&quot;&gt;
-    &lt;comment&gt;Updated gettext to version 0.17.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3756&quot; date=&quot;2008-01-18&quot;&gt;
-    &lt;comment&gt;Updated Cairo to version 1.4.14.&lt;/comment&gt;
-    &lt;comment&gt;Updated GLib to version 2.14.5.&lt;/comment&gt;
-    &lt;comment&gt;Updated Pango to version 1.18.4.&lt;/comment&gt;
-    &lt;comment&gt;Updated SDL to version 1.2.13.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 721.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3731 [2.4.0 Final]&quot; date=&quot;2007-12-24&quot;&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 712.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3728&quot; date=&quot;2007-12-13&quot;&gt;
-    &lt;comment&gt;Updated Qt to version 4.3.3.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 711.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3718&quot; date=&quot;2007-12-03&quot;&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 708.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3707&quot; date=&quot;2007-11-29&quot;&gt;
-    &lt;comment&gt;Updated GLib to version 2.14.4.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 702.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3699&quot; date=&quot;2007-11-22&quot;&gt;
-    &lt;comment&gt;Updated GLib to version 2.14.3.&lt;/comment&gt;
-    &lt;comment&gt;Updated FAAD2 to version 2.6.1.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 700.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3688 [2.4.0 Preview 3.1]&quot; date=&quot;2007-11-12&quot;&gt;
-    &lt;comment&gt;FAAC support was missing from the earlier preview 3 build.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3688 [2.4.0 Preview 3]&quot; date=&quot;2007-11-11&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3676&quot; date=&quot;2007-10-31&quot;&gt;
-    &lt;comment&gt;Updated FAAC to version 1.26.&lt;/comment&gt;
-    &lt;comment&gt;Updated FAAD2 to version 2.6.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 681.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3665&quot; date=&quot;2007-10-23&quot;&gt;
-    &lt;comment&gt;Updated GLib to version 2.14.2.&lt;/comment&gt;
-    &lt;comment&gt;Updated Pango to version 1.18.3.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3658&quot; date=&quot;2007-10-17&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3639&quot; date=&quot;2007-10-10&quot;&gt;
-    &lt;comment&gt;Reverted GTK+ back to version 2.10.14 (due to reports of instability).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3625&quot; date=&quot;2007-10-07&quot;&gt;
-    &lt;comment&gt;Updated Qt to version 4.3.2.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3600&quot; date=&quot;2007-09-26&quot;&gt;
-    &lt;comment&gt;Updated Aften to version 0.0.8&lt;/comment&gt;
-    &lt;comment&gt;Updated ATK to version 1.20.0.&lt;/comment&gt;
-    &lt;comment&gt;Updated Cairo to version 1.4.10.&lt;/comment&gt;
-    &lt;comment&gt;Updated GLib to version 2.14.1.&lt;/comment&gt;
-    &lt;comment&gt;Updated GTK+ to version 2.12.0.&lt;/comment&gt;
-    &lt;comment&gt;Updated Libxml2 to 2.6.30.&lt;/comment&gt;
-    &lt;comment&gt;Updated Pango to version 1.18.2.&lt;/comment&gt;
-    &lt;comment&gt;Updated SDL to version 1.2.12.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 680.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3591&quot; date=&quot;2007-09-22&quot;&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 677.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3587&quot; date=&quot;2007-09-11&quot;&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 674.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3579&quot; date=&quot;2007-09-05&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3570&quot; date=&quot;2007-08-31&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3563&quot; date=&quot;2007-08-26&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3553&quot; date=&quot;2007-08-23&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3535&quot; date=&quot;2007-08-19&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3516&quot; date=&quot;2007-08-16&quot;&gt;
-    &lt;comment&gt;Updated Freetype to version 2.3.5.&lt;/comment&gt;
-    &lt;comment&gt;Updated GLib to version 2.14.0.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3500&quot; date=&quot;2007-08-13&quot;&gt;
-    &lt;comment&gt;Updated Qt to version 4.3.1.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3488&quot; date=&quot;2007-08-08&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3475&quot; date=&quot;2007-08-05&quot;&gt;
-    &lt;comment&gt;Updated GTK+ to version 2.10.14.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3465&quot; date=&quot;2007-08-01&quot;&gt;
-    &lt;comment&gt;Packaged using NSIS 2.29.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3451&quot; date=&quot;2007-07-28&quot;&gt;
-    &lt;comment&gt;Updated GLib to version 2.12.13.&lt;/comment&gt;
-    &lt;comment&gt;Updated Xvid to CVS HEAD 2007-07-26.&lt;/comment&gt;
-    &lt;comment&gt;Updated Vorbis to version 1.2.0.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3441&quot; date=&quot;2007-07-24&quot;&gt;
-    &lt;comment&gt;Updated GCC to version 4.2.1.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3412&quot; date=&quot;2007-07-18&quot;&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 667.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3374&quot; date=&quot;2007-07-16&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3364&quot; date=&quot;2007-07-14&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3353&quot; date=&quot;2007-07-10&quot;&gt;
-    &lt;comment&gt;Updated GCC to version 4.2.0 again.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3342&quot; date=&quot;2007-07-08&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3332&quot; date=&quot;2007-07-06&quot;&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 663.&lt;/comment&gt;
-    &lt;comment&gt;Updated Xvid to CVS HEAD 2007-06-28.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3322 [2.4.0 Preview 2]&quot; date=&quot;2007-06-30&quot;&gt;
-    &lt;comment&gt;Reverted GCC back to version 4.1.2 (due to video issues).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3317&quot; date=&quot;2007-06-28&quot;&gt;
-    &lt;comment&gt;Updated Xvid to CVS HEAD 2007-06-27.&lt;/comment&gt;
-    &lt;comment&gt;Reverted GTK+ back to version 2.10.9 (due to reports of instability).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3310&quot; date=&quot;2007-06-26&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3294&quot; date=&quot;2007-06-24&quot;&gt;
-    &lt;comment&gt;Updated Freetype to version 2.3.4.&lt;/comment&gt;
-    &lt;comment&gt;Updated Libxml2 to version 2.6.28.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 662.&lt;/comment&gt;
-    &lt;comment&gt;Recompiled Aften 0.07 with Microsoft Visual C++ 8 (to fix SSE2 threading issue).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3283&quot; date=&quot;2007-06-21&quot;&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 661.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3273&quot; date=&quot;2007-06-18&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3253&quot; date=&quot;2007-06-15&quot;&gt;
-    &lt;comment&gt;Updated GCC to version 4.2.0 (also recompiled LAME).&lt;/comment&gt;
-    &lt;comment&gt;Updated Aften to version 0.07 (R522 to fix GCC alignment issue).&lt;/comment&gt;
-    &lt;comment&gt;Updated Cairo to version 1.4.8.&lt;/comment&gt;
-    &lt;comment&gt;Updated Fontconfig to version 2.4.2.&lt;/comment&gt;
-    &lt;comment&gt;Updated GLib to version 2.12.12.&lt;/comment&gt;
-    &lt;comment&gt;Updated GTK+ to version 2.10.13.&lt;/comment&gt;
-    &lt;comment&gt;Updated Pango to version 1.16.4.&lt;/comment&gt;
-    &lt;comment&gt;Updated Qt to version 4.3.0.&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 659.&lt;/comment&gt;
-    &lt;comment&gt;Updated Xvid to CVS HEAD 2007-06-03.&lt;/comment&gt;
-    &lt;comment&gt;Avidemux was built using new CMake scripts.&lt;/comment&gt;
-    &lt;comment&gt;Packaged using NSIS 2.28.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3140&quot; date=&quot;2007-05-25&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3124&quot; date=&quot;2007-05-22&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3110&quot; date=&quot;2007-05-18&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3099&quot; date=&quot;2007-05-16&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3086&quot; date=&quot;2007-05-14&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3070&quot; date=&quot;2007-05-13&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3059&quot; date=&quot;2007-05-10&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3048&quot; date=&quot;2007-05-09&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3040&quot; date=&quot;2007-05-07&quot;&gt;
-    &lt;comment&gt;Updated Avisynth Proxy GUI to 2007-05-04.&lt;/comment&gt;
-    &lt;comment&gt;Removed ADM Tools.&lt;/comment&gt;
-    &lt;comment&gt;Installer now prompts to remove previous version before installing.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3015&quot; date=&quot;2007-05-04&quot;&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 655.&lt;/comment&gt;
-    &lt;comment&gt;Updated Avisynth Proxy GUI to 2007-05-02.&lt;/comment&gt;
-    &lt;comment&gt;Installer now adds Avisynth Proxy GUI to Start Menu.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;3003&quot; date=&quot;2007-05-02&quot;&gt;
-    &lt;comment&gt;Added Avisynth Proxy GUI to Installer.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;2994&quot; date=&quot;2007-04-30&quot;&gt;
-    &lt;comment&gt;Updated Xvid to CVS HEAD 2007-04-29.&lt;/comment&gt;
-    &lt;comment&gt;Added Avisynth Proxy to Installer.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;2975&quot; date=&quot;2007-04-27&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;2960&quot; date=&quot;2007-04-24&quot;&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 654.&lt;/comment&gt;
-    &lt;comment&gt;Added GTK translations to installer.  Standard GTK windows (e.g. Open and Save) are now correctly translated.&lt;/comment&gt;
-    &lt;comment&gt;The Installer now prohibits ADM Tools from being installed if the GTK+ user interface isn't also chosen.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;2955&quot; date=&quot;2007-04-23&quot;&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 652.&lt;/comment&gt;
-    &lt;comment&gt;Updated ADM Tools to 2007-04-20.&lt;/comment&gt;
-    &lt;comment&gt;Installer now remembers previous installation folder (thanks LoRd_MuldeR).&lt;/comment&gt;
-    &lt;comment&gt;Translations now work when starting Avidemux via the shortcuts created by the Installer (thanks Tetsuro).&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;2953&quot; date=&quot;2007-04-19&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;2951&quot; date=&quot;2007-04-20&quot;&gt;
-    &lt;comment&gt;Updated Xvid to CVS HEAD 2007-04-17.&lt;/comment&gt;
-    &lt;comment&gt;Updated ADM Tools to 2007-04-18.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;2948&quot; date=&quot;2007-04-17&quot;&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;2945&quot; date=&quot;2007-04-15&quot;&gt;
-    &lt;comment&gt;A bug in the Avidemux configure script prevented full compiler optimisations from being enabled. This has now been rectified, which means the main Avidemux executables are larger but hopefully faster in certain areas.&lt;/comment&gt;
-    &lt;comment&gt;The installer now uses improved compression so the file size is smaller than the last release.&lt;/comment&gt;
-    &lt;comment&gt;Included ADM Tools.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;2934&quot; date=&quot;2007-04-13&quot;&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 650.&lt;/comment&gt;
-    &lt;comment&gt;Introduced a new installer.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;2926 [Release 2]&quot; date=&quot;2007-04-11&quot;&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 649.&lt;/comment&gt;
-    &lt;comment&gt;
-      FAAC and FAAD2 have been rebuilt. Prior builds incorrectly included DRM versions
-      of both libraries, which aren't appropriate for Avidemux.
-    &lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;2926&quot; date=&quot;2007-04-07&quot;&gt;
-    &lt;comment&gt;Updated Aften to version 0.06&lt;/comment&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 648.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;2922&quot; date=&quot;2007-04-05&quot;&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 641.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;2916&quot; date=&quot;2007-04-02&quot;&gt;
-    &lt;comment&gt;Updated x264 to SVN revision 636.&lt;/comment&gt;
-  &lt;/buildentry&gt;
-  &lt;buildentry revision=&quot;2910&quot; date=&quot;2007-03-29&quot;&gt;
-  &lt;/buildentry&gt;
 &lt;/log&gt;

Modified: branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/Tools/gentouch.sh
===================================================================
--- branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/Tools/gentouch.sh	2009-02-08 17:28:54 UTC (rev 4580)
+++ branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/Tools/gentouch.sh	2009-02-09 21:07:24 UTC (rev 4581)
@@ -1 +1 @@
-xsltproc touch_files.xslt &quot;../Package Notes.xml&quot; &gt; &quot;../Touch 2.4 Files.html&quot;
\ No newline at end of file
+xsltproc touch_files.xslt &quot;../Package Notes.xml&quot; &gt; &quot;../Touch 2.5 Files.html&quot;
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/Tools/package_notes.xslt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/Tools/package_notes.xslt	2009-02-08 17:28:54 UTC (rev 4580)
+++ branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts/avidemux/Tools/package_notes.xslt	2009-02-09 21:07:24 UTC (rev 4581)
@@ -54,10 +54,10 @@
           padding-bottom: 5px;
           }
         &lt;/style&gt;
-        &lt;title&gt;Avidemux 2.4 Win32 Package Notes&lt;/title&gt;
+        &lt;title&gt;Avidemux 2.5 Win32 Package Notes&lt;/title&gt;
       &lt;/head&gt;
       &lt;body&gt;
-        &lt;h1&gt;Avidemux 2.4 Win32 Package Notes&lt;/h1&gt;
+        &lt;h1&gt;Avidemux 2.5 Win32 Package Notes&lt;/h1&gt;
         &lt;div&gt;
           &lt;xsl:apply-templates select=&quot;buildentry&quot; /&gt;
         &lt;/div&gt;

Deleted: branches/avidemux_2.5_branch_gruntster/platforms/windows/installer/InstallOptions.ini
===================================================================
--- branches/avidemux_2.5_branch_gruntster/platforms/windows/installer/InstallOptions.ini	2009-02-08 17:28:54 UTC (rev 4580)
+++ branches/avidemux_2.5_branch_gruntster/platforms/windows/installer/InstallOptions.ini	2009-02-09 21:07:24 UTC (rev 4581)
@@ -1,37 +0,0 @@
-[Settings]
-NumFields=4
-
-[Field 1]
-Type=label
-Text=Create icons for Avidemux:
-Left=0
-Right=-1
-Top=10
-Bottom=20
-
-[Field 2]
-Type=checkbox
-Text=On my &amp;Desktop
-Left=12
-Right=-1
-Top=28
-Bottom=38
-State=1
-
-[Field 3]
-Type=checkbox
-Text=In my &amp;Start Menu Programs folder
-Left=12
-Right=-1
-Top=46
-Bottom=56
-State=1
-
-[Field 4]
-Type=checkbox
-Text=In my &amp;Quick Launch bar
-Left=12
-Right=-1
-Top=64
-Bottom=74
-State=1
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/platforms/windows/installer/avidemux.nsi
===================================================================
--- branches/avidemux_2.5_branch_gruntster/platforms/windows/installer/avidemux.nsi	2009-02-08 17:28:54 UTC (rev 4580)
+++ branches/avidemux_2.5_branch_gruntster/platforms/windows/installer/avidemux.nsi	2009-02-09 21:07:24 UTC (rev 4581)
@@ -2,12 +2,13 @@
 # Included files
 ##########################
 !include Sections.nsh
-!include MUI.nsh
-!include WinMessages.nsh
+!include MUI2.nsh
+!include nsDialogs.nsh
+!include Memento.nsh
 !include revision.nsh
 !include builddir.nsh
 
-Name &quot;Avidemux 2.4.3 beta r${REVISION}&quot;
+Name &quot;Avidemux 2.5.0 beta r${REVISION}&quot;
 
 SetCompressor /SOLID lzma
 SetCompressorDictSize 96
@@ -15,14 +16,18 @@
 ##########################
 # Defines
 ##########################
-!define INTERNALNAME &quot;Avidemux 2.4&quot;
+!define INTERNALNAME &quot;Avidemux 2.5&quot;
 !define REGKEY &quot;SOFTWARE\${INTERNALNAME}&quot;
 !define UNINST_REGKEY &quot;SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\${INTERNALNAME}&quot;
-!define VERSION 2.4.3.${REVISION}
+!define VERSION 2.5.0.${REVISION}
 !define COMPANY &quot;Free Software Foundation&quot;
 !define URL &quot;<A HREF="http://www.avidemux.org">http://www.avidemux.org</A>&quot;
 
-!define INSTALL_OPTS_INI &quot;InstallOptions.ini&quot;
+##########################
+# Memento defines
+##########################
+!define MEMENTO_REGISTRY_ROOT HKLM
+!define MEMENTO_REGISTRY_KEY &quot;${REGKEY}&quot;
 
 ##########################
 # MUI defines
@@ -56,7 +61,7 @@
 !insertmacro MUI_PAGE_LICENSE License.rtf
 !define MUI_PAGE_CUSTOMFUNCTION_LEAVE CheckSelectedUIs
 !insertmacro MUI_PAGE_COMPONENTS
-Page custom InstallOptionsPage
+Page custom InstallOptionsPage InstallOptionsPageLeave
 !define MUI_PAGE_CUSTOMFUNCTION_PRE IsStartMenuRequired
 !insertmacro MUI_PAGE_STARTMENU Application $StartMenuGroup
 !insertmacro MUI_PAGE_DIRECTORY
@@ -70,7 +75,6 @@
 !define MUI_FINISHPAGE_LINK &quot;Visit the Avidemux Win32 Builds website&quot;
 !define MUI_FINISHPAGE_LINK_LOCATION &quot;<A HREF="http://www.razorbyte.com.au/avidemux/">http://www.razorbyte.com.au/avidemux/</A>&quot;
 !define MUI_PAGE_CUSTOMFUNCTION_PRE ConfigureFinishPage
-!define MUI_PAGE_CUSTOMFUNCTION_SHOW OnShowFinishPage
 !insertmacro MUI_PAGE_FINISH
 !insertmacro MUI_UNPAGE_CONFIRM
 !insertmacro MUI_UNPAGE_INSTFILES
@@ -81,20 +85,14 @@
 !insertmacro MUI_LANGUAGE English
 
 ##########################
-#Reserve files
-##########################
-ReserveFile &quot;${INSTALL_OPTS_INI}&quot;
-!insertmacro MUI_RESERVEFILE_INSTALLOPTIONS
-
-##########################
 # Installer attributes
 ##########################
-OutFile avidemux_2.4_r${REVISION}_win32.exe
-InstallDir &quot;$PROGRAMFILES\Avidemux 2.4&quot;
+OutFile avidemux_2.5_r${REVISION}_win32.exe
+InstallDir &quot;$PROGRAMFILES\Avidemux 2.5&quot;
 CRCCheck on
 XPStyle on
 ShowInstDetails nevershow
-VIProductVersion 2.4.3.${REVISION}
+VIProductVersion 2.5.0.${REVISION}
 VIAddVersionKey ProductName Avidemux
 VIAddVersionKey ProductVersion &quot;${VERSION} (beta)&quot;
 VIAddVersionKey FileVersion &quot;&quot;
@@ -119,7 +117,6 @@
     File ${BUILDDIR}\share\locale\${LANG_CODE}\LC_MESSAGES\avidemux.mo
     File ${BUILDDIR}\share\locale\${LANG_CODE}\LC_MESSAGES\gtk20.mo
 
-    WriteRegStr HKLM &quot;${REGKEY}\Components&quot; ${LANG_NAME} 1
 endGtk${LANG_CODE}:
 !macroend
 
@@ -132,32 +129,16 @@
 	SetOutPath $INSTDIR\i18n
     File ${BUILDDIR}\i18n\avidemux_${LANG_CODE}.qm
     File ${BUILDDIR}\i18n\qt_${LANG_CODE}.qm
-    
-    WriteRegStr HKLM &quot;${REGKEY}\Components&quot; ${LANG_NAME} 1
-endQt4${LANG_CODE}:    
+
+endQt4${LANG_CODE}:
 !macroend
 
 !macro UninstallLanguage LANG_NAME LANG_CODE
     RmDir /r /REBOOTOK $INSTDIR\share\locale\${LANG_CODE}
     Delete /REBOOTOK $INSTDIR\i18n\avidemux_${LANG_CODE}.qm
     Delete /REBOOTOK $INSTDIR\i18n\qt_${LANG_CODE}.qm
-    
-    DeleteRegValue HKLM &quot;${REGKEY}\Components&quot; ${LANG_NAME}
 !macroend
 
-# Macro for selecting sections based on registry setting
-!macro SELECT_SECTION SECTION_NAME SECTION_ID
-    Push $R0
-    ReadRegStr $R0 HKLM &quot;${REGKEY}\Components&quot; &quot;${SECTION_NAME}&quot;
-    StrCmp $R0 1 0 next${SECTION_ID}
-    !insertmacro SelectSection &quot;${SECTION_ID}&quot;
-    GoTo done${SECTION_ID}
-next${SECTION_ID}:
-    !insertmacro UnselectSection &quot;${SECTION_ID}&quot;
-done${SECTION_ID}:
-    Pop $R0
-!macroend
-
 ##########################
 # Installer sections
 ##########################
@@ -171,44 +152,42 @@
     File ${BUILDDIR}\freetype6.dll
     File ${BUILDDIR}\iconv.dll
     File ${BUILDDIR}\intl.dll
+    File ${BUILDDIR}\libADM_core.dll
+    File ${BUILDDIR}\libADM_coreAudio.dll
+    File ${BUILDDIR}\libADM_coreImage.dll
+    File ${BUILDDIR}\libADM_coreUI.dll
+    File ${BUILDDIR}\libADM_smjs.dll
     File ${BUILDDIR}\libaften.dll
     File ${BUILDDIR}\libexpat-*.dll
-    File ${BUILDDIR}\libfaac.dll
-    File ${BUILDDIR}\libfaad2.dll
     File ${BUILDDIR}\libfontconfig-1.dll
-    File ${BUILDDIR}\libmp3lame-0.dll
-    File ${BUILDDIR}\libx264-*.dll
     File ${BUILDDIR}\libxml2.dll
     File ${BUILDDIR}\ogg.dll
     File ${BUILDDIR}\pthreadGC2.dll
     File ${BUILDDIR}\SDL.dll
-    File ${BUILDDIR}\vorbis.dll
-    File ${BUILDDIR}\vorbisenc.dll
     File ${BUILDDIR}\xmltok.dll
-    File ${BUILDDIR}\xvidcore.dll
+    File ${BUILDDIR}\AUTHORS.
+    File ${BUILDDIR}\COPYING.
+    File ${BUILDDIR}\README.
+    File ${BUILDDIR}\avcodec-*.dll
+    File ${BUILDDIR}\avformat-*.dll
+    File ${BUILDDIR}\avutil-*.dll
+    File ${BUILDDIR}\postproc-*.dll
+    File ${BUILDDIR}\swscale-*.dll
     SetOutPath $INSTDIR\etc\fonts
     File /r ${BUILDDIR}\etc\fonts\*
-
-    # if $PROFILE\avidemux exists and $APPDATA\avidemux doesn't, then move it
-    IfFileExists &quot;$PROFILE\avidemux&quot; 0 end
-    IfFileExists &quot;$APPDATA\avidemux&quot; end
-
-    Rename &quot;$PROFILE\avidemux&quot; &quot;$APPDATA\avidemux&quot;
-
-end:
-    WriteRegStr HKLM &quot;${REGKEY}\Components&quot; &quot;Core files (required)&quot; 1
 SectionEnd
 
 SectionGroup /e &quot;User interfaces&quot; SecGrpUI
-    Section &quot;Command line&quot; SecUiCli
+    ${MementoSection} &quot;Command line&quot; SecUiCli
         SectionIn 1 2
         SetOutPath $INSTDIR
         SetOverwrite on
         File ${BUILDDIR}\avidemux2_cli.exe
-        WriteRegStr HKLM &quot;${REGKEY}\Components&quot; &quot;Command line&quot; 1
-    SectionEnd
+        File ${BUILDDIR}\libADM_render_cli.dll
+        File ${BUILDDIR}\libADM_UICli.dll
+    ${MementoSectionEnd}
 
-    Section GTK+ SecUiGtk
+    ${MementoUnselectedSection} GTK+ SecUiGtk
         SectionIn 2
         SetOverwrite on
         SetOutPath $INSTDIR\etc\gtk-2.0
@@ -223,6 +202,8 @@
         File ${BUILDDIR}\avidemux2_gtk.exe
         File ${BUILDDIR}\gtk2_prefs.exe
         File ${BUILDDIR}\jpeg62.dll
+        File ${BUILDDIR}\libADM_render_gtk.dll
+        File ${BUILDDIR}\libADM_UIGtk.dll
         File ${BUILDDIR}\libatk-1.0-0.dll
         File ${BUILDDIR}\libcairo-2.dll
         File ${BUILDDIR}\libgdk_pixbuf-2.0-0.dll
@@ -238,163 +219,800 @@
         File ${BUILDDIR}\libpangowin32-1.0-0.dll
         File ${BUILDDIR}\libpng12-0.dll
         File ${BUILDDIR}\libtiff3.dll
-        WriteRegStr HKLM &quot;${REGKEY}\Components&quot; GTK+ 1
-    SectionEnd
-    
-    Section Qt4 SecUiQt4
+    ${MementoSectionEnd}
+
+    ${MementoSection} Qt4 SecUiQt4
         SectionIn 1 2
         SetOutPath $INSTDIR
         SetOverwrite on
         File ${BUILDDIR}\QtGui4.dll
         File ${BUILDDIR}\avidemux2_qt4.exe
+        File ${BUILDDIR}\libADM_render_qt4.dll
+        File ${BUILDDIR}\libADM_UIQT4.dll
         File ${BUILDDIR}\mingwm10.dll
         File ${BUILDDIR}\QtCore4.dll
-        WriteRegStr HKLM &quot;${REGKEY}\Components&quot; Qt4 1
-    SectionEnd    
+    ${MementoSectionEnd}
 SectionGroupEnd
 
+SectionGroup Plugins SecGrpPlugin
+	SectionGroup &quot;Audio Decoders&quot; SecGrpAudioDecoder
+		${MementoSection} &quot;FAAD2 (AAC)&quot; SecAudDecFaad
+			SectionIn 1 2
+			SetOverwrite on
+			SetOutPath $INSTDIR\lib\ADM_plugins\audioDecoder
+			File ${BUILDDIR}\lib\ADM_plugins\audioDecoder\libADM_ad_faad.dll
+			SetOutPath $INSTDIR
+			File ${BUILDDIR}\libfaad2.dll
+		${MementoSectionEnd}
+		${MementoSection} &quot;liba52 (AC-3)&quot; SecAudDecA52
+			SectionIn 1 2
+			SetOverwrite on
+			SetOutPath $INSTDIR\lib\ADM_plugins\audioDecoder
+			File ${BUILDDIR}\lib\ADM_plugins\audioDecoder\libADM_ad_a52.dll
+		${MementoSectionEnd}
+		${MementoSection} &quot;MAD (MPEG)&quot; SecAudDecMad
+			SectionIn 1 2
+			SetOverwrite on
+			SetOutPath $INSTDIR\lib\ADM_plugins\audioDecoder
+			File ${BUILDDIR}\lib\ADM_plugins\audioDecoder\libADM_ad_Mad.dll
+		${MementoSectionEnd}
+	SectionGroupEnd
+	SectionGroup &quot;Audio Devices&quot; SecGrpAudioDevice
+		${MementoUnselectedSection} SDL SecAudDevSdl
+			SectionIn 2
+			SetOverwrite on
+			SetOutPath $INSTDIR\lib\ADM_plugins\audioDevices
+			File ${BUILDDIR}\lib\ADM_plugins\audioDevices\libADM_av_sdl.dll
+		${MementoSectionEnd}
+		${MementoSection} &quot;MS Windows (Waveform)&quot; SecAudDevWaveform
+			SectionIn 1 2
+			SetOverwrite on
+			SetOutPath $INSTDIR\lib\ADM_plugins\audioDevices
+			File ${BUILDDIR}\lib\ADM_plugins\audioDevices\libADM_av_win32.dll
+		${MementoSectionEnd}
+	SectionGroupEnd
+	SectionGroup &quot;Audio Encoders&quot; SecGrpAudioEncoder
+		${MementoSection} &quot;FAAC (AAC)&quot; SecAudEncFaac
+			SectionIn 1 2
+			SetOverwrite on
+			SetOutPath $INSTDIR\lib\ADM_plugins\audioEncoders
+			File ${BUILDDIR}\lib\ADM_plugins\audioEncoders\libADM_ae_faac.dll
+			SetOutPath $INSTDIR
+			File ${BUILDDIR}\libfaac.dll
+		${MementoSectionEnd}
+		${MementoSection} &quot;LAME (MP3)&quot; SecAudEncLame
+			SectionIn 1 2
+			SetOverwrite on
+			SetOutPath $INSTDIR\lib\ADM_plugins\audioEncoders
+			File ${BUILDDIR}\lib\ADM_plugins\audioEncoders\libADM_ae_lame.dll
+			SetOutPath $INSTDIR
+			File ${BUILDDIR}\libmp3lame-0.dll
+		${MementoSectionEnd}
+		${MementoSection} &quot;libavcodec (AC-3)&quot; SecAudEncLavAc3
+			SectionIn 1 2
+			SetOverwrite on
+			SetOutPath $INSTDIR\lib\ADM_plugins\audioEncoders
+			File ${BUILDDIR}\lib\ADM_plugins\audioEncoders\libADM_ae_lav_ac3.dll
+		${MementoSectionEnd}
+		${MementoSection} &quot;libavcodec (MP2)&quot; SecAudEncLavMp2
+			SectionIn 1 2
+			SetOverwrite on
+			SetOutPath $INSTDIR\lib\ADM_plugins\audioEncoders
+			File ${BUILDDIR}\lib\ADM_plugins\audioEncoders\libADM_ae_lav_mp2.dll
+		${MementoSectionEnd}
+		${MementoSection} &quot;libvorbis (Vorbis)&quot; SecAudEncVorbis
+			SectionIn 1 2
+			SetOverwrite on
+			SetOutPath $INSTDIR\lib\ADM_plugins\audioEncoders
+			File ${BUILDDIR}\lib\ADM_plugins\audioEncoders\libADM_ae_vorbis.dll
+			SetOutPath $INSTDIR
+			File ${BUILDDIR}\vorbis.dll
+			File ${BUILDDIR}\vorbisenc.dll
+		${MementoSectionEnd}
+		${MementoSection} &quot;PCM&quot; SecAudEncPcm
+			SectionIn 1 2
+			SetOverwrite on
+			SetOutPath $INSTDIR\lib\ADM_plugins\audioEncoders
+			File ${BUILDDIR}\lib\ADM_plugins\audioEncoders\libADM_ae_pcm.dll
+		${MementoSectionEnd}
+		${MementoSection} &quot;TwoLAME (MP2)&quot; SecAudEncTwoLame
+			SectionIn 1 2
+			SetOverwrite on
+			SetOutPath $INSTDIR\lib\ADM_plugins\audioEncoders
+			File ${BUILDDIR}\lib\ADM_plugins\audioEncoders\libADM_ae_twolame.dll
+		${MementoSectionEnd}
+	SectionGroupEnd
+	SectionGroup &quot;Video Encoders&quot; SecGrpVideoEncoder
+		${MementoSection} &quot;x264 (MPEG-4 AVC)&quot; SecVidEncX264
+			SectionIn 1 2
+			SetOverwrite on
+			SetOutPath $INSTDIR\lib\ADM_plugins\videoEncoder
+			File ${BUILDDIR}\lib\ADM_plugins\videoEncoder\libADM_vidEnc_x264.dll
+			SetOutPath $INSTDIR\lib\ADM_plugins\videoEncoder\x264
+			!insertmacro SectionFlagIsSet ${SecUiGtk} ${SF_SELECTED} InstallGtk CheckQt4
+InstallGtk:
+			File ${BUILDDIR}\lib\ADM_plugins\videoEncoder\x264\libADM_vidEnc_x264_Gtk.dll
+CheckQt4:
+			!insertmacro SectionFlagIsSet ${SecUiQt4} ${SF_SELECTED} InstallQt4 End
+InstallQt4:
+			File ${BUILDDIR}\lib\ADM_plugins\videoEncoder\x264\libADM_vidEnc_x264_Qt.dll
+End:
+			File ${BUILDDIR}\lib\ADM_plugins\videoEncoder\x264\x264Param.xsd
+			File ${BUILDDIR}\lib\ADM_plugins\videoEncoder\x264\*.xml
+			SetOutPath $INSTDIR
+			File ${BUILDDIR}\libx264-*.dll
+		${MementoSectionEnd}
+		${MementoSection} &quot;Xvid (MPEG-4 ASP)&quot; SecVidEncXvid
+			SectionIn 1 2
+			SetOverwrite on
+			SetOutPath $INSTDIR\lib\ADM_plugins\videoEncoder
+			File ${BUILDDIR}\lib\ADM_plugins\videoEncoder\libADM_vidEnc_xvid.dll
+SetOutPath $INSTDIR\lib\ADM_plugins\videoEncoder\xvid
+			!insertmacro SectionFlagIsSet ${SecUiGtk} ${SF_SELECTED} InstallGtk CheckQt4
+InstallGtk:
+			File ${BUILDDIR}\lib\ADM_plugins\videoEncoder\xvid\libADM_vidEnc_Xvid_Gtk.dll
+CheckQt4:
+			!insertmacro SectionFlagIsSet ${SecUiQt4} ${SF_SELECTED} InstallQt4 End
+InstallQt4:
+			File ${BUILDDIR}\lib\ADM_plugins\videoEncoder\xvid\libADM_vidEnc_Xvid_Qt.dll
+End:
+			File ${BUILDDIR}\lib\ADM_plugins\videoEncoder\xvid\XvidParam.xsd
+			#File ${BUILDDIR}\lib\ADM_plugins\videoEncoder\xvid\*.xml
+			SetOutPath $INSTDIR
+			File ${BUILDDIR}\xvidcore.dll
+		${MementoSectionEnd}
+	SectionGroupEnd
+	SectionGroup &quot;Video Filters&quot; SecGrpVideoFilter
+		SectionGroup &quot;Transform Filters&quot; SecGrpVideoFilterTransform
+			${MementoSection} &quot;Add Black Borders&quot; SecVidFltBlackBorders
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_addborders.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Avisynth Resize&quot; SecVidFltAvisynthResize
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+
+				!insertmacro SectionFlagIsSet ${SecUiGtk} ${SF_SELECTED} InstallGtk CheckQt4
+InstallGtk:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_avisynthResize_gtk.dll
+CheckQt4:
+				!insertmacro SectionFlagIsSet ${SecUiQt4} ${SF_SELECTED} InstallQt4 End
+InstallQt4:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_avisynthResize_qt4.dll
+End:
+			${MementoSectionEnd}
+			${MementoSection} &quot;Blacken Borders&quot; SecVidFltBlackenBorders
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_blackenBorders.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Crop&quot; SecVidFltCrop
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+
+				!insertmacro SectionFlagIsSet ${SecUiGtk} ${SF_SELECTED} InstallGtk CheckQt4
+InstallGtk:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_Crop_gtk.dll
+CheckQt4:
+				!insertmacro SectionFlagIsSet ${SecUiQt4} ${SF_SELECTED} InstallQt4 End
+InstallQt4:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_crop_qt4.dll
+End:
+			${MementoSectionEnd}
+			${MementoSection} &quot;Fade&quot; SecVidFltFade
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_fade.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;MPlayer Resize&quot; SecVidFltMplayerResize
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+
+				!insertmacro SectionFlagIsSet ${SecUiGtk} ${SF_SELECTED} InstallGtk CheckQt4
+InstallGtk:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_mplayerResize_gtk.dll
+CheckQt4:
+				!insertmacro SectionFlagIsSet ${SecUiQt4} ${SF_SELECTED} InstallQt4 End
+InstallQt4:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_mplayerResize_qt4.dll
+End:
+			${MementoSectionEnd}
+			${MementoSection} &quot;Resample FPS&quot; SecVidFltResampleFps
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_resampleFps.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Reverse&quot; SecVidFltReverse
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_reverse.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Rotate&quot; SecVidFltRotate
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_rotate.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Vertical Flip&quot; SecVidFltVerticalFlip
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_vflip.dll
+			${MementoSectionEnd}
+		SectionGroupEnd
+		SectionGroup &quot;Interlacing Filters&quot; SecGrpVideoFilterInterlacing
+			${MementoSection} &quot;Decomb Decimate&quot; SecVidFltDecombDecimate
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_decimate.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Decomb Telecide&quot; SecVidFltDecombTelecide
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_telecide.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Deinterlace&quot; SecVidFltDeinterlace
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_Deinterlace.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;DG Bob&quot; SecVidFltDbGob
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_blendDgBob.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Drop&quot; SecVidFltDrop
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_dropOut.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Fade&quot; SecVidFltFadeInterlace
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_separateField.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Gauss Smooth&quot; SecVidFltGaussSmooth
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_fastconvolutiongauss.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Keep Even Fields&quot; SecVidFltKeepEvenFields
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_keepEvenField.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Keep Odd Fields&quot; SecVidFltKeepOddFields
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_keepOddField.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;KernelDeint&quot; SecVidFltKernelDeint
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_kernelDeint.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;libavcodec Deinterlacer&quot; SecVidFltLavDeinterlacer
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_lavDeinterlace.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;mcDeint&quot; SecVidFltMcDeint
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_mcdeint.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Mean&quot; SecVidFltMean
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_fastconvolutionmean.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Median&quot; SecVidFltMedian
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_fastconvolutionmedian.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Merge Fields&quot; SecVidFltMergeFields
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_mergeField.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;PAL Field Shift&quot; SecVidFltPalFieldShift
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_palShift.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;PAL Smart Field Shift&quot; SecVidFltPalSmartFieldShift
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_smartPalShift.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Pulldown&quot; SecVidFltPulldown
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_Pulldown.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Separate Fields&quot; SecVidFltSeparateFields
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_hzStackField.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Sharpen&quot; SecVidFltSharpen
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_fastconvolutionsharpen.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Smart Swap Fields&quot; SecVidFltSmartSwapFields
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_smartSwapField.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Stack Fields&quot; SecVidFltStackFields
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_stackField.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Swap Fields&quot; SecVidFltSwapFields
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_swapField.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;TDeint&quot; SecVidFltTDeint
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_tdeint.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Unstack Fields&quot; SecVidFltUnstackFields
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_unstackField.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;yadif&quot; SecVidFltYadif
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_yadif.dll
+			${MementoSectionEnd}
+		SectionGroupEnd
+		SectionGroup &quot;Colour Filters&quot; SecGrpVideoFilterColour
+			${MementoSection} &quot;Avisynth ColorYUV&quot; SecVidFltAvisynthColorYuv
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+
+				!insertmacro SectionFlagIsSet ${SecUiGtk} ${SF_SELECTED} InstallGtk CheckQt4
+InstallGtk:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_colorYUV_gtk.dll
+CheckQt4:
+				!insertmacro SectionFlagIsSet ${SecUiQt4} ${SF_SELECTED} InstallQt4 End
+InstallQt4:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_colorYUV_qt4.dll
+End:
+			${MementoSectionEnd}
+			${MementoSection} &quot;Blend Removal&quot; SecVidFltBlendRemoval
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_blendRemoval.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Chroma Shift&quot; SecVidFltChromaShift
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+
+				!insertmacro SectionFlagIsSet ${SecUiGtk} ${SF_SELECTED} InstallGtk CheckQt4
+InstallGtk:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_chromaShift_gtk.dll
+CheckQt4:
+				!insertmacro SectionFlagIsSet ${SecUiQt4} ${SF_SELECTED} InstallQt4 End
+InstallQt4:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_chromaShift_qt4.dll
+End:
+			${MementoSectionEnd}
+			${MementoSection} &quot;Chroma U&quot; SecVidFltChromaU
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vidChromaU.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Chroma V&quot; SecVidFltChromaV
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vidChromaV.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Contrast&quot; SecVidFltContrast
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+
+				!insertmacro SectionFlagIsSet ${SecUiGtk} ${SF_SELECTED} InstallGtk CheckQt4
+InstallGtk:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_contrast_gtk.dll
+CheckQt4:
+				!insertmacro SectionFlagIsSet ${SecUiQt4} ${SF_SELECTED} InstallQt4 End
+InstallQt4:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_contrast_qt4.dll
+End:
+			${MementoSectionEnd}
+			${MementoSection} &quot;Luma Delta&quot; SecVidFltLumaDelta
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_Delta.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Luma Equaliser&quot; SecVidFltLumaEqualiser
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+
+				!insertmacro SectionFlagIsSet ${SecUiGtk} ${SF_SELECTED} InstallGtk CheckQt4
+InstallGtk:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_equalizer_gtk.dll
+CheckQt4:
+				!insertmacro SectionFlagIsSet ${SecUiQt4} ${SF_SELECTED} InstallQt4 End
+InstallQt4:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_equalizer_qt4.dll
+End:
+			${MementoSectionEnd}
+			${MementoSection} &quot;Luma Only&quot; SecVidFltLumaOnly
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_lumaonly.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Mplayer Eq2&quot; SecVidFltMPlayerEq2
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+
+				!insertmacro SectionFlagIsSet ${SecUiGtk} ${SF_SELECTED} InstallGtk CheckQt4
+InstallGtk:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_eq2_gtk.dll
+CheckQt4:
+				!insertmacro SectionFlagIsSet ${SecUiQt4} ${SF_SELECTED} InstallQt4 End
+InstallQt4:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_eq2_qt4.dll
+End:
+			${MementoSectionEnd}
+			${MementoSection} &quot;Mplayer Hue&quot; SecVidFltMPlayerHue
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+
+				!insertmacro SectionFlagIsSet ${SecUiGtk} ${SF_SELECTED} InstallGtk CheckQt4
+InstallGtk:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_hue_gtk.dll
+CheckQt4:
+				!insertmacro SectionFlagIsSet ${SecUiQt4} ${SF_SELECTED} InstallQt4 End
+InstallQt4:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_hue_qt4.dll
+End:
+			${MementoSectionEnd}
+			${MementoSection} &quot;Swap U and V&quot; SecVidFltSwapUandV
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_swapuv.dll
+			${MementoSectionEnd}
+		SectionGroupEnd
+		SectionGroup &quot;Noise Filters&quot; SecGrpVideoFilterNoise
+			${MementoSection} &quot;Cnr2&quot; SecVidFltCnr2
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+
+				!insertmacro SectionFlagIsSet ${SecUiGtk} ${SF_SELECTED} InstallGtk CheckQt4
+InstallGtk:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_cnr2_gtk.dll
+CheckQt4:
+				!insertmacro SectionFlagIsSet ${SecUiQt4} ${SF_SELECTED} InstallQt4 End
+InstallQt4:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_cnr2_qt4.dll
+End:
+			${MementoSectionEnd}
+			${MementoSection} &quot;Denoise&quot; SecVidFltDenoise
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_Denoise.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;FluxSmooth&quot; SecVidFltFluxSmooth
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_FluxSmooth.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Forced Post-processing&quot; SecVidFltForcedPostProcessing
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_forcedPP.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Light Denoiser&quot; SecVidFltLightDenoiser
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_Stabilize.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Median (5x5)&quot; SecVidFltMediam5x5
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_largemedian.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;MPlayer Denoise3d&quot; SecVidFltMPlayerDenoise3d
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_denoise3d.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;MPlayer Hqdn3d&quot; SecVidFltMPlayerHqdn3d
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_denoise3dhq.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Temporal Cleaner&quot; SecVidFltTemporalCleaner
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_vlad.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;TIsophote&quot; SecVidFltTisophote
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_Tisophote.dll
+			${MementoSectionEnd}
+		SectionGroupEnd
+		SectionGroup &quot;Sharpness Filters&quot; SecGrpVideoFilterSharpness
+			${MementoSection} &quot;asharp&quot; SecVidFltAsharp
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+
+				!insertmacro SectionFlagIsSet ${SecUiGtk} ${SF_SELECTED} InstallGtk CheckQt4
+InstallGtk:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_asharp_gtk.dll
+CheckQt4:
+				!insertmacro SectionFlagIsSet ${SecUiQt4} ${SF_SELECTED} InstallQt4 End
+InstallQt4:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_asharp_qt4.dll
+End:
+			${MementoSectionEnd}
+			${MementoSection} &quot;MSharpen&quot; SecVidFltMSharpen
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_mSharpen.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;MSmooth&quot; SecVidFltMSmooth
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_mSmooth.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Soften&quot; SecVidFltSoften
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_soften.dll
+			${MementoSectionEnd}
+		SectionGroupEnd
+		SectionGroup &quot;Subtitle Filters&quot; SecGrpVideoFilterSubtitle
+			${MementoSection} &quot;ASS/SSA&quot; SecVidFltAssSsa
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_ssa.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;Subtitler&quot; SecVidFltSubtitler
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+
+				!insertmacro SectionFlagIsSet ${SecUiGtk} ${SF_SELECTED} InstallGtk CheckQt4
+InstallGtk:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_sub_gtk.dll
+CheckQt4:
+				!insertmacro SectionFlagIsSet ${SecUiQt4} ${SF_SELECTED} InstallQt4 End
+InstallQt4:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_sub_qt4.dll
+End:
+			${MementoSectionEnd}
+		SectionGroupEnd
+		SectionGroup &quot;Miscellaneous Filters&quot; SecGrpVideoFilterMiscellaneous
+			${MementoSection} &quot;Mosaic&quot; SecVidFltMosaic
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_Mosaic.dll
+			${MementoSectionEnd}
+			${MementoSection} &quot;MPlayer Delogo&quot; SecVidFltMPlayerDelogo
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+
+				!insertmacro SectionFlagIsSet ${SecUiGtk} ${SF_SELECTED} InstallGtk CheckQt4
+InstallGtk:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_mpdelogo_gtk.dll
+CheckQt4:
+				!insertmacro SectionFlagIsSet ${SecUiQt4} ${SF_SELECTED} InstallQt4 End
+InstallQt4:
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_mpdelogo_qt4.dll
+End:
+			${MementoSectionEnd}
+			${MementoSection} &quot;Whirl&quot; SecVidFltWhirl
+				SectionIn 1 2
+				SetOverwrite on
+				SetOutPath $INSTDIR\lib\ADM_plugins\videoFilter
+				File ${BUILDDIR}\lib\ADM_plugins\videoFilter\libADM_vf_Whirl.dll
+			${MementoSectionEnd}
+		SectionGroupEnd
+	SectionGroupEnd
+SectionGroupEnd
+
 SectionGroup &quot;Additional languages&quot; SecGrpLang
-    Section &quot;Catalan (GTK+ only)&quot; SecLangCatalan
+    ${MementoUnselectedSection} &quot;Catalan (GTK+ only)&quot; SecLangCatalan
         SectionIn 2
         !insertmacro InstallGtkLanguage Catalan ca
-    SectionEnd
+    ${MementoSectionEnd}
 
-    Section &quot;Czech&quot; SecLangCzech
+    ${MementoUnselectedSection} &quot;Czech&quot; SecLangCzech
         SectionIn 2
         !insertmacro InstallGtkLanguage Czech cs
         !insertmacro InstallQt4Language Czech cs
-    SectionEnd
+    ${MementoSectionEnd}
 
-    Section &quot;French&quot; SecLangFrench
+    ${MementoUnselectedSection} &quot;French&quot; SecLangFrench
         SectionIn 2
         !insertmacro InstallGtkLanguage French fr
         !insertmacro InstallQt4Language French fr
-    SectionEnd
+    ${MementoSectionEnd}
 
-    Section &quot;German (GTK+ only)&quot; SecLangGerman
+    ${MementoUnselectedSection} &quot;German (GTK+ only)&quot; SecLangGerman
         SectionIn 2
         !insertmacro InstallGtkLanguage German de
-    SectionEnd
+    ${MementoSectionEnd}
 
-    Section &quot;Greek (GTK+ only)&quot; SecLangGreek
+    ${MementoUnselectedSection} &quot;Greek (GTK+ only)&quot; SecLangGreek
         SectionIn 2
         !insertmacro InstallGtkLanguage Greek el
-    SectionEnd
+    ${MementoSectionEnd}
 
-    Section &quot;Italian&quot; SecLangItalian
+    ${MementoUnselectedSection} &quot;Italian&quot; SecLangItalian
         SectionIn 2
         !insertmacro InstallGtkLanguage Italian it
         !insertmacro InstallQt4Language Italian it
-    SectionEnd
+    ${MementoSectionEnd}
 
-    Section &quot;Japanese (GTK+ only)&quot; SecLangJapanese
+    ${MementoUnselectedSection} &quot;Japanese (GTK+ only)&quot; SecLangJapanese
         SectionIn 2
         !insertmacro InstallGtkLanguage Japanese ja
-    SectionEnd
+    ${MementoSectionEnd}
 
-    Section &quot;Russian (GTK+ only)&quot; SecLangRussian
+    ${MementoUnselectedSection} &quot;Russian (GTK+ only)&quot; SecLangRussian
         SectionIn 2
         !insertmacro InstallGtkLanguage Russian ru
-    SectionEnd
+    ${MementoSectionEnd}
 
-    Section &quot;Serbian Cyrillic (GTK+ only)&quot; SecLangSerbianCyrillic
+    ${MementoUnselectedSection} &quot;Serbian Cyrillic (GTK+ only)&quot; SecLangSerbianCyrillic
         SectionIn 2
         !insertmacro InstallGtkLanguage SerbianCyrillic sr
-    SectionEnd
+    ${MementoSectionEnd}
 
-    Section &quot;Serbian Latin (GTK+ only)&quot; SecLangSerbianLatin
+    ${MementoUnselectedSection} &quot;Serbian Latin (GTK+ only)&quot; SecLangSerbianLatin
         SectionIn 2
         !insertmacro InstallGtkLanguage SerbianLatin <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">sr at latin</A>
-    SectionEnd
+    ${MementoSectionEnd}
 
-    Section &quot;Spanish (GTK+ only)&quot; SecLangSpanish
+    ${MementoUnselectedSection} &quot;Spanish (GTK+ only)&quot; SecLangSpanish
         SectionIn 2
         !insertmacro InstallGtkLanguage Spanish es
-    SectionEnd
+    ${MementoSectionEnd}
 
-    Section &quot;Turkish (GTK+ only)&quot; SecLangTurkish
+    ${MementoUnselectedSection} &quot;Turkish (GTK+ only)&quot; SecLangTurkish
         SectionIn 2
         !insertmacro InstallGtkLanguage Turkish tr
-    SectionEnd
+    ${MementoSectionEnd}
 SectionGroupEnd
 
-Section AvsProxy SecAvsProxy
+${MementoUnselectedSection} &quot;Avisynth Proxy&quot; SecAvsProxy
     SectionIn 2
     SetOutPath $INSTDIR
     SetOverwrite on
     File /r ${BUILDDIR}\avsproxy.exe
     File /r ${BUILDDIR}\avsproxy_gui.exe
-    WriteRegStr HKLM &quot;${REGKEY}\Components&quot; &quot;AvsProxy&quot; 1
-SectionEnd
+${MementoSectionEnd}
 
-Section &quot;Sample external filter&quot; SecFilter
-    SectionIn 2
-    SetOutPath $INSTDIR\plugin
-    SetOverwrite on
-    File /r ${BUILDDIR}\plugin\*
-    WriteRegStr HKLM &quot;${REGKEY}\Components&quot; &quot;Sample external filter&quot; 1
-SectionEnd
-
-Section &quot;-Start menu Change Log&quot; SecStartMenuChangeLog
+${MementoSection} &quot;-Start menu Change Log&quot; SecStartMenuChangeLog
     CreateDirectory $SMPROGRAMS\$StartMenuGroup
     !insertmacro MUI_STARTMENU_WRITE_BEGIN Application
     SetOutPath $INSTDIR
     CreateShortcut &quot;$SMPROGRAMS\$StartMenuGroup\Change Log.lnk&quot; &quot;$INSTDIR\Change Log.html&quot;
     !insertmacro MUI_STARTMENU_WRITE_END
-    WriteRegStr HKLM &quot;${REGKEY}\Components&quot; &quot;Start menu&quot; 1
-SectionEnd
+${MementoSectionEnd}
 
-Section &quot;-Start menu GTK+&quot; SecStartMenuGtk
+${MementoSection} &quot;-Start menu GTK+&quot; SecStartMenuGtk
     CreateDirectory $SMPROGRAMS\$StartMenuGroup
     !insertmacro MUI_STARTMENU_WRITE_BEGIN Application
     SetOutPath $INSTDIR
     CreateShortcut &quot;$SMPROGRAMS\$StartMenuGroup\${INTERNALNAME} GTK+.lnk&quot; $INSTDIR\avidemux2_gtk.exe
     !insertmacro MUI_STARTMENU_WRITE_END
-    WriteRegStr HKLM &quot;${REGKEY}\Components&quot; &quot;Start menu&quot; 1
-SectionEnd
+${MementoSectionEnd}
 
-Section &quot;-Start menu Qt4&quot; SecStartMenuQt4
+${MementoSection} &quot;-Start menu Qt4&quot; SecStartMenuQt4
     CreateDirectory $SMPROGRAMS\$StartMenuGroup
     !insertmacro MUI_STARTMENU_WRITE_BEGIN Application
     SetOutPath $INSTDIR
     CreateShortcut &quot;$SMPROGRAMS\$StartMenuGroup\${INTERNALNAME} Qt4.lnk&quot; $INSTDIR\avidemux2_qt4.exe
     !insertmacro MUI_STARTMENU_WRITE_END
-    WriteRegStr HKLM &quot;${REGKEY}\Components&quot; &quot;Start menu&quot; 1
-SectionEnd
+${MementoSectionEnd}
 
-Section &quot;-Start menu AVS Proxy GUI&quot; SecStartMenuAvsProxyGui
+${MementoSection} &quot;-Start menu AVS Proxy GUI&quot; SecStartMenuAvsProxyGui
     CreateDirectory $SMPROGRAMS\$StartMenuGroup
     !insertmacro MUI_STARTMENU_WRITE_BEGIN Application
     SetOutPath $INSTDIR
     CreateShortcut &quot;$SMPROGRAMS\$StartMenuGroup\AVS Proxy GUI.lnk&quot; &quot;$INSTDIR\avsproxy_gui.exe&quot;
     !insertmacro MUI_STARTMENU_WRITE_END
-    WriteRegStr HKLM &quot;${REGKEY}\Components&quot; &quot;Start menu&quot; 1
-SectionEnd
+${MementoSectionEnd}
 
-Section &quot;-Quick Launch GTK+&quot; SecQuickLaunchGtk
+${MementoSection} &quot;-Quick Launch GTK+&quot; SecQuickLaunchGtk
     SetOutPath $INSTDIR
     CreateShortcut &quot;$QUICKLAUNCH\${INTERNALNAME} GTK+.lnk&quot; $INSTDIR\avidemux2_gtk.exe
-    WriteRegStr HKLM &quot;${REGKEY}\Components&quot; &quot;Quick Launch&quot; 1
-SectionEnd
+${MementoSectionEnd}
 
-Section &quot;-Quick Launch Qt4&quot; SecQuickLaunchQt4
+${MementoSection} &quot;-Quick Launch Qt4&quot; SecQuickLaunchQt4
     SetOutPath $INSTDIR
     CreateShortcut &quot;$QUICKLAUNCH\${INTERNALNAME} Qt4.lnk&quot; $INSTDIR\avidemux2_qt4.exe
-    WriteRegStr HKLM &quot;${REGKEY}\Components&quot; &quot;Quick Launch&quot; 1
-SectionEnd
+${MementoSectionEnd}
 
-Section &quot;-Desktop GTK+&quot; SecDesktopGtk
+${MementoSection} &quot;-Desktop GTK+&quot; SecDesktopGtk
     SetOutPath $INSTDIR
     CreateShortcut &quot;$DESKTOP\${INTERNALNAME} GTK+.lnk&quot; $INSTDIR\avidemux2_gtk.exe
-    WriteRegStr HKLM &quot;${REGKEY}\Components&quot; &quot;Desktop&quot; 1
-SectionEnd
+${MementoSectionEnd}
 
-Section &quot;-Desktop Qt4&quot; SecDesktopQt4
+${MementoSection} &quot;-Desktop Qt4&quot; SecDesktopQt4
     SetOutPath $INSTDIR
     CreateShortcut &quot;$DESKTOP\${INTERNALNAME} Qt4.lnk&quot; $INSTDIR\avidemux2_qt4.exe
-    WriteRegStr HKLM &quot;${REGKEY}\Components&quot; &quot;Desktop&quot; 1
-SectionEnd
+${MementoSectionEnd}
 
+${MementoSectionDone}
+
 Section -post SecUninstaller
     SectionIn 1 2
     WriteRegStr HKLM &quot;${REGKEY}&quot; Path $INSTDIR
@@ -411,15 +1029,9 @@
 ##########################
 # Uninstaller sections
 ##########################
-Section /o &quot;un.Sample external filter&quot; UnSecFilter
-    RmDir /r /REBOOTOK $INSTDIR\plugin
-    DeleteRegValue HKLM &quot;${REGKEY}\Components&quot; &quot;Sample external filter&quot;
-SectionEnd
-
 Section /o &quot;un.AvsProxy&quot; UnSecAvsProxy
     Delete /REBOOTOK $INSTDIR\avsproxy.exe
     Delete /REBOOTOK $INSTDIR\avsproxy_gui.exe
-    DeleteRegValue HKLM &quot;${REGKEY}\Components&quot; &quot;AvsProxy&quot;
 SectionEnd
 
 Section /o un.Catalan UnSecLangCatalan
@@ -493,7 +1105,6 @@
     RmDir /r /REBOOTOK $INSTDIR\lib\gtk-2.0
     RmDir /r /REBOOTOK $INSTDIR\etc\gtk-2.0
     RmDir /r /REBOOTOK $INSTDIR\etc\pango
-    DeleteRegValue HKLM &quot;${REGKEY}\Components&quot; GTK+
 SectionEnd
 
 Section /o un.Qt4 UnSecUiQt4
@@ -501,12 +1112,10 @@
     Delete /REBOOTOK $INSTDIR\mingwm10.dll
     Delete /REBOOTOK $INSTDIR\avidemux2_qt4.exe
     Delete /REBOOTOK $INSTDIR\QtGui4.dll
-    DeleteRegValue HKLM &quot;${REGKEY}\Components&quot; Qt4
 SectionEnd
 
 Section /o &quot;un.Command line&quot; UnSecUiCli
     Delete /REBOOTOK $INSTDIR\avidemux2_cli.exe
-    DeleteRegValue HKLM &quot;${REGKEY}\Components&quot; &quot;Command line&quot;
 SectionEnd
 
 Section /o &quot;un.Core files (required)&quot; UnSecCore
@@ -534,8 +1143,7 @@
     Delete /REBOOTOK &quot;$INSTDIR\stdout.txt&quot;
     Delete /REBOOTOK &quot;$INSTDIR\stderr.txt&quot;
     RmDir /r /REBOOTOK $INSTDIR\etc\fonts
-    DeleteRegValue HKLM &quot;${REGKEY}\Components&quot; Avidemux
-    
+
     RmDir /REBOOTOK $INSTDIR\share\gettext
     RmDir /REBOOTOK $INSTDIR\share
 SectionEnd
@@ -568,7 +1176,6 @@
     Delete /REBOOTOK $INSTDIR\uninstall.exe
     DeleteRegValue HKLM &quot;${REGKEY}&quot; StartMenuGroup
     DeleteRegValue HKLM &quot;${REGKEY}&quot; Path
-    DeleteRegKey /IfEmpty HKLM &quot;${REGKEY}\Components&quot;
     DeleteRegKey /IfEmpty HKLM &quot;${REGKEY}&quot;
     RmDir /REBOOTOK $SMPROGRAMS\$StartMenuGroup
     RmDir /REBOOTOK $INSTDIR
@@ -585,71 +1192,56 @@
 Function .onInit
     ReadRegStr $R0  HKLM &quot;${UNINST_REGKEY}&quot; &quot;UninstallString&quot;
     StrCmp $R0 &quot;&quot; startInstall
- 
+
     MessageBox MB_YESNO|MB_ICONEXCLAMATION &quot;${INTERNALNAME} has already been installed. $\n$\nDo you want to remove \
       the previous version before installing $(^Name)?&quot; IDNO startInstall
-  
+
     # Run the uninstaller
     ClearErrors
     ExecWait '$R0 _?=$INSTDIR' ; Do not copy the uninstaller to a temp file
 
 startInstall:
     InitPluginsDir
-    
-    !insertmacro MUI_INSTALLOPTIONS_EXTRACT &quot;${INSTALL_OPTS_INI}&quot;
 
-    # Make sure a User Interface is selected in previous install preferences
-    ReadRegStr $0 HKLM &quot;${REGKEY}\Components&quot; &quot;Command line&quot;
-    StrCmp $0 1 populate
-    ReadRegStr $0 HKLM &quot;${REGKEY}\Components&quot; &quot;GTK+&quot;
-    StrCmp $0 1 populate
-    ReadRegStr $0 HKLM &quot;${REGKEY}\Components&quot; &quot;Qt4&quot;
-    StrCmp $0 1 populate
+    ${MementoSectionRestore}
+	!insertmacro MUI_STARTMENU_GETFOLDER Application $StartMenuGroup
 
-    # No UI exists, so go with defaults
-    Goto end
+#checkStartMenuGtk:
+	!insertmacro SectionFlagIsSet ${SecStartMenuGtk} ${SF_SELECTED} enableStartMenu checkStartMenuQt4
+checkStartMenuQt4:
+	!insertmacro SectionFlagIsSet ${SecStartMenuQt4} ${SF_SELECTED} enableStartMenu checkDesktopGtk
 
-    #Select sections based on last install
-populate:
-    !insertmacro MUI_STARTMENU_GETFOLDER Application $StartMenuGroup
-    !insertmacro SELECT_SECTION &quot;Command line&quot; ${SecUiCli}
-    !insertmacro SELECT_SECTION Qt4 ${SecUiQt4}
-    !insertmacro SELECT_SECTION GTK+ ${SecUiGtk}
-    !insertmacro SELECT_SECTION Catalan ${SecLangCatalan}
-    !insertmacro SELECT_SECTION Czech ${SecLangCzech}
-    !insertmacro SELECT_SECTION French ${SecLangFrench}
-    !insertmacro SELECT_SECTION German ${SecLangGerman}
-    !insertmacro SELECT_SECTION Greek ${SecLangGreek}
-    !insertmacro SELECT_SECTION Italian ${SecLangItalian}
-    !insertmacro SELECT_SECTION Japanese ${SecLangJapanese}
-    !insertmacro SELECT_SECTION Russian ${SecLangRussian}
-    !insertmacro SELECT_SECTION SerbianCyrillic ${SecLangSerbianCyrillic}
-    !insertmacro SELECT_SECTION SerbianLatin ${SecLangSerbianLatin}
-    !insertmacro SELECT_SECTION Spanish ${SecLangSpanish}
-    !insertmacro SELECT_SECTION Turkish ${SecLangTurkish}
-    !insertmacro SELECT_SECTION &quot;Sample external filter&quot; ${SecFilter}
-    !insertmacro SELECT_SECTION AvsProxy ${SecAvsProxy}
+enableStartMenu:
+	StrCpy $CreateStartMenuGroup 1
 
-    #startMenu:
-    ReadRegStr $0 HKLM &quot;${REGKEY}\Components&quot; &quot;Start menu&quot;
-    !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;${INSTALL_OPTS_INI}&quot; &quot;Field 3&quot; &quot;State&quot; $0
-    
-    #desktop:
-    ReadRegStr $0 HKLM &quot;${REGKEY}\Components&quot; &quot;Desktop&quot;
-    !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;${INSTALL_OPTS_INI}&quot; &quot;Field 2&quot; &quot;State&quot; $0
-    
-    #quickLaunch:
-    ReadRegStr $0 HKLM &quot;${REGKEY}\Components&quot; &quot;Quick Launch&quot;
-    !insertmacro MUI_INSTALLOPTIONS_WRITE &quot;${INSTALL_OPTS_INI}&quot; &quot;Field 4&quot; &quot;State&quot; $0
-    
+checkDesktopGtk:
+	!insertmacro SectionFlagIsSet ${SecDesktopGtk} ${SF_SELECTED} enableDesktop checkDesktopQt4
+checkDesktopQt4:
+	!insertmacro SectionFlagIsSet ${SecDesktopQt4} ${SF_SELECTED} enableDesktop checkQuickLaunchGtk
+
+enableDesktop:
+	StrCpy $CreateDesktopIcon 1
+	
+checkQuickLaunchGtk:
+	!insertmacro SectionFlagIsSet ${SecQuickLaunchGtk} ${SF_SELECTED} enableQuickLaunch checkQuickLaunchQt4
+checkQuickLaunchQt4:
+	!insertmacro SectionFlagIsSet ${SecQuickLaunchQt4} ${SF_SELECTED} enableQuickLaunch end
+
+enableQuickLaunch:
+	StrCpy $CreateQuickLaunchIcon 1	
+
 end:
 FunctionEnd
 
+Function .onInstSuccess
+	${MementoSectionSave}
+FunctionEnd
+
 Function .onSelChange
 	!insertmacro SectionFlagIsSet ${SecUiGtk} ${SF_SELECTED} end checkCLI
 checkCLI:
 	!insertmacro SectionFlagIsSet ${SecUiCli} ${SF_SELECTED} end disable
-	
+
 disable:  # GTK langs only
 	SectionSetFlags ${SecLangCatalan} SF_RO
 	SectionSetFlags ${SecLangCzech} SF_RO
@@ -677,16 +1269,47 @@
 
 LangString INSTALL_OPTS_PAGE_TITLE ${LANG_ENGLISH} &quot;Choose Install Options&quot;
 LangString INSTALL_OPTS_PAGE_SUBTITLE ${LANG_ENGLISH} &quot;Choose where to install Avidemux icons.&quot;
+Var dlgInstallOptions
+Var lblCreateIcons
+Var chkDesktop
+Var chkStartMenu
+Var chkQuickLaunch
 
 Function InstallOptionsPage
-    Call IsInstallOptionsRequired
+	Call IsInstallOptionsRequired
+	!insertmacro MUI_HEADER_TEXT &quot;$(INSTALL_OPTS_PAGE_TITLE)&quot; &quot;$(INSTALL_OPTS_PAGE_SUBTITLE)&quot;
 
-    !insertmacro MUI_HEADER_TEXT &quot;$(INSTALL_OPTS_PAGE_TITLE)&quot; &quot;$(INSTALL_OPTS_PAGE_SUBTITLE)&quot;
-    !insertmacro MUI_INSTALLOPTIONS_DISPLAY &quot;${INSTALL_OPTS_INI}&quot;
-    
-    Call ReadInstallOptions
+	nsDialogs::Create 1018
+	Pop $dlgInstallOptions
+
+	${If} $dlgInstallOptions == error
+		Abort
+	${EndIf}
+
+	${NSD_CreateLabel} 0 0u 100% 12u &quot;Create icons for Avidemux:&quot;
+	Pop $lblCreateIcons
+
+	${NSD_CreateCheckBox} 0 18u 100% 12u &quot;On my &amp;Desktop&quot;
+	Pop $chkDesktop
+	${NSD_SetState} $chkDesktop $CreateDesktopIcon
+
+	${NSD_CreateCheckBox} 0 36u 100% 12u &quot;In my &amp;Start Menu Programs folder&quot;
+	Pop $chkStartMenu
+	${NSD_SetState} $chkStartMenu $CreateStartMenuGroup
+
+	${NSD_CreateCheckBox} 0 54u 100% 12u &quot;In my &amp;Quick Launch bar&quot;
+	Pop $chkQuickLaunch
+	${NSD_SetState} $chkQuickLaunch $CreateQuickLaunchIcon
+
+	nsDialogs::Show
 FunctionEnd
 
+Function InstallOptionsPageLeave
+	${NSD_GetState} $chkDesktop $CreateDesktopIcon
+	${NSD_GetState} $chkStartMenu $CreateStartMenuGroup
+	${NSD_GetState} $chkQuickLaunch $CreateQuickLaunchIcon
+FunctionEnd
+
 Function IsInstallOptionsRequired
 	!insertmacro SectionFlagIsSet ${SecUiGtk} ${SF_SELECTED} end checkQt4
 checkQt4:
@@ -701,15 +1324,9 @@
 end:
 FunctionEnd
 
-Function ReadInstallOptions
-    !insertmacro MUI_INSTALLOPTIONS_READ $CreateDesktopIcon &quot;${INSTALL_OPTS_INI}&quot; &quot;Field 2&quot; &quot;State&quot;
-    !insertmacro MUI_INSTALLOPTIONS_READ $CreateStartMenuGroup &quot;${INSTALL_OPTS_INI}&quot; &quot;Field 3&quot; &quot;State&quot;
-    !insertmacro MUI_INSTALLOPTIONS_READ $CreateQuickLaunchIcon &quot;${INSTALL_OPTS_INI}&quot; &quot;Field 4&quot; &quot;State&quot;
-FunctionEnd
-
 Function IsStartMenuRequired
     StrCmp $CreateStartMenuGroup 1 +2
-        Abort    
+        Abort
 FunctionEnd
 
 Function ActivateInternalSections
@@ -718,7 +1335,7 @@
     IntOp $0 $0 &amp; ${SF_SELECTED}
     IntOp $0 $0 &amp; $CreateStartMenuGroup
     SectionSetFlags ${SecStartMenuAvsProxyGui} $0
-    
+
     #Change Log shortcut:
     SectionSetFlags ${SecStartMenuChangeLog} $CreateStartMenuGroup
 
@@ -728,23 +1345,23 @@
 
     IntOp $1 $0 &amp; $CreateDesktopIcon
     SectionSetFlags ${SecDesktopGtk} $1
-    
+
     IntOp $1 $0 &amp; $CreateQuickLaunchIcon
     SectionSetFlags ${SecQuickLaunchGtk} $1
-    
+
     IntOp $1 $0 &amp; $CreateStartMenuGroup
     SectionSetFlags ${SecStartMenuGtk} $1
-    
+
     #Qt4 shortcuts:
     SectionGetFlags ${SecUiQt4} $0
     IntOp $0 $0 &amp; ${SF_SELECTED}
-    
+
     IntOp $1 $0 &amp; $CreateDesktopIcon
     SectionSetFlags ${SecDesktopQt4} $1
-    
+
     IntOp $1 $0 &amp; $CreateQuickLaunchIcon
     SectionSetFlags ${SecQuickLaunchQt4} $1
-    
+
     IntOp $1 $0 &amp; $CreateStartMenuGroup
     SectionSetFlags ${SecStartMenuQt4} $1
 FunctionEnd
@@ -753,42 +1370,35 @@
     SectionGetFlags ${SecUiGtk} $0
     IntOp $0 $0 &amp; ${SF_SELECTED}
     StrCmp $0 ${SF_SELECTED} end
-    
+
     SectionGetFlags ${SecUiQt4} $0
     IntOp $0 $0 &amp; ${SF_SELECTED}
     StrCmp $0 ${SF_SELECTED} end
 
     DeleteINISec &quot;$PLUGINSDIR\ioSpecial.ini&quot; &quot;Field 4&quot;
-        
+
 end:
 FunctionEnd
 
-Function OnShowFinishPage
-    # Make hyperlink underlined to keep it consistent with web browsers
-    GetDlgItem $0 $MUI_HWND 1205
-    CreateFont $1 &quot;$(^Font)&quot; 9 500 /UNDERLINE
-    SendMessage $0 ${WM_SETFONT} $1 0    
-FunctionEnd
-
 Function RunAvidemux
     SetOutPath $INSTDIR
 
 #Qt4:
     SectionGetFlags ${SecUiQt4} $0
     IntOp $0 $0 &amp; ${SF_SELECTED}
-    
+
     StrCmp $0 ${SF_SELECTED} 0 GTK
         Exec &quot;$INSTDIR\avidemux2_qt4.exe&quot;
 
     Goto end
-    
+
 GTK:
     SectionGetFlags ${SecUiGtk} $0
     IntOp $0 $0 &amp; ${SF_SELECTED}
-    
+
     StrCmp $0 ${SF_SELECTED} 0 End
         Exec &quot;$INSTDIR\avidemux2_gtk.exe&quot;    
-    
+
 end:
 FunctionEnd
 
@@ -798,25 +1408,4 @@
 Function un.onInit
     ReadRegStr $INSTDIR HKLM &quot;${REGKEY}&quot; Path
     !insertmacro MUI_STARTMENU_GETFOLDER Application $StartMenuGroup
-    !insertmacro SELECT_SECTION &quot;Core files (required)&quot; ${UnSecCore}
-    !insertmacro SELECT_SECTION &quot;Command line&quot; ${UnSecUiCli}
-    !insertmacro SELECT_SECTION Qt4 ${UnSecUiQt4}
-    !insertmacro SELECT_SECTION GTK+ ${UnSecUiGtk}
-    !insertmacro SELECT_SECTION Catalan ${UnSecLangCatalan}
-    !insertmacro SELECT_SECTION Czech ${UnSecLangCzech}
-    !insertmacro SELECT_SECTION French ${UnSecLangFrench}
-    !insertmacro SELECT_SECTION German ${UnSecLangGerman}
-    !insertmacro SELECT_SECTION Greek ${UnSecLangGreek}
-    !insertmacro SELECT_SECTION Italian ${UnSecLangItalian}
-    !insertmacro SELECT_SECTION Japanese ${UnSecLangJapanese}
-    !insertmacro SELECT_SECTION Russian ${UnSecLangRussian}
-    !insertmacro SELECT_SECTION SerbianCyrillic ${UnSecLangSerbianCyrillic}
-    !insertmacro SELECT_SECTION SerbianLatin ${UnSecLangSerbianLatin}
-    !insertmacro SELECT_SECTION Spanish ${UnSecLangSpanish}
-    !insertmacro SELECT_SECTION Turkish ${UnSecLangTurkish}
-    !insertmacro SELECT_SECTION AvsProxy ${UnSecAvsProxy}
-    !insertmacro SELECT_SECTION &quot;Sample external filter&quot; ${UnSecFilter}
-    !insertmacro SELECT_SECTION &quot;Start menu&quot; ${UnSecStartMenu}
-    !insertmacro SELECT_SECTION &quot;Quick Launch&quot; ${UnSecQuickLaunch}
-    !insertmacro SELECT_SECTION &quot;Desktop&quot; ${UnSecDesktop}
 FunctionEnd

Modified: branches/avidemux_2.5_branch_gruntster/platforms/windows/installer/svnlog.xslt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/platforms/windows/installer/svnlog.xslt	2009-02-08 17:28:54 UTC (rev 4580)
+++ branches/avidemux_2.5_branch_gruntster/platforms/windows/installer/svnlog.xslt	2009-02-09 21:07:24 UTC (rev 4581)
@@ -53,10 +53,10 @@
           padding-bottom: 5px;
           }
         &lt;/style&gt;
-        &lt;title&gt;Avidemux 2.4 Change Log&lt;/title&gt;
+        &lt;title&gt;Avidemux 2.5 Change Log&lt;/title&gt;
       &lt;/head&gt;
       &lt;body&gt;
-        &lt;h1&gt;Avidemux 2.4 Change Log&lt;/h1&gt;
+        &lt;h1&gt;Avidemux 2.5 Change Log&lt;/h1&gt;
         &lt;div align=&quot;center&quot;&gt;
           &lt;table class=&quot;build&quot;&gt;
             &lt;tr&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001810.html">[Avidemux-svn-commit] r4580 - in	branches/avidemux_2.5_branch_gruntster/platforms/windows/build_scripts:	. avidemux
</A></li>
	<LI>Next message: <A HREF="001812.html">[Avidemux-svn-commit] r4582 - in	branches/avidemux_2.5_branch_gruntster/platforms/windows:	build_scripts/avidemux installer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1811">[ date ]</a>
              <a href="thread.html#1811">[ thread ]</a>
              <a href="subject.html#1811">[ subject ]</a>
              <a href="author.html#1811">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
