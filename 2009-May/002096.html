<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r4873 - in branches/avidemux_2.6_branch_mean:	. avidemux avidemux/ADM_audioFilter_old	avidemux/ADM_audiocodec avidemux/ADM_coreVideoFilter/include	avidemux/ADM_coreVideoFilter/src avidemux/ADM_editor	avidemux/ADM_encoder avidemux/ADM_filter	avidemux/ADM_muxerGate/src avidemux/ADM_osSupport	avidemux/ADM_requant avidemux/ADM_script avidemux/ADM_toolkit	avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters	avidemux/ADM_video avidemux/ADM_videoFilter
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4873%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09.%20avidemux%20avidemux/ADM_audioFilter_old%0A%09avidemux/ADM_audiocodec%20avidemux/ADM_coreVideoFilter/include%0A%09avidemux/ADM_coreVideoFilter/src%20avidemux/ADM_editor%0A%09avidemux/ADM_encoder%20avidemux/ADM_filter%0A%09avidemux/ADM_muxerGate/src%20avidemux/ADM_osSupport%0A%09avidemux/ADM_requant%20avidemux/ADM_script%20avidemux/ADM_toolkit%0A%09avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters%0A%09avidemux/ADM_video%20avidemux/ADM_videoFilter&In-Reply-To=%3C200905301501.n4UF1HXB025430%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002095.html">
   <LINK REL="Next"  HREF="002097.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r4873 - in branches/avidemux_2.6_branch_mean:	. avidemux avidemux/ADM_audioFilter_old	avidemux/ADM_audiocodec avidemux/ADM_coreVideoFilter/include	avidemux/ADM_coreVideoFilter/src avidemux/ADM_editor	avidemux/ADM_encoder avidemux/ADM_filter	avidemux/ADM_muxerGate/src avidemux/ADM_osSupport	avidemux/ADM_requant avidemux/ADM_script avidemux/ADM_toolkit	avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters	avidemux/ADM_video avidemux/ADM_videoFilter</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4873%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09.%20avidemux%20avidemux/ADM_audioFilter_old%0A%09avidemux/ADM_audiocodec%20avidemux/ADM_coreVideoFilter/include%0A%09avidemux/ADM_coreVideoFilter/src%20avidemux/ADM_editor%0A%09avidemux/ADM_encoder%20avidemux/ADM_filter%0A%09avidemux/ADM_muxerGate/src%20avidemux/ADM_osSupport%0A%09avidemux/ADM_requant%20avidemux/ADM_script%20avidemux/ADM_toolkit%0A%09avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters%0A%09avidemux/ADM_video%20avidemux/ADM_videoFilter&In-Reply-To=%3C200905301501.n4UF1HXB025430%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r4873 - in branches/avidemux_2.6_branch_mean:	. avidemux avidemux/ADM_audioFilter_old	avidemux/ADM_audiocodec avidemux/ADM_coreVideoFilter/include	avidemux/ADM_coreVideoFilter/src avidemux/ADM_editor	avidemux/ADM_encoder avidemux/ADM_filter	avidemux/ADM_muxerGate/src avidemux/ADM_osSupport	avidemux/ADM_requant avidemux/ADM_script avidemux/ADM_toolkit	avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters	avidemux/ADM_video avidemux/ADM_videoFilter">mean at mail.berlios.de
       </A><BR>
    <I>Sat May 30 17:01:17 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002095.html">[Avidemux-svn-commit] r4872 - in	branches/avidemux_2.6_branch_mean/avidemux: .	ADM_coreVideoFilter ADM_coreVideoFilter/include	ADM_coreVideoFilter/src
</A></li>
        <LI>Next message: <A HREF="002097.html">[Avidemux-svn-commit] r4874 - in	branches/avidemux_2.6_branch_mean/avidemux/ADM_coreVideoFilter:	include src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2096">[ date ]</a>
              <a href="thread.html#2096">[ thread ]</a>
              <a href="subject.html#2096">[ subject ]</a>
              <a href="author.html#2096">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2009-05-30 17:01:14 +0200 (Sat, 30 May 2009)
New Revision: 4873

Added:
   branches/avidemux_2.6_branch_mean/avidemux/ADM_coreVideoFilter/src/CMakeLists.txt
Modified:
   branches/avidemux_2.6_branch_mean/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/audiodeng_buildfilters.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_audiocodec.h
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_codecimaadpcm.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_codecmsadpcm.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_codeculaw.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_codecwav.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/ADM_coreVideoFilter/include/ADM_coreVideoFilter.h
   branches/avidemux_2.6_branch_mean/avidemux/ADM_coreVideoFilter/src/ADM_coreVideoFilter.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edIdentify.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edLoadSave.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edSearch.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edStub.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_outputfmt.h
   branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADMedAVIAUD.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/ADM_encCodecDesc.h
   branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/ADM_pluginLoad.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encConfig.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encCopy.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encRequant.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encXvid4.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encdivx.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encffmpeg.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encffmpeg1.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encmjpeg.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encmpeg2enc.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encoder.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encxvid.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encyv12.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/ADM_vidDummyFilter.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/filter.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/filter_autoFilter.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/filter_declaration.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/filter_saveload.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/vidVCD.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_muxerGate/src/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/ADM_crashHook.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/ADM_debug.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/ADM_misc.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/ADM_queue.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/ADM_requant/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/ADM_requant/tcrequant.c
   branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemux.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemux.h
   branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemuxAudio.h
   branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSDirectorySearch.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSDirectorySearch.h
   branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSFunctions.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_script/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/ADM_script/DirectorySearch.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_script/StdFile.h
   branches/avidemux_2.6_branch_mean/avidemux/ADM_toolkit/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/ADM_toolkit/automation.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_video/ADM_vidNull.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_video/ADM_vidRaw.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_video/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_videoFilter/ADM_vidNumber.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_videoFilter/ADM_vidThreshold.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_videoFilter/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/avi_vars.h
Log:
[All] Use same libraries for all ui, most dependancies are in the plugins now + coreVideoFilter skeleton

Modified: branches/avidemux_2.6_branch_mean/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/CMakeLists.txt	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/CMakeLists.txt	2009-05-30 15:01:14 UTC (rev 4873)
@@ -80,7 +80,7 @@
 ########################################
 # Standard Avidemux defines
 ########################################
-SET(VERSION 2.5.0)
+SET(VERSION 2.6.0)
 
 # Define internal flags for GTK+ and Qt4 builds.  These are turned off
 # if a showstopper is found.  CLI is automatically assumed as possible

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/CMakeLists.txt	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/CMakeLists.txt	2009-05-30 15:01:14 UTC (rev 4873)
@@ -2,6 +2,6 @@
 	audiodeng_buildfilters.cpp    
 )
 	
-ADD_ADM_LIB_ALL_TARGETS(ADM_audioFilter_old ${ADMaudiofilter_SRCS})
+ADD_LIBRARY(ADM_audioFilter_old STATIC ${ADMaudiofilter_SRCS})
 INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/avidemux/ADM_audioEncoder/include)
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/audiodeng_buildfilters.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/audiodeng_buildfilters.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audioFilter_old/audiodeng_buildfilters.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -14,7 +14,7 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;config.h&quot;
+
 #include &lt;math.h&gt;
 
 #include &quot;ADM_default.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_audiocodec.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_audiocodec.h	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_audiocodec.h	2009-05-30 15:01:14 UTC (rev 4873)
@@ -16,7 +16,7 @@
  ***************************************************************************/
 #ifndef ADMAUDIOCODEC
 #define ADMAUDIOCODEC
-
+#include &quot;ADM_audiodef.h&quot;
 #define SCRATCH_PAD_SIZE (100*1000*2)
 extern uint8_t scratchPad[];
 #define  ADMAC_BUFFER (48000*4)

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_codecimaadpcm.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_codecimaadpcm.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_codecimaadpcm.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -18,6 +18,7 @@
 
 #include &quot;ADM_default.h&quot;
 #include &quot;common.h&quot;
+#define ADM_NO_CONFIG_H
 #include &quot;bswap.h&quot;
 #include &quot;ADM_assert.h&quot;
 #include &quot;ADM_coreAudio.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_codecmsadpcm.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_codecmsadpcm.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_codecmsadpcm.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -13,6 +13,7 @@
 */
 
 #include &quot;ADM_default.h&quot;
+#define ADM_NO_CONFIG_H
 #include &quot;common.h&quot;
 #include &quot;bswap.h&quot;
 #include &quot;ADM_coreAudio.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_codeculaw.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_codeculaw.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_codeculaw.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -19,18 +19,14 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-//#include &lt;sstream&gt;
-#include &quot;ADM_assert.h&quot;
+
+#include &quot;ADM_default.h&quot;
 #include &lt;math.h&gt;
 
-#include &quot;config.h&quot;
-#include &quot;avifmt.h&quot;
-#include &quot;avifmt2.h&quot;
-#include &quot;fourcc.h&quot;
-//#include &quot;ADM_audio/aviaudio.hxx&quot;
+//#include &quot;avifmt.h&quot;
+//#include &quot;avifmt2.h&quot;
+//#include &quot;fourcc.h&quot;
+
 #include &quot;ADM_audiocodec/ADM_audiocodec.h&quot;
 
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_codecwav.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_codecwav.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/ADM_codecwav.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -14,18 +14,8 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-//#include &lt;sstream&gt;
-#include &quot;ADM_assert.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &lt;math.h&gt;
-
-#include &quot;config.h&quot;
-#include &quot;avifmt.h&quot;
-#include &quot;avifmt2.h&quot;
-#include &quot;fourcc.h&quot;
-//#include &quot;ADM_audio/aviaudio.hxx&quot;
 #include &quot;ADM_audiocodec/ADM_audiocodec.h&quot;
 
 ADM_AudiocodecWav::ADM_AudiocodecWav( uint32_t fourcc ) : ADM_Audiocodec(fourcc)

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/CMakeLists.txt	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_audiocodec/CMakeLists.txt	2009-05-30 15:01:14 UTC (rev 4873)
@@ -2,4 +2,4 @@
 	ADM_8bits.cpp  ADM_codecimaadpcm.cpp  ADM_codecmsadpcm.cpp  ADM_codeculaw.cpp  ADM_codecwma.cpp  ADM_lpcm.cpp
 	ADM_audiocodec.cpp  ADM_codecwav.cpp  ADM_pluginLoad.cpp)
 
-ADD_ADM_LIB_ALL_TARGETS(ADM_audiocodec ${ADM_audiocodec_SRCS})
\ No newline at end of file
+ADD_LIBRARY(ADM_audiocodec STATIC ${ADM_audiocodec_SRCS})

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_coreVideoFilter/include/ADM_coreVideoFilter.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_coreVideoFilter/include/ADM_coreVideoFilter.h	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_coreVideoFilter/include/ADM_coreVideoFilter.h	2009-05-30 15:01:14 UTC (rev 4873)
@@ -0,0 +1,53 @@
+/***************************************************************************
+                          \fn ADM_coreVideoFilter.h
+                          \brief Base class for Video Filters
+                           (c) Mean 2009
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#ifndef ADM_CORE_VIDEO_FILTER
+#define  ADM_CORE_VIDEO_FILTER
+
+#include &quot;ADM_confCouple.h&quot;
+#include &quot;ADM_image.h&quot;
+/**
+    \struct FilterInfo
+    \brief Describes the video stream at this point in the filter chain
+*/
+typedef struct
+{
+    uint32_t width;
+    uint32_t height;
+    uint32_t frameIncrement; /// Minimum Delta time between 2 frames in useconds ~ 1/fps
+    uint64_t totalDuration;     /// Duration of the whole stream in us
+}FilterInfo;
+
+/**
+ *  \class ADM_coreVideoFilter
+ *  \brief base class for all video filters
+ */
+class ADM_coreVideoFilter
+{
+public:
+            ADM_coreVideoFilter(ADM_coreVideoFilter *previous,CONFcouple *conf=NULL);
+            ~ADM_coreVideoFilter();
+
+       virtual const char   *getConfiguration(void);                    /// Return  current configuration as a human readable string
+       virtual bool         getNextFrame(ADMImage *image)=0;    /// Return the next image
+	   virtual FilterInfo  *getInfo(void);                                      /// Return picture parameters after this filter
+	   virtual bool         getCoupledConf(CONFcouple **couples)=0 ; /// Return the current filter configuration
+
+protected:
+            ADM_coreVideoFilter *previousFilter;
+};
+
+#endif
+// EOF
\ No newline at end of file

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_coreVideoFilter/src/ADM_coreVideoFilter.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_coreVideoFilter/src/ADM_coreVideoFilter.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_coreVideoFilter/src/ADM_coreVideoFilter.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -0,0 +1,64 @@
+/***************************************************************************
+                          \fn ADM_coreVideoFilter.h
+                          \brief Base class for Video Filters
+                           (c) Mean 2009
+
+    This is used to build the video filter chain
+    It is a simple &quot;one in, one out&quot; system based on pull.
+    I.e. the final client asks for a frame and each stage asks its predecessor for a frame
+if needed.
+
+    The fist stage is the VideoFilterBridge. Its translates ADM_composer API to
+    ADM_coreVideoFilter API.
+    Then a bunch of ADM_coreVideoFilter using the ADM_coreVideoFilter API
+    And at last the ADM_coreVideoEncoder that translate ADM_coreVideoFilter api
+        to ADM_videoStream API ready to be sent to the muxer
+
+    ADM_videoBody -&gt; ADM_VideoFilterBridge &gt; coreFilter-&gt;coreFilter.....-&gt;coreFilter-&gt;coreVideoEncoder
+
+
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include &quot;ADM_default.h&quot;
+#include &quot;ADM_coreVideoFilter.h&quot;
+/**
+    \fn ADM_coreVideoFilter
+
+*/
+ ADM_coreVideoFilter::ADM_coreVideoFilter(ADM_coreVideoFilter *previous,CONFcouple *conf)
+{
+    previousFilter=previous;
+}
+/**
+    \fn  ~ADM_coreVideoFilter
+*/
+ ADM_coreVideoFilter:: ~ADM_coreVideoFilter()
+{
+
+}
+/**
+    \fn getConfiguration
+*/
+const char        *ADM_coreVideoFilter::getConfiguration(void)
+{
+    return &quot;base&quot;;
+}  
+/**
+    \fn getInfo
+    \brief default behaviour, we return the Info as is from the previous filter in the chain
+*/
+FilterInfo  *ADM_coreVideoFilter::getInfo(void)
+{
+    ADM_assert(previousFilter);
+    return previousFilter-&gt;getInfo();
+}
+// EOF

Added: branches/avidemux_2.6_branch_mean/avidemux/ADM_coreVideoFilter/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_coreVideoFilter/src/CMakeLists.txt	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_coreVideoFilter/src/CMakeLists.txt	2009-05-30 15:01:14 UTC (rev 4873)
@@ -0,0 +1,8 @@
+SET(ADM_CoreVideoFilter_SRCS 
+	ADM_coreVideoFilter.cpp
+)
+
+ADD_LIBRARY(ADM_coreVideoFilter SHARED ${ADM_CoreVideoFilter_SRCS})
+TARGET_LINK_LIBRARIES(ADM_coreVideoFilter ADM_core)
+
+INSTALL(TARGETS ADM_coreVideoFilter RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib  ARCHIVE DESTINATION lib)

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edIdentify.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edIdentify.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edIdentify.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -17,30 +17,14 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-
-#include &quot;ADM_assert.h&quot;
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &quot;fourcc.h&quot;
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
-#if 0
-#include &quot;ADM_inputs/ADM_inpics/ADM_pics.h&quot;
-#include &quot;ADM_inputs/ADM_nuv/ADM_nuv.h&quot;
-#include &quot;ADM_inputs/ADM_h263/ADM_h263.h&quot;
-//#include &quot;ADM_3gp/ADM_3gp.h&quot;
-#include &quot;ADM_inputs/ADM_mp4/ADM_mp4.h&quot;
-#include &quot;ADM_inputs/ADM_avsproxy/ADM_avsproxy.h&quot;
-#endif
-
-
-#include &quot;ADM_editor/ADM_edit.hxx&quot;
 #include &quot;ADM_videoFilter.h&quot;
 
 #include &quot;ADM_coreDemuxerMpeg/include/dmx_identify.h&quot;
-#include &quot;ADM_assert.h&quot;
 
+
 DMX_TYPE dmxIdentify(const char *name);
 
 /**

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edLoadSave.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edLoadSave.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edLoadSave.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -17,24 +17,12 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;config.h&quot;
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &lt;errno.h&gt;
-
+#include &quot;ADM_default.h&quot;
 #include &quot;fourcc.h&quot;
 #include &quot;ADM_quota.h&quot;
-#include &quot;ADM_assert.h&quot;
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 
-#if 0
-#include &quot;ADM_inputs/ADM_inpics/ADM_pics.h&quot;
-#include &quot;ADM_inputs/ADM_nuv/ADM_nuv.h&quot;
-#include &quot;ADM_inputs/ADM_h263/ADM_h263.h&quot;
-#endif
 
-
 #include &quot;DIA_coreToolkit.h&quot;
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 #include &quot;ADM_videoFilter.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edSearch.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edSearch.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edSearch.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -14,12 +14,7 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &quot;ADM_assert.h&quot;
-
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &quot;fourcc.h&quot;
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edStub.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edStub.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_edStub.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -14,13 +14,10 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &quot;ADM_assert.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &lt;math.h&gt;
 
-#include &quot;config.h&quot;
+
 #include &quot;fourcc.h&quot;
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_outputfmt.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_outputfmt.h	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADM_outputfmt.h	2009-05-30 15:01:14 UTC (rev 4873)
@@ -11,7 +11,7 @@
 //
 #ifndef ADM_OUT_FMT
 #define ADM_OUT_FMT
-#include &quot;config.h&quot;
+
 typedef enum 
 {
 	ADM_AVI=0,

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADMedAVIAUD.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADMedAVIAUD.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/ADMedAVIAUD.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -28,7 +28,7 @@
 #include &quot;ADM_default.h&quot;
 #include &lt;math.h&gt;
 
-#include &quot;config.h&quot;
+
 #include &quot;fourcc.h&quot;
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 #include &quot;ADM_editor/ADM_edAudio.hxx&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/CMakeLists.txt	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_editor/CMakeLists.txt	2009-05-30 15:01:14 UTC (rev 4873)
@@ -13,4 +13,4 @@
 ADM_edPtsDts.cpp
 )
 
-ADD_ADM_LIB_ALL_TARGETS(ADM_editor ${ADM_editor_SRCS})
+ADD_LIBRARY(ADM_editor STATIC ${ADM_editor_SRCS})

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/ADM_encCodecDesc.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/ADM_encCodecDesc.h	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/ADM_encCodecDesc.h	2009-05-30 15:01:14 UTC (rev 4873)
@@ -251,6 +251,7 @@
   sizeof (ffmpeg4Extra),
   NULL
 };
+#if 0
 static MJPEGConfig MjpegExtra = { 90, 0 };
 extern uint8_t DIA_mjpegCodecSetting (COMPRES_PARAMS * param);
 COMPRES_PARAMS MjpegCodec = {
@@ -266,7 +267,7 @@
   sizeof (MjpegExtra),
   &amp;DIA_mjpegCodecSetting
 };
-
+#endif
 //************************* FFMpeg mpeg1 **********************
 FFcodecSetting ffmpeg1Extra = {
   ME_EPZS,			//     ME
@@ -711,7 +712,7 @@
   &amp;ffmpegFFV1,
   &amp;yv12codec,
   &amp;ffmpegH263Codec,
-  &amp;MjpegCodec,
+  //&amp;MjpegCodec,
   &amp;ffmpegFLV1,
   &amp;DUMMYONE
 };

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/ADM_pluginLoad.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/ADM_pluginLoad.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/ADM_pluginLoad.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -14,7 +14,7 @@
  *                                                                         *
  ***************************************************************************/
 
-#include &quot;config.h&quot;
+
 #include &quot;ADM_default.h&quot;
 #include &lt;vector&gt;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/CMakeLists.txt	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/CMakeLists.txt	2009-05-30 15:01:14 UTC (rev 4873)
@@ -3,9 +3,9 @@
 	adm_encCopy.cpp    adm_encdivx.cpp    adm_encffmpeg.cpp   adm_encmpeg2enc.cpp  adm_encRequant.cpp  adm_encXvid4.cpp  adm_encyv12.cpp
 	ADM_pluginLoad.cpp ADM_externalEncoder.cpp)
 
-ADD_ADM_LIB_ALL_TARGETS(ADM_encoder ${ADM_encoder_SRCS})
+ADD_LIBRARY(ADM_encoder STATIC ${ADM_encoder_SRCS})
 
 IF (USE_XVID_4)
 	ADD_SOURCE_CFLAGS(adm_encxvid.cpp -I${XVID_INCLUDE_DIR})
 	ADD_SOURCE_CFLAGS(adm_encXvid4.cpp -I${XVID_INCLUDE_DIR})
-ENDIF (USE_XVID_4)
\ No newline at end of file
+ENDIF (USE_XVID_4)

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encConfig.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encConfig.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encConfig.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -14,8 +14,8 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;config.h&quot;
 
+
 #include &quot;ADM_lavcodec.h&quot;
 
 #include &quot;ADM_assert.h&quot;
@@ -44,7 +44,7 @@
 void setVideoEncoderSettings(COMPRESSION_MODE mode, uint32_t param, uint32_t extraConf, uint8_t *extraData);
 static void encoderPrint(void);
 
-#include &quot;adm_encConfig.h&quot;
+
 #include &quot;adm_encoder.h&quot;
 
 #ifdef USE_XVID_4
@@ -66,9 +66,11 @@
 #include &quot;adm_encmjpeg.h&quot;
 #include &quot;adm_encCopy.h&quot;
 #include &quot;adm_encyv12.h&quot;
+#include &quot;adm_encConfig.h&quot;
 #include &quot;ADM_pluginLoad.h&quot;
 #include &quot;ADM_externalEncoder.h&quot;
 
+
 /*
   	Codec settings here
 */
@@ -591,9 +593,11 @@
 	case CodecFF:
 		e = new EncoderFFMPEG (FF_MPEG4, desc);
 		break;
+#if 0
 	case CodecMjpeg:
 		e = new EncoderMjpeg (&amp;MjpegCodec);
 		break;
+#endif
 	case CodecFFhuff:
 		e = new EncoderFFMPEGFFHuff (desc);
 		break;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encCopy.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encCopy.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encCopy.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -21,7 +21,7 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;config.h&quot;
+
 #include &quot;ADM_default.h&quot;
 
 #include &quot;fourcc.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encRequant.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encRequant.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encRequant.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -12,14 +12,14 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;config.h&quot;
 
 
+#include &quot;ADM_default.h&quot;
 #include &quot;fourcc.h&quot;
 #include &quot;avi_vars.h&quot;
 
-#include &quot;ADM_assert.h&quot;
 
+
 #include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;
 
 #include &quot;ADM_videoFilter.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encXvid4.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encXvid4.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encXvid4.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -15,9 +15,9 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;config.h&quot;
 
 
+
 #ifdef USE_XVID_4
 #include &quot;xvid.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encdivx.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encdivx.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encdivx.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -22,7 +22,7 @@
 
 #include &lt;time.h&gt;
 #include &lt;sys/time.h&gt;
-#include &quot;config.h&quot;
+
 #ifdef USE_DIVX
 
 #include &quot;fourcc.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encffmpeg.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encffmpeg.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encffmpeg.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -14,8 +14,8 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;config.h&quot;
 
+
 #include &quot;ADM_lavcodec.h&quot;
 
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encffmpeg1.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encffmpeg1.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encffmpeg1.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -14,7 +14,6 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;config.h&quot;
 
 #include &lt;unistd.h&gt;
 
@@ -24,12 +23,12 @@
 
 #ifdef USE_FFMPEG
 #include &quot;ADM_lavcodec.h&quot;
-
+#include &quot;ADM_default.h&quot;
 #include &quot;fourcc.h&quot;
 #include &quot;avi_vars.h&quot;
 #include &quot;DIA_coreToolkit.h&quot;
-#include &quot;ADM_assert.h&quot;
 
+
 #include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;
 
 #include &quot;ADM_videoFilter.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encmjpeg.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encmjpeg.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encmjpeg.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -14,8 +14,8 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;config.h&quot;
 
+
 #include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;
 #include &lt;math.h&gt;
@@ -27,6 +27,7 @@
 
 #ifdef USE_FFMPEG
 #include &quot;ADM_lavcodec.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &quot;fourcc.h&quot;
 #include &quot;avi_vars.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encmpeg2enc.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encmpeg2enc.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encmpeg2enc.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -12,11 +12,8 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;config.h&quot;
 
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;math.h&gt;
+#include &quot;ADM_default.h&quot;
 #include &lt;unistd.h&gt;
 #include &lt;time.h&gt;
 #include &lt;sys/time.h&gt;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encoder.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encoder.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encoder.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -14,8 +14,8 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;config.h&quot;
 
+
 #include &lt;time.h&gt;
 #include &lt;sys/time.h&gt;
 
@@ -24,12 +24,12 @@
 #ifdef USE_FFMPEG
 #include &quot;ADM_lavcodec.h&quot;
 #endif
-
+#include &quot;ADM_default.h&quot;
 #include &quot;fourcc.h&quot;
 #include &quot;avi_vars.h&quot;
 
-#include &quot;ADM_assert.h&quot;
 
+
 #include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;
 
 #include &quot;ADM_videoFilter.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encxvid.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encxvid.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encxvid.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -22,7 +22,7 @@
 
 #include &lt;time.h&gt;
 #include &lt;sys/time.h&gt;
-#include &quot;config.h&quot;
+
 #ifdef USE_XX_XVID
 #include &quot;xvid.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encyv12.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encyv12.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_encoder/adm_encyv12.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -15,14 +15,14 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;config.h&quot;
 
 
+#include &quot;ADM_default.h&quot;
 #include &quot;fourcc.h&quot;
 #include &quot;avi_vars.h&quot;
 
-#include &quot;ADM_assert.h&quot;
 
+
 #include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;
 
 #include &quot;ADM_videoFilter.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/ADM_vidDummyFilter.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/ADM_vidDummyFilter.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/ADM_vidDummyFilter.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -15,7 +15,7 @@
  *                                                                         *
  ***************************************************************************/
 
-#include &quot;config.h&quot;
+
 #if 0 // OBSOLETE
 
 #include &quot;ADM_default.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/CMakeLists.txt	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/CMakeLists.txt	2009-05-30 15:01:14 UTC (rev 4873)
@@ -6,5 +6,5 @@
 filter_autoFilter.cpp
 vidVCD.cpp)
 
-ADD_ADM_LIB_ALL_TARGETS(ADM_filter ${ADM_filter_SRCS})
-ADD_CFLAGS_ALL_TARGETS(ADM_filter -I${LIBXML2_INCLUDE_DIR} ${LIBXML2_DEFINITIONS})
+ADD_LIBRARY(ADM_filter STATIC ${ADM_filter_SRCS})
+ADD_TARGET_CFLAGS(ADM_filter -I${LIBXML2_INCLUDE_DIR} ${LIBXML2_DEFINITIONS})

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/filter.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/filter.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/filter.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -14,14 +14,8 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
+#include &quot;ADM_default.h&quot;
 #include &lt;vector&gt;
-
-#include &quot;ADM_assert.h&quot;
-#include &quot;config.h&quot;
 #include &quot;fourcc.h&quot;
 #include &quot;DIA_fileSel.h&quot;
 #include &quot;ADM_dynamicLoading.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/filter_autoFilter.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/filter_autoFilter.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/filter_autoFilter.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -15,7 +15,6 @@
  *                                                                         *
  ***************************************************************************/
 
-#include &quot;config.h&quot;
 #include &quot;ADM_default.h&quot;
 
 #include &quot;ADM_videoFilter.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/filter_declaration.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/filter_declaration.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/filter_declaration.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -19,7 +19,6 @@
  *                                                                         *
  ***************************************************************************/
 
-#include &quot;config.h&quot;
 #include &quot;ADM_default.h&quot;
 
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/filter_saveload.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/filter_saveload.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/filter_saveload.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -17,18 +17,15 @@
  *                                                                         *
  ***************************************************************************/
 #define ADM_LEGACY_PROGGY
-#include &quot;config.h&quot;
 
-#ifdef USE_LIBXML2
-	#include &lt;libxml/tree.h&gt;
-	#include &lt;libxml/parser.h&gt;
-#endif
-
+#include &quot;ADM_default.h&quot;
+#include &lt;libxml/tree.h&gt;
+#include &lt;libxml/parser.h&gt;
 #include &quot;fourcc.h&quot;
 #include &quot;DIA_coreToolkit.h&quot;
 #include &quot;ADM_quota.h&quot;
-#include &quot;ADM_assert.h&quot;
 
+
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 #include &quot;ADM_videoFilter.h&quot;
 #include &quot;ADM_video/ADM_videoNull.h&quot;
@@ -49,7 +46,7 @@
 
 
 */
-#ifdef USE_LIBXML2
+
 static int32_t getIntegerAttribute(xmlNodePtr node, char *name, char *atrname);
 static xmlNodePtr nextByName(xmlNodePtr node,char *name);
 static CONFcouple *buildCouple(uint32_t nb, xmlNodePtr node);
@@ -302,4 +299,4 @@
 	return -1;
 }
 
-#endif
+//EOF

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/vidVCD.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/vidVCD.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_filter/vidVCD.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -20,19 +20,14 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &quot;ADM_assert.h&quot;
 
-#include &quot;ADM_assert.h&quot;
+#include &quot;ADM_default.h&quot;
 
 #include &lt;sys/types.h&gt;
 #include &lt;sys/stat.h&gt;
 #include &lt;unistd.h&gt;
 #include &lt;string.h&gt;
 #include &lt;math.h&gt;
-#include &quot;config.h&quot;
 #include &quot;fourcc.h&quot;
 #include &quot;avi_vars.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_muxerGate/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_muxerGate/src/CMakeLists.txt	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_muxerGate/src/CMakeLists.txt	2009-05-30 15:01:14 UTC (rev 4873)
@@ -2,4 +2,4 @@
 ADM_videoCopy.cpp
 )
 include_directories(../include)
-ADD_ADM_LIB_ALL_TARGETS(ADM_muxerGate ${ADM_muxerGate_SRCS})
+ADD_LIBRARY(ADM_muxerGate STATIC ${ADM_muxerGate_SRCS})

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/ADM_crashHook.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/ADM_crashHook.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/ADM_crashHook.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -14,7 +14,7 @@
  *                                                                         *
  ***************************************************************************/
 
-#include &quot;config.h&quot;
+
 #include &quot;ADM_default.h&quot;
 #include &quot;DIA_coreToolkit.h&quot;
 #include &quot;ADM_editor/ADM_edit.hxx&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/ADM_debug.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/ADM_debug.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/ADM_debug.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -16,14 +16,8 @@
  *                                                                         *
  ***************************************************************************/
 
-#include &quot;config.h&quot;
-
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;stdarg.h&gt;
-#include &lt;string.h&gt;
 #include &quot;ADM_default.h&quot;
-#include &quot;ADM_assert.h&quot;
+#include &lt;stdarg.h&gt;
 #include &lt;math.h&gt;
 
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/ADM_misc.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/ADM_misc.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/ADM_misc.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -1,6 +1,5 @@
 #include &lt;math.h&gt;
 
-#include &quot;config.h&quot;
 #include &quot;ADM_default.h&quot;
 
 char* ms2timedisplay(uint32_t ms)

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/ADM_queue.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/ADM_queue.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/ADM_queue.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -12,14 +12,7 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;config.h&quot;
- 
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &quot;ADM_assert.h&quot;
 #include &quot;ADM_default.h&quot;
-
 #include &quot;ADM_queue.h&quot;
 
 ADM_queue::ADM_queue()

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/CMakeLists.txt	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_osSupport/CMakeLists.txt	2009-05-30 15:01:14 UTC (rev 4873)
@@ -5,5 +5,5 @@
 ADM_queue.cpp 
 )
 
-ADD_ADM_LIB_ALL_TARGETS(ADM_osSupport ${ADM_osSupport_SRCS})
+ADD_LIBRARY(ADM_osSupport STATIC ${ADM_osSupport_SRCS})
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_requant/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_requant/CMakeLists.txt	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_requant/CMakeLists.txt	2009-05-30 15:01:14 UTC (rev 4873)
@@ -1,3 +1,3 @@
 SET(ADM_requant_SRCS tcrequant.c)
 
-ADD_ADM_LIB_ALL_TARGETS(ADM_requant ${ADM_requant_SRCS})
+ADD_LIBRARY(ADM_requant STATIC ${ADM_requant_SRCS})

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_requant/tcrequant.c
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_requant/tcrequant.c	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_requant/tcrequant.c	2009-05-30 15:01:14 UTC (rev 4873)
@@ -41,9 +41,7 @@
 // - intra blocks quantiser is incremented two step
 // - drop a few coefficients but always keep the first one
 
-#ifdef HAVE_CONFIG_H
-#include &quot;config.h&quot;
-#endif
+#include &quot;ADM_default.h&quot;
 
 // includes
 #include &lt;stdio.h&gt;
@@ -55,7 +53,6 @@
 
 
 // MEANX
-#include &quot;ADM_default.h&quot;
 #include &quot;tcrequant.h&quot;
 
 #include &quot;ADM_osSupport/ADM_debugID.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemux.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemux.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemux.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -9,7 +9,6 @@
 // Copyright: See COPYING file that comes with this distribution
 //
 //
-#include &quot;config.h&quot;
 
 #include &lt;math.h&gt;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemux.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemux.h	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemux.h	2009-05-30 15:01:14 UTC (rev 4873)
@@ -2,8 +2,8 @@
 #define _ADM_JSAVIDEMUX_H
 
 #pragma once
-#include &quot;config.h&quot;
 
+
 // Spidermonkey
 #include &quot;ADM_libraries/ADM_smjs/jsapi.h&quot;
 #include &quot;ADM_Avidemux.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -11,7 +11,7 @@
 //
 
 #include &quot;ADM_default.h&quot;
-#include &quot;config.h&quot;
+
 #include &quot;ADM_JSGlobal.h&quot;
 #include &quot;ADM_JSAvidemuxAudio.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemuxAudio.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemuxAudio.h	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSAvidemuxAudio.h	2009-05-30 15:01:14 UTC (rev 4873)
@@ -3,8 +3,8 @@
 
 #pragma once
 
-#include &quot;config.h&quot;
 
+
 // Spidermonkey
 #include &quot;ADM_libraries/ADM_smjs/jsapi.h&quot;
 #include &quot;ADM_AvidemuxAudio.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSDirectorySearch.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSDirectorySearch.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSDirectorySearch.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -8,7 +8,7 @@
 // Copyright: See COPYING file that comes with this distribution
 //
 //
-#include &quot;config.h&quot;
+
 #include &quot;ADM_JSDirectorySearch.h&quot;
 #include &quot;DirectorySearch.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSDirectorySearch.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSDirectorySearch.h	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSDirectorySearch.h	2009-05-30 15:01:14 UTC (rev 4873)
@@ -3,8 +3,8 @@
 
 #pragma once
 
-#include &quot;config.h&quot;
 
+
 // Spidermonkey
 #include &quot;ADM_libraries/ADM_smjs/jsapi.h&quot;
 #include &lt;string.h&gt;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSFunctions.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSFunctions.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_script/ADM_JSFunctions.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -9,9 +9,7 @@
 // Copyright: See COPYING file that comes with this distribution
 //
 //
-#include &quot;config.h&quot;
-#include &lt;stdlib.h&gt;
-#include &lt;unistd.h&gt;
+#include &quot;ADM_default.h&quot;
 #include &lt;sys/types.h&gt;
 #include &lt;sys/stat.h&gt;
 #if defined( ADM_WIN32 ) || defined(__MINGW32__)

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_script/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_script/CMakeLists.txt	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_script/CMakeLists.txt	2009-05-30 15:01:14 UTC (rev 4873)
@@ -2,5 +2,5 @@
 	ADM_AvidemuxAudio.cpp  ADM_AvidemuxVideo.cpp    ADM_JSAvidemux.cpp       ADM_JSDirectorySearch.cpp  ADM_JSGlobal.cpp
 	ADM_Avidemux.cpp       ADM_JSAvidemuxAudio.cpp  ADM_JSAvidemuxVideo.cpp  ADM_JSFunctions.cpp        DirectorySearch.cpp)
 
-ADD_ADM_LIB_ALL_TARGETS(ADM_script ${ADM_script_SRCS})
-ADD_CFLAGS_ALL_TARGETS(ADM_script &quot;-DJS_THREADSAFE -DXP_UNIX&quot;)
\ No newline at end of file
+ADD_LIBRARY(ADM_script STATIC ${ADM_script_SRCS})
+ADD_TARGET_CFLAGS(ADM_script &quot;-DJS_THREADSAFE -DXP_UNIX&quot;)

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_script/DirectorySearch.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_script/DirectorySearch.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_script/DirectorySearch.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -8,7 +8,7 @@
 at <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">amistry at am-productions.biz</A>
 */
 #include &lt;string.h&gt;
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &quot;DirectorySearch.h&quot;
 
 //////////////////////////////////////////////////////////////////////

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_script/StdFile.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_script/StdFile.h	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_script/StdFile.h	2009-05-30 15:01:14 UTC (rev 4873)
@@ -14,7 +14,7 @@
 #if _MSC_VER &gt; 1000
 #pragma once
 #endif // _MSC_VER &gt; 1000
-#include &quot;config.h&quot;
+
 #include &lt;iostream&gt;
 #include &lt;iomanip&gt;
 #include &lt;fstream&gt;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_toolkit/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_toolkit/CMakeLists.txt	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_toolkit/CMakeLists.txt	2009-05-30 15:01:14 UTC (rev 4873)
@@ -1,4 +1,4 @@
 SET(ADM_toolkit_SRCS 
 	ADM_audioQueue.cpp  ADM_packetQueue.cpp  automation.cpp  filesel.cpp)
 	
-ADD_ADM_LIB_ALL_TARGETS(ADM_toolkit ${ADM_toolkit_SRCS})
+ADD_LIBRARY(ADM_toolkit STATIC ${ADM_toolkit_SRCS})

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_toolkit/automation.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_toolkit/automation.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_toolkit/automation.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -17,8 +17,8 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;config.h&quot;
 
+
 #include &lt;stdlib.h&gt;
 #include &lt;signal.h&gt;
 #ifndef __WIN32
@@ -26,10 +26,10 @@
 #endif
 #include &lt;math.h&gt;
 #include &lt;ctype.h&gt;
-
+#include &quot;ADM_default.h&quot;
 #include &quot;avi_vars.h&quot;
-#include &quot;ADM_assert.h&quot;
 
+
 #include &quot;gui_action.hxx&quot;
 #include &quot;ADM_encoder/ADM_vidEncode.hxx&quot;
 #include &quot;audioeng_buildfilters.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -6,10 +6,12 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
+#include &lt;vector&gt;
+#include &quot;ADM_toolkitGtk.h&quot;
+#include &quot;ADM_default.h&quot;
 
-#include &quot;ADM_toolkitGtk.h&quot;
-#include &lt;vector&gt;
 
+
 #include &quot;DIA_coreToolkit.h&quot;
 #include &quot;DIA_fileSel.h&quot;
 #include &quot;ADM_videoFilter.h&quot;
@@ -333,11 +335,8 @@
         break;
 
     case A_LOAD:
-#ifdef USE_LIBXML2
+
         GUI_FileSelRead (QT_TR_NOOP(&quot;Load set of filters&quot;), filterLoadXml);
-#else
-        GUI_FileSelRead (QT_TR_NOOP(&quot;Load set of filters&quot;), filterLoad);
-#endif
         updateFilterList ();
         setSelectionNumber(nb_active_filter-1, WID(treeview0), stores[0], 0);
         break;
@@ -352,11 +351,8 @@
             GUI_Error_HIG (QT_TR_NOOP(&quot;Nothing to save&quot;), NULL);
         }
         else
-#ifdef USE_LIBXML2
+
             GUI_FileSelWrite (QT_TR_NOOP(&quot;Save set of filters&quot;), filterSaveXml);
-#else
-            GUI_FileSelWrite (QT_TR_NOOP(&quot;Save set of filters&quot;), filterSave);
-#endif
         break;
 #if 0
     default:

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -6,10 +6,11 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;config.h&quot;
 #include &quot;ADM_toolkitGtk.h&quot;
 #include &quot;ADM_default.h&quot;
 
+
+
 #define GLADE_HOOKUP_OBJECT(component,widget,name) \
   g_object_set_data_full (G_OBJECT (component), name, \
     gtk_widget_ref (widget), (GDestroyNotify) gtk_widget_unref)

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_video/ADM_vidNull.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_video/ADM_vidNull.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_video/ADM_vidNull.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -21,7 +21,6 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;config.h&quot;
 #include &quot;ADM_default.h&quot;
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 #include &quot;ADM_videoFilter.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_video/ADM_vidRaw.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_video/ADM_vidRaw.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_video/ADM_vidRaw.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -17,7 +17,6 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;config.h&quot;
 #include &quot;ADM_default.h&quot;
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 #include &quot;ADM_videoFilter.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_video/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_video/CMakeLists.txt	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_video/CMakeLists.txt	2009-05-30 15:01:14 UTC (rev 4873)
@@ -3,11 +3,11 @@
 ADM_vidRaw.cpp        
 ADM_vidNull.cpp)
 
-ADD_ADM_LIB_ALL_TARGETS(ADM_video ${ADM_video_SRCS})
+ADD_LIBRARY(ADM_video ${ADM_video_SRCS})
 
 IF (USE_FREETYPE)
-	ADD_CFLAGS_ALL_TARGETS(ADM_video ${FREETYPE2_CFLAGS})
+	ADD_TARGET_CFLAGS(ADM_video ${FREETYPE2_CFLAGS})
 ENDIF (USE_FREETYPE)
 
-ADD_CFLAGS_ALL_TARGETS(ADM_video &quot;-I../ADM_inputs&quot;)
+ADD_TARGET_CFLAGS(ADM_video &quot;-I../ADM_inputs&quot;)
 #ADM_vidFieldUnblend.cpp  

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -18,7 +18,6 @@
  *                                                                         *
  ***************************************************************************/
  
-#include &quot;config.h&quot;
 #include &quot;ADM_default.h&quot;
 #include &quot;ADM_videoFilter.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_videoFilter/ADM_vidNumber.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_videoFilter/ADM_vidNumber.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_videoFilter/ADM_vidNumber.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -15,7 +15,6 @@
  *                                                                         *
  ***************************************************************************/
 
-#include &quot;config.h&quot;
 #include &quot;ADM_default.h&quot;
 #include &quot;ADM_videoFilter.h&quot;
 #include &quot;ADM_videoFilterDynamic.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_videoFilter/ADM_vidThreshold.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_videoFilter/ADM_vidThreshold.cpp	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_videoFilter/ADM_vidThreshold.cpp	2009-05-30 15:01:14 UTC (rev 4873)
@@ -14,7 +14,6 @@
  *                                                                         *
  ***************************************************************************/
  
-#include &quot;config.h&quot;
 #include &quot;ADM_default.h&quot;
 #include &quot;ADM_videoFilter.h&quot;
 #include &quot;DIA_factory.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_videoFilter/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_videoFilter/CMakeLists.txt	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_videoFilter/CMakeLists.txt	2009-05-30 15:01:14 UTC (rev 4873)
@@ -8,5 +8,5 @@
 	ADM_vidThreshold.cpp
 	ADM_vidNumber.cpp)
 
-ADD_ADM_LIB_ALL_TARGETS(ADM_videoFilter ${ADM_videoFilter_SRCS})
+ADD_LIBRARY(ADM_videoFilter STATIC ${ADM_videoFilter_SRCS})
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/CMakeLists.txt	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/CMakeLists.txt	2009-05-30 15:01:14 UTC (rev 4873)
@@ -81,6 +81,7 @@
         ADM_coreAudioDevice
         ADM_coreUtils
         ADM_coreMuxer
+        ADM_coreVideoFilter
 )
 FOREACH(_current ${ADM_CORES})
         INCLUDE_DIRECTORIES(${_current}/include)
@@ -199,7 +200,7 @@
 )
 FOREACH(_current ${ADM_SUBDIR})
 	ADD_SUBDIRECTORY(${_current})
-	ADD_ADMLIB_ALL_TARGETS(${_current})
+	ADD_LIB_ALL_TARGETS(${_current})
 ENDFOREACH(_current ${ADM_SUBDIR})
 
 ###########################################
@@ -215,14 +216,16 @@
 	ADM_osSupport
 	ADM_encoder
 	ADM_toolkit
-	ADM_codecs
 	ADM_requant
 	)
 
 FOREACH(_current ${ADM_TAILS})
 	ADD_SUBDIRECTORY(${_current})
-	ADD_ADMLIB_ALL_TARGETS(${_current})
+	ADD_LIB_ALL_TARGETS(${_current})
 ENDFOREACH(_current ${ADM_TAILS})
+#
+	ADD_SUBDIRECTORY(ADM_codecs)
+	ADD_ADMLIB_ALL_TARGETS(ADM_codecs)
 ###########################################
 # Construct ADM_libraries
 ###########################################

Modified: branches/avidemux_2.6_branch_mean/avidemux/avi_vars.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/avi_vars.h	2009-05-30 15:01:11 UTC (rev 4872)
+++ branches/avidemux_2.6_branch_mean/avidemux/avi_vars.h	2009-05-30 15:01:14 UTC (rev 4873)
@@ -1,6 +1,6 @@
 #ifndef __AVI_VARS
 #define __AVI_VARS
-#include &quot;config.h&quot;
+
 #include &quot;fourcc.h&quot;
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
 //----------------------


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002095.html">[Avidemux-svn-commit] r4872 - in	branches/avidemux_2.6_branch_mean/avidemux: .	ADM_coreVideoFilter ADM_coreVideoFilter/include	ADM_coreVideoFilter/src
</A></li>
	<LI>Next message: <A HREF="002097.html">[Avidemux-svn-commit] r4874 - in	branches/avidemux_2.6_branch_mean/avidemux/ADM_coreVideoFilter:	include src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2096">[ date ]</a>
              <a href="thread.html#2096">[ thread ]</a>
              <a href="subject.html#2096">[ subject ]</a>
              <a href="author.html#2096">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
