<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r4875 - in	branches/avidemux_2.6_branch_mean/avidemux: .	ADM_libraries/ADM_libmpeg2enc ADM_libraries/ADM_xvidratectl
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4875%20-%20in%0A%09branches/avidemux_2.6_branch_mean/avidemux%3A%20.%0A%09ADM_libraries/ADM_libmpeg2enc%20ADM_libraries/ADM_xvidratectl&In-Reply-To=%3C200905301546.n4UFkZUF029005%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002097.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r4875 - in	branches/avidemux_2.6_branch_mean/avidemux: .	ADM_libraries/ADM_libmpeg2enc ADM_libraries/ADM_xvidratectl</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4875%20-%20in%0A%09branches/avidemux_2.6_branch_mean/avidemux%3A%20.%0A%09ADM_libraries/ADM_libmpeg2enc%20ADM_libraries/ADM_xvidratectl&In-Reply-To=%3C200905301546.n4UFkZUF029005%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r4875 - in	branches/avidemux_2.6_branch_mean/avidemux: .	ADM_libraries/ADM_libmpeg2enc ADM_libraries/ADM_xvidratectl">mean at mail.berlios.de
       </A><BR>
    <I>Sat May 30 17:46:35 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002097.html">[Avidemux-svn-commit] r4874 - in	branches/avidemux_2.6_branch_mean/avidemux/ADM_coreVideoFilter:	include src
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2098">[ date ]</a>
              <a href="thread.html#2098">[ thread ]</a>
              <a href="subject.html#2098">[ subject ]</a>
              <a href="author.html#2098">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2009-05-30 17:46:29 +0200 (Sat, 30 May 2009)
New Revision: 4875

Modified:
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/ADM_mpe2enc.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/build_sub22_mests.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/build_sub44_mests.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/conform.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/cpu_accel.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/fdct_mmx.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/fdct_x86.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/fdctdata.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/fdctref.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/feedframe.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/find_best_one_pel.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/idct.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/idct_mmx.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/idctdata.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/ioio.c
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/macroblock.hh
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_bsad_mmx.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_bsumsq_mmx.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sad_mmx.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sad_mmxe.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sub44_sads_x86.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sub44_sads_x86.h
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sumsq_mmx.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/motion.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/motionest.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/motionsearch.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/motionsearch.h
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpeg2enc.h
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpeg2enc_if.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpeg2param.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpeg2setup.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpegconsts.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predcomp_mmx.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predcomp_mmxe.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predict.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predict_mmx.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predict_ref.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predict_x86.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putbits.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/puthdr.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putmpg.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putpic.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putseq.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putvlc.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quant_mmx2.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quantize.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quantize_ref.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quantize_ref.h
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quantize_x86.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/ratectl.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/ratectl.hh
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/readpic.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/simd.h
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/stats.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/syntaxparams.h
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/transfrm.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/transfrm_ref.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/transfrm_ref.h
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/transfrm_x86.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/writepic.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/xx.c
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/yuv4mpeg.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/yuv4mpeg_ratio.cc
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_xvidratectl/ADM_oldxvid.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_xvidratectl/ADM_xvidratectl.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_xvidratectl/ADM_xvidratectlVBV.cpp
   branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_xvidratectl/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux/CMakeLists.txt
Log:
[ALL] More libraries factorization

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/ADM_mpe2enc.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/ADM_mpe2enc.cpp	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/ADM_mpe2enc.cpp	2009-05-30 15:46:29 UTC (rev 4875)
@@ -20,7 +20,7 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;&quot;
 
 #include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/CMakeLists.txt	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/CMakeLists.txt	2009-05-30 15:46:29 UTC (rev 4875)
@@ -21,19 +21,19 @@
 		altivec/sumsq_sub22.c  altivec/variance.c)
 ENDIF (ADM_CPU_ALTIVEC)
 
-ADD_ADM_LIB_ALL_TARGETS(${ADM_LIB} ${${ADM_LIB}_SRCS})
-ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-I${CMAKE_CURRENT_SOURCE_DIR}&quot;)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_TARGET_CFLAGS(${ADM_LIB} &quot;-I${CMAKE_CURRENT_SOURCE_DIR}&quot;)
 
 IF (ADM_CPU_X86)
-	ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-DHAVE_X86CPU&quot;)
+	ADD_TARGET_CFLAGS(${ADM_LIB} &quot;-DHAVE_X86CPU&quot;)
 
 	IF (ADM_CPU_X86_64)
-		ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-DHAVE_X86_64_CPU&quot;)
+		ADD_TARGET_CFLAGS(${ADM_LIB} &quot;-DHAVE_X86_64_CPU&quot;)
 	ENDIF (ADM_CPU_X86_64)
 ELSEIF (ADM_CPU_ALTIVEC)
-	ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-DHAVE_ALTIVEC&quot;)
+	ADD_TARGET_CFLAGS(${ADM_LIB} &quot;-DHAVE_ALTIVEC&quot;)
 
 	IF (NOT APPLE)
-		ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} &quot;-DHAVE_ALTIVEC_H&quot;)
+		ADD_TARGET_CFLAGS(${ADM_LIB} &quot;-DHAVE_ALTIVEC_H&quot;)
 	ENDIF (NOT APPLE)
 ENDIF (ADM_CPU_X86)

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/build_sub22_mests.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/build_sub22_mests.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/build_sub22_mests.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -1,4 +1,4 @@
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &quot;mmxsse_motion.h&quot;
 #include &quot;fastintfns.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/build_sub44_mests.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/build_sub44_mests.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/build_sub44_mests.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -1,4 +1,4 @@
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &quot;mmxsse_motion.h&quot;
 
 int (*pmblocks_sub44_mests)( uint8_t *blk,  uint8_t *ref,

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/conform.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/conform.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/conform.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -27,7 +27,7 @@
  *
  */
 
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &lt;stdlib.h&gt;
 #include &quot;mjpeg_logging.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/cpu_accel.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/cpu_accel.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/cpu_accel.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -19,7 +19,7 @@
  * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  */
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &lt;stdio.h&gt;
 #include &lt;signal.h&gt;
 #include &lt;setjmp.h&gt;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/fdct_mmx.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/fdct_mmx.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/fdct_mmx.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -30,7 +30,7 @@
  *  G.Vervoort Jan 2005: ported to inline asm.
  */
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #ifdef HAVE_X86CPU
 #include &quot;mjpeg_types.h&quot;
 #include &quot;attributes.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/fdct_x86.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/fdct_x86.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/fdct_x86.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -1,4 +1,4 @@
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #ifdef HAVE_X86CPU
 #include &lt;math.h&gt;
 #include &lt;unistd.h&gt;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/fdctdata.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/fdctdata.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/fdctdata.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -27,9 +27,7 @@
 //  <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">liaor at iname.com</A>  <A HREF="http://members.tripod.com/~liaor">http://members.tripod.com/~liaor</A>  
 //////////////////////////////////////////////////////////////////////////////
 
-#ifdef HAVE_CONFIG_H
-#include &quot;config.h&quot;
-#endif
+#include &quot;ADM_default.h&quot;
 
 #include &quot;mjpeg_types.h&quot;
 #include &quot;attributes.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/fdctref.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/fdctref.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/fdctref.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -47,7 +47,7 @@
  */
 
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &lt;math.h&gt;
 #include &lt;stdio.h&gt;
 #include &quot;mjpeg_types.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/feedframe.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/feedframe.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/feedframe.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -21,7 +21,7 @@
 	We prebuff PREFILL frame to not have problems
 		then do 1 in/ 1 out.
 */
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;
 #include &lt;string.h&gt;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/find_best_one_pel.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/find_best_one_pel.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/find_best_one_pel.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -1,4 +1,4 @@
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &lt;stdlib.h&gt;
 #include &lt;limits.h&gt;
 #include &lt;math.h&gt;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/idct.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/idct.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/idct.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -1,6 +1,6 @@
 /* idct.c, inverse fast discrete cosine transform                           */
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &lt;stdio.h&gt;
 #include &lt;string.h&gt;
 #include &lt;stdlib.h&gt;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/idct_mmx.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/idct_mmx.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/idct_mmx.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -1,4 +1,4 @@
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;
 #include &lt;unistd.h&gt;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/idctdata.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/idctdata.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/idctdata.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -10,7 +10,7 @@
 // assumes the programmer is familiar with IDCT mathematics, leaving the
 // form of the complete function up to the programmer's imagination.
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &lt;mjpeg_types.h&gt;
 
 //  ALGORITHM OVERVIEW

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/ioio.c
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/ioio.c	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/ioio.c	2009-05-30 15:46:29 UTC (rev 4875)
@@ -7,7 +7,7 @@
 #include &lt;assert.h&gt;
 #include &lt;math.h&gt;
 
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;&quot;
 #include &quot;mjpeg_logging.h&quot;
 
 #define SILENT

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/macroblock.hh
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/macroblock.hh	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/macroblock.hh	2009-05-30 15:46:29 UTC (rev 4875)
@@ -48,7 +48,7 @@
  *
  */
 
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &lt;vector&gt;
 #include &quot;mjpeg_types.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_bsad_mmx.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_bsad_mmx.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_bsad_mmx.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -18,7 +18,7 @@
  *   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
  */
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &lt;stdio.h&gt;
 #include &quot;mjpeg_types.h&quot;
 #ifdef HAVE_X86CPU

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_bsumsq_mmx.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_bsumsq_mmx.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_bsumsq_mmx.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -18,7 +18,7 @@
  *   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
  */
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &quot;mjpeg_types.h&quot;
 #ifdef HAVE_X86CPU
 #include &quot;mmx.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sad_mmx.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sad_mmx.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sad_mmx.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -24,7 +24,7 @@
  *   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
  */
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &quot;mjpeg_types.h&quot;
 #ifdef HAVE_X86CPU
 #include &quot;mmx.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sad_mmxe.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sad_mmxe.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sad_mmxe.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -30,7 +30,7 @@
 ;
 */
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #ifdef HAVE_X86CPU
 #include &quot;mjpeg_types.h&quot;
 #include &quot;mmx.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sub44_sads_x86.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sub44_sads_x86.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sub44_sads_x86.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -34,7 +34,7 @@
  * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  */
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #ifdef HAVE_X86CPU
 #include &quot;mjpeg_types.h&quot;
 #include &quot;attributes.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sub44_sads_x86.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sub44_sads_x86.h	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sub44_sads_x86.h	2009-05-30 15:46:29 UTC (rev 4875)
@@ -20,7 +20,7 @@
 #ifndef __MBLOCK_SUB44_SADS_X86_H__
 #define __MBLOCK_SUB44_SADS_X86__
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &quot;mjpeg_types.h&quot;
 int mblocks_sub44_mests_mmxe( uint8_t *blk,  uint8_t *ref,
 							 int ilow, int jlow,

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sumsq_mmx.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sumsq_mmx.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mblock_sumsq_mmx.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -18,7 +18,7 @@
  *   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
  */
 
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &quot;mjpeg_types.h&quot;
 #ifdef HAVE_X86CPU
 #include &quot;mmx.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/motion.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/motion.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/motion.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -1,4 +1,4 @@
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &lt;stdio.h&gt;
 
 #include &quot;mmxsse_motion.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/motionest.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/motionest.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/motionest.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -46,7 +46,7 @@
  *
  */
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;
 #include &lt;limits.h&gt;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/motionsearch.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/motionsearch.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/motionsearch.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -20,7 +20,7 @@
  *
  */
 #include &lt;stdio.h&gt;
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &lt;limits.h&gt;
 #include &lt;stdlib.h&gt;
 #if defined(ADM_BSD_FAMILY) || defined(ADM_SPARC)

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/motionsearch.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/motionsearch.h	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/motionsearch.h	2009-05-30 15:46:29 UTC (rev 4875)
@@ -20,7 +20,7 @@
 #ifndef __MOTIONSEARCH_H__
 #define __MOTIONSEARCH_H__
 
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &quot;mjpeg_types.h&quot;
 
 struct me_result

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpeg2enc.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpeg2enc.h	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpeg2enc.h	2009-05-30 15:46:29 UTC (rev 4875)
@@ -27,7 +27,7 @@
  *
  */
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &quot;mjpeg_types.h&quot;
 #include &quot;synchrolib.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpeg2enc_if.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpeg2enc_if.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpeg2enc_if.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -20,7 +20,7 @@
  *
  */
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;
 #include &lt;errno.h&gt;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpeg2param.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpeg2param.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpeg2param.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -1,4 +1,4 @@
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;
 #include &lt;errno.h&gt;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpeg2setup.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpeg2setup.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpeg2setup.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -19,7 +19,7 @@
 	Here we only use param and opt structure
 */
 #define NO_GLOBAL
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;
 #include &lt;errno.h&gt;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpegconsts.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpegconsts.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/mpegconsts.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -21,7 +21,7 @@
  *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
  */
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &quot;mpegconsts.h&quot;
 #include &quot;yuv4mpeg.h&quot;
 #include &quot;yuv4mpeg_intern.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predcomp_mmx.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predcomp_mmx.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predcomp_mmx.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -23,7 +23,7 @@
  *   02111-1307, USA.
  */
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &quot;mjpeg_types.h&quot;
 #ifdef HAVE_X86CPU
 #include &quot;mmx.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predcomp_mmxe.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predcomp_mmxe.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predcomp_mmxe.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -23,7 +23,7 @@
  *   02111-1307, USA.
  */
  
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #ifdef HAVE_X86CPU
 #include &quot;mjpeg_types.h&quot;
 #include &quot;mmx.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predict.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predict.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predict.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -46,7 +46,7 @@
  */
 
 
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &quot;mjpeg_logging.h&quot;
 #include &quot;global.h&quot;
 #include &quot;predict_ref.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predict_mmx.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predict_mmx.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predict_mmx.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -18,7 +18,7 @@
  *   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.   
  */
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &quot;mjpeg_types.h&quot;
 #ifdef HAVE_X86CPU
 #include &quot;mmx.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predict_ref.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predict_ref.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predict_ref.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -47,7 +47,7 @@
  */
 
 #include &lt;stdio.h&gt;
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &quot;mjpeg_types.h&quot;
 #include &quot;mjpeg_logging.h&quot;
 #include &quot;syntaxparams.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predict_x86.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predict_x86.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/predict_x86.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -21,7 +21,7 @@
  */
 
 
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &quot;mjpeg_types.h&quot;
 #include &quot;simd.h&quot;
 #include &quot;predict_ref.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putbits.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putbits.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putbits.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -46,7 +46,7 @@
  */
 
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &lt;stdio.h&gt;
 #include &quot;global.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/puthdr.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/puthdr.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/puthdr.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -46,7 +46,7 @@
  */
 
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &lt;stdio.h&gt;
 #include &lt;math.h&gt;
 #include &quot;global.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putmpg.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putmpg.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putmpg.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -27,7 +27,7 @@
  *
  */
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;
 #include &quot;global.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putpic.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putpic.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putpic.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -46,7 +46,7 @@
  */
 
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &lt;stdio.h&gt;
 #include &lt;math.h&gt;
 #include &quot;global.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putseq.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putseq.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putseq.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -42,7 +42,7 @@
  *
  */
 
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;
 #include &lt;math.h&gt;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putvlc.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putvlc.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/putvlc.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -27,7 +27,7 @@
  *
  */
 
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;
 #include &lt;assert.h&gt;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quant_mmx2.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quant_mmx2.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quant_mmx2.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -21,7 +21,7 @@
  *   quantize_ni_mmx.s:  MMX optimized coefficient quantization sub-routine
  */
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #ifdef HAVE_X86CPU
 #include &quot;mjpeg_types.h&quot;
 #include &quot;mmx.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quantize.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quantize.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quantize.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -46,7 +46,7 @@
  */
 
 
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &quot;global.h&quot;
 #include &quot;quantize_ref.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quantize_ref.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quantize_ref.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quantize_ref.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -49,7 +49,7 @@
 
 
 #include &lt;stdio.h&gt;
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &lt;math.h&gt;
 #include &lt;stdlib.h&gt;
 #ifdef HAVE_FENV_H

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quantize_ref.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quantize_ref.h	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quantize_ref.h	2009-05-30 15:46:29 UTC (rev 4875)
@@ -23,7 +23,7 @@
 #ifndef _QUANTIZE_H
 #define _QUANTIZE_H
 
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &quot;mjpeg_types.h&quot;
 
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quantize_x86.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quantize_x86.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/quantize_x86.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -24,7 +24,7 @@
 
 
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &lt;stdio.h&gt;
 #include &lt;math.h&gt;
 #include &lt;string.h&gt;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/ratectl.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/ratectl.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/ratectl.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -45,7 +45,7 @@
  *
  */
 
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &lt;math.h&gt;
 #include &lt;limits.h&gt;
 #include &quot;mjpeg_types.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/ratectl.hh
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/ratectl.hh	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/ratectl.hh	2009-05-30 15:46:29 UTC (rev 4875)
@@ -23,7 +23,7 @@
 #define K_AVG_WINDOW_P   10.0
 #define	K_AVG_WINDOW_B   20.0
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 class MacroBlock;
 // MEANX : UGLY
 extern int rateCtlDisablePadding;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/readpic.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/readpic.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/readpic.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -68,7 +68,7 @@
  */
 
 
-#include &lt;config.h&gt;
+#include &quot;ADM_default.h&quot; 
 #include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;
 //#include &lt;unistd.h&gt;
@@ -79,7 +79,6 @@
 
 #include &quot;mpegconsts.h&quot;
 #include &quot;yuv4mpeg.h&quot;
-#include &quot;ADM_default.h&quot; 
 
 
    /* NOTE: access toframes_read *must* be read-only in other threads

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/simd.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/simd.h	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/simd.h	2009-05-30 15:46:29 UTC (rev 4875)
@@ -27,7 +27,7 @@
  */
 #ifndef __SIMD_H__
 #define __SIMD_H__
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &quot;stdlib.h&quot;
 #include &quot;mjpeg_types.h&quot;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/stats.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/stats.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/stats.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -46,7 +46,7 @@
  */
 
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &lt;stdio.h&gt;
 #include &lt;math.h&gt;
 #include &quot;global.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/syntaxparams.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/syntaxparams.h	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/syntaxparams.h	2009-05-30 15:46:29 UTC (rev 4875)
@@ -7,7 +7,7 @@
 #define _SYNTAXPARAMS_H
 
 
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &quot;mjpeg_types.h&quot;
 
 /* choose between declaration (GLOBAL undefined) and definition

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/transfrm.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/transfrm.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/transfrm.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -23,7 +23,7 @@
  */
 
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &lt;stdio.h&gt;
 #include &lt;math.h&gt;
 #include &quot;global.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/transfrm_ref.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/transfrm_ref.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/transfrm_ref.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -49,7 +49,6 @@
  */
 #include &quot;ADM_default.h&quot;
 #include &lt;stdio.h&gt;
-#include &quot;config.h&quot;
 #include &lt;math.h&gt;
 #include &quot;mjpeg_types.h&quot;
 #include &quot;mjpeg_logging.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/transfrm_ref.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/transfrm_ref.h	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/transfrm_ref.h	2009-05-30 15:46:29 UTC (rev 4875)
@@ -47,7 +47,7 @@
 #ifndef _TRANSFRM_H
 #define _TRANSFRM_H
 
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &quot;mjpeg_types.h&quot;
 
 // MEANX

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/transfrm_x86.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/transfrm_x86.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/transfrm_x86.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -21,7 +21,7 @@
  */
 
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #ifdef HAVE_X86CPU
 #include &lt;math.h&gt;
 #include &quot;mjpeg_types.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/writepic.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/writepic.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/writepic.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -27,7 +27,7 @@
  *
  */
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 #include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;
 #include &quot;global.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/xx.c
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/xx.c	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/xx.c	2009-05-30 15:46:29 UTC (rev 4875)
@@ -21,7 +21,7 @@
  */
 
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&quot;&gt;
 #include &lt;math.h&gt;
 #include &quot;mjpeg_types.h&quot;
 #include &quot;syntaxparams.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/yuv4mpeg.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/yuv4mpeg.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/yuv4mpeg.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -20,7 +20,7 @@
  *
  */
 #if 0
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&quot;&gt;
 
 #include &lt;unistd.h&gt;
 #include &lt;stdio.h&gt;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/yuv4mpeg_ratio.cc
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/yuv4mpeg_ratio.cc	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_libmpeg2enc/yuv4mpeg_ratio.cc	2009-05-30 15:46:29 UTC (rev 4875)
@@ -20,7 +20,7 @@
  *
  */
 
-#include &lt;config.h&gt;
+#include &lt;ADM_default.h&gt;
 
 #include &lt;string.h&gt;
 #include &quot;yuv4mpeg.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_xvidratectl/ADM_oldxvid.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_xvidratectl/ADM_oldxvid.cpp	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_xvidratectl/ADM_oldxvid.cpp	2009-05-30 15:46:29 UTC (rev 4875)
@@ -9,10 +9,8 @@
 // Copyright: See COPYING file that comes with this distribution
 //
 //
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
 #include &lt;string.h&gt;
 #include &lt;math.h&gt;
 

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_xvidratectl/ADM_xvidratectl.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_xvidratectl/ADM_xvidratectl.cpp	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_xvidratectl/ADM_xvidratectl.cpp	2009-05-30 15:46:29 UTC (rev 4875)
@@ -43,7 +43,7 @@
 	to fight most common problems without user's knowladge */
 #define SMART_OVERFLOW_SETTING
 #define VBV
-#include &quot;config.h&quot;
+#include &quot;ADM_default.h&quot;
 #include &lt;stdio.h&gt;
 #include &lt;string.h&gt;
 #include &lt;errno.h&gt;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_xvidratectl/ADM_xvidratectlVBV.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_xvidratectl/ADM_xvidratectlVBV.cpp	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_xvidratectl/ADM_xvidratectlVBV.cpp	2009-05-30 15:46:29 UTC (rev 4875)
@@ -12,13 +12,10 @@
 //
 //	Reuse some of Peter Cheat predictor model
 //
-#include &quot;config.h&quot;
-#include &lt;stdio.h&gt;
-#include &lt;string.h&gt;
+#include &quot;ADM_default.h&quot;
 #include &lt;errno.h&gt;
 #include &lt;math.h&gt;
 #include &lt;limits.h&gt;
-#include &quot;ADM_default.h&quot;
 #include &quot;ADM_assert.h&quot;
 
 #include &quot;ADM_osSupport/ADM_debugID.h&quot;

Modified: branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_xvidratectl/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_xvidratectl/CMakeLists.txt	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/ADM_libraries/ADM_xvidratectl/CMakeLists.txt	2009-05-30 15:46:29 UTC (rev 4875)
@@ -3,4 +3,4 @@
 SET(${ADM_LIB}_SRCS 
 	ADM_oldxvid.cpp  ADM_xvidratectl.cpp  ADM_xvidratectlVBV.cpp)
 
-ADD_ADM_LIB_ALL_TARGETS(${ADM_LIB} ${${ADM_LIB}_SRCS})
\ No newline at end of file
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})

Modified: branches/avidemux_2.6_branch_mean/avidemux/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/CMakeLists.txt	2009-05-30 15:46:27 UTC (rev 4874)
+++ branches/avidemux_2.6_branch_mean/avidemux/CMakeLists.txt	2009-05-30 15:46:29 UTC (rev 4875)
@@ -224,6 +224,9 @@
 	ADD_LIB_ALL_TARGETS(${_current})
 ENDFOREACH(_current ${ADM_TAILS})
 #
+# These libs depend (for now) on config.h
+# so we have to build them for each UI
+#
 	ADD_SUBDIRECTORY(ADM_codecs)
 	ADD_ADMLIB_ALL_TARGETS(ADM_codecs)
 ###########################################
@@ -231,7 +234,7 @@
 ###########################################
 ADD_SUBDIRECTORY(ADM_libraries)
 
-ADD_ADMLIB_ALL_TARGETS(
+ADD_LIB_ALL_TARGETS(
 	ADM_libmpeg2enc
 	ADM_xvidratectl
 )


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002097.html">[Avidemux-svn-commit] r4874 - in	branches/avidemux_2.6_branch_mean/avidemux/ADM_coreVideoFilter:	include src
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2098">[ date ]</a>
              <a href="thread.html#2098">[ thread ]</a>
              <a href="subject.html#2098">[ subject ]</a>
              <a href="author.html#2098">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
