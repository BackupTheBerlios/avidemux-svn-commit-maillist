<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r3705 - in	branches/avidemux_2.4_branch/avidemux: . ADM_filter	ADM_userInterfaces/ADM_QT4/ADM_gui ADM_userInterfaces/ADM_commonUI
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2007-November/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3705%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20.%20ADM_filter%0A%09ADM_userInterfaces/ADM_QT4/ADM_gui%20ADM_userInterfaces/ADM_commonUI&In-Reply-To=%3C200711251347.lAPDlFMj014686%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000972.html">
   <LINK REL="Next"  HREF="000974.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r3705 - in	branches/avidemux_2.4_branch/avidemux: . ADM_filter	ADM_userInterfaces/ADM_QT4/ADM_gui ADM_userInterfaces/ADM_commonUI</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3705%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20.%20ADM_filter%0A%09ADM_userInterfaces/ADM_QT4/ADM_gui%20ADM_userInterfaces/ADM_commonUI&In-Reply-To=%3C200711251347.lAPDlFMj014686%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r3705 - in	branches/avidemux_2.4_branch/avidemux: . ADM_filter	ADM_userInterfaces/ADM_QT4/ADM_gui ADM_userInterfaces/ADM_commonUI">mean at mail.berlios.de
       </A><BR>
    <I>Sun Nov 25 14:47:15 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000972.html">[Avidemux-svn-commit] r3704 -	branches/avidemux_2.4_branch/avidemux/ADM_codecs
</A></li>
        <LI>Next message: <A HREF="000974.html">[Avidemux-svn-commit] r3706 - in	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK:	ADM_gui2 ADM_toolkit_gtk glade
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#973">[ date ]</a>
              <a href="thread.html#973">[ thread ]</a>
              <a href="subject.html#973">[ subject ]</a>
              <a href="author.html#973">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2007-11-25 14:47:14 +0100 (Sun, 25 Nov 2007)
New Revision: 3705

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_filter/vidVCD.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_filter/vidVCD.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.h
   branches/avidemux_2.4_branch/avidemux/gui_autodrive.cpp
Log:
[Sikon] Add 640*480 profile for Ipod

Modified: branches/avidemux_2.4_branch/avidemux/ADM_filter/vidVCD.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_filter/vidVCD.cpp	2007-11-25 10:18:10 UTC (rev 3704)
+++ branches/avidemux_2.4_branch/avidemux/ADM_filter/vidVCD.cpp	2007-11-25 13:47:14 UTC (rev 3705)
@@ -73,11 +73,13 @@
 static targetFmt PSP={480, 480, 272, 272};
 static targetFmt PSPH264={720, 720, 480, 480};
 static targetFmt IPOD={320, 320, 240, 240};
+static targetFmt IPOD640={640, 640, 480, 480};
+
 /* Dont forget to update DIA_resizeWiz if you change something here */
 
-targetFmt *allFormats[7]={&amp;VCD,&amp;SVCD,&amp;DVD,&amp;DVDHD1,&amp;PSP,&amp;PSPH264,&amp;IPOD};
+targetFmt *allFormats[]={&amp;VCD,&amp;SVCD,&amp;DVD,&amp;DVDHD1,&amp;PSP,&amp;PSPH264,&amp;IPOD,&amp;IPOD640};
 extern AVDMGenericVideoStream *createResampleFps(AVDMGenericVideoStream *in,uint32_t targetfps1000);
-#define ARME(x) format=RESWIZ_##x;
+#define ARME(x) format=RESWIZ_##x
 
 uint8_t setVCD (void)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_filter/vidVCD.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_filter/vidVCD.h	2007-11-25 10:18:10 UTC (rev 3704)
+++ branches/avidemux_2.4_branch/avidemux/ADM_filter/vidVCD.h	2007-11-25 13:47:14 UTC (rev 3705)
@@ -26,6 +26,6 @@
 uint8_t setPSPFullRes(void);
 uint8_t setDVD( void );
 uint8_t setHalfD1( void );
-uint8_t setIPOD( void );
+uint8_t setIPOD( void);
 
-#endif
\ No newline at end of file
+#endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2007-11-25 10:18:10 UTC (rev 3704)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2007-11-25 13:47:14 UTC (rev 3705)
@@ -7,7 +7,7 @@
     &lt;x&gt;0&lt;/x&gt;
     &lt;y&gt;0&lt;/y&gt;
     &lt;width&gt;838&lt;/width&gt;
-    &lt;height&gt;543&lt;/height&gt;
+    &lt;height&gt;568&lt;/height&gt;
    &lt;/rect&gt;
   &lt;/property&gt;
   &lt;property name=&quot;windowTitle&quot; &gt;
@@ -24,42 +24,76 @@
   &lt;/property&gt;
   &lt;widget class=&quot;QWidget&quot; name=&quot;centralwidget&quot; &gt;
    &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-    &lt;property name=&quot;margin&quot; &gt;
-     &lt;number&gt;9&lt;/number&gt;
-    &lt;/property&gt;
     &lt;property name=&quot;spacing&quot; &gt;
      &lt;number&gt;6&lt;/number&gt;
     &lt;/property&gt;
+    &lt;property name=&quot;leftMargin&quot; &gt;
+     &lt;number&gt;9&lt;/number&gt;
+    &lt;/property&gt;
+    &lt;property name=&quot;topMargin&quot; &gt;
+     &lt;number&gt;9&lt;/number&gt;
+    &lt;/property&gt;
+    &lt;property name=&quot;rightMargin&quot; &gt;
+     &lt;number&gt;9&lt;/number&gt;
+    &lt;/property&gt;
+    &lt;property name=&quot;bottomMargin&quot; &gt;
+     &lt;number&gt;9&lt;/number&gt;
+    &lt;/property&gt;
     &lt;item&gt;
      &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-      &lt;property name=&quot;margin&quot; &gt;
-       &lt;number&gt;0&lt;/number&gt;
-      &lt;/property&gt;
       &lt;property name=&quot;spacing&quot; &gt;
        &lt;number&gt;6&lt;/number&gt;
       &lt;/property&gt;
+      &lt;property name=&quot;leftMargin&quot; &gt;
+       &lt;number&gt;0&lt;/number&gt;
+      &lt;/property&gt;
+      &lt;property name=&quot;topMargin&quot; &gt;
+       &lt;number&gt;0&lt;/number&gt;
+      &lt;/property&gt;
+      &lt;property name=&quot;rightMargin&quot; &gt;
+       &lt;number&gt;0&lt;/number&gt;
+      &lt;/property&gt;
+      &lt;property name=&quot;bottomMargin&quot; &gt;
+       &lt;number&gt;0&lt;/number&gt;
+      &lt;/property&gt;
       &lt;item&gt;
        &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-        &lt;property name=&quot;margin&quot; &gt;
-         &lt;number&gt;0&lt;/number&gt;
-        &lt;/property&gt;
         &lt;property name=&quot;spacing&quot; &gt;
          &lt;number&gt;6&lt;/number&gt;
         &lt;/property&gt;
+        &lt;property name=&quot;leftMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;topMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;rightMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;bottomMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
         &lt;item&gt;
          &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-          &lt;property name=&quot;margin&quot; &gt;
+          &lt;property name=&quot;spacing&quot; &gt;
            &lt;number&gt;0&lt;/number&gt;
           &lt;/property&gt;
-          &lt;property name=&quot;spacing&quot; &gt;
+          &lt;property name=&quot;leftMargin&quot; &gt;
            &lt;number&gt;0&lt;/number&gt;
           &lt;/property&gt;
+          &lt;property name=&quot;topMargin&quot; &gt;
+           &lt;number&gt;0&lt;/number&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;rightMargin&quot; &gt;
+           &lt;number&gt;0&lt;/number&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;bottomMargin&quot; &gt;
+           &lt;number&gt;0&lt;/number&gt;
+          &lt;/property&gt;
           &lt;item&gt;
            &lt;widget class=&quot;QLabel&quot; name=&quot;label_3&quot; &gt;
             &lt;property name=&quot;sizePolicy&quot; &gt;
-             &lt;sizepolicy&gt;
-              &lt;hsizetype&gt;5&lt;/hsizetype&gt;
-              &lt;vsizetype&gt;5&lt;/vsizetype&gt;
+             &lt;sizepolicy vsizetype=&quot;Preferred&quot; hsizetype=&quot;Preferred&quot; &gt;
               &lt;horstretch&gt;0&lt;/horstretch&gt;
               &lt;verstretch&gt;0&lt;/verstretch&gt;
              &lt;/sizepolicy&gt;
@@ -96,12 +130,21 @@
           &lt;/item&gt;
           &lt;item&gt;
            &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-            &lt;property name=&quot;margin&quot; &gt;
+            &lt;property name=&quot;spacing&quot; &gt;
              &lt;number&gt;0&lt;/number&gt;
             &lt;/property&gt;
-            &lt;property name=&quot;spacing&quot; &gt;
+            &lt;property name=&quot;leftMargin&quot; &gt;
              &lt;number&gt;0&lt;/number&gt;
             &lt;/property&gt;
+            &lt;property name=&quot;topMargin&quot; &gt;
+             &lt;number&gt;0&lt;/number&gt;
+            &lt;/property&gt;
+            &lt;property name=&quot;rightMargin&quot; &gt;
+             &lt;number&gt;0&lt;/number&gt;
+            &lt;/property&gt;
+            &lt;property name=&quot;bottomMargin&quot; &gt;
+             &lt;number&gt;0&lt;/number&gt;
+            &lt;/property&gt;
             &lt;item&gt;
              &lt;spacer&gt;
               &lt;property name=&quot;orientation&quot; &gt;
@@ -120,18 +163,25 @@
             &lt;/item&gt;
             &lt;item&gt;
              &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-              &lt;property name=&quot;margin&quot; &gt;
-               &lt;number&gt;0&lt;/number&gt;
-              &lt;/property&gt;
               &lt;property name=&quot;spacing&quot; &gt;
                &lt;number&gt;6&lt;/number&gt;
               &lt;/property&gt;
+              &lt;property name=&quot;leftMargin&quot; &gt;
+               &lt;number&gt;0&lt;/number&gt;
+              &lt;/property&gt;
+              &lt;property name=&quot;topMargin&quot; &gt;
+               &lt;number&gt;0&lt;/number&gt;
+              &lt;/property&gt;
+              &lt;property name=&quot;rightMargin&quot; &gt;
+               &lt;number&gt;0&lt;/number&gt;
+              &lt;/property&gt;
+              &lt;property name=&quot;bottomMargin&quot; &gt;
+               &lt;number&gt;0&lt;/number&gt;
+              &lt;/property&gt;
               &lt;item&gt;
                &lt;widget class=&quot;QComboBox&quot; name=&quot;comboBoxVideo&quot; &gt;
                 &lt;property name=&quot;sizePolicy&quot; &gt;
-                 &lt;sizepolicy&gt;
-                  &lt;hsizetype&gt;1&lt;/hsizetype&gt;
-                  &lt;vsizetype&gt;0&lt;/vsizetype&gt;
+                 &lt;sizepolicy vsizetype=&quot;Fixed&quot; hsizetype=&quot;Minimum&quot; &gt;
                   &lt;horstretch&gt;0&lt;/horstretch&gt;
                   &lt;verstretch&gt;0&lt;/verstretch&gt;
                  &lt;/sizepolicy&gt;
@@ -149,9 +199,7 @@
                  &lt;bool&gt;true&lt;/bool&gt;
                 &lt;/property&gt;
                 &lt;property name=&quot;sizePolicy&quot; &gt;
-                 &lt;sizepolicy&gt;
-                  &lt;hsizetype&gt;1&lt;/hsizetype&gt;
-                  &lt;vsizetype&gt;0&lt;/vsizetype&gt;
+                 &lt;sizepolicy vsizetype=&quot;Fixed&quot; hsizetype=&quot;Minimum&quot; &gt;
                   &lt;horstretch&gt;0&lt;/horstretch&gt;
                   &lt;verstretch&gt;0&lt;/verstretch&gt;
                  &lt;/sizepolicy&gt;
@@ -167,9 +215,7 @@
                  &lt;bool&gt;true&lt;/bool&gt;
                 &lt;/property&gt;
                 &lt;property name=&quot;sizePolicy&quot; &gt;
-                 &lt;sizepolicy&gt;
-                  &lt;hsizetype&gt;1&lt;/hsizetype&gt;
-                  &lt;vsizetype&gt;0&lt;/vsizetype&gt;
+                 &lt;sizepolicy vsizetype=&quot;Fixed&quot; hsizetype=&quot;Minimum&quot; &gt;
                   &lt;horstretch&gt;0&lt;/horstretch&gt;
                   &lt;verstretch&gt;0&lt;/verstretch&gt;
                  &lt;/sizepolicy&gt;
@@ -202,9 +248,7 @@
           &lt;item&gt;
            &lt;widget class=&quot;QLabel&quot; name=&quot;label_5&quot; &gt;
             &lt;property name=&quot;sizePolicy&quot; &gt;
-             &lt;sizepolicy&gt;
-              &lt;hsizetype&gt;5&lt;/hsizetype&gt;
-              &lt;vsizetype&gt;5&lt;/vsizetype&gt;
+             &lt;sizepolicy vsizetype=&quot;Preferred&quot; hsizetype=&quot;Preferred&quot; &gt;
               &lt;horstretch&gt;0&lt;/horstretch&gt;
               &lt;verstretch&gt;0&lt;/verstretch&gt;
              &lt;/sizepolicy&gt;
@@ -241,12 +285,21 @@
           &lt;/item&gt;
           &lt;item&gt;
            &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-            &lt;property name=&quot;margin&quot; &gt;
+            &lt;property name=&quot;spacing&quot; &gt;
              &lt;number&gt;0&lt;/number&gt;
             &lt;/property&gt;
-            &lt;property name=&quot;spacing&quot; &gt;
+            &lt;property name=&quot;leftMargin&quot; &gt;
              &lt;number&gt;0&lt;/number&gt;
             &lt;/property&gt;
+            &lt;property name=&quot;topMargin&quot; &gt;
+             &lt;number&gt;0&lt;/number&gt;
+            &lt;/property&gt;
+            &lt;property name=&quot;rightMargin&quot; &gt;
+             &lt;number&gt;0&lt;/number&gt;
+            &lt;/property&gt;
+            &lt;property name=&quot;bottomMargin&quot; &gt;
+             &lt;number&gt;0&lt;/number&gt;
+            &lt;/property&gt;
             &lt;item&gt;
              &lt;spacer&gt;
               &lt;property name=&quot;orientation&quot; &gt;
@@ -265,18 +318,25 @@
             &lt;/item&gt;
             &lt;item&gt;
              &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-              &lt;property name=&quot;margin&quot; &gt;
-               &lt;number&gt;0&lt;/number&gt;
-              &lt;/property&gt;
               &lt;property name=&quot;spacing&quot; &gt;
                &lt;number&gt;6&lt;/number&gt;
               &lt;/property&gt;
+              &lt;property name=&quot;leftMargin&quot; &gt;
+               &lt;number&gt;0&lt;/number&gt;
+              &lt;/property&gt;
+              &lt;property name=&quot;topMargin&quot; &gt;
+               &lt;number&gt;0&lt;/number&gt;
+              &lt;/property&gt;
+              &lt;property name=&quot;rightMargin&quot; &gt;
+               &lt;number&gt;0&lt;/number&gt;
+              &lt;/property&gt;
+              &lt;property name=&quot;bottomMargin&quot; &gt;
+               &lt;number&gt;0&lt;/number&gt;
+              &lt;/property&gt;
               &lt;item&gt;
                &lt;widget class=&quot;QComboBox&quot; name=&quot;comboBoxAudio&quot; &gt;
                 &lt;property name=&quot;sizePolicy&quot; &gt;
-                 &lt;sizepolicy&gt;
-                  &lt;hsizetype&gt;1&lt;/hsizetype&gt;
-                  &lt;vsizetype&gt;0&lt;/vsizetype&gt;
+                 &lt;sizepolicy vsizetype=&quot;Fixed&quot; hsizetype=&quot;Minimum&quot; &gt;
                   &lt;horstretch&gt;0&lt;/horstretch&gt;
                   &lt;verstretch&gt;0&lt;/verstretch&gt;
                  &lt;/sizepolicy&gt;
@@ -294,9 +354,7 @@
                  &lt;bool&gt;true&lt;/bool&gt;
                 &lt;/property&gt;
                 &lt;property name=&quot;sizePolicy&quot; &gt;
-                 &lt;sizepolicy&gt;
-                  &lt;hsizetype&gt;1&lt;/hsizetype&gt;
-                  &lt;vsizetype&gt;0&lt;/vsizetype&gt;
+                 &lt;sizepolicy vsizetype=&quot;Fixed&quot; hsizetype=&quot;Minimum&quot; &gt;
                   &lt;horstretch&gt;0&lt;/horstretch&gt;
                   &lt;verstretch&gt;0&lt;/verstretch&gt;
                  &lt;/sizepolicy&gt;
@@ -312,9 +370,7 @@
                  &lt;bool&gt;true&lt;/bool&gt;
                 &lt;/property&gt;
                 &lt;property name=&quot;sizePolicy&quot; &gt;
-                 &lt;sizepolicy&gt;
-                  &lt;hsizetype&gt;1&lt;/hsizetype&gt;
-                  &lt;vsizetype&gt;0&lt;/vsizetype&gt;
+                 &lt;sizepolicy vsizetype=&quot;Fixed&quot; hsizetype=&quot;Minimum&quot; &gt;
                   &lt;horstretch&gt;0&lt;/horstretch&gt;
                   &lt;verstretch&gt;0&lt;/verstretch&gt;
                  &lt;/sizepolicy&gt;
@@ -326,12 +382,21 @@
               &lt;/item&gt;
               &lt;item&gt;
                &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-                &lt;property name=&quot;margin&quot; &gt;
-                 &lt;number&gt;0&lt;/number&gt;
-                &lt;/property&gt;
                 &lt;property name=&quot;spacing&quot; &gt;
                  &lt;number&gt;6&lt;/number&gt;
                 &lt;/property&gt;
+                &lt;property name=&quot;leftMargin&quot; &gt;
+                 &lt;number&gt;0&lt;/number&gt;
+                &lt;/property&gt;
+                &lt;property name=&quot;topMargin&quot; &gt;
+                 &lt;number&gt;0&lt;/number&gt;
+                &lt;/property&gt;
+                &lt;property name=&quot;rightMargin&quot; &gt;
+                 &lt;number&gt;0&lt;/number&gt;
+                &lt;/property&gt;
+                &lt;property name=&quot;bottomMargin&quot; &gt;
+                 &lt;number&gt;0&lt;/number&gt;
+                &lt;/property&gt;
                 &lt;item&gt;
                  &lt;widget class=&quot;QCheckBox&quot; name=&quot;checkBox_TimeShift&quot; &gt;
                   &lt;property name=&quot;text&quot; &gt;
@@ -342,19 +407,17 @@
                 &lt;item&gt;
                  &lt;widget class=&quot;QSpinBox&quot; name=&quot;spinBox_TimeValue&quot; &gt;
                   &lt;property name=&quot;sizePolicy&quot; &gt;
-                   &lt;sizepolicy&gt;
-                    &lt;hsizetype&gt;1&lt;/hsizetype&gt;
-                    &lt;vsizetype&gt;0&lt;/vsizetype&gt;
+                   &lt;sizepolicy vsizetype=&quot;Fixed&quot; hsizetype=&quot;Minimum&quot; &gt;
                     &lt;horstretch&gt;0&lt;/horstretch&gt;
                     &lt;verstretch&gt;0&lt;/verstretch&gt;
                    &lt;/sizepolicy&gt;
                   &lt;/property&gt;
+                  &lt;property name=&quot;minimum&quot; &gt;
+                   &lt;number&gt;-99999&lt;/number&gt;
+                  &lt;/property&gt;
                   &lt;property name=&quot;maximum&quot; &gt;
                    &lt;number&gt;99999&lt;/number&gt;
                   &lt;/property&gt;
-                  &lt;property name=&quot;minimum&quot; &gt;
-                   &lt;number&gt;-99999&lt;/number&gt;
-                  &lt;/property&gt;
                  &lt;/widget&gt;
                 &lt;/item&gt;
                &lt;/layout&gt;
@@ -382,9 +445,7 @@
           &lt;item&gt;
            &lt;widget class=&quot;QLabel&quot; name=&quot;label_4&quot; &gt;
             &lt;property name=&quot;sizePolicy&quot; &gt;
-             &lt;sizepolicy&gt;
-              &lt;hsizetype&gt;5&lt;/hsizetype&gt;
-              &lt;vsizetype&gt;5&lt;/vsizetype&gt;
+             &lt;sizepolicy vsizetype=&quot;Preferred&quot; hsizetype=&quot;Preferred&quot; &gt;
               &lt;horstretch&gt;0&lt;/horstretch&gt;
               &lt;verstretch&gt;0&lt;/verstretch&gt;
              &lt;/sizepolicy&gt;
@@ -415,12 +476,21 @@
           &lt;/item&gt;
           &lt;item&gt;
            &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-            &lt;property name=&quot;margin&quot; &gt;
+            &lt;property name=&quot;spacing&quot; &gt;
              &lt;number&gt;0&lt;/number&gt;
             &lt;/property&gt;
-            &lt;property name=&quot;spacing&quot; &gt;
+            &lt;property name=&quot;leftMargin&quot; &gt;
              &lt;number&gt;0&lt;/number&gt;
             &lt;/property&gt;
+            &lt;property name=&quot;topMargin&quot; &gt;
+             &lt;number&gt;0&lt;/number&gt;
+            &lt;/property&gt;
+            &lt;property name=&quot;rightMargin&quot; &gt;
+             &lt;number&gt;0&lt;/number&gt;
+            &lt;/property&gt;
+            &lt;property name=&quot;bottomMargin&quot; &gt;
+             &lt;number&gt;0&lt;/number&gt;
+            &lt;/property&gt;
             &lt;item&gt;
              &lt;spacer&gt;
               &lt;property name=&quot;orientation&quot; &gt;
@@ -440,9 +510,7 @@
             &lt;item&gt;
              &lt;widget class=&quot;QComboBox&quot; name=&quot;comboBoxFormat&quot; &gt;
               &lt;property name=&quot;sizePolicy&quot; &gt;
-               &lt;sizepolicy&gt;
-                &lt;hsizetype&gt;1&lt;/hsizetype&gt;
-                &lt;vsizetype&gt;0&lt;/vsizetype&gt;
+               &lt;sizepolicy vsizetype=&quot;Fixed&quot; hsizetype=&quot;Minimum&quot; &gt;
                 &lt;horstretch&gt;0&lt;/horstretch&gt;
                 &lt;verstretch&gt;0&lt;/verstretch&gt;
                &lt;/sizepolicy&gt;
@@ -473,18 +541,25 @@
       &lt;/item&gt;
       &lt;item&gt;
        &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-        &lt;property name=&quot;margin&quot; &gt;
-         &lt;number&gt;0&lt;/number&gt;
-        &lt;/property&gt;
         &lt;property name=&quot;spacing&quot; &gt;
          &lt;number&gt;6&lt;/number&gt;
         &lt;/property&gt;
+        &lt;property name=&quot;leftMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;topMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;rightMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;bottomMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
         &lt;item&gt;
          &lt;widget class=&quot;QFrame&quot; name=&quot;frame_video&quot; &gt;
           &lt;property name=&quot;sizePolicy&quot; &gt;
-           &lt;sizepolicy&gt;
-            &lt;hsizetype&gt;7&lt;/hsizetype&gt;
-            &lt;vsizetype&gt;7&lt;/vsizetype&gt;
+           &lt;sizepolicy vsizetype=&quot;Expanding&quot; hsizetype=&quot;Expanding&quot; &gt;
             &lt;horstretch&gt;0&lt;/horstretch&gt;
             &lt;verstretch&gt;0&lt;/verstretch&gt;
            &lt;/sizepolicy&gt;
@@ -531,20 +606,38 @@
     &lt;/item&gt;
     &lt;item&gt;
      &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-      &lt;property name=&quot;margin&quot; &gt;
-       &lt;number&gt;0&lt;/number&gt;
-      &lt;/property&gt;
       &lt;property name=&quot;spacing&quot; &gt;
        &lt;number&gt;6&lt;/number&gt;
       &lt;/property&gt;
+      &lt;property name=&quot;leftMargin&quot; &gt;
+       &lt;number&gt;0&lt;/number&gt;
+      &lt;/property&gt;
+      &lt;property name=&quot;topMargin&quot; &gt;
+       &lt;number&gt;0&lt;/number&gt;
+      &lt;/property&gt;
+      &lt;property name=&quot;rightMargin&quot; &gt;
+       &lt;number&gt;0&lt;/number&gt;
+      &lt;/property&gt;
+      &lt;property name=&quot;bottomMargin&quot; &gt;
+       &lt;number&gt;0&lt;/number&gt;
+      &lt;/property&gt;
       &lt;item&gt;
        &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-        &lt;property name=&quot;margin&quot; &gt;
-         &lt;number&gt;0&lt;/number&gt;
-        &lt;/property&gt;
         &lt;property name=&quot;spacing&quot; &gt;
          &lt;number&gt;6&lt;/number&gt;
         &lt;/property&gt;
+        &lt;property name=&quot;leftMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;topMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;rightMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;bottomMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
         &lt;item&gt;
          &lt;spacer&gt;
           &lt;property name=&quot;orientation&quot; &gt;
@@ -564,9 +657,7 @@
         &lt;item&gt;
          &lt;widget class=&quot;ADM_QSlider&quot; name=&quot;horizontalSlider&quot; &gt;
           &lt;property name=&quot;sizePolicy&quot; &gt;
-           &lt;sizepolicy&gt;
-            &lt;hsizetype&gt;7&lt;/hsizetype&gt;
-            &lt;vsizetype&gt;0&lt;/vsizetype&gt;
+           &lt;sizepolicy vsizetype=&quot;Fixed&quot; hsizetype=&quot;Expanding&quot; &gt;
             &lt;horstretch&gt;0&lt;/horstretch&gt;
             &lt;verstretch&gt;0&lt;/verstretch&gt;
            &lt;/sizepolicy&gt;
@@ -578,12 +669,21 @@
         &lt;/item&gt;
         &lt;item&gt;
          &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-          &lt;property name=&quot;margin&quot; &gt;
-           &lt;number&gt;0&lt;/number&gt;
-          &lt;/property&gt;
           &lt;property name=&quot;spacing&quot; &gt;
            &lt;number&gt;6&lt;/number&gt;
           &lt;/property&gt;
+          &lt;property name=&quot;leftMargin&quot; &gt;
+           &lt;number&gt;0&lt;/number&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;topMargin&quot; &gt;
+           &lt;number&gt;0&lt;/number&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;rightMargin&quot; &gt;
+           &lt;number&gt;0&lt;/number&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;bottomMargin&quot; &gt;
+           &lt;number&gt;0&lt;/number&gt;
+          &lt;/property&gt;
           &lt;item&gt;
            &lt;widget class=&quot;QToolButton&quot; name=&quot;toolButtonPlay&quot; &gt;
             &lt;property name=&quot;text&quot; &gt;
@@ -829,18 +929,25 @@
         &lt;/item&gt;
         &lt;item&gt;
          &lt;layout class=&quot;QHBoxLayout&quot; &gt;
-          &lt;property name=&quot;margin&quot; &gt;
-           &lt;number&gt;0&lt;/number&gt;
-          &lt;/property&gt;
           &lt;property name=&quot;spacing&quot; &gt;
            &lt;number&gt;6&lt;/number&gt;
           &lt;/property&gt;
+          &lt;property name=&quot;leftMargin&quot; &gt;
+           &lt;number&gt;0&lt;/number&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;topMargin&quot; &gt;
+           &lt;number&gt;0&lt;/number&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;rightMargin&quot; &gt;
+           &lt;number&gt;0&lt;/number&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;bottomMargin&quot; &gt;
+           &lt;number&gt;0&lt;/number&gt;
+          &lt;/property&gt;
           &lt;item&gt;
            &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot; &gt;
             &lt;property name=&quot;sizePolicy&quot; &gt;
-             &lt;sizepolicy&gt;
-              &lt;hsizetype&gt;1&lt;/hsizetype&gt;
-              &lt;vsizetype&gt;5&lt;/vsizetype&gt;
+             &lt;sizepolicy vsizetype=&quot;Preferred&quot; hsizetype=&quot;Minimum&quot; &gt;
               &lt;horstretch&gt;0&lt;/horstretch&gt;
               &lt;verstretch&gt;0&lt;/verstretch&gt;
              &lt;/sizepolicy&gt;
@@ -864,9 +971,7 @@
           &lt;item&gt;
            &lt;widget class=&quot;QLineEdit&quot; name=&quot;lineEdit&quot; &gt;
             &lt;property name=&quot;sizePolicy&quot; &gt;
-             &lt;sizepolicy&gt;
-              &lt;hsizetype&gt;0&lt;/hsizetype&gt;
-              &lt;vsizetype&gt;0&lt;/vsizetype&gt;
+             &lt;sizepolicy vsizetype=&quot;Fixed&quot; hsizetype=&quot;Fixed&quot; &gt;
               &lt;horstretch&gt;0&lt;/horstretch&gt;
               &lt;verstretch&gt;0&lt;/verstretch&gt;
              &lt;/sizepolicy&gt;
@@ -900,9 +1005,7 @@
           &lt;item&gt;
            &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot; &gt;
             &lt;property name=&quot;sizePolicy&quot; &gt;
-             &lt;sizepolicy&gt;
-              &lt;hsizetype&gt;1&lt;/hsizetype&gt;
-              &lt;vsizetype&gt;5&lt;/vsizetype&gt;
+             &lt;sizepolicy vsizetype=&quot;Preferred&quot; hsizetype=&quot;Minimum&quot; &gt;
               &lt;horstretch&gt;0&lt;/horstretch&gt;
               &lt;verstretch&gt;0&lt;/verstretch&gt;
              &lt;/sizepolicy&gt;
@@ -931,9 +1034,7 @@
           &lt;item&gt;
            &lt;widget class=&quot;QLabel&quot; name=&quot;label_6&quot; &gt;
             &lt;property name=&quot;sizePolicy&quot; &gt;
-             &lt;sizepolicy&gt;
-              &lt;hsizetype&gt;1&lt;/hsizetype&gt;
-              &lt;vsizetype&gt;5&lt;/vsizetype&gt;
+             &lt;sizepolicy vsizetype=&quot;Preferred&quot; hsizetype=&quot;Minimum&quot; &gt;
               &lt;horstretch&gt;0&lt;/horstretch&gt;
               &lt;verstretch&gt;0&lt;/verstretch&gt;
              &lt;/sizepolicy&gt;
@@ -957,9 +1058,7 @@
           &lt;item&gt;
            &lt;widget class=&quot;QLineEdit&quot; name=&quot;lineEdit_2&quot; &gt;
             &lt;property name=&quot;sizePolicy&quot; &gt;
-             &lt;sizepolicy&gt;
-              &lt;hsizetype&gt;0&lt;/hsizetype&gt;
-              &lt;vsizetype&gt;0&lt;/vsizetype&gt;
+             &lt;sizepolicy vsizetype=&quot;Fixed&quot; hsizetype=&quot;Fixed&quot; &gt;
               &lt;horstretch&gt;0&lt;/horstretch&gt;
               &lt;verstretch&gt;0&lt;/verstretch&gt;
              &lt;/sizepolicy&gt;
@@ -981,9 +1080,7 @@
           &lt;item&gt;
            &lt;widget class=&quot;QLabel&quot; name=&quot;label_7&quot; &gt;
             &lt;property name=&quot;sizePolicy&quot; &gt;
-             &lt;sizepolicy&gt;
-              &lt;hsizetype&gt;1&lt;/hsizetype&gt;
-              &lt;vsizetype&gt;5&lt;/vsizetype&gt;
+             &lt;sizepolicy vsizetype=&quot;Preferred&quot; hsizetype=&quot;Minimum&quot; &gt;
               &lt;horstretch&gt;0&lt;/horstretch&gt;
               &lt;verstretch&gt;0&lt;/verstretch&gt;
              &lt;/sizepolicy&gt;
@@ -1030,9 +1127,7 @@
           &lt;item&gt;
            &lt;widget class=&quot;QLabel&quot; name=&quot;label_8&quot; &gt;
             &lt;property name=&quot;sizePolicy&quot; &gt;
-             &lt;sizepolicy&gt;
-              &lt;hsizetype&gt;1&lt;/hsizetype&gt;
-              &lt;vsizetype&gt;5&lt;/vsizetype&gt;
+             &lt;sizepolicy vsizetype=&quot;Preferred&quot; hsizetype=&quot;Minimum&quot; &gt;
               &lt;horstretch&gt;0&lt;/horstretch&gt;
               &lt;verstretch&gt;0&lt;/verstretch&gt;
              &lt;/sizepolicy&gt;
@@ -1077,12 +1172,21 @@
       &lt;/item&gt;
       &lt;item&gt;
        &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-        &lt;property name=&quot;margin&quot; &gt;
-         &lt;number&gt;0&lt;/number&gt;
-        &lt;/property&gt;
         &lt;property name=&quot;spacing&quot; &gt;
          &lt;number&gt;6&lt;/number&gt;
         &lt;/property&gt;
+        &lt;property name=&quot;leftMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;topMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;rightMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;bottomMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
         &lt;item&gt;
          &lt;spacer&gt;
           &lt;property name=&quot;orientation&quot; &gt;
@@ -1102,9 +1206,7 @@
         &lt;item&gt;
          &lt;widget class=&quot;QGroupBox&quot; name=&quot;groupBox&quot; &gt;
           &lt;property name=&quot;sizePolicy&quot; &gt;
-           &lt;sizepolicy&gt;
-            &lt;hsizetype&gt;1&lt;/hsizetype&gt;
-            &lt;vsizetype&gt;1&lt;/vsizetype&gt;
+           &lt;sizepolicy vsizetype=&quot;Minimum&quot; hsizetype=&quot;Minimum&quot; &gt;
             &lt;horstretch&gt;0&lt;/horstretch&gt;
             &lt;verstretch&gt;0&lt;/verstretch&gt;
            &lt;/sizepolicy&gt;
@@ -1190,9 +1292,7 @@
             &lt;/rect&gt;
            &lt;/property&gt;
            &lt;property name=&quot;sizePolicy&quot; &gt;
-            &lt;sizepolicy&gt;
-             &lt;hsizetype&gt;1&lt;/hsizetype&gt;
-             &lt;vsizetype&gt;0&lt;/vsizetype&gt;
+            &lt;sizepolicy vsizetype=&quot;Fixed&quot; hsizetype=&quot;Minimum&quot; &gt;
              &lt;horstretch&gt;0&lt;/horstretch&gt;
              &lt;verstretch&gt;0&lt;/verstretch&gt;
             &lt;/sizepolicy&gt;
@@ -1222,9 +1322,7 @@
             &lt;/rect&gt;
            &lt;/property&gt;
            &lt;property name=&quot;sizePolicy&quot; &gt;
-            &lt;sizepolicy&gt;
-             &lt;hsizetype&gt;1&lt;/hsizetype&gt;
-             &lt;vsizetype&gt;0&lt;/vsizetype&gt;
+            &lt;sizepolicy vsizetype=&quot;Fixed&quot; hsizetype=&quot;Minimum&quot; &gt;
              &lt;horstretch&gt;0&lt;/horstretch&gt;
              &lt;verstretch&gt;0&lt;/verstretch&gt;
             &lt;/sizepolicy&gt;
@@ -1269,12 +1367,21 @@
       &lt;/item&gt;
       &lt;item&gt;
        &lt;layout class=&quot;QVBoxLayout&quot; &gt;
-        &lt;property name=&quot;margin&quot; &gt;
-         &lt;number&gt;0&lt;/number&gt;
-        &lt;/property&gt;
         &lt;property name=&quot;spacing&quot; &gt;
          &lt;number&gt;4&lt;/number&gt;
         &lt;/property&gt;
+        &lt;property name=&quot;leftMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;topMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;rightMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;bottomMargin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
         &lt;item&gt;
          &lt;spacer&gt;
           &lt;property name=&quot;orientation&quot; &gt;
@@ -1313,9 +1420,7 @@
         &lt;item&gt;
          &lt;widget class=&quot;QSlider&quot; name=&quot;horizontalSlider_2&quot; &gt;
           &lt;property name=&quot;sizePolicy&quot; &gt;
-           &lt;sizepolicy&gt;
-            &lt;hsizetype&gt;5&lt;/hsizetype&gt;
-            &lt;vsizetype&gt;1&lt;/vsizetype&gt;
+           &lt;sizepolicy vsizetype=&quot;Minimum&quot; hsizetype=&quot;Preferred&quot; &gt;
             &lt;horstretch&gt;0&lt;/horstretch&gt;
             &lt;verstretch&gt;0&lt;/verstretch&gt;
            &lt;/sizepolicy&gt;
@@ -1349,7 +1454,7 @@
      &lt;x&gt;0&lt;/x&gt;
      &lt;y&gt;0&lt;/y&gt;
      &lt;width&gt;838&lt;/width&gt;
-     &lt;height&gt;23&lt;/height&gt;
+     &lt;height&gt;25&lt;/height&gt;
     &lt;/rect&gt;
    &lt;/property&gt;
    &lt;widget class=&quot;QMenu&quot; name=&quot;menuHelp&quot; &gt;
@@ -1507,6 +1612,7 @@
     &lt;addaction name=&quot;actionPSP&quot; /&gt;
     &lt;addaction name=&quot;actionPSP_H264&quot; /&gt;
     &lt;addaction name=&quot;actionFLV&quot; /&gt;
+    &lt;addaction name=&quot;actionIPOD&quot; /&gt;
    &lt;/widget&gt;
    &lt;addaction name=&quot;menuFile&quot; /&gt;
    &lt;addaction name=&quot;menuEdit&quot; /&gt;
@@ -1525,8 +1631,11 @@
     &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
    &lt;/property&gt;
    &lt;attribute name=&quot;toolBarArea&quot; &gt;
-    &lt;number&gt;4&lt;/number&gt;
+    &lt;enum&gt;TopToolBarArea&lt;/enum&gt;
    &lt;/attribute&gt;
+   &lt;attribute name=&quot;toolBarBreak&quot; &gt;
+    &lt;bool&gt;false&lt;/bool&gt;
+   &lt;/attribute&gt;
    &lt;addaction name=&quot;separator&quot; /&gt;
    &lt;addaction name=&quot;actionOpen&quot; /&gt;
    &lt;addaction name=&quot;actionSave_video&quot; /&gt;
@@ -1542,8 +1651,11 @@
     &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
    &lt;/property&gt;
    &lt;attribute name=&quot;toolBarArea&quot; &gt;
-    &lt;number&gt;4&lt;/number&gt;
+    &lt;enum&gt;TopToolBarArea&lt;/enum&gt;
    &lt;/attribute&gt;
+   &lt;attribute name=&quot;toolBarBreak&quot; &gt;
+    &lt;bool&gt;false&lt;/bool&gt;
+   &lt;/attribute&gt;
    &lt;addaction name=&quot;actionPreviewInput&quot; /&gt;
    &lt;addaction name=&quot;actionPreviewOutput&quot; /&gt;
    &lt;addaction name=&quot;actionPreviewSide&quot; /&gt;
@@ -2378,6 +2490,11 @@
     &lt;string&gt;FLV&lt;/string&gt;
    &lt;/property&gt;
   &lt;/action&gt;
+  &lt;action name=&quot;actionIPOD&quot; &gt;
+   &lt;property name=&quot;text&quot; &gt;
+    &lt;string&gt;IPOD (mpeg4)&lt;/string&gt;
+   &lt;/property&gt;
+  &lt;/action&gt;
  &lt;/widget&gt;
  &lt;customwidgets&gt;
   &lt;customwidget&gt;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h	2007-11-25 10:18:10 UTC (rev 3704)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h	2007-11-25 13:47:14 UTC (rev 3705)
@@ -65,6 +65,7 @@
 PROCESS(actionPSP,ACT_AUTO_PSP) \
 PROCESS(actionFLV,ACT_AUTO_FLV) \
 PROCESS(actionPSP_H264,ACT_AUTO_PSP_H264)\
+PROCESS(actionIPOD,ACT_AUTO_IPOD) \
 PROCESS(actionAdd_to_joblist,ACT_ADD_JOB) \
 PROCESS(actionShow_Joblist,ACT_HANDLE_JOB)  
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp	2007-11-25 10:18:10 UTC (rev 3704)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp	2007-11-25 13:47:14 UTC (rev 3705)
@@ -29,7 +29,7 @@
 {
 uint8_t r=0;
 #define ONELINE(x,y) {RESWIZ_##x,y,NULL}
-            diaMenuEntry menuFTarget[7]={
+            diaMenuEntry menuFTarget[]={
                              ONELINE(VCD,QT_TR_NOOP(&quot;VCD&quot;)),
                              ONELINE(SVCD,QT_TR_NOOP(&quot;SVCD&quot;)),
                              ONELINE(DVD,QT_TR_NOOP(&quot;DVD&quot;)),
@@ -37,6 +37,7 @@
                              ONELINE(PSP,QT_TR_NOOP(&quot;PSP 480*272&quot;)),
                              ONELINE(PSP_FULLRES,QT_TR_NOOP(&quot;PSP full res (720*480&quot;)),
                              ONELINE(IPOD,&quot;IPOD 320*240&quot;),
+                             ONELINE(IPOD640,&quot;IPOD 640*480&quot;),
                           };
              diaMenuEntry menuFAspect[3]={
                {RESWIZ_AR_1_1,QT_TR_NOOP(&quot;1:1&quot;),NULL},
@@ -50,7 +51,7 @@
     uint32_t tsource=(uint32_t )*source;
     uint32_t tdestination=(uint32_t )*destination;
                           
-    diaElemMenu     menu1(&amp;tformat,QT_TR_NOOP(&quot;_Target type:&quot;), 7,menuFTarget);
+    diaElemMenu     menu1(&amp;tformat,QT_TR_NOOP(&quot;_Target type:&quot;), sizeof(menuFTarget) / sizeof(diaMenuEntry),menuFTarget);
     diaElemMenu     menu2(&amp;tsource,QT_TR_NOOP(&quot;_Source aspect ratio:&quot;), 3,menuFAspect);
     diaElemMenu     menu3(&amp;tdestination,QT_TR_NOOP(&quot;_Destination aspect ratio:&quot;), 3,menuFAspect);
     

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.h	2007-11-25 10:18:10 UTC (rev 3704)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.h	2007-11-25 13:47:14 UTC (rev 3705)
@@ -28,7 +28,8 @@
         RESWIZ_DVD_HD1,
         RESWIZ_PSP,
         RESWIZ_PSP_FULLRES,
-        RESWIZ_IPOD
+        RESWIZ_IPOD,
+        RESWIZ_IPOD640
         
 }RESWIZ_FORMAT;
 

Modified: branches/avidemux_2.4_branch/avidemux/gui_autodrive.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/gui_autodrive.cpp	2007-11-25 10:18:10 UTC (rev 3704)
+++ branches/avidemux_2.4_branch/avidemux/gui_autodrive.cpp	2007-11-25 13:47:14 UTC (rev 3705)
@@ -58,17 +58,20 @@
         switch(action)
         {
                 case ACT_AUTO_IPOD:
-#if  !defined(USE_XVID_4) || !defined(USE_FAAC)
+#if  !defined(USE_XVID_4) || (!defined(USE_FAAC) &amp;&amp; !defined(HAVE_MP3LAME))
                   GUI_Error_HIG(QT_TR_NOOP(&quot;Codec Error&quot;),
-                                        QT_TR_NOOP( &quot;You need both Xvid4 and FAAC support for Ipod profile&quot;));
+                                        QT_TR_NOOP( &quot;You need Xvid4 and either LAME or FAAC support for the iPod profile&quot;));
 #else
-                    if(!setIPOD()) return 0;
+                    if(!setIPOD())
+                    {
+                        return 0;
+                    }
                 
                     // Video codec
 
                     if(!videoCodecSelectByName(&quot;XVID4&quot;)) 
                     {
-                      GUI_Error_HIG(QT_TR_NOOP(&quot;Codec Error&quot;),QT_TR_NOOP( &quot;Cannot select mpeg4 sp codec.&quot;));
+                      GUI_Error_HIG(QT_TR_NOOP(&quot;Codec Error&quot;),QT_TR_NOOP( &quot;Cannot select the MPEG-4 SP codec.&quot;));
                         return 0;
                     }
                     setIpod_Xvid4Preset();
@@ -76,13 +79,18 @@
                     setVideoEncoderSettings(COMPRESS_CBR,400,0,NULL);
                     // Audio Codec
                     if(   (currentaudiostream-&gt;getInfo()-&gt;channels==2)&amp;&amp;
-                        (currentaudiostream-&gt;getInfo()-&gt;encoding==WAV_AAC))
+                        (currentaudiostream-&gt;getInfo()-&gt;encoding==WAV_AAC ||
+                         currentaudiostream-&gt;getInfo()-&gt;encoding==WAV_MP3))
                     {
                         audioCodecSetcodec(AUDIOENC_COPY);
                     }
                     else
                     {
+#if defined(USE_FAAC)
                           audioCodecSetcodec(AUDIOENC_FAAC);
+#elif defined(HAVE_MP3LAME)
+                          audioCodecSetcodec(AUDIOENC_MP3);
+#endif
                           audioFilter_SetBitrate(128);
                       }
 #endif


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000972.html">[Avidemux-svn-commit] r3704 -	branches/avidemux_2.4_branch/avidemux/ADM_codecs
</A></li>
	<LI>Next message: <A HREF="000974.html">[Avidemux-svn-commit] r3706 - in	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK:	ADM_gui2 ADM_toolkit_gtk glade
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#973">[ date ]</a>
              <a href="thread.html#973">[ thread ]</a>
              <a href="subject.html#973">[ subject ]</a>
              <a href="author.html#973">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
