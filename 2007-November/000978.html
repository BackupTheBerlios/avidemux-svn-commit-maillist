<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r3710 - in	branches/avidemux_2.5_branch_gruntster: . avidemux cmake
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2007-November/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3710%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster%3A%20.%20avidemux%20cmake&In-Reply-To=%3C200711271631.lARGVWiH028155%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000977.html">
   <LINK REL="Next"  HREF="000979.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r3710 - in	branches/avidemux_2.5_branch_gruntster: . avidemux cmake</H1>
    <B>gruntster at mail.berlios.de</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3710%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster%3A%20.%20avidemux%20cmake&In-Reply-To=%3C200711271631.lARGVWiH028155%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r3710 - in	branches/avidemux_2.5_branch_gruntster: . avidemux cmake">gruntster at mail.berlios.de
       </A><BR>
    <I>Tue Nov 27 17:31:32 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000977.html">[Avidemux-svn-commit] r3709 - in	branches/avidemux_2.5_branch_gruntster: avidemux cmake
</A></li>
        <LI>Next message: <A HREF="000979.html">[Avidemux-svn-commit] r3711 - in	branches/avidemux_2.5_branch_gruntster:	avidemux/ADM_libraries/ADM_libwrapper cmake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#978">[ date ]</a>
              <a href="thread.html#978">[ thread ]</a>
              <a href="subject.html#978">[ subject ]</a>
              <a href="author.html#978">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: gruntster
Date: 2007-11-27 17:31:06 +0100 (Tue, 27 Nov 2007)
New Revision: 3710

Removed:
   branches/avidemux_2.5_branch_gruntster/cmake/FindLibXml2.cmake
   branches/avidemux_2.5_branch_gruntster/cmake/FindPNG.cmake
   branches/avidemux_2.5_branch_gruntster/cmake/FindPkgConfig.cmake
   branches/avidemux_2.5_branch_gruntster/cmake/FindQT4.cmake
   branches/avidemux_2.5_branch_gruntster/cmake/FindX11.cmake
   branches/avidemux_2.5_branch_gruntster/cmake/FindZLIB.cmake
Modified:
   branches/avidemux_2.5_branch_gruntster/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/cmake/FindSDL.cmake
Log:
[CMake] remove standard CMake modules + cosmetics

Modified: branches/avidemux_2.5_branch_gruntster/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/CMakeLists.txt	2007-11-27 14:12:27 UTC (rev 3709)
+++ branches/avidemux_2.5_branch_gruntster/CMakeLists.txt	2007-11-27 16:31:06 UTC (rev 3710)
@@ -4,7 +4,7 @@
 MESSAGE(&quot;&quot;)
 
 CMAKE_MINIMUM_REQUIRED(VERSION 2.4.7 FATAL_ERROR)
-SET(CMAKE_MODULE_PATH &quot;${CMAKE_SOURCE_DIR}/cmake&quot;)
+SET(CMAKE_MODULE_PATH &quot;${CMAKE_SOURCE_DIR}/cmake&quot; &quot;${CMAKE_MODULE_PATH}&quot;)
 
 PROJECT(Avidemux)
 
@@ -174,15 +174,15 @@
 # Generate config.h
 ########################################
 SET(CONFIG_HEADER_TYPE ADM_BUILD_CLI)
-CONFIGURE_FILE(&quot;${CMAKE_MODULE_PATH}/config.h.cmake&quot; &quot;${CMAKE_CURRENT_BINARY_DIR}/config/cli/config.h&quot;)
+CONFIGURE_FILE(&quot;${CMAKE_SOURCE_DIR}/cmake/config.h.cmake&quot; &quot;${CMAKE_CURRENT_BINARY_DIR}/config/cli/config.h&quot;)
 MESSAGE(STATUS &quot;CLI config.h generated&quot;)
 
 SET(CONFIG_HEADER_TYPE ADM_BUILD_GTK)
-CONFIGURE_FILE(&quot;${CMAKE_MODULE_PATH}/config.h.cmake&quot; &quot;${CMAKE_CURRENT_BINARY_DIR}/config/gtk/config.h&quot;)
+CONFIGURE_FILE(&quot;${CMAKE_SOURCE_DIR}/cmake/config.h.cmake&quot; &quot;${CMAKE_CURRENT_BINARY_DIR}/config/gtk/config.h&quot;)
 MESSAGE(STATUS &quot;GTK config.h generated&quot;)
 
 SET(CONFIG_HEADER_TYPE ADM_BUILD_QT4)
-CONFIGURE_FILE(&quot;${CMAKE_MODULE_PATH}/config.h.cmake&quot; &quot;${CMAKE_CURRENT_BINARY_DIR}/config/qt4/config.h&quot;)
+CONFIGURE_FILE(&quot;${CMAKE_SOURCE_DIR}/cmake/config.h.cmake&quot; &quot;${CMAKE_CURRENT_BINARY_DIR}/config/qt4/config.h&quot;)
 MESSAGE(STATUS &quot;QT4 config.h generated&quot;)
 
 ########################################

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/CMakeLists.txt	2007-11-27 14:12:27 UTC (rev 3709)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/CMakeLists.txt	2007-11-27 16:31:06 UTC (rev 3710)
@@ -1,16 +1,18 @@
 ########################################
 # Macros
 ########################################
-MACRO (ADD_ADMLIB_ALL_TARGETS _libName)
-	TARGET_LINK_LIBRARIES(avidemux2_cli ${_libName}_cli)
-  
-	IF (ADM_UI_GTK)
-		TARGET_LINK_LIBRARIES(avidemux2_gtk ${_libName}_gtk)
-	ENDIF (ADM_UI_GTK)
-	
-	IF (ADM_UI_QT4)
-		TARGET_LINK_LIBRARIES(avidemux2_qt4 ${_libName}_qt4)
-	ENDIF (ADM_UI_QT4)
+MACRO (ADD_ADMLIB_ALL_TARGETS)
+	FOREACH (_libName ${ARGV})
+		TARGET_LINK_LIBRARIES(avidemux2_cli ${_libName}_cli)
+
+		IF (ADM_UI_GTK)
+			TARGET_LINK_LIBRARIES(avidemux2_gtk ${_libName}_gtk)
+		ENDIF (ADM_UI_GTK)
+
+		IF (ADM_UI_QT4)
+			TARGET_LINK_LIBRARIES(avidemux2_qt4 ${_libName}_qt4)
+		ENDIF (ADM_UI_QT4)
+	ENDFOREACH (_libName ${ARGV})
 ENDMACRO (ADD_ADMLIB_ALL_TARGETS)
 
 
@@ -88,7 +90,7 @@
 	STRING(REPLACE &quot;.&quot; &quot;,&quot; PRODUCTVERSION ${PRODUCTVERSION_STRING})
 	SET(PRODUCTVERSION &quot;${PRODUCTVERSION},0,0&quot;)
 
-	CONFIGURE_FILE(&quot;${CMAKE_MODULE_PATH}/admWin32.rc.in&quot; ${CMAKE_CURRENT_BINARY_DIR}/admWin32.rc IMMEDIATE)
+	CONFIGURE_FILE(&quot;${CMAKE_SOURCE_DIR}/cmake/admWin32.rc.in&quot; ${CMAKE_CURRENT_BINARY_DIR}/admWin32.rc IMMEDIATE)
 	ADD_CUSTOM_COMMAND(OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/admWin32.obj COMMAND windres.exe -i ${CMAKE_CURRENT_BINARY_DIR}/admWin32.rc -o ${CMAKE_CURRENT_BINARY_DIR}/admWin32.obj -O coff --define VS_VERSION_INFO=1)
 
 	SET(ADM_EXE_SRCS ${ADM_EXE_SRCS} &quot;${CMAKE_CURRENT_BINARY_DIR}/admWin32.obj&quot;)
@@ -160,9 +162,7 @@
 	oplug_flv
 	oplug_dummy)
 
-FOREACH(_current ${ADM_OUTPUTS})
-	ADD_ADMLIB_ALL_TARGETS(${_current})
-ENDFOREACH(_current ${ADM_OUTPUTS})
+ADD_ADMLIB_ALL_TARGETS(${ADM_OUTPUTS})
 
 ###########################################
 # Construct ADM_inputs
@@ -183,9 +183,7 @@
 	ADM_flv
 	ADM_amv)
 
-FOREACH(_current ${ADM_INPUTS})
-	ADD_ADMLIB_ALL_TARGETS(${_current})
-ENDFOREACH(_current ${ADM_INPUTS})
+ADD_ADMLIB_ALL_TARGETS(${ADM_INPUTS})
 
 #########################################
 # Tails
@@ -227,18 +225,16 @@
 	ADM_libpostproc
 	ADM_colorspace)
 
+ADD_ADMLIB_ALL_TARGETS(${ADM_LIBRARIES})
+
 IF (USE_FREETYPE)
-	SET(ADM_LIBRARIES ${ADM_LIBRARIES} ADM_libass)
+	ADD_ADMLIB_ALL_TARGETS(ADM_libass)
 ENDIF (USE_FREETYPE)
 
 IF (ADM_DEBUG AND FIND_LEAKS)
-	SET(ADM_LIBRARIES ${ADM_LIBRARIES} ADM_nvwa)
+	ADD_ADMLIB_ALL_TARGETS(ADM_nvwa)
 ENDIF (ADM_DEBUG AND FIND_LEAKS)
 
-FOREACH(_current ${ADM_LIBRARIES})
-	ADD_ADMLIB_ALL_TARGETS(${_current})
-ENDFOREACH(_current ${ADM_SUBDIR})
-
 IF (ADM_OS_DARWIN AND USE_SDL)
 	TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_libsdl_gtk)
 	TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_libsdl_qt4)
@@ -249,37 +245,40 @@
 ###########################################
 ADD_SUBDIRECTORY(ADM_userInterfaces)
 
-TARGET_LINK_LIBRARIES(avidemux2_cli ADM_UI_None_cli)
-TARGET_LINK_LIBRARIES(avidemux2_cli ADM_commonUI_cli)
-TARGET_LINK_LIBRARIES(avidemux2_cli ADM_ocr_cli)
-TARGET_LINK_LIBRARIES(avidemux2_cli ADM_dialogNone_cli)
-TARGET_LINK_LIBRARIES(avidemux2_cli ADM_dialogFactoryNone_cli)
-TARGET_LINK_LIBRARIES(avidemux2_cli ADM_dialogFiltersNone_cli)
-TARGET_LINK_LIBRARIES(avidemux2_cli ADM_dialogGuiNone_cli)
+TARGET_LINK_LIBRARIES(avidemux2_cli
+	ADM_UI_None_cli
+	ADM_commonUI_cli
+	ADM_ocr_cli
+	ADM_dialogNone_cli
+	ADM_dialogFactoryNone_cli
+	ADM_dialogFiltersNone_cli
+	ADM_dialogGuiNone_cli)
 
 IF (ADM_UI_GTK)
-	TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_UI_GTK_gtk)
-	TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_commonUI_gtk)
-	TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_ocr_gtk)
-	TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_ocrGtk_gtk)
-	TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_dialogGtk_gtk)
-	TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_filtersGtk_gtk)
-	TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_dialogFactoryGtk_gtk)
-	TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_gui2Gtk_gtk)
-	TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_toolkitGtk_gtk)
-	TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_commonUI_gtk)
+	TARGET_LINK_LIBRARIES(avidemux2_gtk
+		ADM_UI_GTK_gtk
+		ADM_commonUI_gtk
+		ADM_ocr_gtk
+		ADM_ocrGtk_gtk
+		ADM_dialogGtk_gtk
+		ADM_filtersGtk_gtk
+		ADM_dialogFactoryGtk_gtk
+		ADM_gui2Gtk_gtk
+		ADM_toolkitGtk_gtk
+		ADM_commonUI_gtk)
 ENDIF (ADM_UI_GTK)
 
 IF (ADM_UI_QT4)
-	TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_UI_QT4_qt4)
-	TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_commonUI_qt4)
-	TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_ocr_qt4)
-	TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_ocrQt4_qt4)
-	TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_dialogQt4_qt4)
-	TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_dialogFactoryQt4_qt4)
-	TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_guiQt4_qt4)
-	TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_filtersQt4_qt4)
-	TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_commonUI_qt4)
+	TARGET_LINK_LIBRARIES(avidemux2_qt4
+		ADM_UI_QT4_qt4
+		ADM_commonUI_qt4
+		ADM_ocr_qt4
+		ADM_ocrQt4_qt4
+		ADM_dialogQt4_qt4
+		ADM_dialogFactoryQt4_qt4
+		ADM_guiQt4_qt4
+		ADM_filtersQt4_qt4
+		ADM_commonUI_qt4)
 ENDIF (ADM_UI_QT4)
 
 ADD_ADMLIB_ALL_TARGETS(ADM_utilities)

Deleted: branches/avidemux_2.5_branch_gruntster/cmake/FindLibXml2.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/FindLibXml2.cmake	2007-11-27 14:12:27 UTC (rev 3709)
+++ branches/avidemux_2.5_branch_gruntster/cmake/FindLibXml2.cmake	2007-11-27 16:31:06 UTC (rev 3710)
@@ -1,59 +0,0 @@
-# - Try to find LibXml2
-# Once done this will define
-#
-#  LIBXML2_FOUND - system has LibXml2
-#  LIBXML2_INCLUDE_DIR - the LibXml2 include directory
-#  LIBXML2_LIBRARIES - the libraries needed to use LibXml2
-#  LIBXML2_DEFINITIONS - Compiler switches required for using LibXml2
-#
-# Copyright (c) 2006, Alexander Neundorf &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">neundorf at kde.org</A>&gt;
-# This code is available under the BSD license, see licenses/BSD for details.
-
-# Copyright (c) 2006, Alexander Neundorf, &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">neundorf at kde.org</A>&gt;
-#
-# Redistribution and use is allowed according to the terms of the BSD license.
-# For details see the accompanying COPYING-CMAKE-SCRIPTS file.
-
-
-IF (LIBXML2_INCLUDE_DIR AND LIBXML2_LIBRARIES)
-   # in cache already
-   SET(LibXml2_FIND_QUIETLY TRUE)
-ENDIF (LIBXML2_INCLUDE_DIR AND LIBXML2_LIBRARIES)
-
-IF (NOT WIN32)
-   # use pkg-config to get the directories and then use these values
-   # in the FIND_PATH() and FIND_LIBRARY() calls
-   INCLUDE(UsePkgConfig)
-   PKGCONFIG(libxml-2.0 _LibXml2IncDir _LibXml2LinkDir _LibXml2LinkFlags _LibXml2Cflags)
-   SET(LIBXML2_DEFINITIONS ${_LibXml2Cflags})
-ENDIF (NOT WIN32)
-
-FIND_PATH(LIBXML2_INCLUDE_DIR libxml/xpath.h
-   PATHS
-   ${_LibXml2IncDir}
-   PATH_SUFFIXES libxml2
-   )
-
-FIND_LIBRARY(LIBXML2_LIBRARIES NAMES xml2 libxml2
-   PATHS
-   ${_LibXml2LinkDir}
-   )
-
-IF (LIBXML2_INCLUDE_DIR AND LIBXML2_LIBRARIES)
-   SET(LIBXML2_FOUND TRUE)
-ELSE (LIBXML2_INCLUDE_DIR AND LIBXML2_LIBRARIES)
-   SET(LIBXML2_FOUND FALSE)
-ENDIF (LIBXML2_INCLUDE_DIR AND LIBXML2_LIBRARIES)
-
-IF (LIBXML2_FOUND)
-   IF (NOT LibXml2_FIND_QUIETLY)
-      MESSAGE(STATUS &quot;Found LibXml2: ${LIBXML2_LIBRARIES}&quot;)
-   ENDIF (NOT LibXml2_FIND_QUIETLY)
-ELSE (LIBXML2_FOUND)
-   IF (LibXml2_FIND_REQUIRED)
-      MESSAGE(SEND_ERROR &quot;Could NOT find LibXml2&quot;)
-   ENDIF (LibXml2_FIND_REQUIRED)
-ENDIF (LIBXML2_FOUND)
-
-MARK_AS_ADVANCED(LIBXML2_INCLUDE_DIR LIBXML2_LIBRARIES)
-

Deleted: branches/avidemux_2.5_branch_gruntster/cmake/FindPNG.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/FindPNG.cmake	2007-11-27 14:12:27 UTC (rev 3709)
+++ branches/avidemux_2.5_branch_gruntster/cmake/FindPNG.cmake	2007-11-27 16:31:06 UTC (rev 3710)
@@ -1,58 +0,0 @@
-# - Find the native PNG includes and library
-#
-
-# This module defines
-#  PNG_INCLUDE_DIR, where to find png.h, etc.
-#  PNG_LIBRARIES, the libraries to link against to use PNG.
-#  PNG_DEFINITIONS - You should ADD_DEFINITONS(${PNG_DEFINITIONS}) before compiling code that includes png library files.
-#  PNG_FOUND, If false, do not try to use PNG.
-# also defined, but not for general use are
-#  PNG_LIBRARY, where to find the PNG library.
-# None of the above will be defined unles zlib can be found.
-# PNG depends on Zlib
-INCLUDE(FindZLIB)
-
-SET(PNG_FOUND &quot;NO&quot;)
-
-IF(ZLIB_FOUND)
-  FIND_PATH(PNG_PNG_INCLUDE_DIR png.h
-  /usr/local/include
-  /usr/include
-  /usr/local/include/libpng             # OpenBSD
-  )
-
-  SET(PNG_NAMES ${PNG_NAMES} png libpng)
-  FIND_LIBRARY(PNG_LIBRARY
-    NAMES ${PNG_NAMES}
-    PATHS /usr/lib /usr/local/lib
-  )
-
-  IF (PNG_LIBRARY AND PNG_PNG_INCLUDE_DIR)
-      # png.h includes zlib.h. Sigh.
-      SET(PNG_INCLUDE_DIR ${PNG_PNG_INCLUDE_DIR} ${ZLIB_INCLUDE_DIR} )
-      SET(PNG_LIBRARIES ${PNG_LIBRARY} ${ZLIB_LIBRARY})
-      SET(PNG_FOUND &quot;YES&quot;)
-
-      IF (CYGWIN)
-        IF(BUILD_SHARED_LIBS)
-           # No need to define PNG_USE_DLL here, because it's default for Cygwin.
-        ELSE(BUILD_SHARED_LIBS)
-          SET (PNG_DEFINITIONS -DPNG_STATIC)
-        ENDIF(BUILD_SHARED_LIBS)
-      ENDIF (CYGWIN)
-
-  ENDIF (PNG_LIBRARY AND PNG_PNG_INCLUDE_DIR)
-
-ENDIF(ZLIB_FOUND)
-
-IF (PNG_FOUND)
-  IF (NOT PNG_FIND_QUIETLY)
-    MESSAGE(STATUS &quot;Found PNG: ${PNG_LIBRARY}&quot;)
-  ENDIF (NOT PNG_FIND_QUIETLY)
-ELSE (PNG_FOUND)
-  IF (PNG_FIND_REQUIRED)
-    MESSAGE(FATAL_ERROR &quot;Could not find PNG library&quot;)
-  ENDIF (PNG_FIND_REQUIRED)
-ENDIF (PNG_FOUND)
-
-MARK_AS_ADVANCED(PNG_PNG_INCLUDE_DIR PNG_LIBRARY )

Deleted: branches/avidemux_2.5_branch_gruntster/cmake/FindPkgConfig.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/FindPkgConfig.cmake	2007-11-27 14:12:27 UTC (rev 3709)
+++ branches/avidemux_2.5_branch_gruntster/cmake/FindPkgConfig.cmake	2007-11-27 16:31:06 UTC (rev 3710)
@@ -1,360 +0,0 @@
-# - a pkg-config module for CMake
-#
-# Usage:
-#   pkg_check_modules(&lt;PREFIX&gt; [REQUIRED] &lt;MODULE&gt; [&lt;MODULE&gt;]*)
-#     checks for all the given modules
-#
-#   pkg_search_module(&lt;PREFIX&gt; [REQUIRED] &lt;MODULE&gt; [&lt;MODULE&gt;]*)
-#     checks for given modules and uses the first working one
-#
-# When the 'REQUIRED' argument was set, macros will fail with an error
-# when module(s) could not be found
-#
-# It sets the following variables:
-#   PKG_CONFIG_FOUND         ... true iff pkg-config works on the system
-#   PKG_CONFIG_EXECUTABLE    ... pathname of the pkg-config program
-#   &lt;PREFIX&gt;_FOUND           ... set to 1 iff module(s) exist
-#
-# For the following variables two sets of values exist; first one is the
-# common one and has the given PREFIX. The second set contains flags
-# which are given out when pkgconfig was called with the '--static'
-# option.
-#   &lt;XPREFIX&gt;_LIBRARIES      ... only the libraries (w/o the '-l')
-#   &lt;XPREFIX&gt;_LIBRARY_DIRS   ... the paths of the libraries (w/o the '-L')
-#   &lt;XPREFIX&gt;_LDFLAGS        ... all required linker flags
-#   &lt;XPREFIX&gt;_LDFLAGS_OTHERS ... all other linker flags
-#   &lt;XPREFIX&gt;_INCLUDE_DIRS   ... the '-I' preprocessor flags (w/o the '-I')
-#   &lt;XPREFIX&gt;_CFLAGS         ... all required cflags
-#   &lt;XPREFIX&gt;_CFLAGS_OTHERS  ... the other compiler flags
-#
-#   &lt;XPREFIX&gt; = &lt;PREFIX&gt;        for common case
-#   &lt;XPREFIX&gt; = &lt;PREFIX&gt;_STATIC for static linking
-#
-# There are some special variables whose prefix depends on the count
-# of given modules. When there is only one module, &lt;PREFIX&gt; stays
-# unchanged. When there are multiple modules, the prefix will be
-# changed to &lt;PREFIX&gt;_&lt;MODNAME&gt;:
-#   &lt;XPREFIX&gt;_VERSION    ... version of the module
-#   &lt;XPREFIX&gt;_PREFIX     ... prefix-directory of the module
-#   &lt;XPREFIX&gt;_INCLUDEDIR ... include-dir of the module
-#   &lt;XPREFIX&gt;_LIBDIR     ... lib-dir of the module
-#
-#   &lt;XPREFIX&gt; = &lt;PREFIX&gt;  when |MODULES| == 1, else
-#   &lt;XPREFIX&gt; = &lt;PREFIX&gt;_&lt;MODNAME&gt;
-#
-# A &lt;MODULE&gt; parameter can have the following formats:
-#   {MODNAME}            ... matches any version
-#   {MODNAME}&gt;={VERSION} ... at least version &lt;VERSION&gt; is required
-#   {MODNAME}={VERSION}  ... exactly version &lt;VERSION&gt; is required
-#   {MODNAME}&lt;={VERSION} ... modules must not be newer than &lt;VERSION&gt;
-#
-# Examples
-#   pkg_check_modules (GLIB2   glib-2.0)
-#
-#   pkg_check_modules (GLIB2   glib-2.0&gt;=2.10)
-#     requires at least version 2.10 of glib2 and defines e.g.
-#       GLIB2_VERSION=2.10.3
-#
-#   pkg_check_modules (FOO     glib-2.0&gt;=2.10 gtk+-2.0)
-#     requires both glib2 and gtk2, and defines e.g.
-#       FOO_glib-2.0_VERSION=2.10.3
-#       FOO_gtk+-2.0_VERSION=2.8.20
-#
-#   pkg_check_modules (XRENDER REQUIRED xrender)
-#     defines e.g.:
-#       XRENDER_LIBRARIES=Xrender;X11
-#       XRENDER_STATIC_LIBRARIES=Xrender;X11;pthread;Xau;Xdmcp
-#
-#   pkg_search_module (BAR     libxml-2.0 libxml2 libxml&gt;=2)
-
-
-# Copyright (C) 2006 Enrico Scholz &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">enrico.scholz at informatik.tu-chemnitz.de</A>&gt;
-#
-# Redistribution and use, with or without modification, are permitted
-# provided that the following conditions are met:
-# 
-#    1. Redistributions must retain the above copyright notice, this
-#       list of conditions and the following disclaimer.
-#    2. The name of the author may not be used to endorse or promote
-#       products derived from this software without specific prior
-#       written permission.
-# 
-# THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
-# IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
-# WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
-# ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY
-# DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
-# DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
-# GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
-# INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
-# IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
-# OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN
-# IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-
-
-### Common stuff ####
-set(PKG_CONFIG_VERSION 1)
-set(PKG_CONFIG_FOUND   0)
-
-find_program(PKG_CONFIG_EXECUTABLE NAMES pkg-config DOC &quot;pkg-config executable&quot;)
-mark_as_advanced(PKG_CONFIG_EXECUTABLE)
-
-if(PKG_CONFIG_EXECUTABLE)
-  set(PKG_CONFIG_FOUND 1)
-endif(PKG_CONFIG_EXECUTABLE)
-
-
-# Unsets the given variables
-macro(_pkgconfig_unset var)
-  set(${var} &quot;&quot; CACHE INTERNAL &quot;&quot;)
-endmacro(_pkgconfig_unset)
-
-macro(_pkgconfig_set var value)
-  set(${var} ${value} CACHE INTERNAL &quot;&quot;)
-endmacro(_pkgconfig_set)
-
-# Invokes pkgconfig, cleans up the result and sets variables
-macro(_pkgconfig_invoke _pkglist _prefix _varname _regexp)
-  set(_pkgconfig_invoke_result)
-
-  execute_process(
-    COMMAND ${PKG_CONFIG_EXECUTABLE} ${ARGN} ${_pkglist}
-    OUTPUT_VARIABLE _pkgconfig_invoke_result
-    RESULT_VARIABLE _pkgconfig_failed)
-
-  if (_pkgconfig_failed)
-    set(_pkgconfig_${_varname} &quot;&quot;)
-    _pkgconfig_unset(${_prefix}_${_varname})
-  else(_pkgconfig_failed)
-    string(REGEX REPLACE &quot;[\r\n]&quot;                  &quot; &quot; _pkgconfig_invoke_result &quot;${_pkgconfig_invoke_result}&quot;)
-    string(REGEX REPLACE &quot; +$&quot;                     &quot;&quot;  _pkgconfig_invoke_result &quot;${_pkgconfig_invoke_result}&quot;)
-
-    if (NOT ${_regexp} STREQUAL &quot;&quot;)
-      string(REGEX REPLACE &quot;${_regexp}&quot; &quot; &quot; _pkgconfig_invoke_result &quot;${_pkgconfig_invoke_result}&quot;)
-    endif(NOT ${_regexp} STREQUAL &quot;&quot;)
-
-    separate_arguments(_pkgconfig_invoke_result)
-
-    #message(STATUS &quot;  ${_varname} ... ${_pkgconfig_invoke_result}&quot;)
-    set(_pkgconfig_${_varname} ${_pkgconfig_invoke_result})
-    _pkgconfig_set(${_prefix}_${_varname} &quot;${_pkgconfig_invoke_result}&quot;)
-  endif(_pkgconfig_failed)
-endmacro(_pkgconfig_invoke)
-
-# Invokes pkgconfig two times; once without '--static' and once with
-# '--static'
-macro(_pkgconfig_invoke_dyn _pkglist _prefix _varname cleanup_regexp)
-  _pkgconfig_invoke(&quot;${_pkglist}&quot; ${_prefix}        ${_varname} &quot;${cleanup_regexp}&quot; ${ARGN})
-  _pkgconfig_invoke(&quot;${_pkglist}&quot; ${_prefix} STATIC_${_varname} &quot;${cleanup_regexp}&quot; --static  ${ARGN})
-endmacro(_pkgconfig_invoke_dyn)
-
-# Splits given arguments into options and a package list
-macro(_pkgconfig_parse_options _result _is_req)
-  set(${_is_req} 0)
-  
-  foreach(_pkg ${ARGN})
-    if (_pkg STREQUAL &quot;REQUIRED&quot;)
-      set(${_is_req} 1)
-    endif (_pkg STREQUAL &quot;REQUIRED&quot;)
-  endforeach(_pkg ${ARGN})
-
-  set(${_result} ${ARGN})
-  list(REMOVE_ITEM ${_result} &quot;REQUIRED&quot;)
-endmacro(_pkgconfig_parse_options)
-
-###
-macro(_pkg_check_modules_internal _is_required _is_silent _prefix)
-  _pkgconfig_unset(${_prefix}_FOUND)
-  _pkgconfig_unset(${_prefix}_VERSION)
-  _pkgconfig_unset(${_prefix}_PREFIX)
-  _pkgconfig_unset(${_prefix}_INCLUDEDIR)
-  _pkgconfig_unset(${_prefix}_LIBDIR)
-  _pkgconfig_unset(${_prefix}_LIBS)
-  _pkgconfig_unset(${_prefix}_LIBS_L)
-  _pkgconfig_unset(${_prefix}_LIBS_PATHS)
-  _pkgconfig_unset(${_prefix}_LIBS_OTHER)
-  _pkgconfig_unset(${_prefix}_CFLAGS)
-  _pkgconfig_unset(${_prefix}_CFLAGS_I)
-  _pkgconfig_unset(${_prefix}_CFLAGS_OTHER)
-  _pkgconfig_unset(${_prefix}_STATIC_LIBDIR)
-  _pkgconfig_unset(${_prefix}_STATIC_LIBS)
-  _pkgconfig_unset(${_prefix}_STATIC_LIBS_L)
-  _pkgconfig_unset(${_prefix}_STATIC_LIBS_PATHS)
-  _pkgconfig_unset(${_prefix}_STATIC_LIBS_OTHER)
-  _pkgconfig_unset(${_prefix}_STATIC_CFLAGS)
-  _pkgconfig_unset(${_prefix}_STATIC_CFLAGS_I)
-  _pkgconfig_unset(${_prefix}_STATIC_CFLAGS_OTHER)
-
-  # create a better addressable variable of the modules and calculate its size
-  set(_pkg_check_modules_list ${ARGN})
-  list(LENGTH _pkg_check_modules_list _pkg_check_modules_cnt)
-
-  if(PKG_CONFIG_EXECUTABLE)
-    # give out status message telling checked module
-    if (NOT ${_is_silent})
-      if (_pkg_check_modules_cnt EQUAL 1)
-        message(STATUS &quot;checking for module '${_pkg_check_modules_list}'&quot;)
-      else(_pkg_check_modules_cnt EQUAL 1)
-        message(STATUS &quot;checking for modules '${_pkg_check_modules_list}'&quot;)
-      endif(_pkg_check_modules_cnt EQUAL 1)
-    endif(NOT ${_is_silent})
-    
-    set(_pkg_check_modules_packages)
-    set(_pkg_check_modules_failed)
-
-    # iterate through module list and check whether they exist and match the required version
-    foreach (_pkg_check_modules_pkg ${_pkg_check_modules_list})
-      set(_pkg_check_modules_exist_query)
-
-      # check whether version is given
-      if (_pkg_check_modules_pkg MATCHES &quot;.*(&gt;=|=|&lt;=).*&quot;)
-        string(REGEX REPLACE &quot;(.*[^&gt;&lt;])(&gt;=|=|&lt;=)(.*)&quot; &quot;\\1&quot; _pkg_check_modules_pkg_name &quot;${_pkg_check_modules_pkg}&quot;)
-        string(REGEX REPLACE &quot;(.*[^&gt;&lt;])(&gt;=|=|&lt;=)(.*)&quot; &quot;\\2&quot; _pkg_check_modules_pkg_op   &quot;${_pkg_check_modules_pkg}&quot;)
-        string(REGEX REPLACE &quot;(.*[^&gt;&lt;])(&gt;=|=|&lt;=)(.*)&quot; &quot;\\3&quot; _pkg_check_modules_pkg_ver  &quot;${_pkg_check_modules_pkg}&quot;)
-      else(_pkg_check_modules_pkg MATCHES &quot;.*(&gt;=|=|&lt;=).*&quot;)
-        set(_pkg_check_modules_pkg_name &quot;${_pkg_check_modules_pkg}&quot;)
-        set(_pkg_check_modules_pkg_op)
-        set(_pkg_check_modules_pkg_ver)
-      endif(_pkg_check_modules_pkg MATCHES &quot;.*(&gt;=|=|&lt;=).*&quot;)
-
-      # handle the operands
-      if (_pkg_check_modules_pkg_op STREQUAL &quot;&gt;=&quot;)
-        list(APPEND _pkg_check_modules_exist_query --atleast-version)
-      endif(_pkg_check_modules_pkg_op STREQUAL &quot;&gt;=&quot;)
-
-      if (_pkg_check_modules_pkg_op STREQUAL &quot;=&quot;)
-        list(APPEND _pkg_check_modules_exist_query --exact-version)
-      endif(_pkg_check_modules_pkg_op STREQUAL &quot;=&quot;)
-      
-      if (_pkg_check_modules_pkg_op STREQUAL &quot;&lt;=&quot;)
-        list(APPEND _pkg_check_modules_exist_query --max-version)
-      endif(_pkg_check_modules_pkg_op STREQUAL &quot;&lt;=&quot;)
-
-      # create the final query which is of the format:
-      # * --atleast-version &lt;version&gt; &lt;pkg-name&gt;
-      # * --exact-version &lt;version&gt; &lt;pkg-name&gt;      
-      # * --max-version &lt;version&gt; &lt;pkg-name&gt;
-      # * --exists &lt;pkg-name&gt;
-      if (_pkg_check_modules_pkg_op)
-        list(APPEND _pkg_check_modules_exist_query &quot;${_pkg_check_modules_pkg_ver}&quot;)
-      else(_pkg_check_modules_pkg_op)
-        list(APPEND _pkg_check_modules_exist_query --exists)
-      endif(_pkg_check_modules_pkg_op)
-
-      _pkgconfig_unset(${_prefix}_${_pkg_check_modules_pkg_name}_VERSION)
-      _pkgconfig_unset(${_prefix}_${_pkg_check_modules_pkg_name}_PREFIX)
-      _pkgconfig_unset(${_prefix}_${_pkg_check_modules_pkg_name}_INCLUDEDIR)
-      _pkgconfig_unset(${_prefix}_${_pkg_check_modules_pkg_name}_LIBDIR)
-
-      list(APPEND _pkg_check_modules_exist_query &quot;${_pkg_check_modules_pkg_name}&quot;)
-      list(APPEND _pkg_check_modules_packages    &quot;${_pkg_check_modules_pkg_name}&quot;)
-
-      # execute the query
-      execute_process(
-        COMMAND ${PKG_CONFIG_EXECUTABLE} ${_pkg_check_modules_exist_query}
-        RESULT_VARIABLE _pkgconfig_retval)
-
-      # evaluate result and tell failures
-      if (_pkgconfig_retval)
-        if(NOT ${_is_silent})
-          message(STATUS &quot;  package '${_pkg_check_modules_pkg}' not found&quot;)
-        endif(NOT ${_is_silent})
-
-        set(_pkg_check_modules_failed 1)
-      endif(_pkgconfig_retval)
-    endforeach(_pkg_check_modules_pkg)
-
-    if(_pkg_check_modules_failed)
-      # fail when requested
-      if (${_is_required})
-        message(SEND_ERROR &quot;A required package was not found&quot;)
-      endif (${_is_required})
-    else(_pkg_check_modules_failed)
-      # when we are here, we checked whether requested modules
-      # exist. Now, go through them and set variables
-      
-      _pkgconfig_set(${_prefix}_FOUND 1)
-      list(LENGTH _pkg_check_modules_packages pkg_count)
-
-      # iterate through all modules again and set individual variables
-      foreach (_pkg_check_modules_pkg ${_pkg_check_modules_packages})
-        # handle case when there is only one package required
-        if (pkg_count EQUAL 1)
-          set(_pkg_check_prefix &quot;${_prefix}&quot;)
-        else(pkg_count EQUAL 1)
-          set(_pkg_check_prefix &quot;${_prefix}_${_pkg_check_modules_pkg}&quot;)
-        endif(pkg_count EQUAL 1)
-        
-        _pkgconfig_invoke(${_pkg_check_modules_pkg} &quot;${_pkg_check_prefix}&quot; VERSION    &quot;&quot;   --modversion )
-        _pkgconfig_invoke(${_pkg_check_modules_pkg} &quot;${_pkg_check_prefix}&quot; PREFIX     &quot;&quot;   --variable=prefix )
-        _pkgconfig_invoke(${_pkg_check_modules_pkg} &quot;${_pkg_check_prefix}&quot; INCLUDEDIR &quot;&quot;   --variable=includedir )
-        _pkgconfig_invoke(${_pkg_check_modules_pkg} &quot;${_pkg_check_prefix}&quot; LIBDIR     &quot;&quot;   --variable=libdir )
-
-        message(STATUS &quot;  found ${_pkg_check_modules_pkg}, version ${_pkgconfig_VERSION}&quot;)
-      endforeach(_pkg_check_modules_pkg)
-
-      # set variables which are combined for multiple modules
-      _pkgconfig_invoke_dyn(&quot;${_pkg_check_modules_packages}&quot; &quot;${_prefix}&quot; LIBRARIES           &quot;(^| )-l&quot; --libs-only-l )
-      _pkgconfig_invoke_dyn(&quot;${_pkg_check_modules_packages}&quot; &quot;${_prefix}&quot; LIBRARY_DIRS        &quot;(^| )-L&quot; --libs-only-L )
-      _pkgconfig_invoke_dyn(&quot;${_pkg_check_modules_packages}&quot; &quot;${_prefix}&quot; LDFLAGS             &quot;&quot;        --libs )
-      _pkgconfig_invoke_dyn(&quot;${_pkg_check_modules_packages}&quot; &quot;${_prefix}&quot; LDFLAGS_OTHER       &quot;&quot;        --libs-only-other )
-
-      _pkgconfig_invoke_dyn(&quot;${_pkg_check_modules_packages}&quot; &quot;${_prefix}&quot; INCLUDE_DIRS        &quot;(^| )-I&quot; --cflags-only-I )
-      _pkgconfig_invoke_dyn(&quot;${_pkg_check_modules_packages}&quot; &quot;${_prefix}&quot; CFLAGS              &quot;&quot;        --cflags )
-      _pkgconfig_invoke_dyn(&quot;${_pkg_check_modules_packages}&quot; &quot;${_prefix}&quot; CFLAGS_OTHER        &quot;&quot;        --cflags-only-other )
-    endif(_pkg_check_modules_failed)
-  else(PKG_CONFIG_EXECUTABLE)
-    if (${_is_required})
-      message(SEND_ERROR &quot;pkg-config tool not found&quot;)
-    endif (${_is_required})
-  endif(PKG_CONFIG_EXECUTABLE)
-endmacro(_pkg_check_modules_internal)
-
-###
-### User visible macros start here
-###
-
-###
-macro(pkg_check_modules _prefix _module0)
-  # check cached value
-  if (NOT DEFINED __pkg_config_checked_${_prefix} OR __pkg_config_checked_${_prefix} LESS ${PKG_CONFIG_VERSION})
-    _pkgconfig_parse_options   (_pkg_modules _pkg_is_required &quot;${_module0}&quot; ${ARGN})
-    _pkg_check_modules_internal(&quot;${_pkg_is_required}&quot; 0 &quot;${_prefix}&quot; ${_pkg_modules})
-
-    _pkgconfig_set(__pkg_config_checked_${_prefix} ${PKG_CONFIG_VERSION})
-  endif(NOT DEFINED __pkg_config_checked_${_prefix} OR __pkg_config_checked_${_prefix} LESS ${PKG_CONFIG_VERSION})
-endmacro(pkg_check_modules)
-
-###
-macro(pkg_search_module _prefix _module0)
-  # check cached value
-  if (NOT DEFINED __pkg_config_checked_${_prefix} OR __pkg_config_checked_${_prefix} LESS ${PKG_CONFIG_VERSION})
-    set(_pkg_modules_found 0)
-    _pkgconfig_parse_options(_pkg_modules_alt _pkg_is_required &quot;${_module0}&quot; ${ARGN})
-
-    message(STATUS &quot;checking for one of the modules '${_pkg_modules_alt}'&quot;)
-
-    # iterate through all modules and stop at the first working one.
-    foreach(_pkg_alt ${_pkg_modules_alt})
-      if(NOT _pkg_modules_found)
-        _pkg_check_modules_internal(0 1 &quot;${_prefix}&quot; &quot;${_pkg_alt}&quot;)
-      endif(NOT _pkg_modules_found)
-
-      if (${_prefix}_FOUND)
-        set(_pkg_modules_found 1)
-      endif(${_prefix}_FOUND)
-    endforeach(_pkg_alt)
-
-    if (NOT ${_prefix}_FOUND)
-      if(${_pkg_is_required})
-        message(SEND_ERROR &quot;None of the required '${_pkg_modules_alt}' found&quot;)
-      endif(${_pkg_is_required})
-    endif(NOT ${_prefix}_FOUND)
-    
-    _pkgconfig_set(__pkg_config_checked_${_prefix} ${PKG_CONFIG_VERSION})
-  endif(NOT DEFINED __pkg_config_checked_${_prefix} OR __pkg_config_checked_${_prefix} LESS ${PKG_CONFIG_VERSION})  
-endmacro(pkg_search_module)
-
-### Local Variables:
-### mode: cmake
-### End:

Deleted: branches/avidemux_2.5_branch_gruntster/cmake/FindQT4.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/FindQT4.cmake	2007-11-27 14:12:27 UTC (rev 3709)
+++ branches/avidemux_2.5_branch_gruntster/cmake/FindQT4.cmake	2007-11-27 16:31:06 UTC (rev 3710)
@@ -1,1030 +0,0 @@
-# - Find QT 4
-# This module can be used to find Qt4.
-# The most important issue is that the Qt4 qmake is available via the system path.
-# This qmake is then used to detect basically everything else.
-# This module defines a number of key variables and macros. First is 
-# QT_USE_FILE which is the path to a CMake file that can be included to compile
-# Qt 4 applications and libraries.  By default, the QtCore and QtGui 
-# libraries are loaded. This behavior can be changed by setting one or more 
-# of the following variables to true:
-#                    QT_DONT_USE_QTCORE
-#                    QT_DONT_USE_QTGUI
-#                    QT_USE_QT3SUPPORT
-#                    QT_USE_QTASSISTANT
-#                    QT_USE_QTDESIGNER
-#                    QT_USE_QTMOTIF
-#                    QT_USE_QTMAIN
-#                    QT_USE_QTNETWORK
-#                    QT_USE_QTNSPLUGIN
-#                    QT_USE_QTOPENGL
-#                    QT_USE_QTSQL
-#                    QT_USE_QTXML
-#                    QT_USE_QTSVG
-#                    QT_USE_QTTEST
-#                    QT_USE_QTUITOOLS
-#
-# All the libraries required are stored in a variable called QT_LIBRARIES.  
-# Add this variable to your TARGET_LINK_LIBRARIES.
-#  
-#  macro QT4_WRAP_CPP(outfiles inputfile ... )
-#  macro QT4_WRAP_UI(outfiles inputfile ... )
-#  macro QT4_ADD_RESOURCE(outfiles inputfile ... )
-#  macro QT4_AUTOMOC(inputfile ... )
-#  macro QT4_GENERATE_MOC(inputfile outputfile )
-#  
-#  QT_FOUND         If false, don't try to use Qt.
-#  QT4_FOUND        If false, don't try to use Qt 4.
-#                      
-#  QT_QTCORE_FOUND        True if QtCore was found.
-#  QT_QTGUI_FOUND         True if QtGui was found.
-#  QT_QT3SUPPORT_FOUND    True if Qt3Support was found.
-#  QT_QTASSISTANT_FOUND   True if QtAssistant was found.
-#  QT_QTDESIGNER_FOUND    True if QtDesigner was found.
-#  QT_QTMOTIF_FOUND       True if QtMotif was found.
-#  QT_QTNETWORK_FOUND     True if QtNetwork was found.
-#  QT_QTNSPLUGIN_FOUND    True if QtNsPlugin was found.
-#  QT_QTOPENGL_FOUND      True if QtOpenGL was found.
-#  QT_QTSQL_FOUND         True if QtSql was found.
-#  QT_QTXML_FOUND         True if QtXml was found.
-#  QT_QTSVG_FOUND         True if QtSvg was found.
-#  QT_QTTEST_FOUND        True if QtTest was found.
-#  QT_QTUITOOLS_FOUND     True if QtUiTools was found.
-#                      
-#  QT_DEFINITIONS   Definitions to use when compiling code that uses Qt.
-#                  
-#  QT_INCLUDES      List of paths to all include directories of 
-#                   Qt4 QT_INCLUDE_DIR and QT_QTCORE_INCLUDE_DIR are
-#                   always in this variable even if NOTFOUND,
-#                   all other INCLUDE_DIRS are
-#                   only added if they are found.
-#   
-#  QT_INCLUDE_DIR              Path to &quot;include&quot; of Qt4
-#  QT_QT_INCLUDE_DIR           Path to &quot;include/Qt&quot; 
-#  QT_QT3SUPPORT_INCLUDE_DIR   Path to &quot;include/Qt3Support&quot; 
-#  QT_QTASSISTANT_INCLUDE_DIR  Path to &quot;include/QtAssistant&quot; 
-#  QT_QTCORE_INCLUDE_DIR       Path to &quot;include/QtCore&quot;         
-#  QT_QTDESIGNER_INCLUDE_DIR   Path to &quot;include/QtDesigner&quot; 
-#  QT_QTGUI_INCLUDE_DIR        Path to &quot;include/QtGui&quot; 
-#  QT_QTMOTIF_INCLUDE_DIR      Path to &quot;include/QtMotif&quot; 
-#  QT_QTNETWORK_INCLUDE_DIR    Path to &quot;include/QtNetwork&quot; 
-#  QT_QTNSPLUGIN_INCLUDE_DIR   Path to &quot;include/QtNsPlugin&quot; 
-#  QT_QTOPENGL_INCLUDE_DIR     Path to &quot;include/QtOpenGL&quot; 
-#  QT_QTSQL_INCLUDE_DIR        Path to &quot;include/QtSql&quot; 
-#  QT_QTXML_INCLUDE_DIR        Path to &quot;include/QtXml&quot; 
-#  QT_QTSVG_INCLUDE_DIR        Path to &quot;include/QtSvg&quot;
-#  QT_QTTEST_INCLUDE_DIR       Path to &quot;include/QtTest&quot;
-#                            
-#  QT_LIBRARY_DIR              Path to &quot;lib&quot; of Qt4
-#                            
-#  QT_PLUGINS_DIR              Path to &quot;plugins&quot; for Qt4
-#                            
-# For every library of Qt there are three variables:
-#  QT_QTFOO_LIBRARY_RELEASE, which contains the full path to the release version
-#  QT_QTFOO_LIBRARY_DEBUG, which contains the full path to the debug version
-#  QT_QTFOO_LIBRARY, the full path to the release version if available, otherwise to the debug version
-#
-# So there are the following variables:
-# The Qt3Support library:     QT_QT3SUPPORT_LIBRARY
-#                             QT_QT3SUPPORT_LIBRARY_RELEASE
-#                             QT_QT3SUPPORT_DEBUG
-#
-# The QtAssistant library:    QT_QTASSISTANT_LIBRARY
-#                             QT_QTASSISTANT_LIBRARY_RELEASE
-#                             QT_QTASSISTANT_LIBRARY_DEBUG
-#
-# The QtCore library:         QT_QTCORE_LIBRARY
-#                             QT_QTCORE_LIBRARY_RELEASE
-#                             QT_QTCORE_LIBRARY_DEBUG
-#
-# The QtDesigner library:     QT_QTDESIGNER_LIBRARY
-#                             QT_QTDESIGNER_LIBRARY_RELEASE
-#                             QT_QTDESIGNER_LIBRARY_DEBUG
-#
-# The QtGui library:          QT_QTGUI_LIBRARY
-#                             QT_QTGUI_LIBRARY_RELEASE
-#                             QT_QTGUI_LIBRARY_DEBUG
-#
-# The QtMotif library:        QT_QTMOTIF_LIBRARY
-#                             QT_QTMOTIF_LIBRARY_RELEASE
-#                             QT_QTMOTIF_LIBRARY_DEBUG
-#
-# The QtNetwork library:      QT_QTNETWORK_LIBRARY
-#                             QT_QTNETWORK_LIBRARY_RELEASE
-#                             QT_QTNETWORK_LIBRARY_DEBUG
-#
-# The QtNsPLugin library:     QT_QTNSPLUGIN_LIBRARY
-#                             QT_QTNSPLUGIN_LIBRARY_RELEASE
-#                             QT_QTNSPLUGIN_LIBRARY_DEBUG
-#
-# The QtOpenGL library:       QT_QTOPENGL_LIBRARY
-#                             QT_QTOPENGL_LIBRARY_RELEASE
-#                             QT_QTOPENGL_LIBRARY_DEBUG
-#
-# The QtSql library:          QT_QTSQL_LIBRARY
-#                             QT_QTSQL_LIBRARY_RELEASE
-#                             QT_QTSQL_LIBRARY_DEBUG
-#
-# The QtXml library:          QT_QTXML_LIBRARY
-#                             QT_QTXML_LIBRARY_RELEASE
-#                             QT_QTXML_LIBRARY_DEBUG
-#
-# The QtSvg library:          QT_QTSVG_LIBRARY
-#                             QT_QTSVG_LIBRARY_RELEASE
-#                             QT_QTSVG_LIBRARY_DEBUG
-#
-# The QtTest library:         QT_QTTEST_LIBRARY
-#                             QT_QTTEST_LIBRARY_RELEASE
-#                             QT_QTTEST_LIBRARY_DEBUG
-#
-# The qtmain library for Windows QT_QTMAIN_LIBRARY
-#                             QT_QTMAIN_LIBRARY_RELEASE
-#                             QT_QTMAIN_LIBRARY_DEBUG
-#
-#The QtUiTools library:       QT_QTUITOOLS_LIBRARY
-#                             QT_QTUITOOLS_LIBRARY_RELEASE
-#                             QT_QTUITOOLS_LIBRARY_DEBUG
-#  
-# also defined, but NOT for general use are
-#  QT_MOC_EXECUTABLE          Where to find the moc tool.
-#  QT_UIC_EXECUTABLE          Where to find the uic tool.
-#  QT_UIC3_EXECUTABLE         Where to find the uic3 tool.
-#  QT_RCC_EXECUTABLE          Where to find the rcc tool
-#  
-#  QT_DOC_DIR                 Path to &quot;doc&quot; of Qt4
-#  QT_MKSPECS_DIR             Path to &quot;mkspecs&quot; of Qt4
-#
-#
-# These are around for backwards compatibility 
-# they will be set
-#  QT_WRAP_CPP  Set true if QT_MOC_EXECUTABLE is found
-#  QT_WRAP_UI   Set true if QT_UIC_EXECUTABLE is found
-#  
-# These variables do _NOT_ have any effect anymore (compared to FindQt.cmake)
-#  QT_MT_REQUIRED         Qt4 is now always multithreaded
-#  
-# These variables are set to &quot;&quot; Because Qt structure changed 
-# (They make no sense in Qt4)
-#  QT_QT_LIBRARY        Qt-Library is now split
-
-INCLUDE(CheckSymbolExists)
-INCLUDE(MacroAddFileDependencies)
-
-SET(QT_USE_FILE ${CMAKE_ROOT}/Modules/UseQt4.cmake)
-
-SET( QT_DEFINITIONS &quot;&quot;)
-
-# check for qmake
-FIND_PROGRAM(QT_QMAKE_EXECUTABLE NAMES qmake qmake-qt4 PATHS
-  &quot;[HKEY_CURRENT_USER\\Software\\Trolltech\\Qt3Versions\\4.0.0;InstallDir]/bin&quot;
-  &quot;[HKEY_CURRENT_USER\\Software\\Trolltech\\Versions\\4.0.0;InstallDir]/bin&quot;
-  $ENV{QTDIR}/bin
-  )
-
-SET(QT4_INSTALLED_VERSION_TOO_OLD FALSE)
-
-##  macro for asking qmake to process pro files
-MACRO(QT_QUERY_QMAKE outvar invar)
-  FILE(WRITE ${CMAKE_CURRENT_BINARY_DIR}${CMAKE_FILES_DIRECTORY}/CMakeTmpQmake/tmp.pro
-    &quot;message(CMAKE_MESSAGE&lt;$$${invar}&gt;)&quot;)
-  EXECUTE_PROCESS(COMMAND ${QT_QMAKE_EXECUTABLE}
-    WORKING_DIRECTORY  
-    ${CMAKE_CURRENT_BINARY_DIR}${CMAKE_FILES_DIRECTORY}/CMakeTmpQmake
-    OUTPUT_VARIABLE _qmake_query_output
-    ERROR_VARIABLE _qmake_query_output )
-  FILE(REMOVE_RECURSE 
-    &quot;${CMAKE_CURRENT_BINARY_DIR}${CMAKE_FILES_DIRECTORY}/CMakeTmpQmake&quot;)
-  STRING(REGEX REPLACE &quot;.*CMAKE_MESSAGE&lt;([^&gt;]*).*&quot; &quot;\\1&quot; ${outvar} &quot;${_qmake_query_output}&quot;)
-ENDMACRO(QT_QUERY_QMAKE)
-
-
-IF (QT_QMAKE_EXECUTABLE)
-
-   SET(QT4_QMAKE_FOUND FALSE)
-   
-   EXEC_PROGRAM(${QT_QMAKE_EXECUTABLE} ARGS &quot;-query QT_VERSION&quot; OUTPUT_VARIABLE QTVERSION)
-  # check for qt3 qmake and then try and find qmake-qt4 in the path
-  IF(&quot;${QTVERSION}&quot; MATCHES &quot;Unknown&quot;)
-    SET(QT_QMAKE_EXECUTABLE NOTFOUND CACHE FILEPATH &quot;&quot; FORCE)
-    FIND_PROGRAM(QT_QMAKE_EXECUTABLE NAMES qmake-qt4 PATHS
-      &quot;[HKEY_CURRENT_USER\\Software\\Trolltech\\Qt3Versions\\4.0.0;InstallDir]/bin&quot;
-      &quot;[HKEY_CURRENT_USER\\Software\\Trolltech\\Versions\\4.0.0;InstallDir]/bin&quot;
-      $ENV{QTDIR}/bin
-      )
-    IF(QT_QMAKE_EXECUTABLE)
-      EXEC_PROGRAM(${QT_QMAKE_EXECUTABLE} 
-        ARGS &quot;-query QT_VERSION&quot; OUTPUT_VARIABLE QTVERSION)
-    ENDIF(QT_QMAKE_EXECUTABLE)
-  ENDIF(&quot;${QTVERSION}&quot; MATCHES &quot;Unknown&quot;)
-   # check that we found the Qt4 qmake, Qt3 qmake output won't match here
-   STRING(REGEX MATCH &quot;^[0-9]+\\.[0-9]+\\.[0-9]+&quot; qt_version_tmp &quot;${QTVERSION}&quot;)
-   IF (qt_version_tmp)
-
-      # we need at least version 4.0.0
-      IF (NOT QT_MIN_VERSION)
-         SET(QT_MIN_VERSION &quot;4.0.0&quot;)
-      ENDIF (NOT QT_MIN_VERSION)
-   
-      #now parse the parts of the user given version string into variables
-      STRING(REGEX MATCH &quot;^[0-9]+\\.[0-9]+\\.[0-9]+&quot; req_qt_major_vers &quot;${QT_MIN_VERSION}&quot;)
-      IF (NOT req_qt_major_vers)
-         MESSAGE( FATAL_ERROR &quot;Invalid Qt version string given: \&quot;${QT_MIN_VERSION}\&quot;, expected e.g. \&quot;4.0.1\&quot;&quot;)
-      ENDIF (NOT req_qt_major_vers)
-   
-      # now parse the parts of the user given version string into variables
-      STRING(REGEX REPLACE &quot;^([0-9]+)\\.[0-9]+\\.[0-9]+&quot; &quot;\\1&quot; req_qt_major_vers &quot;${QT_MIN_VERSION}&quot;)
-      STRING(REGEX REPLACE &quot;^[0-9]+\\.([0-9])+\\.[0-9]+&quot; &quot;\\1&quot; req_qt_minor_vers &quot;${QT_MIN_VERSION}&quot;)
-      STRING(REGEX REPLACE &quot;^[0-9]+\\.[0-9]+\\.([0-9]+)&quot; &quot;\\1&quot; req_qt_patch_vers &quot;${QT_MIN_VERSION}&quot;)
-   
-      IF (NOT req_qt_major_vers EQUAL 4)
-         MESSAGE( FATAL_ERROR &quot;Invalid Qt version string given: \&quot;${QT_MIN_VERSION}\&quot;, major version 4 is required, e.g. \&quot;4.0.1\&quot;&quot;)
-      ENDIF (NOT req_qt_major_vers EQUAL 4)
-   
-      # and now the version string given by qmake
-      STRING(REGEX REPLACE &quot;^([0-9]+)\\.[0-9]+\\.[0-9]+.*&quot; &quot;\\1&quot; found_qt_major_vers &quot;${QTVERSION}&quot;)
-      STRING(REGEX REPLACE &quot;^[0-9]+\\.([0-9])+\\.[0-9]+.*&quot; &quot;\\1&quot; found_qt_minor_vers &quot;${QTVERSION}&quot;)
-      STRING(REGEX REPLACE &quot;^[0-9]+\\.[0-9]+\\.([0-9]+).*&quot; &quot;\\1&quot; found_qt_patch_vers &quot;${QTVERSION}&quot;)
-   
-      # compute an overall version number which can be compared at once
-      MATH(EXPR req_vers &quot;${req_qt_major_vers}*10000 + ${req_qt_minor_vers}*100 + ${req_qt_patch_vers}&quot;)
-      MATH(EXPR found_vers &quot;${found_qt_major_vers}*10000 + ${found_qt_minor_vers}*100 + ${found_qt_patch_vers}&quot;)
-   
-      IF (found_vers LESS req_vers)
-         SET(QT4_QMAKE_FOUND FALSE)
-         SET(QT4_INSTALLED_VERSION_TOO_OLD TRUE)
-      ELSE (found_vers LESS req_vers)
-    SET(QT4_QMAKE_FOUND TRUE)
-      ENDIF (found_vers LESS req_vers)
-   ENDIF (qt_version_tmp)
-
-ENDIF (QT_QMAKE_EXECUTABLE)
-
-IF (QT4_QMAKE_FOUND)
-
-  # ask qmake for the library dir
-  # Set QT_LIBRARY_DIR
-  IF (NOT QT_LIBRARY_DIR)
-    EXEC_PROGRAM( ${QT_QMAKE_EXECUTABLE}
-      ARGS &quot;-query QT_INSTALL_LIBS&quot;
-      OUTPUT_VARIABLE QT_LIBRARY_DIR_TMP )
-    IF(EXISTS &quot;${QT_LIBRARY_DIR_TMP}&quot;)
-      SET(QT_LIBRARY_DIR ${QT_LIBRARY_DIR_TMP} CACHE PATH &quot;Qt library dir&quot;)
-    ELSE(EXISTS &quot;${QT_LIBRARY_DIR_TMP}&quot;)
-      MESSAGE(&quot;Warning: QT_QMAKE_EXECUTABLE reported QT_INSTALL_LIBS as ${QT_LIBRARY_DIR_TMP}&quot;)
-       MESSAGE(&quot;Warning: ${QT_LIBRARY_DIR_TMP} does NOT exist, Qt must NOT be installed correctly.&quot;)
-    ENDIF(EXISTS &quot;${QT_LIBRARY_DIR_TMP}&quot;)
-  ENDIF(NOT QT_LIBRARY_DIR)
-  
-  IF (APPLE)
-    IF (EXISTS ${QT_LIBRARY_DIR}/QtCore.framework)
-      SET(QT_USE_FRAMEWORKS ON
-        CACHE BOOL &quot;Set to ON if Qt build uses frameworks.&quot;)
-    ELSE (EXISTS ${QT_LIBRARY_DIR}/QtCore.framework)
-      SET(QT_USE_FRAMEWORKS OFF
-        CACHE BOOL &quot;Set to ON if Qt build uses frameworks.&quot;)
-    ENDIF (EXISTS ${QT_LIBRARY_DIR}/QtCore.framework)
-    
-    MARK_AS_ADVANCED(QT_USE_FRAMEWORKS)
-  ENDIF (APPLE)
-  
-  # ask qmake for the binary dir
-  IF (NOT QT_BINARY_DIR)
-     EXEC_PROGRAM(${QT_QMAKE_EXECUTABLE}
-        ARGS &quot;-query QT_INSTALL_BINS&quot;
-        OUTPUT_VARIABLE qt_bins )
-     SET(QT_BINARY_DIR ${qt_bins} CACHE INTERNAL &quot;&quot;)
-  ENDIF (NOT QT_BINARY_DIR)
-
-  # ask qmake for the include dir
-  IF (NOT QT_HEADERS_DIR)
-      EXEC_PROGRAM( ${QT_QMAKE_EXECUTABLE}
-        ARGS &quot;-query QT_INSTALL_HEADERS&quot; 
-        OUTPUT_VARIABLE qt_headers )
-      SET(QT_HEADERS_DIR ${qt_headers} CACHE INTERNAL &quot;&quot;)
-  ENDIF(NOT QT_HEADERS_DIR)
-
-
-  # ask qmake for the documentation directory
-  IF (NOT QT_DOC_DIR)
-    EXEC_PROGRAM( ${QT_QMAKE_EXECUTABLE}
-      ARGS &quot;-query QT_INSTALL_DOCS&quot;
-      OUTPUT_VARIABLE qt_doc_dir )
-    SET(QT_DOC_DIR ${qt_doc_dir} CACHE PATH &quot;The location of the Qt docs&quot;)
-  ENDIF (NOT QT_DOC_DIR)
-
-  # ask qmake for the mkspecs directory
-  IF (NOT QT_MKSPECS_DIR)
-    EXEC_PROGRAM( ${QT_QMAKE_EXECUTABLE}
-      ARGS &quot;-query QMAKE_MKSPECS&quot;
-      OUTPUT_VARIABLE qt_mkspecs_dir )
-    SET(QT_MKSPECS_DIR ${qt_mkspecs_dir} CACHE PATH &quot;The location of the Qt mkspecs&quot;)
-  ENDIF (NOT QT_MKSPECS_DIR)
-
-  # ask qmake for the plugins directory
-  IF (NOT QT_PLUGINS_DIR)
-    EXEC_PROGRAM( ${QT_QMAKE_EXECUTABLE}
-      ARGS &quot;-query QT_INSTALL_PLUGINS&quot;
-      OUTPUT_VARIABLE qt_plugins_dir )
-    SET(QT_PLUGINS_DIR ${qt_plugins_dir} CACHE PATH &quot;The location of the Qt plugins&quot;)
-  ENDIF (NOT QT_PLUGINS_DIR)
-  ########################################
-  #
-  #       Setting the INCLUDE-Variables
-  #
-  ########################################
-
-  FIND_PATH(QT_QTCORE_INCLUDE_DIR QtGlobal
-    ${QT_HEADERS_DIR}/QtCore
-    ${QT_LIBRARY_DIR}/QtCore.framework/Headers
-    NO_DEFAULT_PATH
-   )
-
-  # Set QT_INCLUDE_DIR by removine &quot;/QtCore&quot; in the string ${QT_QTCORE_INCLUDE_DIR}
-  IF( QT_QTCORE_INCLUDE_DIR AND NOT QT_INCLUDE_DIR)
-    IF (QT_USE_FRAMEWORKS)
-      SET(QT_INCLUDE_DIR ${QT_HEADERS_DIR})
-    ELSE (QT_USE_FRAMEWORKS)
-      STRING( REGEX REPLACE &quot;/QtCore$&quot; &quot;&quot; qt4_include_dir ${QT_QTCORE_INCLUDE_DIR})
-      SET( QT_INCLUDE_DIR ${qt4_include_dir} CACHE PATH &quot;&quot;)
-    ENDIF (QT_USE_FRAMEWORKS)
-  ENDIF( QT_QTCORE_INCLUDE_DIR AND NOT QT_INCLUDE_DIR)
-
-  IF( NOT QT_INCLUDE_DIR)
-    IF( NOT Qt4_FIND_QUIETLY AND Qt4_FIND_REQUIRED)
-      MESSAGE( FATAL_ERROR &quot;Could NOT find QtGlobal header&quot;)
-    ENDIF( NOT Qt4_FIND_QUIETLY AND Qt4_FIND_REQUIRED)
-  ENDIF( NOT QT_INCLUDE_DIR)
-
-  #############################################
-  #
-  # Find out what window system we're using
-  #
-  #############################################
-  # Save required includes variable
-  SET(CMAKE_REQUIRED_INCLUDES_SAVE ${CMAKE_REQUIRED_INCLUDES})
-  # Add QT_INCLUDE_DIR to CMAKE_REQUIRED_INCLUDES
-  SET(CMAKE_REQUIRED_INCLUDES &quot;${CMAKE_REQUIRED_INCLUDES};${QT_INCLUDE_DIR}&quot;)
-  # Check for Window system symbols (note: only one should end up being set)
-  CHECK_SYMBOL_EXISTS(Q_WS_X11 &quot;QtCore/qglobal.h&quot; Q_WS_X11)
-  CHECK_SYMBOL_EXISTS(Q_WS_MAC &quot;QtCore/qglobal.h&quot; Q_WS_MAC)
-  CHECK_SYMBOL_EXISTS(Q_WS_WIN &quot;QtCore/qglobal.h&quot; Q_WS_WIN)
-
-  IF (QT_QTCOPY_REQUIRED)
-     CHECK_SYMBOL_EXISTS(QT_IS_QTCOPY &quot;QtCore/qglobal.h&quot; QT_KDE_QT_COPY)
-     IF (NOT QT_IS_QTCOPY)
-        MESSAGE(FATAL_ERROR &quot;qt-copy is required, but hasn't been found&quot;)
-     ENDIF (NOT QT_IS_QTCOPY)
-  ENDIF (QT_QTCOPY_REQUIRED)
-
-  # Restore CMAKE_REQUIRED_INCLUDES variable
-  SET(CMAKE_REQUIRED_INCLUDES ${CMAKE_REQUIRED_INCLUDES_SAVE})
-  #
-  #############################################
-
-  IF (QT_USE_FRAMEWORKS)
-    SET(QT_DEFINITIONS ${QT_DEFINITIONS} -F${QT_LIBRARY_DIR} -L${QT_LIBRARY_DIR} )
-  ENDIF (QT_USE_FRAMEWORKS)
-
-  # Set QT_QT3SUPPORT_INCLUDE_DIR
-  FIND_PATH(QT_QT3SUPPORT_INCLUDE_DIR Qt3Support
-    PATHS
-    ${QT_INCLUDE_DIR}/Qt3Support
-    ${QT_LIBRARY_DIR}/Qt3Support.framework/Headers
-    NO_DEFAULT_PATH
-    )
-
-  # Set QT_QT_INCLUDE_DIR
-  FIND_PATH(QT_QT_INCLUDE_DIR qglobal.h
-    PATHS
-    ${QT_INCLUDE_DIR}/Qt
-    ${QT_LIBRARY_DIR}/QtCore.framework/Headers
-    NO_DEFAULT_PATH
-    )
-
-  # Set QT_QTGUI_INCLUDE_DIR
-  FIND_PATH(QT_QTGUI_INCLUDE_DIR QtGui
-    PATHS
-    ${QT_INCLUDE_DIR}/QtGui
-    ${QT_LIBRARY_DIR}/QtGui.framework/Headers
-    NO_DEFAULT_PATH
-    )
-
-  # Set QT_QTSVG_INCLUDE_DIR
-  FIND_PATH(QT_QTSVG_INCLUDE_DIR QtSvg
-    PATHS
-    ${QT_INCLUDE_DIR}/QtSvg
-    ${QT_LIBRARY_DIR}/QtSvg.framework/Headers
-    NO_DEFAULT_PATH
-    )
-
-  # Set QT_QTTEST_INCLUDE_DIR
-  FIND_PATH(QT_QTTEST_INCLUDE_DIR QtTest
-    PATHS
-    ${QT_INCLUDE_DIR}/QtTest
-    ${QT_LIBRARY_DIR}/QtTest.framework/Headers
-    NO_DEFAULT_PATH
-    )
-
-  # Set QT_QTUITOOLS_INCLUDE_DIR
-  FIND_PATH(QT_QTUITOOLS_INCLUDE_DIR QtUiTools
-    PATHS
-    ${QT_INCLUDE_DIR}/QtUiTools
-    ${QT_LIBRARY_DIR}/QtUiTools.framework/Headers
-    NO_DEFAULT_PATH
-    )
-
-
-
-  # Set QT_QTMOTIF_INCLUDE_DIR
-  IF(Q_WS_X11)
-    FIND_PATH(QT_QTMOTIF_INCLUDE_DIR QtMotif PATHS ${QT_INCLUDE_DIR}/QtMotif NO_DEFAULT_PATH )
-  ENDIF(Q_WS_X11)
-
-  # Set QT_QTNETWORK_INCLUDE_DIR
-  FIND_PATH(QT_QTNETWORK_INCLUDE_DIR QtNetwork
-    PATHS
-    ${QT_INCLUDE_DIR}/QtNetwork
-    ${QT_LIBRARY_DIR}/QtNetwork.framework/Headers
-    NO_DEFAULT_PATH
-    )
-
-  # Set QT_QTNSPLUGIN_INCLUDE_DIR
-  FIND_PATH(QT_QTNSPLUGIN_INCLUDE_DIR QtNsPlugin
-    PATHS
-    ${QT_INCLUDE_DIR}/QtNsPlugin
-    ${QT_LIBRARY_DIR}/QtNsPlugin.framework/Headers
-    NO_DEFAULT_PATH
-    )
-
-  # Set QT_QTOPENGL_INCLUDE_DIR
-  FIND_PATH(QT_QTOPENGL_INCLUDE_DIR QtOpenGL
-    PATHS
-    ${QT_INCLUDE_DIR}/QtOpenGL
-    ${QT_LIBRARY_DIR}/QtOpenGL.framework/Headers
-    NO_DEFAULT_PATH
-    )
-
-  # Set QT_QTSQL_INCLUDE_DIR
-  FIND_PATH(QT_QTSQL_INCLUDE_DIR QtSql
-    PATHS
-    ${QT_INCLUDE_DIR}/QtSql
-    ${QT_LIBRARY_DIR}/QtSql.framework/Headers
-    NO_DEFAULT_PATH
-    )
-
-  # Set QT_QTXML_INCLUDE_DIR
-  FIND_PATH(QT_QTXML_INCLUDE_DIR QtXml
-    PATHS
-    ${QT_INCLUDE_DIR}/QtXml
-    ${QT_LIBRARY_DIR}/QtXml.framework/Headers
-    NO_DEFAULT_PATH
-    )
-
-  # Set QT_QTASSISTANT_INCLUDE_DIR
-  FIND_PATH(QT_QTASSISTANT_INCLUDE_DIR QtAssistant
-    PATHS
-    ${QT_INCLUDE_DIR}/QtAssistant
-    ${QT_HEADERS_DIR}/QtAssistant
-    ${QT_LIBRARY_DIR}/QtAssistant.framework/Headers
-    NO_DEFAULT_PATH
-    )
-
-  # Set QT_QTDESIGNER_INCLUDE_DIR
-  FIND_PATH(QT_QTDESIGNER_INCLUDE_DIR QDesignerComponents
-    PATHS
-    ${QT_INCLUDE_DIR}/QtDesigner
-    ${QT_HEADERS_DIR}/QtDesigner
-    ${QT_LIBRARY_DIR}/QtDesigner.framework/Headers
-    NO_DEFAULT_PATH
-    )
-
-  # Make variables changeble to the advanced user
-  MARK_AS_ADVANCED( QT_LIBRARY_DIR QT_INCLUDE_DIR QT_QT_INCLUDE_DIR QT_DOC_DIR)
-
-  # Set QT_INCLUDES
-  SET( QT_INCLUDES ${QT_INCLUDE_DIR} ${QT_QT_INCLUDE_DIR} ${QT_MKSPECS_DIR}/default )
-
-    # Set QT_QTCORE_LIBRARY by searching for a lib with &quot;QtCore.&quot;  as part of the filename
-    FIND_LIBRARY(QT_QTCORE_LIBRARY_RELEASE NAMES QtCore QtCore4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH )
-  FIND_LIBRARY(QT_QTCORE_LIBRARY_DEBUG NAMES QtCore_debug QtCored QtCored4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
-
-    # Set QT_QT3SUPPORT_LIBRARY
-    FIND_LIBRARY(QT_QT3SUPPORT_LIBRARY_RELEASE NAMES Qt3Support Qt3Support4 PATHS ${QT_LIBRARY_DIR}        NO_DEFAULT_PATH)
-    FIND_LIBRARY(QT_QT3SUPPORT_LIBRARY_DEBUG   NAMES Qt3Support_debug Qt3Supportd4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
-
-    # Set QT_QTGUI_LIBRARY
-    FIND_LIBRARY(QT_QTGUI_LIBRARY_RELEASE NAMES QtGui QtGui4 PATHS ${QT_LIBRARY_DIR}        NO_DEFAULT_PATH)
-    FIND_LIBRARY(QT_QTGUI_LIBRARY_DEBUG   NAMES QtGui_debug QtGuid4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
-
-    # Set QT_QTMOTIF_LIBRARY
-    IF(Q_WS_X11)
-      FIND_LIBRARY(QT_QTMOTIF_LIBRARY_RELEASE NAMES QtMotif PATHS ${QT_LIBRARY_DIR}       NO_DEFAULT_PATH)
-      FIND_LIBRARY(QT_QTMOTIF_LIBRARY_DEBUG   NAMES QtMotif_debug PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
-    ENDIF(Q_WS_X11)
-
-    # Set QT_QTNETWORK_LIBRARY
-    FIND_LIBRARY(QT_QTNETWORK_LIBRARY_RELEASE NAMES QtNetwork QtNetwork4 PATHS ${QT_LIBRARY_DIR}        NO_DEFAULT_PATH)
-    FIND_LIBRARY(QT_QTNETWORK_LIBRARY_DEBUG   NAMES QtNetwork_debug QtNetworkd4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
-
-    # Set QT_QTNSPLUGIN_LIBRARY
-    FIND_LIBRARY(QT_QTNSPLUGIN_LIBRARY_RELEASE NAMES QtNsPlugin PATHS ${QT_LIBRARY_DIR}       NO_DEFAULT_PATH)
-    FIND_LIBRARY(QT_QTNSPLUGIN_LIBRARY_DEBUG   NAMES QtNsPlugin_debug PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
-
-    # Set QT_QTOPENGL_LIBRARY
-    FIND_LIBRARY(QT_QTOPENGL_LIBRARY_RELEASE NAMES QtOpenGL QtOpenGL4 PATHS ${QT_LIBRARY_DIR}        NO_DEFAULT_PATH)
-    FIND_LIBRARY(QT_QTOPENGL_LIBRARY_DEBUG   NAMES QtOpenGL_debug QtOpenGLd4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
-
-    # Set QT_QTSQL_LIBRARY
-    FIND_LIBRARY(QT_QTSQL_LIBRARY_RELEASE NAMES QtSql QtSql4 PATHS ${QT_LIBRARY_DIR}        NO_DEFAULT_PATH)
-    FIND_LIBRARY(QT_QTSQL_LIBRARY_DEBUG   NAMES QtSql_debug QtSqld4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
-
-    # Set QT_QTXML_LIBRARY
-    FIND_LIBRARY(QT_QTXML_LIBRARY_RELEASE NAMES QtXml QtXml4 PATHS ${QT_LIBRARY_DIR}        NO_DEFAULT_PATH)
-    FIND_LIBRARY(QT_QTXML_LIBRARY_DEBUG   NAMES QtXml_debug QtXmld4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
-
-    # Set QT_QTSVG_LIBRARY
-    FIND_LIBRARY(QT_QTSVG_LIBRARY_RELEASE NAMES QtSvg QtSvg4 PATHS ${QT_LIBRARY_DIR}        NO_DEFAULT_PATH)
-    FIND_LIBRARY(QT_QTSVG_LIBRARY_DEBUG   NAMES QtSvg_debug QtSvgd4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
-
-    # Set QT_QTUITOOLS_LIBRARY
-    FIND_LIBRARY(QT_QTUITOOLS_LIBRARY_RELEASE NAMES QtUiTools QtUiTools4 PATHS ${QT_LIBRARY_DIR}        NO_DEFAULT_PATH)
-    FIND_LIBRARY(QT_QTUITOOLS_LIBRARY_DEBUG   NAMES QtUiTools_debug QtUiToolsd4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
-
-    # Set QT_QTTEST_LIBRARY
-    FIND_LIBRARY(QT_QTTEST_LIBRARY_RELEASE NAMES QtTest QtTest4 PATHS ${QT_LIBRARY_DIR}                      NO_DEFAULT_PATH)
-    FIND_LIBRARY(QT_QTTEST_LIBRARY_DEBUG   NAMES QtTest_debug QtTest_debug4 QtTestd4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
-
-    MARK_AS_ADVANCED(QT_QT3SUPPORT_LIBRARY QT_QTGUI_LIBRARY )
-
-  IF( NOT QT_QTCORE_LIBRARY_DEBUG AND NOT QT_QTCORE_LIBRARY_RELEASE )
-    IF( NOT Qt4_FIND_QUIETLY AND Qt4_FIND_REQUIRED)
-      MESSAGE( FATAL_ERROR &quot;Could NOT find QtCore. Check ${CMAKE_BINARY_DIR}${CMAKE_FILES_DIRECTORY}/CMakeError.log for more details.&quot;)
-    ENDIF( NOT Qt4_FIND_QUIETLY AND Qt4_FIND_REQUIRED)
-  ENDIF( NOT QT_QTCORE_LIBRARY_DEBUG AND NOT QT_QTCORE_LIBRARY_RELEASE )
-
-  # Set QT_QTASSISTANT_LIBRARY
-  FIND_LIBRARY(QT_QTASSISTANT_LIBRARY_RELEASE NAMES QtAssistantClient QtAssistantClient4 QtAssistant QtAssistant4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
-  FIND_LIBRARY(QT_QTASSISTANT_LIBRARY_DEBUG   NAMES QtAssistantClientd QtAssistantClientd4 QtAssistantClient_debug QtAssistant_debug QtAssistantd4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
-
-  # Set QT_QTDESIGNER_LIBRARY
-  FIND_LIBRARY(QT_QTDESIGNER_LIBRARY_RELEASE NAMES QtDesigner QtDesigner4 PATHS ${QT_LIBRARY_DIR}        NO_DEFAULT_PATH)
-  FIND_LIBRARY(QT_QTDESIGNER_LIBRARY_DEBUG   NAMES QtDesigner_debug QtDesignerd4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
-
-  # Set QT_QTMAIN_LIBRARY
-  IF(WIN32)
-    FIND_LIBRARY(QT_QTMAIN_LIBRARY_RELEASE NAMES qtmain PATHS ${QT_LIBRARY_DIR}
-      NO_DEFAULT_PATH)
-    FIND_LIBRARY(QT_QTMAIN_LIBRARY_DEBUG NAMES qtmaind PATHS ${QT_LIBRARY_DIR}
-      NO_DEFAULT_PATH)
-  ENDIF(WIN32)
-
-  ############################################
-  #
-  # Check the existence of the libraries.
-  #
-  ############################################
-
-  MACRO (_QT4_ADJUST_LIB_VARS basename)
-    IF (QT_${basename}_INCLUDE_DIR)
-
-      # if only the release version was found, set the debug variable also to the release version
-      IF (QT_${basename}_LIBRARY_RELEASE AND NOT QT_${basename}_LIBRARY_DEBUG)
-        SET(QT_${basename}_LIBRARY_DEBUG ${QT_${basename}_LIBRARY_RELEASE})
-        SET(QT_${basename}_LIBRARY       ${QT_${basename}_LIBRARY_RELEASE})
-        SET(QT_${basename}_LIBRARIES     ${QT_${basename}_LIBRARY_RELEASE})
-      ENDIF (QT_${basename}_LIBRARY_RELEASE AND NOT QT_${basename}_LIBRARY_DEBUG)
-
-      # if only the debug version was found, set the release variable also to the debug version
-      IF (QT_${basename}_LIBRARY_DEBUG AND NOT QT_${basename}_LIBRARY_RELEASE)
-        SET(QT_${basename}_LIBRARY_RELEASE ${QT_${basename}_LIBRARY_DEBUG})
-        SET(QT_${basename}_LIBRARY         ${QT_${basename}_LIBRARY_DEBUG})
-        SET(QT_${basename}_LIBRARIES       ${QT_${basename}_LIBRARY_DEBUG})
-      ENDIF (QT_${basename}_LIBRARY_DEBUG AND NOT QT_${basename}_LIBRARY_RELEASE)
-      IF (QT_${basename}_LIBRARY_DEBUG AND QT_${basename}_LIBRARY_RELEASE)
-        # if the generator supports configuration types then set
-        # optimized and debug libraries, or if the CMAKE_BUILD_TYPE has a value
-        IF (CMAKE_CONFIGURATION_TYPES OR CMAKE_BUILD_TYPE)
-          SET(QT_${basename}_LIBRARY       optimized ${QT_${basename}_LIBRARY_RELEASE} debug ${QT_${basename}_LIBRARY_DEBUG})
-        ELSE(CMAKE_CONFIGURATION_TYPES OR CMAKE_BUILD_TYPE)
-          # if there are no configuration types and CMAKE_BUILD_TYPE has no value
-          # then just use the release libraries
-          SET(QT_${basename}_LIBRARY       ${QT_${basename}_LIBRARY_RELEASE} )
-        ENDIF(CMAKE_CONFIGURATION_TYPES OR CMAKE_BUILD_TYPE)
-        SET(QT_${basename}_LIBRARIES       optimized ${QT_${basename}_LIBRARY_RELEASE} debug ${QT_${basename}_LIBRARY_DEBUG})
-      ENDIF (QT_${basename}_LIBRARY_DEBUG AND QT_${basename}_LIBRARY_RELEASE)
-
-      SET(QT_${basename}_LIBRARY ${QT_${basename}_LIBRARY} CACHE FILEPATH &quot;The Qt ${basename} library&quot;)
-
-      IF (QT_${basename}_LIBRARY)
-        SET(QT_${basename}_FOUND 1)
-      ENDIF (QT_${basename}_LIBRARY)
-
-      #add the include directory to QT_INCLUDES
-      SET(QT_INCLUDES ${QT_INCLUDES} &quot;${QT_${basename}_INCLUDE_DIR}&quot;)
-    ENDIF (QT_${basename}_INCLUDE_DIR )
-
-    # Make variables changeble to the advanced user
-    MARK_AS_ADVANCED(QT_${basename}_LIBRARY QT_${basename}_LIBRARY_RELEASE QT_${basename}_LIBRARY_DEBUG QT_${basename}_INCLUDE_DIR)
-  ENDMACRO (_QT4_ADJUST_LIB_VARS)
-
-  IF(WIN32)
-    # there is no include for qtmain but adjust macro needs it set
-    SET(QT_QTMAIN_INCLUDE_DIR 1)
-     _QT4_ADJUST_LIB_VARS(QTMAIN)
-    SET(QT_QTMAIN_INCLUDE_DIR )
-  ENDIF(WIN32)
-
-
-  _QT4_ADJUST_LIB_VARS(QTCORE)
-  _QT4_ADJUST_LIB_VARS(QTGUI)
-  _QT4_ADJUST_LIB_VARS(QT3SUPPORT)
-  _QT4_ADJUST_LIB_VARS(QTASSISTANT)
-  _QT4_ADJUST_LIB_VARS(QTDESIGNER)
-  IF(Q_WS_X11)
-    _QT4_ADJUST_LIB_VARS(QTMOTIF)
-  ENDIF(Q_WS_X11)
-  _QT4_ADJUST_LIB_VARS(QTNETWORK)
-  _QT4_ADJUST_LIB_VARS(QTNSPLUGIN)
-  _QT4_ADJUST_LIB_VARS(QTOPENGL)
-  _QT4_ADJUST_LIB_VARS(QTSQL)
-  _QT4_ADJUST_LIB_VARS(QTXML)
-  _QT4_ADJUST_LIB_VARS(QTSVG)
-  _QT4_ADJUST_LIB_VARS(QTUITOOLS)
-  _QT4_ADJUST_LIB_VARS(QTTEST)
-
-
-
-  #######################################
-  #
-  #       Check the executables of Qt 
-  #          ( moc, uic, rcc )
-  #
-  #######################################
-
-
-   # find moc and uic using qmake
-  QT_QUERY_QMAKE(QT_MOC_EXECUTABLE_INTERNAL &quot;QMAKE_MOC&quot;)
-  QT_QUERY_QMAKE(QT_UIC_EXECUTABLE_INTERNAL &quot;QMAKE_UIC&quot;)
-
-   FILE(TO_CMAKE_PATH 
-     &quot;${QT_MOC_EXECUTABLE_INTERNAL}&quot; QT_MOC_EXECUTABLE_INTERNAL)
-   FILE(TO_CMAKE_PATH 
-     &quot;${QT_UIC_EXECUTABLE_INTERNAL}&quot; QT_UIC_EXECUTABLE_INTERNAL)
-
-   SET(QT_MOC_EXECUTABLE 
-     ${QT_MOC_EXECUTABLE_INTERNAL} CACHE FILEPATH &quot;The moc executable&quot;)
-   SET(QT_UIC_EXECUTABLE 
-     ${QT_UIC_EXECUTABLE_INTERNAL} CACHE FILEPATH &quot;The uic executable&quot;)
-
-  FIND_PROGRAM(QT_UIC3_EXECUTABLE
-    NAMES uic3
-    PATHS ${QT_BINARY_DIR}
-    NO_DEFAULT_PATH
-    )
-
-  FIND_PROGRAM(QT_RCC_EXECUTABLE 
-    NAMES rcc
-    PATHS ${QT_BINARY_DIR}
-    NO_DEFAULT_PATH
-    )
-
-  IF (QT_MOC_EXECUTABLE)
-     SET(QT_WRAP_CPP &quot;YES&quot;)
-  ENDIF (QT_MOC_EXECUTABLE)
-
-  IF (QT_UIC_EXECUTABLE)
-     SET(QT_WRAP_UI &quot;YES&quot;)
-  ENDIF (QT_UIC_EXECUTABLE)
-
-
-
-  MARK_AS_ADVANCED( QT_UIC_EXECUTABLE QT_UIC3_EXECUTABLE QT_MOC_EXECUTABLE QT_RCC_EXECUTABLE )
-
-  ######################################
-  #
-  #       Macros for building Qt files
-  #
-  ######################################
-
-  MACRO (QT4_GET_MOC_INC_DIRS _moc_INC_DIRS)
-     SET(${_moc_INC_DIRS})
-     GET_DIRECTORY_PROPERTY(_inc_DIRS INCLUDE_DIRECTORIES)
-
-     FOREACH(_current ${_inc_DIRS})
-        SET(${_moc_INC_DIRS} ${${_moc_INC_DIRS}} &quot;-I&quot; ${_current})
-     ENDFOREACH(_current ${_inc_DIRS})
-  ENDMACRO(QT4_GET_MOC_INC_DIRS)
-
-
-  MACRO (QT4_GENERATE_MOC infile outfile )
-  # get include dirs
-     QT4_GET_MOC_INC_DIRS(moc_includes)
-
-     GET_FILENAME_COMPONENT(infile ${infile} ABSOLUTE)
-
-     ADD_CUSTOM_COMMAND(OUTPUT ${outfile}
-        COMMAND ${QT_MOC_EXECUTABLE}
-        ARGS ${moc_includes} -o ${outfile} ${infile}
-        DEPENDS ${infile})
-
-     MACRO_ADD_FILE_DEPENDENCIES(${infile} ${outfile})
-  ENDMACRO (QT4_GENERATE_MOC)
-
-
-  # QT4_WRAP_CPP(outfiles inputfile ... )
-  # TODO  perhaps add support for -D, -U and other minor options
-
-  MACRO (QT4_WRAP_CPP outfiles )
-    # get include dirs
-    QT4_GET_MOC_INC_DIRS(moc_includes)
-
-    FOREACH (it ${ARGN})
-      GET_FILENAME_COMPONENT(it ${it} ABSOLUTE)
-      GET_FILENAME_COMPONENT(outfile ${it} NAME_WE)
-
-      SET(outfile ${CMAKE_CURRENT_BINARY_DIR}/moc_${outfile}.cxx)
-      ADD_CUSTOM_COMMAND(OUTPUT ${outfile}
-        COMMAND ${QT_MOC_EXECUTABLE}
-        ARGS ${moc_includes} -o ${outfile} ${it}
-        DEPENDS ${it})
-      SET(${outfiles} ${${outfiles}} ${outfile})
-    ENDFOREACH(it)
-
-  ENDMACRO (QT4_WRAP_CPP)
-
-
-  # QT4_WRAP_UI(outfiles inputfile ... )
-
-  MACRO (QT4_WRAP_UI outfiles )
-
-    FOREACH (it ${ARGN})
-      GET_FILENAME_COMPONENT(outfile ${it} NAME_WE)
-      GET_FILENAME_COMPONENT(infile ${it} ABSOLUTE)
-      SET(outfile ${CMAKE_CURRENT_BINARY_DIR}/ui_${outfile}.h)
-      ADD_CUSTOM_COMMAND(OUTPUT ${outfile}
-        COMMAND ${QT_UIC_EXECUTABLE}
-        ARGS -o ${outfile} ${infile}
-        MAIN_DEPENDENCY ${infile})
-      SET(${outfiles} ${${outfiles}} ${outfile})
-    ENDFOREACH (it)
-
-  ENDMACRO (QT4_WRAP_UI)
-
-
-  # QT4_ADD_RESOURCE(outfiles inputfile ... )
-  # TODO  perhaps consider adding support for compression and root options to rcc
-
-  MACRO (QT4_ADD_RESOURCES outfiles )
-
-    FOREACH (it ${ARGN})
-      GET_FILENAME_COMPONENT(outfilename ${it} NAME_WE)
-      GET_FILENAME_COMPONENT(infile ${it} ABSOLUTE)
-      GET_FILENAME_COMPONENT(rc_path ${infile} PATH)
-      SET(outfile ${CMAKE_CURRENT_BINARY_DIR}/qrc_${outfilename}.cxx)
-      #  parse file for dependencies
-      FILE(READ &quot;${infile}&quot; _RC_FILE_CONTENTS)
-      STRING(REGEX MATCHALL &quot;&lt;file&gt;[^&lt;]*&quot; _RC_FILES &quot;${_RC_FILE_CONTENTS}&quot;)
-      SET(_RC_DEPENDS)
-      FOREACH(_RC_FILE ${_RC_FILES})
-        STRING(REGEX REPLACE &quot;^&lt;file&gt;&quot; &quot;&quot; _RC_FILE &quot;${_RC_FILE}&quot;)
-        SET(_RC_DEPENDS ${_RC_DEPENDS} &quot;${rc_path}/${_RC_FILE}&quot;)
-      ENDFOREACH(_RC_FILE)
-      ADD_CUSTOM_COMMAND(OUTPUT ${outfile}
-        COMMAND ${QT_RCC_EXECUTABLE}
-        ARGS -name ${outfilename} -o ${outfile} ${infile}
-        MAIN_DEPENDENCY ${infile}
-        DEPENDS ${_RC_DEPENDS})
-      SET(${outfiles} ${${outfiles}} ${outfile})
-    ENDFOREACH (it)
-
-  ENDMACRO (QT4_ADD_RESOURCES)
-
-
-   MACRO(QT4_AUTOMOC)
-      QT4_GET_MOC_INC_DIRS(_moc_INCS)
-
-      SET(_matching_FILES )
-      FOREACH (_current_FILE ${ARGN})
-
-         GET_FILENAME_COMPONENT(_abs_FILE ${_current_FILE} ABSOLUTE)
-         # if &quot;SKIP_AUTOMOC&quot; is set to true, we will not handle this file here.
-         # here. this is required to make bouic work correctly:
-         # we need to add generated .cpp files to the sources (to compile them),
-         # but we cannot let automoc handle them, as the .cpp files don't exist yet when
-         # cmake is run for the very first time on them -&gt; however the .cpp files might
-         # exist at a later run. at that time we need to skip them, so that we don't add two
-         # different rules for the same moc file
-         GET_SOURCE_FILE_PROPERTY(_skip ${_abs_FILE} SKIP_AUTOMOC)
-
-         IF ( NOT _skip AND EXISTS ${_abs_FILE} )
-
-            FILE(READ ${_abs_FILE} _contents)
-
-            GET_FILENAME_COMPONENT(_abs_PATH ${_abs_FILE} PATH)
-
-            STRING(REGEX MATCHALL &quot;#include +[^ ]+\\.moc[\&quot;&gt;]&quot; _match &quot;${_contents}&quot;)
-            IF(_match)
-               FOREACH (_current_MOC_INC ${_match})
-                  STRING(REGEX MATCH &quot;[^ &lt;\&quot;]+\\.moc&quot; _current_MOC &quot;${_current_MOC_INC}&quot;)
-
-                  GET_filename_component(_basename ${_current_MOC} NAME_WE)
-   #               SET(_header ${CMAKE_CURRENT_SOURCE_DIR}/${_basename}.h)
-                  SET(_header ${_abs_PATH}/${_basename}.h)
-                  SET(_moc    ${CMAKE_CURRENT_BINARY_DIR}/${_current_MOC})
-                  ADD_CUSTOM_COMMAND(OUTPUT ${_moc}
-                     COMMAND ${QT_MOC_EXECUTABLE}
-                     ARGS ${_moc_INCS} ${_header} -o ${_moc}
-                     DEPENDS ${_header}
-                  )
-
-                  MACRO_ADD_FILE_DEPENDENCIES(${_abs_FILE} ${_moc})
-               ENDFOREACH (_current_MOC_INC)
-            ENDIF(_match)
-         ENDIF ( NOT _skip AND EXISTS ${_abs_FILE} )
-      ENDFOREACH (_current_FILE)
-   ENDMACRO(QT4_AUTOMOC)
-
-
-
-  ######################################
-  #
-  #       decide if Qt got found
-  #
-  ######################################
-
-  # if the includes,libraries,moc,uic and rcc are found then we have it
-  IF( QT_LIBRARY_DIR AND QT_INCLUDE_DIR AND QT_MOC_EXECUTABLE AND QT_UIC_EXECUTABLE AND QT_RCC_EXECUTABLE)
-    SET( QT4_FOUND &quot;YES&quot; )
-    IF( NOT Qt4_FIND_QUIETLY)
-      MESSAGE(STATUS &quot;Found Qt-Version ${QTVERSION}&quot;)
-    ENDIF( NOT Qt4_FIND_QUIETLY)
-  ELSE( QT_LIBRARY_DIR AND QT_INCLUDE_DIR AND QT_MOC_EXECUTABLE AND QT_UIC_EXECUTABLE AND QT_RCC_EXECUTABLE)
-    SET( QT4_FOUND &quot;NO&quot;)
-    IF( Qt4_FIND_REQUIRED)
-      MESSAGE( FATAL_ERROR &quot;Qt libraries, includes, moc, uic or/and rcc NOT found!&quot;)
-    ENDIF( Qt4_FIND_REQUIRED)
-  ENDIF( QT_LIBRARY_DIR AND QT_INCLUDE_DIR AND QT_MOC_EXECUTABLE AND QT_UIC_EXECUTABLE AND  QT_RCC_EXECUTABLE)
-  SET(QT_FOUND ${QT4_FOUND})
-
-  #######################################
-  #
-  #       Qt configuration
-  #
-  #######################################
-  IF(EXISTS &quot;${QT_MKSPECS_DIR}/qconfig.pri&quot;)
-    FILE(READ ${QT_MKSPECS_DIR}/qconfig.pri _qconfig_FILE_contents)
-    STRING(REGEX MATCH &quot;QT_CONFIG[^\n]+&quot; QT_QCONFIG ${_qconfig_FILE_contents})
-    STRING(REGEX MATCH &quot;CONFIG[^\n]+&quot; QT_CONFIG ${_qconfig_FILE_contents})
-  ENDIF(EXISTS &quot;${QT_MKSPECS_DIR}/qconfig.pri&quot;)
-
-
-  ###############################################
-  #
-  #       configuration/system dependent settings  
-  #
-  ###############################################
-
-  SET(QT_GUI_LIB_DEPENDENCIES &quot;&quot;)
-  SET(QT_CORE_LIB_DEPENDENCIES &quot;&quot;)
-  
-  # shared build needs -DQT_SHARED
-  IF(NOT QT_CONFIG MATCHES &quot;static&quot;)
-    # warning currently only qconfig.pri on Windows potentially contains &quot;static&quot;
-    # so QT_SHARED might not get defined properly on Mac/X11 (which seems harmless right now)
-    # Trolltech said they'd consider exporting it for all platforms in future releases.
-    SET(QT_DEFINITIONS ${QT_DEFINITIONS} -DQT_SHARED)
-  ENDIF(NOT QT_CONFIG MATCHES &quot;static&quot;)
-  
-  ## system png
-  IF(QT_QCONFIG MATCHES &quot;system-png&quot;)
-    FIND_LIBRARY(QT_PNG_LIBRARY NAMES png)
-    SET(QT_GUI_LIB_DEPENDENCIES ${QT_GUI_LIB_DEPENDENCIES} ${QT_PNG_LIBRARY})
-    MARK_AS_ADVANCED(QT_PNG_LIBRARY)
-  ENDIF(QT_QCONFIG MATCHES &quot;system-png&quot;)
-  
-  # for X11, get X11 library directory
-  IF(Q_WS_X11)
-    QT_QUERY_QMAKE(QMAKE_LIBDIR_X11 &quot;QMAKE_LIBDIR_X11&quot;)
-  ENDIF(Q_WS_X11)
-
-  ## X11 SM
-  IF(QT_QCONFIG MATCHES &quot;x11sm&quot;)
-    # ask qmake where the x11 libs are
-    FIND_LIBRARY(QT_X11_SM_LIBRARY NAMES SM PATHS ${QMAKE_LIBDIR_X11})
-    FIND_LIBRARY(QT_X11_ICE_LIBRARY NAMES ICE PATHS ${QMAKE_LIBDIR_X11})
-    SET(QT_GUI_LIB_DEPENDENCIES ${QT_GUI_LIB_DEPENDENCIES} ${QT_X11_SM_LIBRARY} ${QT_X11_ICE_LIBRARY})
-    MARK_AS_ADVANCED(QT_X11_SM_LIBRARY)
-    MARK_AS_ADVANCED(QT_X11_ICE_LIBRARY)
-  ENDIF(QT_QCONFIG MATCHES &quot;x11sm&quot;)
-  
-  ## Xi
-  IF(QT_QCONFIG MATCHES &quot;tablet&quot;)
-    FIND_LIBRARY(QT_XI_LIBRARY NAMES Xi PATHS ${QMAKE_LIBDIR_X11})
-    SET(QT_GUI_LIB_DEPENDENCIES ${QT_GUI_LIB_DEPENDENCIES} ${QT_XI_LIBRARY})
-    MARK_AS_ADVANCED(QT_XI_LIBRARY)
-  ENDIF(QT_QCONFIG MATCHES &quot;tablet&quot;)
-
-  ## Xrender
-  IF(QT_QCONFIG MATCHES &quot;xrender&quot;)
-    FIND_LIBRARY(QT_XRENDER_LIBRARY NAMES Xrender PATHS ${QMAKE_LIBDIR_X11})
-    SET(QT_GUI_LIB_DEPENDENCIES ${QT_GUI_LIB_DEPENDENCIES} ${QT_XRENDER_LIBRARY})
-    MARK_AS_ADVANCED(QT_XRENDER_LIBRARY)
-  ENDIF(QT_QCONFIG MATCHES &quot;xrender&quot;)
-  
-  ## Xrandr
-  IF(QT_QCONFIG MATCHES &quot;xrandr&quot;)
-    FIND_LIBRARY(QT_XRANDR_LIBRARY NAMES Xrandr PATHS ${QMAKE_LIBDIR_X11})
-    SET(QT_GUI_LIB_DEPENDENCIES ${QT_GUI_LIB_DEPENDENCIES} ${QT_XRANDR_LIBRARY})
-    MARK_AS_ADVANCED(QT_XRANDR_LIBRARY)
-  ENDIF(QT_QCONFIG MATCHES &quot;xrandr&quot;)
-  
-  ## Xcursor
-  IF(QT_QCONFIG MATCHES &quot;xcursor&quot;)
-    FIND_LIBRARY(QT_XCURSOR_LIBRARY NAMES Xcursor PATHS ${QMAKE_LIBDIR_X11})
-    SET(QT_GUI_LIB_DEPENDENCIES ${QT_GUI_LIB_DEPENDENCIES} ${QT_XCURSOR_LIBRARY})
-    MARK_AS_ADVANCED(QT_XCURSOR_LIBRARY)
-  ENDIF(QT_QCONFIG MATCHES &quot;xcursor&quot;)
-  
-  ## Xinerama
-  IF(QT_QCONFIG MATCHES &quot;xinerama&quot;)
-    FIND_LIBRARY(QT_XINERAMA_LIBRARY NAMES Xinerama PATHS ${QMAKE_LIBDIR_X11})
-    SET(QT_GUI_LIB_DEPENDENCIES ${QT_GUI_LIB_DEPENDENCIES} ${QT_XINERAMA_LIBRARY})
-    MARK_AS_ADVANCED(QT_XINERAMA_LIBRARY)
-  ENDIF(QT_QCONFIG MATCHES &quot;xinerama&quot;)
-  
-  ## system-freetype
-  IF(QT_QCONFIG MATCHES &quot;system-freetype&quot;)
-    FIND_LIBRARY(QT_FREETYPE_LIBRARY NAMES freetype)
-    SET(QT_GUI_LIB_DEPENDENCIES ${QT_GUI_LIB_DEPENDENCIES} ${QT_FREETYPE_LIBRARY})
-    MARK_AS_ADVANCED(QT_FREETYPE_LIBRARY)
-  ENDIF(QT_QCONFIG MATCHES &quot;system-freetype&quot;)
-  
-  ## fontconfig
-  IF(QT_QCONFIG MATCHES &quot;fontconfig&quot;)
-    FIND_LIBRARY(QT_FONTCONFIG_LIBRARY NAMES fontconfig)
-    SET(QT_GUI_LIB_DEPENDENCIES ${QT_GUI_LIB_DEPENDENCIES} ${QT_FONTCONFIG_LIBRARY})
-    MARK_AS_ADVANCED(QT_FONTCONFIG_LIBRARY)
-  ENDIF(QT_QCONFIG MATCHES &quot;fontconfig&quot;)
-  
-  ## system-zlib
-  IF(QT_QCONFIG MATCHES &quot;system-zlib&quot;)
-    FIND_LIBRARY(QT_ZLIB_LIBRARY NAMES z)
-    SET(QT_CORE_LIB_DEPENDENCIES ${QT_CORE_LIB_DEPENDENCIES} ${QT_ZLIB_LIBRARY})
-    MARK_AS_ADVANCED(QT_ZLIB_LIBRARY)
-  ENDIF(QT_QCONFIG MATCHES &quot;system-zlib&quot;)
-
-  IF(Q_WS_X11)
-    # X11 libraries Qt absolutely depends on
-    QT_QUERY_QMAKE(QT_LIBS_X11 &quot;QMAKE_LIBS_X11&quot;)
-    SEPARATE_ARGUMENTS(QT_LIBS_X11)
-    FOREACH(QT_X11_LIB ${QT_LIBS_X11})
-      STRING(REGEX REPLACE &quot;-l&quot; &quot;&quot; QT_X11_LIB &quot;${QT_X11_LIB}&quot;)
-      SET(QT_TMP_STR &quot;QT_X11_${QT_X11_LIB}_LIBRARY&quot;)
-      FIND_LIBRARY(${QT_TMP_STR} NAMES &quot;${QT_X11_LIB}&quot; PATHS ${QMAKE_LIBDIR_X11})
-      SET(QT_GUI_LIB_DEPENDENCIES ${QT_GUI_LIB_DEPENDENCIES} ${${QT_TMP_STR}})
-    ENDFOREACH(QT_X11_LIB)
-
-    QT_QUERY_QMAKE(QT_LIBS_THREAD &quot;QMAKE_LIBS_THREAD&quot;)
-    SET(QT_CORE_LIB_DEPENDENCIES ${QT_CORE_LIB_DEPENDENCIES} ${QT_LIBS_THREAD})
-    
-    QT_QUERY_QMAKE(QMAKE_LIBS_DYNLOAD &quot;QMAKE_LIBS_DYNLOAD&quot;)
-    SET (QT_CORE_LIB_DEPENDENCIES ${QT_CORE_LIB_DEPENDENCIES} ${QMAKE_LIBS_DYNLOAD})
-
-  ENDIF(Q_WS_X11)
-
-  IF(Q_WS_WIN)
-    SET(QT_GUI_LIB_DEPENDENCIES ${QT_GUI_LIB_DEPENDENCIES} Imm32 Winmm)
-    SET(QT_CORE_LIB_DEPENDENCIES ${QT_CORE_LIB_DEPENDENCIES} Ws2_32)
-  ENDIF(Q_WS_WIN)
-  
-  IF(Q_WS_MAC)
-    SET(QT_GUI_LIB_DEPENDENCIES ${QT_GUI_LIB_DEPENDENCIES} &quot;-framework Carbon&quot; &quot;-framework QuickTime&quot;)
-    SET(QT_CORE_LIB_DEPENDENCIES ${QT_CORE_LIB_DEPENDENCIES} &quot;-framework ApplicationServices&quot;)
-  ENDIF(Q_WS_MAC)
-
-  #######################################
-  #
-  #       compatibility settings 
-  #
-  #######################################
-  # Backwards compatibility for CMake1.4 and 1.2
-  SET (QT_MOC_EXE ${QT_MOC_EXECUTABLE} )
-  SET (QT_UIC_EXE ${QT_UIC_EXECUTABLE} )
-
-  SET( QT_QT_LIBRARY &quot;&quot;)
-
-ELSE(QT4_QMAKE_FOUND)
-
-   IF(Qt4_FIND_REQUIRED)
-      IF(QT4_INSTALLED_VERSION_TOO_OLD)
-         MESSAGE(FATAL_ERROR &quot;The installed Qt version ${QTVERSION} is too old, at least version ${QT_MIN_VERSION} is required&quot;)
-      ELSE(QT4_INSTALLED_VERSION_TOO_OLD)
-     MESSAGE( FATAL_ERROR &quot;Qt qmake not found!&quot;)
-      ENDIF(QT4_INSTALLED_VERSION_TOO_OLD)
-   ELSE(Qt4_FIND_REQUIRED)
-      IF(QT4_INSTALLED_VERSION_TOO_OLD AND NOT Qt4_FIND_QUIETLY)
-         MESSAGE(STATUS &quot;The installed Qt version ${QTVERSION} is too old, at least version ${QT_MIN_VERSION} is required&quot;)
-      ENDIF(QT4_INSTALLED_VERSION_TOO_OLD AND NOT Qt4_FIND_QUIETLY)
-   ENDIF(Qt4_FIND_REQUIRED)
- 
-ENDIF (QT4_QMAKE_FOUND)
-

Modified: branches/avidemux_2.5_branch_gruntster/cmake/FindSDL.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/FindSDL.cmake	2007-11-27 14:12:27 UTC (rev 3709)
+++ branches/avidemux_2.5_branch_gruntster/cmake/FindSDL.cmake	2007-11-27 16:31:06 UTC (rev 3710)
@@ -1,163 +1,163 @@
-# - Locate the SDL library
-# This module defines
-#  SDL_LIBRARY, the library to link against
-#  SDL_FOUND, if false, do not try to link to SDL
-#  SDL_INCLUDE_DIR, where to find SDL.h
-#
-# Don't forget to include SDLmain.h and SDLmain.m your project for the 
-# OS X framework based version. (Other versions link to -lSDLmain which
-# this module will try to find on your behalf.) Also for OS X, this 
-# module will automatically add the -framework Cocoa on your behalf.
-# $SDLDIR is an environment variable that would
-# correspond to the ./configure --prefix=$SDLDIR
-# used in building SDL.
-# l.e.galup  9-20-02
-#
-# Modified by Eric Wing. 
-# Added new modifications to recognize OS X frameworks and 
-# additional Unix paths (FreeBSD, etc). 
-# Also corrected the header search path to follow &quot;proper&quot; SDL guidelines.
-# Added a search for SDLmain which is needed by some platforms.
-# Added a search for threads which is needed by some platforms.
-# Added needed compile switches for MinGW.
-#
-# On OSX, this will prefer the Framework version (if found) over others.
-# People will have to manually change the cache values of 
-# SDL_LIBRARY to override this selection.
-#
-# Note that the header path has changed from SDL/SDL.h to just SDL.h
-# This needed to change because &quot;proper&quot; SDL convention
-# is #include &quot;SDL.h&quot;, not &lt;SDL/SDL.h&gt;. This is done for portability
-# reasons because not all systems place things in SDL/ (see FreeBSD).
-FIND_PATH(SDL_INCLUDE_DIR SDL.h
-  $ENV{SDLDIR}/include
-  $ENV{SDLDIR}/include/SDL
-  ~/Library/Frameworks/SDL.framework/Headers
-  /Library/Frameworks/SDL.framework/Headers
-  /usr/local/include/SDL
-  /usr/include/SDL
-  /usr/local/include/SDL12
-  /usr/local/include/SDL11 # FreeBSD ports
-  /usr/include/SDL12
-  /usr/include/SDL11
-  /usr/local/include
-  /usr/include
-  /sw/include/SDL # Fink
-  /sw/include
-  /opt/local/include/SDL # DarwinPorts
-  /opt/local/include
-  /opt/csw/include/SDL # Blastwave
-  /opt/csw/include 
-  /opt/include/SDL
-  /opt/include
-  )
-# I'm not sure if I should do a special casing for Apple. It is 
-# unlikely that other Unix systems will find the framework path.
-# But if they do ([Next|Open|GNU]Step?), 
-# do they want the -framework option also?
-IF(${SDL_INCLUDE_DIR} MATCHES &quot;.framework&quot;)
-  # The Cocoa framework must be linked into SDL because SDL is Cocoa based.
-  # Remember that the OS X framework version expects you to drop in
-  # SDLmain.h and SDLmain.m directly into your project.
-  # (Cocoa link moved to bottom of this script.)
-  # SET (SDL_LIBRARY &quot;-framework SDL -framework Cocoa&quot; CACHE STRING &quot;SDL framework for OSX&quot;)
-  # SET(SDL_LIBRARY &quot;-framework SDL&quot; CACHE STRING &quot;SDL framework for OSX&quot;)
-  # Extract the path the framework resides in so we can use it for the -F flag
-  STRING(REGEX REPLACE &quot;(.*)/.*\\.framework/.*&quot; &quot;\\1&quot; SDL_FRAMEWORK_PATH_TEMP ${SDL_INCLUDE_DIR})
-  IF(&quot;${SDL_FRAMEWORK_PATH_TEMP}&quot; STREQUAL &quot;/Library/Frameworks&quot;
-      OR &quot;${SDL_FRAMEWORK_PATH_TEMP}&quot; STREQUAL &quot;/System/Library/Frameworks&quot;
-      )
-    # String is in default search path, don't need to use -F
-    SET(SDL_LIBRARY_TEMP &quot;-framework SDL&quot;)
-  ELSE(&quot;${SDL_FRAMEWORK_PATH_TEMP}&quot; STREQUAL &quot;/Library/Frameworks&quot;
-      OR &quot;${SDL_FRAMEWORK_PATH_TEMP}&quot; STREQUAL &quot;/System/Library/Frameworks&quot;
-      )
-    # String is not /Library/Frameworks, need to use -F
-    SET(SDL_LIBRARY_TEMP &quot;-F${SDL_FRAMEWORK_PATH_TEMP} -framework SDL&quot;)
-  ENDIF(&quot;${SDL_FRAMEWORK_PATH_TEMP}&quot; STREQUAL &quot;/Library/Frameworks&quot;
-    OR &quot;${SDL_FRAMEWORK_PATH_TEMP}&quot; STREQUAL &quot;/System/Library/Frameworks&quot;
-    )
-  # Clear the temp variable so nobody can see it
-  SET(SDL_FRAMEWORK_PATH_TEMP &quot;&quot; CACHE INTERNAL &quot;&quot;)
-
-ELSE(${SDL_INCLUDE_DIR} MATCHES &quot;.framework&quot;)
-  # SDL-1.1 is the name used by FreeBSD ports...
-  # don't confuse it for the version number.
-  FIND_LIBRARY(SDL_LIBRARY_TEMP 
-    NAMES SDL SDL-1.1
-    PATHS
-    $ENV{SDLDIR}/lib
-    /usr/local/lib
-    /usr/lib
-    /sw/lib
-    /opt/local/lib
-    /opt/csw/lib
-    /opt/lib
-    )
-  # Non-OS X framework versions expect you to also dynamically link to 
-  # SDLmain. This is mainly for Windows and OS X. Other platforms 
-  # seem to provide SDLmain for compatibility even though they don't
-  # necessarily need it.
-  FIND_LIBRARY(SDLMAIN_LIBRARY 
-    NAMES SDLmain SDLmain-1.1
-    PATHS
-    $ENV{SDLDIR}/lib
-    /usr/local/lib
-    /usr/lib
-    /sw/lib
-    /opt/local/lib
-    /opt/csw/lib
-    /opt/lib
-    )
-ENDIF(${SDL_INCLUDE_DIR} MATCHES &quot;.framework&quot;)
-
-# SDL may require threads on your system.
-# The Apple build may not need an explicit flag because one of the 
-# frameworks may already provide it. 
-# But for non-OSX systems, I will use the CMake Threads package.
-IF(NOT APPLE)
-  FIND_PACKAGE(Threads)
-ENDIF(NOT APPLE)
-
-# MinGW needs an additional library, mwindows
-# It's total link flags should look like -lmingw32 -lSDLmain -lSDL -lmwindows
-# (Actually on second look, I think it only needs one of the m* libraries.)
-IF(MINGW)
-  SET(MINGW32_LIBRARY mingw32 CACHE STRING &quot;mwindows for MinGW&quot;)
-ENDIF(MINGW)
-
-SET(SDL_FOUND FALSE)
-IF(SDL_LIBRARY_TEMP)
-  # For SDLmain
-  IF(SDLMAIN_LIBRARY)
-    SET(SDL_LIBRARY_TEMP ${SDLMAIN_LIBRARY} ${SDL_LIBRARY_TEMP})
-  ENDIF(SDLMAIN_LIBRARY)
-
-  # For OS X, SDL uses Cocoa as a backend so it must link to Cocoa.
-  # CMake doesn't display the -framework Cocoa string in the UI even 
-  # though it actually is there. I think it has something to do 
-  # with the CACHE STRING. Maybe somebody else knows how to fix this.
-  # The problem is mainly cosmetic, and not a functional issue.
-  IF(APPLE)
-    SET(SDL_LIBRARY_TEMP ${SDL_LIBRARY_TEMP} &quot;-framework Cocoa&quot;)
-  ENDIF(APPLE)
-  
-  # For threads, as mentioned Apple doesn't need this.
-  # In fact, there seems to be a problem if Find the threads package
-  # and try using this line, so I'm just skipping it entirely for OS X.
-  IF(NOT APPLE)
-    SET(SDL_LIBRARY_TEMP ${SDL_LIBRARY_TEMP} ${CMAKE_THREAD_LIBS_INIT})
-  ENDIF(NOT APPLE)
-
-  # For MinGW library
-  IF(MINGW)
-    SET(SDL_LIBRARY_TEMP ${MINGW32_LIBRARY} ${SDL_LIBRARY_TEMP})
-  ENDIF(MINGW)
-
-  # Set the final string here so the GUI reflects the final state.
-  SET(SDL_LIBRARY ${SDL_LIBRARY_TEMP} CACHE STRING &quot;Where the SDL Library can be found&quot;)
-
-  SET(SDL_FOUND TRUE)
-ENDIF(SDL_LIBRARY_TEMP)
-
-MARK_AS_ADVANCED(SDL_LIBRARY_TEMP)
+# - Locate the SDL library
+# This module defines
+#  SDL_LIBRARY, the library to link against
+#  SDL_FOUND, if false, do not try to link to SDL
+#  SDL_INCLUDE_DIR, where to find SDL.h
+#
+# Don't forget to include SDLmain.h and SDLmain.m your project for the 
+# OS X framework based version. (Other versions link to -lSDLmain which
+# this module will try to find on your behalf.) Also for OS X, this 
+# module will automatically add the -framework Cocoa on your behalf.
+# $SDLDIR is an environment variable that would
+# correspond to the ./configure --prefix=$SDLDIR
+# used in building SDL.
+# l.e.galup  9-20-02
+#
+# Modified by Eric Wing. 
+# Added new modifications to recognize OS X frameworks and 
+# additional Unix paths (FreeBSD, etc). 
+# Also corrected the header search path to follow &quot;proper&quot; SDL guidelines.
+# Added a search for SDLmain which is needed by some platforms.
+# Added a search for threads which is needed by some platforms.
+# Added needed compile switches for MinGW.
+#
+# On OSX, this will prefer the Framework version (if found) over others.
+# People will have to manually change the cache values of 
+# SDL_LIBRARY to override this selection.
+#
+# Note that the header path has changed from SDL/SDL.h to just SDL.h
+# This needed to change because &quot;proper&quot; SDL convention
+# is #include &quot;SDL.h&quot;, not &lt;SDL/SDL.h&gt;. This is done for portability
+# reasons because not all systems place things in SDL/ (see FreeBSD).
+FIND_PATH(SDL_INCLUDE_DIR SDL.h
+  $ENV{SDLDIR}/include
+  $ENV{SDLDIR}/include/SDL
+  ~/Library/Frameworks/SDL.framework/Headers
+  /Library/Frameworks/SDL.framework/Headers
+  /usr/local/include/SDL
+  /usr/include/SDL
+  /usr/local/include/SDL12
+  /usr/local/include/SDL11 # FreeBSD ports
+  /usr/include/SDL12
+  /usr/include/SDL11
+  /usr/local/include
+  /usr/include
+  /sw/include/SDL # Fink
+  /sw/include
+  /opt/local/include/SDL # DarwinPorts
+  /opt/local/include
+  /opt/csw/include/SDL # Blastwave
+  /opt/csw/include 
+  /opt/include/SDL
+  /opt/include
+  )
+# I'm not sure if I should do a special casing for Apple. It is 
+# unlikely that other Unix systems will find the framework path.
+# But if they do ([Next|Open|GNU]Step?), 
+# do they want the -framework option also?
+IF(${SDL_INCLUDE_DIR} MATCHES &quot;.framework&quot;)
+  # The Cocoa framework must be linked into SDL because SDL is Cocoa based.
+  # Remember that the OS X framework version expects you to drop in
+  # SDLmain.h and SDLmain.m directly into your project.
+  # (Cocoa link moved to bottom of this script.)
+  # SET (SDL_LIBRARY &quot;-framework SDL -framework Cocoa&quot; CACHE STRING &quot;SDL framework for OSX&quot;)
+  # SET(SDL_LIBRARY &quot;-framework SDL&quot; CACHE STRING &quot;SDL framework for OSX&quot;)
+  # Extract the path the framework resides in so we can use it for the -F flag
+  STRING(REGEX REPLACE &quot;(.*)/.*\\.framework/.*&quot; &quot;\\1&quot; SDL_FRAMEWORK_PATH_TEMP ${SDL_INCLUDE_DIR})
+  IF(&quot;${SDL_FRAMEWORK_PATH_TEMP}&quot; STREQUAL &quot;/Library/Frameworks&quot;
+      OR &quot;${SDL_FRAMEWORK_PATH_TEMP}&quot; STREQUAL &quot;/System/Library/Frameworks&quot;
+      )
+    # String is in default search path, don't need to use -F
+    SET(SDL_LIBRARY_TEMP &quot;-framework SDL&quot;)
+  ELSE(&quot;${SDL_FRAMEWORK_PATH_TEMP}&quot; STREQUAL &quot;/Library/Frameworks&quot;
+      OR &quot;${SDL_FRAMEWORK_PATH_TEMP}&quot; STREQUAL &quot;/System/Library/Frameworks&quot;
+      )
+    # String is not /Library/Frameworks, need to use -F
+    SET(SDL_LIBRARY_TEMP &quot;-F${SDL_FRAMEWORK_PATH_TEMP} -framework SDL&quot;)
+  ENDIF(&quot;${SDL_FRAMEWORK_PATH_TEMP}&quot; STREQUAL &quot;/Library/Frameworks&quot;
+    OR &quot;${SDL_FRAMEWORK_PATH_TEMP}&quot; STREQUAL &quot;/System/Library/Frameworks&quot;
+    )
+  # Clear the temp variable so nobody can see it
+  SET(SDL_FRAMEWORK_PATH_TEMP &quot;&quot; CACHE INTERNAL &quot;&quot;)
+
+ELSE(${SDL_INCLUDE_DIR} MATCHES &quot;.framework&quot;)
+  # SDL-1.1 is the name used by FreeBSD ports...
+  # don't confuse it for the version number.
+  FIND_LIBRARY(SDL_LIBRARY_TEMP 
+    NAMES SDL SDL-1.1
+    PATHS
+    $ENV{SDLDIR}/lib
+    /usr/local/lib
+    /usr/lib
+    /sw/lib
+    /opt/local/lib
+    /opt/csw/lib
+    /opt/lib
+    )
+  # Non-OS X framework versions expect you to also dynamically link to 
+  # SDLmain. This is mainly for Windows and OS X. Other platforms 
+  # seem to provide SDLmain for compatibility even though they don't
+  # necessarily need it.
+  FIND_LIBRARY(SDLMAIN_LIBRARY 
+    NAMES SDLmain SDLmain-1.1
+    PATHS
+    $ENV{SDLDIR}/lib
+    /usr/local/lib
+    /usr/lib
+    /sw/lib
+    /opt/local/lib
+    /opt/csw/lib
+    /opt/lib
+    )
+ENDIF(${SDL_INCLUDE_DIR} MATCHES &quot;.framework&quot;)
+
+# SDL may require threads on your system.
+# The Apple build may not need an explicit flag because one of the 
+# frameworks may already provide it. 
+# But for non-OSX systems, I will use the CMake Threads package.
+IF(NOT APPLE)
+  FIND_PACKAGE(Threads)
+ENDIF(NOT APPLE)
+
+# MinGW needs an additional library, mwindows
+# It's total link flags should look like -lmingw32 -lSDLmain -lSDL -lmwindows
+# (Actually on second look, I think it only needs one of the m* libraries.)
+IF(MINGW)
+  SET(MINGW32_LIBRARY mingw32 CACHE STRING &quot;mwindows for MinGW&quot;)
+ENDIF(MINGW)
+
+SET(SDL_FOUND &quot;NO&quot;)
+IF(SDL_LIBRARY_TEMP)
+  # For SDLmain
+  IF(SDLMAIN_LIBRARY)
+    SET(SDL_LIBRARY_TEMP ${SDLMAIN_LIBRARY} ${SDL_LIBRARY_TEMP})
+  ENDIF(SDLMAIN_LIBRARY)
+
+  # For OS X, SDL uses Cocoa as a backend so it must link to Cocoa.
+  # CMake doesn't display the -framework Cocoa string in the UI even 
+  # though it actually is there. I think it has something to do 
+  # with the CACHE STRING. Maybe somebody else knows how to fix this.
+  # The problem is mainly cosmetic, and not a functional issue.
+  IF(APPLE)
+    SET(SDL_LIBRARY_TEMP ${SDL_LIBRARY_TEMP} &quot;-framework Cocoa&quot;)
+  ENDIF(APPLE)
+  
+  # For threads, as mentioned Apple doesn't need this.
+  # In fact, there seems to be a problem if Find the threads package
+  # and try using this line, so I'm just skipping it entirely for OS X.
+  IF(NOT APPLE)
+    SET(SDL_LIBRARY_TEMP ${SDL_LIBRARY_TEMP} ${CMAKE_THREAD_LIBS_INIT})
+  ENDIF(NOT APPLE)
+
+  # For MinGW library
+  IF(MINGW)
+    SET(SDL_LIBRARY_TEMP ${MINGW32_LIBRARY} ${SDL_LIBRARY_TEMP})
+  ENDIF(MINGW)
+
+  # Set the final string here so the GUI reflects the final state.
+  SET(SDL_LIBRARY ${SDL_LIBRARY_TEMP} CACHE STRING &quot;Where the SDL Library can be found&quot;)
+
+  SET(SDL_FOUND &quot;YES&quot;)
+ENDIF(SDL_LIBRARY_TEMP)
+
+MARK_AS_ADVANCED(SDL_LIBRARY_TEMP)

Deleted: branches/avidemux_2.5_branch_gruntster/cmake/FindX11.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/FindX11.cmake	2007-11-27 14:12:27 UTC (rev 3709)
+++ branches/avidemux_2.5_branch_gruntster/cmake/FindX11.cmake	2007-11-27 16:31:06 UTC (rev 3710)
@@ -1,154 +0,0 @@
-# - Find X11 installation
-# Try to find X11 on UNIX systems. The following values are defined
-#  X11_FOUND        - True if X11 is available
-#  X11_INCLUDE_DIR  - include directories to use X11
-#  X11_LIBRARIES    - link against these to use X11
-
-IF (UNIX)
-  SET(X11_FOUND 0)
-  # X11 is never a framework and some header files may be
-  # found in tcl on the mac
-  SET(CMAKE_FIND_FRAMEWORK_SAVE ${CMAKE_FIND_FRAMEWORK})
-  SET(CMAKE_FIND_FRAMEWORK NEVER)
-  SET(X11_INC_SEARCH_PATH
-    /usr/X11R6/include 
-    /usr/local/include 
-    /usr/include/X11
-    /usr/openwin/include 
-    /usr/openwin/share/include 
-    /opt/graphics/OpenGL/include
-    /usr/include
-  )
-
-  SET(X11_LIB_SEARCH_PATH
-    /usr/X11R6/lib
-    /usr/local/lib 
-    /usr/openwin/lib 
-    /usr/lib 
-  )
-
-  FIND_PATH(X11_X11_INCLUDE_PATH X11/X.h ${X11_INC_SEARCH_PATH})
-  FIND_PATH(X11_Xlib_INCLUDE_PATH X11/Xlib.h ${X11_INC_SEARCH_PATH})
-  FIND_PATH(X11_Xutil_INCLUDE_PATH X11/Xutil.h ${X11_INC_SEARCH_PATH})
-  FIND_LIBRARY(X11_X11_LIB X11 ${X11_LIB_SEARCH_PATH})
-  FIND_LIBRARY(X11_Xext_LIB Xext ${X11_LIB_SEARCH_PATH})
-
-  IF(X11_X11_INCLUDE_PATH)
-    SET(X11_INCLUDE_DIR ${X11_INCLUDE_DIR} ${X11_X11_INCLUDE_PATH})
-  ENDIF(X11_X11_INCLUDE_PATH)
-
-  IF(X11_Xlib_INCLUDE_PATH)
-    SET(X11_INCLUDE_DIR ${X11_INCLUDE_DIR} ${X11_Xlib_INCLUDE_PATH})
-  ENDIF(X11_Xlib_INCLUDE_PATH)
-
-  IF(X11_Xutil_INCLUDE_PATH)
-    SET(X11_INCLUDE_DIR ${X11_INCLUDE_DIR} ${X11_Xutil_INCLUDE_PATH})
-  ENDIF(X11_Xutil_INCLUDE_PATH)
-
-  IF(X11_X11_LIB)
-    SET(X11_LIBRARIES ${X11_LIBRARIES} ${X11_X11_LIB})
-  ENDIF(X11_X11_LIB)
-
-  IF(X11_Xext_LIB)
-    SET(X11_LIBRARIES ${X11_LIBRARIES} ${X11_Xext_LIB})
-  ENDIF(X11_Xext_LIB)
-
-  # Deprecated variable for backwards compatibility with CMake 1.4
-  IF(X11_X11_INCLUDE_PATH)
-    IF(X11_LIBRARIES)
-      SET(X11_FOUND 1)
-    ENDIF(X11_LIBRARIES)
-  ENDIF(X11_X11_INCLUDE_PATH)
-
-  SET(X11_LIBRARY_DIR &quot;&quot;)
-  IF(X11_X11_LIB)
-    GET_FILENAME_COMPONENT(X11_LIBRARY_DIR ${X11_X11_LIB} PATH)
-  ENDIF(X11_X11_LIB)
-
-  IF(X11_FOUND)
-    INCLUDE(CheckFunctionExists)
-    INCLUDE(CheckLibraryExists)
-
-    # Translated from an autoconf-generated configure script.
-    # See libs.m4 in autoconf's m4 directory.
-    IF($ENV{ISC} MATCHES &quot;^yes$&quot;)
-      SET(X11_X_EXTRA_LIBS -lnsl_s -linet)
-    ELSE($ENV{ISC} MATCHES &quot;^yes$&quot;)
-      SET(X11_X_EXTRA_LIBS &quot;&quot;)
-
-      # See if XOpenDisplay in X11 works by itself.
-      CHECK_LIBRARY_EXISTS(&quot;${X11_LIBRARIES}&quot; &quot;XOpenDisplay&quot; &quot;${X11_LIBRARY_DIR}&quot; X11_LIB_X11_SOLO)
-      IF(NOT X11_LIB_X11_SOLO)
-        # Find library needed for dnet_ntoa.
-        CHECK_LIBRARY_EXISTS(&quot;dnet&quot; &quot;dnet_ntoa&quot; &quot;&quot; X11_LIB_DNET_HAS_DNET_NTOA) 
-        IF (X11_LIB_DNET_HAS_DNET_NTOA)
-          SET (X11_X_EXTRA_LIBS ${X11_X_EXTRA_LIBS} -ldnet)
-        ELSE (X11_LIB_DNET_HAS_DNET_NTOA)
-          CHECK_LIBRARY_EXISTS(&quot;dnet_stub&quot; &quot;dnet_ntoa&quot; &quot;&quot; X11_LIB_DNET_STUB_HAS_DNET_NTOA) 
-          IF (X11_LIB_DNET_STUB_HAS_DNET_NTOA)
-            SET (X11_X_EXTRA_LIBS ${X11_X_EXTRA_LIBS} -ldnet_stub)
-          ENDIF (X11_LIB_DNET_STUB_HAS_DNET_NTOA)
-        ENDIF (X11_LIB_DNET_HAS_DNET_NTOA)
-      ENDIF(NOT X11_LIB_X11_SOLO)
-
-      # Find library needed for gethostbyname.
-      CHECK_FUNCTION_EXISTS(&quot;gethostbyname&quot; CMAKE_HAVE_GETHOSTBYNAME)
-      IF(NOT CMAKE_HAVE_GETHOSTBYNAME)
-        CHECK_LIBRARY_EXISTS(&quot;nsl&quot; &quot;gethostbyname&quot; &quot;&quot; CMAKE_LIB_NSL_HAS_GETHOSTBYNAME) 
-        IF (CMAKE_LIB_NSL_HAS_GETHOSTBYNAME)
-          SET (X11_X_EXTRA_LIBS ${X11_X_EXTRA_LIBS} -lnsl)
-        ELSE (CMAKE_LIB_NSL_HAS_GETHOSTBYNAME)
-          CHECK_LIBRARY_EXISTS(&quot;bsd&quot; &quot;gethostbyname&quot; &quot;&quot; CMAKE_LIB_BSD_HAS_GETHOSTBYNAME) 
-          IF (CMAKE_LIB_BSD_HAS_GETHOSTBYNAME)
-            SET (X11_X_EXTRA_LIBS ${X11_X_EXTRA_LIBS} -lbsd)
-          ENDIF (CMAKE_LIB_BSD_HAS_GETHOSTBYNAME)
-        ENDIF (CMAKE_LIB_NSL_HAS_GETHOSTBYNAME)
-      ENDIF(NOT CMAKE_HAVE_GETHOSTBYNAME)
-
-      # Find library needed for connect.
-      CHECK_FUNCTION_EXISTS(&quot;connect&quot; CMAKE_HAVE_CONNECT)
-      IF(NOT CMAKE_HAVE_CONNECT)
-        CHECK_LIBRARY_EXISTS(&quot;socket&quot; &quot;connect&quot; &quot;&quot; CMAKE_LIB_SOCKET_HAS_CONNECT) 
-        IF (CMAKE_LIB_SOCKET_HAS_CONNECT)
-          SET (X11_X_EXTRA_LIBS -lsocket ${X11_X_EXTRA_LIBS})
-        ENDIF (CMAKE_LIB_SOCKET_HAS_CONNECT)
-      ENDIF(NOT CMAKE_HAVE_CONNECT)
-
-      # Find library needed for remove.
-      CHECK_FUNCTION_EXISTS(&quot;remove&quot; CMAKE_HAVE_REMOVE)
-      IF(NOT CMAKE_HAVE_REMOVE)
-        CHECK_LIBRARY_EXISTS(&quot;posix&quot; &quot;remove&quot; &quot;&quot; CMAKE_LIB_POSIX_HAS_REMOVE) 
-        IF (CMAKE_LIB_POSIX_HAS_REMOVE)
-          SET (X11_X_EXTRA_LIBS ${X11_X_EXTRA_LIBS} -lposix)
-        ENDIF (CMAKE_LIB_POSIX_HAS_REMOVE)
-      ENDIF(NOT CMAKE_HAVE_REMOVE)
-
-      # Find library needed for shmat.
-      CHECK_FUNCTION_EXISTS(&quot;shmat&quot; CMAKE_HAVE_SHMAT)
-      IF(NOT CMAKE_HAVE_SHMAT)
-        CHECK_LIBRARY_EXISTS(&quot;ipc&quot; &quot;shmat&quot; &quot;&quot; CMAKE_LIB_IPS_HAS_SHMAT) 
-        IF (CMAKE_LIB_IPS_HAS_SHMAT)
-          SET (X11_X_EXTRA_LIBS ${X11_X_EXTRA_LIBS} -lipc)
-        ENDIF (CMAKE_LIB_IPS_HAS_SHMAT)
-      ENDIF(NOT CMAKE_HAVE_SHMAT)
-    ENDIF($ENV{ISC} MATCHES &quot;^yes$&quot;)
-
-    CHECK_LIBRARY_EXISTS(&quot;ICE&quot; &quot;IceConnectionNumber&quot; &quot;${X11_LIBRARY_DIR}&quot;
-                         CMAKE_LIB_ICE_HAS_ICECONNECTIONNUMBER)
-    IF(CMAKE_LIB_ICE_HAS_ICECONNECTIONNUMBER)
-      SET (X11_X_PRE_LIBS -lSM -lICE)
-    ENDIF(CMAKE_LIB_ICE_HAS_ICECONNECTIONNUMBER)
-    # Build the final list of libraries.
-    SET (X11_LIBRARIES ${X11_X_PRE_LIBS} ${X11_LIBRARIES} ${X11_X_EXTRA_LIBS})
-  ENDIF(X11_FOUND)
-
-  MARK_AS_ADVANCED(
-    X11_X11_INCLUDE_PATH
-    X11_X11_LIB
-    X11_Xext_LIB
-    X11_Xlib_INCLUDE_PATH
-    X11_Xutil_INCLUDE_PATH
-    X11_LIBRARIES
-    )
-  SET(CMAKE_FIND_FRAMEWORK ${CMAKE_FIND_FRAMEWORK_SAVE})
-ENDIF (UNIX)

Deleted: branches/avidemux_2.5_branch_gruntster/cmake/FindZLIB.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/FindZLIB.cmake	2007-11-27 14:12:27 UTC (rev 3709)
+++ branches/avidemux_2.5_branch_gruntster/cmake/FindZLIB.cmake	2007-11-27 16:31:06 UTC (rev 3710)
@@ -1,47 +0,0 @@
-# - Find zlib
-# Find the native ZLIB includes and library
-#
-#  ZLIB_INCLUDE_DIR - where to find zlib.h, etc.
-#  ZLIB_LIBRARIES   - List of libraries when using zlib.
-#  ZLIB_FOUND       - True if zlib found.
-
-
-IF (ZLIB_INCLUDE_DIR)
-  # Already in cache, be silent
-  SET(ZLIB_FIND_QUIETLY TRUE)
-ENDIF (ZLIB_INCLUDE_DIR)
-
-FIND_PATH(ZLIB_INCLUDE_DIR zlib.h
-  /usr/local/include
-  /usr/include
-)
-
-SET(ZLIB_NAMES z zlib zdll)
-FIND_LIBRARY(ZLIB_LIBRARY
-  NAMES ${ZLIB_NAMES}
-  PATHS /usr/lib /usr/local/lib
-)
-
-IF (ZLIB_INCLUDE_DIR AND ZLIB_LIBRARY)
-   SET(ZLIB_FOUND TRUE)
-    SET( ZLIB_LIBRARIES ${ZLIB_LIBRARY} )
-ELSE (ZLIB_INCLUDE_DIR AND ZLIB_LIBRARY)
-   SET(ZLIB_FOUND FALSE)
-   SET( ZLIB_LIBRARIES )
-ENDIF (ZLIB_INCLUDE_DIR AND ZLIB_LIBRARY)
-
-IF (ZLIB_FOUND)
-   IF (NOT ZLIB_FIND_QUIETLY)
-      MESSAGE(STATUS &quot;Found ZLIB: ${ZLIB_LIBRARY}&quot;)
-   ENDIF (NOT ZLIB_FIND_QUIETLY)
-ELSE (ZLIB_FOUND)
-   IF (ZLIB_FIND_REQUIRED)
-      MESSAGE(STATUS &quot;Looked for Z libraries named ${ZLIBS_NAMES}.&quot;)
-      MESSAGE(FATAL_ERROR &quot;Could NOT find z library&quot;)
-   ENDIF (ZLIB_FIND_REQUIRED)
-ENDIF (ZLIB_FOUND)
-
-MARK_AS_ADVANCED(
-  ZLIB_LIBRARY
-  ZLIB_INCLUDE_DIR
-  )


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000977.html">[Avidemux-svn-commit] r3709 - in	branches/avidemux_2.5_branch_gruntster: avidemux cmake
</A></li>
	<LI>Next message: <A HREF="000979.html">[Avidemux-svn-commit] r3711 - in	branches/avidemux_2.5_branch_gruntster:	avidemux/ADM_libraries/ADM_libwrapper cmake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#978">[ date ]</a>
              <a href="thread.html#978">[ thread ]</a>
              <a href="subject.html#978">[ subject ]</a>
              <a href="author.html#978">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
