<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r4093 - in	branches/avidemux_2.5_branch_gruntster: .	avidemux/ADM_UIs/ADM_CLI/src avidemux/ADM_UIs/ADM_GTK/src	avidemux/ADM_UIs/ADM_QT4/src avidemux/ADM_core/src	avidemux/ADM_coreImage/src avidemux/ADM_coreUI/src	avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec	avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavformat	avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavutil	avidemux/ADM_libraries/ADM_ffmpeg/ADM_libpostproc	avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale	avidemux/ADM_libraries/ADM_smjs	avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog	avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog	avidemux/ADM_userInterfaces/ADM_render cmake plugins	plugins/ADM_videoFilters/Ass plugins/ADM_videoFilters/Ass/ADM_libass	plugins/ADM_videoFilters/ForcedPP plugins/ADM_videoFilters/Srt	plugins/ADM_videoFilters/lavDeinterlace
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4093%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster%3A%20.%0A%09avidemux/ADM_UIs/ADM_CLI/src%20avidemux/ADM_UIs/ADM_GTK/src%0A%09avidemux/ADM_UIs/ADM_QT4/src%20avidemux/ADM_core/src%0A%09avidemux/ADM_coreImage/src%20avidemux/ADM_coreUI/src%0A%09avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec%0A%09avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavformat%0A%09avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavutil%0A%09avidemux/ADM_libraries/ADM_ffmpeg/ADM_libpostproc%0A%09avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale%0A%09avidemux/ADM_libraries/ADM_smjs%0A%09avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog%0A%09avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog%0A%09avidemux/ADM_userInterfaces/ADM_render%20cmake%20plugins%0A%09plugins/ADM_videoFilters/Ass%20plugins/ADM_videoFilters/Ass/ADM_libass%0A%09plugins/ADM_videoFilters/ForcedPP%20plugins/ADM_videoFilters/Srt%0A%09plugins/ADM_videoFilters/lavDeinterlace&In-Reply-To=%3C200806110033.m5B0XaCF015167%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001348.html">
   <LINK REL="Next"  HREF="001350.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r4093 - in	branches/avidemux_2.5_branch_gruntster: .	avidemux/ADM_UIs/ADM_CLI/src avidemux/ADM_UIs/ADM_GTK/src	avidemux/ADM_UIs/ADM_QT4/src avidemux/ADM_core/src	avidemux/ADM_coreImage/src avidemux/ADM_coreUI/src	avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec	avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavformat	avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavutil	avidemux/ADM_libraries/ADM_ffmpeg/ADM_libpostproc	avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale	avidemux/ADM_libraries/ADM_smjs	avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog	avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog	avidemux/ADM_userInterfaces/ADM_render cmake plugins	plugins/ADM_videoFilters/Ass plugins/ADM_videoFilters/Ass/ADM_libass	plugins/ADM_videoFilters/ForcedPP plugins/ADM_videoFilters/Srt	plugins/ADM_videoFilters/lavDeinterlace</H1>
    <B>gruntster at mail.berlios.de</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4093%20-%20in%0A%09branches/avidemux_2.5_branch_gruntster%3A%20.%0A%09avidemux/ADM_UIs/ADM_CLI/src%20avidemux/ADM_UIs/ADM_GTK/src%0A%09avidemux/ADM_UIs/ADM_QT4/src%20avidemux/ADM_core/src%0A%09avidemux/ADM_coreImage/src%20avidemux/ADM_coreUI/src%0A%09avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec%0A%09avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavformat%0A%09avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavutil%0A%09avidemux/ADM_libraries/ADM_ffmpeg/ADM_libpostproc%0A%09avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale%0A%09avidemux/ADM_libraries/ADM_smjs%0A%09avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog%0A%09avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog%0A%09avidemux/ADM_userInterfaces/ADM_render%20cmake%20plugins%0A%09plugins/ADM_videoFilters/Ass%20plugins/ADM_videoFilters/Ass/ADM_libass%0A%09plugins/ADM_videoFilters/ForcedPP%20plugins/ADM_videoFilters/Srt%0A%09plugins/ADM_videoFilters/lavDeinterlace&In-Reply-To=%3C200806110033.m5B0XaCF015167%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r4093 - in	branches/avidemux_2.5_branch_gruntster: .	avidemux/ADM_UIs/ADM_CLI/src avidemux/ADM_UIs/ADM_GTK/src	avidemux/ADM_UIs/ADM_QT4/src avidemux/ADM_core/src	avidemux/ADM_coreImage/src avidemux/ADM_coreUI/src	avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec	avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavformat	avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavutil	avidemux/ADM_libraries/ADM_ffmpeg/ADM_libpostproc	avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale	avidemux/ADM_libraries/ADM_smjs	avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog	avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog	avidemux/ADM_userInterfaces/ADM_render cmake plugins	plugins/ADM_videoFilters/Ass plugins/ADM_videoFilters/Ass/ADM_libass	plugins/ADM_videoFilters/ForcedPP plugins/ADM_videoFilters/Srt	plugins/ADM_videoFilters/lavDeinterlace">gruntster at mail.berlios.de
       </A><BR>
    <I>Wed Jun 11 02:33:36 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001348.html">[Avidemux-svn-commit] r4092 - in	branches/avidemux_2.5_branch_gruntster: avidemux cmake
</A></li>
        <LI>Next message: <A HREF="001350.html">[Avidemux-svn-commit] r4094 - in	branches/avidemux_2.5_branch_gruntster: avidemux	avidemux/ADM_codecs avidemux/ADM_editor avidemux/ADM_ocr	avidemux/ADM_outputs avidemux/ADM_outputs/oplug_flv	avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog	avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui	avidemux/ADM_userInterfaces/ADM_commonUI avidemux/winInstaller po
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1349">[ date ]</a>
              <a href="thread.html#1349">[ thread ]</a>
              <a href="subject.html#1349">[ subject ]</a>
              <a href="author.html#1349">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: gruntster
Date: 2008-06-11 02:33:07 +0200 (Wed, 11 Jun 2008)
New Revision: 4093

Added:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_CLI/src/DIA_none.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/DIA_none.cpp
   branches/avidemux_2.5_branch_gruntster/cmake/admCheckFontConfig.cmake
   branches/avidemux_2.5_branch_gruntster/cmake/admPluginConfigSummary.cmake
Modified:
   branches/avidemux_2.5_branch_gruntster/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_CLI/src/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreImage/src/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavformat/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavutil/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libpostproc/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_smjs/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_render/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/cmake/admCheckMiscLibs.cmake
   branches/avidemux_2.5_branch_gruntster/cmake/admCheckX264.cmake
   branches/avidemux_2.5_branch_gruntster/cmake/admConfigSummary.cmake
   branches/avidemux_2.5_branch_gruntster/cmake/admPluginVideoEncoder.cmake
   branches/avidemux_2.5_branch_gruntster/cmake/config.h.cmake
   branches/avidemux_2.5_branch_gruntster/cmake/vf_plugin_qt4.cmake
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Ass/ADM_libass/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Ass/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ForcedPP/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Srt/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/lavDeinterlace/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/plugins/CMakeLists.txt
Log:
[CMake] fixes for Win32

Modified: branches/avidemux_2.5_branch_gruntster/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -1,5 +1,3 @@
-
-PROJECT(&quot;Avidemux_2.5&quot;)
 MESSAGE(&quot;#####################################&quot;)
 MESSAGE(&quot;Configure Started&quot;)
 MESSAGE(&quot;#####################################&quot;)
@@ -7,9 +5,6 @@
 
 CMAKE_MINIMUM_REQUIRED(VERSION 2.4.7 FATAL_ERROR)
 
-#need for shared cmake script between avidemux &amp; plugins
-SET(AVIDEMUX_SOURCE_DIR ${CMAKE_SOURCE_DIR})
-MESSAGE(STATUS &quot;Source dir is ${AVIDEMUX_SOURCE_DIR}&quot;)
 if (COMMAND cmake_policy)
 	cmake_policy(VERSION 2.4)
 	cmake_policy(SET CMP0003 NEW)
@@ -21,7 +16,13 @@
 	SET(FRESH_BUILD 1)
 ENDIF (NOT CMAKE_CXX_COMPILER_WORKS MATCHES &quot;^${CMAKE_CXX_COMPILER_WORKS}$&quot;)
 
+# need for shared cmake script between avidemux &amp; plugins
+SET(AVIDEMUX_SOURCE_DIR ${CMAKE_SOURCE_DIR})
+MESSAGE(STATUS &quot;Source dir is ${AVIDEMUX_SOURCE_DIR}&quot;)
+MESSAGE(&quot;&quot;)
 
+PROJECT(Avidemux)
+
 IF (${Avidemux_SOURCE_DIR} MATCHES ${Avidemux_BINARY_DIR})
 	MESSAGE(&quot;Please do an out-of-tree build:&quot;)
 	MESSAGE(&quot;rm CMakeCache.txt; mkdir build; cd build; cmake ..; make&quot;)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_CLI/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_CLI/src/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_CLI/src/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -1,11 +1,12 @@
 SET(ADM_LIB ADM_UICli)
 
 SET(${ADM_LIB}_SRCS 
-	DIA_dialogFactory.cpp  
-        FAC_toggle.cpp
-        DIA_flyDialogCli.cpp
+	DIA_dialogFactory.cpp
+	FAC_toggle.cpp
+	DIA_flyDialogCli.cpp
+	DIA_none.cpp
 )
 INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/../include)
 ADD_LIBRARY(${ADM_LIB}  SHARED ${${ADM_LIB}_SRCS})
 ADD_SOURCE_CFLAGS(DIA_flyDialogCli.cpp &quot; -DADM_UI_TYPE_BUILD=1&quot;)
-INSTALL(TARGETS ${ADM_LIB} RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
+INSTALL(TARGETS ${ADM_LIB} RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib  ARCHIVE DESTINATION lib)

Added: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_CLI/src/DIA_none.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_CLI/src/DIA_none.cpp	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_CLI/src/DIA_none.cpp	2008-06-11 00:33:07 UTC (rev 4093)
@@ -0,0 +1,3 @@
+#include &quot;ADM_inttype.h&quot;
+
+int DIA_colorSel(uint8_t *r, uint8_t *g, uint8_t *b) {return 0;}

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -29,4 +29,4 @@
 TARGET_LINK_LIBRARIES(${ADM_LIB} ${GTK_LDFLAGS} ADM_core ADM_coreUI ADM_render_gtk)
 ADD_TARGET_CFLAGS(${ADM_LIB} ${GTK_CFLAGS})
 ADD_SOURCE_CFLAGS(DIA_flyDialogGtk.cpp &quot; -DADM_UI_TYPE_BUILD=2&quot;)
-INSTALL(TARGETS ${ADM_LIB} RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
+INSTALL(TARGETS ${ADM_LIB} RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib  ARCHIVE DESTINATION lib)
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -13,7 +13,7 @@
 SET(${ADM_LIB}_SRCS
 	FAC_bar.cpp    FAC_frame.cpp  FAC_integer.cpp  FAC_notch.cpp
 	FAC_float.cpp  FAC_hex.cpp    FAC_readOnlyText.cpp
-	FAC_matrix.cpp  ${${ADM_LIB}_source}  ${${ADM_LIB}_T})
+	FAC_matrix.cpp  DIA_none.cpp  ${${ADM_LIB}_source}  ${${ADM_LIB}_T})
 
 INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR} ${QT_INCLUDE_DIR})
 INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/../include)
@@ -21,4 +21,4 @@
 ADD_SOURCE_CFLAGS(T_flyDialogQt4.cpp &quot; -DADM_UI_TYPE_BUILD=4&quot;)
 ADD_SOURCE_CFLAGS(T_QCanvas.cpp &quot; -DADM_UI_TYPE_BUILD=4&quot;)
 TARGET_LINK_LIBRARIES(${ADM_LIB} ADM_core ADM_coreUI ${QT_QTGUI_LIBRARY} ${QT_QTCORE_LIBRARY} ADM_render_qt4)
-INSTALL(TARGETS ${ADM_LIB} RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
+INSTALL(TARGETS ${ADM_LIB} RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib  ARCHIVE DESTINATION lib)

Added: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/DIA_none.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/DIA_none.cpp	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/DIA_none.cpp	2008-06-11 00:33:07 UTC (rev 4093)
@@ -0,0 +1,3 @@
+#include &quot;ADM_inttype.h&quot;
+
+int DIA_colorSel(uint8_t *r, uint8_t *g, uint8_t *b) {return 0;}

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -14,4 +14,4 @@
 
 REMOVE_DEFINITIONS(-DHAVE_CONFIG_H)
 
-INSTALL(TARGETS ADM_core RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
\ No newline at end of file
+INSTALL(TARGETS ADM_core RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib  ARCHIVE DESTINATION lib)
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreImage/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreImage/src/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreImage/src/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -26,4 +26,4 @@
 ENDIF (APPLE)
 
 TARGET_LINK_LIBRARIES(ADM_coreImage ADM_core ADM_coreUI ADM_libswscale ADM_libpostproc)
-INSTALL(TARGETS ADM_coreImage RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
+INSTALL(TARGETS ADM_coreImage RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib  ARCHIVE DESTINATION lib)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreUI/src/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -7,4 +7,4 @@
 ADD_LIBRARY(ADM_coreUI SHARED ${ADM_coreUI_SRCS})
 TARGET_LINK_LIBRARIES(ADM_coreUI ADM_core)
 
-INSTALL(TARGETS ADM_coreUI RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
+INSTALL(TARGETS ADM_coreUI RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib  ARCHIVE DESTINATION lib)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -48,4 +48,4 @@
 
 TARGET_LINK_LIBRARIES(${ADM_LIB} ADM_core ADM_libavutil ${ZLIB_LIBRARY})
 
-INSTALL(TARGETS ${ADM_LIB} RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
+INSTALL(TARGETS ${ADM_LIB} RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib  ARCHIVE DESTINATION lib)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavformat/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavformat/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavformat/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -9,4 +9,4 @@
 ADD_LIBRARY(${ADM_LIB} SHARED ${${ADM_LIB}_SRCS})
 TARGET_LINK_LIBRARIES(${ADM_LIB} ADM_core ADM_libavutil ADM_libavcodec)
 
-INSTALL(TARGETS ${ADM_LIB} RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
+INSTALL(TARGETS ${ADM_LIB} RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib  ARCHIVE DESTINATION lib)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavutil/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavutil/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavutil/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -25,4 +25,4 @@
 ADD_LIBRARY(${ADM_LIB} SHARED ${${ADM_LIB}_SRCS})
 TARGET_LINK_LIBRARIES(${ADM_LIB} ADM_core)
 
-INSTALL(TARGETS ${ADM_LIB} RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
+INSTALL(TARGETS ${ADM_LIB} RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib  ARCHIVE DESTINATION lib)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libpostproc/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libpostproc/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libpostproc/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -10,4 +10,4 @@
 
 TARGET_LINK_LIBRARIES(${ADM_LIB} ADM_core ADM_libavutil)
 
-INSTALL(TARGETS ${ADM_LIB} RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
+INSTALL(TARGETS ${ADM_LIB} RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib  ARCHIVE DESTINATION lib)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -13,4 +13,4 @@
 
 TARGET_LINK_LIBRARIES(${ADM_LIB} ADM_core ADM_libavutil)
 
-INSTALL(TARGETS ${ADM_LIB} RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
+INSTALL(TARGETS ${ADM_LIB} RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib  ARCHIVE DESTINATION lib)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_smjs/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_smjs/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_smjs/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -21,4 +21,4 @@
 
 TARGET_LINK_LIBRARIES(${ADM_LIB} ADM_core)
 
-INSTALL(TARGETS ${ADM_LIB} RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
\ No newline at end of file
+INSTALL(TARGETS ${ADM_LIB} RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib  ARCHIVE DESTINATION lib)
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2008-06-11 00:33:07 UTC (rev 4093)
@@ -87,7 +87,6 @@
 uint8_t DIA_audioCodec( AUDIOENCODER *codec ) {return 0;}
 uint8_t DIA_dnr(uint32_t *llock,uint32_t *lthresh, uint32_t *clock,
 			uint32_t *cthresh, uint32_t *scene) {return 0;}
-int DIA_colorSel(uint8_t *r, uint8_t *g, uint8_t *b) {return 0;}			
 uint8_t DIA_glyphEdit(void) {return 0;}
 struct THRESHOLD_PARAM;
 struct ADMVideoThreshold;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2008-06-11 00:33:07 UTC (rev 4093)
@@ -39,7 +39,6 @@
 void    DIA_Calculator(uint32_t *sizeInMeg, uint32_t *avgBitrate ){}
 uint8_t initGUI( void ) {return 1;}
 void destroyGUI(void) {}
-int DIA_colorSel(uint8_t *r, uint8_t *g, uint8_t *b) {return 0;}
 uint8_t DIA_glyphEdit(void){ return 0;};
 int32_t UI_readJog(void) {return 0;}
 struct THRESHOLD_PARAM;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_render/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_render/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_render/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -1,41 +1,41 @@
-SET(ADM_LIB ADM_render)
-
-SET(${ADM_LIB}_SRCS
-GUI_render.cpp
-GUI_sdlRender.cpp
-GUI_xvRender.cpp
-)
-
-IF (APPLE)
-	SET(${ADM_LIB}_SRCS ${${ADM_LIB}_SRCS} GUI_sdlRenderHelper.m)
-ENDIF (APPLE)
-
-ADD_ADM_SHARED_LIB_ALL_TARGETS(${ADM_LIB} ${${ADM_LIB}_SRCS})
-SDLify(GUI_sdlRender.cpp)
-ADM_TARGET_LINK_LIBARIES_ALL_TARGET(${ADM_LIB} ADM_core ADM_coreUI ADM_coreImage)
-
-IF (ADM_UI_GTK)
-	IF (GETTEXT_FOUND)
-		TARGET_LINK_LIBRARIES(${ADM_LIB}_gtk ${GETTEXT_LIBRARY_DIR})
-	ENDIF (GETTEXT_FOUND)
-
+SET(ADM_LIB ADM_render)
+
+SET(${ADM_LIB}_SRCS
+GUI_render.cpp
+GUI_sdlRender.cpp
+GUI_xvRender.cpp
+)
+
+IF (APPLE)
+	SET(${ADM_LIB}_SRCS ${${ADM_LIB}_SRCS} GUI_sdlRenderHelper.m)
+ENDIF (APPLE)
+
+ADD_ADM_SHARED_LIB_ALL_TARGETS(${ADM_LIB} ${${ADM_LIB}_SRCS})
+SDLify(GUI_sdlRender.cpp)
+ADM_TARGET_LINK_LIBARIES_ALL_TARGET(${ADM_LIB} ADM_core ADM_coreUI ADM_coreImage)
+
+IF (ADM_UI_GTK)
+	IF (GETTEXT_FOUND)
+		TARGET_LINK_LIBRARIES(${ADM_LIB}_gtk ${GETTEXT_LIBRARY_DIR})
+	ENDIF (GETTEXT_FOUND)
+
 	IF (USE_SDL)
 		TARGET_LINK_LIBRARIES(${ADM_LIB}_gtk ${SDL_LIBRARY})
-	ENDIF (USE_SDL)
-
-	INSTALL(TARGETS ${ADM_LIB}_gtk RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
-ENDIF (ADM_UI_GTK)
-
-IF (ADM_UI_QT4)
+	ENDIF (USE_SDL)
+
+	INSTALL(TARGETS ${ADM_LIB}_gtk RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib  ARCHIVE DESTINATION lib)
+ENDIF (ADM_UI_GTK)
+
+IF (ADM_UI_QT4)
 	IF (USE_SDL)
 		TARGET_LINK_LIBRARIES(${ADM_LIB}_qt4 ${SDL_LIBRARY})
-	ENDIF (USE_SDL)
-
-	INSTALL(TARGETS ${ADM_LIB}_qt4 RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
-ENDIF (ADM_UI_QT4)
-
-IF (GETTEXT_FOUND)
-	TARGET_LINK_LIBRARIES(${ADM_LIB}_cli ${GETTEXT_LIBRARY_DIR})
-ENDIF (GETTEXT_FOUND)
-
-INSTALL(TARGETS ${ADM_LIB}_cli RUNTIME DESTINATION ${BIN_DIR} LIBRARY DESTINATION lib)
\ No newline at end of file
+	ENDIF (USE_SDL)
+
+	INSTALL(TARGETS ${ADM_LIB}_qt4 RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib  ARCHIVE DESTINATION lib)
+ENDIF (ADM_UI_QT4)
+
+IF (GETTEXT_FOUND)
+	TARGET_LINK_LIBRARIES(${ADM_LIB}_cli ${GETTEXT_LIBRARY_DIR})
+ENDIF (GETTEXT_FOUND)
+
+INSTALL(TARGETS ${ADM_LIB}_cli RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib  ARCHIVE DESTINATION lib)
\ No newline at end of file

Added: branches/avidemux_2.5_branch_gruntster/cmake/admCheckFontConfig.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/admCheckFontConfig.cmake	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/cmake/admCheckFontConfig.cmake	2008-06-11 00:33:07 UTC (rev 4093)
@@ -0,0 +1,24 @@
+MACRO(checkFontConfig)
+	IF (NOT FONTCONFIG_CHECKED)
+		OPTION(FONTCONFIG &quot;&quot; ON)
+
+		MESSAGE(STATUS &quot;Checking for FontConfig&quot;)
+		MESSAGE(STATUS &quot;***********************&quot;)
+
+		IF (FONTCONFIG)
+			PKG_CHECK_MODULES(FONTCONFIG fontconfig)
+			PRINT_LIBRARY_INFO(&quot;FontConfig&quot; FONTCONFIG_FOUND &quot;${FONTCONFIG_CFLAGS}&quot; &quot;${FONTCONFIG_LDFLAGS}&quot;)
+
+			IF (FONTCONFIG_FOUND)
+				SET(HAVE_FONTCONFIG 1)
+			ENDIF (FONTCONFIG_FOUND)
+		ELSE (FONTCONFIG)
+			MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
+		ENDIF (FONTCONFIG)
+
+		SET(ENV{ADM_HAVE_FONTCONFIG} ${FONTCONFIG_FOUND})
+		SET(FONTCONFIG_CHECKED 1)
+
+		MESSAGE(&quot;&quot;)
+	ENDIF (NOT FONTCONFIG_CHECKED)
+ENDMACRO(checkFontConfig)
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/cmake/admCheckMiscLibs.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/admCheckMiscLibs.cmake	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/cmake/admCheckMiscLibs.cmake	2008-06-11 00:33:07 UTC (rev 4093)
@@ -1,27 +1,4 @@
 ########################################
-# FontConfig
-########################################
-#OPTION(FONTCONFIG &quot;&quot; ON)
-
-#MESSAGE(STATUS &quot;Checking for FontConfig&quot;)
-#MESSAGE(STATUS &quot;***********************&quot;)
-
-#IF (FONTCONFIG)
-	#PKG_CHECK_MODULES(FONTCONFIG fontconfig)
-	#PRINT_LIBRARY_INFO(&quot;FontConfig&quot; FONTCONFIG_FOUND &quot;${FONTCONFIG_CFLAGS}&quot; &quot;${FONTCONFIG_LDFLAGS}&quot;)
-
-	#IF (FONTCONFIG_FOUND)
-		#SET(HAVE_FONTCONFIG 1)
-		#SET(USE_FONTCONFIG 1)
-	#ENDIF (FONTCONFIG_FOUND)
-#ELSE (FONTCONFIG)
-	#MESSAGE(&quot;${MSG_DISABLE_OPTION}&quot;)
-#ENDIF (FONTCONFIG)
-
-MESSAGE(&quot;&quot;)
-
-
-########################################
 # gettext
 ########################################
 INCLUDE(admCheckGettext)

Modified: branches/avidemux_2.5_branch_gruntster/cmake/admCheckX264.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/admCheckX264.cmake	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/cmake/admCheckX264.cmake	2008-06-11 00:33:07 UTC (rev 4093)
@@ -13,10 +13,10 @@
 				FILE(READ ${X264_INCLUDE_DIR}/x264.h X264_H)
 				STRING(REGEX MATCH &quot;#define[ ]+X264_BUILD[ ]+([0-9]+)&quot; X264_H &quot;${X264_H}&quot;)
 				STRING(REGEX REPLACE &quot;.*[ ]([0-9]+).*&quot; &quot;\\1&quot; x264_version &quot;${X264_H}&quot;)
-				MESSAGE(STATUS &quot;  build version: ${x264_version}&quot;)
+				MESSAGE(STATUS &quot;  core version: ${x264_version}&quot;)
 				
 				IF (x264_version LESS 54)
-					MESSAGE(&quot;WARNING: x264 build version too old.  At least version 54 is required.&quot;)
+					MESSAGE(&quot;WARNING: x264 core version is too old.  At least version 54 is required.&quot;)
 					SET(X264_FOUND 0)
 				ENDIF (x264_version LESS 54)
 			ENDIF (X264_FOUND)
@@ -29,4 +29,4 @@
 
 		MESSAGE(&quot;&quot;)
 	ENDIF (NOT X264_CHECKED)
-ENDMACRO(checkX264)
\ No newline at end of file
+ENDMACRO(checkX264)

Modified: branches/avidemux_2.5_branch_gruntster/cmake/admConfigSummary.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/admConfigSummary.cmake	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/cmake/admConfigSummary.cmake	2008-06-11 00:33:07 UTC (rev 4093)
@@ -24,16 +24,12 @@
 ADM_DISPLAY(&quot;Qt 4      &quot; &quot;${ADM_UI_QT4}&quot;)
 
 MESSAGE(&quot;***  Video Codec  ***&quot;)
-ADM_DISPLAY(&quot;x264      &quot; &quot;$ENV{ADM_HAVE_X264}&quot;)
 ADM_DISPLAY(&quot;Xvid      &quot; &quot;${USE_XVID_4}&quot;)
 
 MESSAGE(&quot;***  Audio Codec  ***&quot;)
 ADM_DISPLAY(&quot;Aften     &quot; &quot;${USE_AFTEN}&quot;)
-ADM_DISPLAY(&quot;amrnb     &quot; &quot;$ENV{ADM_HAVE_AMRNB}&quot;)
 ADM_DISPLAY(&quot;LAME      &quot; &quot;${HAVE_LIBMP3LAME}&quot;)
 ADM_DISPLAY(&quot;FAAC      &quot; &quot;${USE_FAAC}&quot;)
-ADM_DISPLAY(&quot;FAAD      &quot; &quot;$ENV{ADM_HAVE_FAAD}&quot;)
-ADM_DISPLAY(&quot;libdca    &quot; &quot;$ENV{ADM_HAVE_LIBDCA}&quot;)
 ADM_DISPLAY(&quot;Vorbis    &quot; &quot;${USE_VORBIS}&quot;)
 
 MESSAGE(&quot;*** Audio Device  ***&quot;)
@@ -44,9 +40,11 @@
 ADM_DISPLAY(&quot;OSS       &quot; &quot;${OSS_SUPPORT}&quot; &quot;${OSS_CAPABLE}&quot;)
 ADM_DISPLAY(&quot;SRC       &quot; &quot;${USE_SRC}&quot; &quot;${JACK_CAPABLE}&quot;)
 
+IF (WIN32)
+	ADM_DISPLAY(&quot;Win32     &quot; 1)
+ENDIF (WIN32)
+
 MESSAGE(&quot;*** Miscellaneous ***&quot;)
-ADM_DISPLAY(&quot;FontConfig&quot; &quot;${USE_FONTCONFIG}&quot;)
-ADM_DISPLAY(&quot;FreeType2 &quot; &quot;${FREETYPE2_FOUND}&quot;)
 ADM_DISPLAY(&quot;gettext   &quot; &quot;${HAVE_GETTEXT}&quot;)
 ADM_DISPLAY(&quot;SDL       &quot; &quot;${USE_SDL}&quot;)
 ADM_DISPLAY(&quot;XVideo    &quot; &quot;${USE_XV}&quot; &quot;${XVIDEO_CAPABLE}&quot;)

Added: branches/avidemux_2.5_branch_gruntster/cmake/admPluginConfigSummary.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/admPluginConfigSummary.cmake	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/cmake/admPluginConfigSummary.cmake	2008-06-11 00:33:07 UTC (rev 4093)
@@ -0,0 +1,44 @@
+# ARGV2 - capable flag
+MACRO(ADM_DISPLAY _name)
+	SET(PROCEED 1)
+
+	IF (NOT ${ARGV2})
+		SET(PROCEED 0)
+	ENDIF (NOT ${ARGV2})
+
+	IF (${PROCEED})
+		IF (${ARGV1})
+			SET(s &quot;Yes&quot;)
+		ELSE (${ARGV1})
+			SET(s &quot;No&quot;)
+		ENDIF (${ARGV1})
+
+		MESSAGE(&quot;   ${_name}  ${s}&quot;)
+	ENDIF (${PROCEED})
+ENDMACRO(ADM_DISPLAY)
+
+MESSAGE(&quot;*********************&quot;)
+MESSAGE(&quot;***    SUMMARY    ***&quot;)
+MESSAGE(&quot;*********************&quot;)
+MESSAGE(&quot;***  Video Codec  ***&quot;)
+ADM_DISPLAY(&quot;x264      &quot; &quot;$ENV{ADM_HAVE_X264}&quot;)
+
+MESSAGE(&quot;***  Audio Codec  ***&quot;)
+ADM_DISPLAY(&quot;amrnb     &quot; &quot;$ENV{ADM_HAVE_AMRNB}&quot;)
+ADM_DISPLAY(&quot;FAAD      &quot; &quot;$ENV{ADM_HAVE_FAAD}&quot;)
+ADM_DISPLAY(&quot;libdca    &quot; &quot;$ENV{ADM_HAVE_LIBDCA}&quot;)
+
+MESSAGE(&quot;*** Miscellaneous ***&quot;)
+ADM_DISPLAY(&quot;FontConfig&quot; &quot;$ENV{ADM_HAVE_FONTCONFIG}&quot;)
+ADM_DISPLAY(&quot;FreeType2 &quot; &quot;${FREETYPE2_FOUND}&quot;)
+ADM_DISPLAY(&quot;gettext   &quot; &quot;${HAVE_GETTEXT}&quot;)
+
+MESSAGE(&quot;*********************&quot;)
+
+IF (CMAKE_BUILD_TYPE STREQUAL &quot;Debug&quot;)
+	MESSAGE(&quot;***  Debug Build  ***&quot;)
+ELSE (CMAKE_BUILD_TYPE STREQUAL &quot;Debug&quot;)
+	MESSAGE(&quot;*** Release Build ***&quot;)
+ENDIF(CMAKE_BUILD_TYPE STREQUAL &quot;Debug&quot;)
+
+MESSAGE(&quot;*********************&quot;)

Modified: branches/avidemux_2.5_branch_gruntster/cmake/admPluginVideoEncoder.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/admPluginVideoEncoder.cmake	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/cmake/admPluginVideoEncoder.cmake	2008-06-11 00:33:07 UTC (rev 4093)
@@ -1,8 +1,8 @@
 MACRO(INIT_VIDEO_ENCODER_PLUGIN _lib)
 	INCLUDE_DIRECTORIES(&quot;${CMAKE_BINARY_DIR}/config&quot;)
-	INCLUDE_DIRECTORIES(&quot;${CMAKE_SOURCE_DIR}/avidemux/ADM_core/include&quot;)
-	INCLUDE_DIRECTORIES(&quot;${CMAKE_SOURCE_DIR}/avidemux/ADM_coreUI/include&quot;)
-	INCLUDE_DIRECTORIES(&quot;${CMAKE_SOURCE_DIR}/avidemux/ADM_plugin&quot;)
+	INCLUDE_DIRECTORIES(&quot;${CMAKE_SOURCE_DIR}/../avidemux/ADM_core/include&quot;)
+	INCLUDE_DIRECTORIES(&quot;${CMAKE_SOURCE_DIR}/../avidemux/ADM_coreUI/include&quot;)
+	INCLUDE_DIRECTORIES(&quot;${CMAKE_SOURCE_DIR}/../avidemux/ADM_plugin&quot;)
 ENDMACRO(INIT_VIDEO_ENCODER_PLUGIN)
 
 MACRO(INSTALL_VIDEO_ENCODER _lib)

Modified: branches/avidemux_2.5_branch_gruntster/cmake/config.h.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/config.h.cmake	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/cmake/config.h.cmake	2008-06-11 00:33:07 UTC (rev 4093)
@@ -18,9 +18,6 @@
 #cmakedefine ALSA_SUPPORT
 #endif
 
-/* FontConfig detected */
-#cmakedefine HAVE_FONTCONFIG
-
 #if ${CONFIG_HEADER_TYPE} == ADM_BUILD_CLI || ${CONFIG_HEADER_TYPE} == ADM_BUILD_GTK
 /* Define if the GNU gettext() function is already present or preinstalled. */
 #cmakedefine HAVE_GETTEXT
@@ -62,9 +59,6 @@
 /* FFmpeg */
 #define USE_FFMPEG
 
-/* FontConfig detected */
-#cmakedefine USE_FONTCONFIG
-
 /* FreeType2 detected */
 #cmakedefine USE_FREETYPE
 

Modified: branches/avidemux_2.5_branch_gruntster/cmake/vf_plugin_qt4.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/vf_plugin_qt4.cmake	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/cmake/vf_plugin_qt4.cmake	2008-06-11 00:33:07 UTC (rev 4093)
@@ -10,7 +10,6 @@
 
 		QT4_WRAP_UI(qt4_ui ${_srcQt_ui}.ui)
 		QT4_WRAP_CPP(qt4_cpp ${_headersQt})
-		#${_srcQt_ui}.h)
 
 		ADD_LIBRARY(${lib} SHARED ${ARGN} ${_srcsQt} ${qt4_cpp} ${qt4_ui})
 		ADD_TARGET_CFLAGS(${lib} &quot;-DADM_UI_TYPE_BUILD=4&quot;)

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Ass/ADM_libass/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Ass/ADM_libass/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Ass/ADM_libass/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -1,18 +1,19 @@
+INCLUDE(admCheckFontConfig)
+checkFontConfig()
+
 SET(ADM_LIB ADM_libass)
 
-	SET(${ADM_LIB}_SRCS 
-		ass_bitmap.c  ass.c  ass_cache.c  ass_fontconfig.c  ass_library.c   ass_render.c  ass_utils.c  mputils.c
-		ass_font.c)
+SET(${ADM_LIB}_SRCS 
+ass_bitmap.c  ass.c  ass_cache.c  ass_fontconfig.c  ass_library.c   ass_render.c  ass_utils.c  mputils.c
+ass_font.c)
 
-        ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
-	ADD_DEFINITIONS(${FREETYPE2_CFLAGS} &quot;-I${LIBICONV_INCLUDE_DIR}&quot;)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_DEFINITIONS(${FREETYPE2_CFLAGS} &quot;-I${LIBICONV_INCLUDE_DIR}&quot;)
 
+IF (FONTCONFIG_FOUND)
+	ADD_DEFINITIONS(${FONTCONFIG_CFLAGS} &quot;-DHAVE_FONTCONFIG=1&quot;)
+ENDIF (FONTCONFIG_FOUND)
 
-	IF (USE_FONTCONFIG)
-		ADD_DEFINITIONS(${FONTCONFIG_CFLAGS})
-	ENDIF (USE_FONTCONFIG)
-	
 IF (UNIX)
 	ADD_TARGET_CFLAGS(${ADM_LIB} -fPIC)
-ENDIF (UNIX)
-	
+ENDIF (UNIX)
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Ass/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Ass/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Ass/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -1,14 +1,20 @@
 INCLUDE(admCheckFreeType)
 checkFreeType()
-IF(USE_FREETYPE)
-        ADD_SUBDIRECTORY(ADM_libass)
-        
-        INCLUDE(vf_plugin)
-        SET(ADM_vf_ssa_SRCS ADM_vidASS.cpp)
 
-        ADD_LIBRARY(ADM_vf_ssa SHARED ${ADM_vf_ssa_SRCS})
-        TARGET_LINK_LIBRARIES(ADM_vf_ssa ADM_libass)
-        ADD_TARGET_LDFLAGS(ADM_vf_ssa  &quot;${FONTCONFIG_LDFLAGS} ${FREETYPE2_LDFLAGS}&quot;)
-        INIT_VIDEOFILTER_PLUGIN(ADM_vf_ssa)
-        INSTALL_VIDEOFILTER(ADM_vf_ssa)
-ENDIF(USE_FREETYPE)
+IF (USE_FREETYPE)
+	ADD_SUBDIRECTORY(ADM_libass)
+
+	INCLUDE(vf_plugin)
+	SET(ADM_vf_ssa_SRCS ADM_vidASS.cpp)
+
+	ADD_LIBRARY(ADM_vf_ssa SHARED ${ADM_vf_ssa_SRCS})
+	TARGET_LINK_LIBRARIES(ADM_vf_ssa ADM_libass)
+	ADD_TARGET_LDFLAGS(ADM_vf_ssa &quot;${FREETYPE2_LDFLAGS}&quot;)
+
+	IF (FONTCONFIG_FOUND)
+		ADD_TARGET_LDFLAGS(ADM_vf_ssa &quot;${FONTCONFIG_LDFLAGS}&quot;)
+	ENDIF (FONTCONFIG_FOUND)
+
+	INIT_VIDEOFILTER_PLUGIN(ADM_vf_ssa)
+	INSTALL_VIDEOFILTER(ADM_vf_ssa)
+ENDIF (USE_FREETYPE)

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ForcedPP/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ForcedPP/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ForcedPP/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -4,6 +4,7 @@
 SET(ADM_vf_forcedPP_SRCS ADM_vidForcedPP.cpp)
 
 ADD_LIBRARY(ADM_vf_forcedPP SHARED ${ADM_vf_forcedPP_SRCS})
+TARGET_LINK_LIBRARIES(ADM_vf_forcedPP ADM_libpostproc)
 
 INIT_VIDEOFILTER_PLUGIN(ADM_vf_forcedPP)
 INSTALL_VIDEOFILTER(ADM_vf_forcedPP)

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Srt/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Srt/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Srt/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -1,46 +1,38 @@
 INCLUDE(admCheckFreeType)
 checkFreeType()
+
 IF(USE_FREETYPE)
-        INCLUDE(vf_plugin)
+	INCLUDE(vf_plugin)
 
-        SET(srtCommon_SRCS 
-          ADM_vidFont.cpp  ADM_vidSRT.cpp  ADM_vidSRTload.cpp  ADM_vidSRTRender.cpp  DIA_srt.cpp DIA_flySrtPos.cpp
-        )
+	SET(srtCommon_SRCS 
+	  ADM_vidFont.cpp  ADM_vidSRT.cpp  ADM_vidSRTload.cpp  ADM_vidSRTRender.cpp  DIA_srt.cpp DIA_flySrtPos.cpp
+	)
 
-        INCLUDE(vf_plugin_gtk)
-        INCLUDE(vf_plugin_qt4)
+	INCLUDE(vf_plugin_gtk)
+	INCLUDE(vf_plugin_qt4)
 
-        SET(srtGtk_SRCS gtk/DIA_srt.cpp)
-        SET(srtQT_SRCS  qt4/Q_srt.cpp)
-        SET(srtQT_HEADERS  qt4/Q_srt.h)
-        SET(srtQT_UI    qt4/srt)
+	SET(srtGtk_SRCS gtk/DIA_srt.cpp)
+	SET(srtQT_SRCS  qt4/Q_srt.cpp)
+	SET(srtQT_HEADERS  qt4/Q_srt.h)
+	SET(srtQT_UI    qt4/srt)
 
+	INIT_VIDEOFILTER_PLUGIN_QT4(ADM_vf_sub_qt4 
+					${srtQT_SRCS} ${srtQT_HEADERS} ${srtQT_UI} ${srtCommon_SRCS})
+	INIT_VIDEOFILTER_PLUGIN_GTK(  ADM_vf_sub_gtk 
+					${srtGtk_SRCS} ${srtCommon_SRCS})
 
-INIT_VIDEOFILTER_PLUGIN_QT4(ADM_vf_sub_qt4 
-                ${srtQT_SRCS} ${srtQT_HEADERS} ${srtQT_UI} ${srtCommon_SRCS})
-INIT_VIDEOFILTER_PLUGIN_GTK(  ADM_vf_sub_gtk 
-                ${srtGtk_SRCS} ${srtCommon_SRCS})
+	ADD_DEFINITIONS(${LIBICONV_DEFINITIONS})
+	ADD_SOURCE_CFLAGS(DIA_srt.cpp           &quot;${FREETYPE2_CFLAGS}&quot; )
+	ADD_SOURCE_CFLAGS(ADM_vidSRT.cpp        &quot;${FREETYPE2_CFLAGS}&quot; )
+	ADD_SOURCE_CFLAGS(ADM_vidFont.cpp       &quot;${FREETYPE2_CFLAGS}&quot; )
+	ADD_SOURCE_CFLAGS(ADM_vidSRTload.cpp    &quot;${FREETYPE2_CFLAGS}   -I${LIBICONV_INCLUDE_DIR} &quot;)
+	ADD_SOURCE_CFLAGS(ADM_vidSRTRender.cpp  &quot;${FREETYPE2_CFLAGS}&quot; )
+	
+	IF (GTK_FOUND AND GTHREAD_FOUND)
+		ADD_TARGET_LDFLAGS(ADM_vf_sub_gtk &quot;${FREETYPE2_LDFLAGS} ${LIBICONV_LIBRARY_DIR}&quot;)
+	ENDIF (GTK_FOUND AND GTHREAD_FOUND)
 
-        ADD_DEFINITIONS(${LIBICONV_DEFINITIONS})
-        ADD_SOURCE_CFLAGS(DIA_srt.cpp           &quot;${FREETYPE2_CFLAGS}&quot; )
-        ADD_SOURCE_CFLAGS(ADM_vidSRT.cpp        &quot;${FREETYPE2_CFLAGS}&quot; )
-        ADD_SOURCE_CFLAGS(ADM_vidFont.cpp       &quot;${FREETYPE2_CFLAGS}&quot; )
-        ADD_SOURCE_CFLAGS(ADM_vidSRTload.cpp    &quot;${FREETYPE2_CFLAGS}   -I${LIBICONV_INCLUDE_DIR} &quot;)
-        ADD_SOURCE_CFLAGS(ADM_vidSRTRender.cpp  &quot;${FREETYPE2_CFLAGS}&quot; )
-IF (GTK_FOUND AND GTHREAD_FOUND)
-	ADD_TARGET_LDFLAGS(ADM_vf_sub_gtk           &quot;${FREETYPE2_LDFLAGS} ${LIBICONV_LIBRARY_DIR}&quot;)
-        IF (USE_FONTCONFIG)
-	        ADD_TARGET_LDFLAGS(ADM_vf_sub_gtk &quot;${FONTCONFIG_LDFLAGS}&quot;)
-        ENDIF (USE_FONTCONFIG)
-ENDIF (GTK_FOUND AND GTHREAD_FOUND)
-
-
-IF (QT4_FOUND)
-	ADD_TARGET_LDFLAGS(ADM_vf_sub_qt4           &quot;${FREETYPE2_LDFLAGS} ${LIBICONV_LIBRARY_DIR}&quot;)
-        IF (USE_FONTCONFIG)
-	        ADD_TARGET_LDFLAGS(ADM_vf_sub_qt4 &quot;${FONTCONFIG_LDFLAGS}&quot;)
-        ENDIF (USE_FONTCONFIG)
-ENDIF (QT4_FOUND)
-
-ENDIF(USE_FREETYPE)
-
+	IF (QT4_FOUND)
+		ADD_TARGET_LDFLAGS(ADM_vf_sub_qt4 &quot;${FREETYPE2_LDFLAGS} ${LIBICONV_LIBRARY_DIR}&quot;)
+	ENDIF (QT4_FOUND)
+ENDIF(USE_FREETYPE)
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/lavDeinterlace/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/lavDeinterlace/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/lavDeinterlace/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -4,7 +4,7 @@
 SET(ADM_vf_lavDeinterlace_SRCS ADM_lavpp_deint.cpp)
 INCLUDE_DIRECTORIES(&quot;${AVIDEMUX_SOURCE_DIR}/avidemux/&quot;)
 ADD_LIBRARY(ADM_vf_lavDeinterlace SHARED ${ADM_vf_lavDeinterlace_SRCS})
-TARGET_LINK_LIBRARIES(ADM_vf_lavDeinterlace ADM_libswscale)
+TARGET_LINK_LIBRARIES(ADM_vf_lavDeinterlace ADM_libswscale ADM_libpostproc)
 
 INIT_VIDEOFILTER_PLUGIN(ADM_vf_lavDeinterlace)
 INSTALL_VIDEOFILTER(ADM_vf_lavDeinterlace)

Modified: branches/avidemux_2.5_branch_gruntster/plugins/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/CMakeLists.txt	2008-06-10 19:08:52 UTC (rev 4092)
+++ branches/avidemux_2.5_branch_gruntster/plugins/CMakeLists.txt	2008-06-11 00:33:07 UTC (rev 4093)
@@ -1,114 +1,137 @@
-####################################
-#
-#
-#
-#
-####################################
-PROJECT(AdmPlugins)
-
-MESSAGE(&quot;#####################################&quot;)
-MESSAGE(&quot;Plugins Configure Started&quot;)
-MESSAGE(&quot;#####################################&quot;)
-MESSAGE(&quot;&quot;)
-
-CMAKE_MINIMUM_REQUIRED(VERSION 2.4.7 FATAL_ERROR)
-
-if (COMMAND cmake_policy)
-	cmake_policy(VERSION 2.4)
-	cmake_policy(SET CMP0003 NEW)
-endif (COMMAND cmake_policy)
-
-SET(CMAKE_MODULE_PATH &quot;${CMAKE_SOURCE_DIR}/../cmake&quot; &quot;${CMAKE_MODULE_PATH}&quot;)
-
-IF (NOT CMAKE_CXX_COMPILER_WORKS MATCHES &quot;^${CMAKE_CXX_COMPILER_WORKS}$&quot;)
-	SET(FRESH_BUILD 1)
-ENDIF (NOT CMAKE_CXX_COMPILER_WORKS MATCHES &quot;^${CMAKE_CXX_COMPILER_WORKS}$&quot;)
-
-
-IF (${AdmPlugins_SOURCE_DIR} MATCHES ${AdmPlugins_BINARY_DIR})
-	MESSAGE(&quot;Please do an out-of-tree build:&quot;)
-	MESSAGE(&quot;rm CMakeCache.txt; mkdir build; cd build; cmake ../plugins; make&quot;)
-	MESSAGE(FATAL_ERROR &quot;in-tree-build detected&quot;)
-ENDIF (${AdmPlugins_SOURCE_DIR} MATCHES ${AdmPlugins_BINARY_DIR})
-
-include(admConfigHelper)
-
-IF (FRESH_BUILD)
-	MESSAGE(&quot;&quot;)
-ENDIF (FRESH_BUILD)
-
-########################################
-# Where is the top dir
-########################################
-IF(NOT AVIDEMUX_SOURCE_DIR)
-	MESSAGE(FATAL_ERROR &quot;Please add -DAVIDEMUX_SOURCE_DIR=path_to_avidemux_source&quot;)
-ENDIF(NOT AVIDEMUX_SOURCE_DIR)
-INCLUDE_DIRECTORIES(${AVIDEMUX_SOURCE_DIR})
-########################################
-# Where is coreConfig ?
-########################################
-IF(NOT AVIDEMUX_CORECONFIG_DIR)
-	MESSAGE(FATAL_ERROR &quot;Please add -DAVIDEMUX_CORECONFIG_DIR=path_to_ADM_coreConfig.h&quot;)
-ENDIF(NOT AVIDEMUX_CORECONFIG_DIR)
-INCLUDE_DIRECTORIES(${AVIDEMUX_CORECONFIG_DIR})
-########################################
-# Global options
-########################################
-OPTION(VERBOSE &quot;&quot; OFF)
-
-IF (NOT CMAKE_BUILD_TYPE)
-	SET(CMAKE_BUILD_TYPE &quot;Release&quot;)
-ENDIF (NOT CMAKE_BUILD_TYPE)
-########################################
-# Avidemux system specific tweaks
-########################################
-INCLUDE(admDetermineSystem)
-
-IF (CYGWIN)
-	SET(CMAKE_C_FLAGS &quot;${CMAKE_C_FLAGS} -mwin32&quot;)
-	SET(CMAKE_CXX_FLAGS &quot;${CMAKE_CXX_FLAGS} -mwin32&quot;)
-ENDIF (CYGWIN)
-
-IF (ADM_CPU_ALTIVEC)
-	SET(CMAKE_C_FLAGS &quot;${CMAKE_C_FLAGS} ${ADM_ALTIVEC_FLAGS}&quot;)
-	SET(CMAKE_CXX_FLAGS &quot;${CMAKE_CXX_FLAGS} ${ADM_ALTIVEC_FLAGS}&quot;)
-ENDIF (ADM_CPU_ALTIVEC)
-IF (WIN32)
-	SET(BIN_DIR .)
-	SET(CMAKE_SHARED_LINKER_FLAGS &quot;${CMAKE_SHARED_LINKER_FLAGS} -Wl,-enable-auto-image-base -Wl,-enable-auto-import&quot;)
-	SET(CMAKE_EXE_LINKER_FLAGS &quot;${CMAKE_EXE_LINKER_FLAGS} -Wl,-enable-auto-import&quot;)
-
-	IF (CMAKE_BUILD_TYPE STREQUAL &quot;Release&quot;)
-		SET(CMAKE_EXE_LINKER_FLAGS &quot;${CMAKE_EXE_LINKER_FLAGS} -Wl,-s&quot;)
-		SET(CMAKE_SHARED_LINKER_FLAGS &quot;${CMAKE_SHARED_LINKER_FLAGS} -Wl,-s&quot;)
-	ENDIF (CMAKE_BUILD_TYPE STREQUAL &quot;Release&quot;)
-ELSE (WIN32)
-	SET(BIN_DIR bin)
-ENDIF (WIN32)
-
-########################################
-# Standard Avidemux defines
-########################################
-SET(VERSION 2.5.0)
-
-SET(ADM_INSTALL_DIR &quot;${CMAKE_INSTALL_PREFIX}&quot;)
-
-IF (CMAKE_BUILD_TYPE STREQUAL &quot;Debug&quot;)
-	SET(ADM_DEBUG 1)
-ENDIF (CMAKE_BUILD_TYPE STREQUAL &quot;Debug&quot;)
-
-INCLUDE(admCheckRequiredLibs)
-
-INCLUDE(admCheckMiscLibs)
-
-########################################
-# Actual work to do..
-########################################
-
-ADD_SUBDIRECTORY(ADM_audiodecoder)
-ADD_SUBDIRECTORY(ADM_videoEncoder)
-ADD_SUBDIRECTORY(ADM_videoFilters)
-#
-# End of file
-#
-
+MESSAGE(&quot;#####################################&quot;)
+MESSAGE(&quot;Plugins Configure Started&quot;)
+MESSAGE(&quot;#####################################&quot;)
+MESSAGE(&quot;&quot;)
+
+CMAKE_MINIMUM_REQUIRED(VERSION 2.4.7 FATAL_ERROR)
+
+if (COMMAND cmake_policy)
+	cmake_policy(VERSION 2.4)
+	cmake_policy(SET CMP0003 NEW)
+endif (COMMAND cmake_policy)
+
+IF (NOT CMAKE_CXX_COMPILER_WORKS MATCHES &quot;^${CMAKE_CXX_COMPILER_WORKS}$&quot;)
+	SET(FRESH_BUILD 1)
+ENDIF (NOT CMAKE_CXX_COMPILER_WORKS MATCHES &quot;^${CMAKE_CXX_COMPILER_WORKS}$&quot;)
+
+PROJECT(AdmPlugins)
+
+IF (${AdmPlugins_SOURCE_DIR} MATCHES ${AdmPlugins_BINARY_DIR})
+	MESSAGE(&quot;Please do an out-of-tree build:&quot;)
+	MESSAGE(&quot;rm CMakeCache.txt; mkdir build; cd build; cmake ..; make&quot;)
+	MESSAGE(FATAL_ERROR &quot;in-tree-build detected&quot;)
+ENDIF (${AdmPlugins_SOURCE_DIR} MATCHES ${AdmPlugins_BINARY_DIR})
+
+########################################
+# Where is the top dir
+########################################
+IF (NOT AVIDEMUX_SOURCE_DIR)
+	MESSAGE(FATAL_ERROR &quot;Please add -DAVIDEMUX_SOURCE_DIR=path_to_avidemux_source&quot;)
+ELSE (NOT AVIDEMUX_SOURCE_DIR)
+	SET(AVIDEMUX_SOURCE_DIR &quot;${AVIDEMUX_SOURCE_DIR}&quot; CACHE STRING &quot;&quot;)
+ENDIF (NOT AVIDEMUX_SOURCE_DIR)
+
+INCLUDE_DIRECTORIES(${AVIDEMUX_SOURCE_DIR})
+
+########################################
+# Where are the libraries
+########################################
+IF(NOT AVIDEMUX_LIB_DIR)
+	MESSAGE(FATAL_ERROR &quot;Please add -DAVIDEMUX_LIB_DIR=path_to_avidemux_libs&quot;)
+ELSE (NOT AVIDEMUX_LIB_DIR)
+	SET(AVIDEMUX_LIB_DIR &quot;${AVIDEMUX_LIB_DIR}&quot; CACHE STRING &quot;&quot;)
+ENDIF(NOT AVIDEMUX_LIB_DIR)
+
+LINK_DIRECTORIES(${AVIDEMUX_LIB_DIR})
+
+########################################
+# Where is coreConfig ?
+########################################
+IF(NOT AVIDEMUX_CORECONFIG_DIR)
+	MESSAGE(FATAL_ERROR &quot;Please add -DAVIDEMUX_CORECONFIG_DIR=path_to_ADM_coreConfig.h&quot;)
+ELSE (NOT AVIDEMUX_CORECONFIG_DIR)
+	SET(AVIDEMUX_CORECONFIG_DIR &quot;${AVIDEMUX_CORECONFIG_DIR}&quot; CACHE STRING &quot;&quot;)
+ENDIF(NOT AVIDEMUX_CORECONFIG_DIR)
+
+INCLUDE_DIRECTORIES(${AVIDEMUX_CORECONFIG_DIR})
+
+SET(CMAKE_MODULE_PATH &quot;${AVIDEMUX_SOURCE_DIR}/cmake&quot; &quot;${CMAKE_MODULE_PATH}&quot;)
+
+include(admConfigHelper)
+
+IF (FRESH_BUILD)
+	MESSAGE(&quot;&quot;)
+ENDIF (FRESH_BUILD)
+
+########################################
+# Global options
+########################################
+OPTION(VERBOSE &quot;&quot; OFF)
+
+IF (NOT CMAKE_BUILD_TYPE)
+	SET(CMAKE_BUILD_TYPE &quot;Release&quot;)
+ENDIF (NOT CMAKE_BUILD_TYPE)
+
+########################################
+# Avidemux system specific tweaks
+########################################
+INCLUDE(admDetermineSystem)
+
+IF (CYGWIN)
+	SET(CMAKE_C_FLAGS &quot;${CMAKE_C_FLAGS} -mwin32&quot;)
+	SET(CMAKE_CXX_FLAGS &quot;${CMAKE_CXX_FLAGS} -mwin32&quot;)
+ENDIF (CYGWIN)
+
+IF (ADM_CPU_ALTIVEC)
+	SET(CMAKE_C_FLAGS &quot;${CMAKE_C_FLAGS} ${ADM_ALTIVEC_FLAGS}&quot;)
+	SET(CMAKE_CXX_FLAGS &quot;${CMAKE_CXX_FLAGS} ${ADM_ALTIVEC_FLAGS}&quot;)
+ENDIF (ADM_CPU_ALTIVEC)
+
+IF (WIN32)
+	SET(BIN_DIR .)
+	SET(CMAKE_SHARED_LINKER_FLAGS &quot;${CMAKE_SHARED_LINKER_FLAGS} -Wl,-enable-auto-image-base -Wl,-enable-auto-import&quot;)
+
+	IF (CMAKE_BUILD_TYPE STREQUAL &quot;Release&quot;)
+		SET(CMAKE_SHARED_LINKER_FLAGS &quot;${CMAKE_SHARED_LINKER_FLAGS} -Wl,-s&quot;)
+	ENDIF (CMAKE_BUILD_TYPE STREQUAL &quot;Release&quot;)
+ELSE (WIN32)
+	SET(BIN_DIR bin)
+ENDIF (WIN32)
+
+########################################
+# Standard Avidemux defines
+########################################
+SET(VERSION 2.5.0)
+SET(ADM_INSTALL_DIR &quot;${CMAKE_INSTALL_PREFIX}&quot;)
+
+IF (CMAKE_BUILD_TYPE STREQUAL &quot;Debug&quot;)
+	SET(ADM_DEBUG 1)
+ENDIF (CMAKE_BUILD_TYPE STREQUAL &quot;Debug&quot;)
+
+########################################
+# Check for libraries
+########################################
+SET(MSG_DISABLE_OPTION &quot;Disabled per request&quot;)
+
+INCLUDE(admCheckRequiredLibs)
+
+INCLUDE(admCheckGtk)
+checkGtk()
+
+INCLUDE(admCheckQt4)
+checkQt4()
+
+INCLUDE(admCheckMiscLibs)
+
+########################################
+# Actual work to do..
+########################################
+ADD_SUBDIRECTORY(ADM_audiodecoder)
+ADD_SUBDIRECTORY(ADM_videoEncoder)
+ADD_SUBDIRECTORY(ADM_videoFilters)
+
+########################################
+# Config Summary
+########################################
+INCLUDE(admPluginConfigSummary)
+MESSAGE(&quot;&quot;)
\ No newline at end of file


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001348.html">[Avidemux-svn-commit] r4092 - in	branches/avidemux_2.5_branch_gruntster: avidemux cmake
</A></li>
	<LI>Next message: <A HREF="001350.html">[Avidemux-svn-commit] r4094 - in	branches/avidemux_2.5_branch_gruntster: avidemux	avidemux/ADM_codecs avidemux/ADM_editor avidemux/ADM_ocr	avidemux/ADM_outputs avidemux/ADM_outputs/oplug_flv	avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog	avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui	avidemux/ADM_userInterfaces/ADM_commonUI avidemux/winInstaller po
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1349">[ date ]</a>
              <a href="thread.html#1349">[ thread ]</a>
              <a href="subject.html#1349">[ subject ]</a>
              <a href="author.html#1349">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
