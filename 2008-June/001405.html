<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r4150 - in	branches/avidemux_2.4_branch/avidemux: ADM_filter ADM_video	ADM_videoFilter
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4150%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20ADM_filter%20ADM_video%0A%09ADM_videoFilter&In-Reply-To=%3C200806231723.m5NHNAZx028096%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001404.html">
   <LINK REL="Next"  HREF="001406.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r4150 - in	branches/avidemux_2.4_branch/avidemux: ADM_filter ADM_video	ADM_videoFilter</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r4150%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20ADM_filter%20ADM_video%0A%09ADM_videoFilter&In-Reply-To=%3C200806231723.m5NHNAZx028096%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r4150 - in	branches/avidemux_2.4_branch/avidemux: ADM_filter ADM_video	ADM_videoFilter">mean at mail.berlios.de
       </A><BR>
    <I>Mon Jun 23 19:23:10 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001404.html">[Avidemux-svn-commit] r4149 -	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI
</A></li>
        <LI>Next message: <A HREF="001406.html">[Avidemux-svn-commit] r4151 -	branches/avidemux_2.5_branch_gruntster/avidemux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1405">[ date ]</a>
              <a href="thread.html#1405">[ thread ]</a>
              <a href="subject.html#1405">[ subject ]</a>
              <a href="author.html#1405">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2008-06-23 19:23:01 +0200 (Mon, 23 Jun 2008)
New Revision: 4150

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_filter/ADM_vidDummyFilter.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_filter/video_filters.h
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidCNR2.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidColorYuv.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidEqualizer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidFieldUnblend.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidMPdelogo.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidASS.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidAnimated.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidAsharp.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBSmear.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidChroma.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidChromaShift.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidContrast.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidCrop.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDGbob.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecDec.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDelta.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDenoise.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDropOut.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDvbSub.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidEq2.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFade.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFlipV.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHue.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidLogo.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidLuma.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMPLResize.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMosaic.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidPalShift.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidPulldown.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidResize.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidReverse.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidRotate.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSRT.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSeparateField.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSoften.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidStabilize.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSwapFields.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSwapSmart.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidTdeint.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidUVSwap.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidUnblend.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidVlad.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidVobsub.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidWhirl.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidYadif.cpp
Log:
[Buffer OVerflow] Prevent configuration string from overflowing (FS#343)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_filter/ADM_vidDummyFilter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_filter/ADM_vidDummyFilter.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_filter/ADM_vidDummyFilter.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -68,10 +68,8 @@
 //********************************************
 char *ADMVideoFlipV::printConf( void )
 {
- 	static char buf[50];
- 	
- 	sprintf((char *)buf,&quot; V-Flip&quot;);
-        return buf;
+ 	ADM_FILTER_DECLARE_CONF(&quot; V-Flip&quot;);
+
 }
 
 ADMVideoFlipV::ADMVideoFlipV(  AVDMGenericVideoStream *in,CONFcouple *setup)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_filter/video_filters.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_filter/video_filters.h	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_filter/video_filters.h	2008-06-23 17:23:01 UTC (rev 4150)
@@ -110,6 +110,10 @@
                 MAX_FILTER = VF_COUNT - 1,
                 VF_EXTERNAL_START=0xF0000000
           }VF_FILTERS;
+#define ADM_CONF_STRING_SIZE 256
+#define ADM_FILTER_DECLARE_CONF(fmt,...) {static char confString[ADM_CONF_STRING_SIZE];\
+                                    snprintf(confString,ADM_CONF_STRING_SIZE-1,fmt,## __VA_ARGS__);\
+                                    return confString;} 
 
 typedef AVDMGenericVideoStream *(ADM_createT) (AVDMGenericVideoStream *in, CONFcouple *);
 typedef AVDMGenericVideoStream *(ADM_create_from_scriptT) (AVDMGenericVideoStream *in, int n,Arg *args);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidCNR2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidCNR2.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidCNR2.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -111,9 +111,8 @@
 /*************************************/
 char *vidCNR2::printConf (void)
 {
-  static char buf[50];
-  sprintf ((char *) buf, &quot; CNR2 by MarcFD/Tritical&quot;);
-  return buf;
+  ADM_FILTER_DECLARE_CONF(&quot; CNR2 by MarcFD/Tritical&quot;);
+  
 }
 /*************************************/
 vidCNR2::vidCNR2 (AVDMGenericVideoStream * in, CONFcouple * couples)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidColorYuv.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidColorYuv.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidColorYuv.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -95,9 +95,8 @@
 
 char *ADMVideoColorYuv::printConf( void )
 {
-   static char buf[50];
-   sprintf((char *)buf,&quot; ColorYuv &quot;);
-   return buf;
+  ADM_FILTER_DECLARE_CONF(&quot; ColorYuv &quot;);
+   
 }
 
 ADMVideoColorYuv::ADMVideoColorYuv(AVDMGenericVideoStream *in,CONFcouple *couples) 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidEqualizer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidEqualizer.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidEqualizer.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -53,9 +53,8 @@
 
 char *vidEqualizer::printConf( void )
 {
- 	static char buf[50];
- 	sprintf((char *)buf,&quot; Equalizer&quot;);
-        return buf;
+ ADM_FILTER_DECLARE_CONF(&quot; Equalizer&quot;);
+        
 }
 
 vidEqualizer::vidEqualizer(AVDMGenericVideoStream *in,CONFcouple *couples) 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidFieldUnblend.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidFieldUnblend.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidFieldUnblend.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -96,9 +96,8 @@
 /*************************************/
 char *vidHardPDRemoval::printConf (void)
 {
-  static char buf[50];
-  sprintf ((char *) buf, &quot; Field Unblend Thresh:%d Noise:%d&quot;,_param-&gt;threshold,_param-&gt;noise);
-  return buf;
+  ADM_FILTER_DECLARE_CONF(&quot; Field Unblend Thresh:%d Noise:%d&quot;,_param-&gt;threshold,_param-&gt;noise);
+  
 }
 
 #define MAX_BLOCKS 50

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidMPdelogo.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidMPdelogo.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidMPdelogo.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -78,11 +78,11 @@
 
 char *ADMVideoMPdelogo::printConf( void )
 {
-        static char buf[50];
+  
 
-        sprintf((char *)buf,&quot; MPlayer delogo : at (%d,%d) (%dx%d)&quot;,
+        ADM_FILTER_DECLARE_CONF(&quot; MPlayer delogo : at (%d,%d) (%dx%d)&quot;,
                                 _param-&gt;xoff,_param-&gt;yoff,_param-&gt;lw,_param-&gt;lh);
-        return buf;
+  
 }
 //_______________________________________________________________
 ADMVideoMPdelogo::ADMVideoMPdelogo(

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -127,10 +127,8 @@
 //*************************************************************
 char *ADMVideoLavPPDeint::printConf( void )
 {
-  static char buf[50];
-        
-  sprintf((char *)buf,&quot; Lavcodec PP deinterlacer autolev:%d deint:%d&quot;,_param-&gt;autolevel,_param-&gt;deintType);
-  return buf;
+  ADM_FILTER_DECLARE_CONF(&quot; Lavcodec PP deinterlacer autolev:%d deint:%d&quot;,_param-&gt;autolevel,_param-&gt;deintType);
+
 }
 //*************************************************************
 ADMVideoLavPPDeint::ADMVideoLavPPDeint(  AVDMGenericVideoStream *in,CONFcouple *couples)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidASS.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidASS.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidASS.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -55,7 +55,7 @@
 
 char *ADMVideoSubASS::printConf() 
 {
-      static char buf[50];
+      static char buf[500];
       sprintf((char *)buf,&quot; ASS/SSA Subtitles: &quot;);
       
       char *filename = (char*)_params-&gt;subfile;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -44,14 +44,12 @@
 
 char *AVDMVideoAddBorder::printConf( void )
 {
- 	static char buf[50];
-
- 	sprintf((char *)buf,&quot; Add Borders %lu x %lu --&gt; %lu x %lu&quot;,
+ 	ADM_FILTER_DECLARE_CONF(&quot; Add Borders %lu x %lu --&gt; %lu x %lu&quot;,
  				_in-&gt;getInfo()-&gt;width,
  				_in-&gt;getInfo()-&gt;height,
  				_info.width,
  				_info.height);
-        return buf;
+        
 }
 
 AVDMVideoAddBorder::AVDMVideoAddBorder(  AVDMGenericVideoStream *in,CONFcouple *couples)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidAnimated.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidAnimated.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidAnimated.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -64,9 +64,8 @@
 
 char *ADMVideoAnimated::printConf( void )
 {
-   static char buf[50];
-   sprintf((char *)buf,&quot; Animated Menu &quot;);
-   return buf;
+   ADM_FILTER_DECLARE_CONF(&quot; Animated Menu &quot;);
+   
 }
 uint8_t ADMVideoAnimated::setup( void)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidAsharp.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidAsharp.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidAsharp.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -166,11 +166,8 @@
 //________________________________________________________
 char *ASharp::printConf( void )
 {
-        static char buf[50];
-
-        ADM_assert(_param);
-        sprintf((char *)buf,&quot; ASharp (MarcFD)&quot;);
-        return buf;
+        ADM_FILTER_DECLARE_CONF(&quot; ASharp (MarcFD)&quot;);
+        
 }
         
 //________________________________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBSmear.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBSmear.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBSmear.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -49,14 +49,14 @@
 
 char *AVDMVideoStreamBSMear::printConf( void )
 {
- 	static char buf[50];
  	
- 	sprintf((char *)buf,&quot; Black l:%lu  r:%lu  u:%lu x d:%lu&quot;,
+ 	
+ 	ADM_FILTER_DECLARE_CONF(&quot; Black l:%lu  r:%lu  u:%lu x d:%lu&quot;,
  				_param-&gt;left,
  					_param-&gt;right,
  					_param-&gt;top,
  					_param-&gt;bottom);
-        return buf;
+        
 }
 
 //_______________________________________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -98,9 +98,8 @@
 /*************************************/
 char *vidBlendRemoval::printConf (void)
 {
-  static char buf[50];
-  sprintf ((char *) buf, &quot; Blend Removal Thresh:%d Noise:%d Ident:%d&quot;,_param-&gt;threshold,_param-&gt;noise,_param-&gt;identical);
-  return buf;
+  ADM_FILTER_DECLARE_CONF( &quot; Blend Removal Thresh:%d Noise:%d Ident:%d&quot;,_param-&gt;threshold,_param-&gt;noise,_param-&gt;identical);
+  
 }
 
 #define MAX_BLOCKS 50

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidChroma.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidChroma.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidChroma.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -46,10 +46,8 @@
 
 char *ADMVideoChromaU::printConf( void )
 {
- 	static char buf[50];
- 	
- 	sprintf((char *)buf,&quot; chroma u only&quot;);
-        return buf;
+ ADM_FILTER_DECLARE_CONF(&quot; chroma u only&quot;);
+        
 }
 
 //_______________________________________________________________
@@ -130,10 +128,8 @@
 
 char *ADMVideoChromaV::printConf( void )
 {
- 	static char buf[50];
-
- 	sprintf((char *)buf,&quot; chroma v only&quot;);
-        return buf;
+ 	ADM_FILTER_DECLARE_CONF(&quot; chroma v only&quot;);
+        
 }
 
 //_______________________________________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidChromaShift.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidChromaShift.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidChromaShift.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -45,11 +45,9 @@
 
 char *ADMVideoChromaShift::printConf( void )
 {
- 	static char buf[50];
-
- 	snprintf((char *)buf,50,&quot; Chroma shift U:%d  V:%d&quot;,
+ 	ADM_FILTER_DECLARE_CONF(&quot; Chroma shift U:%d  V:%d&quot;,
             _param-&gt;u,_param-&gt;v);
-        return buf;
+        
 }
 
 ADMVideoChromaShift::ADMVideoChromaShift(  AVDMGenericVideoStream *in,CONFcouple *couples)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidContrast.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidContrast.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidContrast.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -46,12 +46,9 @@
 char *
 ADMVideoContrast::printConf (void)
 {
-  static char buf[50];
-
-  ADM_assert (_param);
-  sprintf ((char *) buf, &quot; contrast : %1.2f %d&quot;, _param-&gt;coef,
+ ADM_FILTER_DECLARE_CONF( &quot; contrast : %1.2f %d&quot;, _param-&gt;coef,
 	   _param-&gt;offset);
-  return buf;
+  
 }
 
 //_______________________________________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidCrop.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidCrop.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidCrop.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -46,14 +46,12 @@
 
 char *AVDMVideoStreamCrop::printConf( void )
 {
- 	static char buf[50];
- 	
- 	sprintf((char *)buf,&quot; Crop %lu x %lu --&gt; %lu x %lu&quot;,
+ 	ADM_FILTER_DECLARE_CONF(&quot; Crop %lu x %lu --&gt; %lu x %lu&quot;,
  				_in-&gt;getInfo()-&gt;width,
  				_in-&gt;getInfo()-&gt;height,
  				_info.width,
  				_info.height);
-        return buf;
+        
 }
 
 //_______________________________________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDGbob.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDGbob.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDGbob.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -104,11 +104,7 @@
 
 char *DGbob::printConf( void )
 {
-        static char buf[50];
-
-        //ADM_assert(_param);
-        sprintf((char *)buf,&quot; DGBob mode:%d order:%d thresh:%d\n&quot;,_param-&gt;mode,_param-&gt;order,_param-&gt;thresh);
-        return buf;
+    ADM_FILTER_DECLARE_CONF(&quot;DGBob mode:%d order:%d thresh:%d\n&quot;,_param-&gt;mode,_param-&gt;order,_param-&gt;thresh);
 }
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecDec.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecDec.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecDec.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -221,11 +221,8 @@
 
 char *Decimate::printConf( void )
 {
- 	static char buf[50];
-
-	ADM_assert(_param);
- 	sprintf((char *)buf,&quot; Decomb Decimate cycle:%d&quot;,_param-&gt;cycle);
-        return buf;
+ 	ADM_FILTER_DECLARE_CONF(&quot; Decomb Decimate cycle:%d&quot;,_param-&gt;cycle);
+        
 }
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -147,11 +147,8 @@
 
 char *Telecide::printConf( void )
 {
- 	static char buf[50];
-
-  	ADM_assert(_param); 	
- 	sprintf((char *)buf,&quot; Decomb Telecide&quot;);
-        return buf;
+ 	ADM_FILTER_DECLARE_CONF(&quot; Decomb Telecide&quot;);
+        
 }
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDelta.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDelta.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDelta.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -65,9 +65,8 @@
 /*************************************/
 char *vidDelta::printConf (void)
 {
-  static char buf[50];
-  sprintf ((char *) buf, &quot; Delta&quot;);
-  return buf;
+ ADM_FILTER_DECLARE_CONF( &quot; Delta&quot;);
+  
 }
 /*************************************/
 vidDelta::vidDelta (AVDMGenericVideoStream * in, CONFcouple * couples)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDenoise.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDenoise.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDenoise.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -58,15 +58,13 @@
 BUILD_CREATE(denoise_create,ADMVideoDenoise);
 char *ADMVideoDenoise::printConf( void )
 {
- 	static char buf[50];
-
-  ADM_assert(_param); 	
- 	sprintf((char *)buf,&quot; Denoise : Lum :%02ld/:%02ld / Chm :%02ld/%02ld&quot;,
+ 	
+ADM_FILTER_DECLARE_CONF(&quot; Denoise : Lum :%02ld/:%02ld / Chm :%02ld/%02ld&quot;,
   								_param-&gt;lumaLock,
           				_param-&gt;lumaThreshold,
               		_param-&gt;chromaLock,
                 	_param-&gt;chromaThreshold);
-        return buf;
+    
 }
 void buildDistMatrix( void );
 void buildDistMatrix( void )

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDropOut.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDropOut.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDropOut.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -50,10 +50,8 @@
 
 char  *ADMVideoDropOut::printConf(void)
 {
-	static char buf[50];
-
- 	sprintf((char *)buf,&quot; DropOut :%ld&quot;,*_param);
-        return buf;
+ADM_FILTER_DECLARE_CONF(&quot; DropOut :%ld&quot;,*_param);
+        
 }
 uint8_t  GUI_getIntegerValue(int *valye, int min, int max, char *title);	
 uint8_t ADMVideoDropOut::configure(AVDMGenericVideoStream *instream)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDvbSub.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDvbSub.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDvbSub.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -59,10 +59,9 @@
 
 char *ADMVideoSubDVB::printConf() 
 {
-      static char buf[50];
-      sprintf((char *)buf,&quot; DVB Subtitle &quot;);
+    ADM_FILTER_DECLARE_CONF(&quot; DVB Subtitle &quot;);
       
-      return buf;
+      
 }
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidEq2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidEq2.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidEq2.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -81,11 +81,9 @@
 }
 char *ADMVideoEq2::printConf( void )
 {
-  static char buf[50];
-        
-  sprintf((char *)buf,&quot; Eq2 :Cont:%1.2f Brigh:%1.2f Sat:%1.2f&quot;,
+ ADM_FILTER_DECLARE_CONF(&quot; Eq2 :Cont:%1.2f Brigh:%1.2f Sat:%1.2f&quot;,
                 _param-&gt;contrast,_param-&gt;brightness,_param-&gt;saturation);
-  return buf;
+  
 }
 
 ADMVideoEq2::ADMVideoEq2(  AVDMGenericVideoStream *in,CONFcouple *couples)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFade.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFade.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFade.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -94,12 +94,7 @@
 
 char *AVDM_Fade::printConf( void )
 {
-  static char buf[50];
-
-        //ADM_assert(_param);
-  sprintf((char *)buf,&quot; Fade : Start %u End %u&quot;,_param-&gt;startFade,_param-&gt;endFade);
-  if(_param-&gt;inOut) strcat(buf,&quot; In&quot;); else strcat(buf,&quot; Out&quot;);
-  return buf;
+ ADM_FILTER_DECLARE_CONF(&quot; Fade : Start %u End %u&quot;,_param-&gt;startFade,_param-&gt;endFade);
 }
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFlipV.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFlipV.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFlipV.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -44,10 +44,8 @@
 
 char *ADMVideoFlipV::printConf( void )
 {
- 	static char buf[50];
- 	
- 	sprintf((char *)buf,&quot; V-Flip&quot;);
-        return buf;
+    ADM_FILTER_DECLARE_CONF(&quot; V-Flip&quot;);
+        
 }
 
 ADMVideoFlipV::ADMVideoFlipV(  AVDMGenericVideoStream *in,CONFcouple *setup)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -105,10 +105,8 @@
 }
 char *ADMVideoForcedPP::printConf( void )
 {
- 	static char buf[50];
- 	
- 	sprintf((char *)buf,&quot; Forced pp : %lu %lu&quot;,_param-&gt;postProcType,_param-&gt;postProcStrength);
-        return buf;
+ ADM_FILTER_DECLARE_CONF(&quot; Forced pp : %lu %lu&quot;,_param-&gt;postProcType,_param-&gt;postProcStrength);
+        
 }
 
 ADMVideoForcedPP::~ADMVideoForcedPP()

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -103,9 +103,8 @@
 /*************************************/
 char *vidHardPDRemoval::printConf (void)
 {
-  static char buf[50];
-  sprintf ((char *) buf, &quot; Field Unblend Thresh:%d Noise:%d&quot;,_param-&gt;threshold,_param-&gt;noise);
-  return buf;
+ ADM_FILTER_DECLARE_CONF( &quot; Field Unblend Thresh:%d Noise:%d&quot;,_param-&gt;threshold,_param-&gt;noise);
+  
 }
 static void hint(ADMImage *img)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHue.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHue.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHue.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -102,10 +102,8 @@
 }
 char *ADMVideoHue::printConf( void )
 {
-  static char buf[50];
-        
-  sprintf((char *)buf,&quot; Hue :%2.2f %2.2f&quot;,_param-&gt;hue,_param-&gt;saturation);
-  return buf;
+  ADM_FILTER_DECLARE_CONF(&quot; Hue :%2.2f %2.2f&quot;,_param-&gt;hue,_param-&gt;saturation);
+  
 }
 
 ADMVideoHue::ADMVideoHue(  AVDMGenericVideoStream *in,CONFcouple *couples)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -114,10 +114,8 @@
 }
 char *ADMVideoKernelDeint::printConf( void )
 {
- 	static char buf[50];
- 	
- 	sprintf((char *)buf,&quot; D Graft Kernel Deint&quot;);
-        return buf;
+ 	ADM_FILTER_DECLARE_CONF(&quot; D Graft Kernel Deint&quot;);
+        
 }
 
 ADMVideoKernelDeint::~ADMVideoKernelDeint()

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidLogo.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidLogo.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidLogo.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -76,9 +76,8 @@
 //***********************************
 char *ADMVideoLogo::printConf() 
 {
-      static char buf[50];
-      snprintf((char *)buf,50,&quot;Logo at %u %u, alpha %u&quot;,_param-&gt;x,_param-&gt;y);;
-      return buf;
+    ADM_FILTER_DECLARE_CONF(&quot;Logo at %u %u, alpha %u&quot;,_param-&gt;x,_param-&gt;y);;
+      
 }
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidLuma.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidLuma.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidLuma.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -45,10 +45,8 @@
 
 char *ADMVideoLuma::printConf( void )
 {
- 	static char buf[50];
- 	
- 	sprintf((char *)buf,&quot; Luma only&quot;);
-        return buf;
+ 	ADM_FILTER_DECLARE_CONF(&quot; Luma only&quot;);
+        
 }
 
 ADMVideoLuma::ADMVideoLuma(  AVDMGenericVideoStream *in,CONFcouple *setup)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -52,11 +52,9 @@
 
  char 	*ADMVideoMPD3D::printConf(void)
  {
-	  	static char buf[50];
-
- 				sprintf((char *)buf,&quot; MPlayer HQ Denoise 3D (%2.1f - %2.1f - %2.1f)'&quot;,
+	  	ADM_FILTER_DECLARE_CONF(&quot; MPlayer HQ Denoise 3D (%2.1f - %2.1f - %2.1f)'&quot;,
 						_param-&gt;param1,_param-&gt;param2,_param-&gt;param3);
-        return buf;
+        
 }
 
 uint8_t ADMVideoMPD3D::configure(AVDMGenericVideoStream *instream)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -52,11 +52,9 @@
 
  char 	*ADMVideoMPD3Dlow::printConf(void)
  {
-	  	static char buf[50];
-
- 				sprintf((char *)buf,&quot; MPlayer Denoise 3D (%2.1f - %2.1f - %2.1f)'&quot;,
+	  ADM_FILTER_DECLARE_CONF(&quot; MPlayer Denoise 3D (%2.1f - %2.1f - %2.1f)'&quot;,
 						_param-&gt;param1,_param-&gt;param2,_param-&gt;param3);
-        return buf;
+        
 }
 
 uint8_t ADMVideoMPD3Dlow::configure(AVDMGenericVideoStream *instream)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMPLResize.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMPLResize.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMPLResize.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -210,17 +210,13 @@
 }
 char *AVDMVideoStreamMPResize::printConf( void )
 {
- 	 #define STRING_BUF 100
- 	static char buf[STRING_BUF+1];
-
-
- 	snprintf((char *)buf,STRING_BUF,&quot; MPL Resize %u x %u --&gt; %u x %u (%s)&quot;,
+ 	ADM_FILTER_DECLARE_CONF(&quot; MPL Resize %u x %u --&gt; %u x %u (%s)&quot;,
  				_in-&gt;getInfo()-&gt;width,
  				_in-&gt;getInfo()-&gt;height,
  				_info.width,
  				_info.height,
 				algs[_param-&gt;algo].name);
-        return buf;
+        
 }
 //_______________________________________________________________
 AVDMVideoStreamMPResize::AVDMVideoStreamMPResize(

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -180,11 +180,8 @@
 //________________________________________________________
 char *Msharpen::printConf( void )
 {
- 	static char buf[50];
-
-	ADM_assert(_param);
- 	sprintf((char *)buf,&quot; Donald Graft Msharpen Strength:%d Threshold:%d&quot;,_param-&gt;strength,_param-&gt;threshold);
-        return buf;
+ 	ADM_FILTER_DECLARE_CONF(&quot; Donald Graft Msharpen Strength:%d Threshold:%d&quot;,_param-&gt;strength,_param-&gt;threshold);
+        
 }
 	
 //________________________________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -93,10 +93,8 @@
 
 char *AVDMVideoMCDeint::printConf( void )
 {
-static char buf[50];
-
-        sprintf((char *)buf,&quot; MC deinterlacer : Mode %d, qp %d, parity %d &quot;,_param-&gt;mode,_param-&gt;qp,_param-&gt;initial_parity);
-        return buf;
+    ADM_FILTER_DECLARE_CONF(&quot; MC deinterlacer : Mode %d, qp %d, parity %d &quot;,_param-&gt;mode,_param-&gt;qp,_param-&gt;initial_parity);
+        
 }
 uint8_t AVDMVideoMCDeint::configure(AVDMGenericVideoStream * instream)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMosaic.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMosaic.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMosaic.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -179,12 +179,10 @@
 }
 char *ADMVideoMosaic::printConf( void )
 {
-        static char buf[50];
-
-        sprintf((char *)buf,&quot; Mosaic : %d hz, %d vz, %d shrink factor&quot;,
+     ADM_FILTER_DECLARE_CONF(&quot; Mosaic : %d hz, %d vz, %d shrink factor&quot;,
                                 _in-&gt;getInfo()-&gt;width,
                                 _param-&gt;hz,_param-&gt;vz,_param-&gt;shrink);
-        return buf;
+        
 }
 //_______________________________________________________________
 ADMVideoMosaic::ADMVideoMosaic(

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -204,11 +204,8 @@
 //________________________________________________________
 char *Msmooth::printConf( void )
 {
- 	static char buf[50];
-
-	ADM_assert(_param);
- 	sprintf((char *)buf,&quot; Donald Graft MSmooth&quot;);
-        return buf;
+ 	ADM_FILTER_DECLARE_CONF(&quot; Donald Graft MSmooth&quot;);
+        
 }
 	
 //________________________________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidPalShift.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidPalShift.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidPalShift.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -44,10 +44,8 @@
 
 char *ADMVideoPalShift::printConf( void )
 {
- 	static char buf[50];
- 	
- 	sprintf((char *)buf,&quot; PAL field shift&quot;);
-        return buf;
+ 	ADM_FILTER_DECLARE_CONF(&quot; PAL field shift&quot;);
+        
 }
 
 ADMVideoPalShift::ADMVideoPalShift(  AVDMGenericVideoStream *in,CONFcouple *setup)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidPulldown.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidPulldown.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidPulldown.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -51,10 +51,8 @@
 
 char *ADMVideoPullDown::printConf( void )
 {
- 	static char buf[50];
-
- 	sprintf((char *)buf,&quot; Pulldown&quot;);
-        return buf;
+    ADM_FILTER_DECLARE_CONF(&quot; Pulldown&quot;);
+    
 }
 //_______________________________________________________________
 ADMVideoPullDown::ADMVideoPullDown(

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -98,11 +98,9 @@
 }
 char *ADMVideoResampleFPS::printConf( void )
 {
-  static char buf[50];
-        
-  sprintf((char *)buf,&quot; Resample to %2.2f fps (blend:%d)&quot;,(double)_param-&gt;newfps/1000.,
+ ADM_FILTER_DECLARE_CONF(&quot; Resample to %2.2f fps (blend:%d)&quot;,(double)_param-&gt;newfps/1000.,
                 _param-&gt;use_linear);
-  return buf;
+  
 }
 
 ADMVideoResampleFPS::ADMVideoResampleFPS(  AVDMGenericVideoStream *in,uint32_t target)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidResize.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidResize.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidResize.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -48,15 +48,12 @@
 
 char *AVDMVideoStreamResize::printConf( void )
 {
-    #define STRING_BUF 100
- 	static char buf[STRING_BUF+1];
-
- 	snprintf((char *)buf,STRING_BUF,&quot; Resize %u x %u --&gt; %u x %u &quot;,
+  ADM_FILTER_DECLARE_CONF(&quot; Resize %u x %u --&gt; %u x %u &quot;,
  				_in-&gt;getInfo()-&gt;width,
  				_in-&gt;getInfo()-&gt;height,
  				_info.width,
  				_info.height);
-        return buf;
+        
 }
 //_______________________________________________________________
 AVDMVideoStreamResize::AVDMVideoStreamResize(

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidReverse.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidReverse.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidReverse.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -60,11 +60,8 @@
 
 char *AVDM_Reverse::printConf( void )
 {
-  static char buf[50];
-
-        //ADM_assert(_param);
-  sprintf((char *)buf,&quot; Reverse&quot;);
-  return buf;
+ ADM_FILTER_DECLARE_CONF(&quot; Reverse&quot;);
+  
 }
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidRotate.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidRotate.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidRotate.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -63,10 +63,8 @@
 
 char *ADMVideoRotate::printConf( void )
 {
-  static char buf[50];
- 	
-  sprintf((char *)buf,&quot; Rotate %u degrees&quot;, _param-&gt;angle);
-  return buf;
+  ADM_FILTER_DECLARE_CONF(&quot; Rotate %u degrees&quot;, _param-&gt;angle);
+  
 }
 
 ADMVideoRotate::ADMVideoRotate(AVDMGenericVideoStream *in, CONFcouple *couples)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSRT.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSRT.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSRT.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -61,10 +61,8 @@
 
 char 								*ADMVideoSubtitle::printConf(void)
  {
-	  	static char buf[50];
- 	
- 				sprintf((char *)buf,&quot;Subtitle &quot;);
-        return buf;
+	  ADM_FILTER_DECLARE_CONF(&quot;Subtitle &quot;);
+        
 	}
 
 //--------------------------------------------------------	

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSeparateField.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSeparateField.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSeparateField.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -56,10 +56,8 @@
 
 char *AVDMVideoSeparateField::printConf( void )
 {
- 	static char buf[50];
-
- 	sprintf((char *)buf,&quot; Separate Fields&quot;);
-        return buf;
+ 	ADM_FILTER_DECLARE_CONF(&quot; Separate Fields&quot;);
+        
 }
 
 //_______________________________________________________________
@@ -119,10 +117,8 @@
 
 char *AVDMVideoMergeField::printConf( void )
 {
- 	static char buf[50];
-
- 	sprintf((char *)buf,&quot; Merge fields&quot;);
-        return buf;
+ 	ADM_FILTER_DECLARE_CONF(&quot; Merge fields&quot;);
+        
 }
 
 //_______________________________________________________________
@@ -181,10 +177,8 @@
 
 char *AVDMVideoStackField::printConf( void )
 {
- 	static char buf[50];
-
- 	sprintf((char *)buf,&quot; Stack fields&quot;);
-        return buf;
+ ADM_FILTER_DECLARE_CONF(&quot; Stack fields&quot;);
+        
 }
 
 //_______________________________________________________________
@@ -230,9 +224,8 @@
 
 char *AVDMVideoHzStackField::printConf( void )
 {
-        static char buf[50];
-        sprintf((char *)buf,&quot; Hz Stack fields&quot;);
-        return buf;
+       ADM_FILTER_DECLARE_CONF(&quot; Hz Stack fields&quot;);
+        
 }
 
 //_______________________________________________________________
@@ -285,10 +278,8 @@
 
 char *AVDMVideoUnStackField::printConf( void )
 {
-        static char buf[50];
-
-        sprintf((char *)buf,&quot; UnStack fields&quot;);
-        return buf;
+       ADM_FILTER_DECLARE_CONF(&quot; UnStack fields&quot;);
+        
 }
 
 //______________________Unstack Fields_________________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSoften.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSoften.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSoften.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -86,11 +86,9 @@
 }
 char *ADMVideoMaskedSoften::printConf( void )
 {
- 	static char buf[50];
- 	
- 	sprintf((char *)buf,&quot; Soften : radius: %lu l:%lu c:%lu&quot;, 
+ 	ADM_FILTER_DECLARE_CONF(&quot; Soften : radius: %lu l:%lu c:%lu&quot;, 
 		_param-&gt;radius,_param-&gt;luma, _param-&gt;chroma);
-        return buf;
+        
 }
 
 ADMVideoMaskedSoften::~ADMVideoMaskedSoften()

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidStabilize.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidStabilize.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidStabilize.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -49,10 +49,8 @@
 
 char 	*ADMVideoStabilize::printConf(void)
 {
-  static char buf[50];
-
- 	sprintf((char *)buf,&quot; Stabilize :%ld&quot;,*_param);
-        return buf;
+  ADM_FILTER_DECLARE_CONF(&quot; Stabilize :%ld&quot;,*_param);
+        
 }
 uint8_t  GUI_getIntegerValue(int *valye, int min, int max, char *title);
 uint8_t ADMVideoStabilize::configure(AVDMGenericVideoStream *instream)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSwapFields.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSwapFields.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSwapFields.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -54,23 +54,18 @@
 
 char *AVDMVideoSwapField::printConf( void )
 {
- 	static char buf[50];
-
- 	sprintf((char *)buf,&quot; Swap fields&quot;);
-        return buf;
+ ADM_FILTER_DECLARE_CONF(&quot; Swap fields&quot;);
+        
 }
 char *AVDMVideoKeepEven::printConf( void )
 {
- 	static char buf[50];
-
- 	sprintf((char *)buf,&quot; Keep Even Fields&quot;);
-        return buf;
-}char *AVDMVideoKeepOdd::printConf( void )
+ ADM_FILTER_DECLARE_CONF(&quot; Keep Even Fields&quot;);
+        
+}
+char *AVDMVideoKeepOdd::printConf( void )
 {
- 	static char buf[50];
-
- 	sprintf((char *)buf,&quot; Keep Odd Fields&quot;);
-        return buf;
+ 	ADM_FILTER_DECLARE_CONF(&quot; Keep Odd Fields&quot;);
+        
 }
 //_______________________________________________________________
 AVDMVideoSwapField::AVDMVideoSwapField(

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSwapSmart.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSwapSmart.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSwapSmart.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -52,10 +52,8 @@
 
 char *AVDMVideoSwapSmart::printConf( void )
 {
- 	static char buf[50];
-
- 	sprintf((char *)buf,&quot; Smart Swap fields&quot;);
-        return buf;
+ ADM_FILTER_DECLARE_CONF(&quot; Smart Swap fields&quot;);
+        
 }
 
 //_______________________________________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidTdeint.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidTdeint.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidTdeint.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -178,9 +178,8 @@
 /*************************************/
 char *vidTDeint::printConf (void)
 {
-  static char buf[50];
-  sprintf ((char *) buf, &quot; Tritical TDeint&quot;);
-  return buf;
+ ADM_FILTER_DECLARE_CONF( &quot; Tritical TDeint&quot;);
+  
 }
 
 #define MAX_BLOCKS 50

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidUVSwap.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidUVSwap.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidUVSwap.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -43,10 +43,8 @@
 
 char *ADMVideoUVSwap::printConf( void )
 {
- 	static char buf[50];
-
- 	sprintf((char *)buf,&quot; UV Swap&quot;);
-        return buf;
+ 	ADM_FILTER_DECLARE_CONF(&quot; UV Swap&quot;);
+        
 }
 
 ADMVideoUVSwap::ADMVideoUVSwap(  AVDMGenericVideoStream *in,CONFcouple *setup)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidUnblend.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidUnblend.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidUnblend.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -67,9 +67,8 @@
 /*************************************/
 char *vidUnblend::printConf (void)
 {
-  static char buf[50];
-  sprintf ((char *) buf, &quot; Unblend by Bach&quot;);
-  return buf;
+  ADM_FILTER_DECLARE_CONF(&quot; Unblend by Bach&quot;);
+  
 }
 uint8_t vidUnblend::getCoupledConf (CONFcouple ** couples)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidVlad.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidVlad.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidVlad.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -85,11 +85,9 @@
 
 char *AVDMVideoVlad::printConf(void)
 {
-	static char buf[50];
- 	
-	sprintf((char *)buf,&quot; Temporal Cleaner : Y: %02lu / c: %02lu&quot;,_param-&gt;ythresholdMask,
+	ADM_FILTER_DECLARE_CONF(&quot; Temporal Cleaner : Y: %02lu / c: %02lu&quot;,_param-&gt;ythresholdMask,
 				_param-&gt;cthresholdMask	);
-        return buf;
+        
 }
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidVobsub.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidVobsub.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidVobsub.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -82,10 +82,8 @@
 //*************************************************************
 char *ADMVideoVobSub::printConf( void )
 {
-        static char buf[50];
+    ADM_FILTER_DECLARE_CONF(&quot; VobSub&quot;);
         
-        sprintf((char *)buf,&quot; VobSub&quot;);
-        return buf;
 }
 //*************************************************************
 ADMVideoVobSub::ADMVideoVobSub(  AVDMGenericVideoStream *in,CONFcouple *couples)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidWhirl.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidWhirl.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidWhirl.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -73,10 +73,8 @@
 
 char *AVDMVideoWhirl::printConf(void)
 {
-	static char buf[50];
- 	
-	sprintf((char *)buf,&quot; Whril&quot;);
-        return buf;
+	ADM_FILTER_DECLARE_CONF(&quot; Whril&quot;);
+        
 }
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidYadif.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidYadif.cpp	2008-06-23 12:25:24 UTC (rev 4149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidYadif.cpp	2008-06-23 17:23:01 UTC (rev 4150)
@@ -120,10 +120,8 @@
 //***************************************************
 char *ADMVideoYadif::printConf( void )
 {
-  static char buf[50];
- 	
-  sprintf((char *)buf,&quot; Yadif : mode %u order %d&quot;,_param-&gt;mode, _param-&gt;order);
-  return buf;
+ ADM_FILTER_DECLARE_CONF(&quot; Yadif : mode %u order %d&quot;,_param-&gt;mode, _param-&gt;order);
+ 
 }
 
 ADMVideoYadif::ADMVideoYadif(AVDMGenericVideoStream *in, CONFcouple *couples)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001404.html">[Avidemux-svn-commit] r4149 -	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI
</A></li>
	<LI>Next message: <A HREF="001406.html">[Avidemux-svn-commit] r4151 -	branches/avidemux_2.5_branch_gruntster/avidemux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1405">[ date ]</a>
              <a href="thread.html#1405">[ thread ]</a>
              <a href="subject.html#1405">[ subject ]</a>
              <a href="author.html#1405">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
