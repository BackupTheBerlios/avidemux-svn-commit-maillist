<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r3146 - in	branches/avidemux_2.4_branch/avidemux: . ADM_audiofilter	ADM_editor ADM_filter ADM_libraries/ADM_libwrapper	ADM_libraries/ADM_mplex ADM_libraries/ADM_utilities	ADM_requant ADM_toolkit
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2007-May/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3146%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20.%20ADM_audiofilter%0A%09ADM_editor%20ADM_filter%20ADM_libraries/ADM_libwrapper%0A%09ADM_libraries/ADM_mplex%20ADM_libraries/ADM_utilities%0A%09ADM_requant%20ADM_toolkit&In-Reply-To=%3C200705261101.l4QB1WNF027016%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000440.html">
   <LINK REL="Next"  HREF="000442.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r3146 - in	branches/avidemux_2.4_branch/avidemux: . ADM_audiofilter	ADM_editor ADM_filter ADM_libraries/ADM_libwrapper	ADM_libraries/ADM_mplex ADM_libraries/ADM_utilities	ADM_requant ADM_toolkit</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r3146%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20.%20ADM_audiofilter%0A%09ADM_editor%20ADM_filter%20ADM_libraries/ADM_libwrapper%0A%09ADM_libraries/ADM_mplex%20ADM_libraries/ADM_utilities%0A%09ADM_requant%20ADM_toolkit&In-Reply-To=%3C200705261101.l4QB1WNF027016%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r3146 - in	branches/avidemux_2.4_branch/avidemux: . ADM_audiofilter	ADM_editor ADM_filter ADM_libraries/ADM_libwrapper	ADM_libraries/ADM_mplex ADM_libraries/ADM_utilities	ADM_requant ADM_toolkit">mean at mail.berlios.de
       </A><BR>
    <I>Sat May 26 13:01:32 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000440.html">[Avidemux-svn-commit] r3145 - in	branches/avidemux_2.4_branch/avidemux: ADM_audiodevice	ADM_inputs/ADM_avsproxy ADM_inputs/ADM_mpegdemuxer	ADM_inputs/ADM_openDML ADM_script	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_GTK/ADM_gui2	ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk	ADM_userInterfaces/ADM_QT4/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_gui ADM_userInterfaces/ADM_commonUI
</A></li>
        <LI>Next message: <A HREF="000442.html">[Avidemux-svn-commit] r3147 - in	branches/avidemux_2.4_branch/avidemux: . ADM_audio	ADM_osSupport ADM_video
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#441">[ date ]</a>
              <a href="thread.html#441">[ thread ]</a>
              <a href="subject.html#441">[ subject ]</a>
              <a href="author.html#441">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2007-05-26 13:01:30 +0200 (Sat, 26 May 2007)
New Revision: 3146

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_assert.h
   branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_normalize.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_filter/filter_dylib.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.h
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_amrnb.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_dca.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/ADM_mplexin.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/avifmt.h
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/avifmt2.h
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/default.h
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/prefs.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_requant/tcrequant.c
   branches/avidemux_2.4_branch/avidemux/ADM_toolkit/automation.cpp
Log:
cyg_mangling -&gt; win32

Modified: branches/avidemux_2.4_branch/avidemux/ADM_assert.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_assert.h	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_assert.h	2007-05-26 11:01:30 UTC (rev 3146)
@@ -58,7 +58,7 @@
 }
 #endif
 // Compatibility with fprintf etc.. with long long &amp; win32
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
         #define LLX &quot;I64x&quot;
         #define LLU &quot;I64u&quot;
         

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_normalize.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_normalize.cpp	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_normalize.cpp	2007-05-26 11:01:30 UTC (rev 3146)
@@ -41,7 +41,7 @@
 extern AVDMGenericAudioStream *currentaudiostream;
 
 
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 #ifdef ADM_BSD_FAMILY
                 #define POW10(x) powf(10.0,x)
 #else

Modified: branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp	2007-05-26 11:01:30 UTC (rev 3146)
@@ -26,7 +26,7 @@
 #include &lt;pthread.h&gt;
 #define WIN32_CLASH
 //#include &lt;unistd.h&gt;
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 #include &quot;sys/stat.h&quot;
 #endif
 #ifdef ADM_BSD_FAMILY
@@ -352,7 +352,7 @@
                     printf(&quot;Filesystem is writable\n&quot;);
 		}else if( errno == EROFS ){
 		  char *tmpdir = getenv(&quot;TMPDIR&quot;);
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
                         printf(&quot;Filesystem is not writable, looking for somewhere else\n&quot;);
 			if( !tmpdir )
 				tmpdir = &quot;c:&quot;;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_filter/filter_dylib.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_filter/filter_dylib.cpp	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_filter/filter_dylib.cpp	2007-05-26 11:01:30 UTC (rev 3146)
@@ -22,7 +22,7 @@
 #include &lt;stdlib.h&gt;
 #include &lt;string.h&gt;
 #define WIN32_CLASH
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 #include &lt;windows.h&gt; 
 #ifdef USE_EDLL
 #include &quot;edll/edll.h&quot;
@@ -50,7 +50,7 @@
 #include &quot;ADM_osSupport/ADM_debug.h&quot;
 #include &quot;ADM_osSupport/ADM_quota.h&quot;
 
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 #ifdef USE_EDLL
 #define TYPEOFHANDLE     edll_module *
 #define OPENLIB(x)       edll_open(x)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.cpp	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.cpp	2007-05-26 11:01:30 UTC (rev 3146)
@@ -3,7 +3,7 @@
 #include &lt;stdlib.h&gt;
 #include &lt;stdio.h&gt;
 #include &quot;default.h&quot;
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 #include &lt;windows.h&gt;
 #else
 #include &lt;dlfcn.h&gt;
@@ -23,7 +23,7 @@
 	{
 		printf(&quot;Unloading library 0x%08x\n&quot;, hinstLib);
 
-	#ifdef CYG_MANGLING
+	#ifdef ADM_WIN32
 		FreeLibrary((HINSTANCE) hinstLib);
 	#else
 		dlclose(hinstLib);
@@ -36,7 +36,7 @@
 	return initialised;
 }
 
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 char* ADM_LibWrapper::formatMessage(uint32_t msgCode)
 {
 	char* lpMsgBuf;
@@ -49,7 +49,7 @@
 
 bool ADM_LibWrapper::loadLibrary(const char* path)
 {
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 	hinstLib = LoadLibrary(path);
 
 	if (hinstLib == NULL)
@@ -87,7 +87,7 @@
 
 void* ADM_LibWrapper::getSymbol(const char* name)
 {
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 	void* procAddr = (void*)GetProcAddress((HINSTANCE) hinstLib, name);
 
 	if (procAddr == NULL)
@@ -113,7 +113,7 @@
 
 bool ADM_LibWrapper::getSymbols(int symCount, ...)
 {
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
     va_list va;
     va_start(va, symCount);
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.h	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.h	2007-05-26 11:01:30 UTC (rev 3146)
@@ -7,7 +7,7 @@
 		void* hinstLib;
 		bool initialised;
 
-	#ifdef CYG_MANGLING
+	#ifdef ADM_WIN32
 		virtual char* formatMessage(uint32_t msgCode);
 	#endif
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_amrnb.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_amrnb.cpp	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_amrnb.cpp	2007-05-26 11:01:30 UTC (rev 3146)
@@ -8,7 +8,7 @@
 ADM_LibWrapperAmrnb::ADM_LibWrapperAmrnb() : ADM_LibWrapper()
 {
 #ifdef USE_LATE_BINDING
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 	char* libname = &quot;libamrnb-2.dll&quot;;
 #else
 	char* libname = &quot;libamrnb-2.so&quot;;	// ???

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_dca.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_dca.cpp	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_dca.cpp	2007-05-26 11:01:30 UTC (rev 3146)
@@ -8,7 +8,7 @@
 ADM_LibWrapperDca::ADM_LibWrapperDca() : ADM_LibWrapper()
 {
 #ifdef USE_LATE_BINDING
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 	char* libname = &quot;libdts.dll&quot;;
 #else
 	char* libname = &quot;libdts.so&quot;;	// ???

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/ADM_mplexin.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/ADM_mplexin.cpp	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/ADM_mplexin.cpp	2007-05-26 11:01:30 UTC (rev 3146)
@@ -17,7 +17,7 @@
 #include &lt;string.h&gt;
 #include &lt;sys/stat.h&gt;
 #include &lt;errno.h&gt;
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 #include &lt;io.h&gt;
 #endif
 #include &quot;interact.hpp&quot;
@@ -63,7 +63,7 @@
   char msg[512];
    while( !(strm = fopen( cur_filename, &quot;wb&quot; )) ){
       if( errno == ENOSPC
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
                           || errno == EDQUOT
 #endif
                                              ){
@@ -129,7 +129,7 @@
          continue;
       }
       if( rc == -1 &amp;&amp; (errno == ENOSPC
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
                                        || errno == EDQUOT
 #endif
                                                           ) ){

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/avifmt.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/avifmt.h	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/avifmt.h	2007-05-26 11:01:30 UTC (rev 3146)
@@ -13,7 +13,7 @@
 #ifndef NOAVIFMT
 
 #ifndef __WINE_WINDEF_H
-#if !defined( WIN32_CLASH) || !defined(CYG_MANGLING)
+#if !defined( WIN32_CLASH) || !defined(ADM_WIN32)
 #define LOBYTE(w)              ((uint8_t)(uint16_t)(w))
 #define HIBYTE(w)              ((uint8_t)((uint16_t)(w) &gt;&gt; 8))
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/avifmt2.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/avifmt2.h	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/avifmt2.h	2007-05-26 11:01:30 UTC (rev 3146)
@@ -21,7 +21,7 @@
 #ifndef __AVIFMT2__
 #define __AVIFMT2__
 
-#if !defined( WIN32_CLASH) || !defined(CYG_MANGLING)
+#if !defined( WIN32_CLASH) || !defined(ADM_WIN32)
 typedef struct
 {
     uint32_t 		biSize;
@@ -50,14 +50,14 @@
 
 
 typedef struct _avistdindex_chunk {
-/*	uint32_t 		fcc;					// &#146;ix##&#146;
+/*	uint32_t 		fcc;					// &#239;&#191;&#189;ix##&#239;&#191;&#189;
 	DWORD 			cb;
 */
 	uint16_t 	wLongsPerEntry;		// must be sizeof(aIndex[0])/sizeof(DWORD)
 	uint8_t 	bIndexSubType;			// must be 0
 	uint8_t 	bIndexType;			// must be AVI_INDEX_OF_CHUNKS
 	uint32_t 	nEntriesInUse;		//
-	uint32_t 	dwChunkId;			// &#146;##dc&#146; or &#146;##db&#146; or &#146;##wb&#146; etc..
+	uint32_t 	dwChunkId;			// &#239;&#191;&#189;##dc&#239;&#191;&#189; or &#239;&#191;&#189;##db&#239;&#191;&#189; or &#239;&#191;&#189;##wb&#239;&#191;&#189; etc..
 /*	QUADWORD 	qwBaseOffset;		// all dwOffsets in aIndex array are
 														// relative to this
 */

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/default.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/default.h	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/default.h	2007-05-26 11:01:30 UTC (rev 3146)
@@ -99,7 +99,7 @@
 #if (defined( HAVE_LIBESD) &amp;&amp; defined(HAVE_ESD_H)) || \
  defined(OSS_SUPPORT) || defined (USE_ARTS) || \
   defined(USE_SDL) || defined(CONFIG_DARWIN) || \
-  defined(CYG_MANGLING) || defined(ALSA_SUPPORT)
+  defined(ADM_WIN32) || defined(ALSA_SUPPORT)
   
 #define HAVE_AUDIO
 #endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/prefs.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/prefs.cpp	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/prefs.cpp	2007-05-26 11:01:30 UTC (rev 3146)
@@ -420,7 +420,7 @@
         strcat(rcfile,CONFIG);
 
 
-#if defined(CYG_MANGLING)
+#if defined(ADM_WIN32)
 	xmlSetDocCompressMode(xdoc,9);
 	if( xmlSaveFormatFile(rcfile,xdoc,1) == -1 ){
            fprintf(stderr,&quot;\ncan't save xml tree to file. Filesystem full?\n\n&quot;);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_requant/tcrequant.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_requant/tcrequant.c	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_requant/tcrequant.c	2007-05-26 11:01:30 UTC (rev 3146)
@@ -85,7 +85,7 @@
 
 // user defined types
 //typedef unsigned int		uint;
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 	#define uint unsigned int
 #endif
 #ifdef ADM_BSD_FAMILY

Modified: branches/avidemux_2.4_branch/avidemux/ADM_toolkit/automation.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_toolkit/automation.cpp	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_toolkit/automation.cpp	2007-05-26 11:01:30 UTC (rev 3146)
@@ -22,7 +22,7 @@
 #include &lt;stdlib.h&gt;
 //#include &lt;glib.h&gt;
 #include &lt;signal.h&gt;
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 #include &lt;unistd.h&gt;
 #endif
 #include &lt;math.h&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000440.html">[Avidemux-svn-commit] r3145 - in	branches/avidemux_2.4_branch/avidemux: ADM_audiodevice	ADM_inputs/ADM_avsproxy ADM_inputs/ADM_mpegdemuxer	ADM_inputs/ADM_openDML ADM_script	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_GTK/ADM_gui2	ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk	ADM_userInterfaces/ADM_QT4/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_gui ADM_userInterfaces/ADM_commonUI
</A></li>
	<LI>Next message: <A HREF="000442.html">[Avidemux-svn-commit] r3147 - in	branches/avidemux_2.4_branch/avidemux: . ADM_audio	ADM_osSupport ADM_video
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#441">[ date ]</a>
              <a href="thread.html#441">[ thread ]</a>
              <a href="subject.html#441">[ subject ]</a>
              <a href="author.html#441">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
