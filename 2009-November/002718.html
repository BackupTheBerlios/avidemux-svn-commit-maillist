<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r5507 - in branches/avidemux_2.6_branch_mean:	avidemux_core/ADM_coreVideoFilter/include	avidemux_plugins/ADM_videoFilters6	avidemux_plugins/ADM_videoFilters6/resize	avidemux_plugins/ADM_videoFilters6/resize/gtk	avidemux_plugins/ADM_videoFilters6/resize/qt4	avidemux_plugins/ADM_videoFilters6/verticalFlip
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r5507%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux_core/ADM_coreVideoFilter/include%0A%09avidemux_plugins/ADM_videoFilters6%0A%09avidemux_plugins/ADM_videoFilters6/resize%0A%09avidemux_plugins/ADM_videoFilters6/resize/gtk%0A%09avidemux_plugins/ADM_videoFilters6/resize/qt4%0A%09avidemux_plugins/ADM_videoFilters6/verticalFlip&In-Reply-To=%3C200911151735.nAFHZ5ng026813%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002717.html">
   <LINK REL="Next"  HREF="002719.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r5507 - in branches/avidemux_2.6_branch_mean:	avidemux_core/ADM_coreVideoFilter/include	avidemux_plugins/ADM_videoFilters6	avidemux_plugins/ADM_videoFilters6/resize	avidemux_plugins/ADM_videoFilters6/resize/gtk	avidemux_plugins/ADM_videoFilters6/resize/qt4	avidemux_plugins/ADM_videoFilters6/verticalFlip</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r5507%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux_core/ADM_coreVideoFilter/include%0A%09avidemux_plugins/ADM_videoFilters6%0A%09avidemux_plugins/ADM_videoFilters6/resize%0A%09avidemux_plugins/ADM_videoFilters6/resize/gtk%0A%09avidemux_plugins/ADM_videoFilters6/resize/qt4%0A%09avidemux_plugins/ADM_videoFilters6/verticalFlip&In-Reply-To=%3C200911151735.nAFHZ5ng026813%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r5507 - in branches/avidemux_2.6_branch_mean:	avidemux_core/ADM_coreVideoFilter/include	avidemux_plugins/ADM_videoFilters6	avidemux_plugins/ADM_videoFilters6/resize	avidemux_plugins/ADM_videoFilters6/resize/gtk	avidemux_plugins/ADM_videoFilters6/resize/qt4	avidemux_plugins/ADM_videoFilters6/verticalFlip">mean at mail.berlios.de
       </A><BR>
    <I>Sun Nov 15 18:35:05 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002717.html">[Avidemux-svn-commit] r5506 -	branches/avidemux_2.6_branch_mean/avidemux/common
</A></li>
        <LI>Next message: <A HREF="002719.html">[Avidemux-svn-commit] r5508 -	branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2718">[ date ]</a>
              <a href="thread.html#2718">[ thread ]</a>
              <a href="subject.html#2718">[ subject ]</a>
              <a href="author.html#2718">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2009-11-15 18:35:04 +0100 (Sun, 15 Nov 2009)
New Revision: 5507

Added:
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/CMakeLists.txt
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/gtk/
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/gtk/gtk_resize.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/qt4/
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/qt4/Q_resize.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/qt4/Q_resize.h
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/qt4/resizing.ui
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/swScaleResize.cpp
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/swresize.conf
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/swresize.h
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/swresize_desc.cpp
Removed:
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/verticalFlip/ADM_vidFlipV.cpp
Modified:
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_coreVideoFilterInternal.h
   branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/CMakeLists.txt
Log:
[Filter] Add simple resize filter

Modified: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_coreVideoFilterInternal.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_coreVideoFilterInternal.h	2009-11-15 16:47:13 UTC (rev 5506)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_coreVideoFilterInternal.h	2009-11-15 17:35:04 UTC (rev 5507)
@@ -4,10 +4,12 @@
 */
 #ifndef ADM_vf_plugin_h
 #define ADM_vf_plugin_h
+#include &lt;stddef.h&gt;
 #include &quot;ADM_default.h&quot;
 #include &quot;DIA_uiTypes.h&quot;
 #include &quot;ADM_coreVideoFilter.h&quot;
 #include &quot;ADM_filterCategory.h&quot;
+#include &quot;ADM_paramList.h&quot;
 
 #define VF_API_VERSION 1
 /* These are the 6 functions exported by each plugin ...*/

Modified: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/CMakeLists.txt	2009-11-15 16:47:13 UTC (rev 5506)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/CMakeLists.txt	2009-11-15 17:35:04 UTC (rev 5507)
@@ -1,2 +1,3 @@
 ADD_SUBDIRECTORY(dummy)
 ADD_SUBDIRECTORY(verticalFlip)
+ADD_SUBDIRECTORY(resize)

Added: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/CMakeLists.txt
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/CMakeLists.txt	2009-11-15 16:47:13 UTC (rev 5506)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/CMakeLists.txt	2009-11-15 17:35:04 UTC (rev 5507)
@@ -0,0 +1,9 @@
+INCLUDE(vf_plugin)
+
+
+SET(ADM_vf_swscaleResize_SRCS swScaleResize.cpp)
+
+ADD_LIBRARY(ADM_vf_swscaleResize SHARED ${ADM_vf_swscaleResize_SRCS})
+
+INIT_VIDEO_FILTER(ADM_vf_swscaleResize)
+INSTALL_VIDEO_FILTER(ADM_vf_swscaleResize)

Added: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/gtk/gtk_resize.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/gtk/gtk_resize.cpp	2009-11-15 16:47:13 UTC (rev 5506)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/gtk/gtk_resize.cpp	2009-11-15 17:35:04 UTC (rev 5507)
@@ -0,0 +1,561 @@
+/*
+	Resize GUI
+
+*/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include &lt;math.h&gt;
+
+#include &quot;ADM_toolkitGtk.h&quot;
+#include &quot;ADM_default.h&quot;
+#define aprintf(...) {}
+
+#include &lt;gdk/gdkkeysyms.h&gt;
+#include &lt;gtk/gtk.h&gt;
+
+
+#include &quot;ADM_gladeSupport.h&quot;
+
+#define FILL_ENTRY(widget_name,string) 		{r=-1;   \
+gtk_editable_delete_text(GTK_EDITABLE(lookup_widget(dialog,#widget_name)), 0,-1);\
+gtk_editable_insert_text(GTK_EDITABLE(lookup_widget(dialog,#widget_name)), string, strlen(string), &amp;r);}
+#define CHECKBOX(x,y) if(TRUE==gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(lookup_widget(dialog,#x))))  \
+			y=1; else y=0;
+#define READ_ENTRY(widget_name)   gtk_editable_get_chars(GTK_EDITABLE (lookup_widget(dialog,#widget_name)), 0, -1);
+
+#define SPIN_GET(x,y) {y= gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(WID(x))) ;}
+#define SPIN_SET(x,y)  {gtk_spin_button_set_value(GTK_SPIN_BUTTON(WID(x)),(gfloat)y) ;}
+
+
+/*----------------------------------------------*/
+static GtkWidget	*create_dialog1 (void);
+static void drag(GtkButton * button, gpointer user_data);
+static void read (void );
+static void write (void );
+/*----------------------------------------------*/
+static GtkWidget *dialog;
+static uint32_t iw,ih,ow,oh;
+static GtkAdjustment *adj_angle;
+static gint  r;
+static int sar;
+static int dar;
+static int resizeMethod;
+static int roundBool;
+static float erx,ery;
+static double aspectRatio[2][3]={
+								{1.,0.888888,1.19}, // NTSC 1:1 4:3 16:9
+								{1.,1.066667,1.43} // PAL  1:1 4:3 16:9
+							};
+static int pal=1;
+/*----------------------------------------------*/
+uint8_t DIA_resize(uint32_t *width,uint32_t *height,uint32_t *alg,uint32_t originalw, uint32_t originalh,uint32_t fps1000)
+{
+
+
+	char str[100];
+	uint8_t ret=0;
+
+
+	if(fps1000&gt;24600 &amp;&amp; fps1000&lt;25400)
+	{
+		aprintf(&quot;Pal\n&quot;);
+		pal=1;
+	}
+	else
+	{
+		aprintf(&quot;NTSC\n&quot;);
+		pal=0;
+	}
+
+	ow=originalw;
+	oh=originalh;
+
+	iw=*width;
+	ih=*height;
+	dialog=create_dialog1();
+	//gtk_transient(dialog);
+        gtk_register_dialog(dialog);
+	erx=ery=0;
+
+	double val;
+	val=100.*iw;
+	if(ow) val=val/ow;
+	adj_angle=	gtk_range_get_adjustment (GTK_RANGE(WID(hscale1)));
+	gtk_adjustment_set_value( GTK_ADJUSTMENT(adj_angle),(  gdouble  ) val );
+
+	// remember algo
+ 	gtk_option_menu_set_history (GTK_OPTION_MENU (WID(optionmenu1)), *alg);
+
+
+	#define CONNECT(w,x) gtk_signal_connect(GTK_OBJECT(lookup_widget(dialog,#w)), #x, \
+		       GTK_SIGNAL_FUNC(drag), NULL)
+
+		       	CONNECT(hscale1,drag_data_received);
+			CONNECT(hscale1,drag_motion);
+			CONNECT(hscale1,drag_data_get);
+			CONNECT(hscale1,drag_begin);
+
+			gtk_signal_connect(GTK_OBJECT(adj_angle),&quot;value_changed&quot;,    GTK_SIGNAL_FUNC(drag), NULL);
+
+	write();
+
+	ret=0;
+	uint8_t stop=0;
+	while(!stop)
+	{
+		switch(gtk_dialog_run(GTK_DIALOG(dialog)))
+		{
+			case GTK_RESPONSE_OK:
+				gchar *s;
+
+                                SPIN_GET(spinbutton_width,*width);
+                                SPIN_GET(spinbutton_height,*height);
+				*alg= getRangeInMenu(lookup_widget(dialog,&quot;optionmenu1&quot;));
+				ret=1;
+				stop=1;
+				break;
+		default:			
+		case GTK_RESPONSE_CANCEL:
+				stop=1;
+				break;
+		case GTK_RESPONSE_APPLY:
+				drag(NULL,NULL);
+				break;
+							
+		}
+
+	}
+        gtk_unregister_dialog(dialog);
+	gtk_widget_destroy(dialog);
+
+	return ret;
+
+}
+/*
+	Called when the hscale is changed
+*/
+void drag(GtkButton * button, gpointer user_data)
+{
+  UNUSED_ARG(button);
+  UNUSED_ARG(user_data);
+
+  double percent;
+  float x,y;
+  float sr_mul,dst_mul;
+
+ int32_t xx,yy;
+
+
+
+  percent = GTK_ADJUSTMENT(adj_angle)-&gt;value;
+  if(percent&lt;10.0) percent=10.;
+  read();
+
+  aprintf(&quot;drag called : %f \n&quot;,percent);
+  x=ow;
+  y=oh;
+ erx=0;
+ ery=0;
+  sr_mul=1.;
+  if(sar)
+  	{  // source is 4/3 or 16/9
+			sr_mul=aspectRatio[pal][sar];
+
+	}
+
+dst_mul=1.;
+  if(dar)
+  	{  // dst is 4/3 or 16/9
+
+			dst_mul=1/aspectRatio[pal][dar];
+	}
+	aprintf(&quot;source mul %02.2f , dst mul : %02.2f\n&quot;,sr_mul,dst_mul);
+	x=x*sr_mul*dst_mul;
+	y=y;
+
+	// normalize it to recover 100% width
+	y=y/(x/ow);
+	x=ow;
+
+	aprintf(&quot;AR:x,y  : %03f %03f \n&quot;,x,y);
+
+  	percent/=100.;
+  	x=x*percent;
+  	y=y*percent;
+
+
+	aprintf(&quot;AR x,y  : %03f %03f \n&quot;,x,y);
+  	xx=(uint32_t)floor(x+0.5);
+	yy=(uint32_t)floor(y+0.5);
+
+	if(xx&amp;1) xx--;
+	if(yy&amp;1) yy--;
+
+
+	if(roundBool)
+	{
+		int32_t ox=xx,oy=yy;
+		xx=(xx +7) &amp; 0xfffff0;
+		yy=(yy +7) &amp; 0xfffff0;
+
+		erx=(xx-ox);
+		erx=erx/xx;
+		ery=(yy-oy);
+		ery=ery/yy;
+
+		aprintf(&quot;x: %d -&gt; %d : err %f\n&quot;,ox,xx,erx);
+		aprintf(&quot;y: %d -&gt; %d : err %f\n&quot;,oy,yy,ery);
+	}
+
+	iw=xx;
+	ih=yy;
+	write();
+
+  }
+//---------------------------------------------
+// 	read all value from dialog
+//---------------------------------------------
+void read (void )
+{
+	// Read source and dest aspect ratio
+ 	sar=getRangeInMenu(WID(optionmenu_source));
+	dar=getRangeInMenu(WID(optionmenu_dest));
+	// Read resizing method
+	resizeMethod=getRangeInMenu(WID(optionmenu1));
+	// Read round to neareast 16
+	CHECKBOX(checkbutton_16,roundBool);
+
+}
+//---------------------------------------------
+// 	update dialog with new value
+//---------------------------------------------
+
+void write (void )
+{
+ char str[100];
+
+        SPIN_SET(spinbutton_width,iw);
+        SPIN_SET(spinbutton_height,ih);
+
+	sprintf(str,&quot;%2.2f&quot;,erx*100.);
+	gtk_label_set_text(GTK_LABEL(WID(label_errorx)),str);
+
+	sprintf(str,&quot;%2.2f&quot;,ery*100.);
+	gtk_label_set_text(GTK_LABEL(WID(label_errory)),str);
+
+}
+
+//----------------------------
+GtkWidget*
+create_dialog1 (void)
+{
+  GtkWidget *dialog1;
+  GtkWidget *dialog_vbox1;
+  GtkWidget *vbox1;
+  GtkWidget *table2;
+  GtkWidget *label1;
+  GtkWidget *label2;
+  GtkObject *spinbutton_width_adj;
+  GtkWidget *spinbutton_width;
+  GtkObject *spinbutton_height_adj;
+  GtkWidget *spinbutton_height;
+  GtkWidget *label5;
+  GtkWidget *label6;
+  GtkWidget *optionmenu_source;
+  GtkWidget *menu1;
+  GtkWidget *item1_1;
+  GtkWidget *_4_1;
+  GtkWidget *_16_1;
+  GtkWidget *optionmenu_dest;
+  GtkWidget *menu2;
+  GtkWidget *menuitem1;
+  GtkWidget *menuitem2;
+  GtkWidget *menuitem3;
+  GtkWidget *label3;
+  GtkWidget *label_errorx;
+  GtkWidget *label7;
+  GtkWidget *label_errory;
+  GtkWidget *checkbutton_16;
+  GtkWidget *optionmenu1;
+  GtkWidget *menu3;
+  GtkWidget *bilinear1;
+  GtkWidget *bicubic1;
+  GtkWidget *lanczos1;
+  GtkWidget *alignment1;
+  GtkWidget *fixed1;
+  GtkWidget *fixed2;
+  GtkWidget *hscale1;
+  GtkWidget *dialog_action_area1;
+  GtkWidget *cancelbutton1;
+  GtkWidget *applybutton1;
+  GtkWidget *okbutton1;
+
+  dialog1 = gtk_dialog_new ();
+  gtk_window_set_title (GTK_WINDOW (dialog1), QT_TR_NOOP(&quot;Resize&quot;));
+  gtk_window_set_type_hint (GTK_WINDOW (dialog1), GDK_WINDOW_TYPE_HINT_DIALOG);
+
+  dialog_vbox1 = GTK_DIALOG (dialog1)-&gt;vbox;
+  gtk_widget_show (dialog_vbox1);
+
+  vbox1 = gtk_vbox_new (FALSE, 0);
+  gtk_widget_show (vbox1);
+  gtk_box_pack_start (GTK_BOX (dialog_vbox1), vbox1, TRUE, TRUE, 0);
+
+  table2 = gtk_table_new (4, 4, FALSE);
+  gtk_widget_show (table2);
+  gtk_box_pack_start (GTK_BOX (vbox1), table2, FALSE, FALSE, 0);
+
+  label1 = gtk_label_new (QT_TR_NOOP(&quot; Width &quot;));
+  gtk_widget_show (label1);
+  gtk_table_attach (GTK_TABLE (table2), label1, 0, 1, 0, 1,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  gtk_misc_set_alignment (GTK_MISC (label1), 0, 0.5);
+
+  label2 = gtk_label_new (QT_TR_NOOP(&quot; Height &quot;));
+  gtk_widget_show (label2);
+  gtk_table_attach (GTK_TABLE (table2), label2, 0, 1, 1, 2,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
+
+  spinbutton_width_adj = gtk_adjustment_new (2, 0, 3000, 1, 10, 10);
+  spinbutton_width = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_width_adj), 1, 0);
+  gtk_widget_show (spinbutton_width);
+  gtk_table_attach (GTK_TABLE (table2), spinbutton_width, 1, 2, 0, 1,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton_width), TRUE);
+
+  spinbutton_height_adj = gtk_adjustment_new (1, 0, 3000, 1, 10, 10);
+  spinbutton_height = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_height_adj), 1, 0);
+  gtk_widget_show (spinbutton_height);
+  gtk_table_attach (GTK_TABLE (table2), spinbutton_height, 1, 2, 1, 2,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton_height), TRUE);
+
+  label5 = gtk_label_new (QT_TR_NOOP(&quot;Source :&quot;));
+  gtk_widget_show (label5);
+  gtk_table_attach (GTK_TABLE (table2), label5, 2, 3, 0, 1,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+
+  label6 = gtk_label_new (QT_TR_NOOP(&quot;Destination&quot;));
+  gtk_widget_show (label6);
+  gtk_table_attach (GTK_TABLE (table2), label6, 2, 3, 1, 2,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+
+  optionmenu_source = gtk_option_menu_new ();
+  gtk_widget_show (optionmenu_source);
+  gtk_table_attach (GTK_TABLE (table2), optionmenu_source, 3, 4, 0, 1,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+
+  menu1 = gtk_menu_new ();
+
+  item1_1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;1:1&quot;));
+  gtk_widget_show (item1_1);
+  gtk_container_add (GTK_CONTAINER (menu1), item1_1);
+
+  _4_1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;4:3&quot;));
+  gtk_widget_show (_4_1);
+  gtk_container_add (GTK_CONTAINER (menu1), _4_1);
+
+  _16_1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;16:9&quot;));
+  gtk_widget_show (_16_1);
+  gtk_container_add (GTK_CONTAINER (menu1), _16_1);
+
+  gtk_option_menu_set_menu (GTK_OPTION_MENU (optionmenu_source), menu1);
+
+  optionmenu_dest = gtk_option_menu_new ();
+  gtk_widget_show (optionmenu_dest);
+  gtk_table_attach (GTK_TABLE (table2), optionmenu_dest, 3, 4, 1, 2,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+
+  menu2 = gtk_menu_new ();
+
+  menuitem1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;1:1&quot;));
+  gtk_widget_show (menuitem1);
+  gtk_container_add (GTK_CONTAINER (menu2), menuitem1);
+
+  menuitem2 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;4:3&quot;));
+  gtk_widget_show (menuitem2);
+  gtk_container_add (GTK_CONTAINER (menu2), menuitem2);
+
+  menuitem3 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;16:9&quot;));
+  gtk_widget_show (menuitem3);
+  gtk_container_add (GTK_CONTAINER (menu2), menuitem3);
+
+  gtk_option_menu_set_menu (GTK_OPTION_MENU (optionmenu_dest), menu2);
+
+  label3 = gtk_label_new (QT_TR_NOOP(&quot; Error X:&quot;));
+  gtk_widget_show (label3);
+  gtk_table_attach (GTK_TABLE (table2), label3, 0, 1, 2, 3,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  gtk_misc_set_alignment (GTK_MISC (label3), 0, 0.5);
+
+  label_errorx = gtk_label_new (QT_TR_NOOP(&quot;0&quot;));
+  gtk_widget_show (label_errorx);
+  gtk_table_attach (GTK_TABLE (table2), label_errorx, 1, 2, 2, 3,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  gtk_misc_set_alignment (GTK_MISC (label_errorx), 0, 0.5);
+
+  label7 = gtk_label_new (QT_TR_NOOP(&quot; Error Y:&quot;));
+  gtk_widget_show (label7);
+  gtk_table_attach (GTK_TABLE (table2), label7, 0, 1, 3, 4,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  gtk_misc_set_alignment (GTK_MISC (label7), 0, 0.5);
+
+  label_errory = gtk_label_new (QT_TR_NOOP(&quot;0&quot;));
+  gtk_widget_show (label_errory);
+  gtk_table_attach (GTK_TABLE (table2), label_errory, 1, 2, 3, 4,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  gtk_misc_set_alignment (GTK_MISC (label_errory), 0, 0.5);
+
+  checkbutton_16 = gtk_check_button_new_with_mnemonic (QT_TR_NOOP(&quot;16 round up&quot;));
+  gtk_widget_show (checkbutton_16);
+  gtk_table_attach (GTK_TABLE (table2), checkbutton_16, 3, 4, 2, 3,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+
+  optionmenu1 = gtk_option_menu_new ();
+  gtk_widget_show (optionmenu1);
+  gtk_table_attach (GTK_TABLE (table2), optionmenu1, 3, 4, 3, 4,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+
+  menu3 = gtk_menu_new ();
+
+  bilinear1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;Bilinear&quot;));
+  gtk_widget_show (bilinear1);
+  gtk_container_add (GTK_CONTAINER (menu3), bilinear1);
+
+  bicubic1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;Bicubic&quot;));
+  gtk_widget_show (bicubic1);
+  gtk_container_add (GTK_CONTAINER (menu3), bicubic1);
+
+  lanczos1 = gtk_menu_item_new_with_mnemonic (QT_TR_NOOP(&quot;Lanczos3&quot;));
+  gtk_widget_show (lanczos1);
+  gtk_container_add (GTK_CONTAINER (menu3), lanczos1);
+
+  gtk_option_menu_set_menu (GTK_OPTION_MENU (optionmenu1), menu3);
+
+  alignment1 = gtk_alignment_new (0.5, 0.5, 1, 1);
+  gtk_widget_show (alignment1);
+  gtk_table_attach (GTK_TABLE (table2), alignment1, 2, 3, 2, 3,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (GTK_FILL), 0, 0);
+
+  fixed1 = gtk_fixed_new ();
+  gtk_widget_show (fixed1);
+  gtk_container_add (GTK_CONTAINER (alignment1), fixed1);
+
+  fixed2 = gtk_fixed_new ();
+  gtk_widget_show (fixed2);
+  gtk_table_attach (GTK_TABLE (table2), fixed2, 2, 3, 3, 4,
+                    (GtkAttachOptions) (GTK_FILL),
+                    (GtkAttachOptions) (GTK_FILL), 0, 0);
+
+  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (100, 0, 100, 1, 1, 0)));
+  gtk_widget_show (hscale1);
+  gtk_box_pack_start (GTK_BOX (vbox1), hscale1, FALSE, FALSE, 0);
+  gtk_scale_set_digits (GTK_SCALE (hscale1), 0);
+
+  dialog_action_area1 = GTK_DIALOG (dialog1)-&gt;action_area;
+  gtk_widget_show (dialog_action_area1);
+  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
+
+  cancelbutton1 = gtk_button_new_from_stock (&quot;gtk-cancel&quot;);
+  gtk_widget_show (cancelbutton1);
+  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
+  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
+
+  applybutton1 = gtk_button_new_from_stock (&quot;gtk-apply&quot;);
+  gtk_widget_show (applybutton1);
+  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), applybutton1, GTK_RESPONSE_APPLY);
+  GTK_WIDGET_SET_FLAGS (applybutton1, GTK_CAN_DEFAULT);
+
+  okbutton1 = gtk_button_new_from_stock (&quot;gtk-ok&quot;);
+  gtk_widget_show (okbutton1);
+  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
+  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
+/*
+  g_signal_connect ((gpointer) _4_1, &quot;activate&quot;,
+                    G_CALLBACK (on_4_1_activate),
+                    NULL);
+  g_signal_connect ((gpointer) _16_1, &quot;activate&quot;,
+                    G_CALLBACK (on_16_1_activate),
+                    NULL);
+  g_signal_connect ((gpointer) menuitem2, &quot;activate&quot;,
+                    G_CALLBACK (on_4_1_activate),
+                    NULL);
+  g_signal_connect ((gpointer) menuitem3, &quot;activate&quot;,
+                    G_CALLBACK (on_16_1_activate),
+                    NULL);
+  g_signal_connect ((gpointer) bilinear1, &quot;activate&quot;,
+                    G_CALLBACK (on_bilinear1_activate),
+                    NULL);
+  g_signal_connect ((gpointer) bicubic1, &quot;activate&quot;,
+                    G_CALLBACK (on_bicubic1_activate),
+                    NULL);
+  g_signal_connect ((gpointer) lanczos1, &quot;activate&quot;,
+                    G_CALLBACK (on_lanczos1_activate),
+                    NULL);
+*/
+  /* Store pointers to all widgets, for use by lookup_widget(). */
+  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, &quot;dialog1&quot;);
+  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, &quot;dialog_vbox1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, vbox1, &quot;vbox1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, table2, &quot;table2&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, label1, &quot;label1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, label2, &quot;label2&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, spinbutton_width, &quot;spinbutton_width&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, spinbutton_height, &quot;spinbutton_height&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, label5, &quot;label5&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, label6, &quot;label6&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, optionmenu_source, &quot;optionmenu_source&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, menu1, &quot;menu1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, item1_1, &quot;item1_1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, _4_1, &quot;_4_1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, _16_1, &quot;_16_1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, optionmenu_dest, &quot;optionmenu_dest&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, menu2, &quot;menu2&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, menuitem1, &quot;menuitem1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, menuitem2, &quot;menuitem2&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, menuitem3, &quot;menuitem3&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, label3, &quot;label3&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, label_errorx, &quot;label_errorx&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, label7, &quot;label7&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, label_errory, &quot;label_errory&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, checkbutton_16, &quot;checkbutton_16&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, optionmenu1, &quot;optionmenu1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, menu3, &quot;menu3&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, bilinear1, &quot;bilinear1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, bicubic1, &quot;bicubic1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, lanczos1, &quot;lanczos1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, alignment1, &quot;alignment1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, fixed1, &quot;fixed1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, fixed2, &quot;fixed2&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, hscale1, &quot;hscale1&quot;);
+  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, &quot;dialog_action_area1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, &quot;cancelbutton1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, applybutton1, &quot;applybutton1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, okbutton1, &quot;okbutton1&quot;);
+
+  return dialog1;
+}
+

Added: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/qt4/Q_resize.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/qt4/Q_resize.cpp	2009-11-15 16:47:13 UTC (rev 5506)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/qt4/Q_resize.cpp	2009-11-15 17:35:04 UTC (rev 5507)
@@ -0,0 +1,278 @@
+/***************************************************************************
+    copyright            : (C) 2001 by mean
+    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include &lt;math.h&gt;
+
+#include &quot;Q_resize.h&quot;
+#include &quot;DIA_coreToolkit.h&quot;
+
+static double aspectRatio[2][3]={
+                              {1.,0.888888,1.19}, // NTSC 1:1 4:3 16:9
+                              {1.,1.066667,1.43} // PAL  1:1 4:3 16:9
+                            };
+#define aprintf
+
+resizeWindow::resizeWindow(resParam *param) : QDialog()
+ {
+     ui.setupUi(this);
+	 lastPercentage = 100;
+     _param=param;
+     ui.spinBoxWidth-&gt;setValue(_param-&gt;width);
+     ui.spinBoxHeight-&gt;setValue(_param-&gt;height);
+     ui.horizontalSlider-&gt;setValue(100);
+     updateWidthHeightSpinners();
+
+	 connect(ui.comboBoxSource, SIGNAL(currentIndexChanged(int)), this, SLOT(aspectRatioChanged(int)));
+	 connect(ui.comboBoxDestination, SIGNAL(currentIndexChanged(int)), this, SLOT(aspectRatioChanged(int)));
+	 connect(ui.checkBoxRoundup, SIGNAL(toggled(bool)), this, SLOT(roundupToggled(bool)));
+	 connect(ui.lockArCheckBox, SIGNAL(toggled(bool)), this, SLOT(lockArToggled(bool)));
+	 connect(ui.buttonBox, SIGNAL(accepted()), this, SLOT(okButtonClicked()));
+
+	 connectDimensionControls();
+ }
+
+ void resizeWindow::gather(void)
+ {
+    _param-&gt;width=ui.spinBoxWidth-&gt;value();
+    _param-&gt;height=ui.spinBoxHeight-&gt;value();
+    _param-&gt;algo=ui.comboBoxAlgo-&gt;currentIndex();
+ }
+ 
+ void resizeWindow::sliderChanged(int value)
+{
+	disconnectDimensionControls();
+
+	percentageSpinBoxChanged(value);
+
+	connectDimensionControls();
+}
+
+void resizeWindow::percentageSpinBoxChanged(int value)
+{
+	disconnectDimensionControls();
+
+	if (ui.checkBoxRoundup-&gt;isChecked())
+	{
+		if (lastPercentage &gt; value)
+			ui.spinBoxWidth-&gt;setValue(ui.spinBoxWidth-&gt;value() - 16);
+		else
+			ui.spinBoxWidth-&gt;setValue(ui.spinBoxWidth-&gt;value() + 16);
+	}
+	else
+	{
+		float width = _param-&gt;originalWidth;
+
+		width /= 100.;
+		width *= value;
+
+		ui.spinBoxWidth-&gt;setValue(floor(width + 0.5));
+	}
+
+	updateWidthHeightSpinners(false);
+
+	lastPercentage = ui.percentageSpinBox-&gt;value();
+
+	connectDimensionControls();
+}
+
+void resizeWindow::widthSpinBoxChanged(int value)
+{
+	disconnectDimensionControls();
+
+	if (ui.lockArCheckBox-&gt;isChecked())
+		updateWidthHeightSpinners(false);
+
+	connectDimensionControls();
+}
+
+void resizeWindow::heightSpinBoxChanged(int value)
+{
+	disconnectDimensionControls();
+
+	if (ui.lockArCheckBox-&gt;isChecked())
+		updateWidthHeightSpinners(true);
+
+	connectDimensionControls();
+}
+
+void resizeWindow::aspectRatioChanged(int index)
+{
+	disconnectDimensionControls();
+
+	if (ui.lockArCheckBox-&gt;isChecked())
+		updateWidthHeightSpinners();
+
+	connectDimensionControls();
+}
+
+void resizeWindow::disconnectDimensionControls()
+{
+	disconnect(ui.spinBoxHeight, SIGNAL(valueChanged(int)), this, SLOT(heightSpinBoxChanged(int)));
+	disconnect(ui.spinBoxWidth, SIGNAL(valueChanged(int)), this, SLOT(widthSpinBoxChanged(int)));
+	disconnect(ui.horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(sliderChanged(int)));
+	disconnect(ui.percentageSpinBox, SIGNAL(valueChanged(int)), this, SLOT(percentageSpinBoxChanged(int)));
+}
+
+void resizeWindow::connectDimensionControls()
+{
+	connect(ui.spinBoxHeight, SIGNAL(valueChanged(int)), this, SLOT(heightSpinBoxChanged(int)));
+	connect(ui.spinBoxWidth, SIGNAL(valueChanged(int)), this, SLOT(widthSpinBoxChanged(int)));
+	connect(ui.horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(sliderChanged(int)));
+	connect(ui.percentageSpinBox, SIGNAL(valueChanged(int)), this, SLOT(percentageSpinBoxChanged(int)));
+}
+
+void resizeWindow::updateWidthHeightSpinners(bool useHeightAsRef)
+{
+	int sar = ui.comboBoxSource-&gt;currentIndex();
+	int dar = ui.comboBoxDestination-&gt;currentIndex();
+	float x = ui.spinBoxWidth-&gt;value();
+	float y = ui.spinBoxHeight-&gt;value();
+	float sr_mul = 1.;
+	float dst_mul = 1.;
+	float ar = 1.;
+
+	if (sar)
+	{  // source is 4/3 or 16/9
+		sr_mul = aspectRatio[_param-&gt;pal][sar];
+	}
+
+	if (dar)
+	{  // dst is 4/3 or 16/9
+		dst_mul = 1 / aspectRatio[_param-&gt;pal][dar];
+	}
+
+	aprintf(&quot;source mul %02.2f , dst mul: %02.2f\n&quot;, sr_mul, dst_mul);
+
+	ar = _param-&gt;originalWidth / (_param-&gt;originalHeight / (sr_mul * dst_mul));
+
+	if (useHeightAsRef)
+		x = y * ar;
+	else
+		y = x / ar;
+
+	aprintf(&quot;x, y: %03f, %03f\n&quot;, x, y);
+
+	int xx = floor(x + 0.5);
+	int yy = floor(y + 0.5);
+
+	if (xx &amp; 1)
+		xx--;
+
+	if (yy &amp; 1)
+		yy--;
+
+	roundUp(xx, yy);
+	updateSlider();
+}
+
+void resizeWindow::updateSlider()
+{
+	float percent = (((float)ui.spinBoxWidth-&gt;value() / (float)_param-&gt;originalWidth) * 100.) + 0.5;
+
+	ui.horizontalSlider-&gt;setValue(percent);
+	ui.percentageSpinBox-&gt;setValue(percent);
+}
+
+void resizeWindow::roundUp(int xx, int yy)
+{
+	float erx = 0.;
+	float ery = 0.;
+
+	if (ui.checkBoxRoundup-&gt;checkState())
+	{
+		int ox = xx, oy = yy;
+
+		xx = (xx + 7) &amp; 0xfffff0;
+		yy = (yy + 7) &amp; 0xfffff0;
+
+		erx = xx - ox;
+		erx = erx / xx;
+		ery = yy - oy;
+		ery = ery / yy;
+
+		aprintf(&quot;x: %d -&gt; %d : err %f\n&quot;, ox, xx, erx);
+		aprintf(&quot;y: %d -&gt; %d : err %f\n&quot;, oy, yy, ery);
+	}
+
+	ui.spinBoxWidth-&gt;setValue(xx);
+	ui.spinBoxHeight-&gt;setValue(yy);
+
+	ui.labelErrorXY-&gt;setText(QString(&quot;%1&quot;).arg(erx * 100., 0, 'f', 2) + &quot; / &quot; + QString(&quot;%1&quot;).arg(ery * 100., 0, 'f', 2));
+}
+
+void resizeWindow::lockArToggled(bool toggled)
+{
+	if (ui.lockArCheckBox-&gt;isChecked())
+		widthSpinBoxChanged(0);
+	else
+		ui.checkBoxRoundup-&gt;setChecked(false);
+}
+
+void resizeWindow::roundupToggled(bool toggled)
+{
+	if (toggled)
+	{
+		disconnectDimensionControls();
+
+		ui.spinBoxWidth-&gt;setSingleStep(16);
+		ui.spinBoxHeight-&gt;setSingleStep(16);
+		widthSpinBoxChanged(0);
+
+		connectDimensionControls();
+	}
+	else
+	{
+		ui.spinBoxWidth-&gt;setSingleStep(2);
+		ui.spinBoxHeight-&gt;setSingleStep(2);
+	}
+}
+
+void resizeWindow::okButtonClicked()
+{
+	if (ui.spinBoxWidth-&gt;value() &amp; 1 || ui.spinBoxHeight-&gt;value() &amp; 1)
+		GUI_Error_HIG(QT_TR_NOOP(&quot;Width and height cannot be odd&quot;), NULL);
+	else
+		accept();
+}
+
+/**
+    \fn DIA_resize
+    \brief Handle resize dialo
+*/
+uint8_t DIA_resize(uint32_t *width,uint32_t *height,uint32_t *alg,uint32_t originalw, uint32_t originalh,uint32_t fps1000)
+{
+uint8_t r=0;
+      resParam param={*width,*height,originalw,originalh,fps1000,*alg,0};
+      //
+      if(fps1000&gt;24600 &amp;&amp; fps1000&lt;25400)
+        {
+                param.pal=1;
+        }
+       
+
+     // Fetch info
+     resizeWindow resizewindow(&amp;param) ;
+     ;
+     if(resizewindow.exec()==QDialog::Accepted)
+     {
+       resizewindow.gather();
+       *width=param.width;
+       *height=param.height;
+       *alg=param.algo;
+       r=1;
+     }
+     return r;
+}  
+//********************************************
+//EOF

Added: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/qt4/Q_resize.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/qt4/Q_resize.h	2009-11-15 16:47:13 UTC (rev 5506)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/qt4/Q_resize.h	2009-11-15 17:35:04 UTC (rev 5507)
@@ -0,0 +1,31 @@
+#ifndef Q_resizing_h
+#define Q_resizing_h
+
+#include &quot;ui_resizing.h&quot;
+
+typedef struct resParam
+{
+	uint32_t width,height;
+	uint32_t originalWidth, originalHeight;
+	uint32_t fps1000;
+	uint32_t algo;
+	uint32_t pal;
+} resParam;
+
+class resizeWindow : public QDialog
+{
+	Q_OBJECT
+
+protected: 
+	resParam *_param;
+
+public:
+	resizeWindow(resParam *param);
+	~resizeWindow();
+	Ui_resizeDialog ui;
+
+public slots:
+	void gather(void);
+	void update(int i);
+};
+#endif	// Q_resizing_h

Added: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/qt4/resizing.ui
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/qt4/resizing.ui	2009-11-15 16:47:13 UTC (rev 5506)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/qt4/resizing.ui	2009-11-15 17:35:04 UTC (rev 5507)
@@ -0,0 +1,724 @@
+&lt;ui version=&quot;4.0&quot; &gt;
+ &lt;class&gt;resizeDialog&lt;/class&gt;
+ &lt;widget class=&quot;QDialog&quot; name=&quot;resizeDialog&quot; &gt;
+  &lt;property name=&quot;geometry&quot; &gt;
+   &lt;rect&gt;
+    &lt;x&gt;0&lt;/x&gt;
+    &lt;y&gt;0&lt;/y&gt;
+    &lt;width&gt;350&lt;/width&gt;
+    &lt;height&gt;342&lt;/height&gt;
+   &lt;/rect&gt;
+  &lt;/property&gt;
+  &lt;property name=&quot;windowTitle&quot; &gt;
+   &lt;string&gt;Resize&lt;/string&gt;
+  &lt;/property&gt;
+  &lt;layout class=&quot;QVBoxLayout&quot; &gt;
+   &lt;property name=&quot;margin&quot; &gt;
+    &lt;number&gt;9&lt;/number&gt;
+   &lt;/property&gt;
+   &lt;property name=&quot;spacing&quot; &gt;
+    &lt;number&gt;6&lt;/number&gt;
+   &lt;/property&gt;
+   &lt;item&gt;
+    &lt;widget class=&quot;QGroupBox&quot; name=&quot;groupBox_2&quot; &gt;
+     &lt;property name=&quot;title&quot; &gt;
+      &lt;string&gt;Aspect Ratio&lt;/string&gt;
+     &lt;/property&gt;
+     &lt;layout class=&quot;QVBoxLayout&quot; &gt;
+      &lt;property name=&quot;margin&quot; &gt;
+       &lt;number&gt;9&lt;/number&gt;
+      &lt;/property&gt;
+      &lt;property name=&quot;spacing&quot; &gt;
+       &lt;number&gt;6&lt;/number&gt;
+      &lt;/property&gt;
+      &lt;item&gt;
+       &lt;widget class=&quot;QCheckBox&quot; name=&quot;lockArCheckBox&quot; &gt;
+        &lt;property name=&quot;text&quot; &gt;
+         &lt;string&gt;Lock Aspect Ratio&lt;/string&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;checked&quot; &gt;
+         &lt;bool&gt;true&lt;/bool&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item&gt;
+       &lt;layout class=&quot;QHBoxLayout&quot; &gt;
+        &lt;property name=&quot;margin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;spacing&quot; &gt;
+         &lt;number&gt;6&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;item&gt;
+         &lt;widget class=&quot;QLabel&quot; name=&quot;label_4&quot; &gt;
+          &lt;property name=&quot;text&quot; &gt;
+           &lt;string&gt;Source:&lt;/string&gt;
+          &lt;/property&gt;
+         &lt;/widget&gt;
+        &lt;/item&gt;
+        &lt;item&gt;
+         &lt;widget class=&quot;QComboBox&quot; name=&quot;comboBoxSource&quot; &gt;
+          &lt;item&gt;
+           &lt;property name=&quot;text&quot; &gt;
+            &lt;string&gt;1:1&lt;/string&gt;
+           &lt;/property&gt;
+          &lt;/item&gt;
+          &lt;item&gt;
+           &lt;property name=&quot;text&quot; &gt;
+            &lt;string&gt;4:3&lt;/string&gt;
+           &lt;/property&gt;
+          &lt;/item&gt;
+          &lt;item&gt;
+           &lt;property name=&quot;text&quot; &gt;
+            &lt;string&gt;16:9&lt;/string&gt;
+           &lt;/property&gt;
+          &lt;/item&gt;
+         &lt;/widget&gt;
+        &lt;/item&gt;
+        &lt;item&gt;
+         &lt;spacer&gt;
+          &lt;property name=&quot;orientation&quot; &gt;
+           &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;sizeType&quot; &gt;
+           &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;sizeHint&quot; &gt;
+           &lt;size&gt;
+            &lt;width&gt;30&lt;/width&gt;
+            &lt;height&gt;20&lt;/height&gt;
+           &lt;/size&gt;
+          &lt;/property&gt;
+         &lt;/spacer&gt;
+        &lt;/item&gt;
+        &lt;item&gt;
+         &lt;widget class=&quot;QLabel&quot; name=&quot;label_3&quot; &gt;
+          &lt;property name=&quot;text&quot; &gt;
+           &lt;string&gt;Destination:&lt;/string&gt;
+          &lt;/property&gt;
+         &lt;/widget&gt;
+        &lt;/item&gt;
+        &lt;item&gt;
+         &lt;widget class=&quot;QComboBox&quot; name=&quot;comboBoxDestination&quot; &gt;
+          &lt;item&gt;
+           &lt;property name=&quot;text&quot; &gt;
+            &lt;string&gt;1:1&lt;/string&gt;
+           &lt;/property&gt;
+          &lt;/item&gt;
+          &lt;item&gt;
+           &lt;property name=&quot;text&quot; &gt;
+            &lt;string&gt;4:3&lt;/string&gt;
+           &lt;/property&gt;
+          &lt;/item&gt;
+          &lt;item&gt;
+           &lt;property name=&quot;text&quot; &gt;
+            &lt;string&gt;16:9&lt;/string&gt;
+           &lt;/property&gt;
+          &lt;/item&gt;
+         &lt;/widget&gt;
+        &lt;/item&gt;
+        &lt;item&gt;
+         &lt;spacer&gt;
+          &lt;property name=&quot;orientation&quot; &gt;
+           &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;sizeHint&quot; &gt;
+           &lt;size&gt;
+            &lt;width&gt;40&lt;/width&gt;
+            &lt;height&gt;20&lt;/height&gt;
+           &lt;/size&gt;
+          &lt;/property&gt;
+         &lt;/spacer&gt;
+        &lt;/item&gt;
+       &lt;/layout&gt;
+      &lt;/item&gt;
+     &lt;/layout&gt;
+    &lt;/widget&gt;
+   &lt;/item&gt;
+   &lt;item&gt;
+    &lt;widget class=&quot;QGroupBox&quot; name=&quot;groupBox&quot; &gt;
+     &lt;property name=&quot;title&quot; &gt;
+      &lt;string&gt;Resize Dimensions&lt;/string&gt;
+     &lt;/property&gt;
+     &lt;layout class=&quot;QVBoxLayout&quot; &gt;
+      &lt;property name=&quot;margin&quot; &gt;
+       &lt;number&gt;9&lt;/number&gt;
+      &lt;/property&gt;
+      &lt;property name=&quot;spacing&quot; &gt;
+       &lt;number&gt;6&lt;/number&gt;
+      &lt;/property&gt;
+      &lt;item&gt;
+       &lt;layout class=&quot;QHBoxLayout&quot; &gt;
+        &lt;property name=&quot;margin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;spacing&quot; &gt;
+         &lt;number&gt;6&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;item&gt;
+         &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot; &gt;
+          &lt;property name=&quot;text&quot; &gt;
+           &lt;string&gt;Width:&lt;/string&gt;
+          &lt;/property&gt;
+         &lt;/widget&gt;
+        &lt;/item&gt;
+        &lt;item&gt;
+         &lt;widget class=&quot;QSpinBox&quot; name=&quot;spinBoxWidth&quot; &gt;
+          &lt;property name=&quot;maximum&quot; &gt;
+           &lt;number&gt;2900&lt;/number&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;minimum&quot; &gt;
+           &lt;number&gt;16&lt;/number&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;singleStep&quot; &gt;
+           &lt;number&gt;2&lt;/number&gt;
+          &lt;/property&gt;
+         &lt;/widget&gt;
+        &lt;/item&gt;
+        &lt;item&gt;
+         &lt;spacer&gt;
+          &lt;property name=&quot;orientation&quot; &gt;
+           &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;sizeType&quot; &gt;
+           &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;sizeHint&quot; &gt;
+           &lt;size&gt;
+            &lt;width&gt;30&lt;/width&gt;
+            &lt;height&gt;20&lt;/height&gt;
+           &lt;/size&gt;
+          &lt;/property&gt;
+         &lt;/spacer&gt;
+        &lt;/item&gt;
+        &lt;item&gt;
+         &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot; &gt;
+          &lt;property name=&quot;text&quot; &gt;
+           &lt;string&gt;Height:&lt;/string&gt;
+          &lt;/property&gt;
+         &lt;/widget&gt;
+        &lt;/item&gt;
+        &lt;item&gt;
+         &lt;widget class=&quot;QSpinBox&quot; name=&quot;spinBoxHeight&quot; &gt;
+          &lt;property name=&quot;maximum&quot; &gt;
+           &lt;number&gt;2000&lt;/number&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;minimum&quot; &gt;
+           &lt;number&gt;16&lt;/number&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;singleStep&quot; &gt;
+           &lt;number&gt;2&lt;/number&gt;
+          &lt;/property&gt;
+         &lt;/widget&gt;
+        &lt;/item&gt;
+        &lt;item&gt;
+         &lt;spacer&gt;
+          &lt;property name=&quot;orientation&quot; &gt;
+           &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;sizeHint&quot; &gt;
+           &lt;size&gt;
+            &lt;width&gt;40&lt;/width&gt;
+            &lt;height&gt;20&lt;/height&gt;
+           &lt;/size&gt;
+          &lt;/property&gt;
+         &lt;/spacer&gt;
+        &lt;/item&gt;
+       &lt;/layout&gt;
+      &lt;/item&gt;
+      &lt;item&gt;
+       &lt;widget class=&quot;QCheckBox&quot; name=&quot;checkBoxRoundup&quot; &gt;
+        &lt;property name=&quot;text&quot; &gt;
+         &lt;string&gt;Round to the Nearest Multiple of 16&lt;/string&gt;
+        &lt;/property&gt;
+       &lt;/widget&gt;
+      &lt;/item&gt;
+      &lt;item&gt;
+       &lt;spacer&gt;
+        &lt;property name=&quot;orientation&quot; &gt;
+         &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;sizeType&quot; &gt;
+         &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;sizeHint&quot; &gt;
+         &lt;size&gt;
+          &lt;width&gt;312&lt;/width&gt;
+          &lt;height&gt;4&lt;/height&gt;
+         &lt;/size&gt;
+        &lt;/property&gt;
+       &lt;/spacer&gt;
+      &lt;/item&gt;
+      &lt;item&gt;
+       &lt;layout class=&quot;QVBoxLayout&quot; &gt;
+        &lt;property name=&quot;margin&quot; &gt;
+         &lt;number&gt;0&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;property name=&quot;spacing&quot; &gt;
+         &lt;number&gt;6&lt;/number&gt;
+        &lt;/property&gt;
+        &lt;item&gt;
+         &lt;layout class=&quot;QHBoxLayout&quot; &gt;
+          &lt;property name=&quot;margin&quot; &gt;
+           &lt;number&gt;0&lt;/number&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;spacing&quot; &gt;
+           &lt;number&gt;12&lt;/number&gt;
+          &lt;/property&gt;
+          &lt;item&gt;
+           &lt;layout class=&quot;QVBoxLayout&quot; &gt;
+            &lt;property name=&quot;margin&quot; &gt;
+             &lt;number&gt;0&lt;/number&gt;
+            &lt;/property&gt;
+            &lt;property name=&quot;spacing&quot; &gt;
+             &lt;number&gt;6&lt;/number&gt;
+            &lt;/property&gt;
+            &lt;item&gt;
+             &lt;layout class=&quot;QHBoxLayout&quot; &gt;
+              &lt;property name=&quot;margin&quot; &gt;
+               &lt;number&gt;0&lt;/number&gt;
+              &lt;/property&gt;
+              &lt;property name=&quot;spacing&quot; &gt;
+               &lt;number&gt;6&lt;/number&gt;
+              &lt;/property&gt;
+              &lt;item&gt;
+               &lt;widget class=&quot;QLabel&quot; name=&quot;label_8&quot; &gt;
+                &lt;property name=&quot;text&quot; &gt;
+                 &lt;string&gt;1%&lt;/string&gt;
+                &lt;/property&gt;
+               &lt;/widget&gt;
+              &lt;/item&gt;
+              &lt;item&gt;
+               &lt;spacer&gt;
+                &lt;property name=&quot;orientation&quot; &gt;
+                 &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+                &lt;/property&gt;
+                &lt;property name=&quot;sizeHint&quot; &gt;
+                 &lt;size&gt;
+                  &lt;width&gt;40&lt;/width&gt;
+                  &lt;height&gt;20&lt;/height&gt;
+                 &lt;/size&gt;
+                &lt;/property&gt;
+               &lt;/spacer&gt;
+              &lt;/item&gt;
+              &lt;item&gt;
+               &lt;widget class=&quot;QLabel&quot; name=&quot;label_5&quot; &gt;
+                &lt;property name=&quot;text&quot; &gt;
+                 &lt;string&gt;Percent&lt;/string&gt;
+                &lt;/property&gt;
+               &lt;/widget&gt;
+              &lt;/item&gt;
+              &lt;item&gt;
+               &lt;spacer&gt;
+                &lt;property name=&quot;orientation&quot; &gt;
+                 &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+                &lt;/property&gt;
+                &lt;property name=&quot;sizeHint&quot; &gt;
+                 &lt;size&gt;
+                  &lt;width&gt;40&lt;/width&gt;
+                  &lt;height&gt;20&lt;/height&gt;
+                 &lt;/size&gt;
+                &lt;/property&gt;
+               &lt;/spacer&gt;
+              &lt;/item&gt;
+              &lt;item&gt;
+               &lt;widget class=&quot;QLabel&quot; name=&quot;label_9&quot; &gt;
+                &lt;property name=&quot;text&quot; &gt;
+                 &lt;string&gt;200%&lt;/string&gt;
+                &lt;/property&gt;
+               &lt;/widget&gt;
+              &lt;/item&gt;
+             &lt;/layout&gt;
+            &lt;/item&gt;
+            &lt;item&gt;
+             &lt;widget class=&quot;QSlider&quot; name=&quot;horizontalSlider&quot; &gt;
+              &lt;property name=&quot;minimum&quot; &gt;
+               &lt;number&gt;1&lt;/number&gt;
+              &lt;/property&gt;
+              &lt;property name=&quot;maximum&quot; &gt;
+               &lt;number&gt;200&lt;/number&gt;
+              &lt;/property&gt;
+              &lt;property name=&quot;value&quot; &gt;
+               &lt;number&gt;100&lt;/number&gt;
+              &lt;/property&gt;
+              &lt;property name=&quot;orientation&quot; &gt;
+               &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+              &lt;/property&gt;
+             &lt;/widget&gt;
+            &lt;/item&gt;
+           &lt;/layout&gt;
+          &lt;/item&gt;
+          &lt;item&gt;
+           &lt;widget class=&quot;QSpinBox&quot; name=&quot;percentageSpinBox&quot; &gt;
+            &lt;property name=&quot;maximum&quot; &gt;
+             &lt;number&gt;200&lt;/number&gt;
+            &lt;/property&gt;
+            &lt;property name=&quot;minimum&quot; &gt;
+             &lt;number&gt;1&lt;/number&gt;
+            &lt;/property&gt;
+            &lt;property name=&quot;value&quot; &gt;
+             &lt;number&gt;100&lt;/number&gt;
+            &lt;/property&gt;
+           &lt;/widget&gt;
+          &lt;/item&gt;
+         &lt;/layout&gt;
+        &lt;/item&gt;
+        &lt;item&gt;
+         &lt;layout class=&quot;QHBoxLayout&quot; &gt;
+          &lt;property name=&quot;margin&quot; &gt;
+           &lt;number&gt;0&lt;/number&gt;
+          &lt;/property&gt;
+          &lt;property name=&quot;spacing&quot; &gt;
+           &lt;number&gt;6&lt;/number&gt;
+          &lt;/property&gt;
+          &lt;item&gt;
+           &lt;widget class=&quot;QLabel&quot; name=&quot;label_10&quot; &gt;
+            &lt;property name=&quot;text&quot; &gt;
+             &lt;string&gt;Error X / Y:&lt;/string&gt;
+            &lt;/property&gt;
+           &lt;/widget&gt;
+          &lt;/item&gt;
+          &lt;item&gt;
+           &lt;widget class=&quot;QLabel&quot; name=&quot;labelErrorXY&quot; &gt;
+            &lt;property name=&quot;text&quot; &gt;
+             &lt;string&gt;0.00 / 0.00&lt;/string&gt;
+            &lt;/property&gt;
+           &lt;/widget&gt;
+          &lt;/item&gt;
+          &lt;item&gt;
+           &lt;spacer&gt;
+            &lt;property name=&quot;orientation&quot; &gt;
+             &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+            &lt;/property&gt;
+            &lt;property name=&quot;sizeHint&quot; &gt;
+             &lt;size&gt;
+              &lt;width&gt;40&lt;/width&gt;
+              &lt;height&gt;20&lt;/height&gt;
+             &lt;/size&gt;
+            &lt;/property&gt;
+           &lt;/spacer&gt;
+          &lt;/item&gt;
+         &lt;/layout&gt;
+        &lt;/item&gt;
+       &lt;/layout&gt;
+      &lt;/item&gt;
+     &lt;/layout&gt;
+    &lt;/widget&gt;
+   &lt;/item&gt;
+   &lt;item&gt;
+    &lt;spacer&gt;
+     &lt;property name=&quot;orientation&quot; &gt;
+      &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;sizeType&quot; &gt;
+      &lt;enum&gt;QSizePolicy::Fixed&lt;/enum&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;sizeHint&quot; &gt;
+      &lt;size&gt;
+       &lt;width&gt;332&lt;/width&gt;
+       &lt;height&gt;6&lt;/height&gt;
+      &lt;/size&gt;
+     &lt;/property&gt;
+    &lt;/spacer&gt;
+   &lt;/item&gt;
+   &lt;item&gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; &gt;
+     &lt;property name=&quot;margin&quot; &gt;
+      &lt;number&gt;0&lt;/number&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;spacing&quot; &gt;
+      &lt;number&gt;6&lt;/number&gt;
+     &lt;/property&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label_6&quot; &gt;
+       &lt;property name=&quot;text&quot; &gt;
+        &lt;string&gt;Resize Method:&lt;/string&gt;
+       &lt;/property&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QComboBox&quot; name=&quot;comboBoxAlgo&quot; &gt;
+       &lt;item&gt;
+        &lt;property name=&quot;text&quot; &gt;
+         &lt;string&gt;Bilinear&lt;/string&gt;
+        &lt;/property&gt;
+       &lt;/item&gt;
+       &lt;item&gt;
+        &lt;property name=&quot;text&quot; &gt;
+         &lt;string&gt;Bicubic&lt;/string&gt;
+        &lt;/property&gt;
+       &lt;/item&gt;
+       &lt;item&gt;
+        &lt;property name=&quot;text&quot; &gt;
+         &lt;string&gt;Lanzcos3&lt;/string&gt;
+        &lt;/property&gt;
+       &lt;/item&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;spacer&gt;
+       &lt;property name=&quot;orientation&quot; &gt;
+        &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+       &lt;/property&gt;
+       &lt;property name=&quot;sizeHint&quot; &gt;
+        &lt;size&gt;
+         &lt;width&gt;40&lt;/width&gt;
+         &lt;height&gt;20&lt;/height&gt;
+        &lt;/size&gt;
+       &lt;/property&gt;
+      &lt;/spacer&gt;
+     &lt;/item&gt;
+    &lt;/layout&gt;
+   &lt;/item&gt;
+   &lt;item&gt;
+    &lt;spacer&gt;
+     &lt;property name=&quot;orientation&quot; &gt;
+      &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;sizeType&quot; &gt;
+      &lt;enum&gt;QSizePolicy::MinimumExpanding&lt;/enum&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;sizeHint&quot; &gt;
+      &lt;size&gt;
+       &lt;width&gt;20&lt;/width&gt;
+       &lt;height&gt;16&lt;/height&gt;
+      &lt;/size&gt;
+     &lt;/property&gt;
+    &lt;/spacer&gt;
+   &lt;/item&gt;
+   &lt;item&gt;
+    &lt;widget class=&quot;QDialogButtonBox&quot; name=&quot;buttonBox&quot; &gt;
+     &lt;property name=&quot;orientation&quot; &gt;
+      &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;standardButtons&quot; &gt;
+      &lt;set&gt;QDialogButtonBox::Cancel|QDialogButtonBox::NoButton|QDialogButtonBox::Ok&lt;/set&gt;
+     &lt;/property&gt;
+    &lt;/widget&gt;
+   &lt;/item&gt;
+  &lt;/layout&gt;
+ &lt;/widget&gt;
+ &lt;tabstops&gt;
+  &lt;tabstop&gt;lockArCheckBox&lt;/tabstop&gt;
+  &lt;tabstop&gt;comboBoxSource&lt;/tabstop&gt;
+  &lt;tabstop&gt;comboBoxDestination&lt;/tabstop&gt;
+  &lt;tabstop&gt;spinBoxWidth&lt;/tabstop&gt;
+  &lt;tabstop&gt;spinBoxHeight&lt;/tabstop&gt;
+  &lt;tabstop&gt;checkBoxRoundup&lt;/tabstop&gt;
+  &lt;tabstop&gt;horizontalSlider&lt;/tabstop&gt;
+  &lt;tabstop&gt;percentageSpinBox&lt;/tabstop&gt;
+  &lt;tabstop&gt;comboBoxAlgo&lt;/tabstop&gt;
+  &lt;tabstop&gt;buttonBox&lt;/tabstop&gt;
+ &lt;/tabstops&gt;
+ &lt;resources/&gt;
+ &lt;connections&gt;
+  &lt;connection&gt;
+   &lt;sender&gt;buttonBox&lt;/sender&gt;
+   &lt;signal&gt;rejected()&lt;/signal&gt;
+   &lt;receiver&gt;resizeDialog&lt;/receiver&gt;
+   &lt;slot&gt;reject()&lt;/slot&gt;
+   &lt;hints&gt;
+    &lt;hint type=&quot;sourcelabel&quot; &gt;
+     &lt;x&gt;316&lt;/x&gt;
+     &lt;y&gt;260&lt;/y&gt;
+    &lt;/hint&gt;
+    &lt;hint type=&quot;destinationlabel&quot; &gt;
+     &lt;x&gt;286&lt;/x&gt;
+     &lt;y&gt;274&lt;/y&gt;
+    &lt;/hint&gt;
+   &lt;/hints&gt;
+  &lt;/connection&gt;
+  &lt;connection&gt;
+   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
+   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
+   &lt;receiver&gt;label_8&lt;/receiver&gt;
+   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
+   &lt;hints&gt;
+    &lt;hint type=&quot;sourcelabel&quot; &gt;
+     &lt;x&gt;184&lt;/x&gt;
+     &lt;y&gt;117&lt;/y&gt;
+    &lt;/hint&gt;
+    &lt;hint type=&quot;destinationlabel&quot; &gt;
+     &lt;x&gt;39&lt;/x&gt;
+     &lt;y&gt;148&lt;/y&gt;
+    &lt;/hint&gt;
+   &lt;/hints&gt;
+  &lt;/connection&gt;
+  &lt;connection&gt;
+   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
+   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
+   &lt;receiver&gt;label_5&lt;/receiver&gt;
+   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
+   &lt;hints&gt;
+    &lt;hint type=&quot;sourcelabel&quot; &gt;
+     &lt;x&gt;184&lt;/x&gt;
+     &lt;y&gt;117&lt;/y&gt;
+    &lt;/hint&gt;
+    &lt;hint type=&quot;destinationlabel&quot; &gt;
+     &lt;x&gt;150&lt;/x&gt;
+     &lt;y&gt;148&lt;/y&gt;
+    &lt;/hint&gt;
+   &lt;/hints&gt;
+  &lt;/connection&gt;
+  &lt;connection&gt;
+   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
+   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
+   &lt;receiver&gt;label_9&lt;/receiver&gt;
+   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
+   &lt;hints&gt;
+    &lt;hint type=&quot;sourcelabel&quot; &gt;
+     &lt;x&gt;184&lt;/x&gt;
+     &lt;y&gt;117&lt;/y&gt;
+    &lt;/hint&gt;
+    &lt;hint type=&quot;destinationlabel&quot; &gt;
+     &lt;x&gt;267&lt;/x&gt;
+     &lt;y&gt;148&lt;/y&gt;
+    &lt;/hint&gt;
+   &lt;/hints&gt;
+  &lt;/connection&gt;
+  &lt;connection&gt;
+   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
+   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
+   &lt;receiver&gt;horizontalSlider&lt;/receiver&gt;
+   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
+   &lt;hints&gt;
+    &lt;hint type=&quot;sourcelabel&quot; &gt;
+     &lt;x&gt;184&lt;/x&gt;
+     &lt;y&gt;117&lt;/y&gt;
+    &lt;/hint&gt;
+    &lt;hint type=&quot;destinationlabel&quot; &gt;
+     &lt;x&gt;156&lt;/x&gt;
+     &lt;y&gt;164&lt;/y&gt;
+    &lt;/hint&gt;
+   &lt;/hints&gt;
+  &lt;/connection&gt;
+  &lt;connection&gt;
+   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
+   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
+   &lt;receiver&gt;percentageSpinBox&lt;/receiver&gt;
+   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
+   &lt;hints&gt;
+    &lt;hint type=&quot;sourcelabel&quot; &gt;
+     &lt;x&gt;184&lt;/x&gt;
+     &lt;y&gt;117&lt;/y&gt;
+    &lt;/hint&gt;
+    &lt;hint type=&quot;destinationlabel&quot; &gt;
+     &lt;x&gt;317&lt;/x&gt;
+     &lt;y&gt;155&lt;/y&gt;
+    &lt;/hint&gt;
+   &lt;/hints&gt;
+  &lt;/connection&gt;
+  &lt;connection&gt;
+   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
+   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
+   &lt;receiver&gt;checkBoxRoundup&lt;/receiver&gt;
+   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
+   &lt;hints&gt;
+    &lt;hint type=&quot;sourcelabel&quot; &gt;
+     &lt;x&gt;184&lt;/x&gt;
+     &lt;y&gt;95&lt;/y&gt;
+    &lt;/hint&gt;
+    &lt;hint type=&quot;destinationlabel&quot; &gt;
+     &lt;x&gt;184&lt;/x&gt;
+     &lt;y&gt;117&lt;/y&gt;
+    &lt;/hint&gt;
+   &lt;/hints&gt;
+  &lt;/connection&gt;
+  &lt;connection&gt;
+   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
+   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
+   &lt;receiver&gt;label_10&lt;/receiver&gt;
+   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
+   &lt;hints&gt;
+    &lt;hint type=&quot;sourcelabel&quot; &gt;
+     &lt;x&gt;182&lt;/x&gt;
+     &lt;y&gt;155&lt;/y&gt;
+    &lt;/hint&gt;
+    &lt;hint type=&quot;destinationlabel&quot; &gt;
+     &lt;x&gt;55&lt;/x&gt;
+     &lt;y&gt;251&lt;/y&gt;
+    &lt;/hint&gt;
+   &lt;/hints&gt;
+  &lt;/connection&gt;
+  &lt;connection&gt;
+   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
+   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
+   &lt;receiver&gt;labelErrorXY&lt;/receiver&gt;
+   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
+   &lt;hints&gt;
+    &lt;hint type=&quot;sourcelabel&quot; &gt;
+     &lt;x&gt;182&lt;/x&gt;
+     &lt;y&gt;155&lt;/y&gt;
+    &lt;/hint&gt;
+    &lt;hint type=&quot;destinationlabel&quot; &gt;
+     &lt;x&gt;114&lt;/x&gt;
+     &lt;y&gt;251&lt;/y&gt;
+    &lt;/hint&gt;
+   &lt;/hints&gt;
+  &lt;/connection&gt;
+  &lt;connection&gt;
+   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
+   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
+   &lt;receiver&gt;label_4&lt;/receiver&gt;
+   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
+   &lt;hints&gt;
+    &lt;hint type=&quot;sourcelabel&quot; &gt;
+     &lt;x&gt;182&lt;/x&gt;
+     &lt;y&gt;69&lt;/y&gt;
+    &lt;/hint&gt;
+    &lt;hint type=&quot;destinationlabel&quot; &gt;
+     &lt;x&gt;46&lt;/x&gt;
+     &lt;y&gt;95&lt;/y&gt;
+    &lt;/hint&gt;
+   &lt;/hints&gt;
+  &lt;/connection&gt;
+  &lt;connection&gt;
+   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
+   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
+   &lt;receiver&gt;comboBoxSource&lt;/receiver&gt;
+   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
+   &lt;hints&gt;
+    &lt;hint type=&quot;sourcelabel&quot; &gt;
+     &lt;x&gt;182&lt;/x&gt;
+     &lt;y&gt;69&lt;/y&gt;
+    &lt;/hint&gt;
+    &lt;hint type=&quot;destinationlabel&quot; &gt;
+     &lt;x&gt;94&lt;/x&gt;
+     &lt;y&gt;95&lt;/y&gt;
+    &lt;/hint&gt;
+   &lt;/hints&gt;
+  &lt;/connection&gt;
+  &lt;connection&gt;
+   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
+   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
+   &lt;receiver&gt;label_3&lt;/receiver&gt;
+   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
+   &lt;hints&gt;
+    &lt;hint type=&quot;sourcelabel&quot; &gt;
+     &lt;x&gt;182&lt;/x&gt;
+     &lt;y&gt;69&lt;/y&gt;
+    &lt;/hint&gt;
+    &lt;hint type=&quot;destinationlabel&quot; &gt;
+     &lt;x&gt;188&lt;/x&gt;
+     &lt;y&gt;95&lt;/y&gt;
+    &lt;/hint&gt;
+   &lt;/hints&gt;
+  &lt;/connection&gt;
+  &lt;connection&gt;
+   &lt;sender&gt;lockArCheckBox&lt;/sender&gt;
+   &lt;signal&gt;toggled(bool)&lt;/signal&gt;
+   &lt;receiver&gt;comboBoxDestination&lt;/receiver&gt;
+   &lt;slot&gt;setEnabled(bool)&lt;/slot&gt;
+   &lt;hints&gt;
+    &lt;hint type=&quot;sourcelabel&quot; &gt;
+     &lt;x&gt;182&lt;/x&gt;
+     &lt;y&gt;69&lt;/y&gt;
+    &lt;/hint&gt;
+    &lt;hint type=&quot;destinationlabel&quot; &gt;
+     &lt;x&gt;247&lt;/x&gt;
+     &lt;y&gt;95&lt;/y&gt;
+    &lt;/hint&gt;
+   &lt;/hints&gt;
+  &lt;/connection&gt;
+ &lt;/connections&gt;
+&lt;/ui&gt;

Added: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/swScaleResize.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/swScaleResize.cpp	2009-11-15 16:47:13 UTC (rev 5506)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/swScaleResize.cpp	2009-11-15 17:35:04 UTC (rev 5507)
@@ -0,0 +1,264 @@
+/** *************************************************************************
+                    \fn       swScaleResizeFilter.cpp  
+                    \brief simplest of all video filters, it does nothing
+
+    copyright            : (C) 2009 by mean
+
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include &quot;ADM_default.h&quot;
+#include &quot;ADM_coreVideoFilterInternal.h&quot;
+#include &quot;DIA_factory.h&quot;
+extern &quot;C&quot; {
+#include &quot;ADM_ffmpeg/libavcodec/avcodec.h&quot;
+#include &quot;ADM_ffmpeg/libavutil/avutil.h&quot;
+#include &quot;ADM_ffmpeg/libswscale/swscale.h&quot;
+}
+#include &quot;swresize.h&quot;
+#include &quot;swresize_desc.cpp&quot;
+
+typedef struct alg
+{
+					int in;
+					char *name;
+}alg;
+#define DECLARE(y) {SWS_##y,(char *)#y}
+
+/**
+	Convert mplayer-resize numbering &lt;--&gt; avidemux one
+
+*/
+alg algs[]={
+				DECLARE(BILINEAR),
+				DECLARE(BICUBIC),
+				DECLARE(LANCZOS)
+		};
+
+
+/**
+    \class swScaleResizeFilter
+*/
+class swScaleResizeFilter : public  ADM_coreVideoFilter
+{
+protected:
+            
+				SwsContext	*_context;
+				bool        reset(uint32_t nw, uint32_t old,uint32_t algo);
+				bool        clean( void );
+                ADMImage    *original;
+                swresize    configuration;
+
+public:
+                    swScaleResizeFilter(ADM_coreVideoFilter *previous,CONFcouple *conf);
+                    ~swScaleResizeFilter();
+
+       virtual const char   *getConfiguration(void);                   /// Return  current configuration as a human readable string
+       virtual bool         getFrame(uint32_t frame,ADMImage *image);    /// Return the next image
+       virtual FilterInfo  *getInfo(void);                             /// Return picture parameters after this filter
+	   virtual bool         getCoupledConf(CONFcouple **couples) ;   /// Return the current filter configuration
+       virtual bool         configure(void) ;             /// Start graphical user interface
+};
+
+// Add the hook to make it valid plugin
+DECLARE_VIDEO_FILTER(   swScaleResizeFilter,   // Class
+                        1,0,0,              // Version
+                        ADM_UI_ALL,         // UI
+                        VF_TRANSFORM,            // Category
+                        &quot;swscale&quot;,            // internal name (must be uniq!)
+                        &quot;swsResize&quot;,            // Display name
+                        &quot;swScale Resizer.&quot; // Description
+                    );
+
+// Now implements the interesting parts
+/**
+    \fn swScaleResizeFilter
+    \brief constructor
+*/
+swScaleResizeFilter::swScaleResizeFilter(  ADM_coreVideoFilter *in,CONFcouple *setup) : ADM_coreVideoFilter(in,setup)
+{
+UNUSED_ARG(setup);
+
+    original=new ADMImage(in-&gt;getInfo()-&gt;width,in-&gt;getInfo()-&gt;height);
+    if(!setup || !ADM_paramLoad(setup,swresize_param,&amp;configuration))
+    {
+        // Default value
+        configuration.width=info.width;
+        configuration.height=info.height;
+        configuration.algo=SWS_BILINEAR;
+        configuration.sourceAR=1;
+        configuration.targetAR=1;
+    }
+    info.width=configuration.width;
+    info.height=configuration.height;
+    _context=NULL;
+	reset(configuration.width,configuration.height,configuration.algo);
+}
+/**
+    \fn swScaleResizeFilter
+    \brief destructor
+*/
+swScaleResizeFilter::~swScaleResizeFilter()
+{
+        if(original) delete original;
+        original=NULL;  
+        clean();
+}
+
+/**
+    \fn getFrame
+    \brief Get a processed frame
+*/
+bool swScaleResizeFilter::getFrame(uint32_t frame,ADMImage *image)
+{
+    // since we do nothing, just get the output of previous filter
+    if(false==previousFilter-&gt;getFrame(frame,original))
+    {
+        ADM_warning(&quot;Vertical flip : Cannot get frame\n&quot;);
+        return false;
+    }
+    uint8_t *src[3];
+    uint8_t *dst[3];
+    int ssrc[3];
+    int ddst[3];
+
+    uint32_t page;
+
+    page=original-&gt;_width*original-&gt;_height;
+    src[0]=YPLANE(original);
+    src[1]=UPLANE(original);
+    src[2]=VPLANE(original);
+
+    ssrc[0]=original-&gt;_width;
+    ssrc[1]=ssrc[2]=original-&gt;_width&gt;&gt;1;
+
+    page=info.width*info.height;
+    dst[0]=YPLANE(image);
+    dst[1]=UPLANE(image);
+    dst[2]=VPLANE(image);
+    ddst[0]=info.width;
+    ddst[1]=ddst[2]=info.width&gt;&gt;1;
+
+    sws_scale(_context,src,ssrc,0,original-&gt;_height,dst,ddst);
+    image-&gt;copyInfo(original);
+// Fixme change A/R ?
+return true;
+}
+/**
+    \fn getCoupledConf
+    \brief Return our current configuration as couple name=value
+*/
+bool         swScaleResizeFilter::getCoupledConf(CONFcouple **couples)
+{
+    return ADM_paramSave(couples, swresize_param,&amp;configuration);
+}
+/**
+    \fn getConfiguration
+    \brief Return current setting as a string
+*/
+const char *swScaleResizeFilter::getConfiguration(void)
+{
+    static char conf[80];
+    conf[0]=0;
+    snprintf(conf,80,&quot;swscale Resize : %&quot;LU&quot;x%&quot;LU&quot; =&gt; %&quot;LU&quot;x%&quot;LU&quot;, algo %&quot;LU&quot;\n&quot;,
+                previousFilter-&gt;getInfo()-&gt;width,
+                previousFilter-&gt;getInfo()-&gt;height,
+                configuration.width, configuration.height,configuration.algo);
+    return conf;
+}
+/**
+    \fn getInfo
+*/
+FilterInfo  *swScaleResizeFilter::getInfo(void)
+{
+    return &info;
+}
+/**
+    \fn clean
+    \brief delete resizer
+*/
+bool swScaleResizeFilter::clean(void)
+{
+		if(_context)
+		{
+			sws_freeContext(_context);
+		}
+		_context=NULL;
+		return true;
+}
+/**
+    \fn reset
+    \brief reset resizer
+*/
+
+bool swScaleResizeFilter::reset(uint32_t nw, uint32_t old,uint32_t algo)
+{
+ 				 SwsFilter 		    *srcFilter=NULL;
+				 SwsFilter		    *dstFilter=NULL;
+				 int 			   flags=0;
+
+
+				clean();
+                flags=algo;
+                switch(flags)
+                {
+                    case 0: //bilinear
+                            flags=SWS_BILINEAR;break;
+                    case 1: //bicubic
+                            flags=SWS_BICUBIC;break;
+                    case 2: //Lanczos
+                            flags=SWS_LANCZOS;break;
+                    default:ADM_assert(0);
+
+                }
+#ifdef ADM_CPU_X86		
+		#define ADD(x,y) if( CpuCaps::has##x()) flags|=SWS_CPU_CAPS_##y;
+		ADD(MMX,MMX);		
+		ADD(3DNOW,3DNOW);
+		ADD(MMXEXT,MMX2);
+#endif	
+#ifdef ADM_CPU_ALTIVEC
+		flags|=SWS_CPU_CAPS_ALTIVEC;
+#endif
+                _context=sws_getContext(
+                        previousFilter-&gt;getInfo()-&gt;width,previousFilter-&gt;getInfo()-&gt;height,
+                    PIX_FMT_YUV420P,
+                    nw,old,
+                    PIX_FMT_YUV420P,
+                        flags, srcFilter, dstFilter,NULL);
+
+				if(!_context) return 0;
+				return 1;
+
+
+}
+/**
+    \fn configure
+
+*/
+bool         swScaleResizeFilter::configure(void) 
+{
+    // Simple resampler using dialogFactory
+#define PX(x) &amp;(configuration.x)
+        diaElemUInteger  W(PX(width),&quot;Width&quot;, 16, 4096,&quot;&quot;);
+        diaElemUInteger  H(PX(height),&quot;Height&quot;, 16, 4096,&quot;&quot;);
+        diaElem *tabs[]={&amp;W,&amp;H};
+        if( diaFactoryRun((&quot;SwScaler Resize&quot;),2,tabs))
+        {
+            // Update info
+            info.height=configuration.height;
+            info.width=configuration.width;
+            reset(info.width, info.height,configuration.algo);
+            return true;
+        }
+        return false;
+}
+//EOF

Added: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/swresize.conf
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/swresize.conf	2009-11-15 16:47:13 UTC (rev 5506)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/swresize.conf	2009-11-15 17:35:04 UTC (rev 5507)
@@ -0,0 +1,5 @@
+uint32_t:width
+uint32_t:height
+uint32_t:algo
+uint32_t:sourceAR
+uint32_t:targetAR

Added: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/swresize.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/swresize.h	2009-11-15 16:47:13 UTC (rev 5506)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/swresize.h	2009-11-15 17:35:04 UTC (rev 5507)
@@ -0,0 +1,12 @@
+// Automatically generated, do not edit!
+#ifndef ADM_swresize_CONF_H
+#define ADM_swresize_CONF_H
+typedef struct {
+   uint32_t width;
+   uint32_t height;
+   uint32_t algo;
+   uint32_t sourceAR;
+   uint32_t targetAR;
+}swresize;
+#endif //swresize
+//EOF

Added: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/swresize_desc.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/swresize_desc.cpp	2009-11-15 16:47:13 UTC (rev 5506)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize/swresize_desc.cpp	2009-11-15 17:35:04 UTC (rev 5507)
@@ -0,0 +1,9 @@
+// Automatically generated, do not edit!
+const ADM_paramList swresize_param[]={
+ {&quot;width&quot;,offsetof( swresize,width),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;height&quot;,offsetof( swresize,height),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;algo&quot;,offsetof( swresize,algo),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;sourceAR&quot;,offsetof( swresize,sourceAR),&quot;uint32_t&quot;,ADM_param_uint32_t},
+ {&quot;targetAR&quot;,offsetof( swresize,targetAR),&quot;uint32_t&quot;,ADM_param_uint32_t},
+{NULL,0,NULL}
+};

Deleted: branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/verticalFlip/ADM_vidFlipV.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/verticalFlip/ADM_vidFlipV.cpp	2009-11-15 16:47:13 UTC (rev 5506)
+++ branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/verticalFlip/ADM_vidFlipV.cpp	2009-11-15 17:35:04 UTC (rev 5507)
@@ -1,130 +0,0 @@
-/***************************************************************************
-                          ADM_vidFlipV.cpp  -  description
-                             -------------------
-    begin                : Wed Nov 6 2002
-    copyright            : (C) 2002 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include &quot;ADM_default.h&quot;
-#include &quot;ADM_videoFilterDynamic.h&quot;
-//********** Class Definition ************
- class ADMVideoFlipV : public AVDMGenericVideoStream 
- {
-
-protected:
-	AVDMGenericVideoStream *_in;
-	virtual char *printConf(void);
-
-public:
-
-	ADMVideoFlipV(AVDMGenericVideoStream *in, CONFcouple *setup);
-	virtual ~ADMVideoFlipV();
-	virtual uint8_t getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-			ADMImage *data, uint32_t *flags);
-	virtual uint8_t configure(AVDMGenericVideoStream *instream) 
-	{
-		UNUSED_ARG(instream);
-		return 1;
-	};
-};
-
-//********** Register chunk ************
-static FILTER_PARAM flipParam={0,{&quot;&quot;}};
-
-
-VF_DEFINE_FILTER(ADMVideoFlipV,flipParam,
-				flipV,
-				QT_TR_NOOP(&quot;Vertical flip&quot;),
-				1,
-				VF_TRANSFORM,
-				QT_TR_NOOP(&quot;Vertically flip the picture.&quot;));
-//************************************
-char *ADMVideoFlipV::printConf( void )
-{
- 	ADM_FILTER_DECLARE_CONF(&quot; V-Flip&quot;);
-        
-}
-
-ADMVideoFlipV::ADMVideoFlipV(  AVDMGenericVideoStream *in,CONFcouple *setup)
-{
-    UNUSED_ARG(setup);
- 	_in=in;		
-   	memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info)); 	
-  	_info.encoding=1;	
-	_uncompressed=new ADMImage(_in-&gt;getInfo()-&gt;width,_in-&gt;getInfo()-&gt;height);
-	ADM_assert(_uncompressed);    	  	
-}
-ADMVideoFlipV::~ADMVideoFlipV()
-{
- 	delete  _uncompressed;	
-	_uncompressed=NULL;
-  
-}
-uint8_t ADMVideoFlipV::getFrameNumberNoAlloc(uint32_t frame,
-				uint32_t *len,
-   				ADMImage *data,
-				uint32_t *flags)
-{
-
-	if (frame&gt;= _info.nb_frames)
-		return 0;
-	// read uncompressed frame
-	if (!_in-&gt;getFrameNumberNoAlloc(frame, len, _uncompressed, flags))
-		return 0;
-
-	uint8_t *in, *out;
-	uint32_t stride=_info.width;
-	uint32_t h=_info.height;
-	uint32_t page, qpage;
-
-	page=stride*h;
-	qpage=page&gt;&gt;2;
-
-	in=YPLANE(_uncompressed);
-	out=YPLANE(data)+(h-1)*stride;
-	// flip y
-	for (uint32_t y=h; y&gt;0; y--) 
-	{
-		memcpy(out,in,stride);
-		in+=stride;
-		out-=stride;
-	}
-	// Flip U &amp; V			         
-	stride&gt;&gt;=1;
-	in=UPLANE(_uncompressed);
-	out=UPLANE(data)+qpage-stride;
-	// flip u
-	for (uint32_t y=h&gt;&gt;1; y&gt;0; y--) 
-	{
-		memcpy(out,in,stride);
-		in+=stride;
-		out-=stride;
-	}
-	in=VPLANE(_uncompressed);
-	out=VPLANE(data)+qpage-stride;
-
-	// flip u
-	for (uint32_t y=h&gt;&gt;1; y&gt;0; y--)
-	{
-		memcpy(out,in,stride);
-		in+=stride;
-		out-=stride;
-	}
-	data-&gt;copyInfo(_uncompressed);
-	return 1;
-}
-//EOF
-
-
-
-


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002717.html">[Avidemux-svn-commit] r5506 -	branches/avidemux_2.6_branch_mean/avidemux/common
</A></li>
	<LI>Next message: <A HREF="002719.html">[Avidemux-svn-commit] r5508 -	branches/avidemux_2.6_branch_mean/avidemux_plugins/ADM_videoFilters6/resize
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2718">[ date ]</a>
              <a href="thread.html#2718">[ thread ]</a>
              <a href="subject.html#2718">[ subject ]</a>
              <a href="author.html#2718">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
