<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r5482 - in branches/avidemux_2.6_branch_mean:	avidemux avidemux/common avidemux/common/ADM_videoFilter2	avidemux/common/ADM_videoFilter2/include	avidemux/common/ADM_videoFilter2/src	avidemux/qt4/ADM_userInterfaces/ADM_filters	avidemux_core/ADM_coreVideoFilter/include
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r5482%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux%20avidemux/common%20avidemux/common/ADM_videoFilter2%0A%09avidemux/common/ADM_videoFilter2/include%0A%09avidemux/common/ADM_videoFilter2/src%0A%09avidemux/qt4/ADM_userInterfaces/ADM_filters%0A%09avidemux_core/ADM_coreVideoFilter/include&In-Reply-To=%3C200911131729.nADHTY76026990%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002692.html">
   <LINK REL="Next"  HREF="002694.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r5482 - in branches/avidemux_2.6_branch_mean:	avidemux avidemux/common avidemux/common/ADM_videoFilter2	avidemux/common/ADM_videoFilter2/include	avidemux/common/ADM_videoFilter2/src	avidemux/qt4/ADM_userInterfaces/ADM_filters	avidemux_core/ADM_coreVideoFilter/include</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r5482%20-%20in%20branches/avidemux_2.6_branch_mean%3A%0A%09avidemux%20avidemux/common%20avidemux/common/ADM_videoFilter2%0A%09avidemux/common/ADM_videoFilter2/include%0A%09avidemux/common/ADM_videoFilter2/src%0A%09avidemux/qt4/ADM_userInterfaces/ADM_filters%0A%09avidemux_core/ADM_coreVideoFilter/include&In-Reply-To=%3C200911131729.nADHTY76026990%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r5482 - in branches/avidemux_2.6_branch_mean:	avidemux avidemux/common avidemux/common/ADM_videoFilter2	avidemux/common/ADM_videoFilter2/include	avidemux/common/ADM_videoFilter2/src	avidemux/qt4/ADM_userInterfaces/ADM_filters	avidemux_core/ADM_coreVideoFilter/include">mean at mail.berlios.de
       </A><BR>
    <I>Fri Nov 13 18:29:34 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002692.html">[Avidemux-svn-commit] r5481 -	branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2
</A></li>
        <LI>Next message: <A HREF="002694.html">[Avidemux-svn-commit] r5483 - in branches/avidemux_2.6_branch_mean:	avidemux/common/ADM_videoFilter2/src	avidemux_core/ADM_coreVideoFilter/include
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2693">[ date ]</a>
              <a href="thread.html#2693">[ thread ]</a>
              <a href="subject.html#2693">[ subject ]</a>
              <a href="author.html#2693">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2009-11-13 18:29:33 +0100 (Fri, 13 Nov 2009)
New Revision: 5482

Added:
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/include/
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/include/ADM_filterChain.h
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/include/ADM_videoFilterApi.h
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/src/
   branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/src/ADM_videoFilterBridge.h
Removed:
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_filterChain.h
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_vf_plugin.h
   branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_videoFilterBridge.h
Modified:
   branches/avidemux_2.6_branch_mean/avidemux/common/gtk_gui.cpp
   branches/avidemux_2.6_branch_mean/avidemux/commonCmakeApplication.cmake
   branches/avidemux_2.6_branch_mean/avidemux/qt4/ADM_userInterfaces/ADM_filters/Q_mainfilter.cpp
Log:
[VideoFilter] cleanup plugin a bit, minimal reactivation of qt4 ui

Copied: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/include/ADM_filterChain.h (from rev 5481, branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_filterChain.h)
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_filterChain.h	2009-11-13 17:29:31 UTC (rev 5481)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/include/ADM_filterChain.h	2009-11-13 17:29:33 UTC (rev 5482)
@@ -0,0 +1,30 @@
+/***************************************************************************
+                          \fn ADM_filterChain.h
+                          \brief Base class for Video Filters
+                           (c) Mean 2009
+
+
+
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#ifndef ADM_filterChain_H
+#define ADM_filterChain_H
+#include &quot;ADM_coreVideoFilter.h&quot;
+#include &lt;vector&gt;
+typedef std::vector &lt;ADM_coreVideoFilter *&gt;ADM_videoFilterChain;
+
+
+ADM_videoFilterChain *createVideoFilterChain(uint64_t startAt,uint64_t endAt);
+bool                 destroyVideoFilterChain(ADM_videoFilterChain *chain);
+
+
+#endif
\ No newline at end of file

Added: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/include/ADM_videoFilterApi.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/include/ADM_videoFilterApi.h	2009-11-13 17:29:31 UTC (rev 5481)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/include/ADM_videoFilterApi.h	2009-11-13 17:29:33 UTC (rev 5482)
@@ -0,0 +1,25 @@
+/**
+        \file ADM_videoFilterApi.h
+        \brief Public functions
+*/
+
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ ***************************************************************************/
+#ifndef ADM_VIDEO_FILTER_API_H
+#define ADM_VIDEO_FILTER_API_H
+
+uint8_t ADM_vf_loadPlugins(const char *path);
+
+uint32_t ADM_vf_getNbFilters(void);
+uint32_t ADM_vf_getNbFiltersInCategory(VF_CATEGORY cat);
+
+bool     ADM_vf_getFilterInfo(VF_CATEGORY cat,int filter, const char **name,const char **desc, uint32_t *major,uint32_t *minor,uint32_t *patch);
+
+
+#endif //ADM_VIDEO_FILTER_API_H

Copied: branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/src/ADM_videoFilterBridge.h (from rev 5481, branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_videoFilterBridge.h)
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_videoFilterBridge.h	2009-11-13 17:29:31 UTC (rev 5481)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2/src/ADM_videoFilterBridge.h	2009-11-13 17:29:33 UTC (rev 5482)
@@ -0,0 +1,47 @@
+/***************************************************************************
+                          \fn ADM_videoFilterBridge.h
+                          \brief Base class for Video Filters
+                           (c) Mean 2009
+
+
+
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#ifndef ADM_VIDEO_FILTER_BRIDGE_H
+#define ADM_VIDEO_FILTER_BRIDGE_H
+
+#include &quot;ADM_coreVideoFilter.h&quot;
+/**
+    \class ADM_videoFilterBridge
+    \brief Class that transform Editor API to coreVideoFilter API
+
+*/
+class ADM_videoFilterBridge : public ADM_coreVideoFilter
+{
+protected:
+        uint64_t            startTime,endTime;
+        FilterInfo          bridgeInfo;
+        bool                firstImage;
+        uint32_t            lastSentImage;
+        virtual bool        nextFrame(ADMImage *image);    /// Return the next image
+public:
+                            ADM_videoFilterBridge(uint64_t startTime, uint64_t endTime);
+                            ~ADM_videoFilterBridge();
+       virtual bool         getFrame(uint32_t frame,ADMImage *image);
+       
+	   virtual FilterInfo  *getInfo(void);                                      /// Return picture parameters after this filter
+	   virtual bool         getCoupledConf(CONFcouple **couples) {*couples=NULL;return true;} ; /// Return the current filter configuration
+
+        bool                rewind(void);
+
+};
+
+#endif

Modified: branches/avidemux_2.6_branch_mean/avidemux/common/gtk_gui.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/common/gtk_gui.cpp	2009-11-13 17:29:31 UTC (rev 5481)
+++ branches/avidemux_2.6_branch_mean/avidemux/common/gtk_gui.cpp	2009-11-13 17:29:33 UTC (rev 5482)
@@ -482,13 +482,14 @@
 
       break;
     case ACT_VideoParameter:
+        GUI_handleVFilter();
+        break;
 #if 0
       // first remove current viewer
       if (getPreviewMode()!=ADM_PREVIEW_NONE)
         {
 	         admPreview::stop();
         }
-      GUI_handleVFilter();
       if( getLastVideoFilter()-&gt;getInfo()-&gt;width % 8 ){
         GUI_Error_HIG(QT_TR_NOOP(&quot;Width is not a multiple of 8&quot;),
                       QT_TR_NOOP(&quot;This will make trouble for AVI files.&quot;));

Modified: branches/avidemux_2.6_branch_mean/avidemux/commonCmakeApplication.cmake
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/commonCmakeApplication.cmake	2009-11-13 17:29:31 UTC (rev 5481)
+++ branches/avidemux_2.6_branch_mean/avidemux/commonCmakeApplication.cmake	2009-11-13 17:29:33 UTC (rev 5482)
@@ -32,6 +32,7 @@
 INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/../common/&quot;)
 INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/../common/ADM_audioFilter/include&quot;)
 INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/../common/ADM_commonUI&quot;)
+INCLUDE_DIRECTORIES(&quot;${CMAKE_CURRENT_SOURCE_DIR}/../common/ADM_videoFilter2/include&quot;)
 #
 # Add main source
 #

Modified: branches/avidemux_2.6_branch_mean/avidemux/qt4/ADM_userInterfaces/ADM_filters/Q_mainfilter.cpp
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux/qt4/ADM_userInterfaces/ADM_filters/Q_mainfilter.cpp	2009-11-13 17:29:31 UTC (rev 5481)
+++ branches/avidemux_2.6_branch_mean/avidemux/qt4/ADM_userInterfaces/ADM_filters/Q_mainfilter.cpp	2009-11-13 17:29:33 UTC (rev 5482)
@@ -1,6 +1,8 @@
 /***************************************************************************
-    copyright            : (C) 2007 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+
+    \file Q_mainfilter.cpp
+    \brief UI for filters
+    \author mean, <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixount at free.fr</A> 2007/2009
     
     * We hide some info the the &quot;type&quot;
     * I.e.
@@ -22,26 +24,22 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-
-
 #include &lt;vector&gt;
-
 #include &quot;Q_mainfilter.h&quot;
 #include &quot;ADM_default.h&quot;
 #include &quot;DIA_fileSel.h&quot;
-
-# include &quot;prefs.h&quot;
-//#include &quot;ADM_audiodevice/audio_out.h&quot;
-
+#include &quot;DIA_factory.h&quot;
 #include &quot;ADM_render/GUI_render.h&quot;
 
 #include &quot;DIA_coreToolkit.h&quot;
 #include &quot;ADM_editor/ADM_edit.hxx&quot;
-#include &quot;ADM_videoFilter.h&quot;
-#include &quot;ADM_videoFilter_internal.h&quot;
-//#include &quot;ADM_video/ADM_vidPartial.h&quot;
-//#include &quot;ADM_filter/vidVCD.h&quot;
-#include &quot;DIA_factory.h&quot;
+#include &quot;ADM_coreVideoFilter.h&quot;
+#include &quot;ADM_filterCategory.h&quot;
+#include &quot;ADM_videoFilterApi.h&quot;
+
+#include &quot;prefs.h&quot;
+
+
 /*******************************************************/
 #define NB_TREE 8
 #define myFg 0xFF
@@ -49,19 +47,10 @@
 static int max=0;
 /******************************************************/
 #define ALL_FILTER_BASE       1000
-#define EXTERNAL_FILTER_BASE  2000
 #define ACTIVE_FILTER_BASE    3000
 /******************************************************/
-extern FILTER videofilters[VF_MAX_FILTER];
-extern uint32_t nb_active_filter;
-extern std::vector &lt;FilterDescriptor *&gt; allfilters;
-extern std::vector &lt;FilterDescriptor *&gt; filterCategories[VF_MAX];
+uint32_t nb_active_filter=1;
 
-
-extern const char  *filterGetNameFromTag(VF_FILTERS tag);
-extern ADM_Composer *video_body;
-extern AVDMGenericVideoStream *filterCreateFromTag(VF_FILTERS tag,CONFcouple *conf, AVDMGenericVideoStream *in) ;
-extern uint32_t curframe;
 /*******************************************************/
 
 FilterItemEventFilter::FilterItemEventFilter(QWidget *parent) : QObject(parent) {}
@@ -120,19 +109,7 @@
 
 void filtermainWindow::preview(bool b)
 {
-	QListWidgetItem *item = activeList-&gt;currentItem();
 
-	if (!item)
-	{
-		printf(&quot;No selection\n&quot;);
-		return;
-	}
-
-	int itag = item-&gt;type();
-	ADM_assert(itag &gt; ACTIVE_FILTER_BASE);
-	itag -= ACTIVE_FILTER_BASE;
-
-	DIA_filterPreview(QT_TR_NOOP(&quot;Preview&quot;), videofilters[itag].filter, curframe);
 }
 
 /**
@@ -151,6 +128,7 @@
 */
 void filtermainWindow::add( bool b)
 {
+#if 0
   /* Now that we have the tab, get the selection */
    QListWidgetItem *item=availableList-&gt;currentItem();
    VF_FILTERS tag;
@@ -188,7 +166,7 @@
 		buildActiveFilterList();
         setSelected(nb_active_filter - 1);
    }
-
+#endif
 }
 /**
         \fn     remove( bool b)
@@ -196,6 +174,7 @@
 */
 void filtermainWindow::remove( bool b)
 {
+#if 0
    /* Get selection if any */
   /* Now that we have the tab, get the selection */
    QListWidgetItem *item=activeList-&gt;currentItem();
@@ -241,7 +220,7 @@
               else
                   setSelected(nb_active_filter-1);
             }
-  
+#endif  
 }
 #if 1
 #define MAKE_BUTTON(button,call) \
@@ -266,6 +245,7 @@
 */
 void filtermainWindow::configure( bool b)
 {
+#if 0
    /* Get selection if any */
   /* Now that we have the tab, get the selection */
    QListWidgetItem *item=activeList-&gt;currentItem();
@@ -291,6 +271,7 @@
         getFirstVideoFilter ();
         buildActiveFilterList ();
 		setSelected(itag);
+#endif
 }
 /**
         \fn     up( bool b)
@@ -298,6 +279,7 @@
 */
 void filtermainWindow::up( bool b)
 {
+#if 0
    QListWidgetItem *item=activeList-&gt;currentItem();
    if(!item)
    {
@@ -322,6 +304,7 @@
         getFirstVideoFilter ();
         buildActiveFilterList ();
         setSelected(itag-1);
+#endif
 }
 /**
         \fn     down( bool b)
@@ -329,6 +312,7 @@
 */
 void filtermainWindow::down( bool b)
 {
+#if 0
    QListWidgetItem *item=activeList-&gt;currentItem();
    if(!item)
    {
@@ -355,6 +339,7 @@
             buildActiveFilterList ();
             setSelected(itag+1);
         }
+#endif
 }
 /**
         \fn     filtermainWindow::filterFamilyClick( QListWidgetItem  *item)
@@ -363,34 +348,43 @@
 
 void filtermainWindow::filterFamilyClick(QListWidgetItem *item)
 {
+
     int family= ui.listFilterCategory-&gt;currentRow();
     if(family&gt;=0)
         displayFamily(family);
+
 }
 void filtermainWindow::filterFamilyClick(int  m)
 {
+
         if(m&gt;=0)
                 displayFamily(m);
+
 }
 void filtermainWindow::displayFamily(uint32_t family)
 {
-  printf(&quot;Family :%u\n&quot;,family);
+
+  
   ADM_assert(family&lt;VF_MAX);
-  std::vector &lt;FilterDescriptor *&gt; vec=filterCategories[family];
-  availableList-&gt;clear();
+ 
+  uint32_t nb=ADM_vf_getNbFiltersInCategory((VF_CATEGORY)family);
+    ADM_info(&quot;Video filter Family :%u, nb %d\n&quot;,family,nb);
   QSize sz;
-  
-  for (uint32_t i = 0; i &lt; vec.size(); i++)
+  availableList-&gt;clear();
+  for (uint32_t i = 0; i &lt; nb; i++)
     {
-          QString str = QString(&quot;&lt;b&gt;&quot;) + vec[i]-&gt;name + QString(&quot;&lt;/b&gt;&lt;br&gt;\n&lt;small&gt;&quot;) + vec[i]-&gt;description + QString(&quot;&lt;/small&gt;&quot;);
+        const char *name,*desc;
+        uint32_t major,minor,patch;
+          ADM_vf_getFilterInfo((VF_CATEGORY)family,i,&amp;name, &amp;desc,&amp;major,&amp;minor,&amp;patch);
+          QString str = QString(&quot;&lt;b&gt;&quot;) + name + QString(&quot;&lt;/b&gt;&lt;br&gt;\n&lt;small&gt;&quot;) + desc + QString(&quot;&lt;/small&gt;&quot;);
          
           QListWidgetItem *item;
           item=new QListWidgetItem(str,availableList,ALL_FILTER_BASE+i+family*100);
-          item-&gt;setToolTip(vec[i]-&gt;description);
+          item-&gt;setToolTip(desc);
           availableList-&gt;addItem(item);
      }
 
-  if (vec.size())
+  if (nb)
 	  availableList-&gt;setCurrentRow(0);
 }
 
@@ -478,6 +472,7 @@
 */
 void filtermainWindow::buildActiveFilterList(void)
 {
+#if 0
 	activeList-&gt;clear();
 
 	for (uint32_t i = 1; i &lt; nb_active_filter; i++)
@@ -500,6 +495,7 @@
 		QListWidgetItem *item=new QListWidgetItem(str,activeList,ACTIVE_FILTER_BASE+i);
 		activeList-&gt;addItem(item);
 	}
+#endif
 }
   /**
   */
@@ -568,10 +564,12 @@
 static void partialCb(void *cookie);
 void partialCb(void *cookie)
 {
+#if 0
   void **params=(void **)cookie;
   AVDMGenericVideoStream *son=(AVDMGenericVideoStream *)params[0];
   AVDMGenericVideoStream *previous=(AVDMGenericVideoStream *)params[1];
   son-&gt;configure(previous);
+#endif
 }
 /** 
     \fn DIA_getPartial

Deleted: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_filterChain.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_filterChain.h	2009-11-13 17:29:31 UTC (rev 5481)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_filterChain.h	2009-11-13 17:29:33 UTC (rev 5482)
@@ -1,30 +0,0 @@
-/***************************************************************************
-                          \fn ADM_filterChain.h
-                          \brief Base class for Video Filters
-                           (c) Mean 2009
-
-
-
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#ifndef ADM_filterChain_H
-#define ADM_filterChain_H
-#include &quot;ADM_coreVideoFilter.h&quot;
-#include &lt;vector&gt;
-typedef std::vector &lt;ADM_coreVideoFilter *&gt;ADM_videoFilterChain;
-
-
-ADM_videoFilterChain *createVideoFilterChain(uint64_t startAt,uint64_t endAt);
-bool                 destroyVideoFilterChain(ADM_videoFilterChain *chain);
-
-
-#endif
\ No newline at end of file

Deleted: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_vf_plugin.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_vf_plugin.h	2009-11-13 17:29:31 UTC (rev 5481)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_vf_plugin.h	2009-11-13 17:29:33 UTC (rev 5482)
@@ -1,66 +0,0 @@
-/**
-        \fn ADM_vf_plugin.h
-        \brief Interface for dynamically loaded video filter
-*/
-#ifndef ADM_vf_plugin_h
-#define ADM_vf_plugin_h
-#include &quot;ADM_default.h&quot;
-#include &quot;DIA_uiTypes.h&quot;
-#include &quot;ADM_coreVideoFilter.h&quot;
-#include &quot;ADM_filterCategory.h&quot;
-
-#define VF_API_VERSION 1
-/* These are the 6 functions exported by each plugin ...*/
-typedef ADM_coreVideoFilter  *(ADM_vf_CreateFunction)(ADM_coreVideoFilter *previous,CONFcouple *conf);
-typedef void              (ADM_vf_DeleteFunction)(ADM_coreVideoFilter *codec);
-typedef int               (ADM_vf_SupportedUI)(void); //  QT4/GTK / ALL
-typedef uint32_t          (ADM_vf_GetApiVersion)(void);
-typedef bool              (ADM_vf_GetPluginVersion)(uint32_t *major, uint32_t *minor, uint32_t *patch);
-typedef const char       *(ADM_vf_GetString)(void);
-typedef VF_CATEGORY       (ADM_vf_getCategory)(void);
-
-#define DECLARE_VIDEO_FILTER(Class,Major,Minor,Patch,UI,category,internalName,displayName,Desc) \
-	extern &quot;C&quot; { \
-	ADM_coreVideoFilter *create(ADM_coreVideoFilter *previous,CONFcouple *conf)\
-	{ \
-		return new Class(previous,conf);\
-	} \
-	void *destroy(ADM_coreVideoFilter *codec) \
-	{ \
-		Class *a=(Class *)codec;\
-		delete a;\
-	}\
-	int supportedUI(void) \
-	{ \
-		return UI; \
-	} \
-	uint32_t getApiVersion(void)\
-	{\
-			return VF_API_VERSION;\
-	}\
-	bool getFilterVersion(uint32_t *major,uint32_t *minor, uint32_t *patch)\
-	{\
-		*major=Major;\
-		*minor=Minor;\
-		*patch=Patch;\
-		return true;\
-	}\
-	const char *getDesc(void)\
-	{\
-		return Desc; \
-	}\
-	const char *getInternalName(void)\
-	{\
-		return internalName; \
-	}\
-	const char *getDisplayName(void)\
-	{\
-		return displayName; \
-	}\
-    VF_CATEGORY getCategory(void) \
-    { \
-        return category;\
-    }\
-	}
-
-#endif

Deleted: branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_videoFilterBridge.h
===================================================================
--- branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_videoFilterBridge.h	2009-11-13 17:29:31 UTC (rev 5481)
+++ branches/avidemux_2.6_branch_mean/avidemux_core/ADM_coreVideoFilter/include/ADM_videoFilterBridge.h	2009-11-13 17:29:33 UTC (rev 5482)
@@ -1,47 +0,0 @@
-/***************************************************************************
-                          \fn ADM_videoFilterBridge.h
-                          \brief Base class for Video Filters
-                           (c) Mean 2009
-
-
-
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#ifndef ADM_VIDEO_FILTER_BRIDGE_H
-#define ADM_VIDEO_FILTER_BRIDGE_H
-
-#include &quot;ADM_coreVideoFilter.h&quot;
-/**
-    \class ADM_videoFilterBridge
-    \brief Class that transform Editor API to coreVideoFilter API
-
-*/
-class ADM_videoFilterBridge : public ADM_coreVideoFilter
-{
-protected:
-        uint64_t            startTime,endTime;
-        FilterInfo          bridgeInfo;
-        bool                firstImage;
-        uint32_t            lastSentImage;
-        virtual bool        nextFrame(ADMImage *image);    /// Return the next image
-public:
-                            ADM_videoFilterBridge(uint64_t startTime, uint64_t endTime);
-                            ~ADM_videoFilterBridge();
-       virtual bool         getFrame(uint32_t frame,ADMImage *image);
-       
-	   virtual FilterInfo  *getInfo(void);                                      /// Return picture parameters after this filter
-	   virtual bool         getCoupledConf(CONFcouple **couples) {*couples=NULL;return true;} ; /// Return the current filter configuration
-
-        bool                rewind(void);
-
-};
-
-#endif


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002692.html">[Avidemux-svn-commit] r5481 -	branches/avidemux_2.6_branch_mean/avidemux/common/ADM_videoFilter2
</A></li>
	<LI>Next message: <A HREF="002694.html">[Avidemux-svn-commit] r5483 - in branches/avidemux_2.6_branch_mean:	avidemux/common/ADM_videoFilter2/src	avidemux_core/ADM_coreVideoFilter/include
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2693">[ date ]</a>
              <a href="thread.html#2693">[ thread ]</a>
              <a href="subject.html#2693">[ subject ]</a>
              <a href="author.html#2693">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
