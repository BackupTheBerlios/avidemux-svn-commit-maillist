From mean at mail.berlios.de  Tue May  1 15:53:42 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 1 May 2007 15:53:42 +0200
Subject: [Avidemux-svn-commit] r2998 - in
	branches/avidemux_2.4_branch/avidemux: . ADM_inputs/ADM_3gp
	ADM_video
Message-ID: <200705011353.l41DrgxT017987@sheep.berlios.de>

Author: mean
Date: 2007-05-01 15:53:40 +0200 (Tue, 01 May 2007)
New Revision: 2998

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_infoextractor.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_reorderTemplate.cpp
   branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
Log:
use template for .mp4 reorder, more info on display hex

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp	2007-04-30 14:48:21 UTC (rev 2997)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp	2007-05-01 13:53:40 UTC (rev 2998)
@@ -1599,78 +1599,22 @@
 /***************************************/
 uint8_t _3GPHeader::reorder( void )
 {
-_3gpIndex *index;
-uint8_t ret=1;
-uint32_t nbFrame= _videostream.dwLength;
-        // already done..
+
         if( _reordered) return 1;
         printf("Reordering...\n");
-        _3gpIndex *old,*nw;
+#define INDEX_TMPL        _3gpIndex
+#define INDEX_ARRAY_TMPL  (VDEO.index)
+#define FRAMETYPE_TMPL    intra
+  
+#include "ADM_video/ADM_reorderTemplate.cpp"
 
-        old=VDEO.index;
-        ADM_assert(old);
-        
-        index=new _3gpIndex[nbFrame];
-        // clear B frame flag for last frames
-        old[nbFrame-1].intra &=~AVI_B_FRAME;
+#undef INDEX_TMPL       
+#undef INDEX_ARRAY_TMPL 
+#undef FRAMETYPE_TMPL   
+        VDEO.nbIndex= _mainaviheader.dwTotalFrames;
+        // last frame cannot be B frame
+        index[last].intra&=~AVI_B_FRAME;
+          _reordered=ret;
+        return ret;
 
-                        //__________________________________________
-                        // the direct index is in DTS time (i.e. decoder time)
-                        // we will now do the PTS index, so that frame numbering is done
-                        // according to the frame # as they are seen by editor / user
-                        // I1 P0 B0 B1 P1 B2 B3 I2 B7 B8
-                        // xx I1 B0 B1 P0 B2 B3 P1 B7 B8
-                        //__________________________________________
-                        uint32_t forward=0;
-                        uint32_t curPTS=0;
-                        uint32_t dropped=0;
-
-                        for(uint32_t c=1;c<nbFrame;c++)
-                        {
-                                if(!(old[c].intra & AVI_B_FRAME))
-                                        {
-                                                                memcpy(&index[curPTS],
-                                                                                &old[forward],
-                                                                                sizeof(_3gpIndex));
-                                                                forward=c;
-                                                                curPTS++;
-                                                                dropped++;
-                                        }
-                                        else
-                                        {// we need  at lest 2 i/P frames to start decoding B frames
-                                                if(dropped>=1)
-                                                {
-                                                        memcpy(&index[curPTS],
-                                                                &old[c],
-                                                                sizeof(_3gpIndex));
-                                                        curPTS++;
-                                                }
-                                                else
-                                                {
-                                                printf("We dropped a frame (%d/%d).\n",dropped,c);
-                                                }
-                                        }
-                        }
-
-                        uint32_t last;
-
-
-                        // put back last I/P we had in store
-                        memcpy(&index[curPTS],
-                                &old[forward],
-                                sizeof(_3gpIndex));
-                        last=curPTS;
-
-                        _videostream.dwLength= _mainaviheader.dwTotalFrames=nbFrame=last+1;
-                        // last frame is always I
-
-                        delete [] old;
-
-                        VDEO.index=index;;
-                        VDEO.nbIndex= _mainaviheader.dwTotalFrames;
-                        // last frame cannot be B frame
-                        index[last].intra&=~AVI_B_FRAME;
-                         _reordered=ret;
-                        return ret;
-
 }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_infoextractor.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_infoextractor.cpp	2007-04-30 14:48:21 UTC (rev 2997)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_infoextractor.cpp	2007-05-01 13:53:40 UTC (rev 2998)
@@ -328,9 +328,11 @@
   {
     
               uint32_t length=(head[0]<<24) + (head[1]<<16) +(head[2]<<8)+(head[3]);
-              if(length>len)
+              if(length>len||length<6)
               {
-                printf("Warning , incomplete nal (%u/%u)\n",length,len); 
+                printf("Warning , incomplete nal (%u/%u),(%0x/%0x)\n",length,len,length,len);
+                *flags=0;
+                return 0;
               }
               head+=4; // Skip nal lenth
               length-=4;
@@ -348,7 +350,7 @@
                                   break;
                   default:
                           printf("??0x%x\n",stream);
-                          head+=length+1;
+                          head+=length-5;
                           continue;
                 }
   }
@@ -367,6 +369,7 @@
   uint8_t stream;
 #define NAL_NON_IDR       1
 #define NAL_IDR           5
+#define NAL_SEI           6
 
   uint32_t val,hnt;  
   

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_reorderTemplate.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_reorderTemplate.cpp	2007-04-30 14:48:21 UTC (rev 2997)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_reorderTemplate.cpp	2007-05-01 13:53:40 UTC (rev 2998)
@@ -79,4 +79,6 @@
 			INDEX_ARRAY_TMPL=index;;
 			// last frame cannot be B frame
 			INDEX_ARRAY_TMPL[last].FRAMETYPE_TMPL&=~AVI_B_FRAME;
+                        // And first is an intra
+                        INDEX_ARRAY_TMPL[0].FRAMETYPE_TMPL=AVI_KEY_FRAME;
 			 _reordered=ret;

Modified: branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2007-04-30 14:48:21 UTC (rev 2997)
+++ branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2007-05-01 13:53:40 UTC (rev 2998)
@@ -2440,7 +2440,7 @@
 {
 #define DISPLAY_HEX 32*3
  uint8_t *buffer;
- uint32_t len,fullLen;
+ uint32_t len,fullLen,flags;
  char     string[DISPLAY_HEX*3+6],*s;
  char     title[80];
  
@@ -2463,7 +2463,16 @@
     
  }
  *s=0;
- sprintf(title,"Len: %u bytes\n",fullLen);
+ video_body->getFlags (curframe, &flags);
+ char Type='?';
+ switch(flags)
+ {
+   case 0: Type='P'; break;
+   case AVI_KEY_FRAME: Type='I'; break;
+   case AVI_B_FRAME: Type='B'; break;
+   default : Type='?'; break;
+ }
+ sprintf(title,"Len: %u bytes %c\n",fullLen,Type);
  
  GUI_Info_HIG( ADM_LOG_IMPORTANT,title, string);
  delete [] buffer;



From mean at mail.berlios.de  Tue May  1 15:54:08 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 1 May 2007 15:54:08 +0200
Subject: [Avidemux-svn-commit] r2999 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska
Message-ID: <200705011354.l41Ds8af018033@sheep.berlios.de>

Author: mean
Date: 2007-05-01 15:54:08 +0200 (Tue, 01 May 2007)
New Revision: 2999

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvIndexer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvTrackType.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv_audio.cpp
Log:
vorbis in matroska support

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.cpp	2007-05-01 13:53:40 UTC (rev 2998)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.cpp	2007-05-01 13:54:08 UTC (rev 2999)
@@ -99,7 +99,14 @@
   
   // Finaly update index with queue
   // Useless.....readCue(&ebml);
-    
+  for(int i=0;i<_nbAudioTrack;i++)
+  {
+    if(_tracks[1+i].wavHeader.encoding==WAV_OGG)
+    {
+        printf("[MKV] Reformatting vorbis header for track %u\n",i);
+        reformatVorbisHeader(&(_tracks[1+i]));  
+    }
+  }
   printf("[MKV]Matroska successfully read\n");
   
   return 1;
@@ -442,5 +449,54 @@
     }
     return 1;
 }
-
+/**
+    \fn mkreformatVorbisHeader
+    \brief reformat oggvorbis header to avidemux style
+*/
+uint8_t mkvHeader::reformatVorbisHeader(mkvTrak *trk)
+{
+  /*
+  The private data contains the first three Vorbis packet in order. The lengths of the packets precedes them. The actual layout is:
+Byte 1: number of distinct packets '#p' minus one inside the CodecPrivate block. This should be '2' for current Vorbis headers.
+Bytes 2..n: lengths of the first '#p' packets, coded in Xiph-style lacing. The length of the last packet is the length of the CodecPrivate block minus the lengths coded in these bytes minus one.
+Bytes n+1..: The Vorbis identification header, followed by the Vorbis comment header followed by the codec setup header.
+  */
+  uint8_t *oldata=trk->extraData;
+  uint32_t oldlen=trk->extraDataLen;
+  uint32_t len1,len2,len3;
+  uint8_t *head;
+      if(*oldata!=2) {printf("[MKV] weird audio, expect problems\n");return 0;}
+      // First packet length
+      head=oldata+1;
+#define READ_LEN(x) \
+      x=0; \
+      while(*head==0xff)  \
+      { \
+        x+=0xff; \
+        head++; \
+      } \
+      x+=*head++;
+  
+      READ_LEN(len1);
+      READ_LEN(len2);
+      len3=oldata+oldlen-head;
+      printf("Found packet len : %u %u %u, total size %u\n",len1,len2,len3,oldlen);
+      // Now build our own packet...
+      uint8_t *nwdata=new uint8_t[len1+len2+len3+sizeof(uint32_t)*3];
+      uint32_t nwlen=len1+len2+len3+sizeof(uint32_t)*3;
+      uint8_t *cp=nwdata+sizeof(uint32_t)*3;
+      memcpy(cp,head,len1);
+      memcpy(cp+len1,head+len1,len2);
+      memcpy(cp+len1+len2,head+len1+len2,len3);
+      
+      uint32_t *h=(uint32_t *)nwdata;
+      h[0]=len1;
+      h[1]=len2;
+      h[2]=len3;
+      // Destroy old datas
+      delete [] oldata;
+      trk->extraData=nwdata;
+      trk->extraDataLen=nwlen;
+  return 1; 
+}
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.h	2007-05-01 13:53:40 UTC (rev 2998)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.h	2007-05-01 13:54:08 UTC (rev 2999)
@@ -110,7 +110,8 @@
     uint8_t                 analyzeOneTrack(void *head,uint32_t headlen);
     uint8_t                 walk(void *seed);
     int                     searchTrackFromTid(uint32_t tid);
-    
+    //
+    uint8_t                 reformatVorbisHeader(mkvTrak *trk);  
     // Indexers
     
     uint8_t                 addIndexEntry(uint32_t track,uint64_t where, uint32_t size,uint32_t flags);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvIndexer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvIndexer.cpp	2007-05-01 13:53:40 UTC (rev 2998)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvIndexer.cpp	2007-05-01 13:54:08 UTC (rev 2999)
@@ -140,6 +140,7 @@
       uint8_t flags=parser->readu8();
       uint32_t remaining=tail-parser->tell();
       lacing=((flags>>1)&3);
+      //if(track) printf("This round %lld total:%lld\n",tail-parser->tell(),    _tracks[track]._sizeInBytes);
       switch(lacing)
       {
         case 0: // No lacing
@@ -180,25 +181,45 @@
         case 3: // Ebml lacing
           {
                                 
-                                int nbLaces=parser->readu8()+1;
-                                int32_t curSize=parser->readEBMCode();
-                                int32_t delta,sum;
-                                int64_t tail;
-                                
-                                sum=curSize;
-                                for(int i=1;i<nbLaces-1;i++)
+                                int nbLaces=parser->readu8();
+                                for(int i=1;i<nbLaces;i++)
                                 {
-                                  delta=parser->readEBMCode_Signed();
-                                  curSize+=delta;
+                                  parser->readEBMCode_Signed();
                                 }
                                 ADM_assert(track); // Not video!
-                                _tracks[track]._sizeInBytes+=tail-parser->tell();
+                                if(parser->tell()>=tail)
+                                {
+                                  printf("[MKVINDEXER]OOps overflow for EBML(track %u tid%u) at 0x%llx\n",track,tid,parser->tell()); 
+                                  break;
+                                }else
+                                {
+                                    _tracks[track]._sizeInBytes+=tail-parser->tell();
+                                }
                                 
                               }
             break;
 #endif
+        case 1: //Xiph lacing
+        {
+                                // Skip header to get the data size...
+                                int nbLaces=parser->readu8();
+                                for(int i=0;i<nbLaces;i++)
+                                {
+                                  while( parser->readu8()==0xFF);
+                                }
+                                if(parser->tell()>=tail)
+                                {
+                                  printf("[MKVINDEXER]OOps overflow for XIPH(track %u tid%u) at 0x%llx\n",track,tid,parser->tell()); 
+                                  break;
+                                }
+                                ADM_assert(track); // Not video!
+                                _tracks[track]._sizeInBytes+=(tail-parser->tell());
+                                //printf("This round %lld total:%lld\n",tail-parser->tell(),    _tracks[track]._sizeInBytes);
+                                break;
+          
+        }
         default: 
-            printf("unsupported lacing\n");
+            printf("unsupported lacing Track:%d (%d)\n",track,lacing);
             break;
       }
       parser->seek(tail);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvTrackType.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvTrackType.cpp	2007-05-01 13:53:40 UTC (rev 2998)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvTrackType.cpp	2007-05-01 13:54:08 UTC (rev 2999)
@@ -45,6 +45,7 @@
   {"A_AC3",0,WAV_AC3,""}, 
   {"A_AAC/MPEG2/LC",0,WAV_AAC,""},
   {"A_AAC",0,WAV_AAC,""},
+  {"A_VORBIS",0,WAV_OGG,""},
   
   // Video
   {"V_MPEG4/ISO/AVC",1,0,"AVC1"}, //H264

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv_audio.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv_audio.cpp	2007-05-01 13:53:40 UTC (rev 2998)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv_audio.cpp	2007-05-01 13:54:08 UTC (rev 2999)
@@ -162,6 +162,43 @@
                               _currentLace=_maxLace=0;
                               
                               return 1;
+                      case 1: //Xiph lacing
+                        {
+                                int nbLaces=_clusterParser->readu8()+1;
+                                
+                                ADM_assert(nbLaces<MKV_MAX_LACES);
+                                for(int i=0;i<nbLaces-1;i++)
+                                {
+                                  int v=0;
+                                  int lce=0;
+                                  while(  (v=_clusterParser->readu8())==0xff) lce+=v;
+                                  lce+=v;
+                                  _Laces[i]=lce;
+                                }
+                                int64_t d=_clusterParser->tell();
+                                
+                                d=tail-d;
+                                /* We have the remaining size after laces, substract the already known lace size */
+                                for(int i=0;i<nbLaces-1;i++)
+                                {
+                                  d-=_Laces[i]; 
+                                }
+                                // What is left is the sift of the last lace
+                                if(d>0)
+                                  _Laces[nbLaces-1]=(uint32_t)d; 
+                                else
+                                {
+                                  printf("[MKVAUDIO] OOps overflow on Xiph\n");
+                                  nbLaces--; 
+                                }
+
+                                
+                                _currentLace=0;
+                                _maxLace=nbLaces;
+                                return getPacket(dest, packlen, samples);
+                              }
+                              
+                              break;
                       case 2 : // constant size lacing
                               {
                                 int nbLaces=_clusterParser->readu8()+1;
@@ -178,6 +215,7 @@
                                 _maxLace=nbLaces;
                                 return getPacket(dest, packlen, samples);
                               }
+                              break;
                       case 3: // Ebml lacing
                         {
                                 
@@ -198,7 +236,7 @@
                                   _Laces[i]=curSize; 
                                  
                                 }
-                                uint64_t d=_clusterParser->tell();
+                                int64_t d=_clusterParser->tell();
                                 
                                 d=tail-d;
                                 /* We have the remaining size after laces, substract the already known lace size */
@@ -207,11 +245,18 @@
                                   d-=_Laces[i]; 
                                 }
                                 // What is left is the sift of the last lace
-                                _Laces[nbLaces-1]=(uint32_t)d; 
+                                if(d>0)
+                                  _Laces[nbLaces-1]=(uint32_t)d; 
+                                else
+                                {
+                                  printf("[MKVAUDIO] OOps overflow on ebml\n");
+                                  nbLaces--; 
+                                }
                                 _currentLace=0;
                                 _maxLace=nbLaces;
                                 return getPacket(dest, packlen, samples);
                               }
+                              break;
                       default:
                             printf("Unsupported lacing %u\n",lacing);
                             _clusterParser->seek(pos+len);
@@ -332,4 +377,5 @@
             return 1;
 #endif
 }
+
 //EOF



From mean at mail.berlios.de  Tue May  1 19:14:46 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 1 May 2007 19:14:46 +0200
Subject: [Avidemux-svn-commit] r3001 - in branches/avidemux_2.4_branch:
	autononreg/dialogFactory avidemux avidemux/ADM_script
	avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory
	avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory
	avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory
	avidemux/ADM_userInterfaces/ADM_commonUI
Message-ID: <200705011714.l41HEk9s026157@sheep.berlios.de>

Author: mean
Date: 2007-05-01 19:14:45 +0200 (Tue, 01 May 2007)
New Revision: 3001

Added:
   branches/avidemux_2.4_branch/autononreg/dialogFactory/binhex.js
   branches/avidemux_2.4_branch/autononreg/dialogFactory/frame.js
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_hex.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_hex.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
   branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
Log:
added binHex to dialogFactory

Copied: branches/avidemux_2.4_branch/autononreg/dialogFactory/binhex.js (from rev 2972, branches/avidemux_2.4_branch/autononreg/dialogFactory/float.js)
===================================================================
--- branches/avidemux_2.4_branch/autononreg/dialogFactory/float.js	2007-04-26 14:21:27 UTC (rev 2972)
+++ branches/avidemux_2.4_branch/autononreg/dialogFactory/binhex.js	2007-05-01 17:14:45 UTC (rev 3001)
@@ -0,0 +1,10 @@
+//AD  <- These first 4 characters need to be the first 4 characters to identify the ECMAScript file to Avidemux
+var app = new Avidemux();
+var file="/work/samples/2mn.avi";
+var goodfcc="DIV3";
+var fps;
+
+	dialogFactoryHex();
+
+/* End of test
+*/

Copied: branches/avidemux_2.4_branch/autononreg/dialogFactory/frame.js (from rev 2731, branches/avidemux_2.4_branch/autononreg/dialogFactory/toggle.js)
===================================================================
--- branches/avidemux_2.4_branch/autononreg/dialogFactory/toggle.js	2007-01-14 13:23:04 UTC (rev 2731)
+++ branches/avidemux_2.4_branch/autononreg/dialogFactory/frame.js	2007-05-01 17:14:45 UTC (rev 3001)
@@ -0,0 +1,10 @@
+//AD  <- These first 4 characters need to be the first 4 characters to identify the ECMAScript file to Avidemux
+var app = new Avidemux();
+var file="/work/samples/2mn.avi";
+var goodfcc="DIV3";
+var fps;
+
+	dialogFactoryFrame();
+
+/* End of test
+*/

Modified: branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp	2007-05-01 14:53:39 UTC (rev 3000)
+++ branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp	2007-05-01 17:14:45 UTC (rev 3001)
@@ -78,6 +78,7 @@
 JSBool facText(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
 JSBool facTab(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
 JSBool facFrame(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
+JSBool facHex(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
 JSBool facDirSel(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
 JSBool crashTest(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
 JSBool assertTest(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
@@ -110,6 +111,7 @@
   {"dialogFactoryTabs",       facTab,        0},
   {"dialogFactoryDirSel",       facDirSel,        0},
   {"dialogFactoryFrame",       facFrame,        0},
+  {"dialogFactoryHex",       facHex,        0},
   {"crashTest",               crashTest,        0},
   {"assertTest",               assertTest,        0},
   {0}
@@ -723,6 +725,30 @@
       
       
 }
+
+
+JSBool facHex(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval)
+{
+    
+      uint8_t data[100];
+      for(int i=0;i<100;i++) data[i]=i;
+      
+      diaElemHex binhex("*****",100,data);
+      
+      
+         diaElem *elems[]={&binhex   };
+  if(diaFactoryRun("Test binHex",1,elems))
+  {
+    *rval = BOOLEAN_TO_JSVAL(1);
+    
+  }else
+    *rval = BOOLEAN_TO_JSVAL(0);
+  
+  return JS_TRUE;
+      
+      
+}
+
 JSBool crashTest(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval)
 {
   

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_hex.cpp (from rev 2972, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp	2007-04-26 14:21:27 UTC (rev 2972)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_hex.cpp	2007-05-01 17:14:45 UTC (rev 3001)
@@ -0,0 +1,167 @@
+/***************************************************************************
+  FAC_toggle.cpp
+  Handle dialog factory element : Toggle
+  (C) 2006 Mean Fixounet at free.fr 
+***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include <config.h>
+
+
+#include <string.h>
+#include <stdio.h>
+#include <math.h>
+
+#include "default.h"
+#include "ADM_toolkit_gtk/ADM_gladeSupport.h"
+#include "ADM_toolkit_gtk/toolkit_gtk.h"
+#include "ADM_toolkit_gtk/toolkit_gtk_include.h"
+#include "ADM_commonUI/DIA_factory.h"
+#include "ADM_assert.h"
+
+#define HEX_NB_LINE   8
+#define HEX_NB_COLUMN 16
+
+
+
+typedef struct hexStruct
+{ 
+    GtkWidget *grid;
+    GtkWidget *entry[HEX_NB_LINE];
+    uint8_t   *data;
+    uint32_t  size;
+    uint32_t  curOffset;
+}hexStruct;
+
+static void updateMe(hexStruct *s);
+static void prev(void *z,hexStruct *s);
+static void next(void *z,hexStruct *s);
+
+diaElemHex::diaElemHex(const char *toggleTitle, uint32_t dataSize,uint8_t *data)
+  : diaElem(ELEM_HEXDUMP)
+{
+  param=NULL;
+  paramTitle=toggleTitle;
+  this->tip=NULL;
+  this->data=data;
+  this->dataSize=dataSize;
+   setSize(3);
+}
+
+diaElemHex::~diaElemHex()
+{
+  if(myWidget)
+  {
+     hexStruct *s=(hexStruct *)myWidget;
+     delete s;
+     myWidget=NULL;
+  }
+}
+void diaElemHex::setMe(void *dialog, void *opaque,uint32_t line)
+{
+  GtkWidget *hexTable,*buttonP,*buttonN;
+  uint8_t *tail=data+dataSize;
+  
+  hexTable=gtk_table_new(1,HEX_NB_LINE,0);
+  gtk_widget_show(hexTable);
+  
+  
+  gtk_table_attach (GTK_TABLE (opaque), hexTable, 0, 2, line, line+1,
+                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  
+  hexStruct *s=new hexStruct;
+  s->grid=hexTable;
+  s->data=data;
+  s->size=dataSize;
+  s->curOffset=0;
+  for(int i=0;i<HEX_NB_LINE;i++)
+  {
+    s->entry[i]=gtk_label_new("");
+    gtk_widget_show(s->entry[i]);
+     gtk_table_attach (GTK_TABLE (hexTable), s->entry[i], 0, 1, i, i+1,
+                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  }
+  myWidget=(void *)s;
+  //*************************
+  buttonP = gtk_button_new_from_stock ("gtk-previous");
+  gtk_widget_show (buttonP);
+  gtk_table_attach (GTK_TABLE (opaque), buttonP, 0, 1, line+1, line+2,
+                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  g_signal_connect(GTK_OBJECT(buttonP), "clicked",
+                    GTK_SIGNAL_FUNC(prev),  s);
+  
+  buttonN = gtk_button_new_from_stock ("gtk-next");
+  gtk_widget_show (buttonN);
+  gtk_table_attach (GTK_TABLE (opaque), buttonN, 0, 1, line+2, line+3,
+                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  g_signal_connect(GTK_OBJECT(buttonN), "clicked",
+                    GTK_SIGNAL_FUNC(next),  s);
+  
+  
+  updateMe(s);
+}
+void prev(void *z,hexStruct *s)
+{
+  if(s->curOffset>=HEX_NB_COLUMN*4)
+      s->curOffset-=HEX_NB_COLUMN*4;
+  updateMe(s);
+  
+}
+void next(void *z,hexStruct *s)
+{
+      s->curOffset+=HEX_NB_COLUMN*4;
+  updateMe(s);
+}
+void updateMe(hexStruct *s)
+{
+  uint8_t *tail=s->data+s->size;
+  uint8_t *cur;
+  char string[3000];
+  char *ptr;
+  for(int i=0;i<HEX_NB_LINE;i++)
+  {
+     cur=s->data+HEX_NB_COLUMN*i+s->curOffset;
+     
+     sprintf(string,"%06x:",HEX_NB_COLUMN*i+s->curOffset);
+     ptr=string+strlen(string);
+     *ptr=0;
+     for(int j=0;j<HEX_NB_COLUMN;j++)
+     {
+       if(cur<tail)
+       {
+          sprintf(ptr,"%02X ",*cur++);
+          ptr+=3;
+       }else 
+       {
+          *ptr++='X';
+          *ptr++='X';
+          *ptr++=' ';
+       }
+     }
+     ptr[2999]=0;
+     gtk_label_set_text(GTK_LABEL(s->entry[i]),string);
+     
+  }
+}
+void diaElemHex::getMe(void)
+{
+ 
+}
+void diaElemHex::finalize(void) 
+{
+
+};
+
+//EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/Makefile.am	2007-05-01 14:53:39 UTC (rev 3000)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/Makefile.am	2007-05-01 17:14:45 UTC (rev 3001)
@@ -18,6 +18,7 @@
 FAC_bar.cpp \
 FAC_readOnlyText.cpp \
 FAC_notch.cpp \
-FAC_frame.cpp
+FAC_frame.cpp \
+FAC_hex.cpp
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp	2007-05-01 14:53:39 UTC (rev 3000)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp	2007-05-01 17:14:45 UTC (rev 3001)
@@ -296,4 +296,13 @@
 void diaElemFrame::finalize(void)
 {
 }
+//**************************
+
+  
+  diaElemHex::diaElemHex(const char *toggleTitle, uint32_t dataSize,uint8_t *data) :diaElem(ELEM_HEXDUMP){};
+  diaElemHex::~diaElemHex() {};
+  void diaElemHex::setMe(void *dialog, void *opaque,uint32_t line) {};
+  void diaElemHex::getMe(void) {} ;
+  void diaElemHex::finalize(void) {};
+
 //EOF

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_hex.cpp (from rev 2972, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_toggle.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_toggle.cpp	2007-04-26 14:21:27 UTC (rev 2972)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_hex.cpp	2007-05-01 17:14:45 UTC (rev 3001)
@@ -0,0 +1,41 @@
+/***************************************************************************
+  FAC_toggle.cpp
+  Handle dialog factory element : Toggle
+  (C) 2006 Mean Fixounet at free.fr 
+***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include <config.h>
+
+
+#include <string.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include <math.h>
+
+#include <QDialog>
+#include <QMessageBox>
+#include <QGridLayout>
+#include <QCheckBox>
+
+#include "default.h"
+#include "ADM_commonUI/DIA_factory.h"
+#include "ADM_assert.h"
+
+extern const char *shortkey(const char *);
+  diaElemHex::diaElemHex(const char *toggleTitle, uint32_t dataSize,uint8_t *data) :diaElem(ELEM_HEXDUMP){};
+  diaElemHex::~diaElemHex() {};
+  void diaElemHex::setMe(void *dialog, void *opaque,uint32_t line) {};
+  void diaElemHex::getMe(void) {} ;
+  void diaElemHex::finalize(void) {};
+//******************************************************
+
+//EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/Makefile.am	2007-05-01 14:53:39 UTC (rev 3000)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/Makefile.am	2007-05-01 17:14:45 UTC (rev 3001)
@@ -3,7 +3,7 @@
 
 libADM_dialogFactory_a_METASOURCES = AUTO
 
-libADM_dialogFactory_a_SOURCES = AT_dialogFactory.cpp FAC_toggle.cpp FAC_integer.cpp FAC_menu.cpp FAC_float.cpp AT_filesel.cpp AT_bitrate.cpp FAC_bar.cpp FAC_readOnlyText.cpp FAC_notch.cpp FAC_frame.cpp
+libADM_dialogFactory_a_SOURCES = AT_dialogFactory.cpp FAC_toggle.cpp FAC_integer.cpp FAC_menu.cpp FAC_float.cpp AT_filesel.cpp AT_bitrate.cpp FAC_bar.cpp FAC_readOnlyText.cpp FAC_notch.cpp FAC_frame.cpp FAC_hex.cpp
 
 
 INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-05-01 14:53:39 UTC (rev 3000)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-05-01 17:14:45 UTC (rev 3001)
@@ -33,6 +33,7 @@
   ELEM_DIR_SELECT,
   ELEM_TEXT,
   ELEM_FRAME,
+  ELEM_HEXDUMP,
   ELEM_MAX=ELEM_TOGGLE
 };
 /*********************************************/
@@ -327,7 +328,20 @@
   void finalize(void);
 };
 /**********************************************/
-
+class diaElemHex : public diaElem
+{
+  uint32_t dataSize;
+  uint8_t  *data;
+  
+public:
+  
+  diaElemHex(const char *toggleTitle, uint32_t dataSize,uint8_t *data);
+  virtual ~diaElemHex() ;
+  void setMe(void *dialog, void *opaque,uint32_t line);
+  void getMe(void) ;
+  void finalize(void);
+};
+/**********************************************/
 /*********************************************/
 uint8_t diaFactoryRun(const char *title,uint32_t nb,diaElem **elems);
 uint8_t diaFactoryRunTabs(const char *title,uint32_t nb,diaElemTabs **tabs);

Modified: branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2007-05-01 14:53:39 UTC (rev 3000)
+++ branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2007-05-01 17:14:45 UTC (rev 3001)
@@ -2441,40 +2441,27 @@
 #define DISPLAY_HEX 32*3
  uint8_t *buffer;
  uint32_t len,fullLen,flags;
- char     string[DISPLAY_HEX*3+6],*s;
- char     title[80];
+ char sType[5];
+ char sSize[15];
  
  if (!avifileinfo) return;
  
  buffer=new uint8_t [avifileinfo->width*avifileinfo->height*3];
  video_body->getRaw (curframe, buffer, &fullLen);  
- 
- len=fullLen;
- if(len>DISPLAY_HEX) len=DISPLAY_HEX;
- s=string;
- for(int i=0;i<len;i++)
- {
-    sprintf(s,"%02x ",buffer[i]); 
-    s+=3;
-    if(i%8==7)
-    {
-      *s++='\n'; 
-    }
-    
- }
- *s=0;
  video_body->getFlags (curframe, &flags);
- char Type='?';
- switch(flags)
- {
-   case 0: Type='P'; break;
-   case AVI_KEY_FRAME: Type='I'; break;
-   case AVI_B_FRAME: Type='B'; break;
-   default : Type='?'; break;
- }
- sprintf(title,"Len: %u bytes %c\n",fullLen,Type);
  
- GUI_Info_HIG( ADM_LOG_IMPORTANT,title, string);
+ diaElemHex binhex("*****",fullLen,buffer);
+      
+ if(flags==AVI_KEY_FRAME) sprintf(sType,"I");
+  else if(flags==AVI_B_FRAME) sprintf(sType,"B");
+    else sprintf(sType,"P");
+ sprintf(sSize,"%d bytes",fullLen);
+ 
+ diaElemReadOnlyText Type(sType,_("Frame Type:"));
+ diaElemReadOnlyText Size(sSize,_("Frame Size:"));
+ diaElem *elems[]={&Type,&Size,&binhex   };
+ if(diaFactoryRun("Frame HexDump",3,elems))
+ 
  delete [] buffer;
 }
 



From mean at mail.berlios.de  Tue May  1 19:15:25 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 1 May 2007 19:15:25 +0200
Subject: [Avidemux-svn-commit] r3002 -
	branches/avidemux_2.4_branch/addons/mkvscan
Message-ID: <200705011715.l41HFPpZ029101@sheep.berlios.de>

Author: mean
Date: 2007-05-01 19:15:24 +0200 (Tue, 01 May 2007)
New Revision: 3002

Modified:
   branches/avidemux_2.4_branch/addons/mkvscan/ebml.cpp
   branches/avidemux_2.4_branch/addons/mkvscan/mkv_c.cpp
Log:
updated mkvscan

Modified: branches/avidemux_2.4_branch/addons/mkvscan/ebml.cpp
===================================================================
--- branches/avidemux_2.4_branch/addons/mkvscan/ebml.cpp	2007-05-01 17:14:45 UTC (rev 3001)
+++ branches/avidemux_2.4_branch/addons/mkvscan/ebml.cpp	2007-05-01 17:15:24 UTC (rev 3002)
@@ -18,15 +18,25 @@
  *   Free Software Foundation, Inc.,                                       *
  *   59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.             *
  ***************************************************************************/
-
 #include <stdio.h>
 #include <stdlib.h>
 #include <stdint.h>
 #include <assert.h>
-#define ADM_assert assert
 #include "ADM_ebml.h"
 #define aprintf(...) {}
+#define ADM_assert assert
+#if 0
+#define vprintf printf
+#else
+#define vprintf(...) {}
+#endif
 
+extern "C"
+{
+  double av_int2dbl(int64_t v);
+  float av_int2flt(int32_t v);
+}
+
 /*
   It is slow , optimize later
 */  
@@ -90,7 +100,18 @@
     val=(val<<8)+readu8(); 
   }
   // Signed !
-  //FIXME
+
+  switch(more)
+  {
+    case 0: val-=63;break; 
+    case 1: val-=8191;break;
+    case 2: val-=1048575L;break;  
+    default: 
+        ADM_assert(0);
+        return 0;
+    
+  }
+
   return val;
 }
 /**
@@ -156,6 +177,29 @@
     readBin(v,2);
     return (uint16_t)(v[0]<<8)+v[1];
 }
+/**
+*/
+float       ADM_ebml::readFloat(uint32_t n)
+{
+  if(n!=4 && n!=8) ADM_assert(0);
+  
+  switch(n)
+  {
+    case 4:
+    {
+        uint32_t u4=readUnsignedInt(4);
+        return av_int2flt(u4);
+      }
+    case 8:
+    {
+        uint64_t u8=readUnsignedInt(8);
+        return  av_int2dbl(u8);
+    }
+    default:
+        ADM_assert(0);
+  }
+}
+
 ADM_ebml::ADM_ebml(void)
 {
   
@@ -178,12 +222,15 @@
 }
 ADM_ebml_file::ADM_ebml_file(void) : ADM_ebml()
 {
-  
+  _close=0;
 }
 ADM_ebml_file::~ADM_ebml_file()
 {
   ADM_assert(fp);
-  if(_close) fclose(fp);
+  if(_close)
+  {
+    fclose(fp);
+  }
   else fseeko(fp,_begin+_size,SEEK_SET);
   fp=NULL; 
 }
@@ -228,4 +275,85 @@
   if(tell()>(_begin+_size-4)) return 1;
   return 0; 
 }
+/** 
+  \fn find
+  \brief Search for the tag given and returns the corresponding atom
+*/
+ uint8_t ADM_ebml_file::find(ADM_MKV_SEARCHTYPE search,MKV_ELEM_ID  prim,MKV_ELEM_ID second,uint32_t *len,uint32_t rewind)
+{
+  uint64_t id,pos;
+  ADM_MKV_TYPE type;
+  const char *ss;
+
+    vprintf("[MKV]Searching for tag %llx %llx\n",prim,second);
+    if(rewind) seek(_begin);
+    if(search==ADM_MKV_PRIMARY)
+    {
+          return simplefind(prim,len,rewind);
+      }
+    vprintf("[MKV]Searching primary : %llx\n",prim);
+    if(!simplefind(prim,len,rewind))
+    {
+      vprintf("[MKV] Primary find failed for %llx\n",prim);
+      return 0; 
+    }
+    // Now we have the father, go inside
+    ADM_ebml_file *son=new ADM_ebml_file(this,*len);
+    vprintf("[MKV]Searching secondary : %llx\n",second);
+    if(!son->simplefind(second,len))
+    {
+      vprintf("[MKV] secondary find failed for secondary %llx\n",second);
+      delete son;
+      return 0; 
+    }
+    pos=son->tell();
+    delete son;
+    seek(pos);
+    return 1;
+}
+
+/** 
+  \fn find
+  \brief Search for the tag given and returns the corresponding atom
+*/
+uint8_t ADM_ebml_file::simplefind(MKV_ELEM_ID  prim,uint32_t *len,uint32_t rewind)
+{
+  uint64_t id,alen;
+  ADM_MKV_TYPE type;
+  const char *ss;
+  
+
+    vprintf("[MKV] Simple Searching for tag %llx\n",prim);
+    if(rewind) seek(_begin);
+   
+      while(!finished())
+      {
+          readElemId(&id,&alen);
+          if(!ADM_searchMkvTag( (MKV_ELEM_ID)id,&ss,&type))
+          {
+              vprintf("[MKV] Tag 0x%x not found\n",id);
+              skip(alen);
+              continue;
+           }
+          vprintf("Found Tag : %x (%s)\n",id,ss);
+          if(id==prim)
+          {
+            *len=(uint32_t )alen;
+            return 1;
+          }else
+            skip(alen);
+      }
+    vprintf("[MKV] Failed to locate %llx\n",prim);
+    return 0;
+}
+/**
+    \fn remaining
+    \brief returns the # of bytes remaining in this atom
+*/
+uint64_t ADM_ebml_file::remaining(void)
+{
+  uint64_t pos=tell();
+  ADM_assert(pos<=(_begin+_size));
+  return (_begin+_size)-pos; 
+}
 //EOF

Modified: branches/avidemux_2.4_branch/addons/mkvscan/mkv_c.cpp
===================================================================
--- branches/avidemux_2.4_branch/addons/mkvscan/mkv_c.cpp	2007-05-01 17:14:45 UTC (rev 3001)
+++ branches/avidemux_2.4_branch/addons/mkvscan/mkv_c.cpp	2007-05-01 17:15:24 UTC (rev 3002)
@@ -23,6 +23,7 @@
 #include <stdlib.h>
 #include <stdint.h>
 #include <assert.h>
+#include <math.h>
 #define ADM_assert assert
 #include "ADM_ebml.h"
 #include "mkv_tags.h"
@@ -97,6 +98,9 @@
                   val=son.readUnsignedInt(len);
                   recTab();printf("\tval uint: %llu (0x%llx) \n",val,val);
                   break;
+        case ADM_MKV_TYPE_FLOAT:
+                  recTab();printf("\tval float: %f \n",son.readFloat(len));
+                  break;
         case ADM_MKV_TYPE_INTEGER:
                   recTab();printf("\tval int: %lld \n",son.readSignedInt(len));
                   break;
@@ -109,7 +113,31 @@
                   break;
         }
         default:
-                son.skip(len);
+                if(id==MKV_BLOCK)
+                {
+                        recTab();printf("\t\tTrack :%u",son.readu8()-128); // Assume 1 byte code
+                        //printf(" Timecode:%d",son.reads16());
+                        son.skip(2);
+                        int lacing=son.readu8();
+                        printf(" Lacing :%x ");
+                        if(lacing&1) printf(" keyframe ");
+                        lacing=(lacing>>1)&3;
+                        switch(lacing)
+                        {
+                                       case 0:printf("No lacing\n");break;
+                                       case 1:printf("Xiph lacing\n");break;
+                                       case 3:printf("Ebml lacing\n");break;
+                                       case 2:printf("Fixed lacing :%u remaining:%u\n",son.readu8()+1,len-5);len--;break;
+
+                        }
+                        son.skip(len-4);
+
+                }
+                else
+                {
+                        recTab();printf("Skipping %s\n",ss);
+                        son.skip(len);
+                }
                 break;
       }
    }
@@ -136,4 +164,20 @@
   }
   printf("\n"); 
 }
+extern "C"
+{
+double av_int2dbl(int64_t v)
+{
+    if(v+v > 0xFFEULL<<52)
+            return 0;
+    return ldexp(((v&((1LL<<52)-1)) + (1LL<<52)) * (v>>63|1), (v>>52&0x7FF)-1075);
+}
+
+float av_int2flt(int32_t v)
+{
+    if(v+v > 0xFF000000U)
+            return 0;
+return ldexp(((v&0x7FFFFF) + (1<<23)) * (v>>31|1), (v>>23&0xFF)-150);
+}
+}
 //EOF



From mihailzenkov at mail.berlios.de  Wed May  2 00:36:47 2007
From: mihailzenkov at mail.berlios.de (mihailzenkov at BerliOS)
Date: Wed, 2 May 2007 00:36:47 +0200
Subject: [Avidemux-svn-commit] r3003 -
	branches/avidemux_2.4_branch/avidemux/ADM_script
Message-ID: <200705012236.l41Malbb008478@sheep.berlios.de>

Author: mihailzenkov
Date: 2007-05-02 00:36:45 +0200 (Wed, 02 May 2007)
New Revision: 3003

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSAvidemuxAudio.h
Log:
scripting: audio.getNbChannels and audio,getBitrate

Modified: branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp	2007-05-01 17:15:24 UTC (rev 3002)
+++ branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp	2007-05-01 22:36:45 UTC (rev 3003)
@@ -62,6 +62,8 @@
         { "setTrack", setTrack, 1, 0, 0 },    // set output codec
         { "secondAudioTrack", secondAudioTrack, 2, 0, 0 },    // set audio track
         { "mixer", mixer, 1, 0, 0 },    // set mixer configuration
+        { "getNbChannels", getNbChannels, 1, 0, 0 },
+        { "getBitrate", getBitrate, 1, 0, 0 },
         { 0 }
 };
 
@@ -491,3 +493,51 @@
 
 }// end Codec
 
+JSBool ADM_JSAvidemuxAudio::getNbChannels(JSContext *cx, JSObject *obj, uintN argc, 
+                                      jsval *argv, jsval *rval)
+{
+uint32_t nb=0, nw=0;
+audioInfo *infos=NULL;
+        // default return value
+        ADM_JSAvidemuxAudio *p = (ADM_JSAvidemuxAudio *)JS_GetPrivate(cx, obj);
+        if(argc != 1)
+                return JS_FALSE;
+        // default return value
+      
+        if(JSVAL_IS_INT(argv[0]) == false)
+                return JS_FALSE;
+        enterLock();
+        video_body->getAudioStreamsInfo(0,&nb, &infos);
+        leaveLock()
+        nw=(JSVAL_TO_INT(argv[0]));
+        if(nw>nb)
+                return JS_FALSE;
+        *rval = INT_TO_JSVAL(infos[nw].channels);
+        delete [] infos;
+        return JS_TRUE;
+}// end Codec
+
+JSBool ADM_JSAvidemuxAudio::getBitrate(JSContext *cx, JSObject *obj, uintN argc, 
+                                      jsval *argv, jsval *rval)
+{
+uint32_t nb=0, nw=0;
+audioInfo *infos=NULL;
+        // default return value
+        ADM_JSAvidemuxAudio *p = (ADM_JSAvidemuxAudio *)JS_GetPrivate(cx, obj);
+        if(argc != 1)
+                return JS_FALSE;
+        // default return value
+      
+        if(JSVAL_IS_INT(argv[0]) == false)
+                return JS_FALSE;
+        enterLock();
+        video_body->getAudioStreamsInfo(0,&nb, &infos);
+        leaveLock()
+        nw=(JSVAL_TO_INT(argv[0]));
+        if(nw>nb)
+                return JS_FALSE;
+        *rval = INT_TO_JSVAL(infos[nw].bitrate);
+        delete [] infos;
+        return JS_TRUE;
+}// end Codec
+

Modified: branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSAvidemuxAudio.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSAvidemuxAudio.h	2007-05-01 17:15:24 UTC (rev 3002)
+++ branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSAvidemuxAudio.h	2007-05-01 22:36:45 UTC (rev 3003)
@@ -30,6 +30,8 @@
         static JSBool lamePreset(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
         static JSBool mixer(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
         static JSBool secondAudioTrack(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
+        static JSBool getNbChannels(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
+        static JSBool getBitrate(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
 
 	static JSPropertySpec avidemuxaudio_properties[];
 	static JSFunctionSpec avidemuxaudio_methods[];



From mean at mail.berlios.de  Wed May  2 19:27:18 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Wed, 2 May 2007 19:27:18 +0200
Subject: [Avidemux-svn-commit] r3004 - in
	branches/avidemux_2.4_branch/avidemux: ADM_editor ADM_encoder
	ADM_inputs/ADM_matroska
Message-ID: <200705021727.l42HRI9w021375@sheep.berlios.de>

Author: mean
Date: 2007-05-02 19:27:18 +0200 (Wed, 02 May 2007)
New Revision: 3004

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_Video.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_Video.h
   branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edStub.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.hxx
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encCopy.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvIndexer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ebml.cpp
Log:
add pts/dts info so that mkv->mp4 is possible for ASP and h264 and the stream is still valid (need to add them to mp4 too)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_Video.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_Video.cpp	2007-05-01 22:36:45 UTC (rev 3003)
+++ branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_Video.cpp	2007-05-02 17:27:18 UTC (rev 3004)
@@ -54,7 +54,11 @@
   _videoExtraData = NULL;
   _videoExtraLen = 0;
 }
-
+uint32_t             vidHeader::ptsDtsDelta(uint32_t framenum)
+{
+  ADM_assert(0);
+  return 0; 
+}
 uint32_t vidHeader::getTime (uint32_t frame)
 {
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_Video.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_Video.h	2007-05-01 22:36:45 UTC (rev 3003)
+++ branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_Video.h	2007-05-02 17:27:18 UTC (rev 3004)
@@ -67,6 +67,8 @@
 //  static int checkFourCC(uint8_t *in, uint8_t *fourcc);
          vidHeader();
 virtual   ~vidHeader() ;
+virtual   uint8_t               hasPtsDts(void) {return 0;}; // Return 1 if the container gives PTS & DTS info
+virtual   uint32_t              ptsDtsDelta(uint32_t framenum) ;
 virtual   void 			Dump(void)=0;
 virtual   uint32_t 		getNbStream(void)=0;
 virtual   uint8_t 		needDecompress(void)=0;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edStub.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edStub.cpp	2007-05-01 22:36:45 UTC (rev 3003)
+++ branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edStub.cpp	2007-05-02 17:27:18 UTC (rev 3004)
@@ -246,14 +246,42 @@
     *segs=seg;
     return _videos[ref]._aviheader->getFlags (relframe, flags);  
 }
+/** 
+      \fn hasPtsDts
+      \brief returns 1 if the frame has pts/dts
+      
+*/
+uint8_t         ADM_Composer::hasPtsDts(uint32_t frame)
+{
+  uint32_t    relframe;
+  uint32_t    seg,    ref;
+  if (!convFrame2Seg (frame, &seg, &relframe))
+    return 0;
 
+  ref = _segments[seg]._reference;
+  return _videos[ref]._aviheader->hasPtsDts();
+  
+}
+/**
+      \fn ptsDtsDelta
+      \brief returns pts/dts delta for the framenum (as seen by editor)
+*/
+uint32_t       ADM_Composer::ptsDtsDelta(uint32_t frame)
+{
+  uint32_t    relframe;
+  uint32_t    seg,    ref;
+  if (!convFrame2Seg (frame, &seg, &relframe))
+    return 0;
+
+  ref = _segments[seg]._reference;
+  return _videos[ref]._aviheader->ptsDtsDelta(relframe);
+  
+}
+
 uint8_t ADM_Composer::getFrameSize (uint32_t frame, uint32_t * size)
 {
-  uint32_t
-    relframe;
-  uint32_t
-    seg,
-    ref;
+  uint32_t    relframe;
+  uint32_t    seg,    ref;
   if (!convFrame2Seg (frame, &seg, &relframe))
     return 0;
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.hxx
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.hxx	2007-05-01 22:36:45 UTC (rev 3003)
+++ branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.hxx	2007-05-02 17:27:18 UTC (rev 3004)
@@ -208,6 +208,8 @@
 						uint8_t  	getFrameSize(uint32_t frame,uint32_t *size) ;
 						uint8_t		sanityCheckRef(uint32_t start, uint32_t end,
 									uint32_t *fatal);
+                                                uint8_t         hasPtsDts(uint32_t ); // Return 1 if the container gives PTS & DTS info
+                                                uint32_t        ptsDtsDelta(uint32_t framenum) ;
 					//*******************************************	
 						uint32_t 	getSpecificMpeg4Info( void );
 					//______________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encCopy.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encCopy.cpp	2007-05-01 22:36:45 UTC (rev 3003)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encCopy.cpp	2007-05-02 17:27:18 UTC (rev 3004)
@@ -155,7 +155,11 @@
       ret =video_body->getFrameNoAlloc (_frameStart + frame, &img);
       out->len=img.dataLength;
       out->flags=img.flags;
-      out->ptsFrame = frame;
+      if(video_body->hasPtsDts(frameStart+frame))
+      {
+        out->ptsFrame = frame+video_body->ptsDtsDelta(frameStart+frame);
+      }else
+        out->ptsFrame = frame;
       return ret;
     }
   // it has PTS/DTS stuff so we need to reorder it

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.cpp	2007-05-01 22:36:45 UTC (rev 3003)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.cpp	2007-05-02 17:27:18 UTC (rev 3004)
@@ -499,4 +499,14 @@
       trk->extraDataLen=nwlen;
   return 1; 
 }
+//****************************************
+/**
+      \fn ptsDtsDelta
+      \brief returns delta between presentation time & decoder time
+*/
+uint32_t              mkvHeader::ptsDtsDelta(uint32_t framenum)
+{
+    ADM_assert(framenum<_tracks[0]._nbIndex);
+    return _tracks[0]._index[framenum].timeCode;
+}
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.h	2007-05-01 22:36:45 UTC (rev 3003)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.h	2007-05-02 17:27:18 UTC (rev 3004)
@@ -30,7 +30,7 @@
     uint64_t pos;
     uint32_t size;
     uint32_t flags;
-    uint32_t timeCode;
+    uint32_t timeCode;  // In fact it is delta between DTS and PTS for audio...
 };
 //**********************************************
 typedef struct mkvTrak
@@ -114,11 +114,12 @@
     uint8_t                 reformatVorbisHeader(mkvTrak *trk);  
     // Indexers
     
-    uint8_t                 addIndexEntry(uint32_t track,uint64_t where, uint32_t size,uint32_t flags);
+    uint8_t                 addIndexEntry(uint32_t track,uint64_t where, uint32_t size,uint32_t flags,
+                                            uint32_t timecodeMS);
     uint8_t                 videoIndexer(ADM_ebml_file *parser);
     uint8_t                 readCue(ADM_ebml_file *parser);
     uint8_t                 indexClusters(ADM_ebml_file *parser);
-    uint8_t                 indexBlock(ADM_ebml_file *parser,uint32_t count);
+    uint8_t                 indexBlock(ADM_ebml_file *parser,uint32_t count,uint32_t timecodeMS);
     
     uint8_t                 changeAudioStream(uint32_t newstream);
     uint32_t                getCurrentAudioStreamNumber(void);
@@ -126,6 +127,8 @@
     
   public:
 
+      uint8_t               hasPtsDts(void) {return 1;} // Return 1 if the container gives PTS & DTS info
+      uint32_t              ptsDtsDelta(uint32_t framenum);
 
     virtual   void          Dump(void);
     virtual   uint32_t      getNbStream(void) ;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvIndexer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvIndexer.cpp	2007-05-01 22:36:45 UTC (rev 3003)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvIndexer.cpp	2007-05-02 17:27:18 UTC (rev 3004)
@@ -98,7 +98,7 @@
                                   default: blockGroup.skip(len);
                                   case MKV_BLOCK : 
                                   {
-                                    indexBlock(&blockGroup,len);
+                                    indexBlock(&blockGroup,len,_clusters[clusters].timeCode);
                                     
                                   }         
                                 }
@@ -119,7 +119,7 @@
       \fn indexBlock
       \brief index a block, identify it and update index
 */
-uint8_t mkvHeader::indexBlock(ADM_ebml_file *parser,uint32_t len)
+uint8_t mkvHeader::indexBlock(ADM_ebml_file *parser,uint32_t len,uint32_t clusterTimeCodeMs)
 {
   int lacing,nbLaces,entryFlags;
   //
@@ -136,7 +136,8 @@
         return 1; // we do only video here...
       }
       // Skip timecode
-      parser->skip(2); // Timecode FIXME Timecode
+      int16_t timecode=parser->readSignedInt(2); 
+      //if(!track) printf("TC: %d\n",timecode);
       uint8_t flags=parser->readu8();
       uint32_t remaining=tail-parser->tell();
       lacing=((flags>>1)&3);
@@ -146,7 +147,7 @@
         case 0: // No lacing
               if(!track) // Video
               {    
-                  addIndexEntry(track,parser->tell(),remaining,entryFlags);
+                  addIndexEntry(track,parser->tell(),remaining,entryFlags,clusterTimeCodeMs+timecode);
               }
               else
               {
@@ -167,7 +168,7 @@
                     }
                     if(!track) 
                     {
-                      addIndexEntry(track,parser->tell(),remaining,0);
+                      addIndexEntry(track,parser->tell(),remaining,0,clusterTimeCodeMs+timecode);
                       printf("Warning lacing on video track\n");
                     }
                     else
@@ -229,8 +230,9 @@
 /**
     \fn addVideoEntry
     \brief add an entry to the video index
+    @param timecodeMS PTS of the frame in ms!
 */
-uint8_t mkvHeader::addIndexEntry(uint32_t track,uint64_t where, uint32_t size,uint32_t flags)
+uint8_t mkvHeader::addIndexEntry(uint32_t track,uint64_t where, uint32_t size,uint32_t flags,uint32_t timecodeMS)
 {
   //
   mkvTrak *Track=&(_tracks[track]);
@@ -251,7 +253,24 @@
   index[x].size=size;
   index[x].flags=flags;
   index[x].timeCode=0;
+  
+  float f=timecodeMS;
+  uint32_t delta;
+  f*=_videostream.dwRate;
+  f/=1000. ;; // in frame
+  f/=1000. ;; // in seconds
+  delta=(uint32_t)floor(f+0.49);
+  //printf("Frame :%u rawTimeCode:%u convertedtoframe:%u \n",Track->_nbIndex,timecodeMS,delta);
+  if(delta+1<Track->_nbIndex)
+  {
+    printf("[MKV] WARNING DELTA PTS/DTS is negative for frame %u (delta:%u)\n",Track->_nbIndex,delta); 
+    index[x].timeCode=0;
+  }else
+  {
+    index[x].timeCode=delta+1-Track->_nbIndex;
+  }
   Track->_nbIndex++;
+  
  // printf("++\n");
   return 1;
 }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ebml.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ebml.cpp	2007-05-01 22:36:45 UTC (rev 3003)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ebml.cpp	2007-05-02 17:27:18 UTC (rev 3004)
@@ -149,7 +149,19 @@
 }
 int64_t    ADM_ebml::readSignedInt(uint32_t nb) 
 {
-  return 0;
+  int64_t val=0;
+  uint8_t r=0;
+  r=readu8();
+  if(r&0x80) // sign
+      val=-1;
+  val=(val<<8)+r; 
+  for(int i=0;i<nb-1;i++)
+  {
+    r=readu8();
+    val=(val<<8)+r; 
+  }
+  return val;
+  
 }
 uint8_t     ADM_ebml::readString(char *string, uint32_t maxLen)
 {



From mean at mail.berlios.de  Wed May  2 20:08:50 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Wed, 2 May 2007 20:08:50 +0200
Subject: [Avidemux-svn-commit] r3005 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp
Message-ID: <200705021808.l42I8oQd024089@sheep.berlios.de>

Author: mean
Date: 2007-05-02 20:08:50 +0200 (Wed, 02 May 2007)
New Revision: 3005

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_3gp.h
Log:
partially working ctts info for mp4

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp	2007-05-02 17:27:18 UTC (rev 3004)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp	2007-05-02 18:08:50 UTC (rev 3005)
@@ -97,6 +97,7 @@
     nbIndex=0;
     id=0;
     memset(&_rdWav,0,sizeof(_rdWav));
+
 }
 _3gpTrack::~_3gpTrack()
 {
@@ -183,7 +184,7 @@
         nbAudioTrack=0;
         _currentAudioTrack=0;
         _reordered=0;
-
+        _videoScale=1;
 }
 uint8_t	_3GPHeader::getAudioStream(AVDMGenericAudioStream **audio)
 {  
@@ -358,11 +359,40 @@
         {
             uint32_t scope=nbCtts;
             if(scope>_videostream.dwLength) scope=_videostream.dwLength;
+            
+            // Search floor value
+            uint32_t  flor=0xFFFFFFFFF;
+            uint32_t  cel=0;
             for(uint32_t i=0;i<scope;i++)
             {
-                if( _tracks[0].index[i].intra!=AVI_KEY_FRAME && 
-                    (10>Ctts[i] )) //|| Ctts[i]>0xfffff000))
-                    _tracks[0].index[i].intra=AVI_B_FRAME;
+              if(Ctts[i]>4294967290) 
+              {
+                if(i)
+                  Ctts[i]=Ctts[0];
+                else
+                  Ctts[i]=Ctts[1];
+              }
+              if(Ctts[i] >cel) cel=Ctts[i];
+              if(Ctts[i]<flor) flor=Ctts[i];
+            }
+            printf("[3GP] Ctts min %u max %u\n",flor,cel);
+            for(uint32_t i=0;i<scope;i++)
+            {
+              int floops=Ctts[i]-flor;
+               float f=floops;
+               aprintf("Frame %u ctts %u scale:%u\n",i,floops,_videoScale);
+                uint32_t delta;
+                f*=_videostream.dwRate;
+                f/=1000. ;; // in frame
+                f/=_videoScale;
+                floops=1+(uint32_t)floor(f+0.49);
+                aprintf(">Frame :%u delta=%d\n",i,floops);
+              if(floops<0)
+              {
+                printf("[3GPP] CTTS negative for frame %u : %d\n",i,floops); 
+                floops=0;
+              }
+              _tracks[0].index[i].deltaPtsDts=floops;
                 
             }
             
@@ -695,12 +725,14 @@
                                     {
                                         j=tom.read32();
                                         v=tom.read32();
+#if 0
                                         if(j>10)
                                         {
-                                            printf("Too much element %u\n",j);
+                                          //  printf("Too much element %u\n",j);
                                             nbCtts=0;
                                             break;
                                         }
+#endif
                                         if(i<20)
                                         {
                                             printf("Ctts: nb: %u (%x) val:%u (%x)\n",j,j,v,v);   
@@ -776,7 +808,7 @@
 					{
                                         // If we already built video track, ignore
 					if(_tracks[0].nbIndex) break;
-
+                                        _videoScale=myScale;
 					buildIndex(&_tracks[0],myScale,
 							nbSz,Sz,SzIndentical,nbCo,Co,nbSc,Sc,nbStts,SttsN,SttsC,
 							Sn,&nbo,0);
@@ -1561,7 +1593,11 @@
 	return 1;
 
 }
-
+uint32_t              _3GPHeader::ptsDtsDelta(uint32_t frame)
+{
+   if(frame >= _videostream.dwLength) return 0;
+   return VDEO.index[frame].deltaPtsDts;
+}
 uint8_t _3GPHeader::getFrameSize (uint32_t frame, uint32_t * size){
   if(frame >= _videostream.dwLength) return 0;
   *size = VDEO.index[frame].size;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_3gp.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_3gp.h	2007-05-02 17:27:18 UTC (rev 3004)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_3gp.h	2007-05-02 18:08:50 UTC (rev 3005)
@@ -32,6 +32,7 @@
 	uint64_t size;
 	uint32_t intra;
 	uint64_t time;
+        uint32_t deltaPtsDts;
 
 }_3gpIndex;
 class _3gpTrack
@@ -99,8 +100,8 @@
 	 uint32_t *Sz,*Co,*Sc;
 	 uint32_t *Sn,*Sync;
 	 uint32_t *SttsN,*SttsC,*Ctts,nbCtts;
+         uint32_t _videoScale;
 
-
 	uint8_t		buildIndex(	_3gpTrack *track,
 					uint32_t scale,
 					uint32_t nbSz,		uint32_t *Sz, uint32_t szIndentical,
@@ -113,7 +114,8 @@
 	uint32_t 		readPackedLen(adm_atom *tom );
 	
 public:
-
+        uint8_t               hasPtsDts(void) {return 1;} // Return 1 if the container gives PTS & DTS info
+        uint32_t              ptsDtsDelta(uint32_t framenum);
 virtual   void 				Dump(void) {};
 virtual   uint32_t 			getNbStream(void) ;
 virtual   uint8_t 			needDecompress(void) { return 1;};



From mean at mail.berlios.de  Wed May  2 21:47:36 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Wed, 2 May 2007 21:47:36 +0200
Subject: [Avidemux-svn-commit] r3006 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp
Message-ID: <200705021947.l42JlanD031634@sheep.berlios.de>

Author: mean
Date: 2007-05-02 21:47:36 +0200 (Wed, 02 May 2007)
New Revision: 3006

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp
Log:
oops, thanks gruntster

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp	2007-05-02 18:08:50 UTC (rev 3005)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp	2007-05-02 19:47:36 UTC (rev 3006)
@@ -361,7 +361,7 @@
             if(scope>_videostream.dwLength) scope=_videostream.dwLength;
             
             // Search floor value
-            uint32_t  flor=0xFFFFFFFFF;
+            uint32_t  flor=0xFFFFFFFF;
             uint32_t  cel=0;
             for(uint32_t i=0;i<scope;i++)
             {



From mean at mail.berlios.de  Wed May  2 22:31:08 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Wed, 2 May 2007 22:31:08 +0200
Subject: [Avidemux-svn-commit] r3007 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska
Message-ID: <200705022031.l42KV8Uo002418@sheep.berlios.de>

Author: mean
Date: 2007-05-02 22:31:08 +0200 (Wed, 02 May 2007)
New Revision: 3007

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_ebml.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvEntries.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvTrackType.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ebml.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/mkv_tagenum.h
Log:
accept slightly broken stream

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_ebml.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_ebml.h	2007-05-02 19:47:36 UTC (rev 3006)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_ebml.h	2007-05-02 20:31:08 UTC (rev 3007)
@@ -13,8 +13,7 @@
 class ADM_ebml
 {
   protected:
-    
-    
+        uint64_t  _fileSize;
   public:
                     ADM_ebml(void);
         virtual     ~ADM_ebml();

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvEntries.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvEntries.cpp	2007-05-02 19:47:36 UTC (rev 3006)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvEntries.cpp	2007-05-02 20:31:08 UTC (rev 3007)
@@ -201,7 +201,7 @@
         case  MKV_TRACK_TYPE: entry->trackType=father.readUnsignedInt(len);break;
 
         case  MKV_AUDIO_FREQUENCY: entry->fq=(uint32_t)floor(father.readFloat(len));break;
-
+        //case MKV_AUDIO_OUT_FREQUENCY:entry->fq=(uint32_t)floor(father.readFloat(len));break;
         case  MKV_VIDEO_WIDTH: entry->w=father.readUnsignedInt(len);break;
         case  MKV_VIDEO_HEIGHT: entry->h=father.readUnsignedInt(len);break;
         case  MKV_TRACK_TIMECODESCALE:father.skip(len);break; //FIXME

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvTrackType.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvTrackType.cpp	2007-05-02 19:47:36 UTC (rev 3006)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvTrackType.cpp	2007-05-02 20:31:08 UTC (rev 3007)
@@ -44,6 +44,8 @@
   {"A_MPEG/L3",0,WAV_MP3,""},
   {"A_AC3",0,WAV_AC3,""}, 
   {"A_AAC/MPEG2/LC",0,WAV_AAC,""},
+  {"A_AAC/MPEG4/LC/SBR",0,WAV_AAC,""},
+  
   {"A_AAC",0,WAV_AAC,""},
   {"A_VORBIS",0,WAV_OGG,""},
   

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ebml.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ebml.cpp	2007-05-02 19:47:36 UTC (rev 3006)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ebml.cpp	2007-05-02 20:31:08 UTC (rev 3007)
@@ -232,6 +232,7 @@
   _close=0;
   _size=size;
   fp=father->fp;
+  _fileSize=father->_fileSize;
    _begin=ftello(fp);
 }
 ADM_ebml_file::ADM_ebml_file(void) : ADM_ebml()
@@ -259,7 +260,7 @@
   }
   fseeko(fp,0,SEEK_END);
   _begin=0;
-  _size=ftello(fp);
+  _fileSize=_size=ftello(fp);
   fseeko(fp,0,SEEK_SET);
   return 1;
 }
@@ -286,6 +287,7 @@
 }
 uint8_t ADM_ebml_file::finished(void)
 {
+  if(tell()>(_fileSize-4)) return 1;
   if(tell()>(_begin+_size-4)) return 1;
   return 0; 
 }
@@ -337,7 +339,7 @@
   const char *ss;
   
 
-    vprintf("[MKV] Simple Searching for tag %llx\n",prim);
+    printf("[MKV] Simple Searching for tag %llx\n",prim);
     if(rewind) seek(_begin);
    
       while(!finished())
@@ -349,6 +351,11 @@
               skip(alen);
               continue;
            }
+          if(!alen)
+          {
+            printf("[MKV] WARNING ZERO SIZED ATOM %s %llu/%llu\n",ss,tell(),_fileSize);
+            continue; 
+          }
           vprintf("Found Tag : %x (%s)\n",id,ss);
           if(id==prim)
           {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/mkv_tagenum.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/mkv_tagenum.h	2007-05-02 19:47:36 UTC (rev 3006)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/mkv_tagenum.h	2007-05-02 20:31:08 UTC (rev 3007)
@@ -108,7 +108,12 @@
    
    MKTAG(MKV_BLOCK_DURATION,0x9B,ADM_MKV_TYPE_UINTEGER),
    MKTAG(MKV_REFERENCE_BLOCK,0xfB,ADM_MKV_TYPE_INTEGER),
-  
+//*********** TAGS ****************  
+   MKTAG(MKV_TAGS,0x1254c367,ADM_MKV_TYPE_CONTAINER),
+   MKTAG(MKV_TAG,0x7373,ADM_MKV_TYPE_CONTAINER),
+   MKTAG(MKV_TARGETS,0x63C0,ADM_MKV_TYPE_CONTAINER),
+   MKTAG(MKV_SIMPLE_TAG,0x67C8,ADM_MKV_TYPE_CONTAINER),
+   
          //*************************
    MKTAG(MKV_MAX,0xFFFF,ADM_MKV_TYPE_UNKNOWN)    
        



From mean at mail.berlios.de  Thu May  3 09:37:55 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 3 May 2007 09:37:55 +0200
Subject: [Avidemux-svn-commit] r3008 -
	branches/avidemux_2.4_branch/addons/mkvscan
Message-ID: <200705030737.l437btON000063@sheep.berlios.de>

Author: mean
Date: 2007-05-03 09:37:54 +0200 (Thu, 03 May 2007)
New Revision: 3008

Modified:
   branches/avidemux_2.4_branch/addons/mkvscan/ebml.cpp
   branches/avidemux_2.4_branch/addons/mkvscan/mkv_c.cpp
Log:
dont overuse the stack

Modified: branches/avidemux_2.4_branch/addons/mkvscan/ebml.cpp
===================================================================
--- branches/avidemux_2.4_branch/addons/mkvscan/ebml.cpp	2007-05-02 20:31:08 UTC (rev 3007)
+++ branches/avidemux_2.4_branch/addons/mkvscan/ebml.cpp	2007-05-03 07:37:54 UTC (rev 3008)
@@ -21,9 +21,10 @@
 #include <stdio.h>
 #include <stdlib.h>
 #include <stdint.h>
-#include <assert.h>
 #include "ADM_ebml.h"
 #define aprintf(...) {}
+
+#include "assert.h"
 #define ADM_assert assert
 #if 0
 #define vprintf printf
@@ -147,7 +148,19 @@
 }
 int64_t    ADM_ebml::readSignedInt(uint32_t nb) 
 {
-  return 0;
+  int64_t val=0;
+  uint8_t r=0;
+  r=readu8();
+  if(r&0x80) // sign
+      val=-1;
+  val=(val<<8)+r; 
+  for(int i=0;i<nb-1;i++)
+  {
+    r=readu8();
+    val=(val<<8)+r; 
+  }
+  return val;
+  
 }
 uint8_t     ADM_ebml::readString(char *string, uint32_t maxLen)
 {
@@ -213,12 +226,13 @@
 //*******************************************
 //***********FILE IO PART *******************
 //*******************************************
-ADM_ebml_file::ADM_ebml_file(ADM_ebml_file *father,uint32_t size)
+ADM_ebml_file::ADM_ebml_file(ADM_ebml_file *father,uint32_t size) : ADM_ebml()
 {
   _close=0;
   _size=size;
   fp=father->fp;
-   _begin=ftello(fp);
+  _fileSize=father->_fileSize;
+  _begin=ftello(fp);
 }
 ADM_ebml_file::ADM_ebml_file(void) : ADM_ebml()
 {
@@ -227,11 +241,13 @@
 ADM_ebml_file::~ADM_ebml_file()
 {
   ADM_assert(fp);
-  if(_close)
+  if(_close )
   {
+    ADM_assert(!_begin);
     fclose(fp);
   }
-  else fseeko(fp,_begin+_size,SEEK_SET);
+  else 
+    fseeko(fp,_begin+_size,SEEK_SET);
   fp=NULL; 
 }
 uint8_t ADM_ebml_file::open(const char *name)
@@ -245,7 +261,7 @@
   }
   fseeko(fp,0,SEEK_END);
   _begin=0;
-  _size=ftello(fp);
+  _fileSize=_size=ftello(fp);
   fseeko(fp,0,SEEK_SET);
   return 1;
 }
@@ -258,20 +274,24 @@
 
 uint8_t ADM_ebml_file::skip(uint32_t vv)
 {
+  ADM_assert(fp);
   fseeko(fp,vv,SEEK_CUR);
   return 1; 
 }
 uint64_t ADM_ebml_file::tell(void)
 {
+  ADM_assert(fp);
   return ftello(fp);
 }
 uint8_t ADM_ebml_file::seek(uint64_t pos)
 {
+  ADM_assert(fp);
   fseeko(fp,pos,SEEK_SET);
   return 1;
 }
 uint8_t ADM_ebml_file::finished(void)
 {
+  if(tell()>(_fileSize-4)) return 1;
   if(tell()>(_begin+_size-4)) return 1;
   return 0; 
 }
@@ -323,7 +343,7 @@
   const char *ss;
   
 
-    vprintf("[MKV] Simple Searching for tag %llx\n",prim);
+    printf("[MKV] Simple Searching for tag %llx\n",prim);
     if(rewind) seek(_begin);
    
       while(!finished())
@@ -335,6 +355,11 @@
               skip(alen);
               continue;
            }
+          if(!alen)
+          {
+            printf("[MKV] WARNING ZERO SIZED ATOM %s %llu/%llu\n",ss,tell(),_fileSize);
+            continue; 
+          }
           vprintf("Found Tag : %x (%s)\n",id,ss);
           if(id==prim)
           {

Modified: branches/avidemux_2.4_branch/addons/mkvscan/mkv_c.cpp
===================================================================
--- branches/avidemux_2.4_branch/addons/mkvscan/mkv_c.cpp	2007-05-02 20:31:08 UTC (rev 3007)
+++ branches/avidemux_2.4_branch/addons/mkvscan/mkv_c.cpp	2007-05-03 07:37:54 UTC (rev 3008)
@@ -32,31 +32,31 @@
 
 int main(int argc, char *argv[])
 {
-  ADM_ebml_file ebml;
+  ADM_ebml_file *ebml=new ADM_ebml_file ;
   uint64_t id,len;
   ADM_MKV_TYPE type;
   const char *ss;
   
-  if(!ebml.open(argv[1])) ADM_assert(0);
+  if(!ebml->open(argv[1])) ADM_assert(0);
   
   // Read level 1 stuff
-  while(!ebml.finished())
+  while(!ebml->finished())
   {
-      ebml.readElemId(&id,&len);
+      ebml->readElemId(&id,&len);
       if(!ADM_searchMkvTag( (MKV_ELEM_ID)id,&ss,&type))
       {
         printf("[MKV] Tag 0x%x not found\n",id);
-        ebml.skip(len);
+        ebml->skip(len);
         continue;
       }
       printf("Found Tag : %x (%s)\n",id,ss);
       if(type==ADM_MKV_TYPE_CONTAINER)
       {
-        uint64_t w=ebml.tell();
-        ADM_mkvWalk(&ebml,len);
-        ebml.seek(w+len);
+        uint64_t w=ebml->tell();
+        ADM_mkvWalk(ebml,len);
+        ebml->seek(w+len);
       }else
-        ebml.skip(len);
+        ebml->skip(len);
   }
   return 0;
 }
@@ -90,7 +90,13 @@
       {
         case ADM_MKV_TYPE_CONTAINER:
                   //if(id!=MKV_CLUSTER)
+                  if(len)
                     ADM_mkvWalk(&son,len);
+                    else
+                    {
+                                printf("******************************* WARNING ZERO SIZE ******************\n");
+                    }
+
                   //else
                   //    son.skip(len);
                   break;



From mean at mail.berlios.de  Thu May  3 09:38:26 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 3 May 2007 09:38:26 +0200
Subject: [Avidemux-svn-commit] r3009 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska
Message-ID: <200705030738.l437cQL6000111@sheep.berlios.de>

Author: mean
Date: 2007-05-03 09:38:25 +0200 (Thu, 03 May 2007)
New Revision: 3009

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ebml.cpp
Log:
check it is consistent

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ebml.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ebml.cpp	2007-05-03 07:37:54 UTC (rev 3008)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ebml.cpp	2007-05-03 07:38:25 UTC (rev 3009)
@@ -244,6 +244,7 @@
   ADM_assert(fp);
   if(_close)
   {
+    ADM_assert(!_begin);
     fclose(fp);
   }
   else fseeko(fp,_begin+_size,SEEK_SET);



From mean at mail.berlios.de  Thu May  3 09:48:28 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 3 May 2007 09:48:28 +0200
Subject: [Avidemux-svn-commit] r3010 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory
Message-ID: <200705030748.l437mSDP000872@sheep.berlios.de>

Author: mean
Date: 2007-05-03 09:48:15 +0200 (Thu, 03 May 2007)
New Revision: 3010

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_frame.cpp
Log:
JM : better looking frames

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp	2007-05-03 07:38:25 UTC (rev 3009)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp	2007-05-03 07:48:15 UTC (rev 3010)
@@ -218,35 +218,50 @@
 */
 uint8_t  buildOneTab(GtkWidget *nb,int index, diaElemTabs *tab)
 {
-  GtkWidget *table1,*label;
-  uint32_t vsize=0;
+  GtkWidget *table1,*vbox1,*label;
   
   ADM_assert(tab);
-  /* Compute vertical size of our elems */
-    for(int i=0;i<tab->nbElems;i++)
+  vbox1 = gtk_vbox_new (0, 18);
+  gtk_container_set_border_width (GTK_CONTAINER (vbox1), 12);
+  gtk_container_add (GTK_CONTAINER (nb), vbox1);
+  gtk_widget_show (vbox1);
+
+  int line=0;
+  int i=0;
+  while (i<tab->nbElems)
   {
-    vsize+=tab->dias[i]->getSize();
+	  if (tab->dias[i]->mySelf == ELEM_FRAME)
+	  {
+		  addLine(tab->dias[i],nb,vbox1,line);
+		  i++;
+	  }
+	  else
+	  {
+		  line = 0;
+		  table1 = gtk_table_new (0, 2, FALSE);
+		  gtk_table_set_col_spacings (GTK_TABLE (table1), 12);
+		  gtk_table_set_row_spacings (GTK_TABLE (table1), 6);
+		  gtk_box_pack_start (GTK_BOX(vbox1), table1, FALSE, FALSE, 0);
+
+		  while (i<tab->nbElems && tab->dias[i]->mySelf != ELEM_FRAME)
+		  {
+			  line+=tab->dias[i]->getSize();
+			  gtk_table_resize  (GTK_TABLE (table1), line, 2);
+			  gtk_widget_show (table1);
+			  addLine(tab->dias[i],nb,table1,line-1);
+			  i++;
+		  }
+	  }
   }
   
+
   
-  table1 = gtk_table_new (vsize, 2, FALSE);
-  gtk_table_set_col_spacings (GTK_TABLE (table1), 12);
-  gtk_table_set_row_spacings (GTK_TABLE (table1), 6);
-  gtk_container_add (GTK_CONTAINER (nb), table1);
-  gtk_container_set_border_width (GTK_CONTAINER (table1), 6);
-  gtk_widget_show (table1);
-  
   label = gtk_label_new (_(tab->title));
   gtk_widget_show (label);
   gtk_notebook_set_tab_label (GTK_NOTEBOOK (nb), gtk_notebook_get_nth_page (GTK_NOTEBOOK (nb), index), label);
 
   
-  int line=0;
-  for(int i=0;i<tab->nbElems;i++)
-  {
-    addLine(tab->dias[i],nb,table1,line);
-    line+=tab->dias[i]->getSize();
-  }
+
   return 1; 
 }
 /**

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_frame.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_frame.cpp	2007-05-03 07:38:25 UTC (rev 3009)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_frame.cpp	2007-05-03 07:48:15 UTC (rev 3010)
@@ -36,7 +36,7 @@
   this->tip=tip;
   nbElems=0;
   frameSize=0;
-  setSize(2);
+  setSize(1);
 }
 void diaElemFrame::swallow(diaElem *widget)
 {
@@ -57,34 +57,33 @@
   GtkWidget *label;
   GtkWidget *table;
   GtkWidget *alignment;
+  GtkWidget *vbox;
   char str[200];
  
   sprintf(str,"<b>%s</b>",paramTitle);
   label = gtk_label_new (str);
+  gtk_misc_set_alignment (GTK_MISC (label), 0, 1);
   gtk_label_set_use_markup (GTK_LABEL (label), TRUE);
   gtk_widget_show(label);
   
+  vbox = gtk_vbox_new (0, 0);
   alignment = gtk_alignment_new (0.5, 0.5, 1, 1);
   gtk_widget_show (alignment);
-  gtk_alignment_set_padding (GTK_ALIGNMENT (alignment), 0, 0, 18, 0);
+  gtk_alignment_set_padding (GTK_ALIGNMENT (alignment), 6, 0, 18, 0);
   
    table = gtk_table_new (frameSize, 2, FALSE);
    gtk_container_add (GTK_CONTAINER (alignment), table);
    
   gtk_table_set_col_spacings (GTK_TABLE (table), 12);
   gtk_table_set_row_spacings (GTK_TABLE (table), 6);
+  
+  gtk_box_pack_start (GTK_BOX(vbox), label, FALSE, FALSE, 0);
+  gtk_box_pack_start (GTK_BOX(vbox), alignment, FALSE, FALSE, 0);
+  gtk_widget_show(table);
+  gtk_widget_show(vbox);
    
-   gtk_widget_show(table);
-   
-   gtk_table_attach (GTK_TABLE (opaque), label, 0, 1, line, line+1,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 1);
 
-   gtk_misc_set_alignment (GTK_MISC (label), 0, 1);
-
-   gtk_table_attach (GTK_TABLE (opaque), alignment, 0, 2, line+1, line+2,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
+   gtk_box_pack_start (GTK_BOX(opaque), vbox, FALSE, FALSE, 0);
     
     
   uint32_t v=0;



From mean at mail.berlios.de  Thu May  3 16:40:07 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 3 May 2007 16:40:07 +0200
Subject: [Avidemux-svn-commit] r3012 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory
Message-ID: <200705031440.l43Ee7A9009307@sheep.berlios.de>

Author: mean
Date: 2007-05-03 16:40:06 +0200 (Thu, 03 May 2007)
New Revision: 3012

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp
Log:
optimize a bit rendering for tabs/frame

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp	2007-05-03 14:00:46 UTC (rev 3011)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp	2007-05-03 14:40:06 UTC (rev 3012)
@@ -237,20 +237,24 @@
 	  }
 	  else
 	  {
-		  line = 0;
-		  table1 = gtk_table_new (0, 2, FALSE);
-		  gtk_table_set_col_spacings (GTK_TABLE (table1), 12);
-		  gtk_table_set_row_spacings (GTK_TABLE (table1), 6);
-		  gtk_box_pack_start (GTK_BOX(vbox1), table1, FALSE, FALSE, 0);
-
-		  while (i<tab->nbElems && tab->dias[i]->mySelf != ELEM_FRAME)
-		  {
-			  line+=tab->dias[i]->getSize();
-			  gtk_table_resize  (GTK_TABLE (table1), line, 2);
-			  gtk_widget_show (table1);
-			  addLine(tab->dias[i],nb,table1,line-1);
-			  i++;
-		  }
+                  line = 0;
+                  int nbLine=0;
+                  table1 = gtk_table_new (0, 2, FALSE);
+                  gtk_table_set_col_spacings (GTK_TABLE (table1), 12);
+                  gtk_table_set_row_spacings (GTK_TABLE (table1), 6);
+                  gtk_box_pack_start (GTK_BOX(vbox1), table1, FALSE, FALSE, 0);
+  
+                  while (i+nbLine<tab->nbElems && tab->dias[i+nbLine]->mySelf != ELEM_FRAME) 
+                    nbLine++;
+                  gtk_table_resize  (GTK_TABLE (table1), nbLine, 2);
+                  gtk_widget_show (table1);
+                  
+                  while (i<tab->nbElems && tab->dias[i]->mySelf != ELEM_FRAME)
+                  {
+                          line+=tab->dias[i]->getSize();
+                          addLine(tab->dias[i],nb,table1,line-1);
+                          i++;
+                  }
 	  }
   }
   



From mean at mail.berlios.de  Thu May  3 16:42:32 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 3 May 2007 16:42:32 +0200
Subject: [Avidemux-svn-commit] r3013 - in
	branches/avidemux_2.4_branch/avidemux/ADM_inputs: . ADM_mp4
Message-ID: <200705031442.l43EgW1m009469@sheep.berlios.de>

Author: mean
Date: 2007-05-03 16:42:31 +0200 (Thu, 03 May 2007)
New Revision: 3013

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_atom.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_atom.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_infoextractor.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/Makefile.am
Log:
new mp4 parser

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_atom.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_atom.cpp	2007-05-03 14:40:06 UTC (rev 3012)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_atom.cpp	2007-05-03 14:42:31 UTC (rev 3013)
@@ -0,0 +1,192 @@
+/***************************************************************************
+                          ADM_Atom  -  description
+                             -------------------
+
+	Helper class to deal with atom
+
+    begin                : Mon Jul 21 2003
+    copyright            : (C) 2001 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include "config.h"
+
+#include <stdio.h>
+#include <stdlib.h>
+
+#include <string.h>
+
+#include "math.h"
+#include <ADM_assert.h>
+#include "default.h"
+#include "ADM_editor/ADM_Video.h"
+
+
+#include "fourcc.h"
+#include "ADM_3gp/ADM_atom.h"
+//#define _3G_LOGO
+#define aprintf printf
+//#define ATOM_DEBUG
+adm_atom::adm_atom(adm_atom *atom)
+{
+	_fd=atom->_fd;
+	_atomStart=ftell(_fd);
+	_atomSize=read32();
+	_atomFCC=read32();
+	// Gross hack for some (buggy ?) movie
+	if(!_atomSize)
+	{
+		printf("3GP:Workaround: detected wrong sized atom!\nTrying to continue\n");
+		_atomStart+=4;
+		_atomSize-=4;
+		fseek(_fd,_atomStart,SEEK_SET);
+		_atomSize=read32();
+		_atomFCC=read32();
+	}
+#ifdef ATOM_DEBUG
+	dumpAtom();
+#endif
+
+}
+adm_atom::adm_atom(FILE *fd )
+{
+uint32_t orgpos;
+	_fd=fd;
+        orgpos=ftello(fd);
+	fseek(_fd,0,SEEK_END);
+	_atomFCC=fourCC::get((uint8_t *)"MOVI");
+	_atomSize=ftell(_fd);//-orgpos;
+
+	fseek(_fd,orgpos,SEEK_SET);
+	_atomStart=0;
+#ifdef ATOM_DEBUG
+	dumpAtom();
+#endif
+#ifdef _3G_LOGO
+        printf("Starting at %x  atom ",_atomStart);
+        fourCC::printBE(_atomFCC);
+        printf("\n");
+#endif
+
+}
+uint8_t adm_atom::skipBytes( uint32_t nb )
+{
+uint32_t pos;
+	fseek(_fd,nb,SEEK_CUR);
+	pos=ftell(_fd);
+	if(pos>_atomStart+_atomSize+1) ADM_assert(0);	
+	return 1;
+}
+
+uint8_t adm_atom::read( void )
+{
+	uint8_t a1;
+
+		a1=fgetc(_fd);
+	return a1;
+
+}
+
+uint16_t adm_atom::read16( void )
+{
+	uint8_t a1,a2;
+
+		a1=fgetc(_fd);
+		a2=fgetc(_fd);
+	return (a1<<8)+(a2);
+
+}
+
+
+uint32_t adm_atom::read32( void )
+{
+	uint8_t a1,a2,a3,a4;
+
+		a1=fgetc(_fd);
+		a2=fgetc(_fd);
+		a3=fgetc(_fd);
+		a4=fgetc(_fd);
+	return (a1<<24)+(a2<<16)+(a3<<8)+(a4);
+
+}
+
+uint32_t adm_atom::getFCC( void )
+{
+	return _atomFCC;
+}
+uint32_t adm_atom::getSize( void )
+{
+	return _atomSize-8;
+}
+uint32_t adm_atom::getRemainingSize( void )
+{
+        int64_t pos=ftello(_fd);
+        
+        return _atomStart+_atomSize-pos;
+}
+
+uint8_t adm_atom::readPayload( uint8_t *whereto, uint32_t rd)
+{
+	uint32_t pos;
+
+	pos=ftell(_fd);
+	if(pos+rd>_atomSize+_atomStart)
+	{
+		printf("\n Going out of atom's bound!! (%ld  / %ld )\n",pos+rd,_atomSize+_atomStart);
+		dumpAtom();
+		exit(0);
+	}
+	uint32_t i;
+	i=fread(whereto,rd,1,_fd);
+	if(i!=1)
+	{
+		printf("\n oops asked %lu got %lu \n",rd,i);
+	return 0;
+	}
+	return 1;
+
+}
+uint8_t adm_atom::dumpAtom( void )
+{
+
+	aprintf("Atom :");
+	fourCC::print(_atomFCC);
+	aprintf(" starting at pos %lu, size %lu\n",_atomStart,_atomSize);
+	return 1;
+
+}
+
+uint8_t adm_atom::skipAtom( void )
+{
+	fseek(_fd,_atomStart+_atomSize,SEEK_SET);
+#ifdef _3G_LOGO
+        printf("Branching to %x ending atom ",_atomStart+_atomSize);
+        fourCC::printBE(_atomFCC);
+        printf("\n");
+#endif
+	return 1;
+
+
+}
+uint8_t adm_atom::isDone( void )
+{
+	uint32_t pos=ftell(_fd);
+
+	if(pos>=(_atomStart+_atomSize)) return 1;
+	return 0;
+
+}
+
+
+
+
+//EOF
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_atom.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_atom.h	2007-05-03 14:40:06 UTC (rev 3012)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_atom.h	2007-05-03 14:42:31 UTC (rev 3013)
@@ -0,0 +1,49 @@
+/***************************************************************************
+                          ADM_Aton  -  description
+                             -------------------
+
+	Helper class to deal with atom
+
+    begin                : Mon Jul 21 2003
+    copyright            : (C) 2001 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#ifndef _ADM_ATOM
+#define _ADM_ATOM
+class adm_atom
+{
+private:
+		FILE 		*_fd;
+		uint32_t	_atomStart,_atomSize;
+		uint32_t	_atomFCC;
+		uint8_t		dumpAtom( void );
+public:
+				adm_atom(FILE *fd);
+				adm_atom(FILE *fd,uint8_t full);
+				adm_atom(adm_atom *atom);
+		uint8_t	        skipAtom( void );
+                uint32_t        getStartPos(void) {return _atomStart;}
+		uint32_t	getFCC( void );
+		uint32_t	getSize( void );
+                uint32_t        getRemainingSize( void );
+		uint8_t		readPayload( uint8_t *whereto, uint32_t rd );
+		uint8_t		isDone(void );
+		uint8_t		skipBytes(uint32_t nb );
+
+		uint32_t	read32( void );
+		uint16_t	read16( void );
+		uint8_t	read( void );
+
+
+};
+
+#endif

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_infoextractor.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_infoextractor.cpp	2007-05-03 14:40:06 UTC (rev 3012)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_infoextractor.cpp	2007-05-03 14:42:31 UTC (rev 3013)
@@ -0,0 +1,433 @@
+/***************************************************************************
+                          ADM_infoextractor
+                             -------------------
+           - extract additionnal info from header (mp4/h263)                  
+**************************************************************************/
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include "config.h"
+
+#include <stdio.h>
+#include <stdlib.h>
+
+#include <string.h>
+
+#include "math.h"
+
+#include <ADM_assert.h>
+#include "default.h"
+#include "ADM_editor/ADM_Video.h"
+
+
+#include "fourcc.h"
+#include "ADM_3gp/ADM_3gp.h"
+#include "ADM_toolkit/toolkit.hxx"
+
+#include "ADM_osSupport/ADM_debugID.h"
+#define MODULE_NAME MODULE_3GP
+#include "ADM_osSupport/ADM_debug.h"
+
+extern "C"
+{
+#include "common.h"
+#include "bswap.h"
+#define INT_MAX (0x7FFFFFFF)
+#include "ADM_lavcodec/bitstream.h"
+#include "ADM_lavcodec/golomb.h"
+}
+static void refineH264FrameType(uint8_t *head,uint8_t *tail,uint32_t *flags);
+/*
+    Extract width & height from vol header passed as arg
+
+
+*/
+uint8_t extractMpeg4Info(uint8_t *data,uint32_t dataSize,uint32_t *w,uint32_t *h,uint32_t *time_inc)
+{
+    // Search startcode
+    uint8_t b;
+    uint32_t idx=0;
+    uint32_t mw,mh;
+    uint32_t timeVal;
+    
+    //mixDump(data,dataSize);
+    //printf("\n");
+    while(1)
+    {
+        uint32_t startcode=0xffffffff;
+        while(dataSize>2)
+        {
+            startcode=(startcode<<8)+data[idx];
+            idx++;
+            dataSize--;
+            if((startcode&0xffffff)==1) break;
+        }
+        if(dataSize>2)
+        {
+            //printf("Startcodec:%x\n",data[idx]);
+            if((data[idx]&0xF0)==0x20) //VOL start
+            {
+                dataSize--;
+                idx++;
+#if 0
+                printf("VOL Header:\n");
+
+                if(dataSize<16)
+                {
+                  mixDump(data+idx,dataSize);printf("\n");
+                }
+                else
+                {
+                  mixDump(data+idx,16);printf("\n");
+                }
+#endif
+                // Here we go !
+                GetBitContext s;
+                init_get_bits( &s,data+idx, dataSize*8);
+                //
+                skip_bits1(&s); // Random access
+                skip_bits(&s,8); // Obj type indication
+                if(get_bits(&s,1)) // VO od 
+                {
+                      skip_bits(&s,4); // Ver
+                      skip_bits(&s,3);  // Priority
+                }
+                if(get_bits(&s,4)==15) // custom A/R
+                {
+                      skip_bits(&s,8);
+                      skip_bits(&s,8);
+                }
+                if(get_bits(&s,1)) // Vol control param
+                {
+                      skip_bits(&s,2);   //Chroma
+                      skip_bits(&s,1);   // Low delay
+                      if(get_bits(&s,1)) // VBV Info
+                      {
+                        skip_bits(&s,16);
+                        skip_bits(&s,16);
+                        skip_bits(&s,16);
+                        skip_bits(&s,15);
+                        skip_bits(&s,16);
+                      }
+                  }
+                 skip_bits(&s,2); //  Shape
+                 skip_bits(&s,1); //  Marker
+                 timeVal=get_bits(&s,16); // Time increment
+                 *time_inc = av_log2(timeVal - 1) + 1;
+                 if (*time_inc < 1)
+                    *time_inc = 1;
+                 skip_bits(&s,1); //  Marker
+                 if(get_bits(&s,1)) // Fixed vop rate, compute how much bits needed
+                 {
+                     get_bits(&s, *time_inc);
+                 }
+                  skip_bits(&s,1); //  Marker
+                  mw=get_bits(&s,13);
+                  skip_bits(&s,1); //  Marker
+                  mh=get_bits(&s,13);
+                // /Here we go
+                //printf("%d x %d \n",mw,mh);
+                *h=mh;
+                *w=mw;
+                return 1;;
+                // Free get bits ?
+                // WTF ?
+            }
+            continue;
+        }
+        else
+        {
+            printf("No more startcode\n");
+            // Free get bits ?
+            return 0;
+            
+        }
+    }
+    
+    return 0;
+}
+/**
+    \fn extractVopInfo
+    \brief extract info from vop : Vop type, module time base, time inc
+    
+    Warning this function expects data to start AFTER startcode, contrarily to other functions here!
+*/
+
+uint8_t extractVopInfo(uint8_t *data, uint32_t len,uint32_t timeincbits,uint32_t *vopType,uint32_t *modulo, uint32_t *time_inc,uint32_t *vopcoded)
+{
+   GetBitContext s;
+   int vop;
+   uint32_t vp,tinc;
+           init_get_bits( &s,data, len*8);
+           vop=get_bits(&s,2);
+           switch(vop)
+           {
+             case 0: vp=AVI_KEY_FRAME;break;
+             case 1: vp=0;break;
+             case 2: vp=AVI_B_FRAME;break;
+             case 3: vp=0;break;  // D FRAME ????
+             default:
+                printf("Unknown vop type :%d\n",vop);
+                return 0;
+           }
+           /* Read modulo */
+           int imodulo=0;
+           while (get_bits1(&s) != 0)
+                  imodulo++;
+           if(!get_bits1(&s))
+           {
+              printf("Wrong marker1\n");
+              return 0; 
+           }
+           
+           /* Read time */
+           tinc=get_bits(&s,timeincbits);
+           /* Marker */
+            if(!get_bits1(&s))
+           {
+              printf("Wrong marker2\n");
+              return 0; 
+           }
+           /* Vop coded */
+           *modulo=imodulo;
+           *vopcoded=get_bits1(&s);
+           *vopType=vp;
+           *time_inc=tinc;
+           return 1;
+}
+
+/*
+        Extract H263 width & height from header
+
+*/
+uint8_t extractH263Info(uint8_t *data,uint32_t dataSize,uint32_t *w,uint32_t *h)
+{
+uint32_t val;
+                GetBitContext s;
+                init_get_bits( &s,data, dataSize*8);
+                
+                 mixDump(data,10);
+                 val=get_bits(&s,16);
+                 if(val)
+                 {
+                    printf("incorrect H263 header sync\n");
+                    return 0;
+                 }
+                 val=get_bits(&s,6);
+                 if(val!=0x20)
+                 {
+                    printf("incorrect H263 header sync (2)\n");
+                    return 0;
+                 }
+                 //
+                 skip_bits(&s,8); // timestamps in 30 fps tick
+                 skip_bits(&s,1); // Marker
+                 skip_bits(&s,1); // Id
+                 skip_bits(&s,1); // Split
+                 skip_bits(&s,1); // Document Camera indicator
+                 skip_bits(&s,1); // Full Picture Freeze Release
+                 val=get_bits(&s,3);
+                 switch(val)
+                 {
+                   
+                    case 1: *w=128;*h=96;return 1;break;
+                    case 2: *w=176;*h=144;return 1;break;
+                    case 6:
+                    case 7:
+                            printf("H263+:Todo\n");
+                    default:
+                        printf("Invalid format\n");return 0;break;
+                 }
+                 return 0;
+}
+/**
+    \fn extractSPSInfo
+    \brief Extract info from H264 SPS
+    See 7.3.2.1 of 14496-10
+*/
+uint8_t extractSPSInfo(uint8_t *data, uint32_t len,uint32_t *wwidth,uint32_t *hheight)
+{
+   GetBitContext s;
+   
+   uint32_t profile,constraint,level,pic_order_cnt_type,w,h;
+   
+           init_get_bits( &s,data, len*8);
+            
+           profile=get_bits(&s,8);
+           constraint=get_bits(&s,8)>>5;
+           level=get_bits(&s,8);
+           
+           if(profile>100) // ?? Borrowed from H264.C/FFMPEG
+           {
+              printf("Warning : High profile\n");
+              if(get_ue_golomb(&s) == 3) //chroma_format_idc
+                get_bits1(&s);  //residual_color_transform_flag
+            get_ue_golomb(&s);  //bit_depth_luma_minus8
+            get_ue_golomb(&s);  //bit_depth_chroma_minus8
+            get_bits1(&s);
+           }    // /??
+           
+           get_ue_golomb(&s); // Seq parameter set id
+           get_ue_golomb(&s); // log2_max_frame_num_minus4
+           if(!(pic_order_cnt_type=get_ue_golomb(&s))) // pic_order_cnt_type
+           {
+              get_ue_golomb(&s); //log2_max_pic_order_cnt_lsb_minus4
+           }else
+           {
+             if(pic_order_cnt_type==1)
+             {
+                 get_bits1(&s);   //delta_pic_order_always_zero_flag
+                 get_se_golomb(&s);   //offset_for_non_ref_pic
+                 get_se_golomb(&s);  // offset_for_top_to_bottom_field
+                 int i=get_ue_golomb(&s);  //num_ref_frames_in_pic_order_cnt_cycle
+
+                 for(int j=0;j<i;j++)
+                 {
+                      get_se_golomb(&s);
+                 }
+             }else 
+             {
+               printf("Error in SPS\n");
+               return 0;
+             }
+           }
+           get_ue_golomb(&s);     //num_ref_frames
+           get_bits1(&s);         // gaps_in_frame_num_value_allowed_flag
+           w=get_ue_golomb(&s);   //pic_width_in_mbs_minus1
+           h=get_ue_golomb(&s);   //pic_height_in_mbs_minus1
+           printf("%d\n",w); 
+           printf("%d\n", h); 
+            *wwidth=(w+1)*16;
+            *hheight=(h+1)*16*2; /* Fixme : frame_mbs_only_flag in slice header!! */
+
+           
+           return 1;
+}
+/**
+      \fn extractH264FrameType
+      \brief return frametype in flags (KEY_FRAME or 0). To be used only with  mkv/mp4 nal type (i.e. no startcode)
+      
+*/
+uint8_t extractH264FrameType(uint32_t nalSize,uint8_t *buffer,uint32_t len,uint32_t *flags)
+{
+  uint8_t *head=buffer, *tail=buffer+len;
+  uint8_t stream;
+#define NAL_NON_IDR       1
+#define NAL_IDR           5
+  
+  uint32_t val,hnt;  
+  
+// FIXME :  no startcode only !
+  
+  while(head+4<tail)
+  {
+    
+              uint32_t length=(head[0]<<24) + (head[1]<<16) +(head[2]<<8)+(head[3]);
+              if(length>len||length<6)
+              {
+                printf("Warning , incomplete nal (%u/%u),(%0x/%0x)\n",length,len,length,len);
+                *flags=0;
+                return 0;
+              }
+              head+=4; // Skip nal lenth
+              length-=4;
+              stream=*(head++)&0x1F;
+                switch(stream)
+                {
+                  case NAL_IDR: 
+                                  *flags=AVI_KEY_FRAME;
+                                  
+                                  return 1;
+                                  break; 
+                  case NAL_NON_IDR: 
+                                  refineH264FrameType(head,tail,flags);
+                                  return 1;
+                                  break;
+                  default:
+                          printf("??0x%x\n",stream);
+                          head+=length-5;
+                          continue;
+                }
+  }
+  printf("No stream\n");
+  return 0;
+}
+
+/**
+      \fn extractH264FrameType_startCode
+      \brief return frametype in flags (KEY_FRAME or 0). To be used only with  avi / mpeg TS nal type (i.e. with startcode)
+      
+*/
+uint8_t extractH264FrameType_startCode(uint32_t nalSize,uint8_t *buffer,uint32_t len,uint32_t *flags)
+{
+  uint8_t *head=buffer, *tail=buffer+len;
+  uint8_t stream;
+#define NAL_NON_IDR       1
+#define NAL_IDR           5
+#define NAL_SEI           6
+
+  uint32_t val,hnt;  
+  
+// FIXME :  no startcode only !
+  
+  while(head+4<tail)
+  {
+          // Search startcode
+      
+                hnt=(head[0]<<24) + (head[1]<<16) +(head[2]<<8)+(head[3]);
+                head+=4;
+                while((hnt!=1) && head<tail)
+                {
+
+                        hnt<<=8;
+                        val=*head++;
+                        hnt+=val;
+                }
+                if(head>=tail) break;
+                stream=*(head++) &0x1f;
+                switch(stream)
+                {
+                  case NAL_IDR: 
+                                  *flags=AVI_KEY_FRAME;
+                                 // printf("IDR\n");
+                                  return 1;
+                                  break; 
+                  case NAL_NON_IDR: 
+                                  refineH264FrameType(head,tail,flags);
+                                  return 1;
+                                  break;
+                  default:
+                          printf("??0x%x\n",stream);
+                          continue;
+                }
+  }
+  printf("No stream\n");
+  return 0;
+}
+/**
+    \fn refineH264FrameType
+    \brief Try to detect B slice, warning the stream is not escaped!
+*/
+void refineH264FrameType(uint8_t *head,uint8_t *tail,uint32_t *flags)
+{
+GetBitContext s;
+uint32_t sliceType;
+            *flags=0;
+            init_get_bits(&s,head, (tail-head)*8);
+            get_ue_golomb(&s);
+            sliceType= get_ue_golomb(&s);
+            if(sliceType > 9) 
+            {
+              printf("Weird Slice %d\n",sliceType);
+              return ;
+            }
+            if(sliceType > 4)
+                sliceType -= 5;
+            if(sliceType==3) *flags=AVI_B_FRAME;  
+}
+//EOF

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp	2007-05-03 14:40:06 UTC (rev 3012)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp	2007-05-03 14:42:31 UTC (rev 3013)
@@ -0,0 +1,1656 @@
+/***************************************************************************
+                          ADM_3gpp.cpp  -  description
+                             -------------------
+	
+		Read quicktime/mpeg4 file format found in 3gpp file.
+		They are limited to SQCIF/QCIF video size and can
+		only contains
+			video : h263 or mpeg4 
+			audio : AMR or AAC
+
+
+		For the mpeg4, the VOL headers are stored in esds atom
+		and not in the first image
+		Idem for MJPG and SVQ3
+
+		The usual tree structure of a 3gp file is
+
+		- ftyp
+		- mdat
+		- moov
+			xxx
+			trak
+				tkhd (duration / ...)
+			mdia
+				hdlr (type)
+				minf
+					stsd header for audio/video
+					stbl index to datas
+
+	We ignore other chunk as they are not vital for our aim
+	and just keep moov/mdia/minf/stsd/stbl stuff
+
+Generic
+*********
+http://developer.apple.com/documentation/QuickTime/QTFF/QTFFChap2/chapter_3_section_5.html#//apple_ref/doc/uid/DontLinkBookID_69-CH204-BBCJEIIA
+
+version 2 media descriptor :
+****************************** http://developer.apple.com/documentation/QuickTime/Conceptual/QT7Win_Update_Guide/Chapter03/chapter_3_section_1.html#//apple_ref/doc/uid/TP40002476-CH314-BBCDGGBB
+
+
+
+    begin                : Tue Jul  2003
+    copyright            : (C) 2003/2006 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include "config.h"
+
+#include <stdio.h>
+#include <stdlib.h>
+
+#include <string.h>
+
+#include "math.h"
+
+#include <ADM_assert.h>
+#include "default.h"
+#include "ADM_editor/ADM_Video.h"
+
+
+#include "fourcc.h"
+#include "ADM_3gp/ADM_3gp.h"
+#include "ADM_toolkit/toolkit.hxx"
+#include "ADM_codecs/ADM_codec.h"
+
+#include "ADM_video/ADM_videoInfoExtractor.h"
+
+#include "ADM_osSupport/ADM_debugID.h"
+#define MODULE_NAME MODULE_3GP
+#include "ADM_osSupport/ADM_debug.h"
+
+//#define _3GP_VERBOSE
+#define MAX_CHUNK_SIZE (3*1024)
+// 14496-1 / 8.2.1
+typedef enum MP4_Tag
+{
+	Tag_InitialObjDesc	=0x02,
+	Tag_ES_Desc		=0x03,
+	Tag_DecConfigDesc 	=0x04,
+	Tag_DecSpecificInfo 	=0x05
+};
+uint32_t ADM_UsecFromFps1000(uint32_t fps1000);
+//****************************************************
+_3gpTrack::_3gpTrack(void)
+{
+    extraDataSize=0;
+    extraData=NULL;
+    index=NULL;
+    nbIndex=0;
+    id=0;
+    memset(&_rdWav,0,sizeof(_rdWav));
+
+}
+_3gpTrack::~_3gpTrack()
+{
+    if(extraData) delete [] extraData;
+    if(index)   delete [] index;
+ 
+    index=NULL;
+    extraData=NULL;
+    
+}
+//****************************************************
+uint8_t _3GPHeader::setFlag(uint32_t frame,uint32_t flags){
+    UNUSED_ARG(frame);
+    UNUSED_ARG(flags);
+    
+    VDEO.index[frame].intra=flags;
+    return 0;
+}
+
+uint32_t _3GPHeader::getFlags(uint32_t frame,uint32_t *flags){
+	if(frame>= (uint32_t)_videostream.dwLength) return 0;
+#warning FIXME : UGLY
+	if(fourCC::check(_videostream.fccHandler,(uint8_t *)"MJPG")
+        || isDVCompatible(_videostream.fccHandler)) // Fixme should be done on the fly
+	{
+		*flags=AVI_KEY_FRAME;
+	}
+	else
+        *flags=VDEO.index[frame].intra;
+
+	return 1;
+}
+
+
+uint8_t  _3GPHeader::getFrameNoAlloc(uint32_t framenum,ADMCompressedImage *img)
+{
+    uint32_t offset=VDEO.index[framenum].offset; //+_mdatOffset;
+
+
+    fseeko(_fd,offset,SEEK_SET);
+    fread(img->data, VDEO.index[framenum].size, 1, _fd);
+    img->dataLength=VDEO.index[framenum].size;
+    return 1;
+}
+_3GPHeader::~_3GPHeader()
+{
+    close();
+
+}
+uint8_t    _3GPHeader::close( void )
+{
+	if(_fd)
+ 		{
+               	fclose(_fd);
+             	}
+              _fd=NULL;
+#define DEL(x) if(x) delete [] x;x=NULL;
+	DEL(Sz);
+	DEL(Co);
+	DEL(Sc);
+	DEL(Sn);
+	DEL(Sync);
+	DEL(SttsN);
+	DEL(SttsC);
+        DEL(Ctts);
+ 	return 1;
+}
+//
+//	Set default save value
+//
+
+_3GPHeader::_3GPHeader(void)
+{
+	_fd=NULL;
+	 Sz=NULL;
+	 Co=NULL;
+	 Sc=NULL;
+	 Sn=NULL;
+	 Sync=NULL;
+	 SttsN=NULL;
+	 SttsC=NULL;
+         Ctts=NULL;
+         nbCtts=0;
+        nbAudioTrack=0;
+        _currentAudioTrack=0;
+        _reordered=0;
+        _videoScale=1;
+}
+uint8_t	_3GPHeader::getAudioStream(AVDMGenericAudioStream **audio)
+{  
+    if(nbAudioTrack) 
+    {
+        *audio=_audioTracks[_currentAudioTrack];
+    }  else 
+        *audio=NULL;
+    return 1;
+};
+WAVHeader 	*_3GPHeader::getAudioInfo(void )
+{ 	
+	if(!nbAudioTrack)
+		return NULL; 
+       
+        return _audioTracks[_currentAudioTrack]->getInfo();
+} ;
+uint32_t _3GPHeader::getNbStream(void)
+{ 
+    return 1+nbAudioTrack;
+};
+uint8_t   _3GPHeader::getExtraHeaderData(uint32_t *len, uint8_t **data)
+{
+uint32_t old;
+        *len=0;*data=NULL;
+        if(_tracks[0].extraDataSize)
+        {
+            *len= VDEO.extraDataSize;
+            *data=VDEO.extraData;
+        }
+        return 1;
+}
+//______________________________________
+//
+// Open and recursively read the atoms
+// until we got the information we want
+// i.e. :
+//	index for audio and video track
+//	esds for mpeg4
+//	size / codec used 
+//
+// We don't care about sync atom and all
+// other stuff which are pretty useless on
+// 3gp file anyway.
+//______________________________________
+uint8_t    _3GPHeader::open(char *name)
+{
+	printf("** opening 3gpp files **");	
+	_fd=fopen(name,"rb");
+	if(!_fd)
+	{
+		printf("\n cannot open %s \n",name);
+		return 0;
+	}
+#define CLR(x)              memset(& x,0,sizeof(  x));
+
+              CLR( _videostream);
+              CLR(  _mainaviheader);
+	      _isvideopresent=1;
+	      _isaudiopresent=0;
+    	      _videostream.dwScale=1000;
+              _videostream.dwRate=10000;
+              _mainaviheader.dwMicroSecPerFrame=100000;;     // 10 fps hard coded
+              _videostream.fccType=fourCC::get((uint8_t *)"vids");
+              _video_bih.biBitCount=24;
+              _videostream.dwLength= _mainaviheader.dwTotalFrames=1;
+              _videostream.dwInitialFrames= 0;
+              _videostream.dwStart= 0;
+              _video_bih.biWidth=_mainaviheader.dwWidth=16 ;
+              _video_bih.biHeight=_mainaviheader.dwHeight=16;
+              _videostream.fccHandler=fourCC::get((uint8_t *)"XXXX");
+	      _video_bih.biCompression=_videostream.fccHandler;
+
+	printf("\n");
+	adm_atom *atom=new adm_atom(_fd);
+        // Check it is not mdat start(ADM_memcpy_0)     
+        uint8_t check[4];
+        fseeko(_fd,4,SEEK_SET);
+        fread(check,4,1,_fd);
+        fseeko(_fd,0,SEEK_SET);
+        if(check[0]=='m' && check[1]=='d' &&check[2]=='a' && check[3]=='t')
+        {
+                        uint32_t of;
+                                        printf("Data first, header later...\n");
+                                        of=atom->read32();
+                                        if(of==1)
+                                        {
+                                          atom->read32();
+                                          atom->read32();
+                                          of=atom->read32();
+                                        }
+                                        fseeko(_fd,of,SEEK_SET);        
+                                        printf("Header starts at %x\n",of);
+                                        delete atom;
+                                        atom=new adm_atom(_fd);
+        }
+	parseAtomTree(atom);
+	delete atom;
+	printf("Found video codec type :");fourCC::print(_videostream.fccHandler);printf("\n");
+        if(!VDEO.index) 
+        {
+                printf("No index!\n");
+                return 0;
+        }
+
+        // If it is mpeg4 and we have extra data
+        // Decode vol header to get the real width/height
+        // The mpeg4/3GP/Mov header is often misleading
+        if(fourCC::check(_videostream.fccHandler,(uint8_t *)"DIVX"))
+        {
+            if(VDEO.extraDataSize)
+            {
+                uint32_t w,h,ti;
+                if(extractMpeg4Info(VDEO.extraData,VDEO.extraDataSize,&w,&h,&ti))
+                {
+                    printf("MP4 Corrected size : %lu x %lu\n",w,h);
+                    _video_bih.biWidth=_mainaviheader.dwWidth=w ;
+                    _video_bih.biHeight=_mainaviheader.dwHeight=h;                               
+                }
+            }else { printf("No extradata to probe\n");}
+        
+        }
+        else
+        {
+
+        /*
+            Same story for H263 : Analyze 1st frame to get the real width/height
+        */
+            if(fourCC::check(_videostream.fccHandler,(uint8_t *)"H263"))
+            {
+                uint32_t w,h,sz;
+                uint8_t *bfer=NULL;
+                sz=VDEO.index[0].size;
+                if(sz)
+                {
+                        bfer=new uint8_t[sz];
+                        ADMCompressedImage img;
+                        img.data=bfer;
+                        if(getFrameNoAlloc(0,&img))
+                        {
+                        if(extractH263Info(bfer,sz,&w,&h))
+                        {
+                            printf("H263 Corrected size : %lu x %lu\n",w,h);
+                            _video_bih.biWidth=_mainaviheader.dwWidth=w ;
+                            _video_bih.biHeight=_mainaviheader.dwHeight=h;                               
+                        }
+                        else
+                        {
+                                  printf("H263 COULD NOT EXTRACT SIZE, using : %lu x %lu\n",
+                                      _video_bih.biWidth,  _video_bih.biHeight);
+                        }
+                        }
+                        delete [] bfer;
+                }
+            }
+
+        
+        }
+        
+        /*
+                Now build audio tracks
+        */
+        for(int audio=0;audio<nbAudioTrack;audio++)
+        {
+            _audioTracks[audio]=new _3gpAudio(_fd,&(_tracks[1+audio]));   
+            
+        }
+        fseek(_fd,0,SEEK_SET);
+
+        /* Do we have a ctts atom ? if so it contains B frame and we can guesstimate them */
+        if(Ctts)
+        {
+            uint32_t scope=nbCtts;
+            if(scope>_videostream.dwLength) scope=_videostream.dwLength;
+            
+            // Search floor value
+            uint32_t  flor=0xFFFFFFFF;
+            uint32_t  cel=0;
+            for(uint32_t i=0;i<scope;i++)
+            {
+              if(Ctts[i]>4294967290) 
+              {
+                if(i)
+                  Ctts[i]=Ctts[0];
+                else
+                  Ctts[i]=Ctts[1];
+              }
+              if(Ctts[i] >cel) cel=Ctts[i];
+              if(Ctts[i]<flor) flor=Ctts[i];
+            }
+            printf("[3GP] Ctts min %u max %u\n",flor,cel);
+            for(uint32_t i=0;i<scope;i++)
+            {
+              int floops=Ctts[i]-flor;
+               float f=floops;
+               aprintf("Frame %u ctts %u scale:%u\n",i,floops,_videoScale);
+                uint32_t delta;
+                f*=_videostream.dwRate;
+                f/=1000. ;; // in frame
+                f/=_videoScale;
+                floops=1+(uint32_t)floor(f+0.49);
+                aprintf(">Frame :%u delta=%d\n",i,floops);
+              if(floops<0)
+              {
+                printf("[3GPP] CTTS negative for frame %u : %d\n",i,floops); 
+                floops=0;
+              }
+              _tracks[0].index[i].deltaPtsDts=floops;
+                
+            }
+            
+            
+        }
+        _tracks[0].index[0].intra=AVI_KEY_FRAME;
+        // Update usec per frame
+        _mainaviheader.dwMicroSecPerFrame=ADM_UsecFromFps1000( _videostream.dwRate);;;   
+        printf("3gp/mov file successfully read..\n");
+        return 1;
+}
+uint8_t _3GPHeader::parseAtomTree(adm_atom *atom)
+{
+	static uint32_t current=0;
+	static uint32_t nbSz,nbCo,nbSc,nbSync,SzIndentical;
+	//static uint32_t duration;
+	static uint32_t _lastW, _lastH;
+	static uint32_t nest=0;
+	static uint32_t nbStts;
+	static uint32_t myScale=1000;
+	uint32_t type;
+	uint32_t n=0,j,wh,i,l=0;
+	uint32_t tag=0xff;
+        double duration=0;
+	// Skippable : Edit edts dinf
+	//		udta : user data
+	
+	while(!atom->isDone())
+	{
+		adm_atom tom(	atom);
+#ifdef _3GP_VERBOSE
+					for(uint32_t o=0;o<nest;o++) printf("\t");
+					printf("parsing atom ");
+					fourCC::printBE(tom.getFCC());
+					printf(" (size %lu) at 0x%x\n",tom.getSize(),tom.getStartPos());	
+#endif
+		nest++;
+		switch((tom.getFCC()))
+		{
+			default:
+//#ifdef _3GP_VERBOSE
+#if 1
+					for(uint32_t o=0;o<nest;o++) printf("\t");
+					printf("skipping atom ");
+					fourCC::printBE(tom.getFCC());
+					printf(" (size %lu) at 0x%x\n",tom.getSize(),tom.getStartPos());   
+#endif
+					tom.skipAtom();
+					break;
+			case MKFCCR('m','d','a','t') : //'mdat':
+                                        {
+                                        tom.skipAtom();
+                                
+                                        }
+					break;
+
+	 	// these are container atoms,
+	     	// we go on , they includes other atom
+
+                        case MKFCCR('w','a','v','e'): //'wave':
+			case MKFCCR('s','t','b','l'): //'stbl':
+			case MKFCCR('m','d','i','a') : //'mdia':
+			case MKFCCR('m','i','n','f'): //'minf':
+			case MKFCCR('m','o','o','v'): //'moov':
+			case MKFCCR('c','m','o','v'): //'cmov':
+			case MKFCCR('M','O','V','I') : //'MOVI':
+				parseAtomTree(&tom);
+				break;
+
+			case MKFCCR('s','m','h','d'): // Track audio header
+					fourCC::printBE(tom.read32());
+					tom.skipAtom();
+					break;
+			case MKFCCR('d','c','o','m') : //dcom':
+					fourCC::printBE(tom.read32());
+					tom.skipAtom();
+					break;
+			case MKFCCR('m','v','h','d') : //'mvhd':
+				{
+				uint32_t scale=0;
+					tom.skipBytes(12);
+					scale=tom.read32();
+					duration=tom.read32();
+					if(scale!=1000)
+					{
+						myScale=scale;
+						printf("Warning : scale is not in ms %lu !\n",myScale);
+						if(scale)
+						{
+								duration=1000*duration;
+								duration/=scale;
+						}
+						scale=1000;
+					}
+					
+					printf("Duration : %lu ms\n",duration);
+					if(!duration) duration=1000;
+					
+				}
+				tom.skipAtom();
+				break;
+
+			case MKFCCR('r','a','w',' '): //'raw ':
+					tom.skipBytes(8);
+					
+					printf("Raw audio detected\n");
+					printf("Version : %u\n",tom.read16());
+					printf("Revision :%u\n",tom.read16());
+					printf("Vendor :%lu\n",tom.read32());
+                                        ADIO.channels=tom.read16();
+                                        ADIO.bitspersample=tom.read16();
+                                        ADIO.encoding=tom.read16();
+
+                                        printf("Channels :%lu\n",ADIO.channels);
+                                        printf("S size :%lu\n",ADIO.bitspersample);
+                                        printf("Compression :%u\n",ADIO.encoding);
+					printf("Packet Size :%u\n",tom.read16());
+					i=tom.read32();
+					if(i&0xffff)
+					{
+                                          GUI_Error_HIG(_("Expect troubles"), NULL);
+					}
+                                        if(!ADIO.channels) ADIO.channels=1;
+                                        if(ADIO.bitspersample<8) ADIO.bitspersample=8;
+                                        ADIO.encoding=WAV_8BITS_UNSIGNED;
+                                        ADIO.byterate=(i>>16);
+                                        ADIO.frequency=ADIO.byterate/((ADIO.bitspersample>>3)*(ADIO.channels));
+					printf("Bitrate :%lu (%x)\n",i,i);
+                                        printf("Byterate :%lu\n",ADIO.byterate);
+                                        printf("Frequency :%lu\n",ADIO.frequency);
+// hardcoded for now
+
+					tom.skipAtom();
+					break;
+			case MKFCCR('u','l','a','w'): //'ulaw ':
+					tom.skipBytes(8);
+	                               printf("Version : %u\n",tom.read16());
+					printf("Revision :%u\n",tom.read16());
+					printf("Vendor :%lu\n",tom.read32());
+                                        ADIO.channels=tom.read16();
+                                        ADIO.bitspersample=tom.read16();
+                                        tom.read16();
+                                        ADIO.encoding=WAV_ULAW;
+                                        ADIO.byterate=ADIO.frequency=tom.read32();	
+                                        printf("Byterate  :%lu\n",ADIO.byterate);
+                                        printf("Frequency :%lu\n",ADIO.frequency);
+                                        printf("Bps       :%lu\n",ADIO.bitspersample);
+					tom.skipAtom();
+					break;		
+                        case MKFCCR('t','w','o','s'): //'twos ':
+                                        tom.skipBytes(8);
+                                       printf("Version : %u\n",tom.read16());
+                                        printf("Revision :%u\n",tom.read16());
+                                        printf("Vendor :%lu\n",tom.read32());
+                                        ADIO.channels=tom.read16();
+                                        ADIO.bitspersample=tom.read16();
+                                        tom.read16();
+                                        ADIO.encoding=WAV_LPCM;
+                                        ADIO.frequency=tom.read32();      
+                                        ADIO.byterate=ADIO.frequency*ADIO.bitspersample*ADIO.channels/8;
+                                        printf("Byterate  :%lu\n",ADIO.byterate);
+                                        printf("Frequency :%lu\n",ADIO.frequency);
+                                        printf("Bps       :%lu\n",ADIO.bitspersample);
+                                        tom.skipAtom();
+                                        break;          
+
+                        case MKFCCR('.','m','p','3'): //.mp3
+                                        tom.skipBytes(16);
+                                        ADIO.encoding=WAV_MP3;
+                                        ADIO.channels=tom.read16();
+                                        printf("mp3 audio\n");
+                                        printf("Channels :%d\n",ADIO.channels);
+                                        printf("Bps      :%d\n",tom.read16()); // Bps
+                                        printf("CodecId  :%x\n",tom.read16()); // Bps
+                                        printf("Packetsiz:%x\n",tom.read16()); // Bps
+                                        ADIO.frequency=tom.read16();  //Bps
+                                        printf("Fq        :%d\n",ADIO.frequency); // Bps
+                                        tom.skipAtom();
+                                        break;
+                        case MKFCCR('s','o','w','t'): //sowt
+                                        {
+                                        tom.skipBytes(8);
+                                        printf("Version : %u\n",tom.read16());
+                                        printf("Revision :%u\n",tom.read16());
+                                        printf("Vendor :%lu\n",tom.read32());
+                                        ADIO.channels=tom.read16();
+                                        ADIO.bitspersample=tom.read16();
+                                        tom.read16();
+                                        ADIO.encoding=WAV_PCM;
+                                        ADIO.byterate=ADIO.frequency=tom.read32();
+                                        ADIO.byterate*=ADIO.bitspersample/8;
+                                        ADIO.byterate*=ADIO.channels;
+                                        
+                                        printf("Byterate  :%lu\n",ADIO.byterate);
+                                        printf("Frequency :%lu\n",ADIO.frequency);
+                                        printf("Bps       :%lu\n",ADIO.bitspersample);
+                                        tom.skipAtom();
+                                        break;          
+
+
+                                        }
+                    case MKFCCR('u','r','l',' '): // url
+                                      {
+                                        int s;
+                                        tom.read32();
+                                        tom.read32();
+                                        s=tom.read32();
+                                        char str[s+1];
+                                        tom.readPayload((uint8_t *)str,s);
+                                        str[s]=0;
+                                        printf("Url : %s\n",str);
+                                        tom.skipAtom();
+                                        break;
+                                      }                   
+                    case MKFCCR('Q','D','M','2'): // QDM2
+                                        {
+                                        tom.skipBytes(8);
+                                        printf("QDM2 audio\n");
+                                        printf("Version : %u\n",tom.read16());
+                                        printf("Revision :%u\n",tom.read16());
+                                        printf("Vendor :%lu\n",tom.read32());
+                                        ADIO.channels=tom.read16();
+                                        ADIO.bitspersample=tom.read16();
+                                        tom.read16();
+                                        ADIO.encoding=WAV_QDM2;
+                                        ADIO.byterate=ADIO.frequency=tom.read32();
+                                        ADIO.byterate*=ADIO.bitspersample/8;
+                                        ADIO.byterate*=ADIO.channels;
+                                        
+                                        printf("Byterate  :%lu\n",ADIO.byterate);
+                                        printf("Frequency :%lu\n",ADIO.frequency);
+                                        printf("Bps       :%lu\n",ADIO.bitspersample);
+                                        tom.skipBytes(26);
+
+                                        _tracks[nbAudioTrack+1].extraDataSize=tom.getRemainingSize();
+                                        _tracks[nbAudioTrack+1].extraData=new uint8_t [_tracks[nbAudioTrack+1].extraDataSize];
+                                        tom.readPayload(_tracks[nbAudioTrack+1].extraData,_tracks[nbAudioTrack+1].extraDataSize);
+                                        mixDump(_tracks[nbAudioTrack+1].extraData,_tracks[nbAudioTrack+1].extraDataSize);
+                                        break;          
+
+
+                                        }
+			case MKFCCR('m','p','4','a'): //'mp4a':
+					
+                                        if(tom.getRemainingSize()>15) // skip the real mp4a atom, we only do the one in stds
+                                        {
+					// Put safe default here, in case there 
+ 					// is no decodable information later on
+                                        ADIO.encoding=WAV_AAC;					
+                                        ADIO.frequency=44100;
+                                        ADIO.channels=2;
+                                        ADIO.bitspersample=16;
+                                        ADIO.byterate=128000/8;
+					// According to 3gp doc we should have 28 bytes
+					// at least
+
+					{
+                                                uint32_t u32;
+                                 
+                                                tom.skipBytes(8);  // Skip header
+                                                printf("Version  :%d\n",u32=tom.read16()); // Qual1
+                                                printf("Revision :%d\n",tom.read16());  // revision / level
+                                                printf("Vendor   :%d\n",tom.read32());  // Vendor
+                                                ADIO.channels=tom.read16();
+                                                printf("Channels :%d\n",ADIO.channels); // Channels
+                                                
+                                                printf("Bps      :%d\n",tom.read16()); // Bps
+                                                printf("CodecId  :%x\n",tom.read16()); // Bps
+                                                printf("Packetsiz:%x\n",tom.read16()); // Bps
+                                                if(u32<2)
+                                                {
+                                                        ADIO.frequency=tom.read16();
+                                                        if(ADIO.frequency<8000) ADIO.frequency=48000;
+                                                        printf("Fq       :%d\n",ADIO.frequency); // Bps
+                                                        tom.skipBytes(2); // Fixed point
+                                                }
+                                                
+                                                //
+                                                switch(u32)
+                                                {
+                                                        case 0:break;
+                                                        case 1:
+                                                                printf("Sample per packet   :%d\n",tom.read32());  // Vendor
+                                                                printf("Bytes  per packet   :%d\n",tom.read32());  // Vendor
+                                                                printf("Bytes per frame     :%d\n",tom.read32());  // Vendor
+                                                                printf("Bytes per sample    :%d\n",tom.read32());  // Vendor
+                                                                break;
+                                                        case 2:
+                                                                ADIO.frequency=44100;
+                                                                tom.skipBytes(16);
+                                                                ADIO.channels=tom.read32();
+                                                                printf("Channels            :%d\n",ADIO.channels); // Channels
+                                                                printf("Tak(7F000)           :%x\n",tom.read32()); // Channels
+                                                                printf("Bites  per channel  :%d\n",tom.read32());  // Vendor
+                                                                printf("Format specific     :%x\n",tom.read32());  // Vendor
+                                                                printf("Byte per audio packe:%x\n",tom.read32());  // Vendor
+                                                                printf("LPCM                :%x\n",tom.read32());  // Vendor
+                                                                break;
+                                                }
+                                                // look other atom following
+                                                parseAtomTree(&tom);
+                                                tom.skipAtom();
+                                        }
+                                        } else tom.skipAtom();
+					break;
+			case MKFCCR('s','a','m','r'): //'mp4a':
+					tom.skipBytes(8);
+					
+                                        ADIO.encoding=WAV_AMRNB;
+					
+					#warning !!!!!!!!!!!!!!!
+					#warning decode WAV_AMRNB audio header!
+					#warning !!!!!!!!!!!!!!!
+                                        ADIO.frequency=8000;
+                                        ADIO.channels=1;
+                                        ADIO.bitspersample=16;
+                                        ADIO.byterate=12000/8;
+					
+					tom.skipAtom();
+					break;
+                        case MKFCCR('c','t','t','s'): // Composition time to sample             
+                                {
+                                    uint32_t n,i,j,k,v;
+                                printf("ctts:%lu\n",tom.read32()); // version & flags
+                                n=tom.read32();
+                                
+                                    Ctts=new uint32_t[n*4]; // keep a safe margin
+                                
+                                    for(i=0;i<n;i++)
+                                    {
+                                        j=tom.read32();
+                                        v=tom.read32();
+#if 0
+                                        if(j>10)
+                                        {
+                                          //  printf("Too much element %u\n",j);
+                                            nbCtts=0;
+                                            break;
+                                        }
+#endif
+                                        if(i<20)
+                                        {
+                                            printf("Ctts: nb: %u (%x) val:%u (%x)\n",j,j,v,v);   
+                                        }
+                                        for(k=0;k<j;k++)
+                                        {
+                                            Ctts[nbCtts++]=v;
+                                        }
+                                    }
+                                    if(!nbCtts)
+                                    {
+                                        delete [] Ctts;
+                                        Ctts=NULL;
+                                        printf("Destroying Ctts, seems invalid\n");
+                                    }
+                                    printf("Found %u elements\n",nbCtts);
+                                
+                                
+                                tom.skipAtom(); 
+                                }
+                                break;  
+			case MKFCCR('s','t','t','s'): // time sample table stts
+				
+				printf("stts:%lu\n",tom.read32()); // version & flags
+				nbStts=tom.read32();
+				printf("Time stts atom found (%lu)\n",nbStts);
+				printf("Using myscale %lu\n",myScale);
+				SttsN=new uint32_t[nbStts];
+				SttsC=new uint32_t[nbStts];
+				double dur;
+				for(i=0;i<nbStts;i++)
+				{
+					
+					SttsN[i]=tom.read32();
+					SttsC[i]=tom.read32();
+					aprintf("stts: count:%u size:%u (unscaled)\n",SttsN[i],SttsC[i]);	
+					//dur*=1000.*1000.;; // us
+					//dur/=myScale;
+				}
+				tom.skipAtom();
+				break;	
+				
+			case MKFCCR('s','t','s','s'): //'stss':
+				printf("Sync atom found\n");
+				tom.read32();
+				nbSync=tom.read32();
+				if(nbSync)
+				{
+					Sync=new uint32_t[nbSync];
+					for(i=0;i<nbSync;i++)
+					{
+						Sync[i]=tom.read32();
+					}
+				}
+				tom.skipAtom();
+				break;
+			case MKFCCR('t','r','a','k'): //'trak':
+                                printf("**************************************************\n");
+				printf("Track found\n");
+				current=0;
+				nbSz=0;
+				nbCo=0;
+				nbSc=0;
+				nbSync=0;
+				nbStts=0;
+                                SzIndentical=0;
+				//myScale=1000;
+				parseAtomTree(&tom);
+				switch(current)
+				{
+				uint32_t nbo;
+				case 1:
+					{
+                                        // If we already built video track, ignore
+					if(_tracks[0].nbIndex) break;
+                                        _videoScale=myScale;
+					buildIndex(&_tracks[0],myScale,
+							nbSz,Sz,SzIndentical,nbCo,Co,nbSc,Sc,nbStts,SttsN,SttsC,
+							Sn,&nbo,0);
+					// Take the last entry in the video index as global time
+					// time in us
+                                        nbo=_tracks[0].nbIndex;
+					_videostream.dwLength= _mainaviheader.dwTotalFrames=nbo;
+					double last=VDEO.index[nbo-1].time;
+					// avoid rounding error
+					
+                                        last+=VDEO.index[1].time; // ~ 1 Frame duration
+                                        printf("Time code of last img  : %lf \n",last);
+					if(last<0.1)
+                                        {
+                                                last=25000;
+                                                printf("WARNING Erroneous fps !!!\n");
+                                        }
+					last=1000.*1000.*1000./last;
+					last*=nbo;
+					printf("3GP:Tk %lu Nb sz:%lu nbFrame:%lu duration:%f us\n",
+							current,nbSz,nbo,last);
+              				_videostream.dwRate=(uint32_t)floor(last);
+					if(nbSync)
+                                            sync(VDEO.index,nbSz,nbSync,Sync);
+					else
+                                         { // All frame keyframe ?
+                                            printf("3gp:All frame keyframes ??\n");
+                                            for(uint32_t i=0;i<nbo;i++)
+                                            {
+                                                VDEO.index[i].intra=AVI_KEY_FRAME;
+                                            }
+                                         }
+                                        }
+					break;
+				case 2:
+					// audio
+                                        
+                                        // Ugly hack !
+                                        // In case of uncompressed audio (LPCM & friends)
+                                        // The size is in sample, not byte
+                                        if(SzIndentical ==1 && (ADIO.encoding==WAV_LPCM || ADIO.encoding==WAV_PCM ))
+                                        {
+                                          printf("Overriding size %lu -> %lu\n", SzIndentical,SzIndentical*2*ADIO.channels);
+                                          SzIndentical=SzIndentical*2*ADIO.channels;
+                                        }
+                                           
+                                  
+                                  
+                                        // 
+                                        buildIndex(&_tracks[1+nbAudioTrack],myScale,
+							nbSz,Sz,SzIndentical,nbCo,Co,nbSc,Sc,nbStts,SttsN,SttsC,
+							Sn,&nbo,1);
+                                        nbo=_tracks[1+nbAudioTrack].nbIndex;
+                                        // Check for extra
+
+
+                                        if(nbo)
+                                            _tracks[1+nbAudioTrack].nbIndex=nbo;
+                                        else
+                                            _tracks[1+nbAudioTrack].nbIndex=nbSz;
+                                        nbAudioTrack++;
+					break;
+                                default : printf("In atom track, the track type is unknown (%d)\n",current);
+				}
+                                DEL(Sz);
+                                DEL(Co);
+                                DEL(Sc);
+                                DEL(Sn);
+                                DEL(Sync);
+                                DEL(SttsC);
+                                DEL(SttsN);
+                                printf("**************************************************\n");
+				break;
+		// misc atom that needs special care
+			case MKFCCR('m','d','h','d'): //mdhd
+				//
+				{
+				uint32_t tmpscale,version;
+				
+				printf("Decoding mdhd\n");
+                                version=tom.read();
+				tom.skipBytes(3); // flags + version
+				tom.skipBytes(4); // creation time
+				tom.skipBytes(4); // mod time
+                                if(version==1) tom.skipBytes(8);
+				tmpscale=tom.read32(); //
+				printf("Myscale in mdhd:%lu\n",tmpscale);
+				if(!tmpscale) tmpscale=600; // default
+				duration=tom.read32();
+				printf("duration in mdhd:%f (unscaled)\n",duration);
+				duration=(duration*1000.)/tmpscale;
+				printf("duration in mdhd:%f (scaled ms)\n",duration);
+				tom.skipAtom();
+				myScale=tmpscale;
+				}
+				break;
+			case MKFCCR('h','d','l','r'): //'hdlr':
+				tom.read32();
+				tom.read32();
+				type=tom.read32();
+				switch(type)
+                                {	
+                                case MKFCCR('v','i','d','e')://'vide':
+                                        current=1;
+                                        printf("hdlr video found \n ");
+                                        break;
+                                case MKFCCR('s','o','u','n'): //'soun':
+                                        current=2;
+                                        _audioDuration=(uint32_t)duration;
+                                        printf("hdlr audio found (duration %f ms)\n ",duration);
+                                        break;
+                                case MKFCCR('u','r','l',' ')://'url ':
+                                    {
+                                        int s;
+                                        tom.read32();
+                                        tom.read32();
+                                        tom.read32();
+                                        s=tom.read();
+                                        char str[s+1];
+                                        tom.readPayload((uint8_t *)str,s);
+                                        str[s]=0;
+                                        printf("Url : <%s>\n",str);
+                                        
+                                      }                   
+                                      break;
+                                default:
+                                        printf("hdlr found but ignored \n");
+                                        fourCC::print(type);
+                                        printf("\n");
+                                }
+				tom.skipAtom();
+                                duration=0;
+				break;
+			case MKFCCR('s','t','s','d') : //'stsd':
+				tom.read32();
+				n=tom.read32();
+				for(i=0;i<n;i++)
+					parseAtomTree(&tom);
+
+				break;
+			case MKFCCR('t','k','h','d'): //'tkhd':
+				tom.skipBytes(12);
+				printf("Track Id: %lu\n",tom.read32());
+				tom.skipBytes(4);
+				printf("Duration: %lu (ms)\n",(tom.read32()*1000)/myScale);
+				tom.skipBytes(8);
+				tom.skipBytes(4); // layers
+				tom.skipBytes(40); // layers
+
+				_lastW=tom.read32()>>16;
+				_lastH=tom.read32()>>16;
+				tom.skipAtom();
+				printf("tkhd : %ld %ld\n",_lastW,_lastH);
+				break;
+                        case MKFCCR('d','v','c',' ') : //'dvc ':
+                        case MKFCCR('d','v','p','p') : //'dvpp':
+/*
+                                tom.skipBytes(24);
+                                wh=tom.read32();
+                                tom.skipBytes(40);
+*/
+
+                                _video_bih.biWidth=_mainaviheader.dwWidth=_lastW ;
+                                _video_bih.biHeight=_mainaviheader.dwHeight=_lastH ;
+
+                                printf("DV : %ld x %ld \n",_video_bih.biWidth,_video_bih.biHeight);
+                                _videostream.fccHandler=fourCC::get((uint8_t *)"DVDS");
+                                _video_bih.biCompression=_videostream.fccHandler;
+                                tom.skipAtom();
+                                break;
+			case MKFCCR('s','2','6','3') : //'s263':
+                        case MKFCCR('h','2','6','3') : //'s263':
+				tom.skipBytes(24);
+				wh=tom.read32();
+				tom.skipBytes(40);
+
+
+              			_video_bih.biWidth=_mainaviheader.dwWidth=wh>>16 ;
+              			_video_bih.biHeight=_mainaviheader.dwHeight=wh & 0xffff;
+				printf("H263 : %ld x %ld \n",_video_bih.biWidth,_video_bih.biHeight);
+              			_videostream.fccHandler=fourCC::get((uint8_t *)"H263");
+                        	_video_bih.biCompression=_videostream.fccHandler;
+				// d263 atom here	 -> ignored
+				tom.skipAtom();
+				break;
+			case MKFCCR('S','V','Q','3'): //'SVQ3':
+					// For SVQ3, the codec needs it to begin by SVQ3
+					// We go back by 4 bytes to get the 4CC
+						printf("SVQ3 atom found\n");
+						VDEO.extraDataSize=tom.getSize()+4;
+                                                VDEO.extraData=new uint8_t[ VDEO.extraDataSize ];
+                                                if(!tom.readPayload(VDEO.extraData+4,VDEO.extraDataSize-4 ))
+						{
+                                                  GUI_Error_HIG(_("Problem reading SVQ3 headers"), NULL);
+						}
+                                                VDEO.extraData[0]='S';
+                                                VDEO.extraData[1]='V';
+                                                VDEO.extraData[2]='Q';
+                                                VDEO.extraData[3]='3';
+						_video_bih.biWidth=_mainaviheader.dwWidth=_lastW ;
+              					_video_bih.biHeight=_mainaviheader.dwHeight=_lastH;
+
+						printf("SVQ3 Header size : %lu",_videoExtraLen);
+						_videostream.fccHandler=fourCC::get((uint8_t *)"SVQ3");
+				 		_video_bih.biCompression=_videostream.fccHandler;
+						//mixDump(_videoExtraData,30);
+						tom.skipAtom();
+				break;
+                        case MKFCCR('M','J','P','G'): //'jpeg':
+			case MKFCCR('j','p','e','g'): //'jpeg':
+                        case MKFCCR('A','V','D','J'): //'jpeg':
+                                VDEO.extraDataSize=tom.getSize();
+                                VDEO.extraData=new uint8_t [VDEO.extraDataSize];
+                                tom.readPayload(VDEO.extraData,VDEO.extraDataSize);
+				_video_bih.biWidth=_mainaviheader.dwWidth=_lastW ;
+              			_video_bih.biHeight=_mainaviheader.dwHeight=_lastH;
+
+                                printf("Jpeg Header size %lu \n",VDEO.extraDataSize);
+				_videostream.fccHandler=fourCC::get((uint8_t *)"MJPG");
+				 _video_bih.biCompression=_videostream.fccHandler;
+				tom.skipAtom();
+				break;
+
+                          case MKFCCR('d','v','c','p'): //'dv':
+                                  
+                                  _video_bih.biWidth=_mainaviheader.dwWidth=_lastW ;
+                                  _video_bih.biHeight=_mainaviheader.dwHeight=_lastH;
+                                  _videostream.fccHandler=fourCC::get((uint8_t *)"DVDS");
+                                  _video_bih.biCompression=_videostream.fccHandler;
+                                  tom.skipAtom();
+                                  break;
+                        case MKFCCR('a','v','c','C'): //'avcC':
+                                {
+                                        // configuration data for h264
+                                        //tom.skipBytes(8);
+                                        int len,offset;
+                                    VDEO.extraDataSize=tom.getRemainingSize();
+                                    VDEO.extraData=new uint8_t [VDEO.extraDataSize];
+                                    tom.readPayload(VDEO.extraData,VDEO.extraDataSize);
+                                        printf("avcC size:%d\n",VDEO.extraDataSize);
+                                    // Dump some info
+                                        #define MKD8(x) VDEO.extraData[x]
+                                        #define MKD16(x) ((MKD8(x)<<8)+MKD8(x+1))
+                                        #define MKD32(x) ((MKD16(x)<<16)+MKD16(x+2))
+
+                                     printf("avcC Revision             :%x\n", MKD8(0));
+                                     printf("avcC AVCProfileIndication :%x\n", MKD8(1));
+                                     printf("avcC profile_compatibility:%x\n", MKD8(2));
+                                     printf("avcC AVCLevelIndication   :%x\n", MKD8(3));
+
+                                     printf("avcC lengthSizeMinusOne   :%x\n", MKD8(4));
+                                     printf("avcC NumSeq               :%x\n", MKD8(5));
+                                     len=MKD16(6);
+                                     printf("avcC sequenceParSetLen    :%x ",len );
+                                     offset=8;
+                                     mixDump(VDEO.extraData+offset,len);
+
+                                     offset=8+len;
+                                     printf("\navcC numOfPictureParSets  :%x\n", MKD8(offset++));
+                                     len=MKD16(offset++);
+                                     printf("avcC Pic len              :%x\n",len);
+                                     mixDump(VDEO.extraData+offset,len);
+                                     printf("\n");
+                                     tom.skipAtom();
+                                     break;
+                                }
+                        case MKFCCR('a','v','c','1'): //'avc1':
+                                {
+                                        uint32_t u32;
+                                 _videostream.fccHandler=fourCC::get((uint8_t *)"H264");
+                                 _video_bih.biCompression=_videostream.fccHandler;
+                                tom.skipBytes(8);  // Skip header
+                                printf("Revision :%x\n",tom.read32());  // revision / level
+                                printf("Vendor   :");
+                                fourCC::print(tom.read32());  // vendor
+                                printf("\n");
+                                printf("Qual :%x\n",tom.read32()); // Qual1
+                                printf("Qual :%x\n",tom.read32()); // Qual1
+
+                                _video_bih.biWidth=_mainaviheader.dwWidth=tom.read16() ;
+                                _video_bih.biHeight=_mainaviheader.dwHeight=tom.read16(); 
+                                
+                                printf("w    :%d\n",_mainaviheader.dwWidth); // w/h
+                                printf("h    :%d\n",_mainaviheader.dwHeight); // w/h
+                                printf("hzR  :%x dpi\n",tom.read32()); // w2
+                                printf("vzR  :%x dpi\n",tom.read32()); // h2
+                                printf("DataS:%x\n",tom.read32()); // h2
+                                printf("Fr/Sa::%x\n",tom.read16()); // Frame per sample
+                                u32=tom.read();
+                                if(u32>31) u32=31;
+                                printf("Codec string :%d <",u32);
+                                for(int i=0;i<u32;i++) printf("%c",tom.read());
+                                printf(">\n");
+                                tom.skipBytes(32-1-u32); // skip leftover from name
+                                printf("Col  :%x\n",tom.read16()); // Qual1
+                                printf("Col  :%x\n",tom.read16()); // Qual1
+                                
+                                // look other atom following
+                                parseAtomTree(&tom);
+                                tom.skipAtom();
+                                }
+                                break;
+
+			case MKFCCR('e','s','d','s'): //'esds':
+					// in case of mpeg4 we only take
+					// the mpeg4 vol header
+					printf("Esds atom found\n");
+
+					tom.skipBytes(4);
+					tag=0xff;
+					while(tag!=Tag_DecSpecificInfo && !tom.isDone())
+					{
+						tag=tom.read();
+						l=readPackedLen(&tom);
+						printf("\t Tag : %u Len : %u\n",tag,l);
+						switch(tag)
+						{
+							case Tag_ES_Desc:
+                                                                printf("\t ES_Desc\n");
+								tom.skipBytes(3);
+								break;
+							case Tag_DecConfigDesc:
+                                                        {
+                                                                uint8_t objectTypeIndication=tom.read();
+                                                                printf("\tDecConfigDesc : Tag %u\n",objectTypeIndication);
+                                                                if(current==2 && ADIO.encoding==WAV_AAC)
+                                                                {
+                                                                  switch(objectTypeIndication)
+                                                                  {
+                                                                      case 0x69:ADIO.encoding=WAV_MP3;break;
+                                                                      case 0x6b:ADIO.encoding=WAV_MP3;break;
+                                                                      case 0x6d:ADIO.encoding=WAV_MP3;break;
+                                                                      case 226:ADIO.encoding=WAV_AC3;break;
+                                                                      break;
+                                                              
+                                                                  }
+                                                                }
+								tom.skipBytes(1+3+4+4);	
+								break;
+                                                        }
+							case Tag_DecSpecificInfo:
+                                                                printf("\t DecSpecicInfo\n");
+                                                                switch(current)
+                                                                {
+                                                                    case 1: // Video
+                                                                        if(!VDEO.extraDataSize)
+                                                                        {
+                                                                                VDEO.extraDataSize=l;
+                                                                                VDEO.extraData=new uint8_t[l];
+                                                                                fread(VDEO.extraData,VDEO.extraDataSize,1,_fd);
+                                                                        }
+								        break;
+                                                                    case 2:
+                                                                        printf("Esds for audio\n");
+                                                                        _tracks[1+nbAudioTrack].extraDataSize=l;
+                                                                        _tracks[1+nbAudioTrack].extraData=new uint8_t[l];
+                                                                        fread(_tracks[1+nbAudioTrack].extraData,
+                                                                            _tracks[1+nbAudioTrack].extraDataSize,1,_fd);
+                                                                        break;
+                                                                    default: printf("Unknown track type for esds %d\n",current);
+                                                                }
+							}
+					}
+					
+				tom.skipAtom();
+				break;
+			case MKFCCR('m','p','4','v'): //'mp4v':
+				tom.skipBytes(24);		
+                                current=1; // It is video, sure ;)
+				wh=tom.read32();
+				printf("MP4 : %ld x %ld \n",_video_bih.biWidth,_video_bih.biHeight);
+				
+              			_video_bih.biWidth=_mainaviheader.dwWidth=wh>>16 ;
+              			_video_bih.biHeight=_mainaviheader.dwHeight=wh & 0xffff;
+              			_videostream.fccHandler=fourCC::get((uint8_t *)"DIVX");
+				_video_bih.biCompression=_videostream.fccHandler;
+				tom.skipBytes(50);
+				parseAtomTree(&tom);
+				tom.skipAtom();
+				break;
+			case MKFCCR('s','t','s','z'): //'stsz':
+				tom.read32();
+				n=tom.read32();
+              			nbSz=tom.read32();
+                                SzIndentical=0;
+				printf("%lu frames /%lu nbsz..\n",n,nbSz);
+				if(n)
+					{
+                                              printf("\t\t%lu frames of the same size %lu , n=%lu\n",
+                                                  nbSz,SzIndentical,n);
+                                              SzIndentical=n;
+                                              Sz=NULL;
+					}
+				else
+				{
+					Sz=new uint32_t[nbSz];
+					for(j=0;j<nbSz;j++)
+					{
+							Sz[j]=tom.read32();
+
+					}
+				}
+				tom.skipAtom();
+				break;
+                        case MKFCCR('c','o','6','4'): //'co64':
+                                printf("Incomplete support for 64 bits quicktime!!\n");
+                                tom.read32();
+                                nbCo=tom.read32();
+                                Co=new uint32_t[nbCo];
+                                for(j=0;j< nbCo;j++)
+                                {
+                                        tom.read32(); // ignore MSB
+                                        Co[j]=tom.read32();
+                                        aprintf("Chunk offset : %lu / %lu  : %lu\n",
+                                                j,nbCo,Co[j]);
+                                }
+
+                                tom.skipAtom();
+                                break;
+
+			case MKFCCR('s','t','c','o'): //'stco':
+
+				tom.read32();
+				nbCo=tom.read32();
+                                printf("\t\tnbCo:%u\n",nbCo);
+				Co=new uint32_t[nbCo];
+				for(j=0;j< nbCo;j++)
+				{
+					Co[j]=tom.read32();
+					aprintf("Chunk offset : %lu / %lu  : %lu\n",
+						j,nbCo,Co[j]);
+				}
+
+				tom.skipAtom();
+				break;
+			case MKFCCR('s','t','s','c'): //'stsc':
+
+				tom.read32();
+				nbSc=tom.read32();
+				Sc=new uint32_t[nbSc];
+				Sn=new uint32_t[nbSc];
+				for(j=0;j<nbSc;j++)
+				{
+
+					Sc[j]=tom.read32();
+					Sn[j]=tom.read32();
+					tom.read32();
+					aprintf("\t sc  %d : sc start:%lu sc count: %lu\n",j,Sc[j],Sn[j]);
+				}
+				tom.skipAtom();
+				break;
+				
+		}
+		nest--;
+	}
+	
+	return 1;
+}
+/*
+	Brute force index position rebuilding
+		from Chunk / Sample / sample per chunk
+
+		The method is a big hairy
+
+		We got a stsc table that says on many sample per chunk we have
+
+			1 3
+			4 7
+			8 9
+
+			It means
+				1 3
+				2 3
+				3 4
+				4 7
+				5 7
+				6 7
+				8 9
+				9 9  etc..
+	We got the first chunk  that have the new sample/chunk  until it changes
+
+	Sc[nbSc] hold the fist chunk that has   Sn[j] chunk in it
+
+	Stsz holds the size of each sample
+	If they are all the same size, nbSz=is the # of frames and Sz=NULL  SzIndentical is the size frame
+        IF they are not all the same size, nbSz is the # of sizes (normally same as # of samples) SzIndentical=0 and Sz contains the size
+
+
+http://developer.apple.com/documentation/QuickTime/QTFF/QTFFChap2/chapter_3_section_5.html#//apple_ref/doc/uid/DontLinkBookID_69-CH204-BBCJEIIA
+
+*/
+uint8_t	_3GPHeader::buildIndex(
+                            _3gpTrack *track,   
+                            uint32_t myScale,
+				uint32_t nbSz,	uint32_t *Sz,uint32_t SzIndentical,
+				uint32_t nbCo ,		uint32_t *Co,
+				uint32_t nbSc,		uint32_t *Sc,
+				uint32_t nbStts,	uint32_t *SttsN,uint32_t *SttsC,
+				uint32_t *Sn, 			uint32_t *outNbChunk,uint32_t isAudio)
+
+{
+
+uint32_t i,j,cur;
+
+	*outNbChunk=0;
+	aprintf("+_+_+_+_+_+\n");
+	aprintf("co : %lu sz: %lu sc: %lu co[0]%lu \n",nbCo,nbSz,nbSc,Co[0]);
+	aprintf("+_+_+_+_+_+\n");
+
+	ADM_assert(Sc);
+	ADM_assert(Sn);
+	ADM_assert(Co);
+	if(!SzIndentical)
+        {
+          ADM_assert(Sz);
+        }
+	// first set size
+	if(SzIndentical && isAudio)// in that case they are all the same size, i.e.audio
+	{
+          
+          
+          uint32_t totalBytes=SzIndentical*nbSz;
+          printf("All the same size : %u (total size %u bytes)\n",SzIndentical,totalBytes);
+              //
+              // Each chunk contains N samples=N bytes
+              int samplePerChunk[nbCo];
+              memset(samplePerChunk,0,nbCo*sizeof(int));
+              for( i=0;i<nbSc;i++)
+              {
+                  for(int j=Sc[i]-1;j<nbCo;j++)
+                  {
+                        aprintf("For chunk %lu , %lu samples\n",j,Sn[i]);
+                        samplePerChunk[j]=Sn[i];
+                  }
+              }
+              int total=0;
+              for( i=0;i<nbCo;i++)
+              {
+                  aprintf("%u -> %u samples %u bytes\n",i,samplePerChunk[i],samplePerChunk[i]*SzIndentical);
+                  total+=samplePerChunk[i];
+              }
+              printf("Total size in byte : %u\n",total*SzIndentical);
+              track->index=new _3gpIndex[nbCo];
+              memset(track->index,0,nbCo*sizeof(_3gpIndex));
+              track->nbIndex=nbCo;;
+              int max=0;
+              totalBytes=0;
+              for(i=0;i<nbCo;i++)
+              {
+                  uint32_t sz;
+
+                  track->index[i].offset=Co[i];
+                  sz=samplePerChunk[i]*SzIndentical;
+                  track->index[i].size=sz;
+                  track->index[i].time=0; // No seek
+                  if(sz>MAX_CHUNK_SIZE)
+                  {
+                      max+=sz/MAX_CHUNK_SIZE;
+                  }
+                  
+                  totalBytes+=track->index[i].size;
+              }
+              // Now time to update the time...
+              // Normally they have all the same duration
+              if(nbStts!=1) printf("WARNING: Same size, different duration\n");
+
+              float sampleDuration,totalDuration=0;
+              
+                sampleDuration=SttsC[0];
+                sampleDuration*=1000.*1000.;
+                sampleDuration/=myScale;    // Duration of one sample
+                for(i=0;i<nbCo;i++)
+                {
+                        track->index[i].time=(uint64_t)floor(totalDuration);
+                        totalDuration+=sampleDuration*samplePerChunk[i];
+                        aprintf("Audio chunk : %lu time :%lu\n",i,track->index[i].time);
+                }
+                if(max && isAudio) // We have some big chunks we need to split them
+                {
+                      // rebuild a new index
+                      printf("We have %u chunks that are too big, adjusting..\n",max);
+                      uint32_t newNbCo=track->nbIndex+max*2; // *2 is enough, should be.
+                      uint32_t w=0;
+                      uint32_t one_go;
+
+                        one_go=MAX_CHUNK_SIZE/SzIndentical;
+                        one_go=one_go*SzIndentical;
+
+                     _3gpIndex *newindex=new _3gpIndex[newNbCo];
+
+                    int64_t time_increment=(int64_t)((one_go/SzIndentical)*sampleDuration);  // Nb sample*duration of one sample
+                    for(i=0;i<track->nbIndex;i++)
+                    {
+                      uint32_t sz;
+                          sz=track->index[i].size;
+                          if(sz<MAX_CHUNK_SIZE)
+                          {
+                              memcpy(&(newindex[w]),&(track->index[i]),sizeof(_3gpIndex));
+                              w++;
+                              continue;
+                          }
+                          // We have to split it...
+                          int part=0;
+                          while(sz>one_go)
+                          {
+                                newindex[w].offset=track->index[i].offset+part*one_go;
+                                newindex[w].size=one_go;
+                                newindex[w].time=track->index[i].time+part*time_increment; 
+                                ADM_assert(w<newNbCo);
+                                w++;
+                                part++;
+                                sz-=one_go;
+                          }
+                          // The last one...
+                                newindex[w].offset=track->index[i].offset+part*one_go;
+                                newindex[w].size=sz;
+                                newindex[w].time=track->index[i].time+part*time_increment+((time_increment*sz)/one_go); 
+                                w++;
+                    }
+                    delete [] track->index;
+                    track->index=newindex;
+                    track->nbIndex=w;
+                }
+          return 1;
+      }
+          // Else we build an index per sample
+          //
+	
+		
+	// We have different packet size
+	// Probably video
+        track->index=new _3gpIndex[nbSz];
+        memset(track->index,0,nbSz*sizeof(_3gpIndex));
+
+        if(SzIndentical) // Video, all same size (DV ?)
+        {
+            aprintf("\t size for all %lu frames : %lu\n",nbSz,SzIndentical);
+            for(i=0;i<nbSz;i++)
+            {
+                    track->index[i].size=SzIndentical;
+                    
+            }
+          }
+          else // Different size
+          {
+            for(i=0;i<nbSz;i++)
+            {
+                    track->index[i].size=Sz[i];
+                    aprintf("\t size : %d : %lu\n",i,Sz[i]);
+            }
+          }
+	// if no sample to chunk we map directly
+	// first build the # of sample per chunk table
+        uint32_t totalchunk=0,max=0;
+
+        // Search the maximum
+        for(i=0;i<nbSc-1;i++)
+        {
+                totalchunk+=(Sc[i+1]-Sc[i])*Sn[i];
+        }
+        totalchunk+=(nbCo-Sc[nbSc-1]+1)*Sn[nbSc-1];
+
+        printf("#of chunk %d max per chunk %d Max # of sample %d\n",nbCo,max,totalchunk);
+
+        uint32_t chunkCount[totalchunk+1];
+	for(i=0;i<nbSc;i++)
+	{
+		for(j=Sc[i]-1;j<nbCo;j++)
+		{
+			chunkCount[j]=Sn[i];
+                        ADM_assert(j<=totalchunk);
+		}
+		aprintf("(%d) sc: %lu sn:%lu\n",i,Sc[i],Sn[i]);
+	}
+/*			for(j=0;j<nbSc;j++)
+			{
+				aprintf("\n count number : %d - %lu\n",j,Sn[j]);
+			}*/
+	// now we have for each chunk the number of sample in it
+	cur=0;
+	for(j=0;j<nbCo;j++)
+	{
+		int tail=0;
+		aprintf("--starting at %lu , %lu to go\n",Co[j],chunkCount[j]);
+		for(uint32_t k=0;k<chunkCount[j];k++)
+		{
+                        track->index[cur].offset=Co[j]+tail;
+                        tail+=track->index[cur].size;
+                        aprintf(" sample : %d offset : %lu\n",cur,track->index[cur].offset);
+			aprintf("Tail : %lu\n",tail);
+			cur++;
+		}
+
+
+	}
+        
+        
+        track->nbIndex=cur;;
+	
+	
+	// Now deal with duration
+	// the unit is us FIXME, probably said in header
+	// we put each sample duration in the time entry
+	// then sum them up to get the absolute time position
+
+        uint32_t nbChunk=track->nbIndex;
+	if(nbStts)		//uint32_t nbStts,	uint32_t *SttsN,uint32_t SttsC,
+	{
+		uint32_t start=0;
+		if(nbStts>1)
+		{
+			for(uint32_t i=0;i<nbStts;i++)
+			{
+				for(uint32_t j=0;j<SttsN[i];j++)
+				{
+                                        track->index[start].time=(uint64_t)SttsC[i];
+					start++;
+					ADM_assert(start<=nbChunk);
+				}	
+			}
+		}
+		else
+		{
+			// All same duration
+			for(uint32_t i=0;i<nbChunk;i++)
+                                track->index[i].time=(uint64_t)SttsC[0]; // this is not an error!
+		
+		}
+		// now collapse
+		uint64_t total=0;
+		float    ftot;
+		uint32_t thisone;
+		
+		for(uint32_t i=0;i<nbChunk;i++)
+		{
+                        thisone=track->index[i].time;
+			ftot=total;
+			ftot*=1000.*1000.;
+			ftot/=myScale;
+                        track->index[i].time=(uint64_t)floor(ftot);
+			total+=thisone;
+                        aprintf("Audio chunk : %lu time :%lu\n",i,track->index[i].time);
+		}
+		// Time is now built, it is in us
+	
+	
+	}
+	else // there is not ssts
+	{
+          GUI_Error_HIG(_("No stts table"), NULL);
+		ADM_assert(0);	
+	}
+	return 1;
+}
+//
+//	That tag are coded like this
+//	Each 8 bits is in fact a 7 Bits part while b7=1
+// 	So we concanate them while possible
+uint32_t _3GPHeader::readPackedLen(adm_atom *tom )
+{
+	uint32_t len=0;
+	uint8_t	 b=0;
+
+	do
+	{
+	b=tom->read();
+	len=len<<7;
+	len+=b&0x7f;
+	}while(b&0x80);
+	return len;
+}
+//
+//	Update a index with the sync track that gives the intra frame position
+//
+uint8_t 	_3GPHeader::sync(_3gpIndex *idx,uint32_t index_size, uint32_t sync_size,uint32_t *sync)
+{
+	ADM_assert(index_size>=sync_size);
+	for(uint32_t i=0;i<sync_size;i++)
+	{
+		idx[sync[i]-1].intra=AVI_KEY_FRAME;
+	}
+	return 1;
+
+}
+uint32_t              _3GPHeader::ptsDtsDelta(uint32_t frame)
+{
+   if(frame >= _videostream.dwLength) return 0;
+   return VDEO.index[frame].deltaPtsDts;
+}
+uint8_t _3GPHeader::getFrameSize (uint32_t frame, uint32_t * size){
+  if(frame >= _videostream.dwLength) return 0;
+  *size = VDEO.index[frame].size;
+  return 1;
+}
+  uint8_t   _3GPHeader::changeAudioStream(uint32_t newstream)
+{
+        if(newstream>nbAudioTrack) return 0;
+        _currentAudioTrack=newstream;
+        return 1;
+}
+uint32_t     _3GPHeader::getCurrentAudioStreamNumber(void) 
+{ 
+    return _currentAudioTrack;
+}
+ uint8_t   _3GPHeader::getAudioStreamsInfo(uint32_t *nbStreams, audioInfo **infos)
+{
+        *nbStreams=nbAudioTrack;
+        if(nbAudioTrack)
+        {
+            *infos=new audioInfo[nbAudioTrack];
+            for(int i=0;i<nbAudioTrack;i++)
+            {
+                WAV2AudioInfo(&(_tracks[i+1]._rdWav),&((*infos)[i]));
+            }
+                
+             //   (*infos)[i]=_tracks[i+1]._rdWav.encoding;
+        }
+        return 1;
+}
+uint8_t                 _3GPHeader::isReordered( void )
+{ 
+        return _reordered;
+}
+/***************************************/
+uint8_t _3GPHeader::reorder( void )
+{
+
+        if( _reordered) return 1;
+        printf("Reordering...\n");
+#define INDEX_TMPL        _3gpIndex
+#define INDEX_ARRAY_TMPL  (VDEO.index)
+#define FRAMETYPE_TMPL    intra
+  
+#include "ADM_video/ADM_reorderTemplate.cpp"
+
+#undef INDEX_TMPL       
+#undef INDEX_ARRAY_TMPL 
+#undef FRAMETYPE_TMPL   
+        VDEO.nbIndex= _mainaviheader.dwTotalFrames;
+        // last frame cannot be B frame
+        index[last].intra&=~AVI_B_FRAME;
+          _reordered=ret;
+        return ret;
+
+}

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.h	2007-05-03 14:40:06 UTC (rev 3012)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.h	2007-05-03 14:42:31 UTC (rev 3013)
@@ -0,0 +1,159 @@
+/***************************************************************************
+                          ADM_pics.h  -  description
+                             -------------------
+    begin                : Mon Jun 3 2002
+    copyright            : (C) 2002 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+ 
+
+
+#ifndef __3GPHEADER__
+#define __3GPHEADER__
+#include "avifmt.h"
+#include "avifmt2.h"
+
+#include "ADM_editor/ADM_Video.h"
+#include "ADM_audio/aviaudio.hxx"
+#include "ADM_3gp/ADM_atom.h"
+
+typedef struct _3gpIndex
+{
+	uint64_t offset;
+	uint64_t size;
+	uint32_t intra;
+	uint64_t time;
+        uint32_t deltaPtsDts;
+
+}_3gpIndex;
+class _3gpTrack
+{
+public:
+    _3gpIndex   *index;
+    uint32_t    id;
+    uint32_t    nbIndex;
+    uint32_t    extraDataSize;
+    uint8_t     *extraData;
+    WAVHeader   _rdWav;
+                _3gpTrack(void);
+                ~_3gpTrack();
+};
+
+//
+//	Audio track
+//
+class _3gpAudio : public AVDMGenericAudioStream
+{
+protected:
+
+           	uint32_t 					_nb_chunks;
+		uint64_t					_abs_position;
+		uint32_t					_rel_position;
+
+              	uint32_t 					_current_index;
+	    	_3gpIndex 					*_index;
+		FILE						*_fd;
+		uint32_t					_extraLen;
+		uint8_t						*_extraData;
+		uint32_t                                         _audioDuration;
+		
+		
+public:
+					_3gpAudio(FILE *fd,_3gpTrack *trak);
+// _3gpIndex *idx,
+// 						uint32_t nbchunk, FILE * fd,WAVHeader *incoming,
+// 						uint32_t extraLen,uint8_t *extraData,uint32_t duration);
+	virtual				~_3gpAudio();
+        virtual uint32_t 		read(uint32_t len,uint8_t *buffer);
+        virtual uint8_t  		goTo(uint32_t newoffset);
+		   uint8_t			getNbChunk(uint32_t *ch);
+	virtual uint8_t 		getPacket(uint8_t *dest, uint32_t *len, uint32_t *samples);
+	virtual uint8_t 		goToTime(uint32_t mstime);
+	virtual uint8_t			extraData(uint32_t *l,uint8_t **d);
+
+};
+
+#define _3GP_MAX_TRACKS 8
+#define VDEO _tracks[0]
+#define ADIO _tracks[nbAudioTrack+1]._rdWav
+class _3GPHeader         :public vidHeader
+{
+protected:
+          uint8_t                       _reordered;		
+	  FILE 				*_fd;
+          _3gpTrack                     _tracks[_3GP_MAX_TRACKS];
+	  uint32_t                      _audioDuration;
+          uint32_t                      _currentAudioTrack;
+	uint8_t 			parseAtomTree(adm_atom *atom);
+	  _3gpAudio			*_audioTracks[_3GP_MAX_TRACKS-1];
+	uint8_t 			sync(_3gpIndex *idx,uint32_t index_size, uint32_t sync_size,uint32_t *sync);
+         uint32_t  nbAudioTrack;
+	 uint32_t *Sz,*Co,*Sc;
+	 uint32_t *Sn,*Sync;
+	 uint32_t *SttsN,*SttsC,*Ctts,nbCtts;
+         uint32_t _videoScale;
+
+	uint8_t		buildIndex(	_3gpTrack *track,
+					uint32_t scale,
+					uint32_t nbSz,		uint32_t *Sz, uint32_t szIndentical,
+					uint32_t nbChunk ,	uint32_t *Chunk,
+					uint32_t nbSc,		uint32_t *Sc,
+					uint32_t nbStts,uint32_t *SttsN,uint32_t *SttsC,
+					uint32_t *Sn,			uint32_t *outNbChunk,
+                                            uint32_t isAudio
+					);
+	uint32_t 		readPackedLen(adm_atom *tom );
+	
+public:
+        uint8_t               hasPtsDts(void) {return 1;} // Return 1 if the container gives PTS & DTS info
+        uint32_t              ptsDtsDelta(uint32_t framenum);
+virtual   void 				Dump(void) {};
+virtual   uint32_t 			getNbStream(void) ;
+virtual   uint8_t 			needDecompress(void) { return 1;};
+
+			_3GPHeader( void ) ;
+                        virtual	~_3GPHeader(  ) ;
+// AVI io
+virtual 	uint8_t			open(char *name);
+virtual 	uint8_t			close(void) ;
+  //__________________________
+  //				 Info
+  //__________________________
+virtual   uint8_t                       getExtraHeaderData(uint32_t *len, uint8_t **data);
+  //__________________________
+  //				 Audio
+  //__________________________
+
+virtual 	WAVHeader 	*getAudioInfo(void ); 
+virtual 	uint8_t		getAudioStream(AVDMGenericAudioStream **audio);
+
+// Frames
+  //__________________________
+  //				 video
+  //__________________________
+
+virtual 	uint8_t  setFlag(uint32_t frame,uint32_t flags);
+virtual 	uint32_t getFlags(uint32_t frame,uint32_t *flags);
+virtual 	uint8_t  getFrameNoAlloc(uint32_t framenum,ADMCompressedImage *img);
+ virtual     uint8_t getFrameSize (uint32_t frame, uint32_t * size);
+// Multi track
+uint8_t        changeAudioStream(uint32_t newstream);
+uint32_t     getCurrentAudioStreamNumber(void);
+uint8_t     getAudioStreamsInfo(uint32_t *nbStreams, audioInfo **infos);
+uint8_t      isReordered( void );
+uint8_t      reorder( void );
+
+};
+
+#endif
+
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp	2007-05-03 14:40:06 UTC (rev 3012)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp	2007-05-03 14:42:31 UTC (rev 3013)
@@ -0,0 +1,207 @@
+/***************************************************************************
+                          ADM_3gpAudio.cpp  -  description
+                             -------------------
+
+	Provide access to the audio track embedded in 3gp file
+	It can be either AMR NB/WB/ AAC
+	The most common being AMR NB
+
+ ***************************************************************************
+
+    begin                : Tue Jul 23 2003
+    copyright            : (C) 2002/2005 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include "config.h"
+
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "math.h"
+#include <ADM_assert.h>
+
+#include "default.h"
+#include "ADM_editor/ADM_Video.h"
+#include "fourcc.h"
+#include "ADM_3gp/ADM_3gp.h"
+//_______________________________________________________
+//
+//
+//_______________________________________________________
+
+// _3gpAudio::_3gpAudio(_3gpIndex *idx, uint32_t nbchunk, FILE * fd,WAVHeader *incoming,uint32_t extraLen,uint8_t *extraData,uint32_t duration)
+_3gpAudio::_3gpAudio(FILE *fd,_3gpTrack *track)
+{
+	_nb_chunks=track->nbIndex;
+	_fd=fd;
+	_current_index=0;
+	_abs_position=0;
+	_rel_position=0;
+	_pos=0;
+	_index=track->index;
+
+	_extraLen=track->extraDataSize;
+	_extraData=track->extraData;
+	
+	_wavheader=new WAVHeader;
+        memcpy(_wavheader,&(track->_rdWav),sizeof(WAVHeader));
+	
+
+	_destroyable=1;	
+	strcpy(_name,"3gp audio");	
+	// compute length
+	_length=0;
+	for(uint32_t i=0;i<_nb_chunks;i++)
+		{
+			_length+=track->index[i].size;
+		}
+	printf("\n 3gp audio : %lu bytes (%lu chunks)\n",_length,_nb_chunks);
+
+	printf("Byterate     :%d\n",_wavheader->byterate);
+	printf("Frequency :%d\n",_wavheader->frequency);
+	printf("Encoding   :%d\n",_wavheader->encoding);
+	printf("Channels   :%d\n",_wavheader->channels);
+	printf("Extra data :%lu\n",_extraLen);
+        if(_nb_chunks)
+            _audioDuration=_index[_nb_chunks-1].time;
+       // _wavheader->frequency=48000;
+    	goToTime(0);
+}
+ uint8_t	_3gpAudio::goToTime(uint32_t mstime)
+{
+uint64_t target=mstime;
+		target*=1000; // us
+		if(target>_index[_nb_chunks-1].time)
+		{
+			printf("3GP: going out of time asked %lu : avail %lu\n",mstime,_index[_nb_chunks-1].time/1000);
+			_current_index=_nb_chunks-1;
+			return 1;
+		}
+		for(uint32_t i=0;i<_nb_chunks;i++)
+		{
+			if(_index[i].time >= target)
+			{
+				_current_index=i;
+				printf("3gp Go to time succeeded chunk :%lu time ask:%lu time get:%lu\n",i,mstime,
+						_index[i].time/1000);
+				return 1;
+			}
+		
+		}
+		printf("3GP: gototime Failed\n");
+		return 0;
+}
+//_______________________________________________________
+//
+//
+//_______________________________________________________
+uint8_t _3gpAudio::goTo(uint32_t newoffset)
+{
+   ADM_assert(0);
+    return 1;
+}
+//______________________________________
+uint8_t _3gpAudio::getPacket(uint8_t *dest, uint32_t *len, uint32_t *samples)
+{
+
+uint32_t r=0;
+double delta;
+	if(_current_index>=_nb_chunks)  return 0;
+	
+	  fseeko(_fd,_index[_current_index].offset,SEEK_SET);
+	  r=fread(dest,1,_index[_current_index].size,_fd);
+	  if(_current_index==_nb_chunks-1)
+	  {
+	  	
+                // Assume the last sample is the same size as the previous one
+	  	//*samples=1024;
+                delta=_index[_nb_chunks-1].time;
+                delta=delta/1000;
+                if(_audioDuration>delta)
+                {
+                        delta=_audioDuration-delta;
+                        // delta is the duration of the current chunk in us
+                        delta*=_wavheader->frequency;
+                        delta/=1000.; // mss -> second
+                        *samples=(uint32_t)floor(delta);
+                }else *samples=1024;
+                printf("3gp: Last sample %d current chunk %d nb chunk %d\n",
+                                *samples,_current_index,_nb_chunks);
+                
+	  }
+	  else
+	  {
+	  	
+		delta=_index[_current_index+1].time-_index[_current_index].time;
+		
+		// delta is the duration of the current chunk in us
+		delta*=_wavheader->frequency;
+		delta/=1000.*1000.; // us -> second
+		*samples=(uint32_t)floor(delta);
+	  
+	  }
+	  _current_index++;
+	  *len=r;
+	  
+	  
+	  return 1;
+}
+//_______________________________________________________
+//
+//
+//_______________________________________________________
+
+uint8_t	_3gpAudio::extraData(uint32_t *l,uint8_t **d)
+{
+	if(_extraLen && _extraData)
+	{
+		*l=_extraLen;
+		*d=_extraData;
+		return 1;
+	
+	}
+	*l=0;
+	*d=NULL;
+	return 0;
+}
+
+//_______________________________________________________
+//
+//
+//_______________________________________________________
+uint32_t _3gpAudio::read(uint32_t len,uint8_t *buffer)
+{
+    uint32_t size,samples;
+    if(!getPacket(buffer,&size,&samples)) return 0;
+    return size;
+    
+
+}
+//_______________________________________________________
+//
+//
+//_______________________________________________________
+
+
+_3gpAudio::~_3gpAudio()
+{
+	// nothing special to do...
+	delete _wavheader;
+	_wavheader=NULL;
+}
+//_______________________________________________________
+uint8_t _3gpAudio::getNbChunk(uint32_t *ch)
+{
+	*ch=_nb_chunks;
+	return 1;
+}

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/Makefile.am	2007-05-03 14:40:06 UTC (rev 3012)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/Makefile.am	2007-05-03 14:42:31 UTC (rev 3013)
@@ -0,0 +1,11 @@
+noinst_LIBRARIES = libADM_3gp.a
+
+INCLUDES = $(all_includes)  -I../../ADM_libraries -I../../ADM_libraries/ADM_utilities   -I../../ADM_libraries/ADM_lavutil
+
+libADM_3gph263_a_METASOURCES = AUTO
+
+libADM_3gp_a_SOURCES = ADM_3gp.cpp ADM_3gpAudio.cpp ADM_atom.cpp ADM_3gp.h ADM_atom.h ADM_infoextractor.cpp
+
+EXTRA_DIST= ADM_3gp.cpp  ADM_3gp.h  ADM_3gpAudio.cpp  ADM_atom.cpp  ADM_atom.h  ADM_infoextractor.cpp
+
+



From mean at mail.berlios.de  Thu May  3 18:46:10 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 3 May 2007 18:46:10 +0200
Subject: [Avidemux-svn-commit] r3016 -
	branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec
Message-ID: <200705031646.l43GkA58013158@sheep.berlios.de>

Author: mean
Date: 2007-05-03 18:46:08 +0200 (Thu, 03 May 2007)
New Revision: 3016

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/huffyuv.c
Log:
allow YV12 huffyuv

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/huffyuv.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/huffyuv.c	2007-05-03 16:07:30 UTC (rev 3015)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/huffyuv.c	2007-05-03 16:46:08 UTC (rev 3016)
@@ -538,10 +538,12 @@
     }else s->context= 0;
 
     if(avctx->codec->id==CODEC_ID_HUFFYUV){
+#if 0 //MEANX
         if(avctx->pix_fmt==PIX_FMT_YUV420P){
             av_log(avctx, AV_LOG_ERROR, "Error: YV12 is not supported by huffyuv; use vcodec=ffvhuff or format=422p\n");
             return -1;
         }
+#endif // /MEANX
         if(avctx->context_model){
             av_log(avctx, AV_LOG_ERROR, "Error: per-frame huffman tables are not supported by huffyuv; use vcodec=ffvhuff\n");
             return -1;



From mean at mail.berlios.de  Thu May  3 21:50:44 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 3 May 2007 21:50:44 +0200
Subject: [Avidemux-svn-commit] r3017 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory
Message-ID: <200705031950.l43Joiss013648@sheep.berlios.de>

Author: mean
Date: 2007-05-03 21:50:44 +0200 (Thu, 03 May 2007)
New Revision: 3017

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp
Log:
slightly less dumb optimization

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp	2007-05-03 16:46:08 UTC (rev 3016)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp	2007-05-03 19:50:44 UTC (rev 3017)
@@ -239,14 +239,12 @@
 	  {
                   line = 0;
                   int nbLine=0;
-                  table1 = gtk_table_new (0, 2, FALSE);
+                   while (i+nbLine<tab->nbElems && tab->dias[i+nbLine]->mySelf != ELEM_FRAME) 
+                    nbLine++;
+                  table1 = gtk_table_new (nbLine, 2, FALSE);
                   gtk_table_set_col_spacings (GTK_TABLE (table1), 12);
                   gtk_table_set_row_spacings (GTK_TABLE (table1), 6);
                   gtk_box_pack_start (GTK_BOX(vbox1), table1, FALSE, FALSE, 0);
-  
-                  while (i+nbLine<tab->nbElems && tab->dias[i+nbLine]->mySelf != ELEM_FRAME) 
-                    nbLine++;
-                  gtk_table_resize  (GTK_TABLE (table1), nbLine, 2);
                   gtk_widget_show (table1);
                   
                   while (i<tab->nbElems && tab->dias[i]->mySelf != ELEM_FRAME)



From mean at mail.berlios.de  Sat May  5 20:36:44 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 5 May 2007 20:36:44 +0200
Subject: [Avidemux-svn-commit] r3019 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4
Message-ID: <200705051836.l45IaiIs000931@sheep.berlios.de>

Author: mean
Date: 2007-05-05 20:36:42 +0200 (Sat, 05 May 2007)
New Revision: 3019

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Leaf.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Tree.h
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_atom.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_atom.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_infoextractor.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/Makefile.am
Log:
mostly working new mp4 demuxer

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_atom.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_atom.cpp	2007-05-04 16:09:15 UTC (rev 3018)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_atom.cpp	2007-05-05 18:36:42 UTC (rev 3019)
@@ -31,10 +31,11 @@
 
 
 #include "fourcc.h"
-#include "ADM_3gp/ADM_atom.h"
-//#define _3G_LOGO
-#define aprintf printf
-//#define ATOM_DEBUG
+#include "ADM_mp4/ADM_atom.h"
+#include "ADM_osSupport/ADM_debugID.h"
+#define MODULE_NAME MODULE_3GP
+#include "ADM_osSupport/ADM_debug.h"
+
 adm_atom::adm_atom(adm_atom *atom)
 {
 	_fd=atom->_fd;
@@ -54,8 +55,15 @@
 #ifdef ATOM_DEBUG
 	dumpAtom();
 #endif
-
 }
+/**
+    \fn duplicate constructor
+    \brief returns a copy of the current atom
+*/
+adm_atom::adm_atom(adm_atom *atom,int duplicate)
+{
+   memcpy(this,atom,sizeof(adm_atom));
+}
 adm_atom::adm_atom(FILE *fd )
 {
 uint32_t orgpos;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_atom.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_atom.h	2007-05-04 16:09:15 UTC (rev 3018)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_atom.h	2007-05-05 18:36:42 UTC (rev 3019)
@@ -28,7 +28,7 @@
 		uint8_t		dumpAtom( void );
 public:
 				adm_atom(FILE *fd);
-				adm_atom(FILE *fd,uint8_t full);
+				adm_atom(adm_atom *tm,int duplicate);
 				adm_atom(adm_atom *atom);
 		uint8_t	        skipAtom( void );
                 uint32_t        getStartPos(void) {return _atomStart;}
@@ -41,7 +41,7 @@
 
 		uint32_t	read32( void );
 		uint16_t	read16( void );
-		uint8_t	read( void );
+		uint8_t	        read( void );
 
 
 };

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_infoextractor.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_infoextractor.cpp	2007-05-04 16:09:15 UTC (rev 3018)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_infoextractor.cpp	2007-05-05 18:36:42 UTC (rev 3019)
@@ -26,7 +26,7 @@
 
 
 #include "fourcc.h"
-#include "ADM_3gp/ADM_3gp.h"
+#include "ADM_mp4/ADM_mp4.h"
 #include "ADM_toolkit/toolkit.hxx"
 
 #include "ADM_osSupport/ADM_debugID.h"

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp	2007-05-04 16:09:15 UTC (rev 3018)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp	2007-05-05 18:36:42 UTC (rev 3019)
@@ -1,5 +1,5 @@
 /***************************************************************************
-                          ADM_3gpp.cpp  -  description
+                          ADMMP4p.cpp  -  description
                              -------------------
 	
 		Read quicktime/mpeg4 file format found in 3gpp file.
@@ -67,7 +67,7 @@
 
 
 #include "fourcc.h"
-#include "ADM_3gp/ADM_3gp.h"
+#include "ADM_mp4/ADM_mp4.h"
 #include "ADM_toolkit/toolkit.hxx"
 #include "ADM_codecs/ADM_codec.h"
 
@@ -77,19 +77,12 @@
 #define MODULE_NAME MODULE_3GP
 #include "ADM_osSupport/ADM_debug.h"
 
-//#define _3GP_VERBOSE
+//#define MP4_VERBOSE
 #define MAX_CHUNK_SIZE (3*1024)
-// 14496-1 / 8.2.1
-typedef enum MP4_Tag
-{
-	Tag_InitialObjDesc	=0x02,
-	Tag_ES_Desc		=0x03,
-	Tag_DecConfigDesc 	=0x04,
-	Tag_DecSpecificInfo 	=0x05
-};
+
 uint32_t ADM_UsecFromFps1000(uint32_t fps1000);
 //****************************************************
-_3gpTrack::_3gpTrack(void)
+MP4Track::MP4Track(void)
 {
     extraDataSize=0;
     extraData=NULL;
@@ -99,7 +92,7 @@
     memset(&_rdWav,0,sizeof(_rdWav));
 
 }
-_3gpTrack::~_3gpTrack()
+MP4Track::~MP4Track()
 {
     if(extraData) delete [] extraData;
     if(index)   delete [] index;
@@ -109,7 +102,8 @@
     
 }
 //****************************************************
-uint8_t _3GPHeader::setFlag(uint32_t frame,uint32_t flags){
+uint8_t MP4Header::setFlag(uint32_t frame,uint32_t flags)
+{
     UNUSED_ARG(frame);
     UNUSED_ARG(flags);
     
@@ -117,23 +111,21 @@
     return 0;
 }
 
-uint32_t _3GPHeader::getFlags(uint32_t frame,uint32_t *flags){
-	if(frame>= (uint32_t)_videostream.dwLength) return 0;
-#warning FIXME : UGLY
-	if(fourCC::check(_videostream.fccHandler,(uint8_t *)"MJPG")
-        || isDVCompatible(_videostream.fccHandler)) // Fixme should be done on the fly
-	{
-		*flags=AVI_KEY_FRAME;
-	}
-	else
+uint32_t MP4Header::getFlags(uint32_t frame,uint32_t *flags)
+{
+        if(frame>= (uint32_t)_videostream.dwLength) return 0;
         *flags=VDEO.index[frame].intra;
-
-	return 1;
+  
+        return 1;
 }
 
 
-uint8_t  _3GPHeader::getFrameNoAlloc(uint32_t framenum,ADMCompressedImage *img)
+uint8_t  MP4Header::getFrameNoAlloc(uint32_t framenum,ADMCompressedImage *img)
 {
+    if(framenum>=VDEO.nbIndex)
+    {
+      return 0; 
+    }
     uint32_t offset=VDEO.index[framenum].offset; //+_mdatOffset;
 
 
@@ -142,51 +134,34 @@
     img->dataLength=VDEO.index[framenum].size;
     return 1;
 }
-_3GPHeader::~_3GPHeader()
+MP4Header::~MP4Header()
 {
     close();
 
 }
-uint8_t    _3GPHeader::close( void )
+uint8_t    MP4Header::close( void )
 {
-	if(_fd)
- 		{
-               	fclose(_fd);
-             	}
-              _fd=NULL;
-#define DEL(x) if(x) delete [] x;x=NULL;
-	DEL(Sz);
-	DEL(Co);
-	DEL(Sc);
-	DEL(Sn);
-	DEL(Sync);
-	DEL(SttsN);
-	DEL(SttsC);
-        DEL(Ctts);
- 	return 1;
+      if(_fd)
+              {
+              fclose(_fd);
+              }
+            _fd=NULL;
+      return 1;
 }
 //
 //	Set default save value
 //
 
-_3GPHeader::_3GPHeader(void)
+MP4Header::MP4Header(void)
 {
-	_fd=NULL;
-	 Sz=NULL;
-	 Co=NULL;
-	 Sc=NULL;
-	 Sn=NULL;
-	 Sync=NULL;
-	 SttsN=NULL;
-	 SttsC=NULL;
-         Ctts=NULL;
-         nbCtts=0;
+        _fd=NULL;
         nbAudioTrack=0;
         _currentAudioTrack=0;
         _reordered=0;
         _videoScale=1;
+        _videoFound=0;
 }
-uint8_t	_3GPHeader::getAudioStream(AVDMGenericAudioStream **audio)
+uint8_t	MP4Header::getAudioStream(AVDMGenericAudioStream **audio)
 {  
     if(nbAudioTrack) 
     {
@@ -195,18 +170,18 @@
         *audio=NULL;
     return 1;
 };
-WAVHeader 	*_3GPHeader::getAudioInfo(void )
+WAVHeader 	*MP4Header::getAudioInfo(void )
 { 	
 	if(!nbAudioTrack)
 		return NULL; 
        
         return _audioTracks[_currentAudioTrack]->getInfo();
 } ;
-uint32_t _3GPHeader::getNbStream(void)
+uint32_t MP4Header::getNbStream(void)
 { 
     return 1+nbAudioTrack;
 };
-uint8_t   _3GPHeader::getExtraHeaderData(uint32_t *len, uint8_t **data)
+uint8_t   MP4Header::getExtraHeaderData(uint32_t *len, uint8_t **data)
 {
 uint32_t old;
         *len=0;*data=NULL;
@@ -230,19 +205,31 @@
 // other stuff which are pretty useless on
 // 3gp file anyway.
 //______________________________________
-uint8_t    _3GPHeader::open(char *name)
+uint8_t    MP4Header::open(char *name)
 {
-	printf("** opening 3gpp files **");	
-	_fd=fopen(name,"rb");
-	if(!_fd)
-	{
-		printf("\n cannot open %s \n",name);
-		return 0;
-	}
+        printf("** opening 3gpp files **");	
+        _fd=fopen(name,"rb");
+        if(!_fd)
+        {
+                printf("\n cannot open %s \n",name);
+                return 0;
+        }
 #define CLR(x)              memset(& x,0,sizeof(  x));
 
-              CLR( _videostream);
-              CLR(  _mainaviheader);
+        CLR( _videostream);
+        CLR(  _mainaviheader);
+
+        
+        
+        adm_atom *atom=new adm_atom(_fd);
+        if(!lookupMainAtoms((void*) atom))
+        {
+          printf("Cannot find needed atom\n");
+          fclose(_fd);
+          return 0; 
+        }
+        
+        
 	      _isvideopresent=1;
 	      _isaudiopresent=0;
     	      _videostream.dwScale=1000;
@@ -250,40 +237,12 @@
               _mainaviheader.dwMicroSecPerFrame=100000;;     // 10 fps hard coded
               _videostream.fccType=fourCC::get((uint8_t *)"vids");
               _video_bih.biBitCount=24;
-              _videostream.dwLength= _mainaviheader.dwTotalFrames=1;
               _videostream.dwInitialFrames= 0;
               _videostream.dwStart= 0;
-              _video_bih.biWidth=_mainaviheader.dwWidth=16 ;
-              _video_bih.biHeight=_mainaviheader.dwHeight=16;
-              _videostream.fccHandler=fourCC::get((uint8_t *)"XXXX");
-	      _video_bih.biCompression=_videostream.fccHandler;
 
 	printf("\n");
-	adm_atom *atom=new adm_atom(_fd);
-        // Check it is not mdat start(ADM_memcpy_0)     
-        uint8_t check[4];
-        fseeko(_fd,4,SEEK_SET);
-        fread(check,4,1,_fd);
-        fseeko(_fd,0,SEEK_SET);
-        if(check[0]=='m' && check[1]=='d' &&check[2]=='a' && check[3]=='t')
-        {
-                        uint32_t of;
-                                        printf("Data first, header later...\n");
-                                        of=atom->read32();
-                                        if(of==1)
-                                        {
-                                          atom->read32();
-                                          atom->read32();
-                                          of=atom->read32();
-                                        }
-                                        fseeko(_fd,of,SEEK_SET);        
-                                        printf("Header starts at %x\n",of);
-                                        delete atom;
-                                        atom=new adm_atom(_fd);
-        }
-	parseAtomTree(atom);
-	delete atom;
-	printf("Found video codec type :");fourCC::print(_videostream.fccHandler);printf("\n");
+	
+       
         if(!VDEO.index) 
         {
                 printf("No index!\n");
@@ -293,6 +252,7 @@
         // If it is mpeg4 and we have extra data
         // Decode vol header to get the real width/height
         // The mpeg4/3GP/Mov header is often misleading
+#if 0
         if(fourCC::check(_videostream.fccHandler,(uint8_t *)"DIVX"))
         {
             if(VDEO.extraDataSize)
@@ -343,17 +303,18 @@
 
         
         }
-        
+#endif
         /*
                 Now build audio tracks
         */
+        if(nbAudioTrack) _isaudiopresent=1; // Still needed ?
         for(int audio=0;audio<nbAudioTrack;audio++)
         {
-            _audioTracks[audio]=new _3gpAudio(_fd,&(_tracks[1+audio]));   
+            _audioTracks[audio]=new MP4Audio(_fd,&(_tracks[1+audio]));   
             
         }
         fseek(_fd,0,SEEK_SET);
-
+#if 0
         /* Do we have a ctts atom ? if so it contains B frame and we can guesstimate them */
         if(Ctts)
         {
@@ -400,1174 +361,17 @@
         }
         _tracks[0].index[0].intra=AVI_KEY_FRAME;
         // Update usec per frame
+#endif
         _mainaviheader.dwMicroSecPerFrame=ADM_UsecFromFps1000( _videostream.dwRate);;;   
         printf("3gp/mov file successfully read..\n");
         return 1;
 }
-uint8_t _3GPHeader::parseAtomTree(adm_atom *atom)
-{
-	static uint32_t current=0;
-	static uint32_t nbSz,nbCo,nbSc,nbSync,SzIndentical;
-	//static uint32_t duration;
-	static uint32_t _lastW, _lastH;
-	static uint32_t nest=0;
-	static uint32_t nbStts;
-	static uint32_t myScale=1000;
-	uint32_t type;
-	uint32_t n=0,j,wh,i,l=0;
-	uint32_t tag=0xff;
-        double duration=0;
-	// Skippable : Edit edts dinf
-	//		udta : user data
-	
-	while(!atom->isDone())
-	{
-		adm_atom tom(	atom);
-#ifdef _3GP_VERBOSE
-					for(uint32_t o=0;o<nest;o++) printf("\t");
-					printf("parsing atom ");
-					fourCC::printBE(tom.getFCC());
-					printf(" (size %lu) at 0x%x\n",tom.getSize(),tom.getStartPos());	
-#endif
-		nest++;
-		switch((tom.getFCC()))
-		{
-			default:
-//#ifdef _3GP_VERBOSE
-#if 1
-					for(uint32_t o=0;o<nest;o++) printf("\t");
-					printf("skipping atom ");
-					fourCC::printBE(tom.getFCC());
-					printf(" (size %lu) at 0x%x\n",tom.getSize(),tom.getStartPos());   
-#endif
-					tom.skipAtom();
-					break;
-			case MKFCCR('m','d','a','t') : //'mdat':
-                                        {
-                                        tom.skipAtom();
-                                
-                                        }
-					break;
 
-	 	// these are container atoms,
-	     	// we go on , they includes other atom
-
-                        case MKFCCR('w','a','v','e'): //'wave':
-			case MKFCCR('s','t','b','l'): //'stbl':
-			case MKFCCR('m','d','i','a') : //'mdia':
-			case MKFCCR('m','i','n','f'): //'minf':
-			case MKFCCR('m','o','o','v'): //'moov':
-			case MKFCCR('c','m','o','v'): //'cmov':
-			case MKFCCR('M','O','V','I') : //'MOVI':
-				parseAtomTree(&tom);
-				break;
-
-			case MKFCCR('s','m','h','d'): // Track audio header
-					fourCC::printBE(tom.read32());
-					tom.skipAtom();
-					break;
-			case MKFCCR('d','c','o','m') : //dcom':
-					fourCC::printBE(tom.read32());
-					tom.skipAtom();
-					break;
-			case MKFCCR('m','v','h','d') : //'mvhd':
-				{
-				uint32_t scale=0;
-					tom.skipBytes(12);
-					scale=tom.read32();
-					duration=tom.read32();
-					if(scale!=1000)
-					{
-						myScale=scale;
-						printf("Warning : scale is not in ms %lu !\n",myScale);
-						if(scale)
-						{
-								duration=1000*duration;
-								duration/=scale;
-						}
-						scale=1000;
-					}
-					
-					printf("Duration : %lu ms\n",duration);
-					if(!duration) duration=1000;
-					
-				}
-				tom.skipAtom();
-				break;
-
-			case MKFCCR('r','a','w',' '): //'raw ':
-					tom.skipBytes(8);
-					
-					printf("Raw audio detected\n");
-					printf("Version : %u\n",tom.read16());
-					printf("Revision :%u\n",tom.read16());
-					printf("Vendor :%lu\n",tom.read32());
-                                        ADIO.channels=tom.read16();
-                                        ADIO.bitspersample=tom.read16();
-                                        ADIO.encoding=tom.read16();
-
-                                        printf("Channels :%lu\n",ADIO.channels);
-                                        printf("S size :%lu\n",ADIO.bitspersample);
-                                        printf("Compression :%u\n",ADIO.encoding);
-					printf("Packet Size :%u\n",tom.read16());
-					i=tom.read32();
-					if(i&0xffff)
-					{
-                                          GUI_Error_HIG(_("Expect troubles"), NULL);
-					}
-                                        if(!ADIO.channels) ADIO.channels=1;
-                                        if(ADIO.bitspersample<8) ADIO.bitspersample=8;
-                                        ADIO.encoding=WAV_8BITS_UNSIGNED;
-                                        ADIO.byterate=(i>>16);
-                                        ADIO.frequency=ADIO.byterate/((ADIO.bitspersample>>3)*(ADIO.channels));
-					printf("Bitrate :%lu (%x)\n",i,i);
-                                        printf("Byterate :%lu\n",ADIO.byterate);
-                                        printf("Frequency :%lu\n",ADIO.frequency);
-// hardcoded for now
-
-					tom.skipAtom();
-					break;
-			case MKFCCR('u','l','a','w'): //'ulaw ':
-					tom.skipBytes(8);
-	                               printf("Version : %u\n",tom.read16());
-					printf("Revision :%u\n",tom.read16());
-					printf("Vendor :%lu\n",tom.read32());
-                                        ADIO.channels=tom.read16();
-                                        ADIO.bitspersample=tom.read16();
-                                        tom.read16();
-                                        ADIO.encoding=WAV_ULAW;
-                                        ADIO.byterate=ADIO.frequency=tom.read32();	
-                                        printf("Byterate  :%lu\n",ADIO.byterate);
-                                        printf("Frequency :%lu\n",ADIO.frequency);
-                                        printf("Bps       :%lu\n",ADIO.bitspersample);
-					tom.skipAtom();
-					break;		
-                        case MKFCCR('t','w','o','s'): //'twos ':
-                                        tom.skipBytes(8);
-                                       printf("Version : %u\n",tom.read16());
-                                        printf("Revision :%u\n",tom.read16());
-                                        printf("Vendor :%lu\n",tom.read32());
-                                        ADIO.channels=tom.read16();
-                                        ADIO.bitspersample=tom.read16();
-                                        tom.read16();
-                                        ADIO.encoding=WAV_LPCM;
-                                        ADIO.frequency=tom.read32();      
-                                        ADIO.byterate=ADIO.frequency*ADIO.bitspersample*ADIO.channels/8;
-                                        printf("Byterate  :%lu\n",ADIO.byterate);
-                                        printf("Frequency :%lu\n",ADIO.frequency);
-                                        printf("Bps       :%lu\n",ADIO.bitspersample);
-                                        tom.skipAtom();
-                                        break;          
-
-                        case MKFCCR('.','m','p','3'): //.mp3
-                                        tom.skipBytes(16);
-                                        ADIO.encoding=WAV_MP3;
-                                        ADIO.channels=tom.read16();
-                                        printf("mp3 audio\n");
-                                        printf("Channels :%d\n",ADIO.channels);
-                                        printf("Bps      :%d\n",tom.read16()); // Bps
-                                        printf("CodecId  :%x\n",tom.read16()); // Bps
-                                        printf("Packetsiz:%x\n",tom.read16()); // Bps
-                                        ADIO.frequency=tom.read16();  //Bps
-                                        printf("Fq        :%d\n",ADIO.frequency); // Bps
-                                        tom.skipAtom();
-                                        break;
-                        case MKFCCR('s','o','w','t'): //sowt
-                                        {
-                                        tom.skipBytes(8);
-                                        printf("Version : %u\n",tom.read16());
-                                        printf("Revision :%u\n",tom.read16());
-                                        printf("Vendor :%lu\n",tom.read32());
-                                        ADIO.channels=tom.read16();
-                                        ADIO.bitspersample=tom.read16();
-                                        tom.read16();
-                                        ADIO.encoding=WAV_PCM;
-                                        ADIO.byterate=ADIO.frequency=tom.read32();
-                                        ADIO.byterate*=ADIO.bitspersample/8;
-                                        ADIO.byterate*=ADIO.channels;
-                                        
-                                        printf("Byterate  :%lu\n",ADIO.byterate);
-                                        printf("Frequency :%lu\n",ADIO.frequency);
-                                        printf("Bps       :%lu\n",ADIO.bitspersample);
-                                        tom.skipAtom();
-                                        break;          
-
-
-                                        }
-                    case MKFCCR('u','r','l',' '): // url
-                                      {
-                                        int s;
-                                        tom.read32();
-                                        tom.read32();
-                                        s=tom.read32();
-                                        char str[s+1];
-                                        tom.readPayload((uint8_t *)str,s);
-                                        str[s]=0;
-                                        printf("Url : %s\n",str);
-                                        tom.skipAtom();
-                                        break;
-                                      }                   
-                    case MKFCCR('Q','D','M','2'): // QDM2
-                                        {
-                                        tom.skipBytes(8);
-                                        printf("QDM2 audio\n");
-                                        printf("Version : %u\n",tom.read16());
-                                        printf("Revision :%u\n",tom.read16());
-                                        printf("Vendor :%lu\n",tom.read32());
-                                        ADIO.channels=tom.read16();
-                                        ADIO.bitspersample=tom.read16();
-                                        tom.read16();
-                                        ADIO.encoding=WAV_QDM2;
-                                        ADIO.byterate=ADIO.frequency=tom.read32();
-                                        ADIO.byterate*=ADIO.bitspersample/8;
-                                        ADIO.byterate*=ADIO.channels;
-                                        
-                                        printf("Byterate  :%lu\n",ADIO.byterate);
-                                        printf("Frequency :%lu\n",ADIO.frequency);
-                                        printf("Bps       :%lu\n",ADIO.bitspersample);
-                                        tom.skipBytes(26);
-
-                                        _tracks[nbAudioTrack+1].extraDataSize=tom.getRemainingSize();
-                                        _tracks[nbAudioTrack+1].extraData=new uint8_t [_tracks[nbAudioTrack+1].extraDataSize];
-                                        tom.readPayload(_tracks[nbAudioTrack+1].extraData,_tracks[nbAudioTrack+1].extraDataSize);
-                                        mixDump(_tracks[nbAudioTrack+1].extraData,_tracks[nbAudioTrack+1].extraDataSize);
-                                        break;          
-
-
-                                        }
-			case MKFCCR('m','p','4','a'): //'mp4a':
-					
-                                        if(tom.getRemainingSize()>15) // skip the real mp4a atom, we only do the one in stds
-                                        {
-					// Put safe default here, in case there 
- 					// is no decodable information later on
-                                        ADIO.encoding=WAV_AAC;					
-                                        ADIO.frequency=44100;
-                                        ADIO.channels=2;
-                                        ADIO.bitspersample=16;
-                                        ADIO.byterate=128000/8;
-					// According to 3gp doc we should have 28 bytes
-					// at least
-
-					{
-                                                uint32_t u32;
-                                 
-                                                tom.skipBytes(8);  // Skip header
-                                                printf("Version  :%d\n",u32=tom.read16()); // Qual1
-                                                printf("Revision :%d\n",tom.read16());  // revision / level
-                                                printf("Vendor   :%d\n",tom.read32());  // Vendor
-                                                ADIO.channels=tom.read16();
-                                                printf("Channels :%d\n",ADIO.channels); // Channels
-                                                
-                                                printf("Bps      :%d\n",tom.read16()); // Bps
-                                                printf("CodecId  :%x\n",tom.read16()); // Bps
-                                                printf("Packetsiz:%x\n",tom.read16()); // Bps
-                                                if(u32<2)
-                                                {
-                                                        ADIO.frequency=tom.read16();
-                                                        if(ADIO.frequency<8000) ADIO.frequency=48000;
-                                                        printf("Fq       :%d\n",ADIO.frequency); // Bps
-                                                        tom.skipBytes(2); // Fixed point
-                                                }
-                                                
-                                                //
-                                                switch(u32)
-                                                {
-                                                        case 0:break;
-                                                        case 1:
-                                                                printf("Sample per packet   :%d\n",tom.read32());  // Vendor
-                                                                printf("Bytes  per packet   :%d\n",tom.read32());  // Vendor
-                                                                printf("Bytes per frame     :%d\n",tom.read32());  // Vendor
-                                                                printf("Bytes per sample    :%d\n",tom.read32());  // Vendor
-                                                                break;
-                                                        case 2:
-                                                                ADIO.frequency=44100;
-                                                                tom.skipBytes(16);
-                                                                ADIO.channels=tom.read32();
-                                                                printf("Channels            :%d\n",ADIO.channels); // Channels
-                                                                printf("Tak(7F000)           :%x\n",tom.read32()); // Channels
-                                                                printf("Bites  per channel  :%d\n",tom.read32());  // Vendor
-                                                                printf("Format specific     :%x\n",tom.read32());  // Vendor
-                                                                printf("Byte per audio packe:%x\n",tom.read32());  // Vendor
-                                                                printf("LPCM                :%x\n",tom.read32());  // Vendor
-                                                                break;
-                                                }
-                                                // look other atom following
-                                                parseAtomTree(&tom);
-                                                tom.skipAtom();
-                                        }
-                                        } else tom.skipAtom();
-					break;
-			case MKFCCR('s','a','m','r'): //'mp4a':
-					tom.skipBytes(8);
-					
-                                        ADIO.encoding=WAV_AMRNB;
-					
-					#warning !!!!!!!!!!!!!!!
-					#warning decode WAV_AMRNB audio header!
-					#warning !!!!!!!!!!!!!!!
-                                        ADIO.frequency=8000;
-                                        ADIO.channels=1;
-                                        ADIO.bitspersample=16;
-                                        ADIO.byterate=12000/8;
-					
-					tom.skipAtom();
-					break;
-                        case MKFCCR('c','t','t','s'): // Composition time to sample             
-                                {
-                                    uint32_t n,i,j,k,v;
-                                printf("ctts:%lu\n",tom.read32()); // version & flags
-                                n=tom.read32();
-                                
-                                    Ctts=new uint32_t[n*4]; // keep a safe margin
-                                
-                                    for(i=0;i<n;i++)
-                                    {
-                                        j=tom.read32();
-                                        v=tom.read32();
-#if 0
-                                        if(j>10)
-                                        {
-                                          //  printf("Too much element %u\n",j);
-                                            nbCtts=0;
-                                            break;
-                                        }
-#endif
-                                        if(i<20)
-                                        {
-                                            printf("Ctts: nb: %u (%x) val:%u (%x)\n",j,j,v,v);   
-                                        }
-                                        for(k=0;k<j;k++)
-                                        {
-                                            Ctts[nbCtts++]=v;
-                                        }
-                                    }
-                                    if(!nbCtts)
-                                    {
-                                        delete [] Ctts;
-                                        Ctts=NULL;
-                                        printf("Destroying Ctts, seems invalid\n");
-                                    }
-                                    printf("Found %u elements\n",nbCtts);
-                                
-                                
-                                tom.skipAtom(); 
-                                }
-                                break;  
-			case MKFCCR('s','t','t','s'): // time sample table stts
-				
-				printf("stts:%lu\n",tom.read32()); // version & flags
-				nbStts=tom.read32();
-				printf("Time stts atom found (%lu)\n",nbStts);
-				printf("Using myscale %lu\n",myScale);
-				SttsN=new uint32_t[nbStts];
-				SttsC=new uint32_t[nbStts];
-				double dur;
-				for(i=0;i<nbStts;i++)
-				{
-					
-					SttsN[i]=tom.read32();
-					SttsC[i]=tom.read32();
-					aprintf("stts: count:%u size:%u (unscaled)\n",SttsN[i],SttsC[i]);	
-					//dur*=1000.*1000.;; // us
-					//dur/=myScale;
-				}
-				tom.skipAtom();
-				break;	
-				
-			case MKFCCR('s','t','s','s'): //'stss':
-				printf("Sync atom found\n");
-				tom.read32();
-				nbSync=tom.read32();
-				if(nbSync)
-				{
-					Sync=new uint32_t[nbSync];
-					for(i=0;i<nbSync;i++)
-					{
-						Sync[i]=tom.read32();
-					}
-				}
-				tom.skipAtom();
-				break;
-			case MKFCCR('t','r','a','k'): //'trak':
-                                printf("**************************************************\n");
-				printf("Track found\n");
-				current=0;
-				nbSz=0;
-				nbCo=0;
-				nbSc=0;
-				nbSync=0;
-				nbStts=0;
-                                SzIndentical=0;
-				//myScale=1000;
-				parseAtomTree(&tom);
-				switch(current)
-				{
-				uint32_t nbo;
-				case 1:
-					{
-                                        // If we already built video track, ignore
-					if(_tracks[0].nbIndex) break;
-                                        _videoScale=myScale;
-					buildIndex(&_tracks[0],myScale,
-							nbSz,Sz,SzIndentical,nbCo,Co,nbSc,Sc,nbStts,SttsN,SttsC,
-							Sn,&nbo,0);
-					// Take the last entry in the video index as global time
-					// time in us
-                                        nbo=_tracks[0].nbIndex;
-					_videostream.dwLength= _mainaviheader.dwTotalFrames=nbo;
-					double last=VDEO.index[nbo-1].time;
-					// avoid rounding error
-					
-                                        last+=VDEO.index[1].time; // ~ 1 Frame duration
-                                        printf("Time code of last img  : %lf \n",last);
-					if(last<0.1)
-                                        {
-                                                last=25000;
-                                                printf("WARNING Erroneous fps !!!\n");
-                                        }
-					last=1000.*1000.*1000./last;
-					last*=nbo;
-					printf("3GP:Tk %lu Nb sz:%lu nbFrame:%lu duration:%f us\n",
-							current,nbSz,nbo,last);
-              				_videostream.dwRate=(uint32_t)floor(last);
-					if(nbSync)
-                                            sync(VDEO.index,nbSz,nbSync,Sync);
-					else
-                                         { // All frame keyframe ?
-                                            printf("3gp:All frame keyframes ??\n");
-                                            for(uint32_t i=0;i<nbo;i++)
-                                            {
-                                                VDEO.index[i].intra=AVI_KEY_FRAME;
-                                            }
-                                         }
-                                        }
-					break;
-				case 2:
-					// audio
-                                        
-                                        // Ugly hack !
-                                        // In case of uncompressed audio (LPCM & friends)
-                                        // The size is in sample, not byte
-                                        if(SzIndentical ==1 && (ADIO.encoding==WAV_LPCM || ADIO.encoding==WAV_PCM ))
-                                        {
-                                          printf("Overriding size %lu -> %lu\n", SzIndentical,SzIndentical*2*ADIO.channels);
-                                          SzIndentical=SzIndentical*2*ADIO.channels;
-                                        }
-                                           
-                                  
-                                  
-                                        // 
-                                        buildIndex(&_tracks[1+nbAudioTrack],myScale,
-							nbSz,Sz,SzIndentical,nbCo,Co,nbSc,Sc,nbStts,SttsN,SttsC,
-							Sn,&nbo,1);
-                                        nbo=_tracks[1+nbAudioTrack].nbIndex;
-                                        // Check for extra
-
-
-                                        if(nbo)
-                                            _tracks[1+nbAudioTrack].nbIndex=nbo;
-                                        else
-                                            _tracks[1+nbAudioTrack].nbIndex=nbSz;
-                                        nbAudioTrack++;
-					break;
-                                default : printf("In atom track, the track type is unknown (%d)\n",current);
-				}
-                                DEL(Sz);
-                                DEL(Co);
-                                DEL(Sc);
-                                DEL(Sn);
-                                DEL(Sync);
-                                DEL(SttsC);
-                                DEL(SttsN);
-                                printf("**************************************************\n");
-				break;
-		// misc atom that needs special care
-			case MKFCCR('m','d','h','d'): //mdhd
-				//
-				{
-				uint32_t tmpscale,version;
-				
-				printf("Decoding mdhd\n");
-                                version=tom.read();
-				tom.skipBytes(3); // flags + version
-				tom.skipBytes(4); // creation time
-				tom.skipBytes(4); // mod time
-                                if(version==1) tom.skipBytes(8);
-				tmpscale=tom.read32(); //
-				printf("Myscale in mdhd:%lu\n",tmpscale);
-				if(!tmpscale) tmpscale=600; // default
-				duration=tom.read32();
-				printf("duration in mdhd:%f (unscaled)\n",duration);
-				duration=(duration*1000.)/tmpscale;
-				printf("duration in mdhd:%f (scaled ms)\n",duration);
-				tom.skipAtom();
-				myScale=tmpscale;
-				}
-				break;
-			case MKFCCR('h','d','l','r'): //'hdlr':
-				tom.read32();
-				tom.read32();
-				type=tom.read32();
-				switch(type)
-                                {	
-                                case MKFCCR('v','i','d','e')://'vide':
-                                        current=1;
-                                        printf("hdlr video found \n ");
-                                        break;
-                                case MKFCCR('s','o','u','n'): //'soun':
-                                        current=2;
-                                        _audioDuration=(uint32_t)duration;
-                                        printf("hdlr audio found (duration %f ms)\n ",duration);
-                                        break;
-                                case MKFCCR('u','r','l',' ')://'url ':
-                                    {
-                                        int s;
-                                        tom.read32();
-                                        tom.read32();
-                                        tom.read32();
-                                        s=tom.read();
-                                        char str[s+1];
-                                        tom.readPayload((uint8_t *)str,s);
-                                        str[s]=0;
-                                        printf("Url : <%s>\n",str);
-                                        
-                                      }                   
-                                      break;
-                                default:
-                                        printf("hdlr found but ignored \n");
-                                        fourCC::print(type);
-                                        printf("\n");
-                                }
-				tom.skipAtom();
-                                duration=0;
-				break;
-			case MKFCCR('s','t','s','d') : //'stsd':
-				tom.read32();
-				n=tom.read32();
-				for(i=0;i<n;i++)
-					parseAtomTree(&tom);
-
-				break;
-			case MKFCCR('t','k','h','d'): //'tkhd':
-				tom.skipBytes(12);
-				printf("Track Id: %lu\n",tom.read32());
-				tom.skipBytes(4);
-				printf("Duration: %lu (ms)\n",(tom.read32()*1000)/myScale);
-				tom.skipBytes(8);
-				tom.skipBytes(4); // layers
-				tom.skipBytes(40); // layers
-
-				_lastW=tom.read32()>>16;
-				_lastH=tom.read32()>>16;
-				tom.skipAtom();
-				printf("tkhd : %ld %ld\n",_lastW,_lastH);
-				break;
-                        case MKFCCR('d','v','c',' ') : //'dvc ':
-                        case MKFCCR('d','v','p','p') : //'dvpp':
-/*
-                                tom.skipBytes(24);
-                                wh=tom.read32();
-                                tom.skipBytes(40);
-*/
-
-                                _video_bih.biWidth=_mainaviheader.dwWidth=_lastW ;
-                                _video_bih.biHeight=_mainaviheader.dwHeight=_lastH ;
-
-                                printf("DV : %ld x %ld \n",_video_bih.biWidth,_video_bih.biHeight);
-                                _videostream.fccHandler=fourCC::get((uint8_t *)"DVDS");
-                                _video_bih.biCompression=_videostream.fccHandler;
-                                tom.skipAtom();
-                                break;
-			case MKFCCR('s','2','6','3') : //'s263':
-                        case MKFCCR('h','2','6','3') : //'s263':
-				tom.skipBytes(24);
-				wh=tom.read32();
-				tom.skipBytes(40);
-
-
-              			_video_bih.biWidth=_mainaviheader.dwWidth=wh>>16 ;
-              			_video_bih.biHeight=_mainaviheader.dwHeight=wh & 0xffff;
-				printf("H263 : %ld x %ld \n",_video_bih.biWidth,_video_bih.biHeight);
-              			_videostream.fccHandler=fourCC::get((uint8_t *)"H263");
-                        	_video_bih.biCompression=_videostream.fccHandler;
-				// d263 atom here	 -> ignored
-				tom.skipAtom();
-				break;
-			case MKFCCR('S','V','Q','3'): //'SVQ3':
-					// For SVQ3, the codec needs it to begin by SVQ3
-					// We go back by 4 bytes to get the 4CC
-						printf("SVQ3 atom found\n");
-						VDEO.extraDataSize=tom.getSize()+4;
-                                                VDEO.extraData=new uint8_t[ VDEO.extraDataSize ];
-                                                if(!tom.readPayload(VDEO.extraData+4,VDEO.extraDataSize-4 ))
-						{
-                                                  GUI_Error_HIG(_("Problem reading SVQ3 headers"), NULL);
-						}
-                                                VDEO.extraData[0]='S';
-                                                VDEO.extraData[1]='V';
-                                                VDEO.extraData[2]='Q';
-                                                VDEO.extraData[3]='3';
-						_video_bih.biWidth=_mainaviheader.dwWidth=_lastW ;
-              					_video_bih.biHeight=_mainaviheader.dwHeight=_lastH;
-
-						printf("SVQ3 Header size : %lu",_videoExtraLen);
-						_videostream.fccHandler=fourCC::get((uint8_t *)"SVQ3");
-				 		_video_bih.biCompression=_videostream.fccHandler;
-						//mixDump(_videoExtraData,30);
-						tom.skipAtom();
-				break;
-                        case MKFCCR('M','J','P','G'): //'jpeg':
-			case MKFCCR('j','p','e','g'): //'jpeg':
-                        case MKFCCR('A','V','D','J'): //'jpeg':
-                                VDEO.extraDataSize=tom.getSize();
-                                VDEO.extraData=new uint8_t [VDEO.extraDataSize];
-                                tom.readPayload(VDEO.extraData,VDEO.extraDataSize);
-				_video_bih.biWidth=_mainaviheader.dwWidth=_lastW ;
-              			_video_bih.biHeight=_mainaviheader.dwHeight=_lastH;
-
-                                printf("Jpeg Header size %lu \n",VDEO.extraDataSize);
-				_videostream.fccHandler=fourCC::get((uint8_t *)"MJPG");
-				 _video_bih.biCompression=_videostream.fccHandler;
-				tom.skipAtom();
-				break;
-
-                          case MKFCCR('d','v','c','p'): //'dv':
-                                  
-                                  _video_bih.biWidth=_mainaviheader.dwWidth=_lastW ;
-                                  _video_bih.biHeight=_mainaviheader.dwHeight=_lastH;
-                                  _videostream.fccHandler=fourCC::get((uint8_t *)"DVDS");
-                                  _video_bih.biCompression=_videostream.fccHandler;
-                                  tom.skipAtom();
-                                  break;
-                        case MKFCCR('a','v','c','C'): //'avcC':
-                                {
-                                        // configuration data for h264
-                                        //tom.skipBytes(8);
-                                        int len,offset;
-                                    VDEO.extraDataSize=tom.getRemainingSize();
-                                    VDEO.extraData=new uint8_t [VDEO.extraDataSize];
-                                    tom.readPayload(VDEO.extraData,VDEO.extraDataSize);
-                                        printf("avcC size:%d\n",VDEO.extraDataSize);
-                                    // Dump some info
-                                        #define MKD8(x) VDEO.extraData[x]
-                                        #define MKD16(x) ((MKD8(x)<<8)+MKD8(x+1))
-                                        #define MKD32(x) ((MKD16(x)<<16)+MKD16(x+2))
-
-                                     printf("avcC Revision             :%x\n", MKD8(0));
-                                     printf("avcC AVCProfileIndication :%x\n", MKD8(1));
-                                     printf("avcC profile_compatibility:%x\n", MKD8(2));
-                                     printf("avcC AVCLevelIndication   :%x\n", MKD8(3));
-
-                                     printf("avcC lengthSizeMinusOne   :%x\n", MKD8(4));
-                                     printf("avcC NumSeq               :%x\n", MKD8(5));
-                                     len=MKD16(6);
-                                     printf("avcC sequenceParSetLen    :%x ",len );
-                                     offset=8;
-                                     mixDump(VDEO.extraData+offset,len);
-
-                                     offset=8+len;
-                                     printf("\navcC numOfPictureParSets  :%x\n", MKD8(offset++));
-                                     len=MKD16(offset++);
-                                     printf("avcC Pic len              :%x\n",len);
-                                     mixDump(VDEO.extraData+offset,len);
-                                     printf("\n");
-                                     tom.skipAtom();
-                                     break;
-                                }
-                        case MKFCCR('a','v','c','1'): //'avc1':
-                                {
-                                        uint32_t u32;
-                                 _videostream.fccHandler=fourCC::get((uint8_t *)"H264");
-                                 _video_bih.biCompression=_videostream.fccHandler;
-                                tom.skipBytes(8);  // Skip header
-                                printf("Revision :%x\n",tom.read32());  // revision / level
-                                printf("Vendor   :");
-                                fourCC::print(tom.read32());  // vendor
-                                printf("\n");
-                                printf("Qual :%x\n",tom.read32()); // Qual1
-                                printf("Qual :%x\n",tom.read32()); // Qual1
-
-                                _video_bih.biWidth=_mainaviheader.dwWidth=tom.read16() ;
-                                _video_bih.biHeight=_mainaviheader.dwHeight=tom.read16(); 
-                                
-                                printf("w    :%d\n",_mainaviheader.dwWidth); // w/h
-                                printf("h    :%d\n",_mainaviheader.dwHeight); // w/h
-                                printf("hzR  :%x dpi\n",tom.read32()); // w2
-                                printf("vzR  :%x dpi\n",tom.read32()); // h2
-                                printf("DataS:%x\n",tom.read32()); // h2
-                                printf("Fr/Sa::%x\n",tom.read16()); // Frame per sample
-                                u32=tom.read();
-                                if(u32>31) u32=31;
-                                printf("Codec string :%d <",u32);
-                                for(int i=0;i<u32;i++) printf("%c",tom.read());
-                                printf(">\n");
-                                tom.skipBytes(32-1-u32); // skip leftover from name
-                                printf("Col  :%x\n",tom.read16()); // Qual1
-                                printf("Col  :%x\n",tom.read16()); // Qual1
-                                
-                                // look other atom following
-                                parseAtomTree(&tom);
-                                tom.skipAtom();
-                                }
-                                break;
-
-			case MKFCCR('e','s','d','s'): //'esds':
-					// in case of mpeg4 we only take
-					// the mpeg4 vol header
-					printf("Esds atom found\n");
-
-					tom.skipBytes(4);
-					tag=0xff;
-					while(tag!=Tag_DecSpecificInfo && !tom.isDone())
-					{
-						tag=tom.read();
-						l=readPackedLen(&tom);
-						printf("\t Tag : %u Len : %u\n",tag,l);
-						switch(tag)
-						{
-							case Tag_ES_Desc:
-                                                                printf("\t ES_Desc\n");
-								tom.skipBytes(3);
-								break;
-							case Tag_DecConfigDesc:
-                                                        {
-                                                                uint8_t objectTypeIndication=tom.read();
-                                                                printf("\tDecConfigDesc : Tag %u\n",objectTypeIndication);
-                                                                if(current==2 && ADIO.encoding==WAV_AAC)
-                                                                {
-                                                                  switch(objectTypeIndication)
-                                                                  {
-                                                                      case 0x69:ADIO.encoding=WAV_MP3;break;
-                                                                      case 0x6b:ADIO.encoding=WAV_MP3;break;
-                                                                      case 0x6d:ADIO.encoding=WAV_MP3;break;
-                                                                      case 226:ADIO.encoding=WAV_AC3;break;
-                                                                      break;
-                                                              
-                                                                  }
-                                                                }
-								tom.skipBytes(1+3+4+4);	
-								break;
-                                                        }
-							case Tag_DecSpecificInfo:
-                                                                printf("\t DecSpecicInfo\n");
-                                                                switch(current)
-                                                                {
-                                                                    case 1: // Video
-                                                                        if(!VDEO.extraDataSize)
-                                                                        {
-                                                                                VDEO.extraDataSize=l;
-                                                                                VDEO.extraData=new uint8_t[l];
-                                                                                fread(VDEO.extraData,VDEO.extraDataSize,1,_fd);
-                                                                        }
-								        break;
-                                                                    case 2:
-                                                                        printf("Esds for audio\n");
-                                                                        _tracks[1+nbAudioTrack].extraDataSize=l;
-                                                                        _tracks[1+nbAudioTrack].extraData=new uint8_t[l];
-                                                                        fread(_tracks[1+nbAudioTrack].extraData,
-                                                                            _tracks[1+nbAudioTrack].extraDataSize,1,_fd);
-                                                                        break;
-                                                                    default: printf("Unknown track type for esds %d\n",current);
-                                                                }
-							}
-					}
-					
-				tom.skipAtom();
-				break;
-			case MKFCCR('m','p','4','v'): //'mp4v':
-				tom.skipBytes(24);		
-                                current=1; // It is video, sure ;)
-				wh=tom.read32();
-				printf("MP4 : %ld x %ld \n",_video_bih.biWidth,_video_bih.biHeight);
-				
-              			_video_bih.biWidth=_mainaviheader.dwWidth=wh>>16 ;
-              			_video_bih.biHeight=_mainaviheader.dwHeight=wh & 0xffff;
-              			_videostream.fccHandler=fourCC::get((uint8_t *)"DIVX");
-				_video_bih.biCompression=_videostream.fccHandler;
-				tom.skipBytes(50);
-				parseAtomTree(&tom);
-				tom.skipAtom();
-				break;
-			case MKFCCR('s','t','s','z'): //'stsz':
-				tom.read32();
-				n=tom.read32();
-              			nbSz=tom.read32();
-                                SzIndentical=0;
-				printf("%lu frames /%lu nbsz..\n",n,nbSz);
-				if(n)
-					{
-                                              printf("\t\t%lu frames of the same size %lu , n=%lu\n",
-                                                  nbSz,SzIndentical,n);
-                                              SzIndentical=n;
-                                              Sz=NULL;
-					}
-				else
-				{
-					Sz=new uint32_t[nbSz];
-					for(j=0;j<nbSz;j++)
-					{
-							Sz[j]=tom.read32();
-
-					}
-				}
-				tom.skipAtom();
-				break;
-                        case MKFCCR('c','o','6','4'): //'co64':
-                                printf("Incomplete support for 64 bits quicktime!!\n");
-                                tom.read32();
-                                nbCo=tom.read32();
-                                Co=new uint32_t[nbCo];
-                                for(j=0;j< nbCo;j++)
-                                {
-                                        tom.read32(); // ignore MSB
-                                        Co[j]=tom.read32();
-                                        aprintf("Chunk offset : %lu / %lu  : %lu\n",
-                                                j,nbCo,Co[j]);
-                                }
-
-                                tom.skipAtom();
-                                break;
-
-			case MKFCCR('s','t','c','o'): //'stco':
-
-				tom.read32();
-				nbCo=tom.read32();
-                                printf("\t\tnbCo:%u\n",nbCo);
-				Co=new uint32_t[nbCo];
-				for(j=0;j< nbCo;j++)
-				{
-					Co[j]=tom.read32();
-					aprintf("Chunk offset : %lu / %lu  : %lu\n",
-						j,nbCo,Co[j]);
-				}
-
-				tom.skipAtom();
-				break;
-			case MKFCCR('s','t','s','c'): //'stsc':
-
-				tom.read32();
-				nbSc=tom.read32();
-				Sc=new uint32_t[nbSc];
-				Sn=new uint32_t[nbSc];
-				for(j=0;j<nbSc;j++)
-				{
-
-					Sc[j]=tom.read32();
-					Sn[j]=tom.read32();
-					tom.read32();
-					aprintf("\t sc  %d : sc start:%lu sc count: %lu\n",j,Sc[j],Sn[j]);
-				}
-				tom.skipAtom();
-				break;
-				
-		}
-		nest--;
-	}
-	
-	return 1;
-}
-/*
-	Brute force index position rebuilding
-		from Chunk / Sample / sample per chunk
-
-		The method is a big hairy
-
-		We got a stsc table that says on many sample per chunk we have
-
-			1 3
-			4 7
-			8 9
-
-			It means
-				1 3
-				2 3
-				3 4
-				4 7
-				5 7
-				6 7
-				8 9
-				9 9  etc..
-	We got the first chunk  that have the new sample/chunk  until it changes
-
-	Sc[nbSc] hold the fist chunk that has   Sn[j] chunk in it
-
-	Stsz holds the size of each sample
-	If they are all the same size, nbSz=is the # of frames and Sz=NULL  SzIndentical is the size frame
-        IF they are not all the same size, nbSz is the # of sizes (normally same as # of samples) SzIndentical=0 and Sz contains the size
-
-
-http://developer.apple.com/documentation/QuickTime/QTFF/QTFFChap2/chapter_3_section_5.html#//apple_ref/doc/uid/DontLinkBookID_69-CH204-BBCJEIIA
-
-*/
-uint8_t	_3GPHeader::buildIndex(
-                            _3gpTrack *track,   
-                            uint32_t myScale,
-				uint32_t nbSz,	uint32_t *Sz,uint32_t SzIndentical,
-				uint32_t nbCo ,		uint32_t *Co,
-				uint32_t nbSc,		uint32_t *Sc,
-				uint32_t nbStts,	uint32_t *SttsN,uint32_t *SttsC,
-				uint32_t *Sn, 			uint32_t *outNbChunk,uint32_t isAudio)
-
-{
-
-uint32_t i,j,cur;
-
-	*outNbChunk=0;
-	aprintf("+_+_+_+_+_+\n");
-	aprintf("co : %lu sz: %lu sc: %lu co[0]%lu \n",nbCo,nbSz,nbSc,Co[0]);
-	aprintf("+_+_+_+_+_+\n");
-
-	ADM_assert(Sc);
-	ADM_assert(Sn);
-	ADM_assert(Co);
-	if(!SzIndentical)
-        {
-          ADM_assert(Sz);
-        }
-	// first set size
-	if(SzIndentical && isAudio)// in that case they are all the same size, i.e.audio
-	{
-          
-          
-          uint32_t totalBytes=SzIndentical*nbSz;
-          printf("All the same size : %u (total size %u bytes)\n",SzIndentical,totalBytes);
-              //
-              // Each chunk contains N samples=N bytes
-              int samplePerChunk[nbCo];
-              memset(samplePerChunk,0,nbCo*sizeof(int));
-              for( i=0;i<nbSc;i++)
-              {
-                  for(int j=Sc[i]-1;j<nbCo;j++)
-                  {
-                        aprintf("For chunk %lu , %lu samples\n",j,Sn[i]);
-                        samplePerChunk[j]=Sn[i];
-                  }
-              }
-              int total=0;
-              for( i=0;i<nbCo;i++)
-              {
-                  aprintf("%u -> %u samples %u bytes\n",i,samplePerChunk[i],samplePerChunk[i]*SzIndentical);
-                  total+=samplePerChunk[i];
-              }
-              printf("Total size in byte : %u\n",total*SzIndentical);
-              track->index=new _3gpIndex[nbCo];
-              memset(track->index,0,nbCo*sizeof(_3gpIndex));
-              track->nbIndex=nbCo;;
-              int max=0;
-              totalBytes=0;
-              for(i=0;i<nbCo;i++)
-              {
-                  uint32_t sz;
-
-                  track->index[i].offset=Co[i];
-                  sz=samplePerChunk[i]*SzIndentical;
-                  track->index[i].size=sz;
-                  track->index[i].time=0; // No seek
-                  if(sz>MAX_CHUNK_SIZE)
-                  {
-                      max+=sz/MAX_CHUNK_SIZE;
-                  }
-                  
-                  totalBytes+=track->index[i].size;
-              }
-              // Now time to update the time...
-              // Normally they have all the same duration
-              if(nbStts!=1) printf("WARNING: Same size, different duration\n");
-
-              float sampleDuration,totalDuration=0;
-              
-                sampleDuration=SttsC[0];
-                sampleDuration*=1000.*1000.;
-                sampleDuration/=myScale;    // Duration of one sample
-                for(i=0;i<nbCo;i++)
-                {
-                        track->index[i].time=(uint64_t)floor(totalDuration);
-                        totalDuration+=sampleDuration*samplePerChunk[i];
-                        aprintf("Audio chunk : %lu time :%lu\n",i,track->index[i].time);
-                }
-                if(max && isAudio) // We have some big chunks we need to split them
-                {
-                      // rebuild a new index
-                      printf("We have %u chunks that are too big, adjusting..\n",max);
-                      uint32_t newNbCo=track->nbIndex+max*2; // *2 is enough, should be.
-                      uint32_t w=0;
-                      uint32_t one_go;
-
-                        one_go=MAX_CHUNK_SIZE/SzIndentical;
-                        one_go=one_go*SzIndentical;
-
-                     _3gpIndex *newindex=new _3gpIndex[newNbCo];
-
-                    int64_t time_increment=(int64_t)((one_go/SzIndentical)*sampleDuration);  // Nb sample*duration of one sample
-                    for(i=0;i<track->nbIndex;i++)
-                    {
-                      uint32_t sz;
-                          sz=track->index[i].size;
-                          if(sz<MAX_CHUNK_SIZE)
-                          {
-                              memcpy(&(newindex[w]),&(track->index[i]),sizeof(_3gpIndex));
-                              w++;
-                              continue;
-                          }
-                          // We have to split it...
-                          int part=0;
-                          while(sz>one_go)
-                          {
-                                newindex[w].offset=track->index[i].offset+part*one_go;
-                                newindex[w].size=one_go;
-                                newindex[w].time=track->index[i].time+part*time_increment; 
-                                ADM_assert(w<newNbCo);
-                                w++;
-                                part++;
-                                sz-=one_go;
-                          }
-                          // The last one...
-                                newindex[w].offset=track->index[i].offset+part*one_go;
-                                newindex[w].size=sz;
-                                newindex[w].time=track->index[i].time+part*time_increment+((time_increment*sz)/one_go); 
-                                w++;
-                    }
-                    delete [] track->index;
-                    track->index=newindex;
-                    track->nbIndex=w;
-                }
-          return 1;
-      }
-          // Else we build an index per sample
-          //
-	
-		
-	// We have different packet size
-	// Probably video
-        track->index=new _3gpIndex[nbSz];
-        memset(track->index,0,nbSz*sizeof(_3gpIndex));
-
-        if(SzIndentical) // Video, all same size (DV ?)
-        {
-            aprintf("\t size for all %lu frames : %lu\n",nbSz,SzIndentical);
-            for(i=0;i<nbSz;i++)
-            {
-                    track->index[i].size=SzIndentical;
-                    
-            }
-          }
-          else // Different size
-          {
-            for(i=0;i<nbSz;i++)
-            {
-                    track->index[i].size=Sz[i];
-                    aprintf("\t size : %d : %lu\n",i,Sz[i]);
-            }
-          }
-	// if no sample to chunk we map directly
-	// first build the # of sample per chunk table
-        uint32_t totalchunk=0,max=0;
-
-        // Search the maximum
-        for(i=0;i<nbSc-1;i++)
-        {
-                totalchunk+=(Sc[i+1]-Sc[i])*Sn[i];
-        }
-        totalchunk+=(nbCo-Sc[nbSc-1]+1)*Sn[nbSc-1];
-
-        printf("#of chunk %d max per chunk %d Max # of sample %d\n",nbCo,max,totalchunk);
-
-        uint32_t chunkCount[totalchunk+1];
-	for(i=0;i<nbSc;i++)
-	{
-		for(j=Sc[i]-1;j<nbCo;j++)
-		{
-			chunkCount[j]=Sn[i];
-                        ADM_assert(j<=totalchunk);
-		}
-		aprintf("(%d) sc: %lu sn:%lu\n",i,Sc[i],Sn[i]);
-	}
-/*			for(j=0;j<nbSc;j++)
-			{
-				aprintf("\n count number : %d - %lu\n",j,Sn[j]);
-			}*/
-	// now we have for each chunk the number of sample in it
-	cur=0;
-	for(j=0;j<nbCo;j++)
-	{
-		int tail=0;
-		aprintf("--starting at %lu , %lu to go\n",Co[j],chunkCount[j]);
-		for(uint32_t k=0;k<chunkCount[j];k++)
-		{
-                        track->index[cur].offset=Co[j]+tail;
-                        tail+=track->index[cur].size;
-                        aprintf(" sample : %d offset : %lu\n",cur,track->index[cur].offset);
-			aprintf("Tail : %lu\n",tail);
-			cur++;
-		}
-
-
-	}
-        
-        
-        track->nbIndex=cur;;
-	
-	
-	// Now deal with duration
-	// the unit is us FIXME, probably said in header
-	// we put each sample duration in the time entry
-	// then sum them up to get the absolute time position
-
-        uint32_t nbChunk=track->nbIndex;
-	if(nbStts)		//uint32_t nbStts,	uint32_t *SttsN,uint32_t SttsC,
-	{
-		uint32_t start=0;
-		if(nbStts>1)
-		{
-			for(uint32_t i=0;i<nbStts;i++)
-			{
-				for(uint32_t j=0;j<SttsN[i];j++)
-				{
-                                        track->index[start].time=(uint64_t)SttsC[i];
-					start++;
-					ADM_assert(start<=nbChunk);
-				}	
-			}
-		}
-		else
-		{
-			// All same duration
-			for(uint32_t i=0;i<nbChunk;i++)
-                                track->index[i].time=(uint64_t)SttsC[0]; // this is not an error!
-		
-		}
-		// now collapse
-		uint64_t total=0;
-		float    ftot;
-		uint32_t thisone;
-		
-		for(uint32_t i=0;i<nbChunk;i++)
-		{
-                        thisone=track->index[i].time;
-			ftot=total;
-			ftot*=1000.*1000.;
-			ftot/=myScale;
-                        track->index[i].time=(uint64_t)floor(ftot);
-			total+=thisone;
-                        aprintf("Audio chunk : %lu time :%lu\n",i,track->index[i].time);
-		}
-		// Time is now built, it is in us
-	
-	
-	}
-	else // there is not ssts
-	{
-          GUI_Error_HIG(_("No stts table"), NULL);
-		ADM_assert(0);	
-	}
-	return 1;
-}
 //
 //	That tag are coded like this
 //	Each 8 bits is in fact a 7 Bits part while b7=1
 // 	So we concanate them while possible
-uint32_t _3GPHeader::readPackedLen(adm_atom *tom )
+uint32_t MP4Header::readPackedLen(adm_atom *tom )
 {
 	uint32_t len=0;
 	uint8_t	 b=0;
@@ -1580,40 +384,27 @@
 	}while(b&0x80);
 	return len;
 }
-//
-//	Update a index with the sync track that gives the intra frame position
-//
-uint8_t 	_3GPHeader::sync(_3gpIndex *idx,uint32_t index_size, uint32_t sync_size,uint32_t *sync)
+uint32_t              MP4Header::ptsDtsDelta(uint32_t frame)
 {
-	ADM_assert(index_size>=sync_size);
-	for(uint32_t i=0;i<sync_size;i++)
-	{
-		idx[sync[i]-1].intra=AVI_KEY_FRAME;
-	}
-	return 1;
-
-}
-uint32_t              _3GPHeader::ptsDtsDelta(uint32_t frame)
-{
    if(frame >= _videostream.dwLength) return 0;
    return VDEO.index[frame].deltaPtsDts;
 }
-uint8_t _3GPHeader::getFrameSize (uint32_t frame, uint32_t * size){
+uint8_t MP4Header::getFrameSize (uint32_t frame, uint32_t * size){
   if(frame >= _videostream.dwLength) return 0;
   *size = VDEO.index[frame].size;
   return 1;
 }
-  uint8_t   _3GPHeader::changeAudioStream(uint32_t newstream)
+  uint8_t   MP4Header::changeAudioStream(uint32_t newstream)
 {
         if(newstream>nbAudioTrack) return 0;
         _currentAudioTrack=newstream;
         return 1;
 }
-uint32_t     _3GPHeader::getCurrentAudioStreamNumber(void) 
+uint32_t     MP4Header::getCurrentAudioStreamNumber(void) 
 { 
     return _currentAudioTrack;
 }
- uint8_t   _3GPHeader::getAudioStreamsInfo(uint32_t *nbStreams, audioInfo **infos)
+ uint8_t   MP4Header::getAudioStreamsInfo(uint32_t *nbStreams, audioInfo **infos)
 {
         *nbStreams=nbAudioTrack;
         if(nbAudioTrack)
@@ -1628,17 +419,17 @@
         }
         return 1;
 }
-uint8_t                 _3GPHeader::isReordered( void )
+uint8_t                 MP4Header::isReordered( void )
 { 
         return _reordered;
 }
 /***************************************/
-uint8_t _3GPHeader::reorder( void )
+uint8_t MP4Header::reorder( void )
 {
 
         if( _reordered) return 1;
         printf("Reordering...\n");
-#define INDEX_TMPL        _3gpIndex
+#define INDEX_TMPL        MP4Index
 #define INDEX_ARRAY_TMPL  (VDEO.index)
 #define FRAMETYPE_TMPL    intra
   
@@ -1654,3 +445,4 @@
         return ret;
 
 }
+//EOF 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.h	2007-05-04 16:09:15 UTC (rev 3018)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.h	2007-05-05 18:36:42 UTC (rev 3019)
@@ -24,34 +24,58 @@
 
 #include "ADM_editor/ADM_Video.h"
 #include "ADM_audio/aviaudio.hxx"
-#include "ADM_3gp/ADM_atom.h"
+#include "ADM_mp4/ADM_atom.h"
 
-typedef struct _3gpIndex
+
+class MPsampleinfo
 {
-	uint64_t offset;
-	uint64_t size;
-	uint32_t intra;
-	uint64_t time;
-        uint32_t deltaPtsDts;
+  public:
+      uint32_t nbCo;
+      uint32_t SzIndentical;
+      uint32_t nbSz;
+      uint32_t nbSc;
+      uint32_t nbStts;
+      uint32_t nbSync;
+      
+      uint32_t *Co;
+      uint32_t *Sz;
+      uint32_t *Sc;
+      uint32_t *Sn;
+      uint32_t *SttsN;
+      uint32_t *SttsC;
+      uint32_t *Sync; 
+  
+      MPsampleinfo(void);
+      ~MPsampleinfo(void);
+};
 
-}_3gpIndex;
-class _3gpTrack
+typedef struct MP4Index
 {
+	uint64_t offset; // Offset in file to get frame
+	uint64_t size;   // Size of frame in bytes
+	uint32_t intra;  // Flags associated with frame
+	uint64_t time;   // Decoder time in ms
+        uint32_t deltaPtsDts; // Delta in frame between pts & dts
+
+}MP4Index;
+class MP4Track
+{
 public:
-    _3gpIndex   *index;
+    MP4Index   *index;
     uint32_t    id;
+    uint32_t    scale;
     uint32_t    nbIndex;
     uint32_t    extraDataSize;
     uint8_t     *extraData;
     WAVHeader   _rdWav;
-                _3gpTrack(void);
-                ~_3gpTrack();
+                MP4Track(void);
+                ~MP4Track();
 };
 
 //
 //	Audio track
 //
-class _3gpAudio : public AVDMGenericAudioStream
+class MP4Audio : public AVDMGenericAudioStream
 {
 protected:
 
@@ -60,7 +84,7 @@
 		uint32_t					_rel_position;
 
               	uint32_t 					_current_index;
-	    	_3gpIndex 					*_index;
+	    	MP4Index 					*_index;
 		FILE						*_fd;
 		uint32_t					_extraLen;
 		uint8_t						*_extraData;
@@ -68,11 +92,11 @@
 		
 		
 public:
-					_3gpAudio(FILE *fd,_3gpTrack *trak);
-// _3gpIndex *idx,
+					MP4Audio(FILE *fd,MP4Track *trak);
+// MP4Index *idx,
 // 						uint32_t nbchunk, FILE * fd,WAVHeader *incoming,
 // 						uint32_t extraLen,uint8_t *extraData,uint32_t duration);
-	virtual				~_3gpAudio();
+	virtual				~MP4Audio();
         virtual uint32_t 		read(uint32_t len,uint8_t *buffer);
         virtual uint8_t  		goTo(uint32_t newoffset);
 		   uint8_t			getNbChunk(uint32_t *ch);
@@ -85,46 +109,51 @@
 #define _3GP_MAX_TRACKS 8
 #define VDEO _tracks[0]
 #define ADIO _tracks[nbAudioTrack+1]._rdWav
-class _3GPHeader         :public vidHeader
+
+class MP4Header         :public vidHeader
 {
 protected:
-          uint8_t                       _reordered;		
-	  FILE 				*_fd;
-          _3gpTrack                     _tracks[_3GP_MAX_TRACKS];
-	  uint32_t                      _audioDuration;
-          uint32_t                      _currentAudioTrack;
-	uint8_t 			parseAtomTree(adm_atom *atom);
-	  _3gpAudio			*_audioTracks[_3GP_MAX_TRACKS-1];
-	uint8_t 			sync(_3gpIndex *idx,uint32_t index_size, uint32_t sync_size,uint32_t *sync);
-         uint32_t  nbAudioTrack;
-	 uint32_t *Sz,*Co,*Sc;
-	 uint32_t *Sn,*Sync;
-	 uint32_t *SttsN,*SttsC,*Ctts,nbCtts;
-         uint32_t _videoScale;
-
-	uint8_t		buildIndex(	_3gpTrack *track,
-					uint32_t scale,
-					uint32_t nbSz,		uint32_t *Sz, uint32_t szIndentical,
-					uint32_t nbChunk ,	uint32_t *Chunk,
-					uint32_t nbSc,		uint32_t *Sc,
-					uint32_t nbStts,uint32_t *SttsN,uint32_t *SttsC,
-					uint32_t *Sn,			uint32_t *outNbChunk,
-                                            uint32_t isAudio
-					);
-	uint32_t 		readPackedLen(adm_atom *tom );
+          /*****************************/
+          uint8_t                       lookupMainAtoms(void *tom);
+          void                          parseMvhd(void *tom);
+          uint8_t                       parseTrack(void *ztom);
+          uint8_t                       decodeVideoAtom(void *ztom);
+          uint8_t                       parseMdia(void *ztom,uint32_t *trackType,uint32_t w, uint32_t h);
+          uint8_t                       parseStbl(void *ztom,uint32_t trackType,uint32_t w,uint32_t h,uint32_t trackScale);
+          uint8_t                       decodeEsds(void *ztom,uint32_t trackType);
+          uint32_t                      _videoScale;
+          uint32_t                      _movieDuration; // in ms
+          uint32_t                      _videoFound;
+          uint8_t	                indexify(
+                                                MP4Track *track,   
+                                                uint32_t trackScale,
+                                              MPsampleinfo *info,
+                                              uint32_t isAudio,
+                                              uint32_t *outNbChunk);
+          /*****************************/
+        uint8_t                       _reordered;		
+        FILE                          *_fd;
+        MP4Track                      _tracks[_3GP_MAX_TRACKS];
+        uint32_t                      _audioDuration;
+        uint32_t                      _currentAudioTrack;
+        uint8_t                       parseAtomTree(adm_atom *atom);
+        MP4Audio                      *_audioTracks[_3GP_MAX_TRACKS-1];
+        uint32_t                      nbAudioTrack;
+         /*********************************/
+	uint32_t                         readPackedLen(adm_atom *tom );
 	
 public:
-        uint8_t               hasPtsDts(void) {return 1;} // Return 1 if the container gives PTS & DTS info
-        uint32_t              ptsDtsDelta(uint32_t framenum);
-virtual   void 				Dump(void) {};
-virtual   uint32_t 			getNbStream(void) ;
-virtual   uint8_t 			needDecompress(void) { return 1;};
+          uint8_t               hasPtsDts(void) {return 1;} // Return 1 if the container gives PTS & DTS info
+          uint32_t              ptsDtsDelta(uint32_t framenum);
+virtual   void 	                Dump(void) {};
+virtual   uint32_t              getNbStream(void) ;
+virtual   uint8_t               needDecompress(void) { return 1;};
 
-			_3GPHeader( void ) ;
-                        virtual	~_3GPHeader(  ) ;
+                                MP4Header( void ) ;
+virtual	                        ~MP4Header(  ) ;
 // AVI io
-virtual 	uint8_t			open(char *name);
-virtual 	uint8_t			close(void) ;
+virtual 	uint8_t	       open(char *name);
+virtual 	uint8_t	       close(void) ;
   //__________________________
   //				 Info
   //__________________________

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-04 16:09:15 UTC (rev 3018)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-05 18:36:42 UTC (rev 3019)
@@ -0,0 +1,1155 @@
+/***************************************************************************
+/*
+    
+    copyright            : (C) 2007 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include "config.h"
+
+#include <stdio.h>
+#include <stdlib.h>
+
+#include <string.h>
+
+#include "math.h"
+
+#include <ADM_assert.h>
+#include "default.h"
+#include "ADM_editor/ADM_Video.h"
+
+
+#include "fourcc.h"
+#include "ADM_mp4/ADM_mp4.h"
+#include "ADM_toolkit/toolkit.hxx"
+#include "ADM_codecs/ADM_codec.h"
+
+#include "ADM_mp4Tree.h"
+
+#include "ADM_osSupport/ADM_debugID.h"
+#define MODULE_NAME MODULE_3GP
+#include "ADM_osSupport/ADM_debug.h"
+
+
+#define TRACK_OTHER 0
+#define TRACK_AUDIO 1
+#define TRACK_VIDEO 2
+
+#define MAX_CHUNK_SIZE (3*1024)
+
+// 14496-1 / 8.2.1
+typedef enum MP4_Tag
+{
+	Tag_InitialObjDesc	=0x02,
+	Tag_ES_Desc		=0x03,
+	Tag_DecConfigDesc 	=0x04,
+	Tag_DecSpecificInfo 	=0x05
+};
+
+extern char* ms2timedisplay(uint32_t ms);
+
+/**
+      \fn    LookupMainAtoms
+      \brief Search main atoms to ease job for other part
+*/
+uint8_t     MP4Header::lookupMainAtoms(void *ztom)
+{
+  
+  adm_atom *tom=(adm_atom *)ztom;
+  adm_atom *moov;
+  ADMAtoms id;
+  uint32_t container;
+  printf("Analyzing file and atoms\n");
+  if(!ADM_mp4SimpleSearchAtom(tom, ADM_MP4_MOOV,&moov))
+  {
+       adm_printf(ADM_PRINT_ERROR,"Cannot locate moov atom\n");
+       return 0;
+  }
+  ADM_assert(moov);
+  while(!moov->isDone())
+  {
+    adm_atom son(moov);
+    if(!ADM_mp4SearchAtomName(son.getFCC(), &id,&container))
+    {
+      adm_printf(ADM_PRINT_DEBUG,"Found atom %s unknown\n",fourCC::tostringBE(son.getFCC()));
+    }
+    else
+    {
+      switch( id)
+      {
+        case ADM_MP4_MVHD: parseMvhd(&son);break; 
+        case ADM_MP4_TRACK: 
+            if(!parseTrack(&son))
+            {
+                printf("Parse Track failed\n");
+            } ;
+            break;
+        default : 
+                adm_printf(ADM_PRINT_DEBUG,"atom %s not handled\n",fourCC::tostringBE(son.getFCC()));
+                break;
+      }
+      
+      
+    }
+    son.skipAtom();
+  }
+  delete moov;
+  printf("Done finding main atoms\n");
+  return 1;
+}
+/**
+      \fn parseMvhd
+      \brief Parse mvhd header
+*/
+void MP4Header::parseMvhd(void *ztom)
+{
+  adm_atom *tom=(adm_atom *)ztom;
+  tom->skipBytes(12);
+  uint32_t scale,duration=1000;
+  
+        scale=tom->read32();
+        duration=tom->read32();
+        _videoScale=scale;
+        printf("Warning : scale is not in ms %lu !\n",_videoScale);
+        if(_videoScale)
+        {
+                        duration=1000*duration; // In ms
+                        duration/=_videoScale;
+        }else
+          _videoScale=1000;
+        printf("Movie duration :%s\n",ms2timedisplay(duration));
+        _movieDuration=duration;
+}
+/**
+      \fn parseMvhd
+      \brief Parse mvhd header
+*/
+uint8_t MP4Header::parseTrack(void *ztom)
+{
+  adm_atom *tom=(adm_atom *)ztom;
+  ADMAtoms id;
+  uint32_t container;
+  uint32_t w,h;
+  uint32_t trackType=TRACK_OTHER;
+  
+  printf("Parsing Track\n");
+   while(!tom->isDone())
+  {
+     adm_atom son(tom);
+     if(!ADM_mp4SearchAtomName(son.getFCC(), &id,&container))
+     {
+       adm_printf(ADM_PRINT_DEBUG,"Found atom %s unknown\n",fourCC::tostringBE(son.getFCC()));
+       son.skipAtom();
+       continue;
+     }
+     adm_printf(ADM_PRINT_DEBUG,"\tProcessing atom %s \n",fourCC::tostringBE(son.getFCC()));
+     switch(id)
+     {
+       case ADM_MP4_TKHD:
+              {
+                      son.skipBytes(12);
+                      adm_printf(ADM_PRINT_DEBUG,"Track Id: %lu\n",son.read32());
+                      son.skipBytes(4);
+                      adm_printf(ADM_PRINT_DEBUG,"Duration: %lu (ms)\n",(son.read32()*1000)/_videoScale);
+                      son.skipBytes(8);
+                      son.skipBytes(4); // layers
+                      son.skipBytes(40); // layers
+  
+                      w=son.read32()>>16;
+                      h=son.read32()>>16;
+                      adm_printf(ADM_PRINT_DEBUG,"tkhd : %ld %ld\n",w,h);
+
+              }
+              break;
+        case ADM_MP4_MDIA:
+        {
+            parseMdia(&son,&trackType,w,h);
+            break;
+        }
+        case ADM_MP4_STBL:
+        {
+            parseMdia(&son,&trackType,w,h);
+            break;
+        }
+       default:
+          adm_printf(ADM_PRINT_DEBUG,"Unprocessed atom\n");
+     }
+     son.skipAtom();
+  }
+  return 1;
+}
+/**
+      \fn parseMdia
+      \brief Parse mdia header
+*/
+uint8_t MP4Header::parseMdia(void *ztom,uint32_t *trackType,uint32_t w, uint32_t h)
+{
+  adm_atom *tom=(adm_atom *)ztom;
+  ADMAtoms id;
+  uint32_t container;
+  uint32_t trackScale=_videoScale;
+  *trackType=TRACK_OTHER;
+  uint8_t r=0;
+  printf("<<Parsing Mdia>>\n");
+  while(!tom->isDone())
+  {
+     adm_atom son(tom);
+     if(!ADM_mp4SearchAtomName(son.getFCC(), &id,&container))
+     {
+       adm_printf(ADM_PRINT_DEBUG,"[MDIA]Found atom %s unknown\n",fourCC::tostringBE(son.getFCC()));
+       son.skipAtom();
+       continue;
+     }
+     switch(id)
+     {
+       case ADM_MP4_MDHD:  
+       {
+                uint32_t version=son.read(),duration;
+                son.skipBytes(3); // flags + version
+                son.skipBytes(4); // creation time
+                son.skipBytes(4); // mod time
+                if(version==1) son.skipBytes(8);
+                trackScale=son.read32(); //
+                adm_printf(ADM_PRINT_DEBUG,"MDHD,Trackscale in mdhd:%u\n",trackScale);
+                if(!trackScale) trackScale=600; // default
+                duration=son.read32();
+                adm_printf(ADM_PRINT_DEBUG,"MDHD,duration in mdhd:%u (unscaled)\n",duration);
+                duration=(uint32_t)((duration*1000.)/trackScale);
+                adm_printf(ADM_PRINT_DEBUG,"MDHD,duration in mdhd:%u (scaled ms)\n",duration);
+                printf("MDHD,Track duration :%s, trackScale :%u\n",ms2timedisplay(duration),trackScale);
+                break;
+       }
+       case ADM_MP4_HDLR:  
+       {
+            uint32_t type;
+            
+                son.read32();
+                son.read32();
+                type=son.read32();
+                printf("[HDLR]\n");
+                switch(type)
+                {	
+                case MKFCCR('v','i','d','e')://'vide':
+                        *trackType=TRACK_VIDEO;
+                        printf("hdlr video found \n ");
+                        break;
+                case MKFCCR('s','o','u','n'): //'soun':
+                        *trackType=TRACK_AUDIO;
+                        printf("hdlr audio found \n ");
+                        break;
+                case MKFCCR('u','r','l',' ')://'url ':
+                    {
+                        int s;
+                        son.read32();
+                        son.read32();
+                        son.read32();
+                        s=son.read();
+                        char str[s+1];
+                        son.readPayload((uint8_t *)str,s);
+                        str[s]=0;
+                        printf("Url : <%s>\n",str);
+                      }
+                      break;
+                 
+                }
+                break;
+       } 
+       case ADM_MP4_MINF:  
+       {
+            // We are only interested in stbl
+            
+            while(!son.isDone())
+            {
+              adm_atom grandson(&son);
+              if(!ADM_mp4SearchAtomName(grandson.getFCC(), &id,&container))
+              {
+                adm_printf(ADM_PRINT_DEBUG,"[MINF]Found atom %s unknown\n",fourCC::tostringBE(son.getFCC()));
+                grandson.skipAtom();
+                continue;
+              }
+              if(id==ADM_MP4_STBL)
+              {
+                   if(! parseStbl(&grandson,*trackType, w, h,trackScale))
+                   {
+                      printf("STBL failed\n");
+                      return 0; 
+                   }
+                   r=1;
+              }
+              grandson.skipAtom();
+        }
+       }
+       break;
+        default:
+            adm_printf(ADM_PRINT_DEBUG,"** atom  NOT HANDLED [%s] \n",fourCC::tostringBE(son.getFCC()));
+     }
+     
+     son.skipAtom();
+  }
+  return r;
+}
+
+/**
+        \fn parseStbl
+        \brief parse sample table. this is the most important function.
+*/
+uint8_t       MP4Header::parseStbl(void *ztom,uint32_t trackType,uint32_t w,uint32_t h,uint32_t trackScale)
+{
+  adm_atom *tom=(adm_atom *)ztom;
+  ADMAtoms id;
+  uint32_t container;
+  MPsampleinfo  info;
+  
+  
+  memset(&info,0,sizeof(info));
+
+  
+  printf("<<Parsing Stbl>>\n");
+  while(!tom->isDone())
+  {
+     adm_atom son(tom);
+     if(!ADM_mp4SearchAtomName(son.getFCC(), &id,&container))
+     {
+       adm_printf(ADM_PRINT_DEBUG,"[STBL]Found atom %s unknown\n",fourCC::tostringBE(son.getFCC()));
+       son.skipAtom();
+       continue;
+     }
+     switch(id)
+     {
+       case ADM_MP4_STSS:  // Sync sample atom (i.e. keyframes)
+       {
+          son.read32();
+          info.nbSync=son.read32();
+          printf("Stss:%u\n",info.nbSync);
+          if(info.nbSync)
+          {
+                  info.Sync=new uint32_t[info.nbSync];
+                  for(int i=0;i<info.nbSync;i++)
+                  {
+                          info.Sync[i]=son.read32();
+                  }
+          }
+          break;
+         
+       }
+       case ADM_MP4_STTS: 
+            {
+                printf("stts:%lu\n",son.read32()); // version & flags
+                info.nbStts=son.read32();
+                printf("Time stts atom found (%lu)\n",info.nbStts);
+                printf("Using myscale %lu\n",trackScale);
+                info.SttsN=new uint32_t[info.nbStts];
+                info.SttsC=new uint32_t[info.nbStts];
+                double dur;
+                for(int i=0;i<info.nbStts;i++)
+                {
+                        
+                        info.SttsN[i]=son.read32();
+                        info.SttsC[i]=son.read32();
+                        adm_printf(ADM_PRINT_VERY_VERBOSE,"stts: count:%u size:%u (unscaled)\n",info.SttsN[i],info.SttsC[i]);	
+                        //dur*=1000.*1000.;; // us
+                        //dur/=myScale;
+                }                
+            }
+            break;
+       case ADM_MP4_STSC:
+            {
+                son.read32();
+                info.nbSc=son.read32();
+                info.Sc=new uint32_t[info.nbSc];
+                info.Sn=new uint32_t[info.nbSc];
+                for(int j=0;j<info.nbSc;j++)
+                {
+
+                        info.Sc[j]=son.read32();
+                        info.Sn[j]=son.read32();
+                        son.read32();
+                        adm_printf(ADM_PRINT_VERY_VERBOSE,"\t sc  %d : sc start:%lu sc count: %lu\n",j,info.Sc[j],info.Sn[j]);
+                }
+
+            }
+            break;
+       case ADM_MP4_STSZ:
+          {
+            uint32_t n;
+              son.read32();
+              n=son.read32();
+              info.nbSz=son.read32();
+              info.SzIndentical=0;
+              printf("%lu frames /%lu nbsz..\n",n,info.nbSz);
+              if(n)
+                      {
+                            adm_printf(ADM_PRINT_VERY_VERBOSE,"\t\t%lu frames of the same size %lu , n=%lu\n",
+                                info.nbSz,info.SzIndentical,n);
+                            info.SzIndentical=n;
+                            info.Sz=NULL;
+                      }
+              else
+              {
+                      info.Sz=new uint32_t[info.nbSz];
+                      for(int j=0;j<info.nbSz;j++)
+                      {
+                                      info.Sz[j]=son.read32();
+                      }
+              }
+          }
+          break;
+       case ADM_MP4_STCO:
+       {
+          son.read32();
+          info.nbCo=son.read32();
+          printf("\t\tnbCo:%u\n",info.nbCo);
+          info.Co=new uint32_t[info.nbCo];
+          for(int j=0;j< info.nbCo;j++)
+          {
+                  info.Co[j]=son.read32();
+                  adm_printf(ADM_PRINT_VERY_VERBOSE,"Chunk offset : %lu / %lu  : %lu\n",  j,info.nbCo,info.Co[j]);
+          }
+
+       }
+       break;
+       case ADM_MP4_STSD:
+       {
+                son.read32(); // flags & version
+                int nbEntries=son.read32();
+                int left;
+                adm_printf(ADM_PRINT_DEBUG,"[STSD]Found %d entries\n",nbEntries);
+                for(int i=0;i<nbEntries;i++)
+                {
+                   int entrySize=son.read32();
+                   int entryName=son.read32();
+                   left=entrySize-8;
+                   if(i || (trackType==TRACK_VIDEO && _videoFound) || (trackType==TRACK_OTHER))
+                   {
+                    son.skipBytes(left); 
+                    printf("[STSD] ignoring %s, size %u\n",fourCC::tostringBE(entryName),entrySize);
+                    continue;
+                   }
+                   switch(trackType)
+                   {
+                     case TRACK_VIDEO:
+                     {
+                          uint32_t lw=0,lh=0;
+                                printf("[STSD] VIDEO %s, size %u\n",fourCC::tostringBE(entryName),entrySize);
+                                son.skipBytes(8);  // reserved etc..
+                                left-=8;
+                                son.read32(); // version/revision
+                                left-=4;
+                                printf("[STSD] vendor %s\n",fourCC::tostringBE(son.read32()));
+                                left-=4;
+                                
+                                son.skipBytes(8); // spatial qual etc..
+                                left-=8;
+                                
+                                printf("[STSD] width :%u\n",lw=son.read16());
+                                printf("[STSD] height :%u\n",lh=son.read16());
+                                left-=4;
+                                
+                                son.skipBytes(8); // Resolution
+                                left-=8;
+                                
+                                printf("[STSD] datasize :%u\n",son.read32());
+                                left-=4;
+                     
+                                printf("[STSD] FrameCount :%u\n",son.read16());
+                                left-=4;
+                                
+                                // Codec name
+                                uint32_t u32=son.read();
+                                if(u32>31) u32=31;
+                                printf("Codec string :%d <",u32);
+                                for(int i=0;i<u32;i++) printf("%c",son.read());
+                                printf(">\n");
+                                son.skipBytes(32-1-u32);
+                                left-=32;
+                                // 
+                                son.read32();
+                                left-=4; //Depth & color Id
+                                //
+                                printf("LEFT:%d\n",left);
+                                
+                                if(left>8)
+                                {
+//                                  decodeVideoAtom(&son); 
+                                }
+                                //
+#define commonPart(x)             _videostream.fccHandler=fourCC::get((uint8_t *)#x); 
+                      
+
+                                 _video_bih.biWidth=_mainaviheader.dwWidth=lw ; 
+                                  _video_bih.biHeight=_mainaviheader.dwHeight=lh; 
+                                  _video_bih.biCompression=_videostream.fccHandler;
+
+                                //
+                                switch(entryName)
+                                {
+                                  case MKFCCR('m','p','4','v'):  //mp4v
+                                  {
+                                        commonPart(DIVX);
+                                         adm_atom esds(&son);
+                                         printf("Reading esds, got %s\n",fourCC::tostringBE(esds.getFCC()));
+                                         if(esds.getFCC()==MKFCCR('e','s','d','s'))
+                                              decodeEsds(&esds,TRACK_VIDEO);
+                                          left=0;
+                                  }
+                                        break;
+                                  case MKFCCR('S','V','Q','3'):
+                                  {//'SVQ3':
+                                    // For SVQ3, the codec needs it to begin by SVQ3
+                                    // We go back by 4 bytes to get the 4CC
+                                            printf("SVQ3 atom found\n");
+                                            VDEO.extraDataSize=left+4;
+                                            VDEO.extraData=new uint8_t[ VDEO.extraDataSize ];
+                                            if(!son.readPayload(VDEO.extraData+4,VDEO.extraDataSize-4 ))
+                                            {
+                                              GUI_Error_HIG(_("Problem reading SVQ3 headers"), NULL);
+                                            }
+                                            VDEO.extraData[0]='S';
+                                            VDEO.extraData[1]='V';
+                                            VDEO.extraData[2]='Q';
+                                            VDEO.extraData[3]='3';
+                                            printf("SVQ3 Header size : %lu",_videoExtraLen);
+                                            commonPart(SVQ3);
+                                            left=0;
+                                  }
+                                            break;
+                                  case MKFCCR('d','v','c','p'): //'dv':
+                                          commonPart(DVDS);
+                                          break;
+                                  case MKFCCR('h','2','6','3'): //'dv':
+                                          commonPart(H263);
+                                          break;
+                                  case MKFCCR('M','J','P','G'): //'jpeg':
+                                  case MKFCCR('j','p','e','g'): //'jpeg':
+                                  case MKFCCR('A','V','D','J'): //'jpeg':
+                                          commonPart(MJPG);
+                                          break;
+                                  case MKFCCR('a','v','c','1'): // avc1
+                                          {
+                                          commonPart(H264);
+                                          // There is a avcC atom just after
+                                          // configuration data for h264
+                                          adm_atom avcc(&son);
+                                          printf("Reading avcC, got %s\n",fourCC::tostringBE(avcc.getFCC()));
+                                          int len,offset;
+                                          VDEO.extraDataSize=avcc.getRemainingSize();
+                                          VDEO.extraData=new uint8_t [VDEO.extraDataSize];
+                                          avcc.readPayload(VDEO.extraData,VDEO.extraDataSize);
+                                          printf("avcC size:%d\n",VDEO.extraDataSize);
+                                    // Dump some info
+                                        #define MKD8(x) VDEO.extraData[x]
+                                        #define MKD16(x) ((MKD8(x)<<8)+MKD8(x+1))
+                                        #define MKD32(x) ((MKD16(x)<<16)+MKD16(x+2))
+
+                                            printf("avcC Revision             :%x\n", MKD8(0));
+                                            printf("avcC AVCProfileIndication :%x\n", MKD8(1));
+                                            printf("avcC profile_compatibility:%x\n", MKD8(2));
+                                            printf("avcC AVCLevelIndication   :%x\n", MKD8(3));
+        
+                                            printf("avcC lengthSizeMinusOne   :%x\n", MKD8(4));
+                                            printf("avcC NumSeq               :%x\n", MKD8(5));
+                                            len=MKD16(6);
+                                            printf("avcC sequenceParSetLen    :%x ",len );
+                                            offset=8;
+                                            mixDump(VDEO.extraData+offset,len);
+        
+                                            offset=8+len;
+                                            printf("\navcC numOfPictureParSets  :%x\n", MKD8(offset++));
+                                            len=MKD16(offset++);
+                                            printf("avcC Pic len              :%x\n",len);
+                                            mixDump(VDEO.extraData+offset,len);
+                                            left=0;
+                                            }
+                                            break;
+                                  default:
+                                            if(left>10)
+                                            {
+                                                adm_atom avcc(&son);
+                                                printf("Reading , got %s\n",fourCC::tostringBE(avcc.getFCC()));
+                                                
+                                            }
+                                            break;
+                                } // Entry name
+                     }
+                     break;
+                     case TRACK_AUDIO:
+                     {
+                        uint32_t channels,bpp,encoding,fq,packSize;
+                        
+                                // Put some defaults
+                                ADIO.encoding=1234;
+                                ADIO.frequency=44100;
+                                ADIO.byterate=128000>>3;
+                                ADIO.channels=2;
+                                ADIO.bitspersample=16;
+                        
+                                printf("[STSD] AUDIO %s, size %u\n",fourCC::tostringBE(entryName),entrySize);
+                                son.skipBytes(8);  // reserved etc..
+                                left-=8;
+                                
+                                int atomVersion=son.read16();  // version
+                                left-=2;
+                                printf("[STSD]Revision       :%d\n",atomVersion);
+                                son.skipBytes(2);  // revision
+                                left-=2;
+                                
+                                printf("[STSD]Vendor         : %s\n",fourCC::tostringBE(son.read32()));
+                                left-=4;
+                                
+                                ADIO.channels=channels=son.read16(); // Channel
+                                left-=2;
+                                printf("[STSD]Channels       :%d\n",ADIO.channels);
+                                ADIO.bitspersample=bpp=son.read16(); // version/revision
+                                left-=2;
+                                printf("[STSD]Bit per sample :%d\n",bpp);
+                                
+                                encoding=son.read16(); // version/revision
+                                left-=2;
+                                printf("[STSD]Encoding       :%d\n",encoding);
+
+                                packSize=son.read16(); // Packet Size
+                                left-=2;
+                                printf("[STSD]Packet size    :%d\n",encoding);
+                                
+                                printf("[STSD]Left           :%d\n",left);
+                                if(atomVersion<2)
+                                {
+                                        fq=ADIO.frequency=son.read16();
+                                        printf("Fq:%u\n",fq);
+                                        if(ADIO.frequency<6000) ADIO.frequency=48000;
+                                        printf("[STSD]Fq       :%d\n",ADIO.frequency); // Bps
+                                        son.skipBytes(2); // Fixed point
+                                        left-=4;
+                                }
+                                switch(atomVersion)
+                                {
+                                  case 0:break;
+                                  case 1:son.skipBytes(16);  // sample per frame etc..
+                                          left-=16;
+                                          break;
+                                  case 2:
+                                          ADIO.frequency=44100; // FIXME
+                                          son.skipBytes(16);
+                                          ADIO.channels=son.read32();
+                                          printf("Channels            :%d\n",ADIO.channels); // Channels
+                                          printf("Tak(7F000)          :%x\n",son.read32()); // Channels
+                                          printf("Bits  per channel   :%d\n",son.read32());  // Vendor
+                                          printf("Format specific     :%x\n",son.read32());  // Vendor
+                                          printf("Byte per audio packe:%x\n",son.read32());  // Vendor
+                                          printf("LPCM                :%x\n",son.read32());  // Vendor
+                                          left-=(5*4+4+16);
+                                          break;
+                                }
+                                printf("[STSD] chan:%u bpp:%u encoding:%u fq:%u (left %u)\n",channels,bpp,encoding,fq,left);
+#define audioCodec(x) ADIO.encoding=WAV_##x;
+                                switch(entryName)
+                                {
+                                    case MKFCCR('t','w','o','s'):
+                                            audioCodec(LPCM);
+                                            ADIO.byterate=ADIO.frequency*ADIO.bitspersample*ADIO.channels/8;
+                                            break;
+                                                
+                                    case MKFCCR('u','l','a','w'):
+                                            audioCodec(ULAW);
+                                            ADIO.byterate=ADIO.frequency;
+                                            break;
+                                    case MKFCCR('s','o','w','t'):
+                                            audioCodec(PCM);
+                                            ADIO.byterate=ADIO.frequency*ADIO.bitspersample*ADIO.channels/8;
+                                            break;
+                                    case MKFCCR('.','m','p','3'): //.mp3
+                                            audioCodec(MP3);
+                                            ADIO.byterate=128000>>3;
+                                            break;
+                                    case MKFCCR('r','a','w',' '):
+                                            audioCodec(8BITS_UNSIGNED);
+                                            ADIO.byterate=ADIO.frequency*ADIO.channels;
+                                            break;
+                                    case MKFCCR('m','p','4','a'):
+                                    {
+                                            audioCodec(AAC);
+                                            if(left>10)
+                                            {
+                                              adm_atom wave(&son);
+                                              printf("Reading wave, got %s\n",fourCC::tostringBE(wave.getFCC()));
+                                              if(MKFCCR('w','a','v','e')==wave.getFCC())
+                                              {
+                                                 // mp4a
+                                                 //   wave
+                                                 //     frma
+                                                 //     mp4a
+                                                 //     esds
+                                                 while(!wave.isDone())
+                                                 {
+                                                     adm_atom item(&wave);
+                                                     printf("parsing wave, got %s\n",fourCC::tostringBE(item.getFCC()));
+                                                     switch(item.getFCC())
+                                                     {
+                                                       case MKFCCR('f','r','m','a'):
+                                                          {
+                                                          uint32_t codecid=item.read32();
+                                                          printf("frma Codec Id :%s\n",fourCC::tostringBE(codecid));
+                                                          }
+                                                          break; 
+                                                        case MKFCCR('m','p','4','a'):
+                                                          break; 
+                                                        case MKFCCR('e','s','d','s'):
+                                                          {
+                                                               decodeEsds(&item,TRACK_AUDIO);
+                                                          goto foundit; // FIXME!!!
+                                                          }
+                                                          break;
+                                                       default:
+                                                         break;
+                                                     }
+
+                                                     item.skipAtom();
+                                                   
+                                                 }  // Wave iddone
+                                              }  // if ==wave
+                                              
+                                            } // if left > 10
+foundit: // HACK FIXME     
+                                            left=0;
+                                    }       
+                                            break; // mp4a
+                                  
+                                }
+                     }
+                          break;
+                     default:
+                          ADM_assert(0);
+                   }
+                   son.skipBytes(left); 
+                }
+       }
+              break;
+       default:
+          printf("[STBL]Skipping atom %s\n",fourCC::tostringBE(son.getFCC()));
+     }
+     son.skipAtom();
+  }
+  uint8_t r=0;
+  uint32_t nbo=0;
+  switch(trackType)
+  {
+    case TRACK_VIDEO:
+          if(_tracks[0].index)
+          {
+              printf("Already got a video track\n");
+              return 1;
+          }
+          r=indexify(&(_tracks[0]),trackScale,&info,0,&nbo);
+          _videostream.dwLength= _mainaviheader.dwTotalFrames=_tracks[0].nbIndex;
+          // if we have a sync atom ???
+          if(info.nbSync)
+          {
+            // Mark keyframes
+            for(int i=0;i<info.nbSync;i++)
+            {
+              int sync=info.Sync[i];
+              if(sync) sync--;
+              _tracks[0].index[sync].intra=AVI_KEY_FRAME;
+            }
+          }else
+          { // All frames are kf
+            for(int i=0;i<_tracks[0].nbIndex;i++)
+            {
+              _tracks[0].index[i].intra=AVI_KEY_FRAME;
+            }
+            
+          }
+           VDEO.index[0].intra=AVI_KEY_FRAME;
+          break;
+    case TRACK_AUDIO:
+          printf("Cur audio track :%u\n",nbAudioTrack);
+          if(info.SzIndentical ==1 && (ADIO.encoding==WAV_LPCM || ADIO.encoding==WAV_PCM ))
+            {
+              printf("Overriding size %lu -> %lu\n", info.SzIndentical,info.SzIndentical*2*ADIO.channels);
+              info.SzIndentical=info.SzIndentical*2*ADIO.channels;
+            }
+            r=indexify(&(_tracks[1+nbAudioTrack]),trackScale,&info,1,&nbo);
+            printf("Indexed audio, nb blocks:%u\n",nbo);
+            if(r)
+            {
+                nbo=_tracks[1+nbAudioTrack].nbIndex;
+                if(nbo)
+                    _tracks[1+nbAudioTrack].nbIndex=nbo;
+                else
+                    _tracks[1+nbAudioTrack].nbIndex=info.nbSz;
+                printf("Indexed audio, nb blocks:%u (final)\n",_tracks[1+nbAudioTrack].nbIndex);
+                nbAudioTrack++;
+            }
+            
+            break;
+    case TRACK_OTHER:
+        r=1;
+        break;
+  }
+  return r;
+}
+/**
+        \fn indexify
+        \brief build the index from the stxx atoms
+*/
+uint8_t	MP4Header::indexify(
+                          MP4Track *track,   
+                          uint32_t trackScale,
+                         MPsampleinfo *info,
+                         uint32_t isAudio,
+                         uint32_t *outNbChunk)
+
+{
+
+uint32_t i,j,cur;
+
+        printf("Build Track index\n");
+	*outNbChunk=0;
+	aprintf("+_+_+_+_+_+\n");
+	aprintf("co : %lu sz: %lu sc: %lu co[0]%lu \n",info->nbCo,info->nbSz,info->nbSc,info->Co[0]);
+	aprintf("+_+_+_+_+_+\n");
+
+	ADM_assert(info->Sc);
+	ADM_assert(info->Sn);
+	ADM_assert(info->Co);
+	if(!info->SzIndentical)
+        {
+          ADM_assert(info->Sz);
+        }
+	// first set size
+	if(info->SzIndentical && isAudio)// in that case they are all the same size, i.e.audio
+	{
+          
+          
+          uint32_t totalBytes=info->SzIndentical*info->nbSz;
+          printf("All the same size : %u (total size %u bytes)\n",info->SzIndentical,totalBytes);
+              //
+              // Each chunk contains N samples=N bytes
+              int samplePerChunk[info->nbCo];
+              memset(samplePerChunk,0,info->nbCo*sizeof(int));
+              for( i=0;i<info->nbSc;i++)
+              {
+                  for(int j=info->Sc[i]-1;j<info->nbCo;j++)
+                  {
+                        adm_printf(ADM_PRINT_VERY_VERBOSE,"For chunk %lu , %lu samples\n",j,info->Sn[i]);
+                        samplePerChunk[j]=info->Sn[i];
+                  }
+              }
+              int total=0;
+              for( i=0;i<info->nbCo;i++)
+              {
+                  adm_printf(ADM_PRINT_VERY_VERBOSE,"%u -> %u samples %u bytes\n",i,samplePerChunk[i],samplePerChunk[i]*info->SzIndentical);
+                  total+=samplePerChunk[i];
+              }
+              printf("Total size in byte : %u\n",total*info->SzIndentical);
+              track->index=new MP4Index[info->nbCo];
+              memset(track->index,0,info->nbCo*sizeof(MP4Index));
+              track->nbIndex=info->nbCo;;
+              int max=0;
+              totalBytes=0;
+              for(i=0;i<info->nbCo;i++)
+              {
+                  uint32_t sz;
+
+                  track->index[i].offset=info->Co[i];
+                  sz=samplePerChunk[i]*info->SzIndentical;
+                  track->index[i].size=sz;
+                  track->index[i].time=0; // No seek
+                  if(sz>MAX_CHUNK_SIZE)
+                  {
+                      max+=sz/MAX_CHUNK_SIZE;
+                  }
+                  
+                  totalBytes+=track->index[i].size;
+              }
+              // Now time to update the time...
+              // Normally they have all the same duration
+              if(info->nbStts!=1) printf("WARNING: Same size, different duration\n");
+
+              float sampleDuration,totalDuration=0;
+              
+                sampleDuration=info->SttsC[0];
+                sampleDuration*=1000.*1000.;
+                sampleDuration/=trackScale;    // Duration of one sample
+                for(i=0;i<info->nbCo;i++)
+                {
+                        track->index[i].time=(uint64_t)floor(totalDuration);
+                        totalDuration+=sampleDuration*samplePerChunk[i];
+                        adm_printf(ADM_PRINT_VERY_VERBOSE,"Audio chunk : %lu time :%lu\n",i,track->index[i].time);
+                }
+                if(max && isAudio) // We have some big chunks we need to split them
+                {
+                      // rebuild a new index
+                      printf("We have %u chunks that are too big, adjusting..\n",max);
+                      uint32_t newNbCo=track->nbIndex+max*2; // *2 is enough, should be.
+                      uint32_t w=0;
+                      uint32_t one_go;
+
+                        one_go=MAX_CHUNK_SIZE/info->SzIndentical;
+                        one_go=one_go*info->SzIndentical;
+
+                     MP4Index *newindex=new MP4Index[newNbCo];
+
+                    int64_t time_increment=(int64_t)((one_go/info->SzIndentical)*sampleDuration);  // Nb sample*duration of one sample
+                    for(i=0;i<track->nbIndex;i++)
+                    {
+                      uint32_t sz;
+                          sz=track->index[i].size;
+                          if(sz<MAX_CHUNK_SIZE)
+                          {
+                              memcpy(&(newindex[w]),&(track->index[i]),sizeof(MP4Index));
+                              w++;
+                              continue;
+                          }
+                          // We have to split it...
+                          int part=0;
+                          while(sz>one_go)
+                          {
+                                newindex[w].offset=track->index[i].offset+part*one_go;
+                                newindex[w].size=one_go;
+                                newindex[w].time=track->index[i].time+part*time_increment; 
+                                ADM_assert(w<newNbCo);
+                                w++;
+                                part++;
+                                sz-=one_go;
+                          }
+                          // The last one...
+                                newindex[w].offset=track->index[i].offset+part*one_go;
+                                newindex[w].size=sz;
+                                newindex[w].time=track->index[i].time+part*time_increment+((time_increment*sz)/one_go); 
+                                w++;
+                    }
+                    delete [] track->index;
+                    track->index=newindex;
+                    track->nbIndex=w;
+                }
+          printf("Index done\n");
+          return 1;
+      }
+          // Else we build an index per sample
+          //
+	
+		
+	// We have different packet size
+	// Probably video
+        track->index=new MP4Index[info->nbSz];
+        memset(track->index,0,info->nbSz*sizeof(MP4Index));
+
+        if(info->SzIndentical) // Video, all same size (DV ?)
+        {
+            adm_printf(ADM_PRINT_VERY_VERBOSE,"\t size for all %lu frames : %lu\n",info->nbSz,info->SzIndentical);
+            for(i=0;i<info->nbSz;i++)
+            {
+                    track->index[i].size=info->SzIndentical;
+                    
+            }
+          }
+          else // Different size
+          {
+            for(i=0;i<info->nbSz;i++)
+            {
+                    track->index[i].size=info->Sz[i];
+                    adm_printf(ADM_PRINT_VERY_VERBOSE,"\t size : %d : %lu\n",i,info->Sz[i]);
+            }
+          }
+	// if no sample to chunk we map directly
+	// first build the # of sample per chunk table
+        uint32_t totalchunk=0,max=0;
+
+        // Search the maximum
+        for(i=0;i<info->nbSc-1;i++)
+        {
+                totalchunk+=(info->Sc[i+1]-info->Sc[i])*info->Sn[i];
+        }
+        totalchunk+=(info->nbCo-info->Sc[info->nbSc-1]+1)*info->Sn[info->nbSc-1];
+
+        adm_printf(ADM_PRINT_VERY_VERBOSE,"#of chunk %d max per chunk %d Max # of sample %d\n",info->nbCo,max,totalchunk);
+
+        uint32_t chunkCount[totalchunk+1];
+	for(i=0;i<info->nbSc;i++)
+	{
+		for(j=info->Sc[i]-1;j<info->nbCo;j++)
+		{
+			chunkCount[j]=info->Sn[i];
+                        ADM_assert(j<=totalchunk);
+		}
+		adm_printf(ADM_PRINT_VERY_VERBOSE,"(%d) sc: %lu sn:%lu\n",i,info->Sc[i],info->Sn[i]);
+	}
+/*			for(j=0;j<nbSc;j++)
+			{
+				aprintf("\n count number : %d - %lu\n",j,Sn[j]);
+			}*/
+	// now we have for each chunk the number of sample in it
+	cur=0;
+	for(j=0;j<info->nbCo;j++)
+	{
+		int tail=0;
+		adm_printf(ADM_PRINT_VERY_VERBOSE,"--starting at %lu , %lu to go\n",info->Co[j],chunkCount[j]);
+		for(uint32_t k=0;k<chunkCount[j];k++)
+		{
+                        track->index[cur].offset=info->Co[j]+tail;
+                        tail+=track->index[cur].size;
+                        adm_printf(ADM_PRINT_VERY_VERBOSE," sample : %d offset : %lu\n",cur,track->index[cur].offset);
+			adm_printf(ADM_PRINT_VERY_VERBOSE,"Tail : %lu\n",tail);
+			cur++;
+		}
+
+
+	}
+        
+        
+        track->nbIndex=cur;;
+	
+	
+	// Now deal with duration
+	// the unit is us FIXME, probably said in header
+	// we put each sample duration in the time entry
+	// then sum them up to get the absolute time position
+
+        uint32_t nbChunk=track->nbIndex;
+	if(info->nbStts)		//uint32_t nbStts,	uint32_t *SttsN,uint32_t SttsC,
+	{
+		uint32_t start=0;
+		if(info->nbStts>1)
+		{
+			for(uint32_t i=0;i<info->nbStts;i++)
+			{
+				for(uint32_t j=0;j<info->SttsN[i];j++)
+				{
+                                        track->index[start].time=(uint64_t)info->SttsC[i];
+					start++;
+					ADM_assert(start<=nbChunk);
+				}	
+			}
+		}
+		else
+		{
+			// All same duration
+			for(uint32_t i=0;i<nbChunk;i++)
+                                track->index[i].time=(uint64_t)info->SttsC[0]; // this is not an error!
+		
+		}
+		// now collapse
+		uint64_t total=0;
+		float    ftot;
+		uint32_t thisone;
+		
+		for(uint32_t i=0;i<nbChunk;i++)
+		{
+                        thisone=track->index[i].time;
+			ftot=total;
+			ftot*=1000.*1000.;
+			ftot/=trackScale;
+                        track->index[i].time=(uint64_t)floor(ftot);
+			total+=thisone;
+                        adm_printf(ADM_PRINT_VERY_VERBOSE,"Audio chunk : %lu time :%lu\n",i,track->index[i].time);
+		}
+		// Time is now built, it is in us
+	
+	
+	}
+	else // there is not ssts
+	{
+          GUI_Error_HIG(_("No stts table"), NULL);
+		ADM_assert(0);	
+	}
+        printf("Index done\n");
+	return 1;
+}
+/**
+      \fn decodeEsds
+      \brief Decode esds atom
+*/
+uint8_t MP4Header::decodeEsds(void *ztom,uint32_t trackType)
+{
+adm_atom *tom=(adm_atom *)ztom; 
+int tag,l;
+            // in case of mpeg4 we only take
+            // the mpeg4 vol header
+            printf("Esds atom found\n");
+
+            tom->skipBytes(4);
+            tag=0xff;
+            while(tag!=Tag_DecSpecificInfo && !tom->isDone())
+            {
+                    tag=tom->read();
+                    l=readPackedLen(tom);
+                    printf("\t Tag : %u Len : %u\n",tag,l);
+                    switch(tag)
+                    {
+                            case Tag_ES_Desc:
+                                    printf("\t ES_Desc\n");
+                                    tom->skipBytes(3);
+                                    break;
+                            case Tag_DecConfigDesc:
+                            {
+                                    uint8_t objectTypeIndication=tom->read();
+                                    printf("\tDecConfigDesc : Tag %u\n",objectTypeIndication);
+                                    if(trackType==TRACK_AUDIO && ADIO.encoding==WAV_AAC)
+                                    {
+                                      switch(objectTypeIndication)
+                                      {
+                                          case 0x69:ADIO.encoding=WAV_MP3;break;
+                                          case 0x6b:ADIO.encoding=WAV_MP3;break;
+                                          case 0x6d:ADIO.encoding=WAV_MP3;break;
+                                          case 226:ADIO.encoding=WAV_AC3;break;
+                                          break;
+                                  
+                                      }
+                                    }
+                                    tom->skipBytes(1+3+4+4);	
+                                    break;
+                            }
+                            case Tag_DecSpecificInfo:
+                                    printf("\t DecSpecicInfo\n");
+                                    switch(trackType)
+                                    {
+                                        case TRACK_VIDEO: // Video
+                                            if(!VDEO.extraDataSize)
+                                            {
+                                                    VDEO.extraDataSize=l;
+                                                    VDEO.extraData=new uint8_t[l];
+                                                    fread(VDEO.extraData,VDEO.extraDataSize,1,_fd);
+                                            }
+                                            break;
+                                        case TRACK_AUDIO:
+                                            printf("Esds for audio\n");
+                                            _tracks[1+nbAudioTrack].extraDataSize=l;
+                                            _tracks[1+nbAudioTrack].extraData=new uint8_t[l];
+                                            fread(_tracks[1+nbAudioTrack].extraData,
+                                                _tracks[1+nbAudioTrack].extraDataSize,1,_fd);
+                                            break;
+                                        default: printf("Unknown track type for esds %d\n",trackType);
+                                    }
+                            }
+            }
+            
+    tom->skipAtom();
+    return 1;
+}
+//***********************************
+MPsampleinfo::MPsampleinfo(void)
+{
+  memset(this,0,sizeof( MPsampleinfo));
+}
+MPsampleinfo::~MPsampleinfo()
+{
+#define MPCLEAR(x) {if(x) delete [] x;x=NULL;}
+      MPCLEAR (Co);
+      MPCLEAR (Sz);
+      MPCLEAR (Sc);
+      MPCLEAR (Sn);
+      MPCLEAR (SttsN);
+      MPCLEAR (SttsC);
+      MPCLEAR (Sync);
+}
+
+// EOF

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Leaf.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Leaf.h	2007-05-04 16:09:15 UTC (rev 3018)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Leaf.h	2007-05-05 18:36:42 UTC (rev 3019)
@@ -0,0 +1,55 @@
+/*
+http://developer.apple.com/documentation/QuickTime/QTFF/QTFFChap2/chapter_3_section_5.html#//apple_ref/doc/uid/DontLinkBookID_69-CH204-BBCJEIIA
+*/
+
+#if !defined(ADM_MPEGLEAF_H) || defined(ADMMP4_TAB_LEAF)
+
+#ifndef ADM_MPEGLEAF_H
+#define ADM_MPEGLEAF_H
+#endif
+
+#ifndef ADMMP4_TAB_LEAF
+#define MKMP4LEAF(a,b,c) ADM_MP4_##b
+#else
+#define MKMP4LEAF(a,b,c) {a,ADM_MP4_##b,c}
+#endif
+
+/* Container atom */
+MKMP4LEAF('moov',MOOV,1),
+MKMP4LEAF('trak',TRACK,1),
+MKMP4LEAF('mdia',MDIA,1),
+MKMP4LEAF('minf',MINF,1),
+MKMP4LEAF('dinf',DINF,1),
+MKMP4LEAF('stbl',STBL,1),
+
+/* Regular atoms (header) */
+
+MKMP4LEAF('mvhd',MVHD,0),
+MKMP4LEAF('tkhd',TKHD,0),
+MKMP4LEAF('mdhd',MDHD,0),
+MKMP4LEAF('hdlr',HDLR,0),
+
+/*   stbl atom            */
+MKMP4LEAF('stsd',STSD,0),
+MKMP4LEAF('stts',STTS,0),
+MKMP4LEAF('stsc',STSC,0),
+MKMP4LEAF('stsz',STSZ,0),
+MKMP4LEAF('stco',STCO,0),
+MKMP4LEAF('stsh',STSH,0),
+MKMP4LEAF('stss',STSS,0),
+
+
+
+
+MKMP4LEAF('ctts',CTTS,0),
+
+/* Data */
+MKMP4LEAF('mdat',MDAT,0),
+
+
+
+MKMP4LEAF('dumm',DUMMY,0)
+    
+#endif
+
+//EOF

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Tree.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Tree.h	2007-05-04 16:09:15 UTC (rev 3018)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Tree.h	2007-05-05 18:36:42 UTC (rev 3019)
@@ -0,0 +1,27 @@
+/***************************************************************************
+                          ADM_mp4Tree.h  -  description
+                             -------------------
+    begin                : Mon Jun 3 2002
+    copyright            : (C) 2002 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#ifndef ADM_MP4_TREE_H
+#define ADM_MP4_TREE_H
+
+typedef enum ADMAtoms
+{
+#include "ADM_mp4Leaf.h"
+};
+
+uint8_t ADM_mp4SearchAtomName(uint32_t atom, ADMAtoms *atomId,uint32_t *isContainer);
+uint8_t ADM_mp4SimpleSearchAtom(adm_atom *rootAtom, ADMAtoms atomToFind,adm_atom **atomFound);
+#endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp	2007-05-04 16:09:15 UTC (rev 3018)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp	2007-05-05 18:36:42 UTC (rev 3019)
@@ -33,14 +33,14 @@
 #include "default.h"
 #include "ADM_editor/ADM_Video.h"
 #include "fourcc.h"
-#include "ADM_3gp/ADM_3gp.h"
+#include "ADM_mp4/ADM_mp4.h"
 //_______________________________________________________
 //
 //
 //_______________________________________________________
 
-// _3gpAudio::_3gpAudio(_3gpIndex *idx, uint32_t nbchunk, FILE * fd,WAVHeader *incoming,uint32_t extraLen,uint8_t *extraData,uint32_t duration)
-_3gpAudio::_3gpAudio(FILE *fd,_3gpTrack *track)
+// MP4Audio::MP4Audio(_3gpIndex *idx, uint32_t nbchunk, FILE * fd,WAVHeader *incoming,uint32_t extraLen,uint8_t *extraData,uint32_t duration)
+MP4Audio::MP4Audio(FILE *fd,MP4Track *track)
 {
 	_nb_chunks=track->nbIndex;
 	_fd=fd;
@@ -77,7 +77,7 @@
        // _wavheader->frequency=48000;
     	goToTime(0);
 }
- uint8_t	_3gpAudio::goToTime(uint32_t mstime)
+ uint8_t	MP4Audio::goToTime(uint32_t mstime)
 {
 uint64_t target=mstime;
 		target*=1000; // us
@@ -105,13 +105,13 @@
 //
 //
 //_______________________________________________________
-uint8_t _3gpAudio::goTo(uint32_t newoffset)
+uint8_t MP4Audio::goTo(uint32_t newoffset)
 {
    ADM_assert(0);
     return 1;
 }
 //______________________________________
-uint8_t _3gpAudio::getPacket(uint8_t *dest, uint32_t *len, uint32_t *samples)
+uint8_t MP4Audio::getPacket(uint8_t *dest, uint32_t *len, uint32_t *samples)
 {
 
 uint32_t r=0;
@@ -161,7 +161,7 @@
 //
 //_______________________________________________________
 
-uint8_t	_3gpAudio::extraData(uint32_t *l,uint8_t **d)
+uint8_t	MP4Audio::extraData(uint32_t *l,uint8_t **d)
 {
 	if(_extraLen && _extraData)
 	{
@@ -179,7 +179,7 @@
 //
 //
 //_______________________________________________________
-uint32_t _3gpAudio::read(uint32_t len,uint8_t *buffer)
+uint32_t MP4Audio::read(uint32_t len,uint8_t *buffer)
 {
     uint32_t size,samples;
     if(!getPacket(buffer,&size,&samples)) return 0;
@@ -193,14 +193,14 @@
 //_______________________________________________________
 
 
-_3gpAudio::~_3gpAudio()
+MP4Audio::~MP4Audio()
 {
 	// nothing special to do...
 	delete _wavheader;
 	_wavheader=NULL;
 }
 //_______________________________________________________
-uint8_t _3gpAudio::getNbChunk(uint32_t *ch)
+uint8_t MP4Audio::getNbChunk(uint32_t *ch)
 {
 	*ch=_nb_chunks;
 	return 1;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/Makefile.am	2007-05-04 16:09:15 UTC (rev 3018)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/Makefile.am	2007-05-05 18:36:42 UTC (rev 3019)
@@ -1,11 +1,12 @@
-noinst_LIBRARIES = libADM_3gp.a
+noinst_LIBRARIES = libADM_mp4.a
 
 INCLUDES = $(all_includes)  -I../../ADM_libraries -I../../ADM_libraries/ADM_utilities   -I../../ADM_libraries/ADM_lavutil
 
-libADM_3gph263_a_METASOURCES = AUTO
 
-libADM_3gp_a_SOURCES = ADM_3gp.cpp ADM_3gpAudio.cpp ADM_atom.cpp ADM_3gp.h ADM_atom.h ADM_infoextractor.cpp
+libADM_mp4_a_SOURCES = ADM_mp4.cpp ADM_mp4audio.cpp ADM_atom.cpp ADM_mp4.h ADM_atom.h ADM_infoextractor.cpp \
+			ADM_mp4Analyzer.cpp ADM_mp4Leaf.cpp
 
-EXTRA_DIST= ADM_3gp.cpp  ADM_3gp.h  ADM_3gpAudio.cpp  ADM_atom.cpp  ADM_atom.h  ADM_infoextractor.cpp
 
+EXTRA_DIST= 
 
+



From mean at mail.berlios.de  Sat May  5 20:37:13 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 5 May 2007 20:37:13 +0200
Subject: [Avidemux-svn-commit] r3020 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4
Message-ID: <200705051837.l45IbDSQ000993@sheep.berlios.de>

Author: mean
Date: 2007-05-05 20:37:13 +0200 (Sat, 05 May 2007)
New Revision: 3020

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Leaf.cpp
Log:
mostly working new mp4 demuxer

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Leaf.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Leaf.cpp	2007-05-05 18:36:42 UTC (rev 3019)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Leaf.cpp	2007-05-05 18:37:13 UTC (rev 3020)
@@ -0,0 +1,116 @@
+/***************************************************************************
+                          ADM_mp4Tree.h  -  description
+                             -------------------
+    begin                : Mon Jun 3 2002
+    copyright            : (C) 2002 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include "config.h"
+
+#include <stdio.h>
+#include <stdlib.h>
+
+#include <string.h>
+
+#include "math.h"
+
+#include <ADM_assert.h>
+#include "default.h"
+#include "fourcc.h"
+#include "ADM_atom.h"
+#include "ADM_mp4Tree.h"
+
+#include "ADM_osSupport/ADM_debugID.h"
+#define MODULE_NAME MODULE_3GP
+#include "ADM_osSupport/ADM_debug.h"
+
+typedef struct ADMAtomDesc
+{
+    uint32_t  atom;
+    ADMAtoms  atomId;
+    uint32_t  isContainerAtom;
+}ADMAtomDesc;
+
+#define ADMMP4_TAB_LEAF
+
+ADMAtomDesc allAtoms[]=
+{
+#include "ADM_mp4Leaf.h"
+};
+/**
+      \fn     ADM_mp4SearchAtomName
+      \brief  Search the atom to know if it is a container one. Additionnaly give its enum id
+*/
+uint8_t ADM_mp4SearchAtomName(uint32_t atom, ADMAtoms *atomId,uint32_t *isContainer)
+{
+  int nb=sizeof(allAtoms)/sizeof(ADMAtomDesc);
+  
+#if 1//def ADM_BIG_ENDIAN
+  uint32_t swAtom= atom;
+#else
+  uint8_t *ptr=(uint8_t *)&atom;
+  uint32_t swAtom= (ptr[0]<<24)+(ptr[1]<<16)+      (ptr[2]<<8)+(ptr[3]);
+#endif
+  
+  ADMAtomDesc *tom=allAtoms;
+  for(int i=0;i<nb;i++)
+  {
+     //printf("Searching ! %s %s %d/%d n",fourCC::tostringBE(atom),fourCC::tostringBE(swAtom),i,nb);
+     if(tom->atom==swAtom)
+     {
+        *atomId=tom->atomId;
+        *isContainer=tom->isContainerAtom;
+        return 1;
+      }
+    tom++;
+  }
+#if 0
+  printf("[MP4] Atom ");fourCC::print(swAtom);printf(":");fourCC::print(atom);
+  printf("not found in table\n");
+#endif
+  return 0;
+}
+/**
+      \fn     ADM_mp4SimpleSearchAtom
+      \brief  Search inside an atom to find another one
+*/
+uint8_t ADM_mp4SimpleSearchAtom(adm_atom *rootAtom, ADMAtoms atomToFind,adm_atom **atomFound)
+{
+  ADMAtoms curAtom;
+  uint32_t isContainer;
+  *atomFound=NULL;
+  
+  while(!rootAtom->isDone())
+  {
+      adm_atom son(rootAtom);
+      // lookup our atom
+       if(ADM_mp4SearchAtomName(son.getFCC(), &curAtom,&isContainer))
+       {
+         if(curAtom==atomToFind) // Got it, duplicate
+         {
+             *atomFound=new adm_atom(&son,1); // Duplicate atom
+             // adm_printf(ADM_PRINT_DEBUG,"Searching atom %s :found\n",fourCC::tostringBE(son.getFCC()));
+             return 1;
+         }
+         
+       }
+      
+      son.skipAtom();
+  }
+  adm_printf(ADM_PRINT_DEBUG,"Searching atom %s in atom %s:not found\n",
+              fourCC::tostringBE(atomToFind),fourCC::tostringBE(rootAtom->getFCC()));
+  
+  return 0;
+  
+}
+
+



From mean at mail.berlios.de  Sat May  5 22:15:30 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 5 May 2007 22:15:30 +0200
Subject: [Avidemux-svn-commit] r3021 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4
Message-ID: <200705052015.l45KFUGE010066@sheep.berlios.de>

Author: mean
Date: 2007-05-05 22:15:28 +0200 (Sat, 05 May 2007)
New Revision: 3021

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
Log:
compute average fps

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp	2007-05-05 18:37:13 UTC (rev 3020)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp	2007-05-05 20:15:28 UTC (rev 3021)
@@ -219,8 +219,10 @@
         CLR( _videostream);
         CLR(  _mainaviheader);
 
+        _videostream.dwScale=1000;
+        _videostream.dwRate=10000;
+        _mainaviheader.dwMicroSecPerFrame=100000;;     // 10 fps hard coded
         
-        
         adm_atom *atom=new adm_atom(_fd);
         if(!lookupMainAtoms((void*) atom))
         {
@@ -232,9 +234,7 @@
         
 	      _isvideopresent=1;
 	      _isaudiopresent=0;
-    	      _videostream.dwScale=1000;
-              _videostream.dwRate=10000;
-              _mainaviheader.dwMicroSecPerFrame=100000;;     // 10 fps hard coded
+    	     
               _videostream.fccType=fourCC::get((uint8_t *)"vids");
               _video_bih.biBitCount=24;
               _videostream.dwInitialFrames= 0;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-05 18:37:13 UTC (rev 3020)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-05 20:15:28 UTC (rev 3021)
@@ -44,7 +44,7 @@
 #define TRACK_VIDEO 2
 
 #define MAX_CHUNK_SIZE (3*1024)
-
+uint32_t ADM_UsecFromFps1000(uint32_t fps1000);
 // 14496-1 / 8.2.1
 typedef enum MP4_Tag
 {
@@ -196,6 +196,7 @@
   ADMAtoms id;
   uint32_t container;
   uint32_t trackScale=_videoScale;
+  uint32_t trackDuration;
   *trackType=TRACK_OTHER;
   uint8_t r=0;
   printf("<<Parsing Mdia>>\n");
@@ -224,6 +225,7 @@
                 adm_printf(ADM_PRINT_DEBUG,"MDHD,duration in mdhd:%u (unscaled)\n",duration);
                 duration=(uint32_t)((duration*1000.)/trackScale);
                 adm_printf(ADM_PRINT_DEBUG,"MDHD,duration in mdhd:%u (scaled ms)\n",duration);
+                trackDuration=duration;
                 printf("MDHD,Track duration :%s, trackScale :%u\n",ms2timedisplay(duration),trackScale);
                 break;
        }
@@ -240,6 +242,7 @@
                 case MKFCCR('v','i','d','e')://'vide':
                         *trackType=TRACK_VIDEO;
                         printf("hdlr video found \n ");
+                        _movieDuration=trackDuration;
                         break;
                 case MKFCCR('s','o','u','n'): //'soun':
                         *trackType=TRACK_AUDIO;
@@ -742,13 +745,21 @@
   switch(trackType)
   {
     case TRACK_VIDEO:
+        {
           if(_tracks[0].index)
           {
               printf("Already got a video track\n");
               return 1;
           }
           r=indexify(&(_tracks[0]),trackScale,&info,0,&nbo);
+          
           _videostream.dwLength= _mainaviheader.dwTotalFrames=_tracks[0].nbIndex;
+          // update fps
+          float f=_videostream.dwLength;
+          if(_movieDuration) f=1000000.*f/_movieDuration;
+              else  f=25000;
+          _videostream.dwRate=(uint32_t)floor(f);
+           _mainaviheader.dwMicroSecPerFrame=ADM_UsecFromFps1000(_videostream.dwRate);
           // if we have a sync atom ???
           if(info.nbSync)
           {
@@ -768,6 +779,7 @@
             
           }
            VDEO.index[0].intra=AVI_KEY_FRAME;
+        }
           break;
     case TRACK_AUDIO:
           printf("Cur audio track :%u\n",nbAudioTrack);



From mean at mail.berlios.de  Sat May  5 22:52:32 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 5 May 2007 22:52:32 +0200
Subject: [Avidemux-svn-commit] r3023 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4
Message-ID: <200705052052.l45KqWsi013491@sheep.berlios.de>

Author: mean
Date: 2007-05-05 22:52:31 +0200 (Sat, 05 May 2007)
New Revision: 3023

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/Makefile.am
Log:
handle ctts, needed for copy

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp	2007-05-05 20:43:23 UTC (rev 3022)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp	2007-05-05 20:52:31 UTC (rev 3023)
@@ -252,7 +252,7 @@
         // If it is mpeg4 and we have extra data
         // Decode vol header to get the real width/height
         // The mpeg4/3GP/Mov header is often misleading
-#if 0
+
         if(fourCC::check(_videostream.fccHandler,(uint8_t *)"DIVX"))
         {
             if(VDEO.extraDataSize)
@@ -300,10 +300,7 @@
                         delete [] bfer;
                 }
             }
-
-        
         }
-#endif
         /*
                 Now build audio tracks
         */
@@ -314,55 +311,6 @@
             
         }
         fseek(_fd,0,SEEK_SET);
-#if 0
-        /* Do we have a ctts atom ? if so it contains B frame and we can guesstimate them */
-        if(Ctts)
-        {
-            uint32_t scope=nbCtts;
-            if(scope>_videostream.dwLength) scope=_videostream.dwLength;
-            
-            // Search floor value
-            uint32_t  flor=0xFFFFFFFF;
-            uint32_t  cel=0;
-            for(uint32_t i=0;i<scope;i++)
-            {
-              if(Ctts[i]>4294967290) 
-              {
-                if(i)
-                  Ctts[i]=Ctts[0];
-                else
-                  Ctts[i]=Ctts[1];
-              }
-              if(Ctts[i] >cel) cel=Ctts[i];
-              if(Ctts[i]<flor) flor=Ctts[i];
-            }
-            printf("[3GP] Ctts min %u max %u\n",flor,cel);
-            for(uint32_t i=0;i<scope;i++)
-            {
-              int floops=Ctts[i]-flor;
-               float f=floops;
-               aprintf("Frame %u ctts %u scale:%u\n",i,floops,_videoScale);
-                uint32_t delta;
-                f*=_videostream.dwRate;
-                f/=1000. ;; // in frame
-                f/=_videoScale;
-                floops=1+(uint32_t)floor(f+0.49);
-                aprintf(">Frame :%u delta=%d\n",i,floops);
-              if(floops<0)
-              {
-                printf("[3GPP] CTTS negative for frame %u : %d\n",i,floops); 
-                floops=0;
-              }
-              _tracks[0].index[i].deltaPtsDts=floops;
-                
-            }
-            
-            
-        }
-        _tracks[0].index[0].intra=AVI_KEY_FRAME;
-        // Update usec per frame
-#endif
-        _mainaviheader.dwMicroSecPerFrame=ADM_UsecFromFps1000( _videostream.dwRate);;;   
         printf("3gp/mov file successfully read..\n");
         return 1;
 }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.h	2007-05-05 20:43:23 UTC (rev 3022)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.h	2007-05-05 20:52:31 UTC (rev 3023)
@@ -36,6 +36,7 @@
       uint32_t nbSc;
       uint32_t nbStts;
       uint32_t nbSync;
+      uint32_t nbCtts;
       
       uint32_t *Co;
       uint32_t *Sz;
@@ -44,6 +45,7 @@
       uint32_t *SttsN;
       uint32_t *SttsC;
       uint32_t *Sync; 
+      uint32_t *Ctts;
   
       MPsampleinfo(void);
       ~MPsampleinfo(void);
@@ -121,6 +123,7 @@
           uint8_t                       parseMdia(void *ztom,uint32_t *trackType,uint32_t w, uint32_t h);
           uint8_t                       parseStbl(void *ztom,uint32_t trackType,uint32_t w,uint32_t h,uint32_t trackScale);
           uint8_t                       decodeEsds(void *ztom,uint32_t trackType);
+          uint8_t                       updateCtts(MPsampleinfo *info );
           uint32_t                      _videoScale;
           uint32_t                      _movieDuration; // in ms
           uint32_t                      _videoFound;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-05 20:43:23 UTC (rev 3022)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-05 20:52:31 UTC (rev 3023)
@@ -43,7 +43,6 @@
 #define TRACK_AUDIO 1
 #define TRACK_VIDEO 2
 
-#define MAX_CHUNK_SIZE (3*1024)
 uint32_t ADM_UsecFromFps1000(uint32_t fps1000);
 // 14496-1 / 8.2.1
 typedef enum MP4_Tag
@@ -243,6 +242,7 @@
                         *trackType=TRACK_VIDEO;
                         printf("hdlr video found \n ");
                         _movieDuration=trackDuration;
+                        _videoScale=trackScale;
                         break;
                 case MKFCCR('s','o','u','n'): //'soun':
                         *trackType=TRACK_AUDIO;
@@ -405,6 +405,36 @@
               }
           }
           break;
+           case ADM_MP4_CTTS: // Composition time to sample             
+            {
+                uint32_t n,i,j,k,v;
+                  printf("ctts:%lu\n",son.read32()); // version & flags
+                  n=son.read32();
+            
+                info.Ctts=new uint32_t[n*4]; // keep a safe margin
+            
+                for(i=0;i<n;i++)
+                {
+                    j=son.read32();
+                    v=son.read32();
+                    if(i<20)
+                    {
+                        adm_printf(ADM_PRINT_VERY_VERBOSE,"Ctts: nb: %u (%x) val:%u (%x)\n",j,j,v,v);   
+                    }
+                    for(k=0;k<j;k++)
+                    {
+                        info.Ctts[info.nbCtts++]=v;
+                    }
+                }
+                if(!info.nbCtts)
+                {
+                    delete [] info.Ctts;
+                    info.Ctts=NULL;
+                    printf("Destroying Ctts, seems invalid\n");
+                }
+                printf("Found %u elements\n",info.nbCtts);
+            }
+            break;  
        case ADM_MP4_STCO:
        {
           son.read32();
@@ -770,14 +800,21 @@
               if(sync) sync--;
               _tracks[0].index[sync].intra=AVI_KEY_FRAME;
             }
-          }else
+          }
+          else
           { // All frames are kf
             for(int i=0;i<_tracks[0].nbIndex;i++)
             {
               _tracks[0].index[i].intra=AVI_KEY_FRAME;
             }
-            
           }
+          // Now do the CTTS thing
+          if(info.Ctts)
+          {
+            updateCtts(&info);
+          }
+
+          
            VDEO.index[0].intra=AVI_KEY_FRAME;
         }
           break;
@@ -809,274 +846,6 @@
   return r;
 }
 /**
-        \fn indexify
-        \brief build the index from the stxx atoms
-*/
-uint8_t	MP4Header::indexify(
-                          MP4Track *track,   
-                          uint32_t trackScale,
-                         MPsampleinfo *info,
-                         uint32_t isAudio,
-                         uint32_t *outNbChunk)
-
-{
-
-uint32_t i,j,cur;
-
-        printf("Build Track index\n");
-	*outNbChunk=0;
-	aprintf("+_+_+_+_+_+\n");
-	aprintf("co : %lu sz: %lu sc: %lu co[0]%lu \n",info->nbCo,info->nbSz,info->nbSc,info->Co[0]);
-	aprintf("+_+_+_+_+_+\n");
-
-	ADM_assert(info->Sc);
-	ADM_assert(info->Sn);
-	ADM_assert(info->Co);
-	if(!info->SzIndentical)
-        {
-          ADM_assert(info->Sz);
-        }
-	// first set size
-	if(info->SzIndentical && isAudio)// in that case they are all the same size, i.e.audio
-	{
-          
-          
-          uint32_t totalBytes=info->SzIndentical*info->nbSz;
-          printf("All the same size : %u (total size %u bytes)\n",info->SzIndentical,totalBytes);
-              //
-              // Each chunk contains N samples=N bytes
-              int samplePerChunk[info->nbCo];
-              memset(samplePerChunk,0,info->nbCo*sizeof(int));
-              for( i=0;i<info->nbSc;i++)
-              {
-                  for(int j=info->Sc[i]-1;j<info->nbCo;j++)
-                  {
-                        adm_printf(ADM_PRINT_VERY_VERBOSE,"For chunk %lu , %lu samples\n",j,info->Sn[i]);
-                        samplePerChunk[j]=info->Sn[i];
-                  }
-              }
-              int total=0;
-              for( i=0;i<info->nbCo;i++)
-              {
-                  adm_printf(ADM_PRINT_VERY_VERBOSE,"%u -> %u samples %u bytes\n",i,samplePerChunk[i],samplePerChunk[i]*info->SzIndentical);
-                  total+=samplePerChunk[i];
-              }
-              printf("Total size in byte : %u\n",total*info->SzIndentical);
-              track->index=new MP4Index[info->nbCo];
-              memset(track->index,0,info->nbCo*sizeof(MP4Index));
-              track->nbIndex=info->nbCo;;
-              int max=0;
-              totalBytes=0;
-              for(i=0;i<info->nbCo;i++)
-              {
-                  uint32_t sz;
-
-                  track->index[i].offset=info->Co[i];
-                  sz=samplePerChunk[i]*info->SzIndentical;
-                  track->index[i].size=sz;
-                  track->index[i].time=0; // No seek
-                  if(sz>MAX_CHUNK_SIZE)
-                  {
-                      max+=sz/MAX_CHUNK_SIZE;
-                  }
-                  
-                  totalBytes+=track->index[i].size;
-              }
-              // Now time to update the time...
-              // Normally they have all the same duration
-              if(info->nbStts!=1) printf("WARNING: Same size, different duration\n");
-
-              float sampleDuration,totalDuration=0;
-              
-                sampleDuration=info->SttsC[0];
-                sampleDuration*=1000.*1000.;
-                sampleDuration/=trackScale;    // Duration of one sample
-                for(i=0;i<info->nbCo;i++)
-                {
-                        track->index[i].time=(uint64_t)floor(totalDuration);
-                        totalDuration+=sampleDuration*samplePerChunk[i];
-                        adm_printf(ADM_PRINT_VERY_VERBOSE,"Audio chunk : %lu time :%lu\n",i,track->index[i].time);
-                }
-                if(max && isAudio) // We have some big chunks we need to split them
-                {
-                      // rebuild a new index
-                      printf("We have %u chunks that are too big, adjusting..\n",max);
-                      uint32_t newNbCo=track->nbIndex+max*2; // *2 is enough, should be.
-                      uint32_t w=0;
-                      uint32_t one_go;
-
-                        one_go=MAX_CHUNK_SIZE/info->SzIndentical;
-                        one_go=one_go*info->SzIndentical;
-
-                     MP4Index *newindex=new MP4Index[newNbCo];
-
-                    int64_t time_increment=(int64_t)((one_go/info->SzIndentical)*sampleDuration);  // Nb sample*duration of one sample
-                    for(i=0;i<track->nbIndex;i++)
-                    {
-                      uint32_t sz;
-                          sz=track->index[i].size;
-                          if(sz<MAX_CHUNK_SIZE)
-                          {
-                              memcpy(&(newindex[w]),&(track->index[i]),sizeof(MP4Index));
-                              w++;
-                              continue;
-                          }
-                          // We have to split it...
-                          int part=0;
-                          while(sz>one_go)
-                          {
-                                newindex[w].offset=track->index[i].offset+part*one_go;
-                                newindex[w].size=one_go;
-                                newindex[w].time=track->index[i].time+part*time_increment; 
-                                ADM_assert(w<newNbCo);
-                                w++;
-                                part++;
-                                sz-=one_go;
-                          }
-                          // The last one...
-                                newindex[w].offset=track->index[i].offset+part*one_go;
-                                newindex[w].size=sz;
-                                newindex[w].time=track->index[i].time+part*time_increment+((time_increment*sz)/one_go); 
-                                w++;
-                    }
-                    delete [] track->index;
-                    track->index=newindex;
-                    track->nbIndex=w;
-                }
-          printf("Index done\n");
-          return 1;
-      }
-          // Else we build an index per sample
-          //
-	
-		
-	// We have different packet size
-	// Probably video
-        track->index=new MP4Index[info->nbSz];
-        memset(track->index,0,info->nbSz*sizeof(MP4Index));
-
-        if(info->SzIndentical) // Video, all same size (DV ?)
-        {
-            adm_printf(ADM_PRINT_VERY_VERBOSE,"\t size for all %lu frames : %lu\n",info->nbSz,info->SzIndentical);
-            for(i=0;i<info->nbSz;i++)
-            {
-                    track->index[i].size=info->SzIndentical;
-                    
-            }
-          }
-          else // Different size
-          {
-            for(i=0;i<info->nbSz;i++)
-            {
-                    track->index[i].size=info->Sz[i];
-                    adm_printf(ADM_PRINT_VERY_VERBOSE,"\t size : %d : %lu\n",i,info->Sz[i]);
-            }
-          }
-	// if no sample to chunk we map directly
-	// first build the # of sample per chunk table
-        uint32_t totalchunk=0,max=0;
-
-        // Search the maximum
-        for(i=0;i<info->nbSc-1;i++)
-        {
-                totalchunk+=(info->Sc[i+1]-info->Sc[i])*info->Sn[i];
-        }
-        totalchunk+=(info->nbCo-info->Sc[info->nbSc-1]+1)*info->Sn[info->nbSc-1];
-
-        adm_printf(ADM_PRINT_VERY_VERBOSE,"#of chunk %d max per chunk %d Max # of sample %d\n",info->nbCo,max,totalchunk);
-
-        uint32_t chunkCount[totalchunk+1];
-	for(i=0;i<info->nbSc;i++)
-	{
-		for(j=info->Sc[i]-1;j<info->nbCo;j++)
-		{
-			chunkCount[j]=info->Sn[i];
-                        ADM_assert(j<=totalchunk);
-		}
-		adm_printf(ADM_PRINT_VERY_VERBOSE,"(%d) sc: %lu sn:%lu\n",i,info->Sc[i],info->Sn[i]);
-	}
-/*			for(j=0;j<nbSc;j++)
-			{
-				aprintf("\n count number : %d - %lu\n",j,Sn[j]);
-			}*/
-	// now we have for each chunk the number of sample in it
-	cur=0;
-	for(j=0;j<info->nbCo;j++)
-	{
-		int tail=0;
-		adm_printf(ADM_PRINT_VERY_VERBOSE,"--starting at %lu , %lu to go\n",info->Co[j],chunkCount[j]);
-		for(uint32_t k=0;k<chunkCount[j];k++)
-		{
-                        track->index[cur].offset=info->Co[j]+tail;
-                        tail+=track->index[cur].size;
-                        adm_printf(ADM_PRINT_VERY_VERBOSE," sample : %d offset : %lu\n",cur,track->index[cur].offset);
-			adm_printf(ADM_PRINT_VERY_VERBOSE,"Tail : %lu\n",tail);
-			cur++;
-		}
-
-
-	}
-        
-        
-        track->nbIndex=cur;;
-	
-	
-	// Now deal with duration
-	// the unit is us FIXME, probably said in header
-	// we put each sample duration in the time entry
-	// then sum them up to get the absolute time position
-
-        uint32_t nbChunk=track->nbIndex;
-	if(info->nbStts)		//uint32_t nbStts,	uint32_t *SttsN,uint32_t SttsC,
-	{
-		uint32_t start=0;
-		if(info->nbStts>1)
-		{
-			for(uint32_t i=0;i<info->nbStts;i++)
-			{
-				for(uint32_t j=0;j<info->SttsN[i];j++)
-				{
-                                        track->index[start].time=(uint64_t)info->SttsC[i];
-					start++;
-					ADM_assert(start<=nbChunk);
-				}	
-			}
-		}
-		else
-		{
-			// All same duration
-			for(uint32_t i=0;i<nbChunk;i++)
-                                track->index[i].time=(uint64_t)info->SttsC[0]; // this is not an error!
-		
-		}
-		// now collapse
-		uint64_t total=0;
-		float    ftot;
-		uint32_t thisone;
-		
-		for(uint32_t i=0;i<nbChunk;i++)
-		{
-                        thisone=track->index[i].time;
-			ftot=total;
-			ftot*=1000.*1000.;
-			ftot/=trackScale;
-                        track->index[i].time=(uint64_t)floor(ftot);
-			total+=thisone;
-                        adm_printf(ADM_PRINT_VERY_VERBOSE,"Audio chunk : %lu time :%lu\n",i,track->index[i].time);
-		}
-		// Time is now built, it is in us
-	
-	
-	}
-	else // there is not ssts
-	{
-          GUI_Error_HIG(_("No stts table"), NULL);
-		ADM_assert(0);	
-	}
-        printf("Index done\n");
-	return 1;
-}
-/**
       \fn decodeEsds
       \brief Decode esds atom
 */
@@ -1147,6 +916,52 @@
     tom->skipAtom();
     return 1;
 }
+/**
+    \fn updateCtts
+    \brief compute deltaPtsDts from ctts, needed to create valid mp4 when copying
+*/
+uint8_t MP4Header::updateCtts(MPsampleinfo *info )
+{
+    uint32_t scope=info->nbCtts;
+            
+            if(scope>_videostream.dwLength) scope=_videostream.dwLength;
+            
+            // Search floor value
+            uint32_t  flor=0xFFFFFFFF;
+            uint32_t  cel=0;
+            for(uint32_t i=0;i<scope;i++)
+            {
+              if(info->Ctts[i]>4294967290) 
+              {
+                if(i)
+                  info->Ctts[i]=info->Ctts[0];
+                else
+                  info->Ctts[i]=info->Ctts[1];
+              }
+              if(info->Ctts[i] >cel) cel=info->Ctts[i];
+              if(info->Ctts[i]<flor) flor=info->Ctts[i];
+            }
+            printf("[3GP] Ctts min %u max %u\n",flor,cel);
+            for(uint32_t i=0;i<scope;i++)
+            {
+              int floops=info->Ctts[i]-flor;
+               float f=floops;
+               aprintf("Frame %u ctts %u scale:%u dwRate:%u\n",i,floops,_videoScale,_videostream.dwRate);
+                uint32_t delta;
+                f*=_videostream.dwRate;
+                f/=1000. ;; // in frame
+                f/=_videoScale;
+                floops=1+(uint32_t)floor(f+0.49);
+                aprintf(">Frame :%u delta=%d\n",i,floops);
+              if(floops<0)
+              {
+                printf("[3GPP] CTTS negative for frame %u : %d\n",i,floops); 
+                floops=0;
+              }
+              _tracks[0].index[i].deltaPtsDts=floops;
+            } // scope
+  return 1;
+}
 //***********************************
 MPsampleinfo::MPsampleinfo(void)
 {
@@ -1162,6 +977,7 @@
       MPCLEAR (SttsN);
       MPCLEAR (SttsC);
       MPCLEAR (Sync);
+      MPCLEAR (Ctts);
 }
 
 // EOF

Copied: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp (from rev 3021, branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-05 20:15:28 UTC (rev 3021)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp	2007-05-05 20:52:31 UTC (rev 3023)
@@ -0,0 +1,310 @@
+/***************************************************************************
+/*
+    
+    copyright            : (C) 2007 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include "config.h"
+
+#include <stdio.h>
+#include <stdlib.h>
+
+#include <string.h>
+
+#include "math.h"
+
+#include <ADM_assert.h>
+#include "default.h"
+#include "ADM_editor/ADM_Video.h"
+
+
+#include "fourcc.h"
+#include "ADM_mp4/ADM_mp4.h"
+#include "ADM_toolkit/toolkit.hxx"
+
+#include "ADM_osSupport/ADM_debugID.h"
+#define MODULE_NAME MODULE_3GP
+#include "ADM_osSupport/ADM_debug.h"
+
+
+
+#define MAX_CHUNK_SIZE (3*1024)
+/**
+        \fn indexify
+        \brief build the index from the stxx atoms
+*/
+uint8_t	MP4Header::indexify(
+                          MP4Track *track,   
+                          uint32_t trackScale,
+                         MPsampleinfo *info,
+                         uint32_t isAudio,
+                         uint32_t *outNbChunk)
+
+{
+
+uint32_t i,j,cur;
+
+        printf("Build Track index\n");
+	*outNbChunk=0;
+	aprintf("+_+_+_+_+_+\n");
+	aprintf("co : %lu sz: %lu sc: %lu co[0]%lu \n",info->nbCo,info->nbSz,info->nbSc,info->Co[0]);
+	aprintf("+_+_+_+_+_+\n");
+
+	ADM_assert(info->Sc);
+	ADM_assert(info->Sn);
+	ADM_assert(info->Co);
+	if(!info->SzIndentical)
+        {
+          ADM_assert(info->Sz);
+        }
+	// first set size
+	if(info->SzIndentical && isAudio)// in that case they are all the same size, i.e.audio
+	{
+          
+          
+          uint32_t totalBytes=info->SzIndentical*info->nbSz;
+          printf("All the same size : %u (total size %u bytes)\n",info->SzIndentical,totalBytes);
+              //
+              // Each chunk contains N samples=N bytes
+              int samplePerChunk[info->nbCo];
+              memset(samplePerChunk,0,info->nbCo*sizeof(int));
+              for( i=0;i<info->nbSc;i++)
+              {
+                  for(int j=info->Sc[i]-1;j<info->nbCo;j++)
+                  {
+                        adm_printf(ADM_PRINT_VERY_VERBOSE,"For chunk %lu , %lu samples\n",j,info->Sn[i]);
+                        samplePerChunk[j]=info->Sn[i];
+                  }
+              }
+              int total=0;
+              for( i=0;i<info->nbCo;i++)
+              {
+                  adm_printf(ADM_PRINT_VERY_VERBOSE,"%u -> %u samples %u bytes\n",i,samplePerChunk[i],samplePerChunk[i]*info->SzIndentical);
+                  total+=samplePerChunk[i];
+              }
+              printf("Total size in byte : %u\n",total*info->SzIndentical);
+              track->index=new MP4Index[info->nbCo];
+              memset(track->index,0,info->nbCo*sizeof(MP4Index));
+              track->nbIndex=info->nbCo;;
+              int max=0;
+              totalBytes=0;
+              for(i=0;i<info->nbCo;i++)
+              {
+                  uint32_t sz;
+
+                  track->index[i].offset=info->Co[i];
+                  sz=samplePerChunk[i]*info->SzIndentical;
+                  track->index[i].size=sz;
+                  track->index[i].time=0; // No seek
+                  if(sz>MAX_CHUNK_SIZE)
+                  {
+                      max+=sz/MAX_CHUNK_SIZE;
+                  }
+                  
+                  totalBytes+=track->index[i].size;
+              }
+              // Now time to update the time...
+              // Normally they have all the same duration
+              if(info->nbStts!=1) printf("WARNING: Same size, different duration\n");
+
+              float sampleDuration,totalDuration=0;
+              
+                sampleDuration=info->SttsC[0];
+                sampleDuration*=1000.*1000.;
+                sampleDuration/=trackScale;    // Duration of one sample
+                for(i=0;i<info->nbCo;i++)
+                {
+                        track->index[i].time=(uint64_t)floor(totalDuration);
+                        totalDuration+=sampleDuration*samplePerChunk[i];
+                        adm_printf(ADM_PRINT_VERY_VERBOSE,"Audio chunk : %lu time :%lu\n",i,track->index[i].time);
+                }
+                if(max && isAudio) // We have some big chunks we need to split them
+                {
+                      // rebuild a new index
+                      printf("We have %u chunks that are too big, adjusting..\n",max);
+                      uint32_t newNbCo=track->nbIndex+max*2; // *2 is enough, should be.
+                      uint32_t w=0;
+                      uint32_t one_go;
+
+                        one_go=MAX_CHUNK_SIZE/info->SzIndentical;
+                        one_go=one_go*info->SzIndentical;
+
+                     MP4Index *newindex=new MP4Index[newNbCo];
+
+                    int64_t time_increment=(int64_t)((one_go/info->SzIndentical)*sampleDuration);  // Nb sample*duration of one sample
+                    for(i=0;i<track->nbIndex;i++)
+                    {
+                      uint32_t sz;
+                          sz=track->index[i].size;
+                          if(sz<MAX_CHUNK_SIZE)
+                          {
+                              memcpy(&(newindex[w]),&(track->index[i]),sizeof(MP4Index));
+                              w++;
+                              continue;
+                          }
+                          // We have to split it...
+                          int part=0;
+                          while(sz>one_go)
+                          {
+                                newindex[w].offset=track->index[i].offset+part*one_go;
+                                newindex[w].size=one_go;
+                                newindex[w].time=track->index[i].time+part*time_increment; 
+                                ADM_assert(w<newNbCo);
+                                w++;
+                                part++;
+                                sz-=one_go;
+                          }
+                          // The last one...
+                                newindex[w].offset=track->index[i].offset+part*one_go;
+                                newindex[w].size=sz;
+                                newindex[w].time=track->index[i].time+part*time_increment+((time_increment*sz)/one_go); 
+                                w++;
+                    }
+                    delete [] track->index;
+                    track->index=newindex;
+                    track->nbIndex=w;
+                }
+          printf("Index done\n");
+          return 1;
+      }
+          // Else we build an index per sample
+          //
+	
+		
+	// We have different packet size
+	// Probably video
+        track->index=new MP4Index[info->nbSz];
+        memset(track->index,0,info->nbSz*sizeof(MP4Index));
+
+        if(info->SzIndentical) // Video, all same size (DV ?)
+        {
+            adm_printf(ADM_PRINT_VERY_VERBOSE,"\t size for all %lu frames : %lu\n",info->nbSz,info->SzIndentical);
+            for(i=0;i<info->nbSz;i++)
+            {
+                    track->index[i].size=info->SzIndentical;
+                    
+            }
+          }
+          else // Different size
+          {
+            for(i=0;i<info->nbSz;i++)
+            {
+                    track->index[i].size=info->Sz[i];
+                    adm_printf(ADM_PRINT_VERY_VERBOSE,"\t size : %d : %lu\n",i,info->Sz[i]);
+            }
+          }
+	// if no sample to chunk we map directly
+	// first build the # of sample per chunk table
+        uint32_t totalchunk=0,max=0;
+
+        // Search the maximum
+        for(i=0;i<info->nbSc-1;i++)
+        {
+                totalchunk+=(info->Sc[i+1]-info->Sc[i])*info->Sn[i];
+        }
+        totalchunk+=(info->nbCo-info->Sc[info->nbSc-1]+1)*info->Sn[info->nbSc-1];
+
+        adm_printf(ADM_PRINT_VERY_VERBOSE,"#of chunk %d max per chunk %d Max # of sample %d\n",info->nbCo,max,totalchunk);
+
+        uint32_t chunkCount[totalchunk+1];
+	for(i=0;i<info->nbSc;i++)
+	{
+		for(j=info->Sc[i]-1;j<info->nbCo;j++)
+		{
+			chunkCount[j]=info->Sn[i];
+                        ADM_assert(j<=totalchunk);
+		}
+		adm_printf(ADM_PRINT_VERY_VERBOSE,"(%d) sc: %lu sn:%lu\n",i,info->Sc[i],info->Sn[i]);
+	}
+/*			for(j=0;j<nbSc;j++)
+			{
+				aprintf("\n count number : %d - %lu\n",j,Sn[j]);
+			}*/
+	// now we have for each chunk the number of sample in it
+	cur=0;
+	for(j=0;j<info->nbCo;j++)
+	{
+		int tail=0;
+		adm_printf(ADM_PRINT_VERY_VERBOSE,"--starting at %lu , %lu to go\n",info->Co[j],chunkCount[j]);
+		for(uint32_t k=0;k<chunkCount[j];k++)
+		{
+                        track->index[cur].offset=info->Co[j]+tail;
+                        tail+=track->index[cur].size;
+                        adm_printf(ADM_PRINT_VERY_VERBOSE," sample : %d offset : %lu\n",cur,track->index[cur].offset);
+			adm_printf(ADM_PRINT_VERY_VERBOSE,"Tail : %lu\n",tail);
+			cur++;
+		}
+
+
+	}
+        
+        
+        track->nbIndex=cur;;
+	
+	
+	// Now deal with duration
+	// the unit is us FIXME, probably said in header
+	// we put each sample duration in the time entry
+	// then sum them up to get the absolute time position
+
+        uint32_t nbChunk=track->nbIndex;
+	if(info->nbStts)		//uint32_t nbStts,	uint32_t *SttsN,uint32_t SttsC,
+	{
+		uint32_t start=0;
+		if(info->nbStts>1)
+		{
+			for(uint32_t i=0;i<info->nbStts;i++)
+			{
+				for(uint32_t j=0;j<info->SttsN[i];j++)
+				{
+                                        track->index[start].time=(uint64_t)info->SttsC[i];
+					start++;
+					ADM_assert(start<=nbChunk);
+				}	
+			}
+		}
+		else
+		{
+			// All same duration
+			for(uint32_t i=0;i<nbChunk;i++)
+                                track->index[i].time=(uint64_t)info->SttsC[0]; // this is not an error!
+		
+		}
+		// now collapse
+		uint64_t total=0;
+		float    ftot;
+		uint32_t thisone;
+		
+		for(uint32_t i=0;i<nbChunk;i++)
+		{
+                        thisone=track->index[i].time;
+			ftot=total;
+			ftot*=1000.*1000.;
+			ftot/=trackScale;
+                        track->index[i].time=(uint64_t)floor(ftot);
+			total+=thisone;
+                        adm_printf(ADM_PRINT_VERY_VERBOSE,"Audio chunk : %lu time :%lu\n",i,track->index[i].time);
+		}
+		// Time is now built, it is in us
+	
+	
+	}
+	else // there is not ssts
+	{
+          GUI_Error_HIG(_("No stts table"), NULL);
+		ADM_assert(0);	
+	}
+        printf("Index done\n");
+	return 1;
+}
+
+// EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/Makefile.am	2007-05-05 20:43:23 UTC (rev 3022)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/Makefile.am	2007-05-05 20:52:31 UTC (rev 3023)
@@ -4,9 +4,10 @@
 
 
 libADM_mp4_a_SOURCES = ADM_mp4.cpp ADM_mp4audio.cpp ADM_atom.cpp ADM_mp4.h ADM_atom.h ADM_infoextractor.cpp \
-			ADM_mp4Analyzer.cpp ADM_mp4Leaf.cpp
+			ADM_mp4Analyzer.cpp ADM_mp4Leaf.cpp ADM_mp4Indexer.cpp
 
 
+
 EXTRA_DIST= 
 
 



From mihailzenkov at mail.berlios.de  Sun May  6 11:14:27 2007
From: mihailzenkov at mail.berlios.de (mihailzenkov at BerliOS)
Date: Sun, 6 May 2007 11:14:27 +0200
Subject: [Avidemux-svn-commit] r3024 -
	branches/avidemux_2.4_branch/avidemux/ADM_audiofilter
Message-ID: <200705060914.l469ERp6024333@sheep.berlios.de>

Author: mihailzenkov
Date: 2007-05-06 11:14:26 +0200 (Sun, 06 May 2007)
New Revision: 3024

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_faac.cpp
Log:
fix cliping in faac

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_faac.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_faac.cpp	2007-05-05 20:52:31 UTC (rev 3023)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_faac.cpp	2007-05-06 09:14:26 UTC (rev 3024)
@@ -147,7 +147,7 @@
 }
 
 //_____________________________________________
-//  Need to multiply the float by 65535, can't use
+//  Need to multiply the float by 32767, can't use
 //  generic fill buffer
 //----------------------------------------------
 uint8_t AUDMEncoder_Faac::refillBuffer(int minimum)
@@ -186,7 +186,7 @@
       float *s=&(tmpbuffer[tmptail]);
       for(int i=0;i<nb;i++)
       {
-        *s=*s*65535.;
+        *s=*s*32767.;
         s++;
       }
       tmptail+=nb;



From mean at mail.berlios.de  Sun May  6 11:26:21 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 6 May 2007 11:26:21 +0200
Subject: [Avidemux-svn-commit] r3025 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4
Message-ID: <200705060926.l469QLEp025135@sheep.berlios.de>

Author: mean
Date: 2007-05-06 11:26:21 +0200 (Sun, 06 May 2007)
New Revision: 3025

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Leaf.h
Log:
more compatible (ms atom, DV, bad header files)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp	2007-05-06 09:14:26 UTC (rev 3024)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.cpp	2007-05-06 09:26:21 UTC (rev 3025)
@@ -224,6 +224,31 @@
         _mainaviheader.dwMicroSecPerFrame=100000;;     // 10 fps hard coded
         
         adm_atom *atom=new adm_atom(_fd);
+        // Some mp4/mov files have the data at the end but do start properly
+        // detect and workaround...
+        // Check it is not mdat start(ADM_memcpy_0)     
+        uint8_t check[4];
+        fseeko(_fd,4,SEEK_SET);
+        fread(check,4,1,_fd);
+        fseeko(_fd,0,SEEK_SET);
+        if(check[0]=='m' && check[1]=='d' &&check[2]=='a' && check[3]=='t')
+        {
+                        uint32_t of;
+                                        printf("Data first, header later...\n");
+                                        of=atom->read32();
+                                        if(of==1)
+                                        {
+                                          atom->read32();
+                                          atom->read32();
+                                          of=atom->read32();
+                                        }
+                                        fseeko(_fd,of,SEEK_SET);        
+                                        printf("Header starts at %x\n",of);
+                                        delete atom;
+                                        atom=new adm_atom(_fd);
+        }
+        //**************
+        
         if(!lookupMainAtoms((void*) atom))
         {
           printf("Cannot find needed atom\n");

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-06 09:14:26 UTC (rev 3024)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-06 09:26:21 UTC (rev 3025)
@@ -448,6 +448,21 @@
           }
 
        }
+       case ADM_MP4_STCO64:
+       {
+         printf("Incomplete support for 64 bits quicktime!!\n");
+          son.read32();
+          info.nbCo=son.read32();
+          printf("\t\tnbCo:%u\n",info.nbCo);
+          info.Co=new uint32_t[info.nbCo];
+          for(int j=0;j< info.nbCo;j++)
+          {
+                  son.read32(); // Ignore MSB
+                  info.Co[j]=son.read32();
+                  adm_printf(ADM_PRINT_VERY_VERBOSE,"Chunk offset : %lu / %lu  : %lu\n",  j,info.nbCo,info.Co[j]);
+          }
+
+       }
        break;
        case ADM_MP4_STSD:
        {
@@ -464,6 +479,7 @@
                    {
                     son.skipBytes(left); 
                     printf("[STSD] ignoring %s, size %u\n",fourCC::tostringBE(entryName),entrySize);
+                    if(trackType==TRACK_OTHER) printf("[STSD] because track=other\n");
                     continue;
                    }
                    switch(trackType)
@@ -554,9 +570,13 @@
                                             left=0;
                                   }
                                             break;
-                                  case MKFCCR('d','v','c','p'): //'dv':
+                                  case MKFCCR('d','v','c',' ') : //'dvc ':
+                                  case MKFCCR('d','v','c','p'): //'dvcp':
                                           commonPart(DVDS);
                                           break;
+                                  case MKFCCR('c','v','i','d'): //'cvid'
+                                          commonPart(cvid);
+                                          break;
                                   case MKFCCR('h','2','6','3'): //'dv':
                                           commonPart(H263);
                                           break;
@@ -624,7 +644,7 @@
                                 ADIO.channels=2;
                                 ADIO.bitspersample=16;
                         
-                                printf("[STSD] AUDIO %s, size %u\n",fourCC::tostringBE(entryName),entrySize);
+                                printf("[STSD] AUDIO <%s>, 0x%08x, size %u\n",fourCC::tostringBE(entryName),entryName,entrySize);
                                 son.skipBytes(8);  // reserved etc..
                                 left-=8;
                                 
@@ -706,6 +726,8 @@
                                             audioCodec(8BITS_UNSIGNED);
                                             ADIO.byterate=ADIO.frequency*ADIO.channels;
                                             break;
+                                    
+                                    case MKFCCR('m','s',0,0x55): // why 55 ???
                                     case MKFCCR('m','p','4','a'):
                                     {
                                             audioCodec(AAC);
@@ -723,7 +745,8 @@
                                                  while(!wave.isDone())
                                                  {
                                                      adm_atom item(&wave);
-                                                     printf("parsing wave, got %s\n",fourCC::tostringBE(item.getFCC()));
+                                                     printf("parsing wave, got %s,0x%x\n",fourCC::tostringBE(item.getFCC()),
+                                                                  item.getFCC());
                                                      switch(item.getFCC())
                                                      {
                                                        case MKFCCR('f','r','m','a'):
@@ -731,7 +754,21 @@
                                                           uint32_t codecid=item.read32();
                                                           printf("frma Codec Id :%s\n",fourCC::tostringBE(codecid));
                                                           }
-                                                          break; 
+                                                          break;
+                                                       case MKFCCR('m','s',0,0x55):
+                                                        {
+                                                          // We have a waveformat here
+                                                          printf("[STSD]Found MS audio header:\n");
+                                                          ADIO.encoding=ADM_swap16(item.read16());
+                                                          ADIO.channels=ADM_swap16(item.read16());
+                                                          ADIO.frequency=ADM_swap32(item.read32());
+                                                          ADIO.byterate=ADM_swap32(item.read32());
+                                                          ADIO.blockalign=ADM_swap16(item.read16());
+                                                          ADIO.bitspersample=ADM_swap16(item.read16());
+                                                          printWavHeader(&(ADIO));
+                                                          
+                                                        }
+                                                       break;
                                                         case MKFCCR('m','p','4','a'):
                                                           break; 
                                                         case MKFCCR('e','s','d','s'):

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Leaf.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Leaf.h	2007-05-06 09:14:26 UTC (rev 3024)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Leaf.h	2007-05-06 09:26:21 UTC (rev 3025)
@@ -35,6 +35,7 @@
 MKMP4LEAF('stsc',STSC,0),
 MKMP4LEAF('stsz',STSZ,0),
 MKMP4LEAF('stco',STCO,0),
+MKMP4LEAF('co64',STCO64,0),
 MKMP4LEAF('stsh',STSH,0),
 MKMP4LEAF('stss',STSS,0),
 



From mean at mail.berlios.de  Sun May  6 11:34:18 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 6 May 2007 11:34:18 +0200
Subject: [Avidemux-svn-commit] r3026 - in
	branches/avidemux_2.4_branch/avidemux/ADM_inputs: . ADM_mpegdemuxer
Message-ID: <200705060934.l469YI1X025774@sheep.berlios.de>

Author: mean
Date: 2007-05-06 11:34:17 +0200 (Sun, 06 May 2007)
New Revision: 3026

Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_3gp/
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_audio.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probeTS.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/Makefile.am
Log:
switch to new mp4/mov demuxer, try to read AAC from TS file (not working)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_audio.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_audio.cpp	2007-05-06 09:26:21 UTC (rev 3025)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_audio.cpp	2007-05-06 09:34:17 UTC (rev 3026)
@@ -41,8 +41,9 @@
 #include "ADM_audio/ADM_mp3info.h"
 #include "ADM_audio/ADM_a52info.h"
 #include "ADM_audio/ADM_dcainfo.h"
+#include "ADM_audio/ADM_aacinfo.h"
 #define MAX_LINE 4096
-#define PROBE_SIZE (4096*2)
+#define PROBE_SIZE (4096*4)
 
 //___________________________________________________
 //___________________________________________________
@@ -470,6 +471,35 @@
                 hdr->channels=2;
                 continue;
         }
+         //AAC, can happen in TS file with H264
+        if(myPes>=0xB0 && myPes<0xB9)
+        {
+          AacAudioInfo info;
+          if(!getAACFrameInfo(buffer,blocksize, &info,NULL,&offset))
+          {
+            printf("\n Cannot get AAC sync info (not ADTS ?)\n");
+                hdr->byterate=(128000)>>3;
+                hdr->frequency=44100;
+                hdr->encoding=WAV_AAC;
+                hdr->channels=2;
+                continue;
+          }
+          /*
+          uint32_t layer;		// 0 mpeg4, 1 mpeg2 
+	uint32_t profile;	// 0 Main/1 LC
+	uint32_t samplerate;	// i.e. Frequency
+	uint32_t channels;	// # channels
+	uint32_t nbBlock;	// Packet size including header
+	uint32_t size;		// size of complete frame
+	uint32_t samples;	// # of sample in this packet
+          */
+              
+                hdr->byterate=(128000)>>3;
+                hdr->frequency=info.samplerate;                                
+                hdr->encoding=WAV_AAC;
+                hdr->channels=info.channels;
+                continue;
+        }
   }
   return 1;
 }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.h	2007-05-06 09:26:21 UTC (rev 3025)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.h	2007-05-06 09:34:17 UTC (rev 3026)
@@ -26,7 +26,8 @@
   ADM_STREAM_AC3,
   ADM_STREAM_DTS,
   ADM_STREAM_H264,
-  ADM_STREAM_MPEG4
+  ADM_STREAM_MPEG4,
+  ADM_STREAM_AAC
 };
 
 typedef struct MPEG_TRACK

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probeTS.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probeTS.cpp	2007-05-06 09:26:21 UTC (rev 3025)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probeTS.cpp	2007-05-06 09:34:17 UTC (rev 3026)
@@ -66,10 +66,10 @@
 static uint8_t dmx_probePat(dmx_demuxerTS *demuxer, uint32_t *nbPmt,MPEG_PMT *pmts,uint32_t maxPmt);
 static uint8_t dmx_probePMT(dmx_demuxerTS *demuxer, uint32_t pmtId,MPEG_TRACK *pmts,uint32_t *cur, uint32_t max);
 
-
+static const char *dmx_streamTypeAsString(ADM_STREAM_TYPE st);
  
 extern uint32_t mpegTsCRC(uint8_t *data, uint32_t len);
-
+//*********************************************************
 uint8_t runProbe(const char *file)
 {
   uint32_t nb;
@@ -306,7 +306,8 @@
       printf("***********************\n");
       for(int i=0;i<cur;i++)
       {
-        printf("Tid : %04x Type :%d %s\n", xtracks[i].pid,xtracks[i].streamType,"?");
+        printf("Tid : %04x Type :%d %s\n", xtracks[i].pid,xtracks[i].streamType,
+               dmx_streamTypeAsString(xtracks[i].streamType));
       }
       printf("******************************\n");
       printf("******************************\n");
@@ -341,11 +342,15 @@
       {
          MPEG_TRACK *t=&(xtracks[j]);
          ADM_STREAM_TYPE type=t->streamType;
-          if(type!=ADM_STREAM_MPEG_AUDIO && type!=ADM_STREAM_AC3) continue; // Only mpega & AC3 for now
+          if(type!=ADM_STREAM_MPEG_AUDIO && type!=ADM_STREAM_AC3
+            &&type!=ADM_STREAM_AAC) continue; // Only mpega & AC3 for now
           switch(type)
           {
+            case ADM_STREAM_AAC:
+                  t->pes=0xb0;
             case ADM_STREAM_MPEG_AUDIO:
             case ADM_STREAM_AC3:
+            
               memcpy(&((*tracks)[*nbTracks]),t,sizeof(MPEG_TRACK));
               ADM_assert(*nbTracks<cur);
               (*nbTracks)++;
@@ -513,6 +518,8 @@
  {
    case 1:case 2: *streamType=ADM_STREAM_MPEG_VIDEO;return "Mpeg Video";
    case 3:case 4: *streamType=ADM_STREAM_MPEG_AUDIO;return "Mpeg Audio";
+   case 0x11: case 0xF:        *streamType=ADM_STREAM_AAC;return "AAC  Audio";
+   case 0x10:        *streamType=ADM_STREAM_MPEG4;return "MP4 Video";
    case 0x1B: *streamType=ADM_STREAM_H264;return "H264";
    case 0x81: *streamType=ADM_STREAM_AC3;return "Private (AC3?)";
  }
@@ -587,5 +594,26 @@
       }
       return 0;
 }
-
+/**
+      \fn dmx_streamTypeAsSTring
+      \brief returns stream type as a printable string
+*/
+static const char *dmx_streamTypeAsString(ADM_STREAM_TYPE st)
+{
+#define MST(x,y) case x: return #y;
+  switch(st)
+  {
+  MST(ADM_STREAM_UNKNOWN,UNKNOWN)
+  MST(ADM_STREAM_MPEG_VIDEO,MPEG12VIDEO)
+  MST(ADM_STREAM_MPEG_AUDIO,MPEG12AUDIO)
+  MST(ADM_STREAM_AC3,AC3)
+  MST(ADM_STREAM_DTS,DTS)
+  MST(ADM_STREAM_H264,H264)
+  MST(ADM_STREAM_MPEG4,MPEG4)
+  MST(ADM_STREAM_AAC,AAC)
+    
+  }
+  return "???";
+  
+}
 /****EOF**/

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/Makefile.am	2007-05-06 09:26:21 UTC (rev 3025)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/Makefile.am	2007-05-06 09:34:17 UTC (rev 3026)
@@ -1,4 +1,5 @@
-SUBDIRS=ADM_3gp  ADM_avsproxy  ADM_inpics    ADM_mpegdemuxer  ADM_ogm     \
-	ADM_asf  ADM_h263      ADM_matroska  ADM_nuv          ADM_openDML
+SUBDIRS=ADM_avsproxy  ADM_inpics    ADM_mpegdemuxer  ADM_ogm     \
+	ADM_asf  ADM_h263      ADM_matroska  ADM_nuv          ADM_openDML \
+	ADM_mp4
 INCLUDES = $(all_includes) 
 



From mean at mail.berlios.de  Sun May  6 11:34:46 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 6 May 2007 11:34:46 +0200
Subject: [Avidemux-svn-commit] r3027 -
	branches/avidemux_2.4_branch/avidemux/ADM_osSupport
Message-ID: <200705060934.l469Ykss025818@sheep.berlios.de>

Author: mean
Date: 2007-05-06 11:34:46 +0200 (Sun, 06 May 2007)
New Revision: 3027

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_debug.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_debug.h
Log:
new adm_printf api

Modified: branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_debug.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_debug.cpp	2007-05-06 09:34:17 UTC (rev 3026)
+++ branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_debug.cpp	2007-05-06 09:34:46 UTC (rev 3027)
@@ -33,9 +33,13 @@
 
 // put here the module you want to be verbose (MODULE_xxx + MODULE_yyyy+  ....)
 #ifndef masked
-#define masked  (0*MODULE_UNPACKER+ 0*MODULE_LAVFORMAT) //+MODULE_3GP) //(MODULE_AUDIO_EDITOR) MODULE_OGM_AUDIO MODULE_REQUANT MODULE_CODEC
+#define masked  (MODULE_3GP*1+ 1*MODULE_MPEG) //+MODULE_3GP) //(MODULE_AUDIO_EDITOR) MODULE_OGM_AUDIO MODULE_REQUANT MODULE_CODEC
 #endif
 
+#ifndef thresholdLevel
+#define thresholdLevel ADM_PRINT_DEBUG
+#endif
+
 // If the entitty is in masked we actually print the string
 // else we silently drop it
 extern "C"
@@ -59,6 +63,25 @@
 	}
   }
 
+
+void indirect_printf_long(int level,const char *modname,int entity,const char *prf,  ...)
+{
+  static char print_buffer[1024];
+        if(level>thresholdLevel) return;
+  	if(1) //masked & entity)
+	{
+		va_list 	list;
+		va_start(list,	prf);
+		vsnprintf(print_buffer,1023,prf,list);
+		va_end(list);
+		print_buffer[1023]=0; // ensure the string is terminated
+		printf("[%s] LVL:%d %s",modname,level,print_buffer);
+
+	}
+	else
+  	{
+		return;
+	}
 }
-
+}
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_debug.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_debug.h	2007-05-06 09:34:17 UTC (rev 3026)
+++ branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_debug.h	2007-05-06 09:34:46 UTC (rev 3027)
@@ -18,23 +18,30 @@
          #error define MODULE_NAME when using aprintf !
 #endif
 
+#define ADM_PRINT_ERROR         0
+#define ADM_PRINT_INFO          1
+#define ADM_PRINT_DEBUG         2
+#define ADM_PRINT_VERY_VERBOSE  3
 
-
 #if !defined(ADM_DEBUG)
          #define aprintf(prt, args...) ;
+         #define adm_printf(level,prt,args...) ;
 #else
         #if (MODULE_NAME !=0x8000)
 	#ifdef __cplusplus
 	extern "C" {
 	#endif
 	 	void indirect_printf(int entity, const char *fmt, ...);
+                void indirect_printf_long(int level,const char *modname,int entity, const char *prf, ...);
 	#ifdef __cplusplus
 	}
 	#endif
 			
                 #define aprintf(prt, ...) indirect_printf(MODULE_NAME,prt, ## __VA_ARGS__)
+                #define adm_printf(level,prt, ...) indirect_printf_long(level,__FILE__,MODULE_NAME,prt, ## __VA_ARGS__)
         #else
                 #define aprintf(prt, ...) ;
+                #define adm_printf(level,prt, ...) ;
         #endif
 #endif
 



From mean at mail.berlios.de  Sun May  6 11:35:28 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 6 May 2007 11:35:28 +0200
Subject: [Avidemux-svn-commit] r3028 - in
	branches/avidemux_2.4_branch/avidemux: ADM_codecs
	ADM_libraries/ADM_lavcodec
Message-ID: <200705060935.l469ZSRw025877@sheep.berlios.de>

Author: mean
Date: 2007-05-06 11:35:28 +0200 (Sun, 06 May 2007)
New Revision: 3028

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_codecs.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmp43.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmp43.h
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/allcodecs.c
Log:
support for cinepak

Modified: branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_codecs.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_codecs.cpp	2007-05-06 09:34:46 UTC (rev 3027)
+++ branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_codecs.cpp	2007-05-06 09:35:28 UTC (rev 3028)
@@ -245,7 +245,11 @@
       return (decoders *) (new decoderPng (w, h));
     }
 #endif
+ if (fourCC::check (fcc, (uint8_t *) "cvid"))
+    {
 
+      return (decoders *) (new decoderFFCinepak (w, h, extraLen, extraData));
+    }
   if (fourCC::check (fcc, (uint8_t *) "FFVH"))
     {
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmp43.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmp43.cpp	2007-05-06 09:34:46 UTC (rev 3027)
+++ branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmp43.cpp	2007-05-06 09:35:28 UTC (rev 3028)
@@ -606,12 +606,18 @@
 {
   WRAP_Open (CODEC_ID_SNOW);
 }
+//*************
 decoderCamtasia::decoderCamtasia (uint32_t w, uint32_t h, uint32_t bpp):decoderFF (w,
 	   h)
 {
   _context->bits_per_sample = bpp;
   WRAP_Open (CODEC_ID_TSCC);
 }
+//*************
+decoderFFCinepak::decoderFFCinepak (uint32_t w, uint32_t h, uint32_t l, uint8_t * d):decoderFF (w,	   h)
+{
+  WRAP_Open (CODEC_ID_CINEPAK);
+}
 
 
 #endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmp43.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmp43.h	2007-05-06 09:34:46 UTC (rev 3027)
+++ branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmp43.h	2007-05-06 09:35:28 UTC (rev 3028)
@@ -272,4 +272,14 @@
 
 };
 
+class decoderFFCinepak:public decoderFF
+{
+protected:
+
+
+public:
+  decoderFFCinepak (uint32_t w, uint32_t h, uint32_t l, uint8_t * d);
+
+};
+
 #endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/allcodecs.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/allcodecs.c	2007-05-06 09:34:46 UTC (rev 3027)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/allcodecs.c	2007-05-06 09:35:28 UTC (rev 3028)
@@ -67,7 +67,7 @@
     REGISTER_DECODER(AVS, avs);
     REGISTER_DECODER(BMP, bmp);
     REGISTER_DECODER(CAVS, cavs);
-    REGISTER_DECODER(CINEPAK, cinepak);
+    
     REGISTER_DECODER(CLJR, cljr);
     REGISTER_DECODER(CSCD, cscd);
     REGISTER_DECODER(CYUV, cyuv);
@@ -116,6 +116,7 @@
 #endif
 
 #endif
+    REGISTER_DECODER(CINEPAK, cinepak);
     REGISTER_ENCDEC (DVVIDEO, dvvideo);
     
     REGISTER_ENCDEC (FFV1, ffv1);



From mean at mail.berlios.de  Sun May  6 11:36:04 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 6 May 2007 11:36:04 +0200
Subject: [Avidemux-svn-commit] r3029 -
	branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities
Message-ID: <200705060936.l469a43a025926@sheep.berlios.de>

Author: mean
Date: 2007-05-06 11:36:04 +0200 (Sun, 06 May 2007)
New Revision: 3029

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/fourcc.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/fourcc.h
Log:
support for BE fcc print out

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/fourcc.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/fourcc.cpp	2007-05-06 09:35:28 UTC (rev 3028)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/fourcc.cpp	2007-05-06 09:36:04 UTC (rev 3029)
@@ -58,7 +58,17 @@
     *(uint32_t *) s = fourcc;
     return s;
 }
-
+char *fourCC::tostringBE(uint32_t fourcc)
+{
+    static char s[5];
+    s[4] = 0;
+    uint8_t *p=(uint8_t *)&fourcc;
+    s[0]=p[3];
+    s[1]=p[2];
+    s[2]=p[1];
+    s[3]=p[0];
+    return s;
+}
 //_____________________________________
 int fourCC::check(uint8_t * in, uint8_t * cc)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/fourcc.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/fourcc.h	2007-05-06 09:35:28 UTC (rev 3028)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/fourcc.h	2007-05-06 09:36:04 UTC (rev 3029)
@@ -27,6 +27,7 @@
 	static int  			check(uint8_t *cc,uint32_t in);
 	static  uint32_t 	get(uint8_t *in)   ;
 	static char 		  *tostring(uint32_t fourcc);
+        static char               *tostringBE(uint32_t fourcc);
 
 };
 void mixDump(uint8_t *ptr, uint32_t len);



From mean at mail.berlios.de  Sun May  6 11:38:29 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 6 May 2007 11:38:29 +0200
Subject: [Avidemux-svn-commit] r3030 -
	branches/avidemux_2.4_branch/avidemux/ADM_editor
Message-ID: <200705060938.l469cTjk026114@sheep.berlios.de>

Author: mean
Date: 2007-05-06 11:38:28 +0200 (Sun, 06 May 2007)
New Revision: 3030

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edIdentify.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp
Log:
switch to new demuxer

Modified: branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edIdentify.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edIdentify.cpp	2007-05-06 09:36:04 UTC (rev 3029)
+++ branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edIdentify.cpp	2007-05-06 09:38:28 UTC (rev 3030)
@@ -29,7 +29,8 @@
 #include "ADM_inpics/ADM_pics.h"
 #include "ADM_nuv/ADM_nuv.h"
 #include "ADM_h263/ADM_h263.h"
-#include "ADM_3gp/ADM_3gp.h"
+//#include "ADM_3gp/ADM_3gp.h"
+#include "ADM_mp4/ADM_mp4.h"
 #include "ADM_avsproxy/ADM_avsproxy.h"
 #include "ADM_toolkit/toolkit.hxx"
 #include "ADM_editor/ADM_edit.hxx"

Modified: branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp	2007-05-06 09:36:04 UTC (rev 3029)
+++ branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp	2007-05-06 09:38:28 UTC (rev 3030)
@@ -41,7 +41,8 @@
 #include "ADM_inpics/ADM_pics.h"
 #include "ADM_nuv/ADM_nuv.h"
 #include "ADM_h263/ADM_h263.h"
-#include "ADM_3gp/ADM_3gp.h"
+//#include "ADM_3gp/ADM_3gp.h"
+#include "ADM_mp4/ADM_mp4.h"
 #include "ADM_openDML/ADM_openDML.h"
 #include "ADM_avsproxy/ADM_avsproxy.h"
 #include "ADM_toolkit/toolkit.hxx"
@@ -327,7 +328,7 @@
       OPEN_AS (BMP_FileType, picHeader);
       OPEN_AS (Matroska_FileType, mkvHeader);
       OPEN_AS (AvsProxy_FileType, avsHeader);
-      OPEN_AS (_3GPP_FileType, _3GPHeader);
+      OPEN_AS (_3GPP_FileType, MP4Header);
        OPEN_AS (Ogg_FileType, oggHeader);
 
     case Mpeg_FileType:



From mean at mail.berlios.de  Sun May  6 11:39:00 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 6 May 2007 11:39:00 +0200
Subject: [Avidemux-svn-commit] r3031 -
	branches/avidemux_2.4_branch/avidemux/ADM_audio
Message-ID: <200705060939.l469d0BY026163@sheep.berlios.de>

Author: mean
Date: 2007-05-06 11:38:59 +0200 (Sun, 06 May 2007)
New Revision: 3031

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_audio/ADM_aacinfo.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_audio/audio_packetizer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_audio/aviaudio.hxx
Log:
add AAC_HE id, not used ATM

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audio/ADM_aacinfo.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audio/ADM_aacinfo.cpp	2007-05-06 09:38:28 UTC (rev 3030)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audio/ADM_aacinfo.cpp	2007-05-06 09:38:59 UTC (rev 3031)
@@ -40,27 +40,38 @@
 	0,     0,     0,     0 
 };
 /*
+[0]
 	12 bits 111111	0xFC Sync tag
-	1		1 Mpeg2 0 Mpeg4
+	
+	1		layer 1 Mpeg2 0 Mpeg4
 	2		00
 	1		prot : 1 absent 0 present
 	
-	
+[2]/16 bits	
 	2		profile  00 main/01 LC
 	4		sampling index
 	1		private
 	
-	3		channel
+	1		channel
+[3]/24 bits
+	2               channel (cont'ed)
+	
 	1		original
 	1		Home
+-------------------------------------	
+	Sum=28 bits
 	
-	28 bits
 	
-	
 	1		copyriht
 	1		copyright id 
-	13		*** AAC frame length (including headers)
-	11		Buffer fullness 0x7FF = vbr
+	2               *** AAC frame length (including headers)
+[4]
+        8		*** AAC frame length (including headers)
+[5]
+        3		*** AAC frame length (including headers)
+	5		Buffer fullness 0x7FF = vbr
+[6]
+	6		Buffer fullness 0x7FF = vbr
 	2		nb raw frame
 	
 	28 bits
@@ -73,9 +84,9 @@
 
 uint8_t	getAACFrameInfo(uint8_t *stream,uint32_t maxSearch, AacAudioInfo *mpegInfo,AacAudioInfo *templ,uint32_t *offset)
 {
-uint32_t start=0,found=0;
+uint32_t start=0,found=0,part;
 uint8_t  a[8];
-uint32_t nfq,fqindex,brindex,index,nbframe;
+uint32_t nfq,fqindex,brindex,index,nbframe=0;
 			memset(mpegInfo,0,sizeof(*mpegInfo));
 			memcpy(a+1,stream,7);
 			do
@@ -88,17 +99,18 @@
 				if(a[0]==0xff && ((a[1]&0xF0)==0xF0))
 				{
 					// Layer
-					mpegInfo->layer=(a[1]>>3)&1;	
-					if((a[1]>>1) & 3) continue;
+                                        part=a[1]&0xf;
+					mpegInfo->layer=(part>>3);	
+					if(part & 0x6) continue;
 					
 					mpegInfo->profile=a[2]>>6;
 					mpegInfo->samplerate=aacBitrate[(a[2]>>2) & 0xF];
-					mpegInfo->channels=(a[3]>>5);
-					nbframe=(a[7]>>6)&3;
+					mpegInfo->channels=((a[2]&1)<<2)+(a[3]>>6);
+					nbframe=(a[6]>>6)&3;
 					nbframe++;
-					mpegInfo->size=((a[4]&3)<<11)
-							+((a[5])<<3)
-							+((a[6]>>5));
+					mpegInfo->size=((a[3]&3)<<11)
+							+((a[4])<<3)
+							+((a[5]>>5));
 						
 					if(!mpegInfo->samplerate) continue;
 					
@@ -111,7 +123,7 @@
 					return 0;
 				}
 			*offset=start-1;
-			printf("AAC Frame found at offset :%lu layer:%lu profile:%lu samperate:%lu channels:%lu size:%lu nbBlock:%lu\n",
+			printf("AAC Frame found at offset :%u layer:%u profile:%u samperate:%u channels:%u size:%u nbBlock:%u\n",
 					*offset,
 					mpegInfo->layer,
 					mpegInfo->profile, 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audio/audio_packetizer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audio/audio_packetizer.cpp	2007-05-06 09:38:28 UTC (rev 3030)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audio/audio_packetizer.cpp	2007-05-06 09:38:59 UTC (rev 3031)
@@ -444,12 +444,12 @@
 			{
 				// Error decoding mpeg
 				printf("AACInfo:** CANNOT FIND AAC/ADTS START CODE**\n");
-				packetHead+=8;
+				packetHead+=1;
 				return 0;
 			}
 			if(packetHead+startOffset+mpegInfo.size>packetTail)
 			{
-				printf("AAC packetizer: not enough data\n");
+				printf("AAC packetizer: not enough data (need %u, got %u)\n",mpegInfo.size,packetTail-packetHead-startOffset);
 				return 0;
 			}
 			memcpy(dest,&packetBuffer[packetHead+startOffset],

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audio/aviaudio.hxx
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audio/aviaudio.hxx	2007-05-06 09:38:28 UTC (rev 3030)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audio/aviaudio.hxx	2007-05-06 09:38:59 UTC (rev 3031)
@@ -60,6 +60,7 @@
 #define WAV_8BITS 	53 // dummy id
 #define WAV_MP4 	54 // dummy id
 #define WAV_AAC 	0xff // dummy id
+#define WAV_AAC_HE 	0xfe // dummy id
 #define WAV_8BITS_UNSIGNED 	55 // dummy id
 #define WAV_AMRNB 	56 // dummy id
 #define WAV_ULAW	57 // dummy id



From mean at mail.berlios.de  Sun May  6 11:39:28 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 6 May 2007 11:39:28 +0200
Subject: [Avidemux-svn-commit] r3032 -
	branches/avidemux_2.4_branch/avidemux/ADM_video
Message-ID: <200705060939.l469dSnx026212@sheep.berlios.de>

Author: mean
Date: 2007-05-06 11:39:28 +0200 (Sun, 06 May 2007)
New Revision: 3032

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_videoInfoExtractor.h
Log:
silence gcc warning

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_videoInfoExtractor.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_videoInfoExtractor.h	2007-05-06 09:38:59 UTC (rev 3031)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_videoInfoExtractor.h	2007-05-06 09:39:28 UTC (rev 3032)
@@ -22,4 +22,5 @@
 uint8_t extractH264FrameType(uint32_t nalSize,uint8_t *buffer,uint32_t len,uint32_t *flags);
 uint8_t extractH264FrameType_startCode(uint32_t nalSize,uint8_t *buffer,uint32_t len,uint32_t *flags);
 
-#endif
\ No newline at end of file
+#endif
+//EOF



From mean at mail.berlios.de  Sun May  6 11:40:17 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 6 May 2007 11:40:17 +0200
Subject: [Avidemux-svn-commit] r3033 -
	branches/avidemux_2.4_branch/avidemux/ADM_audiocodec
Message-ID: <200705060940.l469eHm2026325@sheep.berlios.de>

Author: mean
Date: 2007-05-06 11:40:16 +0200 (Sun, 06 May 2007)
New Revision: 3033

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_audiocodec.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_audiocodec.h
Log:
add pseudo codec AAC_HE, not used atm

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_audiocodec.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_audiocodec.cpp	2007-05-06 09:39:28 UTC (rev 3032)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_audiocodec.cpp	2007-05-06 09:40:16 UTC (rev 3033)
@@ -105,11 +105,17 @@
 						break;
 #endif		
 #ifdef USE_FAAD
+                                case WAV_AAC_HE:
+						printf("\n MP4 audio (HE)\n");
+						out= (ADM_Audiocodec *) new ADM_faad(fourcc,1,info,
+								extra,extraData);
+						break;
+
 				case WAV_AAC:
 				case WAV_MP4:
                                 case 0x706D:  // Weird fourcc/id code used by mencoder
 						printf("\n MP4 audio \n");
-						out= (ADM_Audiocodec *) new ADM_faad(fourcc,info,
+						out= (ADM_Audiocodec *) new ADM_faad(fourcc,0,info,
 								extra,extraData);
 						break;
 #endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_audiocodec.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_audiocodec.h	2007-05-06 09:39:28 UTC (rev 3032)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_audiocodec.h	2007-05-06 09:40:16 UTC (rev 3033)
@@ -179,7 +179,7 @@
 		uint32_t _inbuffer;	
 
 	public:
-		ADM_faad(uint32_t fourcc, WAVHeader *info, uint32_t l, uint8_t *d);
+		ADM_faad(uint32_t fourcc, uint32_t highEfficiency,WAVHeader *info, uint32_t l, uint8_t *d);
 		virtual	~ADM_faad();
 		virtual	void purge(void);
 		virtual	uint8_t run(uint8_t *inptr, uint32_t nbIn, float *outptr, uint32_t *nbOut);



From mean at mail.berlios.de  Sun May  6 11:40:30 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 6 May 2007 11:40:30 +0200
Subject: [Avidemux-svn-commit] r3034 - branches/avidemux_2.4_branch/avidemux
Message-ID: <200705060940.l469eUJN026357@sheep.berlios.de>

Author: mean
Date: 2007-05-06 11:40:30 +0200 (Sun, 06 May 2007)
New Revision: 3034

Modified:
   branches/avidemux_2.4_branch/avidemux/Makefile.am
Log:
use our new demuxer

Modified: branches/avidemux_2.4_branch/avidemux/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/Makefile.am	2007-05-06 09:40:16 UTC (rev 3033)
+++ branches/avidemux_2.4_branch/avidemux/Makefile.am	2007-05-06 09:40:30 UTC (rev 3034)
@@ -107,7 +107,7 @@
 ./ADM_encoder/libADM_encoder.a				\
 ./ADM_codecs/libADM_codecs.a				\
 ./ADM_requant/libADM_requant.a				\
-./ADM_inputs/ADM_3gp/libADM_3gp.a			\
+./ADM_inputs/ADM_mp4/libADM_mp4.a			\
 ./ADM_inputs/ADM_asf/libADM_asf.a			\
 ./ADM_inputs/ADM_h263/libADM_h263.a			\
 ./ADM_inputs/ADM_inpics/libADM_inpics.a			\



From mean at mail.berlios.de  Sun May  6 11:41:30 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 6 May 2007 11:41:30 +0200
Subject: [Avidemux-svn-commit] r3035 -
	branches/avidemux_2.4_branch/avidemux/ADM_audiocodec
Message-ID: <200705060941.l469fUpp026596@sheep.berlios.de>

Author: mean
Date: 2007-05-06 11:41:29 +0200 (Sun, 06 May 2007)
New Revision: 3035

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_codecfaad.cpp
Log:
pseudo codec AAC HE

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_codecfaad.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_codecfaad.cpp	2007-05-06 09:40:30 UTC (rev 3034)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_codecfaad.cpp	2007-05-06 09:41:29 UTC (rev 3035)
@@ -30,7 +30,7 @@
 #include "faad.h"
 
 
-ADM_faad::ADM_faad( uint32_t fourcc ,WAVHeader *info,uint32_t l,uint8_t *d) :   ADM_Audiocodec(fourcc)
+ADM_faad::ADM_faad( uint32_t fourcc ,uint32_t highEfficiency,WAVHeader *info,uint32_t l,uint8_t *d) :   ADM_Audiocodec(fourcc)
 {
 faacDecConfigurationPtr conf;
 #ifdef OLD_FAAD_PROTO
@@ -47,7 +47,13 @@
 		// Update the field we know about
 		conf->outputFormat=FAAD_FMT_16BIT;
 		conf->defSampleRate=info->frequency;
-		conf->defObjectType =LC;
+                if(!highEfficiency)
+                {
+		  conf->defObjectType =LC;
+                }else
+                {
+                   conf->defObjectType =HE_AAC;
+                }
 		faacDecSetConfiguration(_instance, conf);
 		// if we have some extra data, it means we can init it from it
 		if(l)



From mean at mail.berlios.de  Sun May  6 12:40:24 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 6 May 2007 12:40:24 +0200
Subject: [Avidemux-svn-commit] r3036 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4
Message-ID: <200705061040.l46AeO3D019567@sheep.berlios.de>

Author: mean
Date: 2007-05-06 12:40:16 +0200 (Sun, 06 May 2007)
New Revision: 3036

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
Log:
oops

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-06 09:41:29 UTC (rev 3035)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-06 10:40:16 UTC (rev 3036)
@@ -448,6 +448,7 @@
           }
 
        }
+       break;
        case ADM_MP4_STCO64:
        {
          printf("Incomplete support for 64 bits quicktime!!\n");



From mean at mail.berlios.de  Sun May  6 15:00:23 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 6 May 2007 15:00:23 +0200
Subject: [Avidemux-svn-commit] r3038 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4
Message-ID: <200705061300.l46D0NsR021444@sheep.berlios.de>

Author: mean
Date: 2007-05-06 15:00:23 +0200 (Sun, 06 May 2007)
New Revision: 3038

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp
Log:
fix esds for audio, makes SBR works

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-06 12:56:07 UTC (rev 3037)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-06 13:00:23 UTC (rev 3038)
@@ -375,7 +375,7 @@
                         info.Sc[j]=son.read32();
                         info.Sn[j]=son.read32();
                         son.read32();
-                        adm_printf(ADM_PRINT_VERY_VERBOSE,"\t sc  %d : sc start:%lu sc count: %lu\n",j,info.Sc[j],info.Sn[j]);
+                        adm_printf(ADM_PRINT_VERY_VERBOSE,"\t sc  %d : sc start:%u sc count: %u\n",j,info.Sc[j],info.Sn[j]);
                 }
 
             }
@@ -444,7 +444,7 @@
           for(int j=0;j< info.nbCo;j++)
           {
                   info.Co[j]=son.read32();
-                  adm_printf(ADM_PRINT_VERY_VERBOSE,"Chunk offset : %lu / %lu  : %lu\n",  j,info.nbCo,info.Co[j]);
+                  adm_printf(ADM_PRINT_VERY_VERBOSE,"Chunk offset : %u / %u  : %u\n",  j,info.nbCo,info.Co[j]);
           }
 
        }
@@ -460,7 +460,7 @@
           {
                   son.read32(); // Ignore MSB
                   info.Co[j]=son.read32();
-                  adm_printf(ADM_PRINT_VERY_VERBOSE,"Chunk offset : %lu / %lu  : %lu\n",  j,info.nbCo,info.Co[j]);
+                  adm_printf(ADM_PRINT_VERY_VERBOSE,"Chunk offset : %u / %u  : %lu\n",  j,info.nbCo,info.Co[j]);
           }
 
        }
@@ -786,7 +786,15 @@
                                                    
                                                  }  // Wave iddone
                                               }  // if ==wave
-                                              
+                                              else
+                                              {
+                                                if(wave.getFCC()==MKFCCR('e','s','d','s'))
+                                                          {
+                                                               decodeEsds(&wave,TRACK_AUDIO);
+                                                               goto foundit; // FIXME!!!
+                                                          } 
+                                                
+                                              }
                                             } // if left > 10
 foundit: // HACK FIXME     
                                             left=0;
@@ -893,7 +901,7 @@
 int tag,l;
             // in case of mpeg4 we only take
             // the mpeg4 vol header
-            printf("Esds atom found\n");
+            printf("[MP4]Esds atom found\n");
 
             tom->skipBytes(4);
             tag=0xff;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp	2007-05-06 12:56:07 UTC (rev 3037)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp	2007-05-06 13:00:23 UTC (rev 3038)
@@ -37,7 +37,7 @@
 
 
 
-#define MAX_CHUNK_SIZE (3*1024)
+#define MAX_CHUNK_SIZE (4*1024)
 /**
         \fn indexify
         \brief build the index from the stxx atoms
@@ -130,14 +130,15 @@
                 if(max && isAudio) // We have some big chunks we need to split them
                 {
                       // rebuild a new index
-                      printf("We have %u chunks that are too big, adjusting..\n",max);
+                      printf("We have %u chunks but it should be split into \n",info->nbCo);
+                      printf("around %u chunks. adjusting..(SzIdentical %u)\n",info->nbCo+max,info->SzIndentical);
                       uint32_t newNbCo=track->nbIndex+max*2; // *2 is enough, should be.
                       uint32_t w=0;
                       uint32_t one_go;
 
                         one_go=MAX_CHUNK_SIZE/info->SzIndentical;
                         one_go=one_go*info->SzIndentical;
-
+                        printf("One go :%u\n",one_go);
                      MP4Index *newindex=new MP4Index[newNbCo];
 
                     int64_t time_increment=(int64_t)((one_go/info->SzIndentical)*sampleDuration);  // Nb sample*duration of one sample
@@ -187,7 +188,7 @@
 
         if(info->SzIndentical) // Video, all same size (DV ?)
         {
-            adm_printf(ADM_PRINT_VERY_VERBOSE,"\t size for all %lu frames : %lu\n",info->nbSz,info->SzIndentical);
+            adm_printf(ADM_PRINT_VERY_VERBOSE,"\t size for all %u frames : %u\n",info->nbSz,info->SzIndentical);
             for(i=0;i<info->nbSz;i++)
             {
                     track->index[i].size=info->SzIndentical;
@@ -199,7 +200,7 @@
             for(i=0;i<info->nbSz;i++)
             {
                     track->index[i].size=info->Sz[i];
-                    adm_printf(ADM_PRINT_VERY_VERBOSE,"\t size : %d : %lu\n",i,info->Sz[i]);
+                    adm_printf(ADM_PRINT_VERY_VERBOSE,"\t size : %d : %u\n",i,info->Sz[i]);
             }
           }
 	// if no sample to chunk we map directly

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp	2007-05-06 12:56:07 UTC (rev 3037)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp	2007-05-06 13:00:23 UTC (rev 3038)
@@ -120,6 +120,10 @@
 	
 	  fseeko(_fd,_index[_current_index].offset,SEEK_SET);
 	  r=fread(dest,1,_index[_current_index].size,_fd);
+          if(!r)
+          {
+            printf("[MP4 Audio] Cannot read \n"); 
+          }
 	  if(_current_index==_nb_chunks-1)
 	  {
 	  	



From mean at mail.berlios.de  Sun May  6 18:01:14 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 6 May 2007 18:01:14 +0200
Subject: [Avidemux-svn-commit] r3041 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4
Message-ID: <200705061601.l46G1EGK005939@sheep.berlios.de>

Author: mean
Date: 2007-05-06 18:01:14 +0200 (Sun, 06 May 2007)
New Revision: 3041

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp
Log:
cosmetic

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-06 14:45:47 UTC (rev 3040)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-06 16:01:14 UTC (rev 3041)
@@ -225,7 +225,7 @@
                 duration=(uint32_t)((duration*1000.)/trackScale);
                 adm_printf(ADM_PRINT_DEBUG,"MDHD,duration in mdhd:%u (scaled ms)\n",duration);
                 trackDuration=duration;
-                printf("MDHD,Track duration :%s, trackScale :%u\n",ms2timedisplay(duration),trackScale);
+                printf("MDHD,Track duration :%s, trackScale :%u\n",ms2timedisplay((1000*duration)/trackScale),trackScale);
                 break;
        }
        case ADM_MP4_HDLR:  

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp	2007-05-06 14:45:47 UTC (rev 3040)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp	2007-05-06 16:01:14 UTC (rev 3041)
@@ -65,7 +65,7 @@
 		{
 			_length+=track->index[i].size;
 		}
-	printf("\n 3gp audio : %lu bytes (%lu chunks)\n",_length,_nb_chunks);
+	printf("\n [MP4 audio] : %lu bytes (%lu chunks)\n",_length,_nb_chunks);
 
 	printf("Byterate     :%d\n",_wavheader->byterate);
 	printf("Frequency :%d\n",_wavheader->frequency);
@@ -116,14 +116,21 @@
 
 uint32_t r=0;
 double delta;
-	if(_current_index>=_nb_chunks)  return 0;
-	
+	if(_current_index>=_nb_chunks)  
+        {
+              printf("MP4Audio : index max :%u/%u\n",_current_index,_nb_chunks);
+              return 0;
+        }
 	  fseeko(_fd,_index[_current_index].offset,SEEK_SET);
 	  r=fread(dest,1,_index[_current_index].size,_fd);
           if(!r)
           {
             printf("[MP4 Audio] Cannot read \n"); 
           }
+          else
+          {
+            
+          }
 	  if(_current_index==_nb_chunks-1)
 	  {
 	  	
@@ -139,7 +146,7 @@
                         delta/=1000.; // mss -> second
                         *samples=(uint32_t)floor(delta);
                 }else *samples=1024;
-                printf("3gp: Last sample %d current chunk %d nb chunk %d\n",
+                printf("[MP4Audio]: Last sample %d current chunk %d nb chunk %d\n",
                                 *samples,_current_index,_nb_chunks);
                 
 	  }
@@ -154,6 +161,10 @@
 		*samples=(uint32_t)floor(delta);
 	  
 	  }
+#if 0
+          printf("[MP4Audio]Read %u bytes\n", r);
+            printf("MP4Audio : index  :%u/%u sample : %u\n",_current_index,_nb_chunks,*samples);
+#endif
 	  _current_index++;
 	  *len=r;
 	  



From mean at mail.berlios.de  Sun May  6 19:37:43 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 6 May 2007 19:37:43 +0200
Subject: [Avidemux-svn-commit] r3042 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory
Message-ID: <200705061737.l46Hbho1024827@sheep.berlios.de>

Author: mean
Date: 2007-05-06 19:37:42 +0200 (Sun, 06 May 2007)
New Revision: 3042

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp
Log:
JM : Second round of gtk frames

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp	2007-05-06 16:01:14 UTC (rev 3041)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_dialogFactory.cpp	2007-05-06 17:37:42 UTC (rev 3042)
@@ -71,6 +71,7 @@
   GtkWidget *dialog=gtk_dialog_new ();
   GtkWidget *dialog_vbox1;
   GtkWidget *table1;
+  GtkWidget *vbox1;
   
   gtk_window_set_title (GTK_WINDOW (dialog),title );
   gtk_window_set_resizable (GTK_WINDOW (dialog), FALSE);
@@ -80,25 +81,41 @@
   gtk_box_set_spacing (GTK_BOX(dialog_vbox1), 12);
   gtk_widget_show (dialog_vbox1);
   
-  int vsize=0;
-  for(int i=0;i<nb;i++)
-      vsize+=elems[i]->getSize();
+  vbox1 = gtk_vbox_new (0, 18);
+  gtk_container_set_border_width (GTK_CONTAINER (vbox1), 6);
+  gtk_container_add (GTK_CONTAINER (dialog_vbox1), vbox1);
+  gtk_widget_show (vbox1);
   
-  
-  table1 = gtk_table_new (vsize, 2, FALSE);
-  gtk_table_set_col_spacings (GTK_TABLE (table1), 12);
-  gtk_table_set_row_spacings (GTK_TABLE (table1), 6);
-  gtk_container_set_border_width (GTK_CONTAINER (table1), 6);
-  gtk_widget_show (table1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), table1, TRUE, TRUE, 0);
-  
   int line=0;
-  for(int i=0;i<nb;i++)
+  int i=0;  
+  while (i<nb)
   {
-    addLine(elems[i],dialog,table1,line);
-    line+=elems[i]->getSize();
-    
+	  if (elems[i]->mySelf == ELEM_FRAME)
+	  {
+		  addLine(elems[i],dialog,vbox1,line);
+		  i++;
+	  }
+	  else
+	  {
+		  line = 0;
+		  int nbLine=0;
+		  while (i+nbLine<nb && elems[i+nbLine]->mySelf != ELEM_FRAME) 
+			  nbLine++;
+		  table1 = gtk_table_new (nbLine, 2, FALSE);
+		  gtk_table_set_col_spacings (GTK_TABLE (table1), 12);
+		  gtk_table_set_row_spacings (GTK_TABLE (table1), 6);
+		  gtk_box_pack_start (GTK_BOX(vbox1), table1, FALSE, FALSE, 0);
+		  gtk_widget_show (table1);
+                  
+		  while (i<nb && elems[i]->mySelf != ELEM_FRAME)
+		  {
+			  addLine(elems[i],dialog,table1,line);
+			  line+=elems[i]->getSize();
+			  i++;
+		  }
+	  }
   }
+  
   // Add a Close button
   GtkWidget *okbutton1;
   GtkWidget *cancelbutton1;
@@ -249,9 +266,9 @@
                   
                   while (i<tab->nbElems && tab->dias[i]->mySelf != ELEM_FRAME)
                   {
-                          line+=tab->dias[i]->getSize();
-                          addLine(tab->dias[i],nb,table1,line-1);
-                          i++;
+                          addLine(tab->dias[i],nb,table1,line);
+						  line+=tab->dias[i]->getSize();
+						  i++;
                   }
 	  }
   }



From mean at mail.berlios.de  Sun May  6 20:00:24 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 6 May 2007 20:00:24 +0200
Subject: [Avidemux-svn-commit] r3043 - in
	branches/avidemux_2.4_branch/avidemux: ADM_audiocodec ADM_editor
Message-ID: <200705061800.l46I0OuS026144@sheep.berlios.de>

Author: mean
Date: 2007-05-06 20:00:23 +0200 (Sun, 06 May 2007)
New Revision: 3043

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_codecfaad.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_editor/ADMedAVIAUD.cpp
Log:
cosmetic

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_codecfaad.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_codecfaad.cpp	2007-05-06 17:37:42 UTC (rev 3042)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_codecfaad.cpp	2007-05-06 18:00:23 UTC (rev 3043)
@@ -55,20 +55,21 @@
                    conf->defObjectType =HE_AAC;
                 }
 		faacDecSetConfiguration(_instance, conf);
+                printf("[FAAD] using %u bytes of extradata\n",l);
 		// if we have some extra data, it means we can init it from it
 		if(l)
 		{
 			_inited = 1;
 			faacDecInit2(_instance, d,l, &srate,&chan);
-			printf("Found :%d rate %d channels\n",srate,chan);
+			printf("[FAAD]Found :%d rate %d channels\n",srate,chan);
                         if(srate!=info->frequency)
                         {
-                            printf("Frequency mismatch!!! %d to %d (SBR ?)\n",info->frequency,srate);
+                            printf("[FAAD]Frequency mismatch!!! %d to %d (SBR ?)\n",info->frequency,srate);
                             info->frequency=srate;
                         }	
                         if(chan!=info->channels) // Ask for stereo !
                         {
-                             printf("channel mismatch!!! %d to %d \n",info->channels,chan);
+                             printf("[FAAD]channel mismatch!!! %d to %d \n",info->channels,chan);
                             info->channels=chan;
                         }
 		}
@@ -86,7 +87,7 @@
 	ch_route.input_type[4] = CH_REAR_RIGHT;
 	ch_route.input_type[5] = CH_LFE;
 
-		printf("Faad decoder created\n");
+		printf("[FAAD]Faad decoder created\n");
 }
 
 ADM_faad::~ADM_faad()

Modified: branches/avidemux_2.4_branch/avidemux/ADM_editor/ADMedAVIAUD.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_editor/ADMedAVIAUD.cpp	2007-05-06 17:37:42 UTC (rev 3042)
+++ branches/avidemux_2.4_branch/avidemux/ADM_editor/ADMedAVIAUD.cpp	2007-05-06 18:00:23 UTC (rev 3043)
@@ -40,8 +40,8 @@
 #define AUDIOSEG 	_segments[_audioseg]._reference
 #define SEG 		_segments[seg]._reference
 
+extern char* ms2timedisplay(uint32_t ms);
 
-
 uint8_t		 ADM_Composer::audioFlushPacket(void)
 {
 	for(uint32_t i=0;i<_nb_video;i++)
@@ -112,7 +112,9 @@
 	if(_audioseg == (_nb_segment - 1))
 	{
 		
-		printf("EditorPacket : End of stream\n");
+		printf("EditorPacket : End of stream Segment :%u/%u \n",_audioseg,_nb_segment);
+                printf("This sample : %s ",ms2timedisplay(1000*_audioSample/currentVideo->_audiostream->getInfo()->frequency));
+                printf("total :%s\n" ,ms2timedisplay(1000*_segments[_audioseg]._audio_duration/currentVideo->_audiostream->getInfo()->frequency));
 		return 0;
 	}
 	// switch segment



From mean at mail.berlios.de  Sun May  6 23:26:53 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 6 May 2007 23:26:53 +0200
Subject: [Avidemux-svn-commit] r3044 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4
Message-ID: <200705062126.l46LQrQg010471@sheep.berlios.de>

Author: mean
Date: 2007-05-06 23:26:52 +0200 (Sun, 06 May 2007)
New Revision: 3044

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp
Log:
fix some audio handling (sample size=1, block size to be deduced form sample per packet/byte per packet)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.h	2007-05-06 18:00:23 UTC (rev 3043)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4.h	2007-05-06 21:26:52 UTC (rev 3044)
@@ -47,6 +47,10 @@
       uint32_t *Sync; 
       uint32_t *Ctts;
   
+      uint32_t samplePerPacket;
+      uint32_t bytePerPacket;
+      uint32_t bytePerFrame;
+      
       MPsampleinfo(void);
       ~MPsampleinfo(void);
 };

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-06 18:00:23 UTC (rev 3043)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-06 21:26:52 UTC (rev 3044)
@@ -673,25 +673,35 @@
                                 left-=2;
                                 printf("[STSD]Packet size    :%d\n",encoding);
                                 
-                                printf("[STSD]Left           :%d\n",left);
-                                if(atomVersion<2)
+                              
+                                fq=ADIO.frequency=son.read16();
+                                printf("[STSD]Fq:%u\n",fq);
+                                if(ADIO.frequency<6000) ADIO.frequency=48000;
+                                printf("[STSD]Fq       :%d\n",ADIO.frequency); // Bps
+                                        son.skipBytes(2); // Fixed point
+                                left-=4;
+                                if(atomVersion)
                                 {
-                                        fq=ADIO.frequency=son.read16();
-                                        printf("Fq:%u\n",fq);
-                                        if(ADIO.frequency<6000) ADIO.frequency=48000;
-                                        printf("[STSD]Fq       :%d\n",ADIO.frequency); // Bps
-                                        son.skipBytes(2); // Fixed point
-                                        left-=4;
+                                    info.samplePerPacket=son.read32();
+                                    info.bytePerPacket=son.read32();
+                                    info.bytePerFrame=son.read32();
+                                    printf("[STSD] Sample per packet %u\n",info.samplePerPacket);
+                                    printf("[STSD] Bytes per packet  %u\n",info.bytePerPacket);
+                                    printf("[STSD] Bytes per frame   %u\n",info.bytePerFrame);
+                                    printf("[STSD] Bytes per sample   %u\n",son.read32());
+                                    left-=16;
+                                }else
+                                {
+                                  info.samplePerPacket=1;
+                                  info.bytePerPacket=1;
+                                  info.bytePerFrame=1;
                                 }
                                 switch(atomVersion)
                                 {
                                   case 0:break;
-                                  case 1:son.skipBytes(16);  // sample per frame etc..
-                                          left-=16;
-                                          break;
+                                  case 1: break;
                                   case 2:
                                           ADIO.frequency=44100; // FIXME
-                                          son.skipBytes(16);
                                           ADIO.channels=son.read32();
                                           printf("Channels            :%d\n",ADIO.channels); // Channels
                                           printf("Tak(7F000)          :%x\n",son.read32()); // Channels
@@ -881,6 +891,7 @@
                 else
                     _tracks[1+nbAudioTrack].nbIndex=info.nbSz;
                 printf("Indexed audio, nb blocks:%u (final)\n",_tracks[1+nbAudioTrack].nbIndex);
+                _tracks[1+nbAudioTrack].scale=trackScale;
                 nbAudioTrack++;
             }
             

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp	2007-05-06 18:00:23 UTC (rev 3043)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp	2007-05-06 21:26:52 UTC (rev 3044)
@@ -35,8 +35,8 @@
 #define MODULE_NAME MODULE_3GP
 #include "ADM_osSupport/ADM_debug.h"
 
+uint32_t sample2byte(WAVHeader *hdr,uint32_t sample);
 
-
 #define MAX_CHUNK_SIZE (4*1024)
 /**
         \fn indexify
@@ -66,7 +66,9 @@
         {
           ADM_assert(info->Sz);
         }
-	// first set size
+        //*********************************************************
+	// in that case they are all the same size, i.e.audio
+        //*********************************************************
 	if(info->SzIndentical && isAudio)// in that case they are all the same size, i.e.audio
 	{
           
@@ -77,20 +79,21 @@
               // Each chunk contains N samples=N bytes
               int samplePerChunk[info->nbCo];
               memset(samplePerChunk,0,info->nbCo*sizeof(int));
+              int total=0;
               for( i=0;i<info->nbSc;i++)
               {
+
                   for(int j=info->Sc[i]-1;j<info->nbCo;j++)
                   {
+                    uint32_t mx;
                         adm_printf(ADM_PRINT_VERY_VERBOSE,"For chunk %lu , %lu samples\n",j,info->Sn[i]);
                         samplePerChunk[j]=info->Sn[i];
                   }
               }
-              int total=0;
-              for( i=0;i<info->nbCo;i++)
-              {
-                  adm_printf(ADM_PRINT_VERY_VERBOSE,"%u -> %u samples %u bytes\n",i,samplePerChunk[i],samplePerChunk[i]*info->SzIndentical);
-                  total+=samplePerChunk[i];
-              }
+              /**/
+              for(i=0;i<info->nbCo;i++)
+                total+=samplePerChunk[i];
+              
               printf("Total size in byte : %u\n",total*info->SzIndentical);
               track->index=new MP4Index[info->nbCo];
               memset(track->index,0,info->nbCo*sizeof(MP4Index));
@@ -100,9 +103,19 @@
               for(i=0;i<info->nbCo;i++)
               {
                   uint32_t sz;
-
+#define PACK_SIZE info->bytePerFrame // perPacket ??
+                  
                   track->index[i].offset=info->Co[i];
-                  sz=samplePerChunk[i]*info->SzIndentical;
+                  sz=samplePerChunk[i];
+                  /* Sz is in sample, convert it to bytes */
+                  sz/=info->samplePerPacket;
+                  if(sz*info->samplePerPacket!=samplePerChunk[i])
+                  {
+                    printf("Warning sample per packet not divider of sample per chunk (per packet :%u , chunk :%u)\n",
+                              info->samplePerPacket, samplePerChunk[i]); 
+                  }
+                  sz*=PACK_SIZE;
+                  /* */
                   track->index[i].size=sz;
                   track->index[i].time=0; // No seek
                   if(sz>MAX_CHUNK_SIZE)
@@ -112,6 +125,7 @@
                   
                   totalBytes+=track->index[i].size;
               }
+              printf("Found %u bytes\n",totalBytes);
               // Now time to update the time...
               // Normally they have all the same duration
               if(info->nbStts!=1) printf("WARNING: Same size, different duration\n");
@@ -173,6 +187,10 @@
                     delete [] track->index;
                     track->index=newindex;
                     track->nbIndex=w;
+                    total=0;
+                    for(int i=0;i<track->nbIndex;i++)
+                        total+=track->index[i].size;
+                    printf("After split, we have %u bytes\n",total);
                 }
           printf("Index done\n");
           return 1;
@@ -307,5 +325,16 @@
         printf("Index done\n");
 	return 1;
 }
-
+/**
+      \fn sample2byte
+      \brief Convert the # of samples into the # of bytes needed
+*/
+uint32_t sample2byte(WAVHeader *hdr,uint32_t sample)
+{
+  float f;
+        f=hdr->frequency; // 1 sec worth of data
+        f=sample/f;       // in seconds
+        f*=hdr->byterate; // in byte
+    return (uint32_t)floor(f);
+}
 // EOF



From mean at mail.berlios.de  Mon May  7 10:03:04 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 7 May 2007 10:03:04 +0200
Subject: [Avidemux-svn-commit] r3046 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4
Message-ID: <200705070803.l478346L019689@sheep.berlios.de>

Author: mean
Date: 2007-05-07 10:03:03 +0200 (Mon, 07 May 2007)
New Revision: 3046

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp
Log:
handle most (all) configuration for audio track

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-06 23:49:57 UTC (rev 3045)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-07 08:03:03 UTC (rev 3046)
@@ -541,8 +541,16 @@
                                 //
                                 switch(entryName)
                                 {
-                                  case MKFCCR('m','p','4','v'):  //mp4v
+                                  case MKFCCR('s','2','6','3'):  //s263 d263
                                   {
+                                        commonPart(H263);
+                                         adm_atom d263(&son);
+                                         printf("Reading s253, got %s\n",fourCC::tostringBE(d263.getFCC()));
+                                          left=0;
+                                  }
+                                  break;
+                                   case MKFCCR('m','p','4','v'):  //mp4v
+                                  {
                                         commonPart(DIVX);
                                          adm_atom esds(&son);
                                          printf("Reading esds, got %s\n",fourCC::tostringBE(esds.getFCC()));
@@ -628,6 +636,7 @@
                                             {
                                                 adm_atom avcc(&son);
                                                 printf("Reading , got %s\n",fourCC::tostringBE(avcc.getFCC()));
+                                                left=0;
                                                 
                                             }
                                             break;
@@ -737,6 +746,21 @@
                                             audioCodec(8BITS_UNSIGNED);
                                             ADIO.byterate=ADIO.frequency*ADIO.channels;
                                             break;
+                                    case MKFCCR('s','a','m','r'):
+                                    {
+                                            audioCodec(AMRNB);
+                                            ADIO.frequency=8000;
+                                            ADIO.channels=1;
+                                            ADIO.bitspersample=16;
+                                            ADIO.byterate=12000/8;
+                                            if(left>10)
+                                            {
+                                               adm_atom amr(&son);
+                                              printf("Reading wave, got %s\n",fourCC::tostringBE(amr.getFCC()));
+                                              left=0;
+                                            }
+                                    }
+                                            break;
                                     
                                     case MKFCCR('m','s',0,0x55): // why 55 ???
                                     case MKFCCR('m','p','4','a'):
@@ -803,7 +827,10 @@
                                                                decodeEsds(&wave,TRACK_AUDIO);
                                                                goto foundit; // FIXME!!!
                                                           } 
-                                                
+                                                else
+                                                {
+                                                  printf("UNHANDLED ATOM : %s\n",fourCC::tostringBE(wave.getFCC())); 
+                                                }
                                               }
                                             } // if left > 10
 foundit: // HACK FIXME     

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp	2007-05-06 23:49:57 UTC (rev 3045)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp	2007-05-07 08:03:03 UTC (rev 3046)
@@ -94,37 +94,61 @@
               for(i=0;i<info->nbCo;i++)
                 total+=samplePerChunk[i];
               
-              printf("Total size in byte : %u\n",total*info->SzIndentical);
+              printf("Total size in sample : %u\n",total);
+              printf("Sample size          : %u\n",info->SzIndentical);
               track->index=new MP4Index[info->nbCo];
               memset(track->index,0,info->nbCo*sizeof(MP4Index));
               track->nbIndex=info->nbCo;;
               int max=0;
               totalBytes=0;
-              for(i=0;i<info->nbCo;i++)
+              if(info->SzIndentical!=1)
               {
-                  uint32_t sz;
-#define PACK_SIZE info->bytePerFrame // perPacket ??
-                  
-                  track->index[i].offset=info->Co[i];
-                  sz=samplePerChunk[i];
-                  /* Sz is in sample, convert it to bytes */
-                  sz/=info->samplePerPacket;
-                  if(sz*info->samplePerPacket!=samplePerChunk[i])
-                  {
-                    printf("Warning sample per packet not divider of sample per chunk (per packet :%u , chunk :%u)\n",
-                              info->samplePerPacket, samplePerChunk[i]); 
-                  }
-                  sz*=PACK_SIZE;
-                  /* */
-                  track->index[i].size=sz;
-                  track->index[i].time=0; // No seek
-                  if(sz>MAX_CHUNK_SIZE)
-                  {
-                      max+=sz/MAX_CHUNK_SIZE;
-                  }
-                  
-                  totalBytes+=track->index[i].size;
+                 for(i=0;i<info->nbCo;i++)
+                    {
+                        uint32_t sz;
+                        track->index[i].offset=info->Co[i];
+                        sz=samplePerChunk[i];
+                        /* Sz is in sample, convert it to bytes */
+                        sz=sz*info->SzIndentical;
+                        /* */
+                        track->index[i].size=sz;
+                        track->index[i].time=0; // No seek
+                        if(sz>MAX_CHUNK_SIZE)
+                        {
+                            max+=sz/MAX_CHUNK_SIZE;
+                        }
+                        
+                        totalBytes+=track->index[i].size;
+                    }
               }
+              else
+              {
+                    for(i=0;i<info->nbCo;i++)
+                    {
+                        uint32_t sz;
+      #define PACK_SIZE info->bytePerFrame // perPacket ??
+                        
+                        track->index[i].offset=info->Co[i];
+                        sz=samplePerChunk[i];
+                        /* Sz is in sample, convert it to bytes */
+                        sz/=info->samplePerPacket;
+                        if(sz*info->samplePerPacket!=samplePerChunk[i])
+                        {
+                          printf("Warning sample per packet not divider of sample per chunk (per packet :%u , chunk :%u)\n",
+                                    info->samplePerPacket, samplePerChunk[i]); 
+                        }
+                        sz*=PACK_SIZE;
+                        /* */
+                        track->index[i].size=sz;
+                        track->index[i].time=0; // No seek
+                        if(sz>MAX_CHUNK_SIZE)
+                        {
+                            max+=sz/MAX_CHUNK_SIZE;
+                        }
+                        
+                        totalBytes+=track->index[i].size;
+                    }
+              }
               printf("Found %u bytes\n",totalBytes);
               // Now time to update the time...
               // Normally they have all the same duration



From mean at mail.berlios.de  Mon May  7 10:37:46 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 7 May 2007 10:37:46 +0200
Subject: [Avidemux-svn-commit] r3047 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4
Message-ID: <200705070837.l478bkcD022158@sheep.berlios.de>

Author: mean
Date: 2007-05-07 10:37:45 +0200 (Mon, 07 May 2007)
New Revision: 3047

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
Log:
QDM2 playback

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-07 08:03:03 UTC (rev 3046)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-07 08:37:45 UTC (rev 3047)
@@ -725,6 +725,7 @@
 #define audioCodec(x) ADIO.encoding=WAV_##x;
                                 switch(entryName)
                                 {
+                                    
                                     case MKFCCR('t','w','o','s'):
                                             audioCodec(LPCM);
                                             ADIO.byterate=ADIO.frequency*ADIO.bitspersample*ADIO.channels/8;
@@ -761,11 +762,21 @@
                                             }
                                     }
                                             break;
-                                    
+                                    case MKFCCR('Q','D','M','2'):
+                                        {
+                                            uint32_t sz;
+                                              audioCodec(QDM2);
+                                              sz=son.getRemainingSize();
+                                              _tracks[1+nbAudioTrack].extraDataSize=sz;
+                                              _tracks[1+nbAudioTrack].extraData=new uint8_t[sz];
+                                              son.readPayload(_tracks[1+nbAudioTrack].extraData,sz);
+                                              left=0;
+                                        }
+                                        break;
                                     case MKFCCR('m','s',0,0x55): // why 55 ???
                                     case MKFCCR('m','p','4','a'):
                                     {
-                                            audioCodec(AAC);
+                                              audioCodec(AAC);
                                             if(left>10)
                                             {
                                               adm_atom wave(&son);
@@ -819,6 +830,7 @@
                                                      item.skipAtom();
                                                    
                                                  }  // Wave iddone
+                                                 left=0;
                                               }  // if ==wave
                                               else
                                               {



From mean at mail.berlios.de  Mon May  7 15:49:41 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 7 May 2007 15:49:41 +0200
Subject: [Avidemux-svn-commit] r3048 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska
Message-ID: <200705071349.l47DnfVu002613@sheep.berlios.de>

Author: mean
Date: 2007-05-07 15:49:40 +0200 (Mon, 07 May 2007)
New Revision: 3048

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_ebml.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvIndexer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv_audio.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ebml.cpp
Log:
fix overflow in vorbisreformat + set all frame as keyframe by default instead of random value

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_ebml.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_ebml.h	2007-05-07 08:37:45 UTC (rev 3047)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_ebml.h	2007-05-07 13:49:40 UTC (rev 3048)
@@ -14,7 +14,10 @@
 {
   protected:
         uint64_t  _fileSize;
+        
   public:
+        ADM_ebml  *_root;
+        uint32_t  _refCount;                
                     ADM_ebml(void);
         virtual     ~ADM_ebml();
         int64_t     readSignedInt(uint32_t nb);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.cpp	2007-05-07 08:37:45 UTC (rev 3047)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.cpp	2007-05-07 13:49:40 UTC (rev 3048)
@@ -480,6 +480,12 @@
       READ_LEN(len1);
       READ_LEN(len2);
       len3=oldata+oldlen-head;
+      if(len3<=len1+len2)
+      {
+        printf("Error in vorbis header, len3 too small %u %u / %u\n",len1,len2,len3);
+        return 0; 
+      }
+      len3-=(len1+len2);
       printf("Found packet len : %u %u %u, total size %u\n",len1,len2,len3,oldlen);
       // Now build our own packet...
       uint8_t *nwdata=new uint8_t[len1+len2+len3+sizeof(uint32_t)*3];

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvIndexer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvIndexer.cpp	2007-05-07 08:37:45 UTC (rev 3047)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvIndexer.cpp	2007-05-07 13:49:40 UTC (rev 3048)
@@ -251,7 +251,7 @@
   int x=Track->_nbIndex;
   index[x].pos=where;
   index[x].size=size;
-  index[x].flags=flags;
+  index[x].flags=AVI_KEY_FRAME;
   index[x].timeCode=0;
   
   float f=timecodeMS;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv_audio.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv_audio.cpp	2007-05-07 08:37:45 UTC (rev 3047)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv_audio.cpp	2007-05-07 13:49:40 UTC (rev 3048)
@@ -37,10 +37,11 @@
 */
  mkvAudio ::~mkvAudio()
 {
-  if(_parser) delete _parser;
-  _parser=NULL; 
   if(_clusterParser)  delete _clusterParser;
   _clusterParser=NULL;
+    if(_parser) delete _parser;
+  _parser=NULL; 
+
 }
 
 uint32_t    mkvAudio::read(uint32_t len,uint8_t *buffer)
@@ -278,6 +279,7 @@
   _nbClusters=nbClusters;
   _clusters=clust;
   ADM_assert(_clusters);
+  _destroyable = 1;
   
    _parser=new ADM_ebml_file();
    ADM_assert(_parser->open(name));

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ebml.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ebml.cpp	2007-05-07 08:37:45 UTC (rev 3047)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ebml.cpp	2007-05-07 13:49:40 UTC (rev 3048)
@@ -234,31 +234,52 @@
   fp=father->fp;
   _fileSize=father->_fileSize;
    _begin=ftello(fp);
+   _root=father->_root;
+   ADM_assert(_root);
+   _root->_refCount++;
 }
 ADM_ebml_file::ADM_ebml_file(void) : ADM_ebml()
 {
   _close=0;
+  fp=NULL;
+  _fileSize=0;
+  _begin=0;
+  _root=NULL;
+  _refCount=0;
 }
 ADM_ebml_file::~ADM_ebml_file()
 {
   ADM_assert(fp);
-  if(_close)
+  if(_close)  // We are the 1st one
   {
     ADM_assert(!_begin);
-    fclose(fp);
+    if(!_refCount)
+    {
+      fclose(fp);
+    }else
+    {
+      printf("WARNING: EBML killing father with non empty refcount : %u\n",_refCount); 
+    }
   }
-  else fseeko(fp,_begin+_size,SEEK_SET);
+  else 
+  {
+    fseeko(fp,_begin+_size,SEEK_SET);
+    ADM_assert(_root);
+    _root->_refCount--;
+  }
   fp=NULL; 
 }
 uint8_t ADM_ebml_file::open(const char *name)
 {
-  _close=1;
+  
   fp=fopen(name,"rb");
   if(!fp) 
   {
     aprintf("[EBML FILE] Failed to open <%s>\n",name);
     return 0;
   }
+  _root=this;
+  _close=1;
   fseeko(fp,0,SEEK_END);
   _begin=0;
   _fileSize=_size=ftello(fp);



From mean at mail.berlios.de  Tue May  8 17:46:26 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 8 May 2007 17:46:26 +0200
Subject: [Avidemux-svn-commit] r3049 - in branches/avidemux_2.4_branch: .
	avidemux/ADM_audiocodec avidemux/ADM_libraries/ADM_lavcodec
Message-ID: <200705081546.l48FkQsQ030360@sheep.berlios.de>

Author: mean
Date: 2007-05-08 17:46:24 +0200 (Tue, 08 May 2007)
New Revision: 3049

Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/amr_float/
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_audiocodec.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_codecwma.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/allcodecs.c
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/amr.c
   branches/avidemux_2.4_branch/configure.in.bot
   branches/avidemux_2.4_branch/configure.in.in
Log:
remove source code for amr decoder, use libamrnb if present

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_audiocodec.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_audiocodec.cpp	2007-05-07 13:49:40 UTC (rev 3048)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_audiocodec.cpp	2007-05-08 15:46:24 UTC (rev 3049)
@@ -56,10 +56,12 @@
 					out= (ADM_Audiocodec *)new ADM_AudiocodecWav(fourcc);
 #endif					
                   			break;
+#ifdef USE_AMR_NB
                                 case WAV_AMRNB:
                                         printf("\n AMR narrow band codec\n");
                                         out=(ADM_Audiocodec *)new ADM_AudiocodecAMR(fourcc,info);
                                         break;
+#endif
 				case WAV_8BITS:
 					printf("\n 8 BIts pseudo codec\n");
     					out= (ADM_Audiocodec *)new ADM_Audiocodec8Bits(fourcc);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_codecwma.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_codecwma.cpp	2007-05-07 13:49:40 UTC (rev 3048)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_codecwma.cpp	2007-05-08 15:46:24 UTC (rev 3049)
@@ -150,6 +150,7 @@
         return 1;
 }
 ///************************************************
+#ifdef USE_AMR_NB
   uint8_t ADM_AudiocodecAMR::beginDecompress( void ) 
    {
             _tail=_head=0;
@@ -240,5 +241,5 @@
 
         return 1;
 }
-
+#endif
 //---

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/Makefile.am	2007-05-07 13:49:40 UTC (rev 3048)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/Makefile.am	2007-05-08 15:46:24 UTC (rev 3049)
@@ -36,16 +36,14 @@
 EXTEND_PPC=
 
 endif
-EXTEND_AMR=	amr_float/interf_dec.c amr_float/sp_dec.c \
-		amr_float/interf_enc.c amr_float/sp_enc.c
-MYCFLAGS= -I.. -DHAVE_AV_CONFIG_H $(X_MMX_FLAGS) -O3 -Iamr_float -I../.. -I$(LAVUTIL) -Drestrict=__restrict__ -fomit-frame-pointer
+MYCFLAGS= -I.. -DHAVE_AV_CONFIG_H $(X_MMX_FLAGS) -O3 -I../.. -I$(LAVUTIL) -Drestrict=__restrict__ -fomit-frame-pointer
 # for SSE we need special compil flags
 fft_sse.o:i386/fft_sse.c
 	$(CC) -o $@ $< -c $(MYCFLAGS) $(CFLAGS) $(all_includes) -I..   -msse -I$(LAVUTIL) -I../../..
 vp3dsp_sse2.o:i386/vp3dsp_sse2.c
 	$(CC) -o $@ $< -c  $(MYCFLAGS) $(CFLAGS) $(all_includes) -I..  -msse -I$(LAVUTIL) -I../../..
 
-libavcodec_a_SOURCES = $(EXTEND_PPC) $(EXTEND_MMX) ac3enc.c $(EXTEND_AMR) \
+libavcodec_a_SOURCES = $(EXTEND_PPC) $(EXTEND_MMX) ac3enc.c  \
 		adpcm.c 	allcodecs.c 	cyuv.c 	dsputil.c 	dv.c \
 		error_resilience.c 		fdctref.c 	fft.c 	h263.c 	h263dec.c 	huffyuv.c 	imgconvert.c \
 		jfdctfst.c 	jfdctint.c 	jrevdct.c 	mace.c 	mdct.c 	 	mjpeg.c \
@@ -103,7 +101,7 @@
 dpcm.c      imgconvert.c    nuv.c      sonic.c \
 dsputil.c      oggtheora.c    svq1.c \
 vc1dsp.c \
-amr_float i386 libpostproc ppc 
+i386 libpostproc ppc 
 
 	
 	

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/allcodecs.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/allcodecs.c	2007-05-07 13:49:40 UTC (rev 3048)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/allcodecs.c	2007-05-08 15:46:24 UTC (rev 3049)
@@ -238,6 +238,7 @@
 #ifdef CONFIG_AMR_WB
     REGISTER_ENCDEC (AMR_WB, amr_wb);
 #endif
+    REGISTER_DECODER(QDM2, qdm2);
     REGISTER_DECODER(WMAV1, wmav1);
     REGISTER_DECODER(WMAV2, wmav2);
     

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/amr.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/amr.c	2007-05-07 13:49:40 UTC (rev 3048)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/amr.c	2007-05-08 15:46:24 UTC (rev 3049)
@@ -35,7 +35,7 @@
 
     The float version (default) can be downloaded from:
     http://www.3gpp.org/ftp/Specs/archive/26_series/26.104/26104-510.zip
-    Extract the soure into ffmpeg/libavcodec/amr_float
+    Extract the soure into ffmpeg/libavcodec/amrnb
 
     The specification for amr-nb can be found in TS 26.071
     (http://www.3gpp.org/ftp/Specs/html-info/26071.htm) and some other
@@ -54,6 +54,10 @@
     from: http://www.3gpp.org/ftp/Specs/archive/26_series/26.173/26173-571.zip
 
  */
+ /* MEANX */
+#include "config.h"
+#ifdef USE_AMR_NB
+ /* MEANX */
 
 #include "avcodec.h"
 
@@ -69,8 +73,8 @@
 #include "amr/e_homing.h"
 
 #else
-#include "amr_float/interf_dec.h"
-#include "amr_float/interf_enc.h"
+#include "amrnb/interf_dec.h"
+#include "amrnb/interf_enc.h"
 #endif
 
 /* Common code for fixed and float version*/
@@ -689,3 +693,6 @@
 };
 
 #endif //CONFIG_AMR_WB
+ /* MEANX */
+ #endif
+ /* MEANX */

Modified: branches/avidemux_2.4_branch/configure.in.bot
===================================================================
--- branches/avidemux_2.4_branch/configure.in.bot	2007-05-07 13:49:40 UTC (rev 3048)
+++ branches/avidemux_2.4_branch/configure.in.bot	2007-05-08 15:46:24 UTC (rev 3049)
@@ -19,6 +19,7 @@
 echo " libdca              : $have_libdca"
 echo " MAD                 : yes"
 echo " Ogg Vorbis          : $have_vorbis"
+echo " LibAMRNB            : $have_libamrnb"
 echo "************ Misc Libraries ************"
 echo " ALSA                : $have_alsa"
 echo " aRts                : $have_arts"
@@ -41,4 +42,4 @@
 echo " Debug               : $use_debug"
 echo " GCC vector support  : $use_builtin"
 echo " Profiling           : $use_profile"
-echo "****************************************"
\ No newline at end of file
+echo "****************************************"

Modified: branches/avidemux_2.4_branch/configure.in.in
===================================================================
--- branches/avidemux_2.4_branch/configure.in.in	2007-05-07 13:49:40 UTC (rev 3048)
+++ branches/avidemux_2.4_branch/configure.in.in	2007-05-08 15:46:24 UTC (rev 3049)
@@ -368,8 +368,6 @@
 
 AC_DEFINE(USE_FFMPEG,1,[FFmpeg])
 AC_DEFINE(USE_MJPEG,1,[MJPEG])
-AC_DEFINE(AMR_NB,1,[AMR_NB])
-AC_DEFINE(CONFIG_AMR_NB,1,[AMR_NB])
 AC_DEFINE(CONFIG_DVVIDEO_ENCODER,1,[DV encoder])
 
 have_alsa=yes
@@ -387,6 +385,7 @@
 have_ppc=no
 have_x264=yes
 have_aften=yes
+have_libamrnb=yes
 
 dnl ____________ Cygwin / MinGW ? _____________
 use_cygwin=no
@@ -562,7 +561,23 @@
 if test "x$have_x264" = "xyes"; then
 	AC_DEFINE(USE_X264,1,[use x264 encoder])
 fi
+dnl ___________________ libamrnb __________________
+AC_MSG_CHECKING(for libamrnb codec)
+AC_CHECK_HEADER(amrnb/interf_dec.h,,have_libamrnb=no)
 
+if test "x$have_libamrnb" = "xyes"; then
+   AC_CHECK_LIB(amrnb,GP3Decoder_Interface_Decode,,have_libamrnb=no,-lm )
+fi
+
+if test "x$have_libamrnb" = "xyes"; then
+        AC_DEFINE(AMR_NB,1,[AMR_NB])
+        AC_DEFINE(CONFIG_AMR_NB,1,[AMR_NB])
+        AC_DEFINE(USE_AMR_NB,1,[Tell avidemux to use libamrnb])
+else
+        AC_MSG_WARN(libamr not found, you can download it there : ftp://ftp.penguin.cz/pub/users/utx/amr/)
+fi
+
+
 dnl _________________ Xvid 0.9 ________________
 AC_MSG_CHECKING(for Xvid 0.9 codec)
 AC_CHECK_HEADER(xvid.h,,have_xx_xvid=no)
@@ -1328,8 +1343,6 @@
 AC_DEFINE(CONFIG_DECODERS,1,[FFMPEG])
 AC_DEFINE(CONFIG_QDM2_DECODER,1,[FFMPEG])
 AC_DEFINE(CONFIG_MPEGAUDIO_HP,1,[FFMPEG])
-AC_DEFINE(AMR_NB,1,[AMR_NB])
-AC_DEFINE(CONFIG_AMR_NB_DECODER,1,[AMR_NB])
 
 dnl bunch of new stuff
 AC_DEFINE(CONFIG_SNOW_ENCODER,1,[CONFIG_SNOW_ENCODER])



From mean at mail.berlios.de  Tue May  8 21:37:29 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 8 May 2007 21:37:29 +0200
Subject: [Avidemux-svn-commit] r3050 -
	branches/avidemux_2.4_branch/avidemux/ADM_video
Message-ID: <200705081937.l48JbTHN028804@sheep.berlios.de>

Author: mean
Date: 2007-05-08 21:37:28 +0200 (Tue, 08 May 2007)
New Revision: 3050

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidAnimated.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidChromaShift.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidContrast.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidCrop.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidDelta.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidEqualizer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidFieldUnblend.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidMPresize.c
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidPartial.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidRaw.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTdeint.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidUnblend.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidVobsub.cpp
Log:
dont assert when overflowing

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidAnimated.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidAnimated.cpp	2007-05-08 15:46:24 UTC (rev 3049)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidAnimated.cpp	2007-05-08 19:37:28 UTC (rev 3050)
@@ -173,6 +173,8 @@
     ADMImage *in;
     uint32_t offset,pool;
 
+    if(frame>= _info.nb_frames) return 0;
+    
     // Clean the image
     if(_BkgGnd)
         data ->duplicate(_BkgGnd);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidChromaShift.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidChromaShift.cpp	2007-05-08 15:46:24 UTC (rev 3049)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidChromaShift.cpp	2007-05-08 19:37:28 UTC (rev 3050)
@@ -100,7 +100,7 @@
 				uint32_t *flags)
 {
 
-		ADM_assert(frame<_info.nb_frames);
+		if(frame>= _info.nb_frames) return 0;
 		ADM_assert(_param);									
 								
 		// read uncompressed frame

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidContrast.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidContrast.cpp	2007-05-08 15:46:24 UTC (rev 3049)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidContrast.cpp	2007-05-08 19:37:28 UTC (rev 3050)
@@ -128,7 +128,7 @@
   //uint32_t x,w;
 
   ADM_assert (_param);
-  ADM_assert (frame < _info.nb_frames);
+ if(frame>= _info.nb_frames) return 0;
 
 
   if (!_in->getFrameNumberNoAlloc (frame, len, _uncompressed, flags))

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidCrop.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidCrop.cpp	2007-05-08 15:46:24 UTC (rev 3049)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidCrop.cpp	2007-05-08 19:37:28 UTC (rev 3050)
@@ -124,7 +124,7 @@
 
 			ADM_assert(frame<_info.nb_frames);
 			ADM_assert(_param);									
-								
+		if(frame>= _info.nb_frames) return 0;
 			// read uncompressed frame
        		if(!_in->getFrameNumberNoAlloc(frame, len,_uncompressed,flags)) return 0;
        		

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidDelta.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidDelta.cpp	2007-05-08 15:46:24 UTC (rev 3049)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidDelta.cpp	2007-05-08 19:37:28 UTC (rev 3050)
@@ -99,6 +99,7 @@
         w=_info.width;
         h=_info.height;
         page=w*h;
+  if(frame>= _info.nb_frames) return 0;
   if(!frame || frame>=_info.nb_frames-1)
   {
         memset(YPLANE(data),0,page);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidEqualizer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidEqualizer.cpp	2007-05-08 15:46:24 UTC (rev 3049)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidEqualizer.cpp	2007-05-08 19:37:28 UTC (rev 3050)
@@ -104,6 +104,7 @@
 				uint32_t *flags)
 {
 
+        if(frame>= _info.nb_frames) return 0;
 	if(!_in->getFrameNumberNoAlloc(frame,len,_uncompressed,flags)) return 0;
 	
 	uint8_t *src,*dst;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidFieldUnblend.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidFieldUnblend.cpp	2007-05-08 15:46:24 UTC (rev 3049)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidFieldUnblend.cpp	2007-05-08 19:37:28 UTC (rev 3050)
@@ -399,7 +399,7 @@
 	ADMImage *srcP,*srcN,*srcNN,*src,*final,*display;
         float distMerged, distN,distP,distM,distR;
         char txt[255];
-
+        if(frame>= _info.nb_frames) return 0;
         if(inframe<1 || inframe>inframe>_info.nb_frames-2 )
         {
                 data->duplicate(vidCache->getImage(inframe));

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidMPresize.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidMPresize.c	2007-05-08 15:46:24 UTC (rev 3049)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidMPresize.c	2007-05-08 19:37:28 UTC (rev 3050)
@@ -178,7 +178,7 @@
    																	uint32_t *flags)
 {
 static Image in,out;
-			assert(frame<_info.nb_frames);
+			if(frame>= _info.nb_frames) return 0;
 			assert(_param);	
 	
    			

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidPartial.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidPartial.cpp	2007-05-08 15:46:24 UTC (rev 3049)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidPartial.cpp	2007-05-08 19:37:28 UTC (rev 3050)
@@ -138,7 +138,7 @@
 				uint32_t *flags)
 {
 		ADM_assert(_son);
-		
+		if(frame>= _info.nb_frames) return 0;
 		if((frame+_info.orgFrame>=_param->_start) && (frame+_info.orgFrame)<=_param->_end) // 
 		{
 				return _son->getFrameNumberNoAlloc(frame,len,data,flags);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidRaw.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidRaw.cpp	2007-05-08 15:46:24 UTC (rev 3049)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidRaw.cpp	2007-05-08 19:37:28 UTC (rev 3050)
@@ -68,6 +68,7 @@
 {
         UNUSED_ARG(len);
     	UNUSED_ARG(flags);
+                if(frame>= _info.nb_frames) return 0;
 		*len=(_info.width*_info.height*3)>>1;
 		if(!(frame<_info.nb_frames))
 		{

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTdeint.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTdeint.cpp	2007-05-08 15:46:24 UTC (rev 3049)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTdeint.cpp	2007-05-08 19:37:28 UTC (rev 3050)
@@ -440,7 +440,7 @@
         float distMerged, distN,distP,distM,distR,skip=0;
         char txt[255];
 
-        
+        if(frame>= _info.nb_frames) return 0;
         if(n<1 || n>_info.nb_frames-3 )
         {
                 skip=1;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidUnblend.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidUnblend.cpp	2007-05-08 15:46:24 UTC (rev 3049)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidUnblend.cpp	2007-05-08 19:37:28 UTC (rev 3050)
@@ -160,7 +160,7 @@
 	int blend=0, useframe;
 	ADMImage *src;
 	char buf[255];
-
+        if(frame>= _info.nb_frames) return 0;
         if(!inframe || inframe>_info.nb_frames-5)
         {
                 data->duplicate(vidCache->getImage(inframe));

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidVobsub.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidVobsub.cpp	2007-05-08 15:46:24 UTC (rev 3049)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidVobsub.cpp	2007-05-08 19:37:28 UTC (rev 3050)
@@ -377,7 +377,7 @@
 uint64_t time;
 uint32_t sub;
 
-        ADM_assert(frame<_info.nb_frames);
+        if(frame>= _info.nb_frames) return 0;
         // read uncompressed frame
         if(!_in->getFrameNumberNoAlloc(frame, len,data,flags)) return 0;
 



From mean at mail.berlios.de  Tue May  8 21:38:24 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 8 May 2007 21:38:24 +0200
Subject: [Avidemux-svn-commit] r3051 -
	branches/avidemux_2.4_branch/avidemux/ADM_videoFilter
Message-ID: <200705081938.l48JcOUI029027@sheep.berlios.de>

Author: mean
Date: 2007-05-08 21:38:23 +0200 (Tue, 08 May 2007)
New Revision: 3051

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidASS.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidChroma.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDGbob.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecDec.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDenoise.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFastConvolution.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFlipV.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFlux.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidLargeMedian.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidLuma.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidRotate.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSwapFields.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidUVSwap.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidWhirl.cpp
Log:
dont assert when overflowing

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp	2007-05-08 19:37:28 UTC (rev 3050)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp	2007-05-08 19:38:23 UTC (rev 3051)
@@ -242,7 +242,7 @@
 {
 
  
-  ADM_assert(frame<_info.nb_frames);
+  if(frame>= _info.nb_frames) return 0;
         // read uncompressed frame
   if(!_in->getFrameNumberNoAlloc(frame, len,_uncompressed,flags)) return 0;
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidASS.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidASS.cpp	2007-05-08 19:37:28 UTC (rev 3050)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidASS.cpp	2007-05-08 19:38:23 UTC (rev 3051)
@@ -241,6 +241,7 @@
         if(frame>=_info.nb_frames)
         {
           printf("[SubAss] out of bound %u/%u\n",frame,_info.nb_frames); 
+          return 0;
         }
         ADM_assert(_params);
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp	2007-05-08 19:37:28 UTC (rev 3050)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp	2007-05-08 19:38:23 UTC (rev 3051)
@@ -162,7 +162,7 @@
         float distMerged, distN,distP,distM,distR,skip=0;
         char txt[255];
 
-        
+        if(frame>= _info.nb_frames) return 0;
         if(inframe<1 || inframe>inframe>_info.nb_frames-2 )
         {
                 skip=1;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidChroma.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidChroma.cpp	2007-05-08 19:37:28 UTC (rev 3050)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidChroma.cpp	2007-05-08 19:38:23 UTC (rev 3051)
@@ -82,7 +82,7 @@
 {				
 uint32_t w,x;
 uint32_t page;
-		ADM_assert(frame<_info.nb_frames);
+		if(frame>= _info.nb_frames) return 0;
        		if(!_in->getFrameNumberNoAlloc(frame, len,data,flags)) return 0;
 		
 		page= _info.width*_info.height;
@@ -166,7 +166,7 @@
 {
 uint32_t w,x;
 uint32_t page;
-		ADM_assert(frame<_info.nb_frames);
+		if(frame>= _info.nb_frames) return 0;
        		if(!_in->getFrameNumberNoAlloc(frame, len,data,flags)) return 0;
 		
 		page= _info.width*_info.height;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDGbob.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDGbob.cpp	2007-05-08 19:37:28 UTC (rev 3050)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDGbob.cpp	2007-05-08 19:38:23 UTC (rev 3051)
@@ -196,6 +196,8 @@
         ADMImage *src,*prv,*prvprv,*nxt,*nxtnxt,*dst;
 	uint32_t n,num_frames;
 
+        if(frame>=_info.nb_frames) return 0;
+        
         num_frames=_in->getInfo()->nb_frames;   // ??
 
 	if (_param->mode == 0) n = frame;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecDec.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecDec.cpp	2007-05-08 19:37:28 UTC (rev 3050)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecDec.cpp	2007-05-08 19:38:23 UTC (rev 3051)
@@ -412,6 +412,7 @@
 	double metric;
 	char buf[255];
 
+        if(frame>= _info.nb_frames) return 0;
 	*len=(_info.width*_info.height*3)>>1;
 	num_frames_hi = _in->getInfo()->nb_frames; /* FIXME MEANX */
 	if (_param->mode == 0)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDenoise.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDenoise.cpp	2007-05-08 19:37:28 UTC (rev 3050)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDenoise.cpp	2007-05-08 19:38:23 UTC (rev 3051)
@@ -183,7 +183,7 @@
    //uint32_t x,w;
   	uint32_t page; 
    		ADM_assert(_param);
-		ADM_assert(frame<_info.nb_frames);
+		if(frame>= _info.nb_frames) return 0;
 								
 			
        		if(!_in->getFrameNumberNoAlloc(frame, len,_uncompressed,flags)) return 0;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFastConvolution.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFastConvolution.cpp	2007-05-08 19:37:28 UTC (rev 3050)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFastConvolution.cpp	2007-05-08 19:38:23 UTC (rev 3051)
@@ -109,7 +109,7 @@
 uint8_t *x1,*x2,*x3,*o1;
 uint32_t stride,page;
 
-	ADM_assert(frame<_info.nb_frames);
+	if(frame>= _info.nb_frames) return 0;
 	ADM_assert(_uncompressed);					
 	stride=_info.width;
 	page=(stride*_info.height)>>2;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFlipV.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFlipV.cpp	2007-05-08 19:37:28 UTC (rev 3050)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFlipV.cpp	2007-05-08 19:38:23 UTC (rev 3051)
@@ -71,7 +71,7 @@
 				uint32_t *flags)
 {
 
-	ADM_assert(frame<_info.nb_frames);
+	if(frame>= _info.nb_frames) return 0;
 	// read uncompressed frame
 	if(!_in->getFrameNumberNoAlloc(frame, len,_uncompressed,flags)) return 0;
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFlux.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFlux.cpp	2007-05-08 19:37:28 UTC (rev 3050)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidFlux.cpp	2007-05-08 19:38:23 UTC (rev 3051)
@@ -170,7 +170,7 @@
 uint32_t plane=_info.width*_info.height;
 ADMImage	*image,*next,*prev;
 
-
+                        if(frame>= _info.nb_frames) return 0;
 			*len=(plane*3)>>1;
 			
 			size=(_info.width*_info.height*3)>>1;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp	2007-05-08 19:37:28 UTC (rev 3050)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp	2007-05-08 19:38:23 UTC (rev 3051)
@@ -319,7 +319,7 @@
         float distMerged, distN,distP,distM,distR,skip=0;
         char txt[255];
 
-        
+        if(frame>= _info.nb_frames) return 0;
         if(inframe<1 || inframe>inframe>_info.nb_frames-3 )
         {
                 skip=1;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidLargeMedian.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidLargeMedian.cpp	2007-05-08 19:37:28 UTC (rev 3050)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidLargeMedian.cpp	2007-05-08 19:38:23 UTC (rev 3051)
@@ -112,7 +112,7 @@
 uint8_t *x1,*x2,*x3,*x4,*x5,*o1;
 uint32_t stride,page;
 
-	ADM_assert(frame<_info.nb_frames);
+	if(frame>= _info.nb_frames) return 0;
 	ADM_assert(_uncompressed);					
 	stride=_info.width;
 	page=(stride*_info.height)>>2;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidLuma.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidLuma.cpp	2007-05-08 19:37:28 UTC (rev 3050)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidLuma.cpp	2007-05-08 19:38:23 UTC (rev 3051)
@@ -80,7 +80,7 @@
 				uint32_t *flags)
 {
 
-	ADM_assert(frame<_info.nb_frames);
+	if(frame>= _info.nb_frames) return 0;
 	// read uncompressed frame
 	if(!_in->getFrameNumberNoAlloc(frame, len,data,flags)) return 0;
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp	2007-05-08 19:37:28 UTC (rev 3050)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp	2007-05-08 19:38:23 UTC (rev 3051)
@@ -218,7 +218,7 @@
     ADMImage *src = vidCache->getImage(frame);
    
     ADMImage * deliver;
-
+        if(frame>= _info.nb_frames) return 0;
 	const unsigned char *srcpY = YPLANE(src) ;
 	const unsigned char *srcp_savedY = srcpY;
     	int src_pitchY = _info.width;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidRotate.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidRotate.cpp	2007-05-08 19:37:28 UTC (rev 3050)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidRotate.cpp	2007-05-08 19:38:23 UTC (rev 3051)
@@ -132,7 +132,7 @@
                                               ADMImage *data,
                                               uint32_t *flags)
 {
-  ADM_assert(frame<_info.nb_frames);
+ if(frame>= _info.nb_frames) return 0;
 								
   // read uncompressed frame
   if(!_in->getFrameNumberNoAlloc(frame, len, _uncompressed, flags)) return 0;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSwapFields.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSwapFields.cpp	2007-05-08 19:37:28 UTC (rev 3050)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSwapFields.cpp	2007-05-08 19:38:23 UTC (rev 3051)
@@ -164,6 +164,7 @@
 				uint32_t *flags)
 {
 //static Image in,out;
+                if(frame>= _info.nb_frames) return 0;
 			if(!_in->getFrameNumberNoAlloc(frame, len,_uncompressed,flags)) return 0;
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidUVSwap.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidUVSwap.cpp	2007-05-08 19:37:28 UTC (rev 3050)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidUVSwap.cpp	2007-05-08 19:38:23 UTC (rev 3051)
@@ -76,7 +76,7 @@
 				uint32_t *flags)
 {
 
-		ADM_assert(frame<_info.nb_frames);
+		if(frame>= _info.nb_frames) return 0;
 		// read uncompressed frame
        		if(!_in->getFrameNumberNoAlloc(frame, len,data,flags)) return 0;
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidWhirl.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidWhirl.cpp	2007-05-08 19:37:28 UTC (rev 3050)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidWhirl.cpp	2007-05-08 19:38:23 UTC (rev 3051)
@@ -122,7 +122,7 @@
 	uint32_t page=_info.width*_info.height;
 	ADMImage *cur,*prev;
 	double frac;
-	
+	        if(frame>= _info.nb_frames) return 0;
 		if(frame>STEP_SIZE)
 			frac=1;
 		else



From mean at mail.berlios.de  Tue May  8 21:39:22 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 8 May 2007 21:39:22 +0200
Subject: [Avidemux-svn-commit] r3052 - in
	branches/avidemux_2.4_branch/avidemux/ADM_inputs: ADM_asf
	ADM_h263 ADM_inpics ADM_nuv ADM_openDML
Message-ID: <200705081939.l48JdMcD029144@sheep.berlios.de>

Author: mean
Date: 2007-05-08 21:39:21 +0200 (Tue, 08 May 2007)
New Revision: 3052

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_h263/ADM_h263.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/ADM_pics.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp
Log:
dont assert when overflowing

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.cpp	2007-05-08 19:38:23 UTC (rev 3051)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.cpp	2007-05-08 19:39:21 UTC (rev 3052)
@@ -218,6 +218,7 @@
   if(framenum>=nbImage)
   {
     printf("[ASF] Going out of bound %u %u\n",framenum, nbImage);
+    return 0;
   }
   if(!_index[framenum].frameLen)
   {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_h263/ADM_h263.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_h263/ADM_h263.cpp	2007-05-08 19:38:23 UTC (rev 3051)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_h263/ADM_h263.cpp	2007-05-08 19:39:21 UTC (rev 3052)
@@ -80,6 +80,7 @@
 uint8_t  h263Header::getFrameNoAlloc(uint32_t framenum,ADMCompressedImage *img)
 {
 uint32_t offset=_idx[framenum].offset;
+        if(frame>= (uint32_t)_videostream.dwLength) return 0;
  	fseek(_fd,offset,SEEK_SET);
  	fread(img->data, _idx[framenum].size, 1, _fd);
   	img->dataLength=_idx[framenum].size;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/ADM_pics.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/ADM_pics.cpp	2007-05-08 19:38:23 UTC (rev 3051)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/ADM_pics.cpp	2007-05-08 19:39:21 UTC (rev 3052)
@@ -52,7 +52,7 @@
 uint8_t
     picHeader::getFrameNoAlloc(uint32_t framenum, ADMCompressedImage *img)
 {
-    ADM_assert(framenum <= _nb_file);
+    if(frame>= (uint32_t)_videostream.dwLength) return 0;
     img->flags = AVI_KEY_FRAME;
     fseek(_fd[framenum], _offset, SEEK_SET);
     fread(img->data, _imgSize[framenum] - _offset, 1, _fd[framenum]);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp	2007-05-08 19:38:23 UTC (rev 3051)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp	2007-05-08 19:39:21 UTC (rev 3052)
@@ -137,7 +137,7 @@
 uint64_t 	off;
 lzo_uint  	len, out,l;
 uint8_t *planes[3];
-
+        if(frame>= (uint32_t)_videostream.dwLength) return 0;
 	l=DXFIELD(width)*DXFIELD(height);
 
 	planes[0]=_old;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp	2007-05-08 19:38:23 UTC (rev 3051)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp	2007-05-08 19:39:21 UTC (rev 3052)
@@ -99,8 +99,8 @@
 // 		offset=4+4+4;
 // 	} odmlIndex
 // 	
+	if(frame>= (uint32_t)_videostream.dwLength) return 0;
 	
-	
  	fseeko(_fd,offset,SEEK_SET);
  	fread(img->data, _idx[framenum].size, 1, _fd);
   	img->dataLength=_idx[framenum].size;



From mean at mail.berlios.de  Tue May  8 21:39:45 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 8 May 2007 21:39:45 +0200
Subject: [Avidemux-svn-commit] r3053 -
	branches/avidemux_2.4_branch/avidemux/ADM_filter
Message-ID: <200705081939.l48Jdj3P029201@sheep.berlios.de>

Author: mean
Date: 2007-05-08 21:39:45 +0200 (Tue, 08 May 2007)
New Revision: 3053

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_filter/ADM_vidDummyFilter.cpp
Log:
dont assert when overflowing

Modified: branches/avidemux_2.4_branch/avidemux/ADM_filter/ADM_vidDummyFilter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_filter/ADM_vidDummyFilter.cpp	2007-05-08 19:39:21 UTC (rev 3052)
+++ branches/avidemux_2.4_branch/avidemux/ADM_filter/ADM_vidDummyFilter.cpp	2007-05-08 19:39:45 UTC (rev 3053)
@@ -98,7 +98,7 @@
 				uint32_t *flags)
 {
 
-	ADM_assert(frame<_info.nb_frames);
+	if(frame>= _info.nb_frames) return 0;
 	// read uncompressed frame
 	if(!_in->getFrameNumberNoAlloc(frame, len,_uncompressed,flags)) return 0;
 



From mean at mail.berlios.de  Tue May  8 22:30:53 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 8 May 2007 22:30:53 +0200
Subject: [Avidemux-svn-commit] r3054 - in
	branches/avidemux_2.4_branch/avidemux: ADM_inputs/ADM_h263
	ADM_inputs/ADM_inpics ADM_inputs/ADM_nuv
	ADM_inputs/ADM_openDML ADM_video ADM_videoFilter
Message-ID: <200705082030.l48KUr0T032710@sheep.berlios.de>

Author: mean
Date: 2007-05-08 22:30:52 +0200 (Tue, 08 May 2007)
New Revision: 3054

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_h263/ADM_h263.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/ADM_pics.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTdeint.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidUnblend.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp
Log:
oops

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_h263/ADM_h263.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_h263/ADM_h263.cpp	2007-05-08 19:39:45 UTC (rev 3053)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_h263/ADM_h263.cpp	2007-05-08 20:30:52 UTC (rev 3054)
@@ -80,7 +80,7 @@
 uint8_t  h263Header::getFrameNoAlloc(uint32_t framenum,ADMCompressedImage *img)
 {
 uint32_t offset=_idx[framenum].offset;
-        if(frame>= (uint32_t)_videostream.dwLength) return 0;
+        if(framenum>= (uint32_t)_videostream.dwLength) return 0;
  	fseek(_fd,offset,SEEK_SET);
  	fread(img->data, _idx[framenum].size, 1, _fd);
   	img->dataLength=_idx[framenum].size;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/ADM_pics.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/ADM_pics.cpp	2007-05-08 19:39:45 UTC (rev 3053)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/ADM_pics.cpp	2007-05-08 20:30:52 UTC (rev 3054)
@@ -52,7 +52,7 @@
 uint8_t
     picHeader::getFrameNoAlloc(uint32_t framenum, ADMCompressedImage *img)
 {
-    if(frame>= (uint32_t)_videostream.dwLength) return 0;
+    if(framenum>= (uint32_t)_videostream.dwLength) return 0;
     img->flags = AVI_KEY_FRAME;
     fseek(_fd[framenum], _offset, SEEK_SET);
     fread(img->data, _imgSize[framenum] - _offset, 1, _fd[framenum]);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp	2007-05-08 19:39:45 UTC (rev 3053)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp	2007-05-08 20:30:52 UTC (rev 3054)
@@ -137,7 +137,7 @@
 uint64_t 	off;
 lzo_uint  	len, out,l;
 uint8_t *planes[3];
-        if(frame>= (uint32_t)_videostream.dwLength) return 0;
+        if(framenum>= (uint32_t)_videostream.dwLength) return 0;
 	l=DXFIELD(width)*DXFIELD(height);
 
 	planes[0]=_old;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp	2007-05-08 19:39:45 UTC (rev 3053)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp	2007-05-08 20:30:52 UTC (rev 3054)
@@ -99,7 +99,7 @@
 // 		offset=4+4+4;
 // 	} odmlIndex
 // 	
-	if(frame>= (uint32_t)_videostream.dwLength) return 0;
+	if(framenum>= (uint32_t)_videostream.dwLength) return 0;
 	
  	fseeko(_fd,offset,SEEK_SET);
  	fread(img->data, _idx[framenum].size, 1, _fd);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTdeint.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTdeint.cpp	2007-05-08 19:39:45 UTC (rev 3053)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTdeint.cpp	2007-05-08 20:30:52 UTC (rev 3054)
@@ -440,7 +440,7 @@
         float distMerged, distN,distP,distM,distR,skip=0;
         char txt[255];
 
-        if(frame>= _info.nb_frames) return 0;
+        if(n>= _info.nb_frames) return 0;
         if(n<1 || n>_info.nb_frames-3 )
         {
                 skip=1;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidUnblend.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidUnblend.cpp	2007-05-08 19:39:45 UTC (rev 3053)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidUnblend.cpp	2007-05-08 20:30:52 UTC (rev 3054)
@@ -160,7 +160,7 @@
 	int blend=0, useframe;
 	ADMImage *src;
 	char buf[255];
-        if(frame>= _info.nb_frames) return 0;
+        if(inframe>= _info.nb_frames) return 0;
         if(!inframe || inframe>_info.nb_frames-5)
         {
                 data->duplicate(vidCache->getImage(inframe));

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp	2007-05-08 19:39:45 UTC (rev 3053)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp	2007-05-08 20:30:52 UTC (rev 3054)
@@ -162,7 +162,7 @@
         float distMerged, distN,distP,distM,distR,skip=0;
         char txt[255];
 
-        if(frame>= _info.nb_frames) return 0;
+        if(inframe>= _info.nb_frames) return 0;
         if(inframe<1 || inframe>inframe>_info.nb_frames-2 )
         {
                 skip=1;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp	2007-05-08 19:39:45 UTC (rev 3053)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp	2007-05-08 20:30:52 UTC (rev 3054)
@@ -319,7 +319,7 @@
         float distMerged, distN,distP,distM,distR,skip=0;
         char txt[255];
 
-        if(frame>= _info.nb_frames) return 0;
+        if(inframe>= _info.nb_frames) return 0;
         if(inframe<1 || inframe>inframe>_info.nb_frames-3 )
         {
                 skip=1;



From mean at mail.berlios.de  Wed May  9 10:12:19 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Wed, 9 May 2007 10:12:19 +0200
Subject: [Avidemux-svn-commit] r3055 - in
	branches/avidemux_2.4_branch/avidemux: . ADM_audiofilter
	ADM_outputs/oplug_avi ADM_userInterfaces/ADM_GTK/ADM_dialogFactory
	ADM_userInterfaces/ADM_GTK/ADM_gui2 ADM_userInterfaces/ADM_GTK/glade
	ADM_userInterfaces/ADM_commonUI
Message-ID: <200705090812.l498CJ66009207@sheep.berlios.de>

Author: mean
Date: 2007-05-09 10:12:17 +0200 (Wed, 09 May 2007)
New Revision: 3055

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_lame.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_vorbis.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioconfig.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp
   branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
Log:
JM cosmetic, spelling, etc..

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_lame.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_lame.cpp	2007-05-08 20:30:52 UTC (rev 3054)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_lame.cpp	2007-05-09 08:12:17 UTC (rev 3055)
@@ -216,7 +216,7 @@
                              {ADM_JSTEREO,   _("Joint stereo"),NULL},
                              {ADM_MONO,      _("Mono"),NULL}};
           
-    diaElemMenu menuMode(&mmode,   _("Channel Mode"), SZT(channelMode),channelMode);
+    diaElemMenu menuMode(&mmode,   _("C_hannel mode:"), SZT(channelMode),channelMode);
     
     diaMenuEntry encodingMode[]={
                              {ADM_LAME_PRESET_CBR,      _("CBR"),NULL},
@@ -225,7 +225,7 @@
                              {ADM_LAME_PRESET_EXTREME,      _("Extreme"),NULL}
 #endif
     }; 
-    diaElemMenu Mode(&ppreset,   _("Mode"), SZT(encodingMode),encodingMode);
+    diaElemMenu Mode(&ppreset,   _("Bit_rate mode:"), SZT(encodingMode),encodingMode);
 #define BITRATE(x) {x,_(#x)}
     diaMenuEntry bitrateM[]={
                               BITRATE(56),
@@ -238,16 +238,16 @@
                               BITRATE(192),
                               BITRATE(224)
                           };
-    diaElemMenu bitrate(&(descriptor->bitrate),   _("Bitrate"), SZT(bitrateM),bitrateM);
+    diaElemMenu bitrate(&(descriptor->bitrate),   _("_Bitrate:"), SZT(bitrateM),bitrateM);
     
     
     
     
-    diaElemUInteger quality(PX(quality),_("Quality"),0,9);
+    diaElemUInteger quality(PX(quality),_("_Quality:"),0,9);
   
       diaElem *elems[]={&menuMode,&Mode,&quality,&bitrate};
     
-  if( diaFactoryRun("Lame Settings",4,elems))
+  if( diaFactoryRun("LAME Configuration",4,elems))
   {
     lameParam->mode=(ADM_mode)mmode; 
     lameParam->preset=(ADM_LAME_PRESET)ppreset;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_vorbis.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_vorbis.cpp	2007-05-08 20:30:52 UTC (rev 3054)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_vorbis.cpp	2007-05-09 08:12:17 UTC (rev 3055)
@@ -268,9 +268,9 @@
     
     diaMenuEntry channelMode[]={
                              {ADM_VORBIS_VBR,      _("VBR"),NULL},
-                             {ADM_VORBIS_QUALITY,   _("Quality Based"),NULL}};
+                             {ADM_VORBIS_QUALITY,   _("Quality based"),NULL}};
           
-    diaElemMenu menuMode(&mmode,   _("Mode"), SZT(channelMode),channelMode);
+    diaElemMenu menuMode(&mmode,   _("_Mode:"), SZT(channelMode),channelMode);
     
 #define BITRATE(x) {x,_(#x)}
     diaMenuEntry bitrateM[]={
@@ -284,16 +284,16 @@
                               BITRATE(192),
                               BITRATE(224)
                           };
-    diaElemMenu bitrate(&(descriptor->bitrate),   _("Bitrate"), SZT(bitrateM),bitrateM);
+    diaElemMenu bitrate(&(descriptor->bitrate),   _("_Bitrate:"), SZT(bitrateM),bitrateM);
     
-    diaElemFloat quality(&qqual,_("Quality"),-1.,10.);
+    diaElemFloat quality(&qqual,_("_Quality:"),-1.,10.);
     
     
     
   
       diaElem *elems[]={&menuMode,&bitrate,&quality};
     
-  if( diaFactoryRun("Vorbis Settings",3,elems))
+  if( diaFactoryRun("Vorbis Configuration",3,elems))
   {
     vorbisParam->mode=(ADM_VORBIS_MODE)mmode;
     vorbisParam->quality=(float)qqual;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp	2007-05-08 20:30:52 UTC (rev 3054)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp	2007-05-09 08:12:17 UTC (rev 3055)
@@ -76,18 +76,18 @@
   {MUX_N_BYTES,_("Mux by packet size")}
   };
   
-    diaElemMenu      mux(&(mux_mode),_("Muxing Type"),3,muxingType);
-    diaElemUInteger blockSize(&(muxSize),_("Split every MBytes"),1,9000);
+    diaElemMenu      mux(&(mux_mode),_("Muxing _type:"),3,muxingType);
+    diaElemUInteger blockSize(&(muxSize),_("_Split every MB:"),1,9000);
     
-    diaElemUInteger n_frames(&(mux_n_frame),_("Mux Every x video frames"),1,100);
-    diaElemUInteger n_block(&(mux_size_block),_("Mux with block of size"),1,50000);
+    diaElemUInteger n_frames(&(mux_n_frame),_("Mux _every x video frames:"),1,100);
+    diaElemUInteger n_block(&(mux_size_block),_("Mux in _blocks of x bytes:"),1,50000);
     
     
      mux.link(&(muxingType[1]),1,&n_frames);
      mux.link(&(muxingType[2]),1,&n_block);
     
      diaElem *elems[4]={&mux,&n_frames,&n_block,&blockSize};
-     if( diaFactoryRun(_("Avi Muxer Option"),4,elems))
+     if( diaFactoryRun(_("AVI Muxer Options"),4,elems))
     {
       muxMode=(PARAM_MUX)mux_mode;
       switch(muxMode)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp	2007-05-08 20:30:52 UTC (rev 3054)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp	2007-05-09 08:12:17 UTC (rev 3055)
@@ -66,7 +66,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   
   /* Add text -> encoding mode */
-  label1 = gtk_label_new_with_mnemonic ("Encoding mode");
+  label1 = gtk_label_new_with_mnemonic ("_Encoding mode:");
   gtk_misc_set_alignment (GTK_MISC (label1), 0.0, 0.5);
   gtk_widget_show(label1);
   
@@ -76,7 +76,7 @@
   
   
   /* Add text -> encoding mode */
-  label2 = gtk_label_new_with_mnemonic ("Bitrate (kb/s)");
+  label2 = gtk_label_new_with_mnemonic ("_Bitrate (kb/s):");
   gtk_misc_set_alignment (GTK_MISC (label2), 0.0, 0.5);
   gtk_widget_show(label2);
   /* put entry in hbox */
@@ -93,10 +93,10 @@
   
 #define add(x) gtk_combo_box_append_text (GTK_COMBO_BOX (combo),_(#x));
   
-  add(Constant Bitrate);
-  add(Constant Quality);
-  add(Two pass-filesize);
-  add(Two pass-Avg bitrate);
+  add(Single pass - bitrate);
+  add(Single pass - constant quality);
+  add(Two pass - video size);
+  add(Two pass - average bitrate);
   
   PUT_ARRAY(1,0,combo);
   
@@ -157,25 +157,25 @@
   switch(rank)
   {
     case 0: //CBR
-          P(Bitrate (kb/s));
+          P(_Bitrate (kb/s):);
           M(0,20000);
           S(copy.bitrate);
           copy.mode=COMPRESS_CBR;
           break; 
     case 1:// CQ
-          P(Quantizer);
+          P(_Quantizer:);
           M(2,31);
           S(copy.qz);
           copy.mode=COMPRESS_CQ;
           break;
     case 2 : // 2pass Filesize
-          P(FileSize (MB));
+          P(_Video size (MB):);
           M(1,8000);
           S(copy.finalsize);
           copy.mode=COMPRESS_2PASS;
           break;
     case 3 : // 2pass Avg
-          P(Average Br (kb/s));
+          P(_Average bitrate (kb/s):);
           M(0,20000);
           S(copy.avg_bitrate);
           copy.mode=COMPRESS_2PASS_BITRATE;
@@ -200,28 +200,28 @@
 #undef P
 #undef M
 #undef S
-#define P(x) gtk_label_set_text(GTK_LABEL(label),_(#x));
+#define P(x) gtk_label_set_text_with_mnemonic(GTK_LABEL(label),_(#x));
 #define M(x,y) gtk_spin_button_set_range  (GTK_SPIN_BUTTON(spin),x,y)
 #define S(x)   gtk_spin_button_set_value  (GTK_SPIN_BUTTON(spin),x)
   switch(rank)
   {
     case 0: //CBR
-          P(Bitrate (kb/s));
+          P(_Bitrate (kb/s):);
           M(0,20000);
           S(copy.bitrate);
           break; 
     case 1:// CQ
-          P(Quantizer);
+          P(_Quantizer:);
           M(2,31);
           S(copy.qz);
           break;
     case 2 : // 2pass Filesize
-          P(FileSize (MB));
+          P(_Video size (MB):);
           M(1,8000);
           S(copy.finalsize);
           break;
     case 3 : // 2pass Avg
-          P(Average Br (kb/s));
+          P(_Average bitrate (kb/s):);
           M(0,20000);
           S(copy.avg_bitrate);
           break;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp	2007-05-08 20:30:52 UTC (rev 3054)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp	2007-05-09 08:12:17 UTC (rev 3055)
@@ -340,7 +340,7 @@
   gtk_widget_show (save_jpg_image1);
   gtk_container_add (GTK_CONTAINER (save_stuff_menu), save_jpg_image1);
 
-  save_selection_as_jpegs1 = gtk_menu_item_new_with_mnemonic (_("Save _Selection as JPEG images..."));
+  save_selection_as_jpegs1 = gtk_menu_item_new_with_mnemonic (_("Save _Selection as JPEG Images..."));
   gtk_widget_show (save_selection_as_jpegs1);
   gtk_container_add (GTK_CONTAINER (save_stuff_menu), save_selection_as_jpegs1);
 
@@ -393,7 +393,7 @@
   gtk_container_add (GTK_CONTAINER (menuitem1_menu), separator16);
   gtk_widget_set_sensitive (separator16, FALSE);
 
-  connect_to_avsproxy1 = gtk_menu_item_new_with_mnemonic (_("Connect to avsproxy"));
+  connect_to_avsproxy1 = gtk_menu_item_new_with_mnemonic (_("Co_nnect to avsproxy"));
   gtk_widget_show (connect_to_avsproxy1);
   gtk_container_add (GTK_CONTAINER (menuitem1_menu), connect_to_avsproxy1);
 
@@ -753,7 +753,7 @@
   gtk_container_add (GTK_CONTAINER (tools1_menu), separator17);
   gtk_widget_set_sensitive (separator17, FALSE);
 
-  see_hex1 = gtk_menu_item_new_with_mnemonic (_("See Hex"));
+  see_hex1 = gtk_menu_item_new_with_mnemonic (_("_Frame Hex Dump"));
   gtk_widget_show (see_hex1);
   gtk_container_add (GTK_CONTAINER (tools1_menu), see_hex1);
 
@@ -776,11 +776,11 @@
   gtk_widget_show (dvd1);
   gtk_container_add (GTK_CONTAINER (help1_menu), dvd1);
 
-  psp1 = gtk_menu_item_new_with_mnemonic (_("PSP"));
+  psp1 = gtk_menu_item_new_with_mnemonic (_("_PSP"));
   gtk_widget_show (psp1);
   gtk_container_add (GTK_CONTAINER (help1_menu), psp1);
 
-  psp__h264_1 = gtk_menu_item_new_with_mnemonic (_("PSP (H264)"));
+  psp__h264_1 = gtk_menu_item_new_with_mnemonic (_("PSP (_H.264)"));
   gtk_widget_show (psp__h264_1);
   gtk_container_add (GTK_CONTAINER (help1_menu), psp__h264_1);
 
@@ -922,7 +922,7 @@
   gtk_widget_show (image8120);
   gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (jump_to_time1), image8120);
 
-  custom1 = gtk_menu_item_new_with_mnemonic (_("Custom"));
+  custom1 = gtk_menu_item_new_with_mnemonic (_("_Custom"));
   gtk_widget_show (custom1);
   gtk_container_add (GTK_CONTAINER (menuBar), custom1);
 
@@ -933,6 +933,10 @@
   help2_menu = gtk_menu_new ();
   gtk_menu_item_set_submenu (GTK_MENU_ITEM (help2), help2_menu);
 
+  show_builtin_support1 = gtk_menu_item_new_with_mnemonic (_("_Built-in Support"));
+  gtk_widget_show (show_builtin_support1);
+  gtk_container_add (GTK_CONTAINER (help2_menu), show_builtin_support1);
+  
   about1 = gtk_image_menu_item_new_with_mnemonic (_("_About"));
   gtk_widget_show (about1);
   gtk_container_add (GTK_CONTAINER (help2_menu), about1);
@@ -941,10 +945,6 @@
   gtk_widget_show (image8121);
   gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (about1), image8121);
 
-  show_builtin_support1 = gtk_menu_item_new_with_mnemonic (_("Show builtin support"));
-  gtk_widget_show (show_builtin_support1);
-  gtk_container_add (GTK_CONTAINER (help2_menu), show_builtin_support1);
-
   toolbar2 = gtk_toolbar_new ();
   gtk_widget_show (toolbar2);
   gtk_box_pack_start (GTK_BOX (vbox1), toolbar2, FALSE, FALSE, 0);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade	2007-05-08 20:30:52 UTC (rev 3054)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade	2007-05-09 08:12:17 UTC (rev 3055)
@@ -50,7 +50,7 @@
 		      <accelerator key="O" modifiers="GDK_CONTROL_MASK" signal="activate"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8096">
+			<widget class="GtkImage" id="image8196">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-open</property>
 			  <property name="icon_size">1</property>
@@ -71,7 +71,7 @@
 		      <accelerator key="A" modifiers="GDK_CONTROL_MASK | GDK_MOD1_MASK" signal="activate"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8097">
+			<widget class="GtkImage" id="image8197">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-add</property>
 			  <property name="icon_size">1</property>
@@ -91,7 +91,7 @@
 		      <property name="use_underline">True</property>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8098">
+			<widget class="GtkImage" id="image8198">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-save</property>
 			  <property name="icon_size">1</property>
@@ -139,7 +139,7 @@
 			  <child>
 			    <widget class="GtkMenuItem" id="save_selection_as_jpegs1">
 			      <property name="visible">True</property>
-			      <property name="label" translatable="yes">Save _Selection as JPEG images...</property>
+			      <property name="label" translatable="yes">Save _Selection as JPEG Images...</property>
 			      <property name="use_underline">True</property>
 			    </widget>
 			  </child>
@@ -169,7 +169,7 @@
 		      <property name="use_underline">True</property>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8099">
+			<widget class="GtkImage" id="image8199">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-save</property>
 			  <property name="icon_size">1</property>
@@ -189,7 +189,7 @@
 		      <property name="use_underline">True</property>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8100">
+			<widget class="GtkImage" id="image8200">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-save-as</property>
 			  <property name="icon_size">1</property>
@@ -209,7 +209,7 @@
 		      <property name="use_underline">True</property>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8101">
+			<widget class="GtkImage" id="image8201">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-execute</property>
 			  <property name="icon_size">1</property>
@@ -248,7 +248,7 @@
 		  <child>
 		    <widget class="GtkMenuItem" id="connect_to_avsproxy1">
 		      <property name="visible">True</property>
-		      <property name="label" translatable="yes">Connect to avsproxy</property>
+		      <property name="label" translatable="yes">Co_nnect to avsproxy</property>
 		      <property name="use_underline">True</property>
 		    </widget>
 		  </child>
@@ -267,7 +267,7 @@
 		      <accelerator key="Return" modifiers="GDK_MOD1_MASK" signal="activate"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8102">
+			<widget class="GtkImage" id="image8202">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-properties</property>
 			  <property name="icon_size">1</property>
@@ -302,7 +302,7 @@
 		      <accelerator key="Q" modifiers="GDK_CONTROL_MASK" signal="activate"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8103">
+			<widget class="GtkImage" id="image8203">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-quit</property>
 			  <property name="icon_size">1</property>
@@ -335,7 +335,7 @@
 		      <property name="use_underline">True</property>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8104">
+			<widget class="GtkImage" id="image8204">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-undo</property>
 			  <property name="icon_size">1</property>
@@ -362,7 +362,7 @@
 		      <accelerator key="X" modifiers="GDK_CONTROL_MASK" signal="activate"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8105">
+			<widget class="GtkImage" id="image8205">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-cut</property>
 			  <property name="icon_size">1</property>
@@ -383,7 +383,7 @@
 		      <accelerator key="C" modifiers="GDK_CONTROL_MASK" signal="activate"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8106">
+			<widget class="GtkImage" id="image8206">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-copy</property>
 			  <property name="icon_size">1</property>
@@ -404,7 +404,7 @@
 		      <accelerator key="V" modifiers="GDK_CONTROL_MASK" signal="activate"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8107">
+			<widget class="GtkImage" id="image8207">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-paste</property>
 			  <property name="icon_size">1</property>
@@ -425,7 +425,7 @@
 		      <accelerator key="Delete" modifiers="0" signal="activate"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8108">
+			<widget class="GtkImage" id="image8208">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-remove</property>
 			  <property name="icon_size">1</property>
@@ -475,7 +475,7 @@
 		      <property name="use_underline">True</property>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8109">
+			<widget class="GtkImage" id="image8209">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-preferences</property>
 			  <property name="icon_size">1</property>
@@ -711,7 +711,7 @@
 		      <accelerator key="S" modifiers="GDK_CONTROL_MASK | GDK_MOD1_MASK" signal="activate"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8110">
+			<widget class="GtkImage" id="image8210">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-save-as</property>
 			  <property name="icon_size">1</property>
@@ -762,7 +762,7 @@
 		      <accelerator key="F7" modifiers="0" signal="activate"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8111">
+			<widget class="GtkImage" id="image8211">
 			  <property name="visible">True</property>
 			  <property name="pixbuf">gnome-calculator_small.xpm</property>
 			  <property name="xalign">0.5</property>
@@ -843,7 +843,7 @@
 		  <child>
 		    <widget class="GtkMenuItem" id="see_hex1">
 		      <property name="visible">True</property>
-		      <property name="label" translatable="yes">See Hex</property>
+		      <property name="label" translatable="yes">_Frame Hex Dump</property>
 		      <property name="use_underline">True</property>
 		    </widget>
 		  </child>
@@ -888,7 +888,7 @@
 		  <child>
 		    <widget class="GtkMenuItem" id="psp1">
 		      <property name="visible">True</property>
-		      <property name="label" translatable="yes">PSP</property>
+		      <property name="label" translatable="yes">_PSP</property>
 		      <property name="use_underline">True</property>
 		    </widget>
 		  </child>
@@ -896,7 +896,7 @@
 		  <child>
 		    <widget class="GtkMenuItem" id="psp_(h264)1">
 		      <property name="visible">True</property>
-		      <property name="label" translatable="yes">PSP (H264)</property>
+		      <property name="label" translatable="yes">PSP (_H.264)</property>
 		      <property name="use_underline">True</property>
 		    </widget>
 		  </child>
@@ -922,7 +922,7 @@
 		      <accelerator key="P" modifiers="0" signal="activate"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8112">
+			<widget class="GtkImage" id="image8212">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-media-play</property>
 			  <property name="icon_size">1</property>
@@ -943,7 +943,7 @@
 		      <accelerator key="KP_4" modifiers="0" signal="activate"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8113">
+			<widget class="GtkImage" id="image8213">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-media-previous</property>
 			  <property name="icon_size">1</property>
@@ -964,7 +964,7 @@
 		      <accelerator key="KP_6" modifiers="0" signal="activate"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8114">
+			<widget class="GtkImage" id="image8214">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-media-next</property>
 			  <property name="icon_size">1</property>
@@ -985,7 +985,7 @@
 		      <accelerator key="KP_2" modifiers="0" signal="activate"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8115">
+			<widget class="GtkImage" id="image8215">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-media-rewind</property>
 			  <property name="icon_size">1</property>
@@ -1006,7 +1006,7 @@
 		      <accelerator key="KP_8" modifiers="0" signal="activate"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8116">
+			<widget class="GtkImage" id="image8216">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-media-forward</property>
 			  <property name="icon_size">1</property>
@@ -1043,7 +1043,7 @@
 		      <accelerator key="Home" modifiers="0" signal="activate"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8117">
+			<widget class="GtkImage" id="image8217">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-goto-first</property>
 			  <property name="icon_size">1</property>
@@ -1064,7 +1064,7 @@
 		      <accelerator key="End" modifiers="0" signal="activate"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8118">
+			<widget class="GtkImage" id="image8218">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-goto-last</property>
 			  <property name="icon_size">1</property>
@@ -1115,7 +1115,7 @@
 		      <accelerator key="F" modifiers="GDK_CONTROL_MASK" signal="activate"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8119">
+			<widget class="GtkImage" id="image8219">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-jump-to</property>
 			  <property name="icon_size">1</property>
@@ -1136,7 +1136,7 @@
 		      <accelerator key="T" modifiers="GDK_CONTROL_MASK" signal="activate"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8120">
+			<widget class="GtkImage" id="image8220">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-jump-to</property>
 			  <property name="icon_size">1</property>
@@ -1156,7 +1156,7 @@
 	  <child>
 	    <widget class="GtkMenuItem" id="custom1">
 	      <property name="visible">True</property>
-	      <property name="label" translatable="yes">Custom</property>
+	      <property name="label" translatable="yes">_Custom</property>
 	      <property name="use_underline">True</property>
 	    </widget>
 	  </child>
@@ -1171,13 +1171,21 @@
 		<widget class="GtkMenu" id="help2_menu">
 
 		  <child>
+		    <widget class="GtkMenuItem" id="show_builtin_support1">
+		      <property name="visible">True</property>
+		      <property name="label" translatable="yes">_Built-in Support</property>
+		      <property name="use_underline">True</property>
+		    </widget>
+		  </child>
+
+		  <child>
 		    <widget class="GtkImageMenuItem" id="about1">
 		      <property name="visible">True</property>
 		      <property name="label" translatable="yes">_About</property>
 		      <property name="use_underline">True</property>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image8121">
+			<widget class="GtkImage" id="image8221">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-about</property>
 			  <property name="icon_size">1</property>
@@ -1189,14 +1197,6 @@
 		      </child>
 		    </widget>
 		  </child>
-
-		  <child>
-		    <widget class="GtkMenuItem" id="show_builtin_support1">
-		      <property name="visible">True</property>
-		      <property name="label" translatable="yes">Show builtin support</property>
-		      <property name="use_underline">True</property>
-		    </widget>
-		  </child>
 		</widget>
 	      </child>
 	    </widget>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp	2007-05-08 20:30:52 UTC (rev 3054)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp	2007-05-09 08:12:17 UTC (rev 3055)
@@ -53,43 +53,43 @@
   {1,_("16:9")}};
 diaMenuEntry matrixM[]={
   {0,_("Default")},
-  {1,_("Tmpgenc")},
+  {1,_("TMPGEnc")},
   {2,_("Anime")},
   {3,_("KVCD")}
 };
 diaMenuEntry interM[]={
   {0,_("Progressive")},
-  {1,_("Int. TFF")},
-  {2,_("Int. BFF")}
+  {1,_("Interlaced TFF")},
+  {2,_("Interlaced BFF")}
 };
 diaMenuEntry vbvM[3]=
 {
-	{40,"VCD 40 KB"},
+	{40,"VCD 40 kB"},
 	{112,"SVCD 112 kB"},
-	{224,"DVD 224 KB"}
+	{224,"DVD 224 kB"}
 };
 
                       
          diaElemBitrate bitrate(incoming,NULL);
-         diaElemUInteger maxb(&(conf->maxBitrate),_("Max Bitrate"),100,9000);
-         diaElemUInteger minb(&(conf->minBitrate),_("Min Bitrate"),0,9000);
-         diaElemToggle    xvid(&(conf->use_xvid_ratecontrol),_("Use Xvid Rate Control"));
+         diaElemUInteger maxb(&(conf->maxBitrate),_("Ma_x. bitrate:"),100,9000);
+         diaElemUInteger minb(&(conf->minBitrate),_("Mi_n. bitrate:"),0,9000);
+         diaElemToggle    xvid(&(conf->use_xvid_ratecontrol),_("_Use Xvid rate control"));
          
-         diaElemMenu      vbv(&(conf->bufferSize),_("Buffer Size"),3,vbvM);
+         diaElemMenu      vbv(&(conf->bufferSize),_("_Buffer size:"),3,vbvM);
          
-         diaElemMenu      widescreen(&(conf->widescreen),_("Aspect Ratio"),2,wideM);
-         diaElemMenu      matrix(&(conf->user_matrix),_("Matrices"),4,matrixM);
-         diaElemUInteger  gop(&(conf->gop_size),_("Gop Size"),1,30);
+         diaElemMenu      widescreen(&(conf->widescreen),_("Aspect _ratio:"),2,wideM);
+         diaElemMenu      matrix(&(conf->user_matrix),_("_Matrices:"),4,matrixM);
+         diaElemUInteger  gop(&(conf->gop_size),_("_GOP size:"),1,30);
          
 uint32_t inter;
           if(!conf->interlaced) inter=0;
             else if(conf->bff) inter=2;
                 else inter=1;
-         diaElemMenu      interW(&inter,_("Interlacing"),3,interM);
+         diaElemMenu      interW(&inter,_("_Interlacing:"),3,interM);
   
       diaElem *elems[9]={&bitrate,&maxb,&minb,&xvid,&vbv,&widescreen,&interW,&matrix,&gop};
     
-  if( diaFactoryRun("Mpeg2 Encoding",9,elems))
+  if( diaFactoryRun("libavcodec MPEG-2 Configuration",9,elems))
   {
     switch(inter)
     {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp	2007-05-08 20:30:52 UTC (rev 3054)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp	2007-05-09 08:12:17 UTC (rev 3055)
@@ -43,31 +43,31 @@
   {1,_("16:9")}};
 diaMenuEntry matrixM[]={
   {0,_("Default")},
-  {1,_("Tmpgenc")},
+  {1,_("TMPGEnc")},
   {2,_("Anime")},
   {3,_("KVCD")}
 };
 diaMenuEntry interM[]={
   {0,_("Progressive")},
-  {1,_("Int. TFF")},
-  {2,_("Int. BFF")}
+  {1,_("Interlaced TFF")},
+  {2,_("Interlaced BFF")}
 };
                       
          diaElemBitrate bitrate(incoming,NULL);
-         diaElemMenu      widescreen(&(conf->widescreen),_("Aspect Ratio"),2,wideM);
-         diaElemMenu      matrix(&(conf->user_matrix),_("Matrices"),4,matrixM);
-         diaElemUInteger gop(&(conf->gop_size),_("Gop Size"),1,30);
-         diaElemUInteger maxb(&(conf->maxBitrate),_("Max Bitrate"),100,9000);
+         diaElemMenu      widescreen(&(conf->widescreen),_("Aspect _ratio:"),2,wideM);
+         diaElemMenu      matrix(&(conf->user_matrix),_("_Matrices:"),4,matrixM);
+         diaElemUInteger gop(&(conf->gop_size),_("_GOP size:"),1,30);
+         diaElemUInteger maxb(&(conf->maxBitrate),_("Ma_x. bitrate:"),100,9000);
 
 uint32_t inter;
           if(!conf->interlaced) inter=0;
             else if(conf->bff) inter=2;
                 else inter=1;
-         diaElemMenu      interW(&inter,_("Interlacing"),3,interM);
+         diaElemMenu      interW(&inter,_("_Interlacing:"),3,interM);
   
       diaElem *elems[6]={&bitrate,&widescreen,&interW,&matrix,&gop,&maxb};
     
-  if( diaFactoryRun("Mpeg2 Encoding",6,elems))
+  if( diaFactoryRun("MPEG-2 Configuration",6,elems))
   {
     switch(inter)
     {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioconfig.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioconfig.cpp	2007-05-08 20:30:52 UTC (rev 3054)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioconfig.cpp	2007-05-09 08:12:17 UTC (rev 3055)
@@ -56,11 +56,11 @@
                               BITRATE(224),
                               BITRATE(384)
                           };
-    diaElemMenu bitrate(&(descriptor->bitrate),   _("Bitrate"), SZT(bitrateM),bitrateM);
+    diaElemMenu bitrate(&(descriptor->bitrate),   _("_Bitrate:"), SZT(bitrateM),bitrateM);
   
       diaElem *elems[]={&bitrate};
     
-  return ( diaFactoryRun("Audio Settings",1,elems));
+  return ( diaFactoryRun("Audio Configuration",1,elems));
 
 } 
 //EOF 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp	2007-05-08 20:30:52 UTC (rev 3054)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp	2007-05-09 08:12:17 UTC (rev 3055)
@@ -211,12 +211,12 @@
 */
 #define DOME(a,b,c)       sprintf(bf,"%u",b); diaElemReadOnlyText a(bf,c);
         char bf[100];
-        DOME(mx,max,"Max bitrate");
-        DOME(med,medium,"Average bitrate");
-        DOME(nI,nbIFrame,"Number of I frames");
-        DOME(nP,nbPFrame,"Number of P frames");
-        DOME(nB,nbBFrame,"Number of B frames");
-        DOME(nMB,maxBFrame,"Max B frames");
+        DOME(mx,max,"Max. bitrate:");
+        DOME(med,medium,"Average bitrate:");
+        DOME(nI,nbIFrame,"Number of I frames:");
+        DOME(nP,nbPFrame,"Number of P frames:");
+        DOME(nB,nbBFrame,"Number of B frames:");
+        DOME(nMB,maxBFrame,"Max. B frames:");
         
         diaElemBar foo(0,"foo");
 #define P(X) bar[X] 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp	2007-05-08 20:30:52 UTC (rev 3054)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp	2007-05-09 08:12:17 UTC (rev 3055)
@@ -131,7 +131,7 @@
     CREATE_TOGGLE(win32)
       
       };
-    diaFactoryRun("Component built in",sizeof(elems)/sizeof(diaElem *),elems);
+    diaFactoryRun("Built-in Support",sizeof(elems)/sizeof(diaElem *),elems);
 
     return 1;
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp	2007-05-08 20:30:52 UTC (rev 3054)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp	2007-05-09 08:12:17 UTC (rev 3055)
@@ -57,12 +57,12 @@
 };       
 
 diaMenuEntry qzE[]={
-  {0,_("H263")},
+  {0,_("H.263")},
   {1,_("MPEG")}
 };       
 
 diaMenuEntry rdE[]={
-  {0,_("MB Comparison")},
+  {0,_("MB comparison")},
   {1,_("Fewest bits (vhq)")},
   {2,_("Rate distortion")}
 };     
@@ -71,26 +71,26 @@
 
          diaElemBitrate bitrate(incoming,NULL);
          diaElemMenu      meM(&me,_("Matrices"),4,meE);
-         diaElemUInteger  qminM(PX(qmin),_("Min Qz"),1,31);
-         diaElemUInteger  qmaxM(PX(qmax),_("Max Qz"),1,31);
-         diaElemUInteger  qdiffM(PX(max_qdiff),_("Max QDiff"),1,31);
+         diaElemUInteger  qminM(PX(qmin),_("Mi_n. quantizer:"),1,31);
+         diaElemUInteger  qmaxM(PX(qmax),_("Ma_x. quantizer:"),1,31);
+         diaElemUInteger  qdiffM(PX(max_qdiff),_("Max. quantizer _difference:"),1,31);
          
-         diaElemToggle    fourMv(PX(_4MV),_("4MV"));
-         diaElemToggle    trellis(PX(_TRELLIS_QUANT),_("Trellis"));
+         diaElemToggle    fourMv(PX(_4MV),_("4_MV"));
+         diaElemToggle    trellis(PX(_TRELLIS_QUANT),_("_Trellis quantization"));
          
-         diaElemToggle    qpel(PX(_QPEL),_("Quarter Pel"));
-         diaElemToggle    gmc(PX(_GMC),_("GMC"));
+         diaElemToggle    qpel(PX(_QPEL),_("_Quarter pixel"));
+         diaElemToggle    gmc(PX(_GMC),_("_GMC"));
 
          
-         diaElemUInteger  max_b_frames(PX(max_b_frames),_("Number of BFrames"),0,32);
-         diaElemMenu     qzM(PX(mpeg_quant),_("Quantization type"),2,qzE);
+         diaElemUInteger  max_b_frames(PX(max_b_frames),_("_Number of B frames:"),0,32);
+         diaElemMenu     qzM(PX(mpeg_quant),_("_Quantization type:"),2,qzE);
          
-         diaElemMenu     rdM(PX(mb_eval),_("Macroblock decision"),3,rdE);
+         diaElemMenu     rdM(PX(mb_eval),_("_Macroblock decision:"),3,rdE);
          
-         diaElemUInteger filetol(PX(vratetol),_("Filesize tolerance (kb"),0,100000);
+         diaElemUInteger filetol(PX(vratetol),_("_Filesize tolerance (kb):"),0,100000);
          
-         diaElemFloat    qzComp(PX(qcompress),_("Quantize compression"),0,1);
-         diaElemFloat    qzBlur(PX(qblur),_("Quantize blur"),0,1);
+         diaElemFloat    qzComp(PX(qcompress),_("_Quantizer compression:"),0,1);
+         diaElemFloat    qzBlur(PX(qblur),_("Quantizer _blur:"),0,1);
          
          
           /* First Tab : encoding mode */
@@ -117,7 +117,7 @@
         diaElemTabs tabRC(_("Rate Control"),3,diaRC);
         
          diaElemTabs *tabs[]={&tabMode,&tabME,&tabQz,&tabRC};
-        if( diaFactoryRunTabs(_("Lavcodec Mpeg4 configuration"),4,tabs))
+        if( diaFactoryRunTabs(_("libavcodec MPEG-4 configuration"),4,tabs))
 	{
           conf->me_method=(Motion_Est_ID)me;
           return 1;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp	2007-05-08 20:30:52 UTC (rev 3054)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp	2007-05-09 08:12:17 UTC (rev 3055)
@@ -38,7 +38,7 @@
 #define PX(x) x
         
     diaElemUInteger   postProcStrength(PX(ppstrength),_("_Filter strength:"),0,5);
-    diaElemToggle     swapuv(PX(swap),_("Swap U&V"));
+    diaElemToggle     swapuv(PX(swap),_("_Swap U & V"));
     
     uint32_t hzd,vzd,dring;
     

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp	2007-05-08 20:30:52 UTC (rev 3054)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp	2007-05-09 08:12:17 UTC (rev 3055)
@@ -159,46 +159,46 @@
         olddevice=newdevice=AVDM_getCurrentDevice();
         // Audio device
         /************************ Build diaelems ****************************************/
-        diaElemToggle useSysTray(&useTray,_("Use systray while encoding"));
-        diaElemToggle allowAnyMpeg(&mpeg_no_limit,_("Accept non-standard audio frequency for DVD"));
-        diaElemToggle useLavcodec(&lavcodec_mpeg,_("Use lavcodec mpeg2 decoder"));
-        diaElemToggle openDml(&use_odml,_("Create openDML file"));
-        diaElemToggle autoIndex(&useAutoIndex,_("Automatically index mpeg files"));
-        diaElemToggle autoSwap(&useSwap,_("Automatically swap A and B if A>B"));
-        diaElemToggle nuvAudio(&useNuv,_("Disable NUV audio sync"));
-        diaElemToggle loadEx(&activeXfilter,_("Load external filters"));
+        diaElemToggle useSysTray(&useTray,_("_Use systray while encoding"));
+        diaElemToggle allowAnyMpeg(&mpeg_no_limit,_("_Accept non-standard audio frequency for DVD"));
+        diaElemToggle useLavcodec(&lavcodec_mpeg,_("_Use libavcodec MPEG-2 decoder"));
+        diaElemToggle openDml(&use_odml,_("Create _OpenDML files"));
+        diaElemToggle autoIndex(&useAutoIndex,_("Automatically _index MPEG files"));
+        diaElemToggle autoSwap(&useSwap,_("Automatically _swap A and B if A>B"));
+        diaElemToggle nuvAudio(&useNuv,_("_Disable NUV audio sync"));
+        diaElemToggle loadEx(&activeXfilter,_("_Load external filters"));
         
-        diaElemToggle togAutoVbr(&autovbr,_("Automatically build VBR map"));
-        diaElemToggle togAutoIndex(&autoindex,_("Automatically rebuild index"));
-        diaElemToggle togAutoUnpack(&autounpack,_("Automatically remove packed bitstream"));
+        diaElemToggle togAutoVbr(&autovbr,_("Automatically _build VBR map"));
+        diaElemToggle togAutoIndex(&autoindex,_("Automatically _rebuild index"));
+        diaElemToggle togAutoUnpack(&autounpack,_("Automatically remove _packed bitstream"));
                        
-        diaElemUInteger multiThread(&mthreads,_("Number of threads"),0,10);
+        diaElemUInteger multiThread(&mthreads,_("_Number of threads:"),0,10);
 
 		diaMenuEntry priorityEntries[] = {
                              {0,       _("High"),NULL}
-                             ,{1,      _("Above Normal"),NULL}
+                             ,{1,      _("Above normal"),NULL}
                              ,{2,      _("Normal"),NULL}
-							 ,{3,      _("Below Normal"),NULL}
+							 ,{3,      _("Below normal"),NULL}
 							 ,{4,      _("Low"),NULL}
         };
-		diaElemMenu menuEncodePriority(&encodePriority,_("Encoding priority"), sizeof(priorityEntries)/sizeof(diaMenuEntry), priorityEntries,"");
-		diaElemMenu menuIndexPriority(&indexPriority,_("Indexing / unpacking priority"), sizeof(priorityEntries)/sizeof(diaMenuEntry), priorityEntries,"");
-		diaElemMenu menuPlaybackPriority(&playbackPriority,_("Playback priority"), sizeof(priorityEntries)/sizeof(diaMenuEntry), priorityEntries,"");
+		diaElemMenu menuEncodePriority(&encodePriority,_("_Encoding priority:"), sizeof(priorityEntries)/sizeof(diaMenuEntry), priorityEntries,"");
+		diaElemMenu menuIndexPriority(&indexPriority,_("_Indexing/unpacking priority:"), sizeof(priorityEntries)/sizeof(diaMenuEntry), priorityEntries,"");
+		diaElemMenu menuPlaybackPriority(&playbackPriority,_("_Playback priority:"), sizeof(priorityEntries)/sizeof(diaMenuEntry), priorityEntries,"");
 
-        diaElemUInteger autoSplit(&autosplit,_("Split mpegs every (MB)"),10,4096);
+        diaElemUInteger autoSplit(&autosplit,_("_Split MPEG files every (MB):"),10,4096);
         
-        diaElemToggle   togTagMp3(&alternate_mp3_tag,_("Use alternative tag for mp3 in .mp4"));
+        diaElemToggle   togTagMp3(&alternate_mp3_tag,_("_Use alternative tag for MP3 in .mp4"));
         
         diaMenuEntry videoMode[]={
-                             {RENDER_GTK,      _("Gtk (Slow)"),NULL}
+                             {RENDER_GTK,      _("GTK+ (slow)"),NULL}
 #ifdef USE_XV
-                             ,{RENDER_XV,   _("Xv (Best)"),NULL}
+                             ,{RENDER_XV,   _("XVideo (best)"),NULL}
 #endif
 #ifdef USE_SDL
-                             ,{RENDER_SDL,      _("SDL (Good)"),NULL}
+                             ,{RENDER_SDL,      _("SDL (good)"),NULL}
 #endif
         };        
-        diaElemMenu menuVideoMode(&render,_("Video Display"), sizeof(videoMode)/sizeof(diaMenuEntry),videoMode,"");
+        diaElemMenu menuVideoMode(&render,_("Video _display:"), sizeof(videoMode)/sizeof(diaMenuEntry),videoMode,"");
         
         
         
@@ -207,24 +207,24 @@
                              ,{1,      _("Display only error alerts"),NULL}
                              ,{2,      _("Display all alerts"),NULL}
         };
-        diaElemMenu menuMessage(&msglevel,_("Message level"), sizeof(msgEntries)/sizeof(diaMenuEntry),msgEntries,"");
+        diaElemMenu menuMessage(&msglevel,_("_Message level:"), sizeof(msgEntries)/sizeof(diaMenuEntry),msgEntries,"");
         
         
         
         diaMenuEntry volumeEntries[]={
                              {0,       _("PCM"),NULL}
                              ,{1,      _("Master"),NULL}};
-        diaElemMenu menuVolume(&useMaster,_("Volume control"), sizeof(volumeEntries)/sizeof(diaMenuEntry),volumeEntries,"");
+        diaElemMenu menuVolume(&useMaster,_("_Volume control:"), sizeof(volumeEntries)/sizeof(diaMenuEntry),volumeEntries,"");
         
         
         
          diaMenuEntry mixerEntries[]={
                              {0,       _("No downmixing"),NULL}
                              ,{1,       _("Stereo"),NULL}
-                             ,{2,      _("Prologic"),NULL}
-                              ,{3,      _("Prologic II"),NULL}
+                             ,{2,      _("Pro Logic"),NULL}
+                              ,{3,      _("Pro Logic II"),NULL}
          };
-        diaElemMenu menuMixer(&downmix,_("Local Playback Downmixing"), sizeof(mixerEntries)/sizeof(diaMenuEntry),mixerEntries,"");
+        diaElemMenu menuMixer(&downmix,_("_Local playback downmixing:"), sizeof(mixerEntries)/sizeof(diaMenuEntry),mixerEntries,"");
 #undef MKADID        
 #define MKADID(x) {DEVICE_##x,_(#x),NULL}
         diaMenuEntry audioEntries[]=
@@ -253,9 +253,9 @@
 #endif	
         MKADID(DUMMY)
 };
-        diaElemMenu menuAudio(&newdevice,_("Audio output"), sizeof(audioEntries)/sizeof(diaMenuEntry),audioEntries,"");
+        diaElemMenu menuAudio(&newdevice,_("_Audio output:"), sizeof(audioEntries)/sizeof(diaMenuEntry),audioEntries,"");
         
-        diaElemText entryAlsaDevice(&alsaDevice,"Alsa Device",NULL);
+        diaElemText entryAlsaDevice(&alsaDevice,"ALSA _device:",NULL);
 #ifdef ALSA_SUPPORT
           int z,m;
           m=sizeof(audioEntries)/sizeof(diaMenuEntry);
@@ -266,10 +266,10 @@
           }
 #endif
         // default Post proc
-     diaElemToggle     fhzd(&hzd,_("Horizontal deblocking"));
-     diaElemToggle     fvzd(&vzd,_("Vertical deblocking"));
-     diaElemToggle     fdring(&dring,_("Deringing"));
-     diaElemUInteger   postProcStrength(&pp_value,_("Strength:"),0,5);
+     diaElemToggle     fhzd(&hzd,_("_Horizontal deblocking"));
+     diaElemToggle     fvzd(&vzd,_("_Vertical deblocking"));
+     diaElemToggle     fdring(&dring,_("De_ringing"));
+     diaElemUInteger   postProcStrength(&pp_value,_("_Strength:"),0,5);
      diaElemFrame      framePP(_("Default Postprocessing"));
      
      framePP.swallow(&fhzd);
@@ -284,7 +284,7 @@
 #else
                filterPath = ADM_strdup("c:\\");
 #endif
-        diaElemDirSelect  entryFilterPath(&filterPath,_("Filter directory"),"");
+        diaElemDirSelect  entryFilterPath(&filterPath,_("_Filter directory:"),"");
         
         /**********************************************************************/
         /* First Tab : user interface */
@@ -293,7 +293,7 @@
         
          /* First Tab bis: user interface : Auto*/
         diaElem *diaAuto[]={&autoSwap,&togAutoVbr,&togAutoIndex,&togAutoUnpack,&autoIndex,};
-        diaElemTabs tabAuto("Automatically",5,diaAuto);
+        diaElemTabs tabAuto("Automation",5,diaAuto);
         
         /* Second Tab : input */
         diaElem *diaInput[]={&nuvAudio,&useLavcodec};

Modified: branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2007-05-08 20:30:52 UTC (rev 3054)
+++ branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2007-05-09 08:12:17 UTC (rev 3055)
@@ -1995,15 +1995,15 @@
             {AudioNone,_("None"),_("No audio")},
             {AudioAC3,_("External AC3"),_("Take audio from external AC3 file")},
             {AudioMP3,_("External MP3"),_("Take audio from external MP3 file")},
-            {AudioWav,_("External Wav"),_("Take audio from external WAV file")}
+            {AudioWav,_("External WAV"),_("Take audio from external WAV file")}
         };
         
         
-        diaElemMenu   sourceMenu(&nw,_("Audio source"),5,sourcesStream,NULL);
+        diaElemMenu   sourceMenu(&nw,_("_Audio source:"),5,sourcesStream,NULL);
         
         
         
-        diaElemFileRead sourceName(&newtrackname,_("External filename"));
+        diaElemFileRead sourceName(&newtrackname,_("_External file:"));
         
         // Now build the list of embedded track
 #define MAX_AUDIO_TRACK 10
@@ -2018,7 +2018,7 @@
         }
          if(infos) delete [] infos;
          
-         diaElemMenuDynamic   sourceFromVideo(&newtrack,_("Track from video"),nb,sourceavitracks);
+         diaElemMenuDynamic   sourceFromVideo(&newtrack,_("_Track from video:"),nb,sourceavitracks);
          diaElem *allWidgets[]={&sourceMenu,&sourceFromVideo,&sourceName};
          
          /* Link..*/
@@ -2028,7 +2028,7 @@
          sourceMenu.link(&(sourcesStream[4]),1,&sourceName);
          
          
-         if( diaFactoryRun(_("Select Main audio Track"),3,allWidgets))
+         if( diaFactoryRun(_("Main Audio Track"),3,allWidgets))
          {
            if(nw!=AudioNone && nw!=AudioAvi)
            {
@@ -2094,13 +2094,13 @@
             {AudioNone,_("None"),_("No audio")},
             {AudioAC3,_("External AC3"),_("Take audio from external AC3 file")},
             {AudioMP3,_("External MP3"),_("Take audio from external MP3 file")},
-            {AudioWav,_("External Wav"),_("Take audio from external WAV file")}
+            {AudioWav,_("External WAV"),_("Take audio from external WAV file")}
         };
         
         old=nw=secondAudioSource;
 
-        diaElemMenu     sourceMenu(&nw,_("Audio source"),4,sourcesStream,NULL);
-        diaElemFileRead sourceName(&newtrackname,_("Filename"));
+        diaElemMenu     sourceMenu(&nw,_("_Audio source:"),4,sourcesStream,NULL);
+        diaElemFileRead sourceName(&newtrackname,_("_External file:"));
         diaElem *allWidgets[]={&sourceMenu,&sourceName};
 
   /* Link..*/
@@ -2109,7 +2109,7 @@
          sourceMenu.link(&(sourcesStream[3]),1,&sourceName);
          sourceMenu.link(&(sourcesStream[1]),1,&sourceName);
 
-         if( !diaFactoryRun(_("Select 2nd audio Track"),2,allWidgets)) return;
+         if( !diaFactoryRun(_("Second Audio Track"),2,allWidgets)) return;
          if(!ADM_fileExist(newtrackname))
          {
            GUI_Info_HIG(ADM_LOG_INFO,_("Cannot load"),_("The selected audio file does not exist."));
@@ -2456,8 +2456,8 @@
     else sprintf(sType,"P");
  sprintf(sSize,"%d bytes",fullLen);
  
- diaElemReadOnlyText Type(sType,_("Frame Type:"));
- diaElemReadOnlyText Size(sSize,_("Frame Size:"));
+ diaElemReadOnlyText Type(sType,_("Frame type:"));
+ diaElemReadOnlyText Size(sSize,_("Frame size:"));
  diaElem *elems[]={&Type,&Size,&binhex   };
  if(diaFactoryRun(_("Frame Hex Dump"),3,elems))
  



From mean at mail.berlios.de  Wed May  9 14:14:02 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Wed, 9 May 2007 14:14:02 +0200
Subject: [Avidemux-svn-commit] r3056 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK/ADM_dialog ADM_NONE/ADM_dialog ADM_QT4/ADM_dialog
	ADM_commonUI
Message-ID: <200705091214.l49CE2AD013306@sheep.berlios.de>

Author: mean
Date: 2007-05-09 14:14:01 +0200 (Wed, 09 May 2007)
New Revision: 3056

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_mjpeg.cpp
Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mjpeg.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
Log:
mjpeg uses dialogFactory

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mjpeg.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mjpeg.cpp	2007-05-09 08:12:17 UTC (rev 3055)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mjpeg.cpp	2007-05-09 12:14:01 UTC (rev 3056)
@@ -1,124 +0,0 @@
-/*
- * DO NOT EDIT THIS FILE - it is generated by Glade.
- */
-#include "config.h"
-
-#include <sys/types.h>
-#include <sys/stat.h>
-#include <unistd.h>
-#include <string.h>
-#include <math.h>
-#include <stdio.h>
-#include "ADM_toolkit_gtk/toolkit_gtk_include.h"
-#include "ADM_toolkit_gtk/toolkit_gtk.h"
-
-#include "ADM_assert.h" 
-
-#include "default.h"
-
-//___________________________________
-#include "ADM_editor/ADM_edit.hxx"
-#include "ADM_video/ADM_genvideo.hxx"
-
-#include "ADM_encoder/ADM_vidEncode.hxx"
-#include "ADM_encoder/adm_encoder.h"
-#include "ADM_encoder/adm_encmjpeg_param.h"
-  
-
-static GtkWidget	*create_dialog1 (void);
-static     GtkObject *hscaleAdj;
-
-uint8_t DIA_mjpegCodecSetting(COMPRES_PARAMS *param)
-{
-	MJPEGConfig *config=(MJPEGConfig *)param->extraSettings;
-	ADM_assert(sizeof(MJPEGConfig)==param->extraSettingsLen);
-	uint8_t ret=0;
-	GtkWidget *dialog;
-	
-	dialog=create_dialog1();
-	gtk_register_dialog(dialog);
-	#define TSET(a,b) if(b) 		gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(lookup_widget(dialog,#a)),1);
-	#define TGET(a,b)	if(gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(lookup_widget(dialog,#a)))) \
-							{ b=1;;} else b=0;
-	TSET(checkbuttonUV,(config->swapped));
-	gtk_adjustment_set_value( GTK_ADJUSTMENT(hscaleAdj),(  gdouble  ) config->qual );
-	
-	if(gtk_dialog_run(GTK_DIALOG(dialog))==GTK_RESPONSE_OK)
-	{
-		
-			TGET(checkbuttonUV,(config->swapped));
-			config->qual=(int)floor(GTK_ADJUSTMENT(hscaleAdj)->value);
-			ret=1;
-	
-	}
-	gtk_unregister_dialog(dialog);
-	gtk_widget_destroy(dialog);
-	
-	return ret;
-}   
-  
-GtkWidget	*create_dialog1 (void)
-{
-  GtkWidget *dialog1;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *vbox1;
-  GtkWidget *label1;
-  GtkWidget *hscaleQual;
-  GtkWidget *checkbuttonUV;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *okbutton1;
-
-  dialog1 = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog1), _("Mjpeg Codec settings"));
-
-  dialog_vbox1 = GTK_DIALOG (dialog1)->vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  vbox1 = gtk_vbox_new (FALSE, 0);
-  gtk_widget_show (vbox1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), vbox1, TRUE, TRUE, 0);
-
-  label1 = gtk_label_new (_("Quality"));
-  gtk_widget_show (label1);
-  gtk_box_pack_start (GTK_BOX (vbox1), label1, FALSE, FALSE, 0);
-  gtk_label_set_justify (GTK_LABEL (label1), GTK_JUSTIFY_LEFT);
-
-  hscaleAdj=gtk_adjustment_new (0, 0, 100, 0, 0, 0);
-  hscaleQual = gtk_hscale_new (GTK_ADJUSTMENT (hscaleAdj));
-  gtk_widget_show (hscaleQual);
-  gtk_box_pack_start (GTK_BOX (vbox1), hscaleQual, FALSE, FALSE, 0);
-  gtk_scale_set_digits (GTK_SCALE (hscaleQual), 0);
-
-  checkbuttonUV = gtk_check_button_new_with_mnemonic (_("Swap U & V"));
-  gtk_widget_show (checkbuttonUV);
-  gtk_box_pack_start (GTK_BOX (vbox1), checkbuttonUV, FALSE, FALSE, 0);
-
-  dialog_action_area1 = GTK_DIALOG (dialog1)->action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  cancelbutton1 = gtk_button_new_from_stock ("gtk-cancel");
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock ("gtk-ok");
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, "dialog1");
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, "dialog_vbox1");
-  GLADE_HOOKUP_OBJECT (dialog1, vbox1, "vbox1");
-  GLADE_HOOKUP_OBJECT (dialog1, label1, "label1");
-  GLADE_HOOKUP_OBJECT (dialog1, hscaleQual, "hscaleQual");
-  GLADE_HOOKUP_OBJECT (dialog1, checkbuttonUV, "checkbuttonUV");
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, "dialog_action_area1");
-  GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, "cancelbutton1");
-  GLADE_HOOKUP_OBJECT (dialog1, okbutton1, "okbutton1");
-
-  return dialog1;
-}
-

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-05-09 08:12:17 UTC (rev 3055)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-05-09 12:14:01 UTC (rev 3056)
@@ -9,7 +9,7 @@
 libADM_dialog_a_METASOURCES = AUTO
 
 libADM_dialog_a_SOURCES = DIA_audio.cpp DIA_vcodec.cpp DIA_acodec.cpp \
-	DIA_properties.cpp DIA_mjpeg.cpp DIA_about.cpp DIA_recent.cpp \
+	DIA_properties.cpp  DIA_about.cpp DIA_recent.cpp \
 	DIA_resize.cpp DIA_working.cpp \
 	DIA_working.h DIA_busy.cpp DIA_busy.h DIA_exLame.cpp DIA_pipe.cpp DIA_mpeg2opt.cpp \
 	DIA_xvcd.cpp  \
@@ -36,7 +36,7 @@
 
 EXTRA_DIST =  \
 DIA_mcdeint.cpp     DIA_resize.cpp \
-DIA_cnr2.cpp          DIA_mjpeg.cpp       \
+DIA_cnr2.cpp          \
 DIA_color.cpp         DIA_eq2.cpp          \
 DIA_coloryuv.cpp      DIA_equalizer.cpp    DIA_mpdelogo.cpp     \
 DIA_contrast.cpp      DIA_exLame.cpp       DIA_mpeg2opt.cpp    DIA_srt.cpp \

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-09 08:12:17 UTC (rev 3055)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-09 12:14:01 UTC (rev 3056)
@@ -89,7 +89,6 @@
 uint8_t DIA_getHue(Hue_Param *param, AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getMPdelogo(MPDELOGO_PARAM *param,AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getPartial(PARTIAL_CONFIG *param,AVDMGenericVideoStream *son,AVDMGenericVideoStream *previous){return 0;}
-uint8_t DIA_mjpegCodecSetting(COMPRES_PARAMS *param){return 0;}
 uint8_t DIA_pipe(char **cmd,char **param){return 0;}
 uint8_t DIA_requant(COMPRES_PARAMS *incoming){return 0;}
 uint8_t  DIA_setUserMuxParam( int *mode, int *param, int *muxsize){return 0;}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-09 08:12:17 UTC (rev 3055)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-09 12:14:01 UTC (rev 3056)
@@ -88,7 +88,6 @@
 uint8_t DIA_getHue(Hue_Param *param, AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getMPdelogo(MPDELOGO_PARAM *param,AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getPartial(PARTIAL_CONFIG *param,AVDMGenericVideoStream *son,AVDMGenericVideoStream *previous){return 0;}
-uint8_t DIA_mjpegCodecSetting(COMPRES_PARAMS *param){return 0;}
 uint8_t DIA_pipe(char **cmd,char **param){return 0;}
 uint8_t DIA_requant(COMPRES_PARAMS *incoming){return 0;}
 uint8_t  DIA_setUserMuxParam( int *mode, int *param, int *muxsize){return 0;}

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_mjpeg.cpp (from rev 3055, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp	2007-05-09 08:12:17 UTC (rev 3055)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_mjpeg.cpp	2007-05-09 12:14:01 UTC (rev 3056)
@@ -0,0 +1,51 @@
+/*
+    Dialog for lavcodec based Mpeg1/mpeg2 codec
+
+
+*/
+#include <config.h>
+
+#include <stdio.h>
+#include <stdlib.h>
+
+
+#include "ADM_lavcodec.h"
+
+#include "default.h"
+#include "ADM_toolkit/toolkit.hxx"
+#include "ADM_codecs/ADM_codec.h"
+#include "ADM_encoder/ADM_vidEncode.hxx"
+#include "ADM_codecs/ADM_ffmpegConfig.h"
+#include "DIA_factory.h"
+#include "ADM_assert.h" 
+
+
+
+#include "ADM_codecs/ADM_codec.h"
+#include "ADM_encoder/ADM_vidEncode.hxx"
+#include "ADM_assert.h" 
+#include "DIA_factory.h"
+#include "../../ADM_encoder/adm_encmjpeg_param.h"
+
+/**
+      \fn DIA_mjpegCodecSetting
+      \brief Dialog to set encoding options for Mjpeg lavcodec based
+*/
+//____________________________________________
+uint8_t DIA_mjpegCodecSetting(COMPRES_PARAMS *param)
+{
+        MJPEGConfig *config=(MJPEGConfig *)param->extraSettings;
+        ADM_assert(sizeof(MJPEGConfig)==param->extraSettingsLen);
+        uint8_t ret=0;
+        diaElemUInteger  qual(&(config->qual),_("_Quality:"),1,100);
+        diaElemToggle    swap(&(config->swapped),_("_Swap U&V:"));
+        diaElem *elems[2]={&qual,&swap};
+        if( diaFactoryRun("Mjpeg Configuration",2,elems))
+        {
+            ret=1;
+        }
+        return ret;
+        
+}   
+// EOF
+

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-09 08:12:17 UTC (rev 3055)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-09 12:14:01 UTC (rev 3056)
@@ -4,7 +4,7 @@
 DIA_resizeWiz.cpp DIA_builtin.cpp DIA_postproc.cpp DIA_enter.cpp \
 DIA_audioconfig.cpp GUI_render.cpp DIA_SVCD.cpp DIA_DVDff.cpp \
 DIA_bitrateHisto.cpp DIA_prefs.cpp DIA_gototime.cpp \
-DIA_lavcodec.cpp
+DIA_lavcodec.cpp DIA_mjpeg.cpp
 
 
 INCLUDES = $(all_includes) $(GTK_CFLAGS) $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \



From mean at mail.berlios.de  Wed May  9 15:39:31 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Wed, 9 May 2007 15:39:31 +0200
Subject: [Avidemux-svn-commit] r3057 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK/ADM_dialog ADM_NONE/ADM_dialog ADM_QT4/ADM_dialog
	ADM_commonUI
Message-ID: <200705091339.l49DdV4Q024553@sheep.berlios.de>

Author: mean
Date: 2007-05-09 15:39:30 +0200 (Wed, 09 May 2007)
New Revision: 3057

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_requant.cpp
Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_requant.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
Log:
requant uses dialogFactory

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_requant.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_requant.cpp	2007-05-09 12:14:01 UTC (rev 3056)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_requant.cpp	2007-05-09 13:39:30 UTC (rev 3057)
@@ -1,135 +0,0 @@
-//
-/*
- * DO NOT EDIT THIS FILE - it is generated by Glade.
- */
-
-
-#include <sys/types.h>
-#include <sys/stat.h>
-#include <unistd.h>
-#include <string.h>
-#include <stdio.h>
-#include <math.h>
-
-#include <gdk/gdkkeysyms.h>
-#include <gtk/gtk.h>
-
-
-#include <gdk/gdkkeysyms.h>
-#include <gtk/gtk.h>
-#include "config.h"
-#include "default.h"
-#include "ADM_toolkit_gtk/ADM_gladeSupport.h"
-#include "ADM_toolkit_gtk/toolkit_gtk.h"
-#include "ADM_toolkit_gtk/toolkit_gtk_include.h"
-#include "ADM_toolkit/filesel.h"
-#include "ADM_encoder/ADM_vidEncode.hxx"
-
-
-# include "prefs.h"
-
-static GtkWidget	*create_dialog1 (void);
-static GtkWidget 	*dialog;
-static uint64_t		_init;
-static uint32_t 	_audio;
-static void callback( void );
-
-uint8_t DIA_requant(COMPRES_PARAMS *incoming)
-{
-uint8_t ret=0;
-uint32_t *pp;
-float   fp;
-char string[1025];
-GtkAdjustment *sliderAdjustment;
-
-        ADM_assert(incoming->extraSettingsLen==sizeof(uint32_t));
-        pp=(uint32_t *)incoming->extraSettings;
-        
-       
-        fp=(*pp);
-        fp/=1000;
-        
-        dialog=create_dialog1();
-        gtk_register_dialog(dialog);
-        sliderAdjustment=gtk_range_get_adjustment (GTK_RANGE(WID(hscale1)));
-        gtk_adjustment_set_value( GTK_ADJUSTMENT(sliderAdjustment),(  gdouble  ) fp );
-
-        if(gtk_dialog_run(GTK_DIALOG(dialog))==GTK_RESPONSE_OK)
-        {
-                
-                ret=1;
-                // Read value & speed
-                fp=(float)GTK_ADJUSTMENT(sliderAdjustment)->value;
-                *pp=(uint32_t)(1000.*fp);
-        }
-        gtk_unregister_dialog(dialog);
-        gtk_widget_destroy(dialog);
-        dialog=NULL;
-        return ret;
-}
-
-GtkWidget*
-    create_dialog1 (void)
-{
-  GtkWidget *dialog1;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *vbox1;
-  GtkWidget *label1;
-  GtkWidget *hscale1;
-  GtkWidget *hseparator1;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *okbutton1;
-
-  dialog1 = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog1), _("Requantize Option"));
-  gtk_window_set_type_hint (GTK_WINDOW (dialog1), GDK_WINDOW_TYPE_HINT_DIALOG);
-
-  dialog_vbox1 = GTK_DIALOG (dialog1)->vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  vbox1 = gtk_vbox_new (FALSE, 0);
-  gtk_widget_show (vbox1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), vbox1, TRUE, TRUE, 0);
-
-  label1 = gtk_label_new (_("Shrink factor"));
-  gtk_widget_show (label1);
-  gtk_box_pack_start (GTK_BOX (vbox1), label1, FALSE, FALSE, 0);
-
-  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (2.37, 1, 4, 0.2, 0.2, 0)));
-  gtk_widget_show (hscale1);
-  gtk_box_pack_start (GTK_BOX (vbox1), hscale1, FALSE, FALSE, 0);
-  gtk_scale_set_digits (GTK_SCALE (hscale1), 2);
-
-  hseparator1 = gtk_hseparator_new ();
-  gtk_widget_show (hseparator1);
-  gtk_box_pack_start (GTK_BOX (vbox1), hseparator1, FALSE, FALSE, 0);
-
-  dialog_action_area1 = GTK_DIALOG (dialog1)->action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  cancelbutton1 = gtk_button_new_from_stock ("gtk-cancel");
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock ("gtk-ok");
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, "dialog1");
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, "dialog_vbox1");
-  GLADE_HOOKUP_OBJECT (dialog1, vbox1, "vbox1");
-  GLADE_HOOKUP_OBJECT (dialog1, label1, "label1");
-  GLADE_HOOKUP_OBJECT (dialog1, hscale1, "hscale1");
-  GLADE_HOOKUP_OBJECT (dialog1, hseparator1, "hseparator1");
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, "dialog_action_area1");
-  GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, "cancelbutton1");
-  GLADE_HOOKUP_OBJECT (dialog1, okbutton1, "okbutton1");
-
-  return dialog1;
-}
-

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-05-09 12:14:01 UTC (rev 3056)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-05-09 13:39:30 UTC (rev 3057)
@@ -14,7 +14,7 @@
 	DIA_working.h DIA_busy.cpp DIA_busy.h DIA_exLame.cpp DIA_pipe.cpp DIA_mpeg2opt.cpp \
 	DIA_xvcd.cpp  \
 	DIA_xvid.cpp DIA_crop.cpp DIA_color.cpp DIA_encoding.cpp   \
-	DIA_requant.cpp DIA_xvid4.cpp  \
+	DIA_xvid4.cpp  \
 	DIA_pause.cpp \
 	DIA_lavdecoder.cpp DIA_calculator.cpp DIA_equalizer.cpp \
 	DIA_vobsub.cpp DIA_x264.cpp DIA_ocr.cpp  DIA_hue.cpp DIA_eq2.cpp \
@@ -52,6 +52,6 @@
 DIA_busy.cpp         DIA_properties.cpp  DIA_xvid.cpp \
 DIA_busy.h            DIA_quota.cpp       DIA_xvid4.cpp \
 DIA_calculator.cpp   DIA_encoding.cpp      DIA_lavdecoder.cpp   DIA_recent.cpp \
-DIA_chromaShift.cpp  DIA_encoding.h        DIA_lavpp_deint.cpp  DIA_requant.cpp 
+DIA_chromaShift.cpp  DIA_encoding.h        DIA_lavpp_deint.cpp   
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-09 12:14:01 UTC (rev 3056)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-09 13:39:30 UTC (rev 3057)
@@ -90,7 +90,6 @@
 uint8_t DIA_getMPdelogo(MPDELOGO_PARAM *param,AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getPartial(PARTIAL_CONFIG *param,AVDMGenericVideoStream *son,AVDMGenericVideoStream *previous){return 0;}
 uint8_t DIA_pipe(char **cmd,char **param){return 0;}
-uint8_t DIA_requant(COMPRES_PARAMS *incoming){return 0;}
 uint8_t  DIA_setUserMuxParam( int *mode, int *param, int *muxsize){return 0;}
 uint8_t DIA_SVCDParam(COMPRES_PARAMS *incoming){return 0;}
 uint8_t  DIA_tdeint(TDEINT_PARAM *param){return 0;}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-09 12:14:01 UTC (rev 3056)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-09 13:39:30 UTC (rev 3057)
@@ -89,7 +89,6 @@
 uint8_t DIA_getMPdelogo(MPDELOGO_PARAM *param,AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getPartial(PARTIAL_CONFIG *param,AVDMGenericVideoStream *son,AVDMGenericVideoStream *previous){return 0;}
 uint8_t DIA_pipe(char **cmd,char **param){return 0;}
-uint8_t DIA_requant(COMPRES_PARAMS *incoming){return 0;}
 uint8_t  DIA_setUserMuxParam( int *mode, int *param, int *muxsize){return 0;}
 uint8_t  DIA_tdeint(TDEINT_PARAM *param){return 0;}
 uint8_t DIA_vobsub(vobSubParam *param){return 0;}

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_requant.cpp (from rev 3056, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_mjpeg.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_mjpeg.cpp	2007-05-09 12:14:01 UTC (rev 3056)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_requant.cpp	2007-05-09 13:39:30 UTC (rev 3057)
@@ -0,0 +1,60 @@
+/*
+    Dialog for lavcodec based Mpeg1/mpeg2 codec
+
+
+*/
+#include <config.h>
+
+#include <stdio.h>
+#include <stdlib.h>
+
+
+#include "ADM_lavcodec.h"
+
+#include "default.h"
+#include "ADM_toolkit/toolkit.hxx"
+#include "ADM_codecs/ADM_codec.h"
+#include "ADM_encoder/ADM_vidEncode.hxx"
+#include "ADM_codecs/ADM_ffmpegConfig.h"
+#include "DIA_factory.h"
+#include "ADM_assert.h" 
+
+
+
+#include "ADM_codecs/ADM_codec.h"
+#include "ADM_encoder/ADM_vidEncode.hxx"
+#include "ADM_assert.h" 
+#include "DIA_factory.h"
+#include "../../ADM_encoder/adm_encmjpeg_param.h"
+
+/**
+      \fn DIA_mjpegCodecSetting
+      \brief Dialog to set encoding options for Mjpeg lavcodec based
+*/
+//____________________________________________
+uint8_t DIA_requant(COMPRES_PARAMS *param)
+{
+  uint32_t *pp;
+  ELEM_TYPE_FLOAT fp;
+        ADM_assert(param->extraSettingsLen==sizeof(uint32_t));
+        pp=(uint32_t *)param->extraSettings;
+        
+       
+        fp=(ELEM_TYPE_FLOAT)(*pp);
+        fp/=1000;
+        
+       
+        uint8_t ret=0;
+        diaElemFloat  shrink(&fp,_("_Shrink Factor:"),1,4.0);
+        
+        diaElem *elems[1]={&shrink};
+        if( diaFactoryRun("Requant Configuration",1,elems))
+        {
+            ret=1;
+            *pp=(uint32_t)(fp*1000);
+        }
+        return ret;
+        
+}   
+// EOF
+

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-09 12:14:01 UTC (rev 3056)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-09 13:39:30 UTC (rev 3057)
@@ -4,7 +4,7 @@
 DIA_resizeWiz.cpp DIA_builtin.cpp DIA_postproc.cpp DIA_enter.cpp \
 DIA_audioconfig.cpp GUI_render.cpp DIA_SVCD.cpp DIA_DVDff.cpp \
 DIA_bitrateHisto.cpp DIA_prefs.cpp DIA_gototime.cpp \
-DIA_lavcodec.cpp DIA_mjpeg.cpp
+DIA_lavcodec.cpp DIA_mjpeg.cpp DIA_requant.cpp
 
 
 INCLUDES = $(all_includes) $(GTK_CFLAGS) $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \



From mean at mail.berlios.de  Wed May  9 17:47:31 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Wed, 9 May 2007 17:47:31 +0200
Subject: [Avidemux-svn-commit] r3058 -
	branches/avidemux_2.4_branch/avidemux/ADM_encoder
Message-ID: <200705091547.l49FlVCX006312@sheep.berlios.de>

Author: mean
Date: 2007-05-09 17:47:31 +0200 (Wed, 09 May 2007)
New Revision: 3058

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmjpeg_param.h
Log:
mjpeg is using dialogFactoru, last part

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmjpeg_param.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmjpeg_param.h	2007-05-09 13:39:30 UTC (rev 3057)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmjpeg_param.h	2007-05-09 15:47:31 UTC (rev 3058)
@@ -21,8 +21,8 @@
 typedef struct MJPEGConfig
 {
 
-  int qual;
-  int swapped;
+  uint32_t qual;
+  uint32_t swapped;
 } MJPEGConfig;
 
 #endif



From mean at mail.berlios.de  Wed May  9 18:36:53 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Wed, 9 May 2007 18:36:53 +0200
Subject: [Avidemux-svn-commit] r3059 - in
	branches/avidemux_2.4_branch/avidemux: ADM_osSupport
	ADM_userInterfaces/ADM_GTK/ADM_gui2
	ADM_userInterfaces/ADM_QT4/ADM_gui
Message-ID: <200705091636.l49GarJr024612@sheep.berlios.de>

Author: mean
Date: 2007-05-09 18:36:52 +0200 (Wed, 09 May 2007)
New Revision: 3059

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_crashdump.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
Log:
try to save a project when crashing and offer to load it at next startup

Modified: branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_crashdump.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_crashdump.cpp	2007-05-09 15:47:31 UTC (rev 3058)
+++ branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_crashdump.cpp	2007-05-09 16:36:52 UTC (rev 3059)
@@ -21,13 +21,22 @@
 #include <stdarg.h>
 #include <string.h>
 #include <default.h>
+#include <unistd.h>
+
+#include <math.h>
 #include <ADM_assert.h>
-#include <math.h>
 
 #include "default.h"
 #include "ADM_toolkit/toolkit.hxx"
 #include "ADM_userInterfaces/ADM_commonUI/DIA_factory.h"
+#include "ADM_editor/ADM_edit.hxx"
+extern ADM_Composer *video_body;
 
+#define CRASH_FILE "crash.js"
+
+static void saveCrashProject(void);
+extern char *ADM_getBaseDir(void);
+extern void A_parseECMAScript(const char *name);
 #ifdef CYG_MANGLING
 void installSigHandler()
 {
@@ -36,7 +45,7 @@
 void ADM_backTrack(int lineno,const char *file)
 {
  char bfr[1024];
-  
+  saveCrashProject();
  snprintf(bfr,1024,"Assert Failed at file %s, line %d\n",file,lineno);
  GUI_Error_HIG("Fatal Error",bfr);
  assert(0);
@@ -162,6 +171,7 @@
      char **functions;
      int count, i;
       
+     saveCrashProject();
       printf("\n*********** BACKTRACK **************\n");
       count = backtrace(stack, 20);
       functions = backtrace_symbols(stack, count);
@@ -192,4 +202,50 @@
      exit(1); // _exit(1) ???
 }
 #endif
+/**
+    \fn saveCrashProject
+    \brief Try to save the current project, useful in case of crash
+*/
+void saveCrashProject(void)
+{
+  char *baseDir=ADM_getBaseDir();
+  char *name=CRASH_FILE;
+  static int crashCount=0;
+  if(crashCount) return ; // avoid endless looping
+  crashCount++;
+  char *where=new char[strlen(baseDir)+strlen(name)+2];
+  strcpy(where,baseDir);
+  strcat(where,"/");
+  strcat(where,name);
+  printf("Saving crash file to %s\n",where);
+  video_body->saveAsScript (where, NULL);
+}
+/**
+    \fn checkCrashFile
+    \brief Check if there i a crash file
+*/
+
+void checkCrashFile(void)
+{
+  char *baseDir=ADM_getBaseDir();
+  char *name=CRASH_FILE;
+  static int crashCount=0;
+  char *where=new char[strlen(baseDir)+strlen(name)+2];
+  strcpy(where,baseDir);
+  strcat(where,"/");
+  strcat(where,name);
+  if(ADM_fileExist(where))
+  {
+    if(GUI_Confirmation_HIG(_("Load it"),_("Crash file"),
+       _("I have detected a crash file. \nDo you want to load it  ?\n(It will be deleted in all cases, you should save it if you want to keep it)")))
+    {
+       A_parseECMAScript(where);
+    }
+    unlink(where);
+  }else
+  {
+    printf("No crash file (%s)\n",where); 
+  }
+  delete [] where;
+}
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp	2007-05-09 15:47:31 UTC (rev 3058)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp	2007-05-09 16:36:52 UTC (rev 3059)
@@ -95,6 +95,7 @@
 #ifdef HAVE_AUDIO
 extern uint8_t AVDM_setVolume(int volume);
 #endif
+extern void checkCrashFile(void);
 #define AUDIO_WIDGET "comboboxAudio"
 #define VIDEO_WIDGET "comboboxVideo"
 #define FORMAT_WIDGET "comboboxFormat"
@@ -1125,6 +1126,7 @@
     {
       g_timeout_add(200,(GCALL *)trampoline,NULL);
     }
+    checkCrashFile();
     gtk_main();
     gdk_threads_leave();
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2007-05-09 15:47:31 UTC (rev 3058)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2007-05-09 16:36:52 UTC (rev 3059)
@@ -47,7 +47,7 @@
 extern const char *encoderGetIndexedName (uint32_t i);
 extern uint32_t audioFilterGetNbEncoder(void);
 extern const char* audioFilterGetIndexedName(uint32_t i);
-
+extern void checkCrashFile(void);
 static void setupMenus(void);
 
 static QSlider *slider=NULL;
@@ -281,6 +281,7 @@
      automation();
     }
     setupMenus();
+    checkCrashFile();
     return a.exec();
 }
 /**



From mean at mail.berlios.de  Thu May 10 17:04:14 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 10 May 2007 17:04:14 +0200
Subject: [Avidemux-svn-commit] r3060 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska
Message-ID: <200705101504.l4AF4END014628@sheep.berlios.de>

Author: mean
Date: 2007-05-10 17:04:14 +0200 (Thu, 10 May 2007)
New Revision: 3060

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvIndexer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv_audio.cpp
Log:
simple block handling for matroska

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.cpp	2007-05-09 16:36:52 UTC (rev 3059)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.cpp	2007-05-10 15:04:14 UTC (rev 3060)
@@ -84,6 +84,7 @@
     printf("[MKV] Cluster indexing failed\n");
     return 0;
   }
+  printf("[MKV]Found %u clusters\n",_nbClusters);
   printf("[MKV] Indexing video\n");
     if(!videoIndexer(&ebml))
     {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvIndexer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvIndexer.cpp	2007-05-09 16:36:52 UTC (rev 3059)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvIndexer.cpp	2007-05-10 15:04:14 UTC (rev 3060)
@@ -77,7 +77,11 @@
                   //printf("Skipping %s\n",ss);
                   cluster.skip(len);
                   break;
-                
+                case MKV_SIMPLE_BLOCK:
+                    {
+                      indexBlock(parser,len,_clusters[clusters].timeCode);
+                    }
+                    break;
                 case MKV_BLOCK_GROUP:
                 {
                         //printf("Block Group\n");
@@ -97,10 +101,11 @@
                                 {
                                   default: blockGroup.skip(len);
                                   case MKV_BLOCK : 
+                                  case MKV_SIMPLE_BLOCK:
                                   {
                                     indexBlock(&blockGroup,len,_clusters[clusters].timeCode);
-                                    
-                                  }         
+                                  }
+                                  break;
                                 }
                           }
                           thiscluster++;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv_audio.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv_audio.cpp	2007-05-09 16:36:52 UTC (rev 3059)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv_audio.cpp	2007-05-10 15:04:14 UTC (rev 3060)
@@ -128,6 +128,7 @@
               default:
               case MKV_TIMECODE:     _clusterParser->skip(len);  break;
               case MKV_BLOCK_GROUP:    break;
+              case MKV_SIMPLE_BLOCK: 
               case MKV_BLOCK: 
               {
                   uint32_t tid=_clusterParser->readEBMCode();



From mean at mail.berlios.de  Thu May 10 18:33:45 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 10 May 2007 18:33:45 +0200
Subject: [Avidemux-svn-commit] r3061 - in
	branches/avidemux_2.4_branch/avidemux: ADM_codecs
	ADM_userInterfaces/ADM_QT4/ADM_dialog
	ADM_userInterfaces/ADM_QT4/ADM_dialogFactory
Message-ID: <200705101633.l4AGXjlZ030190@sheep.berlios.de>

Author: mean
Date: 2007-05-10 18:33:42 +0200 (Thu, 10 May 2007)
New Revision: 3061

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_xvid4param.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp
Log:
minimalistic xvi4 using dialogFactory

Modified: branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_xvid4param.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_xvid4param.h	2007-05-10 15:04:14 UTC (rev 3060)
+++ branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_xvid4param.h	2007-05-10 16:33:42 UTC (rev 3061)
@@ -21,55 +21,55 @@
 typedef struct xvid4EncParam
 {
 
-  int guiLevel;			// equivalent to divx level : Fast/medium/insane
+  uint32_t guiLevel;			// equivalent to divx level : Fast/medium/insane
 
-  int min_key_interval;
-  int max_key_interval;
-  int bframes;
+  uint32_t min_key_interval;
+  uint32_t max_key_interval;
+  uint32_t bframes;
 
-  int mpegQuantizer;		// 0 h263/ 1 Mpeg quantizer
-  int interlaced;
-  int inter4mv;
-  int trellis;
-  int cartoon;
-  int greyscale;
+  uint32_t mpegQuantizer;		// 0 h263/ 1 Mpeg quantizer
+  uint32_t interlaced;
+  uint32_t inter4mv;
+  uint32_t trellis;
+  uint32_t cartoon;
+  uint32_t greyscale;
 
-  int qpel;
-  int gmc;
-  int bvhq;
-  int hqac;
+  uint32_t qpel;
+  uint32_t gmc;
+  uint32_t bvhq;
+  uint32_t hqac;
 
-  int chroma_opt;
-  int qmin[3];			// IPB
-  int qmax[3];			// IPB
+  uint32_t   chroma_opt;
+  uint32_t qmin[3];			// IPB
+  uint32_t qmax[3];			// IPB
 
-  uint8_t par_as_input;
-  uint8_t par_width;
-  uint8_t par_height;
+  uint32_t par_as_input;
+  uint32_t par_width;
+  uint32_t par_height;
 
 
   // This if for 2 pass   
-  int keyframe_boost;
-  int curve_compression_high;
-  int curve_compression_low;
-  int overflow_control_strength;
-  int max_overflow_improvement;
-  int max_overflow_degradation;
-  int kfreduction;
-  int kfthreshold;
+  uint32_t keyframe_boost;
+  uint32_t curve_compression_high;
+  uint32_t curve_compression_low;
+  uint32_t overflow_control_strength;
+  uint32_t max_overflow_improvement;
+  uint32_t max_overflow_degradation;
+  uint32_t kfreduction;
+  uint32_t kfthreshold;
 
   int container_frame_overhead;
   //
-  int bquant_ratio;
-  int bquant_offset;
-  int vhqmode;
-  int chroma_me;
-  int turbo;
-  int packed;
-  int closed_gop;
-  int bframe_threshold;
-  int useCustomIntra;
-  int useCustomInter;
+  uint32_t bquant_ratio;
+  uint32_t bquant_offset;
+  uint32_t vhqmode;
+  uint32_t chroma_me;
+  uint32_t turbo;
+  uint32_t packed;
+  uint32_t closed_gop;
+  uint32_t bframe_threshold;
+  uint32_t useCustomIntra;
+  uint32_t useCustomInter;
   uint8_t  intraMatrix[64];
   uint8_t  interMatrix[64];
   char logName[200];

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-10 15:04:14 UTC (rev 3060)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-10 16:33:42 UTC (rev 3061)
@@ -95,7 +95,6 @@
 uint8_t DIA_x264(COMPRES_PARAMS *config){return 0;}
 uint8_t DIA_XVCDParam(char *title,COMPRESSION_MODE * mode, uint32_t * qz,
 		   				   uint32_t * br,uint32_t *fsize,FFcodecSetting *conf	){return 0;}
-uint8_t DIA_xvid4(COMPRES_PARAMS *incoming){return 0;}
 
 //******************************
 

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp	2007-05-10 15:04:14 UTC (rev 3060)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp	2007-05-10 16:33:42 UTC (rev 3061)
@@ -0,0 +1,150 @@
+
+// Author: mean <fixounet at free.fr>, (C) 2007
+//
+// Copyright: See COPYING file that comes with this distribution
+//
+//
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include <ADM_assert.h>
+#include <math.h>
+#include <math.h>
+#include <iconv.h>
+#include "config.h"
+
+
+#include "fourcc.h"
+#include "avio.hxx"
+
+#include "avi_vars.h"
+
+#include "ADM_toolkit/toolkit.hxx"
+
+#include "ADM_userInterfaces/ADM_commonUI/DIA_factory.h"
+#include "ADM_assert.h" 
+#ifdef USE_XVID_4
+#include "ADM_encoder/ADM_vidEncode.hxx"
+
+#include "ADM_codecs/ADM_xvid4param.h"
+/**
+      \fn getFFCompressParams
+      \brief Dialog for lavcodec mpeg4/... codec settings
+*/
+uint8_t DIA_xvid4(COMPRES_PARAMS *incoming)
+{
+int b;
+int ret=0;
+int code;
+      xvid4EncParam localParam;
+      ADM_assert(incoming->extraSettingsLen==sizeof(localParam));
+      memcpy(&localParam,incoming->extraSettings,sizeof(localParam));
+#define PX(x) &(localParam.x)
+         // Our tabs
+         /* Tab 1 main */
+           diaElemBitrate bitrate(incoming,NULL);
+#define MKTOGGLE(y,x)           diaElemToggle  t_##x(PX(x),#y)
+        MKTOGGLE(Interlaced,	    interlaced);
+        MKTOGGLE(Cartoon Mode,      cartoon);
+        MKTOGGLE(Greyscale,         greyscale);
+        MKTOGGLE(Cartoon Mode,      turbo);
+        MKTOGGLE(Greyscale,         chroma_opt);
+        diaElem *main[]={&bitrate,&t_interlaced,&t_cartoon,&t_greyscale,&t_turbo,&t_chroma_opt};
+        diaElemTabs tabMain("Main",6,main);
+         /* Tab 2 motion */
+         diaMenuEntry motionMenu[] = {
+                             {0,       _("None"),NULL}
+                            ,{1,      _("Very Low"),NULL}
+                            ,{2,      _("Low"),NULL}
+                            ,{3,      _("Medium"),NULL}
+                            ,{4,      _("High"),NULL}
+                            ,{5,      _("Very High"),NULL}
+                            ,{6,      _("Ultra High"),NULL}};
+        diaElemMenu motion(PX(guiLevel),_("Motion Search Precision"),7,motionMenu);
+        
+         diaMenuEntry vhqMenu[] = {
+                             {0,       _("Off"),NULL}
+                            ,{1,      _("Mode Decision"),NULL}
+                            ,{2,      _("Limited Search"),NULL}
+                            ,{3,      _("Medium Search"),NULL}
+                            ,{4,      _("Wide Search"),NULL} };
+         diaElemMenu vhq(PX(vhqmode),_("VHQ Mode"),5,vhqMenu);
+        
+        
+        /* Tab2-ASP */
+          diaElemUInteger  bframe(PX(bframes),_("Max B Frames"),0,3);
+          diaElemToggle    qpel(PX(qpel),_("Quarter Pixel"));
+          diaElemToggle    gmc(PX(gmc),_("GMC"));
+          diaElemToggle    bvhq(PX(bvhq),_("BVHQ"));
+          diaElemFrame  frameASP(_("Advanced Simple Profile"));
+          frameASP.swallow(&bframe);
+          frameASP.swallow(&qpel);
+          frameASP.swallow(&gmc);
+          frameASP.swallow(&bvhq);
+        
+         
+          /* Tab 2 motion extra */
+            diaElemToggle    inter4mv(PX(inter4mv),_("4MV"));
+            diaElemToggle    chroma_me(PX(chroma_me),_("Chroma ME"));
+            diaElemToggle    hqac(PX(chroma_me),_("HQ AC"));
+          diaElemFrame  frameMore(_("More Search"));
+          frameMore.swallow(&inter4mv);
+          frameMore.swallow(&chroma_me);
+          frameMore.swallow(&hqac);
+          /* Tab 2 gop size */
+          diaElemUInteger  min_key_interval(PX(min_key_interval),_("Min Gop Size"),1,900);
+          diaElemUInteger  max_key_interval(PX(max_key_interval),_("Max Gop Size"),1,900);
+            diaElemFrame  frameGop(_("GOP Size"));
+              frameGop.swallow(&min_key_interval);
+              frameGop.swallow(&max_key_interval);
+            
+           diaElem *motions[]={&motion,&vhq,&frameMore,&frameGop,&frameASP};
+          diaElemTabs tabMotion("Motion",5,motions);
+        /* Tab 3 Qz*/
+          diaMenuEntry qzMenu[] = {
+                             {0,       _("H263"),NULL}
+                            ,{1,      _("Mpeg"),NULL}}                            ;
+           diaElemMenu h263(PX(mpegQuantizer),_("Quantization Matrix"),2,qzMenu);
+           diaElemToggle    trellis(PX(trellis),_("Trellis Quantization"));
+           
+           
+          diaElem *qz[]={&h263,&trellis};
+          diaElemTabs tabQz(_("Quantization"),2,qz);
+          
+          /* Tab 4 : 2nd pass */
+#define MKENTRY(y,x) diaElemUInteger  x(PX(x),_(#y),0,100);frameOne.swallow(&x);
+        diaElemFrame  frameOne(_("Two Pass Tuning")); 
+         
+        MKENTRY(Key Frame Boost(%),	keyframe_boost		);
+        
+        MKENTRY(I-frames closer than...	,		kfthreshold			);
+        MKENTRY(.. are reduced by(%),	kfreduction			);
+        MKENTRY(Max Overflow Improvement(%),	max_overflow_improvement	);
+        MKENTRY(Max Overglow Degradation(%),	max_overflow_degradation	);
+
+#undef MKENTRY
+#define MKENTRY(y,x) diaElemUInteger  x(PX(x),_(#y),0,100);frameTwo.swallow(&x);
+        diaElemFrame  frameTwo(_("Curve Compression"));  
+
+        MKENTRY(High Bitrate Scenes (%),curve_compression_high	);
+        MKENTRY(Low Bitrate Scenes (%),curve_compression_low	);
+        MKENTRY(Overflow Control Strength,overflow_control_strength	);
+                
+         diaElem *twopass[]={&frameOne,&frameTwo};
+          diaElemTabs tabPass("Two Pass",2,twopass);
+        /**/
+        
+        
+          
+          /* End of tabs */
+        diaElemTabs *tabs[4]={&tabMain,&tabMotion,&tabQz,&tabPass};
+        if( diaFactoryRunTabs(_("Xvid4 Configuration"),4,tabs))
+	{
+           memcpy(incoming->extraSettings,&localParam,sizeof(localParam));
+           return 1;
+        }
+         return 0;
+}
+#endif
+// EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-10 15:04:14 UTC (rev 3060)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-10 16:33:42 UTC (rev 3061)
@@ -1,7 +1,7 @@
 
 noinst_LIBRARIES = libADM_dialog.a 
 libADM_dialog_a_SOURCES = DIA_busy.cpp  alert_qt4.cpp DIA_none.cpp OCR_none.cpp DIA_indexing.cpp \
-AQ_props.cpp AQ_working.cpp AQ_encoding.cpp 
+AQ_props.cpp AQ_working.cpp AQ_encoding.cpp  DIA_xvid4.cpp
 
 INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \
 		-I../../../ADM_libraries/ADM_utilities \

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp	2007-05-10 15:04:14 UTC (rev 3060)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp	2007-05-10 16:33:42 UTC (rev 3061)
@@ -91,14 +91,30 @@
             case  COMPRESS_2PASS_BITRATE:i=3;break;
             default: ADM_assert(0);
           }
+          combo->setCurrentIndex(i);
           comboChanged(i);        
           QObject::connect(combo, SIGNAL(currentIndexChanged(int )), this, SLOT(comboChanged(int )));
           
           
         }
         virtual ~ADM_Qbitrate() ;
-            
+        void readBack(void);
 };
+void ADM_Qbitrate::readBack(void)
+{
+#define Mx(x) compress->mode=x
+#define Vx(x) compress->x=box->value();
+  switch(combo->currentIndex())
+  {
+    case 0: Mx(COMPRESS_CBR);Vx(bitrate);break;
+    case 1: Mx(COMPRESS_CQ);Vx(qz);break;
+    case 2: Mx(COMPRESS_2PASS);Vx(finalsize);break;
+    case 3: Mx(COMPRESS_2PASS_BITRATE);Vx(bitrate);break;
+    case 4: Mx(COMPRESS_SAME);break;
+    default :
+          ADM_assert(0);
+  }
+}
 void ADM_Qbitrate::comboChanged(int i)
 {
   printf("Changed\n"); 
@@ -178,7 +194,8 @@
 }
 void diaElemBitrate::getMe(void)
 {
-  //memcpy(param,&copy,sizeof(copy));
+  ((ADM_Qbitrate *)myWidget)->readBack();
+  memcpy(param,&copy,sizeof(copy));
 }
 
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp	2007-05-10 15:04:14 UTC (rev 3060)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp	2007-05-10 16:33:42 UTC (rev 3061)
@@ -154,7 +154,18 @@
   dialog.setLayout(&layout);
   if(dialog.exec()==QDialog::Accepted)
   {
-   
+      // Read tabs
+       for(int tab=0;tab<nb;tab++)
+     {
+        ADM_assert(tabs[tab]);
+        diaElemTabs *myTab=tabs[tab];
+        for(int i=0;i<myTab->nbElems;i++)
+        {
+          myTab->dias[i]->getMe();
+        }
+    
+      }
+      return 1;
   }
   return 0;
   



From mean at mail.berlios.de  Fri May 11 10:23:40 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Fri, 11 May 2007 10:23:40 +0200
Subject: [Avidemux-svn-commit] r3062 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK/ADM_dialog ADM_NONE/ADM_dialog ADM_QT4/ADM_dialog
	ADM_commonUI
Message-ID: <200705110823.l4B8NeRL001211@sheep.berlios.de>

Author: mean
Date: 2007-05-11 10:23:39 +0200 (Fri, 11 May 2007)
New Revision: 3062

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
Log:
audio filter uses dialogFactory

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp	2007-05-10 16:33:42 UTC (rev 3061)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp	2007-05-11 08:23:39 UTC (rev 3062)
@@ -32,7 +32,7 @@
   
  static GtkWidget	*create_dialogAudio (void);
  
- int DIA_getAudioFilter(GAINparam *gain, 
+ int DIA_getAudioFilterxx(GAINparam *gain, 
                         RESAMPLING *downsamplingmethod, 
                         int *tshifted,
                         int *shiftvalue, 
@@ -41,7 +41,7 @@
                         FILMCONV *filmconv,
                         CHANNEL_CONF *channel);
 			 
- int DIA_getAudioFilter(GAINparam *gain,
+ int DIA_getAudioFilterxx(GAINparam *gain,
                         RESAMPLING *downsamplingmethod, 
                         int *tshifted,
                         int *shiftvalue, 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-10 16:33:42 UTC (rev 3061)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-11 08:23:39 UTC (rev 3062)
@@ -69,8 +69,6 @@
 
 //******************************
 int DIA_coloryuv(COLOR_YUV_PARAM *param){return 0;}
- int DIA_getAudioFilter(GAINparam *normalized, RESAMPLING *downsamplingmethod, int *tshifted,
-  			 int *shiftvalue, int *drc,int *freqvalue,FILMCONV *filmconv,CHANNEL_CONF *channel) {return 0;}
 
 int DIA_getCropParams(  char *name,CROP_PARAMS *param,AVDMGenericVideoStream *in){return 0;}
 #ifdef USE_XX_XVID 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-10 16:33:42 UTC (rev 3061)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-11 08:23:39 UTC (rev 3062)
@@ -69,8 +69,6 @@
 
 //******************************
 int DIA_coloryuv(COLOR_YUV_PARAM *param){return 0;}
- int DIA_getAudioFilter(GAINparam *normalized, RESAMPLING *downsamplingmethod, int *tshifted,
-  			 int *shiftvalue, int *drc,int *freqvalue,FILMCONV *filmconv,CHANNEL_CONF *channel) {return 0;}
 
 int DIA_getCropParams(  char *name,CROP_PARAMS *param,AVDMGenericVideoStream *in){return 0;}
 #ifdef USE_XX_XVID 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-10 16:33:42 UTC (rev 3061)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-11 08:23:39 UTC (rev 3062)
@@ -4,7 +4,8 @@
 DIA_resizeWiz.cpp DIA_builtin.cpp DIA_postproc.cpp DIA_enter.cpp \
 DIA_audioconfig.cpp GUI_render.cpp DIA_SVCD.cpp DIA_DVDff.cpp \
 DIA_bitrateHisto.cpp DIA_prefs.cpp DIA_gototime.cpp \
-DIA_lavcodec.cpp DIA_mjpeg.cpp DIA_requant.cpp
+DIA_lavcodec.cpp DIA_mjpeg.cpp DIA_requant.cpp \
+DIA_audioFilter.cpp
 
 
 INCLUDES = $(all_includes) $(GTK_CFLAGS) $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \



From mean at mail.berlios.de  Fri May 11 10:25:22 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Fri, 11 May 2007 10:25:22 +0200
Subject: [Avidemux-svn-commit] r3063 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog
Message-ID: <200705110825.l4B8PMMc001412@sheep.berlios.de>

Author: mean
Date: 2007-05-11 10:25:22 +0200 (Fri, 11 May 2007)
New Revision: 3063

Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
Log:
remove old audio dialog

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp	2007-05-11 08:23:39 UTC (rev 3062)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp	2007-05-11 08:25:22 UTC (rev 3063)
@@ -1,443 +0,0 @@
-/*
- * DO NOT EDIT THIS FILE - it is generated by Glade.
- */
-# include <config.h>
-
-#include <stdio.h>
-#include <stdlib.h>
-#include <math.h>
-
-#include <string.h>
-
-
-#include <gdk/gdkkeysyms.h>
-#include <gtk/gtk.h>
-
-
-#include "ADM_assert.h" 
-
-#include "default.h"
-#include "ADM_toolkit_gtk/ADM_gladeSupport.h"
-#include "ADM_toolkit_gtk/toolkit_gtk.h"
-#include "ADM_toolkit_gtk/toolkit_gtk_include.h"
-#include "ADM_audiofilter/audioeng_buildfilters.h"
-#include "ADM_audiofilter/audiofilter_normalize_param.h"
-
-#define GLADE_HOOKUP_OBJECT(component,widget,name) \
-  g_object_set_data_full (G_OBJECT (component), name, \
-    gtk_widget_ref (widget), (GDestroyNotify) gtk_widget_unref)
-
-#define GLADE_HOOKUP_OBJECT_NO_REF(component,widget,name) \
-  g_object_set_data (G_OBJECT (component), name, widget)
-  
- static GtkWidget	*create_dialogAudio (void);
- 
- int DIA_getAudioFilterxx(GAINparam *gain, 
-                        RESAMPLING *downsamplingmethod, 
-                        int *tshifted,
-                        int *shiftvalue, 
-                        int *drc,
-                        int *freqvalue,
-                        FILMCONV *filmconv,
-                        CHANNEL_CONF *channel);
-			 
- int DIA_getAudioFilterxx(GAINparam *gain,
-                        RESAMPLING *downsamplingmethod, 
-                        int *tshifted,
-                        int *shiftvalue, 
-                        int *drc,
-                        int *freqvalue,
-                        FILMCONV *filmconv,
-                        CHANNEL_CONF *channel)
-{
-  GtkWidget *dialog;
-  gint result;
-  int ret=0;
-
-        dialog=create_dialogAudio();
-        gtk_register_dialog(dialog);
-
-#define TOGGLESET(a,b)  gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(WID(a)),b);
-#define CHECK(a,b)        gtk_toggle_button_set_active( GTK_TOGGLE_BUTTON(WID(a)),b);
-#define SPIN_SET(x,y)  {gtk_spin_button_set_value(GTK_SPIN_BUTTON(WID(x)),(gfloat)y) ;}
-#define SPIN_GET(x,y)  {y=gtk_spin_button_get_value(GTK_SPIN_BUTTON(WID(x))) ;}
-          
-                        TOGGLESET(checkbuttonTimeShift,*tshifted);	
-                        TOGGLESET(checkbuttonDRC,*drc);
-        gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(WID(checkbutton1)),!gain->gain10);
-
-        gtk_write_entry(WID(entryTimeshift), *shiftvalue);  
-        gtk_write_entry(WID(entryFrequency), *freqvalue);      
-
-        switch(gain->mode)
-        {
-          case ADM_NO_GAIN:  CHECK(checkbutton1,0);break;
-          case ADM_GAIN_AUTOMATIC:
-                                  TOGGLESET(radiobuttonGainAutoPIN,1);
-                                  CHECK(checkbutton1,1);break;
-          case ADM_GAIN_MANUAL:  
-                                  TOGGLESET(radiobuttonGainManualPIN,1);
-                                  CHECK(checkbutton1,1);break;
-        }
-        SPIN_SET(spinbutton1,gain->gain10/10.);
-        
-        switch(*downsamplingmethod)
-        {	
-                case RESAMPLING_NONE:			RADIO_SET(radiobuttonNone,1);break;
-                case RESAMPLING_CUSTOM:			RADIO_SET(radiobuttonSox,1);break;
-                default:ADM_assert(0);
-        }
-        switch(*filmconv)
-        {	
-                case FILMCONV_NONE:		RADIO_SET(radiobutton_fpsnone,1);break;
-                case FILMCONV_FILM2PAL:		RADIO_SET(radiobutton_fpsfilm,1);break;
-                case FILMCONV_PAL2FILM:		RADIO_SET(radiobutton_fpsPAL,1);break;
-                default:ADM_assert(0);
-        }
-        gtk_combo_box_set_active(GTK_COMBO_BOX(WID(combobox1)),*channel);
-        
-        result=gtk_dialog_run(GTK_DIALOG(dialog));
-                        
-        switch(result)
-        {
-                case GTK_RESPONSE_OK:
-
-                                        ret= 1;
-                                        #define SET(a,b)	if(gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(lookup_widget(dialog,#a)))) \
-                                                        { *b=1;;} else *b=0;
-
-                                        SET(checkbuttonTimeShift,tshifted);	
-                                        SET(checkbuttonDRC,drc);				
-                                        #undef SET	
-                                        *channel=(CHANNEL_CONF)gtk_combo_box_get_active(GTK_COMBO_BOX(WID(combobox1)));
-                                        *shiftvalue=gtk_read_entry(WID(entryTimeshift) );  
-                                        *freqvalue=gtk_read_entry(WID(entryFrequency) );  
-                                        if(RADIO_GET(radiobuttonNone)) *downsamplingmethod=RESAMPLING_NONE;
-                                                else if(RADIO_GET(radiobuttonSox))
-                                                        *downsamplingmethod=RESAMPLING_CUSTOM; 
-                                                        else
-                                                                ADM_assert(0);
-                                        if(RADIO_GET(radiobutton_fpsnone)) *filmconv=FILMCONV_NONE;
-                                        else if(RADIO_GET(radiobutton_fpsfilm)) 
-                                                *filmconv=FILMCONV_FILM2PAL;
-                                                else if(RADIO_GET(radiobutton_fpsPAL))
-                                                        *filmconv=FILMCONV_PAL2FILM; 
-                                                        else
-                                                                ADM_assert(0);
-                                        //  Normalize
-                                        if(gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(WID(checkbutton1))))
-                                        {
-                                          if(RADIO_GET(radiobuttonGainAutoPIN))
-                                          {
-                                                gain->mode=ADM_GAIN_AUTOMATIC; 
-                                          }else if(RADIO_GET(radiobuttonGainManualPIN))
-                                          {
-                                            
-                                                gain->mode=ADM_GAIN_MANUAL; 
-                                                
-                                          }else ADM_assert(0);
-                                        }else
-                                        {
-                                                gain->mode=ADM_NO_GAIN; 
-                                        }
-                                        
-                                        {
-                                          float g;
-                                          SPIN_GET(spinbutton1,g);
-                                          g*=10.;
-                                          printf("Gain %f\n",g);
-                                          gain->gain10=(int32_t)(g);
-                                        }
-                                        break;
-                default:
-                                        ret=0;
-                                        break;	
-        }
-        gtk_unregister_dialog(dialog);
-        gtk_widget_destroy(dialog);
-        return ret;	    
-  }
-
-  GtkWidget*
-      create_dialogAudio (void)
-  {
-    GtkWidget *dialogAudio;
-    GtkWidget *dialog_vbox1;
-    GtkWidget *vbox3;
-    GtkWidget *frame3;
-    GtkWidget *vbox6;
-    GtkWidget *checkbuttonDRC;
-    GtkWidget *hbox3;
-    GtkWidget *checkbuttonTimeShift;
-    GtkWidget *entryTimeshift;
-    GtkWidget *label5;
-    GtkWidget *frame1;
-    GtkWidget *vbox4;
-    GtkWidget *radiobuttonNone;
-    GSList *radiobuttonNone_group = NULL;
-    GtkWidget *hbox2;
-    GtkWidget *radiobuttonSox;
-    GtkWidget *entryFrequency;
-    GtkWidget *label3;
-    GtkWidget *frame2;
-    GtkWidget *vbox5;
-    GtkWidget *radiobutton_fpsnone;
-    GSList *radiobutton_fpsnone_group = NULL;
-    GtkWidget *radiobutton_fpsfilm;
-    GtkWidget *radiobutton_fpsPAL;
-    GtkWidget *label4;
-    GtkWidget *Gain;
-    GtkWidget *alignment1;
-    GtkWidget *hbox4;
-    GtkWidget *checkbutton1;
-    GtkWidget *vbox7;
-    GtkWidget *radiobuttonGainAutoPIN;
-    GSList *radiobuttonGainAutoPIN_group = NULL;
-    GtkWidget *hbox5;
-    GtkWidget *radiobuttonGainManualPIN;
-    GtkObject *spinbutton1_adj;
-    GtkWidget *spinbutton1;
-    GtkWidget *label7;
-    GtkWidget *frame4;
-    GtkWidget *combobox1;
-    GtkWidget *label6;
-    GtkWidget *dialog_action_area1;
-    GtkWidget *cancelbutton1;
-    GtkWidget *okbutton1;
-
-    dialogAudio = gtk_dialog_new ();
-    gtk_window_set_title (GTK_WINDOW (dialogAudio), _("Audio Processing"));
-    gtk_window_set_type_hint (GTK_WINDOW (dialogAudio), GDK_WINDOW_TYPE_HINT_DIALOG);
-
-    dialog_vbox1 = GTK_DIALOG (dialogAudio)->vbox;
-    gtk_widget_show (dialog_vbox1);
-
-    vbox3 = gtk_vbox_new (FALSE, 0);
-    gtk_widget_show (vbox3);
-    gtk_box_pack_start (GTK_BOX (dialog_vbox1), vbox3, FALSE, TRUE, 0);
-
-    frame3 = gtk_frame_new (NULL);
-    gtk_widget_show (frame3);
-    gtk_box_pack_start (GTK_BOX (vbox3), frame3, FALSE, FALSE, 0);
-
-    vbox6 = gtk_vbox_new (FALSE, 0);
-    gtk_widget_show (vbox6);
-    gtk_container_add (GTK_CONTAINER (frame3), vbox6);
-
-    checkbuttonDRC = gtk_check_button_new_with_mnemonic (_("DRC"));
-    gtk_widget_show (checkbuttonDRC);
-    gtk_box_pack_start (GTK_BOX (vbox6), checkbuttonDRC, FALSE, FALSE, 0);
-
-    hbox3 = gtk_hbox_new (FALSE, 0);
-    gtk_widget_show (hbox3);
-    gtk_box_pack_start (GTK_BOX (vbox6), hbox3, FALSE, FALSE, 0);
-
-    checkbuttonTimeShift = gtk_check_button_new_with_mnemonic (_("Timeshift"));
-    gtk_widget_show (checkbuttonTimeShift);
-    gtk_box_pack_start (GTK_BOX (hbox3), checkbuttonTimeShift, FALSE, FALSE, 0);
-
-    entryTimeshift = gtk_entry_new ();
-    gtk_widget_show (entryTimeshift);
-    gtk_box_pack_start (GTK_BOX (hbox3), entryTimeshift, TRUE, TRUE, 0);
-    gtk_entry_set_max_length (GTK_ENTRY (entryTimeshift), 5);
-
-    label5 = gtk_label_new (_("<b>Misc</b>"));
-    gtk_widget_show (label5);
-    gtk_frame_set_label_widget (GTK_FRAME (frame3), label5);
-    gtk_label_set_use_markup (GTK_LABEL (label5), TRUE);
-
-    frame1 = gtk_frame_new (NULL);
-    gtk_widget_show (frame1);
-    gtk_box_pack_start (GTK_BOX (vbox3), frame1, FALSE, FALSE, 0);
-
-    vbox4 = gtk_vbox_new (FALSE, 0);
-    gtk_widget_show (vbox4);
-    gtk_container_add (GTK_CONTAINER (frame1), vbox4);
-
-    radiobuttonNone = gtk_radio_button_new_with_mnemonic (NULL, _("None"));
-    gtk_widget_show (radiobuttonNone);
-    gtk_box_pack_start (GTK_BOX (vbox4), radiobuttonNone, FALSE, FALSE, 0);
-    gtk_radio_button_set_group (GTK_RADIO_BUTTON (radiobuttonNone), radiobuttonNone_group);
-    radiobuttonNone_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (radiobuttonNone));
-
-    hbox2 = gtk_hbox_new (FALSE, 0);
-    gtk_widget_show (hbox2);
-    gtk_box_pack_start (GTK_BOX (vbox4), hbox2, FALSE, FALSE, 0);
-
-    radiobuttonSox = gtk_radio_button_new_with_mnemonic (NULL, _("Resample to hz"));
-    gtk_widget_show (radiobuttonSox);
-    gtk_box_pack_start (GTK_BOX (hbox2), radiobuttonSox, FALSE, FALSE, 0);
-    gtk_radio_button_set_group (GTK_RADIO_BUTTON (radiobuttonSox), radiobuttonNone_group);
-    radiobuttonNone_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (radiobuttonSox));
-
-    entryFrequency = gtk_entry_new ();
-    gtk_widget_show (entryFrequency);
-    gtk_box_pack_start (GTK_BOX (hbox2), entryFrequency, TRUE, TRUE, 0);
-
-    label3 = gtk_label_new (_("<b>Resampling</b>"));
-    gtk_widget_show (label3);
-    gtk_frame_set_label_widget (GTK_FRAME (frame1), label3);
-    gtk_label_set_use_markup (GTK_LABEL (label3), TRUE);
-
-    frame2 = gtk_frame_new (NULL);
-    gtk_widget_show (frame2);
-    gtk_box_pack_start (GTK_BOX (vbox3), frame2, FALSE, TRUE, 0);
-
-    vbox5 = gtk_vbox_new (FALSE, 0);
-    gtk_widget_show (vbox5);
-    gtk_container_add (GTK_CONTAINER (frame2), vbox5);
-
-    radiobutton_fpsnone = gtk_radio_button_new_with_mnemonic (NULL, _("None"));
-    gtk_widget_show (radiobutton_fpsnone);
-    gtk_box_pack_start (GTK_BOX (vbox5), radiobutton_fpsnone, FALSE, FALSE, 0);
-    gtk_radio_button_set_group (GTK_RADIO_BUTTON (radiobutton_fpsnone), radiobutton_fpsnone_group);
-    radiobutton_fpsnone_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (radiobutton_fpsnone));
-
-    radiobutton_fpsfilm = gtk_radio_button_new_with_mnemonic (NULL, _("Film -> PAL"));
-    gtk_widget_show (radiobutton_fpsfilm);
-    gtk_box_pack_start (GTK_BOX (vbox5), radiobutton_fpsfilm, FALSE, FALSE, 0);
-    gtk_radio_button_set_group (GTK_RADIO_BUTTON (radiobutton_fpsfilm), radiobutton_fpsnone_group);
-    radiobutton_fpsnone_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (radiobutton_fpsfilm));
-
-    radiobutton_fpsPAL = gtk_radio_button_new_with_mnemonic (NULL, _("PAL->Film"));
-    gtk_widget_show (radiobutton_fpsPAL);
-    gtk_box_pack_start (GTK_BOX (vbox5), radiobutton_fpsPAL, FALSE, FALSE, 0);
-    gtk_radio_button_set_group (GTK_RADIO_BUTTON (radiobutton_fpsPAL), radiobutton_fpsnone_group);
-    radiobutton_fpsnone_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (radiobutton_fpsPAL));
-
-    label4 = gtk_label_new (_("<b>Fps convert</b>"));
-    gtk_widget_show (label4);
-    gtk_frame_set_label_widget (GTK_FRAME (frame2), label4);
-    gtk_label_set_use_markup (GTK_LABEL (label4), TRUE);
-
-    Gain = gtk_frame_new (NULL);
-    gtk_widget_show (Gain);
-    gtk_box_pack_start (GTK_BOX (vbox3), Gain, FALSE, TRUE, 0);
-    gtk_frame_set_shadow_type (GTK_FRAME (Gain), GTK_SHADOW_NONE);
-
-    alignment1 = gtk_alignment_new (0.5, 0.5, 1, 1);
-    gtk_widget_show (alignment1);
-    gtk_container_add (GTK_CONTAINER (Gain), alignment1);
-    gtk_alignment_set_padding (GTK_ALIGNMENT (alignment1), 0, 0, 12, 0);
-
-    hbox4 = gtk_hbox_new (FALSE, 0);
-    gtk_widget_show (hbox4);
-    gtk_container_add (GTK_CONTAINER (alignment1), hbox4);
-
-    checkbutton1 = gtk_check_button_new_with_mnemonic (_("Gain"));
-    gtk_widget_show (checkbutton1);
-    gtk_box_pack_start (GTK_BOX (hbox4), checkbutton1, FALSE, FALSE, 0);
-
-    vbox7 = gtk_vbox_new (FALSE, 0);
-    gtk_widget_show (vbox7);
-    gtk_box_pack_start (GTK_BOX (hbox4), vbox7, TRUE, TRUE, 0);
-
-    radiobuttonGainAutoPIN = gtk_radio_button_new_with_mnemonic (NULL, _("Automatic ( max is -3dB)"));
-    gtk_widget_show (radiobuttonGainAutoPIN);
-    gtk_box_pack_start (GTK_BOX (vbox7), radiobuttonGainAutoPIN, FALSE, FALSE, 0);
-    gtk_radio_button_set_group (GTK_RADIO_BUTTON (radiobuttonGainAutoPIN), radiobuttonGainAutoPIN_group);
-    radiobuttonGainAutoPIN_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (radiobuttonGainAutoPIN));
-
-    hbox5 = gtk_hbox_new (FALSE, 0);
-    gtk_widget_show (hbox5);
-    gtk_box_pack_start (GTK_BOX (vbox7), hbox5, FALSE, FALSE, 0);
-
-    radiobuttonGainManualPIN = gtk_radio_button_new_with_mnemonic (NULL, _("Manual (db) : "));
-    gtk_widget_show (radiobuttonGainManualPIN);
-    gtk_box_pack_start (GTK_BOX (hbox5), radiobuttonGainManualPIN, FALSE, FALSE, 0);
-    gtk_radio_button_set_group (GTK_RADIO_BUTTON (radiobuttonGainManualPIN), radiobuttonGainAutoPIN_group);
-    radiobuttonGainAutoPIN_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (radiobuttonGainManualPIN));
-
-    spinbutton1_adj = gtk_adjustment_new (-20, -20, 20, 0.10000000149, 1, 1);
-    spinbutton1 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton1_adj), 1, 1);
-    gtk_widget_show (spinbutton1);
-    gtk_box_pack_start (GTK_BOX (hbox5), spinbutton1, TRUE, TRUE, 0);
-    gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton1), TRUE);
-
-    label7 = gtk_label_new (_("<b>Gain</b>"));
-    gtk_widget_show (label7);
-    gtk_frame_set_label_widget (GTK_FRAME (Gain), label7);
-    gtk_label_set_use_markup (GTK_LABEL (label7), TRUE);
-
-    frame4 = gtk_frame_new (NULL);
-    gtk_widget_show (frame4);
-    gtk_box_pack_start (GTK_BOX (vbox3), frame4, TRUE, TRUE, 0);
-
-    combobox1 = gtk_combo_box_new_text ();
-    gtk_widget_show (combobox1);
-    gtk_container_add (GTK_CONTAINER (frame4), combobox1);
-    gtk_combo_box_append_text (GTK_COMBO_BOX (combobox1), _("No change"));
-    gtk_combo_box_append_text (GTK_COMBO_BOX (combobox1), _("Mono"));
-    gtk_combo_box_append_text (GTK_COMBO_BOX (combobox1), _("Stereo"));
-    gtk_combo_box_append_text (GTK_COMBO_BOX (combobox1), _("Stereo+Surround"));
-    gtk_combo_box_append_text (GTK_COMBO_BOX (combobox1), _("Stereo+Center"));
-    gtk_combo_box_append_text (GTK_COMBO_BOX (combobox1), _("Stereo+Center+Surround"));
-    gtk_combo_box_append_text (GTK_COMBO_BOX (combobox1), _("Stereo Front+Stero Rear"));
-    gtk_combo_box_append_text (GTK_COMBO_BOX (combobox1), _("5 channels"));
-    gtk_combo_box_append_text (GTK_COMBO_BOX (combobox1), _("5.1"));
-    gtk_combo_box_append_text (GTK_COMBO_BOX (combobox1), _("Dolby Prologic"));
-    gtk_combo_box_append_text (GTK_COMBO_BOX (combobox1), _("Dolby Prologic 2"));
-
-    label6 = gtk_label_new (_("<b>Mixer</b>"));
-    gtk_widget_show (label6);
-    gtk_frame_set_label_widget (GTK_FRAME (frame4), label6);
-    gtk_label_set_use_markup (GTK_LABEL (label6), TRUE);
-
-    dialog_action_area1 = GTK_DIALOG (dialogAudio)->action_area;
-    gtk_widget_show (dialog_action_area1);
-    gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-    cancelbutton1 = gtk_button_new_from_stock ("gtk-cancel");
-    gtk_widget_show (cancelbutton1);
-    gtk_dialog_add_action_widget (GTK_DIALOG (dialogAudio), cancelbutton1, GTK_RESPONSE_CANCEL);
-    GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-    okbutton1 = gtk_button_new_from_stock ("gtk-ok");
-    gtk_widget_show (okbutton1);
-    gtk_dialog_add_action_widget (GTK_DIALOG (dialogAudio), okbutton1, GTK_RESPONSE_OK);
-    GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-    /* Store pointers to all widgets, for use by lookup_widget(). */
-    GLADE_HOOKUP_OBJECT_NO_REF (dialogAudio, dialogAudio, "dialogAudio");
-    GLADE_HOOKUP_OBJECT_NO_REF (dialogAudio, dialog_vbox1, "dialog_vbox1");
-    GLADE_HOOKUP_OBJECT (dialogAudio, vbox3, "vbox3");
-    GLADE_HOOKUP_OBJECT (dialogAudio, frame3, "frame3");
-    GLADE_HOOKUP_OBJECT (dialogAudio, vbox6, "vbox6");
-    GLADE_HOOKUP_OBJECT (dialogAudio, checkbuttonDRC, "checkbuttonDRC");
-    GLADE_HOOKUP_OBJECT (dialogAudio, hbox3, "hbox3");
-    GLADE_HOOKUP_OBJECT (dialogAudio, checkbuttonTimeShift, "checkbuttonTimeShift");
-    GLADE_HOOKUP_OBJECT (dialogAudio, entryTimeshift, "entryTimeshift");
-    GLADE_HOOKUP_OBJECT (dialogAudio, label5, "label5");
-    GLADE_HOOKUP_OBJECT (dialogAudio, frame1, "frame1");
-    GLADE_HOOKUP_OBJECT (dialogAudio, vbox4, "vbox4");
-    GLADE_HOOKUP_OBJECT (dialogAudio, radiobuttonNone, "radiobuttonNone");
-    GLADE_HOOKUP_OBJECT (dialogAudio, hbox2, "hbox2");
-    GLADE_HOOKUP_OBJECT (dialogAudio, radiobuttonSox, "radiobuttonSox");
-    GLADE_HOOKUP_OBJECT (dialogAudio, entryFrequency, "entryFrequency");
-    GLADE_HOOKUP_OBJECT (dialogAudio, label3, "label3");
-    GLADE_HOOKUP_OBJECT (dialogAudio, frame2, "frame2");
-    GLADE_HOOKUP_OBJECT (dialogAudio, vbox5, "vbox5");
-    GLADE_HOOKUP_OBJECT (dialogAudio, radiobutton_fpsnone, "radiobutton_fpsnone");
-    GLADE_HOOKUP_OBJECT (dialogAudio, radiobutton_fpsfilm, "radiobutton_fpsfilm");
-    GLADE_HOOKUP_OBJECT (dialogAudio, radiobutton_fpsPAL, "radiobutton_fpsPAL");
-    GLADE_HOOKUP_OBJECT (dialogAudio, label4, "label4");
-    GLADE_HOOKUP_OBJECT (dialogAudio, Gain, "Gain");
-    GLADE_HOOKUP_OBJECT (dialogAudio, alignment1, "alignment1");
-    GLADE_HOOKUP_OBJECT (dialogAudio, hbox4, "hbox4");
-    GLADE_HOOKUP_OBJECT (dialogAudio, checkbutton1, "checkbutton1");
-    GLADE_HOOKUP_OBJECT (dialogAudio, vbox7, "vbox7");
-    GLADE_HOOKUP_OBJECT (dialogAudio, radiobuttonGainAutoPIN, "radiobuttonGainAutoPIN");
-    GLADE_HOOKUP_OBJECT (dialogAudio, hbox5, "hbox5");
-    GLADE_HOOKUP_OBJECT (dialogAudio, radiobuttonGainManualPIN, "radiobuttonGainManualPIN");
-    GLADE_HOOKUP_OBJECT (dialogAudio, spinbutton1, "spinbutton1");
-    GLADE_HOOKUP_OBJECT (dialogAudio, label7, "label7");
-    GLADE_HOOKUP_OBJECT (dialogAudio, frame4, "frame4");
-    GLADE_HOOKUP_OBJECT (dialogAudio, combobox1, "combobox1");
-    GLADE_HOOKUP_OBJECT (dialogAudio, label6, "label6");
-    GLADE_HOOKUP_OBJECT_NO_REF (dialogAudio, dialog_action_area1, "dialog_action_area1");
-    GLADE_HOOKUP_OBJECT (dialogAudio, cancelbutton1, "cancelbutton1");
-    GLADE_HOOKUP_OBJECT (dialogAudio, okbutton1, "okbutton1");
-
-    return dialogAudio;
-  }
-

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-05-11 08:23:39 UTC (rev 3062)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-05-11 08:25:22 UTC (rev 3063)
@@ -8,7 +8,7 @@
 
 libADM_dialog_a_METASOURCES = AUTO
 
-libADM_dialog_a_SOURCES = DIA_audio.cpp DIA_vcodec.cpp DIA_acodec.cpp \
+libADM_dialog_a_SOURCES =  DIA_vcodec.cpp DIA_acodec.cpp \
 	DIA_properties.cpp  DIA_about.cpp DIA_recent.cpp \
 	DIA_resize.cpp DIA_working.cpp \
 	DIA_working.h DIA_busy.cpp DIA_busy.h DIA_exLame.cpp DIA_pipe.cpp DIA_mpeg2opt.cpp \
@@ -44,7 +44,7 @@
 DIA_acodec.cpp       DIA_crop.cpp         DIA_v2v.cpp \
 DIA_animated.cpp     DIA_hue.cpp          DIA_ocr.cpp         DIA_vcodec.cpp \
 DIA_asharp.cpp       DIA_idx_pg.cpp       DIA_partial.cpp     DIA_vobsub.cpp \
-DIA_audio.cpp        DIA_idx_pg.h         DIA_pause.cpp       \
+DIA_idx_pg.h         DIA_pause.cpp       \
 DIA_pipe.cpp        DIA_working.cpp \
 DIA_defaultAudio.cpp  DIA_jobs.cpp        DIA_working.h \
 DIA_jobs_save.cpp     DIA_x264.cpp \



From mean at mail.berlios.de  Fri May 11 10:37:42 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Fri, 11 May 2007 10:37:42 +0200
Subject: [Avidemux-svn-commit] r3064 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_NONE/ADM_dialog ADM_QT4/ADM_dialog ADM_QT4/ADM_gui
Message-ID: <200705110837.l4B8bgVU002579@sheep.berlios.de>

Author: mean
Date: 2007-05-11 10:37:41 +0200 (Fri, 11 May 2007)
New Revision: 3064

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h
Log:
auto mode for qt+unlock resizer

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-11 08:25:22 UTC (rev 3063)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-11 08:37:41 UTC (rev 3064)
@@ -128,7 +128,6 @@
 uint8_t DIA_getChromaShift( AVDMGenericVideoStream *instream,CHROMASHIFT_PARAM    *param ){ return 0;}
 uint8_t DIA_contrast(AVDMGenericVideoStream *astream,CONTRAST_PARAM *param)  { return 0;}
 uint8_t DIA_audioCodec( AUDIOENCODER *codec ) {return 0;}
-uint8_t DIA_resizeWiz(RESWIZ_FORMAT *format, RESWIZ_AR *source, RESWIZ_AR *destination) {return 0;}
 uint8_t DIA_dnr(uint32_t *llock,uint32_t *lthresh, uint32_t *clock,
 			uint32_t *cthresh, uint32_t *scene) {return 0;}
 			

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-11 08:25:22 UTC (rev 3063)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-11 08:37:41 UTC (rev 3064)
@@ -123,7 +123,6 @@
 uint8_t DIA_getChromaShift( AVDMGenericVideoStream *instream,CHROMASHIFT_PARAM    *param ){ return 0;}
 uint8_t DIA_contrast(AVDMGenericVideoStream *astream,CONTRAST_PARAM *param)  { return 0;}
 uint8_t DIA_audioCodec( AUDIOENCODER *codec ) {return 0;}
-uint8_t DIA_resizeWiz(RESWIZ_FORMAT *format, RESWIZ_AR *source, RESWIZ_AR *destination) {return 0;}
 uint8_t DIA_dnr(uint32_t *llock,uint32_t *lthresh, uint32_t *clock,
 			uint32_t *cthresh, uint32_t *scene) {return 0;}
 			

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2007-05-11 08:25:22 UTC (rev 3063)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2007-05-11 08:37:41 UTC (rev 3064)
@@ -769,11 +769,6 @@
     <addaction name="actionEncoder_2" />
     <addaction name="actionFilters_2" />
    </widget>
-   <widget class="QMenu" name="menuAuto" >
-    <property name="title" >
-     <string>Auto</string>
-    </property>
-   </widget>
    <widget class="QMenu" name="menuTools" >
     <property name="title" >
      <string>Tools</string>
@@ -865,6 +860,16 @@
     <addaction name="separator" />
     <addaction name="actionQuit" />
    </widget>
+   <widget class="QMenu" name="menuAuto" >
+    <property name="title" >
+     <string>Auto</string>
+    </property>
+    <addaction name="actionVCD" />
+    <addaction name="actionSVCD" />
+    <addaction name="actionDVD" />
+    <addaction name="actionPSP" />
+    <addaction name="actionPSP_H264" />
+   </widget>
    <addaction name="menuFile" />
    <addaction name="menuEdit" />
    <addaction name="menuView" />
@@ -1275,6 +1280,31 @@
     <string>Recent3</string>
    </property>
   </action>
+  <action name="actionVCD" >
+   <property name="text" >
+    <string>VCD</string>
+   </property>
+  </action>
+  <action name="actionSVCD" >
+   <property name="text" >
+    <string>SVCD</string>
+   </property>
+  </action>
+  <action name="actionDVD" >
+   <property name="text" >
+    <string>DVD</string>
+   </property>
+  </action>
+  <action name="actionPSP" >
+   <property name="text" >
+    <string>PSP</string>
+   </property>
+  </action>
+  <action name="actionPSP_H264" >
+   <property name="text" >
+    <string>PSP (H264)</string>
+   </property>
+  </action>
  </widget>
  <resources>
   <include location="avidemux.qrc" />

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h	2007-05-11 08:25:22 UTC (rev 3063)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h	2007-05-11 08:37:41 UTC (rev 3064)
@@ -61,7 +61,12 @@
 PROCESS(actionRecent0,ACT_RECENT0) \
 PROCESS(actionRecent1,ACT_RECENT1) \
 PROCESS(actionRecent2,ACT_RECENT2) \
-PROCESS(actionRecent3,ACT_RECENT3) 
+PROCESS(actionRecent3,ACT_RECENT3) \
+PROCESS(actionVCD,ACT_AUTO_VCD) \
+PROCESS(actionSVCD,ACT_AUTO_SVCD) \
+PROCESS(actionDVD,ACT_AUTO_DVD) \
+PROCESS(actionPSP,ACT_AUTO_PSP) \
+PROCESS(actionPSP_H264,ACT_AUTO_PSP_H264) 
 
 
 



From mean at mail.berlios.de  Fri May 11 16:32:27 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Fri, 11 May 2007 16:32:27 +0200
Subject: [Avidemux-svn-commit] r3066 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI
Message-ID: <200705111432.l4BEWRhM020587@sheep.berlios.de>

Author: mean
Date: 2007-05-11 16:32:27 +0200 (Fri, 11 May 2007)
New Revision: 3066

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp
Log:
the actual file

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp	2007-05-11 13:53:18 UTC (rev 3065)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp	2007-05-11 14:32:27 UTC (rev 3066)
@@ -0,0 +1,151 @@
+//
+// C++ Implementation: ADM_vidForcedPP
+//
+// Description: 
+//
+//	Force postprocessing assuming constant quant & image type
+//	Uselefull on some badly authored DVD for example
+//
+// Author: mean <fixounet at free.fr>, (C) 2004
+//
+// Copyright: See COPYING file that comes with this distribution
+//
+//
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include <ADM_assert.h>
+#include <math.h>
+#include <math.h>
+#include <iconv.h>
+#include "config.h"
+
+
+#include "fourcc.h"
+#include "avio.hxx"
+
+#include "avi_vars.h"
+
+#include "ADM_toolkit/toolkit.hxx"
+
+#include "ADM_userInterfaces/ADM_commonUI/DIA_factory.h"
+#include "ADM_assert.h" 
+#include "ADM_audiofilter/audiofilter_normalize_param.h"
+#include "ADM_audiofilter/audioeng_buildfilters.h"
+/**
+    \fn DIA_getAudioFilter
+    \brief Dialog to manage audio filters
+*/
+int DIA_getAudioFilter(GAINparam *gain,
+                        RESAMPLING *downsamplingmethod, 
+                        int *tshifted,
+                        int *shiftvalue, 
+                        int *drc,
+                        int *freqvalue,
+                        FILMCONV *filmconv,
+                        CHANNEL_CONF *channel)
+{
+  
+  uint32_t vDRC=*drc;
+  uint32_t vTshift=*tshifted;
+  int32_t vTshiftValue=*shiftvalue;
+  uint32_t vFreq=*freqvalue;
+  uint32_t vChan=(uint32_t)*channel;
+  uint32_t vDownsample=(uint32_t )*downsamplingmethod;
+  uint32_t vFilm=(uint32_t )*filmconv;
+  uint32_t vGainMode=(uint32_t)gain->mode;
+  ELEM_TYPE_FLOAT vGainValue=gain->gain10;
+  vGainValue/=10.;
+  //**********************************
+  diaMenuEntry menuTimeShift[]={
+  {0,_("No Timeshift")},
+  {1,_("TimeShift activated")}};
+       
+   diaElemToggle    eDRC(&vDRC,_("_Dynamic Range Compression:"));
+   diaElemMenu      eTimeShift(&vTshift,_("_TimeShift:"),2,menuTimeShift);
+   diaElemInteger  eShift(&vTshiftValue,_("TimeShift _Value:"),-10000,10000);
+   
+   eTimeShift.link(&(menuTimeShift[1]),1,&eShift);
+  
+    diaElemFrame frameMisc(_("Misc"));
+    frameMisc.swallow(&eDRC);
+    frameMisc.swallow(&eTimeShift);
+    frameMisc.swallow(&eShift);
+    //**********************************
+    diaMenuEntry menuResample[]={
+  {0,_("No Resampling")},
+  {1,_("Resampling activated")}};
+    diaElemMenu      eResample(&vDownsample,_("_Resampling:"),2,menuResample);
+    diaElemUInteger  eResampleValue(&vFreq,_("New Frequency:"),6000,64000);
+  
+    eResample.link(&(menuResample[1]),1,&eResampleValue);
+    
+       diaElemFrame frameResampling(_("Resampling"));
+    frameResampling.swallow(&eResample);
+    frameResampling.swallow(&eResampleValue);
+    //**********************************
+    diaMenuEntry menuFPS[]={
+  {FILMCONV_NONE,     _("None")},
+  {FILMCONV_FILM2PAL, _("Film to Pal")},
+  {FILMCONV_PAL2FILM, _("Pal to Film")}
+    };
+  
+   diaElemMenu      eFPS(&vFilm,_("_Fps convert:"),3,menuFPS);
+      diaElemFrame frameFPS(_("Framerate Change"));
+    frameFPS.swallow(&eFPS);
+   //**********************************
+    diaMenuEntry menuGain[]={
+  {ADM_NO_GAIN,       _("None")},
+  {ADM_GAIN_AUTOMATIC,_("Automatic (max -3 dB")},
+  {ADM_GAIN_MANUAL,   _("Manual")}};
+  
+   diaElemMenu      eGain(&vGainMode,_("_Fps convert:"),3,menuGain);
+   
+    diaElemFloat  eGainValue(&vGainValue,_("_Gain Value:"),-10,10);
+     eGain.link(&(menuGain[2]),1,&eGainValue);
+   diaElemFrame frameGain(_("Gain"));   
+    frameGain.swallow(&eGain);
+    frameGain.swallow(&eGainValue);
+  //********************************
+    diaMenuEntry menuMixer[]={
+  {CHANNEL_INVALID,     _("No Change")},
+  {CHANNEL_MONO,        _("Mono")},
+  {CHANNEL_STEREO,      _("Stereo")},
+  {CHANNEL_2F_1R,       _("Stereo+Surround")},
+  {CHANNEL_3F,          _("Stereo+Center")},
+  {CHANNEL_3F_1R,           _("Stereo+Center+Surround")},
+  {CHANNEL_2F_2R,           _("Stereo front+Stereo Rear")},
+  {CHANNEL_3F_2R,           _("5 Channels")},
+  {CHANNEL_3F_2R_LFE,       _("5.1 ")},
+  {CHANNEL_DOLBY_PROLOGIC,  _("Dolby Prologic")},
+  {CHANNEL_DOLBY_PROLOGIC2, _("Dolby Prologic II")}
+    };
+
+ diaElemMenu      eMixer(&vChan,_("Mixer:"),11,menuMixer);
+diaElemFrame frameMixer(_("Mixer"));   
+    frameMixer.swallow(&eMixer);
+ 
+ /************************************/
+   diaElem *elems[]={&frameMisc,&frameResampling,&frameFPS,&frameGain,&frameMixer};
+  if( diaFactoryRun(_("Audio Filter Configuration"),5,elems))
+    {
+        *drc=vDRC;
+        *tshifted=vTshift;
+        *shiftvalue=vTshiftValue;
+        *freqvalue=vFreq;
+        *channel=(CHANNEL_CONF)vChan;
+        *downsamplingmethod=(RESAMPLING)vDownsample;
+        *filmconv=(FILMCONV)vFilm;
+        gain->mode=(ADM_GAINMode)vGainMode;
+        gain->gain10=(uint32_t)(10.*vGainValue);
+      return 1;
+    }
+    
+    return 0;
+ 
+}
+
+
+
+// EOF



From mean at mail.berlios.de  Fri May 11 19:43:41 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Fri, 11 May 2007 19:43:41 +0200
Subject: [Avidemux-svn-commit] r3068 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200705111743.l4BHhfr1017512@sheep.berlios.de>

Author: mean
Date: 2007-05-11 19:43:40 +0200 (Fri, 11 May 2007)
New Revision: 3068

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
Log:
simple resize dialog

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-11 15:41:44 UTC (rev 3067)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-11 17:43:40 UTC (rev 3068)
@@ -113,8 +113,6 @@
 
 uint8_t DIA_job(uint32_t nb,char **name){return 0;}
 uint8_t DIA_lavDecoder(uint32_t *swapUv, uint32_t *showU){return 0;}
-uint8_t DIA_resize(uint32_t *width,uint32_t *height,uint32_t *algo,uint32_t originalw, 
-                        uint32_t originalh,uint32_t fps) {return 0;}
 uint8_t DIA_d3d(double *luma,double *chroma,double *temporal){return 0;}
 uint8_t DIA_kerneldeint(uint32_t *order, uint32_t *threshold, uint32_t *sharp, 
                           uint32_t *twoway, uint32_t *map){return 0;}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-11 15:41:44 UTC (rev 3067)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-11 17:43:40 UTC (rev 3068)
@@ -1,7 +1,7 @@
 
 noinst_LIBRARIES = libADM_dialog.a 
 libADM_dialog_a_SOURCES = DIA_busy.cpp  alert_qt4.cpp DIA_none.cpp OCR_none.cpp DIA_indexing.cpp \
-AQ_props.cpp AQ_working.cpp AQ_encoding.cpp  DIA_xvid4.cpp
+AQ_props.cpp AQ_working.cpp AQ_encoding.cpp  DIA_xvid4.cpp AQ_resizing.cpp
 
 INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \
 		-I../../../ADM_libraries/ADM_utilities \

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp (from rev 3067, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp	2007-05-11 15:41:44 UTC (rev 3067)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp	2007-05-11 17:43:40 UTC (rev 3068)
@@ -0,0 +1,185 @@
+/***************************************************************************
+    copyright            : (C) 2001 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include "config.h"
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <math.h>
+
+#define Ui_Dialog Ui_resizeDialog
+#include "ui_resizing.h"
+#undef Ui_Dialog
+
+#include "default.h"
+#include "avidemutils.h"
+#include "avi_vars.h"
+#include "ADM_osSupport/ADM_misc.h"
+static double aspectRatio[2][3]={
+                              {1.,0.888888,1.19}, // NTSC 1:1 4:3 16:9
+                              {1.,1.066667,1.43} // PAL  1:1 4:3 16:9
+                            };
+#define aprintf printf
+typedef struct resParam
+{
+    uint32_t width,height;
+    uint32_t originalWidth,originalHeight;
+    uint32_t fps1000;
+    uint32_t algo;
+    uint32_t pal;
+}resParam;
+
+class resizeWindow : public QDialog
+ {
+     Q_OBJECT
+ protected : 
+      resParam *_param;
+ public:
+     resizeWindow(resParam *param);
+     Ui_resizeDialog ui;
+ public slots:
+      void gather(void);
+      void update(int i);
+ private slots:
+   
+
+ private:
+     
+ };
+
+
+resizeWindow::resizeWindow(resParam *param)     : QDialog()
+ {
+     ui.setupUi(this);
+     _param=param;
+     ui.spinBoxWidth->setValue(_param->width);
+     ui.spinBoxHeight->setValue(_param->height);
+     ui.horizontalSlider->setValue(100);
+     update(0);
+     connect( ui.horizontalSlider,SIGNAL(valueChanged(int)),this,SLOT(update(int)));
+ 
+ }
+ void resizeWindow::gather(void)
+ {
+    _param->width=ui.spinBoxWidth->value();
+    _param->height=ui.spinBoxHeight->value();
+    _param->algo=ui.comboBoxAlgo->currentIndex();
+ }
+ 
+ void resizeWindow::update(int foo)
+ {
+
+  double percent;
+  float x,y;
+  float sr_mul,dst_mul;
+
+ int32_t xx,yy;
+ float erx,ery;
+  int sar,dar;
+
+  percent = ui.horizontalSlider->value();;
+  sar=ui.comboBoxSource->currentIndex();
+  dar=ui.comboBoxDestination->currentIndex();
+  if(percent<10.0) percent=10.;
+
+  aprintf("drag called : %f \n",percent);
+  x=_param->originalWidth;
+  y=_param->originalHeight;
+  erx=0;
+  ery=0;
+  sr_mul=1.;
+  if(sar)
+  	{  // source is 4/3 or 16/9
+			sr_mul=aspectRatio[_param->pal][sar];
+
+	}
+
+  dst_mul=1.;
+  if(dar)
+        {  // dst is 4/3 or 16/9
+  
+                        dst_mul=1/aspectRatio[_param->pal][dar];
+        }
+        aprintf("source mul %02.2f , dst mul : %02.2f\n",sr_mul,dst_mul);
+        x=x*sr_mul*dst_mul;
+        y=y;
+  
+        // normalize it to recover 100% width
+        y=y/(x/_param->originalWidth);
+        x=_param->originalWidth;
+  
+        aprintf("AR:x,y  : %03f %03f \n",x,y);
+  
+        percent/=100.;
+        x=x*percent;
+        y=y*percent;
+  
+  
+        aprintf("AR x,y  : %03f %03f \n",x,y);
+        xx=(uint32_t)floor(x+0.5);
+        yy=(uint32_t)floor(y+0.5);
+  
+        if(xx&1) xx--;
+        if(yy&1) yy--;
+  
+  
+        if(ui.checkBoxRoundup->checkState())
+        {
+                int32_t ox=xx,oy=yy;
+                xx=(xx +7) & 0xfffff0;
+                yy=(yy +7) & 0xfffff0;
+  
+                erx=(xx-ox);
+                erx=erx/xx;
+                ery=(yy-oy);
+                ery=ery/yy;
+  
+                aprintf("x: %d -> %d : err %f\n",ox,xx,erx);
+                aprintf("y: %d -> %d : err %f\n",oy,yy,ery);
+        }
+  
+        //
+        ui.spinBoxWidth->setValue(xx);
+        ui.spinBoxHeight->setValue(yy);
+   
+}
+/**
+    \fn DIA_resize
+    \brief Handle resize dialo
+*/
+uint8_t DIA_resize(uint32_t *width,uint32_t *height,uint32_t *alg,uint32_t originalw, uint32_t originalh,uint32_t fps1000)
+{
+uint8_t r=0;
+      resParam param={*width,*height,originalw,originalh,fps1000,*alg,0};
+      //
+      if(fps1000>24600 && fps1000<25400)
+        {
+                param.pal=1;
+        }
+       
+
+     // Fetch info
+     resizeWindow resizewindow(&param) ;
+     ;
+     if(resizewindow.exec()==QDialog::Accepted)
+     {
+       resizewindow.gather();
+       *width=param.width;
+       *height=param.height;
+       *alg=param.algo;
+       r=1;
+     }
+     return r;
+}  
+//********************************************
+//EOF

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui	2007-05-11 15:41:44 UTC (rev 3067)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui	2007-05-11 17:43:40 UTC (rev 3068)
@@ -0,0 +1,289 @@
+<ui version="4.0" >
+ <class>Dialog</class>
+ <widget class="QDialog" name="Dialog" >
+  <property name="geometry" >
+   <rect>
+    <x>0</x>
+    <y>0</y>
+    <width>405</width>
+    <height>210</height>
+   </rect>
+  </property>
+  <property name="windowTitle" >
+   <string>Resize</string>
+  </property>
+  <widget class="QWidget" name="" >
+   <property name="geometry" >
+    <rect>
+     <x>10</x>
+     <y>12</y>
+     <width>355</width>
+     <height>169</height>
+    </rect>
+   </property>
+   <layout class="QGridLayout" >
+    <property name="margin" >
+     <number>0</number>
+    </property>
+    <property name="spacing" >
+     <number>6</number>
+    </property>
+    <item row="1" column="3" >
+     <layout class="QVBoxLayout" >
+      <property name="margin" >
+       <number>0</number>
+      </property>
+      <property name="spacing" >
+       <number>6</number>
+      </property>
+      <item>
+       <widget class="QLabel" name="labelErrorX" >
+        <property name="text" >
+         <string>Error X : 0.00</string>
+        </property>
+       </widget>
+      </item>
+      <item>
+       <widget class="QLabel" name="labelErrorY" >
+        <property name="text" >
+         <string>Error Y: 0.00</string>
+        </property>
+       </widget>
+      </item>
+     </layout>
+    </item>
+    <item row="0" column="1" >
+     <layout class="QVBoxLayout" >
+      <property name="margin" >
+       <number>0</number>
+      </property>
+      <property name="spacing" >
+       <number>6</number>
+      </property>
+      <item>
+       <widget class="QSpinBox" name="spinBoxWidth" >
+        <property name="maximum" >
+         <number>2900</number>
+        </property>
+        <property name="minimum" >
+         <number>1</number>
+        </property>
+       </widget>
+      </item>
+      <item>
+       <widget class="QSpinBox" name="spinBoxHeight" >
+        <property name="maximum" >
+         <number>2000</number>
+        </property>
+        <property name="minimum" >
+         <number>1</number>
+        </property>
+       </widget>
+      </item>
+      <item>
+       <widget class="QCheckBox" name="checkBoxRoundup" >
+        <property name="text" >
+         <string>16 round up</string>
+        </property>
+       </widget>
+      </item>
+     </layout>
+    </item>
+    <item row="0" column="0" >
+     <layout class="QVBoxLayout" >
+      <property name="margin" >
+       <number>0</number>
+      </property>
+      <property name="spacing" >
+       <number>6</number>
+      </property>
+      <item>
+       <widget class="QLabel" name="label" >
+        <property name="text" >
+         <string>Width</string>
+        </property>
+       </widget>
+      </item>
+      <item>
+       <widget class="QLabel" name="label_2" >
+        <property name="text" >
+         <string>Height</string>
+        </property>
+       </widget>
+      </item>
+      <item>
+       <widget class="QLabel" name="label_7" >
+        <property name="text" >
+         <string/>
+        </property>
+       </widget>
+      </item>
+     </layout>
+    </item>
+    <item row="1" column="1" colspan="2" >
+     <widget class="QSlider" name="horizontalSlider" >
+      <property name="minimum" >
+       <number>10</number>
+      </property>
+      <property name="maximum" >
+       <number>150</number>
+      </property>
+      <property name="orientation" >
+       <enum>Qt::Horizontal</enum>
+      </property>
+     </widget>
+    </item>
+    <item row="0" column="2" >
+     <layout class="QVBoxLayout" >
+      <property name="margin" >
+       <number>0</number>
+      </property>
+      <property name="spacing" >
+       <number>6</number>
+      </property>
+      <item>
+       <widget class="QLabel" name="label_4" >
+        <property name="text" >
+         <string>Source A:R</string>
+        </property>
+       </widget>
+      </item>
+      <item>
+       <widget class="QLabel" name="label_3" >
+        <property name="text" >
+         <string>Destination A/R</string>
+        </property>
+       </widget>
+      </item>
+      <item>
+       <widget class="QLabel" name="label_6" >
+        <property name="text" >
+         <string>Resize Method</string>
+        </property>
+       </widget>
+      </item>
+     </layout>
+    </item>
+    <item row="1" column="0" >
+     <widget class="QLabel" name="label_5" >
+      <property name="text" >
+       <string>Percent</string>
+      </property>
+     </widget>
+    </item>
+    <item row="0" column="3" >
+     <layout class="QVBoxLayout" >
+      <property name="margin" >
+       <number>0</number>
+      </property>
+      <property name="spacing" >
+       <number>6</number>
+      </property>
+      <item>
+       <widget class="QComboBox" name="comboBoxSource" >
+        <item>
+         <property name="text" >
+          <string>1:1</string>
+         </property>
+        </item>
+        <item>
+         <property name="text" >
+          <string>4:3</string>
+         </property>
+        </item>
+        <item>
+         <property name="text" >
+          <string>16:9</string>
+         </property>
+        </item>
+       </widget>
+      </item>
+      <item>
+       <widget class="QComboBox" name="comboBoxDestination" >
+        <item>
+         <property name="text" >
+          <string>1:1</string>
+         </property>
+        </item>
+        <item>
+         <property name="text" >
+          <string>4:3</string>
+         </property>
+        </item>
+        <item>
+         <property name="text" >
+          <string>16:9</string>
+         </property>
+        </item>
+       </widget>
+      </item>
+      <item>
+       <widget class="QComboBox" name="comboBoxAlgo" >
+        <item>
+         <property name="text" >
+          <string>Bilinear</string>
+         </property>
+        </item>
+        <item>
+         <property name="text" >
+          <string>Bicubic</string>
+         </property>
+        </item>
+        <item>
+         <property name="text" >
+          <string>Lanzcos3</string>
+         </property>
+        </item>
+       </widget>
+      </item>
+     </layout>
+    </item>
+    <item row="2" column="0" colspan="4" >
+     <widget class="QDialogButtonBox" name="buttonBox" >
+      <property name="orientation" >
+       <enum>Qt::Horizontal</enum>
+      </property>
+      <property name="standardButtons" >
+       <set>QDialogButtonBox::Cancel|QDialogButtonBox::NoButton|QDialogButtonBox::Ok</set>
+      </property>
+     </widget>
+    </item>
+   </layout>
+  </widget>
+ </widget>
+ <resources/>
+ <connections>
+  <connection>
+   <sender>buttonBox</sender>
+   <signal>accepted()</signal>
+   <receiver>Dialog</receiver>
+   <slot>accept()</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>248</x>
+     <y>254</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>157</x>
+     <y>274</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>buttonBox</sender>
+   <signal>rejected()</signal>
+   <receiver>Dialog</receiver>
+   <slot>reject()</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>316</x>
+     <y>260</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>286</x>
+     <y>274</y>
+    </hint>
+   </hints>
+  </connection>
+ </connections>
+</ui>



From mean at mail.berlios.de  Sat May 12 10:45:37 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 12 May 2007 10:45:37 +0200
Subject: [Avidemux-svn-commit] r3069 - in
	branches/avidemux_2.4_branch/avidemux: ADM_script
	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory
	ADM_userInterfaces/ADM_NONE/ADM_dialogFactory
	ADM_userInterfaces/ADM_QT4/ADM_dialog
	ADM_userInterfaces/ADM_QT4/ADM_dialogFactory
	ADM_userInterfaces/ADM_commonUI
Message-ID: <200705120845.l4C8jb7S010235@sheep.berlios.de>

Author: mean
Date: 2007-05-12 10:45:36 +0200 (Sat, 12 May 2007)
New Revision: 3069

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_toggle.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
Log:
link added to toggle

Modified: branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp	2007-05-11 17:43:40 UTC (rev 3068)
+++ branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp	2007-05-12 08:45:36 UTC (rev 3069)
@@ -527,10 +527,15 @@
 JSBool facToggle(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval)
 {
   uint32_t tog=0;
+  uint32_t test=0;
    diaElemToggle blend(&tog,_("Toggle"));
-    diaElem *elems[]={&blend   };
+    diaElemUInteger     bt(&test,"Entry",0,10);
+    diaElemUInteger     bt2(&test,"Entry",0,10);
+    diaElem *elems[]={&blend,&bt,&bt2   };
+    blend.link(1,&bt);
+    blend.link(0,&bt2);
     
-  if(diaFactoryRun("Test Toggle",1,elems))
+  if(diaFactoryRun("Test Toggle",3,elems))
   {
     *rval = BOOLEAN_TO_JSVAL(1);
     printf("Value : %u\n",tog);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp	2007-05-11 17:43:40 UTC (rev 3068)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp	2007-05-12 08:45:36 UTC (rev 3069)
@@ -27,6 +27,7 @@
 #include "ADM_commonUI/DIA_factory.h"
 #include "ADM_assert.h"
 
+static void cb_menu(void *w,void *p);
 
 
 
@@ -36,12 +37,21 @@
   param=(void *)toggleValue;
   paramTitle=toggleTitle;
   this->tip=tip;
+  nbLink=0;
 }
 
 diaElemToggle::~diaElemToggle()
 {
   
 }
+uint8_t   diaElemToggle::link(uint32_t onoff,diaElem *w)
+{
+    ADM_assert(nbLink<MENU_MAX_lINK);
+    links[nbLink].onoff=onoff;
+    links[nbLink].widget=w;
+    nbLink++;
+    return 1;
+}
 void diaElemToggle::setMe(void *dialog, void *opaque,uint32_t line)
 {
   GtkWidget *widget;
@@ -59,7 +69,9 @@
       GtkTooltips *tooltips= gtk_tooltips_new ();
       gtk_tooltips_set_tip (tooltips, widget, tip, NULL);
   }
-
+  gtk_signal_connect(GTK_OBJECT(widget), "toggled",
+                      GTK_SIGNAL_FUNC(cb_menu),
+                      (void *) this);
 }
 void diaElemToggle::getMe(void)
 {
@@ -68,9 +80,45 @@
   ADM_assert(widget);
   *(uint32_t *)param=gtk_toggle_button_get_active (GTK_TOGGLE_BUTTON (widget));
 }
-void diaElemToggle::enable(uint32_t onoff)
+void   diaElemToggle::finalize(void)
 {
+  updateMe(); 
+}
+void   diaElemToggle::updateMe(void)
+{
   GtkWidget *widget=(GtkWidget *)myWidget;
-  gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);
+  uint32_t val;
+  uint32_t rank;
+  if(!nbLink) return;
+  ADM_assert(widget);
+  
+  
+  rank=gtk_toggle_button_get_active (GTK_TOGGLE_BUTTON (widget));
+  /* Now search through the linked list to see if something happens ...*/
+  
+   /* 1 disable everything */
+  for(int i=0;i<nbLink;i++)
+  {
+    dialElemLink *l=&(links[i]);
+    l->widget->enable(0);
+  }
+  /* Then enable */
+  for(int i=0;i<nbLink;i++)
+  {
+      dialElemLink *l=&(links[i]);
+      if(l->onoff==rank)  l->widget->enable(1);
+  }
 }
+void   diaElemToggle::enable(uint32_t onoff)
+{
+  gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);  
+}
+
+//** C callback **
+void cb_menu(void *w,void *p)
+{
+  diaElemToggle *me=(diaElemToggle *)p;
+  me->updateMe();
+}
+
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp	2007-05-11 17:43:40 UTC (rev 3068)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp	2007-05-12 08:45:36 UTC (rev 3069)
@@ -43,6 +43,15 @@
 {
 }
 void diaElemToggle::enable(uint32_t onoff) {}
+void   diaElemToggle::finalize(void)
+{
+  updateMe(); 
+}
+void   diaElemToggle::updateMe(void)
+{
+
+}
+
 //******************************************************
 diaElemInteger::diaElemInteger(int32_t *intValue,const char *toggleTitle, int32_t min, int32_t max,const char *tip)
   : diaElem(ELEM_TOGGLE)
@@ -61,6 +70,10 @@
 {
  
 }
+uint8_t   diaElemToggle::link(uint32_t onoff,diaElem *w)
+{
+  
+}
 void diaElemInteger::enable(uint32_t onoff) {}
 //******************************************************
 diaElemUInteger::diaElemUInteger(uint32_t *intValue,const char *toggleTitle, uint32_t min, uint32_t max,const char *tip)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp	2007-05-11 17:43:40 UTC (rev 3068)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp	2007-05-12 08:45:36 UTC (rev 3069)
@@ -151,6 +151,7 @@
         //
         ui.spinBoxWidth->setValue(xx);
         ui.spinBoxHeight->setValue(yy);
+
    
 }
 /**

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_toggle.cpp	2007-05-11 17:43:40 UTC (rev 3068)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_toggle.cpp	2007-05-12 08:45:36 UTC (rev 3069)
@@ -39,6 +39,7 @@
   paramTitle=shortkey(toggleTitle);
   this->tip=tip;
   myWidget=NULL;
+  nbLink=0;
 }
 
 diaElemToggle::~diaElemToggle()
@@ -59,7 +60,7 @@
     box->setCheckState(Qt::Checked); 
  }
  box->show();
-  layout->addWidget(box,l,0);
+ layout->addWidget(box,l,0);
 }
 void diaElemToggle::getMe(void)
 {
@@ -81,7 +82,48 @@
     box->setDisabled(1);
 }
 
+void   diaElemToggle::finalize(void)
+{
+  updateMe(); 
+}
+void   diaElemToggle::updateMe(void)
+{
+ 
+  uint32_t val;
+  uint32_t rank=0;
+  if(!nbLink) return;
+  ADM_assert(myWidget);
+  
+  QCheckBox *box=(QCheckBox *)myWidget;
+  
+  if(Qt::Checked==box->checkState())
+  {
+    rank=1;
+  }
+  /* Now search through the linked list to see if something happens ...*/
+  
+   /* 1 disable everything */
+  for(int i=0;i<nbLink;i++)
+  {
+    dialElemLink *l=&(links[i]);
+    l->widget->enable(0);
+  }
+  /* Then enable */
+  for(int i=0;i<nbLink;i++)
+  {
+      dialElemLink *l=&(links[i]);
+      if(l->onoff==rank)  l->widget->enable(1);
+  }
+}
 
+uint8_t   diaElemToggle::link(uint32_t onoff,diaElem *w)
+{
+    ADM_assert(nbLink<MENU_MAX_lINK);
+    links[nbLink].onoff=onoff;
+    links[nbLink].widget=w;
+    nbLink++;
+    return 1;
+}
 
 //******************************************************
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp	2007-05-11 17:43:40 UTC (rev 3068)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp	2007-05-12 08:45:36 UTC (rev 3069)
@@ -63,23 +63,21 @@
   {1,_("TimeShift activated")}};
        
    diaElemToggle    eDRC(&vDRC,_("_Dynamic Range Compression:"));
-   diaElemMenu      eTimeShift(&vTshift,_("_TimeShift:"),2,menuTimeShift);
+   diaElemToggle    eTimeShift(&vTshift,_("_TimeShift:"));
    diaElemInteger  eShift(&vTshiftValue,_("TimeShift _Value:"),-10000,10000);
    
-   eTimeShift.link(&(menuTimeShift[1]),1,&eShift);
+   eTimeShift.link(1,&eShift);
   
     diaElemFrame frameMisc(_("Misc"));
     frameMisc.swallow(&eDRC);
     frameMisc.swallow(&eTimeShift);
     frameMisc.swallow(&eShift);
     //**********************************
-    diaMenuEntry menuResample[]={
-  {0,_("No Resampling")},
-  {1,_("Resampling activated")}};
-    diaElemMenu      eResample(&vDownsample,_("_Resampling:"),2,menuResample);
+   
+    diaElemToggle      eResample(&vDownsample,_("_Resampling:"));
     diaElemUInteger  eResampleValue(&vFreq,_("New Frequency:"),6000,64000);
   
-    eResample.link(&(menuResample[1]),1,&eResampleValue);
+    eResample.link(1,&eResampleValue);
     
        diaElemFrame frameResampling(_("Resampling"));
     frameResampling.swallow(&eResample);
@@ -97,10 +95,10 @@
    //**********************************
     diaMenuEntry menuGain[]={
   {ADM_NO_GAIN,       _("None")},
-  {ADM_GAIN_AUTOMATIC,_("Automatic (max -3 dB")},
+  {ADM_GAIN_AUTOMATIC,_("Automatic (max -3 dB)")},
   {ADM_GAIN_MANUAL,   _("Manual")}};
   
-   diaElemMenu      eGain(&vGainMode,_("_Fps convert:"),3,menuGain);
+   diaElemMenu      eGain(&vGainMode,_("Gain Mode:"),3,menuGain);
    
     diaElemFloat  eGainValue(&vGainValue,_("_Gain Value:"),-10,10);
      eGain.link(&(menuGain[2]),1,&eGainValue);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-05-11 17:43:40 UTC (rev 3068)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-05-12 08:45:36 UTC (rev 3069)
@@ -36,6 +36,7 @@
   ELEM_HEXDUMP,
   ELEM_MAX=ELEM_TOGGLE
 };
+
 /*********************************************/
 class diaElem
 {
@@ -62,15 +63,29 @@
   virtual void finalize(void) {} // in case some widget needs some stuff just before using them
 };
 /*********************************************/
+#define MENU_MAX_lINK 10
+typedef struct dialElemLink
+{
+  uint32_t  value;
+  uint32_t  onoff;
+  diaElem  *widget;
+}dialElemLink;
+/*********************************************/
 class diaElemToggle : public diaElem
 {
-
+  protected:
+    dialElemLink        links[MENU_MAX_lINK];
+    uint32_t            nbLink;
+    
 public:
-  diaElemToggle(uint32_t *toggleValue,const char *toggleTitle, const char *tip=NULL);
-  virtual ~diaElemToggle() ;
-  void setMe(void *dialog, void *opaque,uint32_t line);
-  void getMe(void);
+            diaElemToggle(uint32_t *toggleValue,const char *toggleTitle, const char *tip=NULL);
+  virtual   ~diaElemToggle() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
   void      enable(uint32_t onoff) ;
+  void      finalize(void);
+  void      updateMe();
+  uint8_t   link(uint32_t onoff,diaElem *w);
 };
 /*********************************************/
 class diaElemInteger : public diaElem
@@ -154,15 +169,9 @@
 //*******************************
 // static (i.e. hardcoded) menu
 //*******************************
-#define MENU_MAX_lINK 10
-typedef struct dialElemLink
-{
-  uint32_t  value;
-  uint32_t  onoff;
-  diaElem  *widget;
-}dialElemLink;
 
 
+
 //*******************************
 // Same but for dynamic menus
 //*******************************



From mean at mail.berlios.de  Sat May 12 12:38:15 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 12 May 2007 12:38:15 +0200
Subject: [Avidemux-svn-commit] r3070 - branches/avidemux_2.4_branch/po
Message-ID: <200705121038.l4CAcF7Z000756@sheep.berlios.de>

Author: mean
Date: 2007-05-12 12:38:08 +0200 (Sat, 12 May 2007)
New Revision: 3070

Modified:
   branches/avidemux_2.4_branch/po/ja.po
Log:
tetsuro : update ja translation to r3059

Modified: branches/avidemux_2.4_branch/po/ja.po
===================================================================
--- branches/avidemux_2.4_branch/po/ja.po	2007-05-12 08:45:36 UTC (rev 3069)
+++ branches/avidemux_2.4_branch/po/ja.po	2007-05-12 10:38:08 UTC (rev 3070)
@@ -1,3352 +1,4540 @@
-msgid ""
-msgstr ""
-"Project-Id-Version: ja\n"
-"POT-Creation-Date: 2007-03-24 15:57+0100\n"
-"PO-Revision-Date: 2007-04-28 04:45+0900\n"
-"Last-Translator: tetsuro\n"
-"Language-Team: Japan\n"
-"MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=utf-8\n"
-"Content-Transfer-Encoding: 8bit\n"
-"X-Poedit-Language: Japanese\n"
-"X-Poedit-Country: JAPAN\n"
-"X-Poedit-SourceCharset: utf-8\n"
-
-msgid ""
-"\n"
-" Reuse the existing log-file ?"
-msgstr ""
-"\n"
-" ????????????????? ?"
-
-msgid "  Job Name  "
-msgstr "  ????  "
-
-msgid " Error X:"
-msgstr " ?? X:"
-
-msgid " Error Y:"
-msgstr " ?? Y:"
-
-msgid " Height "
-msgstr "??"
-
-msgid " No"
-msgstr "???"
-
-msgid " Text:"
-msgstr "????:"
-
-msgid " Width "
-msgstr "?"
-
-msgid " Yes"
-msgstr "??"
-
-msgid "\"%s\" does not exist."
-msgstr "\"%s\" ??????."
-
-msgid "# of Glyphs :"
-msgstr "Glyphs? :"
-
-msgid "# of frames"
-msgstr "?????"
-
-msgid "# of lines"
-msgstr "??"
-
-msgid "...are reduced by (%):"
-msgstr "...? (%) ?????:"
-
-msgid "/dev/null"
-msgstr "NUL"
-
-msgid "0 - None"
-msgstr "0 - ??"
-
-msgid "0 - Off"
-msgstr "0 - ??"
-
-msgid ""
-"0 = default from core (let XviD decide), else overflow payback percent per "
-"frame"
-msgstr ""
-"0 = ??????????(XviD??????)???? = ???????????"
-"?????????"
-
-msgid "1  - Extremely Low (Fastest)"
-msgstr "1  - ????? (??)"
-
-msgid "1 - Mode decision"
-msgstr "1 - ?????"
-
-msgid "1 - Very low"
-msgstr "1 - ?????"
-
-msgid "16 round up"
-msgstr "16????"
-
-msgid "2  - Very Low"
-msgstr "2  - ?????"
-
-msgid "2 - Limited search"
-msgstr "2 - ????"
-
-msgid "2 - Low"
-msgstr "2 - ??"
-
-msgid "3  - Low"
-msgstr "3  - ??"
-
-msgid "3 - Medium"
-msgstr "3 - ????"
-
-msgid "3 - Medium search"
-msgstr "3 - ????"
-
-msgid "3:2 Pulldown"
-msgstr "3:2 ?????"
-
-msgid "4  - Medium"
-msgstr "4  - ????"
-
-msgid "4 - High"
-msgstr "4 - ??"
-
-msgid "4 - Wide search"
-msgstr "4 - ?????"
-
-msgid "4 field check"
-msgstr "4?????????"
-
-msgid "4 field check (no average)"
-msgstr "4?????????(????)"
-
-msgid "4x4 Intra search"
-msgstr "4x4 ??????"
-
-msgid "4x4, 4x8 and 8x4 P-frame search"
-msgstr "4x4, 4x8 ? 8x4 P-??????"
-
-msgid "5  - High (Default)"
-msgstr "5  - ?? (?????)"
-
-msgid "5 - Very high"
-msgstr "5 - ?????"
-
-msgid "5 channels"
-msgstr "5 ?????"
-
-msgid "5 field check"
-msgstr "5?????????"
-
-msgid "5 field check (no average)"
-msgstr "5?????????(????)"
-
-msgid "6  - Very High"
-msgstr "6  - ?????"
-
-msgid "6 - Ultra high"
-msgstr "6 - ???"
-
-msgid "6B - Very High (RDO on Bframes)"
-msgstr "6B - ????? (RDO on Bframes)"
-
-msgid "7 - Ultra High"
-msgstr "7 - ???"
-
-msgid "7B - Ultra High (RDO on Bframes)"
-msgstr "7B - ??? (RDO on Bframes)"
-
-msgid "8x8 Intra search"
-msgstr "8x8 ??????"
-
-msgid "8x8 Transform"
-msgstr "8x8 ??"
-
-msgid "8x8, 8x16 and 16x8 B-frame search"
-msgstr "8x8, 8x16 ? 16x8 B-??????"
-
-msgid "8x8, 8x16 and 16x8 P-frame search"
-msgstr "8x8, 8x16 ? 16x8 P-??????"
-
-msgid "<b >Active Filters</b>"
-msgstr "<b >???????</b>"
-
-msgid "<b><big>Encoding files</big></b>"
-msgstr "<b><big>??????????????</big></b>"
-
-msgid "<b>Aspect Ratio</b>"
-msgstr "<b>??????</b>"
-
-msgid "<b>Aud Codec:</b>"
-msgstr "<b>???????:</b>"
-
-msgid "<b>Audio Bitrate</b>"
-msgstr "<b>????????</b>"
-
-msgid "<b>Audio Size:</b>"
-msgstr "<b>?????:</b>"
-
-msgid "<b>Audio</b>"
-msgstr "<b>??</b>"
-
-msgid "<b>Available Filters</b>"
-msgstr "<b>?????????</b>"
-
-msgid "<b>B-Frames</b>"
-msgstr "<b>B-????</b>"
-
-msgid "<b>Bitmap</b>"
-msgstr "<b>??????</b>"
-
-msgid "<b>Bitrate :</b>"
-msgstr "<b>?????? :</b>"
-
-msgid "<b>Bitrate:</b>"
-msgstr "<b>??????:</b>"
-
-msgid "<b>Bitrate</b>"
-msgstr "<b>??????</b>"
-
-msgid "<b>Channel Mode:</b>"
-msgstr "<b>????????:</b>"
-
-msgid "<b>Color Correction Matrix</b>"
-msgstr "<b>?????????</b>"
-
-msgid "<b>Container:</b>"
-msgstr "<b>????:</b>"
-
-msgid "<b>Encoding mode </b>"
-msgstr "<b>????? ??? </b>"
-
-msgid "<b>Extra Properties</b>"
-msgstr "<b>???????</b>"
-
-msgid "<b>Extra Video Properties</b>"
-msgstr "?????????"
-
-msgid "<b>Files</b>"
-msgstr "<b>????</b>"
-
-msgid "<b>Format</b>"
-msgstr "<b>??</b>"
-
-msgid "<b>Fps convert</b>"
-msgstr "<b>Fps ??</b>"
-
-msgid "<b>Frame:</b>"
-msgstr "<b>????:</b>"
-
-msgid "<b>Gain</b>"
-msgstr "<b>??</b>"
-
-msgid "<b>Gamma</b>"
-msgstr "<b>???</b>"
-
-msgid "<b>General</b>"
-msgstr "<b>??</b>"
-
-msgid "<b>Hue:</b>"
-msgstr "<b>??:</b>"
-
-msgid "<b>Input file</b>"
-msgstr "<b>??????</b>"
-
-msgid "<b>Interlacing</b>"
-msgstr "<b>??????</b>"
-
-msgid "<b>Matrices</b>"
-msgstr "<b>??????</b>"
-
-msgid ""
-"<b>Matrix Warning :</b>\n"
-"all above values are normalized to 256!"
-msgstr ""
-"<b>???????? :</b>\n"
-"???????256????????!"
-
-msgid "<b>Misc. Options</b>"
-msgstr "<b>??, ?????</b>"
-
-msgid "<b>Misc</b>"
-msgstr "<b>??</b>"
-
-msgid "<b>Mixer</b>"
-msgstr "<b>????</b>"
-
-msgid "<b>Mode :</b>"
-msgstr "<b>??? :</b>"
-
-msgid "<b>Mode:</b>"
-msgstr "<b>???:</b>"
-
-msgid "<b>Mode</b>"
-msgstr "<b>???</b>"
-
-msgid "<b>More Rate Settings</b>"
-msgstr "<b>????????</b>"
-
-msgid "<b>Motion Estimation</b>"
-msgstr "<b>????</b>"
-
-msgid "<b>Partition Macroblocks</b>"
-msgstr "<b>?????????</b>"
-
-msgid "<b>Phasis:</b>"
-msgstr "<b>????:</b>"
-
-msgid "<b>Quality :</b>"
-msgstr "<b>?? :</b>"
-
-msgid "<b>Quality:</b>"
-msgstr "<b>??:</b>"
-
-msgid "<b>Quantization Limits</b>"
-msgstr "<b>?????</b>"
-
-msgid "<b>Quantization Matrices</b>"
-msgstr "<b>?????????</b>"
-
-msgid "<b>Quantizer:</b>"
-msgstr "<b>????:</b>"
-
-msgid "<b>Quantizers</b>"
-msgstr "<b>????</b>"
-
-msgid "<b>RateControl</b>"
-msgstr "<b>?????</b>"
-
-msgid "<b>Resampling</b>"
-msgstr "<b>?????</b>"
-
-msgid "<b>Result</b>"
-msgstr "<b>??</b>"
-
-msgid "<b>Sample Aspect Ratio (A/R)</b>"
-msgstr "<b>?????????? (A/R)</b>"
-
-msgid "<b>Saturation:</b>"
-msgstr "<b>???:</b>"
-
-msgid "<b>Scene change Treshold</b>"
-msgstr "<b>???????</b>"
-
-msgid "<b>Selection</b>"
-msgstr "<b>??</b>"
-
-msgid "<b>Settings</b>"
-msgstr "<b>??</b>"
-
-msgid "<b>Stats</b>"
-msgstr "<b>?????</b>"
-
-msgid "<b>Target</b>"
-msgstr "<b>??</b>"
-
-msgid "<b>TimeCode</b>"
-msgstr "<b>??????</b>"
-
-msgid "<b>Total Size:</b>"
-msgstr "<b>?????:</b>"
-
-msgid "<b>Vid Bitrate:</b>"
-msgstr "<b>????????:</b>"
-
-msgid "<b>Vid codec:</b>"
-msgstr "<b>???????:</b>"
-
-msgid "<b>Video Buffer Verifier</b>"
-msgstr "<b>????????</b>"
-
-msgid "<b>Video Size:</b>"
-msgstr "<b>?????:</b>"
-
-msgid "<b>Video</b>"
-msgstr "<b>??</b>"
-
-msgid "<b>frame2</b>"
-msgstr "<b>????2</b>"
-
-msgid "<i>Strength</i>"
-msgstr "<i>??</i>"
-
-msgid "<i>Threshold</i>"
-msgstr "<i>??</i>"
-
-msgid "A value of 20 will give 20% more bits to every I-frame"
-msgstr "20????I-?????20%??????????"
-
-msgid "AP type"
-msgstr "AP???"
-
-msgid "ASharp by MarcFD"
-msgstr "MarcFD???ASharp"
-
-msgid "AVI _Muxer Options"
-msgstr "AVI????????(_M)"
-
-msgid "A_dd to Joblist..."
-msgstr "?????????(_D)"
-
-msgid "A_uto"
-msgstr "??(_U)"
-
-msgid "Abort"
-msgstr "??"
-
-msgid "Aborting"
-msgstr "??"
-
-msgid "Accept non standard audio frequency for DVD"
-msgstr "DVD?????????????????"
-
-msgid "Adaptative DCT"
-msgstr "???DCT"
-
-msgid "Add selected filter to the Active Filters list"
-msgstr "????????????????????????"
-
-msgid "Advanced Simple Profile"
-msgstr "????????????"
-
-msgid ""
-"Allow B-frames to make references non-linearly to another B-frame (instead "
-"of creating a duplicate copy)"
-msgstr ""
-"(???????????)B-???????B-?????????????????"
-"??"
-
-msgid ""
-"Allowed variance of average bitrate. Lower values mean less variance. Higher "
-"values mean more variance."
-msgstr ""
-"???????????????. ??????????????????????"
-"??."
-
-msgid ""
-"Allowed variance of average quantizer or quality. Lower values mean less "
-"variance. Higher values mean more variance. Note that 0 means constant "
-"quality while 1 means constant fluctuation. Recommended 0.6."
-msgstr ""
-"??????????????????. ???????????????????"
-"?????. 0???????1?????????????????. 0.6???."
-
-msgid "Always"
-msgstr "??"
-
-msgid "Apply the current filter only to a part of the file"
-msgstr "??????????????????????"
-
-msgid "Are you sure you want to delete %s job ?"
-msgstr "??? %s ?????????? ?"
-
-msgid "Are you sure you want to delete all jobs ?"
-msgstr "?????????????? ?"
-
-msgid "Area Combing Threshold"
-msgstr "?????????"
-
-msgid "Artefact Protection threshold "
-msgstr "??????"
-
-msgid "As input"
-msgstr "?????"
-
-msgid "Aspect Ratio"
-msgstr "??????"
-
-msgid "Aspect Ratio:"
-msgstr "??????:"
-
-msgid "Audio"
-msgstr "??"
-
-msgid "Audio Encoder Settings"
-msgstr "?????????"
-
-msgid "Audio Processing"
-msgstr "????"
-
-msgid "Audio bitrate in kb/s for track 1 (0 for no audio)"
-msgstr "?????????????? kb/s (0?????)"
-
-msgid "Audio bitrate in kb/s for track 2 (optional)"
-msgstr "?????????????? kb/s (??)"
-
-msgid "Audio duration  "
-msgstr "????"
-
-msgid "Audio filters"
-msgstr "??????"
-
-msgid "Audio output"
-msgstr "????"
-
-msgid "Audio settings"
-msgstr "?????"
-
-msgid "Audio size (MB):"
-msgstr "????? (MB):"
-
-msgid "Audio source"
-msgstr "?????"
-
-msgid "Audio track is not suitable"
-msgstr "????????????????"
-
-msgid "Audio/video file information"
-msgstr "??/????????"
-
-msgid "Audio/video time shift (ms)"
-msgstr "??/?????? (ms)"
-
-msgid "AudioCodec"
-msgstr "???????"
-
-msgid "Auto split"
-msgstr "????"
-
-msgid "AutoCrop"
-msgstr "??????"
-
-msgid "AutoGain"
-msgstr "????"
-
-msgid "AutoWhite"
-msgstr "??????"
-
-msgid "Automatic ( max is -3dB)"
-msgstr "?? ( ??? -3dB)"
-
-msgid "Automatically"
-msgstr "??"
-
-msgid "Automatically build VBR map"
-msgstr "????VBR????????"
-
-msgid "Automatically index mpeg files"
-msgstr "????MPEG????????????????"
-
-msgid "Automatically rebuild index"
-msgstr "????????????????"
-
-msgid "Automatically remove packed bitstream"
-msgstr "?????????????????????"
-
-msgid "Automatically swap A and B if A>B"
-msgstr "A > B ?????A?B?????"
-
-msgid "Average Br (kb/s)"
-msgstr "????????(kb/s)"
-
-msgid "Avi Muxer Option"
-msgstr "AVI????????"
-
-msgid "B-Frame Direct Mode:  "
-msgstr "B-?????????:"
-
-msgid "B-frame quantizer - Min:"
-msgstr "B-???????? - ??:"
-
-msgid "B-frame reduction (%)"
-msgstr "B-?????? (%)"
-
-msgid "BackGround Image :"
-msgstr "???? :"
-
-msgid "Backward Threshold"
-msgstr "?????"
-
-msgid "Bias"
-msgstr "????"
-
-msgid "Bidirectional ME"
-msgstr "???ME"
-
-msgid "Bitrate"
-msgstr "??????"
-
-msgid "Bitrate "
-msgstr "??????"
-
-msgid "Bitrate (kb/s)"
-msgstr "?????? (kb/s)"
-
-msgid "Bitrate (kb/s):"
-msgstr "?????? (kb/s):"
-
-msgid "Bitrate Calculator"
-msgstr "????????"
-
-msgid "Bitrate Histogram"
-msgstr "????????????"
-
-msgid "Bitrate Variance"
-msgstr "????????"
-
-msgid "Bitrate out of range"
-msgstr "??????????"
-
-msgid "Bitrate variability (%)"
-msgstr "????????? (%)"
-
-msgid "Bitrate/size calculator"
-msgstr "??????/?????"
-
-msgid "Bitrate:"
-msgstr "??????:"
-
-msgid "Bits per pixel:"
-msgstr "???/????:"
-
-msgid "Blend"
-msgstr "????"
-
-msgid "Block Adaptative :"
-msgstr "??????? :"
-
-msgid "Bob, Skip spatial temporal check"
-msgstr "Bob, ??-???????????"
-
-msgid "Bob, T+S check"
-msgstr "Bob, T+S????"
-
-msgid "Bottom"
-msgstr "???"
-
-msgid "Bottom Field First"
-msgstr "??????????"
-
-msgid "Bottom Field first"
-msgstr "??????????"
-
-msgid "Bottom field (keep top)"
-msgstr "????????(??????)"
-
-msgid "Bottom:"
-msgstr "?:"
-
-msgid "Brigh_tness:"
-msgstr "???(_T):"
-
-msgid "Brightness"
-msgstr "???"
-
-msgid "Buffer Size"
-msgstr "???????"
-
-msgid "CBR (bitrate based)"
-msgstr "CBR (??????????)"
-
-msgid "C_heck Frames (slow)"
-msgstr "?????? (??)"
-
-msgid "C_hroma lock:"
-msgstr "?????(_H):"
-
-msgid "C_hroma motion"
-msgstr "????(_H)"
-
-msgid "C_hroma optimizer"
-msgstr "?????(_H)"
-
-msgid "C_onfigure"
-msgstr "??(_O)"
-
-msgid "Ca_rtoon mode"
-msgstr "?????(_R)"
-
-msgid "Calculate referencing individually based on each partition"
-msgstr "??????????????????"
-
-msgid "Calculator"
-msgstr "??"
-
-msgid "Calibrate"
-msgstr "??"
-
-msgid "Can't determine aspect ratio"
-msgstr "??????????????"
-
-msgid "Cannot decode frame"
-msgstr "??????????????"
-
-msgid "Cannot decode keyframe."
-msgstr "????????????????"
-
-msgid "Cannot decode next frame."
-msgstr "????????????????"
-
-msgid "Cannot decode the frame."
-msgstr "??????????????"
-
-msgid "Cannot identify subtitle format"
-msgstr "????????????"
-
-msgid "Cannot initialize the audio stream"
-msgstr "????????????????"
-
-msgid "Cannot initialize the video stream"
-msgstr "????????????????"
-
-msgid "Cannot initiate save"
-msgstr "??????????"
-
-msgid "Cannot open \"%s\" for writing."
-msgstr "????? \"%s\" ??????."
-
-msgid "Cannot open \"%s\"."
-msgstr "\"%s\" ??????."
-
-msgid "Cannot open AMR codec."
-msgstr "AMR???????????."
-
-msgid "Cannot open WMA2 codec."
-msgstr "WMA2???????????."
-
-msgid "Cannot open directory as a file"
-msgstr "?????????????????"
-
-msgid "Cannot open project using the video loader."
-msgstr "????????????????????????."
-
-msgid "Cannot write .idx"
-msgstr ".idx???????"
-
-msgid "Cannot write .sub"
-msgstr ".sub???????"
-
-msgid "Cannot write the file"
-msgstr "???????????"
-
-msgid "Ch_roma threshold:"
-msgstr "????(_H):"
-
-msgid "Channel Mode"
-msgstr "????????"
-
-msgid "Channels  "
-msgstr "?????"
-
-msgid "Channels:"
-msgstr "?????:"
-
-msgid "Chapter 1"
-msgstr "?????1"
-
-msgid "Chapter 2"
-msgstr "?????2"
-
-msgid "Chapter 3"
-msgstr "?????3"
-
-msgid "Chapter 4"
-msgstr "?????4"
-
-msgid "Chapter 5"
-msgstr "?????5"
-
-msgid "Chapter 6"
-msgstr "?????6"
-
-msgid "Chroma"
-msgstr "??"
-
-msgid "Chroma ME"
-msgstr "?? ME"
-
-msgid "Chroma Noise Reduction 2"
-msgstr "??????? 2"
-
-msgid "Chroma QP Offset"
-msgstr "??QP?????"
-
-msgid "Chroma U"
-msgstr "?? U"
-
-msgid "Chroma U :"
-msgstr "?? U :"
-
-msgid "Chroma V"
-msgstr "?? V"
-
-msgid "Chroma V :"
-msgstr "?? V :"
-
-msgid "Chrominance:"
-msgstr "??:"
-
-msgid "Codec "
-msgstr "?????"
-
-msgid "Codec 4CC"
-msgstr "?????4CC"
-
-msgid "Codec 4CC:"
-msgstr "?????4CC:"
-
-msgid "Codec Error"
-msgstr "????????"
-
-msgid "Codec:"
-msgstr "?????:"
-
-msgid "ColorYuv (From avisynth)"
-msgstr "ColorYuv (avisynth??)"
-
-msgid "Colors"
-msgstr "?"
-
-msgid "Combed Treshold"
-msgstr "Combed ??"
-
-msgid "Configure"
-msgstr "??"
-
-msgid "Configure Codec"
-msgstr "????????"
-
-msgid "Configure audio encoder"
-msgstr "??????????"
-
-msgid "Configure filter"
-msgstr "?????????"
-
-msgid "Configure partialized filter"
-msgstr "?????????????"
-
-msgid "Configure video encoder"
-msgstr "??????????"
-
-msgid "Constant Bitrate"
-msgstr "????????"
-
-msgid "Constant Bitrate (kbps)"
-msgstr "???????? (kbps)"
-
-msgid "Constant Quality"
-msgstr "????"
-
-msgid "Constant Quantizer"
-msgstr "??????"
-
-msgid ""
-"Constant Quantizer - Each frame will the same compression. Low numbers equal "
-"higher quality while high numbers equal lower quality"
-msgstr ""
-"?????? - ??????????. ????????????????????"
-"???"
-
-msgid "Constant quantizer - each frame will get the same compression"
-msgstr "?????? - ?????????????"
-
-msgid "Contrast"
-msgstr "??????"
-
-msgid "Copy"
-msgstr "???"
-
-msgid "Could not initialize audio"
-msgstr "???????????"
-
-msgid "Could not initialize video"
-msgstr "???????????"
-
-msgid "Could not open subtitle file"
-msgstr "????????????"
-
-msgid "Could not open the file"
-msgstr "??????????"
-
-msgid "Could not unpack the video"
-msgstr "?????????????"
-
-msgid "Create openDML file"
-msgstr "openDML ?????????"
-
-msgid "Crop Bottom:"
-msgstr "?????:"
-
-msgid "Crop Left :"
-msgstr "?????:"
-
-msgid "Crop Right:"
-msgstr "?????:"
-
-msgid "Crop Settings"
-msgstr "???????"
-
-msgid "Crop Top:"
-msgstr "?????:"
-
-msgid "Cu_t"
-msgstr "???(_T)"
-
-msgid "Current Glyph"
-msgstr "???Glyph"
-
-msgid "Current frame"
-msgstr "???????"
-
-msgid "Current time"
-msgstr "?????"
-
-msgid "Curve compression"
-msgstr "????"
-
-msgid "Custom"
-msgstr "????"
-
-msgid "Custom matrix"
-msgstr "??????????"
-
-msgid "Cycle"
-msgstr "????"
-
-msgid "DVD resolution [Ctrl-1]"
-msgstr "DVD ??? [Ctrl-1]"
-
-msgid "Deblocking Filter :"
-msgstr "????? ???? :"
-
-msgid "Debug"
-msgstr "????"
-
-msgid "Default"
-msgstr "?????"
-
-msgid "Default mpeg"
-msgstr "?????MPEG"
-
-msgid ""
-"Define how many pixels are analysised. The higher the range the more "
-"accurate the analysis but the slower the encoding time"
-msgstr ""
-"?????????????. ????????????????????????"
-"?????"
-
-msgid ""
-"Define how much the bitrate can fluctuate over the entire video. 0% results "
-"in a constant bitrate stream, while 100% results in a pure quality based "
-"bitrate stream"
-msgstr ""
-"??????????????????. 0%?????????????????"
-"??100%??????????????????????????"
-
-msgid ""
-"Define how much the quantizer rate can change between two consecutive frames"
-msgstr "????????????????????????"
-
-msgid "Define the level for when deblocking is applied"
-msgstr "??????????????????????"
-
-msgid "Delay in ms"
-msgstr "?? (ms)"
-
-msgid "Delete ALL jobs"
-msgstr "???????"
-
-msgid "Delete All Jobs"
-msgstr "???????"
-
-msgid "Delete Job"
-msgstr "??????"
-
-msgid "Delete job"
-msgstr "??????"
-
-msgid "Denoise"
-msgstr "?????"
-
-msgid "Deringing"
-msgstr "????"
-
-msgid "Dest. aspect ratio"
-msgstr "??????????"
-
-msgid "Destination"
-msgstr "???"
-
-msgid "Detected Audio :"
-msgstr "??????? :"
-
-msgid "Diamond search"
-msgstr "????????"
-
-msgid "Direct Threshold"
-msgstr "????"
-
-msgid "Disable NUV audio sync"
-msgstr "NuppelVideo ??????????"
-
-msgid "Discard Closer"
-msgstr "???????"
-
-msgid "Discard longer dupe (anim?s)"
-msgstr "??dupe???(???)"
-
-msgid "Display Stats"
-msgstr "????"
-
-msgid "Display _Output"
-msgstr "?????(_O)"
-
-msgid "Display all alerts"
-msgstr "???????????"
-
-msgid "Display only error alerts"
-msgstr "????????????"
-
-msgid "Do you want me to unpack it ?"
-msgstr "???????????? ?"
-
-msgid "Do you want to save an index ?"
-msgstr "????????????? ?"
-
-msgid "Dolby Prologic"
-msgstr "??????????"
-
-msgid "Dolby Prologic 2"
-msgstr "??????????2"
-
-msgid "Done"
-msgstr "??"
-
-msgid "Done : %02d%%"
-msgstr "?? : %02d%%"
-
-msgid "Double nb of frames (slow motion)"
-msgstr "???????????(????????)"
-
-msgid "Double nb of frames and fps"
-msgstr "??????FPS??????"
-
-msgid "Dual pass"
-msgstr "????"
-
-msgid "Dual pass (MBytes)"
-msgstr "???? (MBytes)"
-
-msgid "Duration:"
-msgstr "????:"
-
-msgid "Edit Custom Matrix"
-msgstr "?????????????"
-
-msgid "Edit a loaded custom quantization matrix file"
-msgstr "???????????????????????????"
-
-msgid "Enable DCT Intra block search to improve quality"
-msgstr "DCT??????????????????????"
-
-msgid ""
-"Enable a better prediction of AC component. Turns on Lumi masking - applies "
-"more compression to dark/light areas that the eye cannot notice easily"
-msgstr ""
-"AC????????????????????. Lumi??????? - ??????"
-"??????????????????"
-
-msgid "Enable in-loop deblocking to filter the video"
-msgstr "????????????????????????"
-
-msgid "Enable time shift"
-msgstr "??????????"
-
-msgid "Enables Divx like packed vop, DO NOT SET, it is ugly"
-msgstr "????vop????Divx??????. ??????????????"
-
-msgid "Enables a chroma optimizer prefilter"
-msgstr "?????????????????"
-
-msgid "Enables fast 1st pass encoding"
-msgstr "????????????????????"
-
-msgid ""
-"Enables interlaced frame support - use only if your source contains "
-"interlacing artifacts (i.e. fields instead of progressive frames)"
-msgstr ""
-"???????????????????? - ???????????(?????"
-"???????????????????)??????????"
-
-msgid "Enables special motion estimation features for cartoons/anime"
-msgstr "??/?????????????????????"
-
-msgid "Enables weighting of B-frames to help fades"
-msgstr "B-????????????????????????"
-
-msgid "Encode in black & white"
-msgstr "????????"
-
-msgid "Encode interlaced"
-msgstr "??????????????"
-
-msgid "Encoding "
-msgstr "?????"
-
-msgid "Encoding Mode:"
-msgstr "????????:"
-
-msgid "Encoding Type"
-msgstr "????????"
-
-msgid "Encoding Type:"
-msgstr "????? ???:"
-
-msgid "Encoding mode"
-msgstr "????????"
-
-msgid "Encoding type:"
-msgstr "????????:"
-
-msgid "End frame for partial :"
-msgstr "?????????????? :"
-
-msgid "Enforce a maximum quantizer level"
-msgstr "????????????"
-
-msgid "Enforce a minimum quantizer level"
-msgstr "????????????"
-
-msgid ""
-"Enforce the size of a decoded pixel decoded to a certain value. Leave this "
-"at 1:1 for non-anamorphic video"
-msgstr ""
-"??????????????????????????. ???????????"
-"??1:1?????????"
-
-msgid "Entry input for target file size or bitrate"
-msgstr "??????????????????????????"
-
-msgid "Error Loading"
-msgstr "??????"
-
-msgid "Error Writing"
-msgstr "??????"
-
-msgid "Error in pass 1"
-msgstr "?? 1 ????"
-
-msgid "Error in pass 2"
-msgstr "?? 2 ????"
-
-msgid "Error initalizing audio filters"
-msgstr "????????????"
-
-msgid "Error initalizing video filters"
-msgstr "????????????"
-
-msgid "Error loadind the custom matrix file."
-msgstr "????????????????????"
-
-msgid "Error loading the AC3 file"
-msgstr "AC3??????????"
-
-msgid "Error loading the MP3 file"
-msgstr "MP3??????????"
-
-msgid "Error loading the WAV file"
-msgstr "WAV??????????"
-
-msgid "Error reading ifo file, aborting."
-msgstr "IFO???????????????."
-
-msgid "Error while encoding"
-msgstr "??????????"
-
-msgid "Error writing the custom matrix file."
-msgstr "????????????????????"
-
-msgid "Errors found in %u frames"
-msgstr "%u ????????????????"
-
-msgid "Evaluate ALL frames"
-msgstr "????????"
-
-msgid "Exhaustive search"
-msgstr "????"
-
-msgid "Expect a crash."
-msgstr "?????????."
-
-msgid "External"
-msgstr "??"
-
-msgid "External AC3"
-msgstr "??AC3"
-
-msgid "External Filters"
-msgstr "??????"
-
-msgid "External MP3"
-msgstr "??MP3"
-
-msgid "External Wav"
-msgstr "??WAV"
-
-msgid "External filename"
-msgstr "???????"
-
-msgid "Extra Settings"
-msgstr "????"
-
-msgid "Extra Shrink Factor :"
-msgstr "????? :"
-
-msgid "Extra check, avoid using it"
-msgstr "?????????????????"
-
-msgid "Extra slow (same as 3+multiple reference frames)"
-msgstr "???? (??+????????)"
-
-msgid "Extrapolate better (better not to use it)"
-msgstr "???????? (better not to use it)"
-
-msgid "FFmpeg encoding options"
-msgstr "FFmpeg??????????"
-
-msgid "Factor between I and P frame Quants"
-msgstr "I ? P ??????????"
-
-msgid "Factor between P and B frame Quants"
-msgstr "P ? B ??????????"
-
-msgid "Fade to _black"
-msgstr "??????(_B)"
-
-msgid "Fast"
-msgstr "??"
-
-msgid "Fast (parial luma and chroma)"
-msgstr "??(???????)"
-
-msgid "Fast P-Skip"
-msgstr "??P-????"
-
-msgid "Fastest (no chroma, partial luma)"
-msgstr "??(????, ????)"
-
-msgid "Fatal error"
-msgstr "??????"
-
-msgid "Fewest bits (vhq)"
-msgstr "??????(vhq)"
-
-msgid "Field Order"
-msgstr "?????????"
-
-msgid "Field Order :"
-msgstr "????????? :"
-
-msgid "Fil_ters"
-msgstr "????(_T)"
-
-msgid "File %s has been successfully saved."
-msgstr "???? %s ??????????."
-
-msgid "File :"
-msgstr "???? :"
-
-msgid "File Size:"
-msgstr "???????:"
-
-msgid "File error"
-msgstr "???????"
-
-msgid "FileSize (MB)"
-msgstr "???????(MB)"
-
-msgid "Filename"
-msgstr "?????"
-
-msgid "Filename of the audio/video output"
-msgstr "??/??????????"
-
-msgid "Filesize tolerance (kb"
-msgstr "?????????(kb"
-
-msgid "Filter Strength"
-msgstr "???????"
-
-msgid "Filter directory"
-msgstr "?????????"
-
-msgid "Filter init failed"
-msgstr "?????????"
-
-msgid "Filters"
-msgstr "????"
-
-msgid "Finished at"
-msgstr "???"
-
-msgid "First frame"
-msgstr "???????"
-
-msgid "Flat matrix"
-msgstr "????????"
-
-msgid "Font (TTF)"
-msgstr "????(TTF)"
-
-msgid "Font Size"
-msgstr "???????"
-
-msgid "Force background"
-msgstr "????"
-
-msgid "Frame Count:"
-msgstr "?????:"
-
-msgid "Frame Rate"
-msgstr "???????"
-
-msgid "Frame Rate:"
-msgstr "???????:"
-
-msgid "Frame: "
-msgstr "????: "
-
-msgid "Frame: ?"
-msgstr "????: ?"
-
-msgid "Frame:%c(%02d)"
-msgstr "????:%c(%02d)"
-
-msgid "Frequency"
-msgstr "???"
-
-msgid "Frequency:"
-msgstr "???:"
-
-msgid "Full linking"
-msgstr "?????"
-
-msgid "Further enable DCT Intra block search to improve quality"
-msgstr "???DCT??????????????????????"
-
-msgid "Further improve the P-frame quality"
-msgstr "P-?????????????"
-
-msgid "Gain"
-msgstr "??"
-
-msgid "Gamma"
-msgstr "???"
-
-msgid "General block breakdown transformation"
-msgstr "????????????"
-
-msgid "Get PAR from input video file"
-msgstr "??????????PAR???"
-
-msgid ""
-"Global Motion Compensation can save bits on camera pans, zooming and rotation"
-msgstr ""
-"?????????(GMC)????????????????????????"
-
-msgid "Global Motion Compensation:"
-msgstr "?????????:"
-
-msgid "Go to Marker _A"
-msgstr "????A???(_A)"
-
-msgid "Go to Marker _B"
-msgstr "????B???(_B)"
-
-msgid "Go to marker A"
-msgstr "????A???"
-
-msgid "Go to marker B"
-msgstr "????B???"
-
-msgid "Go to time"
-msgstr "?????"
-
-msgid "Gop Size"
-msgstr "GOP???"
-
-msgid "Gop Size  (12):"
-msgstr "GOP??? (12):"
-
-msgid "H.263 quantizers smooth the picture (useful at lower bitrates)"
-msgstr "H.263 ??????????????? (??????????)"
-
-msgid "H264 detected"
-msgstr "H264???????"
-
-msgid "Half D1 resolution [Ctrl-2]"
-msgstr "Half D1 ??? [Ctrl-2]"
-
-msgid "Hexagonal search"
-msgstr "?????"
-
-msgid "High bitrate scenes (%):"
-msgstr "?????????? (%):"
-
-msgid "HighQ"
-msgstr "?Q (_H)"
-
-msgid ""
-"Higher settings give higher quality results, at the cost of slower encoding"
-msgstr "??????????????????????????"
-
-msgid "Horizontal deblocking"
-msgstr "???????"
-
-msgid ""
-"How much of the overflow the codec can eat into during oversized sections - "
-"larger values will bridge the gap faster"
-msgstr ""
-"????????????????????? - ????????????????"
-"?"
-
-msgid ""
-"How much of the overflow the codec can eat into during undersized sections - "
-"larger values will bridge the gap faster"
-msgstr ""
-"????????????????????? - ????????????????"
-"?"
-
-msgid "Hue/Saturation"
-msgstr "??/???"
-
-msgid "I-frame boost (%):"
-msgstr "I-?????? (%):"
-
-msgid "I-frame interval - Min:"
-msgstr "I-?????? - ??:"
-
-msgid "I-frame quantizer - Min:"
-msgstr "I-???????? - ??:"
-
-msgid ""
-"I-frames appearing in the range below this value will be treated as "
-"consecutive keyframes"
-msgstr "???????I-????????????????????"
-
-msgid "I-frames closer than ... frames..."
-msgstr "...?????????I-?????"
-
-msgid "If metric is less than identical, images are considered identical"
-msgstr "????????????????????????"
-
-msgid "If pixel are closer than noise, they are considered to be the same"
-msgstr "?????????????????????"
-
-msgid "If pixels are closer than noise, they are considered to be the same"
-msgstr "?????????????????????"
-
-msgid ""
-"If the file is using bframe as reference, it can lead to crash or "
-"stutteting.\n"
-"Avidemux can use another mode which is safed but <b>YOU WILL LOOSE FRAME "
-"ACCURACY</b>.\n"
-"Do you want to use that mode ?"
-msgstr ""
-"???????B-??????????????????????????????"
-"???????\n"
-"Avidemux ?????????????????????<b>???????????"
-"????????</b>.\n"
-"??????????? ?"
-
-msgid ""
-"If value is smaller than threshold it is considered valid. Smaller value "
-"might mean more false positive"
-msgstr ""
-"?????????????????. ???????????????????"
-
-msgid "Ifo error"
-msgstr "IFO ???"
-
-msgid "Ignore"
-msgstr "??"
-
-msgid "Ignore glyph"
-msgstr "glyph???"
-
-msgid "Image Size:"
-msgstr "?????:"
-
-msgid "Image size"
-msgstr "?????"
-
-msgid "Improve the B-frame quality"
-msgstr "B-??????????"
-
-msgid "Improve the P-frame quality"
-msgstr "P-??????????"
-
-msgid "In"
-msgstr "??"
-
-msgid "Incompatible audio"
-msgstr "????????"
-
-msgid "Incompatible frame rate"
-msgstr "?????????????"
-
-msgid "Incompatible output format"
-msgstr "??????????"
-
-msgid "Incorrect output file"
-msgstr "???????????"
-
-msgid ""
-"Increase / decrease probability for how often B-frames are used. Will not "
-"violate the maximum consecutive frame limit"
-msgstr ""
-"B-???????????????/???. ????????????????"
-
-msgid ""
-"Increase / decrease sensitivity for detecting Scene Changes to compensate "
-"for. Improves I-frame usage and helps quality"
-msgstr ""
-"????????????????????/???. I-?????????????"
-"??????"
-
-msgid "Index is not up to date"
-msgstr "????????????????"
-
-msgid "Informations"
-msgstr "??"
-
-msgid "Initial VBV buffer (%)"
-msgstr "??VBV????(%)"
-
-msgid "Input"
-msgstr "??"
-
-msgid "Int. BFF"
-msgstr "???? BFF"
-
-msgid "Int. TFF"
-msgstr "???? TFF"
-
-msgid "Interlace"
-msgstr "??????"
-
-msgid "Interlaced BFF"
-msgstr "?????? BFF"
-
-msgid "Interlaced TFF"
-msgstr "?????? TFF"
-
-msgid "Interlacing"
-msgstr "??????"
-
-msgid "Internal error"
-msgstr "?????"
-
-msgid "Internal error finding codec"
-msgstr "??????????????"
-
-msgid "Internal error opening codec"
-msgstr "???????????????"
-
-msgid "Interpolate :"
-msgstr "?? :"
-
-msgid "Invalid filename"
-msgstr "????????"
-
-msgid "Invalid jobname"
-msgstr "???????"
-
-msgid "JVT matrix"
-msgstr "JVT??????"
-
-msgid "Job name displayed in the job list and used as the script filename"
-msgstr "?????????????????????????????????"
-
-msgid "Jobs"
-msgstr "???"
-
-msgid "Joint Stereo"
-msgstr "?????????"
-
-msgid "Joint stereo"
-msgstr "?????????"
-
-msgid ""
-"Jointly optimize both Motion Vector's in B-frames. This will improve quality "
-"but take more time for encoding"
-msgstr ""
-"B-????????????????????????. ????????????"
-"?????????????"
-
-msgid "Jump to _Time..."
-msgstr "?????(_T)"
-
-msgid "Keep nb of frames and fps"
-msgstr "??????FPS???"
-
-msgid "KeyFrame error"
-msgstr "?????? ???"
-
-msgid "Keyframe boost (%)"
-msgstr "???????? (%)"
-
-msgid "L_uma threshold:"
-msgstr "????(_U):"
-
-msgid "Last frame"
-msgstr "???????"
-
-msgid "Left:"
-msgstr "?:"
-
-msgid "Level"
-msgstr "???"
-
-msgid "Libavcodec Decoder Option"
-msgstr "Libavcodec ???? ?????"
-
-msgid "Link"
-msgstr "???"
-
-msgid "Load Custom Matrix:  "
-msgstr "??????????????:"
-
-msgid "Load external filters"
-msgstr "??????????"
-
-msgid "Local Playback Downmixing"
-msgstr "?????????????"
-
-msgid ""
-"Lossless compression method which usually improves the bitrate usage by 15% "
-"(especially on high bitrate). Helps the quality a lot but is slower. "
-msgstr ""
-"???????????(??????????)?15%??????????. ???"
-"?????????."
-
-msgid "Low bitrate scenes (%):"
-msgstr "?????????? (%):"
-
-msgid "Luma"
-msgstr "??"
-
-msgid "Luma :"
-msgstr "?? :"
-
-msgid "Luma Y"
-msgstr "?? Y"
-
-msgid "Luminance:"
-msgstr "??:"
-
-msgid "MB Comparison"
-msgstr "MB ??"
-
-msgid ""
-"MPEG quantizers (slightly slower) produce sharper picture (useful at higher "
-"bitrates)"
-msgstr ""
-"MPEG ???? (????) ???????????? (??????????)"
-
-msgid "Macroblock decision"
-msgstr "?????????"
-
-msgid "Macroblock decision:"
-msgstr "?????????:"
-
-msgid "Macroblock:"
-msgstr "???????:"
-
-msgid "Main"
-msgstr "??"
-
-msgid "Manual (db) : "
-msgstr "?? (db) : "
-
-msgid "Matrices"
-msgstr "??????"
-
-msgid "Matrix"
-msgstr "??????"
-
-msgid "Matrix Loaded"
-msgstr "?????????????"
-
-msgid "Max"
-msgstr "??"
-
-msgid "Max Bitrate"
-msgstr "????????"
-
-msgid "Max Consecutive"
-msgstr "?????"
-
-msgid "Max IDR frame interval"
-msgstr "??IDR??????"
-
-msgid "Max QDiff"
-msgstr "?? QDiff"
-
-msgid "Max QP Step"
-msgstr "?? QP ????"
-
-msgid "Max Qp"
-msgstr "?? Qp"
-
-msgid "Max Qz"
-msgstr "?? Qz"
-
-msgid "Max bitrate (kbps) :"
-msgstr "???????? (kbps) :"
-
-msgid "Max overflow degradation (%):"
-msgstr "?????????? (%):"
-
-msgid "Max overflow improvement (%):"
-msgstr "?????????? (%):"
-
-msgid "Max. Ref. frames"
-msgstr "?????????"
-
-msgid "Max:"
-msgstr "??:"
-
-msgid "Maximum Bitrate (kb/s)"
-msgstr "???????? (kb/s)"
-
-msgid "Maximum local bitrate"
-msgstr "??????????"
-
-msgid "Maximum number of frames allowed between I-frames"
-msgstr "I-?????????????????"
-
-msgid ""
-"Maximum number of sequential B-frames (when set to 0, the original I/P "
-"encoder is used)"
-msgstr "????B-????? (0?????????I/P????????)"
-
-msgid "Maximum quantizer allowed for B-frames"
-msgstr "B-???????????????"
-
-msgid "Maximum quantizer allowed for I-frames"
-msgstr "I-???????????????"
-
-msgid "Maximum quantizer allowed for P-frames"
-msgstr "P-???????????????"
-
-msgid "Medium"
-msgstr "????"
-
-msgid "Medium (full luma no chroma)"
-msgstr "????(????, ????)"
-
-msgid "Memory error"
-msgstr "??????"
-
-msgid "Message level"
-msgstr "????????"
-
-msgid "Method"
-msgstr "??"
-
-msgid "Metrics"
-msgstr "??????"
-
-msgid "Min Bitrate"
-msgstr "????????"
-
-msgid "Min IDR frame interval"
-msgstr "??IDR??????"
-
-msgid "Min Qp"
-msgstr "?? Qp"
-
-msgid "Min Qz"
-msgstr "?? Qz"
-
-msgid "Min bitrate (kbps) :"
-msgstr "???????? (kbps) :"
-
-msgid "Mini OCR"
-msgstr "?? OCR"
-
-msgid "Minimum Bitrate (kb/s) "
-msgstr "???????? (kb/s)"
-
-msgid "Minimum quantizer allowed for B-frames"
-msgstr "B-???????????????"
-
-msgid "Minimum quantizer allowed for I-frames"
-msgstr "I-???????????????"
-
-msgid "Minimum quantizer allowed for P-frames"
-msgstr "P-???????????????"
-
-msgid "Minimum space between I-frames, 1 will disable forced I-frame spacing"
-msgstr "I-???????????1 ???I-????????????????"
-
-msgid "Misc"
-msgstr "??"
-
-msgid "Miscellaneous"
-msgstr "??"
-
-msgid "Mixed Refs"
-msgstr "????"
-
-msgid "Mjpeg Codec settings"
-msgstr "Mjpeg???????"
-
-msgid "MntMode"
-msgstr "Mnt???"
-
-msgid "Mode"
-msgstr "???"
-
-msgid "Mode :"
-msgstr "??? :"
-
-msgid "Mono"
-msgstr "??"
-
-msgid "More"
-msgstr "??"
-
-msgid "Motion & Misc"
-msgstr "?????"
-
-msgid "Motion Estimation"
-msgstr "????"
-
-msgid "Motion search precision:"
-msgstr "??????:"
-
-msgid "Move filter down"
-msgstr "???????????"
-
-msgid "Move filter up"
-msgstr "???????????"
-
-msgid "MultiThreading"
-msgstr "???????"
-
-msgid "Multiple Audio Tracks"
-msgstr "?????????"
-
-msgid "Mux Every x video frames"
-msgstr "N?????????????"
-
-msgid "Mux by packet size"
-msgstr "?????????"
-
-msgid "Mux every N video frames"
-msgstr "N??????????"
-
-msgid "Mux with block of size"
-msgstr "???????????????"
-
-msgid "Muxing Type"
-msgstr "??????"
-
-msgid "NONE"
-msgstr "??"
-
-msgid "NTSC (default is PAL)"
-msgstr "NTSC (?????? PAL)"
-
-msgid "NTSC converted from PAL"
-msgstr "PAL??????NTSC"
-
-msgid "Narrow"
-msgstr "??"
-
-msgid "Ne_xt Black Frame"
-msgstr "???????(_X)"
-
-msgid "Never"
-msgstr "???"
-
-msgid "Next _Intra Frame"
-msgstr "??I-????(_I)"
-
-msgid "Next black frame"
-msgstr "???????"
-
-msgid "Next frame"
-msgstr "??????"
-
-msgid "Next keyframe"
-msgstr "????????"
-
-msgid "No"
-msgstr "???"
-
-msgid "No Strategy"
-msgstr "???????"
-
-msgid "No alerts"
-msgstr "?????"
-
-msgid "No audio track"
-msgstr "????????"
-
-msgid "No change"
-msgstr "????"
-
-msgid "No data"
-msgstr "?????"
-
-msgid "No downmixing"
-msgstr "?????????"
-
-msgid "No error found"
-msgstr "???????????"
-
-msgid "No link"
-msgstr "?????"
-
-msgid "No more supported."
-msgstr "????????????"
-
-msgid "No video loaded"
-msgstr "???????????"
-
-msgid "Noise"
-msgstr "???"
-
-msgid "Noise Reduction"
-msgstr "?????"
-
-msgid "Noise Threshold"
-msgstr "?????"
-
-msgid "None"
-msgstr "??"
-
-msgid "None but compute"
-msgstr "?????????"
-
-msgid "Normal"
-msgstr "??"
-
-msgid "Not coded in this version"
-msgstr "????????????????????"
-
-msgid "Nothing to do."
-msgstr "???????."
-
-msgid "Nothing to save"
-msgstr "????????????"
-
-msgid "Number of B-frames:"
-msgstr "B-?????:"
-
-msgid "Number of BFrames"
-msgstr "B-?????"
-
-msgid "Number of threads"
-msgstr "?????"
-
-msgid "Obsolete"
-msgstr "??"
-
-msgid "Old format project file"
-msgstr "???????????????"
-
-msgid "Open CQM file"
-msgstr "CQM???????"
-
-msgid "Open a file"
-msgstr "???????"
-
-msgid "Open filter list [Ctrl-O]"
-msgstr "?????????? [Ctrl-O]"
-
-msgid "Order"
-msgstr "????"
-
-msgid "Out"
-msgstr "???"
-
-msgid "Out of memory"
-msgstr "??????"
-
-msgid "Output"
-msgstr "??"
-
-msgid "Output Srt"
-msgstr "??Srt"
-
-msgid "Output _file:"
-msgstr "??????(_F):"
-
-msgid "Output container format"
-msgstr "????????"
-
-msgid "Output file error"
-msgstr "?????????"
-
-msgid "Output vobsub (.idx) :"
-msgstr "??VobSub (.idx) :"
-
-msgid "Overflow control strength (%):"
-msgstr "??????????? (%):"
-
-msgid "Overwrite file ?"
-msgstr "???????????? ?"
-
-msgid "P-frame quantizer - Min:"
-msgstr "P-???????? - ??:"
-
-msgid "P_artial"
-msgstr "???(_A)"
-
-msgid "P_review"
-msgstr "?????(_R)"
-
-msgid "P_revious Frame"
-msgstr "??????(_R)"
-
-msgid "Packed Bistream"
-msgstr "????????????"
-
-msgid "Packed Bitstream detected"
-msgstr "???????????????????"
-
-msgid "Packed Bitstream:"
-msgstr "????????????:"
-
-msgid "Packed bitstream"
-msgstr "????????????"
-
-msgid "Partial"
-msgstr "????"
-
-msgid "Partition decision"
-msgstr "????"
-
-msgid "Partitions & Frames"
-msgstr "???????"
-
-msgid "Pause / Abort"
-msgstr "?? / ??"
-
-msgid "Pixel Aspect Ratio"
-msgstr "??????????"
-
-msgid "Pixel Height"
-msgstr "??????"
-
-msgid "Pixel Width"
-msgstr "?????"
-
-msgid "Play"
-msgstr "??"
-
-msgid "Please select or enter a valid filename"
-msgstr "?????????????????????"
-
-msgid "Post Proc Threshold"
-msgstr "?????"
-
-msgid "Post Processing"
-msgstr "???"
-
-msgid "Postproc and show zones(debug)"
-msgstr "???????????(????)"
-
-msgid "Postproc on best match"
-msgstr "??????????"
-
-msgid "Postprocessing"
-msgstr "???"
-
-msgid "Pr_evious Intra Frame"
-msgstr "??I-????(_E)"
-
-msgid "Pre_ferences"
-msgstr "??(_F)"
-
-msgid "Predefined Aspect Ratios"
-msgstr "??????????"
-
-msgid "Preferences"
-msgstr "??"
-
-msgid "Previou_s Black Frame"
-msgstr "???????(_S)"
-
-msgid "Previous black frame"
-msgstr "???????"
-
-msgid "Previous frame"
-msgstr "??????"
-
-msgid "Previous keyframe"
-msgstr "????????"
-
-msgid "Problem loading sub"
-msgstr "????????"
-
-msgid "Problem opening the mpeg files"
-msgstr "MPEG???????????"
-
-msgid "Process image (not fields)"
-msgstr "?????(?????????)"
-
-msgid "Process image (not fields),debug"
-msgstr "?????(?????????),????"
-
-msgid "Produces nicer-looking B-frames"
-msgstr "????????B-???????"
-
-msgid "Progressive"
-msgstr "???????"
-
-msgid "Proper_ties"
-msgstr "?????"
-
-msgid "Properties"
-msgstr "?????"
-
-msgid "PullDown dupe removal"
-msgstr "?????dupe??"
-
-msgid "Quality"
-msgstr "??"
-
-msgid "Quality "
-msgstr "??"
-
-msgid "Quality Based"
-msgstr "??????"
-
-msgid "Quantisation (2-31)"
-msgstr "??? (2-31)"
-
-msgid "Quantization"
-msgstr "???"
-
-msgid "Quantization difference between chroma (color) and luma (brightness)"
-msgstr "??(?)???(???)???????"
-
-msgid "Quantization factors used between I- and P- frames"
-msgstr "I- ?P- ???????????????"
-
-msgid "Quantization type"
-msgstr "??????"
-
-msgid "Quantization type:"
-msgstr "??????:"
-
-msgid "Quantization used between P- and B- frames"
-msgstr "P- ?B- ???????????????"
-
-msgid "Quantize blur"
-msgstr "??????"
-
-msgid "Quantize compression"
-msgstr "?????"
-
-msgid "Quantizer"
-msgstr "????"
-
-msgid "Quantizer (0-51):"
-msgstr "???? (0-51):"
-
-msgid "Quantizer Compression"
-msgstr "?????"
-
-msgid "Quantizer restrictions"
-msgstr "???????"
-
-msgid "Quantizer:"
-msgstr "????:"
-
-msgid "Quarter Pixel"
-msgstr "1/4 ????"
-
-msgid "Quarter Pixel:"
-msgstr "1/4 ????:"
-
-msgid "Range"
-msgstr "??"
-
-msgid "Rate Control"
-msgstr "?????"
-
-msgid "Rate distortion"
-msgstr "??????"
-
-msgid "Rate distortion quantization, will find optimal encoding for each block"
-msgstr "??????????????????????????????"
-
-msgid "Ratecontrol"
-msgstr "?????"
-
-msgid "Reduce fluctuations in QP (after curve compression)"
-msgstr "(???????)QP????????"
-
-msgid "Reduced fluctuations in Quantizer (before curve compression)"
-msgstr "(???????)????????????"
-
-msgid ""
-"Reduction of bitrate for the first consecutive I-frames. The last I-frame "
-"will get treated normally"
-msgstr ""
-"?????I-?????????????. ???I-????????????"
-
-msgid "Remove filter"
-msgstr "?????????"
-
-msgid "Replace (interpolate)"
-msgstr "??(??)"
-
-msgid "Resample to hz"
-msgstr "???????hz"
-
-msgid "Reset"
-msgstr "????"
-
-msgid "Resize"
-msgstr "????"
-
-msgid "Resume"
-msgstr "??"
-
-msgid "Retry"
-msgstr "???"
-
-msgid "Reuse log file ?"
-msgstr "?????????????? ?"
-
-msgid "Right:"
-msgstr "?:"
-
-msgid "Run Job"
-msgstr "??????"
-
-msgid "Run all jobs"
-msgstr "???????"
-
-msgid "SVCD resolution [Ctrl-3]"
-msgstr "SVCD ??? [Ctrl-3]"
-
-msgid "S_ave..."
-msgstr "??(_A)"
-
-msgid "S_patial chroma strength:"
-msgstr "????????(_P):"
-
-msgid "Same Qz as input"
-msgstr "????????"
-
-msgid "Sample A/R "
-msgstr "???? A/R"
-
-msgid "Save Job"
-msgstr "??????"
-
-msgid "Save P_roject As..."
-msgstr "???????????????(_R)"
-
-msgid "Save _BMP Image..."
-msgstr "BMP?????(_B)"
-
-msgid "Save _JPEG Image..."
-msgstr "JPEG?????(_J)"
-
-msgid "Save _Project"
-msgstr "?????????(_P)"
-
-msgid "Save _Selection as JPEG images..."
-msgstr "???JPEG???????(_S)"
-
-msgid "Save _Video..."
-msgstr "?????(_V)"
-
-msgid "Save as script [Ctrl-J]"
-msgstr "?????????? [Ctrl-J]"
-
-msgid "Save filter list [Ctrl-S]"
-msgstr "?????????? [Ctrl-S]"
-
-msgid "Save the file"
-msgstr "?????????"
-
-msgid "Saving failed"
-msgstr "?????"
-
-msgid "Scene Cut Threshold"
-msgstr "????????"
-
-msgid "Scene change detect"
-msgstr "???????"
-
-msgid "Second Pass"
-msgstr "??????"
-
-msgid "Second track loaded"
-msgstr "?????????????"
-
-msgid "See Hex"
-msgstr "16??????"
-
-msgid "Seeking"
-msgstr "????"
-
-msgid "Select"
-msgstr "??"
-
-msgid "Select  file to save "
-msgstr "???????????"
-
-msgid "Select .idx"
-msgstr ".idx???"
-
-msgid "Select .idx file"
-msgstr ".idx???????"
-
-msgid "Select 1-pass or 2-pass encoding"
-msgstr "1-???2-???????????"
-
-msgid "Select AC3 to load "
-msgstr "???AC3???"
-
-msgid "Select AVI file to append..."
-msgstr "????AVI???????..."
-
-msgid "Select AVI file..."
-msgstr "AVI???????..."
-
-msgid "Select Avi file to write"
-msgstr "???AVI???????"
-
-msgid "Select BMP to save "
-msgstr "????BMP???"
-
-msgid "Select Color"
-msgstr "????"
-
-msgid "Select Custom Matrix File to write"
-msgstr "????????????????????"
-
-msgid "Select Jpeg sequence to save "
-msgstr "????JPEG?????"
-
-msgid "Select Jpeg to save "
-msgstr "????JPEG???"
-
-msgid "Select Language :"
-msgstr "???? :"
-
-msgid "Select MP3 to load "
-msgstr "???MP3???"
-
-msgid "Select OGM file to write"
-msgstr "???OGM???????"
-
-msgid "Select SRT to save"
-msgstr "????SRT???"
-
-msgid "Select Sub"
-msgstr "?????"
-
-msgid "Select Vob file to scan"
-msgstr "??????Vob???????"
-
-msgid "Select WAV to load "
-msgstr "???WAV???"
-
-msgid "Select Xvid matrix file to load"
-msgstr "???Xvid?????????????"
-
-msgid "Select background picture"
-msgstr "???????"
-
-msgid "Select color"
-msgstr "???"
-
-msgid "Select ecmascript to run "
-msgstr "????ECMA????????"
-
-msgid "Select file to save"
-msgstr "???????????"
-
-msgid "Select file to save audio"
-msgstr "??????????????"
-
-msgid "Select ifo file to use"
-msgstr "??ifo???????"
-
-msgid "Select postprocessing level"
-msgstr "?????????"
-
-msgid "Select raw file to save "
-msgstr "????raw???????"
-
-msgid "Select the output file"
-msgstr "?????????"
-
-msgid "Select vobsub to write"
-msgstr "???VobSub???"
-
-msgid "Select workbench to save "
-msgstr "????workbench??"
-
-msgid "Selection: end"
-msgstr "??: ??"
-
-msgid "Selection: start"
-msgstr "??: ??"
-
-msgid "Sensibility"
-msgstr "??"
-
-msgid "Separate"
-msgstr "??"
-
-msgid "Set Marker _A"
-msgstr "????A???(_A)"
-
-msgid "Set Marker _B"
-msgstr "????B???(_B)"
-
-msgid "Set a common predefined aspect ratio"
-msgstr "???????????????????"
-
-msgid "Set a custom aspect ratio. Default 1:1 is recommended for most video."
-msgstr "???????????????. ?????1:1????????????"
-
-msgid ""
-"Set how many previous frames can be referenced by a P/B-frame. Numbers above "
-"5 do not seem to improve quality greatly. Numbers are 3 to 5 are recommended"
-msgstr ""
-"????????????P/B-?????????????. 5??????????"
-"?????????. 3??5?????"
-
-msgid "Set how much \"bitrate bonus\" a keyframe can get"
-msgstr "??????????????? \"??????????\" ???????"
-
-msgid ""
-"Set how much bitrate is deducted from a B-frame as compared to the previous "
-"P-frame"
-msgstr ""
-"?P-?????????B-????????????????????????"
-
-msgid ""
-"Set maximum frame interval between IDR frames. Defines the maximum amount a "
-"frame can be reused and referenced by other frames before a new clean one is "
-"established"
-msgstr ""
-"IDR???????????????????. ?????????????????"
-"?????????????????????????????????????"
-
-msgid ""
-"Set minimum frame interval between IDR frames. Defines the minimum amount a "
-"frame can be reused and referenced by other frames before a new clean one is "
-"established"
-msgstr ""
-"IDR???????????????????. ?????????????????"
-"?????????????????????????????????????"
-
-msgid "Set the amount of blurring to use for block edges when they are found"
-msgstr ""
-"??????????????????????????????????????"
-
-msgid "Set the amount of noise reduction"
-msgstr "???????????????"
-
-msgid ""
-"Set the maximum number of consecutive B-frames. This defines how many "
-"duplicate frames can be droped. Numbers 2 to 5 are recommended. This greatly "
-"improves the use of bitrate and quality"
-msgstr ""
-"??B-?????????????????. ?????????????????"
-"??. 2??5?????. ?????????????????????"
-
-msgid "Sharp :"
-msgstr "???? :"
-
-msgid "Sharpness"
-msgstr "?????"
-
-msgid "Shift (ms) :"
-msgstr "?? (ms) :"
-
-msgid "Shift:"
-msgstr "??:"
-
-msgid "Show _Joblist"
-msgstr "????????(_J)"
-
-msgid "Show _frame"
-msgstr "???????(_F)"
-
-msgid "Show _mask"
-msgstr "??????(_M)"
-
-msgid "Show builtin support"
-msgstr "?????????"
-
-msgid "Show info"
-msgstr "?????"
-
-msgid "Show interlaced areas (for test!)"
-msgstr "???????????(????!)"
-
-msgid "Show metric in image (debug)"
-msgstr "????????????(?????)"
-
-msgid "Show motion Vectors"
-msgstr "?????????"
-
-msgid "Shrink factor"
-msgstr "???"
-
-msgid "Side"
-msgstr "???"
-
-msgid "Single Pass - Bitrate"
-msgstr "1-?? - ??????"
-
-msgid "Single Pass - Bitrate (Average)"
-msgstr "1-?? - ?????? (??)"
-
-msgid "Single Pass - Quality Quantizer (Average)"
-msgstr "1-?? - ?????? (??)"
-
-msgid "Single Pass - Quality Quantizer (Constant)"
-msgstr "1-?? - ?????? (??)"
-
-msgid "Single Pass - Quantizer"
-msgstr "1-?? - ????"
-
-msgid "Single pass - bitrate"
-msgstr "1-?? - ??????"
-
-msgid "Single pass - quantizer"
-msgstr "1-?? - ????"
-
-msgid "Single pass:Quantizer"
-msgstr "1-??: ????"
-
-msgid "Size mismatch"
-msgstr "?????????"
-
-msgid "Skip Glyph"
-msgstr "Glyph?????"
-
-msgid "Skip all"
-msgstr "???????"
-
-msgid "Skip spatial temporal check"
-msgstr "??-???????????"
-
-msgid "Slow (full luma and chroma)"
-msgstr "??(???????)"
-
-msgid "Slow iterative motion search"
-msgstr "??, ???????"
-
-msgid "Smaller means more deinterlacing"
-msgstr "???????????????????????"
-
-msgid "Something failed"
-msgstr "?????????"
-
-msgid "Source :"
-msgstr "??? :"
-
-msgid "Source aspect ratio"
-msgstr "??????????"
-
-msgid "Spatial"
-msgstr "???"
-
-msgid "Split every MBytes"
-msgstr "MBytes????"
-
-msgid "Split mpegs every (MB)"
-msgstr "MPEG??? (MB)"
-
-msgid "Standard"
-msgstr "??"
-
-msgid "Start frame for partial :"
-msgstr "?????????????? :"
-
-msgid "Start frame for this vignette."
-msgstr "?????????????????"
-
-msgid "StartOcr"
-msgstr "OCR??"
-
-msgid "Started at"
-msgstr "???"
-
-msgid "Stereo"
-msgstr "????"
-
-msgid "Stereo Front+Stero Rear"
-msgstr "???? ????+???? ??"
-
-msgid "Stereo+Center"
-msgstr "????+???"
-
-msgid "Stereo+Center+Surround"
-msgstr "????+???+?????"
-
-msgid "Stereo+Surround"
-msgstr "????+?????"
-
-msgid "Stop"
-msgstr "??"
-
-msgid "Strategy"
-msgstr "?????"
-
-msgid "Strength :"
-msgstr "?? :"
-
-msgid "Strength:"
-msgstr "??:"
-
-msgid "Subtitle file "
-msgstr "??????"
-
-msgid "Subtitle selector"
-msgstr "??????"
-
-msgid "Subtitle to load"
-msgstr "?????"
-
-msgid "Subtitles"
-msgstr "??"
-
-msgid "Sure ?"
-msgstr "???"
-
-msgid "Sure you want to abort ?"
-msgstr "????????? ?"
-
-msgid "Sure!"
-msgstr "??!"
-
-msgid "Swap U & V"
-msgstr "U?V???"
-
-msgid "Swap U&V"
-msgstr "U?V???"
-
-msgid "Swap UV"
-msgstr "UV?????"
-
-msgid "TTF font to use"
-msgstr "????TTF????"
-
-msgid "T_woway"
-msgstr "???(_W)"
-
-msgid "Target Bitrate (kb/s)   "
-msgstr "???????? (kb/s)"
-
-msgid "Target Size:"
-msgstr "?????:"
-
-msgid "Target type"
-msgstr "?????"
-
-msgid "Target video bitrate"
-msgstr "??????????"
-
-msgid "Temp. Blur of Quant after CC"
-msgstr "CC???????????"
-
-msgid "Temp. Blur of est Frame Complexity"
-msgstr "?????????????????"
-
-msgid "Temporal"
-msgstr "???"
-
-msgid "Temporal & Spatial check"
-msgstr "?????????"
-
-msgid ""
-"The beginning frame is not a key frame.\n"
-"Please move the A marker."
-msgstr ""
-"??????????????????????.\n"
-"????A????????."
-
-msgid "The custom matrix file has been successfully loaded."
-msgstr "????????????????????????"
-
-msgid ""
-"The file you just loaded contains several audio tracks.\n"
-"Go to Audio->MainTrack to select the active one."
-msgstr ""
-"???????????????????????????.\n"
-"??->????? ???????????????????."
-
-msgid ""
-"The higher this value, the more bits get assigned to frames below the "
-"average frame size"
-msgstr ""
-"?????????????????????????????????????"
-
-msgid ""
-"The higher this value, the more bits get taken from frames larger than the "
-"average size, and redistributed to others"
-msgstr ""
-"??????????????????????????????????????"
-"??????????"
-
-msgid ""
-"The number of channels is greater than what the selected audio codec can "
-"do.\n"
-"Either change codec or use the mixer filter to have less channels."
-msgstr ""
-"????????????????????????????.\n"
-"??????????????????????????????????????"
-"??."
-
-msgid "There is no audio track"
-msgstr "????????????"
-
-msgid "There is no jobs stored, nothing to do"
-msgstr "????????????????"
-
-msgid "There is no second track"
-msgstr "????????????"
-
-msgid "There is several mpeg file, append them ?"
-msgstr "???mpeg?????????. ????????? ?"
-
-msgid "This is not MPEG compatible"
-msgstr "???MPEG?????????"
-
-msgid ""
-"This looks like mpeg\n"
-" Do you want to index it?"
-msgstr ""
-"??? mpeg ?????\n"
-" ???????????????? ?"
-
-msgid "Threshold"
-msgstr "??"
-
-msgid "Threshold 1"
-msgstr "?? 1"
-
-msgid "Threshold 2"
-msgstr "?? 2"
-
-msgid "Threshold :"
-msgstr "?? :"
-
-msgid "Time left :"
-msgstr "???? :"
-
-msgid "Time: "
-msgstr "??:"
-
-msgid "Timecode :"
-msgstr "?????? :"
-
-msgid "Timeshift"
-msgstr "????"
-
-msgid "Top"
-msgstr "???"
-
-msgid "Top Field First"
-msgstr "??????????"
-
-msgid "Top Field first"
-msgstr "??????????"
-
-msgid "Top field (keep bottom)"
-msgstr "????????(??????)"
-
-msgid "Top:"
-msgstr "?:"
-
-msgid "Total Duration:"
-msgstr "????:"
-
-msgid "Total size"
-msgstr "?????"
-
-msgid "Total size (MB):"
-msgstr "????? (MB):"
-
-msgid "Total size (custom)"
-msgstr "?????(????)"
-
-msgid "Track _1:"
-msgstr "???? _1:"
-
-msgid "Track _2: "
-msgstr "???? _2: "
-
-msgid "Transform"
-msgstr "??"
-
-msgid "Try 'File' -> 'Load/Run Project...'"
-msgstr "'????' -> '??????????/??'?????????"
-
-msgid "Try backward"
-msgstr "??????"
-
-msgid "Turbo Mode"
-msgstr "??????"
-
-msgid "Two Pass (bitrate) "
-msgstr "2-?? (??????)"
-
-msgid "Two Pass (filesize) "
-msgstr "2-?? (???????)"
-
-msgid "Two Pass - Average bitrate"
-msgstr "2-?? - ????????"
-
-msgid "Two Pass - File Size"
-msgstr "2-?? - ???????"
-
-msgid "Two pass"
-msgstr "2-??"
-
-msgid "Two pass tuning"
-msgstr "2????"
-
-msgid "Two pass, average bitrate"
-msgstr "2-??, ????????"
-
-msgid "Two pass, final size"
-msgstr "2-??, ?????"
-
-msgid "Two pass-Avg bitrate"
-msgstr "2??-????????"
-
-msgid "Two pass-filesize"
-msgstr "2??-???????"
-
-msgid "Type"
-msgstr "???"
-
-msgid "Type :"
-msgstr "??? :"
-
-msgid "U Shift :"
-msgstr "U ???:"
-
-msgid "UV to Y link"
-msgstr "UV?Y????"
-
-msgid "Uncheck to enable fast p-skip"
-msgstr "??????????P-??????????"
-
-msgid "Uneven multi hexagon"
-msgstr "????????"
-
-msgid "Unknown flag :"
-msgstr "????? :"
-
-msgid "Unsupported"
-msgstr "?????"
-
-msgid "Use 4 motion vectors per macroblock, might give better compression"
-msgstr "??????????4?????????????????????"
-
-msgid "Use Chroma to decide"
-msgstr "????????"
-
-msgid "Use Chroma to evalute"
-msgstr "????????"
-
-msgid "Use Quarter pixel resolution for a more precise motion estimation"
-msgstr "??????????1/4 ??????????"
-
-msgid "Use Xvid Rate Control"
-msgstr "Xvid????????"
-
-msgid "Use Xvid ratecontrol"
-msgstr "Xvid????????"
-
-msgid "Use also chroma to detect scene change"
-msgstr "?????????????????"
-
-msgid "Use alternative tag for mp3 in .mp4"
-msgstr ".mp4?mp3????????"
-
-msgid "Use as reference"
-msgstr "???????"
-
-msgid "Use chroma information to estimate motion"
-msgstr "????????????"
-
-msgid ""
-"Use fewer B-frame if needed. This is always recommended. If not enabled, the "
-"codec will always use the maximum number of consecutive B-frames"
-msgstr ""
-"?????????B-???????. ???????????. ????????"
-"?????????????B-????????????"
-
-msgid "Use lavcodec mpeg2 decoder"
-msgstr "lavcodec MPEG2 ???????"
-
-msgid "Use linear blend ?"
-msgstr "????????????? ?"
-
-msgid ""
-"Use rate distortion quantization to find optimal encoding for each block. "
-"Level 0 equals disabled, level 1 equals normal and level 2 equals high"
-msgstr ""
-"????????????????????????????. ???0??????"
-"??1????????2?????????"
-
-msgid "Use systray while encoding"
-msgstr "????????????????"
-
-msgid "Use that mode"
-msgstr "????????"
-
-msgid "User Interface"
-msgstr "??????????"
-
-msgid ""
-"Uses chroma (color) components for motion for compression and helps the "
-"quality"
-msgstr "?????(?)????????????????????"
-
-msgid "V Shift :"
-msgstr "V ???:"
-
-msgid "VBR (Quality based)"
-msgstr "VBR (??????)"
-
-msgid "VBV buffer size"
-msgstr "VBV???????"
-
-msgid "VCD resolution [Ctrl-4]"
-msgstr "VCD  ??? [Ctrl-4]"
-
-msgid "VHQ enables an additional search process to increase quality"
-msgstr "VHQ ???????????????????"
-
-msgid "VHQ mode:"
-msgstr "VHQ ???:"
-
-msgid "Variable Bitrate:"
-msgstr "????????:"
-
-msgid "Variable bitrate mode"
-msgstr "???????????"
-
-msgid "Vertical deblocking"
-msgstr "???????"
-
-msgid "Vi_deo"
-msgstr "??(_D)"
-
-msgid "Video"
-msgstr "??"
-
-msgid "Video Display"
-msgstr "????"
-
-msgid "Video Duration  "
-msgstr "????"
-
-msgid "Video Filter Manager"
-msgstr "?? ???? ?????"
-
-msgid "Video bitrate:"
-msgstr "????????:"
-
-msgid "Video encoder"
-msgstr "???????"
-
-msgid "Video filters"
-msgstr "??????"
-
-msgid "Video size (MB):"
-msgstr "????? (MB):"
-
-msgid "Video stream :"
-msgstr "??????? :"
-
-msgid "VideoCodec"
-msgstr "???????"
-
-msgid "Vignette Height"
-msgstr "??????"
-
-msgid "Vignette Width"
-msgstr "?????"
-
-msgid "Vob to Vobsub"
-msgstr "Vob?VobSub?"
-
-msgid "VobSub Settings"
-msgstr "VobSub???"
-
-msgid "Volume control"
-msgstr "????"
-
-msgid "Weighted biprediction"
-msgstr "???????"
-
-msgid "Width and height cannot be 0"
-msgstr "????? 0 ???????"
-
-msgid "Width and height cannot be odd"
-msgstr "????? ?????????"
-
-msgid ""
-"Width is not a multiple of 8\n"
-" continue anyway ?"
-msgstr ""
-"??8??????????\n"
-" ????????? ?"
-
-msgid "Wrong output format"
-msgstr "???????"
-
-msgid "Wrong video codec"
-msgstr "??????????"
-
-msgid "X264 configuration"
-msgstr "X264 ??"
-
-msgid "XVCD encoding"
-msgstr "XVCD ?????"
-
-msgid "XviD encoding options"
-msgstr "XviD??????????"
-
-msgid "Y to UV link"
-msgstr "Y?UV????"
-
-msgid "Yes"
-msgstr "??"
-
-msgid "You should use Tool->Rebuild frame. Do it now ?"
-msgstr "???->???????? ???????. ??????? ?"
-
-msgid "Z_oom 1:2"
-msgstr "??? 1:2 (_O)"
-
-msgid "Zoom _1:1"
-msgstr "??? 1:1 (_1)"
-
-msgid "Zoom _2:1"
-msgstr "??? 2:1 (_2)"
-
-msgid "Zoom _4:1"
-msgstr "??? 4:1 (_4)"
-
-msgid "_A/V Sidebar"
-msgstr "A/V??????(_A)"
-
-msgid "_About"
-msgstr "Avidemux????(_A)"
-
-msgid "_Append..."
-msgstr "??(_A)"
-
-msgid "_Aspect ratio"
-msgstr "??????(_A)"
-
-msgid "_Audio"
-msgstr "??(_A)"
-
-msgid "_Autolevel"
-msgstr "?????(_A)"
-
-msgid "_Bitrate Histogram"
-msgstr "?????? ??????(_B)"
-
-msgid "_Blue:"
-msgstr "?(_B):"
-
-msgid "_Bottom margin"
-msgstr "???(_B)"
-
-msgid "_Browse..."
-msgstr "??(_B)"
-
-msgid "_Build VBR Time Map"
-msgstr "VBR?????????(_B)"
-
-msgid "_Calculator"
-msgstr "??(_C)"
-
-msgid "_Contrast:"
-msgstr "??????(_C):"
-
-msgid "_Copy"
-msgstr "???(_C)"
-
-msgid "_Custom Matrix"
-msgstr "??????????(_C)"
-
-msgid "_Custom size (MB):"
-msgstr "???????(_C) (MB):"
-
-msgid "_Decoder Options"
-msgstr "?????????(_D)"
-
-msgid "_Deinterlacing:"
-msgstr "???????(_D):"
-
-msgid "_Delete"
-msgstr "??(_D)"
-
-msgid "_Deringing"
-msgstr "????(_D)"
-
-msgid "_Edit"
-msgstr "??(_E)"
-
-msgid "_Encoder"
-msgstr "?????(_E)"
-
-msgid "_End frame:"
-msgstr "??????(_E):"
-
-msgid "_Extra"
-msgstr "??(_E)"
-
-msgid "_Fade type:"
-msgstr "???????(_F):"
-
-msgid "_Field dominance:"
-msgstr "???????(_F):"
-
-msgid "_Field order:"
-msgstr "?????????(_F):"
-
-msgid "_File"
-msgstr "????(_F)"
-
-msgid "_Filter strength:"
-msgstr "???????(_F):"
-
-msgid "_Filters"
-msgstr "????(_F)"
-
-msgid "_First Frame"
-msgstr "???????(_F)"
-
-msgid "_Font scale"
-msgstr "????????(_F)"
-
-msgid "_Format:"
-msgstr "??(_F):"
-
-msgid "_Frame Rate"
-msgstr "???????(_F)"
-
-msgid "_Go"
-msgstr "??(_G)"
-
-msgid "_Green:"
-msgstr "?(_G):"
-
-msgid "_Greyscale"
-msgstr "???????(_G)"
-
-msgid "_Help"
-msgstr "???(_H)"
-
-msgid "_High quality"
-msgstr "???(_H)"
-
-msgid "_Horizontal deblocking"
-msgstr "???????(_H)"
-
-msgid "_Horizontal stacking:"
-msgstr "??????(_H):"
-
-msgid "_Identical:"
-msgstr "??(_I):"
-
-msgid "_Initial:"
-msgstr "??(_I):"
-
-msgid "_Interlaced"
-msgstr "??????(_I)"
-
-msgid "_Job name:"
-msgstr "????(_J)"
-
-msgid "_Jump to Frame..."
-msgstr "???????(_J)"
-
-msgid "_Last Frame"
-msgstr "???????(_L)"
-
-msgid "_Line spacing"
-msgstr "???????(_L)"
-
-msgid "_Load/Run Project..."
-msgstr "??????????/??(_L)"
-
-msgid "_Luma lock:"
-msgstr "?????(_L):"
-
-msgid "_Main Toolbar"
-msgstr "??????(_M)"
-
-msgid "_Main Track"
-msgstr "?????(_M)"
-
-msgid "_Map"
-msgstr "???(_M)"
-
-msgid "_Mask"
-msgstr "??? (_M)"
-
-msgid "_Medium:"
-msgstr "????(_M):"
-
-msgid "_Mode:"
-msgstr "???(_M):"
-
-msgid "_Next Frame"
-msgstr "??????(_N)"
-
-msgid "_Noise:"
-msgstr "???(_N):"
-
-msgid "_Open..."
-msgstr "??(_O)"
-
-msgid "_Paste"
-msgstr "????(_P)"
-
-msgid "_Play/Stop"
-msgstr "??/??(_P)"
-
-msgid "_Postprocessing"
-msgstr "???(_P)"
-
-msgid "_Preview"
-msgstr "?????(_P)"
-
-msgid "_Quantizer:"
-msgstr "????(_Q):"
-
-msgid "_Quit"
-msgstr "??(_Q)"
-
-msgid "_Rebuild Frames (I & B)"
-msgstr "????(I?B)????(_R)"
-
-msgid "_Red:"
-msgstr "?(_R):"
-
-msgid "_Reset Edits"
-msgstr "???????(_R)"
-
-msgid "_Saturation:"
-msgstr "???(_S):"
-
-msgid "_Save"
-msgstr "??(_S)"
-
-msgid "_Scan for Black Frames..."
-msgstr "??????????(_S)"
-
-msgid "_Scene change:"
-msgstr "?????(_S):"
-
-msgid "_Second Track"
-msgstr "??????(_S)"
-
-msgid "_Sharp"
-msgstr "????(_S)"
-
-msgid "_Sharper engine:"
-msgstr "?????????????"
-
-msgid "_Show metrics"
-msgstr "??????(_S)"
-
-msgid "_Shrink factor:"
-msgstr "???(_S):"
-
-msgid "_Spatial luma strength:"
-msgstr "????????(_S):"
-
-msgid "_Start frame:"
-msgstr "??????(_S):"
-
-msgid "_Strength:"
-msgstr "??(_S):"
-
-msgid "_Subtitle file (ass/ssa)"
-msgstr "??????(_S) (ass/ssa)"
-
-msgid "_Temporal strength:"
-msgstr "?????(_T):"
-
-msgid "_Threshold:"
-msgstr "??(_T):"
-
-msgid "_Tools"
-msgstr "???(_T)"
-
-msgid "_Top margin"
-msgstr "???(_T)"
-
-msgid "_Trellis quantization"
-msgstr "_Trellis ???"
-
-msgid "_Vertical deblocking"
-msgstr "???????(_V)"
-
-msgid "_Vertical stacking:"
-msgstr "??????(_V):"
-
-msgid "_View"
-msgstr "??(_V)"
-
-msgid "_Weight:"
-msgstr "??(_W):"
-
-msgid "_Zoom 1:4"
-msgstr "??? 1:4 (_Z)"
-
-msgid "font"
-msgstr "????"
-
-msgid "identical"
-msgstr "??"
-
-msgid "label5"
-msgstr "???5"
-
-msgid "label6"
-msgstr "???6"
-
-msgid "label7"
-msgstr "???7"
-
-msgid "motion Threshold, Chroma"
-msgstr "????, ??"
-
-msgid "motion Threshold, Luma"
-msgstr "????, ??"
-
-msgid "noise"
-msgstr "???"
-
-msgid "show"
-msgstr "??"
-
-msgid "threshold"
-msgstr "??"
-
-msgid "translator-credits"
-msgstr "tetsuro"
+msgid ""
+msgstr ""
+"Project-Id-Version: ja\n"
+"POT-Creation-Date: 2007-03-24 15:57+0100\n"
+"PO-Revision-Date: 2007-05-10 17:45+0900\n"
+"Last-Translator: tetsuro\n"
+"Language-Team: Japan\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=utf-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"X-Poedit-Language: Japanese\n"
+"X-Poedit-Country: JAPAN\n"
+"X-Poedit-SourceCharset: utf-8\n"
+
+msgid ""
+"\n"
+" Reuse the existing log-file ?"
+msgstr ""
+"\n"
+" ????????????????? ?"
+
+msgid " "
+msgstr "?"
+
+msgid "  "
+msgstr "??"
+
+msgid "  Job Name  "
+msgstr "  ????  "
+
+msgid " 0000000"
+msgstr " 0000000"
+
+msgid " Error X:"
+msgstr " ?? X:"
+
+msgid " Error Y:"
+msgstr " ?? Y:"
+
+msgid " Height "
+msgstr "??"
+
+msgid " No"
+msgstr "????"
+
+msgid " Text:"
+msgstr "????:"
+
+msgid " Width "
+msgstr "?"
+
+msgid " Yes"
+msgstr "???"
+
+msgid "\"%s\" does not exist."
+msgstr "\"%s\" ??????."
+
+msgid "# of Glyphs :"
+msgstr "?????:"
+
+msgid "# of frames"
+msgstr "?????"
+
+msgid "# of lines"
+msgstr "??"
+
+msgid "-/-"
+msgstr "-/-"
+
+msgid "...are reduced by (%):"
+msgstr "...? (%) ?????:"
+
+msgid "/0000000"
+msgstr "/0000000"
+
+msgid "/00:00:00,000"
+msgstr "/00:00:00,000"
+
+msgid "/dev/null"
+msgstr "NUL"
+
+msgid "0 (read manual)"
+msgstr "0 (???????)"
+
+msgid "0 - None"
+msgstr "0 - ??"
+
+msgid "0 - Off"
+msgstr "0 - ??"
+
+msgid ""
+"0 = default from core (let XviD decide), else overflow payback percent per "
+"frame"
+msgstr ""
+"0 = ??????????(XviD??????)???? = ???????????"
+"?????????"
+
+msgid "00:00:00.000"
+msgstr "00:00:00.000"
+
+msgid "0:0:0"
+msgstr "0:0:0"
+
+msgid "1"
+msgstr "1"
+
+msgid "1  - Extremely Low (Fastest)"
+msgstr "1  - ????? (??)"
+
+msgid "1 (read manual)"
+msgstr "1 (???????)"
+
+msgid "1 - Mode decision"
+msgstr "1 - ?????"
+
+msgid "1 - Very low"
+msgstr "1 - ?????"
+
+msgid "1- Very low"
+msgstr "1 - ?????"
+
+msgid "16 round up"
+msgstr "16????"
+
+msgid "180 degrees"
+msgstr "180 ?"
+
+msgid "1:1"
+msgstr "1:1"
+
+msgid "2  - Very Low"
+msgstr "2  - ?????"
+
+msgid "2 (read manual)"
+msgstr "2 (???????)"
+
+msgid "2 - Limited search"
+msgstr "2 - ????"
+
+msgid "2 - Low"
+msgstr "2 - ??"
+
+msgid "2- Low"
+msgstr "2 - ??"
+
+msgid "270 degrees"
+msgstr "270 ?"
+
+msgid "3  - Low"
+msgstr "3  - ??"
+
+msgid "3 - Medium"
+msgstr "3 - ????"
+
+msgid "3 - Medium search"
+msgstr "3 - ????"
+
+msgid "3- Medium"
+msgstr "3 - ????"
+
+msgid "3:2 Pulldown"
+msgstr "3:2 ?????"
+
+msgid "4  - Medium"
+msgstr "4  - ????"
+
+msgid "4 - High"
+msgstr "4 - ??"
+
+msgid "4 - Wide search"
+msgstr "4 - ?????"
+
+msgid "4 field check"
+msgstr "4?????????"
+
+msgid "4 field check (no average)"
+msgstr "4?????????(????)"
+
+msgid "4- High"
+msgstr "4 - ??"
+
+msgid "4x4 Intra search"
+msgstr "4x4 ??????"
+
+msgid "4x4, 4x8 and 8x4 P-frame search"
+msgstr "4x4, 4x8 ? 8x4 P-??????"
+
+msgid "5  - High (Default)"
+msgstr "5  - ?? (?????)"
+
+msgid "5 - Very high"
+msgstr "5 - ?????"
+
+msgid "5 channels"
+msgstr "5 ?????"
+
+msgid "5 field check"
+msgstr "5?????????"
+
+msgid "5 field check (no average)"
+msgstr "5?????????(????)"
+
+msgid "5- Very High"
+msgstr "5 - ?????"
+
+msgid "6  - Very High"
+msgstr "6  - ?????"
+
+msgid "6 - Ultra high"
+msgstr "6 - ??"
+
+msgid "6- Ultra High"
+msgstr "6 - ??"
+
+msgid "6B - Very High (RDO on Bframes)"
+msgstr "6B - ????? (RDO on Bframes)"
+
+msgid "7 - Ultra High"
+msgstr "7 - ???"
+
+msgid "7B - Ultra High (RDO on Bframes)"
+msgstr "7B - ??? (RDO on Bframes)"
+
+msgid "8x8 Intra search"
+msgstr "8x8 ??????"
+
+msgid "8x8 Transform"
+msgstr "8x8 ??"
+
+msgid "8x8, 8x16 and 16x8 B-frame search"
+msgstr "8x8, 8x16 ? 16x8 B-??????"
+
+msgid "8x8, 8x16 and 16x8 P-frame search"
+msgstr "8x8, 8x16 ? 16x8 P-??????"
+
+msgid "90 degrees"
+msgstr "90 ?"
+
+msgid ":"
+msgstr "?:"
+
+msgid "<b >Active Filters</b>"
+msgstr "<b >???????</b>"
+
+msgid "<b><big>Encoding files</big></b>"
+msgstr "<b><big>??????????????</big></b>"
+
+msgid "<b>Aspect Ratio</b>"
+msgstr "<b>??????</b>"
+
+msgid "<b>Aud Codec:</b>"
+msgstr "<b>???????:</b>"
+
+msgid "<b>Audio Bitrate</b>"
+msgstr "<b>????????</b>"
+
+msgid "<b>Audio Codec:</b>"
+msgstr "<b>???????:</b>"
+
+msgid "<b>Audio Size:</b>"
+msgstr "<b>?????:</b>"
+
+msgid "<b>Audio</b>"
+msgstr "<b>??</b>"
+
+msgid "<b>Available Filters</b>"
+msgstr "<b>?????????</b>"
+
+msgid "<b>Average Bitrate:</b>"
+msgstr "<b>????????:</b>"
+
+msgid "<b>B-Frames</b>"
+msgstr "<b>B-????</b>"
+
+msgid "<b>Bitmap</b>"
+msgstr "<b>??????</b>"
+
+msgid "<b>Bitrate :</b>"
+msgstr "<b>?????? :</b>"
+
+msgid "<b>Bitrate:</b>"
+msgstr "<b>??????:</b>"
+
+msgid "<b>Bitrate</b>"
+msgstr "<b>??????</b>"
+
+msgid "<b>Channel Mode:</b>"
+msgstr "<b>????????:</b>"
+
+msgid "<b>Color Correction Matrix</b>"
+msgstr "<b>?????????</b>"
+
+msgid "<b>Container:</b>"
+msgstr "<b>????:</b>"
+
+msgid "<b>Elapsed:</b>"
+msgstr "<b>????:</b>"
+
+msgid ""
+"<b>Encoding is paused.</b>\n"
+"\n"
+"You can either resume or Abort it."
+msgstr ""
+"<b>??????????.</b>\n"
+"\n"
+"????????????."
+
+msgid "<b>Encoding mode </b>"
+msgstr "<b>????? ??? </b>"
+
+msgid "<b>Extra Properties</b>"
+msgstr "<b>???????</b>"
+
+msgid "<b>Extra Video Properties</b>"
+msgstr "?????????"
+
+msgid "<b>Files</b>"
+msgstr "<b>????</b>"
+
+msgid "<b>Format</b>"
+msgstr "<b>??</b>"
+
+msgid "<b>Fps convert</b>"
+msgstr "<b>FPS ??</b>"
+
+msgid "<b>Frame:</b>"
+msgstr "<b>????:</b>"
+
+msgid "<b>Frames/sec:</b>"
+msgstr "<b>????/?:</b>"
+
+msgid "<b>Gain</b>"
+msgstr "<b>??</b>"
+
+msgid "<b>Gamma</b>"
+msgstr "<b>???</b>"
+
+msgid "<b>General</b>"
+msgstr "<b>??</b>"
+
+msgid "<b>Glyphs</b>"
+msgstr "<b>???</b>"
+
+msgid "<b>Hue:</b>"
+msgstr "<b>??:</b>"
+
+msgid "<b>Input file</b>"
+msgstr "<b>??????</b>"
+
+msgid "<b>Interlacing</b>"
+msgstr "<b>??????</b>"
+
+msgid "<b>Matrices</b>"
+msgstr "<b>??????</b>"
+
+msgid ""
+"<b>Matrix Warning :</b>\n"
+"all above values are normalized to 256!"
+msgstr ""
+"<b>???????? :</b>\n"
+"???????256????????!"
+
+msgid "<b>Misc. Options</b>"
+msgstr "<b>??, ?????</b>"
+
+msgid "<b>Misc</b>"
+msgstr "<b>??</b>"
+
+msgid "<b>Mixer</b>"
+msgstr "<b>????</b>"
+
+msgid "<b>Mode :</b>"
+msgstr "<b>??? :</b>"
+
+msgid "<b>Mode:</b>"
+msgstr "<b>???:</b>"
+
+msgid "<b>Mode</b>"
+msgstr "<b>???</b>"
+
+msgid "<b>More Rate Settings</b>"
+msgstr "<b>????????</b>"
+
+msgid "<b>Motion Estimation</b>"
+msgstr "<b>????</b>"
+
+msgid "<b>Partition Macroblocks</b>"
+msgstr "<b>?????????</b>"
+
+msgid "<b>Phase:</b>"
+msgstr "<b>????:</b>"
+
+msgid "<b>Phasis:</b>"
+msgstr "<b>????:</b>"
+
+msgid "<b>Preview</b>"
+msgstr "<b>?????</b>"
+
+msgid "<b>Processed Frames:</b>"
+msgstr "<b>???????:</b>"
+
+msgid "<b>Quality :</b>"
+msgstr "<b>?? :</b>"
+
+msgid "<b>Quality:</b>"
+msgstr "<b>??:</b>"
+
+msgid "<b>Quantiser:</b>"
+msgstr "<b>????:</b>"
+
+msgid "<b>Quantization Limits</b>"
+msgstr "<b>?????</b>"
+
+msgid "<b>Quantization Matrices</b>"
+msgstr "<b>?????????</b>"
+
+msgid "<b>Quantizer:</b>"
+msgstr "<b>????:</b>"
+
+msgid "<b>Quantizers</b>"
+msgstr "<b>????</b>"
+
+msgid "<b>RateControl</b>"
+msgstr "<b>?????</b>"
+
+msgid "<b>Resampling</b>"
+msgstr "<b>?????</b>"
+
+msgid "<b>Result</b>"
+msgstr "<b>??</b>"
+
+msgid "<b>Sample Aspect Ratio (A/R)</b>"
+msgstr "<b>?????????? (A/R)</b>"
+
+msgid "<b>Saturation:</b>"
+msgstr "<b>???:</b>"
+
+msgid "<b>Scene change Treshold</b>"
+msgstr "<b>???????</b>"
+
+msgid "<b>Selection</b>"
+msgstr "<b>??</b>"
+
+msgid "<b>Settings</b>"
+msgstr "<b>??</b>"
+
+msgid "<b>Stats</b>"
+msgstr "<b>?????</b>"
+
+msgid "<b>Target</b>"
+msgstr "<b>??</b>"
+
+msgid "<b>Time Remaining:</b>"
+msgstr "<b>????:</b>"
+
+msgid "<b>TimeCode</b>"
+msgstr "<b>??????</b>"
+
+msgid "<b>Total Frames:</b>"
+msgstr "<b>???????:</b>"
+
+msgid "<b>Total Size:</b>"
+msgstr "<b>?????:</b>"
+
+msgid "<b>Vid Bitrate:</b>"
+msgstr "<b>????????:</b>"
+
+msgid "<b>Vid codec:</b>"
+msgstr "<b>???????:</b>"
+
+msgid "<b>Video Buffer Verifier</b>"
+msgstr "<b>????????</b>"
+
+msgid "<b>Video Codec:</b>"
+msgstr "<b>???????:</b>"
+
+msgid "<b>Video Size:</b>"
+msgstr "<b>?????:</b>"
+
+msgid "<b>Video</b>"
+msgstr "<b>??</b>"
+
+msgid "<b>frame2</b>"
+msgstr "<b>????2</b>"
+
+msgid "<i>Strength</i>"
+msgstr "<i>??</i>"
+
+msgid "<i>Threshold</i>"
+msgstr "<i>??</i>"
+
+msgid "A value of 20 will give 20% more bits to every I-frame"
+msgstr "20????I-?????20%??????????"
+
+msgid "A:"
+msgstr "A?:"
+
+msgid "ALSA _device:"
+msgstr "ALSA ????(_D):"
+
+msgid "AP type"
+msgstr "AP???"
+
+msgid "ASharp by MarcFD"
+msgstr "MarcFD???ASharp"
+
+msgid "AVI Muxer Options"
+msgstr "AVI????????"
+
+msgid "AVI _Muxer Options"
+msgstr "AVI????????(_M)"
+
+msgid "AVI, dual audio"
+msgstr "AVI, 2??"
+
+msgid "A_dd to Joblist..."
+msgstr "?????????(_D)"
+
+msgid "A_uto"
+msgstr "??(_U)"
+
+msgid "Abort"
+msgstr "??"
+
+msgid "Abort Requested"
+msgstr "????????"
+
+msgid "Aborted"
+msgstr "??????"
+
+msgid "Aborting"
+msgstr "??"
+
+msgid "Aborting."
+msgstr "???????."
+
+msgid "Above Normal"
+msgstr "????"
+
+msgid "Above normal"
+msgstr "????"
+
+msgid "Accept non standard audio frequency for DVD"
+msgstr "DVD?????????????????"
+
+msgid "Accept non-standard audio frequency for DVD"
+msgstr "DVD?????????????????"
+
+msgid "Adaptative DCT"
+msgstr "???DCT"
+
+msgid "Add Video Filter"
+msgstr "?????????"
+
+msgid "Add selected filter to the Active Filters list"
+msgstr "????????????????????????"
+
+msgid "Advanced"
+msgstr "??"
+
+msgid "Advanced Simple Profile"
+msgstr "????????????"
+
+msgid "Alert"
+msgstr "??"
+
+msgid "All"
+msgstr "???"
+
+msgid ""
+"Allow B-frames to make references non-linearly to another B-frame (instead "
+"of creating a duplicate copy)"
+msgstr ""
+"(???????????)B-???????B-?????????????????"
+"??"
+
+msgid ""
+"Allowed variance of average bitrate. Lower values mean less variance. Higher "
+"values mean more variance."
+msgstr ""
+"???????????????. ??????????????????????"
+"??."
+
+msgid ""
+"Allowed variance of average quantizer or quality. Lower values mean less "
+"variance. Higher values mean more variance. Note that 0 means constant "
+"quality while 1 means constant fluctuation. Recommended 0.6."
+msgstr ""
+"??????????????????. ???????????????????"
+"?????. 0???????1?????????????????. 0.6???."
+
+msgid "Always"
+msgstr "??"
+
+msgid "An audio track is necessary to create such file"
+msgstr "????????????????????????"
+
+msgid "Angle"
+msgstr "??"
+
+msgid "Anim?"
+msgstr "Anime"
+
+msgid "Apply the current filter only to a part of the file"
+msgstr "??????????????????????"
+
+msgid "Are you sure ?"
+msgstr "???????"
+
+msgid "Are you sure you want to delete %s job ?"
+msgstr "??? %s ?????????? ?"
+
+msgid "Are you sure you want to delete all jobs ?"
+msgstr "?????????????? ?"
+
+msgid "Area Combing Threshold"
+msgstr "?????????"
+
+msgid "Artefact Protection threshold "
+msgstr "??????"
+
+msgid "As input"
+msgstr "?????"
+
+msgid "Ascii"
+msgstr "ASCII"
+
+msgid "Aspect Ratio"
+msgstr "??????"
+
+msgid "Aspect Ratio:"
+msgstr "??????:"
+
+msgid "Aspect _ratio:"
+msgstr "??????(_R):"
+
+msgid "At the moment, the DV codec only accepts 720*576 at 25"
+msgstr "??????DV??????720*576 at 25???????"
+
+msgid "Attempt to open %s failed!"
+msgstr "%s ????????????!"
+
+msgid "Audio"
+msgstr "??"
+
+msgid "Audio Encoder Settings"
+msgstr "?????????"
+
+msgid "Audio Processing"
+msgstr "????"
+
+msgid "Audio bitrate in kb/s for track 1 (0 for no audio)"
+msgstr "?????????????? kb/s (0?????)"
+
+msgid "Audio bitrate in kb/s for track 2 (optional)"
+msgstr "?????????????? kb/s (??)"
+
+msgid "Audio duration  "
+msgstr "????"
+
+msgid "Audio filters"
+msgstr "??????"
+
+msgid "Audio output"
+msgstr "????"
+
+msgid "Audio settings"
+msgstr "?????"
+
+msgid "Audio size (MB):"
+msgstr "????? (MB):"
+
+msgid "Audio source"
+msgstr "?????"
+
+msgid "Audio track is not suitable"
+msgstr "????????????????"
+
+msgid "Audio/video file information"
+msgstr "??/????????"
+
+msgid "Audio/video time shift (ms)"
+msgstr "??/?????? (ms)"
+
+msgid "AudioCodec"
+msgstr "???????"
+
+msgid "Auto"
+msgstr "??"
+
+msgid "Auto split"
+msgstr "????"
+
+msgid "AutoCrop"
+msgstr "??????"
+
+msgid "AutoGain"
+msgstr "????"
+
+msgid "AutoWhite"
+msgstr "??????"
+
+msgid "Automatic ( max is -3dB)"
+msgstr "?? (??? -3dB)"
+
+msgid "Automatically"
+msgstr "??"
+
+msgid "Automatically _build VBR map"
+msgstr "????VBR????????(_B)"
+
+msgid "Automatically _index MPEG files"
+msgstr "????MPEG????????????????(_I)"
+
+msgid "Automatically _rebuild index"
+msgstr "????????????????(_R)"
+
+msgid "Automatically _swap A and B if A>B"
+msgstr "A>B??????A?B?????(_S)"
+
+msgid "Automatically build VBR map"
+msgstr "????VBR????????"
+
+msgid "Automatically index mpeg files"
+msgstr "????MPEG????????????????"
+
+msgid "Automatically rebuild index"
+msgstr "????????????????"
+
+msgid "Automatically remove _packed bitstream"
+msgstr "?????????????????????(_P)"
+
+msgid "Automatically remove packed bitstream"
+msgstr "?????????????????????"
+
+msgid "Automatically swap A and B if A>B"
+msgstr "A > B ?????A?B?????"
+
+msgid "Automation"
+msgstr "???"
+
+msgid "Average Br (kb/s)"
+msgstr "????????(kb/s)"
+
+msgid "Average bitrate (kb/s):"
+msgstr "????????(kb/s):"
+
+msgid "Avi Muxer Option"
+msgstr "AVI????????"
+
+msgid "B Frames"
+msgstr "B-????"
+
+msgid "B-Frame Direct Mode:  "
+msgstr "B-?????????:"
+
+msgid "B-frame quantizer - Min:"
+msgstr "B-???????? - ??:"
+
+msgid "B-frame reduction (%)"
+msgstr "B-?????? (%)"
+
+msgid "B:"
+msgstr "B?:"
+
+msgid "BMP op failed"
+msgstr "BMP op ??"
+
+msgid "BackGround Image :"
+msgstr "???? :"
+
+msgid "Backward Threshold"
+msgstr "?????"
+
+msgid "Basic"
+msgstr "??"
+
+msgid "Below Normal"
+msgstr "????"
+
+msgid "Below normal"
+msgstr "????"
+
+msgid "Bias"
+msgstr "????"
+
+msgid "Bicubic"
+msgstr "Bicubic"
+
+msgid "Bidirectional ME"
+msgstr "???ME"
+
+msgid "Bilinear"
+msgstr "Bilinear"
+
+msgid "Bit_rate mode:"
+msgstr "?????????(_R):"
+
+msgid "Bitrate"
+msgstr "??????"
+
+msgid "Bitrate "
+msgstr "??????"
+
+msgid "Bitrate (kb/s)"
+msgstr "?????? (kb/s)"
+
+msgid "Bitrate (kb/s):"
+msgstr "?????? (kb/s):"
+
+msgid "Bitrate Calculator"
+msgstr "????????"
+
+msgid "Bitrate Histogram"
+msgstr "????????????"
+
+msgid "Bitrate Variance"
+msgstr "????????"
+
+msgid "Bitrate out of range"
+msgstr "??????????"
+
+msgid "Bitrate variability (%)"
+msgstr "????????? (%)"
+
+msgid "Bitrate/size calculator"
+msgstr "??????/?????"
+
+msgid "Bitrate:"
+msgstr "??????:"
+
+msgid "Bits per pixel:"
+msgstr "???/????:"
+
+msgid "Blend"
+msgstr "????"
+
+msgid "Block Adaptative :"
+msgstr "??????? :"
+
+msgid "Bob, Skip spatial temporal check"
+msgstr "Bob, ??-???????????"
+
+msgid "Bob, T+S check"
+msgstr "Bob, T+S????"
+
+msgid "Bottom"
+msgstr "???"
+
+msgid "Bottom Field First"
+msgstr "??????????"
+
+msgid "Bottom Field first"
+msgstr "??????????"
+
+msgid "Bottom field (keep top)"
+msgstr "????????(??????)"
+
+msgid "Bottom:"
+msgstr "?:"
+
+msgid "Brigh_tness:"
+msgstr "???(_T):"
+
+msgid "Brightness"
+msgstr "???"
+
+msgid "Buffer Size"
+msgstr "???????"
+
+msgid "Build Time Map"
+msgstr "???????????"
+
+msgid "Build VBR time map?"
+msgstr "VBR ???????????????"
+
+msgid "CABAC"
+msgstr "CABAC"
+
+msgid "CBR (bitrate based)"
+msgstr "CBR (??????????)"
+
+msgid "C_hannel mode:"
+msgstr "????????(_H):"
+
+msgid "C_heck Frames (slow)"
+msgstr "?????? (??)"
+
+msgid "C_hroma lock:"
+msgstr "?????(_H):"
+
+msgid "C_hroma motion"
+msgstr "????(_H)"
+
+msgid "C_hroma optimizer"
+msgstr "?????(_H)"
+
+msgid "C_hroma threshold:"
+msgstr "????(_H)?:"
+
+msgid "C_onfigure"
+msgstr "??(_O)"
+
+msgid "Ca_rtoon mode"
+msgstr "?????(_R)"
+
+msgid "Calculate referencing individually based on each partition"
+msgstr "??????????????????"
+
+msgid "Calculator"
+msgstr "??"
+
+msgid "Calibrate"
+msgstr "??"
+
+msgid "Can't determine aspect ratio"
+msgstr "??????????????"
+
+msgid "Cannot copy."
+msgstr "????????."
+
+msgid "Cannot create the .avidemux directory"
+msgstr ".avidemux ????????????."
+
+msgid "Cannot decode frame"
+msgstr "??????????????"
+
+msgid "Cannot decode keyframe."
+msgstr "????????????????"
+
+msgid "Cannot decode next frame."
+msgstr "????????????????"
+
+msgid "Cannot decode the frame."
+msgstr "??????????????"
+
+msgid "Cannot decompress audio frame"
+msgstr "??????????????"
+
+msgid "Cannot decompress the audio stream"
+msgstr "???????????????"
+
+msgid "Cannot delete the selection."
+msgstr "??????????."
+
+msgid "Cannot encode the frame"
+msgstr "???????????????"
+
+msgid "Cannot get this frame to save"
+msgstr "???????????????"
+
+msgid "Cannot identify subtitle format"
+msgstr "????????????"
+
+msgid "Cannot initialize the audio stream"
+msgstr "????????????????"
+
+msgid "Cannot initialize the video stream"
+msgstr "????????????????"
+
+msgid "Cannot initiate save"
+msgstr "??????????"
+
+msgid "Cannot load"
+msgstr "??????"
+
+msgid "Cannot open \"%s\" for writing."
+msgstr "????? \"%s\" ??????."
+
+msgid "Cannot open \"%s\"."
+msgstr "\"%s\" ??????."
+
+msgid "Cannot open AMR codec."
+msgstr "AMR???????????."
+
+msgid "Cannot open WMA2 codec."
+msgstr "WMA2???????????."
+
+msgid "Cannot open directory as a file"
+msgstr "?????????????????"
+
+msgid "Cannot open project using the video loader."
+msgstr "????????????????????????."
+
+msgid "Cannot save the audio in copy mode"
+msgstr "?????????????????"
+
+msgid "Cannot select mpeg4 sp codec."
+msgstr "MPEG4 sp ?????????????."
+
+msgid "Cannot write .idx"
+msgstr ".idx???????"
+
+msgid "Cannot write .sub"
+msgstr ".sub???????"
+
+msgid "Cannot write the file"
+msgstr "???????????"
+
+msgid "Ch_roma threshold:"
+msgstr "????(_H):"
+
+msgid "Channel Mode"
+msgstr "????????"
+
+msgid "Channels  "
+msgstr "?????"
+
+msgid "Channels:"
+msgstr "?????:"
+
+msgid "Chapter 1"
+msgstr "?????1"
+
+msgid "Chapter 2"
+msgstr "?????2"
+
+msgid "Chapter 3"
+msgstr "?????3"
+
+msgid "Chapter 4"
+msgstr "?????4"
+
+msgid "Chapter 5"
+msgstr "?????5"
+
+msgid "Chapter 6"
+msgstr "?????6"
+
+msgid "Chroma"
+msgstr "??"
+
+msgid "Chroma ME"
+msgstr "?? ME"
+
+msgid "Chroma Noise Reduction 2"
+msgstr "??????? 2"
+
+msgid "Chroma QP Offset"
+msgstr "??QP?????"
+
+msgid "Chroma Temporal Threshold"
+msgstr "???????"
+
+msgid "Chroma U"
+msgstr "?? U"
+
+msgid "Chroma U :"
+msgstr "?? U :"
+
+msgid "Chroma V"
+msgstr "?? V"
+
+msgid "Chroma V :"
+msgstr "?? V :"
+
+msgid "Chrominance:"
+msgstr "??:"
+
+msgid "Co_nnect to avsproxy"
+msgstr "avsproxy???(_N)"
+
+msgid "Codec "
+msgstr "?????"
+
+msgid "Codec 4CC"
+msgstr "?????4CC"
+
+msgid "Codec 4CC:"
+msgstr "?????4CC:"
+
+msgid "Codec Error"
+msgstr "????????"
+
+msgid "Codec:"
+msgstr "?????:"
+
+msgid "ColorYuv (From avisynth)"
+msgstr "ColorYuv (Avisynth??)"
+
+msgid "Colors"
+msgstr "?"
+
+msgid "Combed Treshold"
+msgstr "Combed ??"
+
+msgid "Configure"
+msgstr "??"
+
+msgid "Configure Codec"
+msgstr "????????"
+
+msgid "Configure audio encoder"
+msgstr "??????????"
+
+msgid "Configure codec"
+msgstr "????????"
+
+msgid "Configure filter"
+msgstr "?????????"
+
+msgid "Configure partialized filter"
+msgstr "?????????????"
+
+msgid "Configure video encoder"
+msgstr "??????????"
+
+msgid "Connect to avsproxy"
+msgstr "avsproxy????"
+
+msgid "Constant Bitrate"
+msgstr "????????"
+
+msgid "Constant Bitrate (kbps)"
+msgstr "???????? (kbps)"
+
+msgid "Constant Quality"
+msgstr "????"
+
+msgid "Constant Quantizer"
+msgstr "??????"
+
+msgid ""
+"Constant Quantizer - Each frame will the same compression. Low numbers equal "
+"higher quality while high numbers equal lower quality"
+msgstr ""
+"?????? - ??????????. ????????????????????"
+"???"
+
+msgid "Constant quantizer - each frame will get the same compression"
+msgstr "?????? - ?????????????"
+
+msgid "Continue indexing"
+msgstr "????????????"
+
+msgid "Contrast"
+msgstr "??????"
+
+msgid "Copy"
+msgstr "???"
+
+msgid "Could not find a filter"
+msgstr "????????????"
+
+msgid "Could not get tracks info"
+msgstr "?????????????"
+
+msgid "Could not initialize audio"
+msgstr "???????????"
+
+msgid "Could not initialize video"
+msgstr "???????????"
+
+msgid "Could not open \"%s\" for writing."
+msgstr "????? \"%s\" ??????"
+
+msgid "Could not open OSS audio device"
+msgstr "OSS ????????????"
+
+msgid "Could not open subtitle file"
+msgstr "????????????"
+
+msgid "Could not open the file"
+msgstr "??????????"
+
+msgid "Could not read \"%s\"."
+msgstr "\"%s\" ??????."
+
+msgid "Could not save all images."
+msgstr "???????????"
+
+msgid "Could not unpack the video"
+msgstr "?????????????"
+
+msgid "Could not write the file"
+msgstr "???????????"
+
+msgid "Couldn't find pixmap file: %s"
+msgstr "pixmap????: %s ????????"
+
+msgid "Create _OpenDML files"
+msgstr "OpenDML?????????(_O)"
+
+msgid "Create openDML file"
+msgstr "openDML ?????????"
+
+msgid "Crop Bottom:"
+msgstr "?????:"
+
+msgid "Crop Left :"
+msgstr "?????:"
+
+msgid "Crop Right:"
+msgstr "?????:"
+
+msgid "Crop Settings"
+msgstr "???????"
+
+msgid "Crop Top:"
+msgstr "?????:"
+
+msgid "Cu_t"
+msgstr "???(_T)"
+
+msgid "Cubic Interpolation"
+msgstr "Cubic ??"
+
+msgid "Cubic interpolate"
+msgstr "Cubic ??"
+
+msgid "Current Glyph"
+msgstr "??????"
+
+msgid "Current frame"
+msgstr "???????"
+
+msgid "Current time"
+msgstr "?????"
+
+msgid "Curve compression"
+msgstr "????"
+
+msgid "Custom"
+msgstr "????"
+
+msgid "Custom matrix"
+msgstr "??????????"
+
+msgid "Cycle"
+msgstr "????"
+
+msgid "DRC"
+msgstr "DRC"
+
+msgid "DVD resolution [Ctrl-1]"
+msgstr "DVD ??? [Ctrl-1]"
+
+msgid "De_ringing"
+msgstr "????(_R)"
+
+msgid "Deblocking Filter :"
+msgstr "????? ???? :"
+
+msgid "Debug"
+msgstr "????"
+
+msgid "Decompressing error"
+msgstr "??(decompression)???"
+
+msgid "Default"
+msgstr "?????"
+
+msgid "Default Postprocessing"
+msgstr "?????????"
+
+msgid "Default mpeg"
+msgstr "?????MPEG"
+
+msgid "Defaults"
+msgstr "?????"
+
+msgid ""
+"Define how many pixels are analysised. The higher the range the more "
+"accurate the analysis but the slower the encoding time"
+msgstr ""
+"?????????????. ????????????????????????"
+"?????"
+
+msgid ""
+"Define how much the bitrate can fluctuate over the entire video. 0% results "
+"in a constant bitrate stream, while 100% results in a pure quality based "
+"bitrate stream"
+msgstr ""
+"??????????????????. 0%?????????????????"
+"??100%??????????????????????????"
+
+msgid ""
+"Define how much the quantizer rate can change between two consecutive frames"
+msgstr "????????????????????????"
+
+msgid "Define the level for when deblocking is applied"
+msgstr "??????????????????????"
+
+msgid "Delay in ms"
+msgstr "?? (ms)"
+
+msgid "Delete ALL jobs"
+msgstr "???????"
+
+msgid "Delete All Jobs"
+msgstr "???????"
+
+msgid "Delete Job"
+msgstr "??????"
+
+msgid "Delete job"
+msgstr "??????"
+
+msgid "Deleted"
+msgstr "????"
+
+msgid "Denoise"
+msgstr "?????"
+
+msgid "Deringing"
+msgstr "????"
+
+msgid "Dest. aspect ratio"
+msgstr "??????????"
+
+msgid "Destination"
+msgstr "???"
+
+msgid "Detected Audio :"
+msgstr "??????? :"
+
+msgid "Diamond search"
+msgstr "????????"
+
+msgid "Direct Threshold"
+msgstr "????"
+
+msgid "Disable NUV audio sync"
+msgstr "NuppelVideo ??????????"
+
+msgid "Discard Closer"
+msgstr "???????"
+
+msgid "Discard longer dupe (anim?s)"
+msgstr "??dupe???(???)"
+
+msgid "Display Stats"
+msgstr "????"
+
+msgid "Display _Output"
+msgstr "?????(_O)"
+
+msgid "Display all alerts"
+msgstr "???????????"
+
+msgid "Display only error alerts"
+msgstr "????????????"
+
+msgid "Do you want me to unpack it ?"
+msgstr "???????????? ?"
+
+msgid "Do you want to abort indexing ?"
+msgstr "?????????????????"
+
+msgid "Do you want to print metrics on screen ?"
+msgstr "???????????????????"
+
+msgid "Do you want to save an index ?"
+msgstr "????????????? ?"
+
+msgid "Dolby Prologic"
+msgstr "??????????"
+
+msgid "Dolby Prologic 2"
+msgstr "?????????? 2"
+
+msgid "Done"
+msgstr "??"
+
+msgid "Done : %02d%%"
+msgstr "?? : %02d%%"
+
+msgid "Double nb of frames (slow motion)"
+msgstr "???????????(????????)"
+
+msgid "Double nb of frames and fps"
+msgstr "??????FPS??????"
+
+msgid "DropOut Threshold"
+msgstr "?????????"
+
+msgid "Dual audio can only be used in copy mode"
+msgstr "????????????????????"
+
+msgid "Dual pass"
+msgstr "????"
+
+msgid "Dual pass (MBytes)"
+msgstr "???? (MBytes)"
+
+msgid "Dual pass, avg bitate (kb/s):"
+msgstr "2???????????(kb/s):"
+
+msgid "Duration:"
+msgstr "????:"
+
+msgid "Edit Custom Matrix"
+msgstr "?????????????"
+
+msgid "Edit a loaded custom quantization matrix file"
+msgstr "???????????????????????????"
+
+msgid "Enable DCT Intra block search to improve quality"
+msgstr "DCT??????????????????????"
+
+msgid ""
+"Enable a better prediction of AC component. Turns on Lumi masking - applies "
+"more compression to dark/light areas that the eye cannot notice easily"
+msgstr ""
+"AC????????????????????. Lumi??????? - ??????"
+"??????????????????"
+
+msgid "Enable in-loop deblocking to filter the video"
+msgstr "????????????????????????"
+
+msgid "Enable time shift"
+msgstr "??????????"
+
+msgid "Enables Divx like packed vop, DO NOT SET, it is ugly"
+msgstr "????vop????Divx??????. ??????????????"
+
+msgid "Enables a chroma optimizer prefilter"
+msgstr "?????????????????"
+
+msgid "Enables fast 1st pass encoding"
+msgstr "????????????????????"
+
+msgid ""
+"Enables interlaced frame support - use only if your source contains "
+"interlacing artifacts (i.e. fields instead of progressive frames)"
+msgstr ""
+"???????????????????? - ???????????(?????"
+"???????????????????)??????????"
+
+msgid "Enables special motion estimation features for cartoons/anime"
+msgstr "??/?????????????????????"
+
+msgid "Enables weighting of B-frames to help fades"
+msgstr "B-????????????????????????"
+
+msgid "Encode in black & white"
+msgstr "????????"
+
+msgid "Encode interlaced"
+msgstr "??????????????"
+
+msgid "Encoding "
+msgstr "?????"
+
+msgid "Encoding Mode:"
+msgstr "????????:"
+
+msgid "Encoding Type"
+msgstr "????????"
+
+msgid "Encoding Type:"
+msgstr "????? ???:"
+
+msgid "Encoding mode"
+msgstr "????????"
+
+msgid "Encoding priority"
+msgstr "?????????:"
+
+msgid "Encoding type:"
+msgstr "????????:"
+
+msgid "End frame for partial :"
+msgstr "?????????????? :"
+
+msgid "Enforce a maximum quantizer level"
+msgstr "????????????"
+
+msgid "Enforce a minimum quantizer level"
+msgstr "????????????"
+
+msgid ""
+"Enforce the size of a decoded pixel decoded to a certain value. Leave this "
+"at 1:1 for non-anamorphic video"
+msgstr ""
+"??????????????????????????. ???????????"
+"???1:1?????????"
+
+msgid "Enter parameters (i.e. -b 192 -m s ...)"
+msgstr "???????? (?: -b 192 -ms ...)"
+
+msgid "Entry input for target file size or bitrate"
+msgstr "??????????????????????????"
+
+msgid "Equalizer"
+msgstr "?????"
+
+msgid "Erase current glyphs ?"
+msgstr "??????????? ?"
+
+msgid "Error Loading"
+msgstr "??????"
+
+msgid "Error Writing"
+msgstr "??????"
+
+msgid "Error converting to BMP"
+msgstr "BMP???????"
+
+msgid "Error in pass 1"
+msgstr "?? 1 ????"
+
+msgid "Error in pass 2"
+msgstr "?? 2 ????"
+
+msgid "Error initalizing audio filters"
+msgstr "????????????"
+
+msgid "Error initalizing video filters"
+msgstr "????????????"
+
+msgid "Error loadind the custom matrix file."
+msgstr "????????????????????"
+
+msgid "Error loading the AC3 file"
+msgstr "AC3??????????"
+
+msgid "Error loading the MP3 file"
+msgstr "MP3??????????"
+
+msgid "Error loading the WAV file"
+msgstr "WAV??????????"
+
+msgid "Error reading ifo file, aborting."
+msgstr "IFO???????????????."
+
+msgid "Error while encoding"
+msgstr "??????????"
+
+msgid "Error writing the custom matrix file."
+msgstr "????????????????????"
+
+msgid "Errors found in %u frames"
+msgstr "%u ????????????????"
+
+msgid "Evaluate ALL frames"
+msgstr "????????"
+
+msgid "Exhaustive search"
+msgstr "????"
+
+msgid "Expect a crash."
+msgstr "?????????."
+
+msgid "Expect troubles"
+msgstr "?????????"
+
+msgid "External"
+msgstr "??"
+
+msgid "External AC3"
+msgstr "??AC3"
+
+msgid "External Filters"
+msgstr "??????"
+
+msgid "External MP3"
+msgstr "??MP3"
+
+msgid "External WAV"
+msgstr "??WAV"
+
+msgid "External Wav"
+msgstr "??WAV"
+
+msgid "External filename"
+msgstr "???????"
+
+msgid "Extra Settings"
+msgstr "????"
+
+msgid "Extra Shrink Factor :"
+msgstr "????? :"
+
+msgid "Extra check, avoid using it"
+msgstr "?????????????????"
+
+msgid "Extra slow (same as 3+multiple reference frames)"
+msgstr "???? (??+????????)"
+
+msgid "Extrapolate better (better not to use it)"
+msgstr "???????? (better not to use it)"
+
+msgid "FFmpeg deint"
+msgstr "FFmpeg ???????"
+
+msgid "FFmpeg encoding options"
+msgstr "FFmpeg??????????"
+
+msgid "Factor between I and P frame Quants"
+msgstr "I ? P ??????????"
+
+msgid "Factor between P and B frame Quants"
+msgstr "P ? B ??????????"
+
+msgid "Fade in"
+msgstr "??????"
+
+msgid "Fade out"
+msgstr "???????"
+
+msgid "Fade to _black"
+msgstr "??????(_B)"
+
+msgid "Failed"
+msgstr "????"
+
+msgid "Failed to open the file"
+msgstr "???????????"
+
+msgid "Fast"
+msgstr "??"
+
+msgid "Fast (parial luma and chroma)"
+msgstr "??(???????)"
+
+msgid "Fast P-Skip"
+msgstr "??P-????"
+
+msgid "Fastest (no chroma, partial luma)"
+msgstr "??(????, ????)"
+
+msgid "Fatal error"
+msgstr "??????"
+
+msgid "Fewest bits (vhq)"
+msgstr "??????(vhq)"
+
+msgid "Field Order"
+msgstr "?????????"
+
+msgid "Field Order :"
+msgstr "????????? :"
+
+msgid "Fil_ters"
+msgstr "????(_T)"
+
+msgid "File %s has been successfully saved."
+msgstr "???? %s ??????????."
+
+msgid "File %s was NOT saved correctly."
+msgstr "???? %s ????????????."
+
+msgid "File :"
+msgstr "???? :"
+
+msgid "File Size:"
+msgstr "???????:"
+
+msgid "File error"
+msgstr "???????"
+
+msgid "File type identified but no loader support detected..."
+msgstr "???????????????????????????????..."
+
+msgid "FileSize (MB)"
+msgstr "???????(MB)"
+
+msgid "Filename"
+msgstr "?????"
+
+msgid "Filename of the audio/video output"
+msgstr "??/??????????"
+
+msgid "Filesize tolerance (kb"
+msgstr "?????????(kb"
+
+msgid "Filter Strength"
+msgstr "???????"
+
+msgid "Filter directory"
+msgstr "?????????"
+
+msgid "Filter init failed"
+msgstr "?????????"
+
+msgid "Filters"
+msgstr "????"
+
+msgid "Finished at"
+msgstr "???"
+
+msgid "First frame"
+msgstr "???????"
+
+msgid "Flat matrix"
+msgstr "????????"
+
+msgid "Font (TTF)"
+msgstr "????(TTF)"
+
+msgid "Font Size"
+msgstr "???????"
+
+msgid "For DVD, audio must be 48 kHz MP2(stereo), AC3, DTS or LPCM (stereo)."
+msgstr ""
+"DVD??????? 48 kHz MP2(????), AC3, DTS ??? LPCM (????)???"
+"??????."
+
+msgid "For DVD, audio must be 48 kHz MP2, AC3 or LPCM."
+msgstr "DVD??????? 48 kHz MP2, AC3 ??? LPCM?????????."
+
+msgid "For DVD, audio must be MP2 or AC3."
+msgstr "DVD??????? MP2 ??? AC3 ?????????."
+
+msgid "For VCD, audio must be 44.1 kHz MP2."
+msgstr "VCD??????? 44.1 kHz MP2 ?????????."
+
+msgid "Force background"
+msgstr "????"
+
+msgid "Frame Count:"
+msgstr "?????:"
+
+msgid "Frame Hex Dump"
+msgstr "????16????"
+
+msgid "Frame Rate"
+msgstr "???????"
+
+msgid "Frame Rate:"
+msgstr "???????:"
+
+msgid "Frame Size:"
+msgstr "???????:"
+
+msgid "Frame Type:"
+msgstr "???????:"
+
+msgid "Frame size:"
+msgstr "???????:"
+
+msgid "Frame type:"
+msgstr "???????:"
+
+msgid "Frame: "
+msgstr "????: "
+
+msgid "Frame: ?"
+msgstr "????: ?"
+
+msgid "Frame:%c(%02d)"
+msgstr "????:%c(%02d)"
+
+msgid "Frequency"
+msgstr "???"
+
+msgid "Frequency:"
+msgstr "???:"
+
+msgid "Full linking"
+msgstr "?????"
+
+msgid "Further enable DCT Intra block search to improve quality"
+msgstr "???DCT??????????????????????"
+
+msgid "Further improve the P-frame quality"
+msgstr "P-?????????????"
+
+msgid "GMC "
+msgstr "GMC?"
+
+msgid "Gain"
+msgstr "??"
+
+msgid "Gamma"
+msgstr "???"
+
+msgid "General block breakdown transformation"
+msgstr "????????????"
+
+msgid "Get Frame"
+msgstr "???????"
+
+msgid "Get PAR from input video file"
+msgstr "??????????PAR???"
+
+msgid ""
+"Global Motion Compensation can save bits on camera pans, zooming and rotation"
+msgstr ""
+"?????????(GMC)????????????????????????"
+
+msgid "Global Motion Compensation:"
+msgstr "?????????:"
+
+msgid "Go to Marker _A"
+msgstr "????A???(_A)"
+
+msgid "Go to Marker _B"
+msgstr "????B???(_B)"
+
+msgid "Go to marker A"
+msgstr "????A???"
+
+msgid "Go to marker B"
+msgstr "????B???"
+
+msgid "Go to time"
+msgstr "?????"
+
+msgid "Gop Size"
+msgstr "GOP???"
+
+msgid "Gop Size  (12):"
+msgstr "GOP??? (12):"
+
+msgid "H.263 quantizers smooth the picture (useful at lower bitrates)"
+msgstr "H.263 ??????????????? (??????????)"
+
+msgid "H263 Quantizer"
+msgstr "H263 ????"
+
+msgid "H264 detected"
+msgstr "H264???????"
+
+msgid "HQ _AC"
+msgstr "HQ _AC"
+
+msgid "Half D1 resolution [Ctrl-2]"
+msgstr "Half D1 ??? [Ctrl-2]"
+
+msgid "Hexagonal search"
+msgstr "?????"
+
+msgid "High"
+msgstr "??"
+
+msgid "High bitrate scenes (%):"
+msgstr "?????????? (%):"
+
+msgid "HighQ"
+msgstr "?Q (_H)"
+
+msgid ""
+"Higher settings give higher quality results, at the cost of slower encoding"
+msgstr "??????????????????????????"
+
+msgid "Horizontal deblocking"
+msgstr "???????"
+
+msgid "Hour"
+msgstr "?"
+
+msgid ""
+"How much of the overflow the codec can eat into during oversized sections - "
+"larger values will bridge the gap faster"
+msgstr ""
+"????????????????????? - ????????????????"
+"?"
+
+msgid ""
+"How much of the overflow the codec can eat into during undersized sections - "
+"larger values will bridge the gap faster"
+msgstr ""
+"????????????????????? - ????????????????"
+"?"
+
+msgid "Hue/Saturation"
+msgstr "??/???"
+
+msgid "I-frame boost (%):"
+msgstr "I-?????? (%):"
+
+msgid "I-frame interval - Min:"
+msgstr "I-?????? - ??:"
+
+msgid "I-frame quantizer - Min:"
+msgstr "I-???????? - ??:"
+
+msgid ""
+"I-frames appearing in the range below this value will be treated as "
+"consecutive keyframes"
+msgstr "???????I-????????????????????"
+
+msgid "I-frames closer than ... frames..."
+msgstr "...?????????I-?????"
+
+msgid "If metric is less than identical, images are considered identical"
+msgstr "????????????????????????"
+
+msgid "If pixel are closer than noise, they are considered to be the same"
+msgstr "?????????????????????"
+
+msgid "If pixels are closer than noise, they are considered to be the same"
+msgstr "?????????????????????"
+
+msgid ""
+"If the file is using bframe as reference, it can lead to crash or "
+"stutteting.\n"
+"Avidemux can use another mode which is safed but <b>YOU WILL LOOSE FRAME "
+"ACCURACY</b>.\n"
+"Do you want to use that mode ?"
+msgstr ""
+"???????B-??????????????????????????????"
+"???????\n"
+"Avidemux ?????????????????????<b>???????????"
+"????????</b>.\n"
+"??????????? ?"
+
+msgid ""
+"If value is smaller than threshold it is considered valid. Smaller value "
+"might mean more false positive"
+msgstr ""
+"?????????????????. ???????????????????"
+
+msgid "Ifo :"
+msgstr "IFO?:"
+
+msgid "Ifo error"
+msgstr "IFO ???"
+
+msgid "Ignore"
+msgstr "??"
+
+msgid "Ignore glyph"
+msgstr "??????"
+
+msgid "Image Size:"
+msgstr "?????:"
+
+msgid "Image size"
+msgstr "?????"
+
+msgid "Images"
+msgstr "??"
+
+msgid "Improve the B-frame quality"
+msgstr "B-??????????"
+
+msgid "Improve the P-frame quality"
+msgstr "P-??????????"
+
+msgid "In"
+msgstr "??"
+
+msgid "Incompatible audio"
+msgstr "????????"
+
+msgid "Incompatible frame rate"
+msgstr "?????????????"
+
+msgid "Incompatible output format"
+msgstr "??????????"
+
+msgid "Incompatible settings"
+msgstr "????????"
+
+msgid "Incorrect output file"
+msgstr "???????????"
+
+msgid ""
+"Increase / decrease probability for how often B-frames are used. Will not "
+"violate the maximum consecutive frame limit"
+msgstr ""
+"B-???????????????/???. ????????????????"
+
+msgid ""
+"Increase / decrease sensitivity for detecting Scene Changes to compensate "
+"for. Improves I-frame usage and helps quality"
+msgstr ""
+"????????????????????/???. I-?????????????"
+"??????"
+
+msgid "Index is not up to date"
+msgstr "????????????????"
+
+msgid "Indexing / unpacking priority"
+msgstr "???????/?????????:"
+
+msgid "Indexing :"
+msgstr "?????????:"
+
+msgid "Indexing failed"
+msgstr "???????????"
+
+msgid "Indexing..."
+msgstr "?????????????..."
+
+msgid "Informations"
+msgstr "??"
+
+msgid "Initial VBV buffer (%)"
+msgstr "??VBV????(%)"
+
+msgid "Input"
+msgstr "??"
+
+msgid "Int. BFF"
+msgstr "???? BFF"
+
+msgid "Int. TFF"
+msgstr "???? TFF"
+
+msgid "Interlace"
+msgstr "??????"
+
+msgid "Interlaced BFF"
+msgstr "?????? BFF"
+
+msgid "Interlaced TFF"
+msgstr "?????? TFF"
+
+msgid "Interlacing"
+msgstr "??????"
+
+msgid "Internal error"
+msgstr "?????"
+
+msgid "Internal error finding codec"
+msgstr "??????????????"
+
+msgid "Internal error opening codec"
+msgstr "???????????????"
+
+msgid "Interpolate :"
+msgstr "?? :"
+
+msgid "Invalid filename"
+msgstr "????????"
+
+msgid "Invalid ifo"
+msgstr "???IFO"
+
+msgid "Invalid jobname"
+msgstr "???????"
+
+msgid "Invalid vobname"
+msgstr "???VOB?"
+
+msgid "Invalid vobsubname"
+msgstr "???VobSub?"
+
+msgid "It could be possible that you try to overwrite an input file!"
+msgstr "???????????????????!"
+
+msgid "It is not MPEG-4 video. File will not be saved."
+msgstr "MPEG-4??????. ????????????."
+
+msgid "JVT matrix"
+msgstr "JVT??????"
+
+msgid "Job name displayed in the job list and used as the script filename"
+msgstr "?????????????????????????????????"
+
+msgid "Jobs"
+msgstr "???"
+
+msgid "Joint Stereo"
+msgstr "?????????"
+
+msgid "Joint stereo"
+msgstr "?????????"
+
+msgid ""
+"Jointly optimize both Motion Vector's in B-frames. This will improve quality "
+"but take more time for encoding"
+msgstr ""
+"B-????????????????????????. ????????????"
+"?????????????"
+
+msgid "Jump to _Time..."
+msgstr "?????(_T)"
+
+msgid "K-VCD"
+msgstr "K-VCD"
+
+msgid "Keep nb of frames and fps"
+msgstr "??????FPS???"
+
+msgid "Kernerl interpolation"
+msgstr "Kernerl ??"
+
+msgid "KeyFrame error"
+msgstr "?????? ???"
+
+msgid "Keyframe boost (%)"
+msgstr "???????? (%)"
+
+msgid "L_uma threshold:"
+msgstr "????(_U):"
+
+msgid "Lame command"
+msgstr "Lame ????"
+
+msgid "Lanczos3"
+msgstr "Lanczos3"
+
+msgid "Last frame"
+msgstr "???????"
+
+msgid "Lavcodec Mpeg4 configuration"
+msgstr "Lavcodex Mpeg4 ??"
+
+msgid "Left:"
+msgstr "?:"
+
+msgid "Level"
+msgstr "???"
+
+msgid "Libavcodec Decoder Option"
+msgstr "Libavcodec ???? ?????"
+
+msgid "Linear interpolate"
+msgstr "Linear ??"
+
+msgid "Link"
+msgstr "???"
+
+msgid "Load Custom Matrix:  "
+msgstr "??????????????:"
+
+msgid "Load external filters"
+msgstr "??????????"
+
+msgid "Load set of filters"
+msgstr "??????????"
+
+msgid "Local Playback Downmixing"
+msgstr "?????????????"
+
+msgid "Log"
+msgstr "??"
+
+msgid ""
+"Lossless compression method which usually improves the bitrate usage by 15% "
+"(especially on high bitrate). Helps the quality a lot but is slower. "
+msgstr ""
+"???????????(??????????)?15%??????????. ???"
+"?????????."
+
+msgid "Low"
+msgstr "??"
+
+msgid "Low bitrate scenes (%):"
+msgstr "?????????? (%):"
+
+msgid "Luma"
+msgstr "??"
+
+msgid "Luma :"
+msgstr "?? :"
+
+msgid "Luma Temporal Threshold"
+msgstr "???????"
+
+msgid "Luma Y"
+msgstr "?? Y"
+
+msgid "Luminance:"
+msgstr "??:"
+
+msgid "MB Comparison"
+msgstr "MB ??"
+
+msgid "MB comparison"
+msgstr "MB ??"
+
+msgid "MPEG Quantizer"
+msgstr "MPEG ????"
+
+msgid "MPEG Video"
+msgstr "MPEG ??"
+
+msgid ""
+"MPEG quantizers (slightly slower) produce sharper picture (useful at higher "
+"bitrates)"
+msgstr ""
+"MPEG ???? (????) ???????????? (??????????)"
+
+msgid "MPEG renumbering error"
+msgstr "MPEG?????????"
+
+msgid "Ma_x. bitrate:"
+msgstr "????????(_X):"
+
+msgid "Ma_x. quantizer:"
+msgstr "??????(_N):"
+
+msgid "Macroblock decision"
+msgstr "?????????"
+
+msgid "Macroblock decision:"
+msgstr "?????????:"
+
+msgid "Macroblock:"
+msgstr "???????:"
+
+msgid "Main"
+msgstr "??"
+
+msgid "Main Audio Track"
+msgstr "???????"
+
+msgid "Malformed header"
+msgstr "??????"
+
+msgid "Manual (db) : "
+msgstr "?? (dB) : "
+
+msgid "Mark A > B"
+msgstr "??? A > B"
+
+msgid "Marker A > B"
+msgstr "???? A?>?B"
+
+msgid "Matrices"
+msgstr "??????"
+
+msgid "Matrix"
+msgstr "??????"
+
+msgid "Matrix Loaded"
+msgstr "?????????????"
+
+msgid "Max"
+msgstr "??"
+
+msgid "Max Bitrate"
+msgstr "????????"
+
+msgid "Max Consecutive"
+msgstr "?????"
+
+msgid "Max I Frame Qzer"
+msgstr "??I-???? Qzer"
+
+msgid "Max I frame interval "
+msgstr "??I-??????"
+
+msgid "Max IDR frame interval"
+msgstr "??IDR??????"
+
+msgid "Max P Frame Qzer"
+msgstr "??P-???? Qzer"
+
+msgid "Max QDiff"
+msgstr "?? QDiff"
+
+msgid "Max QP Step"
+msgstr "?? QP ????"
+
+msgid "Max Qp"
+msgstr "?? Qp"
+
+msgid "Max Qz"
+msgstr "?? Qz"
+
+msgid "Max bitrate (kbps) :"
+msgstr "???????? (kbps) :"
+
+msgid "Max overflow degradation (%):"
+msgstr "?????????? (%):"
+
+msgid "Max overflow improvement (%):"
+msgstr "?????????? (%):"
+
+msgid "Max. Ref. frames"
+msgstr "?????????"
+
+msgid "Max. quantizer _difference:"
+msgstr "???????(_D):"
+
+msgid "Max:"
+msgstr "??:"
+
+msgid "Maximum Bitrate (kb/s)"
+msgstr "???????? (kb/s)"
+
+msgid "Maximum bitrate (kbps)"
+msgstr "???????? (kbps)"
+
+msgid "Maximum local bitrate"
+msgstr "??????????"
+
+msgid "Maximum number of frames allowed between I-frames"
+msgstr "I-?????????????????"
+
+msgid ""
+"Maximum number of sequential B-frames (when set to 0, the original I/P "
+"encoder is used)"
+msgstr "????B-????? (0?????????I/P????????)"
+
+msgid "Maximum quantizer allowed for B-frames"
+msgstr "B-???????????????"
+
+msgid "Maximum quantizer allowed for I-frames"
+msgstr "I-???????????????"
+
+msgid "Maximum quantizer allowed for P-frames"
+msgstr "P-???????????????"
+
+msgid "May be related to an old index file."
+msgstr "????????????????????????."
+
+msgid "Median interpolate"
+msgstr "Median ??"
+
+msgid "Medium"
+msgstr "????"
+
+msgid "Medium (full luma no chroma)"
+msgstr "????(????, ????)"
+
+msgid "Memory Error"
+msgstr "??????"
+
+msgid "Memory error"
+msgstr "??????"
+
+msgid "Message level"
+msgstr "????????"
+
+msgid "Method"
+msgstr "??"
+
+msgid "Metrics"
+msgstr "??????"
+
+msgid "Mi_n. bitrate:"
+msgstr "????????(_N):"
+
+msgid "Mi_n. quantizer:"
+msgstr "??????(_N):"
+
+msgid "Min Bitrate"
+msgstr "????????"
+
+msgid "Min I Frame Qzer"
+msgstr "??I-???? Qzer"
+
+msgid "Min I frame interval"
+msgstr "??I-??????"
+
+msgid "Min IDR frame interval"
+msgstr "??IDR??????"
+
+msgid "Min P Frame Qzer"
+msgstr "??P-???? Qzer"
+
+msgid "Min Qp"
+msgstr "?? Qp"
+
+msgid "Min Qz"
+msgstr "?? Qz"
+
+msgid "Min bitrate (kbps) :"
+msgstr "???????? (kbps) :"
+
+msgid "Mini OCR"
+msgstr "?? OCR"
+
+msgid "Minimum Bitrate (kb/s) "
+msgstr "???????? (kb/s)"
+
+msgid "Minimum quantizer allowed for B-frames"
+msgstr "B-???????????????"
+
+msgid "Minimum quantizer allowed for I-frames"
+msgstr "I-???????????????"
+
+msgid "Minimum quantizer allowed for P-frames"
+msgstr "P-???????????????"
+
+msgid "Minimum space between I-frames, 1 will disable forced I-frame spacing"
+msgstr "I-???????????1 ???I-????????????????"
+
+msgid "Minutes"
+msgstr "?"
+
+msgid "Misc"
+msgstr "??"
+
+msgid "Miscellaneous"
+msgstr "??"
+
+msgid "Mixed Refs"
+msgstr "????"
+
+msgid "Mjpeg Codec settings"
+msgstr "Mjpeg???????"
+
+msgid "MntMode"
+msgstr "Mnt???"
+
+msgid "Mode"
+msgstr "???"
+
+msgid "Mode :"
+msgstr "??? :"
+
+msgid "Mono"
+msgstr "??"
+
+msgid "More"
+msgstr "??"
+
+msgid "Motion & Misc"
+msgstr "?????"
+
+msgid "Motion Estimation"
+msgstr "????"
+
+msgid "Motion Search"
+msgstr "????"
+
+msgid "Motion search precision:"
+msgstr "??????:"
+
+msgid "Move filter down"
+msgstr "???????????"
+
+msgid "Move filter up"
+msgstr "???????????"
+
+msgid "Mpeg2 options"
+msgstr "MPEG2 ?????"
+
+msgid "Mplayer Delogo"
+msgstr "MPlayer Delogo"
+
+msgid "MultiThreading"
+msgstr "???????"
+
+msgid "Multiplatform video editor"
+msgstr "??????????? ??? ????"
+
+msgid "Multiple Audio Tracks"
+msgstr "?????????"
+
+msgid "Mux Every x video frames"
+msgstr "N?????????????"
+
+msgid "Mux _every x video frames:"
+msgstr "N?????????????(_E):"
+
+msgid "Mux by packet size"
+msgstr "?????????"
+
+msgid "Mux every N video frames"
+msgstr "N??????????"
+
+msgid "Mux in _blocks of x bytes:"
+msgstr "x?????????????(_B):"
+
+msgid "Mux with block of size"
+msgstr "???????????????"
+
+msgid "Muxing Type"
+msgstr "??????"
+
+msgid "Muxing _type:"
+msgstr "??????(_T):"
+
+msgid "NONE"
+msgstr "??"
+
+msgid "NTSC (default is PAL)"
+msgstr "NTSC (??????PAL)"
+
+msgid "NTSC converted from PAL"
+msgstr "PAL??????NTSC"
+
+msgid "Narrow"
+msgstr "??"
+
+msgid "Nb pictures seen :"
+msgstr "??????????? :"
+
+msgid "Ne_xt Black Frame"
+msgstr "???????(_X)"
+
+msgid "Never"
+msgstr "???"
+
+msgid "Next _Intra Frame"
+msgstr "??I-????(_I)"
+
+msgid "Next black frame"
+msgstr "???????"
+
+msgid "Next frame"
+msgstr "??????"
+
+msgid "Next keyframe"
+msgstr "????????"
+
+msgid "No"
+msgstr "???"
+
+msgid "No Strategy"
+msgstr "???????"
+
+msgid "No alerts"
+msgstr "?????"
+
+msgid "No audio"
+msgstr "????"
+
+msgid "No audio decoder found for this file"
+msgstr "??????????????????????"
+
+msgid "No audio track"
+msgstr "????????"
+
+msgid "No change"
+msgstr "????"
+
+msgid "No data"
+msgstr "?????"
+
+msgid "No downmixing"
+msgstr "?????????"
+
+msgid "No error found"
+msgstr "???????????"
+
+msgid "No filter found"
+msgstr "??????????"
+
+msgid "No frames to encode"
+msgstr "?????????????????"
+
+msgid "No glyphs to save"
+msgstr "?????????????"
+
+msgid "No link"
+msgstr "?????"
+
+msgid "No more supported."
+msgstr "????????????"
+
+msgid "No stts table"
+msgstr "stts ???????"
+
+msgid "No tag found"
+msgstr "????????"
+
+msgid "No video loaded"
+msgstr "???????????"
+
+msgid "No write access to \"%s\"."
+msgstr "\"%s\" ??????????????."
+
+msgid "Node not found"
+msgstr "?????????"
+
+msgid "Noise"
+msgstr "???"
+
+msgid "Noise Reduction"
+msgstr "?????"
+
+msgid "Noise Threshold"
+msgstr "?????"
+
+msgid "None"
+msgstr "??"
+
+msgid "None but compute"
+msgstr "?????????"
+
+msgid "Normal"
+msgstr "??"
+
+msgid "Not Yet!"
+msgstr "????!"
+
+msgid "Not a WAV file?"
+msgstr "WAV??????????"
+
+msgid "Not coded in this version"
+msgstr "????????????????????"
+
+msgid "Not indexable"
+msgstr "?????????????"
+
+msgid "Nothing to do."
+msgstr "???????."
+
+msgid "Nothing to save"
+msgstr "????????????"
+
+msgid "Number of B-frames:"
+msgstr "B-?????:"
+
+msgid "Number of BFrames"
+msgstr "B-?????"
+
+msgid "Number of threads"
+msgstr "?????"
+
+msgid "Obsolete"
+msgstr "??"
+
+msgid "Old format project file"
+msgstr "???????????????"
+
+msgid "Only QCIF and subQCIF are allowed for H.263"
+msgstr "QCIF?subQCIF??? H.263 ??????"
+
+msgid "Oops"
+msgstr "????"
+
+msgid "Open CQM file"
+msgstr "CQM???????"
+
+msgid "Open a file"
+msgstr "???????"
+
+msgid "Open filter list [Ctrl-O]"
+msgstr "?????????? [Ctrl-O]"
+
+msgid "Option "
+msgstr "????? "
+
+msgid "Order"
+msgstr "????"
+
+msgid "Out"
+msgstr "???"
+
+msgid "Out of bounds"
+msgstr "???"
+
+msgid "Out of memory"
+msgstr "??????"
+
+msgid "Output"
+msgstr "??"
+
+msgid "Output Srt"
+msgstr "??Srt"
+
+msgid "Output _file:"
+msgstr "??????(_F):"
+
+msgid "Output container format"
+msgstr "????????"
+
+msgid "Output file error"
+msgstr "?????????"
+
+msgid "Output vobsub (.idx) :"
+msgstr "??VobSub (.idx) :"
+
+msgid "Overflow control strength (%):"
+msgstr "??????????? (%):"
+
+msgid "Overwrite file ?"
+msgstr "???????????? ?"
+
+msgid "P-frame quantizer - Min:"
+msgstr "P-???????? - ??:"
+
+msgid "PAL->Film"
+msgstr "PAL?->?Film"
+
+msgid "PSP (H264)"
+msgstr "PSP (H264)"
+
+msgid "P_artial"
+msgstr "???(_A)"
+
+msgid "P_review"
+msgstr "?????(_R)"
+
+msgid "P_revious Frame"
+msgstr "??????(_R)"
+
+msgid "Packed Bistream"
+msgstr "????????????"
+
+msgid "Packed Bitstream detected"
+msgstr "???????????????????"
+
+msgid "Packed Bitstream:"
+msgstr "????????????:"
+
+msgid "Packed bitstream"
+msgstr "????????????"
+
+msgid "Parameter Error"
+msgstr "????????"
+
+msgid "Partial"
+msgstr "????"
+
+msgid "Partition decision"
+msgstr "????"
+
+msgid "Partitions & Frames"
+msgstr "???????"
+
+msgid "Pause / Abort"
+msgstr "?? / ??"
+
+msgid "Paused"
+msgstr "????"
+
+msgid "Permission error"
+msgstr "??????? ???"
+
+msgid "Pixel Aspect Ratio"
+msgstr "??????????"
+
+msgid "Pixel Height"
+msgstr "??????"
+
+msgid "Pixel Width"
+msgstr "?????"
+
+msgid "Play"
+msgstr "??"
+
+msgid "Playback priority"
+msgstr "??????"
+
+msgid "Please check markers. Is \"A>\" == \">B\"?"
+msgstr "????????????. \"A>\" == \">B\" ??? ?"
+
+msgid "Please select or enter a valid filename"
+msgstr "?????????????????????"
+
+msgid "Please select or enter a valid ifo file"
+msgstr "???IFO?????????????????"
+
+msgid "Please select or enter a valid jobname"
+msgstr "????????????????????"
+
+msgid "Please select or enter a valid vob name"
+msgstr "???VOB??????????????"
+
+msgid "Please select or enter a valid vobsub file"
+msgstr "???VobSub?????????????????"
+
+msgid "Post Proc Threshold"
+msgstr "?????"
+
+msgid "Post Processing"
+msgstr "???"
+
+msgid "Postproc and show zones(debug)"
+msgstr "???????????(????)"
+
+msgid "Postproc on best match"
+msgstr "??????????"
+
+msgid "Postprocessing"
+msgstr "???"
+
+msgid "Pr_evious Intra Frame"
+msgstr "??I-????(_E)"
+
+msgid "Pre_ferences"
+msgstr "??(_F)"
+
+msgid "Predefined Aspect Ratios"
+msgstr "??????????"
+
+msgid "Preferences"
+msgstr "??"
+
+msgid "Preview"
+msgstr "?????"
+
+msgid "Previou_s Black Frame"
+msgstr "???????(_S)"
+
+msgid "Previous black frame"
+msgstr "???????"
+
+msgid "Previous frame"
+msgstr "??????"
+
+msgid "Previous keyframe"
+msgstr "????????"
+
+msgid "Priority:"
+msgstr "???:"
+
+msgid "Problem loading sub"
+msgstr "????????"
+
+msgid "Problem opening the mpeg files"
+msgstr "MPEG???????????"
+
+msgid "Problem reading SVQ3 headers"
+msgstr "SVQ3?????????"
+
+msgid "Problem reading XML filters"
+msgstr "XML??????????"
+
+msgid "Process image (not fields)"
+msgstr "?????(?????????)"
+
+msgid "Process image (not fields),debug"
+msgstr "?????(?????????),????"
+
+msgid "Produces nicer-looking B-frames"
+msgstr "????????B-???????"
+
+msgid "Progressive"
+msgstr "???????"
+
+msgid "Prologic"
+msgstr "??????????"
+
+msgid "Prologic II"
+msgstr "?????????? 2"
+
+msgid "Proper_ties"
+msgstr "?????(_T)"
+
+msgid "Properties"
+msgstr "?????"
+
+msgid "PullDown dupe removal"
+msgstr "?????dupe??"
+
+msgid "Quality"
+msgstr "??"
+
+msgid "Quality "
+msgstr "??"
+
+msgid "Quality Based"
+msgstr "??????"
+
+msgid "Quality based"
+msgstr "??????"
+
+msgid "Quantisation (2-31)"
+msgstr "??? (2-31)"
+
+msgid "Quantization"
+msgstr "???"
+
+msgid "Quantization difference between chroma (color) and luma (brightness)"
+msgstr "??(?)???(???)???????"
+
+msgid "Quantization factors used between I- and P- frames"
+msgstr "I- ?P- ???????????????"
+
+msgid "Quantization type"
+msgstr "??????"
+
+msgid "Quantization type:"
+msgstr "??????:"
+
+msgid "Quantization used between P- and B- frames"
+msgstr "P- ?B- ???????????????"
+
+msgid "Quantize blur"
+msgstr "??????"
+
+msgid "Quantize compression"
+msgstr "?????"
+
+msgid "Quantizer"
+msgstr "????"
+
+msgid "Quantizer (0-51):"
+msgstr "???? (0-51):"
+
+msgid "Quantizer Compression"
+msgstr "?????"
+
+msgid "Quantizer _blur:"
+msgstr "??????(_B):"
+
+msgid "Quantizer restrictions"
+msgstr "???????"
+
+msgid "Quantizer:"
+msgstr "????:"
+
+msgid "Quarter Pel"
+msgstr "1/4 ????"
+
+msgid "Quarter Pixel"
+msgstr "1/4 ????"
+
+msgid "Quarter Pixel:"
+msgstr "1/4 ????:"
+
+msgid "Range"
+msgstr "??"
+
+msgid "Rate Control"
+msgstr "?????"
+
+msgid "Rate distortion"
+msgstr "??????"
+
+msgid "Rate distortion quantization, will find optimal encoding for each block"
+msgstr "??????????????????????????????"
+
+msgid "Ratecontrol"
+msgstr "?????"
+
+msgid "Rebuild all Keyframes?"
+msgstr "???????????????????"
+
+msgid "Recent files"
+msgstr "?????????"
+
+msgid "Reduce fluctuations in QP (after curve compression)"
+msgstr "(???????)QP????????"
+
+msgid "Reduced fluctuations in Quantizer (before curve compression)"
+msgstr "(???????)????????????"
+
+msgid ""
+"Reduction of bitrate for the first consecutive I-frames. The last I-frame "
+"will get treated normally"
+msgstr ""
+"?????I-?????????????. ???I-????????????"
+
+msgid "Remove filter"
+msgstr "?????????"
+
+msgid "Replace (interpolate)"
+msgstr "??(??)"
+
+msgid "Resample to hz"
+msgstr "???????hz"
+
+msgid "Reset"
+msgstr "????"
+
+msgid "Resize"
+msgstr "????"
+
+msgid "Resume"
+msgstr "??"
+
+msgid "Retry"
+msgstr "???"
+
+msgid "Reuse log file ?"
+msgstr "?????????????? ?"
+
+msgid "Right:"
+msgstr "?:"
+
+msgid "Rotate Params"
+msgstr "???????"
+
+msgid "Run Job"
+msgstr "??????"
+
+msgid "Run all jobs"
+msgstr "???????"
+
+msgid "Running"
+msgstr "???"
+
+msgid "SVCD resolution [Ctrl-3]"
+msgstr "SVCD ??? [Ctrl-3]"
+
+msgid "S_ave..."
+msgstr "??(_A)"
+
+msgid "S_patial chroma strength:"
+msgstr "????????(_P):"
+
+msgid "Same Qz as input"
+msgstr "????????"
+
+msgid "Sample A/R "
+msgstr "???? A/R"
+
+msgid "Save (A+V) will generate bad AVI. Save audio will work."
+msgstr "(A+V)?????AVI???????. ??????????."
+
+msgid "Save Job"
+msgstr "??????"
+
+msgid "Save P_roject As..."
+msgstr "???????????????(_R)"
+
+msgid "Save Script"
+msgstr "???????"
+
+msgid "Save _BMP Image..."
+msgstr "BMP?????(_B)"
+
+msgid "Save _JPEG Image..."
+msgstr "JPEG?????(_J)"
+
+msgid "Save _Project"
+msgstr "?????????(_P)"
+
+msgid "Save _Selection as JPEG images..."
+msgstr "???JPEG???????(_S)"
+
+msgid "Save _Video..."
+msgstr "?????(_V)"
+
+msgid "Save as script"
+msgstr "??????????"
+
+msgid "Save as script [Ctrl-J]"
+msgstr "?????????? [Ctrl-J]"
+
+msgid "Save filter list [Ctrl-S]"
+msgstr "?????????? [Ctrl-S]"
+
+msgid "Save set of filters"
+msgstr "?????????"
+
+msgid "Save the file"
+msgstr "?????????"
+
+msgid "Saved \"%s\"."
+msgstr "\"%s\" ???."
+
+msgid "Saved %d images."
+msgstr "%d ?????."
+
+msgid "Saving %s as a BMP file failed."
+msgstr "%s ?BMP?????????????????."
+
+msgid "Saving as set of jpegs"
+msgstr "JPEG??????"
+
+msgid "Saving audio"
+msgstr "?????"
+
+msgid "Saving failed"
+msgstr "?????"
+
+msgid "Saving raw video stream"
+msgstr "raw ???????????"
+
+msgid "Saving the job failed. Maybe you have permission issue with ~/.avidemux"
+msgstr "?????????. ~/.avidemux ?????????????"
+
+msgid "Scanning OGM"
+msgstr "OGM??????"
+
+msgid "Scene Cut Threshold"
+msgstr "????????"
+
+msgid "Scene change detect"
+msgstr "???????"
+
+msgid "Second Audio Track"
+msgstr "????????"
+
+msgid "Second Pass"
+msgstr "??????"
+
+msgid "Second track loaded"
+msgstr "?????????????"
+
+msgid "Seconds"
+msgstr "?"
+
+msgid "See Hex"
+msgstr "16??????"
+
+msgid "Seeking"
+msgstr "????"
+
+msgid "Select"
+msgstr "??"
+
+msgid "Select  file to save "
+msgstr "???????????"
+
+msgid "Select .idx"
+msgstr ".idx???"
+
+msgid "Select .idx file"
+msgstr ".idx???????"
+
+msgid "Select 1-pass or 2-pass encoding"
+msgstr "1-???2-???????????"
+
+msgid "Select 2nd audio Track"
+msgstr "???????????"
+
+msgid "Select AC3 to load "
+msgstr "???AC3???"
+
+msgid "Select AVI file to append..."
+msgstr "????AVI???????..."
+
+msgid "Select AVI file..."
+msgstr "AVI???????..."
+
+msgid "Select Avi file to write"
+msgstr "???AVI???????"
+
+msgid "Select BMP to save "
+msgstr "????BMP???"
+
+msgid "Select Color"
+msgstr "????"
+
+msgid "Select Copy as the video codec."
+msgstr "????????????????."
+
+msgid "Select Custom Matrix File to write"
+msgstr "????????????????????"
+
+msgid "Select DVD as the video codec for MPEG TS output."
+msgstr "DVD?MPEG TS???????????????"
+
+msgid "Select Directory"
+msgstr "???????"
+
+msgid "Select ECMAScript to run "
+msgstr "????ECMA????????"
+
+msgid "Select File"
+msgstr "???????"
+
+msgid "Select Glyoh to save"
+msgstr "??????????"
+
+msgid "Select Glyphfile to save to"
+msgstr "??????????????"
+
+msgid "Select Jpeg sequence to save "
+msgstr "????JPEG?????"
+
+msgid "Select Jpeg to save "
+msgstr "????JPEG???"
+
+msgid "Select Language :"
+msgstr "???? :"
+
+msgid "Select MP3 to load "
+msgstr "???MP3???"
+
+msgid "Select MPEG as the output."
+msgstr "MPEG??????????"
+
+msgid "Select OGM file to write"
+msgstr "???OGM???????"
+
+msgid "Select SRT to save"
+msgstr "????SRT???"
+
+msgid "Select Sub"
+msgstr "?????"
+
+msgid "Select Vob file to scan"
+msgstr "??????VOB???????"
+
+msgid ""
+"Select WAV PCM as the audio codec, otherwise the audio file would be raw PCM."
+msgstr ""
+"WAV PCM?????????????????. ??????????????raw "
+"PCM?????."
+
+msgid "Select WAV to load "
+msgstr "???WAV???"
+
+msgid "Select Xvid matrix file to load"
+msgstr "???XviD?????????????"
+
+msgid "Select a directory"
+msgstr "???????"
+
+msgid "Select a second audio track in the Audio menu."
+msgstr "??????????????????."
+
+msgid "Select background picture"
+msgstr "???????"
+
+msgid "Select color"
+msgstr "???"
+
+msgid "Select dual audio AVI to write"
+msgstr "???????AVI???"
+
+msgid "Select ecmascript to run "
+msgstr "????ECMA????????"
+
+msgid "Select file to save"
+msgstr "???????????"
+
+msgid "Select file to save audio"
+msgstr "??????????????"
+
+msgid "Select ifo file to use"
+msgstr "??IFO???????"
+
+msgid "Select postprocessing level"
+msgstr "?????????"
+
+msgid "Select raw file to save "
+msgstr "????raw???????"
+
+msgid "Select the output file"
+msgstr "?????????"
+
+msgid "Select video to write"
+msgstr "????????"
+
+msgid "Select vobsub to write"
+msgstr "???VobSub???"
+
+msgid "Select workbench to save"
+msgstr "?????????????"
+
+msgid "Select workbench to save "
+msgstr "?????????????"
+
+msgid "Selection: end"
+msgstr "??: ??"
+
+msgid "Selection: start"
+msgstr "??: ??"
+
+msgid "Sensibility"
+msgstr "??"
+
+msgid "Separate"
+msgstr "??"
+
+msgid "Set Marker _A"
+msgstr "????A???(_A)"
+
+msgid "Set Marker _B"
+msgstr "????B???(_B)"
+
+msgid "Set a common predefined aspect ratio"
+msgstr "???????????????????"
+
+msgid "Set a custom aspect ratio. Default 1:1 is recommended for most video."
+msgstr "???????????????. ?????1:1????????????"
+
+msgid ""
+"Set how many previous frames can be referenced by a P/B-frame. Numbers above "
+"5 do not seem to improve quality greatly. Numbers are 3 to 5 are recommended"
+msgstr ""
+"????????????P/B-?????????????. 5??????????"
+"?????????. 3??5?????"
+
+msgid "Set how much \"bitrate bonus\" a keyframe can get"
+msgstr "??????????????? \"??????????\" ???????"
+
+msgid ""
+"Set how much bitrate is deducted from a B-frame as compared to the previous "
+"P-frame"
+msgstr ""
+"?P-?????????B-????????????????????????"
+
+msgid ""
+"Set maximum frame interval between IDR frames. Defines the maximum amount a "
+"frame can be reused and referenced by other frames before a new clean one is "
+"established"
+msgstr ""
+"IDR???????????????????. ?????????????????"
+"?????????????????????????????????????"
+
+msgid ""
+"Set minimum frame interval between IDR frames. Defines the minimum amount a "
+"frame can be reused and referenced by other frames before a new clean one is "
+"established"
+msgstr ""
+"IDR???????????????????. ?????????????????"
+"?????????????????????????????????????"
+
+msgid "Set the amount of blurring to use for block edges when they are found"
+msgstr ""
+"??????????????????????????????????????"
+
+msgid "Set the amount of noise reduction"
+msgstr "???????????????"
+
+msgid ""
+"Set the maximum number of consecutive B-frames. This defines how many "
+"duplicate frames can be droped. Numbers 2 to 5 are recommended. This greatly "
+"improves the use of bitrate and quality"
+msgstr ""
+"??B-?????????????????. ?????????????????"
+"??. 2??5?????. ?????????????????????"
+
+msgid "Set your markers correctly."
+msgstr "???????????????."
+
+msgid "Sharp :"
+msgstr "???? :"
+
+msgid "Sharpen/Blur"
+msgstr "????/???"
+
+msgid "Sharpness"
+msgstr "?????"
+
+msgid "Shift (ms) :"
+msgstr "?? (ms) :"
+
+msgid "Shift:"
+msgstr "??:"
+
+msgid "Show _Joblist"
+msgstr "????????(_J)"
+
+msgid "Show _frame"
+msgstr "???????(_F)"
+
+msgid "Show _mask"
+msgstr "??????(_M)"
+
+msgid "Show builtin support"
+msgstr "?????????"
+
+msgid "Show info"
+msgstr "?????"
+
+msgid "Show interlaced areas (for test!)"
+msgstr "???????????(????!)"
+
+msgid "Show metric in image (debug)"
+msgstr "????????????(?????)"
+
+msgid "Show motion Vectors"
+msgstr "?????????"
+
+msgid "Shrink factor"
+msgstr "???"
+
+msgid "Shut down computer when finished"
+msgstr "?????????????????????"
+
+msgid "Side"
+msgstr "???"
+
+msgid "Single Pass - Bitrate"
+msgstr "1-?? - ??????"
+
+msgid "Single Pass - Bitrate (Average)"
+msgstr "1-?? - ?????? (??)"
+
+msgid "Single Pass - Quality Quantizer (Average)"
+msgstr "1-?? - ?????? (??)"
+
+msgid "Single Pass - Quality Quantizer (Constant)"
+msgstr "1-?? - ?????? (??)"
+
+msgid "Single Pass - Quantizer"
+msgstr "1-?? - ????"
+
+msgid "Single pass - bitrate"
+msgstr "1-?? - ??????"
+
+msgid "Single pass - constant quality"
+msgstr "1-?? - ????"
+
+msgid "Single pass - quantizer"
+msgstr "1-?? - ????"
+
+msgid "Single pass:Quantizer"
+msgstr "1-??: ????"
+
+msgid "Size is not (s)QCIF"
+msgstr "????(s)QCIF????"
+
+msgid "Size mismatch"
+msgstr "?????????"
+
+msgid "Skip Glyph"
+msgstr "????????"
+
+msgid "Skip all"
+msgstr "???????"
+
+msgid "Skip spatial temporal check"
+msgstr "??-???????????"
+
+msgid "Slow (full luma and chroma)"
+msgstr "??(???????)"
+
+msgid "Slow iterative motion search"
+msgstr "??, ???????"
+
+msgid "Smaller means more deinterlacing"
+msgstr "???????????????????????"
+
+msgid "Something bad happened"
+msgstr "????????????"
+
+msgid "Something bad happened (II)"
+msgstr "???????????? (II)"
+
+msgid "Something bad happened (II))"
+msgstr "???????????? (II)"
+
+msgid "Something failed"
+msgstr "?????????"
+
+msgid "Something failed when appending"
+msgstr "?????????????"
+
+msgid "Something very wrong happened when buildint joblist"
+msgstr "??????????????????????????"
+
+msgid "Source :"
+msgstr "??? :"
+
+msgid "Source aspect ratio"
+msgstr "??????????"
+
+msgid "Spatial"
+msgstr "???"
+
+msgid "Split every MBytes"
+msgstr "MBytes????"
+
+msgid "Split mpegs every (MB)"
+msgstr "MPEG??? (MB)"
+
+msgid "Stabilize Threshold"
+msgstr "?????"
+
+msgid "Standard"
+msgstr "??"
+
+msgid "Start frame for partial :"
+msgstr "?????????????? :"
+
+msgid "Start frame for this vignette."
+msgstr "?????????????????"
+
+msgid "Start must be before end, and both within video # of frames."
+msgstr ""
+"??????????????????????????????????????"
+"?"
+
+msgid "StartOcr"
+msgstr "OCR??"
+
+msgid "Started at"
+msgstr "???"
+
+msgid "Stereo"
+msgstr "????"
+
+msgid "Stereo Front+Stero Rear"
+msgstr "???? ????+???? ??"
+
+msgid "Stereo+Center"
+msgstr "????+???"
+
+msgid "Stereo+Center+Surround"
+msgstr "????+???+?????"
+
+msgid "Stereo+Surround"
+msgstr "????+?????"
+
+msgid "Stop"
+msgstr "??"
+
+msgid "Strategy"
+msgstr "?????"
+
+msgid "Strength :"
+msgstr "?? :"
+
+msgid "Strength:"
+msgstr "??:"
+
+msgid "Subtitle file "
+msgstr "??????"
+
+msgid "Subtitle selector"
+msgstr "??????"
+
+msgid "Subtitle to load"
+msgstr "?????"
+
+msgid "Subtitles"
+msgstr "??"
+
+msgid "Succeeded"
+msgstr "????"
+
+msgid "Sure ?"
+msgstr "???"
+
+msgid "Sure you want to abort ?"
+msgstr "????????? ?"
+
+msgid "Sure!"
+msgstr "??!"
+
+msgid "Swap U & V"
+msgstr "U?V???"
+
+msgid "Swap U&V"
+msgstr "U?V???"
+
+msgid "Swap UV"
+msgstr "UV?????"
+
+msgid "Switch audio codec to Copy."
+msgstr "?????????????????."
+
+msgid "TDeint param"
+msgstr "TDeint ?????"
+
+msgid "TTF font to use"
+msgstr "????TTF????"
+
+msgid "T_woway"
+msgstr "???(_W)"
+
+msgid "Take audio from external AC3 file"
+msgstr "??AC3???????????"
+
+msgid "Take audio from external MP3 file"
+msgstr "??MP3???????????"
+
+msgid "Take audio from external WAV file"
+msgstr "??WAV???????????"
+
+msgid "Take audio from video file"
+msgstr "?????????????"
+
+msgid "Target Bitrate (kb/s)   "
+msgstr "???????? (kb/s)"
+
+msgid "Target FinalSize (MB):"
+msgstr "???????(MB):"
+
+msgid "Target Size:"
+msgstr "?????:"
+
+msgid "Target bitrate (kb/s):"
+msgstr "????????(kb/s):"
+
+msgid "Target size (MBytes):"
+msgstr "?????(MBytes):"
+
+msgid "Target type"
+msgstr "?????"
+
+msgid "Target video bitrate"
+msgstr "??????????"
+
+msgid "Temp. Blur of Quant after CC"
+msgstr "CC???????????"
+
+msgid "Temp. Blur of est Frame Complexity"
+msgstr "?????????????????"
+
+msgid "Temporal"
+msgstr "???"
+
+msgid "Temporal & Spatial check"
+msgstr "?????????"
+
+msgid ""
+"The beginning frame is not a key frame.\n"
+"Please move the A marker."
+msgstr ""
+"??????????????????????.\n"
+"????A????????."
+
+msgid "The custom matrix file has been successfully loaded."
+msgstr "????????????????????????"
+
+msgid ""
+"The file you just loaded contains several audio tracks.\n"
+"Go to Audio->MainTrack to select the active one."
+msgstr ""
+"???????????????????????????.\n"
+"??->????? ???????????????????."
+
+msgid "The filter is already partial"
+msgstr "????????????"
+
+msgid "The first frame is not intra frame"
+msgstr "???????? I-???????????"
+
+msgid ""
+"The higher this value, the more bits get assigned to frames below the "
+"average frame size"
+msgstr ""
+"?????????????????????????????????????"
+
+msgid ""
+"The higher this value, the more bits get taken from frames larger than the "
+"average size, and redistributed to others"
+msgstr ""
+"??????????????????????????????????????"
+"??????????"
+
+msgid ""
+"The number of channels is greater than what the selected audio codec can "
+"do.\n"
+"Either change codec or use the mixer filter to have less channels."
+msgstr ""
+"????????????????????????????.\n"
+"??????????????????????????????????????"
+"??."
+
+msgid "The selected audio file does not exist."
+msgstr "?????????????????"
+
+msgid "The unpacking succeedeed but the index is still not up to date."
+msgstr "???????????????????????????????."
+
+msgid "There is no audio track"
+msgstr "????????????"
+
+msgid "There is no jobs stored, nothing to do"
+msgstr "????????????????"
+
+msgid "There is no second track"
+msgstr "????????????"
+
+msgid "There is several mpeg file, append them ?"
+msgstr "???mpeg?????????. ????????? ?"
+
+msgid "This a VOP packed AVI."
+msgstr "???VOP????AVI??."
+
+msgid "This cannot have packed VOP"
+msgstr "???????VOP?????"
+
+msgid "This is not MPEG compatible"
+msgstr "???MPEG?????????"
+
+msgid ""
+"This is to be used to undo packed vop on mpeg4.\n"
+"Continue ?"
+msgstr ""
+"???MPEG4?????vop??????????.\n"
+"???????"
+
+msgid ""
+"This looks like mpeg\n"
+" Do you want to index it?"
+msgstr ""
+"??? mpeg ?????\n"
+" ???????????????? ?"
+
+msgid "This will make trouble for avi files."
+msgstr "???AVI?????????????."
+
+msgid "Threshold"
+msgstr "??"
+
+msgid "Threshold 1"
+msgstr "?? 1"
+
+msgid "Threshold 2"
+msgstr "?? 2"
+
+msgid "Threshold :"
+msgstr "?? :"
+
+msgid "Time left :"
+msgstr "???? :"
+
+msgid "Time: "
+msgstr "??: "
+
+msgid "Timecode :"
+msgstr "?????? :"
+
+msgid "Timeshift"
+msgstr "????"
+
+msgid "Tmpeng "
+msgstr "TMPGEnc "
+
+msgid "Tmpgenc"
+msgstr "TMPGEnc"
+
+msgid "Top"
+msgstr "???"
+
+msgid "Top Field First"
+msgstr "??????????"
+
+msgid "Top Field first"
+msgstr "??????????"
+
+msgid "Top field (keep bottom)"
+msgstr "????????(??????)"
+
+msgid "Top:"
+msgstr "?:"
+
+msgid "Total Duration:"
+msgstr "????:"
+
+msgid "Total size"
+msgstr "?????"
+
+msgid "Total size (MB):"
+msgstr "????? (MB):"
+
+msgid "Total size (custom)"
+msgstr "?????(????)"
+
+msgid "Track _1:"
+msgstr "???? _1:"
+
+msgid "Track _2: "
+msgstr "???? _2: "
+
+msgid "Transform"
+msgstr "??"
+
+msgid "Transformation"
+msgstr "??"
+
+msgid "Trouble initializing audio device"
+msgstr "?????????????"
+
+msgid "Try 'File' -> 'Load/Run Project...'"
+msgstr "'????' -> '??????????/??'?????????"
+
+msgid "Try backward"
+msgstr "??????"
+
+msgid "Turbo Mode"
+msgstr "??????"
+
+msgid "Two Pass (bitrate) "
+msgstr "2-?? (??????)"
+
+msgid "Two Pass (filesize) "
+msgstr "2-?? (???????)"
+
+msgid "Two Pass - Average bitrate"
+msgstr "2-?? - ????????"
+
+msgid "Two Pass - File Size"
+msgstr "2-?? - ???????"
+
+msgid "Two pass"
+msgstr "2-??"
+
+msgid "Two pass - average bitrate"
+msgstr "2-?? - ????????"
+
+msgid "Two pass - video size"
+msgstr "2-?? - ?????"
+
+msgid "Two pass tuning"
+msgstr "2????"
+
+msgid "Two pass, average bitrate"
+msgstr "2-??, ????????"
+
+msgid "Two pass, final size"
+msgstr "2-??, ?????"
+
+msgid "Two pass-Avg bitrate"
+msgstr "2??-????????"
+
+msgid "Two pass-filesize"
+msgstr "2??-???????"
+
+msgid "Type"
+msgstr "???"
+
+msgid "Type :"
+msgstr "??? :"
+
+msgid "U Shift :"
+msgstr "U ???:"
+
+msgid "UV to Y link"
+msgstr "UV?Y????"
+
+msgid "Uncheck to enable fast p-skip"
+msgstr "??????????P-??????????"
+
+msgid "Uneven multi hexagon"
+msgstr "????????"
+
+msgid "Unknown event"
+msgstr "???????"
+
+msgid "Unknown flag :"
+msgstr "????? :"
+
+msgid "Unsupported"
+msgstr "?????"
+
+msgid "Use 4 motion vectors per macroblock, might give better compression"
+msgstr "??????????4?????????????????????"
+
+msgid "Use Chroma to decide"
+msgstr "????????"
+
+msgid "Use Chroma to evalute"
+msgstr "????????"
+
+msgid "Use Quarter pixel resolution for a more precise motion estimation"
+msgstr "??????????1/4 ??????????"
+
+msgid "Use Xvid Rate Control"
+msgstr "XviD????????"
+
+msgid "Use Xvid ratecontrol"
+msgstr "XviD????????"
+
+msgid "Use also chroma to detect scene change"
+msgstr "?????????????????"
+
+msgid "Use alternative tag for mp3 in .mp4"
+msgstr ".mp4?mp3????????"
+
+msgid "Use as reference"
+msgstr "???????"
+
+msgid "Use chroma information to estimate motion"
+msgstr "????????????"
+
+msgid ""
+"Use fewer B-frame if needed. This is always recommended. If not enabled, the "
+"codec will always use the maximum number of consecutive B-frames"
+msgstr ""
+"?????????B-???????. ???????????. ????????"
+"?????????????B-????????????"
+
+msgid "Use lavcodec mpeg2 decoder"
+msgstr "lavcodec MPEG2 ???????"
+
+msgid "Use linear blend ?"
+msgstr "????????????? ?"
+
+msgid ""
+"Use rate distortion quantization to find optimal encoding for each block. "
+"Level 0 equals disabled, level 1 equals normal and level 2 equals high"
+msgstr ""
+"????????????????????????????. ???0??????"
+"??1????????2?????????"
+
+msgid "Use systray while encoding"
+msgstr "????????????????"
+
+msgid "Use that mode"
+msgstr "????????"
+
+msgid "Use the &lt;&lt; and the &gt;&gt; buttons to move using Intra frames."
+msgstr ""
+"I-?????????????? &lt;&lt; ? &gt;&gt; ??????????."
+
+msgid "User Interface"
+msgstr "??????????"
+
+msgid ""
+"Uses chroma (color) components for motion for compression and helps the "
+"quality"
+msgstr "?????(?)????????????????????"
+
+msgid "Using backup decoder - not frame accurate."
+msgstr "????????????? - ???????????."
+
+msgid "V Shift :"
+msgstr "V ???:"
+
+msgid "VBR"
+msgstr "VBR"
+
+msgid "VBR (Quality based)"
+msgstr "VBR (??????)"
+
+msgid "VBV buffer size"
+msgstr "VBV???????"
+
+msgid "VCD resolution [Ctrl-4]"
+msgstr "VCD  ??? [Ctrl-4]"
+
+msgid "VHQ enables an additional search process to increase quality"
+msgstr "VHQ ???????????????????"
+
+msgid "VHQ mode:"
+msgstr "VHQ ???:"
+
+msgid "Variable Bitrate:"
+msgstr "????????:"
+
+msgid "Variable bitrate mode"
+msgstr "???????????"
+
+msgid "Vertical deblocking"
+msgstr "???????"
+
+msgid "Vi_deo"
+msgstr "??(_D)"
+
+msgid "Video"
+msgstr "??"
+
+msgid "Video Display"
+msgstr "????"
+
+msgid "Video Duration  "
+msgstr "????"
+
+msgid "Video Filter Manager"
+msgstr "?? ???? ?????"
+
+msgid "Video Filters"
+msgstr "??????"
+
+msgid "Video _display:"
+msgstr "????(_D):"
+
+msgid "Video bitrate:"
+msgstr "????????:"
+
+msgid "Video encoder"
+msgstr "???????"
+
+msgid "Video filters"
+msgstr "??????"
+
+msgid "Video size (MB):"
+msgstr "????? (MB):"
+
+msgid "Video stream :"
+msgstr "??????? :"
+
+msgid "VideoCodec"
+msgstr "???????"
+
+msgid "Vignette Height"
+msgstr "??????"
+
+msgid "Vignette Width"
+msgstr "?????"
+
+msgid "Vob :"
+msgstr "VOB?:"
+
+msgid "Vob to Vobsub"
+msgstr "Vob?VobSub?"
+
+msgid "VobSub Settings"
+msgstr "VobSub???"
+
+msgid "Volume control"
+msgstr "????"
+
+msgid "WAV open file failed..."
+msgstr "WAV???????????..."
+
+msgid "Weighted biprediction"
+msgstr "???????"
+
+msgid "Width and height cannot be 0"
+msgstr "????? 0 ???????"
+
+msgid "Width and height cannot be odd"
+msgstr "????? ?????????"
+
+msgid "Width is not a multiple of 8"
+msgstr "?? 8 ??????????"
+
+msgid ""
+"Width is not a multiple of 8\n"
+" continue anyway ?"
+msgstr ""
+"??8??????????\n"
+" ????????? ?"
+
+msgid "Wrong output format"
+msgstr "???????"
+
+msgid "Wrong video codec"
+msgstr "??????????"
+
+msgid "X264 configuration"
+msgstr "X264 ??"
+
+msgid "XVCD encoding"
+msgstr "XVCD ?????"
+
+msgid "XviD encoding options"
+msgstr "XviD??????????"
+
+msgid "Xvid Encoder"
+msgstr "XviD ?????"
+
+msgid "Y to UV link"
+msgstr "Y?UV????"
+
+msgid "Yes"
+msgstr "??"
+
+msgid "You can't remove all frames"
+msgstr "?????????????"
+
+msgid "You can't use the Copy codec."
+msgstr "????????????????."
+
+msgid ""
+"You cannot mix different video dimensions yet. Using the partial video "
+"filter later, will not work around this problem. The workaround is:\n"
+"1.) \"resize\" / \"add border\" / \"crop\" each stream to the same "
+"resolution\n"
+"2.) concatinate them together"
+msgstr ""
+"?????????????????. ????????????????????"
+"???????????. ???:\n"
+"1.) ??????? \"resize\" / \"add border\" / \"crop\" ?????????"
+"???\n"
+"2.) ??????????"
+
+msgid ""
+"You don't have FAAC!.\n"
+"It is needed to create PSP compatible video."
+msgstr ""
+"FAAC????!\n"
+"PSP????????????????."
+
+msgid ""
+"You may need smart copy.\n"
+" Enable it ?"
+msgstr ""
+"????????????.\n"
+"????????????"
+
+msgid "You should use Tool->Rebuild frame. Do it now ?"
+msgstr "???->???????? ???????. ??????? ?"
+
+msgid "Z_oom 1:2"
+msgstr "??? 1:2 (_O)"
+
+msgid "Zoom _1:1"
+msgstr "??? 1:1 (_1)"
+
+msgid "Zoom _2:1"
+msgstr "??? 2:1 (_2)"
+
+msgid "Zoom _4:1"
+msgstr "??? 4:1 (_4)"
+
+msgid "_4MV"
+msgstr "_4MV"
+
+msgid "_A/V Sidebar"
+msgstr "A/V??????(_A)"
+
+msgid "_About"
+msgstr "Avidemux????(_A)"
+
+msgid "_Accept non-standard audio frequency for DVD"
+msgstr "DVD?????????????????(_A)"
+
+msgid "_Append..."
+msgstr "??(_A)"
+
+msgid "_Aspect ratio"
+msgstr "??????(_A)"
+
+msgid "_Audio"
+msgstr "??(_A)"
+
+msgid "_Audio output:"
+msgstr "????(_A):"
+
+msgid "_Audio source:"
+msgstr "?????(_A):"
+
+msgid "_Autolevel"
+msgstr "?????(_A)"
+
+msgid "_Average bitrate (kb/s):"
+msgstr "????????(kb/s) (_A):"
+
+msgid "_BVHQ"
+msgstr "_BVHQ"
+
+msgid "_Bitrate (kb/s):"
+msgstr "??????(kb/s):"
+
+msgid "_Bitrate Histogram"
+msgstr "?????? ??????(_B)"
+
+msgid "_Bitrate:"
+msgstr "??????(_B):"
+
+msgid "_Blend"
+msgstr "????(_B)"
+
+msgid "_Blue:"
+msgstr "?(_B):"
+
+msgid "_Bottom margin"
+msgstr "???(_B)"
+
+msgid "_Browse..."
+msgstr "??(_B)"
+
+msgid "_Buffer size:"
+msgstr "???????(_B):"
+
+msgid "_Build VBR Time Map"
+msgstr "VBR?????????(_B)"
+
+msgid "_Built-in Support"
+msgstr "??????(_B)"
+
+msgid "_Calculator"
+msgstr "??(_C)"
+
+msgid "_Contrast:"
+msgstr "??????(_C):"
+
+msgid "_Copy"
+msgstr "???(_C)"
+
+msgid "_Custom"
+msgstr "????(_C)"
+
+msgid "_Custom Matrix"
+msgstr "??????????(_C)"
+
+msgid "_Custom size (MB):"
+msgstr "???????(_C) (MB):"
+
+msgid "_DVD"
+msgstr "_DVD"
+
+msgid "_Decoder Options"
+msgstr "?????????(_D)"
+
+msgid "_Deinterlacing:"
+msgstr "???????(_D):"
+
+msgid "_Delete"
+msgstr "??(_D)"
+
+msgid "_Deringing"
+msgstr "????(_D)"
+
+msgid "_Disable NUV audio sync"
+msgstr "NUV ??????????(_D)"
+
+msgid "_Edit"
+msgstr "??(_E)"
+
+msgid "_Encoder"
+msgstr "?????(_E)"
+
+msgid "_Encoding mode:"
+msgstr "????????(_E):"
+
+msgid "_Encoding priority:"
+msgstr "?????????(_E):"
+
+msgid "_End frame:"
+msgstr "??????(_E):"
+
+msgid "_External file:"
+msgstr "??????(_E):"
+
+msgid "_Extra"
+msgstr "??(_E)"
+
+msgid "_Fade type:"
+msgstr "???????(_F):"
+
+msgid "_Field dominance:"
+msgstr "???????(_F):"
+
+msgid "_Field order:"
+msgstr "?????????(_F):"
+
+msgid "_File"
+msgstr "????(_F)"
+
+msgid "_Filesize tolerance (kb):"
+msgstr "?????????(kb) (_F):"
+
+msgid "_Filter directory:"
+msgstr "?????????(_F):"
+
+msgid "_Filter strength:"
+msgstr "???????(_F):"
+
+msgid "_Filters"
+msgstr "????(_F)"
+
+msgid "_First Frame"
+msgstr "???????(_F)"
+
+msgid "_Font scale"
+msgstr "????????(_F)"
+
+msgid "_Format:"
+msgstr "??(_F):"
+
+msgid "_Frame Hex Dump"
+msgstr "????16????(&F)"
+
+msgid "_Frame Rate"
+msgstr "???????(_F)"
+
+msgid "_GMC"
+msgstr "_GMC"
+
+msgid "_GOP size:"
+msgstr "GOP???(_G):"
+
+msgid "_Go"
+msgstr "??(_G)"
+
+msgid "_Green:"
+msgstr "?(_G):"
+
+msgid "_Greyscale"
+msgstr "???????(_G)"
+
+msgid "_Help"
+msgstr "???(_H)"
+
+msgid "_High quality"
+msgstr "???(_H)"
+
+msgid "_Horizontal deblocking"
+msgstr "???????(_H)"
+
+msgid "_Horizontal stacking:"
+msgstr "??????(_H):"
+
+msgid "_Identical:"
+msgstr "??(_I):"
+
+msgid "_Indexing/unpacking priority:"
+msgstr "????????/?????????(_I):"
+
+msgid "_Initial:"
+msgstr "??(_I):"
+
+msgid "_Interlaced"
+msgstr "??????(_I)"
+
+msgid "_Interlacing:"
+msgstr "??????(_I):"
+
+msgid "_Job name:"
+msgstr "????(_J)"
+
+msgid "_Jump to Frame..."
+msgstr "???????(_J)"
+
+msgid "_Last Frame"
+msgstr "???????(_L)"
+
+msgid "_Line spacing"
+msgstr "???????(_L)"
+
+msgid "_Load external filters"
+msgstr "??????????(_L)"
+
+msgid "_Load/Run Project..."
+msgstr "??????????/??(_L)"
+
+msgid "_Local playback downmixing:"
+msgstr "?????????????(_L):"
+
+msgid "_Luma lock:"
+msgstr "?????(_L):"
+
+msgid "_Luma threshold:"
+msgstr "????(_L)?:"
+
+msgid "_Macroblock decision:"
+msgstr "?????????(_M):"
+
+msgid "_Main Toolbar"
+msgstr "??????(_M)"
+
+msgid "_Main Track"
+msgstr "?????(_M)"
+
+msgid "_Map"
+msgstr "???(_M)"
+
+msgid "_Mask"
+msgstr "??? (_M)"
+
+msgid "_Matrices:"
+msgstr "??????(_M):"
+
+msgid "_Medium:"
+msgstr "????(_M):"
+
+msgid "_Message level:"
+msgstr "????????(_M):"
+
+msgid "_Mode:"
+msgstr "???(_M):"
+
+msgid "_New frame rate:"
+msgstr "?????????(_N)"
+
+msgid "_Next"
+msgstr "??(_N)"
+
+msgid "_Next Frame"
+msgstr "??????(_N)"
+
+msgid "_Noise:"
+msgstr "???(_N):"
+
+msgid "_Number of B frames:"
+msgstr "B-?????:"
+
+msgid "_Number of threads:"
+msgstr "?????(_N):"
+
+msgid "_OCR (VobSub -> srt)"
+msgstr "_OCR (VobSub -> srt)"
+
+msgid "_Open..."
+msgstr "??(_O)"
+
+msgid "_Paste"
+msgstr "????(_P)"
+
+msgid "_Play/Stop"
+msgstr "??/??(_P)"
+
+msgid "_Playback priority:"
+msgstr "??????(_P):"
+
+msgid "_Postprocessing"
+msgstr "???(_P)"
+
+msgid "_Preview"
+msgstr "?????(_P)"
+
+msgid "_Previous"
+msgstr "??(_P)"
+
+msgid "_Qpel"
+msgstr "_Qpel"
+
+msgid "_Quality:"
+msgstr "??(_Q):"
+
+msgid "_Quantization type:"
+msgstr "??????(_Q):"
+
+msgid "_Quantizer compression:"
+msgstr "?????(_Q):"
+
+msgid "_Quantizer:"
+msgstr "????(_Q):"
+
+msgid "_Quarter pixel"
+msgstr "1/4 ????(_Q)"
+
+msgid "_Quit"
+msgstr "??(_Q)"
+
+msgid "_Radius:"
+msgstr "??(_R):"
+
+msgid "_Rebuild Frames (I & B)"
+msgstr "????(I?B)????(_R)"
+
+msgid "_Red:"
+msgstr "?(_R):"
+
+msgid "_Reset Edits"
+msgstr "???????(_R)"
+
+msgid "_SVCD"
+msgstr "_SVCD"
+
+msgid "_Saturation:"
+msgstr "???(_S):"
+
+msgid "_Save"
+msgstr "??(_S)"
+
+msgid "_Scan for Black Frames..."
+msgstr "??????????(_S)"
+
+msgid "_Scene change:"
+msgstr "?????(_S):"
+
+msgid "_Second Track"
+msgstr "??????(_S)"
+
+msgid "_Sharp"
+msgstr "????(_S)"
+
+msgid "_Sharper engine:"
+msgstr "?????????????"
+
+msgid "_Show metrics"
+msgstr "??????(_S)"
+
+msgid "_Shrink Factor:"
+msgstr "???(_S):"
+
+msgid "_Shrink factor:"
+msgstr "???(_S):"
+
+msgid "_Spatial luma strength:"
+msgstr "????????(_S):"
+
+msgid "_Split MPEG files every (MB):"
+msgstr "??MB??MPEG?????????(_S):"
+
+msgid "_Split every MB:"
+msgstr "??MB????(_S):"
+
+msgid "_Start frame:"
+msgstr "??????(_S):"
+
+msgid "_Strength:"
+msgstr "??(_S):"
+
+msgid "_Subtitle file (ass/ssa)"
+msgstr "??????(_S) (ass/ssa)"
+
+msgid "_Swap U&V:"
+msgstr "U?V???(_S):"
+
+msgid "_Temporal strength:"
+msgstr "?????(_T):"
+
+msgid "_Threshold:"
+msgstr "??(_T):"
+
+msgid "_Tools"
+msgstr "???(_T)"
+
+msgid "_Top margin"
+msgstr "???(_T)"
+
+msgid "_Track from video:"
+msgstr "?????????(_T):"
+
+msgid "_Trellis quantization"
+msgstr "_Trellis ???"
+
+msgid "_Use Xvid rate control"
+msgstr "XviD ????????(_U)"
+
+msgid "_Use alternative tag for MP3 in .mp4"
+msgstr ".mp4?mp3????????(_U)"
+
+msgid "_Use libavcodec MPEG-2 decoder"
+msgstr "libavcodec MPEG-2 ???????(_U)"
+
+msgid "_Use systray while encoding"
+msgstr "??????????????(_U)"
+
+msgid "_VCD"
+msgstr "_VCD"
+
+msgid "_VOB -> VobSub"
+msgstr "_VOB -> VobSub"
+
+msgid "_Vertical deblocking"
+msgstr "???????(_V)"
+
+msgid "_Vertical stacking:"
+msgstr "??????(_V):"
+
+msgid "_Video size (MB):"
+msgstr "?????(MB) (_V):"
+
+msgid "_View"
+msgstr "??(_V)"
+
+msgid "_Volume control:"
+msgstr "????(_V):"
+
+msgid "_Weight:"
+msgstr "??(_W):"
+
+msgid "_Zoom 1:4"
+msgstr "??? 1:4 (_Z)"
+
+msgid "can't create custom directory (%s)."
+msgstr "???????? (%s) ????????."
+
+msgid "can't create job directory (%s)."
+msgstr "??????? (%s) ????????."
+
+msgid "can't determine $HOME."
+msgstr "$HOME ????????."
+
+msgid "can't determine $USERPROFILE."
+msgstr "$USERPROFILE ????????."
+
+msgid "font"
+msgstr "????"
+
+msgid "identical"
+msgstr "??"
+
+msgid "label5"
+msgstr "???5"
+
+msgid "label6"
+msgstr "???6"
+
+msgid "label7"
+msgstr "???7"
+
+msgid "lvemux init failed"
+msgstr "lvemux?????"
+
+msgid "menu"
+msgstr "????"
+
+msgid "motion Threshold, Chroma"
+msgstr "????, ??"
+
+msgid "motion Threshold, Luma"
+msgstr "????, ??"
+
+msgid "noise"
+msgstr "???"
+
+msgid "show"
+msgstr "??"
+
+msgid "sub"
+msgstr "sub"
+
+msgid "threshold"
+msgstr "??"
+
+msgid "translator-credits"
+msgstr "tetsuro"



From mean at mail.berlios.de  Sat May 12 20:14:16 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 12 May 2007 20:14:16 +0200
Subject: [Avidemux-svn-commit] r3071 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK:
	ADM_dialog ADM_filters
Message-ID: <200705121814.l4CIEGmO023741@sheep.berlios.de>

Author: mean
Date: 2007-05-12 20:14:15 +0200 (Sat, 12 May 2007)
New Revision: 3071

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp
Log:
flyDialog base class, factorize code between QT/GTK/.. and among filters that have a preview

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp	2007-05-12 10:38:08 UTC (rev 3070)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp	2007-05-12 18:14:15 UTC (rev 3071)
@@ -7,7 +7,7 @@
 			     +Autocrop now in RGB space (more accurate)
 
     begin                : Fri May 3 2002
-    copyright            : (C) 2002 by mean
+    copyright            : (C) 2002/2007 by mean
     email                : fixounet at free.fr
  ***************************************************************************/
 
@@ -20,14 +20,9 @@
  *                                                                         *
  ***************************************************************************/
 
-
-
 #include <config.h>
-
-
 #include <string.h>
 #include <stdio.h>
-
 #include <gdk/gdkkeysyms.h>
 #include <gtk/gtk.h>
 
@@ -45,466 +40,189 @@
 #include "ADM_video/ADM_genvideo.hxx"
 #include "ADM_colorspace/ADM_rgb.h"
 #include "ADM_assert.h"
+#include "DIA_flyDialog.h"
+#include "DIA_flyCrop.h"
 
 static GtkWidget	*create_dialog1 (void);
-static void  		ui_read ( void);
-static void  		ui_update ( void);
 static void 		draw (GtkWidget *dialog,uint32_t w,uint32_t h );
-static gboolean 	gui_draw( void );
-static void 		autocrop (void );
-static void 		reset( void );
-static void 		ui_upload(void);
-static gboolean		ui_changed(void);
 
-static uint8_t 		Metrics( uint8_t *in, uint32_t width,uint32_t *avg, uint32_t *eqt);
-static uint8_t 		MetricsV( uint8_t *in, uint32_t width,uint32_t *avg, uint32_t *eqt);
 
-static void		prepare(uint32_t img);
-static void 		frame_changed( void );
+/* Link between UI and core */
+static gboolean 	ui_draw( void );
+static void 		ui_autocrop (void );
+static void 		ui_reset( void );
+static void 		ui_upload(void);
+static void  		ui_read ( void);
+static void  		ui_update ( void);
+static void 		ui_frame_changed( void );
 
-extern void GUI_RGBDisplay(uint8_t * dis, uint32_t w, uint32_t h, void *widg);
-
-static ColYuvRgb    *rgbConv=NULL;
-static uint8_t *working=NULL;
-static uint8_t *original=NULL;
 static GtkWidget *dialog=NULL;
-static uint32_t left,right,top,bottom,width,height;
 
-static AVDMGenericVideoStream *incoming=NULL;
-static ADMImage *imgsrc=NULL;
+/* Prevent loop when updating value */
 
 static int lock=0;
-/*
-	W: Left
-	W2: Right
-	h: Top
-	h2: Bottom
-	Th: total height
-	TW: total width
-
-	video : Incoming video in RGB colorspace
-
-
-*/
-
-
-
+static flyCrop *myCrop=NULL;
 //
 //	Video is in YV12 Colorspace
 //
 //
 int DIA_getCropParams(	char *name,CROP_PARAMS *param,AVDMGenericVideoStream *in)
 {
-	// Allocate space for green-ised video
-	width=in->getInfo()->width;
-	height=in->getInfo()->height;
-	
-	
-	working=new uint8_t [width*height*4];	
-	original=NULL;
-
-	uint8_t ret=0;
-
-	dialog=create_dialog1();
-//	gtk_transient(dialog);
+  uint32_t width,height;
+        // Allocate space for green-ised video
+        width=in->getInfo()->width;
+        height=in->getInfo()->height;
+        
+        
+  
+        uint8_t ret=0;
+  
+        dialog=create_dialog1();
         gtk_register_dialog(dialog);
+        
+        gtk_widget_set_usize(WID(drawingarea1), width,height);
+        gtk_window_set_title (GTK_WINDOW (dialog), name);
+        gtk_widget_show(dialog);
 	
-	left=param->left;
-	right=param->right;
-	top=param->top;
-	bottom=param->bottom;
-	
-	imgsrc=new ADMImage(width,height);
-	incoming=in;
-	
-	 rgbConv=new ColYuvRgb(width,height);
-     rgbConv->reset(width,height);
-	
-	gtk_widget_set_usize(WID(drawingarea1), width,height);
-	gtk_window_set_title (GTK_WINDOW (dialog), name);
-	prepare(0);
-	gtk_widget_show(dialog);
-	
-
-	ui_upload();
-
-	ui_update();
-	
 #define CONNECT(x,y,z) 	gtk_signal_connect(GTK_OBJECT(WID(x)), #y,GTK_SIGNAL_FUNC(z),   NULL);
 
-	CONNECT(drawingarea1,expose_event,gui_draw);
-	CONNECT(buttonAutocrop,clicked,autocrop);
-	CONNECT(buttonReset,clicked,reset);
-	CONNECT(scale,value_changed,frame_changed);
-			      
-	  gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(buttonCancel), GTK_RESPONSE_CANCEL);
-	  gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(buttonOk),      GTK_RESPONSE_OK);
-	  gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(buttonApply),  GTK_RESPONSE_APPLY);
-		      
-#define CONNECT_SPIN(x) CONNECT(spinbutton##x, value_changed,ui_changed)
-      	  
-	  CONNECT_SPIN(Top);
-	  CONNECT_SPIN(Left);
-	  CONNECT_SPIN(Right);
-	  CONNECT_SPIN(Bottom);
-	  
-	  
-	draw(dialog,width,height);
+        CONNECT(drawingarea1,expose_event,ui_draw);
+        CONNECT(buttonAutocrop,clicked,ui_autocrop);
+        CONNECT(buttonReset,clicked,ui_reset);
+        CONNECT(scale,value_changed,ui_frame_changed);
+                              
+          gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(buttonCancel), GTK_RESPONSE_CANCEL);
+          gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(buttonOk),      GTK_RESPONSE_OK);
+          gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(buttonApply),  GTK_RESPONSE_APPLY);
 
-	ret=0;
-	int response;
-	while( (response=gtk_dialog_run(GTK_DIALOG(dialog)))==GTK_RESPONSE_APPLY)
-	{
-		ui_changed();
-		
-	}
-	if(response==GTK_RESPONSE_OK)
+#define CONNECT_SPIN(x) CONNECT(spinbutton##x, value_changed,ui_update)
+          
+          CONNECT_SPIN(Top);
+          CONNECT_SPIN(Left);
+          CONNECT_SPIN(Right);
+          CONNECT_SPIN(Bottom);
+          
+        myCrop=new flyCrop( width, height,in,WID(drawingarea1),WID(scale));
+        myCrop->left=param->left;
+        myCrop->right=param->right;
+        myCrop->top=param->top;
+        myCrop->bottom=param->bottom;
+        myCrop->upload();
+        myCrop->sliderChanged();
+        ret=0;
+        int response;
+        while( (response=gtk_dialog_run(GTK_DIALOG(dialog)))==GTK_RESPONSE_APPLY)
         {
-		ui_read( );
-		param->left=left;
-		param->right=right;
-		param->top=top;
-		param->bottom=bottom;
-		ret=1;
-	}
+          ui_update();
+        }
+        if(response==GTK_RESPONSE_OK)
+        {
+                ui_read( );
+                param->left=myCrop->left;
+                param->right=myCrop->right;
+                param->top=myCrop->top;
+                param->bottom=myCrop->bottom;
+                ret=1;
+        }
         gtk_unregister_dialog(dialog);
-	gtk_widget_destroy(dialog);
-	delete working;	
-	delete imgsrc;
-	delete rgbConv;
-	working=NULL;
-	dialog=NULL;
-	original=NULL;
-	imgsrc=NULL;
-	return ret;
+        gtk_widget_destroy(dialog);
+        delete myCrop;
+        return ret;
 }
-void frame_changed( void )
+/*
+      Link GTK dialog and core
+*/
+void ui_frame_changed( void )
 {
-uint32_t new_frame,max,l,f;
-double   percent;
-GtkWidget *wid;	
-GtkAdjustment *adj;
-	
-	max=incoming->getInfo()->nb_frames;
-	wid=WID(scale);
-	adj=gtk_range_get_adjustment (GTK_RANGE(wid));
-	new_frame=0;
-	
-	percent=(double)GTK_ADJUSTMENT(adj)->value;
-	percent*=max;
-	percent/=100.;
-	new_frame=(uint32_t)floor(percent);
-	
-	if(new_frame>=max) new_frame=max-1;
-	
-	prepare(new_frame);
-	ui_update();
-	gui_draw();
-	
-
+  myCrop->sliderChanged();
 }
-void prepare(uint32_t img)
+void ui_update(void)
 {
-	uint32_t l,f;
-	
-	ADM_assert(incoming->getFrameNumberNoAlloc(img,&l,imgsrc,&f));
-	original=imgsrc->data;
-	
-
+  if(lock) return;
+  myCrop->download();
+  myCrop->process();
+  myCrop->display();
 }
-gboolean ui_changed(void)
-{
-	if(!lock)
-	{
-		ui_read();
-		memcpy(working,original,(width*height*3)>>1);
-		ui_update();
-		draw(dialog,width,height);
-	}
-		return true;
-}
-
-
 /*---------------------------------------------------------------------------
 	Actually draw the working frame on screen
 */
-gboolean gui_draw( void )
+gboolean ui_draw( void )
 {
-	draw(dialog,width,height);
-	return true;
+        myCrop->display();
 }
-void draw (GtkWidget *dialog,uint32_t w,uint32_t h )
-{
-	GtkWidget *draw;
-	draw=WID(drawingarea1);
-
-	GUI_RGBDisplay(working, w,h, (void *)draw);
-}
-/*---------------------------------------------------------------------------
-	Read entried from dialog box
-*/
-
-#define SPIN_GET(x,y) {x= gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(WID(spinbutton##y))) ;}
-#define SPIN_SET(x,y)  {gtk_spin_button_set_value(GTK_SPIN_BUTTON(WID(spinbutton##y)),(gfloat)x) ;}
-
-
 void ui_read (void )
 {
-	int reject=0;
-	
-			SPIN_GET(left,Left);
-			SPIN_GET(right,Right);
-			SPIN_GET(top,Top);
-			SPIN_GET(bottom,Bottom);
-			
-			printf("%d %d %d %d\n",left,right,top,bottom);
-			
-			left&=0xffffe;
-			right&=0xffffe;
-			top&=0xffffe;
-			bottom&=0xffffe;
-			
-			if((top+bottom)>height)
-				{
-					top=bottom=0;
-					reject=1;
-				}
-			if((left+right)>width)
-				{
-					left=right=0;
-					reject=1;
-				}
-			if(reject)
-				ui_upload();
+        myCrop->download();
 }
-
 void ui_upload(void)
 {
-	lock++;
-	SPIN_SET(left,Left);
-	SPIN_SET(right,Right);
-	SPIN_SET(top,Top);
-	SPIN_SET(bottom,Bottom);
-	lock--;
+    myCrop->upload();
 }
-//____________________________________
-void reset( void )
+void ui_autocrop( void )
 {
-	
-	top=bottom=left=right=0;
-	ui_upload();
-	ui_update();
-	gui_draw();
-	
-
+  myCrop->autocrop();
 }
+void ui_reset( void )
+{
+        myCrop->left=0;
+        myCrop->right=0;
+        myCrop->bottom=0;
+        myCrop->top=0;
+        
+	myCrop->upload();
+        myCrop->process();
+        myCrop->display();
+}
+
 /*---------------------------------------------------------------------------
-	Green-ify the displayed frame on cropped parts
+	Read entried from dialog box
 */
-void ui_update( )
-{
-	uint32_t x,y;
-	uint8_t  *in;
-	uint32_t w=width,h=height;
-	uint8_t *buffer=working;
-	
-	//
-	//COL_yv12rgb(  w,   h,original,buffer );
-	rgbConv->scale(original,buffer);
-	// do top
-	in=buffer;
-	for(y=0;y<top;y++)
-	{
-		for(x=0;x<w;x++)
-		{
-			*in++=0;
-			
-			
-			*in++=0xff;
-			
-			*in++=0;
-			*in++=0;
-		}
-	}
-	// bottom
-	in=buffer+(w*4)*(h-bottom);
-	for(y=0;y<bottom;y++)
-	{
-		for(x=0;x<w;x++)
-		{
-			*in++=0;
-			
-			
-			*in++=0xff;
-			*in++=0;
-			*in++=0;
-		}
-	}
-	// left
-	in=buffer;
-	uint32_t stride=4*w-4;
-	for(y=0;y<h;y++)
-	{
-		for(x=0;x<left;x++)
-		{
-			*(in+4*x)=0;
-			
-			
-			*(in+4*x+1)=0xff;
-			*(in+4*x+2)=0;
-			*(in+4*x+3)=0;
-		}
-		for(x=0;x<right;x++)
-		{
-			*(in-4*x+stride-4)=0;
-			
-			
-			*(in-4*x+stride-3)=0xff;
-			*(in-4*x+stride-2)=0;
-			*(in-4*x+stride-1)=0;
-			
-		}
-		in+=4*w;
 
-	}
+#define SPIN_GET(x,y) {x= gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(WID(spinbutton##y))) ;}
+#define SPIN_SET(x,y)  {gtk_spin_button_set_value(GTK_SPIN_BUTTON(WID(spinbutton##y)),(gfloat)x) ;}
 
-	//right
-}
 
-/*----------------------------------
-  autocrop
------------------------------------*/
-void autocrop( void )
+//____________________________________
+uint8_t flyCrop::upload(void)
 {
-uint8_t *in;
-uint32_t y,avg,eqt;
-	// Top
-	
-#define THRESH_AVG   30
-#define THRESH_EQT   50
-	
-	in=original;
-	for(y=0;y<((height>>1)-2);y++)	
-	{
-		Metrics(in,width,&avg,&eqt);
-		in+=width;
-		//printf("LineT :%d avg: %d eqt: %d\n",y,avg,eqt);
-		if(avg> THRESH_AVG || eqt > THRESH_EQT)
-			break;
-	}
-//gotcha_:	
-	if(y)
-		top=y-1;
-	else 
-		top=0;
-		
-	in=original+width*(height-1);
-	for(y=0;y<((height>>1)-2);y++)	
-	{
-		Metrics(in,width,&avg,&eqt);
-		in-=width;
-		//printf("Line B :%d avg: %d eqt: %d\n",y,avg,eqt);
-		if(avg> THRESH_AVG || eqt > THRESH_EQT)
-				break;
-	}
-//gotcha_:	
-	if(y)
-		bottom=y-1;
-	else
-		bottom=0;
-
-		
-// Left
-	in=original;
-	for(y=0;y<((width>>1)-2);y++)	
-	{
-		MetricsV(in,height,&avg,&eqt);
-		in++;
-		//printf("Line L :%d avg: %d eqt: %d\n",y,avg,eqt);
-		if(avg> THRESH_AVG || eqt > THRESH_EQT)
-				break;
-	}
-//gotcha_:	
-	if(y)
-		left=y-1;
-	else
-		left=0;		
-// Right
-	in=original+width-1;
-	for(y=0;y<((width>>1)-2);y++)	
-	{
-		MetricsV(in,height,&avg,&eqt);
-		in--;
-		//printf("Line R :%d avg: %d eqt: %d\n",y,avg,eqt);
-		if(avg> THRESH_AVG || eqt > THRESH_EQT)
-				break;
-	}
-//gotcha_:	
-	if(y)
-		right=y-1;
-	else
-		right=0;
-
-		
-	// Update display
-	top=top & 0xfffe;
-	bottom=bottom & 0xfffe;
-	ui_upload();
-	ui_update();
-	draw(dialog,width,height);
-	
-	
+        lock++;
+        SPIN_SET(left,Left);
+        SPIN_SET(right,Right);
+        SPIN_SET(top,Top);
+        SPIN_SET(bottom,Bottom);
+        lock--;
+        return 1;
 }
-/*---------------------------------------------
-	Compute the average value of pixels
-	and eqt is the "ecart type"
-*/
-uint8_t Metrics( uint8_t *in, uint32_t width,uint32_t *avg, uint32_t *eqt)
+uint8_t flyCrop::download(void)
 {
-
-uint32_t x;
-uint32_t sum=0,eq=0;
-uint8_t v;
-		for(x=0;x<width;x++)
-		{
-			sum+=*(in+x);
-		}
-		sum=sum/width;
-		*avg=sum;
-		for(x=0;x<width;x++)
-		{
-			v=*(in+x)-sum;
-			eq+=v*v;
-		}
-		eq=eq/(width*width);
-		*eqt=eq;
-		return 1;
+        int reject=0;
+        
+                        SPIN_GET(left,Left);
+                        SPIN_GET(right,Right);
+                        SPIN_GET(top,Top);
+                        SPIN_GET(bottom,Bottom);
+                        
+                        printf("%d %d %d %d\n",left,right,top,bottom);
+                        
+                        left&=0xffffe;
+                        right&=0xffffe;
+                        top&=0xffffe;
+                        bottom&=0xffffe;
+                        
+                        if((top+bottom)>_h)
+                                {
+                                        top=bottom=0;
+                                        reject=1;
+                                }
+                        if((left+right)>_w)
+                                {
+                                        left=right=0;
+                                        reject=1;
+                                }
+                        if(reject)
+                                upload();
 }
-/*---------------------------------------------
-	Compute the average value of pixels
-	and eqt is the "ecart type"
-*/
-uint8_t MetricsV( uint8_t *in, uint32_t height,uint32_t *avg, uint32_t *eqt)
-{
-
-uint32_t x;
-uint32_t sum=0,eq=0;
-uint8_t v;
-		for(x=0;x<height;x++)
-		{
-			sum+=*(in+x*width);
-		}
-		sum=sum/height;
-		*avg=sum;
-		for(x=0;x<height;x++)
-		{
-			v=*(in+x*width)-sum;
-			eq+=v*v;
-		}
-		eq=eq/(height*height);
-		*eqt=eq;
-		return 1;
-}
+// End common part
 //--------------------------------------------
 GtkWidget*
 create_dialog1 (void)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-05-12 10:38:08 UTC (rev 3070)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-05-12 18:14:15 UTC (rev 3071)
@@ -29,7 +29,8 @@
 	DIA_coloryuv.cpp \
 	DIA_quota.cpp \
 	DIA_animated.cpp \
-	DIA_partial.cpp 
+	DIA_partial.cpp  \
+	DIA_flyDialog.cpp
 
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp	2007-05-12 10:38:08 UTC (rev 3070)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp	2007-05-12 18:14:15 UTC (rev 3071)
@@ -32,7 +32,7 @@
 #include "avi_vars.h"
 #include "ADM_editor/ADM_edit.hxx"
 #include "ADM_video/ADM_genvideo.hxx"
-
+#include "ADM_video/ADM_videoNull.h"
 #include "../ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_gtk.h"
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp	2007-05-12 10:38:08 UTC (rev 3070)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp	2007-05-12 18:14:15 UTC (rev 3071)
@@ -15,6 +15,7 @@
 #include <ADM_assert.h>
 #include "ADM_toolkit/filesel.h"
 #include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_video/ADM_videoNull.h"
 #include "ADM_filter/video_filters.h"
 #include "ADM_video/ADM_vidPartial.h"
 #include "ADM_toolkit_gtk/ADM_gladeSupport.h"



From mean at mail.berlios.de  Sat May 12 20:15:16 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 12 May 2007 20:15:16 +0200
Subject: [Avidemux-svn-commit] r3072 - in
	branches/avidemux_2.4_branch/avidemux: ADM_filter ADM_video
Message-ID: <200705121815.l4CIFGI5023835@sheep.berlios.de>

Author: mean
Date: 2007-05-12 20:15:15 +0200 (Sat, 12 May 2007)
New Revision: 3072

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_videoNull.h
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_filter/filter.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_filter/filter_saveload.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_genvideo.hxx
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidNull.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidRaw.cpp
Log:
nullfilter has its own include

Modified: branches/avidemux_2.4_branch/avidemux/ADM_filter/filter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_filter/filter.cpp	2007-05-12 18:14:15 UTC (rev 3071)
+++ branches/avidemux_2.4_branch/avidemux/ADM_filter/filter.cpp	2007-05-12 18:15:15 UTC (rev 3072)
@@ -27,6 +27,7 @@
 #include "ADM_toolkit/toolkit.hxx"
 #include "ADM_editor/ADM_edit.hxx"
 #include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_video/ADM_videoNull.h"
 #include "ADM_filter/video_filters.h"
 #include "ADM_video/ADM_vidPartial.h"
 #include "ADM_userInterfaces/ADM_commonUI/GUI_render.h"

Modified: branches/avidemux_2.4_branch/avidemux/ADM_filter/filter_saveload.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_filter/filter_saveload.cpp	2007-05-12 18:14:15 UTC (rev 3071)
+++ branches/avidemux_2.4_branch/avidemux/ADM_filter/filter_saveload.cpp	2007-05-12 18:15:15 UTC (rev 3072)
@@ -36,6 +36,7 @@
 
 #include "ADM_editor/ADM_edit.hxx"
 #include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_video/ADM_videoNull.h"
 #include "ADM_filter/video_filters.h"
 #include "ADM_video/ADM_vidPartial.h"
 #include "ADM_video/ADM_confCouple.h"

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_genvideo.hxx
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_genvideo.hxx	2007-05-12 18:14:15 UTC (rev 3071)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_genvideo.hxx	2007-05-12 18:15:15 UTC (rev 3072)
@@ -139,50 +139,7 @@
 
 
 
-class  AVDMVideoStreamNull :public AVDMGenericVideoStream
- {
 
- protected:
-                  ADM_Composer      *_in;
-                  uint32_t          _start;
-                  uint32_t          par_width,par_height;
-
- public:
-
-                          AVDMVideoStreamNull(  ADM_Composer *in,uint32_t framestart, uint32_t nb);
-                          virtual ~AVDMVideoStreamNull();
-    
-    
-        virtual	  uint8_t getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-                                                          ADMImage *data,uint32_t *flags);
-                  uint8_t configure( AVDMGenericVideoStream *instream);
-    
-        virtual uint32_t   getPARWidth(void);
-        virtual uint32_t   getPARHeight(void);
-
- }     ;
-
-class  AVDMVideoStreamRaw :public AVDMGenericVideoStream
- {
-
- protected:
-				ADM_Composer *_in;
-				uint32_t			_start;
-
- public:
-
-  				AVDMVideoStreamRaw(  ADM_Composer *in,uint32_t framestart, uint32_t nb);
-  				virtual ~AVDMVideoStreamRaw();
-
-
-          virtual 	uint8_t getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-								ADMImage *data,uint32_t *flags);
-           	 	uint8_t configure( AVDMGenericVideoStream *instream);
-
-
- }     ;
-
-
 /**
 	These macros are used to build the create_ function automatically
 	That way external sw has no need to know the underlying class

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidNull.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidNull.cpp	2007-05-12 18:14:15 UTC (rev 3071)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidNull.cpp	2007-05-12 18:15:15 UTC (rev 3072)
@@ -32,6 +32,7 @@
 #include "config.h"
 #include "ADM_editor/ADM_edit.hxx"
 #include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_video/ADM_videoNull.h"
 
 #include "ADM_osSupport/ADM_debugID.h"
 #define MODULE_NAME MODULE_FILTER

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidRaw.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidRaw.cpp	2007-05-12 18:14:15 UTC (rev 3071)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidRaw.cpp	2007-05-12 18:15:15 UTC (rev 3072)
@@ -28,6 +28,7 @@
 #include "config.h"
 #include "ADM_editor/ADM_edit.hxx"
 #include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_video/ADM_videoNull.h"
 
 
 

Added: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_videoNull.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_videoNull.h	2007-05-12 18:14:15 UTC (rev 3071)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_videoNull.h	2007-05-12 18:15:15 UTC (rev 3072)
@@ -0,0 +1,48 @@
+#ifndef ADM_VIDEO_NULL_H
+#define ADM_VIDEO_NULL_H
+
+class  AVDMVideoStreamNull :public AVDMGenericVideoStream
+ {
+
+ protected:
+                  ADM_Composer      *_in;
+                  uint32_t          _start;
+                  uint32_t          par_width,par_height;
+
+ public:
+
+                          AVDMVideoStreamNull(  ADM_Composer *in,uint32_t framestart, uint32_t nb);
+                          virtual ~AVDMVideoStreamNull();
+    
+    
+        virtual	  uint8_t getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
+                                                          ADMImage *data,uint32_t *flags);
+                  uint8_t configure( AVDMGenericVideoStream *instream);
+    
+        virtual uint32_t   getPARWidth(void);
+        virtual uint32_t   getPARHeight(void);
+
+ }     ;
+
+class  AVDMVideoStreamRaw :public AVDMGenericVideoStream
+ {
+
+ protected:
+				ADM_Composer *_in;
+				uint32_t			_start;
+
+ public:
+
+  				AVDMVideoStreamRaw(  ADM_Composer *in,uint32_t framestart, uint32_t nb);
+  				virtual ~AVDMVideoStreamRaw();
+
+
+          virtual 	uint8_t getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
+								ADMImage *data,uint32_t *flags);
+           	 	uint8_t configure( AVDMGenericVideoStream *instream);
+
+
+ }     ;
+
+#endif
+// EOF



From mean at mail.berlios.de  Sat May 12 20:15:38 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 12 May 2007 20:15:38 +0200
Subject: [Avidemux-svn-commit] r3073 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_NONE/ADM_dialog ADM_QT4/ADM_dialog ADM_commonUI
Message-ID: <200705121815.l4CIFcmG023877@sheep.berlios.de>

Author: mean
Date: 2007-05-12 20:15:37 +0200 (Sat, 12 May 2007)
New Revision: 3073

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyCrop.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyCrop.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.h
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
Log:
flyDialog, part 2

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/Makefile.am	2007-05-12 18:15:15 UTC (rev 3072)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/Makefile.am	2007-05-12 18:15:37 UTC (rev 3073)
@@ -8,7 +8,7 @@
 
 libADM_dialog_a_METASOURCES = AUTO
 
-libADM_dialog_a_SOURCES = DIA_busy.cpp  DIA_encoding.cpp  DIA_working.cpp alert_none.cpp DIA_none.cpp OCR_none.cpp DIA_indexing.cpp
+libADM_dialog_a_SOURCES = DIA_busy.cpp  DIA_encoding.cpp  DIA_working.cpp alert_none.cpp DIA_none.cpp OCR_none.cpp DIA_indexing.cpp DIA_flyDialog.cpp
 
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-12 18:15:15 UTC (rev 3072)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-12 18:15:37 UTC (rev 3073)
@@ -1,7 +1,7 @@
 
 noinst_LIBRARIES = libADM_dialog.a 
 libADM_dialog_a_SOURCES = DIA_busy.cpp  alert_qt4.cpp DIA_none.cpp OCR_none.cpp DIA_indexing.cpp \
-AQ_props.cpp AQ_working.cpp AQ_encoding.cpp  DIA_xvid4.cpp AQ_resizing.cpp
+AQ_props.cpp AQ_working.cpp AQ_encoding.cpp  DIA_xvid4.cpp AQ_resizing.cpp DIA_flyDialog.cpp
 
 INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \
 		-I../../../ADM_libraries/ADM_utilities \

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyCrop.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyCrop.cpp	2007-05-12 18:15:15 UTC (rev 3072)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyCrop.cpp	2007-05-12 18:15:37 UTC (rev 3073)
@@ -0,0 +1,236 @@
+/***************************************************************************
+                          DIA_flyCrop.cpp  -  description
+                             -------------------
+
+        Common part of the crop dialog
+    
+    copyright            : (C) 2002/2007 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include <config.h>
+#include <string.h>
+#include <stdio.h>
+# include <math.h>
+
+#include "default.h"
+
+#include "ADM_image.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_colorspace/ADM_rgb.h"
+#include "ADM_assert.h"
+#include "DIA_flyDialog.h"
+#include "DIA_flyCrop.h"
+
+
+static uint8_t 		Metrics( uint8_t *in, uint32_t width,uint32_t *avg, uint32_t *eqt);
+static uint8_t 		MetricsV( uint8_t *in, uint32_t width,uint32_t height,uint32_t *avg, uint32_t *eqt);
+
+uint8_t    flyCrop::process(void)
+{
+        uint32_t x,y;
+        uint8_t  *in;
+        uint32_t w=_w,h=_h;
+  
+        
+        memcpy(_rgbBufferOut,_rgbBuffer,_w*_h*4);
+        in=_rgbBufferOut;
+        for(y=0;y<top;y++)
+        {
+                for(x=0;x<w;x++)
+                {
+                        *in++=0;
+                        
+                        
+                        *in++=0xff;
+                        
+                        *in++=0;
+                        *in++=0;
+                }
+        }
+        // bottom
+        in=_rgbBufferOut+(w*4)*(h-bottom);
+        for(y=0;y<bottom;y++)
+        {
+                for(x=0;x<w;x++)
+                {
+                        *in++=0;
+                        
+                        
+                        *in++=0xff;
+                        *in++=0;
+                        *in++=0;
+                }
+        }
+        // left
+        in=_rgbBufferOut;
+        uint32_t stride=4*w-4;
+        for(y=0;y<h;y++)
+        {
+                for(x=0;x<left;x++)
+                {
+                        *(in+4*x)=0;
+                        
+                        
+                        *(in+4*x+1)=0xff;
+                        *(in+4*x+2)=0;
+                        *(in+4*x+3)=0;
+                }
+                for(x=0;x<right;x++)
+                {
+                        *(in-4*x+stride-4)=0;
+                        
+                        
+                        *(in-4*x+stride-3)=0xff;
+                        *(in-4*x+stride-2)=0;
+                        *(in-4*x+stride-1)=0;
+                        
+                }
+                in+=4*w;
+  
+        }
+}
+
+/*----------------------------------
+  autocrop
+-----------------------------------*/
+
+uint8_t  flyCrop::autocrop(void)
+{
+uint8_t *in;
+uint32_t y,avg,eqt;
+	// Top
+
+#define THRESH_AVG   30
+#define THRESH_EQT   50
+        
+        in=_yuvBuffer->data;
+        for(y=0;y<((_h>>1)-2);y++)	
+        {
+                Metrics(in,_w,&avg,&eqt);
+                in+=_w;
+                //printf("LineT :%d avg: %d eqt: %d\n",y,avg,eqt);
+                if(avg> THRESH_AVG || eqt > THRESH_EQT)
+                        break;
+        }
+//gotcha_:	
+        if(y)
+                top=y-1;
+        else 
+                top=0;
+                
+        in=_yuvBuffer->data+_w*(_h-1);
+        for(y=0;y<((_h>>1)-2);y++)	
+        {
+                Metrics(in,_w,&avg,&eqt);
+                in-=_w;
+                //printf("Line B :%d avg: %d eqt: %d\n",y,avg,eqt);
+                if(avg> THRESH_AVG || eqt > THRESH_EQT)
+                                break;
+        }
+//gotcha_:	
+        if(y)
+                bottom=y-1;
+        else
+                bottom=0;
+
+                
+// Left
+        in=_yuvBuffer->data;
+        for(y=0;y<((_w>>1)-2);y++)	
+        {
+                MetricsV(in,_w,_h,&avg,&eqt);
+                in++;
+                //printf("Line L :%d avg: %d eqt: %d\n",y,avg,eqt);
+                if(avg> THRESH_AVG || eqt > THRESH_EQT)
+                                break;
+        }
+//gotcha_:	
+        if(y)
+                left=y-1;
+        else
+                left=0;		
+// Right
+        in=_yuvBuffer->data+_w-1;
+        for(y=0;y<((_w>>1)-2);y++)	
+        {
+                MetricsV(in,_w,_h,&avg,&eqt);
+                in--;
+                //printf("Line R :%d avg: %d eqt: %d\n",y,avg,eqt);
+                if(avg> THRESH_AVG || eqt > THRESH_EQT)
+                                break;
+        }
+//gotcha_:	
+        if(y)
+                right=y-1;
+        else
+                right=0;
+  
+              
+        // Update display
+        top=top & 0xfffe;
+        bottom=bottom & 0xfffe;
+      
+        return 1;
+}
+/*---------------------------------------------
+	Compute the average value of pixels
+	and eqt is the "ecart type"
+*/
+uint8_t Metrics( uint8_t *in, uint32_t width,uint32_t *avg, uint32_t *eqt)
+{
+
+uint32_t x;
+uint32_t sum=0,eq=0;
+uint8_t v;
+              for(x=0;x<width;x++)
+              {
+                      sum+=*(in+x);
+              }
+              sum=sum/width;
+              *avg=sum;
+              for(x=0;x<width;x++)
+              {
+                      v=*(in+x)-sum;
+                      eq+=v*v;
+              }
+              eq=eq/(width*width);
+              *eqt=eq;
+              return 1;
+}
+/*---------------------------------------------
+	Compute the average value of pixels
+	and eqt is the "ecart type"
+*/
+uint8_t MetricsV( uint8_t *in,uint32_t width, uint32_t height,uint32_t *avg, uint32_t *eqt)
+{
+
+uint32_t x;
+uint32_t sum=0,eq=0;
+uint8_t v;
+              for(x=0;x<height;x++)
+              {
+                      sum+=*(in+x*width);
+              }
+              sum=sum/height;
+              *avg=sum;
+              for(x=0;x<height;x++)
+              {
+                      v=*(in+x*width)-sum;
+                      eq+=v*v;
+              }
+              eq=eq/(height*height);
+              *eqt=eq;
+              return 1;
+}
+//EOF
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyCrop.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyCrop.h	2007-05-12 18:15:15 UTC (rev 3072)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyCrop.h	2007-05-12 18:15:37 UTC (rev 3073)
@@ -0,0 +1,18 @@
+
+
+#ifndef FLY_CROP_H
+#define FLY_CROP_H
+class flyCrop : public ADM_flyDialog
+{
+  
+  public:
+   uint32_t left,right,top,bottom;
+  public:
+   uint8_t    process(void);
+   uint8_t    download(void);
+   uint8_t    upload(void);
+   uint8_t    autocrop(void);
+   flyCrop (uint32_t width,uint32_t height,AVDMGenericVideoStream *in,
+                                    void *canvas, void *slider) : ADM_flyDialog(width, height,in,canvas, slider,0) {};
+};
+#endif

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp	2007-05-12 18:15:15 UTC (rev 3072)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp	2007-05-12 18:15:37 UTC (rev 3073)
@@ -0,0 +1,132 @@
+/***************************************************************************
+    copyright            : (C) 2006 by mean
+    email                : fixounet at free.fr
+***************************************************************************/
+
+/***************************************************************************
+*                                                                         *
+*   This program is free software; you can redistribute it and/or modify  *
+*   it under the terms of the GNU General Public License as published by  *
+*   the Free Software Foundation; either version 2 of the License, or     *
+*   (at your option) any later version.                                   *
+*                                                                         *
+***************************************************************************///
+
+#include "config.h"
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <math.h>
+#include <string.h>
+#include <time.h>
+#include <sys/time.h>
+
+#include "default.h"
+
+#include "ADM_colorspace/colorspace.h"
+#include "ADM_colorspace/ADM_rgb.h"
+#include "ADM_commonUI//GUI_render.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "DIA_flyDialog.h"
+
+#include "ADM_assert.h"
+
+/**
+    \fn ADM_flyDialog
+*/
+ ADM_flyDialog::ADM_flyDialog(uint32_t width,uint32_t height,AVDMGenericVideoStream *in,
+                                void *canvas, void *slider,int yuv)
+{
+  _w=width;
+  _h=height;
+  _isYuvProcessing=yuv;
+  _in=in;
+  _rgb=new ColYuvRgb(_w,_h);
+  _rgb->reset(_w,_h);
+  ADM_assert(in);
+  _yuvBuffer=new ADMImage(_w,_h);
+  if(_isYuvProcessing)
+  {
+     _yuvBufferOut=new ADMImage(_w,_h);
+     _rgbBuffer=NULL;
+  }
+  else
+  {
+    _rgbBuffer =new uint8_t [_w*_h*4];
+    _yuvBufferOut=NULL;
+  }
+    _rgbBufferOut =new uint8_t [_w*_h*4];
+  _slider=slider;
+  _canvas=canvas;
+  
+  ADM_assert(_slider);
+  ADM_assert(_canvas);
+  
+}
+/**
+    \fn cleanup
+    \brief deallocate
+*/
+uint8_t ADM_flyDialog::cleanup(void)
+{
+#define DEL1(x)    if(x) {delete [] x;x=NULL;}
+#define DEL2(x)    if(x) {delete  x;x=NULL;}
+  
+        DEL2(_yuvBufferOut);
+        DEL2(_yuvBuffer);
+        DEL1(_rgbBuffer);
+        DEL1(_rgbBufferOut);
+        DEL2(_rgb);
+}
+/**
+    \fn ~ADM_flyDialog
+    \brief destructor
+*/
+ADM_flyDialog::~ADM_flyDialog(void)
+{
+  cleanup(); 
+}
+
+/**
+      \fn sliderChanged
+      \brief callback to handle image changes
+*/
+uint8_t    ADM_flyDialog::sliderChanged(void)
+{
+  uint32_t fn= sliderGet(),nb;
+  uint32_t len,flags;
+  
+    ADM_assert(_yuvBuffer);
+    ADM_assert(_rgbBufferOut);
+    ADM_assert(_in);
+    
+    nb=_in->getInfo()->nb_frames;
+    fn=fn*nb;
+    fn/=100;
+    if(fn>=nb) fn=nb-1;
+    
+    if(!_in->getFrameNumberNoAlloc(fn,&len,_yuvBuffer,&flags))
+    {
+      printf("[FlyDialog] Cannot get frame %u\n",fn); 
+      return 0;
+    }
+    /* Process...*/
+    
+    if(_isYuvProcessing)
+    {
+        process();
+        _rgb->scale(_yuvBufferOut->data,_rgbBufferOut);
+        
+    } else // RGB Processing
+      
+    {
+        ADM_assert(_rgbBuffer);
+        _rgb->scale(_yuvBuffer->data,_rgbBuffer);
+        process();
+    }
+    display();
+}
+
+
+//EOF
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.h	2007-05-12 18:15:15 UTC (rev 3072)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.h	2007-05-12 18:15:37 UTC (rev 3073)
@@ -0,0 +1,62 @@
+/****************************************************************************
+ copyright            : (C) 2007 by mean
+ email                : fixounet at free.fr
+ 
+ Simple class to do filter that have a configuration that have real time effect
+ 
+ Case 1: The filter process YUV
+ 
+ YUV-> Process->YUVOUT->YUV2RGB->RGBUFFEROUT
+ 
+ Case 2: The filter process RGV
+ 
+ YUV-> YUV2RGB->RGB->Process->RGBUFFEROUT
+ 
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#ifndef ADM_FLY_DIALOG_H
+#define ADM_FLY_DIALOG_H
+class ADM_flyDialog
+{
+  protected:
+          uint32_t _w,_h;
+          AVDMGenericVideoStream *_in;
+  
+          ADMImage *_yuvBuffer;
+          ADMImage *_yuvBufferOut;
+          uint8_t  *_rgbBuffer;
+          uint8_t  *_rgbBufferOut;
+          uint8_t  _isYuvProcessing;
+  public:
+          void    *_slider; // widget
+          void    *_canvas; // Drawing zone
+          ColYuvRgb *_rgb;
+          /* Filter dependant */
+  virtual uint8_t    process(void)=0;
+  virtual uint8_t    download(void)=0;
+  virtual uint8_t    upload(void)=0;
+          /* /filte dependant */
+  
+  virtual uint8_t    sliderChanged(void);
+        /* This is GTK/QT/whatever dependant */
+          
+          uint8_t  display(void);
+          uint32_t sliderGet(void);
+          uint8_t     sliderSet(uint32_t value);
+          
+          uint8_t     cleanup(void);
+         /*                               */
+                  ADM_flyDialog(uint32_t width,uint32_t height,AVDMGenericVideoStream *in,
+                                    void *canvas, void *slider,int yuv);
+    virtual      ~ADM_flyDialog(void);
+};
+
+#endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-12 18:15:15 UTC (rev 3072)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-12 18:15:37 UTC (rev 3073)
@@ -5,7 +5,7 @@
 DIA_audioconfig.cpp GUI_render.cpp DIA_SVCD.cpp DIA_DVDff.cpp \
 DIA_bitrateHisto.cpp DIA_prefs.cpp DIA_gototime.cpp \
 DIA_lavcodec.cpp DIA_mjpeg.cpp DIA_requant.cpp \
-DIA_audioFilter.cpp
+DIA_audioFilter.cpp DIA_flyDialog.cpp DIA_flyCrop.cpp
 
 
 INCLUDES = $(all_includes) $(GTK_CFLAGS) $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \



From mean at mail.berlios.de  Sat May 12 20:19:37 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 12 May 2007 20:19:37 +0200
Subject: [Avidemux-svn-commit] r3074 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog
Message-ID: <200705121819.l4CIJbVt024126@sheep.berlios.de>

Author: mean
Date: 2007-05-12 20:19:37 +0200 (Sat, 12 May 2007)
New Revision: 3074

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_flyDialog.cpp
Log:
flyDialog for no-ui (stub)

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_flyDialog.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_flyDialog.cpp	2007-05-12 18:15:37 UTC (rev 3073)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_flyDialog.cpp	2007-05-12 18:19:37 UTC (rev 3074)
@@ -0,0 +1,47 @@
+/***************************************************************************
+    copyright            : (C) 2006 by mean
+    email                : fixounet at free.fr
+***************************************************************************/
+
+/***************************************************************************
+*                                                                         *
+*   This program is free software; you can redistribute it and/or modify  *
+*   it under the terms of the GNU General Public License as published by  *
+*   the Free Software Foundation; either version 2 of the License, or     *
+*   (at your option) any later version.                                   *
+*                                                                         *
+***************************************************************************///
+
+#include <config.h>
+
+#include <string.h>
+#include <stdio.h>
+
+# include <math.h>
+
+#include "default.h"
+
+#include "ADM_toolkit/toolkit.hxx"
+
+#include "ADM_colorspace/ADM_rgb.h"
+
+#include "ADM_image.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "DIA_flyDialog.h"
+#include "ADM_assert.h"
+
+uint8_t  ADM_flyDialog::display(void)
+{
+  return 1; 
+}
+uint32_t ADM_flyDialog::sliderGet(void)
+{
+  return 1; 
+}
+uint8_t     ADM_flyDialog::sliderSet(uint32_t value)
+{
+  return 1; 
+}
+
+
+//EOF



From mean at mail.berlios.de  Sat May 12 20:20:42 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 12 May 2007 20:20:42 +0200
Subject: [Avidemux-svn-commit] r3075 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog
Message-ID: <200705121820.l4CIKguC024296@sheep.berlios.de>

Author: mean
Date: 2007-05-12 20:20:42 +0200 (Sat, 12 May 2007)
New Revision: 3075

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_flyDialog.cpp
Log:
flyDialog for gtk 

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_flyDialog.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_flyDialog.cpp	2007-05-12 18:19:37 UTC (rev 3074)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_flyDialog.cpp	2007-05-12 18:20:42 UTC (rev 3075)
@@ -0,0 +1,63 @@
+/***************************************************************************
+    copyright            : (C) 2006 by mean
+    email                : fixounet at free.fr
+***************************************************************************/
+
+/***************************************************************************
+*                                                                         *
+*   This program is free software; you can redistribute it and/or modify  *
+*   it under the terms of the GNU General Public License as published by  *
+*   the Free Software Foundation; either version 2 of the License, or     *
+*   (at your option) any later version.                                   *
+*                                                                         *
+***************************************************************************///
+
+#include <config.h>
+
+#include <string.h>
+#include <stdio.h>
+
+#include <gdk/gdkkeysyms.h>
+#include <gtk/gtk.h>
+
+
+#include <gdk/gdkkeysyms.h>
+#include <gtk/gtk.h>
+# include <math.h>
+
+#include "default.h"
+
+#include "ADM_toolkit_gtk/ADM_gladeSupport.h"
+#include "ADM_toolkit_gtk/toolkit_gtk.h"
+#include "ADM_toolkit_gtk/toolkit_gtk_include.h"
+#include "ADM_toolkit/toolkit.hxx"
+#include "default.h"
+
+#include "ADM_colorspace/ADM_rgb.h"
+
+#include "ADM_image.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "DIA_flyDialog.h"
+#include "ADM_assert.h"
+extern void GUI_RGBDisplay(uint8_t * dis, uint32_t w, uint32_t h, void *widg);
+uint8_t  ADM_flyDialog::display(void)
+{
+  ADM_assert(_canvas);
+  ADM_assert(_rgbBufferOut);
+  GUI_RGBDisplay(_rgbBufferOut,_w,_h,_canvas);
+  return 1; 
+}
+uint32_t ADM_flyDialog::sliderGet(void)
+{
+  ADM_assert(_slider);
+  GtkAdjustment *adj=gtk_range_get_adjustment (GTK_RANGE(_slider));
+  return (uint32_t)GTK_ADJUSTMENT(adj)->value;
+}
+uint8_t     ADM_flyDialog::sliderSet(uint32_t value)
+{
+  ADM_assert(_slider);
+  return 1; 
+}
+
+
+//EOF



From mean at mail.berlios.de  Sun May 13 11:26:00 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 13 May 2007 11:26:00 +0200
Subject: [Avidemux-svn-commit] r3076 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200705130926.l4D9Q0SY016103@sheep.berlios.de>

Author: mean
Date: 2007-05-13 11:26:00 +0200 (Sun, 13 May 2007)
New Revision: 3076

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_crop.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
Log:
oops

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_crop.cpp (from rev 3071, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-12 18:20:42 UTC (rev 3075)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-13 09:26:00 UTC (rev 3076)
@@ -1,7 +1,8 @@
 
 noinst_LIBRARIES = libADM_dialog.a 
 libADM_dialog_a_SOURCES = DIA_busy.cpp  alert_qt4.cpp DIA_none.cpp OCR_none.cpp DIA_indexing.cpp \
-AQ_props.cpp AQ_working.cpp AQ_encoding.cpp  DIA_xvid4.cpp AQ_resizing.cpp DIA_flyDialog.cpp
+AQ_props.cpp AQ_working.cpp AQ_encoding.cpp  DIA_xvid4.cpp AQ_resizing.cpp DIA_flyDialog.cpp \
+DIA_crop.cpp
 
 INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \
 		-I../../../ADM_libraries/ADM_utilities \



From mean at mail.berlios.de  Sun May 13 13:14:31 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 13 May 2007 13:14:31 +0200
Subject: [Avidemux-svn-commit] r3077 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK/ADM_dialog ADM_GTK/ADM_dialogFactory
	ADM_QT4/ADM_dialog ADM_commonUI
Message-ID: <200705131114.l4DBEVv3021909@sheep.berlios.de>

Author: mean
Date: 2007-05-13 13:14:30 +0200 (Sun, 13 May 2007)
New Revision: 3077

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_flyDialogQt4.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_crop.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_QCanvas.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui
Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_crop.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_flyDialog.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_float.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.h
Log:
flyDialog for crop/qt

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_flyDialog.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_flyDialog.cpp	2007-05-13 09:26:00 UTC (rev 3076)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_flyDialog.cpp	2007-05-13 11:14:30 UTC (rev 3077)
@@ -58,6 +58,9 @@
   ADM_assert(_slider);
   return 1; 
 }
+uint8_t  ADM_flyDialog::isRgbInverted(void)
+{
+  return 0; 
+}
 
-
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_float.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_float.cpp	2007-05-13 09:26:00 UTC (rev 3076)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_float.cpp	2007-05-13 11:14:30 UTC (rev 3077)
@@ -62,7 +62,7 @@
   ELEM_TYPE_FLOAT val=*(ELEM_TYPE_FLOAT *)param;
   widget = gtk_spin_button_new_with_range(min,max,0.1);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON(widget),TRUE);
-  gtk_spin_button_set_digits  (GTK_SPIN_BUTTON(widget),2);
+  gtk_spin_button_set_digits  (GTK_SPIN_BUTTON(widget),3);
   gtk_spin_button_set_value (GTK_SPIN_BUTTON(widget),*(ELEM_TYPE_FLOAT *)param);
   
   gtk_widget_show (widget);

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_crop.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_crop.cpp	2007-05-13 09:26:00 UTC (rev 3076)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_crop.cpp	2007-05-13 11:14:30 UTC (rev 3077)
@@ -1,434 +0,0 @@
-/***************************************************************************
-                          DIA_crop.cpp  -  description
-                             -------------------
-
-			    GUI for cropping including autocrop
-			    +Revisted the Gtk2 way
-			     +Autocrop now in RGB space (more accurate)
-
-    begin                : Fri May 3 2002
-    copyright            : (C) 2002/2007 by mean
-    email                : fixounet at free.fr
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include <config.h>
-#include <string.h>
-#include <stdio.h>
-#include <gdk/gdkkeysyms.h>
-#include <gtk/gtk.h>
-
-
-#include <gdk/gdkkeysyms.h>
-#include <gtk/gtk.h>
-# include <math.h>
-
-#include "default.h"
-#include "ADM_toolkit_gtk/toolkit_gtk.h"
-#include "ADM_toolkit_gtk/toolkit_gtk_include.h"
-#include "ADM_toolkit/toolkit.hxx"
-
-#include "ADM_image.h"
-#include "ADM_video/ADM_genvideo.hxx"
-#include "ADM_colorspace/ADM_rgb.h"
-#include "ADM_assert.h"
-#include "DIA_flyDialog.h"
-#include "DIA_flyCrop.h"
-
-static GtkWidget	*create_dialog1 (void);
-static void 		draw (GtkWidget *dialog,uint32_t w,uint32_t h );
-
-
-/* Link between UI and core */
-static gboolean 	ui_draw( void );
-static void 		ui_autocrop (void );
-static void 		ui_reset( void );
-static void 		ui_upload(void);
-static void  		ui_read ( void);
-static void  		ui_update ( void);
-static void 		ui_frame_changed( void );
-
-static GtkWidget *dialog=NULL;
-
-/* Prevent loop when updating value */
-
-static int lock=0;
-static flyCrop *myCrop=NULL;
-//
-//	Video is in YV12 Colorspace
-//
-//
-int DIA_getCropParams(	char *name,CROP_PARAMS *param,AVDMGenericVideoStream *in)
-{
-  uint32_t width,height;
-        // Allocate space for green-ised video
-        width=in->getInfo()->width;
-        height=in->getInfo()->height;
-        
-        
-  
-        uint8_t ret=0;
-  
-        dialog=create_dialog1();
-        gtk_register_dialog(dialog);
-        
-        gtk_widget_set_usize(WID(drawingarea1), width,height);
-        gtk_window_set_title (GTK_WINDOW (dialog), name);
-        gtk_widget_show(dialog);
-	
-#define CONNECT(x,y,z) 	gtk_signal_connect(GTK_OBJECT(WID(x)), #y,GTK_SIGNAL_FUNC(z),   NULL);
-
-        CONNECT(drawingarea1,expose_event,ui_draw);
-        CONNECT(buttonAutocrop,clicked,ui_autocrop);
-        CONNECT(buttonReset,clicked,ui_reset);
-        CONNECT(scale,value_changed,ui_frame_changed);
-                              
-          gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(buttonCancel), GTK_RESPONSE_CANCEL);
-          gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(buttonOk),      GTK_RESPONSE_OK);
-          gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(buttonApply),  GTK_RESPONSE_APPLY);
-
-#define CONNECT_SPIN(x) CONNECT(spinbutton##x, value_changed,ui_update)
-          
-          CONNECT_SPIN(Top);
-          CONNECT_SPIN(Left);
-          CONNECT_SPIN(Right);
-          CONNECT_SPIN(Bottom);
-          
-        myCrop=new flyCrop( width, height,in,WID(drawingarea1),WID(scale));
-        myCrop->left=param->left;
-        myCrop->right=param->right;
-        myCrop->top=param->top;
-        myCrop->bottom=param->bottom;
-        myCrop->upload();
-        myCrop->sliderChanged();
-        ret=0;
-        int response;
-        while( (response=gtk_dialog_run(GTK_DIALOG(dialog)))==GTK_RESPONSE_APPLY)
-        {
-          ui_update();
-        }
-        if(response==GTK_RESPONSE_OK)
-        {
-                ui_read( );
-                param->left=myCrop->left;
-                param->right=myCrop->right;
-                param->top=myCrop->top;
-                param->bottom=myCrop->bottom;
-                ret=1;
-        }
-        gtk_unregister_dialog(dialog);
-        gtk_widget_destroy(dialog);
-        delete myCrop;
-        return ret;
-}
-/*
-      Link GTK dialog and core
-*/
-void ui_frame_changed( void )
-{
-  myCrop->sliderChanged();
-}
-void ui_update(void)
-{
-  if(lock) return;
-  myCrop->download();
-  myCrop->process();
-  myCrop->display();
-}
-/*---------------------------------------------------------------------------
-	Actually draw the working frame on screen
-*/
-gboolean ui_draw( void )
-{
-        myCrop->display();
-}
-void ui_read (void )
-{
-        myCrop->download();
-}
-void ui_upload(void)
-{
-    myCrop->upload();
-}
-void ui_autocrop( void )
-{
-  myCrop->autocrop();
-}
-void ui_reset( void )
-{
-        myCrop->left=0;
-        myCrop->right=0;
-        myCrop->bottom=0;
-        myCrop->top=0;
-        
-	myCrop->upload();
-        myCrop->process();
-        myCrop->display();
-}
-
-/*---------------------------------------------------------------------------
-	Read entried from dialog box
-*/
-
-#define SPIN_GET(x,y) {x= gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(WID(spinbutton##y))) ;}
-#define SPIN_SET(x,y)  {gtk_spin_button_set_value(GTK_SPIN_BUTTON(WID(spinbutton##y)),(gfloat)x) ;}
-
-
-//____________________________________
-uint8_t flyCrop::upload(void)
-{
-        lock++;
-        SPIN_SET(left,Left);
-        SPIN_SET(right,Right);
-        SPIN_SET(top,Top);
-        SPIN_SET(bottom,Bottom);
-        lock--;
-        return 1;
-}
-uint8_t flyCrop::download(void)
-{
-        int reject=0;
-        
-                        SPIN_GET(left,Left);
-                        SPIN_GET(right,Right);
-                        SPIN_GET(top,Top);
-                        SPIN_GET(bottom,Bottom);
-                        
-                        printf("%d %d %d %d\n",left,right,top,bottom);
-                        
-                        left&=0xffffe;
-                        right&=0xffffe;
-                        top&=0xffffe;
-                        bottom&=0xffffe;
-                        
-                        if((top+bottom)>_h)
-                                {
-                                        top=bottom=0;
-                                        reject=1;
-                                }
-                        if((left+right)>_w)
-                                {
-                                        left=right=0;
-                                        reject=1;
-                                }
-                        if(reject)
-                                upload();
-}
-// End common part
-//--------------------------------------------
-GtkWidget*
-create_dialog1 (void)
-{
-  GtkWidget *dialog1;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *vbox1;
-  GtkWidget *hbuttonbox1;
-  GtkWidget *buttonCancel;
-  GtkWidget *buttonApply;
-  GtkWidget *buttonOk;
-  GtkWidget *hbuttonbox2;
-  GtkWidget *buttonAutocrop;
-  GtkWidget *buttonReset;
-  GtkWidget *alignment1;
-  GtkWidget *hbox1;
-  GtkWidget *image1;
-  GtkWidget *label1;
-  GtkWidget *table1;
-  GtkWidget *label2;
-  GtkWidget *label3;
-  GtkWidget *label4;
-  GtkWidget *label5;
-  GtkObject *spinbuttonLeft_adj;
-  GtkWidget *spinbuttonLeft;
-  GtkObject *spinbuttonTop_adj;
-  GtkWidget *spinbuttonTop;
-  GtkObject *spinbuttonBottom_adj;
-  GtkWidget *spinbuttonBottom;
-  GtkObject *spinbuttonRight_adj;
-  GtkWidget *spinbuttonRight;
-  GtkWidget *scale;
-  GtkWidget *drawingarea1;
-  GtkWidget *dialog_action_area1;
-
-  dialog1 = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog1), _("Crop Settings"));
-
-  dialog_vbox1 = GTK_DIALOG (dialog1)->vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  vbox1 = gtk_vbox_new (FALSE, 0);
-  gtk_widget_show (vbox1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), vbox1, TRUE, TRUE, 0);
-
-  hbuttonbox1 = gtk_hbutton_box_new ();
-  gtk_widget_show (hbuttonbox1);
-  gtk_box_pack_start (GTK_BOX (vbox1), hbuttonbox1, FALSE, TRUE, 0);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (hbuttonbox1), GTK_BUTTONBOX_END);
-
-  buttonCancel = gtk_button_new_from_stock ("gtk-cancel");
-  gtk_widget_show (buttonCancel);
-  gtk_container_add (GTK_CONTAINER (hbuttonbox1), buttonCancel);
-  GTK_WIDGET_SET_FLAGS (buttonCancel, GTK_CAN_DEFAULT);
-
-  buttonApply = gtk_button_new_from_stock ("gtk-apply");
-  gtk_widget_show (buttonApply);
-  gtk_container_add (GTK_CONTAINER (hbuttonbox1), buttonApply);
-  GTK_WIDGET_SET_FLAGS (buttonApply, GTK_CAN_DEFAULT);
-
-  buttonOk = gtk_button_new_from_stock ("gtk-ok");
-  gtk_widget_show (buttonOk);
-  gtk_container_add (GTK_CONTAINER (hbuttonbox1), buttonOk);
-  GTK_WIDGET_SET_FLAGS (buttonOk, GTK_CAN_DEFAULT);
-
-  hbuttonbox2 = gtk_hbutton_box_new ();
-  gtk_widget_show (hbuttonbox2);
-  gtk_box_pack_start (GTK_BOX (vbox1), hbuttonbox2, FALSE, TRUE, 0);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (hbuttonbox2), GTK_BUTTONBOX_START);
-
-  buttonAutocrop = gtk_button_new_with_mnemonic (_("AutoCrop"));
-  gtk_widget_show (buttonAutocrop);
-  gtk_container_add (GTK_CONTAINER (hbuttonbox2), buttonAutocrop);
-  GTK_WIDGET_SET_FLAGS (buttonAutocrop, GTK_CAN_DEFAULT);
-
-  buttonReset = gtk_button_new ();
-  gtk_widget_show (buttonReset);
-  gtk_container_add (GTK_CONTAINER (hbuttonbox2), buttonReset);
-  GTK_WIDGET_SET_FLAGS (buttonReset, GTK_CAN_DEFAULT);
-
-  alignment1 = gtk_alignment_new (0.5, 0.5, 0, 0);
-  gtk_widget_show (alignment1);
-  gtk_container_add (GTK_CONTAINER (buttonReset), alignment1);
-
-  hbox1 = gtk_hbox_new (FALSE, 2);
-  gtk_widget_show (hbox1);
-  gtk_container_add (GTK_CONTAINER (alignment1), hbox1);
-
-  image1 = gtk_image_new_from_stock ("gtk-undo", GTK_ICON_SIZE_BUTTON);
-  gtk_widget_show (image1);
-  gtk_box_pack_start (GTK_BOX (hbox1), image1, FALSE, FALSE, 0);
-
-  label1 = gtk_label_new_with_mnemonic (_("Reset"));
-  gtk_widget_show (label1);
-  gtk_box_pack_start (GTK_BOX (hbox1), label1, FALSE, FALSE, 0);
-  gtk_label_set_justify (GTK_LABEL (label1), GTK_JUSTIFY_LEFT);
-
-  table1 = gtk_table_new (2, 4, FALSE);
-  gtk_widget_show (table1);
-  gtk_box_pack_start (GTK_BOX (vbox1), table1, FALSE, TRUE, 0);
-
-  label2 = gtk_label_new (_("Crop Left :"));
-  gtk_widget_show (label2);
-  gtk_table_attach (GTK_TABLE (table1), label2, 0, 1, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_label_set_justify (GTK_LABEL (label2), GTK_JUSTIFY_FILL);
-  gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
-
-  label3 = gtk_label_new (_("Crop Top:"));
-  gtk_widget_show (label3);
-  gtk_table_attach (GTK_TABLE (table1), label3, 0, 1, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_label_set_justify (GTK_LABEL (label3), GTK_JUSTIFY_FILL);
-  gtk_misc_set_alignment (GTK_MISC (label3), 0, 0.5);
-
-  label4 = gtk_label_new (_("Crop Right:"));
-  gtk_widget_show (label4);
-  gtk_table_attach (GTK_TABLE (table1), label4, 2, 3, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_label_set_justify (GTK_LABEL (label4), GTK_JUSTIFY_FILL);
-  gtk_misc_set_alignment (GTK_MISC (label4), 0, 0.5);
-
-  label5 = gtk_label_new (_("Crop Bottom:"));
-  gtk_widget_show (label5);
-  gtk_table_attach (GTK_TABLE (table1), label5, 2, 3, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_label_set_justify (GTK_LABEL (label5), GTK_JUSTIFY_FILL);
-  gtk_misc_set_alignment (GTK_MISC (label5), 0, 0.5);
-
-  spinbuttonLeft_adj = gtk_adjustment_new (1, 0, 1000, 1, 10, 10);
-  spinbuttonLeft = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonLeft_adj), 1, 0);
-  gtk_widget_show (spinbuttonLeft);
-  gtk_table_attach (GTK_TABLE (table1), spinbuttonLeft, 1, 2, 0, 1,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonLeft), TRUE);
-
-  spinbuttonTop_adj = gtk_adjustment_new (1, 0, 1000, 1, 10, 10);
-  spinbuttonTop = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonTop_adj), 1, 0);
-  gtk_widget_show (spinbuttonTop);
-  gtk_table_attach (GTK_TABLE (table1), spinbuttonTop, 1, 2, 1, 2,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonTop), TRUE);
-
-  spinbuttonBottom_adj = gtk_adjustment_new (1, 0, 1000, 1, 10, 10);
-  spinbuttonBottom = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBottom_adj), 1, 0);
-  gtk_widget_show (spinbuttonBottom);
-  gtk_table_attach (GTK_TABLE (table1), spinbuttonBottom, 3, 4, 1, 2,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonBottom), TRUE);
-
-  spinbuttonRight_adj = gtk_adjustment_new (1, 0, 1000, 1, 10, 10);
-  spinbuttonRight = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonRight_adj), 1, 0);
-  gtk_widget_show (spinbuttonRight);
-  gtk_table_attach (GTK_TABLE (table1), spinbuttonRight, 3, 4, 0, 1,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonRight), TRUE);
-
-  scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 110, 1, 10, 10)));
-  gtk_widget_show (scale);
-  gtk_box_pack_start (GTK_BOX (vbox1), scale, FALSE, TRUE, 0);
-
-  drawingarea1 = gtk_drawing_area_new ();
-  gtk_widget_show (drawingarea1);
-  gtk_box_pack_start (GTK_BOX (vbox1), drawingarea1, FALSE, TRUE, 0);
-  gtk_widget_set_size_request (drawingarea1, 100, 100);
-
-  dialog_action_area1 = GTK_DIALOG (dialog1)->action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, "dialog1");
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, "dialog_vbox1");
-  GLADE_HOOKUP_OBJECT (dialog1, vbox1, "vbox1");
-  GLADE_HOOKUP_OBJECT (dialog1, hbuttonbox1, "hbuttonbox1");
-  GLADE_HOOKUP_OBJECT (dialog1, buttonCancel, "buttonCancel");
-  GLADE_HOOKUP_OBJECT (dialog1, buttonApply, "buttonApply");
-  GLADE_HOOKUP_OBJECT (dialog1, buttonOk, "buttonOk");
-  GLADE_HOOKUP_OBJECT (dialog1, hbuttonbox2, "hbuttonbox2");
-  GLADE_HOOKUP_OBJECT (dialog1, buttonAutocrop, "buttonAutocrop");
-  GLADE_HOOKUP_OBJECT (dialog1, buttonReset, "buttonReset");
-  GLADE_HOOKUP_OBJECT (dialog1, alignment1, "alignment1");
-  GLADE_HOOKUP_OBJECT (dialog1, hbox1, "hbox1");
-  GLADE_HOOKUP_OBJECT (dialog1, image1, "image1");
-  GLADE_HOOKUP_OBJECT (dialog1, label1, "label1");
-  GLADE_HOOKUP_OBJECT (dialog1, table1, "table1");
-  GLADE_HOOKUP_OBJECT (dialog1, label2, "label2");
-  GLADE_HOOKUP_OBJECT (dialog1, label3, "label3");
-  GLADE_HOOKUP_OBJECT (dialog1, label4, "label4");
-  GLADE_HOOKUP_OBJECT (dialog1, label5, "label5");
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonLeft, "spinbuttonLeft");
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonTop, "spinbuttonTop");
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonBottom, "spinbuttonBottom");
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonRight, "spinbuttonRight");
-  GLADE_HOOKUP_OBJECT (dialog1, scale, "scale");
-  GLADE_HOOKUP_OBJECT (dialog1, drawingarea1, "drawingarea1");
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, "dialog_action_area1");
-
-  return dialog1;
-}
-

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_flyDialogQt4.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_flyDialogQt4.h	2007-05-13 09:26:00 UTC (rev 3076)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_flyDialogQt4.h	2007-05-13 11:14:30 UTC (rev 3077)
@@ -0,0 +1,20 @@
+#ifndef ADM_QCANVAS_H
+#define ADM_QCANVAS_H
+class  ADM_QCanvas : public QWidget
+{
+     Q_OBJECT
+     signals:
+        
+        
+   public slots:
+   public :
+         uint8_t *dataBuffer;
+  protected:
+         uint32_t _w,_h;
+  public:
+        ADM_QCanvas(QWidget *z,uint32_t w,uint32_t h)  ;
+        ~ADM_QCanvas() ;
+        void paintEvent(QPaintEvent *ev);
+};
+#endif
+

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-13 09:26:00 UTC (rev 3076)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-13 11:14:30 UTC (rev 3077)
@@ -70,7 +70,6 @@
 //******************************
 int DIA_coloryuv(COLOR_YUV_PARAM *param){return 0;}
 
-int DIA_getCropParams(  char *name,CROP_PARAMS *param,AVDMGenericVideoStream *in){return 0;}
 #ifdef USE_XX_XVID 
 #include "xvid.h"
 int  DIA_getXvidCompressParams(COMPRESSION_MODE * mode, uint32_t * qz,

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-13 09:26:00 UTC (rev 3076)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-13 11:14:30 UTC (rev 3077)
@@ -1,8 +1,8 @@
 
 noinst_LIBRARIES = libADM_dialog.a 
 libADM_dialog_a_SOURCES = DIA_busy.cpp  alert_qt4.cpp DIA_none.cpp OCR_none.cpp DIA_indexing.cpp \
-AQ_props.cpp AQ_working.cpp AQ_encoding.cpp  DIA_xvid4.cpp AQ_resizing.cpp DIA_flyDialog.cpp \
-DIA_crop.cpp
+AQ_props.cpp AQ_working.cpp AQ_encoding.cpp  DIA_xvid4.cpp AQ_resizing.cpp AT_flyDialog.cpp \
+AQ_crop.cpp AT_QCanvas.cpp
 
 INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \
 		-I../../../ADM_libraries/ADM_utilities \

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_crop.cpp (from rev 3076, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_crop.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_crop.cpp	2007-05-13 09:26:00 UTC (rev 3076)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_crop.cpp	2007-05-13 11:14:30 UTC (rev 3077)
@@ -0,0 +1,204 @@
+/***************************************************************************
+                          DIA_crop.cpp  -  description
+                             -------------------
+
+			    GUI for cropping including autocrop
+			    +Revisted the Gtk2 way
+			     +Autocrop now in RGB space (more accurate)
+
+    begin                : Fri May 3 2002
+    copyright            : (C) 2002/2007 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include <config.h>
+#include <string.h>
+#include <stdio.h>
+#include <math.h>
+
+#define Ui_Dialog Ui_cropDialog
+#include "ui_crop.h"
+#undef Ui_Dialog
+
+#include "default.h"
+#include "ADM_toolkit/toolkit.hxx"
+#include "ADM_image.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_colorspace/ADM_rgb.h"
+#include "ADM_assert.h"
+#include "DIA_flyDialog.h"
+#include "DIA_flyDialogQt4.h"
+#include "DIA_flyCrop.h"
+
+
+//
+//	Video is in YV12 Colorspace
+//
+//
+class Ui_cropWindow : public QDialog
+ {
+     Q_OBJECT
+ protected : 
+      
+ public:
+     flyCrop *myCrop;
+     ADM_QCanvas *canvas;
+     Ui_cropWindow(CROP_PARAMS *param,AVDMGenericVideoStream *in);
+     ~Ui_cropWindow();
+     Ui_cropDialog ui;
+ public slots:
+      void gather(CROP_PARAMS *param);
+      //void update(int i);
+ private slots:
+   void sliderUpdate(int foo);
+   void valueChanged(int foo);
+   void autoCrop( bool f );
+   void reset( bool f );
+
+ private:
+     
+ };
+  Ui_cropWindow::Ui_cropWindow(CROP_PARAMS *param,AVDMGenericVideoStream *in)
+  {
+    uint32_t width,height;
+        ui.setupUi(this);
+        
+        // Allocate space for green-ised video
+        width=in->getInfo()->width;
+        height=in->getInfo()->height;
+        ui.graphicsView->resize(width,height);
+        canvas=new ADM_QCanvas(ui.graphicsView,width,height);
+        
+        myCrop=new flyCrop( width, height,in,canvas,ui.horizontalSlider);
+        myCrop->left=param->left;
+        myCrop->right=param->right;
+        myCrop->top=param->top;
+        myCrop->bottom=param->bottom;
+        myCrop->_cookie=&ui;
+        myCrop->upload();
+        myCrop->sliderChanged();
+
+
+        connect( ui.horizontalSlider,SIGNAL(valueChanged(int)),this,SLOT(sliderUpdate(int)));
+        connect( ui.pushButtonAutoCrop,SIGNAL(clicked(bool)),this,SLOT(autoCrop(bool)));
+        connect( ui.pushButtonReset,SIGNAL(clicked(bool)),this,SLOT(reset(bool)));
+#define SPINNER(x) connect( ui.spinBox##x,SIGNAL(valueChanged(int)),this,SLOT(valueChanged(int))); 
+          SPINNER(Left);
+          SPINNER(Right);
+          SPINNER(Top);
+          SPINNER(Bottom);
+
+  }
+  void Ui_cropWindow::sliderUpdate(int foo)
+  {
+    myCrop->sliderChanged();
+  }
+  void Ui_cropWindow::gather(CROP_PARAMS *param)
+  {
+    
+        myCrop->download();
+        param->left=myCrop->left;
+        param->right=myCrop->right;
+        param->top=myCrop->top;
+        param->bottom=myCrop->bottom;
+  }
+Ui_cropWindow::~Ui_cropWindow()
+{
+  if(myCrop) delete myCrop;
+  myCrop=NULL; 
+  if(canvas) delete canvas;
+  canvas=NULL;
+}
+void Ui_cropWindow::valueChanged( int f )
+{
+  myCrop->download();
+  myCrop->process();
+  myCrop->display();
+}
+
+void Ui_cropWindow::autoCrop( bool f )
+{
+  myCrop->autocrop();
+}
+void Ui_cropWindow::reset( bool f )
+{
+         myCrop->left=0;
+         myCrop->right=0;
+         myCrop->bottom=0;
+         myCrop->top=0;
+         myCrop->upload();
+         myCrop->process();
+         myCrop->display();
+}
+
+//************************
+uint8_t flyCrop::upload(void)
+{
+      Ui_cropDialog *w=(Ui_cropDialog *)_cookie;
+      
+        w->spinBoxLeft->setValue(left);
+        w->spinBoxRight->setValue(right);
+        w->spinBoxTop->setValue(top);
+        w->spinBoxBottom->setValue(bottom);
+        return 1;
+}
+uint8_t flyCrop::download(void)
+{
+        int reject=0;
+Ui_cropDialog *w=(Ui_cropDialog *)_cookie;
+#define SPIN_GET(x,y) x=w->spinBox##y->value();
+                        SPIN_GET(left,Left);
+                        SPIN_GET(right,Right);
+                        SPIN_GET(top,Top);
+                        SPIN_GET(bottom,Bottom);
+                        
+                        printf("%d %d %d %d\n",left,right,top,bottom);
+                        
+                        left&=0xffffe;
+                        right&=0xffffe;
+                        top&=0xffffe;
+                        bottom&=0xffffe;
+                        
+                        if((top+bottom)>_h)
+                                {
+                                        top=bottom=0;
+                                        reject=1;
+                                }
+                        if((left+right)>_w)
+                                {
+                                        left=right=0;
+                                        reject=1;
+                                }
+                        if(reject)
+                                upload();
+}
+
+/**
+      \fn     DIA_getCropParams
+      \brief  Handle crop dialog
+*/
+int DIA_getCropParams(	char *name,CROP_PARAMS *param,AVDMGenericVideoStream *in)
+{
+        uint8_t ret=0;
+        
+        Ui_cropWindow dialog(param,in);        
+        if(dialog.exec()==QDialog::Accepted)
+        {
+            dialog.gather(param); 
+            ret=1;
+        }
+        return ret;
+}
+//____________________________________
+// EOF
+
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_QCanvas.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_QCanvas.cpp	2007-05-13 09:26:00 UTC (rev 3076)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_QCanvas.cpp	2007-05-13 11:14:30 UTC (rev 3077)
@@ -0,0 +1,72 @@
+/***************************************************************************
+    copyright            : (C) 2006 by mean
+    email                : fixounet at free.fr
+***************************************************************************/
+
+/***************************************************************************
+*                                                                         *
+*   This program is free software; you can redistribute it and/or modify  *
+*   it under the terms of the GNU General Public License as published by  *
+*   the Free Software Foundation; either version 2 of the License, or     *
+*   (at your option) any later version.                                   *
+*                                                                         *
+***************************************************************************///
+
+#include "config.h"
+
+#include <string.h>
+#include <stdio.h>
+#include <stdlib.h>
+
+
+
+#include <QtGui/QGraphicsView>
+#include <QtGui/QSlider>
+
+#include "default.h"
+class  ADM_QCanvas : public QWidget
+{
+     Q_OBJECT
+     signals:
+        
+        
+   public slots:
+   public :
+         uint8_t *dataBuffer;
+  protected:
+         uint32_t _w,_h;
+  public:
+        ADM_QCanvas(QWidget *z,uint32_t w,uint32_t h)  ;
+        ~ADM_QCanvas() ;
+        void paintEvent(QPaintEvent *ev);
+};
+
+
+
+ADM_QCanvas::ADM_QCanvas(QWidget *z,uint32_t w,uint32_t h) : QWidget(z) 
+{
+        _w=w;
+        _h=h;
+        dataBuffer=NULL;
+        resize(w,h);
+}
+ADM_QCanvas::~ADM_QCanvas() 
+{
+}
+/**
+    \fn paintEvent( QPaintEvent *ev))
+    \brief Repaint our "video" widget, ignore when accelRender is on
+*/
+void ADM_QCanvas::paintEvent(QPaintEvent *ev)
+{
+    if(!dataBuffer)
+    {
+      printf("Nothing to draw\n");
+      return ;
+    }
+    QImage image(dataBuffer,_w,_h,QImage::Format_RGB32);
+      QPainter painter(this);
+      painter.drawImage(QPoint(0,0),image);
+      painter.end();
+}
+//EOF

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp	2007-05-13 09:26:00 UTC (rev 3076)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp	2007-05-13 11:14:30 UTC (rev 3077)
@@ -0,0 +1,69 @@
+/***************************************************************************
+    copyright            : (C) 2006 by mean
+    email                : fixounet at free.fr
+***************************************************************************/
+
+/***************************************************************************
+*                                                                         *
+*   This program is free software; you can redistribute it and/or modify  *
+*   it under the terms of the GNU General Public License as published by  *
+*   the Free Software Foundation; either version 2 of the License, or     *
+*   (at your option) any later version.                                   *
+*                                                                         *
+***************************************************************************///
+
+#include "config.h"
+
+#include <string.h>
+#include <stdio.h>
+#include <stdlib.h>
+
+
+
+#include <QtGui/QGraphicsView>
+#include <QtGui/QSlider>
+
+#include "default.h"
+#include "ADM_toolkit/toolkit.hxx"
+#include "ADM_colorspace/ADM_rgb.h"
+
+#include "ADM_image.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "DIA_flyDialog.h"
+#include "DIA_flyDialogQt4.h"
+#include "ADM_assert.h"
+
+
+//***************************************
+uint8_t  ADM_flyDialog::display(void)
+{
+   ADM_QCanvas *view=(ADM_QCanvas *)_canvas;
+   ADM_assert(view);
+   view->dataBuffer=_rgbBufferOut;
+   if(!_rgbBufferOut)
+   {
+      printf("flyDialog: No rgbuffer ??\n"); 
+   } 
+   view->repaint();
+  return 1; 
+}
+uint32_t ADM_flyDialog::sliderGet(void)
+{
+  QSlider  *slide=(QSlider *)_slider;
+  ADM_assert(slide);
+  return slide->value();
+  
+}
+uint8_t     ADM_flyDialog::sliderSet(uint32_t value)
+{
+  QSlider  *slide=(QSlider *)_slider;
+  ADM_assert(slide);
+  slide->setValue(value);
+  return 1; 
+}
+uint8_t  ADM_flyDialog::isRgbInverted(void)
+{
+  return 1; 
+}
+
+//EOF

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui	2007-05-13 09:26:00 UTC (rev 3076)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui	2007-05-13 11:14:30 UTC (rev 3077)
@@ -0,0 +1,133 @@
+<ui version="4.0" >
+ <class>Dialog</class>
+ <widget class="QDialog" name="Dialog" >
+  <property name="geometry" >
+   <rect>
+    <x>0</x>
+    <y>0</y>
+    <width>400</width>
+    <height>300</height>
+   </rect>
+  </property>
+  <property name="windowTitle" >
+   <string>Dialog</string>
+  </property>
+  <layout class="QGridLayout" >
+   <property name="margin" >
+    <number>9</number>
+   </property>
+   <property name="spacing" >
+    <number>6</number>
+   </property>
+   <item row="2" column="0" colspan="5" >
+    <widget class="QSlider" name="horizontalSlider" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+    </widget>
+   </item>
+   <item row="3" column="0" colspan="5" >
+    <widget class="QGraphicsView" name="graphicsView" />
+   </item>
+   <item row="1" column="4" >
+    <widget class="QPushButton" name="pushButtonReset" >
+     <property name="text" >
+      <string>Reset</string>
+     </property>
+    </widget>
+   </item>
+   <item row="0" column="0" >
+    <widget class="QLabel" name="label" >
+     <property name="text" >
+      <string>Left:</string>
+     </property>
+    </widget>
+   </item>
+   <item row="1" column="0" >
+    <widget class="QLabel" name="label_4" >
+     <property name="text" >
+      <string>Top:</string>
+     </property>
+    </widget>
+   </item>
+   <item row="1" column="2" >
+    <widget class="QLabel" name="label_3" >
+     <property name="text" >
+      <string>Bottom:</string>
+     </property>
+    </widget>
+   </item>
+   <item row="1" column="3" >
+    <widget class="QSpinBox" name="spinBoxBottom" />
+   </item>
+   <item row="0" column="2" >
+    <widget class="QLabel" name="label_2" >
+     <property name="text" >
+      <string>Right:</string>
+     </property>
+    </widget>
+   </item>
+   <item row="0" column="3" >
+    <widget class="QSpinBox" name="spinBoxRight" />
+   </item>
+   <item row="4" column="0" colspan="5" >
+    <widget class="QDialogButtonBox" name="buttonBox" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="standardButtons" >
+      <set>QDialogButtonBox::Cancel|QDialogButtonBox::NoButton|QDialogButtonBox::Ok</set>
+     </property>
+    </widget>
+   </item>
+   <item row="0" column="1" >
+    <widget class="QSpinBox" name="spinBoxLeft" />
+   </item>
+   <item row="1" column="1" >
+    <widget class="QSpinBox" name="spinBoxTop" />
+   </item>
+   <item row="0" column="4" >
+    <widget class="QPushButton" name="pushButtonAutoCrop" >
+     <property name="text" >
+      <string>AutCrop</string>
+     </property>
+    </widget>
+   </item>
+  </layout>
+ </widget>
+ <resources/>
+ <connections>
+  <connection>
+   <sender>buttonBox</sender>
+   <signal>accepted()</signal>
+   <receiver>Dialog</receiver>
+   <slot>accept()</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>248</x>
+     <y>254</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>157</x>
+     <y>274</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>buttonBox</sender>
+   <signal>rejected()</signal>
+   <receiver>Dialog</receiver>
+   <slot>reject()</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>316</x>
+     <y>260</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>286</x>
+     <y>274</y>
+    </hint>
+   </hints>
+  </connection>
+ </connections>
+</ui>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp	2007-05-13 09:26:00 UTC (rev 3076)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp	2007-05-13 11:14:30 UTC (rev 3077)
@@ -58,75 +58,62 @@
   ELEM_TYPE_FLOAT vGainValue=gain->gain10;
   vGainValue/=10.;
   //**********************************
-  diaMenuEntry menuTimeShift[]={
-  {0,_("No Timeshift")},
-  {1,_("TimeShift activated")}};
        
-   diaElemToggle    eDRC(&vDRC,_("_Dynamic Range Compression:"));
-   diaElemToggle    eTimeShift(&vTshift,_("_TimeShift:"));
-   diaElemInteger  eShift(&vTshiftValue,_("TimeShift _Value:"),-10000,10000);
+   diaElemToggle    eDRC(&vDRC,_("_Dynamic range compression"));
+   diaElemToggle    eTimeShift(&vTshift,_("Enable _time shift"));
+   diaElemInteger  eShift(&vTshiftValue,_("Time shift _value (ms):"),-10000,10000);
    
    eTimeShift.link(1,&eShift);
   
-    diaElemFrame frameMisc(_("Misc"));
-    frameMisc.swallow(&eDRC);
-    frameMisc.swallow(&eTimeShift);
-    frameMisc.swallow(&eShift);
     //**********************************
    
-    diaElemToggle      eResample(&vDownsample,_("_Resampling:"));
-    diaElemUInteger  eResampleValue(&vFreq,_("New Frequency:"),6000,64000);
+    diaElemToggle      eResample(&vDownsample,_("_Enable resampling"));
+    diaElemUInteger  eResampleValue(&vFreq,_("_Resampling frequency (Hz):"),6000,64000);
   
     eResample.link(1,&eResampleValue);
     
-       diaElemFrame frameResampling(_("Resampling"));
-    frameResampling.swallow(&eResample);
-    frameResampling.swallow(&eResampleValue);
     //**********************************
     diaMenuEntry menuFPS[]={
   {FILMCONV_NONE,     _("None")},
-  {FILMCONV_FILM2PAL, _("Film to Pal")},
-  {FILMCONV_PAL2FILM, _("Pal to Film")}
+  {FILMCONV_FILM2PAL, _("Film to PAL")},
+  {FILMCONV_PAL2FILM, _("PAL to Film")}
     };
   
-   diaElemMenu      eFPS(&vFilm,_("_Fps convert:"),3,menuFPS);
-      diaElemFrame frameFPS(_("Framerate Change"));
-    frameFPS.swallow(&eFPS);
+   diaElemMenu      eFPS(&vFilm,_("_Frame rate change:"),3,menuFPS);
+
    //**********************************
     diaMenuEntry menuGain[]={
   {ADM_NO_GAIN,       _("None")},
   {ADM_GAIN_AUTOMATIC,_("Automatic (max -3 dB)")},
   {ADM_GAIN_MANUAL,   _("Manual")}};
   
-   diaElemMenu      eGain(&vGainMode,_("Gain Mode:"),3,menuGain);
+   diaElemMenu      eGain(&vGainMode,_("_Gain mode:"),3,menuGain);
    
-    diaElemFloat  eGainValue(&vGainValue,_("_Gain Value:"),-10,10);
+    diaElemFloat  eGainValue(&vGainValue,_("G_ain value:"),-10,10);
      eGain.link(&(menuGain[2]),1,&eGainValue);
    diaElemFrame frameGain(_("Gain"));   
     frameGain.swallow(&eGain);
     frameGain.swallow(&eGainValue);
   //********************************
     diaMenuEntry menuMixer[]={
-  {CHANNEL_INVALID,     _("No Change")},
+  {CHANNEL_INVALID,     _("No change")},
   {CHANNEL_MONO,        _("Mono")},
   {CHANNEL_STEREO,      _("Stereo")},
-  {CHANNEL_2F_1R,       _("Stereo+Surround")},
-  {CHANNEL_3F,          _("Stereo+Center")},
-  {CHANNEL_3F_1R,           _("Stereo+Center+Surround")},
-  {CHANNEL_2F_2R,           _("Stereo front+Stereo Rear")},
-  {CHANNEL_3F_2R,           _("5 Channels")},
-  {CHANNEL_3F_2R_LFE,       _("5.1 ")},
-  {CHANNEL_DOLBY_PROLOGIC,  _("Dolby Prologic")},
-  {CHANNEL_DOLBY_PROLOGIC2, _("Dolby Prologic II")}
+  {CHANNEL_2F_1R,       _("Stereo+surround")},
+  {CHANNEL_3F,          _("Stereo+center")},
+  {CHANNEL_3F_1R,           _("Stereo+center+surround")},
+  {CHANNEL_2F_2R,           _("Stereo front+stereo rear")},
+  {CHANNEL_3F_2R,           _("5 channels")},
+  {CHANNEL_3F_2R_LFE,       _("5.1")},
+  {CHANNEL_DOLBY_PROLOGIC,  _("Dolby Pro Logic")},
+  {CHANNEL_DOLBY_PROLOGIC2, _("Dolby Pro Logic II")}
     };
 
- diaElemMenu      eMixer(&vChan,_("Mixer:"),11,menuMixer);
-diaElemFrame frameMixer(_("Mixer"));   
-    frameMixer.swallow(&eMixer);
+ diaElemMenu      eMixer(&vChan,_("_Mixer:"),11,menuMixer);
  
  /************************************/
-   diaElem *elems[]={&frameMisc,&frameResampling,&frameFPS,&frameGain,&frameMixer};
-  if( diaFactoryRun(_("Audio Filter Configuration"),5,elems))
+ diaElem *elems[]={&eDRC, &eFPS, &eMixer, &eTimeShift, &eShift, &eResample, &eResampleValue, &frameGain};
+  if( diaFactoryRun(_("Audio Filters"),8,elems))
     {
         *drc=vDRC;
         *tshifted=vTshift;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp	2007-05-13 09:26:00 UTC (rev 3076)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp	2007-05-13 11:14:30 UTC (rev 3077)
@@ -41,7 +41,12 @@
   _h=height;
   _isYuvProcessing=yuv;
   _in=in;
-  _rgb=new ColYuvRgb(_w,_h);
+    if(isRgbInverted())
+    {
+        _rgb=new ColYuvRgb(_w,_h,1);
+    }
+    else
+    _rgb=new ColYuvRgb(_w,_h);
   _rgb->reset(_w,_h);
   ADM_assert(in);
   _yuvBuffer=new ADMImage(_w,_h);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.h	2007-05-13 09:26:00 UTC (rev 3076)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.h	2007-05-13 11:14:30 UTC (rev 3077)
@@ -36,6 +36,7 @@
           uint8_t  *_rgbBufferOut;
           uint8_t  _isYuvProcessing;
   public:
+          void    *_cookie; // whatever
           void    *_slider; // widget
           void    *_canvas; // Drawing zone
           ColYuvRgb *_rgb;
@@ -50,7 +51,8 @@
           
           uint8_t  display(void);
           uint32_t sliderGet(void);
-          uint8_t     sliderSet(uint32_t value);
+          uint8_t  sliderSet(uint32_t value);
+          uint8_t  isRgbInverted(void);
           
           uint8_t     cleanup(void);
          /*                               */



From mean at mail.berlios.de  Sun May 13 15:00:20 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 13 May 2007 15:00:20 +0200
Subject: [Avidemux-svn-commit] r3078 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK/ADM_dialog ADM_QT4/ADM_dialog ADM_commonUI
Message-ID: <200705131300.l4DD0KDk019234@sheep.berlios.de>

Author: mean
Date: 2007-05-13 15:00:20 +0200 (Sun, 13 May 2007)
New Revision: 3078

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_crop.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyCrop.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp
Log:
fix conflict

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp	2007-05-13 11:14:30 UTC (rev 3077)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp	2007-05-13 13:00:20 UTC (rev 3078)
@@ -161,6 +161,7 @@
 void ui_autocrop( void )
 {
   myCrop->autocrop();
+ 
 }
 void ui_reset( void )
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_crop.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_crop.cpp	2007-05-13 11:14:30 UTC (rev 3077)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_crop.cpp	2007-05-13 13:00:20 UTC (rev 3078)
@@ -39,7 +39,6 @@
 #include "DIA_flyDialogQt4.h"
 #include "DIA_flyCrop.h"
 
-
 //
 //	Video is in YV12 Colorspace
 //
@@ -48,7 +47,7 @@
  {
      Q_OBJECT
  protected : 
-      
+    int lock;
  public:
      flyCrop *myCrop;
      ADM_QCanvas *canvas;
@@ -71,7 +70,7 @@
   {
     uint32_t width,height;
         ui.setupUi(this);
-        
+        lock=0;
         // Allocate space for green-ised video
         width=in->getInfo()->width;
         height=in->getInfo()->height;
@@ -120,14 +119,19 @@
 }
 void Ui_cropWindow::valueChanged( int f )
 {
+  if(lock) return;
+  lock++;
   myCrop->download();
   myCrop->process();
   myCrop->display();
+  lock--;
 }
 
 void Ui_cropWindow::autoCrop( bool f )
 {
+  lock++;
   myCrop->autocrop();
+  lock--;
 }
 void Ui_cropWindow::reset( bool f )
 {
@@ -135,20 +139,23 @@
          myCrop->right=0;
          myCrop->bottom=0;
          myCrop->top=0;
+         lock++;
          myCrop->upload();
          myCrop->process();
          myCrop->display();
+         lock--;
 }
 
 //************************
 uint8_t flyCrop::upload(void)
 {
       Ui_cropDialog *w=(Ui_cropDialog *)_cookie;
-      
+        
         w->spinBoxLeft->setValue(left);
         w->spinBoxRight->setValue(right);
         w->spinBoxTop->setValue(top);
         w->spinBoxBottom->setValue(bottom);
+        
         return 1;
 }
 uint8_t flyCrop::download(void)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyCrop.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyCrop.cpp	2007-05-13 11:14:30 UTC (rev 3077)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyCrop.cpp	2007-05-13 13:00:20 UTC (rev 3078)
@@ -179,7 +179,9 @@
         // Update display
         top=top & 0xfffe;
         bottom=bottom & 0xfffe;
-      
+        upload();
+        process();
+        display();
         return 1;
 }
 /*---------------------------------------------

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp	2007-05-13 11:14:30 UTC (rev 3077)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp	2007-05-13 13:00:20 UTC (rev 3078)
@@ -66,7 +66,7 @@
   
   ADM_assert(_slider);
   ADM_assert(_canvas);
-  
+  _cookie=NULL;
 }
 /**
     \fn cleanup



From mean at mail.berlios.de  Sun May 13 15:42:18 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 13 May 2007 15:42:18 +0200
Subject: [Avidemux-svn-commit] r3079 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK/ADM_dialog ADM_commonUI
Message-ID: <200705131342.l4DDgIMR022198@sheep.berlios.de>

Author: mean
Date: 2007-05-13 15:42:17 +0200 (Sun, 13 May 2007)
New Revision: 3079

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyAsharp.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyAsharp.h
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
Log:
flyDialog for asharp

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp	2007-05-13 13:00:20 UTC (rev 3078)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp	2007-05-13 13:42:17 UTC (rev 3079)
@@ -37,65 +37,42 @@
 #include "ADM_image.h"
 #include "ADM_video/ADM_genvideo.hxx"
 #include "ADM_video/ADM_vidASharp_param.h"
+#include "DIA_flyDialog.h"
+#include "DIA_flyAsharp.h"
 #include "ADM_assert.h"
 
 uint8_t DIA_getASharp(ASHARP_PARAM *param, AVDMGenericVideoStream *in);
 
 static GtkWidget        *create_dialog1 (void);
-static void             update ( void);
 static gboolean         draw (void );
 static void             upload(void);
 static void             download(void);
-static void             read ( void );
-static void             recalc( void );
 static void             frame_changed( void );
 static void             hue_changed( void);
-extern void GUI_RGBDisplay(uint8_t * dis, uint32_t w, uint32_t h, void *widg);
 
-static ADMImage *imgsrc,*imgdst,*imgdisplay;
+static int lock=0;
 static GtkWidget *dialog=NULL;
-static uint32_t w,h;
-static uint32_t *rgbbuffer=NULL;
-static AVDMGenericVideoStream *incoming;
-static ASHARP_PARAM  myHue;
-static float      hue,sat;
-static ColYuvRgb    *rgbConv=NULL;
+static flyASharp *myCrop=NULL;
 //
 //      Video is in YV12 Colorspace
 //
 //
 uint8_t DIA_getASharp(ASHARP_PARAM *param, AVDMGenericVideoStream *in)
 {
-        int ret;
-        uint32_t l,f;
-        uint32_t max=in->getInfo()->nb_frames;
-        
-        incoming=in;
+      uint32_t width,height;
+      uint8_t ret=0;
         // Allocate space for green-ised video
-        w=in->getInfo()->width;
-        h=in->getInfo()->height;
-        rgbConv=new ColYuvRgb(w,h);
-        rgbConv->reset(w,h);
-        rgbbuffer=new uint32_t[w*h];
+        width=in->getInfo()->width;
+        height=in->getInfo()->height;
 
-        imgdst=new ADMImage(w,h);
-        imgsrc=new ADMImage(w,h);
-        imgdisplay=new ADMImage(w,h);
-
-        if(curframe<max) max=curframe;
-        
-        ADM_assert(in->getFrameNumberNoAlloc(max, &l, imgsrc,&f));
-        // chroma is not changed by this filter
-        
-        memcpy(UPLANE(imgdisplay),UPLANE(imgsrc),(w*h)>>2);
-        memcpy(VPLANE(imgdisplay),VPLANE(imgsrc),(w*h)>>2);
-        memcpy(&myHue,param,sizeof(myHue));
         dialog=create_dialog1();
         gtk_register_dialog(dialog);
-
-        gtk_widget_set_usize(WID(drawingarea1), w,h);
-
-        upload();
+        
+        gtk_widget_set_usize(WID(drawingarea1), width,height);
+        gtk_window_set_title (GTK_WINDOW (dialog), _("ASHARP"));
+        gtk_widget_show(dialog);
+	
+        
         gtk_signal_connect(GTK_OBJECT(WID(drawingarea1)), "expose_event",
             GTK_SIGNAL_FUNC(draw),
             NULL);
@@ -104,156 +81,82 @@
         gtk_signal_connect(GTK_OBJECT(WID(spinbuttonT)), "value_changed",GTK_SIGNAL_FUNC(hue_changed),   NULL);
         gtk_signal_connect(GTK_OBJECT(WID(spinbuttonD)), "value_changed",GTK_SIGNAL_FUNC(hue_changed),   NULL);
         gtk_signal_connect(GTK_OBJECT(WID(spinbuttonB)), "value_changed",GTK_SIGNAL_FUNC(hue_changed),   NULL);
-     //   gtk_signal_connect(GTK_OBJECT(WID(checkbuttonBF)), "value_changed",GTK_SIGNAL_FUNC(hue_changed),   NULL);
         gtk_widget_show(dialog);
 
-        update();
-        draw();
+          
+        myCrop=new flyASharp( width, height,in,WID(drawingarea1),WID(hscale1));
+        memcpy(&(myCrop->param),param,sizeof(ASHARP_PARAM));
+        myCrop->upload();
+        myCrop->sliderChanged();
         ret=0;
         int response;
         response=gtk_dialog_run(GTK_DIALOG(dialog));
 
         if(response==GTK_RESPONSE_OK)
         {
-            memcpy(param,&myHue,sizeof(myHue));
+            myCrop->download();
+            memcpy(param,&(myCrop->param),sizeof(ASHARP_PARAM));
             ret=1;
         }
         gtk_unregister_dialog(dialog);
         gtk_widget_destroy(dialog);
-    
-        delete imgdst;
-        delete imgsrc;
-        delete imgdisplay;
-        delete [] rgbbuffer;
-        delete rgbConv;
-        rgbConv=NULL;
-
-        rgbbuffer=NULL;
-        imgdst=NULL;
-        imgsrc=NULL;
-        dialog=NULL;
-        imgdisplay=NULL;
+        delete myCrop;
         return ret;
 }
 void hue_changed( void)
 {
-    download();
-    update();
-    draw();
+  if(lock) return;
+  
+   myCrop->update();
+  
 }
 void frame_changed( void )
 {
-uint32_t new_frame,max,l,f;
-double   percent;
-GtkWidget *wid; 
-GtkAdjustment *adj;
-        
-        max=incoming->getInfo()->nb_frames;
-        wid=WID(hscale1);
-        adj=gtk_range_get_adjustment (GTK_RANGE(wid));
-        new_frame=0;
-        
-        percent=(double)GTK_ADJUSTMENT(adj)->value;
-        percent*=max;
-        percent/=100.;
-        new_frame=(uint32_t)floor(percent);
-        
-        if(new_frame>=max) new_frame=max-1;
-        
-        ADM_assert(incoming->getFrameNumberNoAlloc(new_frame, &l, imgsrc,&f));
-        memcpy(UPLANE(imgdisplay),UPLANE(imgsrc),(w*h)>>2);
-        memcpy(VPLANE(imgdisplay),VPLANE(imgsrc),(w*h)>>2);
-        update();
-        draw();
-
+  myCrop->sliderChanged();
 }
 gboolean draw (void)
 {
-    GtkWidget *draw;
-        draw=WID(drawingarea1);
-        GUI_RGBDisplay((uint8_t *)rgbbuffer, w,h, (void *)draw);
-        return true;
+    myCrop->display();
 }
 //
-#define SPIN_GET(x,y) {myHue.x= gtk_spin_button_get_value(GTK_SPIN_BUTTON(WID(y))) ;}
-#define SPIN_SET(x,y)  {gtk_spin_button_set_value(GTK_SPIN_BUTTON(WID(y)),(gfloat)myHue.x) ;}
+#define SPIN_GET(x,y) {param.x= gtk_spin_button_get_value(GTK_SPIN_BUTTON(WID(y))) ;}
+#define SPIN_SET(x,y)  {gtk_spin_button_set_value(GTK_SPIN_BUTTON(WID(y)),(gfloat)param.x) ;}
 
-#define CHECK_GET(x,y) {myHue.x=gtk_toggle_button_get_active( GTK_TOGGLE_BUTTON(WID(y)));}
-#define CHECK_SET(x,y) {gtk_toggle_button_set_active( GTK_TOGGLE_BUTTON(WID(y)),myHue.x);}
+#define CHECK_GET(x,y) {param.x=gtk_toggle_button_get_active( GTK_TOGGLE_BUTTON(WID(y)));}
+#define CHECK_SET(x,y) {gtk_toggle_button_set_active( GTK_TOGGLE_BUTTON(WID(y)),param.x);}
 
 void upload( void)
 {
-//
+    myCrop->upload();
+}
+void download (void)
+{
+     myCrop->download();
+}
+/**************************************/
+uint8_t flyASharp::upload(void)
+{
+    lock++;
         SPIN_SET(t,spinbuttonT);
         SPIN_SET(d,spinbuttonD);
         SPIN_SET(b,spinbuttonB);
 
         CHECK_SET(bf,checkbuttonBF);
+    lock--;
+        return 1;
 }
-void download (void)
+uint8_t flyASharp::download (void)
 {
+    
         SPIN_GET(t,spinbuttonT);
         SPIN_GET(d,spinbuttonD);
         SPIN_GET(b,spinbuttonB);
 
         CHECK_GET(bf,checkbuttonBF);
+        return 1;
 }
-void update(void )
-{
-uint8_t *src,*dst;
-uint32_t stride;
-int32_t T,D,B,B2;   
-ASHARP_PARAM *_param=&myHue;
-uint32_t ww,hh;
 
-                download();
-                ww=incoming->getInfo()->width;
-                hh=incoming->getInfo()->height;
-                // parameters floating point to fixed point convertion
-                T = (int)(_param->t*(4<<7));
-                D = (int)(_param->d*(4<<7));
-                B = (int)(256-_param->b*64);
-                B2= (int)(256-_param->b*48);
-
-                // clipping (recommended for SIMD code)
-
-                if (T<-(4<<7)) T = -(4<<7); // yes, negatives values are accepted
-                if (D<0) D = 0;
-                if (B<0) B = 0;
-                if (B2<0) B2 = 0;
-
-                if (T>(32*(4<<7))) T = (32*(4<<7));
-                if (D>(16*(4<<7))) D = (16*(4<<7));
-                if (B>256) B = 256;
-                if (B2>256) B2 = 256;
-
-
-                memcpy(YPLANE(imgdisplay),YPLANE(imgsrc),ww*hh);
-                asharp_run_c(     imgdisplay->GetWritePtr(PLANAR_Y),
-                        imgdisplay->GetPitch(PLANAR_Y), 
-                        hh,
-                        ww,
-                        T,
-                        D,
-                        B,
-                        B2,
-                        myHue.bf);
-    
-    // Copy half source to display
-    dst=imgdisplay->data;
-    src=imgsrc->data;
-    stride=ww;
-    for(uint32_t y=0;y<hh;y++)   // We do both u & v!
-    {
-        memcpy(dst,src,stride>>1);
-        dst+=stride;
-        src+=stride;
-    }
-    //
-    //COL_yv12rgb(  w,   h,imgdisplay->data,(uint8_t *)rgbbuffer );
-    rgbConv->scale(imgdisplay->data,(uint8_t *)rgbbuffer);
-}
-
+/**************************************************/
 GtkWidget*
 create_dialog1 (void)
 {

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyAsharp.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyAsharp.cpp	2007-05-13 13:00:20 UTC (rev 3078)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyAsharp.cpp	2007-05-13 13:42:17 UTC (rev 3079)
@@ -0,0 +1,101 @@
+/**/
+/***************************************************************************
+                          DIA_hue
+                             -------------------
+
+                           Ui for hue & sat
+
+    begin                : 08 Apr 2005
+    copyright            : (C) 2004/5 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+
+
+#include <config.h>
+
+
+#include <string.h>
+#include <stdio.h>
+#include <math.h>
+#include "default.h"
+#include "ADM_colorspace/ADM_rgb.h"
+
+#include "ADM_image.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_video/ADM_vidASharp_param.h"
+#include "DIA_flyDialog.h"
+#include "DIA_flyAsharp.h"
+#include "ADM_assert.h"
+
+/************* COMMON PART *********************/
+uint8_t  flyASharp::update(void)
+{
+    download();
+    process();
+    _rgb->scale(_yuvBufferOut->data,_rgbBufferOut);
+    display();
+}
+uint8_t flyASharp::process(void)
+{
+uint8_t *src,*dst;
+uint32_t stride;
+int32_t T,D,B,B2;   
+uint32_t ww,hh;
+
+
+                ww=_w;
+                hh=_h;
+                // parameters floating point to fixed point convertion
+                T = (int)(param.t*(4<<7));
+                D = (int)(param.d*(4<<7));
+                B = (int)(256-param.b*64);
+                B2= (int)(256-param.b*48);
+
+                // clipping (recommended for SIMD code)
+
+                if (T<-(4<<7)) T = -(4<<7); // yes, negatives values are accepted
+                if (D<0) D = 0;
+                if (B<0) B = 0;
+                if (B2<0) B2 = 0;
+
+                if (T>(32*(4<<7))) T = (32*(4<<7));
+                if (D>(16*(4<<7))) D = (16*(4<<7));
+                if (B>256) B = 256;
+                if (B2>256) B2 = 256;
+
+
+                memcpy(YPLANE(_yuvBufferOut),YPLANE(_yuvBuffer),ww*hh);
+                memcpy(UPLANE(_yuvBufferOut),UPLANE(_yuvBuffer),ww*hh/4);
+                memcpy(VPLANE(_yuvBufferOut),VPLANE(_yuvBuffer),ww*hh/4);
+                asharp_run_c(     _yuvBufferOut->GetWritePtr(PLANAR_Y),
+                        _yuvBufferOut->GetPitch(PLANAR_Y), 
+                        hh,
+                        ww,
+                        T,
+                        D,
+                        B,
+                        B2,
+                        param.bf);
+    
+    // Copy back half source to display
+    dst=_yuvBufferOut->data;
+    src=_yuvBuffer->data;
+    stride=ww;
+    for(uint32_t y=0;y<hh;y++)   // We do both u & v!
+    {
+        memcpy(dst,src,stride>>1);
+        dst+=stride;
+        src+=stride;
+    }
+}
+//EOF

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyAsharp.h (from rev 3073, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyCrop.h)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyCrop.h	2007-05-12 18:15:37 UTC (rev 3073)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyAsharp.h	2007-05-13 13:42:17 UTC (rev 3079)
@@ -0,0 +1,21 @@
+
+
+#ifndef FLY_ASHARP_H
+#define FLY_ASHARP_H
+class flyASharp : public ADM_flyDialog
+{
+  
+  public:
+   ASHARP_PARAM  param;
+  public:
+   uint8_t    process(void);
+   uint8_t    download(void);
+   uint8_t    upload(void);
+   uint8_t    update(void);
+   flyASharp (uint32_t width,uint32_t height,AVDMGenericVideoStream *in,
+                                    void *canvas, void *slider) : ADM_flyDialog(width, height,in,canvas, slider,1) 
+                    {
+                      
+                    };
+};
+#endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.h	2007-05-13 13:00:20 UTC (rev 3078)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.h	2007-05-13 13:42:17 UTC (rev 3079)
@@ -53,8 +53,8 @@
           uint32_t sliderGet(void);
           uint8_t  sliderSet(uint32_t value);
           uint8_t  isRgbInverted(void);
-          
-          uint8_t     cleanup(void);
+  virtual uint8_t  update(void) {};
+          uint8_t  cleanup(void);
          /*                               */
                   ADM_flyDialog(uint32_t width,uint32_t height,AVDMGenericVideoStream *in,
                                     void *canvas, void *slider,int yuv);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-13 13:00:20 UTC (rev 3078)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-13 13:42:17 UTC (rev 3079)
@@ -5,7 +5,8 @@
 DIA_audioconfig.cpp GUI_render.cpp DIA_SVCD.cpp DIA_DVDff.cpp \
 DIA_bitrateHisto.cpp DIA_prefs.cpp DIA_gototime.cpp \
 DIA_lavcodec.cpp DIA_mjpeg.cpp DIA_requant.cpp \
-DIA_audioFilter.cpp DIA_flyDialog.cpp DIA_flyCrop.cpp
+DIA_audioFilter.cpp DIA_flyDialog.cpp DIA_flyCrop.cpp \
+DIA_flyAsharp.cpp
 
 
 INCLUDES = $(all_includes) $(GTK_CFLAGS) $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \



From mean at mail.berlios.de  Sun May 13 16:12:41 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 13 May 2007 16:12:41 +0200
Subject: [Avidemux-svn-commit] r3080 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200705131412.l4DECfsY024463@sheep.berlios.de>

Author: mean
Date: 2007-05-13 16:12:37 +0200 (Sun, 13 May 2007)
New Revision: 3080

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
Log:
flyDialog for asharp, qt version

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-13 13:42:17 UTC (rev 3079)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-13 14:12:37 UTC (rev 3080)
@@ -77,7 +77,6 @@
 #endif
 uint8_t DIA_animated(ANIMATED_PARAM *param){return 0;}
 uint8_t DIA_cnr2(CNR2Param *param){return 0;}
-uint8_t DIA_getASharp(ASHARP_PARAM *param, AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getEQ2Param(Eq2_Param *param, AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getEqualizer(EqualizerParam *param, ADMImage *image){return 0;}
 uint8_t DIA_getEqualizer(EqualizerParam *param, AVDMGenericVideoStream *in){return 0;}
@@ -105,17 +104,17 @@
 
 uint8_t DIA_about( void ){return 0;}
 void DIA_Calculator(uint32_t *sizeInMeg, uint32_t *avgBitrate ){return ;}
-uint8_t DIA_gotoTime(uint16_t *hh, uint16_t *mm, uint16_t *ss){return 0;}
+//uint8_t DIA_gotoTime(uint16_t *hh, uint16_t *mm, uint16_t *ss){return 0;}
 //int GUI_handleVFilter (void){return 0;}
 uint8_t  initFileSelector(void){return 0;}
 uint8_t initGUI( void ){return 1;}
 
 uint8_t DIA_job(uint32_t nb,char **name){return 0;}
 uint8_t DIA_lavDecoder(uint32_t *swapUv, uint32_t *showU){return 0;}
-uint8_t DIA_d3d(double *luma,double *chroma,double *temporal){return 0;}
+//uint8_t DIA_d3d(double *luma,double *chroma,double *temporal){return 0;}
 uint8_t DIA_kerneldeint(uint32_t *order, uint32_t *threshold, uint32_t *sharp, 
                           uint32_t *twoway, uint32_t *map){return 0;}
-uint8_t DIA_4entries(char *title,uint32_t *left,uint32_t *right,uint32_t *top,uint32_t *bottom) {return 0;}
+//uint8_t DIA_4entries(char *title,uint32_t *left,uint32_t *right,uint32_t *top,uint32_t *bottom) {return 0;}
 uint8_t DIA_videoCodec (SelectCodecType * codec){return 0;}
 uint8_t DIA_getChromaShift( AVDMGenericVideoStream *instream,CHROMASHIFT_PARAM    *param ){ return 0;}
 uint8_t DIA_contrast(AVDMGenericVideoStream *astream,CONTRAST_PARAM *param)  { return 0;}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-13 13:42:17 UTC (rev 3079)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-13 14:12:37 UTC (rev 3080)
@@ -2,7 +2,8 @@
 noinst_LIBRARIES = libADM_dialog.a 
 libADM_dialog_a_SOURCES = DIA_busy.cpp  alert_qt4.cpp DIA_none.cpp OCR_none.cpp DIA_indexing.cpp \
 AQ_props.cpp AQ_working.cpp AQ_encoding.cpp  DIA_xvid4.cpp AQ_resizing.cpp AT_flyDialog.cpp \
-AQ_crop.cpp AT_QCanvas.cpp
+AQ_crop.cpp AT_QCanvas.cpp \
+AQ_asharp.cpp
 
 INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \
 		-I../../../ADM_libraries/ADM_utilities \

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp (from rev 3078, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_crop.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_crop.cpp	2007-05-13 13:00:20 UTC (rev 3078)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp	2007-05-13 14:12:37 UTC (rev 3080)
@@ -0,0 +1,163 @@
+/***************************************************************************
+                          DIA_crop.cpp  -  description
+                             -------------------
+
+			    GUI for cropping including autocrop
+			    +Revisted the Gtk2 way
+			     +Autocrop now in RGB space (more accurate)
+
+    begin                : Fri May 3 2002
+    copyright            : (C) 2002/2007 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include <config.h>
+#include <string.h>
+#include <stdio.h>
+#include <math.h>
+
+#define Ui_Dialog Ui_asharpDialog
+#include "ui_asharp.h"
+#undef Ui_Dialog
+
+#include "default.h"
+#include "ADM_toolkit/toolkit.hxx"
+#include "ADM_image.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_colorspace/ADM_rgb.h"
+#include "ADM_assert.h"
+#include "DIA_flyDialog.h"
+#include "DIA_flyDialogQt4.h"
+#include "ADM_video/ADM_vidASharp_param.h"
+#include "DIA_flyAsharp.h"
+
+//
+//	Video is in YV12 Colorspace
+//
+//
+class Ui_asharpWindow : public QDialog
+ {
+     Q_OBJECT
+ protected : 
+    int lock;
+ public:
+     flyASharp *myCrop;
+     ADM_QCanvas *canvas;
+     Ui_asharpWindow(ASHARP_PARAM *param,AVDMGenericVideoStream *in);
+     ~Ui_asharpWindow();
+     Ui_asharpDialog ui;
+ public slots:
+      void gather(ASHARP_PARAM *param);
+      //void update(int i);
+ private slots:
+   void sliderUpdate(int foo);
+   void valueChanged(int foo);
+
+ private:
+     
+ };
+  Ui_asharpWindow::Ui_asharpWindow(ASHARP_PARAM *param,AVDMGenericVideoStream *in)
+  {
+    uint32_t width,height;
+        ui.setupUi(this);
+        lock=0;
+        // Allocate space for green-ised video
+        width=in->getInfo()->width;
+        height=in->getInfo()->height;
+        ui.graphicsView->resize(width,height);
+        canvas=new ADM_QCanvas(ui.graphicsView,width,height);
+        
+        myCrop=new flyASharp( width, height,in,canvas,ui.horizontalSlider);
+        memcpy(&(myCrop->param),param,sizeof(ASHARP_PARAM));
+        myCrop->_cookie=&ui;
+        myCrop->upload();
+        myCrop->sliderChanged();
+
+
+        connect( ui.horizontalSlider,SIGNAL(valueChanged(int)),this,SLOT(sliderUpdate(int)));
+#define SPINNER(x) connect( ui.doubleSpinBox##x,SIGNAL(valueChanged(int)),this,SLOT(valueChanged(int))); 
+          SPINNER(Treshold);
+          SPINNER(Strength);
+          SPINNER(Block);
+          connect( ui.checkBox,SIGNAL(stateChanged(int)),this,SLOT(valueChanged(int))); 
+
+  }
+  void Ui_asharpWindow::sliderUpdate(int foo)
+  {
+    myCrop->sliderChanged();
+  }
+  void Ui_asharpWindow::gather(ASHARP_PARAM *param)
+  {
+    
+        myCrop->download();
+        memcpy(param,&(myCrop->param),sizeof(ASHARP_PARAM));
+  }
+Ui_asharpWindow::~Ui_asharpWindow()
+{
+  if(myCrop) delete myCrop;
+  myCrop=NULL; 
+  if(canvas) delete canvas;
+  canvas=NULL;
+}
+void Ui_asharpWindow::valueChanged( int f )
+{
+  if(lock) return;
+  lock++;
+  myCrop->update();
+  lock--;
+}
+
+#define MYSPIN(x) w->doubleSpinBox##x
+//************************
+uint8_t flyASharp::upload(void)
+{
+      Ui_asharpDialog *w=(Ui_asharpDialog *)_cookie;
+        
+        MYSPIN(Treshold)->setValue(param.t);
+        MYSPIN(Strength)->setValue(param.d);
+        MYSPIN(Block)->setValue(param.b);
+        
+        //w->bf->w->checkBox->isChecked();
+        w->checkBox->setChecked(param.bf);
+        return 1;
+}
+uint8_t flyASharp::download(void)
+{
+       Ui_asharpDialog *w=(Ui_asharpDialog *)_cookie;
+       param.t= MYSPIN(Treshold)->value();
+       param.d= MYSPIN(Strength)->value();
+       param.b= MYSPIN(Block)->value();
+       
+       //w->spinBoxBottom->setValue(bottom);
+       param.bf=w->checkBox->isChecked();
+}
+
+/**
+      \fn     DIA_getCropParams
+      \brief  Handle crop dialog
+*/
+uint8_t DIA_getASharp(ASHARP_PARAM *param, AVDMGenericVideoStream *in)
+{
+        uint8_t ret=0;
+        
+        Ui_asharpWindow dialog(param,in);        
+        if(dialog.exec()==QDialog::Accepted)
+        {
+            dialog.gather(param); 
+            ret=1;
+        }
+        return ret;
+}
+//____________________________________
+// EOF
+
+



From mean at mail.berlios.de  Sun May 13 16:39:42 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 13 May 2007 16:39:42 +0200
Subject: [Avidemux-svn-commit] r3081 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK/ADM_dialog ADM_QT4/ADM_dialog ADM_commonUI
Message-ID: <200705131439.l4DEdgYv026089@sheep.berlios.de>

Author: mean
Date: 2007-05-13 16:39:42 +0200 (Sun, 13 May 2007)
New Revision: 3081

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyChromaShift.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyChromaShift.h
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
Log:
flyDialog for chromashift

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp	2007-05-13 14:12:37 UTC (rev 3080)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp	2007-05-13 14:39:42 UTC (rev 3081)
@@ -14,28 +14,9 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include "config.h"
-
-#include <stdio.h>
-#include <stdlib.h>
+#include <config.h>
 #include <string.h>
-
-#include <gtk/gtk.h>
-#include <time.h>
-#include <sys/time.h>
-
-
-#include "fourcc.h"
-#include "avio.hxx"
-#include "config.h"
-#include "avi_vars.h"
-#include <ADM_assert.h>
-
-
-#include "ADM_editor/ADM_edit.hxx"
-#include "ADM_video/ADM_genvideo.hxx"
-#include "ADM_video/ADM_vidCommonFilter.h"
-
+#include <stdio.h>
 #include <gdk/gdkkeysyms.h>
 #include <gtk/gtk.h>
 
@@ -44,79 +25,62 @@
 #include <gtk/gtk.h>
 # include <math.h>
 
-
-#include "avi_vars.h"
-#include "ADM_toolkit_gtk/ADM_gladeSupport.h"
+#include "default.h"
 #include "ADM_toolkit_gtk/toolkit_gtk.h"
 #include "ADM_toolkit_gtk/toolkit_gtk_include.h"
 #include "ADM_toolkit/toolkit.hxx"
-#include "default.h"
 
-
+#include "ADM_image.h"
+#include "ADM_video/ADM_genvideo.hxx"
 #include "ADM_colorspace/ADM_rgb.h"
-#include "ADM_video/ADM_vidChromaShift.h"
+#include "ADM_assert.h"
+#include "DIA_flyDialog.h"
 #include "ADM_video/ADM_vidChromaShift_param.h"
+#include "DIA_flyChromaShift.h"
 
-#include "ADM_osSupport/ADM_debugID.h"
-#define MODULE_NAME MODULE_FILTER
-#include "ADM_osSupport/ADM_debug.h"
+static int lock=0;
 
-
-
-#include "prototype.h"
-
-#define SPIN_GET(x,y) {y= gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(lookup_widget(dialog,#x))) ;\
-				printf(#x":%d\n", y);}
-
-#define SPIN_SET(x,y)  {gtk_spin_button_set_value(GTK_SPIN_BUTTON(lookup_widget(dialog,#x)),(gfloat)y) ; printf(#x":%d\n", y);}
-
-
-static int32_t shift_u, shift_v;
-static uint32_t ww,hh;
-
 static GtkWidget *dialog;
 static GtkWidget *create_ChromaShift( void );
 
 
-static void chromadraw (GtkWidget *dialog,uint32_t w,uint32_t h );
 static void read( void );
 static void upload ( void );
 static gboolean gui_draw( void );
 static gboolean gui_update( void );
 static gboolean slider_update( void );
 static void update(void);
-static int curImage=0;
+
+static flyChromaShift *myCrop=NULL;
 //**************************************
-static ADMImage   *video_src=NULL;
-static ADMImage   *video_shifted=NULL;
-static uint8_t    *video_rgb=NULL;
-static ColYuvRgb  *rgbConv=NULL;
-AVDMGenericVideoStream *sstream=NULL;
 
 uint8_t DIA_getChromaShift( AVDMGenericVideoStream *instream,CHROMASHIFT_PARAM    *param );
-uint8_t DIA_getChromaShift( AVDMGenericVideoStream *instream,CHROMASHIFT_PARAM    *param )
+uint8_t DIA_getChromaShift( AVDMGenericVideoStream *in,CHROMASHIFT_PARAM    *param )
 {
 uint8_t ret=0;
-        sstream=instream;
-        ww=instream->getInfo()->width;
-        hh=instream->getInfo()->height;
-        video_src=new ADMImage(ww,hh);
-        video_shifted=new ADMImage(ww,hh);
-        video_rgb=new uint8_t[ww*hh*4];
-        rgbConv=new ColYuvRgb(ww,hh);
-        rgbConv->reset(ww,hh);
-        shift_u=param->u;
-        shift_v=param->v;
-	dialog=create_ChromaShift();
-	gtk_register_dialog(dialog);
-        curImage=0;
+  
+        uint32_t width,height;
+
+        // Allocate space for green-ised video
+        width=in->getInfo()->width;
+        height=in->getInfo()->height;
+
+        dialog=create_ChromaShift();
+        gtk_register_dialog(dialog);
         
-        gtk_widget_set_usize(WID(drawingarea1), ww,hh);
+        gtk_widget_set_usize(WID(drawingarea1), width,height);
+        gtk_window_set_title (GTK_WINDOW (dialog), _("ASHARP"));
         gtk_widget_show(dialog);
-        upload();
+	
+        myCrop=new flyChromaShift( width, height,in,WID(drawingarea1),WID(hscale));
+        memcpy(&(myCrop->param),param,sizeof(CHROMASHIFT_PARAM));
+        myCrop->upload();
+        myCrop->sliderChanged();
+        
         gtk_signal_connect(GTK_OBJECT(WID(drawingarea1)), "expose_event",
-                        GTK_SIGNAL_FUNC(gui_draw),
-                        NULL);
+            GTK_SIGNAL_FUNC(gui_draw),
+            NULL);
+        
         gtk_signal_connect (GTK_OBJECT(WID( spinbutton_U)), "value_changed",
                     GTK_SIGNAL_FUNC (gui_update),
                     NULL);
@@ -129,112 +93,73 @@
          gtk_signal_connect (GTK_OBJECT(WID( hscale)), "value_changed",
                     GTK_SIGNAL_FUNC (slider_update),
                     NULL);
-        uint32_t len,flags;
-        if(!instream->getFrameNumberNoAlloc(curImage,&len,video_src,&flags))
-        {
-          GUI_Error_HIG("Frame error","Cannnot read frame to display");
-          return 0;
-        }
-         
-        update();
-  
+
+          
+       
+        ret=0;
         int response;
-        while( (response=gtk_dialog_run(GTK_DIALOG(dialog)))==GTK_RESPONSE_APPLY)
-        {
-                read();
-                update();
-        }
+        response=gtk_dialog_run(GTK_DIALOG(dialog));
+
         if(response==GTK_RESPONSE_OK)
         {
-                read();
-                param->u=shift_u;
-                param->v=shift_v;
-                ret=1;
+            myCrop->download();
+            memcpy(param,&(myCrop->param),sizeof(CHROMASHIFT_PARAM));
+            ret=1;
         }
         gtk_unregister_dialog(dialog);
         gtk_widget_destroy(dialog);
-        dialog=NULL;
-        delete video_src;
-        delete video_shifted;
-        delete [] video_rgb;
-        delete rgbConv;
+        delete myCrop;
         return ret;
-
 }
+      
+/**********************************/
 void read( void )
 {
-	SPIN_GET(spinbutton_U,shift_u);
-	SPIN_GET(spinbutton_V,shift_v);
+	myCrop->download();
 }
 void upload ( void )
 {
-	SPIN_SET(spinbutton_U,shift_u);
-	SPIN_SET(spinbutton_V,shift_v);
+	myCrop->upload();
 }
-/*---------------------------------------------------------------------------
-	Green-ify the displayed frame on cropped parts
-*/
-void update( void)
+gboolean slider_update( void )
 {
-
-        // First copy Y
-        memcpy(video_shifted->data,video_src->data,(ww*hh));
-        // then shift u
-
-         ADMVideoChromaShift::shift(video_shifted->data+ww*hh,
-                                    video_src->data+ww*hh, ww>>1,hh>>1,shift_u);
-        ADMVideoChromaShift::shift(video_shifted->data+((5*ww*hh)>>2),
-                                    video_src->data+((5*ww*hh)>>2), ww>>1,hh>>1,shift_v);
-        if(shift_u)
-                ADMVideoChromaShift::fixup(video_shifted->data,ww,hh,shift_u*2);
-        if(shift_v)
-                ADMVideoChromaShift::fixup(video_shifted->data,ww,hh,shift_v*2);
-
-        rgbConv->scale(video_shifted->data,video_rgb);
-        chromadraw(dialog,ww,hh);
+        myCrop->sliderChanged();
+        return true;
 }
-gboolean gui_update( void )
+gboolean gui_update( void)
 {
-	//printf(" GUI !\n");
-	read();
-	update();
-	return true;
+  if(lock) return true;
+      myCrop->update();
+  return true;
 }
-gboolean slider_update( void )
+gboolean gui_draw( void )
 {
-  GtkAdjustment *adj;   
-        printf("Slider update\n");
-        adj=gtk_range_get_adjustment (GTK_RANGE(WID(hscale)));
-        double val=(double)GTK_ADJUSTMENT(adj)->value;
-        
-        val=(val*sstream->getInfo()->nb_frames)/100.;
-        curImage=(uint32_t)floor(val);
-        
-        uint32_t len,flags;
-        if(!sstream->getFrameNumberNoAlloc(curImage,&len,video_src,&flags))
-        {
-          printf("Frame %u / %u\n",curImage,sstream->getInfo()->nb_frames);
-          GUI_Error_HIG("Frame error","Cannnot read frame to display");
-          return true;
-        }
-        gui_update();
-        return true;
+	myCrop->display();
+	return true;
 }
 
-/*---------------------------------------------------------------------------
-	Actually draw the working frame on screen
-*/
-gboolean gui_draw( void )
+/******************************/
+#define SPIN_GET(x,y) {y= gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(lookup_widget(dialog,#x))) ;\
+				printf(#x":%d\n", y);}
+
+#define SPIN_SET(x,y)  {gtk_spin_button_set_value(GTK_SPIN_BUTTON(lookup_widget(dialog,#x)),(gfloat)y) ; printf(#x":%d\n", y);}
+
+
+uint8_t    flyChromaShift::upload(void)
 {
-	chromadraw(dialog,ww,hh);
-	return true;
+        SPIN_SET(spinbutton_U,param.u);
+        SPIN_SET(spinbutton_V,param.v);
+  return 1;
 }
-void chromadraw (GtkWidget *dialog,uint32_t w,uint32_t h )
+uint8_t    flyChromaShift::download(void)
 {
-	GtkWidget *draw;
-	draw=WID(drawingarea1);
-	GUI_RGBDisplay(video_rgb, w,h, (void *)draw);
+        SPIN_GET(spinbutton_U,param.u);
+        SPIN_GET(spinbutton_V,param.v);
+  
+  return 1;
 }
+
+
 /*----------------------------------------------------------------*/
 
 GtkWidget*

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp	2007-05-13 14:12:37 UTC (rev 3080)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp	2007-05-13 14:39:42 UTC (rev 3081)
@@ -121,13 +121,14 @@
 uint8_t flyASharp::upload(void)
 {
       Ui_asharpDialog *w=(Ui_asharpDialog *)_cookie;
-        
+
         MYSPIN(Treshold)->setValue(param.t);
         MYSPIN(Strength)->setValue(param.d);
         MYSPIN(Block)->setValue(param.b);
         
         //w->bf->w->checkBox->isChecked();
         w->checkBox->setChecked(param.bf);
+
         return 1;
 }
 uint8_t flyASharp::download(void)

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyChromaShift.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyChromaShift.cpp	2007-05-13 14:12:37 UTC (rev 3080)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyChromaShift.cpp	2007-05-13 14:39:42 UTC (rev 3081)
@@ -0,0 +1,56 @@
+/***************************************************************************
+                          ADM_guiChromaShift.cpp  -  description
+                             -------------------
+    begin                : Sun Aug 24 2003
+    copyright            : (C) 2002-2003 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include "config.h"
+#include <string.h>
+#include <stdio.h>
+#include <math.h>
+#include "default.h"
+#include "ADM_colorspace/ADM_rgb.h"
+
+#include "ADM_image.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_video/ADM_vidChromaShift.h"
+#include "ADM_video/ADM_vidChromaShift_param.h"
+#include "DIA_flyDialog.h"
+#include "DIA_flyChromaShift.h"
+
+/*********  COMMON PART *********/
+uint8_t    flyChromaShift::process(void)
+{
+        // First copy Y
+        memcpy(_yuvBufferOut->data,_yuvBuffer->data,(_w*_h));
+        // then shift u
+
+         ADMVideoChromaShift::shift(_yuvBufferOut->data+_w*_h,
+                                    _yuvBuffer->data+_w*_h, _w>>1,_h>>1,param.u);
+        ADMVideoChromaShift::shift(_yuvBufferOut->data+((5*_w*_h)>>2),
+                                    _yuvBuffer->data+((5*_w*_h)>>2), _w>>1,_h>>1,param.v);
+        if(param.u)
+                ADMVideoChromaShift::fixup(_yuvBufferOut->data,_w,_h,param.u*2);
+        if(param.v)
+                ADMVideoChromaShift::fixup(_yuvBufferOut->data,_w,_h,param.v*2);
+
+}
+uint8_t    flyChromaShift::update(void)
+{
+   download();
+    process();
+    _rgb->scale(_yuvBufferOut->data,_rgbBufferOut);
+    display();
+}
+//EOF
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyChromaShift.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyChromaShift.h	2007-05-13 14:12:37 UTC (rev 3080)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyChromaShift.h	2007-05-13 14:39:42 UTC (rev 3081)
@@ -0,0 +1,21 @@
+#ifndef FLY_CHROMASHIFT_H
+#define FLY_CHROMASHIFT_H
+class flyChromaShift : public ADM_flyDialog
+{
+  
+  public:
+   CHROMASHIFT_PARAM  param;
+  public:
+   uint8_t    process(void);
+   uint8_t    download(void);
+   uint8_t    upload(void);
+   uint8_t    update(void);
+   flyChromaShift (uint32_t width,uint32_t height,AVDMGenericVideoStream *in,
+                                    void *canvas, void *slider) : ADM_flyDialog(width, height,in,canvas, slider,1) 
+                    {
+                      
+                    };
+};
+
+#endif
+//EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-13 14:12:37 UTC (rev 3080)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-13 14:39:42 UTC (rev 3081)
@@ -6,7 +6,7 @@
 DIA_bitrateHisto.cpp DIA_prefs.cpp DIA_gototime.cpp \
 DIA_lavcodec.cpp DIA_mjpeg.cpp DIA_requant.cpp \
 DIA_audioFilter.cpp DIA_flyDialog.cpp DIA_flyCrop.cpp \
-DIA_flyAsharp.cpp
+DIA_flyAsharp.cpp DIA_flyChromaShift.cpp
 
 
 INCLUDES = $(all_includes) $(GTK_CFLAGS) $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \



From mean at mail.berlios.de  Sun May 13 16:49:34 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 13 May 2007 16:49:34 +0200
Subject: [Avidemux-svn-commit] r3082 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200705131449.l4DEnYCl027000@sheep.berlios.de>

Author: mean
Date: 2007-05-13 16:49:34 +0200 (Sun, 13 May 2007)
New Revision: 3082

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/asharp.ui
Log:
ui file for asharp/qt

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/asharp.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/asharp.ui	2007-05-13 14:39:42 UTC (rev 3081)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/asharp.ui	2007-05-13 14:49:34 UTC (rev 3082)
@@ -0,0 +1,168 @@
+<ui version="4.0" >
+ <class>Dialog</class>
+ <widget class="QDialog" name="Dialog" >
+  <property name="geometry" >
+   <rect>
+    <x>0</x>
+    <y>0</y>
+    <width>481</width>
+    <height>454</height>
+   </rect>
+  </property>
+  <property name="windowTitle" >
+   <string>ASharp</string>
+  </property>
+  <layout class="QGridLayout" >
+   <property name="margin" >
+    <number>9</number>
+   </property>
+   <property name="spacing" >
+    <number>6</number>
+   </property>
+   <item row="3" column="3" >
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>40</width>
+       <height>20</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+   <item row="2" column="3" >
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>40</width>
+       <height>20</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+   <item row="1" column="3" >
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>40</width>
+       <height>20</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+   <item row="0" column="3" >
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>40</width>
+       <height>20</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+   <item row="4" column="0" colspan="4" >
+    <widget class="QSlider" name="horizontalSlider" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+    </widget>
+   </item>
+   <item row="6" column="1" colspan="3" >
+    <widget class="QDialogButtonBox" name="buttonBox" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="standardButtons" >
+      <set>QDialogButtonBox::Cancel|QDialogButtonBox::NoButton|QDialogButtonBox::Ok</set>
+     </property>
+    </widget>
+   </item>
+   <item row="5" column="0" colspan="4" >
+    <widget class="QGraphicsView" name="graphicsView" />
+   </item>
+   <item row="1" column="0" >
+    <widget class="QLabel" name="label_2" >
+     <property name="text" >
+      <string>Strength</string>
+     </property>
+    </widget>
+   </item>
+   <item row="0" column="0" >
+    <widget class="QLabel" name="label" >
+     <property name="text" >
+      <string>Threshold</string>
+     </property>
+    </widget>
+   </item>
+   <item row="2" column="0" colspan="2" >
+    <widget class="QLabel" name="label_3" >
+     <property name="text" >
+      <string>Block Adaptative</string>
+     </property>
+    </widget>
+   </item>
+   <item row="3" column="0" colspan="3" >
+    <widget class="QCheckBox" name="checkBox" >
+     <property name="text" >
+      <string>Unknown flag</string>
+     </property>
+    </widget>
+   </item>
+   <item row="0" column="2" >
+    <widget class="QDoubleSpinBox" name="doubleSpinBoxTreshold" />
+   </item>
+   <item row="1" column="2" >
+    <widget class="QDoubleSpinBox" name="doubleSpinBoxStrength" />
+   </item>
+   <item row="2" column="2" >
+    <widget class="QDoubleSpinBox" name="doubleSpinBoxBlock" />
+   </item>
+  </layout>
+ </widget>
+ <resources/>
+ <connections>
+  <connection>
+   <sender>buttonBox</sender>
+   <signal>accepted()</signal>
+   <receiver>Dialog</receiver>
+   <slot>accept()</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>248</x>
+     <y>254</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>157</x>
+     <y>274</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>buttonBox</sender>
+   <signal>rejected()</signal>
+   <receiver>Dialog</receiver>
+   <slot>reject()</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>316</x>
+     <y>260</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>286</x>
+     <y>274</y>
+    </hint>
+   </hints>
+  </connection>
+ </connections>
+</ui>



From mean at mail.berlios.de  Sun May 13 18:05:40 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 13 May 2007 18:05:40 +0200
Subject: [Avidemux-svn-commit] r3083 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200705131605.l4DG5e6S032643@sheep.berlios.de>

Author: mean
Date: 2007-05-13 18:05:39 +0200 (Sun, 13 May 2007)
New Revision: 3083

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_chromashift.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/chromashift.ui
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
Log:
flyDialog for chromaShift (qt)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-13 14:49:34 UTC (rev 3082)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-13 16:05:39 UTC (rev 3083)
@@ -116,7 +116,7 @@
                           uint32_t *twoway, uint32_t *map){return 0;}
 //uint8_t DIA_4entries(char *title,uint32_t *left,uint32_t *right,uint32_t *top,uint32_t *bottom) {return 0;}
 uint8_t DIA_videoCodec (SelectCodecType * codec){return 0;}
-uint8_t DIA_getChromaShift( AVDMGenericVideoStream *instream,CHROMASHIFT_PARAM    *param ){ return 0;}
+//uint8_t DIA_getChromaShift( AVDMGenericVideoStream *instream,CHROMASHIFT_PARAM    *param ){ return 0;}
 uint8_t DIA_contrast(AVDMGenericVideoStream *astream,CONTRAST_PARAM *param)  { return 0;}
 uint8_t DIA_audioCodec( AUDIOENCODER *codec ) {return 0;}
 uint8_t DIA_dnr(uint32_t *llock,uint32_t *lthresh, uint32_t *clock,

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-13 14:49:34 UTC (rev 3082)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-13 16:05:39 UTC (rev 3083)
@@ -3,7 +3,7 @@
 libADM_dialog_a_SOURCES = DIA_busy.cpp  alert_qt4.cpp DIA_none.cpp OCR_none.cpp DIA_indexing.cpp \
 AQ_props.cpp AQ_working.cpp AQ_encoding.cpp  DIA_xvid4.cpp AQ_resizing.cpp AT_flyDialog.cpp \
 AQ_crop.cpp AT_QCanvas.cpp \
-AQ_asharp.cpp
+AQ_asharp.cpp AQ_chromashift.cpp
 
 INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \
 		-I../../../ADM_libraries/ADM_utilities \

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_chromashift.cpp (from rev 3081, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp	2007-05-13 14:39:42 UTC (rev 3081)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_chromashift.cpp	2007-05-13 16:05:39 UTC (rev 3083)
@@ -0,0 +1,157 @@
+/***************************************************************************
+                          DIA_crop.cpp  -  description
+                             -------------------
+
+			    GUI for cropping including autocrop
+			    +Revisted the Gtk2 way
+			     +Autocrop now in RGB space (more accurate)
+
+    begin                : Fri May 3 2002
+    copyright            : (C) 2002/2007 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include <config.h>
+#include <string.h>
+#include <stdio.h>
+#include <math.h>
+
+#define Ui_Dialog Ui_chromashiftDialog
+#include "ui_chromashift.h"
+#undef Ui_Dialog
+
+#include "default.h"
+#include "ADM_toolkit/toolkit.hxx"
+#include "ADM_image.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_colorspace/ADM_rgb.h"
+#include "ADM_assert.h"
+#include "DIA_flyDialog.h"
+#include "DIA_flyDialogQt4.h"
+#include "ADM_video/ADM_vidChromaShift_param.h"
+#include "DIA_flyChromaShift.h"
+class Ui_chromaShiftWindow : public QDialog
+ {
+     Q_OBJECT
+ protected : 
+    int lock;
+ public:
+     flyChromaShift *myCrop;
+     ADM_QCanvas *canvas;
+     Ui_chromaShiftWindow(CHROMASHIFT_PARAM *param,AVDMGenericVideoStream *in);
+     ~Ui_chromaShiftWindow();
+     Ui_chromashiftDialog ui;
+ public slots:
+      void gather(CHROMASHIFT_PARAM *param);
+      //void update(int i);
+ private slots:
+   void sliderUpdate(int foo);
+   void valueChanged(int foo);
+
+ private:
+     
+ };
+  Ui_chromaShiftWindow::Ui_chromaShiftWindow(CHROMASHIFT_PARAM *param,AVDMGenericVideoStream *in)
+  {
+    uint32_t width,height;
+        ui.setupUi(this);
+        lock=0;
+        
+        // Allocate space for green-ised video
+        width=in->getInfo()->width;
+        height=in->getInfo()->height;
+        
+        int boundary=width/2;
+        
+        ui.spinBoxU->setMaximum(boundary/2);
+        ui.spinBoxU->setMinimum(-boundary);
+        ui.spinBoxV->setMaximum(boundary/2);
+        ui.spinBoxV->setMinimum(-boundary);
+        
+        ui.graphicsView->resize(width,height);
+        canvas=new ADM_QCanvas(ui.graphicsView,width,height);
+        
+        myCrop=new flyChromaShift( width, height,in,canvas,ui.horizontalSlider);
+        memcpy(&(myCrop->param),param,sizeof(CHROMASHIFT_PARAM));
+        myCrop->_cookie=&ui;
+        myCrop->upload();
+        myCrop->sliderChanged();
+
+
+        connect( ui.horizontalSlider,SIGNAL(valueChanged(int)),this,SLOT(sliderUpdate(int)));
+#define SPINNER(x) connect( ui.spinBox##x,SIGNAL(valueChanged(int)),this,SLOT(valueChanged(int))); 
+          SPINNER(U);
+          SPINNER(V);
+  }
+  void Ui_chromaShiftWindow::sliderUpdate(int foo)
+  {
+    myCrop->sliderChanged();
+  }
+  void Ui_chromaShiftWindow::gather(CHROMASHIFT_PARAM *param)
+  {
+    
+        myCrop->download();
+        memcpy(param,&(myCrop->param),sizeof(CHROMASHIFT_PARAM));
+  }
+Ui_chromaShiftWindow::~Ui_chromaShiftWindow()
+{
+  if(myCrop) delete myCrop;
+  myCrop=NULL; 
+  if(canvas) delete canvas;
+  canvas=NULL;
+}
+void Ui_chromaShiftWindow::valueChanged( int f )
+{
+  if(lock) return;
+  lock++;
+  myCrop->update();
+  lock--;
+}
+
+#define MYSPIN(x) w->spinBox##x
+//************************
+uint8_t flyChromaShift::upload(void)
+{
+      Ui_chromashiftDialog *w=(Ui_chromashiftDialog *)_cookie;
+
+        MYSPIN(U)->setValue(param.u);
+        MYSPIN(V)->setValue(param.v);
+        return 1;
+}
+uint8_t flyChromaShift::download(void)
+{
+       Ui_chromashiftDialog *w=(Ui_chromashiftDialog *)_cookie;
+       param.u= MYSPIN(U)->value();
+       param.v= MYSPIN(V)->value();
+       
+}
+
+/**
+      \fn     DIA_getChromaShift
+      \brief  Handle crop dialog
+*/
+uint8_t DIA_getChromaShift( AVDMGenericVideoStream *in,CHROMASHIFT_PARAM    *param )
+{
+        uint8_t ret=0;
+        
+        Ui_chromaShiftWindow dialog(param,in);        
+        if(dialog.exec()==QDialog::Accepted)
+        {
+            dialog.gather(param); 
+            ret=1;
+        }
+        return ret;
+}
+//____________________________________
+// EOF
+
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/chromashift.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/chromashift.ui	2007-05-13 14:49:34 UTC (rev 3082)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/chromashift.ui	2007-05-13 16:05:39 UTC (rev 3083)
@@ -0,0 +1,141 @@
+<ui version="4.0" >
+ <class>Dialog</class>
+ <widget class="QDialog" name="Dialog" >
+  <property name="geometry" >
+   <rect>
+    <x>0</x>
+    <y>0</y>
+    <width>422</width>
+    <height>585</height>
+   </rect>
+  </property>
+  <property name="windowTitle" >
+   <string>ChromaShift</string>
+  </property>
+  <layout class="QGridLayout" >
+   <property name="margin" >
+    <number>9</number>
+   </property>
+   <property name="spacing" >
+    <number>6</number>
+   </property>
+   <item row="1" column="0" >
+    <widget class="QLabel" name="label_2" >
+     <property name="text" >
+      <string>V Shift</string>
+     </property>
+    </widget>
+   </item>
+   <item row="0" column="0" >
+    <widget class="QLabel" name="label" >
+     <property name="text" >
+      <string>U Shift</string>
+     </property>
+    </widget>
+   </item>
+   <item row="4" column="3" >
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Vertical</enum>
+     </property>
+     <property name="sizeType" >
+      <enum>QSizePolicy::Maximum</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>20</width>
+       <height>16</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+   <item row="5" column="0" colspan="4" >
+    <widget class="QDialogButtonBox" name="buttonBox" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="standardButtons" >
+      <set>QDialogButtonBox::Cancel|QDialogButtonBox::NoButton|QDialogButtonBox::Ok</set>
+     </property>
+    </widget>
+   </item>
+   <item row="2" column="0" colspan="4" >
+    <widget class="QSlider" name="horizontalSlider" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+    </widget>
+   </item>
+   <item row="3" column="0" colspan="4" >
+    <widget class="QGraphicsView" name="graphicsView" />
+   </item>
+   <item row="1" column="1" >
+    <widget class="QSpinBox" name="spinBoxV" />
+   </item>
+   <item row="0" column="1" >
+    <widget class="QSpinBox" name="spinBoxU" />
+   </item>
+   <item row="0" column="2" >
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>40</width>
+       <height>20</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+   <item row="1" column="2" >
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>40</width>
+       <height>20</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+  </layout>
+ </widget>
+ <resources/>
+ <connections>
+  <connection>
+   <sender>buttonBox</sender>
+   <signal>accepted()</signal>
+   <receiver>Dialog</receiver>
+   <slot>accept()</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>248</x>
+     <y>254</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>157</x>
+     <y>274</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>buttonBox</sender>
+   <signal>rejected()</signal>
+   <receiver>Dialog</receiver>
+   <slot>reject()</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>316</x>
+     <y>260</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>286</x>
+     <y>274</y>
+    </hint>
+   </hints>
+  </connection>
+ </connections>
+</ui>



From mean at mail.berlios.de  Sun May 13 18:50:52 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 13 May 2007 18:50:52 +0200
Subject: [Avidemux-svn-commit] r3084 - in
	branches/avidemux_2.4_branch/avidemux: ADM_inputs/ADM_mp4
	ADM_libraries/ADM_lavcodec/i386
	ADM_userInterfaces/ADM_GTK/ADM_dialog
	ADM_userInterfaces/ADM_GTK/glade
	ADM_userInterfaces/ADM_commonUI ADM_video
Message-ID: <200705131650.l4DGoqiH029860@sheep.berlios.de>

Author: mean
Date: 2007-05-13 18:50:44 +0200 (Sun, 13 May 2007)
New Revision: 3084

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/contrast2.glade
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyContrast.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyContrast.h
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/i386/cputest.c
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyAsharp.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidContrast.cpp
Log:
flyDialog for contrast (gtk)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-13 16:05:39 UTC (rev 3083)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-13 16:50:44 UTC (rev 3084)
@@ -173,11 +173,6 @@
             parseMdia(&son,&trackType,w,h);
             break;
         }
-        case ADM_MP4_STBL:
-        {
-            parseMdia(&son,&trackType,w,h);
-            break;
-        }
        default:
           adm_printf(ADM_PRINT_DEBUG,"Unprocessed atom\n");
      }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/i386/cputest.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/i386/cputest.c	2007-05-13 16:05:39 UTC (rev 3083)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/i386/cputest.c	2007-05-13 16:50:44 UTC (rev 3084)
@@ -51,6 +51,8 @@
     int max_std_level, max_ext_level, std_caps=0, ext_caps=0;
     long a, c;
 
+    
+    
     __asm__ __volatile__ (
                           /* See if CPUID instruction is supported ... */
                           /* ... Get copies of EFLAGS into eax and ecx */
@@ -81,7 +83,7 @@
         cpuid(1, eax, ebx, ecx, std_caps);
         if (std_caps & (1<<23))
             rval |= MM_MMX;
-#if 1	    
+#if 0	    
         if (std_caps & (1<<25))
             rval |= MM_MMXEXT | MM_SSE;
         if (std_caps & (1<<26))

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp	2007-05-13 16:05:39 UTC (rev 3083)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp	2007-05-13 16:50:44 UTC (rev 3084)
@@ -42,208 +42,160 @@
 #include "ADM_toolkit_gtk/toolkit_gtk.h"
 #include "ADM_toolkit_gtk/toolkit_gtk_include.h"
 #include <ADM_assert.h>
+#include "DIA_flyDialog.h"
+#include "DIA_flyContrast.h"
 
-
-#define CHECKBOX(x,y) if(TRUE==gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(lookup_widget(dialog,#x))))  \
-			y=1; else y=0;
-#define SCHECKBOX(x,y) gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(lookup_widget(dialog,#x)),y)
-void    GUI_RGBDisplay(uint8_t *dis,uint32_t w,uint32_t h,void *widg);
-
-static int getContrastParams (void);
-
+/********************************************************************/
 static GtkWidget *create_dialog1 (void);
 static GtkWidget *dialog = NULL;
-static GtkObject *adj_offset = NULL, *adj_coeff = NULL;
 
 static gboolean gui_draw (GtkWidget * widget,
 			  GdkEventExpose * event, gpointer user_data);
-
-//static int croplock;
-static ColYuvRgb    *rgbConv=NULL;
 static void gui_update (GtkButton * button, gpointer user_data);
-static void draw(void);
-static void calculate(void);
+static void frame_changed( void );
 
-// Ugly !
-static ADMImage *video_src,*video_shifted;
-static AVDMGenericVideoStream *sstream;
-static uint8_t *video_rgb;
-static uint32_t ww, hh;
-static CONTRAST_PARAM par;
+static int lock=0;
+static flyContrast *myCrop=NULL;
 
-static uint8_t tableluma[256], tablechroma[256];
-
-uint8_t DIA_contrast(AVDMGenericVideoStream *astream,CONTRAST_PARAM *param)
+/********************************************************************/
+uint8_t DIA_contrast(AVDMGenericVideoStream *in,CONTRAST_PARAM *param)
 {
-  uint8_t ret=0;
-        sstream=astream;
-        ww=astream->getInfo()->width;
-        hh=astream->getInfo()->height;
-        video_src=new ADMImage(ww,hh);
-        video_shifted=new ADMImage(ww,hh);
-        video_rgb=new uint8_t[ww*hh*4];
-        rgbConv=new ColYuvRgb(ww,hh);
-        rgbConv->reset(ww,hh);
-        
+  
+   uint32_t width,height;
+      uint8_t ret=0;
+        // Allocate space for green-ised video
+        width=in->getInfo()->width;
+        height=in->getInfo()->height;
+
         dialog=create_dialog1();
         gtk_register_dialog(dialog);
-        gtk_widget_set_usize (WID (drawingarea1), ww, hh);
         
-        memcpy(&par,param,sizeof(par));
-        SCHECKBOX (checkLuma, par.doLuma);
-        SCHECKBOX (checkbuttonU, par.doChromaU);
-        SCHECKBOX (checkbuttonV, par.doChromaV);
-
-        GTK_ADJUSTMENT (adj_offset)->value = par.offset;
-        GTK_ADJUSTMENT (adj_coeff)->value = par.coef;
-
-  
-  // and value changed
+        gtk_widget_set_usize(WID(drawingarea1), width,height);
+        gtk_window_set_title (GTK_WINDOW (dialog), _("ASHARP"));
+        gtk_widget_show(dialog);
+	
+        
+          // and value changed
 #define CNX(x,y) gtk_signal_connect(GTK_OBJECT(WID(x)), y, GTK_SIGNAL_FUNC(gui_update), (void *) (1));
 
+        CNX (checkLuma, "toggled");
+        CNX (checkbuttonU, "toggled");
+        CNX (checkbuttonV, "toggled");
+        
+        
         CNX (hscaleContrast, "value_changed");
         CNX (hscaleContrast, "drag_data_received");
       
         CNX (hscaleBright, "value_changed");
         CNX (hscaleBright, "drag_data_received");
-        uint32_t curImage=0,len,flags;
-        if(!astream->getFrameNumberNoAlloc(curImage,&len,video_src,&flags))
-        {
-          GUI_Error_HIG("Frame error","Cannnot read frame to display");
+        gtk_signal_connect(GTK_OBJECT(WID(hscale1)), "value_changed",GTK_SIGNAL_FUNC(frame_changed),   NULL);
+        gtk_signal_connect(GTK_OBJECT(WID(drawingarea1)), "expose_event",
+            GTK_SIGNAL_FUNC(gui_draw),
+            NULL);
 
-        }
-        else
-        {
-          calculate();
-          // add display callback
-          rgbConv->scale(video_src->data,video_rgb);
-          //GUI_RGBDisplay (video_rgb, ww, hh, (void *) WID (drawingarea1));
-          gtk_signal_connect (GTK_OBJECT (WID (drawingarea1)), "expose_event",
-                  GTK_SIGNAL_FUNC (gui_draw), NULL);
 
-          if (gtk_dialog_run (GTK_DIALOG (dialog)) == GTK_RESPONSE_OK)
-            {
-              CHECKBOX (checkLuma, par.doLuma);
-              CHECKBOX (checkbuttonU, par.doChromaU);
-              CHECKBOX (checkbuttonV, par.doChromaV);
+          
+        myCrop=new flyContrast( width, height,in,WID(drawingarea1),WID(hscale1));
+        memcpy(&(myCrop->param),param,sizeof(CONTRAST_PARAM));
+        myCrop->upload();
+        myCrop->sliderChanged();
+        ret=0;
+        int response;
+        response=gtk_dialog_run(GTK_DIALOG(dialog));
 
-              par.coef = GTK_ADJUSTMENT (adj_coeff)->value;
-              par.offset = (int8_t) floor (GTK_ADJUSTMENT (adj_offset)->value);
-
-              memcpy(param,&par,sizeof(par));
-              ret = 1;
-            }
+        if(response==GTK_RESPONSE_OK)
+        {
+            myCrop->download();
+            memcpy(param,&(myCrop->param),sizeof(CONTRAST_PARAM));
+            ret=1;
         }
         gtk_unregister_dialog(dialog);
         gtk_widget_destroy(dialog);
-        dialog=NULL;
-        delete video_src;
-        delete video_shifted;
-        delete [] video_rgb;
-        delete rgbConv;
+        delete myCrop;
         return ret;
 }
-void calculate(void)
-{
-  buildContrastTable (par.coef, par.offset, tableluma, tablechroma);
 
-  memcpy (video_shifted->data, video_src->data, (hh * ww * 3)>>1);
-  if (par.doLuma)
-    {
-      doContrast (YPLANE(video_src), YPLANE(video_shifted), tableluma, ww, hh);
-    }
-  if (par.doChromaU)
-    {
-      doContrast (UPLANE(video_src), UPLANE(video_shifted), tablechroma, ww >> 1, hh >> 1);
-    }
 
-  if (par.doChromaV)
-    {
-     doContrast (VPLANE(video_src), VPLANE(video_shifted), tablechroma, ww >> 1, hh >> 1);
-    }
-}
-void draw(void)
-{
-  //COL_yv12rgb (sw, sh, video2, video3);
-  rgbConv->scale(video_shifted->data,video_rgb);
-  GUI_RGBDisplay (video_rgb, ww, hh, (void *) WID (drawingarea1));
-}
 //
 //        Check entered values and green-out the selected portion on the screen
 //        Each value must be even
 //
+void frame_changed( void )
+{
+  myCrop->sliderChanged();
+}
 void gui_update (GtkButton * button, gpointer user_data)
 {
-  UNUSED_ARG (button);
-  UNUSED_ARG (user_data);
-  uint32_t    sz;
-
-  sz = ww * hh;
-  CHECKBOX (checkLuma, par.doLuma);
-  CHECKBOX (checkbuttonU, par.doChromaU);
-  CHECKBOX (checkbuttonV, par.doChromaV);
-
-  par.coef = GTK_ADJUSTMENT (adj_coeff)->value;
-  par.offset = (int8_t) floor (GTK_ADJUSTMENT (adj_offset)->value);
-
-  // printf("\n Luma : %d,u %d, v:%d",par.doLuma,par.doChromaU,par.doChromaV);
-  // printf("\n off : %d, coeff %f\n",par.offset,par.coef);
-  calculate();
-  draw();
-  
+  if(lock) return;
+    myCrop->update();
 }
 
 gboolean gui_draw (GtkWidget * widget, GdkEventExpose * event, gpointer user_data)
 {
-  UNUSED_ARG (widget);
-  UNUSED_ARG (event);
-  UNUSED_ARG (user_data);
-
-  GUI_RGBDisplay (video_rgb, ww, hh, (void *) WID (drawingarea1));
+  myCrop->display();
   return TRUE;
 }
 
+/**************************************/
+#define CHECKBOX(x,y) if(TRUE==gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(lookup_widget(dialog,#x))))  \
+			y=1; else y=0;
+#define SCHECKBOX(x,y) gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(lookup_widget(dialog,#x)),y)
 
-GtkWidget *
+
+uint8_t flyContrast::upload(void)
+{
+    lock++;
+      SCHECKBOX (checkLuma, param.doLuma);
+      SCHECKBOX (checkbuttonU, param.doChromaU);
+      SCHECKBOX (checkbuttonV, param.doChromaV);
+
+      GtkAdjustment *adj=gtk_range_get_adjustment (GTK_RANGE(WID(hscaleBright)));
+      GTK_ADJUSTMENT(adj)->value=param.offset;
+  
+      adj=gtk_range_get_adjustment (GTK_RANGE(WID(hscaleContrast)));
+      GTK_ADJUSTMENT(adj)->value=param.coef;
+    lock--;
+    return 1;
+}
+uint8_t flyContrast::download (void)
+{
+  CHECKBOX (checkLuma, param.doLuma);
+  CHECKBOX (checkbuttonU, param.doChromaU);
+  CHECKBOX (checkbuttonV, param.doChromaV);
+  
+  GtkAdjustment *adj=gtk_range_get_adjustment (GTK_RANGE(WID(hscaleBright)));
+  param.offset= GTK_ADJUSTMENT(adj)->value;
+  
+  adj=gtk_range_get_adjustment (GTK_RANGE(WID(hscaleContrast)));
+  param.coef=GTK_ADJUSTMENT(adj)->value;
+   return 1;
+}
+
+GtkWidget*
 create_dialog1 (void)
 {
-  GtkWidget *
-    dialog1;
-  GtkWidget *
-    dialog_vbox1;
-  GtkWidget *
-    vbox1;
-  GtkWidget *
-    hbox1;
-  GtkWidget *
-    vbox3;
-  GtkWidget *
-    label1;
-  GtkWidget *
-    hscaleContrast;
-  GtkWidget *
-    label2;
-  GtkWidget *
-    hscaleBright;
-  GtkWidget *
-    vbox2;
-  GtkWidget *
-    checkLuma;
-  GtkWidget *
-    checkbuttonU;
-  GtkWidget *
-    checkbuttonV;
-  GtkWidget *
-    drawingarea1;
-  GtkWidget *
-    dialog_action_area1;
-  GtkWidget *
-    cancelbutton1;
-  GtkWidget *
-    okbutton1;
+  GtkWidget *dialog1;
+  GtkWidget *dialog_vbox1;
+  GtkWidget *vbox1;
+  GtkWidget *hbox1;
+  GtkWidget *vbox3;
+  GtkWidget *label1;
+  GtkWidget *hscaleContrast;
+  GtkWidget *label2;
+  GtkWidget *hscaleBright;
+  GtkWidget *vbox2;
+  GtkWidget *checkLuma;
+  GtkWidget *checkbuttonU;
+  GtkWidget *checkbuttonV;
+  GtkWidget *hscale1;
+  GtkWidget *drawingarea1;
+  GtkWidget *dialog_action_area1;
+  GtkWidget *cancelbutton1;
+  GtkWidget *okbutton1;
 
   dialog1 = gtk_dialog_new ();
   gtk_window_set_title (GTK_WINDOW (dialog1), _("Contrast"));
+  gtk_window_set_type_hint (GTK_WINDOW (dialog1), GDK_WINDOW_TYPE_HINT_DIALOG);
 
   dialog_vbox1 = GTK_DIALOG (dialog1)->vbox;
   gtk_widget_show (dialog_vbox1);
@@ -263,12 +215,8 @@
   label1 = gtk_label_new (_("Contrast"));
   gtk_widget_show (label1);
   gtk_box_pack_start (GTK_BOX (vbox3), label1, FALSE, FALSE, 0);
-  gtk_label_set_justify (GTK_LABEL (label1), GTK_JUSTIFY_LEFT);
 
-
-
-  adj_coeff = gtk_adjustment_new (1, 0.5, 1.5, 0.1, 0.1, 0);
-  hscaleContrast = gtk_hscale_new (GTK_ADJUSTMENT (adj_coeff));
+  hscaleContrast = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (1, 0.5, 1.5, 0.1, 0.1, 0)));
   gtk_widget_show (hscaleContrast);
   gtk_box_pack_start (GTK_BOX (vbox3), hscaleContrast, FALSE, TRUE, 0);
   gtk_scale_set_value_pos (GTK_SCALE (hscaleContrast), GTK_POS_LEFT);
@@ -276,11 +224,8 @@
   label2 = gtk_label_new (_("Brightness"));
   gtk_widget_show (label2);
   gtk_box_pack_start (GTK_BOX (vbox3), label2, FALSE, FALSE, 0);
-  gtk_label_set_justify (GTK_LABEL (label2), GTK_JUSTIFY_LEFT);
 
-
-  adj_offset = gtk_adjustment_new (0, -127, 127, 1, 1, 0);
-  hscaleBright = gtk_hscale_new (GTK_ADJUSTMENT (adj_offset));
+  hscaleBright = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, -127, 127, 1, 1, 0)));
   gtk_widget_show (hscaleBright);
   gtk_box_pack_start (GTK_BOX (vbox3), hscaleBright, FALSE, TRUE, 0);
   gtk_scale_set_value_pos (GTK_SCALE (hscaleBright), GTK_POS_LEFT);
@@ -298,10 +243,14 @@
   gtk_widget_show (checkbuttonU);
   gtk_box_pack_start (GTK_BOX (vbox2), checkbuttonU, FALSE, FALSE, 0);
 
-  checkbuttonV = gtk_check_button_new_with_mnemonic (_("Chroma V"));
+  checkbuttonV = gtk_check_button_new_with_mnemonic (_("Chroma v"));
   gtk_widget_show (checkbuttonV);
   gtk_box_pack_start (GTK_BOX (vbox2), checkbuttonV, FALSE, FALSE, 0);
 
+  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 99, 1, 1, 1)));
+  gtk_widget_show (hscale1);
+  gtk_box_pack_start (GTK_BOX (vbox1), hscale1, TRUE, TRUE, 0);
+
   drawingarea1 = gtk_drawing_area_new ();
   gtk_widget_show (drawingarea1);
   gtk_box_pack_start (GTK_BOX (vbox1), drawingarea1, TRUE, TRUE, 0);
@@ -309,19 +258,16 @@
 
   dialog_action_area1 = GTK_DIALOG (dialog1)->action_area;
   gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1),
-			     GTK_BUTTONBOX_END);
+  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
 
   cancelbutton1 = gtk_button_new_from_stock ("gtk-cancel");
   gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1,
-				GTK_RESPONSE_CANCEL);
+  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
   GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
 
   okbutton1 = gtk_button_new_from_stock ("gtk-ok");
   gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1,
-				GTK_RESPONSE_OK);
+  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
   GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
 
   /* Store pointers to all widgets, for use by lookup_widget(). */
@@ -338,9 +284,9 @@
   GLADE_HOOKUP_OBJECT (dialog1, checkLuma, "checkLuma");
   GLADE_HOOKUP_OBJECT (dialog1, checkbuttonU, "checkbuttonU");
   GLADE_HOOKUP_OBJECT (dialog1, checkbuttonV, "checkbuttonV");
+  GLADE_HOOKUP_OBJECT (dialog1, hscale1, "hscale1");
   GLADE_HOOKUP_OBJECT (dialog1, drawingarea1, "drawingarea1");
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1,
-			      "dialog_action_area1");
+  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, "dialog_action_area1");
   GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, "cancelbutton1");
   GLADE_HOOKUP_OBJECT (dialog1, okbutton1, "okbutton1");
 

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/contrast2.glade
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/contrast2.glade	2007-05-13 16:05:39 UTC (rev 3083)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/contrast2.glade	2007-05-13 16:50:44 UTC (rev 3084)
@@ -0,0 +1,296 @@
+<?xml version="1.0" standalone="no"?> <!--*- mode: xml -*-->
+<!DOCTYPE glade-interface SYSTEM "http://glade.gnome.org/glade-2.0.dtd">
+
+<glade-interface>
+
+<widget class="GtkDialog" id="dialog1">
+  <property name="visible">True</property>
+  <property name="title" translatable="yes">Contrast</property>
+  <property name="type">GTK_WINDOW_TOPLEVEL</property>
+  <property name="window_position">GTK_WIN_POS_NONE</property>
+  <property name="modal">False</property>
+  <property name="resizable">True</property>
+  <property name="destroy_with_parent">False</property>
+  <property name="decorated">True</property>
+  <property name="skip_taskbar_hint">False</property>
+  <property name="skip_pager_hint">False</property>
+  <property name="type_hint">GDK_WINDOW_TYPE_HINT_DIALOG</property>
+  <property name="gravity">GDK_GRAVITY_NORTH_WEST</property>
+  <property name="focus_on_map">True</property>
+  <property name="urgency_hint">False</property>
+  <property name="has_separator">True</property>
+
+  <child internal-child="vbox">
+    <widget class="GtkVBox" id="dialog-vbox1">
+      <property name="visible">True</property>
+      <property name="homogeneous">False</property>
+      <property name="spacing">0</property>
+
+      <child internal-child="action_area">
+	<widget class="GtkHButtonBox" id="dialog-action_area1">
+	  <property name="visible">True</property>
+	  <property name="layout_style">GTK_BUTTONBOX_END</property>
+
+	  <child>
+	    <widget class="GtkButton" id="cancelbutton1">
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label">gtk-cancel</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="response_id">-6</property>
+	    </widget>
+	  </child>
+
+	  <child>
+	    <widget class="GtkButton" id="okbutton1">
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label">gtk-ok</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
+	      <property name="response_id">-5</property>
+	    </widget>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">False</property>
+	  <property name="fill">True</property>
+	  <property name="pack_type">GTK_PACK_END</property>
+	</packing>
+      </child>
+
+      <child>
+	<widget class="GtkVBox" id="vbox1">
+	  <property name="visible">True</property>
+	  <property name="homogeneous">False</property>
+	  <property name="spacing">0</property>
+
+	  <child>
+	    <widget class="GtkHBox" id="hbox1">
+	      <property name="visible">True</property>
+	      <property name="homogeneous">False</property>
+	      <property name="spacing">0</property>
+
+	      <child>
+		<widget class="GtkVBox" id="vbox3">
+		  <property name="visible">True</property>
+		  <property name="homogeneous">False</property>
+		  <property name="spacing">0</property>
+
+		  <child>
+		    <widget class="GtkLabel" id="label1">
+		      <property name="visible">True</property>
+		      <property name="label" translatable="yes">Contrast</property>
+		      <property name="use_underline">False</property>
+		      <property name="use_markup">False</property>
+		      <property name="justify">GTK_JUSTIFY_LEFT</property>
+		      <property name="wrap">False</property>
+		      <property name="selectable">False</property>
+		      <property name="xalign">0.5</property>
+		      <property name="yalign">0.5</property>
+		      <property name="xpad">0</property>
+		      <property name="ypad">0</property>
+		      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+		      <property name="width_chars">-1</property>
+		      <property name="single_line_mode">False</property>
+		      <property name="angle">0</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">False</property>
+		      <property name="fill">False</property>
+		    </packing>
+		  </child>
+
+		  <child>
+		    <widget class="GtkHScale" id="hscaleContrast">
+		      <property name="visible">True</property>
+		      <property name="can_focus">True</property>
+		      <property name="draw_value">True</property>
+		      <property name="value_pos">GTK_POS_LEFT</property>
+		      <property name="digits">1</property>
+		      <property name="update_policy">GTK_UPDATE_CONTINUOUS</property>
+		      <property name="inverted">False</property>
+		      <property name="adjustment">1 0.5 1.5 0.1 0.1 0</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">False</property>
+		      <property name="fill">True</property>
+		    </packing>
+		  </child>
+
+		  <child>
+		    <widget class="GtkLabel" id="label2">
+		      <property name="visible">True</property>
+		      <property name="label" translatable="yes">Brightness</property>
+		      <property name="use_underline">False</property>
+		      <property name="use_markup">False</property>
+		      <property name="justify">GTK_JUSTIFY_LEFT</property>
+		      <property name="wrap">False</property>
+		      <property name="selectable">False</property>
+		      <property name="xalign">0.5</property>
+		      <property name="yalign">0.5</property>
+		      <property name="xpad">0</property>
+		      <property name="ypad">0</property>
+		      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+		      <property name="width_chars">-1</property>
+		      <property name="single_line_mode">False</property>
+		      <property name="angle">0</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">False</property>
+		      <property name="fill">False</property>
+		    </packing>
+		  </child>
+
+		  <child>
+		    <widget class="GtkHScale" id="hscaleBright">
+		      <property name="visible">True</property>
+		      <property name="can_focus">True</property>
+		      <property name="draw_value">True</property>
+		      <property name="value_pos">GTK_POS_LEFT</property>
+		      <property name="digits">0</property>
+		      <property name="update_policy">GTK_UPDATE_CONTINUOUS</property>
+		      <property name="inverted">False</property>
+		      <property name="adjustment">0 -127 127 1 1 0</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">False</property>
+		      <property name="fill">True</property>
+		    </packing>
+		  </child>
+		</widget>
+		<packing>
+		  <property name="padding">0</property>
+		  <property name="expand">True</property>
+		  <property name="fill">True</property>
+		</packing>
+	      </child>
+
+	      <child>
+		<widget class="GtkVBox" id="vbox2">
+		  <property name="visible">True</property>
+		  <property name="homogeneous">False</property>
+		  <property name="spacing">0</property>
+
+		  <child>
+		    <widget class="GtkCheckButton" id="checkLuma">
+		      <property name="visible">True</property>
+		      <property name="can_focus">True</property>
+		      <property name="label" translatable="yes">Luma</property>
+		      <property name="use_underline">True</property>
+		      <property name="relief">GTK_RELIEF_NORMAL</property>
+		      <property name="focus_on_click">True</property>
+		      <property name="active">False</property>
+		      <property name="inconsistent">False</property>
+		      <property name="draw_indicator">True</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">False</property>
+		      <property name="fill">False</property>
+		    </packing>
+		  </child>
+
+		  <child>
+		    <widget class="GtkCheckButton" id="checkbuttonU">
+		      <property name="visible">True</property>
+		      <property name="can_focus">True</property>
+		      <property name="label" translatable="yes">Chroma U</property>
+		      <property name="use_underline">True</property>
+		      <property name="relief">GTK_RELIEF_NORMAL</property>
+		      <property name="focus_on_click">True</property>
+		      <property name="active">False</property>
+		      <property name="inconsistent">False</property>
+		      <property name="draw_indicator">True</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">False</property>
+		      <property name="fill">False</property>
+		    </packing>
+		  </child>
+
+		  <child>
+		    <widget class="GtkCheckButton" id="checkbuttonV">
+		      <property name="visible">True</property>
+		      <property name="can_focus">True</property>
+		      <property name="label" translatable="yes">Chroma v</property>
+		      <property name="use_underline">True</property>
+		      <property name="relief">GTK_RELIEF_NORMAL</property>
+		      <property name="focus_on_click">True</property>
+		      <property name="active">False</property>
+		      <property name="inconsistent">False</property>
+		      <property name="draw_indicator">True</property>
+		    </widget>
+		    <packing>
+		      <property name="padding">0</property>
+		      <property name="expand">False</property>
+		      <property name="fill">False</property>
+		    </packing>
+		  </child>
+		</widget>
+		<packing>
+		  <property name="padding">0</property>
+		  <property name="expand">True</property>
+		  <property name="fill">True</property>
+		</packing>
+	      </child>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">True</property>
+	      <property name="fill">True</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkHScale" id="hscale1">
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="draw_value">True</property>
+	      <property name="value_pos">GTK_POS_TOP</property>
+	      <property name="digits">1</property>
+	      <property name="update_policy">GTK_UPDATE_CONTINUOUS</property>
+	      <property name="inverted">False</property>
+	      <property name="adjustment">0 0 99 1 1 1</property>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">True</property>
+	      <property name="fill">True</property>
+	    </packing>
+	  </child>
+
+	  <child>
+	    <widget class="GtkDrawingArea" id="drawingarea1">
+	      <property name="height_request">300</property>
+	      <property name="visible">True</property>
+	    </widget>
+	    <packing>
+	      <property name="padding">0</property>
+	      <property name="expand">True</property>
+	      <property name="fill">True</property>
+	    </packing>
+	  </child>
+	</widget>
+	<packing>
+	  <property name="padding">0</property>
+	  <property name="expand">True</property>
+	  <property name="fill">True</property>
+	</packing>
+      </child>
+    </widget>
+  </child>
+</widget>
+
+</glade-interface>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyAsharp.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyAsharp.cpp	2007-05-13 16:05:39 UTC (rev 3083)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyAsharp.cpp	2007-05-13 16:50:44 UTC (rev 3084)
@@ -44,6 +44,7 @@
     process();
     _rgb->scale(_yuvBufferOut->data,_rgbBufferOut);
     display();
+    return 1;
 }
 uint8_t flyASharp::process(void)
 {
@@ -97,5 +98,6 @@
         dst+=stride;
         src+=stride;
     }
+    return 1;
 }
 //EOF

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyContrast.cpp (from rev 3078, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyCrop.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyCrop.cpp	2007-05-13 13:00:20 UTC (rev 3078)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyContrast.cpp	2007-05-13 16:50:44 UTC (rev 3084)
@@ -0,0 +1,62 @@
+/***************************************************************************
+                          ADM_guiContrast.cpp  -  description
+                             -------------------
+    begin                : Mon Sep 23 2002
+    copyright            : (C) 2002 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include "config.h"
+#include <string.h>
+#include <stdio.h>
+#include <math.h>
+#include "default.h"
+#include "ADM_colorspace/ADM_rgb.h"
+
+#include "ADM_image.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_video/ADM_vidContrast.h"
+#include "DIA_flyDialog.h"
+#include "DIA_flyContrast.h"
+/************* COMMON PART *********************/
+uint8_t  flyContrast::update(void)
+{
+    download();
+    process();
+    _rgb->scale(_yuvBufferOut->data,_rgbBufferOut);
+    display();
+    return 1;
+}
+// Ugly !
+static uint8_t tableluma[256], tablechroma[256];
+
+uint8_t flyContrast::process(void)
+
+{
+  buildContrastTable (param.coef, param.offset, tableluma, tablechroma);
+
+  memcpy (_yuvBufferOut->data, _yuvBuffer->data, (_h * _w * 3)>>1);
+  if (param.doLuma)
+    {
+      doContrast (YPLANE(_yuvBuffer), YPLANE(_yuvBufferOut), tableluma, _w, _h);
+    }
+  if (param.doChromaU)
+    {
+      doContrast (UPLANE(_yuvBuffer), UPLANE(_yuvBufferOut), tablechroma, _w >> 1, _h >> 1);
+    }
+
+  if (param.doChromaV)
+    {
+     doContrast (VPLANE(_yuvBuffer), VPLANE(_yuvBufferOut), tablechroma, _w >> 1, _h >> 1);
+    }
+    return 1;
+}
+/************* COMMON PART *********************/

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyContrast.h (from rev 3073, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyCrop.h)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyCrop.h	2007-05-12 18:15:37 UTC (rev 3073)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyContrast.h	2007-05-13 16:50:44 UTC (rev 3084)
@@ -0,0 +1,22 @@
+
+
+#ifndef FLY_CONTRAST_H
+#define FLY_CONTRAST_H
+class flyContrast : public ADM_flyDialog
+{
+  
+  public:
+   CONTRAST_PARAM  param;
+  public:
+   uint8_t    process(void);
+   uint8_t    download(void);
+   uint8_t    upload(void);
+   uint8_t    update(void);
+   flyContrast (uint32_t width,uint32_t height,AVDMGenericVideoStream *in,
+                                    void *canvas, void *slider) : ADM_flyDialog(width, height,in,canvas, slider,1) 
+                    {
+                      
+                    };
+};
+
+#endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-13 16:05:39 UTC (rev 3083)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-13 16:50:44 UTC (rev 3084)
@@ -6,7 +6,7 @@
 DIA_bitrateHisto.cpp DIA_prefs.cpp DIA_gototime.cpp \
 DIA_lavcodec.cpp DIA_mjpeg.cpp DIA_requant.cpp \
 DIA_audioFilter.cpp DIA_flyDialog.cpp DIA_flyCrop.cpp \
-DIA_flyAsharp.cpp DIA_flyChromaShift.cpp
+DIA_flyAsharp.cpp DIA_flyChromaShift.cpp DIA_flyContrast.cpp
 
 
 INCLUDES = $(all_includes) $(GTK_CFLAGS) $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidContrast.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidContrast.cpp	2007-05-13 16:05:39 UTC (rev 3083)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidContrast.cpp	2007-05-13 16:50:44 UTC (rev 3084)
@@ -49,7 +49,7 @@
   static char buf[50];
 
   ADM_assert (_param);
-  sprintf ((char *) buf, " contrast : %1.2f %lu", _param->coef,
+  sprintf ((char *) buf, " contrast : %1.2f %d", _param->coef,
 	   _param->offset);
   return buf;
 }



From mean at mail.berlios.de  Sun May 13 18:52:02 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 13 May 2007 18:52:02 +0200
Subject: [Avidemux-svn-commit] r3085 -
	branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/i386
Message-ID: <200705131652.l4DGq2RX031091@sheep.berlios.de>

Author: mean
Date: 2007-05-13 18:52:00 +0200 (Sun, 13 May 2007)
New Revision: 3085

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/i386/cputest.c
Log:
reverted bad commit

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/i386/cputest.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/i386/cputest.c	2007-05-13 16:50:44 UTC (rev 3084)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/i386/cputest.c	2007-05-13 16:52:00 UTC (rev 3085)
@@ -83,7 +83,7 @@
         cpuid(1, eax, ebx, ecx, std_caps);
         if (std_caps & (1<<23))
             rval |= MM_MMX;
-#if 0	    
+#if 1	    
         if (std_caps & (1<<25))
             rval |= MM_MMXEXT | MM_SSE;
         if (std_caps & (1<<26))



From mean at mail.berlios.de  Sun May 13 20:19:18 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 13 May 2007 20:19:18 +0200
Subject: [Avidemux-svn-commit] r3086 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200705131819.l4DIJIFB024686@sheep.berlios.de>

Author: mean
Date: 2007-05-13 20:19:17 +0200 (Sun, 13 May 2007)
New Revision: 3086

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_contrast.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/contrast.ui
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
Log:
contrast flyDialog (qt)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-13 16:52:00 UTC (rev 3085)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-13 18:19:17 UTC (rev 3086)
@@ -117,7 +117,7 @@
 //uint8_t DIA_4entries(char *title,uint32_t *left,uint32_t *right,uint32_t *top,uint32_t *bottom) {return 0;}
 uint8_t DIA_videoCodec (SelectCodecType * codec){return 0;}
 //uint8_t DIA_getChromaShift( AVDMGenericVideoStream *instream,CHROMASHIFT_PARAM    *param ){ return 0;}
-uint8_t DIA_contrast(AVDMGenericVideoStream *astream,CONTRAST_PARAM *param)  { return 0;}
+//uint8_t DIA_contrast(AVDMGenericVideoStream *astream,CONTRAST_PARAM *param)  { return 0;}
 uint8_t DIA_audioCodec( AUDIOENCODER *codec ) {return 0;}
 uint8_t DIA_dnr(uint32_t *llock,uint32_t *lthresh, uint32_t *clock,
 			uint32_t *cthresh, uint32_t *scene) {return 0;}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-13 16:52:00 UTC (rev 3085)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-13 18:19:17 UTC (rev 3086)
@@ -3,7 +3,8 @@
 libADM_dialog_a_SOURCES = DIA_busy.cpp  alert_qt4.cpp DIA_none.cpp OCR_none.cpp DIA_indexing.cpp \
 AQ_props.cpp AQ_working.cpp AQ_encoding.cpp  DIA_xvid4.cpp AQ_resizing.cpp AT_flyDialog.cpp \
 AQ_crop.cpp AT_QCanvas.cpp \
-AQ_asharp.cpp AQ_chromashift.cpp
+AQ_asharp.cpp AQ_chromashift.cpp \
+AQ_contrast.cpp
 
 INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \
 		-I../../../ADM_libraries/ADM_utilities \

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_contrast.cpp (from rev 3081, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp	2007-05-13 14:39:42 UTC (rev 3081)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_contrast.cpp	2007-05-13 18:19:17 UTC (rev 3086)
@@ -0,0 +1,169 @@
+/***************************************************************************
+                          DIA_crop.cpp  -  description
+                             -------------------
+
+			    GUI for cropping including autocrop
+			    +Revisted the Gtk2 way
+			     +Autocrop now in RGB space (more accurate)
+
+    begin                : Fri May 3 2002
+    copyright            : (C) 2002/2007 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include <config.h>
+#include <string.h>
+#include <stdio.h>
+#include <math.h>
+
+#define Ui_Dialog Ui_contrastDialog
+#include "ui_contrast.h"
+#undef Ui_Dialog
+
+#include "default.h"
+#include "ADM_toolkit/toolkit.hxx"
+#include "ADM_image.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_colorspace/ADM_rgb.h"
+#include "ADM_assert.h"
+#include "DIA_flyDialog.h"
+#include "DIA_flyDialogQt4.h"
+#include "ADM_video/ADM_vidContrast.h"
+#include "DIA_flyContrast.h"
+
+//
+//	Video is in YV12 Colorspace
+//
+//
+class Ui_contrastWindow : public QDialog
+ {
+     Q_OBJECT
+ protected : 
+    int lock;
+ public:
+     flyContrast *myCrop;
+     ADM_QCanvas *canvas;
+     Ui_contrastWindow(CONTRAST_PARAM *param,AVDMGenericVideoStream *in);
+     ~Ui_contrastWindow();
+     Ui_contrastDialog ui;
+ public slots:
+      void gather(CONTRAST_PARAM *param);
+      //void update(int i);
+ private slots:
+   void sliderUpdate(int foo);
+   void valueChanged(int foo);
+
+ private:
+     
+ };
+  Ui_contrastWindow::Ui_contrastWindow(CONTRAST_PARAM *param,AVDMGenericVideoStream *in)
+  {
+    uint32_t width,height;
+        ui.setupUi(this);
+        lock=0;
+        // Allocate space for green-ised video
+        width=in->getInfo()->width;
+        height=in->getInfo()->height;
+        ui.graphicsView->resize(width,height);
+        canvas=new ADM_QCanvas(ui.graphicsView,width,height);
+        
+        myCrop=new flyContrast( width, height,in,canvas,ui.horizontalSlider);
+        memcpy(&(myCrop->param),param,sizeof(CONTRAST_PARAM));
+        myCrop->_cookie=&ui;
+        myCrop->upload();
+        myCrop->sliderChanged();
+
+
+        connect( ui.horizontalSlider,SIGNAL(valueChanged(int)),this,SLOT(sliderUpdate(int)));
+#define SPINNER(x) connect( ui.horizontalSlider##x,SIGNAL(valueChanged(int)),this,SLOT(valueChanged(int))); 
+          SPINNER(Brightness);
+          SPINNER(Contrast);
+          connect( ui.checkBoxU,SIGNAL(stateChanged(int)),this,SLOT(valueChanged(int)));
+          connect( ui.checkBoxV,SIGNAL(stateChanged(int)),this,SLOT(valueChanged(int))); 
+          connect( ui.checkBoxY,SIGNAL(stateChanged(int)),this,SLOT(valueChanged(int)));  
+
+  }
+  void Ui_contrastWindow::sliderUpdate(int foo)
+  {
+    myCrop->sliderChanged();
+  }
+  void Ui_contrastWindow::gather(CONTRAST_PARAM *param)
+  {
+    
+        myCrop->download();
+        memcpy(param,&(myCrop->param),sizeof(CONTRAST_PARAM));
+  }
+Ui_contrastWindow::~Ui_contrastWindow()
+{
+  if(myCrop) delete myCrop;
+  myCrop=NULL; 
+  if(canvas) delete canvas;
+  canvas=NULL;
+}
+void Ui_contrastWindow::valueChanged( int f )
+{
+  if(lock) return;
+  lock++;
+  myCrop->update();
+  lock--;
+}
+
+#define MYSPIN(x) w->horizontalSlider##x
+#define MYCHECK(x) w->checkBox##x
+//************************
+uint8_t flyContrast::upload(void)
+{
+      Ui_contrastDialog *w=(Ui_contrastDialog *)_cookie;
+
+        MYSPIN(Contrast)->setValue((uint32_t)(param.coef*10));
+        MYSPIN(Brightness)->setValue(param.offset);
+#define CHECKSET(a,b) MYCHECK(a)->setChecked(param.b)
+        
+        CHECKSET(Y,doLuma);
+        CHECKSET(U,doChromaU);
+        CHECKSET(V,doChromaV);
+
+        return 1;
+}
+uint8_t flyContrast::download(void)
+{
+       Ui_contrastDialog *w=(Ui_contrastDialog *)_cookie;
+         param.coef=MYSPIN(Contrast)->value()/10.;
+         param.offset=MYSPIN(Brightness)->value();
+#define CHECKGET(a,b) param.b=MYCHECK(a)->isChecked()
+        
+        CHECKGET(Y,doLuma);
+        CHECKGET(U,doChromaU);
+        CHECKGET(V,doChromaV);
+return 1;
+}
+
+/**
+      \fn     DIA_getCropParams
+      \brief  Handle crop dialog
+*/
+uint8_t DIA_contrast(AVDMGenericVideoStream *in,CONTRAST_PARAM *param)
+{
+        uint8_t ret=0;
+        
+        Ui_contrastWindow dialog(param,in);        
+        if(dialog.exec()==QDialog::Accepted)
+        {
+            dialog.gather(param); 
+            ret=1;
+        }
+        return ret;
+}
+//____________________________________
+// EOF
+
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/contrast.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/contrast.ui	2007-05-13 16:52:00 UTC (rev 3085)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/contrast.ui	2007-05-13 18:19:17 UTC (rev 3086)
@@ -0,0 +1,189 @@
+<ui version="4.0" >
+ <class>Dialog</class>
+ <widget class="QDialog" name="Dialog" >
+  <property name="geometry" >
+   <rect>
+    <x>0</x>
+    <y>0</y>
+    <width>558</width>
+    <height>390</height>
+   </rect>
+  </property>
+  <property name="windowTitle" >
+   <string>Contrast</string>
+  </property>
+  <layout class="QGridLayout" >
+   <property name="margin" >
+    <number>9</number>
+   </property>
+   <property name="spacing" >
+    <number>6</number>
+   </property>
+   <item row="3" column="2" >
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Vertical</enum>
+     </property>
+     <property name="sizeType" >
+      <enum>QSizePolicy::Ignored</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>20</width>
+       <height>40</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+   <item row="2" column="0" colspan="3" >
+    <widget class="QGraphicsView" name="graphicsView" />
+   </item>
+   <item row="1" column="0" colspan="3" >
+    <widget class="QSlider" name="horizontalSlider" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+    </widget>
+   </item>
+   <item row="4" column="0" colspan="3" >
+    <widget class="QDialogButtonBox" name="buttonBox" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="standardButtons" >
+      <set>QDialogButtonBox::Cancel|QDialogButtonBox::NoButton|QDialogButtonBox::Ok</set>
+     </property>
+    </widget>
+   </item>
+   <item row="0" column="1" >
+    <layout class="QVBoxLayout" >
+     <property name="margin" >
+      <number>0</number>
+     </property>
+     <property name="spacing" >
+      <number>6</number>
+     </property>
+     <item>
+      <widget class="QCheckBox" name="checkBoxY" >
+       <property name="text" >
+        <string>Luma</string>
+       </property>
+      </widget>
+     </item>
+     <item>
+      <widget class="QCheckBox" name="checkBoxU" >
+       <property name="text" >
+        <string>ChromaU</string>
+       </property>
+      </widget>
+     </item>
+     <item>
+      <widget class="QCheckBox" name="checkBoxV" >
+       <property name="text" >
+        <string>ChromaV</string>
+       </property>
+      </widget>
+     </item>
+    </layout>
+   </item>
+   <item row="0" column="0" >
+    <layout class="QVBoxLayout" >
+     <property name="margin" >
+      <number>0</number>
+     </property>
+     <property name="spacing" >
+      <number>6</number>
+     </property>
+     <item>
+      <widget class="QLabel" name="label" >
+       <property name="text" >
+        <string>Contrast</string>
+       </property>
+      </widget>
+     </item>
+     <item>
+      <widget class="QSlider" name="horizontalSliderContrast" >
+       <property name="minimum" >
+        <number>5</number>
+       </property>
+       <property name="maximum" >
+        <number>15</number>
+       </property>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+      </widget>
+     </item>
+     <item>
+      <widget class="QLabel" name="label_2" >
+       <property name="text" >
+        <string>Brightness</string>
+       </property>
+      </widget>
+     </item>
+     <item>
+      <widget class="QSlider" name="horizontalSliderBrightness" >
+       <property name="minimum" >
+        <number>-127</number>
+       </property>
+       <property name="maximum" >
+        <number>127</number>
+       </property>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+      </widget>
+     </item>
+    </layout>
+   </item>
+   <item row="0" column="2" >
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>40</width>
+       <height>20</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+  </layout>
+ </widget>
+ <resources/>
+ <connections>
+  <connection>
+   <sender>buttonBox</sender>
+   <signal>accepted()</signal>
+   <receiver>Dialog</receiver>
+   <slot>accept()</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>248</x>
+     <y>254</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>157</x>
+     <y>274</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>buttonBox</sender>
+   <signal>rejected()</signal>
+   <receiver>Dialog</receiver>
+   <slot>reject()</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>316</x>
+     <y>260</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>286</x>
+     <y>274</y>
+    </hint>
+   </hints>
+  </connection>
+ </connections>
+</ui>



From mean at mail.berlios.de  Mon May 14 14:38:06 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 14 May 2007 14:38:06 +0200
Subject: [Avidemux-svn-commit] r3087 - in
	branches/avidemux_2.4_branch/avidemux:
	ADM_userInterfaces/ADM_GTK/ADM_dialog
	ADM_userInterfaces/ADM_NONE/ADM_dialog
	ADM_userInterfaces/ADM_QT4/ADM_dialog
	ADM_userInterfaces/ADM_commonUI ADM_video
Message-ID: <200705141238.l4ECc6Ys023457@sheep.berlios.de>

Author: mean
Date: 2007-05-14 14:38:05 +0200 (Mon, 14 May 2007)
New Revision: 3087

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp
Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTDeint_param.h
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTdeint.cpp
Log:
tdeint switched to dialogFactory

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp	2007-05-13 18:19:17 UTC (rev 3086)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp	2007-05-14 12:38:05 UTC (rev 3087)
@@ -1,471 +0,0 @@
-#include <sys/types.h>
-#include <sys/stat.h>
-#include <unistd.h>
-#include <string.h>
-#include <stdio.h>
-
-#include <gdk/gdkkeysyms.h>
-#include <gtk/gtk.h>
-
-
-#include <gdk/gdkkeysyms.h>
-#include <gtk/gtk.h>
-# include <math.h>
-# include "config.h"
-#include "default.h"
-#include "ADM_toolkit_gtk/ADM_gladeSupport.h"
-#include "ADM_toolkit_gtk/toolkit_gtk.h"
-#include "ADM_toolkit_gtk/toolkit_gtk_include.h"
-#include "ADM_toolkit/toolkit.hxx"
-
-#include "ADM_video/ADM_vidTDeint_param.h"
-
-static GtkWidget       *create_dialog1 (void);
-uint8_t  DIA_tdeint(TDEINT_PARAM *param);
-
-static void upload(GtkWidget *dialog,TDEINT_PARAM *param);
-static void download(GtkWidget *dialog,TDEINT_PARAM *param);
-
-uint8_t  DIA_tdeint(TDEINT_PARAM *param)
-{
-        uint8_t ret=0;
-
-
-        GtkWidget *dialog;
-
-        dialog=create_dialog1();
-        gtk_register_dialog(dialog);
-
-        upload(dialog,param);
-
-        switch(gtk_dialog_run(GTK_DIALOG(dialog)))
-        {
-                case GTK_RESPONSE_OK: 
-                {
-                        download(dialog,param);
-                        ret=1;
-                }
-        }
-        gtk_unregister_dialog(dialog);
-        gtk_widget_destroy(dialog);
-        return ret;
-}
-
-#define SET_SPIN(x,y) gtk_spin_button_set_value(GTK_SPIN_BUTTON(lookup_widget(dialog,#x)),(gfloat)param->y) 
-#define SET_MENU(x,y) gtk_combo_box_set_active(GTK_COMBO_BOX(WID(x)),param->y)
-#define SET_CHECK(x,y) gtk_toggle_button_set_active( GTK_TOGGLE_BUTTON(WID(x)),param->y)
-
-void upload(GtkWidget *dialog,TDEINT_PARAM *param)
-{
-        SET_SPIN(spinbuttonmthreshL,mthreshL);
-        SET_SPIN(spinbuttonmthreshC,mthreshC);
-        SET_SPIN(spinbuttoncthresh,cthresh);
-        SET_SPIN(spinbuttonMI,MI);
-        SET_SPIN(spinbuttonAP,AP);
-        
-        SET_MENU(comboboxOrder,order);
-        SET_MENU(comboboxInterpolate,field);
-        SET_MENU(comboboxType,type);
-        SET_MENU(comboboxMnt,mtnmode);
-        SET_MENU(combobox5,link);
-        SET_MENU(combobox6,APType);
-
-        SET_CHECK(checkbuttonChroma,chroma);
-        SET_CHECK(checkbuttonTryweave,tryWeave);
-        SET_CHECK(checkbuttonDenoise,denoise);
-        SET_CHECK(checkbuttonSharp,sharp);
-        SET_CHECK(checkbuttonFull,full);
-
-}
-#undef SET_SPIN
-#undef SET_MENU
-#undef SET_CHECK
-#define SET_SPIN(x,y) param->y= gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(lookup_widget(dialog,#x))) 
-#define SET_MENU(x,y) param->y=gtk_combo_box_get_active(GTK_COMBO_BOX(WID(x)))
-#define SET_CHECK(x,y) param->y=gtk_toggle_button_get_active( GTK_TOGGLE_BUTTON(WID(x)))
-
-void download(GtkWidget *dialog,TDEINT_PARAM *param)
-{
-        SET_SPIN(spinbuttonmthreshL,mthreshL);
-        SET_SPIN(spinbuttonmthreshC,mthreshC);
-        SET_SPIN(spinbuttoncthresh,cthresh);
-        SET_SPIN(spinbuttonMI,MI);
-        SET_SPIN(spinbuttonAP,AP);
-
-        SET_MENU(comboboxOrder,order);
-        SET_MENU(comboboxInterpolate,field);
-        SET_MENU(comboboxType,type);
-        SET_MENU(comboboxMnt,mtnmode);
-        SET_MENU(combobox5,link);
-        SET_MENU(combobox6,APType);
-
-        SET_CHECK(checkbuttonChroma,chroma);
-        SET_CHECK(checkbuttonTryweave,tryWeave);
-        SET_CHECK(checkbuttonDenoise,denoise);
-        SET_CHECK(checkbuttonSharp,sharp);
-        SET_CHECK(checkbuttonFull,full);
-}
-
-GtkWidget*
-create_dialog1 (void)
-{
-  GtkWidget *dialog1;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *vbox1;
-  GtkWidget *table1;
-  GtkWidget *label1;
-  GtkWidget *comboboxOrder;
-  GtkWidget *label2;
-  GtkWidget *comboboxInterpolate;
-  GtkWidget *label3;
-  GtkWidget *comboboxType;
-  GtkWidget *label4;
-  GtkWidget *comboboxMnt;
-  GtkWidget *label7;
-  GtkWidget *checkbuttonChroma;
-  GtkWidget *label8;
-  GtkWidget *checkbuttonTryweave;
-  GtkWidget *label10;
-  GtkWidget *checkbuttonDenoise;
-  GtkWidget *label9;
-  GtkWidget *combobox5;
-  GtkWidget *label5;
-  GtkWidget *checkbuttonSharp;
-  GtkWidget *label16;
-  GtkWidget *checkbuttonFull;
-  GtkWidget *label6;
-  GtkWidget *combobox6;
-  GtkWidget *table2;
-  GtkWidget *label11;
-  GtkWidget *label12;
-  GtkObject *spinbuttonmthreshL_adj;
-  GtkWidget *spinbuttonmthreshL;
-  GtkObject *spinbuttonmthreshC_adj;
-  GtkWidget *spinbuttonmthreshC;
-  GtkWidget *label13;
-  GtkObject *spinbuttoncthresh_adj;
-  GtkWidget *spinbuttoncthresh;
-  GtkWidget *label14;
-  GtkObject *spinbuttonMI_adj;
-  GtkWidget *spinbuttonMI;
-  GtkWidget *label15;
-  GtkObject *spinbuttonAP_adj;
-  GtkWidget *spinbuttonAP;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *okbutton1;
-
-  dialog1 = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog1), _("TDeint param"));
-  gtk_window_set_type_hint (GTK_WINDOW (dialog1), GDK_WINDOW_TYPE_HINT_DIALOG);
-
-  dialog_vbox1 = GTK_DIALOG (dialog1)->vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  vbox1 = gtk_vbox_new (FALSE, 0);
-  gtk_widget_show (vbox1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), vbox1, TRUE, TRUE, 0);
-
-  table1 = gtk_table_new (11, 2, FALSE);
-  gtk_widget_show (table1);
-  gtk_box_pack_start (GTK_BOX (vbox1), table1, TRUE, TRUE, 0);
-
-  label1 = gtk_label_new (_("Field Order :"));
-  gtk_widget_show (label1);
-  gtk_table_attach (GTK_TABLE (table1), label1, 0, 1, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label1), 0, 0.5);
-
-  comboboxOrder = gtk_combo_box_new_text ();
-  gtk_widget_show (comboboxOrder);
-  gtk_table_attach (GTK_TABLE (table1), comboboxOrder, 1, 2, 0, 1,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (GTK_FILL), 0, 0);
-  gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxOrder), _("Bottom Field First"));
-  gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxOrder), _("Top Field First"));
-
-  label2 = gtk_label_new (_("Interpolate :"));
-  gtk_widget_show (label2);
-  gtk_table_attach (GTK_TABLE (table1), label2, 0, 1, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
-
-  comboboxInterpolate = gtk_combo_box_new_text ();
-  gtk_widget_show (comboboxInterpolate);
-  gtk_table_attach (GTK_TABLE (table1), comboboxInterpolate, 1, 2, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (GTK_FILL), 0, 0);
-  gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxInterpolate), _("Top field (keep bottom)"));
-  gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxInterpolate), _("Bottom field (keep top)"));
-
-  label3 = gtk_label_new (_("Type"));
-  gtk_widget_show (label3);
-  gtk_table_attach (GTK_TABLE (table1), label3, 0, 1, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label3), 0, 0.5);
-
-  comboboxType = gtk_combo_box_new_text ();
-  gtk_widget_show (comboboxType);
-  gtk_table_attach (GTK_TABLE (table1), comboboxType, 1, 2, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (GTK_FILL), 0, 0);
-  gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxType), _("Cubic Interpolation"));
-  gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxType), _("Modified ELA"));
-  gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxType), _("Kernerl interpolation"));
-  gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxType), _("Modified ELA-2"));
-
-  label4 = gtk_label_new (_("MntMode"));
-  gtk_widget_show (label4);
-  gtk_table_attach (GTK_TABLE (table1), label4, 0, 1, 3, 4,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label4), 0, 0.5);
-
-  comboboxMnt = gtk_combo_box_new_text ();
-  gtk_widget_show (comboboxMnt);
-  gtk_table_attach (GTK_TABLE (table1), comboboxMnt, 1, 2, 3, 4,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (GTK_FILL), 0, 0);
-  gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxMnt), _("4 field check"));
-  gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxMnt), _("5 field check"));
-  gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxMnt), _("4 field check (no average)"));
-  gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxMnt), _("5 field check (no average)"));
-
-  label7 = gtk_label_new (_("Use Chroma to evalute"));
-  gtk_widget_show (label7);
-  gtk_table_attach (GTK_TABLE (table1), label7, 0, 1, 6, 7,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label7), 0, 0.5);
-
-  checkbuttonChroma = gtk_check_button_new_with_mnemonic ("");
-  gtk_widget_show (checkbuttonChroma);
-  gtk_table_attach (GTK_TABLE (table1), checkbuttonChroma, 1, 2, 6, 7,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  label8 = gtk_label_new (_("Try weave "));
-  gtk_widget_show (label8);
-  gtk_table_attach (GTK_TABLE (table1), label8, 0, 1, 7, 8,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label8), 0, 0.5);
-
-  checkbuttonTryweave = gtk_check_button_new_with_mnemonic ("");
-  gtk_widget_show (checkbuttonTryweave);
-  gtk_table_attach (GTK_TABLE (table1), checkbuttonTryweave, 1, 2, 7, 8,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  label10 = gtk_label_new (_("Denoise"));
-  gtk_widget_show (label10);
-  gtk_table_attach (GTK_TABLE (table1), label10, 0, 1, 8, 9,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label10), 0, 0.5);
-
-  checkbuttonDenoise = gtk_check_button_new_with_mnemonic ("");
-  gtk_widget_show (checkbuttonDenoise);
-  gtk_table_attach (GTK_TABLE (table1), checkbuttonDenoise, 1, 2, 8, 9,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  label9 = gtk_label_new (_("Link"));
-  gtk_widget_show (label9);
-  gtk_table_attach (GTK_TABLE (table1), label9, 0, 1, 4, 5,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label9), 0, 0.5);
-
-  combobox5 = gtk_combo_box_new_text ();
-  gtk_widget_show (combobox5);
-  gtk_table_attach (GTK_TABLE (table1), combobox5, 1, 2, 4, 5,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (GTK_FILL), 0, 0);
-  gtk_combo_box_append_text (GTK_COMBO_BOX (combobox5), _("No link"));
-  gtk_combo_box_append_text (GTK_COMBO_BOX (combobox5), _("Full linking"));
-  gtk_combo_box_append_text (GTK_COMBO_BOX (combobox5), _("Y to UV link"));
-  gtk_combo_box_append_text (GTK_COMBO_BOX (combobox5), _("UV to Y link"));
-
-  label5 = gtk_label_new (_("Sharp :"));
-  gtk_widget_show (label5);
-  gtk_table_attach (GTK_TABLE (table1), label5, 0, 1, 9, 10,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label5), 0, 0.5);
-
-  checkbuttonSharp = gtk_check_button_new_with_mnemonic ("");
-  gtk_widget_show (checkbuttonSharp);
-  gtk_table_attach (GTK_TABLE (table1), checkbuttonSharp, 1, 2, 9, 10,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  label16 = gtk_label_new (_("AP type"));
-  gtk_widget_show (label16);
-  gtk_table_attach (GTK_TABLE (table1), label16, 0, 1, 5, 6,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label16), 0, 0.5);
-
-  checkbuttonFull = gtk_check_button_new_with_mnemonic ("");
-  gtk_widget_show (checkbuttonFull);
-  gtk_table_attach (GTK_TABLE (table1), checkbuttonFull, 1, 2, 10, 11,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  label6 = gtk_label_new (_("Evaluate ALL frames"));
-  gtk_widget_show (label6);
-  gtk_table_attach (GTK_TABLE (table1), label6, 0, 1, 10, 11,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label6), 0, 0.5);
-
-  combobox6 = gtk_combo_box_new_text ();
-  gtk_widget_show (combobox6);
-  gtk_table_attach (GTK_TABLE (table1), combobox6, 1, 2, 5, 6,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (GTK_FILL), 0, 0);
-  gtk_combo_box_append_text (GTK_COMBO_BOX (combobox6), _("0 (read manual)"));
-  gtk_combo_box_append_text (GTK_COMBO_BOX (combobox6), _("1 (read manual)"));
-  gtk_combo_box_append_text (GTK_COMBO_BOX (combobox6), _("2 (read manual)"));
-
-  table2 = gtk_table_new (5, 2, FALSE);
-  gtk_widget_show (table2);
-  gtk_box_pack_start (GTK_BOX (vbox1), table2, TRUE, TRUE, 0);
-
-  label11 = gtk_label_new (_("motion Threshold, Luma"));
-  gtk_widget_show (label11);
-  gtk_table_attach (GTK_TABLE (table2), label11, 0, 1, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label11), 0, 0.5);
-
-  label12 = gtk_label_new (_("motion Threshold, Chroma"));
-  gtk_widget_show (label12);
-  gtk_table_attach (GTK_TABLE (table2), label12, 0, 1, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label12), 0, 0.5);
-
-  spinbuttonmthreshL_adj = gtk_adjustment_new (1, 0, 255, 1, 10, 10);
-  spinbuttonmthreshL = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonmthreshL_adj), 1, 0);
-  gtk_widget_show (spinbuttonmthreshL);
-  gtk_table_attach (GTK_TABLE (table2), spinbuttonmthreshL, 1, 2, 0, 1,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonmthreshL), TRUE);
-
-  spinbuttonmthreshC_adj = gtk_adjustment_new (1, 0, 255, 1, 10, 10);
-  spinbuttonmthreshC = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonmthreshC_adj), 1, 0);
-  gtk_widget_show (spinbuttonmthreshC);
-  gtk_table_attach (GTK_TABLE (table2), spinbuttonmthreshC, 1, 2, 1, 2,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonmthreshC), TRUE);
-
-  label13 = gtk_label_new (_("Area Combing Threshold"));
-  gtk_widget_show (label13);
-  gtk_table_attach (GTK_TABLE (table2), label13, 0, 1, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label13), 0, 0.5);
-
-  spinbuttoncthresh_adj = gtk_adjustment_new (1, 0, 255, 1, 10, 10);
-  spinbuttoncthresh = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttoncthresh_adj), 1, 0);
-  gtk_widget_show (spinbuttoncthresh);
-  gtk_table_attach (GTK_TABLE (table2), spinbuttoncthresh, 1, 2, 2, 3,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  label14 = gtk_label_new (_("Combed Treshold"));
-  gtk_widget_show (label14);
-  gtk_table_attach (GTK_TABLE (table2), label14, 0, 1, 3, 4,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label14), 0, 0.5);
-
-  spinbuttonMI_adj = gtk_adjustment_new (1, 0, 255, 1, 10, 10);
-  spinbuttonMI = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonMI_adj), 1, 0);
-  gtk_widget_show (spinbuttonMI);
-  gtk_table_attach (GTK_TABLE (table2), spinbuttonMI, 1, 2, 3, 4,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonMI), TRUE);
-
-  label15 = gtk_label_new (_("Artefact Protection threshold "));
-  gtk_widget_show (label15);
-  gtk_table_attach (GTK_TABLE (table2), label15, 0, 1, 4, 5,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label15), 0, 0.5);
-
-  spinbuttonAP_adj = gtk_adjustment_new (1, 0, 255, 1, 10, 10);
-  spinbuttonAP = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonAP_adj), 1, 0);
-  gtk_widget_show (spinbuttonAP);
-  gtk_table_attach (GTK_TABLE (table2), spinbuttonAP, 1, 2, 4, 5,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonAP), TRUE);
-
-  dialog_action_area1 = GTK_DIALOG (dialog1)->action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  cancelbutton1 = gtk_button_new_from_stock ("gtk-cancel");
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock ("gtk-ok");
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, "dialog1");
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, "dialog_vbox1");
-  GLADE_HOOKUP_OBJECT (dialog1, vbox1, "vbox1");
-  GLADE_HOOKUP_OBJECT (dialog1, table1, "table1");
-  GLADE_HOOKUP_OBJECT (dialog1, label1, "label1");
-  GLADE_HOOKUP_OBJECT (dialog1, comboboxOrder, "comboboxOrder");
-  GLADE_HOOKUP_OBJECT (dialog1, label2, "label2");
-  GLADE_HOOKUP_OBJECT (dialog1, comboboxInterpolate, "comboboxInterpolate");
-  GLADE_HOOKUP_OBJECT (dialog1, label3, "label3");
-  GLADE_HOOKUP_OBJECT (dialog1, comboboxType, "comboboxType");
-  GLADE_HOOKUP_OBJECT (dialog1, label4, "label4");
-  GLADE_HOOKUP_OBJECT (dialog1, comboboxMnt, "comboboxMnt");
-  GLADE_HOOKUP_OBJECT (dialog1, label7, "label7");
-  GLADE_HOOKUP_OBJECT (dialog1, checkbuttonChroma, "checkbuttonChroma");
-  GLADE_HOOKUP_OBJECT (dialog1, label8, "label8");
-  GLADE_HOOKUP_OBJECT (dialog1, checkbuttonTryweave, "checkbuttonTryweave");
-  GLADE_HOOKUP_OBJECT (dialog1, label10, "label10");
-  GLADE_HOOKUP_OBJECT (dialog1, checkbuttonDenoise, "checkbuttonDenoise");
-  GLADE_HOOKUP_OBJECT (dialog1, label9, "label9");
-  GLADE_HOOKUP_OBJECT (dialog1, combobox5, "combobox5");
-  GLADE_HOOKUP_OBJECT (dialog1, label5, "label5");
-  GLADE_HOOKUP_OBJECT (dialog1, checkbuttonSharp, "checkbuttonSharp");
-  GLADE_HOOKUP_OBJECT (dialog1, label16, "label16");
-  GLADE_HOOKUP_OBJECT (dialog1, checkbuttonFull, "checkbuttonFull");
-  GLADE_HOOKUP_OBJECT (dialog1, label6, "label6");
-  GLADE_HOOKUP_OBJECT (dialog1, combobox6, "combobox6");
-  GLADE_HOOKUP_OBJECT (dialog1, table2, "table2");
-  GLADE_HOOKUP_OBJECT (dialog1, label11, "label11");
-  GLADE_HOOKUP_OBJECT (dialog1, label12, "label12");
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonmthreshL, "spinbuttonmthreshL");
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonmthreshC, "spinbuttonmthreshC");
-  GLADE_HOOKUP_OBJECT (dialog1, label13, "label13");
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttoncthresh, "spinbuttoncthresh");
-  GLADE_HOOKUP_OBJECT (dialog1, label14, "label14");
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonMI, "spinbuttonMI");
-  GLADE_HOOKUP_OBJECT (dialog1, label15, "label15");
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonAP, "spinbuttonAP");
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, "dialog_action_area1");
-  GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, "cancelbutton1");
-  GLADE_HOOKUP_OBJECT (dialog1, okbutton1, "okbutton1");
-
-  return dialog1;
-}
-

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-05-13 18:19:17 UTC (rev 3086)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-05-14 12:38:05 UTC (rev 3087)
@@ -20,7 +20,7 @@
 	DIA_vobsub.cpp DIA_x264.cpp DIA_ocr.cpp  DIA_hue.cpp DIA_eq2.cpp \
 	DIA_asharp.cpp  DIA_idx_pg.cpp  \
 	DIA_cnr2.cpp DIA_jobs.cpp DIA_jobs_save.cpp  \
-	DIA_v2v.cpp DIA_tdeint.cpp DIA_mpdelogo.cpp \
+	DIA_v2v.cpp DIA_mpdelogo.cpp \
         DIA_chromaShift.cpp \
         \
         DIA_preview.cpp \
@@ -41,7 +41,7 @@
 DIA_color.cpp         DIA_eq2.cpp          \
 DIA_coloryuv.cpp      DIA_equalizer.cpp    DIA_mpdelogo.cpp     \
 DIA_contrast.cpp      DIA_exLame.cpp       DIA_mpeg2opt.cpp    DIA_srt.cpp \
-DIA_about.cpp        DIA_tdeint.cpp \
+DIA_about.cpp         \
 DIA_acodec.cpp       DIA_crop.cpp         DIA_v2v.cpp \
 DIA_animated.cpp     DIA_hue.cpp          DIA_ocr.cpp         DIA_vcodec.cpp \
 DIA_asharp.cpp       DIA_idx_pg.cpp       DIA_partial.cpp     DIA_vobsub.cpp \

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-13 18:19:17 UTC (rev 3086)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-14 12:38:05 UTC (rev 3087)
@@ -88,7 +88,7 @@
 uint8_t DIA_getMPdelogo(MPDELOGO_PARAM *param,AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getPartial(PARTIAL_CONFIG *param,AVDMGenericVideoStream *son,AVDMGenericVideoStream *previous){return 0;}
 uint8_t DIA_pipe(char **cmd,char **param){return 0;}
-uint8_t  DIA_setUserMuxParam( int *mode, int *param, int *muxsize){return 0;}
+//uint8_t  DIA_setUserMuxParam( int *mode, int *param, int *muxsize){return 0;}
 uint8_t DIA_SVCDParam(COMPRES_PARAMS *incoming){return 0;}
 uint8_t  DIA_tdeint(TDEINT_PARAM *param){return 0;}
 uint8_t DIA_vobsub(vobSubParam *param){return 0;}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-13 18:19:17 UTC (rev 3086)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-14 12:38:05 UTC (rev 3087)
@@ -85,8 +85,8 @@
 uint8_t DIA_getMPdelogo(MPDELOGO_PARAM *param,AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getPartial(PARTIAL_CONFIG *param,AVDMGenericVideoStream *son,AVDMGenericVideoStream *previous){return 0;}
 uint8_t DIA_pipe(char **cmd,char **param){return 0;}
-uint8_t  DIA_setUserMuxParam( int *mode, int *param, int *muxsize){return 0;}
-uint8_t  DIA_tdeint(TDEINT_PARAM *param){return 0;}
+//uint8_t  ( int *mode, int *param, int *muxsize){return 0;}
+//uint8_t  (TDEINT_PARAM *param){return 0;}
 uint8_t DIA_vobsub(vobSubParam *param){return 0;}
 uint8_t DIA_x264(COMPRES_PARAMS *config){return 0;}
 uint8_t DIA_XVCDParam(char *title,COMPRESSION_MODE * mode, uint32_t * qz,

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp (from rev 3067, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp	2007-05-11 15:41:44 UTC (rev 3067)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp	2007-05-14 12:38:05 UTC (rev 3087)
@@ -0,0 +1,128 @@
+//
+// C++ Implementation: ADM_vidForcedPP
+//
+// Description: 
+//
+//	Force postprocessing assuming constant quant & image type
+//	Uselefull on some badly authored DVD for example
+//
+// Author: mean <fixounet at free.fr>, (C) 2004
+//
+// Copyright: See COPYING file that comes with this distribution
+//
+//
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include <ADM_assert.h>
+#include <math.h>
+#include <math.h>
+#include <iconv.h>
+#include "config.h"
+
+
+#include "fourcc.h"
+#include "avio.hxx"
+
+#include "avi_vars.h"
+
+#include "ADM_toolkit/toolkit.hxx"
+
+#include "ADM_userInterfaces/ADM_commonUI/DIA_factory.h"
+#include "ADM_assert.h" 
+#include "ADM_video/ADM_vidTDeint_param.h"
+/**
+      \fn DIA_tdeint
+      \brief Dialog for tdeint filter
+*/
+
+uint8_t  DIA_tdeint(TDEINT_PARAM *param)
+{
+         
+         
+diaMenuEntry meField[]={
+  {0,_("Auto (might not work)")},
+  {2,_("Top Field First")},
+  {1,_("Bottom Field First")}
+};       
+
+diaMenuEntry meInterpolate[]={
+  {0,_("Auto (might not work)")},
+  {2,_("Bottom Field (keep top)")},
+  {1,_("Top Field (keep Bottom)")}
+};       
+
+
+diaMenuEntry meType[]={
+  {0,_("Cubic Interpolation")},
+  {1,_("Modified ELA")},
+  {2,_("Kernel Interpolation")},
+  {3,_("Modified ELA-2")},
+  
+};       
+
+diaMenuEntry meMnt[]={
+  {0,_("4 Fields Check")},
+  {1,_("5 Fields Check")},
+  {2,_("4 Fields Check (no avg)")},
+  {3,_("5 Fields Check (no avg)")},
+  
+};       
+
+
+diaMenuEntry meLink[]={
+  {0,_("No Link")},
+  {1,_("Full Link")},
+  {2,_("Y to UV")},
+  {3,_("UV to Y")}
+};     
+
+diaMenuEntry meAP[]={
+  {0,_("0")},
+  {1,_("1")},
+  {2,_("2")}
+};     
+#define PX(x) &(param->x)
+      uint32_t order=param->order+1;
+      uint32_t field=param->field+1;
+      
+      
+      diaElemMenu     menuFieldOrder(&(order),_("_Field order:"),3,meField);
+      diaElemMenu     menuInterpolaye(&(field),_("_Interpolate:"),3,meInterpolate);
+      
+      diaElemMenu     menuType(PX(type),_("_Type:"),4,meType);
+      diaElemMenu     menuMnt(PX(mtnmode),_("_MntMode:"),4,meMnt);
+      diaElemMenu     menuLink(PX(link),_("_Link:"),4,meLink);
+      diaElemMenu     menuAP(PX(APType),_("_AP type:"),3,meAP);
+
+      // Toggle
+      diaElemToggle    toggleUseChroma(PX(chroma),_("Use Chroma to evalute"));
+      diaElemToggle    toggleTryWeave(PX(tryWeave),_("Try weave"));
+      diaElemToggle    toggleDenoise(PX(denoise),_("Denoise"));
+      diaElemToggle    toggleSharp(PX(sharp),_("Sharp"));
+      diaElemToggle    toggleEvaluteAll(PX(full),_("Evalute all frames"));
+      
+      // int
+      diaElemUInteger  intMotionLuma(PX(mthreshL),_("Motion threshold, Luma:"),0,255);
+      diaElemUInteger  intMotionChroma(PX(mthreshC),_("Motion threshold, Chroma:"),0,255);
+      diaElemUInteger  intAreaCombing(PX(cthresh),_("Area combing threshold:"),0,255);
+      diaElemUInteger  intCombed(PX(MI),_("Combed threshold:"),0,255);
+      diaElemInteger   intArtefact(PX(AP),_("Artefact prot. threshold:"),-1,255);
+
+         diaElem *diaRC[]={&menuFieldOrder,&menuInterpolaye,&menuType,&menuMnt,&menuLink,&menuAP,
+                            &toggleUseChroma,&toggleTryWeave,&toggleDenoise,&toggleSharp,&toggleEvaluteAll,
+                            &intMotionLuma,&intMotionChroma,&intAreaCombing,&intCombed,&intArtefact
+                  };
+
+        
+         
+        if( diaFactoryRun(_("TDEint Configuration"),16,diaRC))
+	{
+           param->order=(int)order-1;
+           param->field=(int)field-1;
+          return 1;
+        }
+         return 0;
+}
+// EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-13 18:19:17 UTC (rev 3086)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-14 12:38:05 UTC (rev 3087)
@@ -6,7 +6,8 @@
 DIA_bitrateHisto.cpp DIA_prefs.cpp DIA_gototime.cpp \
 DIA_lavcodec.cpp DIA_mjpeg.cpp DIA_requant.cpp \
 DIA_audioFilter.cpp DIA_flyDialog.cpp DIA_flyCrop.cpp \
-DIA_flyAsharp.cpp DIA_flyChromaShift.cpp DIA_flyContrast.cpp
+DIA_flyAsharp.cpp DIA_flyChromaShift.cpp DIA_flyContrast.cpp \
+DIA_tdeint.cpp
 
 
 INCLUDES = $(all_includes) $(GTK_CFLAGS) $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTDeint_param.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTDeint_param.h	2007-05-13 18:19:17 UTC (rev 3086)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTDeint_param.h	2007-05-14 12:38:05 UTC (rev 3087)
@@ -14,7 +14,7 @@
 
       default -  0  (int)  >>>>>>>FOR AVIDEMUX ONLY 0 IS SUPPORTED <<<<
 */
-	int mode;
+	int32_t mode; //int
 	
 /*
       Sets the field order of the video.
@@ -25,7 +25,7 @@
      
       default -  -1  (int)
       */
-	int order;
+	int32_t order; // int
 
 
 /*
@@ -39,7 +39,7 @@
       default -  -1  (int)
 
 */
-	int field;
+	int32_t field; //int
 /*
    mthreshL/mthreshC:
 
@@ -56,7 +56,7 @@
 
 
 		*/
-	int mthreshL,mthreshC;
+	uint32_t mthreshL,mthreshC; //int
 /*
 	 map:
 
@@ -83,7 +83,7 @@
 
       default - 0  (int)
 */
-	int map;
+	uint32_t map; //int
 	/*
 	   type:
 
@@ -100,7 +100,7 @@
 
       default - 2  (int)
       */
-	int type;
+	uint32_t type; //
 /*
 	  debug:
 
@@ -113,7 +113,7 @@
 
       default - false  (bool)
       */
-	int debug;
+	uint32_t debug; // int
 	/*
  mtnmode:
 
@@ -131,7 +131,7 @@
 
       default - 1  (int)
 */
-	int mtnmode;
+	uint32_t mtnmode;
 /*
    sharp:
 
@@ -144,7 +144,7 @@
 
       default - true  (bool)
 */
-	int sharp;
+	uint32_t sharp;
 	/*
 	  full:
 
@@ -159,7 +159,7 @@
   
       default - true  (bool)
       */
-	int full;
+	uint32_t full;
 	/*
  cthresh:
 
@@ -172,7 +172,7 @@
 
       default - 6  (int)
 */
-	int cthresh;
+	uint32_t cthresh;
 /*
    blockx -
 
@@ -184,7 +184,7 @@
 
       Default:  16  (int)
 */
-	int blockx;
+	uint32_t blockx;
 /*
    blocky -
 
@@ -196,7 +196,7 @@
 
       Default:  16  (int)
 */
-	int blocky;
+	uint32_t blocky;
  /* 
    chroma:
 
@@ -210,7 +210,7 @@
  
       default - false  (bool)
       */
-	int chroma;
+	uint32_t chroma;
 /*
 	 MI:
 
@@ -222,7 +222,7 @@
 
       default - 64  (int)
 */
-	int MI;
+	uint32_t MI;
 /*
    tryWeave:
 
@@ -235,7 +235,7 @@
 
       default - false  (bool)
 */
-	int tryWeave;
+	uint32_t tryWeave;
   /* 
    link:
 
@@ -249,7 +249,7 @@
 
       default - 2  (int)
 */
-	int link;
+	uint32_t link;
 /*
    denoise:
 
@@ -257,7 +257,7 @@
 
       default - true  (bool)
 */
-	int denoise;
+	uint32_t denoise;
 /*
    AP:
 
@@ -275,7 +275,7 @@
       default - -1 (disabled)  (int)
 
 */
-	int AP;
+	int32_t AP;
 	/*
    APType
 
@@ -299,7 +299,7 @@
 
       default -  1  (int)
          */
-	int APType;
+	uint32_t APType;
 
 }TDEINT_PARAM;
 #endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTdeint.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTdeint.cpp	2007-05-13 18:19:17 UTC (rev 3086)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTdeint.cpp	2007-05-14 12:38:05 UTC (rev 3087)
@@ -219,7 +219,7 @@
                 _param->link=2;
                 _param->denoise=true;
                 _param->AP=254;
-                _param->APType=254;
+                _param->APType=1;
   }
   else
   {



From mean at mail.berlios.de  Mon May 14 16:27:07 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 14 May 2007 16:27:07 +0200
Subject: [Avidemux-svn-commit] r3088 - in
	branches/avidemux_2.4_branch/avidemux: . ADM_script
	ADM_toolkit ADM_userInterfaces/ADM_GTK/ADM_dialog
	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory
	ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk
	ADM_userInterfaces/ADM_NONE/ADM_dialogFactory
	ADM_userInterfaces/ADM_QT4/ADM_dialog
	ADM_userInterfaces/ADM_QT4/ADM_dialogFactory
	ADM_userInterfaces/ADM_QT4/ADM_gui
	ADM_userInterfaces/ADM_commonUI ADM_videoFilter
Message-ID: <200705141427.l4EER7Dr003155@sheep.berlios.de>

Author: mean
Date: 2007-05-14 16:27:05 +0200 (Mon, 14 May 2007)
New Revision: 3088

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_toolkit/filesel.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidASS.cpp
   branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
Log:
file enhancement, vob2vobsub switched to dialogFactory

Modified: branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp	2007-05-14 12:38:05 UTC (rev 3087)
+++ branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp	2007-05-14 14:27:05 UTC (rev 3088)
@@ -570,7 +570,7 @@
    uint32_t tog=0;
    char *test=ADM_strdup("Entry test1");
     
-      diaElemFileRead fread(&test,"Entry");
+      diaElemFile fread(0,&test,"Entry");
       diaElem *elems[]={&fread   };
   if(diaFactoryRun("Test FileRead",1,elems))
   {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_toolkit/filesel.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_toolkit/filesel.h	2007-05-14 12:38:05 UTC (rev 3087)
+++ branches/avidemux_2.4_branch/avidemux/ADM_toolkit/filesel.h	2007-05-14 14:27:05 UTC (rev 3088)
@@ -21,6 +21,7 @@
 void GUI_FileSelRead(const char *label, char * * name);
 void GUI_FileSelWrite(const char *label, char * * name);
 
+uint8_t FileSel_SelectWrite(const char *title,char *target,uint32_t max, const char *source);
 uint8_t FileSel_SelectRead(const char *title,char *target,uint32_t max, const char *source);
 uint8_t FileSel_SelectDir(const char *title,char *target,uint32_t max, const char *source);
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp	2007-05-14 12:38:05 UTC (rev 3087)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp	2007-05-14 14:27:05 UTC (rev 3088)
@@ -26,7 +26,7 @@
 #define actionVOBSUB    33
 
 
-uint8_t  DIA_v2v(char **vobname, char **ifoname,char **vobsubname)
+uint8_t  DIA_v2vx(char **vobname, char **ifoname,char **vobsubname)
 {
 uint8_t ret=0;
 char *tmp=NULL,*tmp2=NULL,*tmp3=NULL;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp	2007-05-14 12:38:05 UTC (rev 3087)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp	2007-05-14 14:27:05 UTC (rev 3088)
@@ -31,15 +31,16 @@
 static void dirSel(void *w,void *p);
 
 
-diaElemFileRead::diaElemFileRead(char **filename,const char *toggleTitle,const char *tip)
+diaElemFile::diaElemFile(uint32_t writemode,char **filename,const char *toggleTitle,const char *tip)
   : diaElem(ELEM_FILE_READ)
 {
   param=(void *)filename;
   paramTitle=toggleTitle;
   this->tip=tip;
+  _write=writemode;
 }
 
-diaElemFileRead::~diaElemFileRead()
+diaElemFile::~diaElemFile()
 {
 GtkWidget **wid=(GtkWidget **)myWidget;
         if(wid)
@@ -49,7 +50,7 @@
         }
   
 }
-void diaElemFileRead::setMe(void *dialog, void *opaque,uint32_t line)
+void diaElemFile::setMe(void *dialog, void *opaque,uint32_t line)
 {
   GtkObject *adj;
   GtkWidget *label;
@@ -108,7 +109,7 @@
   myWidget=(void *)w;
   
 }
-void diaElemFileRead::getMe(void)
+void diaElemFile::getMe(void)
 {
   GtkWidget **widget=(GtkWidget **)myWidget;
   char **name=(char **)param;
@@ -117,16 +118,19 @@
   *name =ADM_strdup(gtk_entry_get_text (GTK_ENTRY (widget[0])));
 }
 
-void diaElemFileRead::changeFile(void)
+void diaElemFile::changeFile(void)
 {
 #define MAX_SEL 2040
   char buffer[MAX_SEL+1];
+  uint8_t t=0;
   GtkWidget **wid=(GtkWidget **)myWidget;
   GtkWidget *widget=(GtkWidget *)wid[0];
   const char *txt;
   txt =gtk_entry_get_text (GTK_ENTRY (widget));
   
-  if(FileSel_SelectRead(paramTitle,buffer,MAX_SEL,txt))
+  if(_write) t=FileSel_SelectWrite(paramTitle,buffer,MAX_SEL,txt);
+      else t= t=FileSel_SelectRead(paramTitle,buffer,MAX_SEL,txt);
+  if(t)
   {
     char **name=(char **)param;
     if(*name) delete [] *name;
@@ -137,7 +141,7 @@
   
 }
 
-void   diaElemFileRead::enable(uint32_t onoff)
+void   diaElemFile::enable(uint32_t onoff)
 {
 GtkWidget **wid=(GtkWidget **)myWidget;
      gtk_widget_set_sensitive(GTK_WIDGET(wid[0]),onoff);  
@@ -146,7 +150,7 @@
 
 void fileRead(void *w,void *p)
 {
-  diaElemFileRead *me=(diaElemFileRead *)p;
+  diaElemFile *me=(diaElemFile *)p;
   me->changeFile();
 }
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp	2007-05-14 12:38:05 UTC (rev 3087)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp	2007-05-14 14:27:05 UTC (rev 3088)
@@ -142,6 +142,89 @@
 	return ret;
 }
 /**
+    \fn FileSel_SelectWrite(const char *title,char *target,uint32_t max, const char *source)
+    \brief allow to select a file
+    @return 0 on failure, 1 on success
+    @param title : window title 
+    @param target : where to copy the result (must be allocated by caller)
+    @param max : Max # of bytes that target can hold
+    @param source : where we start from
+*/
+uint8_t FileSel_SelectWrite(const char *title,char *target,uint32_t max, const char *source)
+{
+	
+GtkWidget *dialog;
+uint8_t ret=0;
+gchar *selected_filename;
+gchar last;
+char *dupe=NULL,*tmpname=NULL;
+DIR *dir=NULL;
+	
+	dialog = gtk_file_chooser_dialog_new ("Open File",
+                                      NULL,
+                                      GTK_FILE_CHOOSER_ACTION_SAVE,
+                                      GTK_STOCK_CANCEL, GTK_RESPONSE_CANCEL,
+                                      GTK_STOCK_OPEN, GTK_RESPONSE_ACCEPT,
+                                      NULL);
+	gtk_window_set_title (GTK_WINDOW (dialog),title);
+        initFileSelector();
+        setFilter(dialog);
+        gtk_register_dialog(dialog);
+//	gtk_transient(dialog);
+	if(source)
+	{
+		dupe=PathCanonize(source);
+		PathStripName(dupe);
+		if( (dir=opendir(dupe)) )
+			{
+				closedir(dir);
+				gtk_file_chooser_set_filename(GTK_FILE_CHOOSER(dialog),(gchar *)source);
+			}
+		delete [] dupe;
+	
+	}
+	else	//use pref
+	{
+		if( prefs->get(LASTDIR_WRITE,(ADM_filename **)&tmpname))
+		{
+			
+	
+			dupe=PathCanonize(tmpname);
+			PathStripName(dupe);
+
+			if( (dir=opendir(dupe)) )
+			{
+				closedir(dir);
+				gtk_file_chooser_set_filename(GTK_FILE_CHOOSER(dialog),(gchar *)dupe);
+			}
+			delete [] dupe;
+		}
+	}
+	if(gtk_dialog_run(GTK_DIALOG(dialog))==GTK_RESPONSE_ACCEPT)
+	{
+			selected_filename= (gchar *) 	gtk_file_chooser_get_filename(GTK_FILE_CHOOSER(dialog));
+			if(strlen(selected_filename))
+			{
+			last=selected_filename[strlen(selected_filename) - 1]; 
+			 if (last == '/' || last =='\\' )
+			 {
+                           GUI_Error_HIG(_("Cannot open directory as a file"), NULL);
+						return 0;
+			}
+			else
+			{
+                              strncpy(target,(char *)selected_filename,max);
+                              // Finally we accept it :)
+                              ret=1;
+					
+			}
+			}
+	}	
+        gtk_unregister_dialog(dialog);
+	gtk_widget_destroy(dialog);
+	return ret;
+}
+/**
     \fn FileSel_SelectDir(const char *title,char *target,uint32_t max, const char *source)
     \brief allow to select a directory
     @return 0 on failure, 1 on success

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp	2007-05-14 12:38:05 UTC (rev 3087)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp	2007-05-14 14:27:05 UTC (rev 3088)
@@ -164,26 +164,26 @@
 { 
 }
 //*****************
-diaElemFileRead::diaElemFileRead(char **filename,const char *toggleTitle,const char *tip)
+diaElemFile::diaElemFile(uint32_t write,char **filename,const char *toggleTitle,const char *tip)
   : diaElem(ELEM_FILE_READ)
 {
  
 }
 
-diaElemFileRead::~diaElemFileRead()
+diaElemFile::~diaElemFile()
 {
   
 }
-void diaElemFileRead::setMe(void *dialog, void *opaque,uint32_t line)
+void diaElemFile::setMe(void *dialog, void *opaque,uint32_t line)
 {
  
   
 }
-void diaElemFileRead::getMe(void)
+void diaElemFile::getMe(void)
 {
  
 }
-void   diaElemFileRead::enable(uint32_t onoff)
+void   diaElemFile::enable(uint32_t onoff)
 {}
 #include "ADM_encoder/ADM_vidEncode.hxx"
   diaElemBitrate::diaElemBitrate(COMPRES_PARAMS *p,const char *toggleTitle,const char *tip)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-14 12:38:05 UTC (rev 3087)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-14 14:27:05 UTC (rev 3088)
@@ -99,7 +99,7 @@
 uint8_t  DIA_job_select(char **jobname, char **filename) {return 0;}
 uint8_t DIA_audioTrack(AudioSource *source, uint32_t *track,uint32_t nbTrack, audioInfo *infos){return 0;}
 const char * GUI_getCustomScript(uint32_t nb) {return 0;}
-uint8_t  DIA_v2v(char **vobname, char **ifoname,char **vobsubname) {return 0;}
+//uint8_t  DIA_v2v(char **vobname, char **ifoname,char **vobsubname) {return 0;}
 uint8_t DIA_RecentFiles( char **name ){return 0;}
 
 uint8_t DIA_about( void ){return 0;}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp	2007-05-14 12:38:05 UTC (rev 3087)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp	2007-05-14 14:27:05 UTC (rev 3088)
@@ -35,6 +35,14 @@
 extern const char *shortkey(const char *);
 void GUI_FileSelRead(const char *label, char * * name);
 #define MAX_SEL 2040
+
+typedef enum ADM_fileMode
+{
+    ADM_FILEMODE_DIR,
+    ADM_FILEMODE_READ,
+    ADM_FILEMODE_WRITE
+};
+
 class  ADM_Qfilesel : public QWidget
 {
      Q_OBJECT
@@ -48,11 +56,20 @@
           uint8_t r=0;
           char buffer[MAX_SEL+1],*txt;
           txt="";
-          if(!directoryMode)
-            r=FileSel_SelectRead(_("Select Directory"),buffer,MAX_SEL,txt);
-          else
-            r=FileSel_SelectDir(_("Select File"),buffer,MAX_SEL,txt);
-            
+          switch(fileMode)
+          {
+            case ADM_FILEMODE_READ:
+                r=FileSel_SelectRead(_("Select File to Read"),buffer,MAX_SEL,txt);
+                break;
+            case ADM_FILEMODE_WRITE:
+                r=FileSel_SelectWrite(_("Select File to Write"),buffer,MAX_SEL,txt);
+                break;
+
+            case ADM_FILEMODE_DIR:
+                r=FileSel_SelectDir(_("Select Directory"),buffer,MAX_SEL,txt);
+                break;
+            default: ADM_assert(0);
+          }
           if(r)
           {
             edit->setText(buffer);
@@ -62,12 +79,12 @@
         QLineEdit *edit;
         QDialogButtonBox *button;
         QLabel *text;
-        int directoryMode;
+        ADM_fileMode fileMode;
             
-        ADM_Qfilesel(QWidget *z,const char *title,char *entry,QGridLayout *layout,int line,int dir) : QWidget(z) 
+        ADM_Qfilesel(QWidget *z,const char *title,char *entry,QGridLayout *layout,int line, ADM_fileMode mode) : QWidget(z) 
         {
           
-          directoryMode=dir;
+          fileMode=mode;
           edit=new QLineEdit(entry,z);
           
           edit->show();
@@ -96,27 +113,31 @@
 };
 
 
-diaElemFileRead::diaElemFileRead(char **filename,const char *toggleTitle,const char *tip)
+diaElemFile::diaElemFile(uint32_t writemode,char **filename,const char *toggleTitle,const char *tip)
   : diaElem(ELEM_FILE_READ)
 {
   param=(void *)filename;
   paramTitle=shortkey(toggleTitle);
   this->tip=tip;
+  _write=writemode;
 }
 
-diaElemFileRead::~diaElemFileRead()
+diaElemFile::~diaElemFile()
 {
   if(paramTitle)
     delete paramTitle;
 }
-void diaElemFileRead::setMe(void *dialog, void *opaque,uint32_t line)
+void diaElemFile::setMe(void *dialog, void *opaque,uint32_t line)
 {
  QGridLayout *layout=(QGridLayout*) opaque;
-  
-  ADM_Qfilesel *fs=new ADM_Qfilesel((QWidget *)dialog,paramTitle,*(char **)param,layout, line,0);
+ ADM_Qfilesel *fs;
+  if(_write)
+      fs=new ADM_Qfilesel((QWidget *)dialog,paramTitle,*(char **)param,layout, line,ADM_FILEMODE_WRITE);
+  else
+      fs=new ADM_Qfilesel((QWidget *)dialog,paramTitle,*(char **)param,layout, line,ADM_FILEMODE_READ);
   myWidget=(void *)fs; 
 }
-void diaElemFileRead::getMe(void)
+void diaElemFile::getMe(void)
 {
   
   char **n=(char **)param;
@@ -126,7 +147,7 @@
   QString s=(fs->edit)->text();
   *n=ADM_strdup( s.toLatin1() );
 }
-void diaElemFileRead::enable(uint32_t onoff)
+void diaElemFile::enable(uint32_t onoff)
 {
   ADM_Qfilesel *fs=(ADM_Qfilesel *)myWidget;
   fs->setEnabled(onoff);
@@ -147,7 +168,7 @@
 {
  QGridLayout *layout=(QGridLayout*) opaque;
   
-  ADM_Qfilesel *fs=new ADM_Qfilesel((QWidget *)dialog,paramTitle,*(char **)param,layout, line,1);
+  ADM_Qfilesel *fs=new ADM_Qfilesel((QWidget *)dialog,paramTitle,*(char **)param,layout, line,ADM_FILEMODE_DIR);
   myWidget=(void *)fs; 
 }
 void diaElemDirSelect::getMe(void) 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp	2007-05-14 12:38:05 UTC (rev 3087)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp	2007-05-14 14:27:05 UTC (rev 3088)
@@ -101,6 +101,31 @@
   
 }
 /**
+      \fn FileSel_SelectWrite
+      \brief select file, write mode
+      @param title window title
+      @param target where to store result
+      @param max Max buffer size in bytes
+      @param source Original value
+      @return 1 on success, 0 on failure
+
+*/
+uint8_t FileSel_SelectWrite(const char *title,char *target,uint32_t max, const char *source)
+{
+  char *dir=NULL,*tmpname=NULL;
+   QString fileName;
+ 
+  fileName=QFileDialog::getSaveFileName(QuiMainWindows,title,source);
+                
+  if(!fileName.isNull() )
+  {
+    const char *s=fileName.toLatin1(); // Fixme utf8 ?
+    strncpy(target,s,max);
+  }
+  
+  
+}
+/**
       \fn FileSel_SelectRead
       \brief select file, read mode
       @param title window title

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h	2007-05-14 12:38:05 UTC (rev 3087)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h	2007-05-14 14:27:05 UTC (rev 3088)
@@ -40,7 +40,7 @@
 PROCESS(actionRebuild_I_B_Frames,ACT_RebuildKF) \
 PROCESS(actionBitrate_histogram,ACT_BitRate) \
 PROCESS(actionScan_for_black_frames,ACT_AllBlackFrames) \
-PROCESS(actionVob_to_vobsub,ACT_DUMMY) \
+PROCESS(actionVob_to_vobsub,ACT_V2V) \
 PROCESS(actionOCR,ACT_Ocr) \
 PROCESS(actionPlay_Stop,ACT_StopAvi) \
 PROCESS(actionPrevious_Frame,ACT_PreviousFrame) \

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-05-14 12:38:05 UTC (rev 3087)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-05-14 14:27:05 UTC (rev 3088)
@@ -235,17 +235,17 @@
 };
 
 /*************************************************/
-class diaElemFileRead : public diaElem
+class diaElemFile : public diaElem
 {
 
 public:
   
-  diaElemFileRead(char **filename,const char *toggleTitle,const char *tip=NULL);
-  virtual ~diaElemFileRead() ;
+  diaElemFile(uint32_t writeMode,char **filename,const char *toggleTitle,const char *tip=NULL);
+  virtual ~diaElemFile() ;
   void setMe(void *dialog, void *opaque,uint32_t line);
   void getMe(void);
-  
-  void changeFile(void);
+  uint32_t _write;
+  void   changeFile(void);
   void   enable(uint32_t onoff);
 };
 /*************************************************/

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp (from rev 3067, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp	2007-05-11 15:41:44 UTC (rev 3067)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp	2007-05-14 14:27:05 UTC (rev 3088)
@@ -0,0 +1,87 @@
+/***************************************************************************
+                          GUI_mux.h  -  description
+                             -------------------
+    begin                : Wed Jul 3 2002
+    copyright            : (C) 2002 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+# include "config.h"
+
+#include <sys/types.h>
+#include <sys/stat.h>
+#include <unistd.h>
+#include <string.h>
+#include <stdio.h>
+
+# include <math.h>
+#include "default.h"
+#include "ADM_toolkit/toolkit.hxx"
+#include "ADM_toolkit/filesel.h"
+#include "DIA_factory.h"
+
+/**
+      \fn DIA_v2v
+      \brief  handle vob2vobsub dialog 
+*/
+uint8_t  DIA_v2v(char **vobname, char **ifoname,char **vobsubname)
+{
+uint8_t ret=0;
+char *tmp=NULL,*tmp2=NULL,*tmp3=NULL;
+
+        
+        diaElemFile eVob(0,&tmp,_("Vob file(s):"),"");
+        diaElemFile eIfo(0,&tmp2,_("IFO file:"),"");
+        diaElemFile eVsub(1,&tmp3,_("Vobsub file:"),"");
+        
+        while(1)
+        {
+           diaElem *tabs[]={&eVob,&eIfo,&eVsub};
+          if( diaFactoryRun(_("Vob 2 Vobsub"),3,tabs))
+	  {
+              if(!ADM_fileExist(tmp))
+              {
+                GUI_Error_HIG(_("VOB file"),_("The selected vobfile does not exist.")); 
+                continue;
+              }
+              if(!ADM_fileExist(tmp2))
+              {
+                GUI_Error_HIG(_("IFO file"),_("The selected IFO file does not exist.")); 
+                continue;
+              }
+              if(strlen(tmp3)<3)
+              {
+                 GUI_Error_HIG(_("VobSub file"),_("Select a correct vobsub path/dir.")); 
+                 continue;
+              }
+                  if(*vobname) ADM_dealloc(*vobname);
+                  if(*ifoname) ADM_dealloc(*ifoname);
+                  if(*vobsubname) ADM_dealloc(*vobsubname);
+
+                    *vobname=*ifoname=*vobsubname=NULL;
+
+                  *vobname=ADM_strdup(tmp);
+                  *ifoname=ADM_strdup(tmp2);
+                  *vobsubname=(char *)ADM_alloc(strlen(tmp3)+5); //ADM_strdup(tmp3);
+                  strcpy(*vobsubname,tmp3);
+                  if(tmp3[strlen(tmp3)-1]!='x'|| tmp3[strlen(tmp3)-2]!='d') 
+                          strcat(*vobsubname,".idx");
+                  ADM_dealloc(tmp);
+                  ADM_dealloc(tmp2);
+                  ADM_dealloc(tmp3);
+                  return 1;
+          } 
+          else return 0;
+        }
+        return 0;
+}
+//EOF
+

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-14 12:38:05 UTC (rev 3087)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-14 14:27:05 UTC (rev 3088)
@@ -7,7 +7,7 @@
 DIA_lavcodec.cpp DIA_mjpeg.cpp DIA_requant.cpp \
 DIA_audioFilter.cpp DIA_flyDialog.cpp DIA_flyCrop.cpp \
 DIA_flyAsharp.cpp DIA_flyChromaShift.cpp DIA_flyContrast.cpp \
-DIA_tdeint.cpp
+DIA_tdeint.cpp DIA_v2v.cpp
 
 
 INCLUDES = $(all_includes) $(GTK_CFLAGS) $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidASS.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidASS.cpp	2007-05-14 12:38:05 UTC (rev 3087)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidASS.cpp	2007-05-14 14:27:05 UTC (rev 3088)
@@ -82,7 +82,7 @@
     MKME(scale,font_scale);
     MKME(spacing,line_spacing);
     
-    diaElemFileRead   file((char **)PX(subfile),_("_Subtitle file (ass/ssa)"));
+    diaElemFile       file(0,(char **)PX(subfile),_("_Subtitle file (ass/ssa)"));
     diaElemFloat      dSpacing(&spacing,_("_Line spacing"),0.10,10.0);
     diaElemFloat      dScale(&scale,_("_Font scale"),0.10,10.0);
     diaElemUInteger   dTop(PX(top_margin),_("_Top margin"),0,200);

Modified: branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2007-05-14 12:38:05 UTC (rev 3087)
+++ branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2007-05-14 14:27:05 UTC (rev 3088)
@@ -2003,7 +2003,7 @@
         
         
         
-        diaElemFileRead sourceName(&newtrackname,_("_External file:"));
+        diaElemFile  sourceName(0,&newtrackname,_("_External file:"));
         
         // Now build the list of embedded track
 #define MAX_AUDIO_TRACK 10
@@ -2100,7 +2100,7 @@
         old=nw=secondAudioSource;
 
         diaElemMenu     sourceMenu(&nw,_("_Audio source:"),4,sourcesStream,NULL);
-        diaElemFileRead sourceName(&newtrackname,_("_External file:"));
+        diaElemFile     sourceName(0,&newtrackname,_("_External file:"));
         diaElem *allWidgets[]={&sourceMenu,&sourceName};
 
   /* Link..*/



From mean at mail.berlios.de  Mon May 14 16:27:58 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 14 May 2007 16:27:58 +0200
Subject: [Avidemux-svn-commit] r3089 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog
Message-ID: <200705141427.l4EERw5F003209@sheep.berlios.de>

Author: mean
Date: 2007-05-14 16:27:58 +0200 (Mon, 14 May 2007)
New Revision: 3089

Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
Log:
removed old v2v dialog

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp	2007-05-14 14:27:05 UTC (rev 3088)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp	2007-05-14 14:27:58 UTC (rev 3089)
@@ -1,252 +0,0 @@
-#include <sys/types.h>
-#include <sys/stat.h>
-#include <unistd.h>
-#include <string.h>
-#include <stdio.h>
-
-#include <gdk/gdkkeysyms.h>
-#include <gtk/gtk.h>
-
-
-#include <gdk/gdkkeysyms.h>
-#include <gtk/gtk.h>
-# include <math.h>
-# include "config.h"
-#include "default.h"
-#include "ADM_toolkit_gtk/ADM_gladeSupport.h"
-#include "ADM_toolkit_gtk/toolkit_gtk.h"
-#include "ADM_toolkit_gtk/toolkit_gtk_include.h"
-#include "ADM_toolkit/toolkit.hxx"
-#include "ADM_toolkit/filesel.h"
-
-static GtkWidget       *create_dialog1 (void);
-uint8_t  DIA_v2v(char **vobname, char **ifoname,char **vobsubname);
-#define actionIFO       31
-#define actionVOB       32
-#define actionVOBSUB    33
-
-
-uint8_t  DIA_v2vx(char **vobname, char **ifoname,char **vobsubname)
-{
-uint8_t ret=0;
-char *tmp=NULL,*tmp2=NULL,*tmp3=NULL;
-
-        GtkWidget *dialog;
-
-        dialog=create_dialog1();
-        gtk_register_dialog(dialog);
-        gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(buttonVob),actionVOB);
-        gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(buttonIfo),actionIFO);
-        gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(buttonVobSub),actionVOBSUB);
-
-#define ENTRY_SET(x,y) {gtk_write_entry_string(WID(x),*y);}
-
-        ENTRY_SET(entryIfo,ifoname);
-        ENTRY_SET(entryVob,vobname);
-        ENTRY_SET(entryVobSub,vobsubname);
-
-        while(1)
-        {
-                switch(gtk_dialog_run(GTK_DIALOG(dialog)))
-                {
-                        case actionVOB:
-                                        {
-                                        
-                                        int r;
-                                                GUI_FileSelRead(_("Select Vob file to scan"),&tmp);
-                                                if(!tmp) continue;
-                                                gtk_editable_delete_text(GTK_EDITABLE(WID(entryVob)), 0,-1);
-                                                gtk_editable_insert_text(GTK_EDITABLE(WID(entryVob)), tmp, strlen(tmp), &r);
-                                                ADM_dealloc(tmp);
-                                        }
-                                        break;
-                        case actionIFO:
-                                        {
-                                        
-                                        int r;
-                                                GUI_FileSelRead(_("Select ifo file to use"),&tmp);
-                                                if(!tmp) continue;
-                                                gtk_editable_delete_text(GTK_EDITABLE(WID(entryIfo)), 0,-1);
-                                                gtk_editable_insert_text(GTK_EDITABLE(WID(entryIfo)), tmp, strlen(tmp), &r);
-                                                ADM_dealloc(tmp);
-                                        }
-                                        break;
-                        case actionVOBSUB:
-                                        {
-                                        
-                                        int r;
-                                                GUI_FileSelWrite(_("Select vobsub to write"),&tmp);
-                                                if(!tmp) continue;
-                                                gtk_editable_delete_text(GTK_EDITABLE(WID(entryVobSub)), 0,-1);
-                                                gtk_editable_insert_text(GTK_EDITABLE(WID(entryVobSub)), tmp, strlen(tmp), &r);
-                                                ADM_dealloc(tmp);
-                                        }
-                                        break;
-
-                                        break;
-                        case GTK_RESPONSE_OK: 
-                                        {
-                                           tmp=gtk_editable_get_chars(GTK_EDITABLE (WID(entryVob)), 0, -1);
-                                           if(!tmp || !*tmp)
-                                           {
-                                             GUI_Error_HIG(_("Invalid vobname"),_("Please select or enter a valid vob name"));
-                                                        continue;
-                                            }
-                                           tmp2=gtk_editable_get_chars(GTK_EDITABLE (WID(entryIfo)), 0, -1);
-                                           if(!tmp2 || !*tmp2)
-                                           {
-                                             GUI_Error_HIG(_("Invalid ifo"),_("Please select or enter a valid ifo file"));
-                                                        continue;
-                                            }
-                                           tmp3=gtk_editable_get_chars(GTK_EDITABLE (WID(entryVobSub)), 0, -1);
-                                           if(!tmp3 || !*tmp3 )
-                                           {
-                                             GUI_Error_HIG(_("Invalid vobsubname"),_("Please select or enter a valid vobsub file"));
-                                                        continue;
-                                            }
-                                            if(*vobname) ADM_dealloc(*vobname);
-                                            if(*ifoname) ADM_dealloc(*ifoname);
-                                            if(*vobsubname) ADM_dealloc(*vobsubname);
-
-                                             *vobname=*ifoname=*vobsubname=NULL;
-
-                                            *vobname=ADM_strdup(tmp);
-                                            *ifoname=ADM_strdup(tmp2);
-                                            *vobsubname=(char *)ADM_alloc(strlen(tmp3)+5); //ADM_strdup(tmp3);
-                                            strcpy(*vobsubname,tmp3);
-                                            if(tmp3[strlen(tmp3)-1]!='x') strcat(*vobsubname,".idx");
-                                            ret=1;
-                                        }
-                        default: goto _nxt;
-                }
-        }
-_nxt:
-        gtk_unregister_dialog(dialog);
-        gtk_widget_destroy(dialog);
-        return ret;
-}
-//**************************************************
-//*************************************
-
-
-GtkWidget*
-create_dialog1 (void)
-{
-  GtkWidget *dialog1;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *table1;
-  GtkWidget *label1;
-  GtkWidget *label2;
-  GtkWidget *label3;
-  GtkWidget *entryVob;
-  GtkWidget *entryIfo;
-  GtkWidget *entryVobSub;
-  GtkWidget *buttonVob;
-  GtkWidget *buttonIfo;
-  GtkWidget *buttonVobSub;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *okbutton1;
-
-  dialog1 = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog1), _("Vob to Vobsub"));
-  gtk_window_set_type_hint (GTK_WINDOW (dialog1), GDK_WINDOW_TYPE_HINT_DIALOG);
-
-  dialog_vbox1 = GTK_DIALOG (dialog1)->vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  table1 = gtk_table_new (3, 3, FALSE);
-  gtk_widget_show (table1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), table1, TRUE, TRUE, 0);
-
-  label1 = gtk_label_new (_("Vob :"));
-  gtk_widget_show (label1);
-  gtk_table_attach (GTK_TABLE (table1), label1, 0, 1, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label1), 0, 0.5);
-
-  label2 = gtk_label_new (_("Ifo :"));
-  gtk_widget_show (label2);
-  gtk_table_attach (GTK_TABLE (table1), label2, 0, 1, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
-
-  label3 = gtk_label_new (_("Output vobsub (.idx) :"));
-  gtk_widget_show (label3);
-  gtk_table_attach (GTK_TABLE (table1), label3, 0, 1, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label3), 0, 0.5);
-
-  entryVob = gtk_entry_new ();
-  gtk_widget_show (entryVob);
-  gtk_table_attach (GTK_TABLE (table1), entryVob, 1, 2, 0, 1,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  entryIfo = gtk_entry_new ();
-  gtk_widget_show (entryIfo);
-  gtk_table_attach (GTK_TABLE (table1), entryIfo, 1, 2, 1, 2,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  entryVobSub = gtk_entry_new ();
-  gtk_widget_show (entryVobSub);
-  gtk_table_attach (GTK_TABLE (table1), entryVobSub, 1, 2, 2, 3,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  buttonVob = gtk_button_new_from_stock ("gtk-open");
-  gtk_widget_show (buttonVob);
-  gtk_table_attach (GTK_TABLE (table1), buttonVob, 2, 3, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  buttonIfo = gtk_button_new_from_stock ("gtk-open");
-  gtk_widget_show (buttonIfo);
-  gtk_table_attach (GTK_TABLE (table1), buttonIfo, 2, 3, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  buttonVobSub = gtk_button_new_from_stock ("gtk-open");
-  gtk_widget_show (buttonVobSub);
-  gtk_table_attach (GTK_TABLE (table1), buttonVobSub, 2, 3, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  dialog_action_area1 = GTK_DIALOG (dialog1)->action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  cancelbutton1 = gtk_button_new_from_stock ("gtk-cancel");
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock ("gtk-ok");
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, "dialog1");
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, "dialog_vbox1");
-  GLADE_HOOKUP_OBJECT (dialog1, table1, "table1");
-  GLADE_HOOKUP_OBJECT (dialog1, label1, "label1");
-  GLADE_HOOKUP_OBJECT (dialog1, label2, "label2");
-  GLADE_HOOKUP_OBJECT (dialog1, label3, "label3");
-  GLADE_HOOKUP_OBJECT (dialog1, entryVob, "entryVob");
-  GLADE_HOOKUP_OBJECT (dialog1, entryIfo, "entryIfo");
-  GLADE_HOOKUP_OBJECT (dialog1, entryVobSub, "entryVobSub");
-  GLADE_HOOKUP_OBJECT (dialog1, buttonVob, "buttonVob");
-  GLADE_HOOKUP_OBJECT (dialog1, buttonIfo, "buttonIfo");
-  GLADE_HOOKUP_OBJECT (dialog1, buttonVobSub, "buttonVobSub");
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, "dialog_action_area1");
-  GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, "cancelbutton1");
-  GLADE_HOOKUP_OBJECT (dialog1, okbutton1, "okbutton1");
-
-  return dialog1;
-}
-

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-05-14 14:27:05 UTC (rev 3088)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-05-14 14:27:58 UTC (rev 3089)
@@ -20,7 +20,7 @@
 	DIA_vobsub.cpp DIA_x264.cpp DIA_ocr.cpp  DIA_hue.cpp DIA_eq2.cpp \
 	DIA_asharp.cpp  DIA_idx_pg.cpp  \
 	DIA_cnr2.cpp DIA_jobs.cpp DIA_jobs_save.cpp  \
-	DIA_v2v.cpp DIA_mpdelogo.cpp \
+	DIA_mpdelogo.cpp \
         DIA_chromaShift.cpp \
         \
         DIA_preview.cpp \
@@ -42,7 +42,7 @@
 DIA_coloryuv.cpp      DIA_equalizer.cpp    DIA_mpdelogo.cpp     \
 DIA_contrast.cpp      DIA_exLame.cpp       DIA_mpeg2opt.cpp    DIA_srt.cpp \
 DIA_about.cpp         \
-DIA_acodec.cpp       DIA_crop.cpp         DIA_v2v.cpp \
+DIA_acodec.cpp       DIA_crop.cpp          \
 DIA_animated.cpp     DIA_hue.cpp          DIA_ocr.cpp         DIA_vcodec.cpp \
 DIA_asharp.cpp       DIA_idx_pg.cpp       DIA_partial.cpp     DIA_vobsub.cpp \
 DIA_idx_pg.h         DIA_pause.cpp       \



From mean at mail.berlios.de  Mon May 14 19:24:16 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 14 May 2007 19:24:16 +0200
Subject: [Avidemux-svn-commit] r3090 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK/ADM_dialog ADM_NONE/ADM_dialog ADM_QT4/ADM_dialog
	ADM_commonUI
Message-ID: <200705141724.l4EHOG1W001906@sheep.berlios.de>

Author: mean
Date: 2007-05-14 19:24:15 +0200 (Mon, 14 May 2007)
New Revision: 3090

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/ADM_flyTemplate.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_hue.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/hue.ui
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyHue.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyHue.h
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
Log:
flyDialog for Hue, GTK&QT

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp	2007-05-14 14:27:58 UTC (rev 3089)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp	2007-05-14 17:24:15 UTC (rev 3090)
@@ -6,7 +6,7 @@
 			   Ui for hue & sat
 
     begin                : 08 Apr 2005
-    copyright            : (C) 2004/5 by mean
+    copyright            : (C) 2004/7 by mean
     email                : fixounet at free.fr
  ***************************************************************************/
 
@@ -47,185 +47,123 @@
 #include "ADM_image.h"
 #include "ADM_video/ADM_genvideo.hxx"
 #include "ADM_video/ADM_vidHue.h"
+#include "DIA_flyDialog.h"
+#include "DIA_flyHue.h"
+
 #include "ADM_assert.h"
 
-uint8_t DIA_getHue(Hue_Param *param, ADMImage *image);
-
 static GtkWidget	*create_dialog1 (void);
 static void  		update ( void);
 static gboolean 	draw (void );
 static void 		upload(void);
 static void 		download(void);
-static void  		read ( void );
-static void		recalc( void );
 static void 		frame_changed( void );
 static void             hue_changed( void);
-extern void GUI_RGBDisplay(uint8_t * dis, uint32_t w, uint32_t h, void *widg);
 
-static ADMImage *imgsrc,*imgdst,*imgdisplay;
+static int lock=0;
 static GtkWidget *dialog=NULL;
-static uint32_t w,h;
-static uint32_t *rgbbuffer=NULL;
-static AVDMGenericVideoStream *incoming;
-static Hue_Param  myHue;
-static float      hue,sat;
-static ColYuvRgb    *rgbConv=NULL;
-//
-//	Video is in YV12 Colorspace
-//
-//
+static flyHue *myCrop=NULL;
+
+
+/**
+      \fn DIA_getHue
+      \brief Handle Hue (fly)Dialog
+*/
 uint8_t DIA_getHue(Hue_Param *param, AVDMGenericVideoStream *in)
 {
-        int ret;
-        uint32_t l,f;
-        uint32_t max=in->getInfo()->nb_frames;
-        
-        incoming=in;
+      uint32_t width,height;
+      uint8_t ret=0;
         // Allocate space for green-ised video
-        w=in->getInfo()->width;
-        h=in->getInfo()->height;
-        
-        rgbConv=new ColYuvRgb(w,h);
-        rgbConv->reset(w,h);
-        
-        rgbbuffer=new uint32_t[w*h];
+        width=in->getInfo()->width;
+        height=in->getInfo()->height;
 
-        imgdst=new ADMImage(w,h);
-        imgsrc=new ADMImage(w,h);
-        imgdisplay=new ADMImage(w,h);
-
-        if(curframe<max) max=curframe;
-        
-        ADM_assert(in->getFrameNumberNoAlloc(max, &l, imgsrc,&f));
-        // Luma is not changed by this filter
-        memcpy(YPLANE(imgdisplay),YPLANE(imgsrc),w*h);
-        memcpy(&myHue,param,sizeof(myHue));
         dialog=create_dialog1();
         gtk_register_dialog(dialog);
-
-        gtk_widget_set_usize(WID(drawingarea1), w,h);
-
-
-
-        upload();
+        
+        gtk_widget_set_usize(WID(drawingarea1), width,height);
+        gtk_window_set_title (GTK_WINDOW (dialog), _("Hue"));
+        gtk_widget_show(dialog);
+	
+        
         gtk_signal_connect(GTK_OBJECT(WID(drawingarea1)), "expose_event",
             GTK_SIGNAL_FUNC(draw),
             NULL);
-
+//
         gtk_signal_connect(GTK_OBJECT(WID(hscale1)), "value_changed",GTK_SIGNAL_FUNC(frame_changed),   NULL);
         gtk_signal_connect(GTK_OBJECT(WID(hscaleHue)), "value_changed",GTK_SIGNAL_FUNC(hue_changed),   NULL);
         gtk_signal_connect(GTK_OBJECT(WID(hscaleSaturation)), "value_changed",GTK_SIGNAL_FUNC(hue_changed),   NULL);
         gtk_widget_show(dialog);
 
-        update();
-        draw();
+          
+        myCrop=new flyHue( width, height,in,WID(drawingarea1),WID(hscale1));
+        memcpy(&(myCrop->param),param,sizeof(Hue_Param));
+        myCrop->upload();
+        myCrop->sliderChanged();
         ret=0;
         int response;
         response=gtk_dialog_run(GTK_DIALOG(dialog));
 
         if(response==GTK_RESPONSE_OK)
         {
-	    memcpy(param,&myHue,sizeof(myHue));
+            myCrop->download();
+            memcpy(param,&(myCrop->param),sizeof(Hue_Param));
             ret=1;
         }
         gtk_unregister_dialog(dialog);
         gtk_widget_destroy(dialog);
-    
-        delete imgdst;
-        delete imgsrc;
-        delete imgdisplay;
-        delete [] rgbbuffer;
-        delete rgbConv;
-        rgbConv=NULL;
-
-        rgbbuffer=NULL;
-        imgdst=NULL;
-        imgsrc=NULL;
-        dialog=NULL;
-        imgdisplay=NULL;
+        delete myCrop;
         return ret;
 }
 void hue_changed( void)
 {
-    download();
-    update();
-    draw();
+  if(lock) return;
+  
+   myCrop->update();
+  
 }
 void frame_changed( void )
 {
-uint32_t new_frame,max,l,f;
-double   percent;
-GtkWidget *wid;	
-GtkAdjustment *adj;
-	
-	max=incoming->getInfo()->nb_frames;
-	wid=WID(hscale1);
-	adj=gtk_range_get_adjustment (GTK_RANGE(wid));
-	new_frame=0;
-	
-	percent=(double)GTK_ADJUSTMENT(adj)->value;
-	percent*=max;
-	percent/=100.;
-	new_frame=(uint32_t)floor(percent);
-	
-	if(new_frame>=max) new_frame=max-1;
-	
-	ADM_assert(incoming->getFrameNumberNoAlloc(new_frame, &l, imgsrc,&f));
-        memcpy(YPLANE(imgdisplay),YPLANE(imgsrc),w*h);
-        update();
-        draw();
-
+  myCrop->sliderChanged();
 }
 gboolean draw (void)
 {
-    GtkWidget *draw;
-        draw=WID(drawingarea1);
-        GUI_RGBDisplay((uint8_t *)rgbbuffer, w,h, (void *)draw);
-        return true;
+    myCrop->display();
 }
+//
 void upload( void)
 {
-    gtk_range_set_value (GTK_RANGE(WID(hscaleHue)),(gdouble)myHue.hue);
-    gtk_range_set_value (GTK_RANGE(WID(hscaleSaturation)),(gdouble)myHue.saturation);
+    myCrop->upload();
 }
 void download (void)
 {
-    GtkAdjustment *adj;	
+     myCrop->download();
+}
+/**************************************/
+uint8_t flyHue::upload(void)
+{
+    lock++;
+      gtk_range_set_value (GTK_RANGE(WID(hscaleHue)),(gdouble)param.hue);
+      gtk_range_set_value (GTK_RANGE(WID(hscaleSaturation)),(gdouble)param.saturation);
+    lock--;
+        return 1;
+}
+uint8_t flyHue::download (void)
+{
+    
+       GtkAdjustment *adj;	
 
         adj=gtk_range_get_adjustment (GTK_RANGE(WID(hscaleHue)));
-        myHue.hue=(float)GTK_ADJUSTMENT(adj)->value;
+        param.hue=(float)GTK_ADJUSTMENT(adj)->value;
         
         adj=gtk_range_get_adjustment (GTK_RANGE(WID(hscaleSaturation)));
-        myHue.saturation=(float)GTK_ADJUSTMENT(adj)->value;
+        param.saturation=(float)GTK_ADJUSTMENT(adj)->value;
+        return 1;
 }
-void update(void )
-{
-uint8_t *src,*dst;
-uint32_t stride;
-    hue=myHue.hue*M_PI/180.;
-    sat=(100+myHue.saturation)/100;
-    // Do it!
-    HueProcess_C(VPLANE(imgdisplay), UPLANE(imgdisplay),
-        VPLANE(imgsrc), UPLANE(imgsrc),
-        w>>1,w>>1,
-        w>>1,h>>1, 
-        hue, sat);
-    // Prepare RGB buffer
-    
-    // Copy half source to display
-    dst=imgdisplay->data+w*h;
-    src=imgsrc->data+w*h;
-    stride=w>>1;
-    for(uint32_t y=0;y<h;y++)   // We do both u & v!
-    {
-        memcpy(dst,src,stride>>1);
-        dst+=stride;
-        src+=stride;
-    }
-    //
-    //COL_yv12rgb(  w,   h,imgdisplay->data,(uint8_t *)rgbbuffer );
-    rgbConv->scale(imgdisplay->data,(uint8_t *)rgbbuffer );
-}
+
+
+
+
+//******************
 GtkWidget   *create_dialog1 (void)
 {
   GtkWidget *dialog1;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-14 14:27:58 UTC (rev 3089)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-14 17:24:15 UTC (rev 3090)
@@ -83,7 +83,6 @@
 uint8_t DIA_getEQ2Param(Eq2_Param *param, AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getEqualizer(EqualizerParam *param, ADMImage *image){return 0;}
 uint8_t DIA_getEqualizer(EqualizerParam *param, AVDMGenericVideoStream *in){return 0;}
-uint8_t DIA_getHue(Hue_Param *param, ADMImage *image){return 0;}
 uint8_t DIA_getHue(Hue_Param *param, AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getMPdelogo(MPDELOGO_PARAM *param,AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getPartial(PARTIAL_CONFIG *param,AVDMGenericVideoStream *son,AVDMGenericVideoStream *previous){return 0;}

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/ADM_flyTemplate.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/ADM_flyTemplate.h	2007-05-14 14:27:58 UTC (rev 3089)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/ADM_flyTemplate.h	2007-05-14 17:24:15 UTC (rev 3090)
@@ -0,0 +1,102 @@
+
+/***************************************************************************
+                          Template for QT4 flyDialog
+    copyright            : (C) 2007 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+
+#ifndef WINDOW_NAME
+#error WINDOW_NAME undefined
+#endif
+
+#ifndef PARAM_NAME
+#error PARAM_NAME undefined
+#endif
+
+#ifndef DIALOG_NAME
+#error DIALOG_NAME undefined
+#endif
+
+#ifndef FUNC_NAME
+#error FUNC_NAME undefined
+#endif
+
+#ifndef FLY_NAME
+#error FLY_NAME undefined
+#endif
+
+
+static int lock=0;
+
+class WINDOW_NAME : public QDialog
+ {
+     Q_OBJECT
+ protected : 
+    int lock;
+ public:
+     FLY_NAME *myCrop;
+     ADM_QCanvas *canvas;
+     WINDOW_NAME(PARAM_NAME *param,AVDMGenericVideoStream *in);
+     ~WINDOW_NAME();
+     DIALOG_NAME ui;
+ public slots:
+      void gather(PARAM_NAME *param);
+      //void update(int i);
+ private slots:
+   void sliderUpdate(int foo);
+   void valueChanged(int foo);
+
+ private:
+     
+ };
+ 
+  void WINDOW_NAME::sliderUpdate(int foo)
+  {
+    myCrop->sliderChanged();
+  }
+  void WINDOW_NAME::gather(PARAM_NAME *param)
+  {
+    
+        myCrop->download();
+        memcpy(param,&(myCrop->param),sizeof(PARAM_NAME));
+  }
+
+void WINDOW_NAME::valueChanged( int f )
+{
+  if(lock) return;
+  lock++;
+  myCrop->update();
+  lock--;
+}
+
+
+/**
+      \fn     DIA_getCropParams
+      \brief  Handle crop dialog
+*/
+uint8_t FUNC_NAME(PARAM_NAME *param, AVDMGenericVideoStream *in)
+{
+        uint8_t ret=0;
+        
+        WINDOW_NAME dialog(param,in);        
+        if(dialog.exec()==QDialog::Accepted)
+        {
+            dialog.gather(param); 
+            ret=1;
+        }
+        return ret;
+}
+//____________________________________
+// EOF
+
+

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-14 14:27:58 UTC (rev 3089)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-14 17:24:15 UTC (rev 3090)
@@ -80,8 +80,7 @@
 uint8_t DIA_getEQ2Param(Eq2_Param *param, AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getEqualizer(EqualizerParam *param, ADMImage *image){return 0;}
 uint8_t DIA_getEqualizer(EqualizerParam *param, AVDMGenericVideoStream *in){return 0;}
-uint8_t DIA_getHue(Hue_Param *param, ADMImage *image){return 0;}
-uint8_t DIA_getHue(Hue_Param *param, AVDMGenericVideoStream *in){return 0;}
+//uint8_t DIA_getHue(Hue_Param *param, AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getMPdelogo(MPDELOGO_PARAM *param,AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getPartial(PARTIAL_CONFIG *param,AVDMGenericVideoStream *son,AVDMGenericVideoStream *previous){return 0;}
 uint8_t DIA_pipe(char **cmd,char **param){return 0;}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-14 14:27:58 UTC (rev 3089)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-14 17:24:15 UTC (rev 3090)
@@ -4,7 +4,7 @@
 AQ_props.cpp AQ_working.cpp AQ_encoding.cpp  DIA_xvid4.cpp AQ_resizing.cpp AT_flyDialog.cpp \
 AQ_crop.cpp AT_QCanvas.cpp \
 AQ_asharp.cpp AQ_chromashift.cpp \
-AQ_contrast.cpp
+AQ_contrast.cpp AQ_hue.cpp
 
 INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \
 		-I../../../ADM_libraries/ADM_utilities \

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_hue.cpp (from rev 3086, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_contrast.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_contrast.cpp	2007-05-13 18:19:17 UTC (rev 3086)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_hue.cpp	2007-05-14 17:24:15 UTC (rev 3090)
@@ -0,0 +1,155 @@
+/***************************************************************************
+                          DIA_crop.cpp  -  description
+                             -------------------
+
+			    GUI for cropping including autocrop
+			    +Revisted the Gtk2 way
+			     +Autocrop now in RGB space (more accurate)
+
+    begin                : Fri May 3 2002
+    copyright            : (C) 2002/2007 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include <config.h>
+#include <string.h>
+#include <stdio.h>
+#include <math.h>
+
+#define Ui_Dialog Ui_hueDialog
+#include "ui_hue.h"
+#undef Ui_Dialog
+
+#include "default.h"
+#include "ADM_toolkit/toolkit.hxx"
+#include "ADM_image.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_colorspace/ADM_rgb.h"
+#include "ADM_assert.h"
+#include "DIA_flyDialog.h"
+#include "DIA_flyDialogQt4.h"
+#include "ADM_video/ADM_vidHue.h"
+#include "DIA_flyHue.h"
+
+//
+//	Video is in YV12 Colorspace
+//
+//
+class Ui_hueWindow : public QDialog
+ {
+     Q_OBJECT
+ protected : 
+    int lock;
+ public:
+     flyHue *myCrop;
+     ADM_QCanvas *canvas;
+     Ui_hueWindow(Hue_Param *param,AVDMGenericVideoStream *in);
+     ~Ui_hueWindow();
+     Ui_hueDialog ui;
+ public slots:
+      void gather(Hue_Param *param);
+      //void update(int i);
+ private slots:
+   void sliderUpdate(int foo);
+   void valueChanged(int foo);
+
+ private:
+     
+ };
+  Ui_hueWindow::Ui_hueWindow(Hue_Param *param,AVDMGenericVideoStream *in)
+  {
+    uint32_t width,height;
+        ui.setupUi(this);
+        lock=0;
+        // Allocate space for green-ised video
+        width=in->getInfo()->width;
+        height=in->getInfo()->height;
+        ui.graphicsView->resize(width,height);
+        canvas=new ADM_QCanvas(ui.graphicsView,width,height);
+        
+        myCrop=new flyHue( width, height,in,canvas,ui.horizontalSlider);
+        memcpy(&(myCrop->param),param,sizeof(Hue_Param));
+        myCrop->_cookie=&ui;
+        myCrop->upload();
+        myCrop->sliderChanged();
+
+
+        connect( ui.horizontalSlider,SIGNAL(valueChanged(int)),this,SLOT(sliderUpdate(int)));
+#define SPINNER(x) connect( ui.horizontalSlider##x,SIGNAL(valueChanged(int)),this,SLOT(valueChanged(int))); 
+          SPINNER(Hue);
+          SPINNER(Saturation);
+
+  }
+  void Ui_hueWindow::sliderUpdate(int foo)
+  {
+    myCrop->sliderChanged();
+  }
+  void Ui_hueWindow::gather(Hue_Param *param)
+  {
+    
+        myCrop->download();
+        memcpy(param,&(myCrop->param),sizeof(Hue_Param));
+  }
+Ui_hueWindow::~Ui_hueWindow()
+{
+  if(myCrop) delete myCrop;
+  myCrop=NULL; 
+  if(canvas) delete canvas;
+  canvas=NULL;
+}
+void Ui_hueWindow::valueChanged( int f )
+{
+  if(lock) return;
+  lock++;
+  myCrop->update();
+  lock--;
+}
+
+#define MYSPIN(x) w->horizontalSlider##x
+#define MYCHECK(x) w->checkBox##x
+//************************
+uint8_t flyHue::upload(void)
+{
+      Ui_hueDialog *w=(Ui_hueDialog *)_cookie;
+
+        MYSPIN(Saturation)->setValue(param.saturation);
+        MYSPIN(Hue)->setValue(param.hue);
+        return 1;
+}
+uint8_t flyHue::download(void)
+{
+       Ui_hueDialog *w=(Ui_hueDialog *)_cookie;
+         param.hue=MYSPIN(Hue)->value();
+         param.saturation=MYSPIN(Saturation)->value();
+return 1;
+}
+
+/**
+      \fn     DIA_getCropParams
+      \brief  Handle crop dialog
+*/
+uint8_t DIA_getHue(Hue_Param *param,AVDMGenericVideoStream *in)
+{
+        uint8_t ret=0;
+        
+        Ui_hueWindow dialog(param,in);        
+        if(dialog.exec()==QDialog::Accepted)
+        {
+            dialog.gather(param); 
+            ret=1;
+        }
+        return ret;
+}
+//____________________________________
+// EOF
+
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/hue.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/hue.ui	2007-05-14 14:27:58 UTC (rev 3089)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/hue.ui	2007-05-14 17:24:15 UTC (rev 3090)
@@ -0,0 +1,158 @@
+<ui version="4.0" >
+ <class>Dialog</class>
+ <widget class="QDialog" name="Dialog" >
+  <property name="geometry" >
+   <rect>
+    <x>0</x>
+    <y>0</y>
+    <width>505</width>
+    <height>475</height>
+   </rect>
+  </property>
+  <property name="windowTitle" >
+   <string>Hue</string>
+  </property>
+  <layout class="QGridLayout" >
+   <property name="margin" >
+    <number>9</number>
+   </property>
+   <property name="spacing" >
+    <number>6</number>
+   </property>
+   <item row="4" column="0" colspan="3" >
+    <widget class="QDialogButtonBox" name="buttonBox" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="standardButtons" >
+      <set>QDialogButtonBox::Cancel|QDialogButtonBox::NoButton|QDialogButtonBox::Ok</set>
+     </property>
+    </widget>
+   </item>
+   <item row="3" column="2" >
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Vertical</enum>
+     </property>
+     <property name="sizeType" >
+      <enum>QSizePolicy::Ignored</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>20</width>
+       <height>40</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+   <item row="0" column="1" >
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>40</width>
+       <height>20</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+   <item row="1" column="0" colspan="3" >
+    <widget class="QSlider" name="horizontalSlider" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+    </widget>
+   </item>
+   <item row="2" column="0" colspan="3" >
+    <widget class="QGraphicsView" name="graphicsView" />
+   </item>
+   <item row="0" column="0" >
+    <layout class="QVBoxLayout" >
+     <property name="margin" >
+      <number>0</number>
+     </property>
+     <property name="spacing" >
+      <number>6</number>
+     </property>
+     <item>
+      <widget class="QLabel" name="label_3" >
+       <property name="text" >
+        <string>Hue</string>
+       </property>
+      </widget>
+     </item>
+     <item>
+      <widget class="QSlider" name="horizontalSliderHue" >
+       <property name="minimum" >
+        <number>-90</number>
+       </property>
+       <property name="maximum" >
+        <number>90</number>
+       </property>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+      </widget>
+     </item>
+     <item>
+      <widget class="QLabel" name="label_4" >
+       <property name="text" >
+        <string>Saturation</string>
+       </property>
+      </widget>
+     </item>
+     <item>
+      <widget class="QSlider" name="horizontalSliderSaturation" >
+       <property name="minimum" >
+        <number>-10</number>
+       </property>
+       <property name="maximum" >
+        <number>10</number>
+       </property>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+      </widget>
+     </item>
+    </layout>
+   </item>
+  </layout>
+ </widget>
+ <resources/>
+ <connections>
+  <connection>
+   <sender>buttonBox</sender>
+   <signal>accepted()</signal>
+   <receiver>Dialog</receiver>
+   <slot>accept()</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>248</x>
+     <y>254</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>157</x>
+     <y>274</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>buttonBox</sender>
+   <signal>rejected()</signal>
+   <receiver>Dialog</receiver>
+   <slot>reject()</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>316</x>
+     <y>260</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>286</x>
+     <y>274</y>
+    </hint>
+   </hints>
+  </connection>
+ </connections>
+</ui>

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyHue.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyHue.cpp	2007-05-14 14:27:58 UTC (rev 3089)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyHue.cpp	2007-05-14 17:24:15 UTC (rev 3090)
@@ -0,0 +1,80 @@
+/**/
+/***************************************************************************
+                          DIA_hue
+                             -------------------
+
+			   Ui for hue & sat
+
+    begin                : 08 Apr 2005
+    copyright            : (C) 2004/7 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+
+
+#include <config.h>
+
+
+#include <string.h>
+#include <stdio.h>
+
+#include "default.h"
+#include "ADM_colorspace/ADM_rgb.h"
+#include "ADM_image.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_video/ADM_vidHue.h"
+#include "DIA_flyDialog.h"
+#include "DIA_flyHue.h"
+
+#include "ADM_assert.h"
+// FIXME
+#ifndef M_PI
+#define M_PI    3.14159265358979323846
+#endif
+
+/************* COMMON PART *********************/
+uint8_t  flyHue::update(void)
+{
+    download();
+    process();
+    _rgb->scale(_yuvBufferOut->data,_rgbBufferOut);
+    display();
+    return 1;
+}        
+
+uint8_t  flyHue::process(void )
+{
+uint8_t *src,*dst;
+uint32_t stride;
+float hue,sat;
+    hue=param.hue*M_PI/180.;
+    sat=(100+param.saturation)/100.;
+    memcpy(YPLANE(_yuvBufferOut),YPLANE(_yuvBuffer),_w*_h); // copy luma
+    // Do it!
+    HueProcess_C(VPLANE(_yuvBufferOut), UPLANE(_yuvBufferOut),
+        VPLANE(_yuvBuffer), UPLANE(_yuvBuffer),
+        _w>>1,_w>>1,
+        _w>>1,_h>>1, 
+        hue, sat);
+    // Copy half source to display
+    dst=_yuvBufferOut->data+_w*_h;
+    src=_yuvBuffer->data+_w*_h;
+    stride=_w>>1;
+    for(uint32_t y=0;y<_h;y++)   // We do both u & v!
+    {
+        memcpy(dst,src,stride>>1);
+        dst+=stride;
+        src+=stride;
+    }
+    return 1;
+}
+//EOF

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyHue.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyHue.h	2007-05-14 14:27:58 UTC (rev 3089)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyHue.h	2007-05-14 17:24:15 UTC (rev 3090)
@@ -0,0 +1,19 @@
+#ifndef FLY_HUE_H
+#define FLY_HUE_H
+class flyHue : public ADM_flyDialog
+{
+  
+  public:
+   Hue_Param  param;
+  public:
+   uint8_t    process(void);
+   uint8_t    download(void);
+   uint8_t    upload(void);
+   uint8_t    update(void);
+   flyHue (uint32_t width,uint32_t height,AVDMGenericVideoStream *in,
+                                    void *canvas, void *slider) : ADM_flyDialog(width, height,in,canvas, slider,1) 
+                    {
+                      
+                    };
+};
+#endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-14 14:27:58 UTC (rev 3089)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-14 17:24:15 UTC (rev 3090)
@@ -7,6 +7,7 @@
 DIA_lavcodec.cpp DIA_mjpeg.cpp DIA_requant.cpp \
 DIA_audioFilter.cpp DIA_flyDialog.cpp DIA_flyCrop.cpp \
 DIA_flyAsharp.cpp DIA_flyChromaShift.cpp DIA_flyContrast.cpp \
+DIA_flyHue.cpp \
 DIA_tdeint.cpp DIA_v2v.cpp
 
 



From mean at mail.berlios.de  Tue May 15 16:09:09 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 15 May 2007 16:09:09 +0200
Subject: [Avidemux-svn-commit] r3095 - branches/avidemux_2.4_branch/po
Message-ID: <200705151409.l4FE998t015091@sheep.berlios.de>

Author: mean
Date: 2007-05-15 16:09:02 +0200 (Tue, 15 May 2007)
New Revision: 3095

Modified:
   branches/avidemux_2.4_branch/po/de.po
Log:
updated de translation by J Martin

Modified: branches/avidemux_2.4_branch/po/de.po
===================================================================
--- branches/avidemux_2.4_branch/po/de.po	2007-05-14 20:14:14 UTC (rev 3094)
+++ branches/avidemux_2.4_branch/po/de.po	2007-05-15 14:09:02 UTC (rev 3095)
@@ -7,8 +7,8 @@
 msgstr ""
 "Project-Id-Version: 0.1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-04-24 13:16+0100\n"
-"PO-Revision-Date: 2007-03-26 00:07+0100\n"
+"POT-Creation-Date: 2007-05-13 21:01+0200\n"
+"PO-Revision-Date: 2007-05-13 22:43+0100\n"
 "Last-Translator: Joo Martin <debian at joomart.de>\n"
 "Language-Team: German <david at torangan.de>\n"
 "MIME-Version: 1.0\n"
@@ -16,7 +16,7 @@
 "Content-Transfer-Encoding: 8bit\n"
 
 #: avidemux/ADM_audiocodec/ADM_codecwma.cpp:75
-#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:182
+#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:183
 msgid "Internal error"
 msgstr "Interner Fehler"
 
@@ -24,21 +24,16 @@
 msgid "Cannot open WMA2 codec."
 msgstr "Kann WMA2 Codec nicht ?ffnen."
 
-#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:182
+#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:183
 msgid "Cannot open AMR codec."
 msgstr "Kann AMR Codec nicht ?ffnen."
 
-#: avidemux/ADM_audiodevice/ADM_deviceoss.cpp:118
-msgid "Could not open OSS audio device"
-msgstr "Kann OSS Audio Ger?t nicht ?ffnen"
-
-#: avidemux/ADM_audiodevice/ADM_deviceoss.cpp:118
-msgid "Check the permissions for /dev/dsp."
-msgstr "Pr?fe die Rechte f?r /dev/dsp."
-
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:215
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:199
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:371
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:110
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:223
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:101
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:101
+#, c-format
 msgid "Stereo"
 msgstr "Stereo"
 
@@ -47,13 +42,16 @@
 msgstr "Stereo verbunden"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:217
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:370
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:107
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:100
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:98
+#, c-format
 msgid "Mono"
 msgstr "Mono"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:219
-msgid "Channel Mode"
-msgstr "Kanal-Modus"
+msgid "C_hannel mode:"
+msgstr "Ka_nal-Modus:"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:222
 msgid "CBR"
@@ -68,35 +66,21 @@
 msgstr "Extrem"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:228
-#: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:273
-#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:203
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:181
-msgid "Mode"
-msgstr "Modus"
+msgid "Bit_rate mode:"
+msgstr "Bit_rate Modus:"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:241
 #: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:287
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioconfig.cpp:59
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:624
-msgid "Bitrate"
-msgstr "Bitrate"
+msgid "_Bitrate:"
+msgstr "_Bitrate:"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:246
 #: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:289
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mjpeg.cpp:82
-#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:204
-msgid "Quality"
-msgstr "Qualit?t"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_mjpeg.cpp:40
+msgid "_Quality:"
+msgstr "Qualit?t:"
 
-#: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:270
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:469
-msgid "VBR"
-msgstr "VBR"
-
-#: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:271
-msgid "Quality Based"
-msgstr "qualitit?tsbasiert"
-
 #: avidemux/ADM_audiofilter/audiofilter_buildchain.cpp:322
 #: avidemux/gui_autodrive.cpp:82 avidemux/gui_autodrive.cpp:116
 msgid "Codec Error"
@@ -113,1124 +97,1950 @@
 "?ndere entweder den Codec oder benutze den Mixer-Filter, um weniger Kan?le "
 "zu haben."
 
-#: avidemux/ADM_codecs/ADM_ffmp43.cpp:51
-msgid "Internal error finding codec"
-msgstr ""
+#: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:270
+msgid "VBR"
+msgstr "VBR"
 
-#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:51
-msgid "Internal error opening codec"
-msgstr ""
+#: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:271
+msgid "Quality based"
+msgstr "qualitit?tsbasiert"
 
-#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:53
-msgid "Internal error with context for  codec"
-msgstr ""
+#: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:273
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:113
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:91
+msgid "_Mode:"
+msgstr "_Modus:"
 
-#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:53
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:403
+msgid "Memory error"
+msgstr "Speicherfehler"
+
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:410
+msgid "Error converting to BMP"
+msgstr "Fehler beim Konvertieren nach BMP"
+
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:417
+#: avidemux/gtk_gui.cpp:1917
+msgid "Something bad happened"
+msgstr "Irgendwas Schlimmes ist passiert"
+
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:472
+msgid "Cannot encode the frame"
+msgstr "Kann Bild nicht kodieren"
+
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:252
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:393
+#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:71 avidemux/gtk_gui.cpp:890
+#: avidemux/gtk_gui.cpp:1522
+msgid "File error"
+msgstr "Dateifehler"
+
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:393
+#: avidemux/gtk_gui.cpp:1522
+#, c-format
+msgid "Cannot open \"%s\" for writing."
+msgstr "Kann \"%s\" nicht zum Schreiben ?ffnen."
+
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:324
+msgid "NTSC 4:3"
+msgstr "NTSC 4:3"
+
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:325
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:326
+msgid "NTSC 16:9"
+msgstr "NTSC 16:9"
+
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:327
+msgid "PAL 4:3"
+msgstr "PAL 4:3"
+
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:328
+msgid "PAL 16:9"
+msgstr "PAL 16:9"
+
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:329
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:376
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:398
+msgid "1:1"
+msgstr "1:1"
+
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:331
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:594
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:791
+msgid "Unknown"
+msgstr "Unbekannt"
+
+#: avidemux/ADM_libraries/ADM_lvemux/ADM_muxer.cpp:85
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:209
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:153
+msgid "Incompatible audio"
+msgstr "Inkompatibles Audio"
+
+#: avidemux/ADM_libraries/ADM_lvemux/ADM_muxer.cpp:85
+msgid "For DVD, audio must be MP2 or AC3."
+msgstr "F?r DVD muss Audio entweder MP2 oder AC3 sein."
+
+#: avidemux/ADM_libraries/ADM_lvemux/ADM_muxer.cpp:92
+msgid "lvemux init failed"
+msgstr "lvemux Initialisierung gescheitert"
+
+#: avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp:308
+msgid "Incompatible frame rate"
+msgstr "Inkompatible Bildrate"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:246
+msgid "Hue/Saturation"
+msgstr "Farbton/S?ttigung"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:260
+msgid "<b>Hue:</b>"
+msgstr "<b>Farbton:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:268
+msgid "<b>Saturation:</b>"
+msgstr "<b>S?ttigung:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp:280
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:150
+msgid "Preview"
+msgstr "Vorschau"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp:316
+msgid "Stack Field"
+msgstr "Stapel-Feld"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:83
+msgid "Select background picture"
+msgstr "Hintergrund-Bild ausw?hlen"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:169
+msgid "Animated Menu"
+msgstr "Animiertes Men?"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:193
+msgid "BackGround Image :"
+msgstr "Hintergrund Bild :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:200
+msgid "Standard"
+msgstr "Standard"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:207
+msgid "NTSC (default is PAL)"
+msgstr "NTSC (voreingestellt ist PAL)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:227
+msgid "Vignette Width"
+msgstr "Vignette Breite"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:234
+msgid "Vignette Height"
+msgstr "Vignette H?he"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:257
+msgid "<b>General</b>"
+msgstr "<b>generell</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:276
+msgid "Chapter 1"
+msgstr "Kapitel 1"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:283
+msgid "Chapter 2"
+msgstr "Kapitel 2"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:290
+msgid "Chapter 3"
+msgstr "Kapitel 3"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:297
+msgid "Chapter 4"
+msgstr "Kapitel 4"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:304
+msgid "Chapter 5"
+msgstr "Kapitel 5"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:311
+msgid "Chapter 6"
+msgstr "Kapitel 6"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:324
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:333
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:342
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:351
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:360
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:369
+msgid "Start frame for this vignette."
+msgstr "Starte Bild f?r diese Vignette."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:372
+msgid "<b>TimeCode</b>"
+msgstr "<b>Zeit-Code</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:155
+msgid "ColorYuv (From avisynth)"
+msgstr "Yuv-Farben (fon avisynth)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:179
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:197
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:215
+msgid "Contrast"
+msgstr "Kontrast"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:186
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:224
+msgid "Brightness"
+msgstr "Helligkeit"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:193
+msgid "Gamma"
+msgstr "Gamma"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:200
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:94
+msgid "Gain"
+msgstr "Verst?rkung"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:207
+msgid "Luma Y"
+msgstr "Brillianz Y"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:214
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:242
+msgid "Chroma U"
+msgstr "Farbintensit?t U"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:221
+msgid "Chroma V"
+msgstr "Farbintensit?t V"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:324
+msgid "<b>Color Correction Matrix</b>"
+msgstr "<b>Farbkorrektur Matrix</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:347
+msgid "Matrix"
+msgstr "Matrix"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:354
+msgid "Opt"
+msgstr "Opt"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:361
+msgid "Level"
+msgstr "Stufe"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:373
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:381
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:389
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:549
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:564
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:579
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1124
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:219
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:51
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:77
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:86
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:57
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:101
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:105
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:264 avidemux/gtk_gui.cpp:1995
+#: avidemux/gtk_gui.cpp:2094
+msgid "None"
+msgstr "Keine"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:374
+msgid "Rec.709"
+msgstr "Rec.709"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:382
+msgid "Coring"
+msgstr "Kern"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:390
+msgid "TV->PC"
+msgstr "TV->PC"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:391
+msgid "PC->TV"
+msgstr "PC->TV"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:392
+msgid "PC->TV.Y"
+msgstr "PC->TV.Y"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:398
 msgid ""
-".\n"
-" Did you use too low / too high target for 2 pass ?"
+"<b>Matrix Warning :</b>\n"
+"all above values are normalized to 256!"
 msgstr ""
+"<b>Matrix Warnung :</b>\n"
+"alle dar?ber liegenden Werte werden auf 256 normalisiert!"
 
-#: avidemux/ADM_editor/ADM_edFrameType.cpp:56
-msgid "No video loaded"
-msgstr "Kein Video geladen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:404
+msgid "AutoGain"
+msgstr "Auto-Verst?rkung"
 
-#: avidemux/ADM_editor/ADM_edFrameType.cpp:61
-msgid "Not indexable"
-msgstr "Nicht indizierbar"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:408
+msgid "Display Stats"
+msgstr "Anzeigestatus"
 
-#: avidemux/ADM_editor/ADM_edFrameType.cpp:61
-msgid "DivX 5 + packed?"
-msgstr "DivX 5 + packed?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:412
+msgid "AutoWhite"
+msgstr "Auto-Wei?"
 
-#: avidemux/ADM_editor/ADM_edFrameType.cpp:119
-msgid "Aborted"
-msgstr "Abgebrochen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:416
+msgid "<b>frame2</b>"
+msgstr "<b>Bild2</b>"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:389
-msgid "File type identified but no loader support detected..."
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:85
+msgid "Mini OCR"
+msgstr "Mini OCR"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:390
-msgid "May be related to an old index file."
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:118
+msgid "<b>Glyphs</b>"
+msgstr "<b>Schriftzeichen</b>"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:397
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:132
+msgid "# of Glyphs :"
+msgstr "# von Schriftzeichen :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:140
+msgid "# of lines"
+msgstr "# von Zeilen"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:148
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:156
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:657
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:664
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:671
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:784
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:166
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:206
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:633
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:649
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:665
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:695
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:419
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:433
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:622
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1403
+msgid "0"
+msgstr "0"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:164
+msgid "<b>Stats</b>"
+msgstr "<b>Status</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:186
+msgid "  "
+msgstr "  "
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:195
+msgid "VobSub"
+msgstr "VobSub"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:208
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:271
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:254
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:262
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:283
+msgid " "
+msgstr " "
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:217
+msgid "Output Srt"
+msgstr "Ausgabe SRT"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:222
+msgid "<b>Files</b>"
+msgstr "<b>Dateien</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:228
+msgid "StartOcr"
+msgstr "StartOcr"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:249
+msgid "Current Glyph"
+msgstr "Aktuelles Schriftzeichen"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:263
+msgid " Text:"
+msgstr " Text:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:287
+msgid "Calibrate"
+msgstr "Kalibrieren"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:292
+msgid "Skip all"
+msgstr "Alles ?berspringen"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:297
+msgid "Skip Glyph"
+msgstr "Schriftzeichen ?berspringen"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:302
+msgid "Ignore glyph"
+msgstr "Schriftzeichen ignorieren"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:307
+msgid "Ok"
+msgstr "Ok"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:316
+msgid "<b>Bitmap</b>"
+msgstr "<b>Bitmap</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:157
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:179
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp:53
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp:71
+msgid "Privileges Required"
+msgstr "Rechte erforderlich"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:157
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:179
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp:53
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp:71
+msgid "Root privileges are required to perform this operation."
+msgstr "F?r diese Operation sind Root-Rechte erforderlich."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:200
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp:177
+msgid "Shutting down"
+msgstr "Herunter fahren"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:377
 #, c-format
-msgid "Attempt to open %s failed!"
-msgstr ""
+msgid "%d%%"
+msgstr "%d%%"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:421
-msgid ""
-"You cannot mix different video dimensions yet. Using the partial video "
-"filter later, will not work around this problem. The workaround is:\n"
-"1.) \"resize\" / \"add border\" / \"crop\" each stream to the same "
-"resolution\n"
-"2.) concatinate them together"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:400
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:407
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:414
+#, c-format
+msgid "%lu MB"
+msgstr "%lu MB"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:520
-msgid "Build Time Map"
-msgstr "Erstelle VBR Zeitkarte"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:510
+msgid "Encoding..."
+msgstr "Kodieren..."
 
-#: avidemux/ADM_editor/ADM_edit.cpp:520
-msgid "Build VBR time map?"
-msgstr "VBR Zeitkarte erstellen?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:541
+msgid "<b>Phase:</b>"
+msgstr "<b>Phase:</b>"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:554
-msgid "Use that mode"
-msgstr "Benutze diesen Modus"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:556
+msgid "<b>Video Codec:</b>"
+msgstr "<b>Video Codec:</b>"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:554
-msgid "H264 detected"
-msgstr "H264 gefunden"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:571
+msgid "<b>Audio Codec:</b>"
+msgstr "<b>Audio Codec:</b>"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:554
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:586
+msgid "<b>Container:</b>"
+msgstr "<b>Container:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:618
+msgid "<b>Processed Frames:</b>"
+msgstr "<b>Verarbeitete Bilder:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:626
+msgid "<b>Total Frames:</b>"
+msgstr "<b>Gesamte Bilder:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:634
+msgid "<b>Quantiser:</b>"
+msgstr "<b>Quantizer:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:642
+msgid "<b>Average Bitrate:</b>"
+msgstr "<b>Durchschnittl. Bitrate:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:650
+msgid "0 kB/s"
+msgstr "0 kB/s"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:695
+msgid "<b>Video Size:</b>"
+msgstr "<b>Video Gr??e:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:703
+msgid "<b>Audio Size:</b>"
+msgstr "<b>Audio Gr??e:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:711
+msgid "<b>Total Size:</b>"
+msgstr "<b>Gesamtgr??e:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:719
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:727
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:735
+msgid "0 MB"
+msgstr "0 MB"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:760
+msgid "<b>Elapsed:</b>"
+msgstr "<b>Vergangene Zeit:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:768
+msgid "<b>Time Remaining:</b>"
+msgstr "<b>Verbleibende Zeit:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:776
+msgid "<b>Frames/sec:</b>"
+msgstr "<b>Bilder/Sek.:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:798
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:198
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:437
+msgid "00:00:00"
+msgstr "00:00:00"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:822
+msgid "Shut down computer when finished"
+msgstr "Rechner nach dem Beenden herunter fahren"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:830
+msgid "Priority:"
+msgstr "Priorit?t:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:839
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:178
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:61
+msgid "High"
+msgstr "Hoch"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:840
+msgid "Above Normal"
+msgstr "?ber Normal"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:841
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:180
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:74
+msgid "Normal"
+msgstr "Normal"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:842
+msgid "Below Normal"
+msgstr "Unter Normal"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:843
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:182
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:59
+msgid "Low"
+msgstr "Niedrig"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:880
+msgid "Pause / Abort"
+msgstr "Pause / Abbruch"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:330
+msgid "MPlayer eq2"
+msgstr "MPlayer eq2"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:356
+msgid "Brigh_tness:"
+msgstr "Helligkei_t:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:364
+msgid "_Saturation:"
+msgstr "_S?ttigung:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:399
+msgid "_Contrast:"
+msgstr "_Kontrast:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:425
+msgid "_Initial:"
+msgstr "Anfangswert:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:451
+msgid "_Red:"
+msgstr "_Rot:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:468
+msgid "_Green:"
+msgstr "_Gr?n:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:476
+msgid "_Blue:"
+msgstr "_Blau:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:484
+msgid "_Weight:"
+msgstr "Ge_wichtung:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:510
+msgid "<b>Gamma</b>"
+msgstr "<b>Gamma</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:123
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:144
+msgid "Partial"
+msgstr "Teilst?ck"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:137
+msgid "Start frame for partial :"
+msgstr "Startbild f?r Teilst?ck:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:144
+msgid "End frame for partial :"
+msgstr "Endbild f?r Teilst?ck:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:167
+msgid "Configure partialized filter"
+msgstr "Aufgeteilten Filter konfigurieren"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:109
+msgid "Select Xvid matrix file to load"
+msgstr "Zu ladende Xvid Matrix-Datei ausw?hlen"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:121
+msgid "Error Loading"
+msgstr "Ladefehler"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:121
+msgid "Error loadind the custom matrix file."
+msgstr "Fehler beim Laden der individuellen Matrix-Datei"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:139
+msgid "Matrix Loaded"
+msgstr "Matrix wurde geladen"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:139
+msgid "The custom matrix file has been successfully loaded."
+msgstr "Die individuelle Matrix-Datei wurde erfolgreich geladen."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:479
+msgid "Select Custom Matrix File to write"
+msgstr "Individuelle Matrix-Datei zum Schreiben ausw?hlen"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:484
+msgid "Error Writing"
+msgstr "Schreibfehler"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:484
+msgid "Error writing the custom matrix file."
+msgstr "Fehler beim Schreiben der indivuellen Matrix-Datei."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:700
+msgid "XviD encoding options"
+msgstr "XviD Enkodierer Optionen"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:734
+msgid "Encoding type:"
+msgstr "Kodierungstyp:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:739
+msgid "Bitrate (kb/s):"
+msgstr "Bitrate (kb/s):"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:744
+msgid "Quantizer:"
+msgstr "Quantizer:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:756
+msgid "Select 1-pass or 2-pass encoding"
+msgstr "1- oder 2-Durchlauf Kodierung ausw?hlen"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:760
+msgid "Single pass - bitrate"
+msgstr "Einmaliger Lauf - Bitrate"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:764
+msgid "Single pass - quantizer"
+msgstr "Einmaliger Lauf - Quantizer"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:768
+msgid "Two pass, final size"
+msgstr "Zwei Durchl?ufe, endg?ltige Gr??e"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:772
+msgid "Two pass, average bitrate"
+msgstr "Zwei Durchl?ufe, Durchschnitts-Bitrate"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:776
+msgid "Same Qz as input"
+msgstr "Gleiche Qz wie Eingang"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:785
+msgid "Target video bitrate"
+msgstr "Ziel-Video-Bitrate"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:792
+msgid "Constant quantizer - each frame will get the same compression"
+msgstr "Konstanter Quantizer - jedes Bild erh?lt die gleiche Kompression"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:794
+msgid "Variable bitrate mode"
+msgstr "Variabler Bitraten-Modus (VBR)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:806
+msgid "_Interlaced"
+msgstr "_Interlaced"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:809
 msgid ""
-"If the file is using bframe as reference, it can lead to crash or "
-"stutteting.\n"
-"Avidemux can use another mode which is safed but <b>YOU WILL LOOSE FRAME "
-"ACCURACY</b>.\n"
-"Do you want to use that mode ?"
+"Enables interlaced frame support - use only if your source contains "
+"interlacing artifacts (i.e. fields instead of progressive frames)"
 msgstr ""
 
-#: avidemux/ADM_editor/ADM_edit.cpp:681
-msgid "Packed Bitstream detected"
-msgstr "Gepackten Bitstrom gefunden"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:811
+msgid "_Greyscale"
+msgstr "_Grauskala"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:682
-msgid "Do you want me to unpack it ?"
-msgstr "Soll es entpackt werden ?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:814
+msgid "Encode in black & white"
+msgstr "Schwarz & Wei? kodieren"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:702
-msgid "Could not unpack the video"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:820
+msgid "Ca_rtoon mode"
+msgstr "Ca_rtoon Modus"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:702
-msgid "Using backup decoder - not frame accurate."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:823
+msgid "Enables special motion estimation features for cartoons/anime"
 msgstr ""
+"Aktiviert spezielle M?glichkeiten zur Bewegungsabsch?tzung f?r Cartoons / "
+"Anime (jp.)"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:707
-msgid "Weird"
-msgstr "Seltsam"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:825
+msgid "C_hroma optimizer"
+msgstr "Farbintensit?ts-Optimierer"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:707
-msgid "The unpacking succeedeed but the index is still not up to date."
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:828
+msgid "Enables a chroma optimizer prefilter"
+msgstr "Optimier-Vorfilter f?r Farbintensit?t aktivieren"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:713
-msgid "Troubles ahead"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:834
+msgid "Turbo Mode"
+msgstr "Turbo Modus"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:713
-msgid "This a VOP packed AVI."
-msgstr "Dies ist ein VOP-gepacktes AVI."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:837
+msgid "Enables fast 1st pass encoding"
+msgstr "Schnelles Kodieren im 1. Durchlauf aktivieren"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:724
-msgid "Index is not up to date"
-msgstr "Index ist nicht aktuell"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:839
+msgid "Packed bitstream"
+msgstr "Gepackter Bitstrom"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:724
-msgid "You should use Tool->Rebuild frame. Do it now ?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:842
+msgid "Enables Divx like packed vop, DO NOT SET, it is ugly"
 msgstr ""
+"Aktiviert DivX-?hnliche gepackte VOP (NICHT verwenden! Schaut h?sslich aus)."
 
-#: avidemux/ADM_editor/ADM_edit.cpp:1479
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:844
+msgid "Main"
+msgstr "Hauptteil"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:863
+msgid "Motion search precision:"
+msgstr "Bewegungssuche Genauigkeit:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:867
+msgid "VHQ mode:"
+msgstr "VHQ Modus:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:880
 msgid ""
-"This looks like mpeg\n"
-" Do you want to index it?"
+"Higher settings give higher quality results, at the cost of slower encoding"
 msgstr ""
+"H?here Einstellungen ergeben Ergebnisse mit h?herer Qualit?t auf Kosten "
+"einer langsameren Kodierung."
 
-#: avidemux/ADM_editor/ADM_edit.cpp:1531
-msgid "Indexing failed"
-msgstr "Indizierung gescheitert"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:884
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:357
+msgid "0 - None"
+msgstr "0 - Keine"
 
-#: avidemux/ADM_editor/ADM_edLoadSave.cpp:75
-msgid "Unsupported"
-msgstr "Nicht unterst?tzt"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:888
+msgid "1 - Very low"
+msgstr "1 - Sehr niedrig"
 
-#: avidemux/ADM_editor/ADM_edLoadSave.cpp:301
-msgid "Old format project file"
-msgstr "Projekt-Datei im alten Format"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:892
+msgid "2 - Low"
+msgstr "2 - Niedrig"
 
-#: avidemux/ADM_editor/ADM_edLoadSave.cpp:301
-msgid "No more supported."
-msgstr "Nicht mehr unterst?tzt."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:896
+msgid "3 - Medium"
+msgstr "3 - Mittel"
 
-#: avidemux/ADM_editor/ADM_outputfmt.h:38
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:501
-msgid "AVI"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:900
+msgid "4 - High"
+msgstr "4 - Hoch"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:904
+msgid "5 - Very high"
+msgstr "5 - Sehr hoch"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:908
+msgid "6 - Ultra high"
+msgstr "6 - Ultra hoch"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:917
+msgid "VHQ enables an additional search process to increase quality"
 msgstr ""
+"VHQ aktiviert einen zus?tzlichen Suchprozess, um die Qualit?t zu erh?hen."
 
-#: avidemux/ADM_editor/ADM_outputfmt.h:39
-msgid "AVI, unp. VOP"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:921
+msgid "0 - Off"
+msgstr "0 - Aus"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:925
+msgid "1 - Mode decision"
+msgstr "1 - Modus Entscheidung"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:929
+msgid "2 - Limited search"
+msgstr "2 - Begrenzte Suche"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:933
+msgid "3 - Medium search"
+msgstr "3 - Mittlere Suche"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:937
+msgid "4 - Wide search"
+msgstr "4 - Weite Suche"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:947
+msgid "C_hroma motion"
+msgstr "Farbintensit?ts-Bewegung"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:950
+msgid "Use chroma information to estimate motion"
 msgstr ""
+"Informationen der Farbintensit?t zur Absch?tzung der Bewegung verwenden"
 
-#: avidemux/ADM_editor/ADM_outputfmt.h:40
-msgid "AVI, pack VOP"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:952
+msgid "_4MV"
+msgstr "_4MV"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:955
+msgid "Use 4 motion vectors per macroblock, might give better compression"
 msgstr ""
 
-#: avidemux/ADM_editor/ADM_outputfmt.h:41
-msgid "AVI, dual audio"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:957
+msgid "HQ _AC"
+msgstr "HQ _AC"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:960
+msgid ""
+"Enable a better prediction of AC component. Turns on Lumi masking - applies "
+"more compression to dark/light areas that the eye cannot notice easily"
 msgstr ""
 
-#: avidemux/ADM_editor/ADM_outputfmt.h:42
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:505
-msgid "OGM"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:966
+msgid "I-frame interval - Min:"
+msgstr "I-Frame Intervall - Min:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:974
+msgid "Minimum space between I-frames, 1 will disable forced I-frame spacing"
 msgstr ""
+"Minimaler Abstand zwischen I-Frames, '1' deaktiviert erzwungenen I-Frame "
+"Abstand"
 
-#: avidemux/ADM_editor/ADM_outputfmt.h:43
-#, fuzzy
-msgid "MPEG Video"
-msgstr "Video"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:976
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1194
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1199
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1204
+msgid "Max:"
+msgstr "Max:"
 
-#: avidemux/ADM_editor/ADM_outputfmt.h:44
-msgid "MPEG-PS (A+V)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:984
+msgid "Maximum number of frames allowed between I-frames"
+msgstr "Maximale Anzahl von erlaubten Bildern zwischen I-Frames"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:999
+msgid "Number of B-frames:"
+msgstr "Anzahl von B-Bildern:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1007
+msgid ""
+"Maximum number of sequential B-frames (when set to 0, the original I/P "
+"encoder is used)"
 msgstr ""
+"Maximale Anzahl von sequenziellen B-Frames (wenn '0' wird der originale I/P "
+"Kodierer genutzt)"
 
-#: avidemux/ADM_editor/ADM_outputfmt.h:45
-msgid "MPEG-TS (A+V)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1013
+msgid "_Qpel"
+msgstr "_Qpel"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1016
+msgid "Use Quarter pixel resolution for a more precise motion estimation"
 msgstr ""
 
-#: avidemux/ADM_editor/ADM_outputfmt.h:46
-msgid "MP4"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1018
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:82
+msgid "_GMC"
+msgstr "_GMC"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1021
+msgid ""
+"Global Motion Compensation can save bits on camera pans, zooming and rotation"
 msgstr ""
 
-#: avidemux/ADM_editor/ADM_outputfmt.h:47
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:756
-msgid "PSP"
-msgstr "PSP"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1023
+msgid "_BVHQ"
+msgstr "_BVHQ"
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:192
-msgid "Wrong output format"
-msgstr "Falsches Ausgabeformat"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1026
+msgid "Produces nicer-looking B-frames"
+msgstr "Erzeugt sch?nere B-Frames"
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:192
-msgid "Select MPEG as the output."
-msgstr "Mpeg f?r die Ausgabe ausw?hlen."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1028
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:101
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:80
+msgid "Advanced Simple Profile"
+msgstr ""
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:197
-msgid "Wrong video codec"
-msgstr "Falscher Video Codec"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1040
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:827
+msgid "As input"
+msgstr "Als Eingang"
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:198
-msgid "Select DVD as the video codec for MPEG TS output."
-msgstr "DVD als Video-Codec f?r die Mpeg TS Ausgabe ausw?hlen."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1043
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:832
+msgid "Get PAR from input video file"
+msgstr "PAR der EIngangs-Video-Datei holen"
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:715
-msgid "Only QCIF and subQCIF are allowed for H.263"
-msgstr "Nur QCIF und subQCIF sind erlaubt f?r H.263"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1049
+msgid "Pixel Width"
+msgstr "Pixel Breite"
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:907
-msgid "Fatal error"
-msgstr "Fataler Fehler"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1051
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:796
+msgid ":"
+msgstr ":"
 
-#: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
-msgid "Incompatible settings"
-msgstr "Inkompatible Einstellungen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1060
+msgid "Pixel Height"
+msgstr "Pixel H?he"
 
-#: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
-msgid "At the moment, the DV codec only accepts 720*576 at 25"
-msgstr "Derzeit akzeptiert der DV Codec nur 720*576 at 25"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1061
+msgid "Pixel Aspect Ratio"
+msgstr "Pixel Seitenverh?ltnis"
 
-#: avidemux/ADM_filter/filter_saveload.cpp:156
-msgid "Problem reading XML filters"
-msgstr "Problem beim Lesen von XML Filter"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1066
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:965
+msgid "Motion & Misc"
+msgstr "Bewegung & Sonstiges"
 
-#: avidemux/ADM_filter/filter_saveload.cpp:164
-msgid "No filter found"
-msgstr "Keinen Filter gefunden"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1079
+msgid "Quantization type:"
+msgstr "Quantization Typ:"
 
-#: avidemux/ADM_filter/filter_saveload.cpp:200
-msgid "Could not find a filter"
-msgstr "Konnte keinen Filter finden"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1083
+msgid "_H.263"
+msgstr "_H.263"
 
-#: avidemux/ADM_filter/filter_saveload.cpp:208
-msgid "No tag found"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1086
+msgid "H.263 quantizers smooth the picture (useful at lower bitrates)"
 msgstr ""
 
-#: avidemux/ADM_filter/filter_saveload.cpp:288
-msgid "Node not found"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1090
+msgid "_MPEG"
+msgstr "_MPEG"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1093
+msgid ""
+"MPEG quantizers (slightly slower) produce sharper picture (useful at higher "
+"bitrates)"
 msgstr ""
 
-#: avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp:484
-msgid "Expect troubles"
-msgstr "Erwarte Schwierigkeiten"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1097
+msgid "_Custom Matrix"
+msgstr "_Individuelle Matrix"
 
-#: avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp:971
-msgid "Problem reading SVQ3 headers"
-msgstr "Problem beim Lesen der SVQ3 Kopfzeilen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1107
+msgid "Load Custom Matrix:  "
+msgstr "Individuelle Matrix laden:"
 
-#: avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp:1527
-msgid "No stts table"
-msgstr "Keine stts Tabelle"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1128
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1581
+msgid "Open CQM file"
+msgstr "?ffne CQM Datei"
 
-#: avidemux/ADM_inputs/ADM_h263/ADM_h263.cpp:257
-msgid "Size is not (s)QCIF"
-msgstr "Gr??e ist nicht (s)QCIF"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1136
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1568
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1604
+msgid "Edit Custom Matrix"
+msgstr "Individuelle Matrix bearbeiten"
 
-#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:148
-msgid "There is several mpeg file, append them ?"
-msgstr "Weitere Mpeg Datei gefunden, anh?ngen?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1153
+msgid "I-frame quantizer - Min:"
+msgstr "I-Frame Quantizer - Min:"
 
-#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:245
-msgid "Can't determine aspect ratio"
-msgstr "Kann Seitenverh?ltnis nicht bestimmen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1158
+msgid "P-frame quantizer - Min:"
+msgstr "P-Frame Quantizer - Min:"
 
-#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_video.cpp:363
-msgid "Out of memory"
-msgstr "Speicherfehler"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1163
+msgid "B-frame quantizer - Min:"
+msgstr "B-Frame Quantizer - Min:"
 
-#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_video.cpp:547
-msgid "MPEG renumbering error"
-msgstr "Mpeg Fehler beim Neunummerieren"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1176
+msgid "Minimum quantizer allowed for I-frames"
+msgstr "Minimal erlaubter Quantizer f?r I-Frames"
 
-#: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:560
-msgid "Sure you want to abort ?"
-msgstr "Soll wirklich abgebrochen werden?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1182
+msgid "Minimum quantizer allowed for P-frames"
+msgstr "Minimal erlaubter Quantizer f?r P-Frames"
 
-#: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:771
-msgid "Size mismatch"
-msgstr "unterschiedliche Gr??e"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1188
+msgid "Minimum quantizer allowed for B-frames"
+msgstr "Minimal erlaubter Quantizer f?r B-Frames"
 
-#: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:771
-msgid "Expect a crash."
-msgstr "Erwarte einen Crash."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1217
+msgid "Maximum quantizer allowed for I-frames"
+msgstr "Maximal erlaubter Quantizer f?r I-Frames"
 
-#: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:1063
-msgid "Do you want to save an index ?"
-msgstr "Soll ein Index gespeichert werden?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1223
+msgid "Maximum quantizer allowed for P-frames"
+msgstr "Maximal erlaubter Quantizer f?r P-Frames"
 
-#: avidemux/ADM_inputs/ADM_ogm/ADM_ogm.cpp:355
-msgid "Take second track ?"
-msgstr "Zweite Spur verwenden?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1229
+msgid "Maximum quantizer allowed for B-frames"
+msgstr "Maximal erlaubter Quantizer f?r B-Frames"
 
-#: avidemux/ADM_inputs/ADM_ogm/ADM_ogm.cpp:435
-msgid "Scanning OGM"
-msgstr "Einlesen von OGM"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1231
+msgid "Quantizer restrictions"
+msgstr "Quantizer Beschr?nkungen"
 
-#: avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp:285
-#: avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp:370
-#: avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp:505
-msgid "Malformed header"
-msgstr "Fehlerhafte Kopfzeilen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1235
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:79
+msgid "_Trellis quantization"
+msgstr "_Trellis Quantization"
 
-#: avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp:308
-msgid "Incompatible frame rate"
-msgstr "Inkompatible Bildrate"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1238
+msgid "Rate distortion quantization, will find optimal encoding for each block"
+msgstr ""
 
-#: avidemux/ADM_libraries/ADM_lvemux/ADM_muxer.cpp:85
-#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:153
-#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:209
-msgid "Incompatible audio"
-msgstr "Inkompatibles Audio"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1240
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:309
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:112
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:113
+msgid "Quantization"
+msgstr "Quantization"
 
-#: avidemux/ADM_libraries/ADM_lvemux/ADM_muxer.cpp:85
-msgid "For DVD, audio must be MP2 or AC3."
-msgstr "F?r DVD muss Audio entweder MP2 oder AC3 sein."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1268
+msgid "I-frame boost (%):"
+msgstr "I-Frame Boost (%):"
 
-#: avidemux/ADM_libraries/ADM_lvemux/ADM_muxer.cpp:92
-msgid "lvemux init failed"
-msgstr "lvemux Initialisierung gescheitert"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1273
+msgid "I-frames closer than ... frames..."
+msgstr ""
 
-#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:403
-msgid "Memory error"
-msgstr "Speicherfehler"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1278
+msgid "...are reduced by (%):"
+msgstr ""
 
-#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:410
-msgid "Error converting to BMP"
-msgstr "Fehler beim Konvertieren nach BMP"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1283
+msgid "Max overflow improvement (%):"
+msgstr ""
 
-#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:417
-#: avidemux/gtk_gui.cpp:1925
-msgid "Something bad happened"
-msgstr "Irgendwas Schlimmes ist passiert"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1288
+msgid "Max overflow degradation (%):"
+msgstr ""
 
-#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:472
-msgid "Cannot encode the frame"
-msgstr "Kann Bild nicht kodieren"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1300
+#, c-format
+msgid "A value of 20 will give 20% more bits to every I-frame"
+msgstr ""
 
-#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
-#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:71
-#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:393
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:252
-#: avidemux/gtk_gui.cpp:880 avidemux/gtk_gui.cpp:1530
-msgid "File error"
-msgstr "Dateifehler"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1306
+msgid ""
+"I-frames appearing in the range below this value will be treated as "
+"consecutive keyframes"
+msgstr ""
 
-#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
-#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:393
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112 avidemux/gtk_gui.cpp:1530
-#, c-format
-msgid "Cannot open \"%s\" for writing."
-msgstr "Kann \"%s\" nicht zum Schreiben ?ffnen."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1311
+msgid ""
+"Reduction of bitrate for the first consecutive I-frames. The last I-frame "
+"will get treated normally"
+msgstr ""
 
-#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:22
-#, fuzzy
-msgid "Select Glyphfile to save to"
-msgstr "Zu speichernde Datei ausw?hlen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1316
+msgid ""
+"How much of the overflow the codec can eat into during undersized sections - "
+"larger values will bridge the gap faster"
+msgstr ""
 
-#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:30
-#, fuzzy
-msgid "Could not write the file"
-msgstr "Kann Datei nicht ?ffnen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1321
+msgid ""
+"How much of the overflow the codec can eat into during oversized sections - "
+"larger values will bridge the gap faster"
+msgstr ""
 
-#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:62
-#, fuzzy
-msgid "Erase current glyphs ?"
-msgstr "Aktuelles Schriftzeichen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1323
+msgid "Two pass tuning"
+msgstr "Zweifach-Durchlauf"
 
-#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:71
-#, fuzzy, c-format
-msgid "Could not read \"%s\"."
-msgstr "Konnte \"%s\" nicht zum Schreiben ?ffnen."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1340
+msgid "High bitrate scenes (%):"
+msgstr "Szenen mit hoher Bitrate (%):"
 
-#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:244
-msgid "Ifo error"
-msgstr "IFO Fehler"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1345
+msgid "Low bitrate scenes (%):"
+msgstr "Szenen mit niedriger Bitrate (%):"
 
-#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:244
-msgid "Error reading ifo file, aborting."
-msgstr "Fehler beim Lesen der IFO Datei. Abbruch."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1350
+msgid "Overflow control strength (%):"
+msgstr ""
 
-#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:252
-msgid "Cannot write .idx"
-msgstr "Kann .idx nicht schreiben"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1362
+msgid ""
+"The higher this value, the more bits get taken from frames larger than the "
+"average size, and redistributed to others"
+msgstr ""
 
-#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:265
-msgid "Cannot write .sub"
-msgstr "Kann .sub nicht schreiben"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1367
+msgid ""
+"The higher this value, the more bits get assigned to frames below the "
+"average frame size"
+msgstr ""
 
-#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:277
-msgid "Problem opening the mpeg files"
-msgstr "Problem beim ?ffnen der Mpeg Dateien"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1372
+msgid ""
+"0 = default from core (let XviD decide), else overflow payback percent per "
+"frame"
+msgstr ""
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:102
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:126
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:146
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:153
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:164 avidemux/GUI_jobs.cpp:37
-msgid "Oops"
-msgstr "Oops"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1374
+msgid "Curve compression"
+msgstr "Kurven-Kompression"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:102
-#, c-format
-msgid "can't create custom directory (%s)."
-msgstr "Kann Benutzer-Verzeichnis nicht erstellen (%s)."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1378
+msgid "Second Pass"
+msgstr "Zweiter Durchlauf"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:126
-#, c-format
-msgid "can't create job directory (%s)."
-msgstr "Kann Job Verzeichnis nicht erstellen (%s)."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1591
+msgid "<b>Intra Matrix</b>"
+msgstr "<b>Intra Matrix</b>"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:146
-msgid "can't determine $USERPROFILE."
-msgstr "Kann $USERPROFILE nicht bestimmen."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1609
+msgid "<b>Inter Matrix</b>"
+msgstr "<b>Inter Matrix</b>"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:153
-msgid "can't determine $HOME."
-msgstr "Kann $HOME nicht bestimmen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:560
+msgid "X264 configuration"
+msgstr "X264 Konfiguration"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:164
-msgid "Cannot create the .avidemux directory"
-msgstr "Kann .avidemux Verzeichnis nicht erstellen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:575
+msgid "Encoding Mode:"
+msgstr "Kodier-Modus:"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:74
-msgid "Normal"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:587
+msgid "Entry input for target file size or bitrate"
 msgstr ""
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:75
-#, fuzzy
-msgid "Mux every N video frames"
-msgstr "Video Bild(er)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:589
+msgid "Quantizer (0-51):"
+msgstr "Quantizer (0-51):"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:76
-msgid "Mux by packet size"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:602
+msgid ""
+"Constant Quantizer - Each frame will the same compression. Low numbers equal "
+"higher quality while high numbers equal lower quality"
 msgstr ""
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:79
-msgid "Muxing Type"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:612
+msgid "Target Size:"
+msgstr "Zielgr??e:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:624
+msgid "Single Pass - Quality Quantizer (Average)"
+msgstr "Einmal-Durchlauf - Qualit?ts-Quantizer (Durchschnitt)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:625
+msgid "Single Pass - Quality Quantizer (Constant)"
+msgstr "Einmal-Durchlauf - Qualit?ts-Quantizer (Konstante)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:626
+msgid "Single Pass - Bitrate (Average)"
+msgstr "Einmal-Durchlauf - Bitrate (Durchschnitt)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:627
+msgid "Two Pass - File Size"
+msgstr "Zweifach-Durchlauf - Dateigr??e"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:628
+msgid "Two Pass - Average bitrate"
+msgstr "Zweifach-Durchlauf - Durchschnitts-Bitrate"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:630
+msgid "Bitrate"
+msgstr "Bitrate"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:656
+msgid "Partition decision"
+msgstr "Aufteilungsentscheidung"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:663
+msgid "Method"
+msgstr "Methode"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:675
+msgid "1  - Extremely Low (Fastest)"
+msgstr "1  - Besonders niedrig (am Schnellsten)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:676
+msgid "2  - Very Low"
+msgstr "2  - Sehr niedrig"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:677
+msgid "3  - Low"
+msgstr "3  - Niedrig"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:678
+msgid "4  - Medium"
+msgstr "4  - Mittel"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:679
+msgid "5  - High (Default)"
+msgstr "5  - Hoch (Voreinstellung)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:680
+msgid "6  - Very High"
+msgstr "6  - Sehr hoch"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:681
+msgid "6B - Very High (RDO on Bframes)"
+msgstr "6B - Sehr hoch (RDO bei B-Frames)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:682
+msgid "7 - Ultra High"
+msgstr "7  - Besonders hoch"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:683
+msgid "7B - Ultra High (RDO on Bframes)"
+msgstr "7B  - Besonders hoch (RDO bei B-Frames)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:690
+msgid "Diamond search"
 msgstr ""
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:80
-msgid "Split every MBytes"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:691
+msgid "Hexagonal search"
 msgstr ""
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:82
-#, fuzzy
-msgid "Mux Every x video frames"
-msgstr "Video Bild(er)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:692
+msgid "Uneven multi hexagon"
+msgstr ""
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:83
-msgid "Mux with block of size"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:693
+msgid "Exhaustive search"
 msgstr ""
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:90
-#, fuzzy
-msgid "Avi Muxer Option"
-msgstr "AVI _Multiplexer Optionen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:705
+msgid ""
+"Set how many previous frames can be referenced by a P/B-frame. Numbers above "
+"5 do not seem to improve quality greatly. Numbers are 3 to 5 are recommended"
+msgstr ""
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:188
-msgid "Error initalizing audio filters"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:708
+msgid "Max. Ref. frames"
 msgstr ""
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:197
-msgid "Error initalizing video filters"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:715
+msgid "Range"
+msgstr "Bereich"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:728
+msgid ""
+"Define how many pixels are analysised. The higher the range the more "
+"accurate the analysis but the slower the encoding time"
 msgstr ""
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:446
-#: avidemux/ADM_outputs/oplug_avi/op_avisavecopy.cpp:96
-#: avidemux/ADM_outputs/oplug_avi/op_avisavecopy_pack.cpp:121
-#: avidemux/ADM_outputs/oplug_avi/op_avisavecopy_unpack.cpp:98
-msgid "Cannot initiate save"
-msgstr "Kann das Speichern nicht beginnen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:731
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:89
+msgid "Chroma ME"
+msgstr "Farbintensit?t ME"
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:73
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:736
 msgid ""
-"Width is not a multiple of 8\n"
-" continue anyway ?"
+"Uses chroma (color) components for motion for compression and helps the "
+"quality"
 msgstr ""
+"Farbintensit?t (Farben) Komponenten f?r Bewegung benutzen zur Kompression "
+"und als Hilfe f?r die Qualit?t"
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:93
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:170
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:76
-msgid "Filter init failed"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:739
+msgid "Mixed Refs"
 msgstr ""
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:127
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:395
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:100
-msgid ""
-"\n"
-" Reuse the existing log-file ?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:744
+msgid "Calculate referencing individually based on each partition"
 msgstr ""
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:152
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:431
-msgid "Aborting"
-msgstr "Abbruch"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:750
+msgid "Fast P-Skip"
+msgstr ""
 
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:152
-msgid "Cannot initialize the video stream"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:753
+msgid "Uncheck to enable fast p-skip"
 msgstr ""
 
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:208
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:331
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:415
-#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:352
-msgid "Error while encoding"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:756
+msgid "DCT decimate"
 msgstr ""
 
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:220
-msgid "KeyFrame error"
-msgstr "Bild-Fehler"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:760
+msgid "Interlace"
+msgstr "Interlace"
 
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:220
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:763
+msgid "Encode interlaced"
+msgstr "kodieren mit Interlace"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:765
+msgid "<b>Motion Estimation</b>"
+msgstr "<b>Bewegungsabsch?tzung</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:792
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:804
 msgid ""
-"The beginning frame is not a key frame.\n"
-"Please move the A marker."
+"Enforce the size of a decoded pixel decoded to a certain value. Leave this "
+"at 1:1 for non-anamorphic video"
 msgstr ""
 
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:247
-msgid "Cannot initialize the audio stream"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:793
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:805
+msgid "1"
+msgstr "1"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:808
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:549
+msgid "Custom"
+msgstr "Individuell"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:813
+msgid "Set a custom aspect ratio. Default 1:1 is recommended for most video."
 msgstr ""
 
-#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:89
-msgid "This is not MPEG compatible"
-msgstr "Dies ist nicht MPEG kompatibel"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:818
+msgid "Predefined Aspect Ratios"
+msgstr "Vordefinierte Seitenverh?ltnisse"
 
-#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:89
-msgid "You can't use the Copy codec."
-msgstr "Kopie-Codec nicht m?glich."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:823
+msgid "Set a common predefined aspect ratio"
+msgstr "Vordefiniertes Seitenverh?ltnis festlegen"
 
-#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:94
-#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:156
-#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:167
-msgid "There is no audio track"
-msgstr "Dies ist keine Audio-Spur"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:856
+msgid "<b>Sample Aspect Ratio (A/R)</b>"
+msgstr ""
 
-#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:101
-msgid "The first frame is not intra frame"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:878
+msgid "CABAC"
+msgstr "CABAC"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:881
+msgid ""
+"Lossless compression method which usually improves the bitrate usage by 15% "
+"(especially on high bitrate). Helps the quality a lot but is slower. "
 msgstr ""
 
-#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:101
-msgid "Use the &lt;&lt; and the &gt;&gt; buttons to move using Intra frames."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:884
+msgid "Trellis"
+msgstr "Trellis Quant."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:893
+msgid ""
+"Use rate distortion quantization to find optimal encoding for each block. "
+"Level 0 equals disabled, level 1 equals normal and level 2 equals high"
 msgstr ""
 
-#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:113
-#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:177
-msgid "Audio track is not suitable"
-msgstr "Audio-Spur ist nicht brauchbar"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:900
+msgid "Noise Reduction"
+msgstr "Rauschreduktion"
 
-#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:153
-#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:187
-msgid "For VCD, audio must be 44.1 kHz MP2."
-msgstr "F?r VCD muss Audio 44.1 kHz MP2 sein"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:909
+msgid "Set the amount of noise reduction"
+msgstr "Betrag der Rauschreduktion setzen"
 
-#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:182
-msgid "For DVD, audio must be 48 kHz MP2(stereo), AC3, DTS or LPCM (stereo)."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:916
+msgid "Deblocking Filter :"
 msgstr ""
 
-#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:209
-msgid "For DVD, audio must be 48 kHz MP2, AC3 or LPCM."
-msgstr "F?r DVD muss Audio 48 kHz MP2, AC3 oder LPCM sein."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:919
+msgid "Enable in-loop deblocking to filter the video"
+msgstr ""
 
-#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:326
-msgid "Reuse log file ?"
-msgstr "Log Datei wieder verwenden?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:932
+msgid "Set the amount of blurring to use for block edges when they are found"
+msgstr ""
 
-#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:341
-msgid "Error in pass 1"
-msgstr "Fehler beim 1. Durchlauf"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:941
+msgid "Define the level for when deblocking is applied"
+msgstr ""
 
-#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:491
-msgid "Error in pass 2"
-msgstr "Fehler beim 2. Durchlauf"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:944
+msgid "<i>Threshold</i>"
+msgstr "<i>Schwelle</i>"
 
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:126
-msgid "Could not initialize video"
-msgstr "Kann Video nicht initialisieren"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:952
+msgid "<i>Strength</i>"
+msgstr "<i>St?rke</i>"
 
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:134
-msgid "Could not initialize audio"
-msgstr "Kann Audio nicht initialisieren"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:960
+msgid "<b>Misc. Options</b>"
+msgstr "<b>Sonstige Optionen</b>"
 
-#: avidemux/ADM_script/ADM_JSFunctions.cpp:230
-msgid "Select a directory"
-msgstr "Ein Verzeichnis ausw?hlen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:986
+msgid "8x8 Transform"
+msgstr "8x8 Transformation"
 
-#: avidemux/ADM_script/ADM_JSFunctions.cpp:496
-msgid "Uinteger"
-msgstr "Uinteger"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:989
+msgid "General block breakdown transformation"
+msgstr ""
 
-#: avidemux/ADM_script/ADM_JSFunctions.cpp:511
-msgid "Float"
-msgstr "Float"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:992
+msgid "8x8, 8x16 and 16x8 P-frame search"
+msgstr ""
 
-#: avidemux/ADM_script/ADM_JSFunctions.cpp:528
-msgid "Toggle"
-msgstr "Wechseln"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:995
+msgid "Improve the P-frame quality"
+msgstr ""
 
-#: avidemux/ADM_script/ADM_JSFunctions.cpp:545
-#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:83
-msgid "No Strategy"
-msgstr "Keine Strategie"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:998
+msgid "8x8, 8x16 and 16x8 B-frame search"
+msgstr ""
 
-#: avidemux/ADM_script/ADM_JSFunctions.cpp:546
-#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:84
-msgid "3:2 Pulldown"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1001
+msgid "Improve the B-frame quality"
 msgstr ""
 
-#: avidemux/ADM_script/ADM_JSFunctions.cpp:547
-#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:85
-msgid "Pal/Secam"
-msgstr "Pal/Secam"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1004
+msgid "4x4, 4x8 and 8x4 P-frame search"
+msgstr ""
 
-#: avidemux/ADM_script/ADM_JSFunctions.cpp:548
-#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:86
-msgid "NTSC converted from PAL"
-msgstr "NTSC konvertiert von PAL"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1007
+msgid "Further improve the P-frame quality"
+msgstr ""
 
-#: avidemux/ADM_script/ADM_JSFunctions.cpp:550
-msgid "menu"
-msgstr "Men?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1009
+msgid "8x8 Intra search"
+msgstr "8x8 Intra Suche"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:59
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:128
-msgid "No data"
-msgstr "Keine Daten"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1012
+msgid "Enable DCT Intra block search to improve quality"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:232
-msgid "Bitrate Histogram"
-msgstr "Bitrate Histogramm"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1015
+msgid "4x4 Intra search"
+msgstr "4x4 Intra Suche"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:95
-msgid "Option "
-msgstr "Option "
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1018
+msgid "Further enable DCT Intra block search to improve quality"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:52
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:42
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:380
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:402
-msgid "4:3"
-msgstr "4:3"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1021
+msgid "<b>Partition Macroblocks</b>"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:53
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:43
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:384
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:406
-msgid "16:9"
-msgstr "16:9"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1043
+msgid "Bias"
+msgstr "Bias"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:55
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:45
-msgid "Default"
-msgstr "Voreinstellung"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1056
+msgid ""
+"Increase / decrease probability for how often B-frames are used. Will not "
+"violate the maximum consecutive frame limit"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:56
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:46
-msgid "Tmpgenc"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1065
+msgid ""
+"Set the maximum number of consecutive B-frames. This defines how many "
+"duplicate frames can be droped. Numbers 2 to 5 are recommended. This greatly "
+"improves the use of bitrate and quality"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:57
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:47
-msgid "Anime"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1068
+msgid "Max Consecutive"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:58
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:48
-msgid "KVCD"
-msgstr "KVCD"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1079
+msgid "Bidirectional ME"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:61
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:51
-msgid "Progressive"
-msgstr "Zunehmend"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1084
+msgid ""
+"Jointly optimize both Motion Vector's in B-frames. This will improve quality "
+"but take more time for encoding"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:62
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:52
-msgid "Int. TFF"
-msgstr "Int. TFF"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1086
+msgid "Weighted biprediction"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:63
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:53
-msgid "Int. BFF"
-msgstr "Int. BFF"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1091
+msgid "Enables weighting of B-frames to help fades"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:74
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:60
-msgid "Max Bitrate"
-msgstr "Max Bitrate"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1094
+msgid "Adaptative DCT"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:75
-msgid "Min Bitrate"
-msgstr "Min Bitrate"
-
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:76
-msgid "Use Xvid Rate Control"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1099
+msgid ""
+"Use fewer B-frame if needed. This is always recommended. If not enabled, the "
+"codec will always use the maximum number of consecutive B-frames"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:78
-msgid "Buffer Size"
-msgstr "Puffergr??e"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1102
+msgid "Use as reference"
+msgstr "Als Referenz benutzen"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:80
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:57
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:299
-msgid "Aspect Ratio"
-msgstr "Seitenverh?ltnis"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1107
+msgid ""
+"Allow B-frames to make references non-linearly to another B-frame (instead "
+"of creating a duplicate copy)"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:81
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:73
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:58
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:265
-msgid "Matrices"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1113
+msgid "B-Frame Direct Mode:  "
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:82
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:59
-msgid "Gop Size"
-msgstr "Gop Gr??e"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1121
+msgid "Auto"
+msgstr "Auto"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:88
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:66
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:123
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:285
-msgid "Interlacing"
-msgstr "Interlacing"
-
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:27
-msgid "Hour"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1122
+msgid "Temporal"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:28
-msgid "Minutes"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1123
+msgid "Spatial"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:29
-#, fuzzy
-msgid "Seconds"
-msgstr "Zweiter Durchlauf"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1126
+msgid "<b>B-Frames</b>"
+msgstr "<b>B-Frames</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:51
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:257
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:290
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:373
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:381
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:389
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:420
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:518
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:526
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:612
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:219
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1095
-#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:105
-#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:101
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:264 avidemux/gtk_gui.cpp:2003
-#: avidemux/gtk_gui.cpp:2102
-msgid "None"
-msgstr "Keine"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1131
+msgid "Partitions & Frames"
+msgstr "Aufteilungen & Bilder"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:52
-#, fuzzy
-msgid "Full"
-msgstr "1: Voll"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1159
+msgid "Set how much \"bitrate bonus\" a keyframe can get"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:53
-#, fuzzy
-msgid "Log"
-msgstr "2: Log"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1162
+msgid "Keyframe boost (%)"
+msgstr "Keyframe Boost (%):"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:54
-#, fuzzy
-msgid "Phods"
-msgstr "3: Phods"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1169
+msgid "B-frame reduction (%)"
+msgstr "B-frame Reduktion (%)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:55
-#, fuzzy
-msgid "EPZS"
-msgstr "4: EPZS"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1176
+msgid "Bitrate variability (%)"
+msgstr "Bitrate Variablit?t (%)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:56
-#, fuzzy
-msgid "X1"
-msgstr "1"
-
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:60
-msgid "H263"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1189
+msgid ""
+"Set how much bitrate is deducted from a B-frame as compared to the previous "
+"P-frame"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:61
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:509
-msgid "MPEG"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1198
+msgid ""
+"Define how much the bitrate can fluctuate over the entire video. 0% results "
+"in a constant bitrate stream, while 100% results in a pure quality based "
+"bitrate stream"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:65
-#, fuzzy
-msgid "MB Comparison"
-msgstr "0: MB Vergleich"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1201
+msgid "<b>Bitrate</b>"
+msgstr "<b>Bitrate</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:66
-#, fuzzy
-msgid "Fewest bits (vhq)"
-msgstr "1: Geringste Bitzahl (vhq)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1219
+msgid "Min Qp"
+msgstr "Min Qp"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:67
-#, fuzzy
-msgid "Rate distortion"
-msgstr "2: Verzerrungsgrad"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1226
+msgid "Max Qp"
+msgstr "Max Qp"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:74
-#, fuzzy
-msgid "Min Qz"
-msgstr "Hauptteil"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1233
+msgid "Max QP Step"
+msgstr "Max QP Schritt"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:75
-msgid "Max Qz"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1247
+msgid "Enforce a minimum quantizer level"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:76
-msgid "Max QDiff"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1256
+msgid "Enforce a maximum quantizer level"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:78
-#, fuzzy
-msgid "4MV"
-msgstr "MV0"
-
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:79
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:855
-msgid "Trellis"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1265
+msgid ""
+"Define how much the quantizer rate can change between two consecutive frames"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:81
-#, fuzzy
-msgid "Quarter Pel"
-msgstr "Quarter Pixel"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1268
+msgid "<b>Quantization Limits</b>"
+msgstr "<b>Quantization Grenzen</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:82
-#, fuzzy
-msgid "GMC"
-msgstr "GMC "
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1286
+msgid "Scene Cut Threshold"
+msgstr "Schwelle f?r Szenenschnitt"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:85
-#, fuzzy
-msgid "Number of BFrames"
-msgstr "Anzahl von B-Bildern:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1300
+msgid ""
+"Increase / decrease sensitivity for detecting Scene Changes to compensate "
+"for. Improves I-frame usage and helps quality"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:86
-#, fuzzy
-msgid "Quantization type"
-msgstr "Quantisierung (2-31)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1303
+msgid "Min IDR frame interval"
+msgstr "Min. IDR-Frame Intervall"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:88
-msgid "Macroblock decision"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1316
+msgid ""
+"Set minimum frame interval between IDR frames. Defines the minimum amount a "
+"frame can be reused and referenced by other frames before a new clean one is "
+"established"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:90
-#, fuzzy
-msgid "Filesize tolerance (kb"
-msgstr "Dateigr??e Toleranz (KB)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1325
+msgid ""
+"Set maximum frame interval between IDR frames. Defines the maximum amount a "
+"frame can be reused and referenced by other frames before a new clean one is "
+"established"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:92
-#, fuzzy
-msgid "Quantize compression"
-msgstr "Quantisierer Kompression:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1328
+msgid "Max IDR frame interval"
+msgstr "Max. IDR-Frame Intervall"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:93
-#, fuzzy
-msgid "Quantize blur"
-msgstr "Quantisierer Unsch?rfe:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1335
+msgid "<b>More Rate Settings</b>"
+msgstr "<b>Mehr Bitraten-Einstellungen</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:98
-msgid "User Interface"
-msgstr "Benutzerschnittstelle"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1353
+msgid "VBV buffer size"
+msgstr "VBV Puffergr??e"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:101
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1028
-msgid "Advanced Simple Profile"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1360
+msgid "Initial VBV buffer (%)"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:108
-msgid "Motion Estimation"
-msgstr "Absch?tzung der Bewegung"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1367
+msgid "Maximum local bitrate"
+msgstr "Maximale lokale Bitrate (kbit/s)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:112
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:309
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1240
-msgid "Quantization"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1398
+msgid "<b>Video Buffer Verifier</b>"
+msgstr "<b>Video Puffer Pr?fung</b>"
 
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1403
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:117
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1374
 msgid "Rate Control"
+msgstr "Bitraten-Kontrolle"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1430
+msgid ""
+"Allowed variance of average bitrate. Lower values mean less variance. Higher "
+"values mean more variance."
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:120
-#, fuzzy
-msgid "Lavcodec Mpeg4 configuration"
-msgstr "X264 Konfiguration"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1433
+msgid "Bitrate Variance"
+msgstr "Bitrate Varianz"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:40
-#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:60
-msgid "_Filter strength:"
-msgstr "_Filtersch?rfe:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1446
+msgid ""
+"Allowed variance of average quantizer or quality. Lower values mean less "
+"variance. Higher values mean more variance. Note that 0 means constant "
+"quality while 1 means constant fluctuation. Recommended 0.6."
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:41
-msgid "Swap U&V"
-msgstr "U&V tauschen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1455
+msgid "Reduced fluctuations in Quantizer (before curve compression)"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:51
-#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:72
-msgid "_Horizontal deblocking"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1464
+msgid "Reduce fluctuations in QP (after curve compression)"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:52
-#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:73
-msgid "_Vertical deblocking"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1467
+msgid "Quantizer Compression"
+msgstr "Quantizer Kompression"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1474
+msgid "Temp. Blur of est Frame Complexity"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:53
-#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:74
-msgid "_Deringing"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1481
+msgid "Temp. Blur of Quant after CC"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:149
-#, fuzzy
-msgid "Use systray while encoding"
-msgstr "_Gehe zur Systemablage beim Kodieren"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1488
+msgid "<b>Misc</b>"
+msgstr "<b>Verschiedenes</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:150
-#, fuzzy
-msgid "Accept non standard audio frequency for DVD"
-msgstr "Erlaube Nicht-Standard Audio Frequenz f?r DVD Ausgabe"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1512
+msgid "Quantization factors used between I- and P- frames"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:151
-#, fuzzy
-msgid "Use lavcodec mpeg2 decoder"
-msgstr "Ben_utze libavcodec MPEG Dekodierer"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1521
+msgid "Quantization used between P- and B- frames"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:152
-msgid "Create openDML file"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1530
+msgid "Quantization difference between chroma (color) and luma (brightness)"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:153
-#, fuzzy
-msgid "Automatically index mpeg files"
-msgstr "_Indiziere MPEG Dateien automatisch"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1533
+msgid "Factor between I and P frame Quants"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:154
-msgid "Automatically swap A and B if A>B"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1540
+msgid "Factor between P and B frame Quants"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:155
-#, fuzzy
-msgid "Disable NUV audio sync"
-msgstr "_Deaktiviere Resync von NuppelVideo"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1547
+msgid "Chroma QP Offset"
+msgstr "Farbintensit?t QP Offset"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:156
-msgid "Load external filters"
-msgstr "Externe Filter laden"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1554
+msgid "<b>Quantizers</b>"
+msgstr "<b>Quantizer</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:158
-#, fuzzy
-msgid "Automatically build VBR map"
-msgstr "_Indiziere MPEG Dateien automatisch"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1572
+msgid "Custom matrix"
+msgstr "Individuelle Matrix"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:159
-#, fuzzy
-msgid "Automatically rebuild index"
-msgstr "_Indiziere MPEG Dateien automatisch"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1587
+msgid "JVT matrix"
+msgstr "JVT Matrix"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:160
-msgid "Automatically remove packed bitstream"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1595
+msgid "Flat matrix"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:163
-#, fuzzy
-msgid "Number of threads"
-msgstr "Anzahl von B-Bildern:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1609
+msgid "Edit a loaded custom quantization matrix file"
+msgstr "Geladene individuelle Quantization-Matrix-Datei bearbeiten"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:164
-msgid "Split mpegs every (MB)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1617
+msgid "<b>Quantization Matrices</b>"
+msgstr "<b>Quantization Matrizen</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:166
-msgid "Use alternative tag for mp3 in .mp4"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1622
+msgid "More"
+msgstr "Mehr"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:169
-msgid "Gtk (Slow)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1630
+msgid "Defaults"
+msgstr "Voreinstellungen"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:171
-msgid "Xv (Best)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:137
+msgid "Chroma Noise Reduction 2"
+msgstr "Farbintensit?t Rauschreduktion 2"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:174
-msgid "SDL (Good)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:162
+msgid "<b>Scene change Treshold</b>"
+msgstr "<b>Schwelle f?r Szenenwechsel</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:177
-#, fuzzy
-msgid "Video Display"
-msgstr "Video Filter"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:181
+msgid "Sensibility"
+msgstr "Empfindlichkeit"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:182
-msgid "No alerts"
-msgstr "Keine Meldungen anzeigen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:189
+msgid "Max"
+msgstr "Max"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:183
-msgid "Display only error alerts"
-msgstr "Nur Fehlermeldungen anzeigen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:204
+msgid "Luma :"
+msgstr "Brillianz:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:184
-msgid "Display all alerts"
-msgstr "Alle Meldungen anzeigen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:211
+msgid "Chroma U :"
+msgstr "Farbintensit?t U:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:186
-#, fuzzy
-msgid "Message level"
-msgstr "Anzeigestufe f?r Meldungen:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:218
+msgid "Chroma V :"
+msgstr "Farbintensit?t V:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:191
-#, fuzzy
-msgid "PCM"
-msgstr "_PCM"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:261
+msgid "Narrow"
+msgstr "N?he"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:192
-#, fuzzy
-msgid "Master"
-msgstr "_Master"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:286
+msgid "<b>Settings</b>"
+msgstr "<b>Einstellungen</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:193
-msgid "Volume control"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:305
+msgid "Use also chroma to detect scene change"
+msgstr "Auch Farbintensit?t benutzen, um Szenenwechsel zu ermitteln"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:198
-#, fuzzy
-msgid "No downmixing"
-msgstr "Nicht herunter mischen (Multi-Kanal)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:309
+msgid "<b>Mode</b>"
+msgstr "<b>Modus</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:200
-#, fuzzy
-msgid "Prologic"
-msgstr "Dolby Prologic"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:186
+msgid "XVCD encoding"
+msgstr "XVCD Kodierung"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:201
-#, fuzzy
-msgid "Prologic II"
-msgstr "Dolby Prologic 2"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:195
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:250
+msgid "Constant Quantizer"
+msgstr "Konstanter Quantizer"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:203
-msgid "Local Playback Downmixing"
-msgstr "Herunter mischen der lokalen Wiedergabe"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:209
+msgid "Constant Bitrate"
+msgstr "Konstante Bitrate"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:232
-#, fuzzy
-msgid "Audio output"
-msgstr "_Audio Ausgabe:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:223
+msgid "Dual pass"
+msgstr "Zweifach-Durchlauf"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:245
-msgid "Horizontal deblocking"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:237
+msgid "Min bitrate (kbps) :"
+msgstr "Min. Bitrate (KB/s):"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:245
+msgid "Max bitrate (kbps) :"
+msgstr "Max. Bitrate (KB/s):"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:265
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:73
+msgid "Matrices"
+msgstr "Matrizen"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:281
+msgid "Default mpeg"
+msgstr "Voreingestellte Mpeg"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:285
+msgid "Tmpeng "
+msgstr "Tmpeng "
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:289
+msgid "Anim?"
+msgstr "Anime (jp.)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:293
+msgid "K-VCD"
+msgstr "K-VCD"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:299
+msgid "Gop Size  (12):"
+msgstr "Gop Gr??e  (12):"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:315
+msgid "Use Xvid ratecontrol"
+msgstr "Xvid Bitratenpr?fung verwenden"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:356
+msgid "Mplayer Delogo"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:246
-msgid "Vertical deblocking"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:374
+msgid "X"
+msgstr "X"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:381
+msgid "Y"
+msgstr "Y"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:388
+msgid "W"
+msgstr "W"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:395
+msgid "H"
+msgstr "H"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:402
+msgid "Band"
+msgstr "Band"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:72
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:72
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:74
+msgid "ASHARP"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:247
-#, fuzzy
-msgid "Deringing"
-msgstr "Ziel"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:189
+msgid "ChromaShift"
+msgstr "Farbintensit?ts-Verschiebung"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:248
-#, fuzzy
-msgid "Strength:"
-msgstr "_St?rke:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:203
+msgid "U Shift :"
+msgstr "U Verschiebung:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:249
-#, fuzzy
-msgid "Default Postprocessing"
-msgstr "_Lege voreingestellte Nachbearbeitungsstufe fest"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:210
+msgid "V Shift :"
+msgstr "V Verschiebung:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:263
-#, fuzzy
-msgid "Filter directory"
-msgstr "Ein Verzeichnis ausw?hlen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:252
+msgid "<b>Preview</b>"
+msgstr "<b>Vorschau</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:301
-msgid "Preferences"
-msgstr "Einstellungen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:51
+msgid "Continue indexing"
+msgstr "Laufende Indizierung"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:59
-msgid "Target type"
-msgstr "Zieltyp"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:51
+msgid "Abort Requested"
+msgstr "Abbruch angefordert"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:60
-msgid "Source aspect ratio"
-msgstr "Quell-Seitenverh?ltnis"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:51
+msgid "Do you want to abort indexing ?"
+msgstr "Soll die Indizierung abgebrochen werden ?"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:61
-msgid "Dest. aspect ratio"
-msgstr "Ziel-Seitenverh?ltnis"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:153
+msgid "Indexing..."
+msgstr "Indizierung..."
 
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:174
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:259
+msgid "Time left :"
+msgstr "Verbleibende Zeit :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:182
+msgid "Timecode :"
+msgstr " Zeitcode :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:190
+msgid "Nb pictures seen :"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:214
+msgid "Indexing :"
+msgstr "Indizierung :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:222
+msgid "/dev/null"
+msgstr "/dev/null"
+
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:54
 msgid "translator-credits"
-msgstr ""
+msgstr "Dank an ?bersetzer"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:69
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:265
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:266
 msgid "Avidemux"
-msgstr ""
+msgstr "Avidemux"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:70
 msgid "? 2001-2006 Mean"
-msgstr ""
+msgstr "? 2001-2007 Mean"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:71
 msgid "Multiplatform video editor"
-msgstr ""
+msgstr "Multiplatform Video-Editor"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:72
 msgid ""
@@ -1588,714 +2398,577 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:74
 msgid "http://www.avidemux.org"
-msgstr ""
+msgstr "http://www.avidemux.org"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp:138
-msgid "AudioCodec"
-msgstr "Audio Codec"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:237
+msgid "Xvid Encoder"
+msgstr "Xvid Kodierer"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp:163
-msgid "Configure codec"
-msgstr "Konfiguriere Codec"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:258
+msgid "Constant Bitrate (kbps)"
+msgstr "Konstante Bitrate (KB/s)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:83
-msgid "Select background picture"
-msgstr "Hintergrund-Bild ausw?hlen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:266
+msgid "Dual pass (MBytes)"
+msgstr "Zweifach-Durchlauf (MBytes)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:169
-msgid "Animated Menu"
-msgstr "Animiertes Men?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:292
+msgid "Basic"
+msgstr "Basis"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:193
-msgid "BackGround Image :"
-msgstr "Hintergrund Bild :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:301
+msgid "Motion Search"
+msgstr "Bewegungssuche"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:200
-msgid "Standard"
-msgstr "Standard"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:317
+msgid "Max I frame interval "
+msgstr "Max. I-Frame Intervall"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:207
-msgid "NTSC (default is PAL)"
-msgstr "NTSC (voreingestellt ist PAL)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:333
+msgid "Min I frame interval"
+msgstr "Min. I-Frame Intervall"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:227
-msgid "Vignette Width"
-msgstr "Vignette Breite"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:361
+msgid "1- Very low"
+msgstr "1 - Sehr niedrig"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:234
-msgid "Vignette Height"
-msgstr "Vignette H?he"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:365
+msgid "2- Low"
+msgstr "2 - niedrig"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:257
-msgid "<b>General</b>"
-msgstr "<b>generell</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:369
+msgid "3- Medium"
+msgstr "3 - Mittel"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:276
-msgid "Chapter 1"
-msgstr "Kapitel 1"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:373
+msgid "4- High"
+msgstr "4 - Hoch"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:283
-msgid "Chapter 2"
-msgstr "Kapitel 2"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:377
+msgid "5- Very High"
+msgstr "5 - Sehr hoch"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:290
-msgid "Chapter 3"
-msgstr "Kapitel 3"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:381
+msgid "6- Ultra High"
+msgstr "6 - Besonders hoch"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:297
-msgid "Chapter 4"
-msgstr "Kapitel 4"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:395
+msgid "H263 Quantizer"
+msgstr "H263 Quantizer"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:304
-msgid "Chapter 5"
-msgstr "Kapitel 5"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:400
+msgid "MPEG Quantizer"
+msgstr "MPEG Quantizer"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:311
-msgid "Chapter 6"
-msgstr "Kapitel 6"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:407
+msgid "Advanced"
+msgstr "Fortgeschritten"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:324
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:333
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:342
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:351
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:360
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:369
-msgid "Start frame for this vignette."
-msgstr "Starte Bild f?r diese Vignette."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:416
+msgid "Min I Frame Qzer"
+msgstr "Min. I-Frame Qzer"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:372
-msgid "<b>TimeCode</b>"
-msgstr "<b>Zeit-Code</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:424
+msgid "Max I Frame Qzer"
+msgstr "Max. I-Frame Qzer"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:282
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:432
+msgid "Min P Frame Qzer"
+msgstr "Min. P-Frame Qzer"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:440
+msgid "Max P Frame Qzer"
+msgstr "Max. P-Frame Qzer"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:480
+msgid "Quantizer"
+msgstr "Quantizer"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:485
+msgid "Not Yet!"
+msgstr "Noch nicht !"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:490
+msgid "B Frames"
+msgstr "B Bilder"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_exLame.cpp:80
+msgid "Lame command"
+msgstr "Lame Befehl"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_exLame.cpp:89
+msgid "Enter parameters (i.e. -b 192 -m s ...)"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:185
 msgid "ASharp by MarcFD"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:295
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:198
 msgid "Threshold :"
-msgstr ""
+msgstr "Schwelle :"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:303
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:206
 msgid "Strength :"
-msgstr ""
+msgstr "St?rke :"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:311
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:214
 msgid "Block Adaptative :"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:319
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:222
 msgid "Unknown flag :"
+msgstr "Unbekannter Schalter:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_recent.cpp:96
+msgid "Recent files"
+msgstr "Letzte Dateien"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:246
+msgid "dialog1"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:351
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:208
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:271
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:264
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:292
-msgid " "
-msgstr " "
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:264
+msgid "0:0:0"
+msgstr "0:0:0"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:209
-msgid "Audio Processing"
-msgstr "Audio Bearbeitung"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_busy.cpp:120
+msgid "Busy"
+msgstr "arbeitet"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:227
-msgid "DRC"
-msgstr "DRC"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:159
+msgid "TDeint param"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:235
-msgid "Timeshift"
-msgstr "Zeitverschiebung"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:173
+msgid "Field Order :"
+msgstr "Feld-Reihenfolge:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:244
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1459
-msgid "<b>Misc</b>"
-msgstr "<b>Verschiedenes</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:185
+msgid "Bottom Field First"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:267
-msgid "Resample to hz"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:186
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:178
+msgid "Top Field First"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:277
-msgid "<b>Resampling</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:188
+msgid "Interpolate :"
+msgstr "Interpoliere :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:200
+msgid "Top field (keep bottom)"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:296
-msgid "Film -> PAL"
-msgstr "Film -> PAL"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:201
+msgid "Bottom field (keep top)"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:302
-msgid "PAL->Film"
-msgstr "PAL->Film"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:203
+msgid "Type"
+msgstr "Typ"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:308
-msgid "<b>Fps convert</b>"
-msgstr "<b>Fps konvertieren</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:215
+msgid "Cubic Interpolation"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:327
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:200
-msgid "Gain"
-msgstr "Verst?rkung"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:216
+msgid "Modified ELA"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:335
-msgid "Automatic ( max is -3dB)"
-msgstr "Automatik (max -3dB)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:217
+msgid "Kernerl interpolation"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:345
-msgid "Manual (db) : "
-msgstr "Manuell (db) : "
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:218
+msgid "Modified ELA-2"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:357
-msgid "<b>Gain</b>"
-msgstr "<b>Verst?rkung</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:220
+msgid "MntMode"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:369
-msgid "No change"
-msgstr "Keine ?nderung"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:232
+msgid "4 field check"
+msgstr "4 Feldpr?fung"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:372
-msgid "Stereo+Surround"
-msgstr "Stereo+Surround"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:233
+msgid "5 field check"
+msgstr "5 Feldpr?fung"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:373
-msgid "Stereo+Center"
-msgstr "Stereo+Center"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:234
+msgid "4 field check (no average)"
+msgstr "4 Feldpr?fung (kein Durchschnitt)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:374
-msgid "Stereo+Center+Surround"
-msgstr "Stereo+Center+Surround"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:235
+msgid "5 field check (no average)"
+msgstr "5 Feldpr?fung (kein Durchschnitt)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:375
-msgid "Stereo Front+Stero Rear"
-msgstr "Stereo Front+Stero Rear"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:237
+msgid "Use Chroma to evalute"
+msgstr "Farbintensit?t zur ?berpr?fung benutzen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:376
-msgid "5 channels"
-msgstr "5 K?n?le"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:250
+msgid "Try weave "
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:377
-msgid "5.1"
-msgstr "5.1"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:263
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:173
+msgid "Denoise"
+msgstr "Rauschen verringern"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:378
-msgid "Dolby Prologic"
-msgstr "Dolby Prologic"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:276
+msgid "Link"
+msgstr "Verkn?pfung"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:379
-msgid "Dolby Prologic 2"
-msgstr "Dolby Prologic 2"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:288
+msgid "No link"
+msgstr "Keine Verkn?pfung"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:381
-msgid "<b>Mixer</b>"
-msgstr "<b>Mixer</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:289
+msgid "Full linking"
+msgstr "Vollst?ndige Verkn?pfung"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_busy.cpp:120
-msgid "Busy"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:290
+msgid "Y to UV link"
+msgstr "Y nach UV Verkn?pfung"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:291
+msgid "UV to Y link"
+msgstr "UV nach Y Verkn?pfung"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:293
+msgid "Sharp :"
+msgstr "Scharf :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:306
+msgid "AP type"
+msgstr "AP Typ"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:319
+msgid "Evaluate ALL frames"
+msgstr "ALLE Bilder ?berpr?fen"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:331
+msgid "0 (read manual)"
+msgstr "0 (Handbuch lesen)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:332
+msgid "1 (read manual)"
+msgstr "1 (Handbuch lesen)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:333
+msgid "2 (read manual)"
+msgstr "2 (Handbuch lesen)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:339
+msgid "motion Threshold, Luma"
+msgstr "Bewegungsschwelle, Brillianz"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:346
+msgid "motion Threshold, Chroma"
+msgstr "Bewegungsschwelle, Farbintensit?t"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:369
+msgid "Area Combing Threshold"
 msgstr ""
 
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:383
+msgid "Combed Treshold"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:398
+msgid "Artefact Protection threshold "
+msgstr ""
+
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:403
 msgid "Bitrate Calculator"
-msgstr ""
+msgstr "Bitrate Taschenrechner"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:431
 msgid "Duration:"
-msgstr ""
+msgstr "Verz?gerung:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:437
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:198
-msgid "00:00:00"
-msgstr ""
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:451
 msgid "_Medium:"
-msgstr ""
+msgstr "_Medium:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:462
 msgid "_Format:"
-msgstr ""
+msgstr "_Format:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:473
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:531
 msgid "Total size (custom)"
-msgstr ""
+msgstr "Gesamtgr??e (individuell)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:483
 msgid "_Custom size (MB):"
-msgstr ""
+msgstr "_Individuelle Gr??e (MB):"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:497
 msgid "Output container format"
-msgstr ""
+msgstr "Ausgabe-Container-Format"
 
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:501
+#: avidemux/ADM_editor/ADM_outputfmt.h:38
+msgid "AVI"
+msgstr "AVI"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:505
+#: avidemux/ADM_editor/ADM_outputfmt.h:46
+msgid "OGM"
+msgstr "OGM"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:509
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:61
+msgid "MPEG"
+msgstr "MPEG"
+
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:524
 msgid "Total size"
-msgstr ""
+msgstr "Gesamtgr??e"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:528
 msgid "1x 80 min. CD"
-msgstr ""
+msgstr "1x 80 min. CD"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:533
 msgid "2x 80 min. CD"
-msgstr ""
+msgstr "2x 80 min. CD"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:537
 msgid "1x 74 min. CD"
-msgstr ""
+msgstr "1x 74 min. CD"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:541
 msgid "2x 74 min. CD"
-msgstr ""
+msgstr "2x 74 min. CD"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:545
 msgid "DVD5"
-msgstr ""
+msgstr "DVD5"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:549
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:802
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:902
-msgid "Custom"
-msgstr ""
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:555
 msgid "<b>Target</b>"
-msgstr ""
+msgstr "<b>Ziel</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:575
 msgid "Track _1:"
-msgstr ""
+msgstr "Spur _1:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:583
 msgid "Audio bitrate in kb/s for track 1 (0 for no audio)"
-msgstr ""
+msgstr "Audio Bitrate in KB/s f?r Spur 1 (0 wenn ohne Audio)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:591
 msgid "Track _2: "
-msgstr ""
+msgstr "Spur _2: "
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:599
 msgid "Audio bitrate in kb/s for track 2 (optional)"
-msgstr ""
+msgstr "Audio Bitrate in KB/s f?r Spur 2 (optional)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:603
 msgid "<b>Audio Bitrate</b>"
-msgstr ""
+msgstr "<b>Audio Bitrate</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:625
 msgid "Audio size (MB):"
-msgstr ""
+msgstr "Audio Gr??e (MB):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:633
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:649
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:665
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:695
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:534
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:542
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:558
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:566
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:574
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:166
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:206
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:148
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:156
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:419
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:433
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:622
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1380
-msgid "0"
-msgstr "0"
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:641
 msgid "Video size (MB):"
-msgstr ""
+msgstr "Video Gr??e (MB):"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:657
 msgid "Total size (MB):"
-msgstr ""
+msgstr "Gesamtgr??e (MB):"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:679
 msgid "Video bitrate:"
-msgstr ""
+msgstr "Video Bitrate:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:687
 msgid "Bits per pixel:"
-msgstr ""
+msgstr "Bits pro Pixel:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:703
 msgid "0.0"
-msgstr ""
+msgstr "0.0"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:711
 msgid "<b>Result</b>"
-msgstr ""
+msgstr "<b>Ergebnis</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:264
-msgid "ChromaShift"
-msgstr "Farbintensit?ts-Verschiebung"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_quota.cpp:90
+msgid "Filesystem full / quota exceeded"
+msgstr "Dateisystem voll / Quota ?berschritten"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:278
-msgid "U Shift :"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_quota.cpp:133
+msgid "Ignore"
+msgstr "Ignorieren"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:285
-msgid "V Shift :"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_quota.cpp:155
+msgid "Retry"
+msgstr "Wiederholen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:327
-msgid "<b>Preview</b>"
-msgstr "<b>Vorschau</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:47
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:26
+msgid "No"
+msgstr "Nein"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:137
-msgid "Chroma Noise Reduction 2"
-msgstr "Farbintensit?t Rauschreduktion 2"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:47
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:26
+msgid "Yes"
+msgstr "Ja"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:162
-msgid "<b>Scene change Treshold</b>"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:67
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:69
+#, c-format
+msgid "%lu x %lu"
+msgstr "%lu x %lu"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:181
-msgid "Sensibility"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:70
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:70
+#, c-format
+msgid "%2.3f fps"
+msgstr "%2.3f fps"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:189
-msgid "Max"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:73
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:71
+#, c-format
+msgid "%ld frames"
+msgstr "%ld Bilder"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:204
-msgid "Luma :"
-msgstr "Brillianz:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:83
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:133
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:77
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:125
+#, c-format
+msgid "%02d:%02d:%02d.%03d"
+msgstr "%02d:%02d:%02d.%03d"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:211
-msgid "Chroma U :"
-msgstr "Farbintensit?t U:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:96
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:83
+#, c-format
+msgid "%s (%u:%u)"
+msgstr "%s (%u:%u)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:218
-msgid "Chroma V :"
-msgstr "Farbintensit?t V:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:118
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:109
+#, c-format
+msgid "%lu Hz"
+msgstr "%lu Hz"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:261
-msgid "Narrow"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:120
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:110
+#, c-format
+msgid "%lu Bps / %lu kbps"
+msgstr "%lu B/s / %lu kB/s"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:286
-msgid "<b>Settings</b>"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:136
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:128
+#, c-format
+msgid "%.2f MB"
+msgstr "%.2f MB"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:305
-msgid "Use also chroma to detect scene change"
-msgstr "Auch Farbintensit?t benutzen, um Szenenwechsel zu ermitteln"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:205
+msgid "Properties"
+msgstr "Eigenschaften"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:309
-msgid "<b>Mode</b>"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:234
+msgid "Frame Rate:"
+msgstr "Bildrate:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_color.cpp:71
-msgid "Select Color"
-msgstr "Farbe ausw?hlen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:241
+msgid "Frame Count:"
+msgstr "Bildz?hler:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:155
-msgid "ColorYuv (From avisynth)"
-msgstr "Yuv-Farben (fon avisynth)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:248
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:426
+msgid "Total Duration:"
+msgstr "Gesamt-Verz?gerung:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:179
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:246
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:263
-msgid "Contrast"
-msgstr "Kontrast"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:269
+msgid "Image Size:"
+msgstr "Bildgr??e:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:186
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:276
-msgid "Brightness"
-msgstr "Helligkeit"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:290
+msgid "Codec 4CC:"
+msgstr "Codec 4CC:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:193
-msgid "Gamma"
-msgstr "Gamma"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:304
+msgid "Aspect Ratio:"
+msgstr "Seitenverh?ltnis:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:207
-msgid "Luma Y"
-msgstr "Brillianz Y"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:318
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1021
+msgid "<b>Video</b>"
+msgstr "<b>Video</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:214
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:297
-msgid "Chroma U"
-msgstr "Farbintensit?t U"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:221
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:301
-msgid "Chroma V"
-msgstr "Farbintensit?t V"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:324
-msgid "<b>Color Correction Matrix</b>"
-msgstr "<b>Farbkorrektur Matrix</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:347
-msgid "Matrix"
-msgstr "Matrix"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:354
-msgid "Opt"
-msgstr "Opt"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:361
-msgid "Level"
-msgstr "Stufe"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:374
-msgid "Rec.709"
-msgstr "Rec.709"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:382
-msgid "Coring"
-msgstr "Kern"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:390
-msgid "TV->PC"
-msgstr "TV->PC"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:391
-msgid "PC->TV"
-msgstr "PC->TV"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:392
-msgid "PC->TV.Y"
-msgstr "PC->TV.Y"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:398
-msgid ""
-"<b>Matrix Warning :</b>\n"
-"all above values are normalized to 256!"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:337
+msgid "Global Motion Compensation:"
 msgstr ""
-"<b>Matrix Warnung :</b>\n"
-"alle dar?ber liegenden Werte werden auf 256 normalisiert!"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:404
-msgid "AutoGain"
-msgstr "Auto-Verst?rkung"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:351
+msgid "Packed Bitstream:"
+msgstr "Gepackter Bitstrom:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:408
-msgid "Display Stats"
-msgstr "Anzeigestatus"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:365
+msgid "Quarter Pixel:"
+msgstr "Quarter Pixel:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:412
-msgid "AutoWhite"
-msgstr "Auto-Wei?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:379
+msgid "<b>Extra Video Properties</b>"
+msgstr "<b>Weitere Video Eigenschaften</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:416
-msgid "<b>frame2</b>"
-msgstr "<b>Bild2</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:398
+msgid "Codec:"
+msgstr "Codec:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:293
-msgid "Luma"
-msgstr "Brillianz"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:405
+msgid "Channels:"
+msgstr "Kan?le:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:544
-msgid "Crop Settings"
-msgstr "Zuschnitt Einstellungen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:412
+msgid "Bitrate:"
+msgstr "Bitrate:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:578
-msgid "AutoCrop"
-msgstr "Auto-Zuschnitt"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:419
+msgid "Frequency:"
+msgstr "Frequenz:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:600
-msgid "Reset"
-msgstr "Zur?ck setzen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:468
+msgid "File Size:"
+msgstr "Dateigr??e:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:609
-msgid "Crop Left :"
-msgstr "Zuschnitt Links:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:482
+msgid "Variable Bitrate:"
+msgstr "Variable Bitrate:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:617
-msgid "Crop Top:"
-msgstr "Zuschnitt Oben:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:496
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1061
+msgid "<b>Audio</b>"
+msgstr "<b>Audio</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:625
-msgid "Crop Right:"
-msgstr "Zuschnitt Rechts:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:104
+msgid "Mpeg2 options"
+msgstr "Mpeg2 Dekodierer Optionen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:633
-msgid "Crop Bottom:"
-msgstr "Zuschnitt Unten:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:113
+msgid "Other arg"
+msgstr "Andere Arg."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:269
-#, c-format
-msgid "Done : %02d%%"
-msgstr "Fertig : %02d%%"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:121
+msgid "Quantisation (2-31)"
+msgstr "Quantisierung (2-31)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:377
-msgid "Encoding in Progress"
-msgstr "Kodieren l?uft"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:129
+msgid "Maximum bitrate (kbps)"
+msgstr "Maximale Bitrate (kbit/s)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:387
-msgid "<b><big>Encoding files</big></b>"
-msgstr "<b><big>Zu kodierende Dateien</big></b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:400
-msgid "<b>Phasis:</b>"
-msgstr "<b>Phase:</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:410
-msgid "<b>Frame:</b>"
-msgstr "<b>Bild:</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:428
-msgid "00000/00000"
-msgstr "00000/00000"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:436
-msgid "<b>Vid codec:</b>"
-msgstr "<b>Vid Codec:</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:447
-msgid "<b>Aud Codec:</b>"
-msgstr "<b>Aud Codec:</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:457
-msgid "<b>FPS:</b>"
-msgstr "<b>FPS:</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:467
-msgid "<b>Vid Bitrate:</b>"
-msgstr "<b>Vid Bitrate:</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:477
-msgid "<b>Quantizer:</b>"
-msgstr "<b>Quantisierer:</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:487
-msgid "<b>Video Size:</b>"
-msgstr "<b>Video Gr??e:</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:498
-msgid "<b>Audio Size:</b>"
-msgstr "<b>Audio Gr??e:</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:508
-msgid "<b>Total Size:</b>"
-msgstr "<b>Gesamtgr??e:</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:550
-msgid "31"
-msgstr "31"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:582
-msgid "<b>ETA:</b>"
-msgstr "<b>ETA:</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:592
-msgid "0 h 0 mn 0 s"
-msgstr "0 h 0 mn 0 s"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:602
-msgid "<b>Container:</b>"
-msgstr "<b>Container:</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:649
-msgid "Pause / Abort"
-msgstr "Pause / Abbruch"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:330
-msgid "MPlayer eq2"
-msgstr "MPlayer eq2"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:356
-msgid "Brigh_tness:"
-msgstr "Helligkei_t:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:364
-msgid "_Saturation:"
-msgstr "_S?ttigung:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:399
-msgid "_Contrast:"
-msgstr "_Kontrast:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:425
-msgid "_Initial:"
-msgstr "Anfangswert:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:451
-msgid "_Red:"
-msgstr "_Rot:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:468
-msgid "_Green:"
-msgstr "_Gr?n:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:476
-msgid "_Blue:"
-msgstr "_Blau:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:484
-msgid "_Weight:"
-msgstr "Ge_wichtung:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:510
-msgid "<b>Gamma</b>"
-msgstr "<b>Gamma</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_equalizer.cpp:433
-msgid "Equalizer"
-msgstr "Equalizer"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_exLame.cpp:80
-msgid "Lame command"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_exLame.cpp:89
-msgid "Enter parameters (i.e. -b 192 -m s ...)"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:246
-msgid "Hue/Saturation"
-msgstr "Farbton/S?ttigung"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:260
-msgid "<b>Hue:</b>"
-msgstr "<b>Farbton:</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:268
-msgid "<b>Saturation:</b>"
-msgstr "<b>S?ttigung:</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:51
-msgid "Continue indexing"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:51
-msgid "Abort Requested"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:51
-msgid "Do you want to abort indexing ?"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:153
-msgid "Indexing..."
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:174
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:259
-msgid "Time left :"
-msgstr "Verbleibende Zeit :"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:182
-msgid "Timecode :"
-msgstr " Zeitcode :"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:190
-msgid "Nb pictures seen :"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:214
-msgid "Indexing :"
-msgstr "Indizierung :"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:222
-msgid "/dev/null"
-msgstr ""
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:25
 msgid "Ready"
 msgstr "Fertig"
@@ -2305,7 +2978,7 @@
 msgstr "Gelungen"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:25
-#: avidemux/gtk_gui.cpp:2280
+#: avidemux/gtk_gui.cpp:2272
 msgid "Failed"
 msgstr "Fehlgeschlagen"
 
@@ -2375,362 +3048,62 @@
 msgid "Run Job"
 msgstr "Job starten"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:49
-msgid "Select video to write"
-msgstr "Zu schreibendes Video ausw?hlen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:238
+msgid "Luma"
+msgstr "Brillianz"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:63
-msgid "Invalid filename"
-msgstr "Ung?ltiger Dateiname"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:246
+msgid "Chroma v"
+msgstr "Farbintensit?t V"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:63
-msgid "Please select or enter a valid filename"
-msgstr "Bitte g?ltigen Dateinamen ausw?hlen oder eingeben"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:69
-msgid "Invalid jobname"
-msgstr "Ung?ltiger Job-Name"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:69
-msgid "Please select or enter a valid jobname"
-msgstr "Bitte g?ltigen Jobnamen ausw?hlen oder eingeben"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:111
-msgid "Save Job"
-msgstr "Job speichern"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:130
-msgid "Select the output file"
-msgstr "Ausgabe-Datei ausw?hlen"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:144
-msgid "_Browse..."
-msgstr "_Auflisten..."
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:153
-msgid "Job name displayed in the job list and used as the script filename"
-msgstr ""
-"Jobname, der in der Job-Liste angezeigt und als Script-Dateiname verwendet "
-"wird "
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:162
-msgid "Filename of the audio/video output"
-msgstr "Dateiname f?r die Audio/Video Ausgabe"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:165
-msgid "_Job name:"
-msgstr "_Job Name:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:172
-msgid "Output _file:"
-msgstr "Ausgabe _Datei:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_lavdecoder.cpp:79
-msgid "Libavcodec Decoder Option"
-msgstr "Libavcodec Dekodierer Optionen"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_lavdecoder.cpp:88
-msgid "Swap UV"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_lavdecoder.cpp:92
-msgid "Show motion Vectors"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mjpeg.cpp:73
-msgid "Mjpeg Codec settings"
-msgstr "Mjpeg Codec Einstellungen"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mjpeg.cpp:93
-msgid "Swap U & V"
-msgstr "U & V tauschen"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:356
-msgid "Mplayer Delogo"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:374
-msgid "X"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:381
-msgid "Y"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:388
-msgid "W"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:395
-msgid "H"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:402
-msgid "Band"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:104
-msgid "Mpeg2 options"
-msgstr "Mpeg2 Dekodierer Optionen"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:113
-msgid "Other arg"
-msgstr "Andere Arg."
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:121
-msgid "Quantisation (2-31)"
-msgstr "Quantisierung (2-31)"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:129
-msgid "Maximum bitrate (kbps)"
-msgstr "Maximale Bitrate (kbit/s)"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:85
-msgid "Mini OCR"
-msgstr "Mini OCR"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:118
-msgid "<b>Glyphs</b>"
-msgstr "<b>Schriftzeichen</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:132
-msgid "# of Glyphs :"
-msgstr "# von Schriftzeichen :"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:140
-msgid "# of lines"
-msgstr "# von Zeilen"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:164
-msgid "<b>Stats</b>"
-msgstr "<b>Status</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:186
-msgid "  "
-msgstr "  "
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:195
-msgid "VobSub"
-msgstr "VobSub"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:217
-msgid "Output Srt"
-msgstr "Ausgabe SRT"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:222
-msgid "<b>Files</b>"
-msgstr "<b>Dateien</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:228
-msgid "StartOcr"
-msgstr "StartOcr"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:249
-msgid "Current Glyph"
-msgstr "Aktuelles Schriftzeichen"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:263
-msgid " Text:"
-msgstr " Text:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:287
-msgid "Calibrate"
-msgstr "Kalibrieren"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:292
-msgid "Skip all"
-msgstr "Alles ?berspringen"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:297
-msgid "Skip Glyph"
-msgstr "Schriftzeichen ?berspringen"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:302
-msgid "Ignore glyph"
-msgstr "Schriftzeichen ignorieren"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:307
-msgid "Ok"
-msgstr "Ok"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:316
-msgid "<b>Bitmap</b>"
-msgstr "<b>Bitmap</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:123
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:144
-msgid "Partial"
-msgstr "Teilst?ck"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:137
-msgid "Start frame for partial :"
-msgstr "Startbild f?r Teilst?ck:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:144
-msgid "End frame for partial :"
-msgstr "Endbild f?r Teilst?ck:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:167
-msgid "Configure partialized filter"
-msgstr "Aufgeteilten Filter konfigurieren"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:93
-msgid "Paused"
-msgstr "Pausierend"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:109
-msgid ""
-"<b>Encoding is paused.</b>\n"
-"\n"
-"You can either resume or Abort it."
-msgstr ""
-"<b>Kodierung wurde unterbrochen.</b>\n"
-"\n"
-"Fahre fort oder brich den Vorgang ab."
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:136
-msgid "Abort"
-msgstr "Abbruch"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:158
-msgid "Resume"
-msgstr "Fortfahren"
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pipe.cpp:95
 msgid "Pipe to"
-msgstr ""
+msgstr "Weiterleiten zu"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pipe.cpp:104
 msgid "Application path/name (/usr/bin/sox...)"
-msgstr ""
+msgstr "Programm-Pfad/Name (z.B. /usr/bin/sox...)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pipe.cpp:113
 msgid "Full parameter line"
-msgstr ""
+msgstr "Komplette Parameter-Zeile"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp:280
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:150
-msgid "Preview"
-msgstr "Vorschau"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:98
+msgid "Select .idx file"
+msgstr "IDX-Datei ausw?hlen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp:316
-msgid "Stack Field"
-msgstr "Stapel-Feld"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:196
+msgid "VobSub Settings"
+msgstr "VobSub Einstellungen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:47
-#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:26
-msgid " No"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:213
+msgid "Select .idx"
+msgstr "IDX ausw?hlen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:47
-#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:26
-msgid " Yes"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:227
+msgid "Select Language :"
+msgstr "Sprache ausw?hlen:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:141
-#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:132
-#, c-format
-msgid "NONE"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:241
+msgid "Select Sub"
+msgstr "Sub ausw?hlen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:207
-msgid "Informations"
-msgstr "Informationen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:254
+msgid "Extra Shrink Factor :"
+msgstr "Extra Schrumpffaktor:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:229
-msgid "Frame Rate"
-msgstr "Bildrate"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:269
+msgid "Shift (ms) :"
+msgstr "Verschiebung (ms) :"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:236
-msgid "# of frames"
-msgstr "# von Bildern"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:283
+msgid "Extra Settings"
+msgstr "Extra Einstellungen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:243
-msgid "Codec 4CC"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_equalizer.cpp:433
+msgid "Equalizer"
+msgstr "Equalizer"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:250
-msgid "Video Duration  "
-msgstr "Video Verz?gerung"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:271
-msgid "Image size"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:306
-msgid "-/-"
-msgstr "-/-"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:339
-msgid "Packed Bistream"
-msgstr "Gepackter Bitstrom"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:346
-msgid "Quarter Pixel"
-msgstr "Quarter Pixel"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:353
-msgid "GMC "
-msgstr "GMC "
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:381
-msgid "<b>Extra Properties</b>"
-msgstr "<b>Weitere Eigenschaften</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:386
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:998
-msgid "<b>Video</b>"
-msgstr "<b>Video</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:399
-msgid "Codec "
-msgstr "Codec "
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:406
-msgid "Channels  "
-msgstr "Kan?le"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:413
-msgid "Bitrate "
-msgstr "Bitrate "
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:420
-msgid "Frequency"
-msgstr "Frequenz"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:427
-msgid "Audio duration  "
-msgstr "Audio Verz?gerung "
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:482
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1038
-msgid "<b>Audio</b>"
-msgstr "<b>Audio</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_quota.cpp:90
-msgid "Filesystem full / quota exceeded"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_quota.cpp:133
-msgid "Ignore"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_quota.cpp:155
-msgid "Retry"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_recent.cpp:96
-msgid "Recent files"
-msgstr "Letzte Dateien"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_requant.cpp:85
-msgid "Requantize Option"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_requant.cpp:95
-msgid "Shrink factor"
-msgstr ""
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:312
 msgid "Resize"
 msgstr "Gr??e ?ndern"
@@ -2751,11 +3124,20 @@
 msgid "Destination"
 msgstr "Ziel"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:376
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:398
-msgid "1:1"
-msgstr "1:1"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:380
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:402
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:52
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:42
+msgid "4:3"
+msgstr "4:3"
 
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:384
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:406
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:53
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:43
+msgid "16:9"
+msgstr "16:9"
+
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:412
 msgid " Error X:"
 msgstr " Fehler X:"
@@ -2766,7 +3148,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:440
 msgid "16 round up"
-msgstr ""
+msgstr "16 aufrunden"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:454
 msgid "Bilinear"
@@ -2780,6 +3162,56 @@
 msgid "Lanczos3"
 msgstr "Lanczos3"
 
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:263
+msgid "Crop Settings"
+msgstr "Zuschnitt Einstellungen"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:297
+msgid "AutoCrop"
+msgstr "Auto-Zuschnitt"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:319
+msgid "Reset"
+msgstr "Zur?ck setzen"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:328
+msgid "Crop Left :"
+msgstr "Zuschnitt Links:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:336
+msgid "Crop Top:"
+msgstr "Zuschnitt Oben:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:344
+msgid "Crop Right:"
+msgstr "Zuschnitt Rechts:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:352
+msgid "Crop Bottom:"
+msgstr "Zuschnitt Unten:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:104
+msgid "Video encoder"
+msgstr "Video Kodierer"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:118
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1041
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1081
+msgid "Configure"
+msgstr "Konfigurieren"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_lavdecoder.cpp:79
+msgid "Libavcodec Decoder Option"
+msgstr "Libavcodec Dekodierer Optionen"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_lavdecoder.cpp:88
+msgid "Swap UV"
+msgstr "UV tauschen"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_lavdecoder.cpp:92
+msgid "Show motion Vectors"
+msgstr "Bewegungsvektoren anzeigen"
+
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:348
 msgid "Subtitle to load"
 msgstr "Zu ladende Untertitel"
@@ -2840,152 +3272,78 @@
 msgid "Force background"
 msgstr "Erzwinge Hintergrund"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:159
-msgid "TDeint param"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:49
+msgid "Select video to write"
+msgstr "Zu schreibendes Video ausw?hlen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:173
-msgid "Field Order :"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:63
+msgid "Invalid filename"
+msgstr "Ung?ltiger Dateiname"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:185
-msgid "Bottom Field First"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:63
+msgid "Please select or enter a valid filename"
+msgstr "Bitte g?ltigen Dateinamen ausw?hlen oder eingeben"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:186
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:178
-msgid "Top Field First"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:69
+msgid "Invalid jobname"
+msgstr "Ung?ltiger Job-Name"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:188
-msgid "Interpolate :"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:69
+msgid "Please select or enter a valid jobname"
+msgstr "Bitte g?ltigen Jobnamen ausw?hlen oder eingeben"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:200
-msgid "Top field (keep bottom)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:111
+msgid "Save Job"
+msgstr "Job speichern"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:201
-msgid "Bottom field (keep top)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:130
+msgid "Select the output file"
+msgstr "Ausgabe-Datei ausw?hlen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:203
-msgid "Type"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:144
+msgid "_Browse..."
+msgstr "_Auflisten..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:215
-msgid "Cubic Interpolation"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:153
+msgid "Job name displayed in the job list and used as the script filename"
 msgstr ""
+"Jobname, der in der Job-Liste angezeigt und als Script-Dateiname verwendet "
+"wird "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:216
-msgid "Modified ELA"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:162
+msgid "Filename of the audio/video output"
+msgstr "Dateiname f?r die Audio/Video Ausgabe"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:217
-msgid "Kernerl interpolation"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:165
+msgid "_Job name:"
+msgstr "_Job Name:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:218
-msgid "Modified ELA-2"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:172
+msgid "Output _file:"
+msgstr "Ausgabe _Datei:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:220
-msgid "MntMode"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:93
+msgid "Paused"
+msgstr "Pausierend"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:232
-msgid "4 field check"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:109
+msgid ""
+"<b>Encoding is paused.</b>\n"
+"\n"
+"You can either resume or Abort it."
 msgstr ""
+"<b>Kodierung wurde unterbrochen.</b>\n"
+"\n"
+"Fahre fort oder brich den Vorgang ab."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:233
-msgid "5 field check"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:136
+msgid "Abort"
+msgstr "Abbruch"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:234
-msgid "4 field check (no average)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:158
+msgid "Resume"
+msgstr "Fortfahren"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:235
-msgid "5 field check (no average)"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:237
-msgid "Use Chroma to evalute"
-msgstr "Farbintensit?t zur ?berpr?fung benutzen"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:250
-msgid "Try weave "
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:263
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:173
-msgid "Denoise"
-msgstr "Rauschen verringern"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:276
-msgid "Link"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:288
-msgid "No link"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:289
-msgid "Full linking"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:290
-msgid "Y to UV link"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:291
-msgid "UV to Y link"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:293
-msgid "Sharp :"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:306
-msgid "AP type"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:319
-msgid "Evaluate ALL frames"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:331
-msgid "0 (read manual)"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:332
-msgid "1 (read manual)"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:333
-msgid "2 (read manual)"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:339
-msgid "motion Threshold, Luma"
-msgstr "Bewegungsschwelle, Brillianz"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:346
-msgid "motion Threshold, Chroma"
-msgstr "Bewegungsschwelle, Farbintensit?t"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:369
-msgid "Area Combing Threshold"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:383
-msgid "Combed Treshold"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:398
-msgid "Artefact Protection threshold "
-msgstr ""
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:56
 msgid "Select Vob file to scan"
 msgstr "Einzulesende VOB-Datei ausw?hlen"
@@ -3016,7 +3374,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:104
 msgid "Invalid vobsubname"
-msgstr ""
+msgstr "Ung?ltiger VobSub-Name"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:104
 msgid "Please select or enter a valid vobsub file"
@@ -3038,2118 +3396,1859 @@
 msgid "Output vobsub (.idx) :"
 msgstr "Ausgabe VobSub (.idx) :"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:104
-msgid "Video encoder"
-msgstr "Video Kodierer"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp:138
+msgid "AudioCodec"
+msgstr "Audio Codec"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:118
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1018
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1058
-msgid "Configure"
-msgstr "Konfigurieren"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp:163
+msgid "Configure codec"
+msgstr "Konfiguriere Codec"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:98
-msgid "Select .idx file"
-msgstr "IDX-Datei ausw?hlen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_color.cpp:71
+msgid "Select Color"
+msgstr "Farbe ausw?hlen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:196
-msgid "VobSub Settings"
-msgstr "VobSub Einstellungen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:426
+msgid "Input"
+msgstr "Eingang"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:213
-msgid "Select .idx"
-msgstr "IDX ausw?hlen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:427
+msgid "Output"
+msgstr "Ausgabe"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:227
-msgid "Select Language :"
-msgstr "Sprache ausw?hlen:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:428
+msgid "Side"
+msgstr "Seitlich"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:241
-msgid "Select Sub"
-msgstr "Sub ausw?hlen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:429
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:109
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:81
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:90
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:87
+msgid "Top"
+msgstr "Oben"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:254
-msgid "Extra Shrink Factor :"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:430
+msgid "Separate"
+msgstr "Trennen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:269
-msgid "Shift (ms) :"
-msgstr "Verschiebung (ms) :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:606
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp:430
+#, c-format
+msgid "Frame:%c(%02d)"
+msgstr "Bild:%c(%02d)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:283
-msgid "Extra Settings"
-msgstr "Extra Einstellungen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:283
+#: avidemux/main.cpp:167
+msgid "_File"
+msgstr "_Datei"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:246
-msgid "dialog1"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:290
+msgid "_Open..."
+msgstr "_?ffnen..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:264
-msgid "0:0:0"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:301
+msgid "_Append..."
+msgstr "_Anh?ngen..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:554
-msgid "X264 configuration"
-msgstr "X264 Konfiguration"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:312
+msgid "_Save"
+msgstr "_Speichern"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:569
-msgid "Encoding Mode:"
-msgstr "Kodier-Modus:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:323
+msgid "Save _Video..."
+msgstr " _Video speichern"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:581
-msgid "Entry input for target file size or bitrate"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:335
+msgid "Save _BMP Image..."
+msgstr "_BMP Bild speichern"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:583
-msgid "Quantizer (0-51):"
-msgstr "Quantisierer (0-51):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:339
+msgid "Save _JPEG Image..."
+msgstr "_JPEG Bild speichern"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:596
-msgid ""
-"Constant Quantizer - Each frame will the same compression. Low numbers equal "
-"higher quality while high numbers equal lower quality"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:343
+msgid "Save _Selection as JPEG Images..."
+msgstr "A_uswahl als JPEG Bilder speichern..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:606
-msgid "Target Size:"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:356
+msgid "Save _Project"
+msgstr "_Projekt speichern"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:618
-msgid "Single Pass - Quality Quantizer (Average)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:364
+msgid "Save P_roject As..."
+msgstr "P_rojekt speichern als..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:619
-msgid "Single Pass - Quality Quantizer (Constant)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:372
+msgid "_Load/Run Project..."
+msgstr "Projekt _laden/starten..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:620
-msgid "Single Pass - Bitrate (Average)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:380
+msgid "A_dd to Joblist..."
+msgstr "Zur Jobliste hinzuf?gen..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:621
-msgid "Two Pass - File Size"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:384
+msgid "Show _Joblist"
+msgstr "_Jobliste anzeigen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:622
-msgid "Two Pass - Average bitrate"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:396
+msgid "Co_nnect to avsproxy"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:650
-msgid "Partition decision"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:405
+msgid "Proper_ties"
+msgstr "Eigenschaf_ten"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:657
-msgid "Method"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:416
+msgid "AVI _Muxer Options"
+msgstr "AVI _Multiplexer Optionen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:669
-msgid "1  - Extremely Low (Fastest)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:425
+msgid "_Quit"
+msgstr "_Beenden"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:670
-msgid "2  - Very Low"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:436
+msgid "_Edit"
+msgstr "_Bearbeiten"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:671
-msgid "3  - Low"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:443
+msgid "_Reset Edits"
+msgstr "?nderungen _zur?cknehmen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:672
-msgid "4  - Medium"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:456
+msgid "Cu_t"
+msgstr "_Ausschneiden"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:673
-msgid "5  - High (Default)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:467
+msgid "_Copy"
+msgstr "_Kopieren"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:674
-msgid "6  - Very High"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:478
+msgid "_Paste"
+msgstr "_Einf?gen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:675
-msgid "6B - Very High (RDO on Bframes)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:489
+msgid "_Delete"
+msgstr "_L?schen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:676
-msgid "7 - Ultra High"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:505
+msgid "Set Marker _A"
+msgstr "Setze Marke _A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:677
-msgid "7B - Ultra High (RDO on Bframes)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:512
+msgid "Set Marker _B"
+msgstr "Setze Marke _B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:684
-msgid "Diamond search"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:524
+msgid "Pre_ferences"
+msgstr "Ein_stellungen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:685
-msgid "Hexagonal search"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:532
+msgid "_View"
+msgstr "An_sicht"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:686
-msgid "Uneven multi hexagon"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:539
+msgid "_Main Toolbar"
+msgstr "_Haupt-Werkzeugleiste"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:687
-msgid "Exhaustive search"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:544
+msgid "_A/V Sidebar"
+msgstr "_A/V Seitenleiste"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:699
-msgid ""
-"Set how many previous frames can be referenced by a P/B-frame. Numbers above "
-"5 do not seem to improve quality greatly. Numbers are 3 to 5 are recommended"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:554
+msgid "_Zoom 1:4"
+msgstr "_Zoom 1:4"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:702
-msgid "Max. Ref. frames"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:561
+msgid "Z_oom 1:2"
+msgstr "Z_oom 1:2"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:709
-msgid "Range"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:568
+msgid "Zoom _1:1"
+msgstr "Zoom _1:1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:722
-msgid ""
-"Define how many pixels are analysised. The higher the range the more "
-"accurate the analysis but the slower the encoding time"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:575
+msgid "Zoom _2:1"
+msgstr "Zoom _2:1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:725
-msgid "Chroma ME"
-msgstr "Farbintensit?t ME"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:582
+msgid "Zoom _4:1"
+msgstr "Zoom _4:1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:730
-msgid ""
-"Uses chroma (color) components for motion for compression and helps the "
-"quality"
-msgstr ""
-"Farbintensit?t (Farben) Komponenten f?r Bewegung benutzen zur Kompression "
-"und als Hilfe f?r die Qualit?t"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:589
+msgid "Vi_deo"
+msgstr "Vi_deo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:733
-msgid "Mixed Refs"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:596
+msgid "_Decoder Options"
+msgstr "_Dekodierer Optionen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:738
-msgid "Calculate referencing individually based on each partition"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:603
+msgid "_Postprocessing"
+msgstr "Nachbearbeitung"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:744
-msgid "Fast P-Skip"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:606
+msgid "Select postprocessing level"
+msgstr "Nachbearbeitungsstufe ausw?hlen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:747
-msgid "Uncheck to enable fast p-skip"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:616
+msgid "P_review"
+msgstr "Vo_rschau"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:750
-msgid "DCT decimate"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:623
+msgid "Display _Output"
+msgstr "A_usgabe anzeigen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:754
-#, fuzzy
-msgid "Interlace"
-msgstr "_Interlaced"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:635
+msgid "_Frame Rate"
+msgstr "Bildrate"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:757
-#, fuzzy
-msgid "Encode interlaced"
-msgstr "Aktiviere Interlace-Kodierung"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:639
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:688
+msgid "_Encoder"
+msgstr "Kodier_er"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:759
-msgid "<b>Motion Estimation</b>"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:646
+msgid "Fil_ters"
+msgstr "Fil_ter"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:786
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:798
-msgid ""
-"Enforce the size of a decoded pixel decoded to a certain value. Leave this "
-"at 1:1 for non-anamorphic video"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:653
+msgid "_Audio"
+msgstr "_Audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:787
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:799
-msgid "1"
-msgstr "1"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:660
+msgid "_Main Track"
+msgstr "_Haupt-Audiospur"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:790
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1051
-msgid ":"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:664
+msgid "_Second Track"
+msgstr "_Zweite Audiospur"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:807
-msgid "Set a custom aspect ratio. Default 1:1 is recommended for most video."
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:668
+msgid "_Build VBR Time Map"
+msgstr "Erstelle VBR Zeitkarte"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:812
-#, fuzzy
-msgid "Predefined Aspect Ratios"
-msgstr "Seitenverh?ltnis"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:677
+msgid "S_ave..."
+msgstr "Speichern..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:817
-#, fuzzy
-msgid "Set a common predefined aspect ratio"
-msgstr "Kann Seitenverh?ltnis nicht bestimmen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:695
+msgid "_Filters"
+msgstr "_Filter"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:827
-msgid "<b>Sample Aspect Ratio (A/R)</b>"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:699
+msgid "_Tools"
+msgstr "_Werkzeuge"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:849
-msgid "CABAC"
-msgstr "CABAC"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:706
+msgid "_Calculator"
+msgstr "_Taschenrechner"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:852
-msgid ""
-"Lossless compression method which usually improves the bitrate usage by 15% "
-"(especially on high bitrate). Helps the quality a lot but is slower. "
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:722
+msgid "_Rebuild Frames (I & B)"
+msgstr "Bilder neu aufbauen (I&B)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:864
-msgid ""
-"Use rate distortion quantization to find optimal encoding for each block. "
-"Level 0 equals disabled, level 1 equals normal and level 2 equals high"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:726
+msgid "C_heck Frames (slow)"
+msgstr "Bilder ?berpr?fen (langsam)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:871
-msgid "Noise Reduction"
-msgstr "Rauschreduktion"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:730
+msgid "_Bitrate Histogram"
+msgstr "_Bitrate Histogramm"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:880
-msgid "Set the amount of noise reduction"
-msgstr "Betrag der Rauschreduktion setzen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:734
+msgid "_Scan for Black Frames..."
+msgstr "_Schwarze Bilder suchen..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:887
-msgid "Deblocking Filter :"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:743
+msgid "_VOB -> VobSub"
+msgstr "_VOB -> VobSub"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:890
-msgid "Enable in-loop deblocking to filter the video"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:747
+msgid "_OCR (VobSub -> srt)"
+msgstr "_OCR (VobSub -> srt)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:903
-msgid "Set the amount of blurring to use for block edges when they are found"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:756
+msgid "_Frame Hex Dump"
+msgstr "Bild Hexadez. Abbild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:912
-msgid "Define the level for when deblocking is applied"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:915
-msgid "<i>Threshold</i>"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:923
-msgid "<i>Strength</i>"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:931
-msgid "<b>Misc. Options</b>"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:936
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1066
-msgid "Motion & Misc"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:957
-msgid "8x8 Transform"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:960
-msgid "General block breakdown transformation"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:963
-msgid "8x8, 8x16 and 16x8 P-frame search"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:966
-msgid "Improve the P-frame quality"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:969
-msgid "8x8, 8x16 and 16x8 B-frame search"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:972
-msgid "Improve the B-frame quality"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:975
-msgid "4x4, 4x8 and 8x4 P-frame search"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:978
-msgid "Further improve the P-frame quality"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:980
-msgid "8x8 Intra search"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:983
-msgid "Enable DCT Intra block search to improve quality"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:986
-msgid "4x4 Intra search"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:989
-msgid "Further enable DCT Intra block search to improve quality"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:992
-msgid "<b>Partition Macroblocks</b>"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1014
-msgid "Bias"
-msgstr "Bias"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1027
-msgid ""
-"Increase / decrease probability for how often B-frames are used. Will not "
-"violate the maximum consecutive frame limit"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1036
-msgid ""
-"Set the maximum number of consecutive B-frames. This defines how many "
-"duplicate frames can be droped. Numbers 2 to 5 are recommended. This greatly "
-"improves the use of bitrate and quality"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1039
-msgid "Max Consecutive"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1050
-msgid "Bidirectional ME"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1055
-msgid ""
-"Jointly optimize both Motion Vector's in B-frames. This will improve quality "
-"but take more time for encoding"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1057
-msgid "Weighted biprediction"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1062
-msgid "Enables weighting of B-frames to help fades"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1065
-msgid "Adaptative DCT"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1070
-msgid ""
-"Use fewer B-frame if needed. This is always recommended. If not enabled, the "
-"codec will always use the maximum number of consecutive B-frames"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1073
-msgid "Use as reference"
-msgstr "Als Referenz benutzen"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1078
-msgid ""
-"Allow B-frames to make references non-linearly to another B-frame (instead "
-"of creating a duplicate copy)"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1084
-msgid "B-Frame Direct Mode:  "
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1092
-#, fuzzy
-msgid "Auto"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:760
+msgid "A_uto"
 msgstr "A_uto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1093
-msgid "Temporal"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:767
+msgid "_VCD"
+msgstr "_VCD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1094
-msgid "Spatial"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:771
+msgid "_SVCD"
+msgstr "_SVCD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1097
-msgid "<b>B-Frames</b>"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:775
+msgid "_DVD"
+msgstr "_DVD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1102
-msgid "Partitions & Frames"
-msgstr "Aufteilungen & Bilder"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:779
+msgid "_PSP"
+msgstr "_PSP"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1130
-msgid "Set how much \"bitrate bonus\" a keyframe can get"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:783
+msgid "PSP (_H.264)"
+msgstr "PSP (_H.264)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1133
-msgid "Keyframe boost (%)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:787
+msgid "_Go"
+msgstr "_Gehe"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1140
-msgid "B-frame reduction (%)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:794
+msgid "_Play/Stop"
+msgstr "Abspielen/Anhalten"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1147
-msgid "Bitrate variability (%)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:805
+msgid "P_revious Frame"
+msgstr "Vo_rheriges Bild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1160
-msgid ""
-"Set how much bitrate is deducted from a B-frame as compared to the previous "
-"P-frame"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:816
+msgid "_Next Frame"
+msgstr "_N?chstes Bild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1169
-msgid ""
-"Define how much the bitrate can fluctuate over the entire video. 0% results "
-"in a constant bitrate stream, while 100% results in a pure quality based "
-"bitrate stream"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:827
+msgid "Pr_evious Intra Frame"
+msgstr "Vorheriges Schl?sselbild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1172
-msgid "<b>Bitrate</b>"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:838
+msgid "Next _Intra Frame"
+msgstr "N?chstes Schl?sselbild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1190
-msgid "Min Qp"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:849
+msgid "Previou_s Black Frame"
+msgstr "Vorherige_s schwarzes Bild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1197
-msgid "Max Qp"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:853
+msgid "Ne_xt Black Frame"
+msgstr "N?_chstes schwarzes Bild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1204
-msgid "Max QP Step"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:857
+msgid "_First Frame"
+msgstr "_Erstes Bild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1218
-msgid "Enforce a minimum quantizer level"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:868
+msgid "_Last Frame"
+msgstr "_Letztes Bild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1227
-msgid "Enforce a maximum quantizer level"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:884
+msgid "Go to Marker _A"
+msgstr "Gehe zu Marke _A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1236
-msgid ""
-"Define how much the quantizer rate can change between two consecutive frames"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:891
+msgid "Go to Marker _B"
+msgstr "Gehe zu Marke _B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1239
-msgid "<b>Quantization Limits</b>"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:903
+msgid "_Jump to Frame..."
+msgstr "Springe zu Bild..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1257
-msgid "Scene Cut Threshold"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:914
+msgid "Jump to _Time..."
+msgstr "Springe zur _Zeit..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1271
-msgid ""
-"Increase / decrease sensitivity for detecting Scene Changes to compensate "
-"for. Improves I-frame usage and helps quality"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:925
+msgid "_Custom"
+msgstr "_Individuell"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1274
-msgid "Min IDR frame interval"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:929
+msgid "_Help"
+msgstr "_Hilfe"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1287
-msgid ""
-"Set minimum frame interval between IDR frames. Defines the minimum amount a "
-"frame can be reused and referenced by other frames before a new clean one is "
-"established"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:936
+msgid "_Built-in Support"
+msgstr "Eingebaute Unterst?tzung"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1296
-msgid ""
-"Set maximum frame interval between IDR frames. Defines the maximum amount a "
-"frame can be reused and referenced by other frames before a new clean one is "
-"established"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:940
+msgid "_About"
+msgstr "_?ber"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1299
-msgid "Max IDR frame interval"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:958
+msgid "Open a file"
+msgstr "?ffne eine Datei"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1306
-msgid "<b>More Rate Settings</b>"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:968
+msgid "Save the file"
+msgstr "Datei speichern"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1324
-#, fuzzy
-msgid "VBV buffer size"
-msgstr "Puffergr??e"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:974
+msgid "Audio/video file information"
+msgstr "Audio/Video Datei-Information"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1331
-msgid "Initial VBV buffer (%)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:982
+msgid "Calculator"
+msgstr "Taschenrechner"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1338
-#, fuzzy
-msgid "Maximum local bitrate"
-msgstr "Maximale Bitrate (kbit/s)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:985
+msgid "Bitrate/size calculator"
+msgstr "Bitrate/Gr??e berechnen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1369
-#, fuzzy
-msgid "<b>Video Buffer Verifier</b>"
-msgstr "<b>Video Gr??e:</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1039
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1079
+msgid "Copy"
+msgstr "Kopie"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1401
-msgid ""
-"Allowed variance of average bitrate. Lower values mean less variance. Higher "
-"values mean more variance."
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1044
+msgid "Configure video encoder"
+msgstr "Video Kodierer konfigurieren"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1404
-#, fuzzy
-msgid "Bitrate Variance"
-msgstr "Bitrate "
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1049
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1105
+msgid "Filters"
+msgstr "Filter"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1417
-msgid ""
-"Allowed variance of average quantizer or quality. Lower values mean less "
-"variance. Higher values mean more variance. Note that 0 means constant "
-"quality while 1 means constant fluctuation. Recommended 0.6."
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1052
+msgid "Video filters"
+msgstr "Video Filter"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1426
-msgid "Reduced fluctuations in Quantizer (before curve compression)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1084
+msgid "Configure audio encoder"
+msgstr "Audio Kodierer konfigurieren"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1435
-msgid "Reduce fluctuations in QP (after curve compression)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1092
+msgid "Audio filters"
+msgstr "Audio Filter"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1438
-#, fuzzy
-msgid "Quantizer Compression"
-msgstr "Quantisierer Kompression:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1113
+msgid "Shift:"
+msgstr "Verschiebung"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1445
-msgid "Temp. Blur of est Frame Complexity"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1116
+msgid "Enable time shift"
+msgstr "Zeitverschiebung einschalten"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1452
-msgid "Temp. Blur of Quant after CC"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1122
+msgid "Audio/video time shift (ms)"
+msgstr "A/V Zeitverschiebung (ms)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1483
-msgid "Quantization factors used between I- and P- frames"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1129
+msgid "<b>Format</b>"
+msgstr "<b>Format</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1492
-msgid "Quantization used between P- and B- frames"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1162
+msgid "<b>Selection</b>"
+msgstr "<b>Auswahl</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1501
-msgid "Quantization difference between chroma (color) and luma (brightness)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1179
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1187
+msgid " 0000000"
+msgstr " 0000000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1504
-msgid "Factor between I and P frame Quants"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1195
+msgid "A:"
+msgstr "A:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1511
-msgid "Factor between P and B frame Quants"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1202
+msgid "Go to marker A"
+msgstr "Gehe zu Marke A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1518
-#, fuzzy
-msgid "Chroma QP Offset"
-msgstr "Farbintensit?t U:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1204
+msgid "B:"
+msgstr "B:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1525
-#, fuzzy
-msgid "<b>Quantizers</b>"
-msgstr "<b>Quantisierer:</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1211
+msgid "Go to marker B"
+msgstr "Gehe zu Marke B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1543
-msgid "Custom matrix"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1223
+msgid "Play"
+msgstr "Abspielen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1552
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1128
-msgid "Open CQM file"
-msgstr "?ffne CQM Datei"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1237
+msgid "Stop"
+msgstr "Stopp"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1558
-#, fuzzy
-msgid "JVT matrix"
-msgstr "Matrix"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1249
+msgid "Previous frame"
+msgstr "Vorheriges Bild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1566
-msgid "Flat matrix"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1264
+msgid "Next frame"
+msgstr "N?chstes Bild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1575
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1136
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1568
-msgid "Edit Custom Matrix"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1279
+msgid "Previous keyframe"
+msgstr "Vorheriges Bild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1580
-#, fuzzy
-msgid "Edit a loaded custom quantization matrix file"
-msgstr "Fehler beim Laden der individuell erstellten Matrix-Datei"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1294
+msgid "Next keyframe"
+msgstr "N?chstes Bild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1588
-#, fuzzy
-msgid "<b>Quantization Matrices</b>"
-msgstr "<b>Quantisierer:</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1308
+msgid "Selection: start"
+msgstr "Auswahl: Start"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1593
-#, fuzzy
-msgid "More"
-msgstr "Modus"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1319
+msgid "Selection: end"
+msgstr "Auswahl: Ende"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1601
-#, fuzzy
-msgid "Defaults"
-msgstr "Voreinstellung"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1330
+msgid "Previous black frame"
+msgstr "Vorheriges schwarzes Bild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:186
-msgid "XVCD encoding"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1341
+msgid "Next black frame"
+msgstr "N?chstes schwarzes Bild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:195
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:250
-msgid "Constant Quantizer"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1352
+msgid "First frame"
+msgstr "Erstes Bild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:209
-msgid "Constant Bitrate"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1363
+msgid "Last frame"
+msgstr "Letztes Bild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:223
-msgid "Dual pass"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1394
+msgid "Frame: "
+msgstr "Bild:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:237
-msgid "Min bitrate (kbps) :"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1401
+msgid "Current frame"
+msgstr "Aktuelles Bild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:245
-msgid "Max bitrate (kbps) :"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1406
+msgid "/0000000"
+msgstr "/0000000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:281
-msgid "Default mpeg"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1413
+msgid "Time: "
+msgstr " Zeit:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:285
-msgid "Tmpeng "
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1420
+msgid "Current time"
+msgstr "Aktuelle Zeit"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:289
-msgid "Anim?"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1421
+msgid "00:00:00.000"
+msgstr "00:00:00.000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:293
-msgid "K-VCD"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1424
+msgid "/00:00:00,000"
+msgstr "/00:00:00,000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:299
-msgid "Gop Size  (12):"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1431
+msgid "Frame: ?"
+msgstr "Bild: ? "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:315
-msgid "Use Xvid ratecontrol"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_hex.cpp:116
+msgid "_Previous"
+msgstr "_Vorheriges"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:237
-msgid "Xvid Encoder"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_hex.cpp:143
+msgid "_Next"
+msgstr "_N?chstes"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:258
-msgid "Constant Bitrate (kbps)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:123
+msgid "Video Filter Manager"
+msgstr "Video Filter Manager"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:266
-msgid "Dual pass (MBytes)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:145
+msgid "Open filter list [Ctrl-O]"
+msgstr "Filter-Liste ?ffnen [Strg-O]"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:292
-msgid "Basic"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:154
+msgid "Save filter list [Ctrl-S]"
+msgstr "Filterliste speichern [Strg-S]"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:301
-msgid "Motion Search"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:162
+msgid "Save Script"
+msgstr "Skript speichern"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:317
-msgid "Max I frame interval "
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:165
+msgid "Save as script [Ctrl-J]"
+msgstr "Speichern als Skript [Strg-J]"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:333
-msgid "Min I frame interval"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:173
+msgid "DVD Res"
+msgstr "DVD Aufl."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:357
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:884
-msgid "0 - None"
-msgstr "0 - Keine"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:176
+msgid "DVD resolution [Ctrl-1]"
+msgstr "DVD Aufl?sung [Strg-1]"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:361
-msgid "1- Very low"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:184
+msgid "Half D1 Res"
+msgstr "Half D1 Aufl."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:365
-msgid "2- Low"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:187
+msgid "Half D1 resolution [Ctrl-2]"
+msgstr "Half D1 Aufl?sung [Strg-2]"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:369
-msgid "3- Medium"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:195
+msgid "SVCD Res"
+msgstr "SVCD Aufl."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:373
-msgid "4- High"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:198
+msgid "SVCD resolution [Ctrl-3]"
+msgstr "SVCD Aufl?sung [Strg-3]"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:377
-msgid "5- Very High"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:206
+msgid "VCD Res"
+msgstr "VCD Aufl."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:381
-msgid "6- Ultra High"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:209
+msgid "VCD resolution [Ctrl-4]"
+msgstr "VCD Aufl?sung [Strg-4]"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:395
-msgid "H263 Quantizer"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:260
+msgid "Transform"
+msgstr "Transformieren"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:400
-msgid "MPEG Quantizer"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:285
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:123
+msgid "Interlacing"
+msgstr "Interlacing"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:407
-msgid "Advanced"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:309
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:148
+msgid "Colors"
+msgstr "Farben"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:416
-msgid "Min I Frame Qzer"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:333
+msgid "Noise"
+msgstr "Rauschen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:424
-msgid "Max I Frame Qzer"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:357
+msgid "Sharpness"
+msgstr "Sch?rfe"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:432
-msgid "Min P Frame Qzer"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:381
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:223
+msgid "Subtitles"
+msgstr "Untertitel"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:440
-msgid "Max P Frame Qzer"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:405
+msgid "Misc"
+msgstr "Diverses"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:480
-msgid "Quantizer"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:416
+msgid "External"
+msgstr "Extern"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:485
-msgid "Not Yet!"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:427
+msgid "Add selected filter to the Active Filters list"
+msgstr "Ausgew?hlten Filter zu der Aktiv-Filter-Liste hinzuf?gen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:490
-msgid "B Frames"
-msgstr "B Bilder"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:433
+msgid "<b>Available Filters</b>"
+msgstr "<b>Verf?gbare Filter</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:109
-msgid "Select Xvid matrix file to load"
-msgstr "Zu ladende Xvid Matrix-Datei ausw?hlen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:478
+msgid "Remove filter"
+msgstr "Filter entfernen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:121
-msgid "Error Loading"
-msgstr "Ladefehler"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:487
+msgid "Move filter down"
+msgstr "Filter runter"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:121
-msgid "Error loadind the custom matrix file."
-msgstr "Fehler beim Laden der individuell erstellten Matrix-Datei"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:496
+msgid "Move filter up"
+msgstr "Filter hoch"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:139
-msgid "Matrix Loaded"
-msgstr "Matrix wurde geladen"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:502
+msgid "P_artial"
+msgstr "Teil_st?ck"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:139
-msgid "The custom matrix file has been successfully loaded."
-msgstr "Die individuell erstellte Matrix-Datei wurde erfolgreich geladen."
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:479
-msgid "Select Custom Matrix File to write"
-msgstr "Zu schreibende, individuell erstellte Matrix-Datei ausw?hlen"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:484
-msgid "Error Writing"
-msgstr "Schreibfehler"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:484
-msgid "Error writing the custom matrix file."
-msgstr "Fehler beim Schreiben "
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:700
-msgid "XviD encoding options"
-msgstr "XviD Enkodierer Optionen"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:734
-msgid "Encoding type:"
-msgstr "Kodierungstyp:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:739
-msgid "Bitrate (kb/s):"
-msgstr "Bitrate (kb/s):"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:744
-msgid "Quantizer:"
-msgstr "Quantisierer:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:756
-msgid "Select 1-pass or 2-pass encoding"
-msgstr "1- oder 2-Durchlauf Kodierung ausw?hlen"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:760
-msgid "Single pass - bitrate"
-msgstr "Einmaliger Lauf - Bitrate"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:764
-msgid "Single pass - quantizer"
-msgstr "Einmaliger Lauf - Quantisierer"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:768
-msgid "Two pass, final size"
-msgstr "Zwei Durchl?ufe, endg?ltige Gr??e"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:772
-msgid "Two pass, average bitrate"
-msgstr "Zwei Durchl?ufe, Durchschnitts-Bitrate"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:776
-msgid "Same Qz as input"
-msgstr "Gleiche Qz wie Eingang"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:785
-msgid "Target video bitrate"
-msgstr "Ziel-Video-Bitrate"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:792
-msgid "Constant quantizer - each frame will get the same compression"
-msgstr "Konstanter Quantisierer - jedes Bild erh?lt die gleiche Kompression"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:794
-msgid "Variable bitrate mode"
-msgstr "Variabler Bitraten-Modus (VBR)"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:806
-msgid "_Interlaced"
-msgstr "_Interlaced"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:809
-msgid ""
-"Enables interlaced frame support - use only if your source contains "
-"interlacing artifacts (i.e. fields instead of progressive frames)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:505
+msgid "Apply the current filter only to a part of the file"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:811
-msgid "_Greyscale"
-msgstr "_Grauskala"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:510
+msgid "Configure filter"
+msgstr "Filter konfigurieren"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:814
-msgid "Encode in black & white"
-msgstr "Schwarz & Wei? kodieren"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:520
+msgid "C_onfigure"
+msgstr "K_onfigurieren"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:820
-msgid "Ca_rtoon mode"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:524
+msgid "<b >Active Filters</b>"
+msgstr "<b >Aktive Filter</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:823
-msgid "Enables special motion estimation features for cartoons/anime"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:551
+msgid "_Preview"
+msgstr "_Vorschau"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:825
-msgid "C_hroma optimizer"
-msgstr "Farbintensit?ts-Optimierer"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:52
+msgid "Video Filters"
+msgstr "Video Filter"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:828
-msgid "Enables a chroma optimizer prefilter"
-msgstr "Optimier-Vorfilter f?r Farbintensit?t aktivieren"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:112
+msgid "VCD res"
+msgstr "VCD Aufl."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:834
-msgid "Turbo Mode"
-msgstr "Turbo Modus"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:118
+msgid "SVCD res"
+msgstr "SVCD Aufl."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:837
-msgid "Enables fast 1st pass encoding"
-msgstr "Schnelles Kodieren im 1. Durchlauf aktivieren"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:124
+msgid "DVD res"
+msgstr "DVD Aufl."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:839
-msgid "Packed bitstream"
-msgstr "Gepackter Bitstrom"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:130
+msgid "Half D1 res"
+msgstr "Half D1 Aufl."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:842
-msgid "Enables Divx like packed vop, DO NOT SET, it is ugly"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:156
+msgid "Save as script"
+msgstr "Als Skript speichern"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:844
-msgid "Main"
-msgstr "Hauptteil"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:242
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:327
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp:396
+msgid "The filter is already partial"
+msgstr "Der Filter ist bereits aufgeteilt"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:863
-msgid "Motion search precision:"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:348
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:350
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:455
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:457
+msgid "Load set of filters"
+msgstr "Gesetzte Filter laden"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:867
-msgid "VHQ mode:"
-msgstr "VHQ Modus:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:363
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:464
+msgid "Nothing to save"
+msgstr "Nichts zum Speichern"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:880
-msgid ""
-"Higher settings give higher quality results, at the cost of slower encoding"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:367
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:369
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:468
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:470
+msgid "Save set of filters"
+msgstr "Gesetzte Filter speichern"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:888
-msgid "1 - Very low"
-msgstr "1 - Sehr niedrig"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:64
+msgid "Add Video Filter"
+msgstr "Video Filter hinzuf?gen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:892
-msgid "2 - Low"
-msgstr "2 - Niedrig"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:98
+msgid "Transformation"
+msgstr "Transformation"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:896
-msgid "3 - Medium"
-msgstr "3 - Mittel"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:198
+msgid "Sharpen/Blur"
+msgstr "Weichzeichnen / Sch?rfen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:900
-msgid "4 - High"
-msgstr "4 - Hoch"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:248
+msgid "Miscellaneous"
+msgstr "Verschiedenes"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:904
-msgid "5 - Very high"
-msgstr "5 - Sehr hoch"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:908
-msgid "6 - Ultra high"
-msgstr "6 - Ultra hoch"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:917
-msgid "VHQ enables an additional search process to increase quality"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:585
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:657
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:719
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:779
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:842
+msgid "label1"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:921
-msgid "0 - Off"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:706
+msgid "Alert"
+msgstr "Meldung"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:925
-msgid "1 - Mode decision"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_gladeSupport.cpp:251
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_gladeSupport.cpp:275
+#, c-format
+msgid "Couldn't find pixmap file: %s"
+msgstr "Konnte Pixmap Datei %s nicht finden."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:929
-msgid "2 - Limited search"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:121
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:391
+msgid "Cannot open directory as a file"
+msgstr "Kann das Verzeichnis nicht als Datei ?ffnen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:933
-msgid "3 - Medium search"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:252
+#: avidemux/gtk_gui.cpp:887
+#, c-format
+msgid "Cannot open \"%s\"."
+msgstr "kann \"%s\" nicht ?ffnen."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:937
-msgid "4 - Wide search"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:262
+msgid "Overwrite file ?"
+msgstr "Datei ?berschreiben ?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:947
-msgid "C_hroma motion"
-msgstr "Farbintensit?ts-Bewegung"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:950
-msgid "Use chroma information to estimate motion"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:287
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:301
+msgid "It could be possible that you try to overwrite an input file!"
 msgstr ""
-"Informationen der Farbintensit?t zur Absch?tzung der Bewegung verwenden"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:952
-msgid "_4MV"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:312
+msgid "Cannot write the file"
+msgstr "Kann Datei nicht schreiben"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:955
-msgid "Use 4 motion vectors per macroblock, might give better compression"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:312
+#, c-format
+msgid "No write access to \"%s\"."
+msgstr "Keine Schreibrechte f?r  \"%s\"."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:957
-msgid "HQ _AC"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:445
+msgid "Images"
+msgstr "Bilder"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:960
-msgid ""
-"Enable a better prediction of AC component. Turns on Lumi masking - applies "
-"more compression to dark/light areas that the eye cannot notice easily"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:457
+msgid "All"
+msgstr "Alles"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:966
-msgid "I-frame interval - Min:"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:209
+msgid "Incorrect output file"
+msgstr "Fehlerhafte Ausgabe-Datei"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:974
-msgid "Minimum space between I-frames, 1 will disable forced I-frame spacing"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:215
+msgid "Output file error"
+msgstr "Ausgabe-Datei Fehler"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:976
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1194
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1199
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1204
-msgid "Max:"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:215
+#, c-format
+msgid "Could not open \"%s\" for writing."
+msgstr "Konnte \"%s\" nicht zum Schreiben ?ffnen."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:984
-msgid "Maximum number of frames allowed between I-frames"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:224
+msgid "Problem loading sub"
+msgstr "Problem beim Laden von Sub"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:999
-msgid "Number of B-frames:"
-msgstr "Anzahl von B-Bildern:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:589
+msgid "Sure ?"
+msgstr "Sicher ?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1007
-msgid ""
-"Maximum number of sequential B-frames (when set to 0, the original I/P "
-"encoder is used)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:752
+msgid "Select SRT to save"
+msgstr "Zu speichernde SRT ausw?hlen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1013
-msgid "_Qpel"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:764
+msgid "Select Glyoh to save"
+msgstr "Zu speichernde Schriftzeichen ausw?hlen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1016
-msgid "Use Quarter pixel resolution for a more precise motion estimation"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:778
+msgid "No glyphs to save"
+msgstr "Keine Schriftzeichen zum Speichern vorhanden"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1018
-msgid "_GMC"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:55
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:45
+msgid "Default"
+msgstr "Voreinstellung"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1021
-msgid ""
-"Global Motion Compensation can save bits on camera pans, zooming and rotation"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:56
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:46
+msgid "TMPGEnc"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1023
-msgid "_BVHQ"
-msgstr ""
+# a style of animation originating in Japan that is characterized by stark colorful graphics depicting vibrant characters in action-filled plots often with fantastic or futuristic themes
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:57
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:47
+msgid "Anime"
+msgstr "Anime (jp.)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1026
-msgid "Produces nicer-looking B-frames"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:58
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:48
+msgid "KVCD"
+msgstr "KVCD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1040
-msgid "As input"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:61
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:51
+msgid "Progressive"
+msgstr "Zunehmend"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1043
-msgid "Get PAR from input video file"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:62
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:52
+msgid "Interlaced TFF"
+msgstr "Interlaced TFF"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1049
-msgid "Pixel Width"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:63
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:53
+msgid "Interlaced BFF"
+msgstr "Interlaced BFF"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1060
-msgid "Pixel Height"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:74
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:60
+msgid "Ma_x. bitrate:"
+msgstr "Ma_x. Bitrate:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1061
-msgid "Pixel Aspect Ratio"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:75
+msgid "Mi_n. bitrate:"
+msgstr "Mi_n. Bitrate:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1079
-msgid "Quantization type:"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:76
+msgid "_Use Xvid rate control"
+msgstr "_Xvid Bitratenpr?fung verwenden"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1083
-msgid "_H.263"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:78
+msgid "_Buffer size:"
+msgstr "_Puffergr??e:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1086
-msgid "H.263 quantizers smooth the picture (useful at lower bitrates)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:80
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:57
+msgid "Aspect _ratio:"
+msgstr "Seitenve_rh?ltnis:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1090
-msgid "_MPEG"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:81
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:58
+msgid "_Matrices:"
+msgstr "_Matrizen:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1093
-msgid ""
-"MPEG quantizers (slightly slower) produce sharper picture (useful at higher "
-"bitrates)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:82
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:59
+msgid "_GOP size:"
+msgstr "_GOP Gr??e:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1097
-msgid "_Custom Matrix"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:88
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:66
+msgid "_Interlacing:"
+msgstr "_Interlacing:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1107
-msgid "Load Custom Matrix:  "
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:59
+msgid "Target type"
+msgstr "Zieltyp"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1153
-msgid "I-frame quantizer - Min:"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:60
+msgid "Source aspect ratio"
+msgstr "Quell-Seitenverh?ltnis"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1158
-msgid "P-frame quantizer - Min:"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:61
+msgid "Dest. aspect ratio"
+msgstr "Ziel-Seitenverh?ltnis"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1163
-msgid "B-frame quantizer - Min:"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:59
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:128
+msgid "No data"
+msgstr "Keine Daten"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1176
-msgid "Minimum quantizer allowed for I-frames"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:232
+msgid "Bitrate Histogram"
+msgstr "Bitrate Histogramm"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1182
-msgid "Minimum quantizer allowed for P-frames"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:95
+msgid "Option "
+msgstr "Option "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1188
-msgid "Minimum quantizer allowed for B-frames"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:134
+msgid "Built-in Support"
+msgstr "Eingebaute Unterst?tzung"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1217
-msgid "Maximum quantizer allowed for I-frames"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:40
+#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:60
+msgid "_Filter strength:"
+msgstr "_Filtersch?rfe:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1223
-msgid "Maximum quantizer allowed for P-frames"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:41
+msgid "_Swap U & V"
+msgstr "U mit V _tauschen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1229
-msgid "Maximum quantizer allowed for B-frames"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:51
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:269
+#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:72
+msgid "_Horizontal deblocking"
+msgstr "_Horizontal entblockieren"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1231
-msgid "Quantizer restrictions"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:52
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:270
+#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:73
+msgid "_Vertical deblocking"
+msgstr "_Vertikal entblockieren"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1235
-msgid "_Trellis quantization"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:53
+#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:74
+msgid "_Deringing"
+msgstr "_De-Ringing"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1238
-msgid "Rate distortion quantization, will find optimal encoding for each block"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:162
+msgid "_Use systray while encoding"
+msgstr "Systemablage w?hrend des Kodierens ben_utzen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1268
-msgid "I-frame boost (%):"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:163
+msgid "_Accept non-standard audio frequency for DVD"
+msgstr "Erlaube _Nicht-Standard Audio-Frequenz f?r DVD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1273
-msgid "I-frames closer than ... frames..."
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:164
+msgid "_Use libavcodec MPEG-2 decoder"
+msgstr "MPEG Dekodierer libavcodec ben_utzen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1278
-msgid "...are reduced by (%):"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:165
+msgid "Create _OpenDML files"
+msgstr "_OpenDML-Dateien erstellen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1283
-msgid "Max overflow improvement (%):"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:166
+msgid "Automatically _index MPEG files"
+msgstr "MPEG-Dateien automatisch _indizieren"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1288
-msgid "Max overflow degradation (%):"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:167
+msgid "Automatically _swap A and B if A>B"
+msgstr "Automatisch A mit B tauschen, wenn A > B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1300
-#, c-format
-msgid "A value of 20 will give 20% more bits to every I-frame"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:168
+msgid "_Disable NUV audio sync"
+msgstr "NUV Audio-Sync _deaktivieren"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1306
-msgid ""
-"I-frames appearing in the range below this value will be treated as "
-"consecutive keyframes"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:169
+msgid "_Load external filters"
+msgstr "Externe Filter _laden"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1311
-msgid ""
-"Reduction of bitrate for the first consecutive I-frames. The last I-frame "
-"will get treated normally"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:171
+msgid "Automatically _build VBR map"
+msgstr "VBR-Zeitkarte automatisch _erstellen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1316
-msgid ""
-"How much of the overflow the codec can eat into during undersized sections - "
-"larger values will bridge the gap faster"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:172
+msgid "Automatically _rebuild index"
+msgstr "Index automatisch wieder erstellen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1321
-msgid ""
-"How much of the overflow the codec can eat into during oversized sections - "
-"larger values will bridge the gap faster"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:173
+msgid "Automatically remove _packed bitstream"
+msgstr "Ge_packten Bitstream automatisch entfernen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1323
-msgid "Two pass tuning"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:175
+msgid "_Number of threads:"
+msgstr "A_nzahl von Threads:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1340
-msgid "High bitrate scenes (%):"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:179
+msgid "Above normal"
+msgstr "?ber normal"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1345
-msgid "Low bitrate scenes (%):"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:181
+msgid "Below normal"
+msgstr "Unter normal"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1350
-msgid "Overflow control strength (%):"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:184
+msgid "_Encoding priority:"
+msgstr "Kodi_erungspriorit?t:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1362
-msgid ""
-"The higher this value, the more bits get taken from frames larger than the "
-"average size, and redistributed to others"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:185
+msgid "_Indexing/unpacking priority:"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1367
-msgid ""
-"The higher this value, the more bits get assigned to frames below the "
-"average frame size"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:186
+msgid "_Playback priority:"
+msgstr "_Wiedergabe Priorit?t:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1372
-msgid ""
-"0 = default from core (let XviD decide), else overflow payback percent per "
-"frame"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:188
+msgid "_Split MPEG files every (MB):"
+msgstr "Mpeg_s aufteilen alle (MB):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1374
-msgid "Curve compression"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:190
+msgid "_Use alternative tag for MP3 in .mp4"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1378
-msgid "Second Pass"
-msgstr "Zweiter Durchlauf"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:193
+msgid "GTK+ (slow)"
+msgstr "Gtk+ (langsam)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1591
-msgid "<b>Intra Matrix</b>"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:195
+msgid "XVideo (best)"
+msgstr "XVideo (bestens)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1609
-msgid "<b>Inter Matrix</b>"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:198
+msgid "SDL (good)"
+msgstr "SDL (gut)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:327
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:241
-#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp:396
-msgid "The filter is already partial"
-msgstr "Der Filter ist bereits aufgeteilt"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:201
+msgid "Video _display:"
+msgstr "Video-Anzeige:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:455
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:457
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:347
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:349
-msgid "Load set of filters"
-msgstr "Gesetzte Filter laden"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:206
+msgid "No alerts"
+msgstr "Keine Meldungen anzeigen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:464
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:362
-msgid "Nothing to save"
-msgstr "Nichts zum Speichern"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:207
+msgid "Display only error alerts"
+msgstr "Nur Fehlermeldungen anzeigen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:468
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:470
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:366
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:368
-msgid "Save set of filters"
-msgstr "Gesetzte Filter speichern"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:208
+msgid "Display all alerts"
+msgstr "Alle Meldungen anzeigen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:64
-msgid "Add Video Filter"
-msgstr "Video Filter hinzuf?gen"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:210
+msgid "_Message level:"
+msgstr "Anzeigestufe f?r Meldungen:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:98
-msgid "Transformation"
-msgstr "Transformation"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:215
+msgid "PCM"
+msgstr "PCM"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:148
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:309
-msgid "Colors"
-msgstr "Farben"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:216
+msgid "Master"
+msgstr "Master"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:198
-msgid "Sharpen/Blur"
-msgstr "Weichzeichnen / Sch?rfen"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:217
+msgid "_Volume control:"
+msgstr "Lautst?rkeregler:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:223
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:381
-msgid "Subtitles"
-msgstr "Untertitel"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:222
+msgid "No downmixing"
+msgstr "Nicht herunter mischen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:248
-msgid "Miscellaneous"
-msgstr "Verschiedenes"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:224
+msgid "Pro Logic"
+msgstr "Dolby ProLogic"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:123
-msgid "Video Filter Manager"
-msgstr "Video Filter Manager"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:225
+msgid "Pro Logic II"
+msgstr "Dolby ProLogic II"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:145
-msgid "Open filter list [Ctrl-O]"
-msgstr "Filter-Liste ?ffnen [Strg-O]"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:227
+msgid "_Local playback downmixing:"
+msgstr "_Lokale Wiedergabe herunter mischen:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:154
-msgid "Save filter list [Ctrl-S]"
-msgstr "Filterliste speichern [Strg-S]"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:256
+msgid "_Audio output:"
+msgstr "_Audio-Ausgabe:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:162
-msgid "Save Script"
-msgstr "Skript speichern"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:271
+msgid "De_ringing"
+msgstr "De-_Ringing"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:165
-msgid "Save as script [Ctrl-J]"
-msgstr "Speichern als Skript [Strg-J]"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:272
+#: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:167
+msgid "_Strength:"
+msgstr "_St?rke:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:173
-msgid "DVD Res"
-msgstr "DVD Aufl."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:273
+msgid "Default Postprocessing"
+msgstr "Voreingestellte Nachbearbeitung"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:176
-msgid "DVD resolution [Ctrl-1]"
-msgstr "DVD Aufl?sung [Strg-1]"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:287
+msgid "_Filter directory:"
+msgstr "_Filter-Verzeichnis:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:184
-msgid "Half D1 Res"
-msgstr "Half D1 Aufl."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:325
+msgid "Preferences"
+msgstr "Einstellungen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:187
-msgid "Half D1 resolution [Ctrl-2]"
-msgstr "Half D1 Aufl?sung [Strg-2]"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:27
+msgid "Hour"
+msgstr "Stunden"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:195
-msgid "SVCD Res"
-msgstr "SVCD Aufl."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:28
+msgid "Minutes"
+msgstr "Minuten"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:198
-msgid "SVCD resolution [Ctrl-3]"
-msgstr "SVCD Aufl?sung [Strg-3]"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:29
+msgid "Seconds"
+msgstr "Sekunden"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:206
-msgid "VCD Res"
-msgstr "VCD Aufl."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:52
+msgid "Full"
+msgstr "Voll"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:209
-msgid "VCD resolution [Ctrl-4]"
-msgstr "VCD Aufl?sung [Strg-4]"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:53
+msgid "Log"
+msgstr "Log"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:260
-msgid "Transform"
-msgstr "Transformieren"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:54
+msgid "Phods"
+msgstr "Phods"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:333
-msgid "Noise"
-msgstr "Rauschen"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:55
+msgid "EPZS"
+msgstr "EPZS"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:357
-msgid "Sharpness"
-msgstr "Sch?rfe"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:56
+msgid "X1"
+msgstr "X1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:405
-msgid "Misc"
-msgstr "Diverses"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:60
+msgid "H.263"
+msgstr "H.263"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:416
-msgid "External"
-msgstr "Extern"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:65
+msgid "MB comparison"
+msgstr "MB Vergleich"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:427
-msgid "Add selected filter to the Active Filters list"
-msgstr "Ausgew?hlten Filter zu der Aktiv-Filter-Liste hinzuf?gen"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:66
+msgid "Fewest bits (vhq)"
+msgstr "Geringste Bitzahl (vhq)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:433
-msgid "<b>Available Filters</b>"
-msgstr "<b>Verf?gbare Filter</b>"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:67
+msgid "Rate distortion"
+msgstr "Verzerrungsgrad"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:478
-msgid "Remove filter"
-msgstr "Filter entfernen"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:74
+msgid "Mi_n. quantizer:"
+msgstr "Mi_n. Quantizer:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:487
-msgid "Move filter down"
-msgstr "Filter runter"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:75
+msgid "Ma_x. quantizer:"
+msgstr "Ma_x. Quantizer:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:496
-msgid "Move filter up"
-msgstr "Filter hoch"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:76
+msgid "Max. quantizer _difference:"
+msgstr "Max. Quantizer-_Unterschied:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:502
-msgid "P_artial"
-msgstr "Teil_st?ck"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:78
+msgid "4_MV"
+msgstr "4_MV"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:505
-msgid "Apply the current filter only to a part of the file"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:81
+msgid "_Quarter pixel"
+msgstr "_Quarter Pixel"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:510
-msgid "Configure filter"
-msgstr "Filter konfigurieren"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:85
+msgid "_Number of B frames:"
+msgstr "A_nzahl von B-Bildern:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:520
-msgid "C_onfigure"
-msgstr "K_onfigurieren"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:86
+msgid "_Quantization type:"
+msgstr "_Quantization Typ:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:524
-msgid "<b >Active Filters</b>"
-msgstr "<b >Aktive Filter</b>"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:88
+msgid "_Macroblock decision:"
+msgstr "_Makroblock Entscheidung:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:551
-msgid "_Preview"
-msgstr "_Vorschau"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:90
+msgid "_Filesize tolerance (kb):"
+msgstr "_Dateigr??e Toleranz (KB):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:52
-msgid "Video Filters"
-msgstr "Video Filter"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:92
+msgid "_Quantizer compression:"
+msgstr "_Quantizer Kompression:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:112
-msgid "VCD res"
-msgstr "VCD Aufl."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:93
+msgid "Quantizer _blur:"
+msgstr "Quantizer _Unsch?rfe:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:118
-msgid "SVCD res"
-msgstr "SVCD Aufl."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:98
+msgid "User Interface"
+msgstr "Benutzerschnittstelle"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:124
-msgid "DVD res"
-msgstr "DVD Aufl."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:108
+msgid "Motion Estimation"
+msgstr "Absch?tzung der Bewegung"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:130
-msgid "Half D1 res"
-msgstr "Half D1 Aufl."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:120
+msgid "libavcodec MPEG-4 configuration"
+msgstr "libavcodec MPEG-4 Konfiguration"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:156
-msgid "Save as script"
-msgstr "Als Skript speichern"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_mjpeg.cpp:41
+msgid "_Swap U&V:"
+msgstr "U&V tau_schen:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:425
-msgid "Input"
-msgstr "Eingang"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_requant.cpp:48
+msgid "_Shrink Factor:"
+msgstr "_Schrumpffaktor:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:426
-msgid "Output"
-msgstr "Ausgabe"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:62
+msgid "_Dynamic range compression"
+msgstr "_Dynamischer Kompressionsbereich"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:427
-#, fuzzy
-msgid "Side"
-msgstr "Video"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:63
+msgid "Enable _time shift"
+msgstr "Zei_tverschiebung einschalten"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:428
-#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:90
-#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:81
-#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:87
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:109
-msgid "Top"
-msgstr "Oben"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:64
+msgid "Time shift _value (ms):"
+msgstr "Zeitverschiebungs_wert (ms):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:429
-#, fuzzy
-msgid "Separate"
-msgstr "Strategie"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:70
+msgid "_Enable resampling"
+msgstr "_Erlaube Resampling"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:605
-#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp:429
-#, c-format
-msgid "Frame:%c(%02d)"
-msgstr "Bild:%c(%02d)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:71
+msgid "_Resampling frequency (Hz):"
+msgstr "_Resampling Frequenz (Hz):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:282
-#: avidemux/main.cpp:167
-msgid "_File"
-msgstr "_Datei"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:78
+msgid "Film to PAL"
+msgstr "Film -> PAL"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:289
-msgid "_Open..."
-msgstr "_?ffnen..."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:79
+msgid "PAL to Film"
+msgstr "PAL -> Film"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:300
-msgid "_Append..."
-msgstr "_Anh?ngen..."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:82
+msgid "_Frame rate change:"
+msgstr "_Bildrate ?ndern:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:311
-msgid "_Save"
-msgstr "_Speichern"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:87
+msgid "Automatic (max -3 dB)"
+msgstr "Automatik (max -3dB)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:322
-msgid "Save _Video..."
-msgstr " _Video speichern"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:88
+msgid "Manual"
+msgstr "Manuell"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:334
-msgid "Save _BMP Image..."
-msgstr "_BMP Bild speichern"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:90
+msgid "_Gain mode:"
+msgstr "_Verst?rkungsmodus:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:338
-msgid "Save _JPEG Image..."
-msgstr "_JPEG Bild speichern"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:92
+msgid "G_ain value:"
+msgstr "Verst?rk_ungswert"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:342
-msgid "Save _Selection as JPEG images..."
-msgstr "A_uswahl als JPEG Bilder speichern..."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:99
+msgid "No change"
+msgstr "Keine ?nderung"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:351
-msgid "Save _Project"
-msgstr "_Projekt speichern"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:102
+msgid "Stereo+surround"
+msgstr "Stereo+Surround"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:359
-msgid "Save P_roject As..."
-msgstr "P_rojekt speichern als..."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:103
+msgid "Stereo+center"
+msgstr "Stereo+Center"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:367
-msgid "_Load/Run Project..."
-msgstr "Projekt _laden/starten..."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:104
+msgid "Stereo+center+surround"
+msgstr "Stereo+Center+Surround"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:375
-msgid "A_dd to Joblist..."
-msgstr "Zur Jobliste hinzuf?gen..."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:105
+msgid "Stereo front+stereo rear"
+msgstr "Stereo Front+Stero Rear"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:379
-msgid "Show _Joblist"
-msgstr "Jobliste anzeigen"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:106
+msgid "5 channels"
+msgstr "5 K?n?le"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:391
-msgid "Proper_ties"
-msgstr "Eigenschaf_ten"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:107
+msgid "5.1"
+msgstr "5.1 Kan?le"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:402
-msgid "AVI _Muxer Options"
-msgstr "AVI _Multiplexer Optionen"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:108
+msgid "Dolby Pro Logic"
+msgstr "Dolby Prologic"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:411
-msgid "_Quit"
-msgstr "_Beenden"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:109
+msgid "Dolby Pro Logic II"
+msgstr "Dolby Prologic II"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:422
-msgid "_Edit"
-msgstr "_Bearbeiten"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:112
+msgid "_Mixer:"
+msgstr "_Mixer:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:429
-msgid "_Reset Edits"
-msgstr "?nderungen zur?cknehmen"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:116
+msgid "Audio Filters"
+msgstr "Audio Filter"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:442
-msgid "Cu_t"
-msgstr "Ausschneiden"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:58
+msgid "Very Low"
+msgstr "Sehr niedrig"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:453
-msgid "_Copy"
-msgstr "_Kopieren"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:60
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:105
+msgid "Medium"
+msgstr "Mittel"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:464
-msgid "_Paste"
-msgstr "_Einf?gen"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:62
+msgid "Very High"
+msgstr "Sehr hoch"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:475
-msgid "_Delete"
-msgstr "_L?schen"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:63
+msgid "Ultra High"
+msgstr "Besonders hoch"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:491
-msgid "Set Marker _A"
-msgstr "Setze Marke _A"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:64
+msgid "Motion Search Precision"
+msgstr "Bewegungssuche Genauigkeit"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:498
-msgid "Set Marker _B"
-msgstr "Setze Marke _B"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:67
+msgid "Off"
+msgstr "Aus"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:510
-msgid "Pre_ferences"
-msgstr "Einstellungen"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:68
+msgid "Mode Decision"
+msgstr "Modus Entscheidung"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:518
-msgid "_View"
-msgstr "Ansicht"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:69
+msgid "Limited Search"
+msgstr "Begrenzte Suche"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:525
-msgid "_Main Toolbar"
-msgstr "_Haupt-Werkzeugleiste"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:70
+msgid "Medium Search"
+msgstr "Mittlere Suche"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:530
-msgid "_A/V Sidebar"
-msgstr "_A/V Seitenleiste"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:71
+msgid "Wide Search"
+msgstr "Weite Suche"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:540
-msgid "_Zoom 1:4"
-msgstr "_Zoom 1:4"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:72
+msgid "VHQ Mode"
+msgstr "VHQ Modus"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:547
-msgid "Z_oom 1:2"
-msgstr "Z_oom 1:2"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:76
+msgid "Max B Frames"
+msgstr "Max. B-Bilder"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:554
-msgid "Zoom _1:1"
-msgstr "Zoom _1:1"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:77
+msgid "Quarter Pixel"
+msgstr "Quarter Pixel"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:561
-msgid "Zoom _2:1"
-msgstr "Zoom _2:1"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:78
+msgid "GMC"
+msgstr "GMC"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:568
-msgid "Zoom _4:1"
-msgstr "Zoom _4:1"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:79
+msgid "BVHQ"
+msgstr "BVHQ"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:575
-msgid "Vi_deo"
-msgstr "Vi_deo"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:88
+msgid "4MV"
+msgstr "4MV"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:582
-msgid "_Decoder Options"
-msgstr "_Dekodierer Optionen"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:90
+msgid "HQ AC"
+msgstr "HQ AC"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:589
-msgid "_Postprocessing"
-msgstr "Nachbearbeitung"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:91
+msgid "More Search"
+msgstr "Weitere Suche"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:592
-msgid "Select postprocessing level"
-msgstr "Nachbearbeitungsstufe ausw?hlen"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:96
+msgid "Min Gop Size"
+msgstr "Min. Gop Gr??e"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:602
-msgid "P_review"
-msgstr "Vo_rschau"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:97
+msgid "Max Gop Size"
+msgstr "Max. Gop Gr??e"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:609
-msgid "Display _Output"
-msgstr "A_usgabe anzeigen"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:98
+msgid "GOP Size"
+msgstr "GOP Gr??e"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:621
-msgid "_Frame Rate"
-msgstr "Bildrate"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:106
+msgid "H263"
+msgstr "H263"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:625
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:674
-msgid "_Encoder"
-msgstr "Kodier_er"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:107
+msgid "Mpeg"
+msgstr "Mpeg"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:632
-msgid "Fil_ters"
-msgstr "Fil_ter"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:108
+msgid "Quantization Matrix"
+msgstr "Quantization Matrix"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:639
-msgid "_Audio"
-msgstr "_Audio"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:109
+msgid "Trellis Quantization"
+msgstr "Trellis Quantization"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:646
-msgid "_Main Track"
-msgstr "_Haupt-Audiospur"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:117
+msgid "Two Pass Tuning"
+msgstr "Zweifach-Durchlauf"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:650
-msgid "_Second Track"
-msgstr "_Zweite Audiospur"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:128
+msgid "Curve Compression"
+msgstr "Kurven-Kompression"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:654
-msgid "_Build VBR Time Map"
-msgstr "Erstelle VBR Zeitkarte"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:142
+msgid "Xvid4 Configuration"
+msgstr "Xvid4 Konfiguration"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:663
-msgid "S_ave..."
-msgstr "Speichern..."
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp:52
+msgid "Select Directory"
+msgstr "Verzeichnis ausw?hlen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:681
-msgid "_Filters"
-msgstr "_Filter"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp:54
+msgid "Select File"
+msgstr "Datei ausw?hlen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:685
-msgid "_Tools"
-msgstr "_Werkzeuge"
+#: avidemux/ADM_outputs/oplug_avi/op_avisavecopy_pack.cpp:121
+#: avidemux/ADM_outputs/oplug_avi/op_avisavecopy.cpp:96
+#: avidemux/ADM_outputs/oplug_avi/op_avisavecopy_unpack.cpp:98
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:446
+msgid "Cannot initiate save"
+msgstr "Kann das Speichern nicht beginnen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:692
-msgid "_Calculator"
-msgstr "_Taschenrechner"
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:73
+msgid ""
+"Width is not a multiple of 8\n"
+" continue anyway ?"
+msgstr ""
+"Breite ist nicht ein Vielfaches von 8\n"
+" irgendwie fortfahren ?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:708
-msgid "_Rebuild Frames (I & B)"
-msgstr "Bilder neu aufbauen (I&B)"
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:93
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:170
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:76
+msgid "Filter init failed"
+msgstr "Filterinitialisierung misslungen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:712
-msgid "C_heck Frames (slow)"
-msgstr "Bilder ?berpr?fen (langsam)"
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:127
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:395
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:100
+msgid ""
+"\n"
+" Reuse the existing log-file ?"
+msgstr ""
+"\n"
+" Vorhandene Log-Datei wieder verwenden ?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:716
-msgid "_Bitrate Histogram"
-msgstr "_Bitrate Histogramm"
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:152
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:431
+msgid "Aborting"
+msgstr "Abbruch"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:720
-msgid "_Scan for Black Frames..."
-msgstr "_Schwarze Bilder suchen..."
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:75
+msgid "Mux every N video frames"
+msgstr "Multiplexe jedes n-te Video-Bild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:729
-msgid "_VOB -> VobSub"
-msgstr "_VOB -> VobSub"
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:76
+msgid "Mux by packet size"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:733
-msgid "_OCR (VobSub -> srt)"
-msgstr "_OCR (VobSub -> srt)"
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:79
+msgid "Muxing _type:"
+msgstr "Multiplex-_Typ:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:737
-msgid "A_uto"
-msgstr "A_uto"
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:80
+msgid "_Split every MB:"
+msgstr "_Aufteilen alle MB:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:744
-msgid "_VCD"
-msgstr "_VCD"
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:82
+msgid "Mux _every x video frames:"
+msgstr "Multiplexe jedes x-te Video-Bild:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:748
-msgid "_SVCD"
-msgstr "_SVCD"
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:83
+msgid "Mux in _blocks of x bytes:"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:752
-msgid "_DVD"
-msgstr "_DVD"
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:90
+msgid "AVI Muxer Options"
+msgstr "AVI Multiplexer Optionen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:760
-msgid "PSP (H264)"
-msgstr "PSP (H264)"
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:188
+msgid "Error initalizing audio filters"
+msgstr "Fehler beim Initialisieren der Audiofilter"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:764
-msgid "_Go"
-msgstr "_Gehe"
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:197
+msgid "Error initalizing video filters"
+msgstr "Fehler beim Initialisieren der Videofilter"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:771
-msgid "_Play/Stop"
-msgstr "Abspielen/Anhalten"
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:152
+msgid "Cannot initialize the video stream"
+msgstr "Video-Bitstrom konnte nicht initialisiert werden"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:782
-msgid "P_revious Frame"
-msgstr "Vo_rheriges Bild"
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:208
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:331
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:415
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:352
+msgid "Error while encoding"
+msgstr "Fehler beim Codieren"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:793
-msgid "_Next Frame"
-msgstr "_N?chstes Bild"
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:220
+msgid "KeyFrame error"
+msgstr "Bild-Fehler"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:804
-msgid "Pr_evious Intra Frame"
-msgstr "Vorheriges Schl?sselbild"
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:220
+msgid ""
+"The beginning frame is not a key frame.\n"
+"Please move the A marker."
+msgstr ""
+"Das beginnende Bild ist kein Schl?ssel-Bild.\n"
+"Bitte die Marke A verschieben."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:815
-msgid "Next _Intra Frame"
-msgstr "N?chstes Schl?sselbild"
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:247
+msgid "Cannot initialize the audio stream"
+msgstr "Konnte Audio-Stream nicht initialisieren"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:826
-msgid "Previou_s Black Frame"
-msgstr "Vorherige_s schwarzes Bild"
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:126
+msgid "Could not initialize video"
+msgstr "Kann Video nicht initialisieren"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:830
-msgid "Ne_xt Black Frame"
-msgstr "N?_chstes schwarzes Bild"
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:134
+msgid "Could not initialize audio"
+msgstr "Kann Audio nicht initialisieren"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:834
-msgid "_First Frame"
-msgstr "_Erstes Bild"
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:156
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:167
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:94
+msgid "There is no audio track"
+msgstr "Dies ist keine Audio-Spur"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:845
-msgid "_Last Frame"
-msgstr "_Letztes Bild"
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:177
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:113
+msgid "Audio track is not suitable"
+msgstr "Audio-Spur ist nicht brauchbar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:861
-msgid "Go to Marker _A"
-msgstr "Gehe zu Marke _A"
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:187
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:153
+msgid "For VCD, audio must be 44.1 kHz MP2."
+msgstr "F?r VCD muss Audio 44.1 kHz MP2 sein"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:868
-msgid "Go to Marker _B"
-msgstr "Gehe zu Marke _B"
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:209
+msgid "For DVD, audio must be 48 kHz MP2, AC3 or LPCM."
+msgstr "F?r DVD muss Audio 48 kHz MP2, AC3 oder LPCM sein."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:880
-msgid "_Jump to Frame..."
-msgstr "Springe zu Bild..."
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:326
+msgid "Reuse log file ?"
+msgstr "Log-Datei wieder verwenden?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:891
-msgid "Jump to _Time..."
-msgstr "Springe zur _Zeit..."
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:341
+msgid "Error in pass 1"
+msgstr "Fehler beim 1. Durchlauf"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:906
-msgid "_Help"
-msgstr "_Hilfe"
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:491
+msgid "Error in pass 2"
+msgstr "Fehler beim 2. Durchlauf"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:913
-msgid "_About"
-msgstr "_?ber"
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:89
+msgid "This is not MPEG compatible"
+msgstr "Dies ist nicht MPEG kompatibel"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:921
-msgid "Show builtin support"
-msgstr "Eingebaute Unterst?tzung anzeigen"
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:89
+msgid "You can't use the Copy codec."
+msgstr "Kopie-Codec nicht m?glich."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:935
-msgid "Open a file"
-msgstr "?ffne eine Datei"
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:101
+msgid "The first frame is not intra frame"
+msgstr "Das erste Bild ist kein Intra-Bild"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:945
-msgid "Save the file"
-msgstr "Datei speichern"
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:101
+msgid "Use the &lt;&lt; and the &gt;&gt; buttons to move using Intra frames."
+msgstr ""
+"Bitte &lt;&lt; und &gt;&gt; Tasten benutzen, um Intra-Bilder zu verschieben."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:951
-msgid "Audio/video file information"
-msgstr "Audio/Video Datei-Information"
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:182
+msgid "For DVD, audio must be 48 kHz MP2(stereo), AC3, DTS or LPCM (stereo)."
+msgstr ""
+"F?r DVD muss Audio 48 kHz MP2 (stereo), AC3, DTS or LPCM (stereo) sein."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:959
-msgid "Calculator"
-msgstr "Taschenrechner"
+#: avidemux/ADM_filter/filter_saveload.cpp:157
+msgid "Problem reading XML filters"
+msgstr "Problem beim Lesen von XML Filter"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:962
-msgid "Bitrate/size calculator"
-msgstr "Bitrate/Gr??e berechnen"
+#: avidemux/ADM_filter/filter_saveload.cpp:165
+msgid "No filter found"
+msgstr "Keinen Filter gefunden"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1016
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1056
-msgid "Copy"
-msgstr "Kopie"
+#: avidemux/ADM_filter/filter_saveload.cpp:201
+msgid "Could not find a filter"
+msgstr "Konnte keinen Filter finden"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1021
-msgid "Configure video encoder"
-msgstr "Video Kodierer konfigurieren"
+#: avidemux/ADM_filter/filter_saveload.cpp:209
+msgid "No tag found"
+msgstr "Kein Marke gefunden"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1026
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1082
-msgid "Filters"
-msgstr "Filter"
+#: avidemux/ADM_filter/filter_saveload.cpp:289
+msgid "Node not found"
+msgstr "Knoten nicht gefunden"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1029
-msgid "Video filters"
-msgstr "Video Filter"
+#: avidemux/ADM_editor/ADM_edit.cpp:400
+msgid "File type identified but no loader support detected..."
+msgstr "Dateityp wurde ermittelt, aber keine Ladeunterst?tzung festgestellt."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1061
-msgid "Configure audio encoder"
-msgstr "Audio Kodierer konfigurieren"
+#: avidemux/ADM_editor/ADM_edit.cpp:401
+msgid "May be related to an old index file."
+msgstr "Es bezieht sich vielleicht auf eine alte Index-Datei."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1069
-msgid "Audio filters"
-msgstr "Audio Filter"
+#: avidemux/ADM_editor/ADM_edit.cpp:408
+#, c-format
+msgid "Attempt to open %s failed!"
+msgstr "Versuch %s zu ?ffnen ist misslungen!"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1090
-msgid "Shift:"
-msgstr "Verschiebung"
+#: avidemux/ADM_editor/ADM_edit.cpp:432
+msgid ""
+"You cannot mix different video dimensions yet. Using the partial video "
+"filter later, will not work around this problem. The workaround is:\n"
+"1.) \"resize\" / \"add border\" / \"crop\" each stream to the same "
+"resolution\n"
+"2.) concatinate them together"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1093
-msgid "Enable time shift"
-msgstr "Zeitverschiebung einschalten"
+#: avidemux/ADM_editor/ADM_edit.cpp:544
+msgid "Build Time Map"
+msgstr "Erstelle VBR Zeitkarte"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1099
-msgid "Audio/video time shift (ms)"
-msgstr "A/V Zeitverschiebung (ms)"
+#: avidemux/ADM_editor/ADM_edit.cpp:544
+msgid "Build VBR time map?"
+msgstr "VBR Zeitkarte erstellen?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1106
-msgid "<b>Format</b>"
-msgstr "<b>Format</b>"
+#: avidemux/ADM_editor/ADM_edit.cpp:578
+msgid "Use that mode"
+msgstr "Benutze diesen Modus"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1139
-msgid "<b>Selection</b>"
-msgstr "<b>Auswahl</b>"
+#: avidemux/ADM_editor/ADM_edit.cpp:578
+msgid "H264 detected"
+msgstr "H264 gefunden"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1156
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1164
-msgid " 0000000"
-msgstr " 0000000"
+#: avidemux/ADM_editor/ADM_edit.cpp:578
+msgid ""
+"If the file is using bframe as reference, it can lead to crash or "
+"stutteting.\n"
+"Avidemux can use another mode which is safed but <b>YOU WILL LOOSE FRAME "
+"ACCURACY</b>.\n"
+"Do you want to use that mode ?"
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1172
-msgid "A:"
-msgstr "A:"
+#: avidemux/ADM_editor/ADM_edit.cpp:705
+msgid "Packed Bitstream detected"
+msgstr "Gepackten Bitstrom gefunden"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1179
-msgid "Go to marker A"
-msgstr "Gehe zu Marke A"
+#: avidemux/ADM_editor/ADM_edit.cpp:706
+msgid "Do you want me to unpack it ?"
+msgstr "Soll es entpackt werden ?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1181
-msgid "B:"
-msgstr "B:"
+#: avidemux/ADM_editor/ADM_edit.cpp:726
+msgid "Could not unpack the video"
+msgstr "Video konnte nicht entpackt werden"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1188
-msgid "Go to marker B"
-msgstr "Gehe zu Marke B"
+#: avidemux/ADM_editor/ADM_edit.cpp:726
+msgid "Using backup decoder - not frame accurate."
+msgstr "Backup Dekodierer verwenden - nicht bildgenau."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1200
-msgid "Play"
-msgstr "Abspielen"
+#: avidemux/ADM_editor/ADM_edit.cpp:731
+msgid "Weird"
+msgstr "Seltsam"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1214
-msgid "Stop"
-msgstr "Stopp"
+#: avidemux/ADM_editor/ADM_edit.cpp:731
+msgid "The unpacking succeedeed but the index is still not up to date."
+msgstr "Das Entpacken war erfolgreich, aber der Index ist nicht aktuell."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1226
-msgid "Previous frame"
-msgstr "Vorheriges Bild"
+#: avidemux/ADM_editor/ADM_edit.cpp:737
+msgid "Troubles ahead"
+msgstr "Probleme weiter oben"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1241
-msgid "Next frame"
-msgstr "N?chstes Bild"
+#: avidemux/ADM_editor/ADM_edit.cpp:737
+msgid "This a VOP packed AVI."
+msgstr "Dies ist ein VOP-gepacktes AVI."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1256
-msgid "Previous keyframe"
-msgstr "Vorheriges Bild"
+#: avidemux/ADM_editor/ADM_edit.cpp:748
+msgid "Index is not up to date"
+msgstr "Index ist nicht aktuell"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1271
-msgid "Next keyframe"
-msgstr "N?chstes Bild"
+#: avidemux/ADM_editor/ADM_edit.cpp:748
+msgid "You should use Tool->Rebuild frame. Do it now ?"
+msgstr "Werkzeuge -> Bilder neu erstellen sollte verwendet werden. Starten ?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1285
-msgid "Selection: start"
-msgstr "Auswahl: Start"
+#: avidemux/ADM_editor/ADM_edit.cpp:1503
+msgid ""
+"This looks like mpeg\n"
+" Do you want to index it?"
+msgstr ""
+"Dies schaut wie Mpeg aus\n"
+"Soll ein Index erstellt werden ?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1296
-msgid "Selection: end"
-msgstr "Auswahl: Ende"
+#: avidemux/ADM_editor/ADM_edit.cpp:1555
+msgid "Indexing failed"
+msgstr "Indizierung gescheitert"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1307
-msgid "Previous black frame"
-msgstr "Vorheriges schwarzes Bild"
+#: avidemux/ADM_editor/ADM_edFrameType.cpp:58
+msgid "No video loaded"
+msgstr "Kein Video geladen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1318
-msgid "Next black frame"
-msgstr "N?chstes schwarzes Bild"
+#: avidemux/ADM_editor/ADM_edFrameType.cpp:63
+msgid "Not indexable"
+msgstr "Nicht indizierbar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1329
-msgid "First frame"
-msgstr "Erstes Bild"
+#: avidemux/ADM_editor/ADM_edFrameType.cpp:63
+msgid "DivX 5 + packed?"
+msgstr "DivX 5 + packed?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1340
-msgid "Last frame"
-msgstr "Letztes Bild"
+#: avidemux/ADM_editor/ADM_edFrameType.cpp:93
+msgid "Rebuilding Frames"
+msgstr "Bilder neu aufbauen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1371
-msgid "Frame: "
-msgstr "Bild:"
+#: avidemux/ADM_editor/ADM_edFrameType.cpp:129
+msgid "Aborted"
+msgstr "Abgebrochen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1378
-msgid "Current frame"
-msgstr "Aktuelles Bild"
+#: avidemux/ADM_editor/ADM_edLoadSave.cpp:75
+msgid "Unsupported"
+msgstr "Nicht unterst?tzt"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1383
-msgid "/0000000"
-msgstr "/0000000"
+#: avidemux/ADM_editor/ADM_edLoadSave.cpp:301
+msgid "Old format project file"
+msgstr "Projekt-Datei im alten Format"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1390
-msgid "Time: "
-msgstr " Zeit:"
+#: avidemux/ADM_editor/ADM_edLoadSave.cpp:301
+msgid "No more supported."
+msgstr "Nicht mehr unterst?tzt."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1397
-msgid "Current time"
-msgstr "Aktuelle Zeit"
+#: avidemux/ADM_editor/ADM_outputfmt.h:39
+msgid "AVI, dual audio"
+msgstr "AVI, 2x Audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1398
-msgid "00:00:00.000"
-msgstr "00:00:00.000"
+#: avidemux/ADM_editor/ADM_outputfmt.h:40
+msgid "AVI, pack VOP"
+msgstr "AVI, gepacktes VOP"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1401
-msgid "/00:00:00,000"
-msgstr "/00:00:00,000"
+#: avidemux/ADM_editor/ADM_outputfmt.h:41
+msgid "AVI, unp. VOP"
+msgstr "AVI, ungepack. VOP"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1408
-msgid "Frame: ?"
-msgstr "Bild: ? "
+#: avidemux/ADM_editor/ADM_outputfmt.h:42
+msgid "MPEG-PS (A+V)"
+msgstr "MPEG-PS (A+V)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:209
-msgid "Incorrect output file"
-msgstr "Fehlerhafte Ausgabe-Datei"
+#: avidemux/ADM_editor/ADM_outputfmt.h:43
+msgid "MPEG-TS (A+V)"
+msgstr "MPEG-TS (A+V)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:215
-msgid "Output file error"
-msgstr "Ausgabe-Datei Fehler"
+#: avidemux/ADM_editor/ADM_outputfmt.h:44
+msgid "MPEG Video"
+msgstr "MPEG Video"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:215
-#, c-format
-msgid "Could not open \"%s\" for writing."
-msgstr "Konnte \"%s\" nicht zum Schreiben ?ffnen."
+#: avidemux/ADM_editor/ADM_outputfmt.h:45
+msgid "MP4"
+msgstr "MP4"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:224
-msgid "Problem loading sub"
-msgstr "Problem beim Laden von Sub"
+#: avidemux/ADM_editor/ADM_outputfmt.h:47
+msgid "PSP"
+msgstr "PSP"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:589
-msgid "Sure ?"
-msgstr "Sicher ?"
+#: avidemux/ADM_codecs/ADM_ffmp43.cpp:52
+msgid "Internal error finding codec"
+msgstr "Interner Fehler beim Finden eines Codec"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:752
-msgid "Select SRT to save"
-msgstr "Zu speichernde SRT ausw?hlen"
+#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:51
+msgid "Internal error opening codec"
+msgstr "Interner Fehler beim ?ffnen eines Codec"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:764
-msgid "Select Glyoh to save"
-msgstr "Zu speichernde Schriftzeichen ausw?hlen"
+#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:53
+msgid "Internal error with context for  codec"
+msgstr "Interner Fehler mit Kontext f?r Codec"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:778
-msgid "No glyphs to save"
-msgstr "Keine Schriftzeichen zum Speichern vorhanden"
+#: avidemux/ADM_audio/audiotimeline.cpp:83
+#: avidemux/ADM_audio/audiotimeline.cpp:94
+msgid "Building VBR map"
+msgstr "Erstelle VBR Zeitkarte"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_gladeSupport.cpp:251
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_gladeSupport.cpp:275
-#, c-format
-msgid "Couldn't find pixmap file: %s"
-msgstr "Konnte Pixmap Datei %s nicht finden."
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:232
+msgid "Select a directory"
+msgstr "Ein Verzeichnis ausw?hlen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:121
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:391
-msgid "Cannot open directory as a file"
-msgstr "Kann das Verzeichnis nicht als Datei ?ffnen"
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:498
+msgid "Uinteger"
+msgstr "Uinteger"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:252
-#: avidemux/gtk_gui.cpp:877
-#, c-format
-msgid "Cannot open \"%s\"."
-msgstr "kann \"%s\" nicht ?ffnen."
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:513
+msgid "Float"
+msgstr "Float"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:262
-msgid "Overwrite file ?"
-msgstr "Datei ?berschreiben ?"
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:531
+msgid "Toggle"
+msgstr "Wechseln"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:287
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:301
-msgid "It could be possible that you try to overwrite an input file!"
-msgstr ""
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:552
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:83
+msgid "No Strategy"
+msgstr "Keine Strategie"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:312
-msgid "Cannot write the file"
-msgstr "Kann Datei nicht schreiben"
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:553
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:84
+msgid "3:2 Pulldown"
+msgstr "3:2 Abriss"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:312
-#, c-format
-msgid "No write access to \"%s\"."
-msgstr "Keine Schreibrechte f?r  \"%s\"."
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:554
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:85
+msgid "Pal/Secam"
+msgstr "Pal/Secam"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:445
-msgid "Images"
-msgstr "Bilder"
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:555
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:86
+msgid "NTSC converted from PAL"
+msgstr "NTSC konvertiert von PAL"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:457
-msgid "All"
-msgstr "Alles"
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:557
+msgid "menu"
+msgstr "Men?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:585
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:657
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:719
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:779
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:842
-msgid "label1"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:706
-msgid "Alert"
-msgstr "Meldung"
-
-#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp:52
-#, fuzzy
-msgid "Select Directory"
-msgstr "Ein Verzeichnis ausw?hlen"
-
-#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp:54
-#, fuzzy
-msgid "Select File"
-msgstr "IDX-Datei ausw?hlen"
-
+#: avidemux/ADM_video/ADM_vidMPLResize.cpp:143
 #: avidemux/ADM_video/ADM_guiResize.cpp:96
-#: avidemux/ADM_video/ADM_vidMPLResize.cpp:143
 msgid "Width and height cannot be 0"
 msgstr "Breite und H?he k?nnen nicht 0 sein"
 
+#: avidemux/ADM_video/ADM_vidMPLResize.cpp:145
 #: avidemux/ADM_video/ADM_guiResize.cpp:98
-#: avidemux/ADM_video/ADM_vidMPLResize.cpp:145
 msgid "Width and height cannot be odd"
 msgstr "Breite und H?he k?nnen nicht ungerade sein"
 
@@ -5169,91 +5268,132 @@
 msgid "Cannot identify subtitle format"
 msgstr "Kann Untertitel-Datei nicht identifizieren"
 
-#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:106
-msgid "Linear blend"
-msgstr "Linear mischen"
+#: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:163
+msgid "_Mask"
+msgstr "_Maske"
 
-#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:107
-msgid "Linear interpolate"
-msgstr "Linear interpolieren"
+#: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:164
+msgid "_High Q"
+msgstr "_Hohe Q"
 
-#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:108
-msgid "Cubic interpolate"
-msgstr "Kubisch interpolieren"
+#: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:166
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:92
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:87
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:93
+msgid "_Threshold:"
+msgstr "_Schwelle:"
 
-#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:109
-msgid "Median interpolate"
-msgstr "Median interpolieren"
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:104
+msgid "Fast"
+msgstr "Schnell"
 
-#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:110
-msgid "FFmpeg deint"
-msgstr ""
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:106
+msgid "Slow iterative motion search"
+msgstr "Langsame iterative Bewegungssuche"
 
-#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:114
-msgid "_Deinterlacing:"
-msgstr "_Deinterlacing:"
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:107
+msgid "Extra slow (same as 3+multiple reference frames)"
+msgstr "Besonders langsam (?hnlich wie 3+ Mehrfach-Referenz-Bilder)"
 
-#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:115
-msgid "_Autolevel"
-msgstr ""
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:110
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:82
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:91
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:88
+msgid "Bottom"
+msgstr "Unten"
 
-#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:85
-msgid "_Subtitle file (ass/ssa)"
-msgstr ""
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:114
+msgid "_Field dominance:"
+msgstr "_Feld Dominanz:"
 
-#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:86
-msgid "_Line spacing"
-msgstr "Zeilenabstand:"
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:115
+msgid "_Qp:"
+msgstr "_Qp:"
 
-#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:87
-msgid "_Font scale"
-msgstr "Schriftskalierung"
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:74
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:74
+msgid "_Spatial luma strength:"
+msgstr "?rtliche Brillianz-_St?rke:"
 
-#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:88
-msgid "_Top margin"
-msgstr "_Oberer Rand"
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:75
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:75
+msgid "S_patial chroma strength:"
+msgstr "?rtliche Far_bintensit?ts-St?rke:"
 
-#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:89
-msgid "_Bottom margin"
-msgstr "_Unterer Rand"
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:76
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:76
+msgid "_Temporal strength:"
+msgstr "_Tempor?re St?rke:"
 
-#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:82
-msgid "threshold"
-msgstr "Schwelle"
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:386
+msgid "_Luma lock:"
+msgstr "_Brillianz arretieren:"
 
-#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:83
-#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:88
-msgid ""
-"If value is smaller than threshold it is considered valid. Smaller value "
-"might mean more false positive"
-msgstr ""
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:387
+msgid "C_hroma lock:"
+msgstr "Farbin_tensit?t arretieren:"
 
-#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:85
-msgid "noise"
-msgstr "Rauschen"
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:388
+msgid "L_uma threshold:"
+msgstr "Brillianz Schwelle:"
 
-#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:85
-msgid "If pixel are closer than noise, they are considered to be the same"
-msgstr ""
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:389
+msgid "Ch_roma threshold:"
+msgstr "Fa_rbintensit?t Schwelle:"
 
-#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:86
-msgid "identical"
-msgstr "identisch"
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:391
+msgid "_Scene change:"
+msgstr "_Szenenwechsel:"
 
-#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:86
-#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:91
-msgid "If metric is less than identical, images are considered identical"
-msgstr ""
+#: avidemux/ADM_videoFilter/ADM_vidStabilize.cpp:63
+msgid "Stabilize Threshold"
+msgstr "Schwelle stabilisieren"
 
-#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:87
-msgid "show"
-msgstr "zeigen"
+#: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:68
+msgid "_Luma threshold:"
+msgstr "Brillianz Schwelle:"
 
-#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:87
-#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:92
-msgid "Show metric in image (debug)"
-msgstr ""
+#: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:69
+msgid "C_hroma threshold:"
+msgstr "Fa_rbintensit?t Schwelle:"
 
+#: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:70
+msgid "_Radius:"
+msgstr "_Radius:"
+
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:85
+msgid "Keep nb of frames and fps"
+msgstr "nb von Bildern und fps erhalten"
+
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:86
+msgid "Double nb of frames and fps"
+msgstr "Doppelte nb von Bildern und fps"
+
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:87
+msgid "Double nb of frames (slow motion)"
+msgstr "Doppelte nb von Bildern (langsame Bewegung)"
+
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:90
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:92
+msgid "_Field order:"
+msgstr "_Feldreihenfolge:"
+
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:93
+msgid "_Extra"
+msgstr "_Extras"
+
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:93
+msgid "Extra check, avoid using it"
+msgstr "Zus?tzliche Pr?fung (Benutzung vermeiden)"
+
+#: avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp:85
+msgid "_New frame rate:"
+msgstr "_Neue Bildrate:"
+
+#: avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp:86
+msgid "_Blend"
+msgstr "_Vermischen"
+
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:190
 msgid "Discard Closer"
 msgstr ""
@@ -5286,6 +5426,15 @@
 msgid "Slow (full luma and chroma)"
 msgstr "Langsam (volle Brillianz und Farbintensit?t)"
 
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:203
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:181
+msgid "Mode"
+msgstr "Modus"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:204
+msgid "Quality"
+msgstr "Qualit?t"
+
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:205
 msgid "Threshold 1"
 msgstr "Schwelle 1"
@@ -5294,13 +5443,18 @@
 msgid "Threshold 2"
 msgstr "Schwelle 2"
 
-#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:91
-#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:82
-#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:88
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:110
-msgid "Bottom"
-msgstr "Unten"
+#: avidemux/ADM_videoFilter/ADM_vidPalShift.cpp:76
+msgid "Try reverse"
+msgstr "R?ckw?rts versuchen"
 
+#: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:101
+msgid "Luma Temporal Threshold"
+msgstr "Tempor?re Brillianz-Schwelle"
+
+#: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:102
+msgid "Chroma Temporal Threshold"
+msgstr "Tempor?re Farbintensit?ts-Schwelle"
+
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:95
 msgid "Never"
 msgstr "Nie"
@@ -5327,11 +5481,11 @@
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:105
 msgid "Process image (not fields)"
-msgstr ""
+msgstr "Bild verarbeiten (keine Felder)"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:106
 msgid "Process image (not fields),debug"
-msgstr ""
+msgstr "Bild verarbeiten (keine Felder) (Debug)"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:110
 msgid "Strategy"
@@ -5381,63 +5535,6 @@
 msgid "Blend"
 msgstr "Vermischen"
 
-#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:386
-msgid "_Luma lock:"
-msgstr "_Brillianz arretieren:"
-
-#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:387
-msgid "C_hroma lock:"
-msgstr "Farbin_tensit?t arretieren:"
-
-#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:388
-msgid "L_uma threshold:"
-msgstr "Brillianz Schwelle:"
-
-#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:389
-msgid "Ch_roma threshold:"
-msgstr "Fa_rbintensit?t Schwelle:"
-
-#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:391
-msgid "_Scene change:"
-msgstr "_Szenenwechsel:"
-
-#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:85
-msgid "Keep nb of frames and fps"
-msgstr ""
-
-#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:86
-msgid "Double nb of frames and fps"
-msgstr ""
-
-#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:87
-msgid "Double nb of frames (slow motion)"
-msgstr ""
-
-#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:90
-#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:92
-msgid "_Field order:"
-msgstr "_Feldreihenfolge:"
-
-#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:91
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:113
-msgid "_Mode:"
-msgstr "_Modus:"
-
-#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:92
-#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:87
-#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:93
-#: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:166
-msgid "_Threshold:"
-msgstr "_Schwelle:"
-
-#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:93
-msgid "_Extra"
-msgstr "_Extras"
-
-#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:93
-msgid "Extra check, avoid using it"
-msgstr ""
-
 #: avidemux/ADM_videoFilter/ADM_vidDropOut.cpp:63
 msgid "DropOut Threshold"
 msgstr "Schwelle ?berschritten"
@@ -5480,12 +5577,83 @@
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:83
 msgid "Start must be before end, and both within video # of frames."
+msgstr "Start muss vor dem Ende sein, und beide innerhalb der # der Bilder."
+
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:82
+msgid "threshold"
+msgstr "Schwelle"
+
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:83
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:88
+msgid ""
+"If value is smaller than threshold it is considered valid. Smaller value "
+"might mean more false positive"
 msgstr ""
 
-#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:61
-msgid "_Quantizer:"
-msgstr "_Quantisierer:"
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:85
+msgid "noise"
+msgstr "Rauschen"
 
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:85
+msgid "If pixel are closer than noise, they are considered to be the same"
+msgstr ""
+"Wenn Pixel sich n?her sind als das Rauschen, dann nimm an, dass sie gleich "
+"sind"
+
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:86
+msgid "identical"
+msgstr "identisch"
+
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:86
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:91
+msgid "If metric is less than identical, images are considered identical"
+msgstr ""
+
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:87
+msgid "show"
+msgstr "zeigen"
+
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:87
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:92
+msgid "Show metric in image (debug)"
+msgstr "Zeige Ma?e im Bild (Debug)"
+
+#: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:90
+msgid "_Horizontal stacking:"
+msgstr "_Horizontal stapeln:"
+
+#: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:91
+msgid "_Vertical stacking:"
+msgstr "_Vertikal stapeln:"
+
+#: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:92
+msgid "_Shrink factor:"
+msgstr "_Schrumpffaktor:"
+
+#: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:93
+msgid "Show _frame"
+msgstr "_Bild anzeigen"
+
+#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:85
+msgid "_Subtitle file (ass/ssa)"
+msgstr "_Untertitel Datei (ass/ssa)"
+
+#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:86
+msgid "_Line spacing"
+msgstr "Zeilenabstand:"
+
+#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:87
+msgid "_Font scale"
+msgstr "Schriftskalierung"
+
+#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:88
+msgid "_Top margin"
+msgstr "_Oberer Rand"
+
+#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:89
+msgid "_Bottom margin"
+msgstr "_Unterer Rand"
+
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:90
 msgid "_Noise:"
 msgstr "_Rauschen:"
@@ -5493,6 +5661,8 @@
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:90
 msgid "If pixels are closer than noise, they are considered to be the same"
 msgstr ""
+"Wenn Pixel sich n?her sind als das Rauschen, dann nimm an, dass sie gleich "
+"sind"
 
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:91
 msgid "_Identical:"
@@ -5502,9 +5672,41 @@
 msgid "_Show metrics"
 msgstr "_Zeige Ma?e an"
 
+#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:61
+msgid "_Quantizer:"
+msgstr "_Quantizer:"
+
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:106
+msgid "Linear blend"
+msgstr "Linear mischen"
+
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:107
+msgid "Linear interpolate"
+msgstr "Linear interpolieren"
+
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:108
+msgid "Cubic interpolate"
+msgstr "Kubisch interpolieren"
+
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:109
+msgid "Median interpolate"
+msgstr "Median interpolieren"
+
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:110
+msgid "FFmpeg deint"
+msgstr "FFmpeg deinterlace"
+
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:114
+msgid "_Deinterlacing:"
+msgstr "_Deinterlacing:"
+
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:115
+msgid "_Autolevel"
+msgstr ""
+
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:93
 msgid "Smaller means more deinterlacing"
-msgstr ""
+msgstr "Kleiner bedeutet mehr Deinterlace"
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:94
 msgid "_Sharp"
@@ -5516,319 +5718,444 @@
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:95
 msgid "T_woway"
-msgstr ""
+msgstr "Zwei-Weg"
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:95
 msgid "Extrapolate better (better not to use it)"
-msgstr ""
+msgstr "Besser extrapolieren (besser nicht benutzen)"
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:96
 msgid "_Map"
-msgstr ""
+msgstr "_?bersicht"
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:96
 msgid "Show interlaced areas (for test!)"
-msgstr ""
+msgstr "Interlace-Bereiche anzeigen (f?r Tests!)"
 
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:104
-msgid "Fast"
-msgstr "Schnell"
-
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:105
-msgid "Medium"
-msgstr "Mittel"
-
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:106
-msgid "Slow iterative motion search"
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:171
+msgid "Temporal & Spatial check"
 msgstr ""
 
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:107
-msgid "Extra slow (same as 3+multiple reference frames)"
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:172
+msgid "Bob, T+S check"
 msgstr ""
 
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:114
-msgid "_Field dominance:"
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:173
+msgid "Skip spatial temporal check"
 msgstr ""
 
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:115
-msgid "_Qp:"
-msgstr "_Qp:"
-
-#: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:90
-msgid "_Horizontal stacking:"
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:174
+msgid "Bob, Skip spatial temporal check"
 msgstr ""
 
-#: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:91
-msgid "_Vertical stacking:"
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:177
+msgid "Bottom Field first"
 msgstr ""
 
-#: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:92
-msgid "_Shrink factor:"
-msgstr ""
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:182
+msgid "Order"
+msgstr "Reihenfolge"
 
-#: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:93
-msgid "Show _frame"
-msgstr "_Bild anzeigen"
-
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:74
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:74
-msgid "_Spatial luma strength:"
-msgstr "?rtliche Brillianz-_St?rke:"
-
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:75
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:75
-msgid "S_patial chroma strength:"
-msgstr "?rtliche Far_bintensit?ts-St?rke:"
-
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:76
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:76
-msgid "_Temporal strength:"
-msgstr "_Tempor?re St?rke:"
-
-#: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:163
-msgid "_Mask"
-msgstr "_Maske"
-
-#: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:164
-msgid "_High Q"
-msgstr "_Hohe Q"
-
-#: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:167
-msgid "_Strength:"
-msgstr "_St?rke:"
-
-#: avidemux/ADM_videoFilter/ADM_vidPalShift.cpp:76
-msgid "Try reverse"
-msgstr "R?ckw?rts versuchen"
-
-#: avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp:85
-msgid "_New frame rate:"
-msgstr "_Neue Bildrate:"
-
-#: avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp:86
-msgid "_Blend"
-msgstr "_Vermischen"
-
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:265
 msgid "90 degrees"
-msgstr ""
+msgstr "90 Grad"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:265
 msgid "90?"
-msgstr ""
+msgstr "90?"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:266
 msgid "180 degrees"
-msgstr ""
+msgstr "180 Grad"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:266
 msgid "180?"
-msgstr ""
+msgstr "180?"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:267
 msgid "270 degrees"
-msgstr ""
+msgstr "270 Grad"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:267
 msgid "270?"
-msgstr ""
+msgstr "270?"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:269
-#, fuzzy
 msgid "Angle"
-msgstr "Meldung"
+msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:271
-#, fuzzy
 msgid "Rotate Params"
-msgstr "Drehen"
+msgstr "Parameter drehen"
 
-#: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:68
-msgid "_Luma threshold:"
-msgstr "Brillianz Schwelle:"
+#: avidemux/ADM_osSupport/ADM_crashdump.cpp:239
+msgid "Load it"
+msgstr "Lade es"
 
-#: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:69
-msgid "C_hroma threshold:"
-msgstr "Fa_rbintensit?t Schwelle:"
+#: avidemux/ADM_osSupport/ADM_crashdump.cpp:239
+msgid "Crash file"
+msgstr "Dateiabsturz"
 
-#: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:70
-msgid "_Radius:"
-msgstr "_Radius:"
+#: avidemux/ADM_osSupport/ADM_crashdump.cpp:240
+msgid ""
+"I have detected a crash file. \n"
+"Do you want to load it  ?\n"
+"(It will be deleted in all cases, you should save it if you want to keep it)"
+msgstr ""
 
-#: avidemux/ADM_videoFilter/ADM_vidStabilize.cpp:63
-msgid "Stabilize Threshold"
-msgstr "Schwelle stabilisieren"
+#: avidemux/ADM_osSupport/ADM_misc.cpp:215
+#, c-format
+msgid "%lu minutes"
+msgstr "%lu Minuten"
 
-#: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:101
-msgid "Luma Temporal Threshold"
-msgstr "Tempor?re Brillianz-Schwelle"
+#: avidemux/ADM_osSupport/ADM_misc.cpp:219
+#, c-format
+msgid "%lu minute"
+msgstr "%lu Minuten"
 
-#: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:102
-msgid "Chroma Temporal Threshold"
-msgstr "Tempor?re Farbintensit?ts-Schwelle"
+#: avidemux/ADM_osSupport/ADM_misc.cpp:227
+#, c-format
+msgid "%lu second"
+msgstr "%lu Sekunden"
 
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:171
-msgid "Temporal & Spatial check"
-msgstr ""
+#: avidemux/ADM_osSupport/ADM_misc.cpp:231
+#, c-format
+msgid "%lu seconds"
+msgstr "%lu Sekunden"
 
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:172
-msgid "Bob, T+S check"
-msgstr ""
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:102
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:126
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:146
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:153
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:164 avidemux/GUI_jobs.cpp:37
+msgid "Oops"
+msgstr "Oops"
 
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:173
-msgid "Skip spatial temporal check"
-msgstr ""
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:102
+#, c-format
+msgid "can't create custom directory (%s)."
+msgstr "Individuelles Verzeichnis (%s) konnte nicht erstellt werden."
 
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:174
-msgid "Bob, Skip spatial temporal check"
-msgstr ""
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:126
+#, c-format
+msgid "can't create job directory (%s)."
+msgstr "Kann Job Verzeichnis nicht erstellen (%s)."
 
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:177
-msgid "Bottom Field first"
-msgstr ""
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:146
+msgid "can't determine $USERPROFILE."
+msgstr "Kann $USERPROFILE nicht bestimmen."
 
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:182
-#, fuzzy
-msgid "Order"
-msgstr "Feldreihenfolge"
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:153
+msgid "can't determine $HOME."
+msgstr "Kann $HOME nicht bestimmen"
 
-#: avidemux/gtk_gui.cpp:243
-msgid "Select ecmascript to run "
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:164
+msgid "Cannot create the .avidemux directory"
+msgstr "Kann .avidemux Verzeichnis nicht erstellen"
+
+#: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
+msgid "Incompatible settings"
+msgstr "Inkompatible Einstellungen"
+
+#: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
+msgid "At the moment, the DV codec only accepts 720*576 at 25"
+msgstr "Derzeit akzeptiert der DV Codec nur 720*576 at 25"
+
+#: avidemux/ADM_encoder/adm_encConfig.cpp:192
+msgid "Wrong output format"
+msgstr "Falsches Ausgabeformat"
+
+#: avidemux/ADM_encoder/adm_encConfig.cpp:192
+msgid "Select MPEG as the output."
+msgstr "Mpeg f?r die Ausgabe ausw?hlen."
+
+#: avidemux/ADM_encoder/adm_encConfig.cpp:197
+msgid "Wrong video codec"
+msgstr "Falscher Video Codec"
+
+#: avidemux/ADM_encoder/adm_encConfig.cpp:198
+msgid "Select DVD as the video codec for MPEG TS output."
+msgstr "DVD als Video-Codec f?r die Mpeg TS Ausgabe ausw?hlen."
+
+#: avidemux/ADM_encoder/adm_encConfig.cpp:715
+msgid "Only QCIF and subQCIF are allowed for H.263"
+msgstr "Nur QCIF und subQCIF sind erlaubt f?r H.263"
+
+#: avidemux/ADM_encoder/adm_encConfig.cpp:907
+msgid "Fatal error"
+msgstr "Fataler Fehler"
+
+#: avidemux/ADM_audiodevice/ADM_deviceoss.cpp:118
+msgid "Could not open OSS audio device"
+msgstr "Kann OSS Audio Ger?t nicht ?ffnen"
+
+#: avidemux/ADM_audiodevice/ADM_deviceoss.cpp:118
+msgid "Check the permissions for /dev/dsp."
+msgstr "Pr?fe die Rechte f?r /dev/dsp."
+
+#: avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp:285
+#: avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp:370
+#: avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp:505
+msgid "Malformed header"
+msgstr "Fehlerhafte Kopfzeilen"
+
+#: avidemux/ADM_inputs/ADM_openDML/ADM_openDMLDepack.cpp:93
+msgid "Unpacking packed bitstream"
+msgstr "Gepackten Bitstrom entpacken"
+
+#: avidemux/ADM_inputs/ADM_h263/ADM_h263.cpp:258
+msgid "Size is not (s)QCIF"
+msgstr "Gr??e ist nicht (s)QCIF"
+
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:149
+msgid "There is several mpeg file, append them ?"
+msgstr "Weitere Mpeg Datei gefunden, anh?ngen?"
+
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:250
+msgid "Can't determine aspect ratio"
+msgstr "Kann Seitenverh?ltnis nicht bestimmen"
+
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_video.cpp:363
+msgid "Out of memory"
+msgstr "Speicherfehler"
+
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_video.cpp:547
+msgid "MPEG renumbering error"
+msgstr "Mpeg Fehler beim Neunummerieren"
+
+#: avidemux/ADM_inputs/ADM_ogm/ADM_ogm.cpp:355
+msgid "Take second track ?"
+msgstr "Zweite Spur verwenden?"
+
+#: avidemux/ADM_inputs/ADM_ogm/ADM_ogm.cpp:435
+msgid "Scanning OGM"
+msgstr "Einlesen von OGM"
+
+#: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:560
+msgid "Sure you want to abort ?"
+msgstr "Soll wirklich abgebrochen werden?"
+
+#: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:771
+msgid "Size mismatch"
+msgstr "unterschiedliche Gr??e"
+
+#: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:771
+msgid "Expect a crash."
+msgstr "Erwarte einen Crash."
+
+#: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:1063
+msgid "Do you want to save an index ?"
+msgstr "Soll ein Index gespeichert werden?"
+
+#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp:346
+msgid "No stts table"
+msgstr "Keine stts Tabelle"
+
+#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp:566
+msgid "Problem reading SVQ3 headers"
+msgstr "Problem beim Lesen der SVQ3 Kopfzeilen"
+
+#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:22
+msgid "Select Glyphfile to save to"
+msgstr "Schriftzeichen-Datei zum Speichern ausw?hlen"
+
+#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:30
+msgid "Could not write the file"
+msgstr "Konnte Datei nicht schreiben"
+
+#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:62
+msgid "Erase current glyphs ?"
+msgstr "Aktuelle Schriftzeichen l?schen ?"
+
+#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:71
+#, c-format
+msgid "Could not read \"%s\"."
+msgstr "Konnte \"%s\" nicht lesen."
+
+#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:244
+msgid "Ifo error"
+msgstr "IFO Fehler"
+
+#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:244
+msgid "Error reading ifo file, aborting."
+msgstr "Fehler beim Lesen der IFO Datei. Abbruch."
+
+#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:252
+msgid "Cannot write .idx"
+msgstr "Kann .idx nicht schreiben"
+
+#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:265
+msgid "Cannot write .sub"
+msgstr "Kann .sub nicht schreiben"
+
+#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:277
+msgid "Problem opening the mpeg files"
+msgstr "Problem beim ?ffnen der Mpeg Dateien"
+
+#: avidemux/gui_navigate.cpp:75 avidemux/gui_navigate.cpp:113
+#: avidemux/gui_navigate.cpp:389 avidemux/gui_navigate.cpp:425
+msgid "Decompressing error"
+msgstr "Dekompressions-Fehler"
+
+#: avidemux/gui_navigate.cpp:75
+msgid "Cannot decode next frame."
+msgstr "Kann n?chstes Bild nicht dekodieren."
+
+#: avidemux/gui_navigate.cpp:113 avidemux/gui_navigate.cpp:425
+msgid "Cannot decode keyframe."
+msgstr "Kann Bild nicht dekodieren."
+
+#: avidemux/gui_navigate.cpp:236
+msgid "Seeking"
+msgstr "Suche..."
+
+#: avidemux/gui_navigate.cpp:389
+msgid "Cannot decode the frame."
+msgstr "Kann Bild nicht dekodieren."
+
+#: avidemux/gtk_gui.cpp:246
+msgid "Select ECMAScript to run "
 msgstr "Auszuf?hrendes ECMA-Skript ausw?hlen"
 
-#: avidemux/gtk_gui.cpp:290 avidemux/gtk_gui.cpp:329
+#: avidemux/gtk_gui.cpp:293 avidemux/gtk_gui.cpp:332
 msgid "Obsolete"
 msgstr "?berfl?ssig"
 
-#: avidemux/gtk_gui.cpp:357
+#: avidemux/gtk_gui.cpp:360
 msgid "Not coded in this version"
 msgstr "Nicht ?bersetzt in dieser Version"
 
-#: avidemux/gtk_gui.cpp:370 avidemux/gtk_gui.cpp:375 avidemux/gtk_gui.cpp:487
-#: avidemux/gtk_gui.cpp:490
+#: avidemux/gtk_gui.cpp:373 avidemux/gtk_gui.cpp:378 avidemux/gtk_gui.cpp:493
+#: avidemux/gtk_gui.cpp:496
 msgid "Select AVI file..."
 msgstr "AVI-Datei ausw?hlen..."
 
-#: avidemux/gtk_gui.cpp:423
+#: avidemux/gtk_gui.cpp:429
 msgid ""
-"This is to be used to undo packed vop on mpeg4.\n"
+"This is to be used to undo packed VOP on MPEG-4.\n"
 "Continue ?"
 msgstr ""
+"Dies wird ben?tigt, um das Packen von VOP von Mpeg-4 zur?ckzunehmen.\n"
+"Fortfahren ?"
 
-#: avidemux/gtk_gui.cpp:425
-msgid "Select Avi file to write"
+#: avidemux/gtk_gui.cpp:431
+msgid "Select AVI file to write"
 msgstr "Zu schreibende AVI-Datei ausw?hlen"
 
-#: avidemux/gtk_gui.cpp:431
+#: avidemux/gtk_gui.cpp:437
 msgid "Select OGM file to write"
 msgstr "Zu schreibende OGM-Datei ausw?hlen"
 
-#: avidemux/gtk_gui.cpp:442 avidemux/gtk_gui.cpp:453
-msgid "Select workbench to save "
+#: avidemux/gtk_gui.cpp:448 avidemux/gtk_gui.cpp:459
+msgid "Select workbench to save"
 msgstr "Zu speichernden Arbeitsbereich ausw?hlen"
 
-#: avidemux/gtk_gui.cpp:477
-msgid "Select raw file to save "
+#: avidemux/gtk_gui.cpp:483
+msgid "Select raw file to save"
 msgstr "Zu speichernde Roh-Datei ausw?hlen"
 
-#: avidemux/gtk_gui.cpp:493
+#: avidemux/gtk_gui.cpp:499
 msgid "Select AVI file to append..."
 msgstr "Anzuh?ngende AVI-Datei ausw?hlen..."
 
-#: avidemux/gtk_gui.cpp:497
+#: avidemux/gtk_gui.cpp:503
 msgid "Select file to save audio"
 msgstr "Zu speichernde Audio-Datei ausw?hlen"
 
-#: avidemux/gtk_gui.cpp:531
-msgid "Select Jpeg sequence to save "
-msgstr "Zu speichernde Jpeg-Bildfolge ausw?hlen"
+#: avidemux/gtk_gui.cpp:537
+msgid "Select JPEG sequence to save"
+msgstr "Zu speichernde Jpeg-Folge ausw?hlen"
 
-#: avidemux/gtk_gui.cpp:534
-msgid "Select BMP to save "
+#: avidemux/gtk_gui.cpp:540
+msgid "Select BMP to save"
 msgstr "Zu speichernde BMP-Datei ausw?hlen"
 
-#: avidemux/gtk_gui.cpp:538
-msgid "Select Jpeg to save "
-msgstr "Zu speichernde Jpeg-Datei ausw?hlen"
+#: avidemux/gtk_gui.cpp:544
+msgid "Select JPEG to save"
+msgstr "Zu speichernde JPEG-Datei ausw?hlen"
 
-#: avidemux/gtk_gui.cpp:591
+#: avidemux/gtk_gui.cpp:597 avidemux/gtk_gui.cpp:709
 msgid "Select file to save"
 msgstr "Zu speichernde Datei ausw?hlen"
 
-#: avidemux/gtk_gui.cpp:643
-msgid "Select MP3 to load "
+#: avidemux/gtk_gui.cpp:649
+msgid "Select MP3 to load"
 msgstr "Zu ladende MP3 ausw?hlen"
 
-#: avidemux/gtk_gui.cpp:646
-msgid "Select AC3 to load "
+#: avidemux/gtk_gui.cpp:652
+msgid "Select AC3 to load"
 msgstr "Zu ladende AC3 ausw?hlen"
 
-#: avidemux/gtk_gui.cpp:649
-msgid "Select WAV to load "
+#: avidemux/gtk_gui.cpp:655
+msgid "Select WAV to load"
 msgstr "Zu ladende WAV-Datei ausw?hlen"
 
-#: avidemux/gtk_gui.cpp:697
+#: avidemux/gtk_gui.cpp:703
 msgid "Out of bounds"
 msgstr "Au?erhalb der Grenzen"
 
-#: avidemux/gtk_gui.cpp:703
-msgid "Select  file to save "
-msgstr "Zu speichernde Datei ausw?hlen"
-
-#: avidemux/gtk_gui.cpp:708 avidemux/gtk_gui.cpp:1913
+#: avidemux/gtk_gui.cpp:714 avidemux/gtk_gui.cpp:1905
 msgid "Marker A > B"
 msgstr "Marke A > B"
 
-#: avidemux/gtk_gui.cpp:708
+#: avidemux/gtk_gui.cpp:714
 msgid "Cannot copy."
 msgstr "Kann nicht kopieren."
 
-#: avidemux/gtk_gui.cpp:720
+#: avidemux/gtk_gui.cpp:726
 msgid "Something bad happened (II))"
 msgstr "Irgendwas Schlimmes ist passiert (II))"
 
-#: avidemux/gtk_gui.cpp:734
-msgid "Are you sure ?"
+#: avidemux/gtk_gui.cpp:740
+msgid "Are you sure?"
 msgstr "Sicher?"
 
-#: avidemux/gtk_gui.cpp:812
+#: avidemux/gtk_gui.cpp:795
+msgid "Change Frames per Second"
+msgstr "?ndere Bilder pro Sekunde"
+
+#: avidemux/gtk_gui.cpp:795
+msgid "New FPS?"
+msgstr "Neues FPS?"
+
+#: avidemux/gtk_gui.cpp:818
 msgid "Width is not a multiple of 8"
 msgstr "Breite ist kein Vielfaches von 8"
 
-#: avidemux/gtk_gui.cpp:813
-msgid "This will make trouble for avi files."
+#: avidemux/gtk_gui.cpp:819
+msgid "This will make trouble for AVI files."
 msgstr "Dies wird bei AVI-Dateien Schwierigkeiten bereiten."
 
-#: avidemux/gtk_gui.cpp:823
+#: avidemux/gtk_gui.cpp:829
 msgid "Rebuild all Keyframes?"
 msgstr "Alle Bilder neu aufbauen?"
 
-#: avidemux/gtk_gui.cpp:877
+#: avidemux/gtk_gui.cpp:887
 msgid "Permission error"
 msgstr "Rechtefehler"
 
-#: avidemux/gtk_gui.cpp:880
+#: avidemux/gtk_gui.cpp:890
 #, c-format
 msgid "\"%s\" does not exist."
 msgstr "\"%s\" existiert nicht."
 
-#: avidemux/gtk_gui.cpp:940
+#: avidemux/gtk_gui.cpp:932
 msgid "Cannot open project using the video loader."
 msgstr "Kann Projekt bei Benutzung des Video-Laders nicht ?ffnen."
 
-#: avidemux/gtk_gui.cpp:941
+#: avidemux/gtk_gui.cpp:933
 msgid "Try 'File' -> 'Load/Run Project...'"
 msgstr "Versuche 'Datei' -> 'Projekt laden/starten...'"
 
-#: avidemux/gtk_gui.cpp:943
+#: avidemux/gtk_gui.cpp:935
 msgid "Could not open the file"
 msgstr "Kann Datei nicht ?ffnen"
 
-#: avidemux/gtk_gui.cpp:978
+#: avidemux/gtk_gui.cpp:970
 msgid "Multiple Audio Tracks"
 msgstr "Mehrere Audio-Spuren"
 
-#: avidemux/gtk_gui.cpp:978
+#: avidemux/gtk_gui.cpp:970
 msgid ""
 "The file you just loaded contains several audio tracks.\n"
 "Go to Audio->MainTrack to select the active one."
@@ -5836,271 +6163,305 @@
 "Die soeben geladene Datei enth?lt mehrere Audio-Spuren.\n"
 "Gehe zu Audio->Hauptspur und w?hle die aktive Spur aus."
 
-#: avidemux/gtk_gui.cpp:1068
+#: avidemux/gtk_gui.cpp:1060
 msgid "No audio decoder found for this file"
 msgstr "Keinen Audio Dekodierer f?r diese Datei gefunden"
 
-#: avidemux/gtk_gui.cpp:1069
+#: avidemux/gtk_gui.cpp:1061
 msgid "Save (A+V) will generate bad AVI. Save audio will work."
 msgstr ""
 "Speichern von (A+V) wird schlechtes AVI erzeugen. Speichern von Audio "
 "arbeitet gut."
 
-#: avidemux/gtk_gui.cpp:1125
+#: avidemux/gtk_gui.cpp:1117
 msgid "Something failed when appending"
 msgstr "Irgendwas ging schief beim Anh?ngen"
 
-#: avidemux/gtk_gui.cpp:1134 avidemux/gtk_gui.cpp:1932
+#: avidemux/gtk_gui.cpp:1126 avidemux/gtk_gui.cpp:1924
 msgid "Something bad happened (II)"
 msgstr "Irgendwas Schlimmes ist passiert (II)"
 
-#: avidemux/gtk_gui.cpp:1198
+#: avidemux/gtk_gui.cpp:1190
 msgid "Cannot save the audio in copy mode"
 msgstr "Kann im Kopie-Modus kein Audio speichern"
 
-#: avidemux/gtk_gui.cpp:1198
+#: avidemux/gtk_gui.cpp:1190
 msgid ""
 "Select WAV PCM as the audio codec, otherwise the audio file would be raw PCM."
 msgstr ""
 "Bitte WAV PCM als Audio Codec ausw?hlen, sonst w?re die Audio-Datei Roh-PCM."
 
-#: avidemux/gtk_gui.cpp:1206 avidemux/gtk_gui.cpp:1562
+#: avidemux/gtk_gui.cpp:1198 avidemux/gtk_gui.cpp:1554
 msgid "Saving audio"
 msgstr "Audio speichern"
 
-#: avidemux/gtk_gui.cpp:1283
-#, fuzzy
+#: avidemux/gtk_gui.cpp:1275
 msgid "Get Frame"
-msgstr "_N?chstes Bild"
+msgstr "Hole Bild"
 
-#: avidemux/gtk_gui.cpp:1283
-#, fuzzy
+#: avidemux/gtk_gui.cpp:1275
 msgid "Cannot get this frame to save"
-msgstr "Kann Bild nicht kodieren"
+msgstr "Kann dieses Bild nicht zum zum Speichern bekommen"
 
-#: avidemux/gtk_gui.cpp:1320
+#: avidemux/gtk_gui.cpp:1312
 msgid "Mark A > B"
 msgstr "Marke A > B"
 
-#: avidemux/gtk_gui.cpp:1320
+#: avidemux/gtk_gui.cpp:1312
 msgid "Set your markers correctly."
 msgstr "Bitte Marken korrekt setzen."
 
-#: avidemux/gtk_gui.cpp:1329
+#: avidemux/gtk_gui.cpp:1321
 msgid "Saving as set of jpegs"
 msgstr "Speichern als Satz von Jpeg-Dateien"
 
-#: avidemux/gtk_gui.cpp:1335
+#: avidemux/gtk_gui.cpp:1327
 msgid "Cannot decode frame"
 msgstr "Kann Bild nicht dekodieren"
 
-#: avidemux/gtk_gui.cpp:1335
+#: avidemux/gtk_gui.cpp:1327
 msgid "Aborting."
 msgstr "Abbruch."
 
-#: avidemux/gtk_gui.cpp:1346 avidemux/gtk_gui.cpp:1365
-#: avidemux/gtk_gui.cpp:2276
+#: avidemux/gtk_gui.cpp:1338 avidemux/gtk_gui.cpp:1357
+#: avidemux/gtk_gui.cpp:2268
 msgid "Done"
 msgstr "Fertig"
 
-#: avidemux/gtk_gui.cpp:1346
+#: avidemux/gtk_gui.cpp:1338
 #, c-format
 msgid "Saved %d images."
 msgstr "%d Bilder gespeichert."
 
-#: avidemux/gtk_gui.cpp:1348
-#, fuzzy
+#: avidemux/gtk_gui.cpp:1340
 msgid "Error"
-msgstr " Fehler X:"
+msgstr "Fehler"
 
-#: avidemux/gtk_gui.cpp:1348
-#, fuzzy
+#: avidemux/gtk_gui.cpp:1340
 msgid "Could not save all images."
-msgstr "Konnte keinen Filter finden"
+msgstr "Konnte nicht alle Bilder speichern."
 
-#: avidemux/gtk_gui.cpp:1365
+#: avidemux/gtk_gui.cpp:1357
 #, c-format
 msgid "Saved \"%s\"."
 msgstr "\"%s\" gespeichert."
 
-#: avidemux/gtk_gui.cpp:1367
+#: avidemux/gtk_gui.cpp:1359
 msgid "BMP op failed"
-msgstr ""
+msgstr "BMP Op. misslungen"
 
-#: avidemux/gtk_gui.cpp:1367
+#: avidemux/gtk_gui.cpp:1359
 #, c-format
 msgid "Saving %s as a BMP file failed."
-msgstr ""
+msgstr "Speichern von %s als BMP-Datei ist misslungen."
 
-#: avidemux/gtk_gui.cpp:1387 avidemux/gtk_gui.cpp:1453
+#: avidemux/gtk_gui.cpp:1379 avidemux/gtk_gui.cpp:1445
 msgid "Failed to open the file"
 msgstr "?ffnen der Datei gescheitert"
 
-#: avidemux/gtk_gui.cpp:1387 avidemux/gtk_gui.cpp:1453
+#: avidemux/gtk_gui.cpp:1379 avidemux/gtk_gui.cpp:1445
 msgid "Not a WAV file?"
 msgstr "Keine WAV-Datei?"
 
-#: avidemux/gtk_gui.cpp:1388
+#: avidemux/gtk_gui.cpp:1380
 #, c-format
 msgid "WAV open file failed..."
 msgstr "?ffnen der WAV Datei gescheitert"
 
-#: avidemux/gtk_gui.cpp:1523
+#: avidemux/gtk_gui.cpp:1515
 msgid "Cannot decompress audio frame"
 msgstr "Kann Audio nicht dekomprimieren"
 
-#: avidemux/gtk_gui.cpp:1537
+#: avidemux/gtk_gui.cpp:1529
 msgid "Memory Error"
 msgstr "Speicherfehler"
 
-#: avidemux/gtk_gui.cpp:1583
+#: avidemux/gtk_gui.cpp:1575
 msgid "No frames to encode"
 msgstr "Keine Bilder zum Kodieren"
 
-#: avidemux/gtk_gui.cpp:1583
+#: avidemux/gtk_gui.cpp:1575
 msgid "Please check markers. Is \"A>\" == \">B\"?"
 msgstr "Bitte Marken ?berpr?fen. Ist \"A>\" == \">B\"?"
 
-#: avidemux/gtk_gui.cpp:1702
+#: avidemux/gtk_gui.cpp:1694
 msgid "Saving raw video stream"
 msgstr "Rohe Videodaten speichern"
 
-#: avidemux/gtk_gui.cpp:1864
+#: avidemux/gtk_gui.cpp:1840
+msgid "Checking video"
+msgstr "Video pr?fen"
+
+#: avidemux/gtk_gui.cpp:1856
 msgid "No error found"
 msgstr "Keinen Fehler gefunden"
 
-#: avidemux/gtk_gui.cpp:1868
+#: avidemux/gtk_gui.cpp:1860
 #, c-format
 msgid "Errors found in %u frames"
 msgstr "Fehler wurden in %u Bildern gefunden"
 
-#: avidemux/gtk_gui.cpp:1886
+#: avidemux/gtk_gui.cpp:1878
 msgid "Cannot decompress the audio stream"
 msgstr "Kann Audio-Strom nicht dekomprimieren"
 
-#: avidemux/gtk_gui.cpp:1886
+#: avidemux/gtk_gui.cpp:1878
 msgid "Switch audio codec to Copy."
 msgstr "Schalte Audio-Codec um nach Kopie."
 
-#: avidemux/gtk_gui.cpp:1913
+#: avidemux/gtk_gui.cpp:1905
 msgid "Cannot delete the selection."
 msgstr "Die Auswahl kann nicht gel?scht werden."
 
-#: avidemux/gtk_gui.cpp:1918
+#: avidemux/gtk_gui.cpp:1910
 msgid "You can't remove all frames"
 msgstr "Es k?nnen nicht alle Bilder entfernt werden"
 
-#: avidemux/gtk_gui.cpp:1994
+#: avidemux/gtk_gui.cpp:1986
 msgid "Could not get tracks info"
-msgstr ""
+msgstr "Konnte keine Spur-Infos bekommen"
 
-#: avidemux/gtk_gui.cpp:2002
+#: avidemux/gtk_gui.cpp:1994
 msgid "Video"
 msgstr "Video"
 
-#: avidemux/gtk_gui.cpp:2002
+#: avidemux/gtk_gui.cpp:1994
 msgid "Take audio from video file"
-msgstr ""
+msgstr "Audio-Spur von der Video-Datei nehmen"
 
-#: avidemux/gtk_gui.cpp:2003 avidemux/gtk_gui.cpp:2102
-#, fuzzy
+#: avidemux/gtk_gui.cpp:1995 avidemux/gtk_gui.cpp:2094
 msgid "No audio"
 msgstr "Keine Audio-Spur"
 
-#: avidemux/gtk_gui.cpp:2004 avidemux/gtk_gui.cpp:2103
+#: avidemux/gtk_gui.cpp:1996 avidemux/gtk_gui.cpp:2095
 msgid "External AC3"
 msgstr "Externes AC3"
 
-#: avidemux/gtk_gui.cpp:2004 avidemux/gtk_gui.cpp:2103
+#: avidemux/gtk_gui.cpp:1996 avidemux/gtk_gui.cpp:2095
 msgid "Take audio from external AC3 file"
-msgstr ""
+msgstr "Audio-Spur von externer AC3-Datei ?bernehmen"
 
-#: avidemux/gtk_gui.cpp:2005 avidemux/gtk_gui.cpp:2104
-#, fuzzy
+#: avidemux/gtk_gui.cpp:1997 avidemux/gtk_gui.cpp:2096
 msgid "External MP3"
-msgstr "Externes AC3"
+msgstr "Externe MP3"
 
-#: avidemux/gtk_gui.cpp:2005 avidemux/gtk_gui.cpp:2104
+#: avidemux/gtk_gui.cpp:1997 avidemux/gtk_gui.cpp:2096
 msgid "Take audio from external MP3 file"
-msgstr ""
+msgstr "Audio-Spur von externer MP3-Datei ?bernehmen"
 
-#: avidemux/gtk_gui.cpp:2006 avidemux/gtk_gui.cpp:2105
-#, fuzzy
-msgid "External Wav"
-msgstr "Extern"
+#: avidemux/gtk_gui.cpp:1998 avidemux/gtk_gui.cpp:2097
+msgid "External WAV"
+msgstr "Externe WAV"
 
-#: avidemux/gtk_gui.cpp:2006 avidemux/gtk_gui.cpp:2105
+#: avidemux/gtk_gui.cpp:1998 avidemux/gtk_gui.cpp:2097
 msgid "Take audio from external WAV file"
-msgstr ""
+msgstr "Audio-Spur von externer WAV-Datei ?bernehmen"
 
-#: avidemux/gtk_gui.cpp:2010 avidemux/gtk_gui.cpp:2110
-#, fuzzy
-msgid "Audio source"
-msgstr "Audio-Auswahl"
+#: avidemux/gtk_gui.cpp:2002 avidemux/gtk_gui.cpp:2102
+msgid "_Audio source:"
+msgstr "_Audio Quelle:"
 
-#: avidemux/gtk_gui.cpp:2014
-#, fuzzy
-msgid "External filename"
-msgstr "Externe Filter"
+#: avidemux/gtk_gui.cpp:2006 avidemux/gtk_gui.cpp:2103
+msgid "_External file:"
+msgstr "_Externe Datei:"
 
-#: avidemux/gtk_gui.cpp:2045 avidemux/gtk_gui.cpp:2123
-#, fuzzy
+#: avidemux/gtk_gui.cpp:2021
+msgid "_Track from video:"
+msgstr "_Spur vom Video:"
+
+#: avidemux/gtk_gui.cpp:2031
+msgid "Main Audio Track"
+msgstr "Haupt-Audio-Spur"
+
+#: avidemux/gtk_gui.cpp:2037 avidemux/gtk_gui.cpp:2115
 msgid "Cannot load"
-msgstr "Kann nicht kopieren."
+msgstr "Kann nicht laden"
 
-#: avidemux/gtk_gui.cpp:2045 avidemux/gtk_gui.cpp:2123
+#: avidemux/gtk_gui.cpp:2037 avidemux/gtk_gui.cpp:2115
 msgid "The selected audio file does not exist."
-msgstr ""
+msgstr "Die ausgew?hlte Audiodatei existiert nicht."
 
-#: avidemux/gtk_gui.cpp:2111
-#, fuzzy
-msgid "Filename"
-msgstr "_Datei"
+#: avidemux/gtk_gui.cpp:2112
+msgid "Second Audio Track"
+msgstr "Zweite Audio-Spur"
 
-#: avidemux/gtk_gui.cpp:2120
-#, fuzzy
-msgid "Select 2nd audio Track"
-msgstr "Audio-Spur ausw?hlen"
-
-#: avidemux/gtk_gui.cpp:2152
+#: avidemux/gtk_gui.cpp:2144
 msgid "Error loading the MP3 file"
 msgstr "Fehler beim Laden der MP3 Datei"
 
-#: avidemux/gtk_gui.cpp:2161 avidemux/gtk_gui.cpp:2183
-#: avidemux/gtk_gui.cpp:2205
+#: avidemux/gtk_gui.cpp:2153 avidemux/gtk_gui.cpp:2175
+#: avidemux/gtk_gui.cpp:2197
 msgid "Second track loaded"
 msgstr "Zweite Spur geladen"
 
-#: avidemux/gtk_gui.cpp:2175
+#: avidemux/gtk_gui.cpp:2167
 msgid "Error loading the AC3 file"
 msgstr "Fehler beim Laden der AC3 Datei"
 
-#: avidemux/gtk_gui.cpp:2197
+#: avidemux/gtk_gui.cpp:2189
 msgid "Error loading the WAV file"
 msgstr "Fehler beim Laden der WAV Datei"
 
-#: avidemux/gtk_gui.cpp:2264
+#: avidemux/gtk_gui.cpp:2256
 msgid "Saving failed"
 msgstr "Speichern gescheitert"
 
-#: avidemux/gtk_gui.cpp:2264
+#: avidemux/gtk_gui.cpp:2256
 msgid "Saving the job failed. Maybe you have permission issue with ~/.avidemux"
 msgstr ""
+"Speichern des Jobs misslungen. Vielleicht bestehen Rechte-Probleme mit  ~/."
+"avidemux"
 
-#: avidemux/gtk_gui.cpp:2276
+#: avidemux/gtk_gui.cpp:2268
 #, c-format
 msgid "File %s has been successfully saved."
 msgstr "Datei %s wurde erfolgreich gespeichert."
 
-#: avidemux/gtk_gui.cpp:2280
+#: avidemux/gtk_gui.cpp:2272
 #, c-format
 msgid "File %s was NOT saved correctly."
 msgstr "Datei %s wurde NICHT korrekt gespeichert."
 
-#: avidemux/guiplay.cpp:356
-msgid "Trouble initializing audio device"
-msgstr "Probleme beim Initialisieren des Audio-Ger?tes"
+#: avidemux/gtk_gui.cpp:2426
+msgid "AvsProxy"
+msgstr "Avs-Proxy"
 
+#: avidemux/gtk_gui.cpp:2426
+msgid ""
+"Failed to connect to avsproxy.\n"
+"Is it running ?"
+msgstr ""
+"Fehler beim Verbinden mit Avs-Proxy.\n"
+"L?uft es ?"
+
+#: avidemux/gtk_gui.cpp:2431
+msgid "avsproxy"
+msgstr "avsproxy"
+
+#: avidemux/gtk_gui.cpp:2459
+msgid "Frame type:"
+msgstr "Bildtyp:"
+
+#: avidemux/gtk_gui.cpp:2460
+msgid "Frame size:"
+msgstr "Bildgr??e:"
+
+#: avidemux/gtk_gui.cpp:2462
+msgid "Frame Hex Dump"
+msgstr "Bild hexadez. Abbild"
+
+#: avidemux/GUI_jobs.cpp:37
+msgid "Something very wrong happened when buildint joblist"
+msgstr "Irgendwas ganz Falsches ist passiert beim Erstellen der Job-Liste"
+
+#: avidemux/GUI_jobs.cpp:42
+msgid "Nothing to do."
+msgstr "Nichts zu tun."
+
+#: avidemux/GUI_jobs.cpp:42
+msgid "There is no jobs stored, nothing to do"
+msgstr "Keine Jobs gespeichert, nichts zu tun"
+
 #: avidemux/gui_autodrive.cpp:52
 msgid "No audio track"
 msgstr "Keine Audio-Spur"
@@ -6118,40 +6479,13 @@
 "You don't have FAAC!.\n"
 "It is needed to create PSP compatible video."
 msgstr ""
+"FAAC nicht vorhanden!\n"
+"Es wird f?r die Erstellung von PSP-kompatiblen Videos ben?tigt."
 
-#: avidemux/GUI_jobs.cpp:37
-msgid "Something very wrong happened when buildint joblist"
-msgstr ""
+#: avidemux/guiplay.cpp:367
+msgid "Trouble initializing audio device"
+msgstr "Probleme beim Initialisieren des Audio-Ger?tes"
 
-#: avidemux/GUI_jobs.cpp:42
-msgid "Nothing to do."
-msgstr "Nichts zu tun."
-
-#: avidemux/GUI_jobs.cpp:42
-msgid "There is no jobs stored, nothing to do"
-msgstr ""
-
-#: avidemux/gui_navigate.cpp:75 avidemux/gui_navigate.cpp:113
-#: avidemux/gui_navigate.cpp:389 avidemux/gui_navigate.cpp:425
-msgid "Decompressing error"
-msgstr "Dekompressions-Fehler"
-
-#: avidemux/gui_navigate.cpp:75
-msgid "Cannot decode next frame."
-msgstr "Kann n?chstes Bild nicht dekodieren."
-
-#: avidemux/gui_navigate.cpp:113 avidemux/gui_navigate.cpp:425
-msgid "Cannot decode keyframe."
-msgstr "Kann Bild nicht dekodieren."
-
-#: avidemux/gui_navigate.cpp:236
-msgid "Seeking"
-msgstr "Suche..."
-
-#: avidemux/gui_navigate.cpp:389
-msgid "Cannot decode the frame."
-msgstr "Kann Bild nicht dekodieren."
-
 #: avidemux/gui_savenew.cpp:87
 msgid "Dual audio can only be used in copy mode"
 msgstr "Doppel-Audio kann nur im Kopie-Modus benutzt werden"
@@ -6177,9 +6511,10 @@
 msgid "Select dual audio AVI to write"
 msgstr "Zu schreibende Zweifach-Audio AVI-Datei ausw?hlen"
 
+# what is the real meaning here?
 #: avidemux/gui_savenew.cpp:270 avidemux/gui_savenew.cpp:288
 msgid "This cannot have packed VOP"
-msgstr ""
+msgstr "Dies kann VOP nicht gepackt haben"
 
 #: avidemux/gui_savenew.cpp:270 avidemux/gui_savenew.cpp:288
 msgid "It is not MPEG-4 video. File will not be saved."
@@ -6190,7 +6525,126 @@
 "You may need smart copy.\n"
 " Enable it ?"
 msgstr ""
+"Eventuell ist sanftes Kopieren erforderlich.\n"
+" Aktivieren?"
 
+#~ msgid "Done : %02d%%"
+#~ msgstr "Fertig : %02d%%"
+
+#~ msgid "Encoding in Progress"
+#~ msgstr "Kodieren l?uft"
+
+#~ msgid "<b><big>Encoding files</big></b>"
+#~ msgstr "<b><big>Zu kodierende Dateien</big></b>"
+
+#~ msgid "00000/00000"
+#~ msgstr "00000/00000"
+
+#~ msgid "<b>FPS:</b>"
+#~ msgstr "<b>FPS:</b>"
+
+#~ msgid "31"
+#~ msgstr "31"
+
+#~ msgid "<b>ETA:</b>"
+#~ msgstr "<b>ETA:</b>"
+
+#~ msgid "0 h 0 mn 0 s"
+#~ msgstr "0 h 0 mn 0 s"
+
+#~ msgid "Mjpeg Codec settings"
+#~ msgstr "Mjpeg Codec Einstellungen"
+
+#~ msgid "Audio Processing"
+#~ msgstr "Audio Bearbeitung"
+
+#~ msgid "DRC"
+#~ msgstr "DRC"
+
+#~ msgid "Timeshift"
+#~ msgstr "Zeitverschiebung"
+
+#~ msgid "Resample to hz"
+#~ msgstr "Resample nach Hz"
+
+#~ msgid "<b>Fps convert</b>"
+#~ msgstr "<b>Fps konvertieren</b>"
+
+#~ msgid "Manual (db) : "
+#~ msgstr "Manuell (db) : "
+
+#~ msgid "<b>Gain</b>"
+#~ msgstr "<b>Verst?rkung</b>"
+
+#~ msgid "<b>Mixer</b>"
+#~ msgstr "<b>Mixer</b>"
+
+#~ msgid "Int. TFF"
+#~ msgstr "Int. TFF"
+
+#~ msgid "Int. BFF"
+#~ msgstr "Int. BFF"
+
+#~ msgid "Aspect Ratio"
+#~ msgstr "Seitenverh?ltnis"
+
+#, fuzzy
+#~ msgid "Horizontal deblocking"
+#~ msgstr "_Horizontal entblockieren"
+
+#, fuzzy
+#~ msgid "Vertical deblocking"
+#~ msgstr "_Vertikal entblockieren"
+
+#, fuzzy
+#~ msgid "Strength:"
+#~ msgstr "St?rke :"
+
+#, fuzzy
+#~ msgid "Min Qz"
+#~ msgstr "Min Qp"
+
+#, fuzzy
+#~ msgid "Max Qz"
+#~ msgstr "Max Qp"
+
+#, fuzzy
+#~ msgid "Max QDiff"
+#~ msgstr "Max Qp"
+
+#, fuzzy
+#~ msgid "Quarter Pel"
+#~ msgstr "Quarter Pixel"
+
+#, fuzzy
+#~ msgid "Number of BFrames"
+#~ msgstr "Anzahl von B-Bildern:"
+
+#, fuzzy
+#~ msgid "Mux Every x video frames"
+#~ msgstr "Video Bild(er)"
+
+#, fuzzy
+#~ msgid "Avi Muxer Option"
+#~ msgstr "AVI _Multiplexer Optionen"
+
+#~ msgid "Expect troubles"
+#~ msgstr "Erwarte Schwierigkeiten"
+
+#~ msgid "Select Jpeg to save "
+#~ msgstr "Zu speichernde Jpeg-Datei ausw?hlen"
+
+#~ msgid "Select  file to save "
+#~ msgstr "Zu speichernde Datei ausw?hlen"
+
+#, fuzzy
+#~ msgid "External Wav"
+#~ msgstr "Extern"
+
+#, fuzzy
+#~ msgid "Filename"
+#~ msgstr "_Datei"
+
 #~ msgid "AVI muxer options"
 #~ msgstr "AVI Multiplexer Optionen"
 
@@ -6209,60 +6663,51 @@
 #~ msgid "megabytes"
 #~ msgstr "Megabytes"
 
-#~ msgid "Load Defaults"
-#~ msgstr "Voreinstellungen laden"
-
-#~ msgid "Save Defaults"
-#~ msgstr "Voreinstellungen speichern"
-
-#~ msgid "Reset Defaults"
-#~ msgstr "Zu den Voreinstellungen zur?ck setzen"
-
 #~ msgid "Go to time"
 #~ msgstr "Gehe zur Zeit"
 
-#~ msgid "_Swap marks A and B if A > B"
-#~ msgstr "_Passe die Marken A und B an, wenn A > B"
+#~ msgid "h"
+#~ msgstr "h"
 
-#~ msgid "S_ave preferences on exit"
-#~ msgstr "Einstellungen beim _Beenden speichern"
+#~ msgid "mn"
+#~ msgstr "mn"
 
-#~ msgid "_MPEG auto split (MB):"
-#~ msgstr "_MPEG automatische Aufteilung (MB):"
+#~ msgid "s"
+#~ msgstr "s"
 
-#~ msgid "_Use OpenDML (don't split large AVI files)"
-#~ msgstr "Ben_utze OpenDML (kein Aufteilen von AVI Dateien)"
+#~ msgid "NONE"
+#~ msgstr "KEINE"
 
-#~ msgid "_Reuse 2-pass log"
-#~ msgstr "2. Durchlauf-Log wieder verwenden"
+#~ msgid "Informations"
+#~ msgstr "Informationen"
 
-#~ msgid "ALSA _device:"
-#~ msgstr "ALSA _Ger?t:"
+#~ msgid "# of frames"
+#~ msgstr "Anzahl Bilder"
 
-#~ msgid "Audio"
-#~ msgstr "Audio"
+#~ msgid "Video Duration  "
+#~ msgstr "Video Verz?gerung  "
 
-#~ msgid "_Video output:"
-#~ msgstr "_Video Ausgabe:"
+#~ msgid "-/-"
+#~ msgstr "-/-"
 
-#~ msgid "Enable multithreading : "
-#~ msgstr "Erlaube Multi-Threading : "
+#~ msgid "GMC "
+#~ msgstr "GMC "
 
-#~ msgid "Threads"
-#~ msgstr "Threads"
+#~ msgid "Bitrate "
+#~ msgstr "Bitrate "
 
-#~ msgid "MultiThread"
-#~ msgstr "MultiThread"
+#~ msgid "Audio duration  "
+#~ msgstr "Audio Verz?gerung  "
 
-#~ msgid "Path to external filters"
-#~ msgstr "Pfad zu externen Filtern"
-
 #~ msgid "FFmpeg encoding options"
 #~ msgstr "FFmpeg Dekodierer Optionen"
 
-#~ msgid "Two pass"
-#~ msgstr "Zwei Durchl?ufe"
+#~ msgid "Set quantizer for a constant quantizer/quality encoding"
+#~ msgstr "Quantizer setzen f?r konstante Quantizer/Qualit?ts-Kodierung"
 
+#~ msgid "Enable interlaced encoding"
+#~ msgstr "Interlace-Kodierung aktivieren"
+
 #~ msgid "_Aspect ratio"
 #~ msgstr "S_eitenverh?ltnis"
 
@@ -6277,14 +6722,24 @@
 #~ msgstr "ME Methode:"
 
 #~ msgid "Max I-frame interval:"
-#~ msgstr "Max. I-Frame Abstand:"
+#~ msgstr "Max. I-Frame Intervall:"
 
+#~ msgid "Allow 4 motion vectors per macroblock (slightly better quality)"
+#~ msgstr ""
+#~ "4 Bewegungsvektoren pro Makroblock erlauben (etwas bessere Qualit?t)"
+
+#~ msgid "MV0"
+#~ msgstr "MV0"
+
 #~ msgid "0: None"
 #~ msgstr "0: Keine"
 
 #~ msgid "5: X1"
 #~ msgstr "5: X1"
 
+#~ msgid "Maximum interval between keyframes in frames"
+#~ msgstr "Maximales Intervall zwischen Keyframes in Bildern"
+
 #~ msgid "0: SAD"
 #~ msgstr "0: SAD"
 
@@ -6342,8 +6797,15 @@
 #~ msgstr "Normal, Gr??e 2"
 
 #~ msgid "Quantizer range - Min:"
-#~ msgstr "Quantisierer-Bereich (Min.):"
+#~ msgstr "Quantizer-Bereich (Min.):"
 
+#~ msgid ""
+#~ "Trellis searched quantization will find the optimal encoding for each 8x8 "
+#~ "block"
+#~ msgstr ""
+#~ "Trellis-suchende Quantization findet die optimale Kodierung f?r jeden 8x8 "
+#~ "Block"
+
 #~ msgid "Rate distorted CBP"
 #~ msgstr "CBP Verzerrungsgrad"
 
@@ -6359,21 +6821,12 @@
 #~ msgid "Masking"
 #~ msgstr "Maskierung"
 
-#~ msgid "Max quantizer difference:"
-#~ msgstr "Max. Quantisierungsunterschied:"
-
 #~ msgid "Maximum  quantizer difference between I or P frames"
-#~ msgstr "Maximaler Quantisierungsunterschied zwischen I oder P Bildern"
+#~ msgstr "Maximaler Quantizer-Unterschied zwischen I- oder P-Frames"
 
 #~ msgid "8000"
 #~ msgstr "8000"
 
-#~ msgid "Only Errors"
-#~ msgstr "nur Fehler"
-
-#~ msgid "All Messages"
-#~ msgstr "Alle Meldungen"
-
 #~ msgid "Could not decode the frame"
 #~ msgstr "Kann das Bild nicht dekodieren"
 
@@ -6383,9 +6836,51 @@
 #~ msgid "Select 2nd track"
 #~ msgstr "Zweite Spur ausw?hlen"
 
-#~ msgid "Append video"
-#~ msgstr "Video anh?ngen"
+#~ msgid "Save Defaults"
+#~ msgstr "Voreinstellungen speichern"
 
+#~ msgid "Reset Defaults"
+#~ msgstr "Zu den Voreinstellungen zur?ck setzen"
+
+#~ msgid "_Swap marks A and B if A > B"
+#~ msgstr "_Passe die Marken A und B an, wenn A > B"
+
+#~ msgid "S_ave preferences on exit"
+#~ msgstr "Einstellungen beim _Beenden speichern"
+
+#~ msgid "_MPEG auto split (MB):"
+#~ msgstr "_MPEG automatische Aufteilung (MB):"
+
+#~ msgid "_Use OpenDML (don't split large AVI files)"
+#~ msgstr "Ben_utze OpenDML (kein Aufteilen von AVI Dateien)"
+
+#~ msgid "_Reuse 2-pass log"
+#~ msgstr "2. Durchlauf-Log wieder verwenden"
+
+#~ msgid "ALSA _device:"
+#~ msgstr "ALSA _Ger?t:"
+
+#~ msgid "Audio"
+#~ msgstr "Audio"
+
+#~ msgid "_Video output:"
+#~ msgstr "_Video Ausgabe:"
+
+#~ msgid "Threads"
+#~ msgstr "Threads"
+
+#~ msgid "MultiThread"
+#~ msgstr "MultiThread"
+
+#~ msgid "Path to external filters"
+#~ msgstr "Pfad zu externen Filtern"
+
+#~ msgid "Only Errors"
+#~ msgstr "nur Fehler"
+
+#~ msgid "All Messages"
+#~ msgstr "Alle Meldungen"
+
 #~ msgid "Save as dual audio avi"
 #~ msgstr "Speichern als 2 Kanal avi"
 



From mean at mail.berlios.de  Tue May 15 16:28:53 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 15 May 2007 16:28:53 +0200
Subject: [Avidemux-svn-commit] r3096 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK/ADM_dialog ADM_NONE/ADM_dialog ADM_QT4/ADM_dialog
	ADM_commonUI
Message-ID: <200705151428.l4FESrmV016480@sheep.berlios.de>

Author: mean
Date: 2007-05-15 16:28:52 +0200 (Tue, 15 May 2007)
New Revision: 3096

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp
Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_lavdecoder.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
Log:
lavDecoder moved to dialogFactory

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_lavdecoder.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_lavdecoder.cpp	2007-05-15 14:09:02 UTC (rev 3095)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_lavdecoder.cpp	2007-05-15 14:28:52 UTC (rev 3096)
@@ -1,122 +0,0 @@
-//
-// C++ Implementation: %{MODULE}
-//
-// Description:
-//
-//
-// Author: %{AUTHOR} <%{EMAIL}>, (C) %{YEAR}
-//
-// Copyright: See COPYING file that comes with this distribution
-//
-//
-#include <config.h>
-#include "ADM_lavcodec.h"
-
-#include <stdio.h>
-#include <stdlib.h>
-
-
-#include <gdk/gdkkeysyms.h>
-#include <gtk/gtk.h>
-
-
-#include <gdk/gdkkeysyms.h>
-#include <gtk/gtk.h>
-#include <math.h>
-
-#include "default.h"
-#include "ADM_toolkit_gtk/ADM_gladeSupport.h"
-#include "ADM_toolkit_gtk/toolkit_gtk.h"
-#include "ADM_toolkit_gtk/toolkit_gtk_include.h"
-#include "ADM_toolkit/toolkit.hxx"
-#include "ADM_assert.h" 
-#define CHECK_GET(x,y) {*y=gtk_toggle_button_get_active( GTK_TOGGLE_BUTTON(WID(x)));}
-#define CHECK_SET(x,y) {gtk_toggle_button_set_active( GTK_TOGGLE_BUTTON(WID(x)),*y);}	
-
-static GtkWidget	*create_dialog1 (void);
-uint8_t DIA_lavDecoder(uint32_t *swapUv, uint32_t *showU);
-uint8_t DIA_lavDecoder(uint32_t *swapUv, uint32_t *showU)
-{
-	
-GtkWidget *dialog;
-	int ret;
-
-	
-
-	dialog=create_dialog1();
-//	gtk_transient(dialog);
-        gtk_register_dialog(dialog);
-	
-	CHECK_SET(checkbuttonSwap,swapUv);
-	CHECK_SET(checkbutton2,showU);
-	ret=0;
-	if(gtk_dialog_run(GTK_DIALOG(dialog))==GTK_RESPONSE_OK)
-	{
-		CHECK_GET(checkbuttonSwap,swapUv);
-		CHECK_GET(checkbutton2,showU);
-	}
-        gtk_unregister_dialog(dialog);
-	gtk_widget_destroy(dialog);
-
-	return ret;
-}	
-
-
-
-GtkWidget*
-create_dialog1 (void)
-{
-  GtkWidget *dialog1;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *vbox1;
-  GtkWidget *checkbuttonSwap;
-  GtkWidget *checkbutton2;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *okbutton1;
-
-  dialog1 = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog1), _("Libavcodec Decoder Option"));
-
-  dialog_vbox1 = GTK_DIALOG (dialog1)->vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  vbox1 = gtk_vbox_new (FALSE, 0);
-  gtk_widget_show (vbox1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), vbox1, TRUE, TRUE, 0);
-
-  checkbuttonSwap = gtk_check_button_new_with_mnemonic (_("Swap UV"));
-  gtk_widget_show (checkbuttonSwap);
-  gtk_box_pack_start (GTK_BOX (vbox1), checkbuttonSwap, FALSE, FALSE, 0);
-
-  checkbutton2 = gtk_check_button_new_with_mnemonic (_("Show motion Vectors"));
-  gtk_widget_show (checkbutton2);
-  gtk_box_pack_start (GTK_BOX (vbox1), checkbutton2, FALSE, FALSE, 0);
-
-  dialog_action_area1 = GTK_DIALOG (dialog1)->action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  cancelbutton1 = gtk_button_new_from_stock ("gtk-cancel");
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock ("gtk-ok");
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, "dialog1");
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, "dialog_vbox1");
-  GLADE_HOOKUP_OBJECT (dialog1, vbox1, "vbox1");
-  GLADE_HOOKUP_OBJECT (dialog1, checkbuttonSwap, "checkbuttonSwap");
-  GLADE_HOOKUP_OBJECT (dialog1, checkbutton2, "checkbutton2");
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, "dialog_action_area1");
-  GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, "cancelbutton1");
-  GLADE_HOOKUP_OBJECT (dialog1, okbutton1, "okbutton1");
-
-  return dialog1;
-}
-

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp	2007-05-15 14:09:02 UTC (rev 3095)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp	2007-05-15 14:28:52 UTC (rev 3096)
@@ -1,185 +0,0 @@
-#include <sys/types.h>
-#include <sys/stat.h>
-#include <unistd.h>
-#include <string.h>
-#include <stdio.h>
-
-#include <gdk/gdkkeysyms.h>
-#include <gtk/gtk.h>
-
-
-#include <gdk/gdkkeysyms.h>
-#include <gtk/gtk.h>
-# include <config.h>
-#include "default.h"
-#include "ADM_toolkit_gtk/ADM_gladeSupport.h"
-#include "ADM_toolkit_gtk/toolkit_gtk.h"
-#include "ADM_toolkit_gtk/toolkit_gtk_include.h"
-#include "ADM_assert.h"
-
-static GtkWidget	*create_dialog1 (void);
-
-/**
-		*maxbitrate : bitrate in/out
-		qz			: quantisation in/out
-		opt1			: initial options in
-		opts			: options : out
-
-
-*/
-
-uint8_t  DIA_mpeg2opt(uint32_t *maxbitrate, uint32_t *qz, char *opt1,char **opts)
-{
-
-GtkWidget *dialog;
-char str[500];
-uint8_t  ret=0;
-gint r;
-
-#define FILL_ENTRY(widget_name) {		 \
-gtk_editable_delete_text(GTK_EDITABLE(lookup_widget(dialog,#widget_name)), 0,-1);\
-gtk_editable_insert_text(GTK_EDITABLE(lookup_widget(dialog,#widget_name)), str, strlen(str), &r);}
-
-			dialog=create_dialog1();
-//			gtk_transient(dialog);
-                        gtk_register_dialog(dialog);
-			sprintf(str,"%ld",*maxbitrate);
-			FILL_ENTRY(entryBitrate);
-			sprintf(str,"%ld",*qz);
-			FILL_ENTRY(entryQuant);
-			strcpy(str,opt1);
-			FILL_ENTRY(entryArgs);
-
-
-			ret=0;
-			if(gtk_dialog_run(GTK_DIALOG(dialog))==GTK_RESPONSE_OK)
-			{
-
-				gchar *s;
-				uint32_t val1;
-				ret=1;
-#define READ_ENTRY(widget_name)   gtk_editable_get_chars(GTK_EDITABLE (lookup_widget(dialog,#widget_name)), 0, -1);
-
-			s=READ_ENTRY(entryBitrate);
-			val1=atoi(s);
-			if(!val1) ret=0;
-			else
-					*maxbitrate=val1;
-
-			s=READ_ENTRY(entryQuant);
-			val1=atoi(s);
-			if(!val1||val1>31) ret=0;
-			else
-					*qz=val1;
-			s=READ_ENTRY(entryArgs);
-			if(ret)
-					*opts=ADM_strdup(s);
-				else
-					*opts=NULL;
-
-			}
-                gtk_unregister_dialog(dialog);
-		gtk_widget_destroy(dialog);		
-		return ret;
-}
-
-
-
-GtkWidget	*create_dialog1 (void)
-{
-  GtkWidget *dialog1;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *table1;
-  GtkWidget *label1;
-  GtkWidget *label2;
-  GtkWidget *label3;
-  GtkWidget *entryBitrate;
-  GtkWidget *entryQuant;
-  GtkWidget *entryArgs;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *okbutton1;
-
-  dialog1 = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog1), _("Mpeg2 options"));
-
-  dialog_vbox1 = GTK_DIALOG (dialog1)->vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  table1 = gtk_table_new (3, 2, FALSE);
-  gtk_widget_show (table1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), table1, TRUE, TRUE, 0);
-
-  label1 = gtk_label_new (_("Other arg"));
-  gtk_widget_show (label1);
-  gtk_table_attach (GTK_TABLE (table1), label1, 0, 1, 2, 3,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_label_set_justify (GTK_LABEL (label1), GTK_JUSTIFY_LEFT);
-  gtk_misc_set_alignment (GTK_MISC (label1), 0, 0.5);
-
-  label2 = gtk_label_new (_("Quantisation (2-31)"));
-  gtk_widget_show (label2);
-  gtk_table_attach (GTK_TABLE (table1), label2, 0, 1, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_label_set_justify (GTK_LABEL (label2), GTK_JUSTIFY_LEFT);
-  gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
-
-  label3 = gtk_label_new (_("Maximum bitrate (kbps)"));
-  gtk_widget_show (label3);
-  gtk_table_attach (GTK_TABLE (table1), label3, 0, 1, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_label_set_justify (GTK_LABEL (label3), GTK_JUSTIFY_LEFT);
-  gtk_misc_set_alignment (GTK_MISC (label3), 0, 0.5);
-
-  entryBitrate = gtk_entry_new ();
-  gtk_widget_show (entryBitrate);
-  gtk_table_attach (GTK_TABLE (table1), entryBitrate, 1, 2, 0, 1,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  entryQuant = gtk_entry_new ();
-  gtk_widget_show (entryQuant);
-  gtk_table_attach (GTK_TABLE (table1), entryQuant, 1, 2, 1, 2,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  entryArgs = gtk_entry_new ();
-  gtk_widget_show (entryArgs);
-  gtk_table_attach (GTK_TABLE (table1), entryArgs, 1, 2, 2, 3,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  dialog_action_area1 = GTK_DIALOG (dialog1)->action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  cancelbutton1 = gtk_button_new_from_stock ("gtk-cancel");
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock ("gtk-ok");
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, "dialog1");
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, "dialog_vbox1");
-  GLADE_HOOKUP_OBJECT (dialog1, table1, "table1");
-  GLADE_HOOKUP_OBJECT (dialog1, label1, "label1");
-  GLADE_HOOKUP_OBJECT (dialog1, label2, "label2");
-  GLADE_HOOKUP_OBJECT (dialog1, label3, "label3");
-  GLADE_HOOKUP_OBJECT (dialog1, entryBitrate, "entryBitrate");
-  GLADE_HOOKUP_OBJECT (dialog1, entryQuant, "entryQuant");
-  GLADE_HOOKUP_OBJECT (dialog1, entryArgs, "entryArgs");
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, "dialog_action_area1");
-  GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, "cancelbutton1");
-  GLADE_HOOKUP_OBJECT (dialog1, okbutton1, "okbutton1");
-
-  return dialog1;
-}
-

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-05-15 14:09:02 UTC (rev 3095)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-05-15 14:28:52 UTC (rev 3096)
@@ -11,12 +11,12 @@
 libADM_dialog_a_SOURCES =  DIA_vcodec.cpp DIA_acodec.cpp \
 	DIA_properties.cpp  DIA_about.cpp DIA_recent.cpp \
 	DIA_resize.cpp DIA_working.cpp \
-	DIA_working.h DIA_busy.cpp DIA_busy.h DIA_exLame.cpp DIA_pipe.cpp DIA_mpeg2opt.cpp \
+	DIA_working.h DIA_busy.cpp DIA_busy.h DIA_exLame.cpp DIA_pipe.cpp  \
 	DIA_xvcd.cpp  \
 	DIA_xvid.cpp DIA_crop.cpp DIA_color.cpp DIA_encoding.cpp   \
 	DIA_xvid4.cpp  \
 	DIA_pause.cpp \
-	DIA_lavdecoder.cpp DIA_calculator.cpp DIA_equalizer.cpp \
+	DIA_calculator.cpp DIA_equalizer.cpp \
 	DIA_vobsub.cpp DIA_x264.cpp DIA_ocr.cpp  DIA_hue.cpp DIA_eq2.cpp \
 	DIA_asharp.cpp  DIA_idx_pg.cpp  \
 	DIA_cnr2.cpp DIA_jobs.cpp DIA_jobs_save.cpp  \
@@ -40,7 +40,7 @@
 DIA_cnr2.cpp          \
 DIA_color.cpp         DIA_eq2.cpp          \
 DIA_coloryuv.cpp      DIA_equalizer.cpp    DIA_mpdelogo.cpp     \
-DIA_contrast.cpp      DIA_exLame.cpp       DIA_mpeg2opt.cpp    DIA_srt.cpp \
+DIA_contrast.cpp      DIA_exLame.cpp       DIA_srt.cpp \
 DIA_about.cpp         \
 DIA_acodec.cpp       DIA_crop.cpp          \
 DIA_animated.cpp     DIA_hue.cpp          DIA_ocr.cpp         DIA_vcodec.cpp \
@@ -52,7 +52,7 @@
 DIA_preview.cpp     DIA_xvcd.cpp \
 DIA_busy.cpp         DIA_properties.cpp  DIA_xvid.cpp \
 DIA_busy.h            DIA_quota.cpp       DIA_xvid4.cpp \
-DIA_calculator.cpp   DIA_encoding.cpp      DIA_lavdecoder.cpp   DIA_recent.cpp \
+DIA_calculator.cpp   DIA_encoding.cpp      DIA_recent.cpp \
 DIA_chromaShift.cpp  DIA_encoding.h        DIA_lavpp_deint.cpp   
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-15 14:09:02 UTC (rev 3095)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-15 14:28:52 UTC (rev 3096)
@@ -116,7 +116,7 @@
 uint8_t initGUI( void ){return 1;}
 
 uint8_t DIA_job(uint32_t nb,char **name){return 0;}
-uint8_t DIA_lavDecoder(uint32_t *swapUv, uint32_t *showU){return 0;}
+//uint8_t DIA_lavDecoder(uint32_t *swapUv, uint32_t *showU){return 0;}
 uint8_t DIA_resize(uint32_t *width,uint32_t *height,uint32_t *algo,uint32_t originalw, 
                         uint32_t originalh,uint32_t fps) {return 0;}
 uint8_t DIA_d3d(double *luma,double *chroma,double *temporal){return 0;}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-15 14:09:02 UTC (rev 3095)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-15 14:28:52 UTC (rev 3096)
@@ -109,7 +109,7 @@
 uint8_t initGUI( void ){return 1;}
 
 uint8_t DIA_job(uint32_t nb,char **name){return 0;}
-uint8_t DIA_lavDecoder(uint32_t *swapUv, uint32_t *showU){return 0;}
+//uint8_t DIA_lavDecoder(uint32_t *swapUv, uint32_t *showU){return 0;}
 //uint8_t DIA_d3d(double *luma,double *chroma,double *temporal){return 0;}
 uint8_t DIA_kerneldeint(uint32_t *order, uint32_t *threshold, uint32_t *sharp, 
                           uint32_t *twoway, uint32_t *map){return 0;}

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp (from rev 3067, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp	2007-05-11 15:41:44 UTC (rev 3067)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp	2007-05-15 14:28:52 UTC (rev 3096)
@@ -0,0 +1,54 @@
+//
+// C++ Implementation: ADM_vidForcedPP
+//
+// Description: 
+//
+//	Force postprocessing assuming constant quant & image type
+//	Uselefull on some badly authored DVD for example
+//
+// Author: mean <fixounet at free.fr>, (C) 2004
+//
+// Copyright: See COPYING file that comes with this distribution
+//
+//
+#include <config.h>
+
+
+#include <string.h>
+#include <stdio.h>
+#include <math.h>
+#include "ADM_lavcodec.h"
+#include "default.h"
+#include "ADM_colorspace/ADM_rgb.h"
+
+#include "ADM_image.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_video/ADM_vidASharp_param.h"
+#include "DIA_flyDialog.h"
+#include "DIA_flyAsharp.h"
+#include "ADM_assert.h"
+
+
+#include "ADM_toolkit/toolkit.hxx"
+
+#include "ADM_userInterfaces/ADM_commonUI/DIA_factory.h"
+#include "ADM_codecs/ADM_ffmpegConfig.h"
+#include "ADM_encoder/ADM_vidEncode.hxx"
+/**
+      \fn DIA_lavDecoder
+      \brief Dialog for lavcodec *DECODER* option
+*/
+uint8_t DIA_lavDecoder(uint32_t *swapUv, uint32_t *showU)
+{
+int ret=0;	
+         
+         diaElemToggle    swap(swapUv,_("Swap U & V:"));
+         diaElemToggle    show(showU,_("Show _Vectors:"));
+         diaElem *tabs[]={&swap,&show};
+        if( diaFactoryRun(_("Lavcodec Decoder Configuration"),2,tabs))
+	{
+          return 1;
+        }
+         return 0;
+}
+// EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-15 14:09:02 UTC (rev 3095)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-15 14:28:52 UTC (rev 3096)
@@ -8,7 +8,8 @@
 DIA_audioFilter.cpp DIA_flyDialog.cpp DIA_flyCrop.cpp \
 DIA_flyAsharp.cpp DIA_flyChromaShift.cpp DIA_flyContrast.cpp \
 DIA_flyHue.cpp \
-DIA_tdeint.cpp DIA_v2v.cpp
+DIA_tdeint.cpp DIA_v2v.cpp \
+DIA_lavDecoder.cpp
 
 
 INCLUDES = $(all_includes) $(GTK_CFLAGS) $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \



From mean at mail.berlios.de  Tue May 15 16:51:46 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 15 May 2007 16:51:46 +0200
Subject: [Avidemux-svn-commit] r3097 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200705151451.l4FEpksl018695@sheep.berlios.de>

Author: mean
Date: 2007-05-15 16:51:45 +0200 (Tue, 15 May 2007)
New Revision: 3097

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_index_pg.cpp
Log:
temp

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_index_pg.cpp (from rev 3081, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp	2007-05-13 14:39:42 UTC (rev 3081)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_index_pg.cpp	2007-05-15 14:51:45 UTC (rev 3097)
@@ -0,0 +1,179 @@
+/***************************************************************************
+                          DIA_dmx.cpp  -  description
+                             -------------------     
+Indexer progress dialog                             
+    
+    copyright            : (C) 2005 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include "config.h"
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include <math.h>
+#include <assert.h>
+
+#include <QtCore/QVariant>
+#include <QtGui/QAction>
+#include <QtGui/QApplication>
+#include <QtGui/QButtonGroup>
+#include <QtGui/QDialog>
+#include <QtGui/QLabel>
+#include <QtGui/QProgressBar>
+
+
+#include "default.h"
+#include "ADM_toolkit/toolkit.hxx"
+
+#include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_encoder/ADM_vidEncode.hxx"
+#include "ADM_encoder/adm_encoder.h"
+#include "DIA_idx_pg.h"
+#include "ADM_assert.h"
+
+extern void UI_purge( void );
+
+class Ui_indexingDialog : public QDialog
+ {
+     Q_OBJECT
+ protected : 
+    int lock;
+    
+ public:
+   int abted;
+   
+     Ui_indexingDialog(const char *name);
+     ~Ui_indexingDialog();
+    void setTime(const char *f);
+    void setImage(const char *f);
+    void setETA(const char *f);
+    void setPercent(float f);
+ public slots:
+ private slots:
+
+ private:
+     
+ };
+static Ui_indexingDialog *dialog=NULL; 
+#if 0
+static gint on_destroy_abort(GtkObject * object, gpointer user_data)
+{
+DIA_progressIndexing *pf;
+
+        UNUSED_ARG(object);
+        UNUSED_ARG(user_data);
+
+        pf=(Ui_indexingDialog *)user_data;
+        if(!GUI_Confirmation_HIG(_("Continue indexing"),_("Abort Requested"),_("Do you want to abort indexing ?")))
+        {
+         //       pf->abortRequest();
+                abted=1;
+        }
+
+        return TRUE;
+
+};
+#endif
+
+DIA_progressIndexing::DIA_progressIndexing(const char *name)
+{
+        dialog=new Ui_indexingDialog(name);
+        clock.reset();
+        aborted=0;
+	_nextUpdate=0;
+
+}
+DIA_progressIndexing::~DIA_progressIndexing()
+{
+        ADM_assert(dialog);
+        delete dialog;
+        dialog=NULL;
+}
+uint8_t       DIA_progressIndexing::isAborted(void) 
+{
+        ADM_assert(dialog);
+        return dialog->abted;
+}
+uint8_t DIA_progressIndexing::abortRequest(void)
+{
+        ADM_assert(dialog);
+        aborted=1;
+        dialog->abted=1;
+        return 1;
+}
+uint8_t       DIA_progressIndexing::update(uint32_t done,uint32_t total, uint32_t nbImage, uint32_t hh, uint32_t mm, uint32_t ss)
+{
+        uint32_t tim;
+	#define  GUI_UPDATE_RATE 1000
+
+	tim=clock.getElapsedMS();
+	if(tim>_nextUpdate)
+	{
+        char string[256];
+        double f;
+        	uint32_t   tom,zhh,zmm,zss;
+
+		_nextUpdate=tim+GUI_UPDATE_RATE;
+        sprintf(string,"%02d:%02d:%02d",hh,mm,ss);
+        dialog->setTime(string);
+        
+
+        sprintf(string,"%0lu",nbImage);
+        dialog->setImage(string);
+
+        f=done;
+        f/=total;
+
+        dialog->setPercent(f);
+
+        /* compute ETL */
+       // Do a simple relation between % and time
+        // Elapsed time =total time*percent
+        if(f<0.01) return 1;
+        f=tim/f;
+        // Tom is total time
+        tom=(uint32_t)floor(f);
+        if(tim>tom) return 1;
+        tom=tom-tim;
+        ms2time(tom,&zhh,&zmm,&zss);
+        sprintf(string,"%02d:%02d:%02d",zhh,zmm,zss);
+        dialog->setETA(string);
+        UI_purge();
+        }
+        return 1;
+}
+//****************************** CLASS ***********************
+Ui_indexingDialog::Ui_indexingDialog(const char *name)
+{
+      abted=0;
+}
+Ui_indexingDialog::~Ui_indexingDialog()
+{
+  
+}
+void Ui_indexingDialog::setTime(const char *f)
+{
+    printf("Time:%s\n",f);
+}
+void Ui_indexingDialog::setETA(const char *f)
+{
+    printf("Eta:%s\n",f);
+}
+void Ui_indexingDialog::setPercent(float f)
+{
+    printf("Eta:%f\n",f);
+}
+
+
+
+// EOF



From mean at mail.berlios.de  Tue May 15 17:15:32 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 15 May 2007 17:15:32 +0200
Subject: [Avidemux-svn-commit] r3098 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200705151515.l4FFFW94020931@sheep.berlios.de>

Author: mean
Date: 2007-05-15 17:15:31 +0200 (Tue, 15 May 2007)
New Revision: 3098

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_index_pg.cpp
Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_indexing.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_index_pg.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
Log:
indexing dialog for QT4

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_indexing.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_indexing.cpp	2007-05-15 14:51:45 UTC (rev 3097)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_indexing.cpp	2007-05-15 15:15:31 UTC (rev 3098)
@@ -1,33 +0,0 @@
-# include <config.h>
-
-#include <sys/types.h>
-#include <sys/stat.h>
-#include <unistd.h>
-#include <string.h>
-#include <stdio.h>
-#include <math.h>
-
-#include "default.h"
-#include "prefs.h"
-
-#include "ADM_toolkit/toolkit.hxx"
-
-#include "ADM_assert.h" 
-#include "DIA_idx_pg.h"
-
-DIA_progressIndexing::DIA_progressIndexing(const char *name)
-{}
-DIA_progressIndexing::~DIA_progressIndexing()
-{}
- uint8_t       DIA_progressIndexing::update(uint32_t done,uint32_t total, uint32_t nbImage, uint32_t hh, uint32_t mm, uint32_t ss)
-{
-  return 1;
-}
-uint8_t       DIA_progressIndexing::abortRequest(void)
-{
-  return 0; 
-}
-uint8_t       DIA_progressIndexing::isAborted(void)
-{
-  return 0; 
-}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-15 14:51:45 UTC (rev 3097)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-15 15:15:31 UTC (rev 3098)
@@ -1,10 +1,11 @@
 
 noinst_LIBRARIES = libADM_dialog.a 
-libADM_dialog_a_SOURCES = DIA_busy.cpp  alert_qt4.cpp DIA_none.cpp OCR_none.cpp DIA_indexing.cpp \
+libADM_dialog_a_SOURCES = DIA_busy.cpp  alert_qt4.cpp DIA_none.cpp OCR_none.cpp  \
 AQ_props.cpp AQ_working.cpp AQ_encoding.cpp  DIA_xvid4.cpp AQ_resizing.cpp AT_flyDialog.cpp \
 AQ_crop.cpp AT_QCanvas.cpp \
 AQ_asharp.cpp AQ_chromashift.cpp \
-AQ_contrast.cpp AQ_hue.cpp
+AQ_contrast.cpp AQ_hue.cpp \
+AT_index_pg.cpp
 
 INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \
 		-I../../../ADM_libraries/ADM_utilities \

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_index_pg.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_index_pg.cpp	2007-05-15 14:51:45 UTC (rev 3097)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_index_pg.cpp	2007-05-15 15:15:31 UTC (rev 3098)
@@ -1,179 +0,0 @@
-/***************************************************************************
-                          DIA_dmx.cpp  -  description
-                             -------------------     
-Indexer progress dialog                             
-    
-    copyright            : (C) 2005 by mean
-    email                : fixounet at free.fr
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include "config.h"
-
-#include <stdio.h>
-#include <stdlib.h>
-#include <string.h>
-#include <math.h>
-#include <assert.h>
-
-#include <QtCore/QVariant>
-#include <QtGui/QAction>
-#include <QtGui/QApplication>
-#include <QtGui/QButtonGroup>
-#include <QtGui/QDialog>
-#include <QtGui/QLabel>
-#include <QtGui/QProgressBar>
-
-
-#include "default.h"
-#include "ADM_toolkit/toolkit.hxx"
-
-#include "ADM_video/ADM_genvideo.hxx"
-#include "ADM_encoder/ADM_vidEncode.hxx"
-#include "ADM_encoder/adm_encoder.h"
-#include "DIA_idx_pg.h"
-#include "ADM_assert.h"
-
-extern void UI_purge( void );
-
-class Ui_indexingDialog : public QDialog
- {
-     Q_OBJECT
- protected : 
-    int lock;
-    
- public:
-   int abted;
-   
-     Ui_indexingDialog(const char *name);
-     ~Ui_indexingDialog();
-    void setTime(const char *f);
-    void setImage(const char *f);
-    void setETA(const char *f);
-    void setPercent(float f);
- public slots:
- private slots:
-
- private:
-     
- };
-static Ui_indexingDialog *dialog=NULL; 
-#if 0
-static gint on_destroy_abort(GtkObject * object, gpointer user_data)
-{
-DIA_progressIndexing *pf;
-
-        UNUSED_ARG(object);
-        UNUSED_ARG(user_data);
-
-        pf=(Ui_indexingDialog *)user_data;
-        if(!GUI_Confirmation_HIG(_("Continue indexing"),_("Abort Requested"),_("Do you want to abort indexing ?")))
-        {
-         //       pf->abortRequest();
-                abted=1;
-        }
-
-        return TRUE;
-
-};
-#endif
-
-DIA_progressIndexing::DIA_progressIndexing(const char *name)
-{
-        dialog=new Ui_indexingDialog(name);
-        clock.reset();
-        aborted=0;
-	_nextUpdate=0;
-
-}
-DIA_progressIndexing::~DIA_progressIndexing()
-{
-        ADM_assert(dialog);
-        delete dialog;
-        dialog=NULL;
-}
-uint8_t       DIA_progressIndexing::isAborted(void) 
-{
-        ADM_assert(dialog);
-        return dialog->abted;
-}
-uint8_t DIA_progressIndexing::abortRequest(void)
-{
-        ADM_assert(dialog);
-        aborted=1;
-        dialog->abted=1;
-        return 1;
-}
-uint8_t       DIA_progressIndexing::update(uint32_t done,uint32_t total, uint32_t nbImage, uint32_t hh, uint32_t mm, uint32_t ss)
-{
-        uint32_t tim;
-	#define  GUI_UPDATE_RATE 1000
-
-	tim=clock.getElapsedMS();
-	if(tim>_nextUpdate)
-	{
-        char string[256];
-        double f;
-        	uint32_t   tom,zhh,zmm,zss;
-
-		_nextUpdate=tim+GUI_UPDATE_RATE;
-        sprintf(string,"%02d:%02d:%02d",hh,mm,ss);
-        dialog->setTime(string);
-        
-
-        sprintf(string,"%0lu",nbImage);
-        dialog->setImage(string);
-
-        f=done;
-        f/=total;
-
-        dialog->setPercent(f);
-
-        /* compute ETL */
-       // Do a simple relation between % and time
-        // Elapsed time =total time*percent
-        if(f<0.01) return 1;
-        f=tim/f;
-        // Tom is total time
-        tom=(uint32_t)floor(f);
-        if(tim>tom) return 1;
-        tom=tom-tim;
-        ms2time(tom,&zhh,&zmm,&zss);
-        sprintf(string,"%02d:%02d:%02d",zhh,zmm,zss);
-        dialog->setETA(string);
-        UI_purge();
-        }
-        return 1;
-}
-//****************************** CLASS ***********************
-Ui_indexingDialog::Ui_indexingDialog(const char *name)
-{
-      abted=0;
-}
-Ui_indexingDialog::~Ui_indexingDialog()
-{
-  
-}
-void Ui_indexingDialog::setTime(const char *f)
-{
-    printf("Time:%s\n",f);
-}
-void Ui_indexingDialog::setETA(const char *f)
-{
-    printf("Eta:%s\n",f);
-}
-void Ui_indexingDialog::setPercent(float f)
-{
-    printf("Eta:%f\n",f);
-}
-
-
-
-// EOF

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_index_pg.cpp (from rev 3097, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_index_pg.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_index_pg.cpp	2007-05-15 14:51:45 UTC (rev 3097)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_index_pg.cpp	2007-05-15 15:15:31 UTC (rev 3098)
@@ -0,0 +1,254 @@
+/***************************************************************************
+                          DIA_dmx.cpp  -  description
+                             -------------------     
+Indexer progress dialog                             
+    
+    copyright            : (C) 2005 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include "config.h"
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include <math.h>
+#include <assert.h>
+
+#include <QtCore/QVariant>
+#include <QtGui/QAction>
+#include <QtGui/QApplication>
+#include <QtGui/QButtonGroup>
+#include <QtGui/QDialog>
+#include <QtGui/QLabel>
+#include <QtGui/QProgressBar>
+#include <QtGui/QVBoxLayout>
+#include <QtGui/QWidget>
+
+
+
+#include "default.h"
+#include "ADM_toolkit/toolkit.hxx"
+
+#include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_encoder/ADM_vidEncode.hxx"
+#include "ADM_encoder/adm_encoder.h"
+#include "DIA_idx_pg.h"
+#include "ADM_assert.h"
+
+extern void UI_purge( void );
+
+class Ui_iDialog
+{
+public:
+    QWidget *verticalLayout;
+    QVBoxLayout *vboxLayout;
+    QLabel *labelTimeLeft;
+    QLabel *labelImages;
+    QProgressBar *progressBar;
+
+    void setupUi(QDialog *Dialog)
+    {
+    Dialog->setObjectName(QString::fromUtf8("Dialog"));
+    verticalLayout = new QWidget(Dialog);
+    verticalLayout->setObjectName(QString::fromUtf8("verticalLayout"));
+    verticalLayout->setGeometry(QRect(9, 9, 215, 89));
+    vboxLayout = new QVBoxLayout(verticalLayout);
+    vboxLayout->setSpacing(6);
+    vboxLayout->setMargin(0);
+    vboxLayout->setObjectName(QString::fromUtf8("vboxLayout"));
+    labelTimeLeft = new QLabel(verticalLayout);
+    labelTimeLeft->setObjectName(QString::fromUtf8("labelTimeLeft"));
+    vboxLayout->addWidget(labelTimeLeft);
+    
+    labelImages = new QLabel(verticalLayout);
+    labelImages->setObjectName(QString::fromUtf8("labelImages"));
+    vboxLayout->addWidget(labelImages);
+
+    progressBar = new QProgressBar(verticalLayout);
+    progressBar->setObjectName(QString::fromUtf8("progressBar"));
+    progressBar->setValue(0);
+    progressBar->setOrientation(Qt::Horizontal);
+
+    vboxLayout->addWidget(progressBar);
+
+
+    retranslateUi(Dialog);
+
+    QSize size(236, 111);
+    size = size.expandedTo(Dialog->minimumSizeHint());
+    Dialog->resize(size);
+
+
+    QMetaObject::connectSlotsByName(Dialog);
+    } // setupUi
+
+    void retranslateUi(QDialog *Dialog)
+    {
+    Dialog->setWindowTitle(QApplication::translate("Dialog", "Indexing", 0, QApplication::UnicodeUTF8));
+    labelTimeLeft->setText(QApplication::translate("Dialog", "Time Left : Infinity", 0, QApplication::UnicodeUTF8));
+    labelImages->setText(QApplication::translate("Dialog", "# Images :", 0, QApplication::UnicodeUTF8));
+    
+    Q_UNUSED(Dialog);
+    } // retranslateUi
+
+};
+
+namespace Ui {
+    class Dialog: public Ui_iDialog {};
+} // namespace Ui
+
+
+
+class Ui_indexingDialog : public QDialog
+ {
+     Q_OBJECT
+ protected : 
+    int lock;
+    
+ public:
+   int abted;
+   Ui_iDialog ui;
+     Ui_indexingDialog(const char *name);
+     ~Ui_indexingDialog();
+    void setTime(const char *f);
+    void setImage(const char *f);
+    void setETA(const char *f);
+    void setPercent(float f);
+ public slots:
+ private slots:
+
+ private:
+     
+ };
+static Ui_indexingDialog *dialog=NULL; 
+#if 0
+static gint on_destroy_abort(GtkObject * object, gpointer user_data)
+{
+DIA_progressIndexing *pf;
+
+        UNUSED_ARG(object);
+        UNUSED_ARG(user_data);
+
+        pf=(Ui_indexingDialog *)user_data;
+        if(!GUI_Confirmation_HIG(_("Continue indexing"),_("Abort Requested"),_("Do you want to abort indexing ?")))
+        {
+         //       pf->abortRequest();
+                abted=1;
+        }
+
+        return TRUE;
+
+};
+#endif
+
+DIA_progressIndexing::DIA_progressIndexing(const char *name)
+{
+        dialog=new Ui_indexingDialog(name);
+        clock.reset();
+        aborted=0;
+	_nextUpdate=0;
+        dialog->show();
+        UI_purge();
+
+}
+DIA_progressIndexing::~DIA_progressIndexing()
+{
+        ADM_assert(dialog);
+        delete dialog;
+        dialog=NULL;
+}
+uint8_t       DIA_progressIndexing::isAborted(void) 
+{
+        ADM_assert(dialog);
+        return dialog->abted;
+}
+uint8_t DIA_progressIndexing::abortRequest(void)
+{
+        ADM_assert(dialog);
+        aborted=1;
+        dialog->abted=1;
+        return 1;
+}
+uint8_t       DIA_progressIndexing::update(uint32_t done,uint32_t total, uint32_t nbImage, uint32_t hh, uint32_t mm, uint32_t ss)
+{
+        uint32_t tim;
+	#define  GUI_UPDATE_RATE 1000
+
+	tim=clock.getElapsedMS();
+	if(tim>_nextUpdate)
+	{
+        char string[256];
+        double f;
+        	uint32_t   tom,zhh,zmm,zss;
+
+		_nextUpdate=tim+GUI_UPDATE_RATE;
+        sprintf(string,"%02d:%02d:%02d",hh,mm,ss);
+        dialog->setTime(string);
+        
+
+        sprintf(string,_("# Images :%0lu"),nbImage);
+        dialog->setImage(string);
+
+        f=done;
+        f/=total;
+
+        dialog->setPercent(f);
+
+        /* compute ETL */
+       // Do a simple relation between % and time
+        // Elapsed time =total time*percent
+        if(f<0.01) return 1;
+        f=tim/f;
+        // Tom is total time
+        tom=(uint32_t)floor(f);
+        if(tim>tom) return 1;
+        tom=tom-tim;
+        ms2time(tom,&zhh,&zmm,&zss);
+        sprintf(string,_("Time Left :%02d:%02d:%02d"),zhh,zmm,zss);
+        dialog->setETA(string);
+        UI_purge();
+        }
+        return 1;
+}
+//****************************** CLASS ***********************
+Ui_indexingDialog::Ui_indexingDialog(const char *name)
+{
+      abted=0;
+      ui.setupUi(this);
+}
+Ui_indexingDialog::~Ui_indexingDialog()
+{
+    
+}
+void Ui_indexingDialog::setTime(const char *f)
+{
+    //printf("Time:%s\n",f);
+}
+void Ui_indexingDialog::setImage(const char *f)
+{
+    dialog->ui.labelImages->setText(f);
+}
+
+void Ui_indexingDialog::setETA(const char *f)
+{
+   // printf("Eta:%s\n",f);
+  dialog->ui.labelTimeLeft->setText(f);
+}
+void Ui_indexingDialog::setPercent(float f)
+{
+    dialog->ui.progressBar->setValue((int)(100.*f));
+    
+}
+
+
+
+// EOF



From mean at mail.berlios.de  Tue May 15 17:44:16 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 15 May 2007 17:44:16 +0200
Subject: [Avidemux-svn-commit] r3099 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI
Message-ID: <200705151544.l4FFiG3n024015@sheep.berlios.de>

Author: mean
Date: 2007-05-15 17:44:16 +0200 (Tue, 15 May 2007)
New Revision: 3099

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp
Log:
fix typo (X86-64 vs X86_64)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp	2007-05-15 15:15:31 UTC (rev 3098)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp	2007-05-15 15:44:16 UTC (rev 3099)
@@ -110,7 +110,7 @@
 	x86=1;
 #endif
 #ifdef ARCH_X86_64
-	x86-64=1;
+	x86_64=1;
 #endif
 #ifdef ARCH_POWERPC
 	powerpc=1;



From mean at mail.berlios.de  Tue May 15 21:06:19 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 15 May 2007 21:06:19 +0200
Subject: [Avidemux-svn-commit] r3100 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK/ADM_dialog ADM_NONE/ADM_dialog ADM_QT4/ADM_dialog
	ADM_commonUI
Message-ID: <200705151906.l4FJ6Jd6020300@sheep.berlios.de>

Author: mean
Date: 2007-05-15 21:06:18 +0200 (Tue, 15 May 2007)
New Revision: 3100

Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
Log:
removed old cruft, unneeded stubs

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp	2007-05-15 15:44:16 UTC (rev 3099)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp	2007-05-15 19:06:18 UTC (rev 3100)
@@ -1,374 +0,0 @@
-#include <config.h>
-#include "ADM_lavcodec.h"
-
-
-
-
-#include <gdk/gdkkeysyms.h>
-#include <gtk/gtk.h>
-
-
-#include <gdk/gdkkeysyms.h>
-#include <gtk/gtk.h>
-# include <math.h>
-# include <config.h>
-
-#include "default.h"
-
-
-
-#include "ADM_toolkit_gtk/ADM_gladeSupport.h"
-#include "ADM_toolkit_gtk/toolkit_gtk.h"
-#include "ADM_toolkit_gtk/toolkit_gtk_include.h"
-#include "ADM_toolkit/toolkit.hxx"
-#include "ADM_assert.h" 
-#include "ADM_codecs/ADM_ffmpegConfig.h"
-#include "ADM_encoder/ADM_vidEncode.hxx"
-
-
-static GtkWidget	*create_dialog1 (void);
-
-
-uint8_t DIA_XVCDParam(char *title,COMPRESSION_MODE * mode, uint32_t * qz,
-		   				   uint32_t * br,uint32_t *fsize,FFcodecSetting *conf)
-{
-	GtkWidget *dialog;
-
-	gchar *str;
-	char string[200];
-	int ret;
-
-	gint r,b;
-
-
-
-#define WID(x) lookup_widget(dialog,#x)
-#define CHECK_GET(x,y) {y=gtk_toggle_button_get_active( GTK_TOGGLE_BUTTON(WID(x)));}
-#define CHECK_SET(x,y) {gtk_toggle_button_set_active( GTK_TOGGLE_BUTTON(WID(x)),y);}		
-	ret=-1;
-	while(ret==-1)
-	{
-	
-	dialog=create_dialog1();
-//	gtk_transient(dialog);	
-        gtk_register_dialog(dialog);
-  	gtk_window_set_title (GTK_WINDOW (dialog), title);
-	// set the right select button
- switch (*mode)
-	    {
-	    	case COMPRESS_CBR:
-
-			RADIO_SET(radioCBR,1);
-			b=*br/1000;
-			gtk_write_entry(WID(entryCBR),(int)b);
-			break;
-
-		case COMPRESS_2PASS:
-			RADIO_SET(radio2Pass,1);
-			gtk_write_entry(WID(entry2Pass),(int)*fsize);
-			break;
-
-	    	case COMPRESS_CQ:
-			RADIO_SET(radioCQ,1);
-			gtk_write_entry(WID(entryCQ),(int)*qz);
-
-			break;
-		}
-	gtk_write_entry(WID(entry_min),(int) (conf->minBitrate *8)/1000);
-	gtk_write_entry(WID(entry_max),(int) (conf->maxBitrate *8)/1000);
- 	gtk_option_menu_set_history (GTK_OPTION_MENU (WID(optionmenu1)),conf->user_matrix);
-	gtk_option_menu_set_history (GTK_OPTION_MENU (WID(optionmenu1)),conf->user_matrix);
- 	gtk_spin_button_set_value(GTK_SPIN_BUTTON(WID(spinbutton1)),(float)conf->gop_size) ;
-	CHECK_SET(checkbuttonxvid,conf->use_xvid_ratecontrol);
-	if(gtk_dialog_run(GTK_DIALOG(dialog))==GTK_RESPONSE_OK)
-	{
-			int r,value=0;
-				ret=1;
-    				conf->minBitrate=(gtk_read_entry(WID(entry_min))*1000)>>3;
-				conf->maxBitrate=(gtk_read_entry(WID(entry_max))*1000)>>3;
-				conf->user_matrix= getRangeInMenu(WID(optionmenu1));
-				conf->gop_size= gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(WID(spinbutton1)));
-				CHECK_GET(checkbuttonxvid,conf->use_xvid_ratecontrol);
-				r=RADIO_GET(radioCQ)+(2*RADIO_GET(radioCBR))+(4*RADIO_GET(radio2Pass));
-				printf("\n r: %d \n",r);
-				switch(r)
-				{
-				case 2:
-					*mode = COMPRESS_CBR;
-				      	value =		 gtk_read_entry(WID(entryCBR));
-
-		      			if (value < 9000)
-					{
-			  			value *= 1000;
-					}
-		      			if (value > 16 && value < 9000000)
-					{
-			    			*br = value;
-			    			ret = 1;
-		      			} else
-			  		ret = -1;
-		      			break;
-				case 1:
-					*mode = COMPRESS_CQ;
-		      			value =  gtk_read_entry(WID(entryCQ));
-		      			if (value >= 2 && value <= 32)
-						{
-			    			*qz = value;
-			    			ret = 1;
-		      				}
-		      			else
-						{
-							printf("\n incorrect Q parameter\n");
-				    		ret =-1;
-						}
-		  	  	  	break;
-
-				case 4:
-		     				*mode = COMPRESS_2PASS;		       				
-		      				value = gtk_read_entry(WID(entry2Pass));
-        					if((value>0)&&(value<4000))
-          					{
-       							*fsize=value;
-				      			ret=1;
-           					}
-            					else
-             						ret=-1;
-         					break;
-		  		default:
-		      				ADM_assert(0);
-				}
-	}
-	else
-	       ret=0;
-        gtk_unregister_dialog(dialog);
-	gtk_widget_destroy(dialog);
-	}
-	return ret;
-
-}
-
-//---
-
-GtkWidget*
-create_dialog1 (void)
-{
-  GtkWidget *dialog1;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *table1;
-  GtkWidget *radioCQ;
-  GSList *radioCQ_group = NULL;
-  GtkWidget *entryCQ;
-  GtkWidget *radioCBR;
-  GtkWidget *entryCBR;
-  GtkWidget *radio2Pass;
-  GtkWidget *entry2Pass;
-  GtkWidget *label1;
-  GtkWidget *label2;
-  GtkWidget *entry_min;
-  GtkWidget *entry_max;
-  GtkWidget *label3;
-  GtkWidget *optionmenu1;
-  GtkWidget *menu1;
-  GtkWidget *default_mpeg1;
-  GtkWidget *tmpeng_1;
-  GtkWidget *anim__1;
-  GtkWidget *k_vcd1;
-  GtkWidget *label4;
-  GtkObject *spinbutton1_adj;
-  GtkWidget *spinbutton1;
-  GtkWidget *label5;
-  GtkWidget *checkbuttonxvid;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *okbutton1;
-
-  dialog1 = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog1), _("XVCD encoding"));
-
-  dialog_vbox1 = GTK_DIALOG (dialog1)->vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  table1 = gtk_table_new (8, 2, FALSE);
-  gtk_widget_show (table1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), table1, TRUE, TRUE, 0);
-
-  radioCQ = gtk_radio_button_new_with_mnemonic (NULL, _("Constant Quantizer"));
-  gtk_widget_show (radioCQ);
-  gtk_table_attach (GTK_TABLE (table1), radioCQ, 0, 1, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_radio_button_set_group (GTK_RADIO_BUTTON (radioCQ), radioCQ_group);
-  radioCQ_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (radioCQ));
-
-  entryCQ = gtk_entry_new ();
-  gtk_widget_show (entryCQ);
-  gtk_table_attach (GTK_TABLE (table1), entryCQ, 1, 2, 0, 1,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  radioCBR = gtk_radio_button_new_with_mnemonic (NULL, _("Constant Bitrate"));
-  gtk_widget_show (radioCBR);
-  gtk_table_attach (GTK_TABLE (table1), radioCBR, 0, 1, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_radio_button_set_group (GTK_RADIO_BUTTON (radioCBR), radioCQ_group);
-  radioCQ_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (radioCBR));
-
-  entryCBR = gtk_entry_new ();
-  gtk_widget_show (entryCBR);
-  gtk_table_attach (GTK_TABLE (table1), entryCBR, 1, 2, 1, 2,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  radio2Pass = gtk_radio_button_new_with_mnemonic (NULL, _("Dual pass"));
-  gtk_widget_show (radio2Pass);
-  gtk_table_attach (GTK_TABLE (table1), radio2Pass, 0, 1, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_radio_button_set_group (GTK_RADIO_BUTTON (radio2Pass), radioCQ_group);
-  radioCQ_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (radio2Pass));
-
-  entry2Pass = gtk_entry_new ();
-  gtk_widget_show (entry2Pass);
-  gtk_table_attach (GTK_TABLE (table1), entry2Pass, 1, 2, 2, 3,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  label1 = gtk_label_new (_("Min bitrate (kbps) :"));
-  gtk_widget_show (label1);
-  gtk_table_attach (GTK_TABLE (table1), label1, 0, 1, 3, 4,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_label_set_justify (GTK_LABEL (label1), GTK_JUSTIFY_LEFT);
-  gtk_misc_set_alignment (GTK_MISC (label1), 0, 0.5);
-
-  label2 = gtk_label_new (_("Max bitrate (kbps) :"));
-  gtk_widget_show (label2);
-  gtk_table_attach (GTK_TABLE (table1), label2, 0, 1, 4, 5,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_label_set_justify (GTK_LABEL (label2), GTK_JUSTIFY_LEFT);
-  gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
-
-  entry_min = gtk_entry_new ();
-  gtk_widget_show (entry_min);
-  gtk_table_attach (GTK_TABLE (table1), entry_min, 1, 2, 3, 4,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  entry_max = gtk_entry_new ();
-  gtk_widget_show (entry_max);
-  gtk_table_attach (GTK_TABLE (table1), entry_max, 1, 2, 4, 5,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  label3 = gtk_label_new (_("Matrices"));
-  gtk_widget_show (label3);
-  gtk_table_attach (GTK_TABLE (table1), label3, 0, 1, 5, 6,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_label_set_justify (GTK_LABEL (label3), GTK_JUSTIFY_LEFT);
-  gtk_misc_set_alignment (GTK_MISC (label3), 0, 0.5);
-
-  optionmenu1 = gtk_option_menu_new ();
-  gtk_widget_show (optionmenu1);
-  gtk_table_attach (GTK_TABLE (table1), optionmenu1, 1, 2, 5, 6,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  menu1 = gtk_menu_new ();
-
-  default_mpeg1 = gtk_menu_item_new_with_mnemonic (_("Default mpeg"));
-  gtk_widget_show (default_mpeg1);
-  gtk_container_add (GTK_CONTAINER (menu1), default_mpeg1);
-
-  tmpeng_1 = gtk_menu_item_new_with_mnemonic (_("Tmpeng "));
-  gtk_widget_show (tmpeng_1);
-  gtk_container_add (GTK_CONTAINER (menu1), tmpeng_1);
-
-  anim__1 = gtk_menu_item_new_with_mnemonic (_("Anim\303\251"));
-  gtk_widget_show (anim__1);
-  gtk_container_add (GTK_CONTAINER (menu1), anim__1);
-
-  k_vcd1 = gtk_menu_item_new_with_mnemonic (_("K-VCD"));
-  gtk_widget_show (k_vcd1);
-  gtk_container_add (GTK_CONTAINER (menu1), k_vcd1);
-
-  gtk_option_menu_set_menu (GTK_OPTION_MENU (optionmenu1), menu1);
-
-  label4 = gtk_label_new (_("Gop Size  (12):"));
-  gtk_widget_show (label4);
-  gtk_table_attach (GTK_TABLE (table1), label4, 0, 1, 6, 7,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_label_set_justify (GTK_LABEL (label4), GTK_JUSTIFY_LEFT);
-  gtk_misc_set_alignment (GTK_MISC (label4), 0, 0.5);
-
-  spinbutton1_adj = gtk_adjustment_new (12, 1, 24, 1, 10, 10);
-  spinbutton1 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton1_adj), 1, 0);
-  gtk_widget_show (spinbutton1);
-  gtk_table_attach (GTK_TABLE (table1), spinbutton1, 1, 2, 6, 7,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton1), TRUE);
-
-  label5 = gtk_label_new (_("Use Xvid ratecontrol"));
-  gtk_widget_show (label5);
-  gtk_table_attach (GTK_TABLE (table1), label5, 0, 1, 7, 8,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_label_set_justify (GTK_LABEL (label5), GTK_JUSTIFY_LEFT);
-  gtk_misc_set_alignment (GTK_MISC (label5), 0, 0.5);
-
-  checkbuttonxvid = gtk_check_button_new_with_mnemonic ("");
-  gtk_widget_show (checkbuttonxvid);
-  gtk_table_attach (GTK_TABLE (table1), checkbuttonxvid, 1, 2, 7, 8,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  dialog_action_area1 = GTK_DIALOG (dialog1)->action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  cancelbutton1 = gtk_button_new_from_stock ("gtk-cancel");
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock ("gtk-ok");
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, "dialog1");
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, "dialog_vbox1");
-  GLADE_HOOKUP_OBJECT (dialog1, table1, "table1");
-  GLADE_HOOKUP_OBJECT (dialog1, radioCQ, "radioCQ");
-  GLADE_HOOKUP_OBJECT (dialog1, entryCQ, "entryCQ");
-  GLADE_HOOKUP_OBJECT (dialog1, radioCBR, "radioCBR");
-  GLADE_HOOKUP_OBJECT (dialog1, entryCBR, "entryCBR");
-  GLADE_HOOKUP_OBJECT (dialog1, radio2Pass, "radio2Pass");
-  GLADE_HOOKUP_OBJECT (dialog1, entry2Pass, "entry2Pass");
-  GLADE_HOOKUP_OBJECT (dialog1, label1, "label1");
-  GLADE_HOOKUP_OBJECT (dialog1, label2, "label2");
-  GLADE_HOOKUP_OBJECT (dialog1, entry_min, "entry_min");
-  GLADE_HOOKUP_OBJECT (dialog1, entry_max, "entry_max");
-  GLADE_HOOKUP_OBJECT (dialog1, label3, "label3");
-  GLADE_HOOKUP_OBJECT (dialog1, optionmenu1, "optionmenu1");
-  GLADE_HOOKUP_OBJECT (dialog1, menu1, "menu1");
-  GLADE_HOOKUP_OBJECT (dialog1, default_mpeg1, "default_mpeg1");
-  GLADE_HOOKUP_OBJECT (dialog1, tmpeng_1, "tmpeng_1");
-  GLADE_HOOKUP_OBJECT (dialog1, anim__1, "anim__1");
-  GLADE_HOOKUP_OBJECT (dialog1, k_vcd1, "k_vcd1");
-  GLADE_HOOKUP_OBJECT (dialog1, label4, "label4");
-  GLADE_HOOKUP_OBJECT (dialog1, spinbutton1, "spinbutton1");
-  GLADE_HOOKUP_OBJECT (dialog1, label5, "label5");
-  GLADE_HOOKUP_OBJECT (dialog1, checkbuttonxvid, "checkbuttonxvid");
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, "dialog_action_area1");
-  GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, "cancelbutton1");
-  GLADE_HOOKUP_OBJECT (dialog1, okbutton1, "okbutton1");
-
-  return dialog1;
-}
-

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-05-15 15:44:16 UTC (rev 3099)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-05-15 19:06:18 UTC (rev 3100)
@@ -12,7 +12,6 @@
 	DIA_properties.cpp  DIA_about.cpp DIA_recent.cpp \
 	DIA_resize.cpp DIA_working.cpp \
 	DIA_working.h DIA_busy.cpp DIA_busy.h DIA_exLame.cpp DIA_pipe.cpp  \
-	DIA_xvcd.cpp  \
 	DIA_xvid.cpp DIA_crop.cpp DIA_color.cpp DIA_encoding.cpp   \
 	DIA_xvid4.cpp  \
 	DIA_pause.cpp \
@@ -49,7 +48,7 @@
 DIA_pipe.cpp        DIA_working.cpp \
 DIA_defaultAudio.cpp  DIA_jobs.cpp        DIA_working.h \
 DIA_jobs_save.cpp     DIA_x264.cpp \
-DIA_preview.cpp     DIA_xvcd.cpp \
+DIA_preview.cpp     \
 DIA_busy.cpp         DIA_properties.cpp  DIA_xvid.cpp \
 DIA_busy.h            DIA_quota.cpp       DIA_xvid4.cpp \
 DIA_calculator.cpp   DIA_encoding.cpp      DIA_recent.cpp \

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-15 15:44:16 UTC (rev 3099)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-15 19:06:18 UTC (rev 3100)
@@ -100,7 +100,7 @@
 uint8_t DIA_quota(char *) {return 0;}
 
 uint8_t  DIA_job_select(char **jobname, char **filename) {return 0;}
-uint8_t DIA_audioTrack(AudioSource *source, uint32_t *track,uint32_t nbTrack, audioInfo *infos){return 0;}
+//uint8_t DIA_audioTrack(AudioSource *source, uint32_t *track,uint32_t nbTrack, audioInfo *infos){return 0;}
 const char * GUI_getCustomScript(uint32_t nb) {return 0;}
 uint8_t DIA_builtin(void){return 0;}
 uint8_t  DIA_v2v(char **vobname, char **ifoname,char **vobsubname) {return 0;}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-15 15:44:16 UTC (rev 3099)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-15 19:06:18 UTC (rev 3100)
@@ -68,61 +68,34 @@
 int SliderIsShifted=0;
 
 //******************************
-int DIA_coloryuv(COLOR_YUV_PARAM *param){return 0;}
 
+
 #ifdef USE_XX_XVID 
 #include "xvid.h"
 int  DIA_getXvidCompressParams(COMPRESSION_MODE * mode, uint32_t * qz,
 		      uint32_t * br,uint32_t *fsize,xvidEncParam *param){return 0;}
 #endif
+int     DIA_coloryuv(COLOR_YUV_PARAM *param){return 0;}
 uint8_t DIA_animated(ANIMATED_PARAM *param){return 0;}
 uint8_t DIA_cnr2(CNR2Param *param){return 0;}
 uint8_t DIA_getEQ2Param(Eq2_Param *param, AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getEqualizer(EqualizerParam *param, ADMImage *image){return 0;}
 uint8_t DIA_getEqualizer(EqualizerParam *param, AVDMGenericVideoStream *in){return 0;}
-//uint8_t DIA_getHue(Hue_Param *param, AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getMPdelogo(MPDELOGO_PARAM *param,AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getPartial(PARTIAL_CONFIG *param,AVDMGenericVideoStream *son,AVDMGenericVideoStream *previous){return 0;}
-uint8_t DIA_pipe(char **cmd,char **param){return 0;}
-//uint8_t  ( int *mode, int *param, int *muxsize){return 0;}
-//uint8_t  (TDEINT_PARAM *param){return 0;}
 uint8_t DIA_vobsub(vobSubParam *param){return 0;}
 uint8_t DIA_x264(COMPRES_PARAMS *config){return 0;}
-uint8_t DIA_XVCDParam(char *title,COMPRESSION_MODE * mode, uint32_t * qz,
-		   				   uint32_t * br,uint32_t *fsize,FFcodecSetting *conf	){return 0;}
-
-//******************************
-
+uint8_t DIA_job(uint32_t nb,char **name){return 0;}
+uint8_t DIA_videoCodec (SelectCodecType * codec){return 0;}
+uint8_t DIA_audioCodec( AUDIOENCODER *codec ) {return 0;}
+uint8_t DIA_srt(ADMImage *source, SUBCONF *param) {return 0;}			
 uint8_t DIA_quota(char *) {return 0;}
-
 uint8_t  DIA_job_select(char **jobname, char **filename) {return 0;}
-uint8_t DIA_audioTrack(AudioSource *source, uint32_t *track,uint32_t nbTrack, audioInfo *infos){return 0;}
 const char * GUI_getCustomScript(uint32_t nb) {return 0;}
-//uint8_t  DIA_v2v(char **vobname, char **ifoname,char **vobsubname) {return 0;}
 uint8_t DIA_RecentFiles( char **name ){return 0;}
-
 uint8_t DIA_about( void ){return 0;}
-void DIA_Calculator(uint32_t *sizeInMeg, uint32_t *avgBitrate ){return ;}
-//uint8_t DIA_gotoTime(uint16_t *hh, uint16_t *mm, uint16_t *ss){return 0;}
-//int GUI_handleVFilter (void){return 0;}
-uint8_t  initFileSelector(void){return 0;}
+void    DIA_Calculator(uint32_t *sizeInMeg, uint32_t *avgBitrate ){return ;}
+uint8_t initFileSelector(void){return 0;}
 uint8_t initGUI( void ){return 1;}
-
-uint8_t DIA_job(uint32_t nb,char **name){return 0;}
-//uint8_t DIA_lavDecoder(uint32_t *swapUv, uint32_t *showU){return 0;}
-//uint8_t DIA_d3d(double *luma,double *chroma,double *temporal){return 0;}
-uint8_t DIA_kerneldeint(uint32_t *order, uint32_t *threshold, uint32_t *sharp, 
-                          uint32_t *twoway, uint32_t *map){return 0;}
-//uint8_t DIA_4entries(char *title,uint32_t *left,uint32_t *right,uint32_t *top,uint32_t *bottom) {return 0;}
-uint8_t DIA_videoCodec (SelectCodecType * codec){return 0;}
-//uint8_t DIA_getChromaShift( AVDMGenericVideoStream *instream,CHROMASHIFT_PARAM    *param ){ return 0;}
-//uint8_t DIA_contrast(AVDMGenericVideoStream *astream,CONTRAST_PARAM *param)  { return 0;}
-uint8_t DIA_audioCodec( AUDIOENCODER *codec ) {return 0;}
-uint8_t DIA_dnr(uint32_t *llock,uint32_t *lthresh, uint32_t *clock,
-			uint32_t *cthresh, uint32_t *scene) {return 0;}
-			
-uint8_t DIA_srt(ADMImage *source, SUBCONF *param) {return 0;}			
-			
-			
 //EOF
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-15 15:44:16 UTC (rev 3099)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-15 19:06:18 UTC (rev 3100)
@@ -9,7 +9,7 @@
 DIA_flyAsharp.cpp DIA_flyChromaShift.cpp DIA_flyContrast.cpp \
 DIA_flyHue.cpp \
 DIA_tdeint.cpp DIA_v2v.cpp \
-DIA_lavDecoder.cpp
+DIA_lavDecoder.cpp 
 
 
 INCLUDES = $(all_includes) $(GTK_CFLAGS) $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \



From mean at mail.berlios.de  Tue May 15 21:07:17 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 15 May 2007 21:07:17 +0200
Subject: [Avidemux-svn-commit] r3101 -
	branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpegFF
Message-ID: <200705151907.l4FJ7HiF020457@sheep.berlios.de>

Author: mean
Date: 2007-05-15 21:07:16 +0200 (Tue, 15 May 2007)
New Revision: 3101

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp
Log:
unneeded calls

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp	2007-05-15 19:06:18 UTC (rev 3100)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp	2007-05-15 19:07:16 UTC (rev 3101)
@@ -78,8 +78,6 @@
 
 extern uint8_t    isMpeg12Compatible (uint32_t fourcc);
 
-uint8_t DIA_XVCDParam(char *title,COMPRESSION_MODE * mode, uint32_t * qz,
-		   				   uint32_t * br,uint32_t *fsize,FFcodecSetting *conf	);
 
 extern SelectCodecType  current_codec;
 
@@ -89,18 +87,7 @@
 
 
 
-void oplug_mpegff_conf( void )
-{
 
-    DIA_XVCDParam("XVCD/XSVCD",&ffmpeg1Codec.mode,
-                    &ffmpeg1Codec.qz,
-                    &ffmpeg1Codec.bitrate,
-                    &ffmpeg1Codec.finalsize,
-                    &ffmpeg1Extra
-
-                    );
-}
-
 uint8_t oplug_mpegff(const char *name, ADM_OUT_FORMAT type)
 {
 AVDMGenericVideoStream *_incoming;



From mean at mail.berlios.de  Tue May 15 21:13:38 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 15 May 2007 21:13:38 +0200
Subject: [Avidemux-svn-commit] r3102 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4
Message-ID: <200705151913.l4FJDcK1020952@sheep.berlios.de>

Author: mean
Date: 2007-05-15 21:13:38 +0200 (Tue, 15 May 2007)
New Revision: 3102

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
Log:
update both fields in avi header

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-15 19:07:16 UTC (rev 3101)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-15 19:13:38 UTC (rev 3102)
@@ -526,7 +526,7 @@
 //                                  decodeVideoAtom(&son); 
                                 }
                                 //
-#define commonPart(x)             _videostream.fccHandler=fourCC::get((uint8_t *)#x); 
+#define commonPart(x)             _videostream.fccHandler=_video_bih.biCompression=fourCC::get((uint8_t *)#x);
                       
 
                                  _video_bih.biWidth=_mainaviheader.dwWidth=lw ; 



From mean at mail.berlios.de  Wed May 16 09:48:14 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Wed, 16 May 2007 09:48:14 +0200
Subject: [Avidemux-svn-commit] r3103 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK/ADM_dialogFactory ADM_NONE/ADM_dialogFactory
	ADM_QT4/ADM_dialogFactory ADM_commonUI
Message-ID: <200705160748.l4G7mEAr001433@sheep.berlios.de>

Author: mean
Date: 2007-05-16 09:48:13 +0200 (Wed, 16 May 2007)
New Revision: 3103

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_toggle.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
Log:
toggle with attached int/uint (dialogFactory)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp	2007-05-15 19:13:38 UTC (rev 3102)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp	2007-05-16 07:48:13 UTC (rev 3103)
@@ -28,6 +28,7 @@
 #include "ADM_assert.h"
 
 static void cb_menu(void *w,void *p);
+static void cb_menu2(void *w,void *p);
 
 
 
@@ -38,6 +39,7 @@
   paramTitle=toggleTitle;
   this->tip=tip;
   nbLink=0;
+  
 }
 
 diaElemToggle::~diaElemToggle()
@@ -120,5 +122,170 @@
   diaElemToggle *me=(diaElemToggle *)p;
   me->updateMe();
 }
+//*************************************************************************
+diaElemToggleUint::diaElemToggleUint(uint32_t *toggleValue,const char *toggleTitle, uint32_t *uintval, const char *name,uint32_t min,uint32_t max,const char *tip)
+  : diaElem(ELEM_TOGGLE_UINT)
+{
+  param=(void *)toggleValue;
+  paramTitle=toggleTitle;
+  this->tip=tip;
+  embName=name;
+  emb=uintval;
+  widgetUint=NULL;
+  _min=min;
+  _max=max;
+}
 
+diaElemToggleUint::~diaElemToggleUint()
+{
+  
+}
+void diaElemToggleUint::setMe(void *dialog, void *opaque,uint32_t line)
+{
+  GtkWidget *widget,*widuint;
+  
+  widget = gtk_check_button_new_with_mnemonic (paramTitle);
+  gtk_widget_show (widget);
+  myWidget=(void *)widget;
+  
+  gtk_table_attach (GTK_TABLE (opaque), widget, 0, 1, line, line+1,
+                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (widget), *(uint32_t *)param);
+  if(tip)
+  {
+      GtkTooltips *tooltips= gtk_tooltips_new ();
+      gtk_tooltips_set_tip (tooltips, widget, tip, NULL);
+  }
+  gtk_signal_connect(GTK_OBJECT(widget), "toggled",
+                      GTK_SIGNAL_FUNC(cb_menu2),
+                      (void *) this);
+  /* Now put uint */
+  widuint = gtk_spin_button_new_with_range(_min,_max,1);
+  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON(widuint),TRUE);
+  gtk_spin_button_set_digits  (GTK_SPIN_BUTTON(widuint),0);
+  gtk_spin_button_set_value (GTK_SPIN_BUTTON(widuint),*emb);
+  
+  gtk_widget_show (widuint);
+  
+  gtk_table_attach (GTK_TABLE (opaque), widuint, 1, 2, line, line+1,
+                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  
+  widgetUint=widuint;
+  
+}
+void diaElemToggleUint::getMe(void)
+{
+  GtkWidget *widget=(GtkWidget *)myWidget;
+  uint32_t *val=(uint32_t *)param;
+  ADM_assert(widget);
+  *(uint32_t *)param=gtk_toggle_button_get_active (GTK_TOGGLE_BUTTON (widget));
+  *emb=gtk_spin_button_get_value_as_int (GTK_SPIN_BUTTON ((GtkWidget *)widgetUint));
+  if(*emb<_min) *emb=_min;
+  if(*emb>_max) *emb=_max;
+}
+void   diaElemToggleUint::finalize(void)
+{
+  updateMe();
+}
+void   diaElemToggleUint::updateMe(void)
+{
+  GtkWidget *widget=(GtkWidget *)myWidget;
+  GtkWidget *wuint=(GtkWidget *)widgetUint;
+  uint32_t val;
+  uint32_t rank;
+  ADM_assert(widget);
+  
+  
+  rank=gtk_toggle_button_get_active (GTK_TOGGLE_BUTTON (widget));
+  gtk_widget_set_sensitive(GTK_WIDGET(wuint),rank);
+    
+}
+void   diaElemToggleUint::enable(uint32_t onoff)
+{
+   GtkWidget *widget=(GtkWidget *)myWidget;
+  GtkWidget *wuint=(GtkWidget *)widgetUint;
+  
+  gtk_widget_set_sensitive(GTK_WIDGET(widget),onoff);
+  gtk_widget_set_sensitive(GTK_WIDGET(wuint),onoff);
+}
+
+//** C callback **
+void cb_menu2(void *w,void *p)
+{
+  diaElemToggleUint *me=(diaElemToggleUint *)p;
+  me->updateMe();
+}
+//*************************************************************************
+diaElemToggleInt::diaElemToggleInt(uint32_t *toggleValue,const char *toggleTitle, int32_t *uintval, const char *name,int32_t min,int32_t max,const char *tip)
+  : diaElemToggleUint(toggleValue,toggleTitle, NULL, name,0,0,tip)
+{
+  param=(void *)toggleValue;
+  paramTitle=toggleTitle;
+  this->tip=tip;
+  embName=name;
+  emb=uintval;
+  widgetUint=NULL;
+  _min=min;
+  _max=max;
+}
+
+diaElemToggleInt::~diaElemToggleInt()
+{
+  
+}
+void diaElemToggleInt::setMe(void *dialog, void *opaque,uint32_t line)
+{
+  GtkWidget *widget,*widuint;
+  
+  widget = gtk_check_button_new_with_mnemonic (paramTitle);
+  gtk_widget_show (widget);
+  myWidget=(void *)widget;
+  
+  gtk_table_attach (GTK_TABLE (opaque), widget, 0, 1, line, line+1,
+                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (widget), *(uint32_t *)param);
+  if(tip)
+  {
+      GtkTooltips *tooltips= gtk_tooltips_new ();
+      gtk_tooltips_set_tip (tooltips, widget, tip, NULL);
+  }
+  gtk_signal_connect(GTK_OBJECT(widget), "toggled",
+                      GTK_SIGNAL_FUNC(cb_menu2),
+                      (void *) this);
+  /* Now put uint */
+  widuint = gtk_spin_button_new_with_range(_min,_max,1);
+  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON(widuint),TRUE);
+  gtk_spin_button_set_digits  (GTK_SPIN_BUTTON(widuint),0);
+  gtk_spin_button_set_value (GTK_SPIN_BUTTON(widuint),*emb);
+  
+  gtk_widget_show (widuint);
+  
+  gtk_table_attach (GTK_TABLE (opaque), widuint, 1, 2, line, line+1,
+                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  
+  widgetUint=widuint;
+  
+}
+void diaElemToggleInt::getMe(void)
+{
+  GtkWidget *widget=(GtkWidget *)myWidget;
+  uint32_t *val=(uint32_t *)param;
+  ADM_assert(widget);
+  *(uint32_t *)param=gtk_toggle_button_get_active (GTK_TOGGLE_BUTTON (widget));
+  *emb=gtk_spin_button_get_value_as_int (GTK_SPIN_BUTTON ((GtkWidget *)widgetUint));
+  if(*emb<_min) *emb=_min;
+  if(*emb>_max) *emb=_max;
+}
+
+//** C callback **
+void cb_menu3(void *w,void *p)
+{
+  diaElemToggleInt *me=(diaElemToggleInt *)p;
+  me->updateMe();
+}
+
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp	2007-05-15 19:13:38 UTC (rev 3102)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp	2007-05-16 07:48:13 UTC (rev 3103)
@@ -317,5 +317,56 @@
   void diaElemHex::setMe(void *dialog, void *opaque,uint32_t line) {};
   void diaElemHex::getMe(void) {} ;
   void diaElemHex::finalize(void) {};
+//**************************
+diaElemToggleUint::diaElemToggleUint(uint32_t *toggleValue,const char *toggleTitle, uint32_t *uintval, const char *name,uint32_t min,uint32_t max,const char *tip)
+  : diaElem(ELEM_TOGGLE_UINT)
+{
+ 
+}
+diaElemToggleUint::~diaElemToggleUint()
+{
+  
+}
+void diaElemToggleUint::setMe(void *dialog, void *opaque,uint32_t line)
+{
+ 
+  
+}
+void diaElemToggleUint::getMe(void)
+{
+  
+}
+void   diaElemToggleUint::finalize(void)
+{
+  updateMe();
+}
+void   diaElemToggleUint::updateMe(void)
+{
+  
+    
+}
+void   diaElemToggleUint::enable(uint32_t onoff)
+{
+   
+}
+//**************************
+diaElemToggleInt::diaElemToggleInt(uint32_t *toggleValue,const char *toggleTitle, int32_t *uintval, const char *name,int32_t min,int32_t max,const char *tip)
+  :diaElemToggleUint(toggleValue,toggleTitle, NULL, name,0,0,tip)
+{
+ 
+}
+diaElemToggleInt::~diaElemToggleInt()
+{
+  
+}
+void diaElemToggleInt::setMe(void *dialog, void *opaque,uint32_t line)
+{
+ 
+  
+}
+void diaElemToggleInt::getMe(void)
+{
+  
+}
 
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_toggle.cpp	2007-05-15 19:13:38 UTC (rev 3102)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_toggle.cpp	2007-05-16 07:48:13 UTC (rev 3103)
@@ -25,6 +25,7 @@
 #include <QMessageBox>
 #include <QGridLayout>
 #include <QCheckBox>
+#include <QSpinBox>
 
 #include "default.h"
 #include "ADM_commonUI/DIA_factory.h"
@@ -124,7 +125,156 @@
     nbLink++;
     return 1;
 }
+//******************************************************
+diaElemToggleUint::diaElemToggleUint(uint32_t *toggleValue,const char *toggleTitle, uint32_t *uintval, const char *name,uint32_t min,uint32_t max,const char *tip)
+  : diaElem(ELEM_TOGGLE_UINT)
+{
+  param=(void *)toggleValue;
+  paramTitle=shortkey(toggleTitle);
+  this->tip=tip;
+  embName=name;
+  emb=uintval;
+  widgetUint=NULL;
+  _min=min;
+  _max=max;
+}
 
+diaElemToggleUint::~diaElemToggleUint()
+{
+   if(paramTitle)
+    delete paramTitle;
+}
+void diaElemToggleUint::setMe(void *dialog, void *opaque,uint32_t line)
+{
+ QCheckBox *box=new QCheckBox(paramTitle,(QWidget *)dialog);
+ QGridLayout *layout=(QGridLayout*) opaque;
+ myWidget=(void *)box; 
+ if( *(uint32_t *)param)
+ {
+    box->setCheckState(Qt::Checked); 
+ }
+ box->show();
+ layout->addWidget(box,line,0);
+ // Now add spin
+ QSpinBox *spin=new QSpinBox((QWidget *)dialog);
+ widgetUint=(void *)spin; 
+   
+ spin->setMinimum(_min);
+ spin->setMaximum(_max);
+ spin->setValue(*(uint32_t *)emb);
+ spin->show();
+ layout->addWidget(spin,line,1);
+}
+void diaElemToggleUint::getMe(void)
+{
+  QCheckBox *box=(QCheckBox *)myWidget;
+  uint32_t *val=(uint32_t *)param;
+  if(Qt::Checked==box->checkState())
+  {
+    *val=1; 
+  }else
+    *val=0;
+  //
+    uint32_t u;
+  QSpinBox *spin=(QSpinBox *)widgetUint;
+  u=spin->value();
+ if(u<_min) u=_min;
+ if(u>_max) u=_max;
+ *emb=u;
+}
+void   diaElemToggleUint::finalize(void)
+{
+  updateMe();
+}
+void   diaElemToggleUint::updateMe(void)
+{
+  uint32_t val;
+  uint32_t rank=0;
+  ADM_assert(myWidget);
+  
+  QCheckBox *box=(QCheckBox *)myWidget;
+  QSpinBox *spin=(QSpinBox *)widgetUint;
+  
+  if(Qt::Checked==box->checkState())
+  {
+    rank=1;
+  }
+  spin->setEnabled(rank);
+}
+void   diaElemToggleUint::enable(uint32_t onoff)
+{
+    QCheckBox *box=(QCheckBox *)myWidget;
+      QSpinBox *spin=(QSpinBox *)widgetUint;
+  ADM_assert(box);
+  if(onoff)
+  {
+    box->setEnabled(1);
+    spin->setEnabled(1);
+  }
+  else
+  {
+    box->setDisabled(1);
+    spin->setDisabled(1);
+  }
+}
+
 //******************************************************
+diaElemToggleInt::diaElemToggleInt(uint32_t *toggleValue,const char *toggleTitle, int32_t *uintval, const char *name,int32_t min,int32_t max,const char *tip)
+  : diaElemToggleUint(toggleValue,toggleTitle, NULL, name,0,0,tip)
+{
+   param=(void *)toggleValue;
+  paramTitle=shortkey(toggleTitle);
+  this->tip=tip;
+  embName=name;
+  emb=uintval;
+  widgetUint=NULL;
+  _min=min;
+  _max=max;
+}
 
+diaElemToggleInt::~diaElemToggleInt()
+{
+  
+}
+void diaElemToggleInt::setMe(void *dialog, void *opaque,uint32_t line)
+{
+ QCheckBox *box=new QCheckBox(paramTitle,(QWidget *)dialog);
+ QGridLayout *layout=(QGridLayout*) opaque;
+ myWidget=(void *)box; 
+ if( *(uint32_t *)param)
+ {
+    box->setCheckState(Qt::Checked); 
+ }
+ box->show();
+ layout->addWidget(box,line,0);
+ // Now add spin
+ QSpinBox *spin=new QSpinBox((QWidget *)dialog);
+ widgetUint=(void *)spin; 
+   
+ spin->setMinimum(_min);
+ spin->setMaximum(_max);
+ spin->setValue(*emb);
+ spin->show();
+ layout->addWidget(spin,line,1);
+}
+
+void diaElemToggleInt::getMe(void)
+{
+  QCheckBox *box=(QCheckBox *)myWidget;
+  uint32_t *val=(uint32_t *)param;
+  if(Qt::Checked==box->checkState())
+  {
+    *val=1; 
+  }else
+    *val=0;
+  //
+    int32_t u;
+  QSpinBox *spin=(QSpinBox *)widgetUint;
+  u=spin->value();
+ if(u<_min) u=_min;
+ if(u>_max) u=_max;
+ *emb=u;
+}
+//******************************************************
+
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp	2007-05-15 19:13:38 UTC (rev 3102)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp	2007-05-16 07:48:13 UTC (rev 3103)
@@ -60,17 +60,20 @@
   //**********************************
        
    diaElemToggle    eDRC(&vDRC,_("_Dynamic range compression"));
-   diaElemToggle    eTimeShift(&vTshift,_("Enable _time shift"));
-   diaElemInteger  eShift(&vTshiftValue,_("Time shift _value (ms):"),-10000,10000);
    
-   eTimeShift.link(1,&eShift);
-  
+   diaElemToggleInt eTimeShift(&vTshift,_("_Time Shift (ms) "),&vTshiftValue,_("Time shift _value (ms):"),-10000,10000);
+   
+//    diaElemToggle    eTimeShift(&vTshift,_("Enable _time shift"));
+//    diaElemInteger  eShift(&vTshiftValue,_("Time shift _value (ms):"),-10000,10000);
+//    
+//    eTimeShift.link(1,&eShift);
+//   
     //**********************************
-   
-    diaElemToggle      eResample(&vDownsample,_("_Enable resampling"));
-    diaElemUInteger  eResampleValue(&vFreq,_("_Resampling frequency (Hz):"),6000,64000);
+   diaElemToggleUint eResample(&vDownsample,_("R_esampling (Hz) "),&vFreq,_("_Resampling frequency (Hz):"),6000,64000);
+    //diaElemToggle      eResample(&vDownsample,_("R_esampling (Hz)"));
+    //diaElemUInteger  eResampleValue(&vFreq,_("_Resampling frequency (Hz):"),6000,64000);
   
-    eResample.link(1,&eResampleValue);
+//    eResample.link(1,&eResampleValue);
     
     //**********************************
     diaMenuEntry menuFPS[]={
@@ -112,8 +115,8 @@
  diaElemMenu      eMixer(&vChan,_("_Mixer:"),11,menuMixer);
  
  /************************************/
- diaElem *elems[]={&eDRC, &eFPS, &eMixer, &eTimeShift, &eShift, &eResample, &eResampleValue, &frameGain};
-  if( diaFactoryRun(_("Audio Filters"),8,elems))
+ diaElem *elems[]={&eDRC, &eFPS, &eMixer, &eTimeShift,  &eResample,  &frameGain};
+  if( diaFactoryRun(_("Audio Filters"),6,elems))
     {
         *drc=vDRC;
         *tshifted=vTshift;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-05-15 19:13:38 UTC (rev 3102)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-05-16 07:48:13 UTC (rev 3103)
@@ -34,6 +34,8 @@
   ELEM_TEXT,
   ELEM_FRAME,
   ELEM_HEXDUMP,
+  ELEM_TOGGLE_UINT,
+  ELEM_TOGGLE_INT,
   ELEM_MAX=ELEM_TOGGLE
 };
 
@@ -88,6 +90,34 @@
   uint8_t   link(uint32_t onoff,diaElem *w);
 };
 /*********************************************/
+class diaElemToggleUint : public diaElem
+{
+  protected:
+        uint32_t *emb;
+        const char *embName;
+        void *widgetUint;
+        uint32_t _min,_max;
+public:
+            diaElemToggleUint(uint32_t *toggleValue,const char *toggleTitle, uint32_t *uintval, const char *name,uint32_t min,uint32_t max,const char *tip=NULL);
+  virtual   ~diaElemToggleUint() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
+  void      enable(uint32_t onoff) ;
+  void      finalize(void);
+  void      updateMe();
+};
+class diaElemToggleInt : public diaElemToggleUint
+{
+  protected:
+        int32_t *emb;
+        int32_t _min,_max;
+public:
+            diaElemToggleInt(uint32_t *toggleValue,const char *toggleTitle, int32_t *uintval, const char *name,int32_t min,int32_t max,const char *tip=NULL);
+  virtual   ~diaElemToggleInt() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
+};
+/*********************************************/
 class diaElemInteger : public diaElem
 {
 



From mean at mail.berlios.de  Thu May 17 09:39:26 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 17 May 2007 09:39:26 +0200
Subject: [Avidemux-svn-commit] r3104 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui
Message-ID: <200705170739.l4H7dQXj029494@sheep.berlios.de>

Author: mean
Date: 2007-05-17 09:39:26 +0200 (Thu, 17 May 2007)
New Revision: 3104

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
Log:
misc layout tweak for QT4 ui

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2007-05-16 07:48:13 UTC (rev 3103)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2007-05-17 07:39:26 UTC (rev 3104)
@@ -56,9 +56,9 @@
 static QFrame *hostFrame=NULL;
 static AccelRender *accelRender=NULL;
 static uint8_t *lastImage=NULL;
-
+extern QWidget *QuiMainWindows;
  ColYuvRgb rgbConverter(640,480,1);
-
+extern void UI_purge( void );
 //****************************************************************************************************
 void GUI_PreviewInit(uint32_t w , uint32_t h, uint32_t modal)
 {}
@@ -168,6 +168,9 @@
       videoWindow->repaint();
     
 }
+
+#define ADM_RSZ(a,x,y) {a->resize(x,y);a->setMinimumSize(x,y);}
+#define ADM_RSZ_MAX(a,x,y) {a->resize(x,y);a->setMinimumSize(x,y);a->setMaximumSize(x,y);}
 /**
       \brief Resize the window
 */
@@ -179,8 +182,19 @@
   rgbDataBuffer=new uint8_t [w*h*4]; // 32 bits / color
   displayW=w;
   displayH=h;
-  hostFrame->resize(displayW,displayH);
-  videoWindow->resize(displayW,displayH);
+  // Resize Host window
+  // It depends on where the frame start
+  printf("[RDR] %d x %d\n",hostFrame->x(),hostFrame->y());
+  uint32_t totalw=displayW+hostFrame->x();
+  uint32_t totalh=displayH+hostFrame->y()+50;
+  ADM_RSZ(QuiMainWindows,totalw,totalh);
+  // And resize child windows
+  
+  ADM_RSZ_MAX(hostFrame,displayW,displayH);
+  ADM_RSZ_MAX(videoWindow,displayW,displayH);
+  UI_purge();
+  
+
   printf("[RDR] Resizing to %u x %u\n",displayW,displayH);
   return ;
 }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2007-05-16 07:48:13 UTC (rev 3103)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2007-05-17 07:39:26 UTC (rev 3104)
@@ -44,6 +44,14 @@
     </property>
     <item row="1" column="1" >
      <widget class="QFrame" name="frame_video" >
+      <property name="sizePolicy" >
+       <sizepolicy>
+        <hsizetype>7</hsizetype>
+        <vsizetype>7</vsizetype>
+        <horstretch>99</horstretch>
+        <verstretch>99</verstretch>
+       </sizepolicy>
+      </property>
       <property name="frameShape" >
        <enum>QFrame::StyledPanel</enum>
       </property>
@@ -52,7 +60,7 @@
       </property>
      </widget>
     </item>
-    <item row="0" column="1" >
+    <item rowspan="2" row="0" column="0" >
      <layout class="QVBoxLayout" >
       <property name="margin" >
        <number>0</number>
@@ -66,414 +74,367 @@
          <number>0</number>
         </property>
         <property name="spacing" >
-         <number>6</number>
+         <number>0</number>
         </property>
         <item>
+         <widget class="QLabel" name="label_3" >
+          <property name="sizePolicy" >
+           <sizepolicy>
+            <hsizetype>5</hsizetype>
+            <vsizetype>5</vsizetype>
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+          <property name="maximumSize" >
+           <size>
+            <width>180</width>
+            <height>16777215</height>
+           </size>
+          </property>
+          <property name="text" >
+           <string>&lt;b>Video&lt;/b></string>
+          </property>
+          <property name="textFormat" >
+           <enum>Qt::AutoText</enum>
+          </property>
+         </widget>
+        </item>
+        <item>
          <layout class="QHBoxLayout" >
           <property name="margin" >
            <number>0</number>
           </property>
           <property name="spacing" >
-           <number>6</number>
+           <number>0</number>
           </property>
           <item>
-           <widget class="QLabel" name="label" >
-            <property name="sizePolicy" >
-             <sizepolicy>
-              <hsizetype>1</hsizetype>
-              <vsizetype>5</vsizetype>
-              <horstretch>0</horstretch>
-              <verstretch>0</verstretch>
-             </sizepolicy>
+           <spacer>
+            <property name="orientation" >
+             <enum>Qt::Horizontal</enum>
             </property>
-            <property name="text" >
-             <string>Frame:</string>
+            <property name="sizeType" >
+             <enum>QSizePolicy::Fixed</enum>
             </property>
-           </widget>
-          </item>
-          <item>
-           <widget class="QLineEdit" name="lineEdit" >
-            <property name="sizePolicy" >
-             <sizepolicy>
-              <hsizetype>1</hsizetype>
-              <vsizetype>0</vsizetype>
-              <horstretch>0</horstretch>
-              <verstretch>0</verstretch>
-             </sizepolicy>
-            </property>
-            <property name="minimumSize" >
+            <property name="sizeHint" >
              <size>
-              <width>72</width>
+              <width>12</width>
               <height>0</height>
              </size>
             </property>
-            <property name="baseSize" >
-             <size>
-              <width>0</width>
-              <height>0</height>
-             </size>
-            </property>
-            <property name="echoMode" >
-             <enum>QLineEdit::Normal</enum>
-            </property>
-            <property name="cursorPosition" >
-             <number>0</number>
-            </property>
-           </widget>
+           </spacer>
           </item>
           <item>
-           <widget class="QLabel" name="label_2" >
-            <property name="sizePolicy" >
-             <sizepolicy>
-              <hsizetype>1</hsizetype>
-              <vsizetype>5</vsizetype>
-              <horstretch>0</horstretch>
-              <verstretch>0</verstretch>
-             </sizepolicy>
+           <layout class="QVBoxLayout" >
+            <property name="margin" >
+             <number>0</number>
             </property>
-            <property name="text" >
-             <string>/00000000</string>
+            <property name="spacing" >
+             <number>6</number>
             </property>
-           </widget>
+            <item>
+             <widget class="QComboBox" name="comboBoxVideo" >
+              <property name="sizePolicy" >
+               <sizepolicy>
+                <hsizetype>5</hsizetype>
+                <vsizetype>0</vsizetype>
+                <horstretch>0</horstretch>
+                <verstretch>0</verstretch>
+               </sizepolicy>
+              </property>
+              <item>
+               <property name="text" >
+                <string>Copy</string>
+               </property>
+              </item>
+             </widget>
+            </item>
+            <item>
+             <widget class="QPushButton" name="pushButtonVideoConf" >
+              <property name="enabled" >
+               <bool>true</bool>
+              </property>
+              <property name="sizePolicy" >
+               <sizepolicy>
+                <hsizetype>5</hsizetype>
+                <vsizetype>0</vsizetype>
+                <horstretch>0</horstretch>
+                <verstretch>0</verstretch>
+               </sizepolicy>
+              </property>
+              <property name="text" >
+               <string>Configure</string>
+              </property>
+              <property name="checkable" >
+               <bool>false</bool>
+              </property>
+             </widget>
+            </item>
+            <item>
+             <widget class="QPushButton" name="pushButtonVideoFilter" >
+              <property name="enabled" >
+               <bool>true</bool>
+              </property>
+              <property name="sizePolicy" >
+               <sizepolicy>
+                <hsizetype>5</hsizetype>
+                <vsizetype>0</vsizetype>
+                <horstretch>0</horstretch>
+                <verstretch>0</verstretch>
+               </sizepolicy>
+              </property>
+              <property name="text" >
+               <string>Filters</string>
+              </property>
+             </widget>
+            </item>
+           </layout>
           </item>
-          <item>
-           <widget class="QLabel" name="label_6" >
-            <property name="sizePolicy" >
-             <sizepolicy>
-              <hsizetype>1</hsizetype>
-              <vsizetype>5</vsizetype>
-              <horstretch>0</horstretch>
-              <verstretch>0</verstretch>
-             </sizepolicy>
-            </property>
-            <property name="text" >
-             <string>Time:</string>
-            </property>
-           </widget>
-          </item>
-          <item>
-           <widget class="QLineEdit" name="lineEdit_2" >
-            <property name="sizePolicy" >
-             <sizepolicy>
-              <hsizetype>1</hsizetype>
-              <vsizetype>0</vsizetype>
-              <horstretch>0</horstretch>
-              <verstretch>0</verstretch>
-             </sizepolicy>
-            </property>
-            <property name="minimumSize" >
-             <size>
-              <width>90</width>
-              <height>0</height>
-             </size>
-            </property>
-           </widget>
-          </item>
-          <item>
-           <widget class="QLabel" name="label_7" >
-            <property name="sizePolicy" >
-             <sizepolicy>
-              <hsizetype>1</hsizetype>
-              <vsizetype>5</vsizetype>
-              <horstretch>0</horstretch>
-              <verstretch>0</verstretch>
-             </sizepolicy>
-            </property>
-            <property name="text" >
-             <string>/00:00:00.000</string>
-            </property>
-           </widget>
-          </item>
-          <item>
-           <widget class="QLabel" name="label_8" >
-            <property name="sizePolicy" >
-             <sizepolicy>
-              <hsizetype>1</hsizetype>
-              <vsizetype>5</vsizetype>
-              <horstretch>0</horstretch>
-              <verstretch>0</verstretch>
-             </sizepolicy>
-            </property>
-            <property name="text" >
-             <string>Frame: ?</string>
-            </property>
-           </widget>
-          </item>
          </layout>
         </item>
         <item>
+         <spacer>
+          <property name="orientation" >
+           <enum>Qt::Vertical</enum>
+          </property>
+          <property name="sizeType" >
+           <enum>QSizePolicy::Fixed</enum>
+          </property>
+          <property name="sizeHint" >
+           <size>
+            <width>1</width>
+            <height>9</height>
+           </size>
+          </property>
+         </spacer>
+        </item>
+        <item>
+         <widget class="QLabel" name="label_5" >
+          <property name="sizePolicy" >
+           <sizepolicy>
+            <hsizetype>4</hsizetype>
+            <vsizetype>1</vsizetype>
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+          <property name="maximumSize" >
+           <size>
+            <width>180</width>
+            <height>16777215</height>
+           </size>
+          </property>
+          <property name="text" >
+           <string>&lt;b>Audio&lt;/b></string>
+          </property>
+          <property name="textFormat" >
+           <enum>Qt::AutoText</enum>
+          </property>
+         </widget>
+        </item>
+        <item>
          <layout class="QHBoxLayout" >
           <property name="margin" >
            <number>0</number>
           </property>
           <property name="spacing" >
-           <number>6</number>
+           <number>0</number>
           </property>
           <item>
-           <widget class="QPushButton" name="setMarkerA" >
-            <property name="sizePolicy" >
-             <sizepolicy>
-              <hsizetype>1</hsizetype>
-              <vsizetype>0</vsizetype>
-              <horstretch>0</horstretch>
-              <verstretch>0</verstretch>
-             </sizepolicy>
+           <spacer>
+            <property name="orientation" >
+             <enum>Qt::Horizontal</enum>
             </property>
-            <property name="minimumSize" >
-             <size>
-              <width>32</width>
-              <height>0</height>
-             </size>
+            <property name="sizeType" >
+             <enum>QSizePolicy::Fixed</enum>
             </property>
-            <property name="text" >
-             <string>A:</string>
-            </property>
-           </widget>
-          </item>
-          <item>
-           <widget class="QLabel" name="label_9" >
-            <property name="sizePolicy" >
-             <sizepolicy>
-              <hsizetype>1</hsizetype>
-              <vsizetype>5</vsizetype>
-              <horstretch>0</horstretch>
-              <verstretch>0</verstretch>
-             </sizepolicy>
-            </property>
-            <property name="text" >
-             <string>0000000</string>
-            </property>
-           </widget>
-          </item>
-          <item>
-           <widget class="QPushButton" name="setMarkerB" >
-            <property name="sizePolicy" >
-             <sizepolicy>
-              <hsizetype>4</hsizetype>
-              <vsizetype>0</vsizetype>
-              <horstretch>0</horstretch>
-              <verstretch>0</verstretch>
-             </sizepolicy>
-            </property>
-            <property name="minimumSize" >
+            <property name="sizeHint" >
              <size>
-              <width>32</width>
+              <width>12</width>
               <height>0</height>
              </size>
             </property>
-            <property name="text" >
-             <string>B:</string>
-            </property>
-           </widget>
+           </spacer>
           </item>
           <item>
-           <widget class="QLabel" name="label_10" >
-            <property name="sizePolicy" >
-             <sizepolicy>
-              <hsizetype>1</hsizetype>
-              <vsizetype>5</vsizetype>
-              <horstretch>0</horstretch>
-              <verstretch>0</verstretch>
-             </sizepolicy>
+           <layout class="QVBoxLayout" >
+            <property name="margin" >
+             <number>0</number>
             </property>
-            <property name="text" >
-             <string>0000000</string>
+            <property name="spacing" >
+             <number>6</number>
             </property>
-           </widget>
-          </item>
-          <item>
-           <widget class="QSlider" name="horizontalSlider_2" >
-            <property name="sizePolicy" >
-             <sizepolicy>
-              <hsizetype>1</hsizetype>
-              <vsizetype>0</vsizetype>
-              <horstretch>1</horstretch>
-              <verstretch>0</verstretch>
-             </sizepolicy>
-            </property>
-            <property name="baseSize" >
-             <size>
-              <width>60</width>
-              <height>0</height>
-             </size>
-            </property>
-            <property name="orientation" >
-             <enum>Qt::Horizontal</enum>
-            </property>
-           </widget>
-          </item>
-          <item>
-           <widget class="QComboBox" name="comboBoxPreview" >
             <item>
-             <property name="text" >
-              <string>Input</string>
-             </property>
+             <widget class="QComboBox" name="comboBoxAudio" >
+              <property name="sizePolicy" >
+               <sizepolicy>
+                <hsizetype>1</hsizetype>
+                <vsizetype>0</vsizetype>
+                <horstretch>0</horstretch>
+                <verstretch>0</verstretch>
+               </sizepolicy>
+              </property>
+              <item>
+               <property name="text" >
+                <string>Copy</string>
+               </property>
+              </item>
+             </widget>
             </item>
             <item>
-             <property name="text" >
-              <string>Output</string>
-             </property>
+             <widget class="QPushButton" name="pushButtonAudioConf" >
+              <property name="enabled" >
+               <bool>true</bool>
+              </property>
+              <property name="sizePolicy" >
+               <sizepolicy>
+                <hsizetype>1</hsizetype>
+                <vsizetype>0</vsizetype>
+                <horstretch>0</horstretch>
+                <verstretch>0</verstretch>
+               </sizepolicy>
+              </property>
+              <property name="text" >
+               <string>Configure</string>
+              </property>
+             </widget>
             </item>
             <item>
-             <property name="text" >
-              <string>Side</string>
-             </property>
+             <widget class="QPushButton" name="pushButtonAudioFilter" >
+              <property name="enabled" >
+               <bool>true</bool>
+              </property>
+              <property name="sizePolicy" >
+               <sizepolicy>
+                <hsizetype>1</hsizetype>
+                <vsizetype>0</vsizetype>
+                <horstretch>0</horstretch>
+                <verstretch>0</verstretch>
+               </sizepolicy>
+              </property>
+              <property name="text" >
+               <string>Filters</string>
+              </property>
+             </widget>
             </item>
             <item>
-             <property name="text" >
-              <string>Top</string>
-             </property>
+             <layout class="QHBoxLayout" >
+              <property name="margin" >
+               <number>0</number>
+              </property>
+              <property name="spacing" >
+               <number>6</number>
+              </property>
+              <item>
+               <widget class="QCheckBox" name="checkBox" >
+                <property name="text" >
+                 <string>&amp;Shift:</string>
+                </property>
+               </widget>
+              </item>
+              <item>
+               <widget class="QSpinBox" name="spinBox" >
+                <property name="sizePolicy" >
+                 <sizepolicy>
+                  <hsizetype>1</hsizetype>
+                  <vsizetype>0</vsizetype>
+                  <horstretch>0</horstretch>
+                  <verstretch>0</verstretch>
+                 </sizepolicy>
+                </property>
+               </widget>
+              </item>
+             </layout>
             </item>
-            <item>
-             <property name="text" >
-              <string>Separate</string>
-             </property>
-            </item>
-           </widget>
+           </layout>
           </item>
          </layout>
         </item>
-       </layout>
-      </item>
-      <item>
-       <widget class="QSlider" name="horizontalSlider" >
-        <property name="sizePolicy" >
-         <sizepolicy>
-          <hsizetype>7</hsizetype>
-          <vsizetype>0</vsizetype>
-          <horstretch>5</horstretch>
-          <verstretch>0</verstretch>
-         </sizepolicy>
-        </property>
-        <property name="orientation" >
-         <enum>Qt::Horizontal</enum>
-        </property>
-       </widget>
-      </item>
-     </layout>
-    </item>
-    <item rowspan="2" row="0" column="0" >
-     <layout class="QVBoxLayout" >
-      <property name="margin" >
-       <number>0</number>
-      </property>
-      <property name="spacing" >
-       <number>0</number>
-      </property>
-      <item>
-       <widget class="QLabel" name="label_3" >
-        <property name="sizePolicy" >
-         <sizepolicy>
-          <hsizetype>5</hsizetype>
-          <vsizetype>5</vsizetype>
-          <horstretch>0</horstretch>
-          <verstretch>0</verstretch>
-         </sizepolicy>
-        </property>
-        <property name="maximumSize" >
-         <size>
-          <width>180</width>
-          <height>16777215</height>
-         </size>
-        </property>
-        <property name="text" >
-         <string>&lt;b>Video&lt;/b></string>
-        </property>
-        <property name="textFormat" >
-         <enum>Qt::AutoText</enum>
-        </property>
-       </widget>
-      </item>
-      <item>
-       <layout class="QHBoxLayout" >
-        <property name="margin" >
-         <number>0</number>
-        </property>
-        <property name="spacing" >
-         <number>0</number>
-        </property>
         <item>
          <spacer>
           <property name="orientation" >
-           <enum>Qt::Horizontal</enum>
+           <enum>Qt::Vertical</enum>
           </property>
           <property name="sizeType" >
            <enum>QSizePolicy::Fixed</enum>
           </property>
           <property name="sizeHint" >
            <size>
-            <width>12</width>
-            <height>0</height>
+            <width>1</width>
+            <height>9</height>
            </size>
           </property>
          </spacer>
         </item>
         <item>
-         <layout class="QVBoxLayout" >
+         <widget class="QLabel" name="label_4" >
+          <property name="sizePolicy" >
+           <sizepolicy>
+            <hsizetype>1</hsizetype>
+            <vsizetype>5</vsizetype>
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+          <property name="text" >
+           <string>&lt;b>Format&lt;/b></string>
+          </property>
+          <property name="textFormat" >
+           <enum>Qt::AutoText</enum>
+          </property>
+         </widget>
+        </item>
+        <item>
+         <layout class="QHBoxLayout" >
           <property name="margin" >
            <number>0</number>
           </property>
           <property name="spacing" >
-           <number>6</number>
+           <number>0</number>
           </property>
           <item>
-           <widget class="QComboBox" name="comboBoxVideo" >
-            <property name="sizePolicy" >
-             <sizepolicy>
-              <hsizetype>5</hsizetype>
-              <vsizetype>0</vsizetype>
-              <horstretch>0</horstretch>
-              <verstretch>0</verstretch>
-             </sizepolicy>
+           <spacer>
+            <property name="orientation" >
+             <enum>Qt::Horizontal</enum>
             </property>
-            <item>
-             <property name="text" >
-              <string>Copy</string>
-             </property>
-            </item>
-           </widget>
-          </item>
-          <item>
-           <widget class="QPushButton" name="pushButtonVideoConf" >
-            <property name="enabled" >
-             <bool>true</bool>
+            <property name="sizeType" >
+             <enum>QSizePolicy::Fixed</enum>
             </property>
-            <property name="sizePolicy" >
-             <sizepolicy>
-              <hsizetype>5</hsizetype>
-              <vsizetype>0</vsizetype>
-              <horstretch>0</horstretch>
-              <verstretch>0</verstretch>
-             </sizepolicy>
+            <property name="sizeHint" >
+             <size>
+              <width>12</width>
+              <height>1</height>
+             </size>
             </property>
-            <property name="text" >
-             <string>Configure</string>
-            </property>
-            <property name="checkable" >
-             <bool>false</bool>
-            </property>
-           </widget>
+           </spacer>
           </item>
           <item>
-           <widget class="QPushButton" name="pushButtonVideoFilter" >
-            <property name="enabled" >
-             <bool>true</bool>
-            </property>
+           <widget class="QComboBox" name="comboBoxFormat" >
             <property name="sizePolicy" >
              <sizepolicy>
-              <hsizetype>5</hsizetype>
+              <hsizetype>1</hsizetype>
               <vsizetype>0</vsizetype>
               <horstretch>0</horstretch>
               <verstretch>0</verstretch>
              </sizepolicy>
             </property>
-            <property name="text" >
-             <string>Filters</string>
-            </property>
            </widget>
           </item>
          </layout>
         </item>
+        <item>
+         <spacer>
+          <property name="orientation" >
+           <enum>Qt::Vertical</enum>
+          </property>
+          <property name="sizeHint" >
+           <size>
+            <width>20</width>
+            <height>0</height>
+           </size>
+          </property>
+         </spacer>
+        </item>
        </layout>
       </item>
       <item>
@@ -481,40 +442,182 @@
         <property name="orientation" >
          <enum>Qt::Vertical</enum>
         </property>
-        <property name="sizeType" >
-         <enum>QSizePolicy::Fixed</enum>
-        </property>
         <property name="sizeHint" >
          <size>
-          <width>1</width>
-          <height>9</height>
+          <width>20</width>
+          <height>40</height>
          </size>
         </property>
        </spacer>
       </item>
+     </layout>
+    </item>
+    <item row="0" column="2" >
+     <spacer>
+      <property name="orientation" >
+       <enum>Qt::Horizontal</enum>
+      </property>
+      <property name="sizeHint" >
+       <size>
+        <width>40</width>
+        <height>20</height>
+       </size>
+      </property>
+     </spacer>
+    </item>
+    <item row="0" column="1" >
+     <layout class="QVBoxLayout" >
+      <property name="margin" >
+       <number>0</number>
+      </property>
+      <property name="spacing" >
+       <number>6</number>
+      </property>
       <item>
-       <widget class="QLabel" name="label_5" >
-        <property name="sizePolicy" >
-         <sizepolicy>
-          <hsizetype>4</hsizetype>
-          <vsizetype>1</vsizetype>
-          <horstretch>0</horstretch>
-          <verstretch>0</verstretch>
-         </sizepolicy>
+       <layout class="QHBoxLayout" >
+        <property name="margin" >
+         <number>0</number>
         </property>
-        <property name="maximumSize" >
-         <size>
-          <width>180</width>
-          <height>16777215</height>
-         </size>
+        <property name="spacing" >
+         <number>6</number>
         </property>
-        <property name="text" >
-         <string>&lt;b>Audio&lt;/b></string>
-        </property>
-        <property name="textFormat" >
-         <enum>Qt::AutoText</enum>
-        </property>
-       </widget>
+        <item>
+         <widget class="QLabel" name="label" >
+          <property name="sizePolicy" >
+           <sizepolicy>
+            <hsizetype>1</hsizetype>
+            <vsizetype>5</vsizetype>
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+          <property name="text" >
+           <string>Frame:</string>
+          </property>
+         </widget>
+        </item>
+        <item>
+         <widget class="QLineEdit" name="lineEdit" >
+          <property name="sizePolicy" >
+           <sizepolicy>
+            <hsizetype>1</hsizetype>
+            <vsizetype>0</vsizetype>
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+          <property name="minimumSize" >
+           <size>
+            <width>72</width>
+            <height>0</height>
+           </size>
+          </property>
+          <property name="baseSize" >
+           <size>
+            <width>0</width>
+            <height>0</height>
+           </size>
+          </property>
+          <property name="echoMode" >
+           <enum>QLineEdit::Normal</enum>
+          </property>
+          <property name="cursorPosition" >
+           <number>0</number>
+          </property>
+         </widget>
+        </item>
+        <item>
+         <widget class="QLabel" name="label_2" >
+          <property name="sizePolicy" >
+           <sizepolicy>
+            <hsizetype>1</hsizetype>
+            <vsizetype>5</vsizetype>
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+          <property name="text" >
+           <string>/00000000</string>
+          </property>
+         </widget>
+        </item>
+        <item>
+         <widget class="QLabel" name="label_6" >
+          <property name="sizePolicy" >
+           <sizepolicy>
+            <hsizetype>1</hsizetype>
+            <vsizetype>5</vsizetype>
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+          <property name="text" >
+           <string>Time:</string>
+          </property>
+         </widget>
+        </item>
+        <item>
+         <widget class="QLineEdit" name="lineEdit_2" >
+          <property name="sizePolicy" >
+           <sizepolicy>
+            <hsizetype>1</hsizetype>
+            <vsizetype>0</vsizetype>
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+          <property name="minimumSize" >
+           <size>
+            <width>90</width>
+            <height>0</height>
+           </size>
+          </property>
+         </widget>
+        </item>
+        <item>
+         <widget class="QLabel" name="label_7" >
+          <property name="sizePolicy" >
+           <sizepolicy>
+            <hsizetype>1</hsizetype>
+            <vsizetype>5</vsizetype>
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+          <property name="text" >
+           <string>/00:00:00.000</string>
+          </property>
+         </widget>
+        </item>
+        <item>
+         <widget class="QLabel" name="label_8" >
+          <property name="sizePolicy" >
+           <sizepolicy>
+            <hsizetype>1</hsizetype>
+            <vsizetype>5</vsizetype>
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+          <property name="text" >
+           <string>Frame: ?</string>
+          </property>
+         </widget>
+        </item>
+        <item>
+         <spacer>
+          <property name="orientation" >
+           <enum>Qt::Horizontal</enum>
+          </property>
+          <property name="sizeHint" >
+           <size>
+            <width>40</width>
+            <height>20</height>
+           </size>
+          </property>
+         </spacer>
+        </item>
+       </layout>
       </item>
       <item>
        <layout class="QHBoxLayout" >
@@ -522,205 +625,230 @@
          <number>0</number>
         </property>
         <property name="spacing" >
-         <number>0</number>
+         <number>6</number>
         </property>
         <item>
-         <spacer>
-          <property name="orientation" >
-           <enum>Qt::Horizontal</enum>
+         <widget class="QPushButton" name="setMarkerA" >
+          <property name="sizePolicy" >
+           <sizepolicy>
+            <hsizetype>1</hsizetype>
+            <vsizetype>0</vsizetype>
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
           </property>
-          <property name="sizeType" >
-           <enum>QSizePolicy::Fixed</enum>
+          <property name="minimumSize" >
+           <size>
+            <width>32</width>
+            <height>0</height>
+           </size>
           </property>
-          <property name="sizeHint" >
+          <property name="text" >
+           <string>A:</string>
+          </property>
+         </widget>
+        </item>
+        <item>
+         <widget class="QLabel" name="label_9" >
+          <property name="sizePolicy" >
+           <sizepolicy>
+            <hsizetype>1</hsizetype>
+            <vsizetype>5</vsizetype>
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+          <property name="text" >
+           <string>0000000</string>
+          </property>
+         </widget>
+        </item>
+        <item>
+         <widget class="QPushButton" name="setMarkerB" >
+          <property name="sizePolicy" >
+           <sizepolicy>
+            <hsizetype>4</hsizetype>
+            <vsizetype>0</vsizetype>
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+          <property name="minimumSize" >
            <size>
-            <width>12</width>
+            <width>32</width>
             <height>0</height>
            </size>
           </property>
-         </spacer>
+          <property name="text" >
+           <string>B:</string>
+          </property>
+         </widget>
         </item>
         <item>
-         <layout class="QVBoxLayout" >
-          <property name="margin" >
-           <number>0</number>
+         <widget class="QLabel" name="label_10" >
+          <property name="sizePolicy" >
+           <sizepolicy>
+            <hsizetype>1</hsizetype>
+            <vsizetype>5</vsizetype>
+            <horstretch>0</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
           </property>
-          <property name="spacing" >
-           <number>6</number>
+          <property name="text" >
+           <string>0000000</string>
           </property>
+         </widget>
+        </item>
+        <item>
+         <widget class="QSlider" name="horizontalSlider_2" >
+          <property name="sizePolicy" >
+           <sizepolicy>
+            <hsizetype>4</hsizetype>
+            <vsizetype>0</vsizetype>
+            <horstretch>1</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+          <property name="baseSize" >
+           <size>
+            <width>60</width>
+            <height>0</height>
+           </size>
+          </property>
+          <property name="orientation" >
+           <enum>Qt::Horizontal</enum>
+          </property>
+         </widget>
+        </item>
+        <item>
+         <widget class="QComboBox" name="comboBoxPreview" >
           <item>
-           <widget class="QComboBox" name="comboBoxAudio" >
-            <property name="sizePolicy" >
-             <sizepolicy>
-              <hsizetype>1</hsizetype>
-              <vsizetype>0</vsizetype>
-              <horstretch>0</horstretch>
-              <verstretch>0</verstretch>
-             </sizepolicy>
-            </property>
-            <item>
-             <property name="text" >
-              <string>Copy</string>
-             </property>
-            </item>
-           </widget>
+           <property name="text" >
+            <string>Input</string>
+           </property>
           </item>
           <item>
-           <widget class="QPushButton" name="pushButtonAudioConf" >
-            <property name="enabled" >
-             <bool>true</bool>
-            </property>
-            <property name="sizePolicy" >
-             <sizepolicy>
-              <hsizetype>1</hsizetype>
-              <vsizetype>0</vsizetype>
-              <horstretch>0</horstretch>
-              <verstretch>0</verstretch>
-             </sizepolicy>
-            </property>
-            <property name="text" >
-             <string>Configure</string>
-            </property>
-           </widget>
+           <property name="text" >
+            <string>Output</string>
+           </property>
           </item>
           <item>
-           <widget class="QPushButton" name="pushButtonAudioFilter" >
-            <property name="enabled" >
-             <bool>true</bool>
-            </property>
-            <property name="sizePolicy" >
-             <sizepolicy>
-              <hsizetype>1</hsizetype>
-              <vsizetype>0</vsizetype>
-              <horstretch>0</horstretch>
-              <verstretch>0</verstretch>
-             </sizepolicy>
-            </property>
-            <property name="text" >
-             <string>Filters</string>
-            </property>
-           </widget>
+           <property name="text" >
+            <string>Side</string>
+           </property>
           </item>
           <item>
-           <layout class="QHBoxLayout" >
-            <property name="margin" >
-             <number>0</number>
-            </property>
-            <property name="spacing" >
-             <number>6</number>
-            </property>
-            <item>
-             <widget class="QCheckBox" name="checkBox" >
-              <property name="text" >
-               <string>&amp;Shift:</string>
-              </property>
-             </widget>
-            </item>
-            <item>
-             <widget class="QSpinBox" name="spinBox" >
-              <property name="sizePolicy" >
-               <sizepolicy>
-                <hsizetype>1</hsizetype>
-                <vsizetype>0</vsizetype>
-                <horstretch>0</horstretch>
-                <verstretch>0</verstretch>
-               </sizepolicy>
-              </property>
-             </widget>
-            </item>
-           </layout>
+           <property name="text" >
+            <string>Top</string>
+           </property>
           </item>
-         </layout>
+          <item>
+           <property name="text" >
+            <string>Separate</string>
+           </property>
+          </item>
+         </widget>
         </item>
+        <item>
+         <spacer>
+          <property name="orientation" >
+           <enum>Qt::Horizontal</enum>
+          </property>
+          <property name="sizeHint" >
+           <size>
+            <width>40</width>
+            <height>20</height>
+           </size>
+          </property>
+         </spacer>
+        </item>
        </layout>
       </item>
       <item>
-       <spacer>
-        <property name="orientation" >
-         <enum>Qt::Vertical</enum>
-        </property>
-        <property name="sizeType" >
-         <enum>QSizePolicy::Fixed</enum>
-        </property>
-        <property name="sizeHint" >
-         <size>
-          <width>1</width>
-          <height>9</height>
-         </size>
-        </property>
-       </spacer>
-      </item>
-      <item>
-       <widget class="QLabel" name="label_4" >
-        <property name="sizePolicy" >
-         <sizepolicy>
-          <hsizetype>1</hsizetype>
-          <vsizetype>5</vsizetype>
-          <horstretch>0</horstretch>
-          <verstretch>0</verstretch>
-         </sizepolicy>
-        </property>
-        <property name="text" >
-         <string>&lt;b>Format&lt;/b></string>
-        </property>
-        <property name="textFormat" >
-         <enum>Qt::AutoText</enum>
-        </property>
-       </widget>
-      </item>
-      <item>
        <layout class="QHBoxLayout" >
         <property name="margin" >
          <number>0</number>
         </property>
         <property name="spacing" >
-         <number>0</number>
+         <number>6</number>
         </property>
         <item>
+         <widget class="QSlider" name="horizontalSlider" >
+          <property name="sizePolicy" >
+           <sizepolicy>
+            <hsizetype>0</hsizetype>
+            <vsizetype>0</vsizetype>
+            <horstretch>5</horstretch>
+            <verstretch>0</verstretch>
+           </sizepolicy>
+          </property>
+          <property name="maximumSize" >
+           <size>
+            <width>1200</width>
+            <height>16777215</height>
+           </size>
+          </property>
+          <property name="orientation" >
+           <enum>Qt::Horizontal</enum>
+          </property>
+         </widget>
+        </item>
+        <item>
          <spacer>
           <property name="orientation" >
            <enum>Qt::Horizontal</enum>
           </property>
-          <property name="sizeType" >
-           <enum>QSizePolicy::Fixed</enum>
-          </property>
           <property name="sizeHint" >
            <size>
-            <width>12</width>
-            <height>1</height>
+            <width>40</width>
+            <height>20</height>
            </size>
           </property>
          </spacer>
         </item>
-        <item>
-         <widget class="QComboBox" name="comboBoxFormat" >
-          <property name="sizePolicy" >
-           <sizepolicy>
-            <hsizetype>1</hsizetype>
-            <vsizetype>0</vsizetype>
-            <horstretch>0</horstretch>
-            <verstretch>0</verstretch>
-           </sizepolicy>
-          </property>
-         </widget>
-        </item>
        </layout>
       </item>
-      <item>
-       <spacer>
-        <property name="orientation" >
-         <enum>Qt::Vertical</enum>
-        </property>
-        <property name="sizeHint" >
-         <size>
-          <width>20</width>
-          <height>0</height>
-         </size>
-        </property>
-       </spacer>
-      </item>
      </layout>
     </item>
+    <item row="2" column="1" >
+     <spacer>
+      <property name="orientation" >
+       <enum>Qt::Vertical</enum>
+      </property>
+      <property name="sizeHint" >
+       <size>
+        <width>20</width>
+        <height>40</height>
+       </size>
+      </property>
+     </spacer>
+    </item>
+    <item row="2" column="0" >
+     <spacer>
+      <property name="orientation" >
+       <enum>Qt::Vertical</enum>
+      </property>
+      <property name="sizeHint" >
+       <size>
+        <width>20</width>
+        <height>40</height>
+       </size>
+      </property>
+     </spacer>
+    </item>
+    <item row="1" column="2" >
+     <spacer>
+      <property name="orientation" >
+       <enum>Qt::Horizontal</enum>
+      </property>
+      <property name="sizeHint" >
+       <size>
+        <width>40</width>
+        <height>20</height>
+       </size>
+      </property>
+     </spacer>
+    </item>
    </layout>
   </widget>
   <widget class="QMenuBar" name="menubar" >



From mean at mail.berlios.de  Thu May 17 18:17:04 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 17 May 2007 18:17:04 +0200
Subject: [Avidemux-svn-commit] r3105 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4
Message-ID: <200705171617.l4HGH4ne019599@sheep.berlios.de>

Author: mean
Date: 2007-05-17 18:17:04 +0200 (Thu, 17 May 2007)
New Revision: 3105

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp
Log:
fix bad computation of last chunk (ringmaster)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp	2007-05-17 07:39:26 UTC (rev 3104)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp	2007-05-17 16:17:04 UTC (rev 3105)
@@ -137,10 +137,11 @@
                 // Assume the last sample is the same size as the previous one
 	  	//*samples=1024;
                 delta=_index[_nb_chunks-1].time;
-                delta=delta/1000;
+                
                 if(_audioDuration>delta)
                 {
                         delta=_audioDuration-delta;
+                        delta/=1000;
                         // delta is the duration of the current chunk in us
                         delta*=_wavheader->frequency;
                         delta/=1000.; // mss -> second
@@ -159,9 +160,9 @@
 		delta*=_wavheader->frequency;
 		delta/=1000.*1000.; // us -> second
 		*samples=(uint32_t)floor(delta);
-	  
+	     
 	  }
-#if 0
+#if 1
           printf("[MP4Audio]Read %u bytes\n", r);
             printf("MP4Audio : index  :%u/%u sample : %u\n",_current_index,_nb_chunks,*samples);
 #endif



From mean at mail.berlios.de  Thu May 17 18:17:35 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 17 May 2007 18:17:35 +0200
Subject: [Avidemux-svn-commit] r3106 -
	branches/avidemux_2.4_branch/avidemux/ADM_script
Message-ID: <200705171617.l4HGHZtC019645@sheep.berlios.de>

Author: mean
Date: 2007-05-17 18:17:35 +0200 (Thu, 17 May 2007)
New Revision: 3106

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp
Log:
remove warning

Modified: branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp	2007-05-17 16:17:04 UTC (rev 3105)
+++ branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSAvidemuxAudio.cpp	2007-05-17 16:17:35 UTC (rev 3106)
@@ -287,7 +287,7 @@
         printf("Saving Audio \"%s\"\n",pTempStr);
         enterLock();
         *rval = INT_TO_JSVAL(A_audioSave(pTempStr));
-        leaveLock()
+        leaveLock();
         return JS_TRUE;
 }// end Save
 
@@ -401,7 +401,7 @@
 
                 *rval = BOOLEAN_TO_JSVAL(true);
         }// end set bitrate
-        leaveLock()
+        leaveLock();
         return JS_TRUE;
 }// end Codec
 JSBool ADM_JSAvidemuxAudio::getNbTracks(JSContext *cx, JSObject *obj, uintN argc, 
@@ -417,7 +417,7 @@
       
         enterLock();
         video_body->getAudioStreamsInfo(0,&nb, &infos);
-        leaveLock()
+        leaveLock();
         if(infos)
                 delete [] infos;
         *rval = INT_TO_JSVAL(nb);
@@ -442,7 +442,7 @@
         if(nw>nb) return JS_FALSE;
         enterLock();
         video_body->changeAudioStream(0,nw);
-        leaveLock()
+        leaveLock();
         return JS_TRUE;
 }// end Codec
 JSBool ADM_JSAvidemuxAudio::secondAudioTrack(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval)
@@ -464,10 +464,10 @@
         enterLock();
         if(A_setSecondAudioTrack(source,name))
         {
-                leaveLock()
+                leaveLock();
                 return JS_TRUE;
         }
-        leaveLock()
+        leaveLock();
       return JS_FALSE;
 }
 JSBool ADM_JSAvidemuxAudio::mixer(JSContext *cx, JSObject *obj, uintN argc, 
@@ -488,7 +488,7 @@
                 *rval=BOOLEAN_TO_JSVAL(true);
         else
                 *rval=BOOLEAN_TO_JSVAL(false);
-        leaveLock()
+        leaveLock();
         return JS_TRUE;
 
 }// end Codec



From mean at mail.berlios.de  Thu May 17 18:18:32 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 17 May 2007 18:18:32 +0200
Subject: [Avidemux-svn-commit] r3107 -
	branches/avidemux_2.4_branch/avidemux/ADM_editor
Message-ID: <200705171618.l4HGIWkR019752@sheep.berlios.de>

Author: mean
Date: 2007-05-17 18:18:31 +0200 (Thu, 17 May 2007)
New Revision: 3107

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp
Log:
be more verbose

Modified: branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp	2007-05-17 16:17:35 UTC (rev 3106)
+++ branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp	2007-05-17 16:18:31 UTC (rev 3107)
@@ -501,7 +501,7 @@
 	duration*=1000;			// duration in seconds
 	duration*=_wavinfo->frequency;  	// In sample
 	_videos[_nb_video]._audio_duration=(uint64_t)floor(duration);
-       
+        printf("[Editor] Duration in seconds : %u , in samples : %u\n",_videos[_nb_video]._audio_duration/_wavinfo->frequency,_videos[_nb_video]._audio_duration);
 
     }
 



From mean at mail.berlios.de  Thu May 17 18:19:04 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 17 May 2007 18:19:04 +0200
Subject: [Avidemux-svn-commit] r3108 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4
Message-ID: <200705171619.l4HGJ4mR019813@sheep.berlios.de>

Author: mean
Date: 2007-05-17 18:19:03 +0200 (Thu, 17 May 2007)
New Revision: 3108

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp
Log:
be less verbose

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp	2007-05-17 16:18:31 UTC (rev 3107)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4audio.cpp	2007-05-17 16:19:03 UTC (rev 3108)
@@ -162,7 +162,7 @@
 		*samples=(uint32_t)floor(delta);
 	     
 	  }
-#if 1
+#if 0
           printf("[MP4Audio]Read %u bytes\n", r);
             printf("MP4Audio : index  :%u/%u sample : %u\n",_current_index,_nb_chunks,*samples);
 #endif



From mean at mail.berlios.de  Thu May 17 20:49:19 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 17 May 2007 20:49:19 +0200
Subject: [Avidemux-svn-commit] r3109 - branches/avidemux_2.4_branch/po
Message-ID: <200705171849.l4HInJV3012045@sheep.berlios.de>

Author: mean
Date: 2007-05-17 20:49:15 +0200 (Thu, 17 May 2007)
New Revision: 3109

Modified:
   branches/avidemux_2.4_branch/po/fr.po
Log:
olivierdivx : updated fr translation

Modified: branches/avidemux_2.4_branch/po/fr.po
===================================================================
--- branches/avidemux_2.4_branch/po/fr.po	2007-05-17 16:19:03 UTC (rev 3108)
+++ branches/avidemux_2.4_branch/po/fr.po	2007-05-17 18:49:15 UTC (rev 3109)
@@ -7,16 +7,21 @@
 "Project-Id-Version: fr\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: 2007-04-24 13:16+0100\n"
-"PO-Revision-Date: 2006-10-16 21:51+0100\n"
-"Last-Translator: Eric Lassauge <lassauge at users.sf.net>\n"
+"PO-Revision-Date: 2007-05-17 20:37+0100\n"
+"Last-Translator: \n"
 "Language-Team: Mean <fr at li.org>\n"
 "MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Type: text/plain; charset=utf-8\n"
 "Content-Transfer-Encoding: 8bit\n"
 "X-Generator: KBabel 1.3\n"
 
+#: avidemux/ADM_audio/audiotimeline.cpp:83
+#: avidemux/ADM_audio/audiotimeline.cpp:94
+msgid "Building VBR map"
+msgstr "Construire le Time Map VBR"
+
 #: avidemux/ADM_audiocodec/ADM_codecwma.cpp:75
-#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:182
+#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:183
 msgid "Internal error"
 msgstr "Erreur interne"
 
@@ -24,7 +29,7 @@
 msgid "Cannot open WMA2 codec."
 msgstr "Ne peut pas ouvrir le codec WMA2."
 
-#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:182
+#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:183
 msgid "Cannot open AMR codec."
 msgstr "Ne peut pas ouvrir le codec AMR."
 
@@ -34,89 +39,90 @@
 
 #: avidemux/ADM_audiodevice/ADM_deviceoss.cpp:118
 msgid "Check the permissions for /dev/dsp."
-msgstr ""
+msgstr "Lister permissions pour /dev/dsp."
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:215
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:199
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:371
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:101
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:223
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:110
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:101
+#, c-format
 msgid "Stereo"
 msgstr "St?r?o"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:216
-#, fuzzy
 msgid "Joint stereo"
-msgstr "Joint St?r?o"
+msgstr "St?r?o join"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:217
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:370
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:100
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:107
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:98
+#, c-format
 msgid "Mono"
 msgstr "Mono"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:219
-#, fuzzy
-msgid "Channel Mode"
-msgstr "<b>Mode Canal:</b>"
+msgid "C_hannel mode:"
+msgstr "Mode Canal:"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:222
-#, fuzzy
 msgid "CBR"
-msgstr "VBR"
+msgstr "CBR"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:223
-#, fuzzy
 msgid "ABR"
-msgstr "VBR"
+msgstr "ABR"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:225
 msgid "Extreme"
-msgstr ""
+msgstr "Extr?me"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:228
-#: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:273
-#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:203
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:181
-msgid "Mode"
-msgstr "Mode"
+msgid "Bit_rate mode:"
+msgstr "Mode Bi_trate:"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:241
 #: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:287
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioconfig.cpp:59
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:624
-msgid "Bitrate"
-msgstr "Bitrate"
+msgid "_Bitrate:"
+msgstr "_Bitrate:"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:246
 #: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:289
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mjpeg.cpp:82
-#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:204
-msgid "Quality"
-msgstr "Qualit?"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_mjpeg.cpp:40
+msgid "_Quality:"
+msgstr "_Qualit?:"
 
 #: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:270
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:469
 msgid "VBR"
 msgstr "VBR"
 
 #: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:271
-#, fuzzy
-msgid "Quality Based"
-msgstr "Qualit?"
+msgid "Quality based"
+msgstr "Qualit? bas?e"
 
+#: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:273
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:91
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:113
+msgid "_Mode:"
+msgstr "_Mode:"
+
 #: avidemux/ADM_audiofilter/audiofilter_buildchain.cpp:322
-#: avidemux/gui_autodrive.cpp:82 avidemux/gui_autodrive.cpp:116
+#: avidemux/gui_autodrive.cpp:82
+#: avidemux/gui_autodrive.cpp:116
 msgid "Codec Error"
 msgstr "Erreur codec"
 
 #: avidemux/ADM_audiofilter/audiofilter_buildchain.cpp:322
 msgid ""
-"The number of channels is greater than what the selected audio codec can "
-"do.\n"
+"The number of channels is greater than what the selected audio codec can do.\n"
 "Either change codec or use the mixer filter to have less channels."
 msgstr ""
 "Le nombre de canaux est plus grand que ce que le codec audio peut accepter.\n"
 "Changer de codec ou utiliser le filtre mixer pour avoir moins de canaux."
 
-#: avidemux/ADM_codecs/ADM_ffmp43.cpp:51
+#: avidemux/ADM_codecs/ADM_ffmp43.cpp:52
 msgid "Internal error finding codec"
 msgstr "Erreur interne pour trouver le codec"
 
@@ -134,111 +140,113 @@
 " Did you use too low / too high target for 2 pass ?"
 msgstr ""
 
-#: avidemux/ADM_editor/ADM_edFrameType.cpp:56
+#: avidemux/ADM_editor/ADM_edFrameType.cpp:58
 msgid "No video loaded"
 msgstr "Aucune vid?o charg?e"
 
-#: avidemux/ADM_editor/ADM_edFrameType.cpp:61
+#: avidemux/ADM_editor/ADM_edFrameType.cpp:63
 msgid "Not indexable"
 msgstr "N'est pas indexable"
 
-#: avidemux/ADM_editor/ADM_edFrameType.cpp:61
+#: avidemux/ADM_editor/ADM_edFrameType.cpp:63
 msgid "DivX 5 + packed?"
 msgstr "DivX 5 + packed??"
 
-#: avidemux/ADM_editor/ADM_edFrameType.cpp:119
+#: avidemux/ADM_editor/ADM_edFrameType.cpp:93
+msgid "Rebuilding Frames"
+msgstr "Reconstuire images "
+
+#: avidemux/ADM_editor/ADM_edFrameType.cpp:129
 msgid "Aborted"
 msgstr "Annul?"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:389
+#: avidemux/ADM_editor/ADM_edit.cpp:400
 msgid "File type identified but no loader support detected..."
 msgstr "Type de fichier identifi? mais pas de support d?tect?..."
 
-#: avidemux/ADM_editor/ADM_edit.cpp:390
+#: avidemux/ADM_editor/ADM_edit.cpp:401
 msgid "May be related to an old index file."
 msgstr "Peut ?tre li? ? un vieux fichier d'index."
 
-#: avidemux/ADM_editor/ADM_edit.cpp:397
+#: avidemux/ADM_editor/ADM_edit.cpp:408
 #, c-format
 msgid "Attempt to open %s failed!"
 msgstr "Echec ouverture de ??%s???!"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:421
+#: avidemux/ADM_editor/ADM_edit.cpp:432
 msgid ""
-"You cannot mix different video dimensions yet. Using the partial video "
-"filter later, will not work around this problem. The workaround is:\n"
-"1.) \"resize\" / \"add border\" / \"crop\" each stream to the same "
-"resolution\n"
+"You cannot mix different video dimensions yet. Using the partial video filter later, will not work around this problem. The workaround is:\n"
+"1.) \"resize\" / \"add border\" / \"crop\" each stream to the same resolution\n"
 "2.) concatinate them together"
 msgstr ""
+"Vous ne pouvez pas multiplexer des vid?os de dimensions diff?rentes.Utiliser un filtre vid?o partiel plus tard,ne focntionnera pas pour ce probl?me. Le travail est:\n"
+"1.)\"redimensionner\" /\"Ajout bordure\" /\"cropper\" chaque flux pour la m?me dimension \n"
+"2.) concat?ner tous ensemble"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:520
+#: avidemux/ADM_editor/ADM_edit.cpp:544
 msgid "Build Time Map"
 msgstr "Construire Time Map"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:520
+#: avidemux/ADM_editor/ADM_edit.cpp:544
 msgid "Build VBR time map?"
 msgstr "Construire le Time Map pour le VBR??"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:554
+#: avidemux/ADM_editor/ADM_edit.cpp:578
 msgid "Use that mode"
 msgstr "Utiliser ce mode"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:554
+#: avidemux/ADM_editor/ADM_edit.cpp:578
 msgid "H264 detected"
 msgstr "H264 d?tect?"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:554
+#: avidemux/ADM_editor/ADM_edit.cpp:578
 msgid ""
-"If the file is using bframe as reference, it can lead to crash or "
-"stutteting.\n"
-"Avidemux can use another mode which is safed but <b>YOU WILL LOOSE FRAME "
-"ACCURACY</b>.\n"
+"If the file is using bframe as reference, it can lead to crash or stutteting.\n"
+"Avidemux can use another mode which is safed but <b>YOU WILL LOOSE FRAME ACCURACY</b>.\n"
 "Do you want to use that mode ?"
 msgstr ""
 
-#: avidemux/ADM_editor/ADM_edit.cpp:681
+#: avidemux/ADM_editor/ADM_edit.cpp:705
 msgid "Packed Bitstream detected"
 msgstr "Packed Bitstream d?tect?"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:682
+#: avidemux/ADM_editor/ADM_edit.cpp:706
 msgid "Do you want me to unpack it ?"
 msgstr "Voulez-vous que je le d?paquette??"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:702
+#: avidemux/ADM_editor/ADM_edit.cpp:726
 msgid "Could not unpack the video"
 msgstr "Impossible de d?paquer la vid?o"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:702
+#: avidemux/ADM_editor/ADM_edit.cpp:726
 msgid "Using backup decoder - not frame accurate."
 msgstr "Utilisation du d?codeur de secours - pas pr?cis sur les images."
 
-#: avidemux/ADM_editor/ADM_edit.cpp:707
+#: avidemux/ADM_editor/ADM_edit.cpp:731
 msgid "Weird"
 msgstr "Etrange"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:707
+#: avidemux/ADM_editor/ADM_edit.cpp:731
 msgid "The unpacking succeedeed but the index is still not up to date."
-msgstr ""
+msgstr "Le d?paquetage a r?eussi mais l'index n'est toujours pas jour."
 
-#: avidemux/ADM_editor/ADM_edit.cpp:713
+#: avidemux/ADM_editor/ADM_edit.cpp:737
 msgid "Troubles ahead"
 msgstr "Probl?mes en vue"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:713
+#: avidemux/ADM_editor/ADM_edit.cpp:737
 msgid "This a VOP packed AVI."
 msgstr "Ceci est un AVI ??VOP packed??."
 
-#: avidemux/ADM_editor/ADM_edit.cpp:724
+#: avidemux/ADM_editor/ADM_edit.cpp:748
 msgid "Index is not up to date"
 msgstr "L'index n'est pas ? jour"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:724
+#: avidemux/ADM_editor/ADM_edit.cpp:748
 msgid "You should use Tool->Rebuild frame. Do it now ?"
-msgstr ""
-"Vous devriez utiliser ??Outils->Reconstruire image??. Le faire maintenant??"
+msgstr "Vous devriez utiliser ??Outils->Reconstruire image??. Le faire maintenant??"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:1479
+#: avidemux/ADM_editor/ADM_edit.cpp:1503
 msgid ""
 "This looks like mpeg\n"
 " Do you want to index it?"
@@ -246,7 +254,7 @@
 "Ce fichier est un MPEG\n"
 "Voulez vous l'indexer??"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:1531
+#: avidemux/ADM_editor/ADM_edit.cpp:1555
 msgid "Indexing failed"
 msgstr "Echec indexage"
 
@@ -268,44 +276,39 @@
 msgstr "AVI"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:39
-msgid "AVI, unp. VOP"
-msgstr "AVI, unp. VOP"
+msgid "AVI, dual audio"
+msgstr "AVI, double audio"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:40
-#, fuzzy
 msgid "AVI, pack VOP"
-msgstr "AVI, unp. VOP"
+msgstr "AVI, avec VOP"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:41
-msgid "AVI, dual audio"
-msgstr "AVI, double audio"
+msgid "AVI, unp. VOP"
+msgstr "AVI, sans VOP"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:42
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:505
-msgid "OGM"
-msgstr "OGM"
+msgid "MPEG-PS (A+V)"
+msgstr "MPEG-PS A+V"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:43
-#, fuzzy
-msgid "MPEG Video"
-msgstr "MPEG vid?o"
+msgid "MPEG-TS (A+V)"
+msgstr "MPEG-TS A+V"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:44
-#, fuzzy
-msgid "MPEG-PS (A+V)"
-msgstr "MPEG PS A+V"
+msgid "MPEG Video"
+msgstr "MPEG vid?o "
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:45
-#, fuzzy
-msgid "MPEG-TS (A+V)"
-msgstr "MPEG TS A+V"
-
-#: avidemux/ADM_editor/ADM_outputfmt.h:46
 msgid "MP4"
 msgstr "MP4"
 
+#: avidemux/ADM_editor/ADM_outputfmt.h:46
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:505
+msgid "OGM"
+msgstr "OGM"
+
 #: avidemux/ADM_editor/ADM_outputfmt.h:47
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:756
 msgid "PSP"
 msgstr "PSP"
 
@@ -334,55 +337,50 @@
 msgstr "Erreur fatale"
 
 #: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
-#, fuzzy
 msgid "Incompatible settings"
-msgstr "Audio incompatible"
+msgstr "R?glage incomptaible"
 
 #: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
 msgid "At the moment, the DV codec only accepts 720*576 at 25"
-msgstr ""
+msgstr "Pour le moment,le codec DV accepte seulement le 720*576 at 25 fps"
 
-#: avidemux/ADM_filter/filter_saveload.cpp:156
+#: avidemux/ADM_filter/filter_saveload.cpp:157
 msgid "Problem reading XML filters"
 msgstr "Probl?me ? la lecture des filtres XML"
 
-#: avidemux/ADM_filter/filter_saveload.cpp:164
+#: avidemux/ADM_filter/filter_saveload.cpp:165
 msgid "No filter found"
 msgstr "Pas de filtre trouv?"
 
-#: avidemux/ADM_filter/filter_saveload.cpp:200
+#: avidemux/ADM_filter/filter_saveload.cpp:201
 msgid "Could not find a filter"
 msgstr "Impossible de trouver un filtre"
 
-#: avidemux/ADM_filter/filter_saveload.cpp:208
+#: avidemux/ADM_filter/filter_saveload.cpp:209
 msgid "No tag found"
 msgstr "Pas d'attribut trouv?"
 
-#: avidemux/ADM_filter/filter_saveload.cpp:288
+#: avidemux/ADM_filter/filter_saveload.cpp:289
 msgid "Node not found"
 msgstr "Noeud non trouv?"
 
-#: avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp:484
-msgid "Expect troubles"
-msgstr "Attendez vous ? des probl?mes"
+#: avidemux/ADM_inputs/ADM_h263/ADM_h263.cpp:258
+msgid "Size is not (s)QCIF"
+msgstr "La taille n'est pas (s)QCIF"
 
-#: avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp:971
+#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp:566
 msgid "Problem reading SVQ3 headers"
 msgstr "Probl?me ? la lecture des en-t?tes SVQ3"
 
-#: avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp:1527
+#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp:346
 msgid "No stts table"
 msgstr "Pas de table stts"
 
-#: avidemux/ADM_inputs/ADM_h263/ADM_h263.cpp:257
-msgid "Size is not (s)QCIF"
-msgstr "La taille n'est pas (s)QCIF"
-
-#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:148
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:149
 msgid "There is several mpeg file, append them ?"
 msgstr "Il y a plusieurs fichiers MPEG, les ajouter??"
 
-#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:245
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:250
 msgid "Can't determine aspect ratio"
 msgstr "Impossible de d?terminer le radio d'aspect"
 
@@ -424,6 +422,10 @@
 msgid "Malformed header"
 msgstr "En-t?te ?rron?e"
 
+#: avidemux/ADM_inputs/ADM_openDML/ADM_openDMLDepack.cpp:93
+msgid "Unpacking packed bitstream"
+msgstr "Enlever Packed bitstream"
+
 #: avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp:308
 msgid "Incompatible frame rate"
 msgstr "FPS incompatible"
@@ -451,7 +453,7 @@
 msgstr "Erreur de conversion en BMP"
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:417
-#: avidemux/gtk_gui.cpp:1925
+#: avidemux/gtk_gui.cpp:1917
 msgid "Something bad happened"
 msgstr "Quelque de mauvais c'est pass?"
 
@@ -463,37 +465,65 @@
 #: avidemux/ADM_ocr/ADM_ocrLoadSave.h:71
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:393
 #: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:252
-#: avidemux/gtk_gui.cpp:880 avidemux/gtk_gui.cpp:1530
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:335
+#: avidemux/gtk_gui.cpp:890
+#: avidemux/gtk_gui.cpp:1522
 msgid "File error"
 msgstr "Erreur Fichier"
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:393
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112 avidemux/gtk_gui.cpp:1530
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
+#: avidemux/gtk_gui.cpp:1522
 #, c-format
 msgid "Cannot open \"%s\" for writing."
 msgstr "Impossible d'ouvrir ??%s?? en ?criture."
 
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:324
+msgid "NTSC 4:3"
+msgstr "NTSC 4:3"
+
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:325
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:326
+msgid "NTSC 16:9"
+msgstr "NTSC 16:9"
+
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:327
+msgid "PAL 4:3"
+msgstr "PAL 4:3"
+
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:328
+msgid "PAL 16:9"
+msgstr "PAL 16:9"
+
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:329
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:376
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:398
+msgid "1:1"
+msgstr "1:1"
+
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:331
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:594
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:791
+msgid "Unknown"
+msgstr "Inconnu"
+
 #: avidemux/ADM_ocr/ADM_ocrLoadSave.h:22
-#, fuzzy
 msgid "Select Glyphfile to save to"
-msgstr "S?lection du fichier ? sauvegarder"
+msgstr "S?lection fichier Glyph ? sauvegarder"
 
 #: avidemux/ADM_ocr/ADM_ocrLoadSave.h:30
-#, fuzzy
 msgid "Could not write the file"
-msgstr "Ne peut ouvrir le fichier"
+msgstr "Ne peut pas ?crire le fichier"
 
 #: avidemux/ADM_ocr/ADM_ocrLoadSave.h:62
-#, fuzzy
 msgid "Erase current glyphs ?"
-msgstr "Glyphe courante"
+msgstr "Effacer Glyphe actuel ?"
 
 #: avidemux/ADM_ocr/ADM_ocrLoadSave.h:71
-#, fuzzy, c-format
+#, c-format
 msgid "Could not read \"%s\"."
-msgstr "Ne peut pas ouvrir ??%s?? en l'?criture"
+msgstr "Ne peut pas lire ?\"%s?\"."
 
 #: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:244
 msgid "Ifo error"
@@ -515,11 +545,30 @@
 msgid "Problem opening the mpeg files"
 msgstr "Probl?me d'ouverture des fichiers MPEG"
 
+#: avidemux/ADM_osSupport/ADM_crashdump.cpp:239
+msgid "Load it"
+msgstr "Charger le"
+
+#: avidemux/ADM_osSupport/ADM_crashdump.cpp:239
+msgid "Crash file"
+msgstr "Crash fichier"
+
+#: avidemux/ADM_osSupport/ADM_crashdump.cpp:240
+msgid ""
+"I have detected a crash file. \n"
+"Do you want to load it  ?\n"
+"(It will be deleted in all cases, you should save it if you want to keep it)"
+msgstr ""
+"J'ai d?tect? un crash de fichier. \n"
+"Voulez le charger ?\n"
+"(Il sera supprim? dans tous les cas, vous devriez le sauver si vous voulez le garder)"
+
 #: avidemux/ADM_osSupport/ADM_fileio.cpp:102
 #: avidemux/ADM_osSupport/ADM_fileio.cpp:126
 #: avidemux/ADM_osSupport/ADM_fileio.cpp:146
 #: avidemux/ADM_osSupport/ADM_fileio.cpp:153
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:164 avidemux/GUI_jobs.cpp:37
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:164
+#: avidemux/GUI_jobs.cpp:37
 msgid "Oops"
 msgstr "Oups"
 
@@ -545,41 +594,59 @@
 msgid "Cannot create the .avidemux directory"
 msgstr "Impossible de cr?er le r?pertoire ??.avidemux??."
 
+#: avidemux/ADM_osSupport/ADM_misc.cpp:215
+#, c-format
+msgid "%lu minutes"
+msgstr "%lu minutes"
+
+#: avidemux/ADM_osSupport/ADM_misc.cpp:219
+#, c-format
+msgid "%lu minute"
+msgstr "%lu minute"
+
+#: avidemux/ADM_osSupport/ADM_misc.cpp:227
+#, c-format
+msgid "%lu second"
+msgstr "%lu seconde"
+
+#: avidemux/ADM_osSupport/ADM_misc.cpp:231
+#, c-format
+msgid "%lu seconds"
+msgstr "%lu seconds"
+
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:74
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:180
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:841
 msgid "Normal"
-msgstr ""
+msgstr "Normal"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:75
-#, fuzzy
 msgid "Mux every N video frames"
-msgstr "image(s) vid?o"
+msgstr "Multiplexer toute les N images vid?o"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:76
 msgid "Mux by packet size"
-msgstr ""
+msgstr "Multiplexer par taille de pacquet"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:79
-#, fuzzy
-msgid "Muxing Type"
-msgstr "Type d'encodage"
+msgid "Muxing _type:"
+msgstr "Type de multiplexage:"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:80
-msgid "Split every MBytes"
-msgstr ""
+msgid "_Split every MB:"
+msgstr "_Coupe tout les MB:"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:82
-#, fuzzy
-msgid "Mux Every x video frames"
-msgstr "image(s) vid?o"
+msgid "Mux _every x video frames:"
+msgstr "Multiplexer _toutes les x images vid?os:"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:83
-msgid "Mux with block of size"
+msgid "Mux in _blocks of x bytes:"
 msgstr ""
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:90
-#, fuzzy
-msgid "Avi Muxer Option"
-msgstr "Options du _multiplexeur AVI"
+msgid "AVI Muxer Options"
+msgstr "Options du multiplexeur AVI"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:188
 msgid "Error initalizing audio filters"
@@ -672,9 +739,7 @@
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:101
 msgid "Use the &lt;&lt; and the &gt;&gt; buttons to move using Intra frames."
-msgstr ""
-"Utiliser les boutons &lt;&lt; et &gt;&gt; pour ce d?placer dans les images-"
-"Intra."
+msgstr "Utiliser les boutons &lt;&lt; et &gt;&gt; pour ce d?placer dans les images-Intra."
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:113
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:177
@@ -688,9 +753,7 @@
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:182
 msgid "For DVD, audio must be 48 kHz MP2(stereo), AC3, DTS or LPCM (stereo)."
-msgstr ""
-"Pour les DVD, l'audio doit ?tre 48 kHz MP2(st?reo), AC3, DTS ou LPCM "
-"(st?reo)."
+msgstr "Pour les DVD, l'audio doit ?tre 48 kHz MP2(st?reo), AC3, DTS ou LPCM (st?reo)."
 
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:209
 msgid "For DVD, audio must be 48 kHz MP2, AC3 or LPCM."
@@ -716,65 +779,289 @@
 msgid "Could not initialize audio"
 msgstr "Impossible d'initialiser l'audio"
 
-#: avidemux/ADM_script/ADM_JSFunctions.cpp:230
-#, fuzzy
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:232
 msgid "Select a directory"
-msgstr "S?lectionner couleur"
+msgstr "S?lectionner un chemin"
 
-#: avidemux/ADM_script/ADM_JSFunctions.cpp:496
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:498
 msgid "Uinteger"
 msgstr ""
 
-#: avidemux/ADM_script/ADM_JSFunctions.cpp:511
-#, fuzzy
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:513
 msgid "Float"
-msgstr "_Format:"
+msgstr "Flot"
 
-#: avidemux/ADM_script/ADM_JSFunctions.cpp:528
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:531
 msgid "Toggle"
-msgstr ""
+msgstr "Toggle"
 
-#: avidemux/ADM_script/ADM_JSFunctions.cpp:545
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:552
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:83
-#, fuzzy
 msgid "No Strategy"
-msgstr "Pas de strat?gie"
+msgstr "Pas de strat?gie "
 
-#: avidemux/ADM_script/ADM_JSFunctions.cpp:546
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:553
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:84
 msgid "3:2 Pulldown"
-msgstr ""
+msgstr "3:2 Descendant"
 
-#: avidemux/ADM_script/ADM_JSFunctions.cpp:547
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:554
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:85
 msgid "Pal/Secam"
 msgstr "Pal/Secam"
 
-#: avidemux/ADM_script/ADM_JSFunctions.cpp:548
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:555
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:86
-#, fuzzy
 msgid "NTSC converted from PAL"
-msgstr "NTSC provenant du PAL"
+msgstr "NTSC converti du PAL"
 
-#: avidemux/ADM_script/ADM_JSFunctions.cpp:550
-#, fuzzy
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:557
 msgid "menu"
-msgstr "mn"
+msgstr "menu"
 
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:62
+msgid "_Dynamic range compression"
+msgstr "Courbe de compression dynamique"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:63
+msgid "Enable _time shift"
+msgstr "Permet le d?calage "
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:64
+msgid "Time shift _value (ms):"
+msgstr "Valeur d?calage (ms):"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:70
+msgid "_Enable resampling"
+msgstr "_Active le r?-?chantillonage"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:71
+msgid "_Resampling frequency (Hz):"
+msgstr "_R?-?chantillonage fr?quence (Hz):"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:77
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:86
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:51
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:373
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:381
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:389
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:549
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:564
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:579
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:219
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1124
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:57
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:105
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:101
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:264
+#: avidemux/gtk_gui.cpp:1995
+#: avidemux/gtk_gui.cpp:2094
+msgid "None"
+msgstr "Aucun"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:78
+msgid "Film to PAL"
+msgstr "Film?vers?PAL"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:79
+msgid "PAL to Film"
+msgstr "PAL?vers?Film"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:82
+msgid "_Frame rate change:"
+msgstr "_Changer fr?quence d'image:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:87
+msgid "Automatic (max -3 dB)"
+msgstr "Automatique (max -3dB)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:88
+msgid "Manual"
+msgstr "Manuel"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:90
+msgid "_Gain mode:"
+msgstr "_Mode Gain:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:92
+msgid "G_ain value:"
+msgstr "Valeur Gain:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:94
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:200
+msgid "Gain"
+msgstr "Gain"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:99
+msgid "No change"
+msgstr "Pas de changement"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:102
+msgid "Stereo+surround"
+msgstr "St?r?o+surround"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:103
+msgid "Stereo+center"
+msgstr "St?r?o+centre"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:104
+msgid "Stereo+center+surround"
+msgstr "St?r?o+centre+surround"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:105
+msgid "Stereo front+stereo rear"
+msgstr "St?r?o devant+st?r?o derri?re"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:106
+msgid "5 channels"
+msgstr "5 canaux"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:107
+msgid "5.1"
+msgstr "5.1"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:108
+msgid "Dolby Pro Logic"
+msgstr "Dolby Pro logic"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:109
+msgid "Dolby Pro Logic II"
+msgstr "Dolby Pro logic 2"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:112
+msgid "_Mixer:"
+msgstr "_Mixeur:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:116
+msgid "Audio Filters"
+msgstr "Filtres audio"
+
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:59
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:128
 msgid "No data"
 msgstr "Pas de donn?es"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:232
-#, fuzzy
 msgid "Bitrate Histogram"
-msgstr "_Histogramme de bitrate"
+msgstr "Histogramme de bitrate"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:95
-msgid "Option "
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:122
+msgid "Video codecs:"
+msgstr "Codecs Vid?o:"
 
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:123
+msgid "Xvid"
+msgstr "XviD"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:124
+msgid "x264"
+msgstr "x264"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:129
+msgid "Audio codecs:"
+msgstr "Codecs audio:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:130
+msgid "Aften"
+msgstr "Aften"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:131
+msgid "amrnb"
+msgstr "amrnb"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:132
+msgid "FAAC"
+msgstr "FAAC"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:133
+msgid "FAAD2"
+msgstr "FAAD2"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:134
+msgid "LAME"
+msgstr "LAME"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:135
+msgid "liba52"
+msgstr "liba52"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:136
+msgid "libdca"
+msgstr "libdca"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:137
+msgid "MAD"
+msgstr "MAD"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:138
+msgid "Ogg Vorbis"
+msgstr "Ogg Vorbis"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:150
+msgid "Miscellaneous libraries:"
+msgstr "Librairies divers:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:151
+msgid "aRts"
+msgstr "aRts"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:152
+msgid "ESD"
+msgstr "ESD"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:153
+msgid "FreeType 2"
+msgstr "Freetype 2"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:154
+msgid "gettext"
+msgstr "gettext"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:155
+msgid "OSS"
+msgstr "OSS"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:156
+msgid "SDL"
+msgstr "SDL"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:157
+msgid "XVideo"
+msgstr "XVid?o"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:167
+msgid "CPU:"
+msgstr "CPU:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:168
+msgid "AltiVec"
+msgstr "AltiVec"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:169
+msgid "PowerPC"
+msgstr "Puissance PC"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:170
+msgid "x86"
+msgstr "x86"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:171
+msgid "x86-64"
+msgstr "x86-64"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:181
+msgid "Codecs"
+msgstr "Codecs"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:182
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:248
+msgid "Miscellaneous"
+msgstr "Divers"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:186
+msgid "Built-in Support"
+msgstr "Support-int?gr? pour"
+
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:52
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:42
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:380
@@ -796,8 +1083,8 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:56
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:46
-msgid "Tmpgenc"
-msgstr "Tmpgenc"
+msgid "TMPGEnc"
+msgstr "TMPGEnc"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:57
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:47
@@ -816,124 +1103,86 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:62
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:52
-#, fuzzy
-msgid "Int. TFF"
-msgstr "Entrelac? TFF"
+msgid "Interlaced TFF"
+msgstr " TFF Entrelac?"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:63
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:53
-#, fuzzy
-msgid "Int. BFF"
-msgstr "Entrelac? BFF"
+msgid "Interlaced BFF"
+msgstr "BFF Entrelac?"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:74
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:60
-#, fuzzy
-msgid "Max Bitrate"
-msgstr "Bitrate max?:"
+msgid "Ma_x. bitrate:"
+msgstr "Bitrate max:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:75
-#, fuzzy
-msgid "Min Bitrate"
-msgstr "Bitrate max?:"
+msgid "Mi_n. bitrate:"
+msgstr "Bitrate max:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:76
-#, fuzzy
-msgid "Use Xvid Rate Control"
-msgstr "Utiliser le contr?le du bitrate de XviD"
+msgid "_Use Xvid rate control"
+msgstr "_Utilise le contr?le du bitrate du XviD"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:78
-#, fuzzy
-msgid "Buffer Size"
-msgstr "Taille buffer VBV"
+msgid "_Buffer size:"
+msgstr "Taille buffer:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:80
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:57
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:299
-msgid "Aspect Ratio"
-msgstr "Ratio"
+msgid "Aspect _ratio:"
+msgstr "Ratio:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:81
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:73
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:58
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:265
-msgid "Matrices"
-msgstr "Matrices"
+msgid "_Matrices:"
+msgstr "Matrices:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:82
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:59
-#, fuzzy
-msgid "Gop Size"
-msgstr "Taille GOP?:"
+msgid "_GOP size:"
+msgstr "_Taille GOP:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:88
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:66
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:123
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:285
-msgid "Interlacing"
-msgstr "Entrelacement"
+msgid "_Interlacing:"
+msgstr "Entrelacement:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:27
 msgid "Hour"
-msgstr ""
+msgstr "Heure"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:28
 msgid "Minutes"
-msgstr ""
+msgstr "Minutes"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:29
-#, fuzzy
 msgid "Seconds"
-msgstr "Seconde passe"
+msgstr "Seconde "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:51
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:257
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:290
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:373
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:381
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:389
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:420
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:518
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:526
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:612
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:219
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1095
-#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:105
-#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:101
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:264 avidemux/gtk_gui.cpp:2003
-#: avidemux/gtk_gui.cpp:2102
-msgid "None"
-msgstr "Aucun"
-
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:52
-#, fuzzy
 msgid "Full"
-msgstr "1?: Complet"
+msgstr "Complet"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:53
-#, fuzzy
 msgid "Log"
-msgstr "2?: Log"
+msgstr " Log"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:54
-#, fuzzy
 msgid "Phods"
-msgstr "3?: Phods"
+msgstr "Phods"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:55
-#, fuzzy
 msgid "EPZS"
-msgstr "4?: EPZS"
+msgstr "EPZS"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:56
-#, fuzzy
 msgid "X1"
-msgstr "1"
+msgstr "X1"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:60
-#, fuzzy
-msgid "H263"
-msgstr "_H.263"
+msgid "H.263"
+msgstr "H.263"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:61
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:509
@@ -941,82 +1190,75 @@
 msgstr "MPEG"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:65
-#, fuzzy
-msgid "MB Comparison"
-msgstr "0?: comparaison MB"
+msgid "MB comparison"
+msgstr "comparaison MB"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:66
-#, fuzzy
 msgid "Fewest bits (vhq)"
-msgstr "1?: moins de bits (vhq)"
+msgstr " moins de bits (vhq)"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:67
-#, fuzzy
 msgid "Rate distortion"
-msgstr "2?: distortion de vitesse"
+msgstr "distortion de vitesse"
 
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:73
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:265
+msgid "Matrices"
+msgstr "Matrices"
+
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:74
-#, fuzzy
-msgid "Min Qz"
-msgstr "G?n?ral"
+msgid "Mi_n. quantizer:"
+msgstr "Quantificateur?min.:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:75
-#, fuzzy
-msgid "Max Qz"
-msgstr "Max"
+msgid "Ma_x. quantizer:"
+msgstr "Quantificateur?max.:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:76
-msgid "Max QDiff"
-msgstr ""
+msgid "Max. quantizer _difference:"
+msgstr "Diff?rence quantiseur max:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:78
-#, fuzzy
-msgid "4MV"
-msgstr "_4MV"
+msgid "4_MV"
+msgstr "4_MV"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:79
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:855
-msgid "Trellis"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1235
+msgid "_Trellis quantization"
+msgstr "_Quantification de treillis"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:81
-#, fuzzy
-msgid "Quarter Pel"
-msgstr "Quarter Pixel"
+msgid "_Quarter pixel"
+msgstr "_Quarter Pixel"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:82
-#, fuzzy
-msgid "GMC"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1018
+msgid "_GMC"
 msgstr "_GMC"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:85
-#, fuzzy
-msgid "Number of BFrames"
-msgstr "Nombre d'images-B?:"
+msgid "_Number of B frames:"
+msgstr "_Nombre d'images-B:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:86
-#, fuzzy
-msgid "Quantization type"
-msgstr "Type Quantization?:"
+msgid "_Quantization type:"
+msgstr "Type Quantisation:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:88
-#, fuzzy
-msgid "Macroblock decision"
-msgstr "D?cision macrobloc?:"
+msgid "_Macroblock decision:"
+msgstr "D?cision macrobloc:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:90
-msgid "Filesize tolerance (kb"
-msgstr ""
+msgid "_Filesize tolerance (kb):"
+msgstr "_Tol?rance taille fichier (kb):"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:92
-#, fuzzy
-msgid "Quantize compression"
-msgstr "Courbe de compression"
+msgid "_Quantizer compression:"
+msgstr "Courbe de compression:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:93
-#, fuzzy
-msgid "Quantize blur"
-msgstr "Quantificateur"
+msgid "Quantizer _blur:"
+msgstr "Quantificateur _blur:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:98
 msgid "User Interface"
@@ -1024,6 +1266,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:101
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1028
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:80
 msgid "Advanced Simple Profile"
 msgstr "Profil simple avanc?"
 
@@ -1034,241 +1277,469 @@
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:112
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:309
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1240
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:113
 msgid "Quantization"
 msgstr "Quantification"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:117
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1374
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1403
 msgid "Rate Control"
 msgstr "Contr?le du bitrate ou d?bit vid?o"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:120
-#, fuzzy
-msgid "Lavcodec Mpeg4 configuration"
-msgstr "Configuration x264"
+msgid "libavcodec MPEG-4 configuration"
+msgstr "Configuration libavcodec MPEG-4"
 
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp:45
+msgid "Swap U & V:"
+msgstr "Echanger U & V:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp:46
+msgid "Show _Vectors:"
+msgstr "Montrer les vecteurs de mouvement:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp:48
+msgid "Lavcodec Decoder Configuration"
+msgstr "Configuration Lavcodec Decoder"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_mjpeg.cpp:41
+msgid "_Swap U&V:"
+msgstr "Echanger UV:"
+
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:40
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:60
-#, fuzzy
 msgid "_Filter strength:"
-msgstr "Force de filtre?:"
+msgstr "Force de filtre:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:41
-#, fuzzy
-msgid "Swap U&V"
-msgstr "Echanger UV"
+msgid "_Swap U & V"
+msgstr "_Echanger U & V:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:51
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:269
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:72
-#, fuzzy
 msgid "_Horizontal deblocking"
-msgstr "D?groupage horizontal"
+msgstr "_D?groupage horizontal"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:52
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:270
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:73
-#, fuzzy
 msgid "_Vertical deblocking"
-msgstr "D?groupage vertical"
+msgstr "_D?groupage vertical"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:53
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:74
-#, fuzzy
 msgid "_Deringing"
-msgstr "Eliminer oscillations parasites"
+msgstr "_Eliminer oscillations parasites"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:149
-#, fuzzy
-msgid "Use systray while encoding"
-msgstr "_Activer l'ic?ne dans la barre des t?ches pendant l'encodage"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:162
+msgid "_Use systray while encoding"
+msgstr "_Activer le systray pendant l'encodage"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:150
-#, fuzzy
-msgid "Accept non standard audio frequency for DVD"
-msgstr "Autoriser des fr?quences audio non-standard pour l'encodage DVD"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:163
+msgid "_Accept non-standard audio frequency for DVD"
+msgstr "Accepter des fr?quences audio non-standard pour l'encodage DVD"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:151
-#, fuzzy
-msgid "Use lavcodec mpeg2 decoder"
-msgstr "_Utiliser le d?codeur MPEG ??libavcodec??"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:164
+msgid "_Use libavcodec MPEG-2 decoder"
+msgstr "_Utiliser le d?codeur MPEG libavcodec"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:152
-msgid "Create openDML file"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:165
+msgid "Create _OpenDML files"
+msgstr "Cr?er fichier _OpenDML"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:153
-#, fuzzy
-msgid "Automatically index mpeg files"
-msgstr "_Indexer automatiquement les fichiers MPEG"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:166
+msgid "Automatically _index MPEG files"
+msgstr "Indexer automatiquement les fichiers MPEG"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:154
-msgid "Automatically swap A and B if A>B"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:167
+msgid "Automatically _swap A and B if A>B"
+msgstr "_Inverser automatiquement les marques A et B si A > B"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:155
-#, fuzzy
-msgid "Disable NUV audio sync"
-msgstr "_D?sactiver la resynchro ??NuppelVideo??"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:168
+msgid "_Disable NUV audio sync"
+msgstr "_D?sactiver la resynchro NuppelVideo"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:156
-#, fuzzy
-msgid "Load external filters"
-msgstr "Charger un jeu de filtres"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:169
+msgid "_Load external filters"
+msgstr "Charger des filtres ext?rieurs"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:158
-#, fuzzy
-msgid "Automatically build VBR map"
-msgstr "_Indexer automatiquement les fichiers MPEG"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:171
+msgid "Automatically _build VBR map"
+msgstr "Construire automatiquement le map VBR"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:159
-#, fuzzy
-msgid "Automatically rebuild index"
-msgstr "_Indexer automatiquement les fichiers MPEG"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:172
+msgid "Automatically _rebuild index"
+msgstr "Reconstuire automatiquement l'index"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:160
-msgid "Automatically remove packed bitstream"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:173
+msgid "Automatically remove _packed bitstream"
+msgstr "Enlever automatiquement le Packed Bitstream"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:163
-#, fuzzy
-msgid "Number of threads"
-msgstr "Nombre d'images-B?:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:175
+msgid "_Number of threads:"
+msgstr "Nombre de fils:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:164
-msgid "Split mpegs every (MB)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:178
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:839
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:61
+msgid "High"
+msgstr "Haut"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:166
-msgid "Use alternative tag for mp3 in .mp4"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:179
+msgid "Above normal"
+msgstr "Au dessus de normal"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:169
-msgid "Gtk (Slow)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:181
+msgid "Below normal"
+msgstr "En dessous de normal"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:171
-msgid "Xv (Best)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:182
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:843
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:59
+msgid "Low"
+msgstr "Bas"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:174
-msgid "SDL (Good)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:184
+msgid "_Encoding priority:"
+msgstr "Priorit? d'encodage:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:177
-#, fuzzy
-msgid "Video Display"
-msgstr "Filtres Vid?o"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:185
+msgid "_Indexing/unpacking priority:"
+msgstr "_Priorit? indexage/d?paquetage:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:182
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:186
+msgid "_Playback priority:"
+msgstr "_Priorit? playback:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:188
+msgid "_Split MPEG files every (MB):"
+msgstr "Auto coupe chaque fichier MPEG tous (MB):"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:190
+msgid "_Use alternative tag for MP3 in .mp4"
+msgstr "_Utiliserdes tags alternatifs pour le MP3 dans le .mp4"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:193
+msgid "GTK+ (slow)"
+msgstr "GTK+ (lent)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:195
+msgid "XVideo (best)"
+msgstr "XVid?o (meilleur)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:198
+msgid "SDL (good)"
+msgstr "SDL (bon)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:201
+msgid "Video _display:"
+msgstr "Affichage Vid?o:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:206
 msgid "No alerts"
 msgstr "Pas d'alerte"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:183
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:207
 msgid "Display only error alerts"
 msgstr "Afficher seulement s'il y des alertes d'erreurs"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:184
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:208
 msgid "Display all alerts"
 msgstr "Toutes les alertes"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:186
-#, fuzzy
-msgid "Message level"
-msgstr "_Niveau Messages?:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:210
+msgid "_Message level:"
+msgstr "_Niveau Messages:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:191
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:215
 msgid "PCM"
-msgstr "_PCM"
+msgstr "PCM"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:192
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:216
 msgid "Master"
-msgstr "_Ma?tre"
+msgstr "Ma?tre"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:193
-#, fuzzy
-msgid "Volume control"
-msgstr "_Barre de contr?le du volume?:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:217
+msgid "_Volume control:"
+msgstr "_Contr?le du volume?:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:198
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:222
 msgid "No downmixing"
-msgstr ""
+msgstr "Pas de downmixing"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:200
-#, fuzzy
-msgid "Prologic"
-msgstr "Dolby Prologic"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:224
+msgid "Pro Logic"
+msgstr "Pro logic"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:201
-#, fuzzy
-msgid "Prologic II"
-msgstr "Dolby Prologic 2"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:225
+msgid "Pro Logic II"
+msgstr "Pro logic 2"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:203
-msgid "Local Playback Downmixing"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:227
+msgid "_Local playback downmixing:"
+msgstr "_Local playback downmixing:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:232
-#, fuzzy
-msgid "Audio output"
-msgstr "_Sortie Audio?:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:256
+msgid "_Audio output:"
+msgstr "_Sortie Audio:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:245
-#, fuzzy
-msgid "Horizontal deblocking"
-msgstr "D?groupage horizontal"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:271
+msgid "De_ringing"
+msgstr "D?cercler"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:246
-#, fuzzy
-msgid "Vertical deblocking"
-msgstr "D?groupage vertical"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:272
+#: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:167
+msgid "_Strength:"
+msgstr "_Force:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:247
-msgid "Deringing"
-msgstr "Eliminer oscillations parasites"
-
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:248
-#, fuzzy
-msgid "Strength:"
-msgstr "Force:"
-
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:249
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:273
 msgid "Default Postprocessing"
-msgstr "_Indiquer le niveau de post-traitement par d?faut"
+msgstr "Post-traitement par d?faut"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:263
-#, fuzzy
-msgid "Filter directory"
-msgstr "Force du filtre"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:287
+msgid "_Filter directory:"
+msgstr "Chemin filtre:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:301
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:325
 msgid "Preferences"
 msgstr "Pr?f?rences"
 
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_requant.cpp:48
+msgid "_Shrink Factor:"
+msgstr "_Facteur shrink?:"
+
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:59
-#, fuzzy
 msgid "Target type"
-msgstr "Type de cible?:"
+msgstr "Type de cible"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:60
-#, fuzzy
 msgid "Source aspect ratio"
-msgstr "Ratio de la source?:"
+msgstr "Ratio de la source"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:61
-#, fuzzy
 msgid "Dest. aspect ratio"
-msgstr "Ratio d'_Aspect"
+msgstr "Ratio d'Aspect"
 
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:45
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:51
+msgid "Auto (might not work)"
+msgstr "Auto (ne devrait pas fonctionner)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:46
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:178
+msgid "Top Field First"
+msgstr "Trame haute en premier"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:47
+msgid "Bottom Field First"
+msgstr "Trame basse en premier"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:52
+msgid "Bottom Field (keep top)"
+msgstr "Trame basse (garder le haut)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:53
+msgid "Top Field (keep Bottom)"
+msgstr "Trame haute (garder le bas) "
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:58
+msgid "Cubic Interpolation"
+msgstr "Interpolation cubique"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:59
+msgid "Modified ELA"
+msgstr "ELA modifi?e"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:60
+msgid "Kernel Interpolation"
+msgstr "Interpolation kernel"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:61
+msgid "Modified ELA-2"
+msgstr "ELA-2 modifi?e"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:66
+msgid "4 Fields Check"
+msgstr "Contr?le 4 trames "
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:67
+msgid "5 Fields Check"
+msgstr "Contr?le 5 trames "
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:68
+msgid "4 Fields Check (no avg)"
+msgstr "Contr?le 4 trames (pas de moyenne) "
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:69
+msgid "5 Fields Check (no avg)"
+msgstr "Contr?le 5 trames (pas de moyenne) "
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:75
+msgid "No Link"
+msgstr "Pas de lien "
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:76
+msgid "Full Link"
+msgstr "Lien complet "
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:77
+msgid "Y to UV"
+msgstr "Y vers UV"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:78
+msgid "UV to Y"
+msgstr "UV vers Y"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:82
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:633
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:649
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:665
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:695
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:657
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:664
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:671
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:784
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:166
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:206
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:148
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:156
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:419
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:433
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:622
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1403
+msgid "0"
+msgstr "0"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:83
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:793
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:805
+msgid "1"
+msgstr "1"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:84
+msgid "2"
+msgstr "2"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:91
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:90
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:92
+msgid "_Field order:"
+msgstr "Ordre trame:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:92
+msgid "_Interpolate:"
+msgstr "Interpoler:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:94
+msgid "_Type:"
+msgstr "Type:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:95
+msgid "_MntMode:"
+msgstr "MntMode:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:96
+msgid "_Link:"
+msgstr "Lien:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:97
+msgid "_AP type:"
+msgstr "Type AP:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:100
+msgid "Use Chroma to evalute"
+msgstr "Utiliser Chroma pour ?valuer"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:101
+msgid "Try weave"
+msgstr "Armature d'essai"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:102
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:173
+msgid "Denoise"
+msgstr "D?bruiter"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:103
+msgid "Sharp"
+msgstr "Sharp"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:104
+msgid "Evalute all frames"
+msgstr "Evaluer toutes les images"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:107
+msgid "Motion threshold, Luma:"
+msgstr "Seuil mouvement, Luma:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:108
+msgid "Motion threshold, Chroma:"
+msgstr "Seuil mouvement, Chroma:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:109
+msgid "Area combing threshold:"
+msgstr "Seuil zone de madrure:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:110
+msgid "Combed threshold:"
+msgstr "Seuil Madrure:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:111
+msgid "Artefact prot. threshold:"
+msgstr "Seuil protection des artefacts:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:120
+msgid "TDEint Configuration"
+msgstr "Configuration TDEint"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:41
+msgid "Vob file(s):"
+msgstr "Fichier(s) Vob"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:42
+msgid "IFO file:"
+msgstr "Fichier?IFO:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:43
+msgid "Vobsub file:"
+msgstr "Fichier sous-titres Vob:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:48
+msgid "Vob 2 Vobsub"
+msgstr "Vob vers sous-titres Vob"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:52
+msgid "VOB file"
+msgstr "Fichier Vob"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:52
+msgid "The selected vobfile does not exist."
+msgstr "Le fichier Vob s?lectionn? n'existe pas."
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:57
+msgid "IFO file"
+msgstr "Fichier IFO"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:57
+msgid "The selected IFO file does not exist."
+msgstr "Le fichier IFO s?lection? n'existe pas."
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:62
+msgid "VobSub file"
+msgstr "Fichier sous-titres vob"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:62
+msgid "Select a correct vobsub path/dir."
+msgstr "S?lectionner un chemin correct pour les sous-titres Vob."
+
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:54
 msgid "translator-credits"
 msgstr "Fran?ais - ? 2006 Eric Lassauge"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:69
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:265
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:266
 msgid "Avidemux"
-msgstr "Avidemux"
+msgstr "Avidemux "
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:70
 msgid "? 2001-2006 Mean"
@@ -1276,7 +1747,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:71
 msgid "Multiplatform video editor"
-msgstr "Editeur Vid?o Multi-plateforme"
+msgstr "Editeur Vid?o Multi-plateforme francis? par OliverDivX"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:72
 msgid ""
@@ -1288,8 +1759,7 @@
 "\t\t       Version 2, June 1991\n"
 "\n"
 " Copyright (C) 1989, 1991 Free Software Foundation, Inc.\n"
-"                       51 Franklin St, Fifth Floor, Boston, MA  02110-1301  "
-"USA\n"
+"                       51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n"
 " Everyone is permitted to copy and distribute verbatim copies\n"
 " of this license document, but changing it is not allowed.\n"
 "\n"
@@ -1424,8 +1894,7 @@
 "\n"
 "    a) Accompany it with the complete corresponding machine-readable\n"
 "    source code, which must be distributed under the terms of Sections\n"
-"    1 and 2 above on a medium customarily used for software interchange; "
-"or,\n"
+"    1 and 2 above on a medium customarily used for software interchange; or,\n"
 "\n"
 "    b) Accompany it with a written offer, valid for at least three\n"
 "    years, to give any third party, for a charge no more than your\n"
@@ -1532,8 +2001,7 @@
 "later version\", you have the option of following the terms and conditions\n"
 "either of that version or of any later version published by the Free\n"
 "Software Foundation.  If the Program does not specify a version number of\n"
-"this License, you may choose any version ever published by the Free "
-"Software\n"
+"this License, you may choose any version ever published by the Free Software\n"
 "Foundation.\n"
 "\n"
 "  10. If you wish to incorporate parts of the Program into other free\n"
@@ -1549,8 +2017,7 @@
 "  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\n"
 "FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\n"
 "OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\n"
-"PROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER "
-"EXPRESSED\n"
+"PROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\n"
 "OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n"
 "MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\n"
 "TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\n"
@@ -1595,8 +2062,7 @@
 "\n"
 "    You should have received a copy of the GNU General Public License\n"
 "    along with this program; if not, write to the Free Software\n"
-"    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  "
-"USA\n"
+"    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n"
 "\n"
 "\n"
 "Also add information on how to contact you by electronic and paper mail.\n"
@@ -1605,8 +2071,7 @@
 "when it starts in an interactive mode:\n"
 "\n"
 "    Gnomovision version 69, Copyright (C) year name of author\n"
-"    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show "
-"w'.\n"
+"    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\n"
 "    This is free software, and you are welcome to redistribute it\n"
 "    under certain conditions; type `show c' for details.\n"
 "\n"
@@ -1631,10 +2096,354 @@
 "library.  If this is what you want to do, use the GNU Library General\n"
 "Public License instead of this License."
 msgstr ""
+"Avidemux est un logiciel gratuit et open source; vous pouvez le redistribuer ou le modifer \n"
+"Sous les termes de la GNU General Public License version 2 \n"
+"est publi? par la Free Software Fondation.\n"
+"\n"
+"\t\t    GNU GENERAL PUBLIC LICENSE\n"
+"\t\t       Version 2, June 1991\n"
+"\n"
+" Copyright (C) 1989, 1991 Free Software Foundation, Inc.\n"
+"                       51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n"
+" Everyone is permitted to copy and distribute verbatim copies\n"
+" of this license document, but changing it is not allowed.\n"
+"\n"
+"\t\t\t    Preamble\n"
+"\n"
+"  The licenses for most software are designed to take away your\n"
+"freedom to share and change it.  By contrast, the GNU General Public\n"
+"License is intended to guarantee your freedom to share and change free\n"
+"software--to make sure the software is free for all its users.  This\n"
+"General Public License applies to most of the Free Software\n"
+"Foundation's software and to any other program whose authors commit to\n"
+"using it.  (Some other Free Software Foundation software is covered by\n"
+"the GNU Library General Public License instead.)  You can apply it to\n"
+"your programs, too.\n"
+"\n"
+"  When we speak of free software, we are referring to freedom, not\n"
+"price.  Our General Public Licenses are designed to make sure that you\n"
+"have the freedom to distribute copies of free software (and charge for\n"
+"this service if you wish), that you receive source code or can get it\n"
+"if you want it, that you can change the software or use pieces of it\n"
+"in new free programs; and that you know you can do these things.\n"
+"\n"
+"  To protect your rights, we need to make restrictions that forbid\n"
+"anyone to deny you these rights or to ask you to surrender the rights.\n"
+"These restrictions translate to certain responsibilities for you if you\n"
+"distribute copies of the software, or if you modify it.\n"
+"\n"
+"  For example, if you distribute copies of such a program, whether\n"
+"gratis or for a fee, you must give the recipients all the rights that\n"
+"you have.  You must make sure that they, too, receive or can get the\n"
+"source code.  And you must show them these terms so they know their\n"
+"rights.\n"
+"\n"
+"  We protect your rights with two steps: (1) copyright the software, and\n"
+"(2) offer you this license which gives you legal permission to copy,\n"
+"distribute and/or modify the software.\n"
+"\n"
+"  Also, for each author's protection and ours, we want to make certain\n"
+"that everyone understands that there is no warranty for this free\n"
+"software.  If the software is modified by someone else and passed on, we\n"
+"want its recipients to know that what they have is not the original, so\n"
+"that any problems introduced by others will not reflect on the original\n"
+"authors' reputations.\n"
+"\n"
+"  Finally, any free program is threatened constantly by software\n"
+"patents.  We wish to avoid the danger that redistributors of a free\n"
+"program will individually obtain patent licenses, in effect making the\n"
+"program proprietary.  To prevent this, we have made it clear that any\n"
+"patent must be licensed for everyone's free use or not licensed at all.\n"
+"\n"
+"  The precise terms and conditions for copying, distribution and\n"
+"modification follow.\n"
+"\n"
+"\t\t    GNU GENERAL PUBLIC LICENSE\n"
+"   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n"
+"\n"
+"  0. This License applies to any program or other work which contains\n"
+"a notice placed by the copyright holder saying it may be distributed\n"
+"under the terms of this General Public License.  The \"Program\", below,\n"
+"refers to any such program or work, and a \"work based on the Program\"\n"
+"means either the Program or any derivative work under copyright law:\n"
+"that is to say, a work containing the Program or a portion of it,\n"
+"either verbatim or with modifications and/or translated into another\n"
+"language.  (Hereinafter, translation is included without limitation in\n"
+"the term \"modification\".)  Each licensee is addressed as \"you\".\n"
+"\n"
+"Activities other than copying, distribution and modification are not\n"
+"covered by this License; they are outside its scope.  The act of\n"
+"running the Program is not restricted, and the output from the Program\n"
+"is covered only if its contents constitute a work based on the\n"
+"Program (independent of having been made by running the Program).\n"
+"Whether that is true depends on what the Program does.\n"
+"\n"
+"  1. You may copy and distribute verbatim copies of the Program's\n"
+"source code as you receive it, in any medium, provided that you\n"
+"conspicuously and appropriately publish on each copy an appropriate\n"
+"copyright notice and disclaimer of warranty; keep intact all the\n"
+"notices that refer to this License and to the absence of any warranty;\n"
+"and give any other recipients of the Program a copy of this License\n"
+"along with the Program.\n"
+"\n"
+"You may charge a fee for the physical act of transferring a copy, and\n"
+"you may at your option offer warranty protection in exchange for a fee.\n"
+"\n"
+"  2. You may modify your copy or copies of the Program or any portion\n"
+"of it, thus forming a work based on the Program, and copy and\n"
+"distribute such modifications or work under the terms of Section 1\n"
+"above, provided that you also meet all of these conditions:\n"
+"\n"
+"    a) You must cause the modified files to carry prominent notices\n"
+"    stating that you changed the files and the date of any change.\n"
+"\n"
+"    b) You must cause any work that you distribute or publish, that in\n"
+"    whole or in part contains or is derived from the Program or any\n"
+"    part thereof, to be licensed as a whole at no charge to all third\n"
+"    parties under the terms of this License.\n"
+"\n"
+"    c) If the modified program normally reads commands interactively\n"
+"    when run, you must cause it, when started running for such\n"
+"    interactive use in the most ordinary way, to print or display an\n"
+"    announcement including an appropriate copyright notice and a\n"
+"    notice that there is no warranty (or else, saying that you provide\n"
+"    a warranty) and that users may redistribute the program under\n"
+"    these conditions, and telling the user how to view a copy of this\n"
+"    License.  (Exception: if the Program itself is interactive but\n"
+"    does not normally print such an announcement, your work based on\n"
+"    the Program is not required to print an announcement.)\n"
+"\n"
+"These requirements apply to the modified work as a whole.  If\n"
+"identifiable sections of that work are not derived from the Program,\n"
+"and can be reasonably considered independent and separate works in\n"
+"themselves, then this License, and its terms, do not apply to those\n"
+"sections when you distribute them as separate works.  But when you\n"
+"distribute the same sections as part of a whole which is a work based\n"
+"on the Program, the distribution of the whole must be on the terms of\n"
+"this License, whose permissions for other licensees extend to the\n"
+"entire whole, and thus to each and every part regardless of who wrote it.\n"
+"\n"
+"Thus, it is not the intent of this section to claim rights or contest\n"
+"your rights to work written entirely by you; rather, the intent is to\n"
+"exercise the right to control the distribution of derivative or\n"
+"collective works based on the Program.\n"
+"\n"
+"In addition, mere aggregation of another work not based on the Program\n"
+"with the Program (or with a work based on the Program) on a volume of\n"
+"a storage or distribution medium does not bring the other work under\n"
+"the scope of this License.\n"
+"\n"
+"  3. You may copy and distribute the Program (or a work based on it,\n"
+"under Section 2) in object code or executable form under the terms of\n"
+"Sections 1 and 2 above provided that you also do one of the following:\n"
+"\n"
+"    a) Accompany it with the complete corresponding machine-readable\n"
+"    source code, which must be distributed under the terms of Sections\n"
+"    1 and 2 above on a medium customarily used for software interchange; or,\n"
+"\n"
+"    b) Accompany it with a written offer, valid for at least three\n"
+"    years, to give any third party, for a charge no more than your\n"
+"    cost of physically performing source distribution, a complete\n"
+"    machine-readable copy of the corresponding source code, to be\n"
+"    distributed under the terms of Sections 1 and 2 above on a medium\n"
+"    customarily used for software interchange; or,\n"
+"\n"
+"    c) Accompany it with the information you received as to the offer\n"
+"    to distribute corresponding source code.  (This alternative is\n"
+"    allowed only for noncommercial distribution and only if you\n"
+"    received the program in object code or executable form with such\n"
+"    an offer, in accord with Subsection b above.)\n"
+"\n"
+"The source code for a work means the preferred form of the work for\n"
+"making modifications to it.  For an executable work, complete source\n"
+"code means all the source code for all modules it contains, plus any\n"
+"associated interface definition files, plus the scripts used to\n"
+"control compilation and installation of the executable.  However, as a\n"
+"special exception, the source code distributed need not include\n"
+"anything that is normally distributed (in either source or binary\n"
+"form) with the major components (compiler, kernel, and so on) of the\n"
+"operating system on which the executable runs, unless that component\n"
+"itself accompanies the executable.\n"
+"\n"
+"If distribution of executable or object code is made by offering\n"
+"access to copy from a designated place, then offering equivalent\n"
+"access to copy the source code from the same place counts as\n"
+"distribution of the source code, even though third parties are not\n"
+"compelled to copy the source along with the object code.\n"
+"\n"
+"  4. You may not copy, modify, sublicense, or distribute the Program\n"
+"except as expressly provided under this License.  Any attempt\n"
+"otherwise to copy, modify, sublicense or distribute the Program is\n"
+"void, and will automatically terminate your rights under this License.\n"
+"However, parties who have received copies, or rights, from you under\n"
+"this License will not have their licenses terminated so long as such\n"
+"parties remain in full compliance.\n"
+"\n"
+"  5. You are not required to accept this License, since you have not\n"
+"signed it.  However, nothing else grants you permission to modify or\n"
+"distribute the Program or its derivative works.  These actions are\n"
+"prohibited by law if you do not accept this License.  Therefore, by\n"
+"modifying or distributing the Program (or any work based on the\n"
+"Program), you indicate your acceptance of this License to do so, and\n"
+"all its terms and conditions for copying, distributing or modifying\n"
+"the Program or works based on it.\n"
+"\n"
+"  6. Each time you redistribute the Program (or any work based on the\n"
+"Program), the recipient automatically receives a license from the\n"
+"original licensor to copy, distribute or modify the Program subject to\n"
+"these terms and conditions.  You may not impose any further\n"
+"restrictions on the recipients' exercise of the rights granted herein.\n"
+"You are not responsible for enforcing compliance by third parties to\n"
+"this License.\n"
+"\n"
+"  7. If, as a consequence of a court judgment or allegation of patent\n"
+"infringement or for any other reason (not limited to patent issues),\n"
+"conditions are imposed on you (whether by court order, agreement or\n"
+"otherwise) that contradict the conditions of this License, they do not\n"
+"excuse you from the conditions of this License.  If you cannot\n"
+"distribute so as to satisfy simultaneously your obligations under this\n"
+"License and any other pertinent obligations, then as a consequence you\n"
+"may not distribute the Program at all.  For example, if a patent\n"
+"license would not permit royalty-free redistribution of the Program by\n"
+"all those who receive copies directly or indirectly through you, then\n"
+"the only way you could satisfy both it and this License would be to\n"
+"refrain entirely from distribution of the Program.\n"
+"\n"
+"If any portion of this section is held invalid or unenforceable under\n"
+"any particular circumstance, the balance of the section is intended to\n"
+"apply and the section as a whole is intended to apply in other\n"
+"circumstances.\n"
+"\n"
+"It is not the purpose of this section to induce you to infringe any\n"
+"patents or other property right claims or to contest validity of any\n"
+"such claims; this section has the sole purpose of protecting the\n"
+"integrity of the free software distribution system, which is\n"
+"implemented by public license practices.  Many people have made\n"
+"generous contributions to the wide range of software distributed\n"
+"through that system in reliance on consistent application of that\n"
+"system; it is up to the author/donor to decide if he or she is willing\n"
+"to distribute software through any other system and a licensee cannot\n"
+"impose that choice.\n"
+"\n"
+"This section is intended to make thoroughly clear what is believed to\n"
+"be a consequence of the rest of this License.\n"
+"\n"
+"  8. If the distribution and/or use of the Program is restricted in\n"
+"certain countries either by patents or by copyrighted interfaces, the\n"
+"original copyright holder who places the Program under this License\n"
+"may add an explicit geographical distribution limitation excluding\n"
+"those countries, so that distribution is permitted only in or among\n"
+"countries not thus excluded.  In such case, this License incorporates\n"
+"the limitation as if written in the body of this License.\n"
+"\n"
+"  9. The Free Software Foundation may publish revised and/or new versions\n"
+"of the General Public License from time to time.  Such new versions will\n"
+"be similar in spirit to the present version, but may differ in detail to\n"
+"address new problems or concerns.\n"
+"\n"
+"Each version is given a distinguishing version number.  If the Program\n"
+"specifies a version number of this License which applies to it and \"any\n"
+"later version\", you have the option of following the terms and conditions\n"
+"either of that version or of any later version published by the Free\n"
+"Software Foundation.  If the Program does not specify a version number of\n"
+"this License, you may choose any version ever published by the Free Software\n"
+"Foundation.\n"
+"\n"
+"  10. If you wish to incorporate parts of the Program into other free\n"
+"programs whose distribution conditions are different, write to the author\n"
+"to ask for permission.  For software which is copyrighted by the Free\n"
+"Software Foundation, write to the Free Software Foundation; we sometimes\n"
+"make exceptions for this.  Our decision will be guided by the two goals\n"
+"of preserving the free status of all derivatives of our free software and\n"
+"of promoting the sharing and reuse of software generally.\n"
+"\n"
+"\t\t\t    NO WARRANTY\n"
+"\n"
+"  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\n"
+"FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\n"
+"OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\n"
+"PROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\n"
+"OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n"
+"MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\n"
+"TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\n"
+"PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\n"
+"REPAIR OR CORRECTION.\n"
+"\n"
+"  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\n"
+"WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\n"
+"REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\n"
+"INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\n"
+"OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\n"
+"TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\n"
+"YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\n"
+"PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\n"
+"POSSIBILITY OF SUCH DAMAGES.\n"
+"\n"
+"\t\t     END OF TERMS AND CONDITIONS\n"
+"\n"
+"\t    How to Apply These Terms to Your New Programs\n"
+"\n"
+"  If you develop a new program, and you want it to be of the greatest\n"
+"possible use to the public, the best way to achieve this is to make it\n"
+"free software which everyone can redistribute and change under these terms.\n"
+"\n"
+"  To do so, attach the following notices to the program.  It is safest\n"
+"to attach them to the start of each source file to most effectively\n"
+"convey the exclusion of warranty; and each file should have at least\n"
+"the \"copyright\" line and a pointer to where the full notice is found.\n"
+"\n"
+"    <one line to give the program's name and a brief idea of what it does.>\n"
+"    Copyright (C) <year>  <name of author>\n"
+"\n"
+"    This program is free software; you can redistribute it and/or modify\n"
+"    it under the terms of the GNU General Public License as published by\n"
+"    the Free Software Foundation; either version 2 of the License, or\n"
+"    (at your option) any later version.\n"
+"\n"
+"    This program is distributed in the hope that it will be useful,\n"
+"    but WITHOUT ANY WARRANTY; without even the implied warranty of\n"
+"    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n"
+"    GNU General Public License for more details.\n"
+"\n"
+"    You should have received a copy of the GNU General Public License\n"
+"    along with this program; if not, write to the Free Software\n"
+"    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n"
+"\n"
+"\n"
+"Also add information on how to contact you by electronic and paper mail.\n"
+"\n"
+"If the program is interactive, make it output a short notice like this\n"
+"when it starts in an interactive mode:\n"
+"\n"
+"    Gnomovision version 69, Copyright (C) year name of author\n"
+"    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\n"
+"    This is free software, and you are welcome to redistribute it\n"
+"    under certain conditions; type `show c' for details.\n"
+"\n"
+"The hypothetical commands `show w' and `show c' should show the appropriate\n"
+"parts of the General Public License.  Of course, the commands you use may\n"
+"be called something other than `show w' and `show c'; they could even be\n"
+"mouse-clicks or menu items--whatever suits your program.\n"
+"\n"
+"You should also get your employer (if you work as a programmer) or your\n"
+"school, if any, to sign a \"copyright disclaimer\" for the program, if\n"
+"necessary.  Here is a sample; alter the names:\n"
+"\n"
+"  Yoyodyne, Inc., hereby disclaims all copyright interest in the program\n"
+"  `Gnomovision' (which makes passes at compilers) written by James Hacker.\n"
+"\n"
+"  <signature of Ty Coon>, 1 April 1989\n"
+"  Ty Coon, President of Vice\n"
+"\n"
+"This General Public License does not permit incorporating your program into\n"
+"proprietary programs.  If your program is a subroutine library, you may\n"
+"consider it more useful to permit linking proprietary applications with the\n"
+"library.  If this is what you want to do, use the GNU Library General\n"
+"Public License instead of this License."
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:74
 msgid "http://www.avidemux.org"
-msgstr ""
+msgstr "http://www.avidemux.org"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp:138
 msgid "AudioCodec"
@@ -1713,128 +2522,40 @@
 msgid "<b>TimeCode</b>"
 msgstr "<b>TimeCode</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:282
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:72
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:72
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:74
+msgid "ASHARP"
+msgstr "ASHARP"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:185
 msgid "ASharp by MarcFD"
 msgstr "ASharp par MarcFD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:295
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:198
 msgid "Threshold :"
 msgstr "Seuil?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:303
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:206
 msgid "Strength :"
 msgstr "Force:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:311
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:214
 msgid "Block Adaptative :"
 msgstr "Block adaptatif"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:319
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:222
 msgid "Unknown flag :"
-msgstr ""
+msgstr "Flag inconnu:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:351
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:254
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:208
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:271
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:264
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:292
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:262
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:283
 msgid " "
 msgstr "?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:209
-msgid "Audio Processing"
-msgstr "Traitement Audio"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:227
-msgid "DRC"
-msgstr "DRC"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:235
-msgid "Timeshift"
-msgstr "D?calage temps"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:244
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1459
-msgid "<b>Misc</b>"
-msgstr "<b>Divers</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:267
-msgid "Resample to hz"
-msgstr "R?-?chantillonner vers Hz"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:277
-msgid "<b>Resampling</b>"
-msgstr "<b>R?-?chantillonnage</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:296
-msgid "Film -> PAL"
-msgstr "Film?->?PAL"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:302
-msgid "PAL->Film"
-msgstr "PAL?->?Film"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:308
-msgid "<b>Fps convert</b>"
-msgstr "<b>Conversion FPS</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:327
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:200
-msgid "Gain"
-msgstr "Gain"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:335
-msgid "Automatic ( max is -3dB)"
-msgstr "Automatique (max de -3dB)"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:345
-msgid "Manual (db) : "
-msgstr "Manuel (dB)?:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:357
-msgid "<b>Gain</b>"
-msgstr "<b>Gain</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:369
-msgid "No change"
-msgstr "Pas de changement"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:372
-msgid "Stereo+Surround"
-msgstr "St?r?o+Surround"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:373
-msgid "Stereo+Center"
-msgstr "St?r?o+Centre"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:374
-msgid "Stereo+Center+Surround"
-msgstr "St?r?o+Centre+Surround"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:375
-msgid "Stereo Front+Stero Rear"
-msgstr "St?r?o devant+derri?re"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:376
-msgid "5 channels"
-msgstr "5 canaux"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:377
-msgid "5.1"
-msgstr "5.1"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:378
-msgid "Dolby Prologic"
-msgstr "Dolby Prologic"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:379
-msgid "Dolby Prologic 2"
-msgstr "Dolby Prologic 2"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:381
-msgid "<b>Mixer</b>"
-msgstr "<b>Mixer</b>"
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_busy.cpp:120
 msgid "Busy"
 msgstr "Occup?"
@@ -1848,6 +2569,7 @@
 msgstr "Dur?e:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:437
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:798
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:198
 msgid "00:00:00"
 msgstr "00:00:00"
@@ -1898,8 +2620,7 @@
 msgstr "DVD5"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:549
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:802
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:902
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:808
 msgid "Custom"
 msgstr "Personnalis?"
 
@@ -1931,26 +2652,6 @@
 msgid "Audio size (MB):"
 msgstr "Taille audio (MB):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:633
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:649
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:665
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:695
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:534
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:542
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:558
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:566
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:574
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:166
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:206
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:148
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:156
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:419
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:433
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:622
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1380
-msgid "0"
-msgstr "0"
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:641
 msgid "Video size (MB):"
 msgstr "Taille vid?o (MB):"
@@ -1975,22 +2676,21 @@
 msgid "<b>Result</b>"
 msgstr "<b>R?sultat</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:264
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:189
 msgid "ChromaShift"
 msgstr "D?calage Chroma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:278
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:203
 msgid "U Shift :"
-msgstr ""
+msgstr "U Shift :"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:285
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:210
 msgid "V Shift :"
-msgstr ""
+msgstr "V Shift :"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:327
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:252
 msgid "<b>Preview</b>"
-msgstr "<b>Vid?o</b>"
+msgstr "<b>Pr?visualisation</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:137
 msgid "Chroma Noise Reduction 2"
@@ -2010,19 +2710,19 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:204
 msgid "Luma :"
-msgstr ""
+msgstr "Luma :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:211
 msgid "Chroma U :"
-msgstr ""
+msgstr "Chroma U :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:218
 msgid "Chroma V :"
-msgstr ""
+msgstr "Chroma V :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:261
 msgid "Narrow"
-msgstr ""
+msgstr "Narrow"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:286
 msgid "<b>Settings</b>"
@@ -2030,7 +2730,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:305
 msgid "Use also chroma to detect scene change"
-msgstr ""
+msgstr "Utiliser ?galement le chroma pour d?tecter le changement de sc?ne"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:309
 msgid "<b>Mode</b>"
@@ -2045,13 +2745,13 @@
 msgstr "Couleur YUV (vient AviSynth)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:179
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:246
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:263
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:197
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:215
 msgid "Contrast"
 msgstr "Contraste"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:186
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:276
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:224
 msgid "Brightness"
 msgstr "Luminosit?"
 
@@ -2064,12 +2764,11 @@
 msgstr "Luma Y"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:214
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:297
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:242
 msgid "Chroma U"
 msgstr "Chroma U"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:221
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:301
 msgid "Chroma V"
 msgstr "Chroma V"
 
@@ -2083,7 +2782,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:354
 msgid "Opt"
-msgstr ""
+msgstr "Opt"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:361
 msgid "Level"
@@ -2091,11 +2790,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:374
 msgid "Rec.709"
-msgstr ""
+msgstr "Rec.709"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:382
 msgid "Coring"
-msgstr ""
+msgstr "Coring"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:390
 msgid "TV->PC"
@@ -2133,112 +2832,160 @@
 msgid "<b>frame2</b>"
 msgstr "<b>image2</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:293
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:238
 msgid "Luma"
-msgstr ""
+msgstr "Luma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:544
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:246
+msgid "Chroma v"
+msgstr "Chroma v"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:263
 msgid "Crop Settings"
 msgstr "R?glages d?coupe"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:578
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:297
 msgid "AutoCrop"
 msgstr "Auto-d?coupage"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:600
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:319
 msgid "Reset"
 msgstr "RAZ"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:609
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:328
 msgid "Crop Left :"
 msgstr "D?coupe gauche?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:617
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:336
 msgid "Crop Top:"
 msgstr "D?coupe haut?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:625
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:344
 msgid "Crop Right:"
 msgstr "D?coupe droite?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:633
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:352
 msgid "Crop Bottom:"
 msgstr "D?coupe bas?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:269
-#, c-format
-msgid "Done : %02d%%"
-msgstr "Fait?: %02d%%"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:157
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:179
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp:53
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp:71
+msgid "Privileges Required"
+msgstr "Privil?ges requis"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:377
-msgid "Encoding in Progress"
-msgstr "Progression de l'encodage"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:157
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:179
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp:53
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp:71
+msgid "Root privileges are required to perform this operation."
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:387
-msgid "<b><big>Encoding files</big></b>"
-msgstr "<b><big>Encodage fichier</big></b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:200
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp:177
+msgid "Shutting down"
+msgstr "Eteindre"
 
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:377
+#, c-format
+msgid "%d%%"
+msgstr "%d%%"
+
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:400
-msgid "<b>Phasis:</b>"
-msgstr "<b>Phase?:</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:407
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:414
+#, c-format
+msgid "%lu MB"
+msgstr "%lu MB"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:410
-msgid "<b>Frame:</b>"
-msgstr "<b>Image?:</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:510
+msgid "Encoding..."
+msgstr "Encodage..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:428
-msgid "00000/00000"
-msgstr "00000/00000"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:541
+msgid "<b>Phase:</b>"
+msgstr "<b>Phase:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:436
-msgid "<b>Vid codec:</b>"
-msgstr "<b>Codec Vid?o?:</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:556
+msgid "<b>Video Codec:</b>"
+msgstr "<b>Codec Vid?o:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:447
-msgid "<b>Aud Codec:</b>"
-msgstr "<b>Codec Audio?:</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:571
+msgid "<b>Audio Codec:</b>"
+msgstr "<b>Codec Audio:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:457
-msgid "<b>FPS:</b>"
-msgstr "<b>FPS?:</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:586
+msgid "<b>Container:</b>"
+msgstr "<b>Conteneur?:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:467
-msgid "<b>Vid Bitrate:</b>"
-msgstr "<b>Bitrate Vid?o?:</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:618
+msgid "<b>Processed Frames:</b>"
+msgstr "<b>Image trait?es:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:477
-msgid "<b>Quantizer:</b>"
-msgstr "<b>Quantizer?:</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:626
+msgid "<b>Total Frames:</b>"
+msgstr "<b>Totale images:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:487
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:634
+msgid "<b>Quantiser:</b>"
+msgstr "<b>Quantiseur:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:642
+msgid "<b>Average Bitrate:</b>"
+msgstr "<b>Bitrate?moyen:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:650
+msgid "0 kB/s"
+msgstr "0 kB/s"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:695
 msgid "<b>Video Size:</b>"
 msgstr "<b>Taille Vid?o?:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:498
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:703
 msgid "<b>Audio Size:</b>"
 msgstr "<b>Taille Audio?:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:508
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:711
 msgid "<b>Total Size:</b>"
 msgstr "<b>Taille Totale?:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:550
-msgid "31"
-msgstr "31"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:719
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:727
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:735
+msgid "0 MB"
+msgstr "0 MB"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:582
-msgid "<b>ETA:</b>"
-msgstr "<b>Tps restant?:</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:760
+msgid "<b>Elapsed:</b>"
+msgstr "<b>Ecoul?:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:592
-msgid "0 h 0 mn 0 s"
-msgstr "0 h 0 mn 0 s"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:768
+msgid "<b>Time Remaining:</b>"
+msgstr "<b>Temps restant:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:602
-msgid "<b>Container:</b>"
-msgstr "<b>Conteneur?:</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:776
+msgid "<b>Frames/sec:</b>"
+msgstr "<b>Image/sec:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:649
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:822
+msgid "Shut down computer when finished"
+msgstr "Eteindre le PC une fois fini"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:830
+msgid "Priority:"
+msgstr "Priorit?"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:840
+msgid "Above Normal"
+msgstr "Au-dessus de normal"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:842
+msgid "Below Normal"
+msgstr "En-dessous de normal"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:880
 msgid "Pause / Abort"
 msgstr "Pause/Annulation"
 
@@ -2294,27 +3041,34 @@
 msgid "Enter parameters (i.e. -b 192 -m s ...)"
 msgstr "Entrer param?tres (i.e. -b 192 -ms ...)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:246
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:84
+msgid "Hue"
+msgstr "Nuance"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:184
 msgid "Hue/Saturation"
 msgstr "Teinte/Saturation"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:260
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:198
 msgid "<b>Hue:</b>"
 msgstr "<b>Teinte?:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:268
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:206
 msgid "<b>Saturation:</b>"
 msgstr "<b>Saturation?:</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:51
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_index_pg.cpp:142
 msgid "Continue indexing"
 msgstr "Continuer l'indexage"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:51
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_index_pg.cpp:142
 msgid "Abort Requested"
 msgstr "Une annulation a ?t? demand?e"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:51
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_index_pg.cpp:142
 msgid "Do you want to abort indexing ?"
 msgstr "Voulez-vous annuler l'indexage??"
 
@@ -2349,10 +3103,10 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:25
 msgid "Succeeded"
-msgstr ""
+msgstr "R?ussi"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:25
-#: avidemux/gtk_gui.cpp:2280
+#: avidemux/gtk_gui.cpp:2272
 msgid "Failed"
 msgstr "Echou?"
 
@@ -2456,7 +3210,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:153
 msgid "Job name displayed in the job list and used as the script filename"
-msgstr ""
+msgstr "Le nom du travail est montr? dans la liste du travail et utilis? comme nom de fichier de script"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:162
 msgid "Filename of the audio/video output"
@@ -2470,66 +3224,30 @@
 msgid "Output _file:"
 msgstr "Fichier de _Sortie?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_lavdecoder.cpp:79
-msgid "Libavcodec Decoder Option"
-msgstr "Options du d?codeur Libavcodec"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_lavdecoder.cpp:88
-msgid "Swap UV"
-msgstr "Echanger UV"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_lavdecoder.cpp:92
-msgid "Show motion Vectors"
-msgstr "Montrer les vecteurs de mouvement"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mjpeg.cpp:73
-msgid "Mjpeg Codec settings"
-msgstr "R?glages Codec Mjpeg"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mjpeg.cpp:93
-msgid "Swap U & V"
-msgstr "Echanger U & V"
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:356
 msgid "Mplayer Delogo"
 msgstr "Mplayer Delogo"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:374
 msgid "X"
-msgstr ""
+msgstr "X"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:381
 msgid "Y"
-msgstr ""
+msgstr "Y"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:388
 msgid "W"
-msgstr ""
+msgstr "W"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:395
 msgid "H"
-msgstr ""
+msgstr "H"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:402
 msgid "Band"
-msgstr ""
+msgstr "Band"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:104
-msgid "Mpeg2 options"
-msgstr "Options MPEG2"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:113
-msgid "Other arg"
-msgstr "Autre arg"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:121
-msgid "Quantisation (2-31)"
-msgstr "Quantification (2-31)"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:129
-msgid "Maximum bitrate (kbps)"
-msgstr "Bitrate maximum (kbps)"
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:85
 msgid "Mini OCR"
 msgstr "Mini OCR"
@@ -2647,7 +3365,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pipe.cpp:104
 msgid "Application path/name (/usr/bin/sox...)"
-msgstr ""
+msgstr "Chemin/nom application (/usr/bin/sox...)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pipe.cpp:113
 msgid "Full parameter line"
@@ -2664,118 +3382,159 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:47
 #: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:26
-msgid " No"
-msgstr "?Non"
+msgid "No"
+msgstr "?Non "
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:47
 #: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:26
-msgid " Yes"
-msgstr "?Oui"
+msgid "Yes"
+msgstr "?Oui "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:141
-#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:132
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:67
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:69
 #, c-format
-msgid "NONE"
-msgstr "AUCUN"
+msgid "%lu x %lu"
+msgstr "%lu x %lu"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:207
-msgid "Informations"
-msgstr "Informations sur la video"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:70
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:70
+#, c-format
+msgid "%2.3f fps"
+msgstr "%2.3f fps"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:229
-msgid "Frame Rate"
-msgstr "FPS"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:73
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:71
+#, c-format
+msgid "%ld frames"
+msgstr "%ld d'images"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:236
-msgid "# of frames"
-msgstr "Nbre d'images"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:83
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:133
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:77
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:125
+#, c-format
+msgid "%02d:%02d:%02d.%03d"
+msgstr "%02d:%02d:%02d.%03d"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:243
-msgid "Codec 4CC"
-msgstr "Codec FourCC"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:96
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:83
+#, c-format
+msgid "%s (%u:%u)"
+msgstr "%s (%u:%u)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:250
-msgid "Video Duration  "
-msgstr "Dur?e"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:118
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:109
+#, c-format
+msgid "%lu Hz"
+msgstr "%lu Hz"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:271
-msgid "Image size"
-msgstr "R?solution"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:120
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:110
+#, c-format
+msgid "%lu Bps / %lu kbps"
+msgstr "%lu Bps / %lu kbps"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:306
-msgid "-/-"
-msgstr "-/-"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:136
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:128
+#, c-format
+msgid "%.2f MB"
+msgstr "%.2f MB"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:339
-msgid "Packed Bistream"
-msgstr "Packed bitstream"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:205
+msgid "Properties"
+msgstr "Propri?t?s "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:346
-msgid "Quarter Pixel"
-msgstr "Quarter Pixel"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:234
+msgid "Frame Rate:"
+msgstr "FPS:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:353
-msgid "GMC "
-msgstr "GMC?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:241
+msgid "Frame Count:"
+msgstr "Compte image:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:381
-msgid "<b>Extra Properties</b>"
-msgstr "<b>Propri?t?s Suppl?mentaires</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:248
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:426
+msgid "Total Duration:"
+msgstr "Dur?e totale:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:386
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:998
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:269
+msgid "Image Size:"
+msgstr "taille image:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:290
+msgid "Codec 4CC:"
+msgstr "Codec FourCC:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:304
+msgid "Aspect Ratio:"
+msgstr "Ratio:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:318
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1021
 msgid "<b>Video</b>"
 msgstr "<b>Vid?o</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:399
-msgid "Codec "
-msgstr "Codec"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:337
+msgid "Global Motion Compensation:"
+msgstr "Compensation Globale du mouvement:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:406
-msgid "Channels  "
-msgstr "Canaux"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:351
+msgid "Packed Bitstream:"
+msgstr "Packed Bitstream:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:413
-msgid "Bitrate "
-msgstr "Bitrate"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:365
+msgid "Quarter Pixel:"
+msgstr "Quarter Pixel:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:420
-msgid "Frequency"
-msgstr "Fr?quence"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:379
+msgid "<b>Extra Video Properties</b>"
+msgstr "<b>Propri?t?s vid?o extra</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:427
-msgid "Audio duration  "
-msgstr "Dur?e Audio"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:398
+msgid "Codec:"
+msgstr "Codec:"
 
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:405
+msgid "Channels:"
+msgstr "Canaux:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:412
+msgid "Bitrate:"
+msgstr "Bitrate:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:419
+msgid "Frequency:"
+msgstr "Fr?quence:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:468
+msgid "File Size:"
+msgstr "Taille fichier:"
+
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:482
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1038
+msgid "Variable Bitrate:"
+msgstr "Bitrate variable:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:496
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1061
 msgid "<b>Audio</b>"
 msgstr "<b>Audio</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_quota.cpp:90
 msgid "Filesystem full / quota exceeded"
-msgstr ""
+msgstr "Fichier syst?me complet / quota d?pass?"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_quota.cpp:133
 msgid "Ignore"
-msgstr ""
+msgstr "Ignorer"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_quota.cpp:155
 msgid "Retry"
-msgstr ""
+msgstr "Recommencer"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_recent.cpp:96
 msgid "Recent files"
 msgstr "Fichiers r?cents"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_requant.cpp:85
-msgid "Requantize Option"
-msgstr "Option de re-quantification"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_requant.cpp:95
-msgid "Shrink factor"
-msgstr ""
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:312
 msgid "Resize"
 msgstr "Redimensionner"
@@ -2796,11 +3555,6 @@
 msgid "Destination"
 msgstr "Destination"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:376
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:398
-msgid "1:1"
-msgstr "1:1"
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:412
 msgid " Error X:"
 msgstr "Erreur X?:"
@@ -2885,212 +3639,13 @@
 msgid "Force background"
 msgstr "Forcer le fond"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:159
-msgid "TDeint param"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:173
-msgid "Field Order :"
-msgstr "Ordre trame?:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:185
-msgid "Bottom Field First"
-msgstr "Trame basse en premier"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:186
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:178
-msgid "Top Field First"
-msgstr "Trame haute en premier"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:188
-msgid "Interpolate :"
-msgstr "Interpoler?:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:200
-msgid "Top field (keep bottom)"
-msgstr "Trame haute (garder le bas)"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:201
-msgid "Bottom field (keep top)"
-msgstr "Trame basse (garder haut)"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:203
-msgid "Type"
-msgstr "Type"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:215
-msgid "Cubic Interpolation"
-msgstr "Interpolation cubique"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:216
-msgid "Modified ELA"
-msgstr "ELA modifi?e"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:217
-msgid "Kernerl interpolation"
-msgstr "Interpolation kernerl"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:218
-msgid "Modified ELA-2"
-msgstr "ELA-2 modifi?e"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:220
-msgid "MntMode"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:232
-msgid "4 field check"
-msgstr "Contr?le 4 trames"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:233
-msgid "5 field check"
-msgstr "Contr?le 5 trames"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:234
-msgid "4 field check (no average)"
-msgstr "Contr?le 4 trames (pas de moyenne)"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:235
-msgid "5 field check (no average)"
-msgstr "Contr?le 5 trames (pas de moyenne)"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:237
-msgid "Use Chroma to evalute"
-msgstr "Utiliser Chroma pour ?valuer"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:250
-msgid "Try weave "
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:263
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:173
-msgid "Denoise"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:276
-msgid "Link"
-msgstr "Lien"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:288
-msgid "No link"
-msgstr "Pas de lien"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:289
-msgid "Full linking"
-msgstr "Lien complet"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:290
-msgid "Y to UV link"
-msgstr "Lien Y vers UV"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:291
-msgid "UV to Y link"
-msgstr "Lien UV vers Y"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:293
-msgid "Sharp :"
-msgstr "Sharp?:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:306
-msgid "AP type"
-msgstr "Type AP"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:319
-msgid "Evaluate ALL frames"
-msgstr "Evaluer TOUTES les images"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:331
-msgid "0 (read manual)"
-msgstr "0 (voir le manuel)"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:332
-msgid "1 (read manual)"
-msgstr "1 (voir le manuel)"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:333
-msgid "2 (read manual)"
-msgstr "2 (voir le manuel)"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:339
-msgid "motion Threshold, Luma"
-msgstr "Seuil mouvement, Luma"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:346
-msgid "motion Threshold, Chroma"
-msgstr "Seuil mouvement, Chroma"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:369
-msgid "Area Combing Threshold"
-msgstr "Seuil zone de madrure"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:383
-msgid "Combed Treshold"
-msgstr "Seuil Madrure"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:398
-msgid "Artefact Protection threshold "
-msgstr "Seuil protection des artefacts"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:56
-msgid "Select Vob file to scan"
-msgstr "S?lectionner le ficher vob ? scanner"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:67
-msgid "Select ifo file to use"
-msgstr "S?lectionner le fichier ifo ? utiliser"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:78
-msgid "Select vobsub to write"
-msgstr "S?lectionner les sous-titres vob ? ?crire"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:92
-msgid "Invalid vobname"
-msgstr "Nom vob invalide"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:92
-msgid "Please select or enter a valid vob name"
-msgstr "S?lectionner ou entrer un nom de vob valide svp"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:98
-msgid "Invalid ifo"
-msgstr "Ifo invalide"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:98
-msgid "Please select or enter a valid ifo file"
-msgstr "S?lectionner ou entrer un fichier ifo valide"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:104
-msgid "Invalid vobsubname"
-msgstr "Nom sous-titres vob invalide"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:104
-msgid "Please select or enter a valid vobsub file"
-msgstr "S?lectionner ou entrer un nom de sous-titres vob valide"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:152
-msgid "Vob to Vobsub"
-msgstr "Vob vers sous-titres vob"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:162
-msgid "Vob :"
-msgstr "Vob?:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:169
-msgid "Ifo :"
-msgstr "Ifo?:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:176
-msgid "Output vobsub (.idx) :"
-msgstr "Sortie sous-titres vob (.idx)?:"
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:104
-#, fuzzy
 msgid "Video encoder"
-msgstr "Encodeur XviD"
+msgstr "Encodeur vid?o"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:118
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1018
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1058
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1041
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1081
 msgid "Configure"
 msgstr "Configurer"
 
@@ -3134,665 +3689,590 @@
 msgid "0:0:0"
 msgstr "0:0:0"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:554
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:560
 msgid "X264 configuration"
 msgstr "Configuration x264"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:569
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:575
 msgid "Encoding Mode:"
 msgstr "Mode d'encodage?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:581
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:587
 msgid "Entry input for target file size or bitrate"
 msgstr "pour la taille ou le bitrate du fichier cible"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:583
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:589
 msgid "Quantizer (0-51):"
 msgstr "Quantificateur (0-51)?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:596
-msgid ""
-"Constant Quantizer - Each frame will the same compression. Low numbers equal "
-"higher quality while high numbers equal lower quality"
-msgstr ""
-"Quantificateur constant - chaque image aura la m?me compression. Les valeurs "
-"faibles donnent une meilleure qualit? et donc les valeurs hautes donnent une "
-"qualit? basse"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:602
+msgid "Constant Quantizer - Each frame will the same compression. Low numbers equal higher quality while high numbers equal lower quality"
+msgstr "Quantificateur constant - chaque image aura la m?me compression. Les valeurs faibles donnent une meilleure qualit? et donc les valeurs hautes donnent une qualit? basse"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:606
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:612
 msgid "Target Size:"
 msgstr "Taille cible?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:618
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:624
 msgid "Single Pass - Quality Quantizer (Average)"
 msgstr "Une passe - Qualit? Quantificateur (moyen)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:619
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:625
 msgid "Single Pass - Quality Quantizer (Constant)"
 msgstr "Une passe - Qualit? Quantificateur (constant)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:620
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:626
 msgid "Single Pass - Bitrate (Average)"
 msgstr "Une passe - Bitrate (moyen)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:621
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:627
 msgid "Two Pass - File Size"
 msgstr "Deux passes - Taille fichier"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:622
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:628
 msgid "Two Pass - Average bitrate"
 msgstr "Deux passes - Bitrate moyen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:650
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:630
+msgid "Bitrate"
+msgstr "Bitrate"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:656
 msgid "Partition decision"
 msgstr "D?cision de partition"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:657
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:663
 msgid "Method"
 msgstr "M?thode"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:669
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:675
 msgid "1  - Extremely Low (Fastest)"
 msgstr "1 - Extr?mement bas (le plus rapide)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:670
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:676
 msgid "2  - Very Low"
 msgstr "2 - Tr?s bas"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:671
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:677
 msgid "3  - Low"
 msgstr "3 - Bas"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:672
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:678
 msgid "4  - Medium"
 msgstr "4 - Moyen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:673
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:679
 msgid "5  - High (Default)"
 msgstr "5 - Haut (par d?faut)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:674
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:680
 msgid "6  - Very High"
 msgstr "6 - Tr?s haut"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:675
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:681
 msgid "6B - Very High (RDO on Bframes)"
 msgstr "6B - Tr?s haut (RDO sur Image-B)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:676
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:682
 msgid "7 - Ultra High"
 msgstr "7 - Ultra haut"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:677
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:683
 msgid "7B - Ultra High (RDO on Bframes)"
 msgstr "7B - Ultra haut (RDO sur image-B)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:684
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:690
 msgid "Diamond search"
 msgstr "Recherche en diamand"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:685
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:691
 msgid "Hexagonal search"
 msgstr "Recherche hexagonale"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:686
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:692
 msgid "Uneven multi hexagon"
 msgstr "Multi hexagone irr?gulier"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:687
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:693
 msgid "Exhaustive search"
 msgstr "Recherche exhaustive"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:699
-msgid ""
-"Set how many previous frames can be referenced by a P/B-frame. Numbers above "
-"5 do not seem to improve quality greatly. Numbers are 3 to 5 are recommended"
-msgstr ""
-"Choisir combien d'images pr?c?dentes sont r?f?renc?es par une image-P/B. Une "
-"valeur sup?rieure ? 5 ne semble pas avoir d'effet sur la qualit?. Une valeur "
-"entre 3 et 5 est recommand?e"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:705
+msgid "Set how many previous frames can be referenced by a P/B-frame. Numbers above 5 do not seem to improve quality greatly. Numbers are 3 to 5 are recommended"
+msgstr "Choisir combien d'images pr?c?dentes sont r?f?renc?es par une image-P/B. Une valeur sup?rieure ? 5 ne semble pas avoir d'effet sur la qualit?. Une valeur entre 3 et 5 est recommand?e"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:702
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:708
 msgid "Max. Ref. frames"
 msgstr "Max. images R?f."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:709
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:715
 msgid "Range"
 msgstr "Plage"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:722
-msgid ""
-"Define how many pixels are analysised. The higher the range the more "
-"accurate the analysis but the slower the encoding time"
-msgstr ""
-"D?finit combien de pixels sont analys?s. Plus la plage est grande, plus "
-"l'analyse est fine, mais au d?pend de la dur?e d'encodage"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:728
+msgid "Define how many pixels are analysised. The higher the range the more accurate the analysis but the slower the encoding time"
+msgstr "D?finit combien de pixels sont analys?s. Plus la plage est grande, plus l'analyse est fine, mais au d?pend de la dur?e d'encodage"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:725
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:731
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:89
 msgid "Chroma ME"
-msgstr ""
+msgstr "Chroma ME"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:730
-msgid ""
-"Uses chroma (color) components for motion for compression and helps the "
-"quality"
-msgstr ""
-"Utilise les composants chromas (couleur) pour la compression de mouvement et "
-"am?liore la qualit?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:736
+msgid "Uses chroma (color) components for motion for compression and helps the quality"
+msgstr "Utilise les composants chromas (couleur) pour la compression de mouvement et am?liore la qualit?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:733
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:739
 msgid "Mixed Refs"
 msgstr "R?fs. Mix"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:738
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:744
 msgid "Calculate referencing individually based on each partition"
 msgstr "Calcule les r?f?rences individuellement pour chaque partition"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:744
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:750
 msgid "Fast P-Skip"
-msgstr ""
+msgstr "Saut P rapide "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:747
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:753
 msgid "Uncheck to enable fast p-skip"
-msgstr ""
+msgstr "Pas de contr?le de saut P rapide"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:750
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:756
 msgid "DCT decimate"
-msgstr ""
+msgstr "DCT decimate"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:754
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:760
 msgid "Interlace"
-msgstr "_Entrelac?"
+msgstr "Entrelac?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:757
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:763
 msgid "Encode interlaced"
-msgstr "D?sentrelaceur kernel"
+msgstr "Encodage entrelac?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:759
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:765
 msgid "<b>Motion Estimation</b>"
 msgstr "<b>Estimation Mouvement</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:786
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:798
-msgid ""
-"Enforce the size of a decoded pixel decoded to a certain value. Leave this "
-"at 1:1 for non-anamorphic video"
-msgstr ""
-"Force la taille d'un pixel d?cod? ? une certaine valeur. Laisser ? 1:1 pour "
-"des vid?os non-anamorphiques"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:792
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:804
+msgid "Enforce the size of a decoded pixel decoded to a certain value. Leave this at 1:1 for non-anamorphic video"
+msgstr "Force la taille d'un pixel d?cod? ? une certaine valeur. Laisser ? 1:1 pour des vid?os non-anamorphiques"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:787
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:799
-msgid "1"
-msgstr "1"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:790
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:796
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1051
 msgid ":"
 msgstr "?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:807
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:813
 msgid "Set a custom aspect ratio. Default 1:1 is recommended for most video."
-msgstr ""
+msgstr "Indiquer un ratio persdonnalis? . Par D?faut 1:1 est recommand? pour la plupart des vid?os."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:812
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:818
 msgid "Predefined Aspect Ratios"
-msgstr "Ratio Pixel"
+msgstr "Ratio Pr?d?finis"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:817
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:823
 msgid "Set a common predefined aspect ratio"
-msgstr "Impossible de d?terminer le radio d'aspect"
+msgstr "Placer un radio d'aspect commun pr?d?fini"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:827
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1040
+msgid "As input"
+msgstr "Entr?e"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:832
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1043
+msgid "Get PAR from input video file"
+msgstr "R?cup?rer PAR du fichier vid?o en entr?e"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:856
 msgid "<b>Sample Aspect Ratio (A/R)</b>"
-msgstr "<b>Ratio Aspect</b>"
+msgstr "<b>Exemple Ratio Aspect (A/R)</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:849
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:878
 msgid "CABAC"
 msgstr "CABAC"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:852
-msgid ""
-"Lossless compression method which usually improves the bitrate usage by 15% "
-"(especially on high bitrate). Helps the quality a lot but is slower. "
-msgstr ""
-"M?thode de compression sans perte qui am?liore le bitrate de 15% "
-"(particuli?rement pour les bitrates ?l?v?s). Am?liore beaucoup la qualit? "
-"mais est plus lent"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:881
+msgid "Lossless compression method which usually improves the bitrate usage by 15% (especially on high bitrate). Helps the quality a lot but is slower. "
+msgstr "M?thode de compression sans perte qui am?liore le bitrate de 15% (particuli?rement pour les bitrates ?l?v?s). Am?liore beaucoup la qualit? mais est plus lent"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:864
-msgid ""
-"Use rate distortion quantization to find optimal encoding for each block. "
-"Level 0 equals disabled, level 1 equals normal and level 2 equals high"
-msgstr ""
-"Utilise une quantification de la distortion de vitesse pour trouver un "
-"encodage optimal pour chaque bloc. Un niveau ? 0 signifie inhib?e, 1 pour "
-"normale, 2 pour ?lev?e"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:884
+msgid "Trellis"
+msgstr "Trellis"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:871
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:893
+msgid "Use rate distortion quantization to find optimal encoding for each block. Level 0 equals disabled, level 1 equals normal and level 2 equals high"
+msgstr "Utilise une quantification de la distortion de vitesse pour trouver un encodage optimal pour chaque bloc. Un niveau ? 0 signifie inhib?e, 1 pour normale, 2 pour ?lev?e"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:900
 msgid "Noise Reduction"
 msgstr "R?duction de bruit"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:880
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:909
 msgid "Set the amount of noise reduction"
 msgstr "Choisi le niveau de r?duction de bruit"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:887
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:916
 msgid "Deblocking Filter :"
 msgstr "Filtre de d?groupage?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:890
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:919
 msgid "Enable in-loop deblocking to filter the video"
 msgstr "Autorise le filtre de d?groupage ??in-loop?? pour la vid?o"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:903
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:932
 msgid "Set the amount of blurring to use for block edges when they are found"
 msgstr "D?finit la valeur de flou ? utiliser pour les bords des blocs trouv?s"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:912
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:941
 msgid "Define the level for when deblocking is applied"
 msgstr "D?finit le niveau quand le filtre de d?groupage est appliqu?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:915
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:944
 msgid "<i>Threshold</i>"
 msgstr "<i>Seuil</i>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:923
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:952
 msgid "<i>Strength</i>"
 msgstr "<i>Force</i>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:931
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:960
 msgid "<b>Misc. Options</b>"
 msgstr "<b>Options diverses</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:936
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:965
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1066
 msgid "Motion & Misc"
 msgstr "Mouvement & Divers"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:957
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:986
 msgid "8x8 Transform"
 msgstr "Transformation 8x8"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:960
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:989
 msgid "General block breakdown transformation"
 msgstr "Transformation pour le d?pouillement g?n?ral des blocs"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:963
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:992
 msgid "8x8, 8x16 and 16x8 P-frame search"
 msgstr "Recherche images-P 8x8, 8x16 et 16x8"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:966
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:995
 msgid "Improve the P-frame quality"
 msgstr "Am?liore la qualit? des images-P"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:969
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:998
 msgid "8x8, 8x16 and 16x8 B-frame search"
 msgstr "Recherche images-B 8x8, 8x16 et 16x8"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:972
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1001
 msgid "Improve the B-frame quality"
 msgstr "Am?liore la qualit? des images-B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:975
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1004
 msgid "4x4, 4x8 and 8x4 P-frame search"
 msgstr "Recherche images-P 4x4, 4x8 et 8x4"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:978
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1007
 msgid "Further improve the P-frame quality"
 msgstr "Am?liore encore plus la qualit? des images-P"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:980
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1009
 msgid "8x8 Intra search"
 msgstr "Recherche Intra 8x8"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:983
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1012
 msgid "Enable DCT Intra block search to improve quality"
 msgstr "Autorise la recherche des blocs Intra DCT pour am?liorer la qualit?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:986
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1015
 msgid "4x4 Intra search"
 msgstr "Recherche Intra 4x4"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:989
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1018
 msgid "Further enable DCT Intra block search to improve quality"
-msgstr ""
-"Autorise la recherche des blocs Intra DCT pour am?liorer encore plus la "
-"qualit?"
+msgstr "Autorise la recherche des blocs Intra DCT pour am?liorer encore plus la qualit?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:992
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1021
 msgid "<b>Partition Macroblocks</b>"
 msgstr "<p>Macro-blocs de partition</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1014
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1043
 msgid "Bias"
 msgstr "Polarisation"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1027
-msgid ""
-"Increase / decrease probability for how often B-frames are used. Will not "
-"violate the maximum consecutive frame limit"
-msgstr ""
-"Augmente/diminue la probabilit? d'utilisation des images-B. Sans violation "
-"de la limite max du nombre d'images cons?cutives"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1056
+msgid "Increase / decrease probability for how often B-frames are used. Will not violate the maximum consecutive frame limit"
+msgstr "Augmente/diminue la probabilit? d'utilisation des images-B. Sans violation de la limite max du nombre d'images cons?cutives"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1036
-msgid ""
-"Set the maximum number of consecutive B-frames. This defines how many "
-"duplicate frames can be droped. Numbers 2 to 5 are recommended. This greatly "
-"improves the use of bitrate and quality"
-msgstr ""
-"D?fini le nombre max d'images-B cons?cutives. Ceci d?fini combien d'images "
-"dupliqu?es seront ?limin?es. Une valeur entre 2 et 5 est recommand?e. Ceci "
-"am?liore grandement le bitrate et la qualit?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1065
+msgid "Set the maximum number of consecutive B-frames. This defines how many duplicate frames can be droped. Numbers 2 to 5 are recommended. This greatly improves the use of bitrate and quality"
+msgstr "D?fini le nombre max d'images-B cons?cutives. Ceci d?fini combien d'images dupliqu?es seront ?limin?es. Une valeur entre 2 et 5 est recommand?e. Ceci am?liore grandement le bitrate et la qualit?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1039
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1068
 msgid "Max Consecutive"
 msgstr "Max cons?cutives"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1050
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1079
 msgid "Bidirectional ME"
 msgstr "ME bidirectionnel"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1055
-msgid ""
-"Jointly optimize both Motion Vector's in B-frames. This will improve quality "
-"but take more time for encoding"
-msgstr ""
-"Optimise les vecteurs de mouvement dans les images-B. Ceci am?liore la "
-"qualit? mais prend plus de temps ? l'encodage"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1084
+msgid "Jointly optimize both Motion Vector's in B-frames. This will improve quality but take more time for encoding"
+msgstr "Optimise les vecteurs de mouvement dans les images-B. Ceci am?liore la qualit? mais prend plus de temps ? l'encodage"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1057
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1086
 msgid "Weighted biprediction"
 msgstr "Bi-pr?diction pond?r?e"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1062
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1091
 msgid "Enables weighting of B-frames to help fades"
 msgstr "Autorise la pond?ration des images-B pour am?liorer les fondus"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1065
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1094
 msgid "Adaptative DCT"
 msgstr "DCT adaptative"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1070
-msgid ""
-"Use fewer B-frame if needed. This is always recommended. If not enabled, the "
-"codec will always use the maximum number of consecutive B-frames"
-msgstr ""
-"Utilise moins d'images-B. Ceci est toujours recommand?. Si ceci n'est pas "
-"valid?, le codec utilisera toujours le nombre max d'images-B cons?cutives"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1099
+msgid "Use fewer B-frame if needed. This is always recommended. If not enabled, the codec will always use the maximum number of consecutive B-frames"
+msgstr "Utilise moins d'images-B. Ceci est toujours recommand?. Si ceci n'est pas valid?, le codec utilisera toujours le nombre max d'images-B cons?cutives"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1073
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1102
 msgid "Use as reference"
 msgstr "Utilise comme r?f?rence"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1078
-msgid ""
-"Allow B-frames to make references non-linearly to another B-frame (instead "
-"of creating a duplicate copy)"
-msgstr ""
-"Permet aux images-B de faire des r?f?rences non-lin?aires ? d'autres images-"
-"B (au lieu de cr?er des copies)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1107
+msgid "Allow B-frames to make references non-linearly to another B-frame (instead of creating a duplicate copy)"
+msgstr "Permet aux images-B de faire des r?f?rences non-lin?aires ? d'autres images-B (au lieu de cr?er des copies)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1084
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1113
 msgid "B-Frame Direct Mode:  "
 msgstr "Mode image-B direct?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1092
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1121
 msgid "Auto"
-msgstr "A_uto"
+msgstr "Auto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1093
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1122
 msgid "Temporal"
 msgstr "Temporal"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1094
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1123
 msgid "Spatial"
 msgstr "Spatial"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1097
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1126
 msgid "<b>B-Frames</b>"
 msgstr "<b>Images-B</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1102
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1131
 msgid "Partitions & Frames"
 msgstr "Images & Partitions"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1130
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1159
 msgid "Set how much \"bitrate bonus\" a keyframe can get"
 msgstr "D?fini le ??bonus de bitrate?? qu'une image-cl? peut avoir"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1133
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1162
 msgid "Keyframe boost (%)"
-msgstr "Boots image-cl? (%)"
+msgstr "Boost image-cl? (%)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1140
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1169
 msgid "B-frame reduction (%)"
 msgstr "R?duction image-B (%)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1147
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1176
 msgid "Bitrate variability (%)"
 msgstr "Variabilit? bitrate (%)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1160
-msgid ""
-"Set how much bitrate is deducted from a B-frame as compared to the previous "
-"P-frame"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1189
+msgid "Set how much bitrate is deducted from a B-frame as compared to the previous P-frame"
+msgstr "Indiquer combien est d?duit du bitrate d'une frame-B par rapport ? la frame-P pr?c?dente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1169
-msgid ""
-"Define how much the bitrate can fluctuate over the entire video. 0% results "
-"in a constant bitrate stream, while 100% results in a pure quality based "
-"bitrate stream"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1198
+msgid "Define how much the bitrate can fluctuate over the entire video. 0% results in a constant bitrate stream, while 100% results in a pure quality based bitrate stream"
+msgstr "D?finir combien le bitrate peut flotter au-dessus de la vid?o enti?re. 0% a comme cons?quence un flux constant du bitrate, alors que les r?sultats de 100% est une qualit? pure bas?e sur le flux du bitrate"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1172
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1201
 msgid "<b>Bitrate</b>"
 msgstr "<b>Bitrate</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1190
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1219
 msgid "Min Qp"
-msgstr ""
+msgstr "Min Qp"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1197
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1226
 msgid "Max Qp"
-msgstr ""
+msgstr "Max Qp"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1204
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1233
 msgid "Max QP Step"
-msgstr ""
+msgstr "Max QP Step"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1218
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1247
 msgid "Enforce a minimum quantizer level"
-msgstr ""
+msgstr "Imposer un niveau minimum de quantificateur"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1227
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1256
 msgid "Enforce a maximum quantizer level"
-msgstr ""
+msgstr "Imposer un niveau maximum de quantificateur"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1236
-msgid ""
-"Define how much the quantizer rate can change between two consecutive frames"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1265
+msgid "Define how much the quantizer rate can change between two consecutive frames"
+msgstr "D?finir combien le taux de quantificateur peut changer entre deux frames cons?cutives"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1239
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1268
 msgid "<b>Quantization Limits</b>"
 msgstr "<b>Limites de quantification</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1257
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1286
 msgid "Scene Cut Threshold"
-msgstr ""
+msgstr "Seuil de coupe de sc?ne"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1271
-msgid ""
-"Increase / decrease sensitivity for detecting Scene Changes to compensate "
-"for. Improves I-frame usage and helps quality"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1300
+msgid "Increase / decrease sensitivity for detecting Scene Changes to compensate for. Improves I-frame usage and helps quality"
+msgstr "Augmenter/ Diminuer la sensibilit? pour d?tecter des changements de sc?ne pour compenser. Am?liore l'utilisation de trame I et aide la qualit?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1274
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1303
 msgid "Min IDR frame interval"
-msgstr ""
+msgstr "Interval min image IDR "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1287
-msgid ""
-"Set minimum frame interval between IDR frames. Defines the minimum amount a "
-"frame can be reused and referenced by other frames before a new clean one is "
-"established"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1316
+msgid "Set minimum frame interval between IDR frames. Defines the minimum amount a frame can be reused and referenced by other frames before a new clean one is established"
+msgstr "Placer l'intervalle minimum d'image entre les images IDR. D?finit la quantit? minimum qu'une image peut ?tre r?utilis?e et r?f?renc? par d'autres armatures avant qu'un nouveau nettoyage on est ?tabli"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1296
-msgid ""
-"Set maximum frame interval between IDR frames. Defines the maximum amount a "
-"frame can be reused and referenced by other frames before a new clean one is "
-"established"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1325
+msgid "Set maximum frame interval between IDR frames. Defines the maximum amount a frame can be reused and referenced by other frames before a new clean one is established"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1299
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1328
 msgid "Max IDR frame interval"
 msgstr "Intervalle max image-IDR"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1306
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1335
 msgid "<b>More Rate Settings</b>"
 msgstr "<b>R?glages bitrate avanc?s</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1324
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1353
 msgid "VBV buffer size"
 msgstr "Taille buffer VBV"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1331
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1360
 msgid "Initial VBV buffer (%)"
-msgstr ""
+msgstr "Buffer VBV initial (%)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1338
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1367
 msgid "Maximum local bitrate"
-msgstr "Bitrate maximum (kbps)"
+msgstr "Bitrate maximum local"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1369
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1398
 msgid "<b>Video Buffer Verifier</b>"
-msgstr "<b>Taille Vid?o?:</b>"
+msgstr "<b>V?rifieur Buffer Vid?o</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1401
-msgid ""
-"Allowed variance of average bitrate. Lower values mean less variance. Higher "
-"values mean more variance."
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1430
+msgid "Allowed variance of average bitrate. Lower values mean less variance. Higher values mean more variance."
+msgstr "Variabilit? du bitrate moyen est autoris?. Des valeurs plus basses signifient moins de permissions. Des valeurs plus ?lev?es signifient plus de permissions."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1404
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1433
 msgid "Bitrate Variance"
-msgstr "Bitrate"
+msgstr "Bitrate Variance"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1417
-msgid ""
-"Allowed variance of average quantizer or quality. Lower values mean less "
-"variance. Higher values mean more variance. Note that 0 means constant "
-"quality while 1 means constant fluctuation. Recommended 0.6."
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1446
+msgid "Allowed variance of average quantizer or quality. Lower values mean less variance. Higher values mean more variance. Note that 0 means constant quality while 1 means constant fluctuation. Recommended 0.6."
+msgstr "Variabilit? du quantificateur moyen ou de la qualit? est permis. Des valeurs plus basses signifient moins de permissions. Des valeurs plus ?lev?es signifient plus de permissions. Noter que 0 signifie qualit? constante tandis que 1 signifie une fluctuation constante. 0.6 recommand?."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1426
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1455
 msgid "Reduced fluctuations in Quantizer (before curve compression)"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1435
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1464
 msgid "Reduce fluctuations in QP (after curve compression)"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1438
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1467
 msgid "Quantizer Compression"
-msgstr "Restrictions quantificateur"
+msgstr "Compression du quantificateur"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1445
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1474
 msgid "Temp. Blur of est Frame Complexity"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1452
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1481
 msgid "Temp. Blur of Quant after CC"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1483
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1488
+msgid "<b>Misc</b>"
+msgstr "<b>Divers</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1512
 msgid "Quantization factors used between I- and P- frames"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1492
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1521
 msgid "Quantization used between P- and B- frames"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1501
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1530
 msgid "Quantization difference between chroma (color) and luma (brightness)"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1504
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1533
 msgid "Factor between I and P frame Quants"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1511
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1540
 msgid "Factor between P and B frame Quants"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1518
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1547
 msgid "Chroma QP Offset"
-msgstr ""
+msgstr "Offset Chroma QP"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1525
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1554
 msgid "<b>Quantizers</b>"
-msgstr "<b>Quantizer?:</b>"
+msgstr "<b>Quantiseur</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1543
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1572
 msgid "Custom matrix"
-msgstr "_Matrice personnalis?e"
+msgstr "Matrice personnalis?e"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1552
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1581
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1128
 msgid "Open CQM file"
 msgstr "Ouvrir un fichier CQM"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1558
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1587
 msgid "JVT matrix"
-msgstr "Matrice"
+msgstr "Matrice JVT"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1566
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1595
 msgid "Flat matrix"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1575
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1604
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1136
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1568
 msgid "Edit Custom Matrix"
 msgstr "Editer la matrice personnalis?e"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1580
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1609
 msgid "Edit a loaded custom quantization matrix file"
-msgstr "Erreur chargement matrice personnalis?e."
+msgstr "Editer fichier de matrice personnalis?e"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1588
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1617
 msgid "<b>Quantization Matrices</b>"
-msgstr "<b>Limites de quantification</b>"
+msgstr "<b>Quantification Matrices</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1593
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1622
 msgid "More"
-msgstr "Mode"
+msgstr "Plus"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1601
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1630
 msgid "Defaults"
-msgstr "D?faut"
+msgstr "D?fauts"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:186
 msgid "XVCD encoding"
@@ -4029,12 +4509,8 @@
 msgstr "_Entrelac?"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:809
-msgid ""
-"Enables interlaced frame support - use only if your source contains "
-"interlacing artifacts (i.e. fields instead of progressive frames)"
-msgstr ""
-"Permet le support d'images entrelac?es - utiliser seulement si votre fichier "
-"source contient des art?facts d'entrelacement"
+msgid "Enables interlaced frame support - use only if your source contains interlacing artifacts (i.e. fields instead of progressive frames)"
+msgstr "Permet le support d'images entrelac?es - utiliser seulement si votre fichier source contient des art?facts d'entrelacement"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:811
 msgid "_Greyscale"
@@ -4050,8 +4526,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:823
 msgid "Enables special motion estimation features for cartoons/anime"
-msgstr ""
-"Permet l'option d'estimation sp?ciale des mouvement pour les cartoons/anime"
+msgstr "Permet l'option d'estimation sp?ciale des mouvement pour les cartoons/anime"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:825
 msgid "C_hroma optimizer"
@@ -4090,11 +4565,8 @@
 msgstr "Mode VHQ:?"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:880
-msgid ""
-"Higher settings give higher quality results, at the cost of slower encoding"
-msgstr ""
-"Plus les r?glages sont haut meilleur sera la qualit?, mais au prix d'un "
-"encodage plus lent"
+msgid "Higher settings give higher quality results, at the cost of slower encoding"
+msgstr "Plus les r?glages sont haut meilleur sera la qualit?, mais au prix d'un encodage plus lent"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:888
 msgid "1 - Very low"
@@ -4122,8 +4594,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:917
 msgid "VHQ enables an additional search process to increase quality"
-msgstr ""
-"VHQ permet ? un processus de recherche compl?mentaire d'augmenter la qualit?"
+msgstr "VHQ permet ? un processus de recherche compl?mentaire d'augmenter la qualit?"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:921
 msgid "0 - Off"
@@ -4159,22 +4630,15 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:955
 msgid "Use 4 motion vectors per macroblock, might give better compression"
-msgstr ""
-"Utilise 4 vecteurs de mouvement par macroblock, devrait donner une meilleure "
-"compression"
+msgstr "Utilise 4 vecteurs de mouvement par macroblock, devrait donner une meilleure compression"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:957
 msgid "HQ _AC"
 msgstr "HQ _AC"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:960
-msgid ""
-"Enable a better prediction of AC component. Turns on Lumi masking - applies "
-"more compression to dark/light areas that the eye cannot notice easily"
-msgstr ""
-"Permettre une meilleure pr?diction des composants AC. Met le masquage  Lumi "
-"- applique plus de compression aux secteurs sombres/l?gers que l'oeil ne "
-"peut pas remarquer facilement"
+msgid "Enable a better prediction of AC component. Turns on Lumi masking - applies more compression to dark/light areas that the eye cannot notice easily"
+msgstr "Permettre une meilleure pr?diction des composants AC. Met le masquage  Lumi - applique plus de compression aux secteurs sombres/l?gers que l'oeil ne peut pas remarquer facilement"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:966
 msgid "I-frame interval - Min:"
@@ -4200,12 +4664,8 @@
 msgstr "Nombre d'images-B?:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1007
-msgid ""
-"Maximum number of sequential B-frames (when set to 0, the original I/P "
-"encoder is used)"
-msgstr ""
-"Nombre maximal d'images-B s?quentielles (quand mis ? 0, l'encodeur original "
-"I/P est utilis?)"
+msgid "Maximum number of sequential B-frames (when set to 0, the original I/P encoder is used)"
+msgstr "Nombre maximal d'images-B s?quentielles (quand mis ? 0, l'encodeur original I/P est utilis?)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1013
 msgid "_Qpel"
@@ -4213,20 +4673,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1016
 msgid "Use Quarter pixel resolution for a more precise motion estimation"
-msgstr ""
-"Utilisation la r?solution de QuaterPixel  pour une ?valuation de mouvement "
-"plus pr?cise"
+msgstr "Utilisation la r?solution de QuaterPixel  pour une ?valuation de mouvement plus pr?cise"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1018
-msgid "_GMC"
-msgstr "_GMC"
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1021
-msgid ""
-"Global Motion Compensation can save bits on camera pans, zooming and rotation"
-msgstr ""
-"La compensation de Mouvement Globale peut ?conomiser des bits sur des prises "
-"de cam?ra, zooms et rotations"
+msgid "Global Motion Compensation can save bits on camera pans, zooming and rotation"
+msgstr "La compensation de Mouvement Globale peut ?conomiser des bits sur des prises de cam?ra, zooms et rotations"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1023
 msgid "_BVHQ"
@@ -4236,14 +4687,6 @@
 msgid "Produces nicer-looking B-frames"
 msgstr "Produit des images-B plus jolies"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1040
-msgid "As input"
-msgstr "Entr?e"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1043
-msgid "Get PAR from input video file"
-msgstr "R?cup?rer PAR du fichier vid?o en entr?e"
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1049
 msgid "Pixel Width"
 msgstr "Largeur Pixel"
@@ -4273,12 +4716,8 @@
 msgstr "_MPEG"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1093
-msgid ""
-"MPEG quantizers (slightly slower) produce sharper picture (useful at higher "
-"bitrates)"
-msgstr ""
-"Les quantificateurs MPEG (l?g?rement plus lent) produisent une image plus "
-"aigu? (utile ? plus haut bitrates)"
+msgid "MPEG quantizers (slightly slower) produce sharper picture (useful at higher bitrates)"
+msgstr "Les quantificateurs MPEG (l?g?rement plus lent) produisent une image plus aigu? (utile ? plus haut bitrates)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1097
 msgid "_Custom Matrix"
@@ -4328,15 +4767,9 @@
 msgid "Quantizer restrictions"
 msgstr "Restrictions quantificateur"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1235
-msgid "_Trellis quantization"
-msgstr "_Quantification de treillis"
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1238
 msgid "Rate distortion quantization, will find optimal encoding for each block"
-msgstr ""
-"La quantification d'alt?ration de taux, trouvera le codage optimal pour "
-"chaque bloc"
+msgstr "La quantification d'alt?ration de taux, trouvera le codage optimal pour chaque bloc"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1268
 msgid "I-frame boost (%):"
@@ -4359,43 +4792,25 @@
 msgstr "D?gradation Max d?bordement (%)?:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1300
-#, fuzzy, c-format
+#, c-format
 msgid "A value of 20 will give 20% more bits to every I-frame"
-msgstr "Une valeur de 20 donne 20% de bits suppl?mentaires pour chaque image-I"
+msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1306
-msgid ""
-"I-frames appearing in the range below this value will be treated as "
-"consecutive keyframes"
-msgstr ""
-"Les images I de l'intervalle inf?rieur ? cette valeur seront tra?t?es comme "
-"des images-cl?s cons?cutives"
+msgid "I-frames appearing in the range below this value will be treated as consecutive keyframes"
+msgstr "Les images I de l'intervalle inf?rieur ? cette valeur seront tra?t?es comme des images-cl?s cons?cutives"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1311
-msgid ""
-"Reduction of bitrate for the first consecutive I-frames. The last I-frame "
-"will get treated normally"
-msgstr ""
-"R?duction du bitrate pour les premi?res images I cons?cutives. La derni?re "
-"image-I sera tra?t?e normallement"
+msgid "Reduction of bitrate for the first consecutive I-frames. The last I-frame will get treated normally"
+msgstr "R?duction du bitrate pour les premi?res images I cons?cutives. La derni?re image-I sera tra?t?e normallement"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1316
-msgid ""
-"How much of the overflow the codec can eat into during undersized sections - "
-"larger values will bridge the gap faster"
-msgstr ""
-"Valeur du d?bordement que le codec peut tra?ter pour les sections sous-"
-"dimensionn?es - une valeur plus grande permettra de combler le trou plus "
-"rapidement"
+msgid "How much of the overflow the codec can eat into during undersized sections - larger values will bridge the gap faster"
+msgstr "Valeur du d?bordement que le codec peut tra?ter pour les sections sous-dimensionn?es - une valeur plus grande permettra de combler le trou plus rapidement"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1321
-msgid ""
-"How much of the overflow the codec can eat into during oversized sections - "
-"larger values will bridge the gap faster"
-msgstr ""
-"Valeur du d?bordement que le codec peut tra?ter pour les sections sur-"
-"dimensionn?es - une valeur plus grande permettra de combler le trou plus "
-"rapidement"
+msgid "How much of the overflow the codec can eat into during oversized sections - larger values will bridge the gap faster"
+msgstr "Valeur du d?bordement que le codec peut tra?ter pour les sections sur-dimensionn?es - une valeur plus grande permettra de combler le trou plus rapidement"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1323
 msgid "Two pass tuning"
@@ -4414,28 +4829,16 @@
 msgstr "Puissance du contr?le du d?bordement (%)?:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1362
-msgid ""
-"The higher this value, the more bits get taken from frames larger than the "
-"average size, and redistributed to others"
-msgstr ""
-"Plus cette valeur est ?lev?e, plus le nombre de bits pris des images plus "
-"larges que la taille moyenne sera ?lev?, et redistribu? aux autres images"
+msgid "The higher this value, the more bits get taken from frames larger than the average size, and redistributed to others"
+msgstr "Plus cette valeur est ?lev?e, plus le nombre de bits pris des images plus larges que la taille moyenne sera ?lev?, et redistribu? aux autres images"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1367
-msgid ""
-"The higher this value, the more bits get assigned to frames below the "
-"average frame size"
-msgstr ""
-"Plus cette valeur est ?lev?e, plus le nombre de bits pris des images plus "
-"petites que la taille moyenne sera ?lev?"
+msgid "The higher this value, the more bits get assigned to frames below the average frame size"
+msgstr "Plus cette valeur est ?lev?e, plus le nombre de bits pris des images plus petites que la taille moyenne sera ?lev?"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1372
-msgid ""
-"0 = default from core (let XviD decide), else overflow payback percent per "
-"frame"
-msgstr ""
-"0 = d?faut (laisser XviD d?cider), sinon valeur du pourcentage de "
-"d?bordement par image"
+msgid "0 = default from core (let XviD decide), else overflow payback percent per frame"
+msgstr "0 = d?faut (laisser XviD d?cider), sinon valeur du pourcentage de d?bordement par image"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1374
 msgid "Curve compression"
@@ -4453,28 +4856,36 @@
 msgid "<b>Inter Matrix</b>"
 msgstr "<b>Matrice Inter</b>"
 
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_hex.cpp:116
+msgid "_Previous"
+msgstr "_Pr?c?dent"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_hex.cpp:143
+msgid "_Next"
+msgstr "_Suivant"
+
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:327
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:241
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:242
 #: avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp:396
 msgid "The filter is already partial"
 msgstr "Le filtre est d?j? partiel"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:455
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:457
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:347
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:349
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:348
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:350
 msgid "Load set of filters"
 msgstr "Charger un jeu de filtres"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:464
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:362
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:363
 msgid "Nothing to save"
 msgstr "Rien ? enregistrer"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:468
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:470
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:366
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:368
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:367
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:369
 msgid "Save set of filters"
 msgstr "Enregistrer un jeu de filtres"
 
@@ -4486,6 +4897,11 @@
 msgid "Transformation"
 msgstr "Transformation"
 
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:123
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:285
+msgid "Interlacing"
+msgstr "Entrelacement"
+
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:148
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:309
 msgid "Colors"
@@ -4500,10 +4916,6 @@
 msgid "Subtitles"
 msgstr "Sous-titres"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:248
-msgid "Miscellaneous"
-msgstr "Divers"
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:123
 msgid "Video Filter Manager"
 msgstr "Gestion des Filtres Vid?o"
@@ -4573,9 +4985,8 @@
 msgstr "Divers"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:416
-#, fuzzy
 msgid "External"
-msgstr "exp?rimental"
+msgstr "Externe"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:427
 msgid "Add selected filter to the Active Filters list"
@@ -4645,20 +5056,19 @@
 msgid "Save as script"
 msgstr "Enregistrer en script"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:425
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:426
 msgid "Input"
 msgstr "Entr?e"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:426
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:427
 msgid "Output"
 msgstr "Sortie"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:427
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:428
 msgid "Side"
-msgstr "Vid?o"
+msgstr "Face"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:428
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:429
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:90
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:81
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:87
@@ -4666,494 +5076,510 @@
 msgid "Top"
 msgstr "Haut"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:429
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:430
 msgid "Separate"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:605
-#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp:429
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:606
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp:430
 #, c-format
 msgid "Frame:%c(%02d)"
 msgstr "Image?: %c(%02d)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:282
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:283
 #: avidemux/main.cpp:167
 msgid "_File"
 msgstr "_Fichier"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:289
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:290
 msgid "_Open..."
 msgstr "_Ouvrir une vid?o..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:300
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:301
 msgid "_Append..."
 msgstr "_Ajouter une vid?o..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:311
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:312
 msgid "_Save"
 msgstr "_Enregistrer"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:322
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:323
 msgid "Save _Video..."
 msgstr "_Enregistrer une vid?o..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:334
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:335
 msgid "Save _BMP Image..."
 msgstr "Sauver en image _BMP..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:338
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:339
 msgid "Save _JPEG Image..."
 msgstr "Sauver en image _JPEG..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:342
-msgid "Save _Selection as JPEG images..."
-msgstr "Sauver _la s?lection en images JPEG..."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:343
+msgid "Save _Selection as JPEG Images..."
+msgstr "Sauver la s?lection en images JPEG..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:351
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:356
 msgid "Save _Project"
 msgstr "Enregistrer _Projet"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:359
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:364
 msgid "Save P_roject As..."
 msgstr "Enregistrer le P_rojet sous..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:367
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:372
 msgid "_Load/Run Project..."
 msgstr "_Charger/Lancer un Projet..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:375
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:380
 msgid "A_dd to Joblist..."
 msgstr "A_jouter ? la liste des t?ches..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:379
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:384
 msgid "Show _Joblist"
 msgstr "Montrer _la liste des t?ches"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:391
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:396
+msgid "Co_nnect to avsproxy"
+msgstr "Co_nnexion ? avsproxy"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:405
 msgid "Proper_ties"
 msgstr "Propri_?t?s (info) de la vid?o"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:402
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:416
 msgid "AVI _Muxer Options"
 msgstr "Options du _multiplexeur AVI"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:411
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:425
 msgid "_Quit"
 msgstr "_Quitter"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:422
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:436
 msgid "_Edit"
 msgstr "_Editer"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:429
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:443
 msgid "_Reset Edits"
 msgstr "_RAZ du job"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:442
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:456
 msgid "Cu_t"
 msgstr "Co_uper"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:453
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:467
 msgid "_Copy"
 msgstr "_Copier"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:464
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:478
 msgid "_Paste"
 msgstr "_Coller"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:475
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:489
 msgid "_Delete"
 msgstr "_Supprimer"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:491
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:505
 msgid "Set Marker _A"
 msgstr "Marqueur _A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:498
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:512
 msgid "Set Marker _B"
 msgstr "Marqueur _B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:510
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:524
 msgid "Pre_ferences"
 msgstr "Pr?_f?rences"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:518
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:532
 msgid "_View"
 msgstr "_Affichage"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:525
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:539
 msgid "_Main Toolbar"
 msgstr "_Barre Principale"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:530
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:544
 msgid "_A/V Sidebar"
 msgstr "_Barre audio/vid?o"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:540
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:554
 msgid "_Zoom 1:4"
 msgstr "_Zoom 1:4"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:547
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:561
 msgid "Z_oom 1:2"
 msgstr "Zoom _1:1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:554
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:568
 msgid "Zoom _1:1"
 msgstr "Zoom _1:1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:561
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:575
 msgid "Zoom _2:1"
 msgstr "Zoom _2:1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:568
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:582
 msgid "Zoom _4:1"
 msgstr "Zoom _4:1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:575
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:589
 msgid "Vi_deo"
 msgstr "Vi_d?o"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:582
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:596
 msgid "_Decoder Options"
 msgstr "_Options du d?codeur"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:589
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:603
 msgid "_Postprocessing"
 msgstr "_Post-Traitement"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:592
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:606
 msgid "Select postprocessing level"
 msgstr "Choisir le niveau de post-traitement"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:602
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:616
 msgid "P_review"
 msgstr "A_per?u"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:609
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:623
 msgid "Display _Output"
 msgstr "Afficher dans la _fen?tre principale"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:621
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:635
 msgid "_Frame Rate"
 msgstr "_Fr?quence d'image"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:625
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:674
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:639
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:688
 msgid "_Encoder"
 msgstr "_Encodeur"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:632
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:646
 msgid "Fil_ters"
 msgstr "Fil_tres"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:639
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:653
 msgid "_Audio"
 msgstr "_Audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:646
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:660
 msgid "_Main Track"
 msgstr "_Piste Principale"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:650
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:664
 msgid "_Second Track"
 msgstr "_Seconde piste audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:654
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:668
 msgid "_Build VBR Time Map"
 msgstr "_Construire le Time Map VBR"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:663
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:677
 msgid "S_ave..."
 msgstr "E_nregistrer"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:681
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:695
 msgid "_Filters"
 msgstr "_Filtres"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:685
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:699
 msgid "_Tools"
 msgstr "_Outils"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:692
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:706
 msgid "_Calculator"
 msgstr "_Calculatrice"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:708
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:722
 msgid "_Rebuild Frames (I & B)"
 msgstr "_Reconstuire images (I?&?B)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:712
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:726
 msgid "C_heck Frames (slow)"
 msgstr "V_?rifier toutes les images (lent)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:716
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:730
 msgid "_Bitrate Histogram"
 msgstr "_Histogramme de bitrate"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:720
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:734
 msgid "_Scan for Black Frames..."
 msgstr "_Chercher l'image noire suivante..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:729
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:743
 msgid "_VOB -> VobSub"
 msgstr "_VOB -> VobSub"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:733
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:747
 msgid "_OCR (VobSub -> srt)"
 msgstr "_OCR (VobSub -> srt)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:737
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:756
+msgid "_Frame Hex Dump"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:760
 msgid "A_uto"
 msgstr "A_uto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:744
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:767
 msgid "_VCD"
 msgstr "_VCD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:748
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:771
 msgid "_SVCD"
 msgstr "_SVCD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:752
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:775
 msgid "_DVD"
 msgstr "_DVD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:760
-msgid "PSP (H264)"
-msgstr ""
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:779
+msgid "_PSP"
+msgstr "_PSP"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:764
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:783
+msgid "PSP (_H.264)"
+msgstr "PSP ( H264)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:787
 msgid "_Go"
 msgstr "_Aller ?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:771
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:794
 msgid "_Play/Stop"
 msgstr "_Lecture/Pause"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:782
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:805
 msgid "P_revious Frame"
 msgstr "I_mage pr?c?dente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:793
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:816
 msgid "_Next Frame"
 msgstr "_Image suivante"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:804
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:827
 msgid "Pr_evious Intra Frame"
 msgstr "Im_age intra pr?c?dente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:815
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:838
 msgid "Next _Intra Frame"
 msgstr "Image _intra suivante"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:826
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:849
 msgid "Previou_s Black Frame"
 msgstr "Cherche_r l'image noire pr?c?dente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:830
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:853
 msgid "Ne_xt Black Frame"
 msgstr "Cherch_er l'image noire suivante"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:834
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:857
 msgid "_First Frame"
 msgstr "_Premi?re image"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:845
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:868
 msgid "_Last Frame"
 msgstr "_Derni?re image"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:861
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:884
 msgid "Go to Marker _A"
 msgstr "Aller au marqueur _A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:868
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:891
 msgid "Go to Marker _B"
 msgstr "Aller au marqueur _B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:880
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:903
 msgid "_Jump to Frame..."
 msgstr "_Aller ? l'image..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:891
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:914
 msgid "Jump to _Time..."
 msgstr "Aller au _temps..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:906
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:925
+msgid "_Custom"
+msgstr "_Personnalis?"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:929
 msgid "_Help"
 msgstr "_Aide"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:913
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:936
+msgid "_Built-in Support"
+msgstr "_Support int?gr? pour"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:940
 msgid "_About"
 msgstr "_A propos"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:921
-msgid "Show builtin support"
-msgstr "Montrer le support int?gr?"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:935
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:958
 msgid "Open a file"
 msgstr "Ouvrir un fichier"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:945
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:968
 msgid "Save the file"
 msgstr "Enregistrer le fichier"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:951
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:974
 msgid "Audio/video file information"
 msgstr "Informations fichier audio/vid?o"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:959
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:982
 msgid "Calculator"
 msgstr "Calculatrice"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:962
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:985
 msgid "Bitrate/size calculator"
 msgstr "Calculatrice Bitrate/Taille"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1016
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1056
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1039
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1079
 msgid "Copy"
 msgstr "Copie"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1021
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1044
 msgid "Configure video encoder"
 msgstr "Configurer l'encodeur vid?o"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1026
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1082
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1049
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1105
 msgid "Filters"
 msgstr "Filtres"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1029
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1052
 msgid "Video filters"
 msgstr "Filtres Vid?o"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1061
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1084
 msgid "Configure audio encoder"
 msgstr "Configurer l'encodeur audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1069
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1092
 msgid "Audio filters"
 msgstr "Filtres Audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1090
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1113
 msgid "Shift:"
 msgstr "D?calage?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1093
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1116
 msgid "Enable time shift"
 msgstr "Permet le d?calage"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1099
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1122
 msgid "Audio/video time shift (ms)"
 msgstr "D?calage audio/vid?o (ms)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1106
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1129
 msgid "<b>Format</b>"
 msgstr "<b>Format</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1139
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1162
 msgid "<b>Selection</b>"
 msgstr "<b>S?lection</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1156
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1164
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1179
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1187
 msgid " 0000000"
 msgstr " 0000000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1172
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1195
 msgid "A:"
 msgstr "A?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1179
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1202
 msgid "Go to marker A"
 msgstr "Aller au marqueur A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1181
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1204
 msgid "B:"
 msgstr "B?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1188
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1211
 msgid "Go to marker B"
 msgstr "Aller au marqueur B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1200
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1223
 msgid "Play"
 msgstr "Lecture"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1214
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1237
 msgid "Stop"
 msgstr "Stop"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1226
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1249
 msgid "Previous frame"
 msgstr "Image pr?c?dente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1241
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1264
 msgid "Next frame"
 msgstr "Image suivante"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1256
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1279
 msgid "Previous keyframe"
 msgstr "Image-cl? pr?c?dente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1271
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1294
 msgid "Next keyframe"
 msgstr "Image-cl? suivante"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1285
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1308
 msgid "Selection: start"
 msgstr "S?lection?: d?but"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1296
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1319
 msgid "Selection: end"
 msgstr "S?lection?: fin"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1307
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1330
 msgid "Previous black frame"
 msgstr "Image noire pr?c?dente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1318
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1341
 msgid "Next black frame"
 msgstr "Image noire suivante"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1329
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1352
 msgid "First frame"
 msgstr "Premi?re image"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1340
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1363
 msgid "Last frame"
 msgstr "Derni?re image"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1371
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1394
 msgid "Frame: "
 msgstr "Image?: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1378
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1401
 msgid "Current frame"
 msgstr "Image courante"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1383
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1406
 msgid "/0000000"
 msgstr "/0000000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1390
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1413
 msgid "Time: "
 msgstr "Temps?: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1397
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1420
 msgid "Current time"
 msgstr "Temps actuel"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1398
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1421
 msgid "00:00:00.000"
 msgstr "00:00:00.000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1401
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1424
 msgid "/00:00:00,000"
 msgstr "/00:00:00,000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1408
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1431
 msgid "Frame: ?"
 msgstr "Image?: ?"
 
@@ -5197,39 +5623,40 @@
 msgstr "Impossible de trouver le fichier d'image?: %s"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:121
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:391
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:211
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:474
 msgid "Cannot open directory as a file"
 msgstr "Impossible d'ouvrir le r?pertoire en tant que fichier"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:252
-#: avidemux/gtk_gui.cpp:877
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:335
+#: avidemux/gtk_gui.cpp:887
 #, c-format
 msgid "Cannot open \"%s\"."
 msgstr "Ne peut ouvrir ??%s??."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:262
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:345
 msgid "Overwrite file ?"
 msgstr "Ecraser le fichier??"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:287
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:301
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:370
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:384
 msgid "It could be possible that you try to overwrite an input file!"
 msgstr "Il est possible que vous tentiez d'?craser un fichier d'entr??!"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:312
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:395
 msgid "Cannot write the file"
 msgstr "Impossible d'?crire le fichier"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:312
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:395
 #, c-format
 msgid "No write access to \"%s\"."
 msgstr "Pas d'acc?s en ?criture ? ??%s??."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:445
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:528
 msgid "Images"
 msgstr "Images"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:457
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:540
 msgid "All"
 msgstr "Tous"
 
@@ -5245,16 +5672,141 @@
 msgid "Alert"
 msgstr "Alerte"
 
-#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp:52
-#, fuzzy
-msgid "Select Directory"
-msgstr "S?lectionner couleur"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:58
+msgid "Very Low"
+msgstr "Tr?s bas"
 
-#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp:54
-#, fuzzy
-msgid "Select File"
-msgstr "S?lection du fichier .idx"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:60
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:105
+msgid "Medium"
+msgstr "Moyen"
 
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:62
+msgid "Very High"
+msgstr "Tr?s haut"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:63
+msgid "Ultra High"
+msgstr " Ultra haut"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:64
+msgid "Motion Search Precision"
+msgstr "Pr?cision recherche de mouvement"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:67
+msgid "Off"
+msgstr "Off"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:68
+msgid "Mode Decision"
+msgstr " Mode d?cision"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:69
+msgid "Limited Search"
+msgstr " Recherche limit?e"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:70
+msgid "Medium Search"
+msgstr "Recherche moyenne"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:71
+msgid "Wide Search"
+msgstr "Recherche large"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:72
+msgid "VHQ Mode"
+msgstr "Mode VHQ"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:76
+msgid "Max B Frames"
+msgstr "Image-B max"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:77
+msgid "Quarter Pixel"
+msgstr "Quarter Pixel"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:78
+msgid "GMC"
+msgstr "GMC"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:79
+msgid "BVHQ"
+msgstr "BVHQ"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:88
+msgid "4MV"
+msgstr "4MV"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:90
+msgid "HQ AC"
+msgstr "HQ AC"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:91
+msgid "More Search"
+msgstr "Plus de Recherche"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:96
+msgid "Min Gop Size"
+msgstr "Taille GOP min"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:97
+msgid "Max Gop Size"
+msgstr "Taille GOP max"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:98
+msgid "GOP Size"
+msgstr "Taille GOP"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:106
+msgid "H263"
+msgstr "H.263"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:107
+msgid "Mpeg"
+msgstr "Mpeg"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:108
+msgid "Quantization Matrix"
+msgstr "Matrice de Quantisation"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:109
+msgid "Trellis Quantization"
+msgstr "Quantification de treillis"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:117
+msgid "Two Pass Tuning"
+msgstr "Deux passes tun?e"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:128
+msgid "Curve Compression"
+msgstr "Courbe compression"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:142
+msgid "Xvid4 Configuration"
+msgstr "Configuration XviD"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_index_pg.cpp:198
+#, c-format
+msgid "# Images :%0lu"
+msgstr "# Images :%0lu"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_index_pg.cpp:216
+#, c-format
+msgid "Time Left :%02d:%02d:%02d"
+msgstr "Temps pass? :%02d:%02d:%02d"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp:62
+msgid "Select File to Read"
+msgstr "S?lection du fichier ? lire"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp:65
+msgid "Select File to Write"
+msgstr "S?lectionner le fichier ? ecrire"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp:69
+msgid "Select Directory"
+msgstr "S?lectionner chemin"
+
 #: avidemux/ADM_video/ADM_guiResize.cpp:96
 #: avidemux/ADM_video/ADM_vidMPLResize.cpp:143
 msgid "Width and height cannot be 0"
@@ -5286,85 +5838,65 @@
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:107
-#, fuzzy
 msgid "Linear interpolate"
-msgstr "Interpolation lin?aire"
+msgstr "Interpolation lin?aire "
 
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:108
-#, fuzzy
 msgid "Cubic interpolate"
-msgstr "Interpolation cubique"
+msgstr "Interpolation cubique "
 
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:109
-#, fuzzy
 msgid "Median interpolate"
-msgstr "D?sentrelaceur moyen"
+msgstr "Interpolation moyenne"
 
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:110
-#, fuzzy
 msgid "FFmpeg deint"
-msgstr "D?sentrelaceur FFmpeg"
+msgstr "D?sentrelaceur FFmpeg "
 
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:114
-#, fuzzy
 msgid "_Deinterlacing:"
-msgstr "D?sentrelacement:"
+msgstr "_D?sentrelacement:"
 
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:115
 msgid "_Autolevel"
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:85
-#, fuzzy
 msgid "_Subtitle file (ass/ssa)"
-msgstr "Fichier sous-titres (ASS/SSA)?:"
+msgstr "Fichier sous-titres (ass/ssa)"
 
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:86
-#, fuzzy
 msgid "_Line spacing"
-msgstr "Espacement lignes"
+msgstr "_Espacement lignes"
 
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:87
-#, fuzzy
 msgid "_Font scale"
-msgstr "Echelle police?:"
+msgstr "_Echelle police"
 
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:88
-#, fuzzy
 msgid "_Top margin"
-msgstr "Marge haute"
+msgstr "_Marge haute"
 
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:89
-#, fuzzy
 msgid "_Bottom margin"
-msgstr "Marge basse"
+msgstr "_Marge basse"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:82
-#, fuzzy
 msgid "threshold"
-msgstr "Seuil"
+msgstr "seuil"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:83
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:88
-#, fuzzy
-msgid ""
-"If value is smaller than threshold it is considered valid. Smaller value "
-"might mean more false positive"
-msgstr ""
-"Si l'image est proche du seuil, est-elle consid?r?e comme valide??Plus la "
-"valeur est petite plus on a de fausses d?tections"
+msgid "If value is smaller than threshold it is considered valid. Smaller value might mean more false positive"
+msgstr "Si l'image est proche du seuil, est-elle consid?r?e comme valide.Plus la valeur est petite plus on a de fausses d?tections"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:85
-#, fuzzy
 msgid "noise"
-msgstr "Bruit"
+msgstr "bruit"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:85
-#, fuzzy
 msgid "If pixel are closer than noise, they are considered to be the same"
-msgstr ""
-"Si les pixels sont proches du seuil de bruit, ils sont consid?r?s comme "
-"identiques"
+msgstr "Si les pixels sont proches du seuil de bruit, ils sont consid?r? comme identiques"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:86
 msgid "identical"
@@ -5372,31 +5904,25 @@
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:86
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:91
-#, fuzzy
 msgid "If metric is less than identical, images are considered identical"
 msgstr ""
-"Si les images sont inf?rieures au seuil, elles sont consid?r?es comme "
-"identiques"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:87
-#, fuzzy
 msgid "show"
-msgstr "Montre"
+msgstr "Montrer"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:87
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:92
-#, fuzzy
 msgid "Show metric in image (debug)"
-msgstr "Montrer les m?triques dans l'image (mise au point seulement)"
+msgstr "Montrer les m?triques dans l'image (d?bug)"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:190
 msgid "Discard Closer"
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:191
-#, fuzzy
 msgid "Replace (interpolate)"
-msgstr "M?lange ou interpolation"
+msgstr "Remplacement (interpoler)"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:192
 msgid "Discard longer dupe (anim?s)"
@@ -5422,15 +5948,22 @@
 msgid "Slow (full luma and chroma)"
 msgstr ""
 
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:203
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:181
+msgid "Mode"
+msgstr "Mode"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:204
+msgid "Quality"
+msgstr "Qualit?"
+
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:205
-#, fuzzy
 msgid "Threshold 1"
-msgstr "Seuil"
+msgstr "Seuil 1"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:206
-#, fuzzy
 msgid "Threshold 2"
-msgstr "Seuil"
+msgstr "Seuil 2"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:91
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:82
@@ -5448,14 +5981,12 @@
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:97
-#, fuzzy
 msgid "Always"
-msgstr "Toujours essayer"
+msgstr "Toujours"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:102
-#, fuzzy
 msgid "None but compute"
-msgstr "Pas de post traitement, mais calcul"
+msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:103
 msgid "Postproc on best match"
@@ -5474,56 +6005,48 @@
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:110
-#, fuzzy
 msgid "Strategy"
-msgstr "Pas de strat?gie"
+msgstr "Strat?gie"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:111
 msgid "Field Order"
 msgstr "Ordre trame"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:112
-#, fuzzy
 msgid "Post Processing"
-msgstr "Post traitement"
+msgstr "Post Traitement"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:113
-#, fuzzy
 msgid "Try backward"
-msgstr "Essayer un champ arri?re"
+msgstr "Essayer champ arri?re"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:115
-#, fuzzy
 msgid "Direct Threshold"
-msgstr "Direct"
+msgstr "Seuil Direct"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:116
-#, fuzzy
 msgid "Backward Threshold"
-msgstr "Arri?re"
+msgstr "Seuil Arri?re"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:117
 msgid "Noise Threshold"
 msgstr "Seuil de bruit"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:118
-#, fuzzy
 msgid "Post Proc Threshold"
-msgstr "Post trait."
+msgstr "Post trait. Seuil"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:120
-#, fuzzy
 msgid "Use Chroma to decide"
-msgstr "Utiliser la chroma pour d?cider"
+msgstr "Utiliser chroma pour d?cider"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:121
-#, fuzzy
 msgid "Show info"
-msgstr "Montre"
+msgstr "Montrer info"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:122
 msgid "Debug"
-msgstr ""
+msgstr "Debug"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:123
 msgid "Blend"
@@ -5534,343 +6057,266 @@
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:387
-#, fuzzy
 msgid "C_hroma lock:"
-msgstr "Chroma U"
+msgstr "C_hroma fermer:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:388
-#, fuzzy
 msgid "L_uma threshold:"
-msgstr "Seuil?:"
+msgstr "Seuil L_uma?:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:389
-#, fuzzy
 msgid "Ch_roma threshold:"
-msgstr "Seuil de bruit?:"
+msgstr "Seuil Ch_roma:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:391
-#, fuzzy
 msgid "_Scene change:"
-msgstr "Pas de changement"
+msgstr "Changementr sc?ne:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:85
 msgid "Keep nb of frames and fps"
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:86
-#, fuzzy
 msgid "Double nb of frames and fps"
-msgstr "Double fps et Nbr image"
+msgstr "Double fps et Nb image"
 
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:87
-#, fuzzy
 msgid "Double nb of frames (slow motion)"
-msgstr "Double Nbr image (ralenti)"
+msgstr "Double Nb image (ralenti)"
 
-#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:90
-#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:92
-#, fuzzy
-msgid "_Field order:"
-msgstr "Ordre trame?:"
-
-#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:91
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:113
-#, fuzzy
-msgid "_Mode:"
-msgstr "Mode?:"
-
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:92
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:87
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:93
 #: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:166
-#, fuzzy
 msgid "_Threshold:"
-msgstr "Seuil?:"
+msgstr "_Seuil?:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:93
 msgid "_Extra"
-msgstr ""
+msgstr "_Extra"
 
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:93
-#, fuzzy
 msgid "Extra check, avoid using it"
-msgstr "(? ?viter)"
+msgstr "Le contr?le suppl?mentaire, ?viter de l'employer"
 
 #: avidemux/ADM_videoFilter/ADM_vidDropOut.cpp:63
-#, fuzzy
 msgid "DropOut Threshold"
-msgstr "Seuil"
+msgstr "Seuil DropOut"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
 msgid "Out"
-msgstr ""
+msgstr "Sortie"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
-#, fuzzy
 msgid "Fade out"
-msgstr "Filtres de Flou"
+msgstr "Fade sortie"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
 msgid "In"
-msgstr ""
+msgstr "Entr?e"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
-#, fuzzy
 msgid "Fade in"
-msgstr "Filtres de Flou"
+msgstr "Fade entr?e"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:71
-#, fuzzy
 msgid "_Fade type:"
-msgstr "Type de Flou"
+msgstr "Type de Fade:"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:72
-#, fuzzy
 msgid "_Start frame:"
-msgstr "Premi?re image"
+msgstr "Premi?re image:"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:73
-#, fuzzy
 msgid "_End frame:"
-msgstr "Derni?re image"
+msgstr "Derni?re image:"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:74
-#, fuzzy
 msgid "Fade to _black"
-msgstr "Fondu au noir"
+msgstr "Fondu en noir"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:83
-#, fuzzy
 msgid "Parameter Error"
-msgstr "Erreur d'image-cl?"
+msgstr "Erreur param?tre"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:83
 msgid "Start must be before end, and both within video # of frames."
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:61
-#, fuzzy
 msgid "_Quantizer:"
-msgstr "Quantificateur?:"
+msgstr "_Quantifiseur?:"
 
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:90
-#, fuzzy
 msgid "_Noise:"
-msgstr "Bruit"
+msgstr "_Bruit:"
 
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:90
-#, fuzzy
 msgid "If pixels are closer than noise, they are considered to be the same"
-msgstr ""
-"Si les pixels sont proches du seuil de bruit, ils sont consid?r?s comme "
-"identiques"
+msgstr "Si les pixels sont plus ?troits que le bruit, ils sont consid?r?s comme identiques"
 
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:91
-#, fuzzy
 msgid "_Identical:"
-msgstr "_Initial?:"
+msgstr "_Identique:"
 
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:92
-#, fuzzy
 msgid "_Show metrics"
-msgstr "Montrer les m?triques"
+msgstr "_Montrer les m?triques"
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:93
-#, fuzzy
 msgid "Smaller means more deinterlacing"
-msgstr "plus petit signifie plus de d?-entrelacement?!"
+msgstr "plus petit signifie plus de d?-entrelacement"
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:94
-#, fuzzy
 msgid "_Sharp"
-msgstr "Sharp?:"
+msgstr "_Sharp"
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:94
-#, fuzzy
 msgid "_Sharper engine:"
-msgstr "Sharp?:"
+msgstr "_ moteur Sharp:"
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:95
-#, fuzzy
 msgid "T_woway"
-msgstr "Deux voies"
+msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:95
-#, fuzzy
 msgid "Extrapolate better (better not to use it)"
-msgstr "Extrapoler deux voies (meilleur si vous ne l'utilisez pas)"
+msgstr "Extrapolation meilleure (meilleur si vous ne l'utilisez pas)"
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:96
-#, fuzzy
 msgid "_Map"
-msgstr "Carte"
+msgstr "_Carte"
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:96
-#, fuzzy
 msgid "Show interlaced areas (for test!)"
-msgstr "Montrer les champs entrelac?s (test seulement?!)"
+msgstr "Montrer les champs entrelac?s (test?!)"
 
 #: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:104
-#, fuzzy
 msgid "Fast"
-msgstr "0 - Rapide"
+msgstr "Rapide"
 
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:105
-#, fuzzy
-msgid "Medium"
-msgstr "_Support:"
-
 #: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:106
-#, fuzzy
 msgid "Slow iterative motion search"
-msgstr "2 - Lent, estimation it?rative de mouvement"
+msgstr " Lent, estimation it?rative de mouvement"
 
 #: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:107
-#, fuzzy
 msgid "Extra slow (same as 3+multiple reference frames)"
-msgstr "3 - Extra lent, comme ??2?? + r?f. multiple d'image"
+msgstr "Extra lent, comme ??2?? + r?f. multiple d'image"
 
 #: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:114
-#, fuzzy
 msgid "_Field dominance:"
-msgstr "Dominance de champ?:"
+msgstr "Dominance de champ:"
 
 #: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:115
-#, fuzzy
 msgid "_Qp:"
-msgstr "Qp?:"
+msgstr "Qp:"
 
 #: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:90
-#, fuzzy
 msgid "_Horizontal stacking:"
-msgstr "Tassement horizontal?:"
+msgstr "Tassement horizontal:"
 
 #: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:91
-#, fuzzy
 msgid "_Vertical stacking:"
-msgstr "Tassement vertical?:"
+msgstr "Tassement vertical:"
 
 #: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:92
-#, fuzzy
 msgid "_Shrink factor:"
-msgstr "Facteur shrink?:"
+msgstr "Facteur shrink:"
 
 #: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:93
-#, fuzzy
 msgid "Show _frame"
-msgstr "Montrer Nbr image?:"
+msgstr "Montrer Nb image?:"
 
 #: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:74
 #: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:74
-#, fuzzy
 msgid "_Spatial luma strength:"
-msgstr "Seuil Luma Spatiale"
+msgstr "Seuil Luma Spatiale:"
 
 #: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:75
 #: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:75
-#, fuzzy
 msgid "S_patial chroma strength:"
-msgstr "Seuil Chroma Spatiale"
+msgstr "Seuil Chroma Spatiale:"
 
 #: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:76
 #: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:76
-#, fuzzy
 msgid "_Temporal strength:"
-msgstr "Seuil Temporal"
+msgstr "Seuil Temporal:"
 
 #: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:163
-#, fuzzy
 msgid "_Mask"
-msgstr "_Ma?tre"
+msgstr "_Masque"
 
 #: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:164
-#, fuzzy
 msgid "_High Q"
-msgstr "HighQ"
+msgstr "_High Q"
 
-#: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:167
-#, fuzzy
-msgid "_Strength:"
-msgstr "Force:"
-
 #: avidemux/ADM_videoFilter/ADM_vidPalShift.cpp:76
-#, fuzzy
 msgid "Try reverse"
-msgstr "Essayer ? l'envers??"
+msgstr "Essayer ? l'envers"
 
 #: avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp:85
-#, fuzzy
 msgid "_New frame rate:"
-msgstr "_Fr?quence d'image"
+msgstr "Nouvelle fr?quence d'image:"
 
 #: avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp:86
-#, fuzzy
 msgid "_Blend"
-msgstr "M?lange"
+msgstr "_M?lange"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:265
 msgid "90 degrees"
-msgstr ""
+msgstr "90 degr?s"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:265
 msgid "90?"
-msgstr ""
+msgstr "90?"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:266
 msgid "180 degrees"
-msgstr ""
+msgstr "180 degr?s"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:266
 msgid "180?"
-msgstr ""
+msgstr "180?"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:267
 msgid "270 degrees"
-msgstr ""
+msgstr "270 degr?s"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:267
 msgid "270?"
-msgstr ""
+msgstr "270?"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:269
-#, fuzzy
 msgid "Angle"
-msgstr "Anime"
+msgstr "Angle"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:271
-#, fuzzy
 msgid "Rotate Params"
-msgstr "Rotation"
+msgstr "Param?tre Rotation"
 
 #: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:68
-#, fuzzy
 msgid "_Luma threshold:"
-msgstr "Seuil?:"
+msgstr "Seuil?Luma:"
 
 #: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:69
-#, fuzzy
 msgid "C_hroma threshold:"
-msgstr "Seuil de bruit?:"
+msgstr "Seuil Chroma:"
 
 #: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:70
-#, fuzzy
 msgid "_Radius:"
-msgstr "_Support:"
+msgstr "_Radius:"
 
 #: avidemux/ADM_videoFilter/ADM_vidStabilize.cpp:63
-#, fuzzy
 msgid "Stabilize Threshold"
-msgstr "Seuil de bruit"
+msgstr "Stabiliser seuil"
 
 #: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:101
-#, fuzzy
 msgid "Luma Temporal Threshold"
-msgstr "Seuil Temporal"
+msgstr "Seuil Temporal Luma"
 
 #: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:102
-#, fuzzy
 msgid "Chroma Temporal Threshold"
-msgstr "Seuil Temporal"
+msgstr "Seuil Temporal Chroma"
 
 #: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:171
 msgid "Temporal & Spatial check"
@@ -5889,154 +6335,162 @@
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:177
-#, fuzzy
 msgid "Bottom Field first"
-msgstr "Trame basse en premier"
+msgstr "Trame basse d'abord"
 
 #: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:182
-#, fuzzy
 msgid "Order"
-msgstr "Ordre trame"
+msgstr "Ordre"
 
-#: avidemux/gtk_gui.cpp:243
-msgid "Select ecmascript to run "
-msgstr "S?lection ecmascript ? lancer"
+#: avidemux/gtk_gui.cpp:246
+msgid "Select ECMAScript to run "
+msgstr "S?lection ECMAscript ? lancer"
 
-#: avidemux/gtk_gui.cpp:290 avidemux/gtk_gui.cpp:329
+#: avidemux/gtk_gui.cpp:293
+#: avidemux/gtk_gui.cpp:332
 msgid "Obsolete"
 msgstr "Obsol?te"
 
-#: avidemux/gtk_gui.cpp:357
+#: avidemux/gtk_gui.cpp:360
 msgid "Not coded in this version"
 msgstr "Pas cod? dans cette version"
 
-#: avidemux/gtk_gui.cpp:370 avidemux/gtk_gui.cpp:375 avidemux/gtk_gui.cpp:487
-#: avidemux/gtk_gui.cpp:490
+#: avidemux/gtk_gui.cpp:373
+#: avidemux/gtk_gui.cpp:378
+#: avidemux/gtk_gui.cpp:493
+#: avidemux/gtk_gui.cpp:496
 msgid "Select AVI file..."
 msgstr "S?lectionner un fichier AVI..."
 
-#: avidemux/gtk_gui.cpp:423
+#: avidemux/gtk_gui.cpp:429
 msgid ""
-"This is to be used to undo packed vop on mpeg4.\n"
+"This is to be used to undo packed VOP on MPEG-4.\n"
 "Continue ?"
 msgstr ""
-"Cela doit ?tre utilis? pour d?sempaqueter les vop sur du MPEG4.\n"
+"Cela doit ?tre utilis? pour enlever les vop sur du MPEG4.\n"
 "Continuer??"
 
-#: avidemux/gtk_gui.cpp:425
-msgid "Select Avi file to write"
-msgstr "S?lection du fichier AVI ? ?crire"
-
 #: avidemux/gtk_gui.cpp:431
+msgid "Select AVI file to write"
+msgstr "S?lection fichier AVI ? ?crire"
+
+#: avidemux/gtk_gui.cpp:437
 msgid "Select OGM file to write"
 msgstr "S?lection du fichier OGM ? ?crire"
 
-#: avidemux/gtk_gui.cpp:442 avidemux/gtk_gui.cpp:453
-msgid "Select workbench to save "
-msgstr "S?lection du projet ? enregistrer"
+#: avidemux/gtk_gui.cpp:448
+#: avidemux/gtk_gui.cpp:459
+msgid "Select workbench to save"
+msgstr "S?lection projet ? enregistrer"
 
-#: avidemux/gtk_gui.cpp:477
-msgid "Select raw file to save "
-msgstr "S?lection du fichier raw ? enregistrer"
+#: avidemux/gtk_gui.cpp:483
+msgid "Select raw file to save"
+msgstr "S?lection fichier raw ? enregistrer"
 
-#: avidemux/gtk_gui.cpp:493
+#: avidemux/gtk_gui.cpp:499
 msgid "Select AVI file to append..."
 msgstr "S?lection du fichier AVI ? ajouter..."
 
-#: avidemux/gtk_gui.cpp:497
+#: avidemux/gtk_gui.cpp:503
 msgid "Select file to save audio"
 msgstr "S?lection du fichier audio ? enregistrer"
 
-#: avidemux/gtk_gui.cpp:531
-msgid "Select Jpeg sequence to save "
-msgstr "S?lection de la s?quence JPEG ? enregistrer"
+#: avidemux/gtk_gui.cpp:537
+msgid "Select JPEG sequence to save"
+msgstr "S?lection s?quence JPEG ? enregistrer"
 
-#: avidemux/gtk_gui.cpp:534
-msgid "Select BMP to save "
-msgstr "S?lection du fichier BMP ? enregistrer"
+#: avidemux/gtk_gui.cpp:540
+msgid "Select BMP to save"
+msgstr "S?lection fichier BMP ? enregistrer"
 
-#: avidemux/gtk_gui.cpp:538
-msgid "Select Jpeg to save "
-msgstr "S?lection du fichier JPEG ? enregistrer"
+#: avidemux/gtk_gui.cpp:544
+msgid "Select JPEG to save"
+msgstr "S?lection fichier JPEG ? enregistrer"
 
-#: avidemux/gtk_gui.cpp:591
+#: avidemux/gtk_gui.cpp:597
+#: avidemux/gtk_gui.cpp:709
 msgid "Select file to save"
 msgstr "S?lection du fichier ? enregistrer"
 
-#: avidemux/gtk_gui.cpp:643
-msgid "Select MP3 to load "
-msgstr "S?lection du fichier MP3 ? charger"
+#: avidemux/gtk_gui.cpp:649
+msgid "Select MP3 to load"
+msgstr "S?lection fichier MP3 ? charger"
 
-#: avidemux/gtk_gui.cpp:646
-msgid "Select AC3 to load "
-msgstr "S?lection du fichier AC3 ? charger"
+#: avidemux/gtk_gui.cpp:652
+msgid "Select AC3 to load"
+msgstr "S?lection fichier AC3 ? charger"
 
-#: avidemux/gtk_gui.cpp:649
-msgid "Select WAV to load "
-msgstr "S?lection du fichier WAV ? charger"
+#: avidemux/gtk_gui.cpp:655
+msgid "Select WAV to load"
+msgstr "S?lection fichier WAV ? charger"
 
-#: avidemux/gtk_gui.cpp:697
+#: avidemux/gtk_gui.cpp:703
 msgid "Out of bounds"
 msgstr "Hors limites"
 
-#: avidemux/gtk_gui.cpp:703
-msgid "Select  file to save "
-msgstr "S?lection du fichier ? sauvegarder"
-
-#: avidemux/gtk_gui.cpp:708 avidemux/gtk_gui.cpp:1913
+#: avidemux/gtk_gui.cpp:714
+#: avidemux/gtk_gui.cpp:1905
 msgid "Marker A > B"
 msgstr "Marqueur A?>?B"
 
-#: avidemux/gtk_gui.cpp:708
+#: avidemux/gtk_gui.cpp:714
 msgid "Cannot copy."
 msgstr "Ne peut pas copier"
 
-#: avidemux/gtk_gui.cpp:720
+#: avidemux/gtk_gui.cpp:726
 msgid "Something bad happened (II))"
 msgstr "Quelque chose de mauvais c'est pass? (II)"
 
-#: avidemux/gtk_gui.cpp:734
-msgid "Are you sure ?"
-msgstr "Etes-vous s?r??"
+#: avidemux/gtk_gui.cpp:740
+msgid "Are you sure?"
+msgstr "Etes vous s?r??"
 
-#: avidemux/gtk_gui.cpp:812
+#: avidemux/gtk_gui.cpp:795
+msgid "Change Frames per Second"
+msgstr "Changer Images par Seconde"
+
+#: avidemux/gtk_gui.cpp:795
+msgid "New FPS?"
+msgstr "Nouveau FPS?"
+
+#: avidemux/gtk_gui.cpp:818
 msgid "Width is not a multiple of 8"
 msgstr "La largeur n'est pas un multiple de 8"
 
-#: avidemux/gtk_gui.cpp:813
-msgid "This will make trouble for avi files."
-msgstr "Cela devrait engendrer des ennuis pour des fichiers AVI."
+#: avidemux/gtk_gui.cpp:819
+msgid "This will make trouble for AVI files."
+msgstr "Cela devrait engendrer des ennuis pour les fichiers AVI."
 
-#: avidemux/gtk_gui.cpp:823
+#: avidemux/gtk_gui.cpp:829
 msgid "Rebuild all Keyframes?"
 msgstr "Reconstruire toutes les images-cl???"
 
-#: avidemux/gtk_gui.cpp:877
+#: avidemux/gtk_gui.cpp:887
 msgid "Permission error"
 msgstr "Erreur permission"
 
-#: avidemux/gtk_gui.cpp:880
+#: avidemux/gtk_gui.cpp:890
 #, c-format
 msgid "\"%s\" does not exist."
 msgstr "??%s?? n'existe pas."
 
-#: avidemux/gtk_gui.cpp:940
+#: avidemux/gtk_gui.cpp:932
 msgid "Cannot open project using the video loader."
 msgstr "Ne peut pas ouvrir le projet utilisant le chargeur vid?o."
 
-#: avidemux/gtk_gui.cpp:941
+#: avidemux/gtk_gui.cpp:933
 msgid "Try 'File' -> 'Load/Run Project...'"
 msgstr "Essayez ??Fichier->Charger/Lancer un Projet...??"
 
-#: avidemux/gtk_gui.cpp:943
+#: avidemux/gtk_gui.cpp:935
 msgid "Could not open the file"
 msgstr "Ne peut ouvrir le fichier"
 
-#: avidemux/gtk_gui.cpp:978
+#: avidemux/gtk_gui.cpp:970
 msgid "Multiple Audio Tracks"
 msgstr "Multiple pistes audio"
 
-#: avidemux/gtk_gui.cpp:978
+#: avidemux/gtk_gui.cpp:970
 msgid ""
 "The file you just loaded contains several audio tracks.\n"
 "Go to Audio->MainTrack to select the active one."
@@ -6044,270 +6498,303 @@
 "Le fichier charg? contient plusieurs pistes audio.\n"
 "Aller ? ??Audio->Piste Principale?? pour choisir la piste active."
 
-#: avidemux/gtk_gui.cpp:1068
+#: avidemux/gtk_gui.cpp:1060
 msgid "No audio decoder found for this file"
 msgstr "Pas de d?codeur audio pour ce fichier"
 
-#: avidemux/gtk_gui.cpp:1069
+#: avidemux/gtk_gui.cpp:1061
 msgid "Save (A+V) will generate bad AVI. Save audio will work."
-msgstr ""
-"Sauvegarder (A+V) g?n?rera un mauvais AVI. Sauvegarder l'audio fonctionnera."
+msgstr "Sauvegarder (A+V) g?n?rera un mauvais AVI. Sauvegarder l'audio fonctionnera."
 
-#: avidemux/gtk_gui.cpp:1125
-#, fuzzy
+#: avidemux/gtk_gui.cpp:1117
 msgid "Something failed when appending"
-msgstr "Quelque de mauvais c'est pass?"
+msgstr "Quelque chose de mauvais c'est pass?"
 
-#: avidemux/gtk_gui.cpp:1134 avidemux/gtk_gui.cpp:1932
+#: avidemux/gtk_gui.cpp:1126
+#: avidemux/gtk_gui.cpp:1924
 msgid "Something bad happened (II)"
 msgstr "Quelque chose de mauvais c'est pass? (II)"
 
-#: avidemux/gtk_gui.cpp:1198
+#: avidemux/gtk_gui.cpp:1190
 msgid "Cannot save the audio in copy mode"
 msgstr "Ne peut pas sauvegarder l'audio en mode copie"
 
-#: avidemux/gtk_gui.cpp:1198
-msgid ""
-"Select WAV PCM as the audio codec, otherwise the audio file would be raw PCM."
-msgstr ""
-"Choisissez WAV PCM comme codec audio, autrement le fichier audio sera en raw "
-"PCM."
+#: avidemux/gtk_gui.cpp:1190
+msgid "Select WAV PCM as the audio codec, otherwise the audio file would be raw PCM."
+msgstr "Choisissez WAV PCM comme codec audio, autrement le fichier audio sera en raw PCM."
 
-#: avidemux/gtk_gui.cpp:1206 avidemux/gtk_gui.cpp:1562
+#: avidemux/gtk_gui.cpp:1198
+#: avidemux/gtk_gui.cpp:1554
 msgid "Saving audio"
 msgstr "Sauve la piste audio"
 
-#: avidemux/gtk_gui.cpp:1283
-#, fuzzy
+#: avidemux/gtk_gui.cpp:1275
 msgid "Get Frame"
-msgstr "_Image suivante"
+msgstr ""
 
-#: avidemux/gtk_gui.cpp:1283
-#, fuzzy
+#: avidemux/gtk_gui.cpp:1275
 msgid "Cannot get this frame to save"
-msgstr "Ne peut encoder l'image"
+msgstr "Ne peut enregistrer l'image"
 
-#: avidemux/gtk_gui.cpp:1320
+#: avidemux/gtk_gui.cpp:1312
 msgid "Mark A > B"
 msgstr "Marque A > B"
 
-#: avidemux/gtk_gui.cpp:1320
+#: avidemux/gtk_gui.cpp:1312
 msgid "Set your markers correctly."
 msgstr "Mettez vos marqueurs correctement."
 
-#: avidemux/gtk_gui.cpp:1329
+#: avidemux/gtk_gui.cpp:1321
 msgid "Saving as set of jpegs"
 msgstr "Sauve comme un jeu de JPEGs"
 
-#: avidemux/gtk_gui.cpp:1335
+#: avidemux/gtk_gui.cpp:1327
 msgid "Cannot decode frame"
 msgstr "Ne peut d?coder l'image"
 
-#: avidemux/gtk_gui.cpp:1335
+#: avidemux/gtk_gui.cpp:1327
 msgid "Aborting."
 msgstr "Annulation."
 
-#: avidemux/gtk_gui.cpp:1346 avidemux/gtk_gui.cpp:1365
-#: avidemux/gtk_gui.cpp:2276
+#: avidemux/gtk_gui.cpp:1338
+#: avidemux/gtk_gui.cpp:1357
+#: avidemux/gtk_gui.cpp:2268
 msgid "Done"
 msgstr "Fini"
 
-#: avidemux/gtk_gui.cpp:1346
+#: avidemux/gtk_gui.cpp:1338
 #, c-format
 msgid "Saved %d images."
 msgstr "Sauv? %d images."
 
-#: avidemux/gtk_gui.cpp:1348
-#, fuzzy
+#: avidemux/gtk_gui.cpp:1340
 msgid "Error"
-msgstr "Erreur X?:"
+msgstr "Erreur"
 
-#: avidemux/gtk_gui.cpp:1348
-#, fuzzy
+#: avidemux/gtk_gui.cpp:1340
 msgid "Could not save all images."
-msgstr "Impossible de trouver un filtre"
+msgstr "N'a pas pu enregistrer toutes les images"
 
-#: avidemux/gtk_gui.cpp:1365
+#: avidemux/gtk_gui.cpp:1357
 #, c-format
 msgid "Saved \"%s\"."
 msgstr "Enregistr? ??%s??."
 
-#: avidemux/gtk_gui.cpp:1367
+#: avidemux/gtk_gui.cpp:1359
 msgid "BMP op failed"
 msgstr ""
 
-#: avidemux/gtk_gui.cpp:1367
+#: avidemux/gtk_gui.cpp:1359
 #, c-format
 msgid "Saving %s as a BMP file failed."
 msgstr ""
 
-#: avidemux/gtk_gui.cpp:1387 avidemux/gtk_gui.cpp:1453
+#: avidemux/gtk_gui.cpp:1379
+#: avidemux/gtk_gui.cpp:1445
 msgid "Failed to open the file"
 msgstr "Echec d'ouverture de fichier"
 
-#: avidemux/gtk_gui.cpp:1387 avidemux/gtk_gui.cpp:1453
+#: avidemux/gtk_gui.cpp:1379
+#: avidemux/gtk_gui.cpp:1445
 msgid "Not a WAV file?"
 msgstr "Ce n'est pas un fichier WAV??"
 
-#: avidemux/gtk_gui.cpp:1388
+#: avidemux/gtk_gui.cpp:1380
 #, c-format
 msgid "WAV open file failed..."
 msgstr "Echec de l'ouverture fichier WAV..."
 
-#: avidemux/gtk_gui.cpp:1523
+#: avidemux/gtk_gui.cpp:1515
 msgid "Cannot decompress audio frame"
 msgstr "Ne peut d?compresser l'image audio"
 
-#: avidemux/gtk_gui.cpp:1537
+#: avidemux/gtk_gui.cpp:1529
 msgid "Memory Error"
 msgstr "Erreur m?moire"
 
-#: avidemux/gtk_gui.cpp:1583
+#: avidemux/gtk_gui.cpp:1575
 msgid "No frames to encode"
 msgstr "Pas d'images ? encoder"
 
-#: avidemux/gtk_gui.cpp:1583
+#: avidemux/gtk_gui.cpp:1575
 msgid "Please check markers. Is \"A>\" == \">B\"?"
 msgstr "V?rifiez les marqueurs. ??A>? == ?>B????"
 
-#: avidemux/gtk_gui.cpp:1702
+#: avidemux/gtk_gui.cpp:1694
 msgid "Saving raw video stream"
 msgstr "Sauver la video brute (flux ?lementaire)"
 
-#: avidemux/gtk_gui.cpp:1864
+#: avidemux/gtk_gui.cpp:1840
+msgid "Checking video"
+msgstr ""
+
+#: avidemux/gtk_gui.cpp:1856
 msgid "No error found"
 msgstr "Aucune erreur trouv?e"
 
-#: avidemux/gtk_gui.cpp:1868
+#: avidemux/gtk_gui.cpp:1860
 #, c-format
 msgid "Errors found in %u frames"
 msgstr "Erreurs trouv?es dans %u images"
 
-#: avidemux/gtk_gui.cpp:1886
+#: avidemux/gtk_gui.cpp:1878
 msgid "Cannot decompress the audio stream"
 msgstr "Ne peut d?compresser le flux audio"
 
-#: avidemux/gtk_gui.cpp:1886
+#: avidemux/gtk_gui.cpp:1878
 msgid "Switch audio codec to Copy."
 msgstr "Commutez le codec audio en ??Copie??."
 
-#: avidemux/gtk_gui.cpp:1913
+#: avidemux/gtk_gui.cpp:1905
 msgid "Cannot delete the selection."
 msgstr "Ne peut pas effacer la s?lection."
 
-#: avidemux/gtk_gui.cpp:1918
+#: avidemux/gtk_gui.cpp:1910
 msgid "You can't remove all frames"
 msgstr "Vous ne pouvez pas enlever toutes les images"
 
-#: avidemux/gtk_gui.cpp:1994
+#: avidemux/gtk_gui.cpp:1986
 msgid "Could not get tracks info"
 msgstr "Ne pouvait pas obtenir des infos de la piste"
 
-#: avidemux/gtk_gui.cpp:2002
+#: avidemux/gtk_gui.cpp:1994
 msgid "Video"
 msgstr "Vid?o"
 
-#: avidemux/gtk_gui.cpp:2002
-#, fuzzy
+#: avidemux/gtk_gui.cpp:1994
 msgid "Take audio from video file"
-msgstr "R?cup?rer PAR du fichier vid?o en entr?e"
+msgstr "R?cup?rer l'audio venant du fichier vid?o"
 
-#: avidemux/gtk_gui.cpp:2003 avidemux/gtk_gui.cpp:2102
-#, fuzzy
+#: avidemux/gtk_gui.cpp:1995
+#: avidemux/gtk_gui.cpp:2094
 msgid "No audio"
-msgstr "Pas de piste audio"
+msgstr "Pas d'audio"
 
-#: avidemux/gtk_gui.cpp:2004 avidemux/gtk_gui.cpp:2103
+#: avidemux/gtk_gui.cpp:1996
+#: avidemux/gtk_gui.cpp:2095
 msgid "External AC3"
-msgstr ""
+msgstr "AC3 externe"
 
-#: avidemux/gtk_gui.cpp:2004 avidemux/gtk_gui.cpp:2103
+#: avidemux/gtk_gui.cpp:1996
+#: avidemux/gtk_gui.cpp:2095
 msgid "Take audio from external AC3 file"
-msgstr ""
+msgstr "Prendre l'audio d'un fichier AC3 externe"
 
-#: avidemux/gtk_gui.cpp:2005 avidemux/gtk_gui.cpp:2104
+#: avidemux/gtk_gui.cpp:1997
+#: avidemux/gtk_gui.cpp:2096
 msgid "External MP3"
-msgstr ""
+msgstr "MP3/MP2 externe"
 
-#: avidemux/gtk_gui.cpp:2005 avidemux/gtk_gui.cpp:2104
+#: avidemux/gtk_gui.cpp:1997
+#: avidemux/gtk_gui.cpp:2096
 msgid "Take audio from external MP3 file"
-msgstr ""
+msgstr "Prendre l'audio d'un fichier MP2/MP3 externe"
 
-#: avidemux/gtk_gui.cpp:2006 avidemux/gtk_gui.cpp:2105
-msgid "External Wav"
-msgstr ""
+#: avidemux/gtk_gui.cpp:1998
+#: avidemux/gtk_gui.cpp:2097
+msgid "External WAV"
+msgstr "Wav externe"
 
-#: avidemux/gtk_gui.cpp:2006 avidemux/gtk_gui.cpp:2105
+#: avidemux/gtk_gui.cpp:1998
+#: avidemux/gtk_gui.cpp:2097
 msgid "Take audio from external WAV file"
-msgstr ""
+msgstr "Prendre l'audio d'un fichier WAV externe"
 
-#: avidemux/gtk_gui.cpp:2010 avidemux/gtk_gui.cpp:2110
-#, fuzzy
-msgid "Audio source"
-msgstr "S?lecteur audio"
+#: avidemux/gtk_gui.cpp:2002
+#: avidemux/gtk_gui.cpp:2102
+msgid "_Audio source:"
+msgstr "Source Audio"
 
-#: avidemux/gtk_gui.cpp:2014
-#, fuzzy
-msgid "External filename"
-msgstr "Nom de fichier invalide"
+#: avidemux/gtk_gui.cpp:2006
+#: avidemux/gtk_gui.cpp:2103
+msgid "_External file:"
+msgstr "_Fichier externe"
 
-#: avidemux/gtk_gui.cpp:2045 avidemux/gtk_gui.cpp:2123
-#, fuzzy
+#: avidemux/gtk_gui.cpp:2021
+msgid "_Track from video:"
+msgstr "_Piste de la vid?o:"
+
+#: avidemux/gtk_gui.cpp:2031
+msgid "Main Audio Track"
+msgstr "Piste Audio Principale"
+
+#: avidemux/gtk_gui.cpp:2037
+#: avidemux/gtk_gui.cpp:2115
 msgid "Cannot load"
-msgstr "Ne peut pas copier"
+msgstr "Ne peut pas charger"
 
-#: avidemux/gtk_gui.cpp:2045 avidemux/gtk_gui.cpp:2123
+#: avidemux/gtk_gui.cpp:2037
+#: avidemux/gtk_gui.cpp:2115
 msgid "The selected audio file does not exist."
-msgstr ""
+msgstr "L'audio s?lectionn? n'existe pas"
 
-#: avidemux/gtk_gui.cpp:2111
-#, fuzzy
-msgid "Filename"
-msgstr "_Fichier"
+#: avidemux/gtk_gui.cpp:2112
+msgid "Second Audio Track"
+msgstr "Seconde piste audio"
 
-#: avidemux/gtk_gui.cpp:2120
-#, fuzzy
-msgid "Select 2nd audio Track"
-msgstr "Choisir une piste audio"
-
-#: avidemux/gtk_gui.cpp:2152
+#: avidemux/gtk_gui.cpp:2144
 msgid "Error loading the MP3 file"
 msgstr "Erreur de chargement de fichier MP3"
 
-#: avidemux/gtk_gui.cpp:2161 avidemux/gtk_gui.cpp:2183
-#: avidemux/gtk_gui.cpp:2205
+#: avidemux/gtk_gui.cpp:2153
+#: avidemux/gtk_gui.cpp:2175
+#: avidemux/gtk_gui.cpp:2197
 msgid "Second track loaded"
 msgstr "Seconde piste charg?e"
 
-#: avidemux/gtk_gui.cpp:2175
+#: avidemux/gtk_gui.cpp:2167
 msgid "Error loading the AC3 file"
 msgstr "Erreur de chargement de fichier AC3"
 
-#: avidemux/gtk_gui.cpp:2197
+#: avidemux/gtk_gui.cpp:2189
 msgid "Error loading the WAV file"
 msgstr "Erreur de chargement de fichier WAV"
 
-#: avidemux/gtk_gui.cpp:2264
+#: avidemux/gtk_gui.cpp:2256
 msgid "Saving failed"
 msgstr "Sauvegarde ?chou?e"
 
-#: avidemux/gtk_gui.cpp:2264
+#: avidemux/gtk_gui.cpp:2256
 msgid "Saving the job failed. Maybe you have permission issue with ~/.avidemux"
-msgstr ""
-"La sauvegarde des t?ches a ?chou?e. Peut-?tre est ce la permission avec ~/."
-"avidemux"
+msgstr "La sauvegarde des t?ches a ?chou?e. Peut-?tre est ce la permission avec ~/.avidemux"
 
-#: avidemux/gtk_gui.cpp:2276
+#: avidemux/gtk_gui.cpp:2268
 #, c-format
 msgid "File %s has been successfully saved."
 msgstr "Le fichier ??%s?? a ?t? enregistr? avec succ?s."
 
-#: avidemux/gtk_gui.cpp:2280
+#: avidemux/gtk_gui.cpp:2272
 #, c-format
 msgid "File %s was NOT saved correctly."
 msgstr "Le fichier ??%s?? n'a pas ?t? enregistr? correctement."
 
-#: avidemux/guiplay.cpp:356
+#: avidemux/gtk_gui.cpp:2426
+msgid "AvsProxy"
+msgstr "AvsProxy"
+
+#: avidemux/gtk_gui.cpp:2426
+msgid ""
+"Failed to connect to avsproxy.\n"
+"Is it running ?"
+msgstr ""
+
+#: avidemux/gtk_gui.cpp:2431
+msgid "avsproxy"
+msgstr "avsproxy"
+
+#: avidemux/gtk_gui.cpp:2459
+msgid "Frame type:"
+msgstr "Type image:"
+
+#: avidemux/gtk_gui.cpp:2460
+msgid "Frame size:"
+msgstr "Taille image:"
+
+#: avidemux/gtk_gui.cpp:2462
+msgid "Frame Hex Dump"
+msgstr ""
+
+#: avidemux/guiplay.cpp:367
 msgid "Trouble initializing audio device"
 msgstr "Ennui en initialisant le dispositif audio"
 
@@ -6333,9 +6820,7 @@
 
 #: avidemux/GUI_jobs.cpp:37
 msgid "Something very wrong happened when buildint joblist"
-msgstr ""
-"Quelque chose de tr?s mauvais c'est pass? duant la construction de la liste "
-"des t?ches"
+msgstr "Quelque chose de tr?s mauvais c'est pass? duant la construction de la liste des t?ches"
 
 #: avidemux/GUI_jobs.cpp:42
 msgid "Nothing to do."
@@ -6345,8 +6830,10 @@
 msgid "There is no jobs stored, nothing to do"
 msgstr "Il n'y a aucune t?che stock?e, donc rien ? faire"
 
-#: avidemux/gui_navigate.cpp:75 avidemux/gui_navigate.cpp:113
-#: avidemux/gui_navigate.cpp:389 avidemux/gui_navigate.cpp:425
+#: avidemux/gui_navigate.cpp:75
+#: avidemux/gui_navigate.cpp:113
+#: avidemux/gui_navigate.cpp:389
+#: avidemux/gui_navigate.cpp:425
 msgid "Decompressing error"
 msgstr "Erreur d?compression"
 
@@ -6354,7 +6841,8 @@
 msgid "Cannot decode next frame."
 msgstr "Ne peut pas d?coder la prochaine image."
 
-#: avidemux/gui_navigate.cpp:113 avidemux/gui_navigate.cpp:425
+#: avidemux/gui_navigate.cpp:113
+#: avidemux/gui_navigate.cpp:425
 msgid "Cannot decode keyframe."
 msgstr "Ne peut pas d?coder l'image-cl?."
 
@@ -6374,7 +6862,8 @@
 msgid "Select Copy as the video codec."
 msgstr "S?lectionner ??Copie?? pour le codec vid?o."
 
-#: avidemux/gui_savenew.cpp:197 avidemux/gui_savenew.cpp:213
+#: avidemux/gui_savenew.cpp:197
+#: avidemux/gui_savenew.cpp:213
 #: avidemux/gui_savenew.cpp:226
 msgid "Incompatible output format"
 msgstr "Format de sortie incompatible"
@@ -6391,11 +6880,13 @@
 msgid "Select dual audio AVI to write"
 msgstr "S?lection d'un fichier AVI double audio ? ?crire"
 
-#: avidemux/gui_savenew.cpp:270 avidemux/gui_savenew.cpp:288
+#: avidemux/gui_savenew.cpp:270
+#: avidemux/gui_savenew.cpp:288
 msgid "This cannot have packed VOP"
 msgstr "Ceci n'a pas de VOP empaquet?"
 
-#: avidemux/gui_savenew.cpp:270 avidemux/gui_savenew.cpp:288
+#: avidemux/gui_savenew.cpp:270
+#: avidemux/gui_savenew.cpp:288
 msgid "It is not MPEG-4 video. File will not be saved."
 msgstr "Ce n'est pas une vid?o MPEG4. Le fichier ne sera pas enregistr?."
 
@@ -6407,558 +6898,3 @@
 "Vous pouvez avoir besoin de la copie intelligente.\n"
 "La permettez-vous??"
 
-#~ msgid "Builtin support for"
-#~ msgstr "Support int?gr? pour"
-
-#~ msgid ""
-#~ "If an option is not checked, it means\n"
-#~ "you must RECOMPILE avidemux to have\n"
-#~ "support for it!"
-#~ msgstr ""
-#~ "Si une option n'est pas coch?e, cela signifie\n"
-#~ "que vous devez RECOMPILER ??avidemux?? pour avoir\n"
-#~ "le support int?gr??!"
-
-#~ msgid "X264"
-#~ msgstr "X264"
-
-#~ msgid "ESD"
-#~ msgstr "ESD"
-
-#~ msgid "Arts"
-#~ msgstr "Arts"
-
-#~ msgid "Vorbis"
-#~ msgstr "Vorbis"
-
-#~ msgid "Altivec"
-#~ msgstr "Altivec"
-
-#~ msgid "Mad"
-#~ msgstr "Mad"
-
-#~ msgid "A52"
-#~ msgstr "A52"
-
-#~ msgid "Win32"
-#~ msgstr "Win32"
-
-#~ msgid "Freetype"
-#~ msgstr "Freetype"
-
-#~ msgid "Xvid"
-#~ msgstr "XviD"
-
-#~ msgid "FAAC"
-#~ msgstr "FAAC"
-
-#~ msgid "FAAD"
-#~ msgstr "FAAD"
-
-#~ msgid "libDCA/libDTS"
-#~ msgstr "libDCA/libDTS"
-
-#~ msgid "Title"
-#~ msgstr "Titre"
-
-#~ msgid "label2"
-#~ msgstr "label2"
-
-#~ msgid "DGbob"
-#~ msgstr "DGbob"
-
-#~ msgid "Extra check"
-#~ msgstr "Contr?le suppl?mentaire"
-
-#~ msgid "BFF"
-#~ msgstr "BFF"
-
-#~ msgid "TFF"
-#~ msgstr "TFF"
-
-#~ msgid "Keep fps and frame #"
-#~ msgstr "Garder fps et Nbr image"
-
-#~ msgid " %d m %d s left"
-#~ msgstr " reste %d m %d s"
-
-#~ msgid "Go to time"
-#~ msgstr "Aller ?"
-
-#~ msgid "h"
-#~ msgstr "h"
-
-#~ msgid "s"
-#~ msgstr "s"
-
-#~ msgid "DVD Parameters"
-#~ msgstr "Param?tres DVD"
-
-#~ msgid "Encoding Type:"
-#~ msgstr "Type d'encodage?:"
-
-#~ msgid "Single pass:Bitrate"
-#~ msgstr "Une passe?:Birate"
-
-#~ msgid "Single pass:Quantizer"
-#~ msgstr "Une passe?:Quantificateur"
-
-#~ msgid "Two pass"
-#~ msgstr "Deux passes"
-
-#~ msgid "Bitrate (kb/s)"
-#~ msgstr "Bitrate (kb/s)"
-
-#~ msgid "Encoding mode"
-#~ msgstr "Mode d'encodage"
-
-#~ msgid "VideoCodec"
-#~ msgstr "Codec Vid?o"
-
-#~ msgid "FFmpeg Mpeg4"
-#~ msgstr "FFmpeg MPEG4"
-
-#~ msgid "FFmpeg H263"
-#~ msgstr "FFmpeg H263"
-
-#~ msgid "FFmpeg H263+"
-#~ msgstr "FFmpeg H263+"
-
-#~ msgid "FFmpeg Huffyuv"
-#~ msgstr "FFmpeg Huffyuv"
-
-#~ msgid "Divx"
-#~ msgstr "DivX"
-
-#~ msgid "Mjpeg"
-#~ msgstr "Mjpeg"
-
-#~ msgid "Configure Codec"
-#~ msgstr "Configurer Codec"
-
-#~ msgid "MSmooth settings"
-#~ msgstr "R?glages MSmooth"
-
-#~ msgid "High Quality :"
-#~ msgstr "Haute qualit??:"
-
-#~ msgid "Show Mask :"
-#~ msgstr "Montrer masque?:"
-
-#~ msgid "Mpeg, Select audio"
-#~ msgstr "Mpeg, s?lection audio"
-
-#~ msgid "File :"
-#~ msgstr "Fichier?:"
-
-#~ msgid "Type :"
-#~ msgstr "Type?:"
-
-#~ msgid "Video stream :"
-#~ msgstr "Flux vid?o?:"
-
-#~ msgid "label5"
-#~ msgstr "label5"
-
-#~ msgid "label6"
-#~ msgstr "label6"
-
-#~ msgid "label7"
-#~ msgstr "label7"
-
-#~ msgid "<b>Input file</b>"
-#~ msgstr "<b>Fichier d'entr?e</b>"
-
-#~ msgid "Detected Audio :"
-#~ msgstr "Audio d?tect??:"
-
-#~ msgid "Bitrate out of range"
-#~ msgstr "Bitrate hors plage"
-
-#~ msgid "choosing maxBitrate instead"
-#~ msgstr "choix Bitrate max"
-
-#~ msgid "choosing minBitrate instead"
-#~ msgstr "choix Bitrate min"
-
-#~ msgid "DVD FFmpeg codec settings"
-#~ msgstr "R?glages codec DVD FFmpeg"
-
-#~ msgid "Target Bitrate (kb/s)   "
-#~ msgstr "Bitrate cible (kb/s)"
-
-#~ msgid "Single Pass - Bitrate"
-#~ msgstr "Une passe - Bitrate"
-
-#~ msgid "Single Pass - Quantizer"
-#~ msgstr "Une passe - Quantificateur"
-
-#~ msgid "Two Pass (filesize) "
-#~ msgstr "Deux passes (taille fichier)"
-
-#~ msgid "Two Pass (bitrate) "
-#~ msgstr "Deux passes - Bitrate"
-
-#~ msgid "<b>Encoding mode </b>"
-#~ msgstr "<b>Mode d'encodage</b>"
-
-#~ msgid "Minimum Bitrate (kb/s) "
-#~ msgstr "Bitrate minimum (kb/s)"
-
-#~ msgid "Maximum Bitrate (kb/s)"
-#~ msgstr "Bitrate maximum (kb/s)"
-
-#~ msgid "VCD: 40 kB"
-#~ msgstr "VCD?: 40 kB"
-
-#~ msgid "SVCD: 112 kB"
-#~ msgstr "SVCD?: 112 kB"
-
-#~ msgid "DVD: 224 kB"
-#~ msgstr "DVD?: 224 kB"
-
-#~ msgid "<b>RateControl</b>"
-#~ msgstr "<b>Contr?le du bitrate ou d?bit vid?o</b>"
-
-#~ msgid "<b>Interlacing</b>"
-#~ msgstr "<b>Entrelacement</b>"
-
-#~ msgid "HR-Tmpgenc"
-#~ msgstr "HR-Tmpgenc"
-
-#~ msgid "<b>Matrices</b>"
-#~ msgstr "<b>Matrices</b>"
-
-#~ msgid "For info, size is : "
-#~ msgstr "Pour info, la taille est?:"
-
-#~ msgid "<b>Indicative audio size</b>"
-#~ msgstr "<b>Taille audio Indicative</b>"
-
-#~ msgid "Left:"
-#~ msgstr "Gauche?:"
-
-#~ msgid "Right:"
-#~ msgstr "Droite?:"
-
-#~ msgid "Top:"
-#~ msgstr "Haut?:"
-
-#~ msgid "Bottom:"
-#~ msgstr "Bas?:"
-
-#~ msgid "Blend removal / Hard pulldown removal"
-#~ msgstr "Elimination flou / ajustement"
-
-#~ msgid "%"
-#~ msgstr "%"
-
-#~ msgid "Identical threshold :"
-#~ msgstr "Seuil identique?:"
-
-#~ msgid "Audio settings"
-#~ msgstr "R?glages Audio"
-
-#~ msgid "Mode (ignored for mono)"
-#~ msgstr "Mode (ignor? pour le mono)"
-
-#~ msgid "AVI muxer options"
-#~ msgstr "Options du multiplexeur AVI"
-
-#~ msgid "Mux audio every"
-#~ msgstr "Multiplexe l'audio tout "
-
-#~ msgid "Split in packets of"
-#~ msgstr "Couper dans les paquets de"
-
-#~ msgid "bytes"
-#~ msgstr "octets"
-
-#~ msgid "Autosplit file every"
-#~ msgstr "Auto coupe ficher chaque"
-
-#~ msgid "megabytes"
-#~ msgstr "megaoctets"
-
-#~ msgid "Load Defaults"
-#~ msgstr "Charger par d?faut"
-
-#~ msgid "Load the stored default settings for the codec"
-#~ msgstr "Charger les r?glages par d?faut du codec"
-
-#~ msgid "Save Defaults"
-#~ msgstr "Enregistrer les r?glages par d?faut"
-
-#~ msgid "Save the current codec configuration as the stored default settings"
-#~ msgstr ""
-#~ "Enregistrer la configuration du codec courant comme r?glages par d?faut"
-
-#~ msgid "Reset Defaults"
-#~ msgstr "RAZ des r?glages par d?faut"
-
-#~ msgid "Reload the initial default codec settings"
-#~ msgstr "Recharger les r?glages par d?faut initiaux du codec"
-
-#~ msgid "Sample A/R "
-#~ msgstr "Echant. A/R"
-
-#~ msgid "Convolution settings"
-#~ msgstr "R?glages convultion"
-
-#~ msgid "Mosaic"
-#~ msgstr "Mosa?que"
-
-#~ msgid "Donal Graft MSharpen"
-#~ msgstr "Donal Graft MSharpen"
-
-#~ msgid "Show Mask"
-#~ msgstr "Montrer masque"
-
-#~ msgid "Strength"
-#~ msgstr "Force"
-
-#~ msgid "Dynamic Noise Reduction"
-#~ msgstr "R?duction dynamique du bruit"
-
-#~ msgid "Resize for VCD/SVCD/...."
-#~ msgstr "Redimensionner pour VDC/SVCD/...."
-
-#~ msgid "Destination Aspect Ratio :"
-#~ msgstr "Ratio de la destination?:"
-
-#~ msgid "VCD"
-#~ msgstr "VCD"
-
-#~ msgid "SVCD"
-#~ msgstr "SVCD"
-
-#~ msgid "DVD"
-#~ msgstr "DVD"
-
-#~ msgid "DVD, half D1"
-#~ msgstr "DVD, demi D1"
-
-#~ msgid "Telecine 3:2"
-#~ msgstr "T?l?cin? 3:2"
-
-#~ msgid "Decomb strategy"
-#~ msgstr "Strat?gie ??Decomb??"
-
-#~ msgid "No postprocessing"
-#~ msgstr "Pas de post traitement"
-
-#~ msgid "Ignore chroma to decide"
-#~ msgstr "Ignorer la chroma pour d?cider"
-
-#~ msgid "Interpolate"
-#~ msgstr "Interpolation"
-
-#~ msgid "Vorbis encoder settings"
-#~ msgstr "R?glages encodeur Vorbis"
-
-#~ msgid "<b>Mode :</b>"
-#~ msgstr "<b>Mode?:</b>"
-
-#~ msgid "<b>Bitrate :</b>"
-#~ msgstr "<b>Bitrate?:</b>"
-
-#~ msgid "<b>Quality :</b>"
-#~ msgstr "<b>Qualit??:</b>"
-
-#~ msgid "CBR (bitrate based)"
-#~ msgstr "CBR (bas? sur le bitrate)"
-
-#~ msgid "VBR (Quality based)"
-#~ msgstr "VBR (bas? sur la qualit?)"
-
-#~ msgid "Mplayer PostProc options"
-#~ msgstr "Options post traitement MPlayer"
-
-#~ msgid "Cycle"
-#~ msgstr "Cycle"
-
-#~ msgid "Threshold2 "
-#~ msgstr "Seuil2"
-
-#~ msgid "Lame Encoder Settings"
-#~ msgstr "R?glages Encodeur Lame"
-
-#~ msgid "Joint-Stereo"
-#~ msgstr "Joint-St?r?o"
-
-#~ msgid "<b>Bitrate:</b>"
-#~ msgstr "<b>Bitrate?:</b>"
-
-#~ msgid "<b>Mode:</b>"
-#~ msgstr "<b>Mode?:</b>"
-
-#~ msgid "<b>Quality:</b>"
-#~ msgstr "<b>Qualit??:</b>"
-
-#~ msgid "_Swap marks A and B if A > B"
-#~ msgstr "_Inverser les marques A et B si A > B"
-
-#~ msgid "S_ave preferences on exit"
-#~ msgstr "E_nregistrer les pr?f?rences en quittant"
-
-#~ msgid "_MPEG auto split (MB):"
-#~ msgstr "Auto-d?coupage _MPEG (Mo)?: "
-
-#~ msgid "_Use OpenDML (don't split large AVI files)"
-#~ msgstr "_Utiliser ??OpenDML?? (ne coupe pas les gros fichiers AVI)"
-
-#~ msgid "_Reuse 2-pass log"
-#~ msgstr "_R?utiliser le log 2 passes"
-
-#~ msgid "ALSA _device:"
-#~ msgstr "P?riph?rique _ ALSA?:"
-
-#~ msgid "Audio"
-#~ msgstr "Audio"
-
-#~ msgid "_Video output:"
-#~ msgstr "_Sortie Video:"
-
-#~ msgid "Enable multithreading : "
-#~ msgstr "Active le MultiT?che?:"
-
-#~ msgid "MultiThread"
-#~ msgstr "MultiT?che"
-
-#~ msgid "Threads"
-#~ msgstr "T?ches (??thread??)"
-
-#~ msgid "FFmpeg encoding options"
-#~ msgstr "Options d'encodage FFmpeg"
-
-#~ msgid ""
-#~ "Set MPEG-4 aspect ratio (warning: MPlayer supports it, but most other "
-#~ "players don't)"
-#~ msgstr ""
-#~ "D?fini le ratio d'aspect MPEG-4 (attention seul MPlayer supporte ceci)"
-
-#~ msgid "ME method:"
-#~ msgstr "M?thode ME?:"
-
-#~ msgid "Max I-frame interval:"
-#~ msgstr "Intervalle max image-I?:"
-
-#~ msgid "Allow 4 motion vectors per macroblock (slightly better quality)"
-#~ msgstr ""
-#~ "Autorise 4 vecteurs de mouvement par macrobloc (qualit? l?g?rement "
-#~ "meilleure)"
-
-#~ msgid "Try  to encode each MB with MV=<0,0> and choose the better one"
-#~ msgstr ""
-#~ "Tente d'encoder chaque macrobloc avec MV=<0,0> et choisi le meilleur"
-
-#~ msgid "0: None"
-#~ msgstr "0?: Aucun"
-
-#~ msgid "5: X1"
-#~ msgstr "5?:X1"
-
-#~ msgid "Maximum interval between keyframes in frames"
-#~ msgstr "Intervalle max entre image-cl?s"
-
-#~ msgid "Maximum number of B-frames between non B-frames, 0-2 is a sane range"
-#~ msgstr "Nombre max d'images-B entre images-non-B, 0-2 est un intervalle s?r"
-
-#~ msgid "Prepass:"
-#~ msgstr "Pr?-passe?:"
-
-#~ msgid "0: SAD"
-#~ msgstr "0?: SAD"
-
-#~ msgid "1: SSE"
-#~ msgstr "1?: SSE"
-
-#~ msgid "2: SATD"
-#~ msgstr "2?: SATD"
-
-#~ msgid "3: DCT"
-#~ msgstr "3?: DCT"
-
-#~ msgid "4: PSNR"
-#~ msgstr "4?: PSNR"
-
-#~ msgid "5: BIT"
-#~ msgstr "5?: BIT"
-
-#~ msgid "6: RD"
-#~ msgstr "6?: RD"
-
-#~ msgid "7: ZERO"
-#~ msgstr "7?: ZERO"
-
-#~ msgid "Full pixel:"
-#~ msgstr "Pixel complet?:"
-
-#~ msgid "Subpixel:"
-#~ msgstr "Sous-pixel?:"
-
-#~ msgid "Macroblock:"
-#~ msgstr "Macrobloc?:"
-
-#~ msgid "ME comparison function"
-#~ msgstr "Fonction de comparaison ME"
-
-#~ msgid "ME:"
-#~ msgstr "ME?:"
-
-#~ msgid "adaptive, size 3"
-#~ msgstr "adaptatif, taille 3"
-
-#~ msgid "adaptive, size 2"
-#~ msgstr "adaptatif, taille 2"
-
-#~ msgid "normal, size 1"
-#~ msgstr "normal, taille 1"
-
-#~ msgid "normal, size 2"
-#~ msgstr "normal, taille 2"
-
-#~ msgid "Quantizer range - Min:"
-#~ msgstr "Intervalle quantificateur - Min?:"
-
-#~ msgid "Rate distorted CBP"
-#~ msgstr "Distortion de vitesse CBP"
-
-#~ msgid "Lumi masking:"
-#~ msgstr "Masquage Lumi:"
-
-#~ msgid "Masking"
-#~ msgstr "Masquer"
-
-#~ msgid "Ratecontrol"
-#~ msgstr "Contr?le du bitrate"
-
-#~ msgid "1- Medium"
-#~ msgstr "1 - Moyen"
-
-#~ msgid "Audio Encoder Settings"
-#~ msgstr "R?glages encodeur audio"
-
-#~ msgid "ASS/SSA Subtitle"
-#~ msgstr "Sous-titres ASS/SSA"
-
-#~ msgid "Preview filtered video in a new window"
-#~ msgstr "Aper?u de la vid?o filtr?e dans une nouvelle fen?tre"
-
-#~ msgid "Display filtered output in the main window"
-#~ msgstr "Affiche la vid?o filtr?e dans la fen?tre principale"
-
-#~ msgid "PSP (broken)"
-#~ msgstr "PSP (pas dispo)"
-
-#~ msgid "Could not decode the frame"
-#~ msgstr "Ne peut pas d?coder l'image"
-
-#~ msgid "Something failed"
-#~ msgstr "Quelque chose a ?chou?"
-
-#~ msgid "Cannot encode frame"
-#~ msgstr "Ne peut encoder image"
-
-#~ msgid "Select 2nd track"
-#~ msgstr "S?lection de la 2nde piste"



From mean at mail.berlios.de  Fri May 18 18:09:57 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Fri, 18 May 2007 18:09:57 +0200
Subject: [Avidemux-svn-commit] r3112 -
	branches/avidemux_2.4_branch/autononreg/dialogFactory
Message-ID: <200705181609.l4IG9vpw030647@sheep.berlios.de>

Author: mean
Date: 2007-05-18 18:09:57 +0200 (Fri, 18 May 2007)
New Revision: 3112

Added:
   branches/avidemux_2.4_branch/autononreg/dialogFactory/button.js
Log:
some new test functions

Copied: branches/avidemux_2.4_branch/autononreg/dialogFactory/button.js (from rev 3098, branches/avidemux_2.4_branch/autononreg/dialogFactory/integer.js)
===================================================================
--- branches/avidemux_2.4_branch/autononreg/dialogFactory/integer.js	2007-05-15 15:15:31 UTC (rev 3098)
+++ branches/avidemux_2.4_branch/autononreg/dialogFactory/button.js	2007-05-18 16:09:57 UTC (rev 3112)
@@ -0,0 +1,10 @@
+//AD  <- These first 4 characters need to be the first 4 characters to identify the ECMAScript file to Avidemux
+var app = new Avidemux();
+var file="/work/samples/2mn.avi";
+var goodfcc="DIV3";
+var fps;
+
+	dialogFactoryButton();
+
+/* End of test
+*/



From mean at mail.berlios.de  Fri May 18 18:10:33 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Fri, 18 May 2007 18:10:33 +0200
Subject: [Avidemux-svn-commit] r3113 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK/ADM_dialogFactory ADM_NONE/ADM_dialogFactory
	ADM_QT4/ADM_dialogFactory ADM_QT4/ADM_filters ADM_QT4/ADM_gui
	ADM_commonUI
Message-ID: <200705181610.l4IGAXPd030762@sheep.berlios.de>

Author: mean
Date: 2007-05-18 18:10:31 +0200 (Fri, 18 May 2007)
New Revision: 3113

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_button.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_button.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qslider.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_qslider.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_menu.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_toggle.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
Log:
misc improvement on QT4, added button to dialogFactory

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_button.cpp (from rev 3103, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp	2007-05-16 07:48:13 UTC (rev 3103)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_button.cpp	2007-05-18 16:10:31 UTC (rev 3113)
@@ -0,0 +1,71 @@
+/***************************************************************************
+  FAC_toggle.cpp
+  Handle dialog factory element : Toggle
+  (C) 2006 Mean Fixounet at free.fr 
+***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include <config.h>
+
+
+#include <string.h>
+#include <stdio.h>
+#include <math.h>
+
+#include "default.h"
+#include "ADM_toolkit_gtk/ADM_gladeSupport.h"
+#include "ADM_toolkit_gtk/toolkit_gtk.h"
+#include "ADM_toolkit_gtk/toolkit_gtk_include.h"
+#include "ADM_commonUI/DIA_factory.h"
+#include "ADM_assert.h"
+
+
+
+diaElemButton:: diaElemButton(const char *toggleTitle, ADM_FAC_CALLBACK *cb,void *cookie,const char *tip)
+  : diaElem(ELEM_BUTTON)
+{
+  param=NULL;
+  paramTitle=toggleTitle;
+  this->tip=tip;
+  _cookie=cookie;
+  _callBack=cb;
+}
+
+diaElemButton::~diaElemButton()
+{
+  
+}
+
+void diaElemButton::setMe(void *dialog, void *opaque,uint32_t line)
+{
+  GtkWidget *button;
+  button = gtk_button_new_from_stock (paramTitle);
+  gtk_widget_show (button);
+  /**/
+  gtk_table_attach (GTK_TABLE (opaque), button, 0, 2, line, line+1,
+                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
+                    (GtkAttachOptions) (0), 0, 0);
+  /* Add callback ...*/
+  g_signal_connect(GTK_OBJECT(button), "clicked",
+                    GTK_SIGNAL_FUNC(_callBack),  _cookie);
+  myWidget=button;
+}
+void diaElemButton::getMe(void)
+{
+  
+}
+void   diaElemButton::enable(uint32_t onoff)
+{
+  gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);  
+}
+
+
+//EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/Makefile.am	2007-05-18 16:09:57 UTC (rev 3112)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/Makefile.am	2007-05-18 16:10:31 UTC (rev 3113)
@@ -19,6 +19,7 @@
 FAC_readOnlyText.cpp \
 FAC_notch.cpp \
 FAC_frame.cpp \
-FAC_hex.cpp
+FAC_hex.cpp \
+FAC_button.cpp
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp	2007-05-18 16:09:57 UTC (rev 3112)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp	2007-05-18 16:10:31 UTC (rev 3113)
@@ -368,5 +368,27 @@
 {
   
 }
+//*********************************************************
+diaElemButton:: diaElemButton(const char *toggleTitle, ADM_FAC_CALLBACK *cb,void *cookie,const char *tip)
+  : diaElem(ELEM_BUTTON)
+{
+}
 
+diaElemButton::~diaElemButton()
+{
+  
+}
+
+void diaElemButton::setMe(void *dialog, void *opaque,uint32_t line)
+{
+  
+}
+void diaElemButton::getMe(void)
+{
+  
+}
+void   diaElemButton::enable(uint32_t onoff)
+{
+
+}
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_menu.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_menu.cpp	2007-05-18 16:09:57 UTC (rev 3112)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_menu.cpp	2007-05-18 16:10:31 UTC (rev 3113)
@@ -164,10 +164,10 @@
     dialElemLink *l=&(links[i]);
     if(l->value==val)
     {
-      if(!l->onoff)  l->widget->enable(0);
+      if(!l->onoff)  l->widget->enable(FALSE);
     }else
     {
-       if(l->onoff)  l->widget->enable(0);
+       if(l->onoff)  l->widget->enable(FALSE);
     }
     
   }
@@ -177,10 +177,10 @@
     dialElemLink *l=&(links[i]);
     if(l->value==val)
     {
-      if(l->onoff)  l->widget->enable(1);
+      if(l->onoff)  l->widget->enable(TRUE);
     }else
     {
-       if(!l->onoff)  l->widget->enable(1);
+       if(!l->onoff)  l->widget->enable(TRUE);
     }
     
   }
@@ -190,9 +190,9 @@
    QComboBox *combo=(QComboBox *)myWidget;
   ADM_assert(combo);
   if(onoff)
-    combo->setEnabled(1);
+    combo->setEnabled(true);
   else
-    combo->setDisabled(1);
+    combo->setDisabled(true);
 }
 
 uint8_t   diaElemMenuDynamic::link(diaMenuEntryDynamic *entry,uint32_t onoff,diaElem *w)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_toggle.cpp	2007-05-18 16:09:57 UTC (rev 3112)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_toggle.cpp	2007-05-18 16:10:31 UTC (rev 3113)
@@ -78,9 +78,9 @@
   QCheckBox *box=(QCheckBox *)myWidget;
   ADM_assert(box);
   if(onoff)
-    box->setEnabled(1);
+    box->setEnabled(TRUE);
   else
-    box->setDisabled(1);
+    box->setDisabled(TRUE);
 }
 
 void   diaElemToggle::finalize(void)
@@ -189,7 +189,7 @@
 void   diaElemToggleUint::updateMe(void)
 {
   uint32_t val;
-  uint32_t rank=0;
+  uint32_t rank=FALSE;
   ADM_assert(myWidget);
   
   QCheckBox *box=(QCheckBox *)myWidget;
@@ -197,7 +197,7 @@
   
   if(Qt::Checked==box->checkState())
   {
-    rank=1;
+    rank=TRUE;
   }
   spin->setEnabled(rank);
 }
@@ -208,13 +208,13 @@
   ADM_assert(box);
   if(onoff)
   {
-    box->setEnabled(1);
-    spin->setEnabled(1);
+    box->setEnabled(TRUE);
+    spin->setEnabled(TRUE);
   }
   else
   {
-    box->setDisabled(1);
-    spin->setDisabled(1);
+    box->setEnabled(FALSE);
+    spin->setEnabled(FALSE);
   }
 }
 
@@ -277,4 +277,7 @@
 }
 //******************************************************
 
+
+
+
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/Makefile.am	2007-05-18 16:09:57 UTC (rev 3112)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/Makefile.am	2007-05-18 16:10:31 UTC (rev 3113)
@@ -3,7 +3,10 @@
 
 libADM_dialogFactory_a_METASOURCES = AUTO
 
-libADM_dialogFactory_a_SOURCES = AT_dialogFactory.cpp FAC_toggle.cpp FAC_integer.cpp FAC_menu.cpp FAC_float.cpp AT_filesel.cpp AT_bitrate.cpp FAC_bar.cpp FAC_readOnlyText.cpp FAC_notch.cpp FAC_frame.cpp FAC_hex.cpp
+libADM_dialogFactory_a_SOURCES = AT_dialogFactory.cpp FAC_toggle.cpp FAC_integer.cpp FAC_menu.cpp FAC_float.cpp \
+AT_filesel.cpp AT_bitrate.cpp \
+AT_button.cpp \
+FAC_bar.cpp FAC_readOnlyText.cpp FAC_notch.cpp FAC_frame.cpp FAC_hex.cpp
 
 
 INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_button.cpp (from rev 3098, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp	2007-05-15 15:15:31 UTC (rev 3098)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_button.cpp	2007-05-18 16:10:31 UTC (rev 3113)
@@ -0,0 +1,109 @@
+/***************************************************************************
+  FAC_toggle.cpp
+  Handle dialog factory element : Toggle
+  (C) 2006 Mean Fixounet at free.fr 
+***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include <config.h>
+
+
+#include <string.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include <math.h>
+
+#include <QDialog>
+#include <QMessageBox>
+#include <QGridLayout>
+#include <QPushButton>
+#include <QComboBox>
+#include <QLabel>
+
+#include "default.h"
+#include "ADM_commonUI/DIA_factory.h"
+#include "ADM_assert.h"
+
+extern const char *shortkey(const char *);
+
+class  ADM_Qbutton : public QWidget
+{
+     Q_OBJECT
+    
+  signals:
+        
+        
+   public slots:
+        void clicked(bool i);
+  protected :
+          ADM_FAC_CALLBACK *_cb;
+          void *_cookie;
+  public:
+         QPushButton *button;
+        
+        ADM_Qbutton(QWidget *z,QGridLayout *layout,const char *blah,int line,ADM_FAC_CALLBACK *cb, void *cookie) : QWidget(z) 
+        {
+          
+           _cb=cb;
+           _cookie=cookie;
+           button=new QPushButton(blah,z);
+           button->show();
+           layout->addWidget(button,line,0);
+           QObject::connect(button, SIGNAL(clicked(bool)), this, SLOT(clicked(bool )));
+        }
+        virtual ~ADM_Qbutton() ;
+        
+};
+void ADM_Qbutton::clicked(bool i)
+{
+    _cb(_cookie);
+}
+ADM_Qbutton::~ADM_Qbutton()
+{
+}
+
+diaElemButton:: diaElemButton(const char *toggleTitle, ADM_FAC_CALLBACK *cb,void *cookie,const char *tip)
+  : diaElem(ELEM_BUTTON)
+{
+  param=(void *)NULL;
+  paramTitle=shortkey(toggleTitle);
+  this->tip=tip;
+  _cookie=cookie;
+  _callBack=cb;
+  
+}
+
+diaElemButton::~diaElemButton()
+{
+  
+}
+
+void diaElemButton::setMe(void *dialog, void *opaque,uint32_t line)
+{
+  QGridLayout *layout=(QGridLayout*) opaque;
+  
+  ADM_Qbutton *b=new ADM_Qbutton( (QWidget *)dialog,layout,paramTitle,line,_callBack,_cookie);
+  myWidget=(void *)b;
+}
+void diaElemButton::getMe(void)
+{
+  if(paramTitle)
+  {
+    ADM_dealloc(paramTitle);
+    paramTitle=NULL; 
+  }
+}
+void   diaElemButton::enable(uint32_t onoff)
+{
+
+}
+//EOF
+

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp	2007-05-18 16:09:57 UTC (rev 3112)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp	2007-05-18 16:10:31 UTC (rev 3113)
@@ -85,6 +85,11 @@
      v+=elems[i]->getSize();
     
   }
+   for(int i=0;i<nb;i++)
+  {
+    ADM_assert(elems[i]);
+     elems[i]->finalize(); 
+  }
   // Add buttons
    QDialogButtonBox buttonBox((QWidget *)&dialog);
     buttonBox.setStandardButtons(QDialogButtonBox::Ok
@@ -193,6 +198,11 @@
      v+=tab->dias[i]->getSize();
     
   }
+  
   wtab->addTab(wid,tab->title);
+  for(int i=0;i<tab->nbElems;i++)
+  {
+    tab->dias[i]->finalize(); 
+  }
 }
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2007-05-18 16:09:57 UTC (rev 3112)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2007-05-18 16:10:31 UTC (rev 3113)
@@ -50,6 +50,7 @@
 #include "ADM_video/ADM_genvideo.hxx"
 #include "ADM_filter/video_filters.h"
 #include "ADM_video/ADM_vidPartial.h"
+#include "ADM_filter/vidVCD.h"
 /*******************************************************/
 #define NB_TREE 8
 #define myFg 0xFF
@@ -86,6 +87,10 @@
      
      
  public slots:
+        void VCD(bool b);
+        void DVD(bool b);
+        void SVCD(bool b);
+        void halfD1(bool b);
         void add(bool b);
         void up(bool b);
         void down(bool b);
@@ -205,6 +210,17 @@
             }
   
 }
+#define MAKE_BUTTON(button,call) \
+void filtermainWindow::button( bool b) \
+{ \
+    call(); \
+    getFirstVideoFilter (); \
+    buildActiveFilterList ();  \
+}
+MAKE_BUTTON(DVD,setDVD)
+MAKE_BUTTON(VCD,setVCD)
+MAKE_BUTTON(SVCD,setSVCD)
+MAKE_BUTTON(halfD1,setHalfD1)
 /**
         \fn     configure( bool b)
         \brief  Configure the selected active filter
@@ -506,6 +522,10 @@
     connect((ui.toolButtonUp),SIGNAL(clicked(bool)),this,SLOT(up(bool)));
     connect((ui.toolButtonDown),SIGNAL(clicked(bool)),this,SLOT(down(bool)));
     connect(ui.buttonClose, SIGNAL(clicked(bool)), this, SLOT(accept()));
+    connect(ui.pushButtonDVD, SIGNAL(clicked(bool)), this, SLOT(DVD(bool)));
+    connect(ui.pushButtonVCD, SIGNAL(clicked(bool)), this, SLOT(VCD(bool)));
+    connect(ui.pushButtonSVCD, SIGNAL(clicked(bool)), this, SLOT(SVCD(bool)));
+    connect(ui.pushButtonHalfDVD, SIGNAL(clicked(bool)), this, SLOT(halfD1(bool)));
    
     displayFamily(0);
     buildActiveFilterList(); 

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qslider.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qslider.h	2007-05-18 16:09:57 UTC (rev 3112)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qslider.h	2007-05-18 16:10:31 UTC (rev 3113)
@@ -0,0 +1,36 @@
+#ifndef ADM_Q_SLIDER_H
+#define ADM_Q_SLIDER_H
+class ADM_QSlider : public QWidget
+{
+        Q_OBJECT
+signals:
+void valueChanged(int value);
+public slots:
+protected:
+        QSlider *_slider;
+        uint32_t _max,_A,_B;
+        void paintEvent(QPaintEvent *ev);
+        
+public:
+        ADM_QSlider(QWidget *father); 
+        ~ADM_QSlider(); 
+        
+        void setA(uint32_t a);
+        void setB(uint32_t a);
+        void setNbFrames(uint32_t a);
+        int  value() const;
+         Qt::Orientation orientation() const;
+
+    void setMinimum(int);
+    int minimum() const;
+
+    void setMaximum(int);
+    int maximum() const;
+
+public Q_SLOTS:
+    void setValue(int);
+    void setOrientation(Qt::Orientation);
+
+};
+#endif
+

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Makefile.am	2007-05-18 16:09:57 UTC (rev 3112)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Makefile.am	2007-05-18 16:10:31 UTC (rev 3113)
@@ -10,7 +10,7 @@
 libADM_gui2_a_METASOURCES = AUTO
 
 libADM_gui2_a_SOURCES = gui_none.cpp file_qt4.cpp avidemux_rsc.cpp \
-			AQ_gui2.cpp   AT_preview.cpp 
+			AQ_gui2.cpp   AT_preview.cpp AT_qslider.cpp
 
 include ../Makefile.adm
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2007-05-18 16:09:57 UTC (rev 3112)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2007-05-18 16:10:31 UTC (rev 3113)
@@ -12,7 +12,7 @@
  *                                                                         *
  ***************************************************************************/
 #include "config.h"
-
+//#define CUSTOM_SLIDER
 #include <stdio.h>
 #include <stdlib.h>
 #include <math.h>
@@ -33,6 +33,7 @@
 #include <QtGui/QToolButton>
 #include <QtGui/QVBoxLayout>
 #include <QtGui/QWidget>
+#include <ADM_qslider.h>
 
 #include "default.h"
 #include "ADM_osSupport/ADM_misc.h"
@@ -50,7 +51,11 @@
 extern void checkCrashFile(void);
 static void setupMenus(void);
 
+#ifdef CUSTOM_SLIDER
+static ADM_QSlider *slider=NULL;
+#else
 static QSlider *slider=NULL;
+#endif
 static int _upd_in_progres=0;
 /* Ugly game with macro so that buttons emit their name ...*/
 
@@ -193,7 +198,9 @@
             ADD(actionNext_blak_frame);
             ADD(actionFirst_Frame);
             ADD(actionLast_Frame);
-            
+            //** Add shortcuts **//
+            QKeySequence seqFilter("CTRL+Alt+F");
+            ui.actionFilters->setShortcut(seqFilter);
             // default state
             bool b=0;
           ui.pushButtonVideoConf->setEnabled(b);
@@ -276,12 +283,13 @@
    
     UI_QT4VideoWidget(mw->ui.frame_video);  // Add the widget that will handle video display
     UI_updateRecentMenu(  );
+    setupMenus();
+    checkCrashFile();
+    
    if (global_argc >= 2)
     {
      automation();
     }
-    setupMenus();
-    checkCrashFile();
     return a.exec();
 }
 /**
@@ -488,6 +496,9 @@
       frame2time(total,fps, &hh, &mm, &ss, &ms);
       sprintf(text, "/%02d:%02d:%02d.%03d", hh, mm, ss, ms);
       WIDGET(label_7)->setText(text);
+#ifdef CUSTOM_SLIDER
+      slider->setNbFrames(total);
+#endif
 }
 /**
     \fn     UI_setMarkers(uint32_t a, uint32_t b )
@@ -501,6 +512,11 @@
       WIDGET(label_9)->setText(text);
       snprintf(text,79,"%lu",b);
       WIDGET(label_10)->setText(text);
+      //
+#ifdef CUSTOM_SLIDER
+      slider->setA(a);
+      slider->setB(b);
+#endif
 }
 /**
     \fn     UI_getCurrentVCodec(void)
@@ -520,7 +536,11 @@
 
 void UI_setVideoCodec( int i)
 {
+  int b=!!i;
     WIDGET(comboBoxVideo)->setCurrentIndex(i);
+    
+     WIDGET(pushButtonVideoConf)->setEnabled(b);
+     WIDGET(pushButtonVideoFilter)->setEnabled(b);
 }
 /**
     \fn     UI_getCurrentACodec(void)
@@ -539,8 +559,10 @@
 */
 
 void UI_setAudioCodec( int i)
-{
+{ int b=!!i;
    WIDGET(comboBoxAudio)->setCurrentIndex(i);
+    WIDGET(pushButtonAudioConf)->setEnabled(b);
+    WIDGET(pushButtonAudioFilter)->setEnabled(b);
 }
 /**
     \fn     UI_GetCurrentFormat(void)

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_qslider.cpp (from rev 3104, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2007-05-17 07:39:26 UTC (rev 3104)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_qslider.cpp	2007-05-18 16:10:31 UTC (rev 3113)
@@ -0,0 +1,154 @@
+
+/***************************************************************************
+      Custom slider
+      It is definitively ugly
+      It should derive from QHorizontalSlider or something
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include "config.h"
+ 
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+
+#include <time.h>
+#include <sys/time.h>
+
+#include <QtCore/QVariant>
+#include <QtGui/QAction>
+#include <QtGui/QApplication>
+#include <QtGui/QButtonGroup>
+#include <QtGui/QFrame>
+#include <QtGui/QGraphicsView>
+#include <QMessageBox>
+#include <QPainter>
+#include <QImage>
+#include <QSlider>
+// moc does not like includes.... #include <ADM_qslider.h>
+class ADM_QSlider : public QWidget
+{
+        Q_OBJECT
+signals:
+  void valueChanged(int value);
+
+public slots:
+        void sliderMoved(int);
+protected:
+        QSlider *_slider;
+        uint32_t _max,_A,_B;
+        void paintEvent(QPaintEvent *ev);
+        
+public:
+        ADM_QSlider(QWidget *father); 
+        ~ADM_QSlider(); 
+        
+        void setA(uint32_t a);
+        void setB(uint32_t a);
+        void setNbFrames(uint32_t a);
+        int  value() const;
+         Qt::Orientation orientation() const;
+
+    void setMinimum(int);
+    int minimum() const;
+
+    void setMaximum(int);
+    int maximum() const;
+
+public Q_SLOTS:
+    void setValue(int);
+    void setOrientation(Qt::Orientation);
+
+};
+//****************************************************************************************************
+void ADM_QSlider::setOrientation(Qt::Orientation x)
+{
+  _slider->setOrientation(x); 
+}
+void ADM_QSlider::setValue(int x)
+{
+  _slider->setValue(x); 
+}
+
+void ADM_QSlider::setMinimum(int x)
+{
+  _slider->setMinimum(x); 
+}
+void ADM_QSlider::setMaximum(int x)
+{
+  _slider->setMaximum(x); 
+}
+ int ADM_QSlider::minimum(void) const
+{
+  return _slider->minimum(); 
+}
+int ADM_QSlider::maximum(void) const
+{
+  return _slider->maximum(); 
+}
+int ADM_QSlider::value(void) const
+{
+  return _slider->value(); 
+}
+
+ADM_QSlider::ADM_QSlider(QWidget *father) : QWidget(father)
+{
+  _max=_A=_B=0;
+  _slider=new QSlider(this);
+  _slider->show();
+  connect( _slider,SIGNAL(valueChanged(int)),this,SLOT(sliderMoved(int)));
+  
+}
+void ADM_QSlider::sliderMoved(int i)
+{
+  emit( valueChanged(i));
+}
+ADM_QSlider::~ADM_QSlider()
+{
+  if(_slider) delete _slider;
+  _slider=NULL;
+}
+void ADM_QSlider::paintEvent(QPaintEvent *ev)
+{
+    printf("[*********************************PAINT************************]\n");
+    _slider->repaint();
+    if(_A && _B && _max)
+    {
+      printf("[QSLIDER] %u %u %u\n",_A,_B,_max); 
+    }
+}
+void ADM_QSlider::setA(uint32_t a)
+{
+  _A=a;
+  printf("[QSLIDER] Set A (%u,%u)\n",_A,_max);  
+  if(_A>_max)
+  {
+    printf("[QSLIDER] A out of bound(%u,%u)\n",_A,_max);  
+  }
+  repaint();
+}
+void ADM_QSlider::setB(uint32_t a)
+{
+    _B=a;
+    printf("[QSLIDER] Set B (%u,%u)\n",_B,_max);  
+  if(_B>_max)
+  {
+    printf("[QSLIDER] B out of bound(%u,%u)\n",_B,_max);  
+  }
+  repaint();
+}
+void ADM_QSlider::setNbFrames(uint32_t a)
+{
+  _max=a; 
+  repaint();
+}
+
+//EOF 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-05-18 16:09:57 UTC (rev 3112)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-05-18 16:10:31 UTC (rev 3113)
@@ -36,9 +36,10 @@
   ELEM_HEXDUMP,
   ELEM_TOGGLE_UINT,
   ELEM_TOGGLE_INT,
+  ELEM_BUTTON,
   ELEM_MAX=ELEM_TOGGLE
 };
-
+typedef void ADM_FAC_CALLBACK(void *cookie);
 /*********************************************/
 class diaElem
 {
@@ -73,6 +74,21 @@
   diaElem  *widget;
 }dialElemLink;
 /*********************************************/
+
+class diaElemButton : public diaElem
+{
+  protected:
+    
+    void            *_cookie;
+    ADM_FAC_CALLBACK *_callBack;
+public:
+            diaElemButton(const char *toggleTitle, ADM_FAC_CALLBACK *cb,void *cookie,const char *tip=NULL);
+  virtual   ~diaElemButton() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
+  void      enable(uint32_t onoff) ;
+};
+/*********************************************/
 class diaElemToggle : public diaElem
 {
   protected:



From mean at mail.berlios.de  Fri May 18 19:51:21 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Fri, 18 May 2007 19:51:21 +0200
Subject: [Avidemux-svn-commit] r3114 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4:
	ADM_dialog ADM_filters
Message-ID: <200705181751.l4IHpLHV016908@sheep.berlios.de>

Author: mean
Date: 2007-05-18 19:51:20 +0200 (Fri, 18 May 2007)
New Revision: 3114

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
Log:
partial for QT4

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-18 16:10:31 UTC (rev 3113)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-18 17:51:20 UTC (rev 3114)
@@ -82,7 +82,7 @@
 uint8_t DIA_getEqualizer(EqualizerParam *param, ADMImage *image){return 0;}
 uint8_t DIA_getEqualizer(EqualizerParam *param, AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getMPdelogo(MPDELOGO_PARAM *param,AVDMGenericVideoStream *in){return 0;}
-uint8_t DIA_getPartial(PARTIAL_CONFIG *param,AVDMGenericVideoStream *son,AVDMGenericVideoStream *previous){return 0;}
+//uint8_t DIA_getPartial(PARTIAL_CONFIG *param,AVDMGenericVideoStream *son,AVDMGenericVideoStream *previous){return 0;}
 uint8_t DIA_vobsub(vobSubParam *param){return 0;}
 uint8_t DIA_x264(COMPRES_PARAMS *config){return 0;}
 uint8_t DIA_job(uint32_t nb,char **name){return 0;}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2007-05-18 16:10:31 UTC (rev 3113)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2007-05-18 17:51:20 UTC (rev 3114)
@@ -51,6 +51,7 @@
 #include "ADM_filter/video_filters.h"
 #include "ADM_video/ADM_vidPartial.h"
 #include "ADM_filter/vidVCD.h"
+#include "ADM_userInterfaces/ADM_commonUI/DIA_factory.h"
 /*******************************************************/
 #define NB_TREE 8
 #define myFg 0xFF
@@ -521,6 +522,7 @@
     connect((ui.pushButtonRemove),SIGNAL(clicked(bool)),this,SLOT(remove(bool)));
     connect((ui.toolButtonUp),SIGNAL(clicked(bool)),this,SLOT(up(bool)));
     connect((ui.toolButtonDown),SIGNAL(clicked(bool)),this,SLOT(down(bool)));
+    connect((ui.toolButtonPartial),SIGNAL(clicked(bool)),this,SLOT(partial(bool)));
     connect(ui.buttonClose, SIGNAL(clicked(bool)), this, SLOT(accept()));
     connect(ui.pushButtonDVD, SIGNAL(clicked(bool)), this, SLOT(DVD(bool)));
     connect(ui.pushButtonVCD, SIGNAL(clicked(bool)), this, SLOT(VCD(bool)));
@@ -549,6 +551,38 @@
         }
 	return 0;
 }
+/** 
+    \fn partialCb
+    \brief Partial callback to configure the swallowed filter
+    
+*/
+static void partialCb(void *cookie);
+void partialCb(void *cookie)
+{
+  void **params=(void **)cookie;
+  AVDMGenericVideoStream *son=(AVDMGenericVideoStream *)params[0];
+  AVDMGenericVideoStream *previous=(AVDMGenericVideoStream *)params[1];
+  son->configure(previous);
+}
+/** 
+    \fn DIA_getPartial
+    \brief Partial dialog
+    
+*/
 
+uint8_t DIA_getPartial(PARTIAL_CONFIG *param,AVDMGenericVideoStream *son,AVDMGenericVideoStream *previous)
+{
+#define PX(x) &(param->x)
+  void *params[2]={son,previous};
+         uint32_t fmax=previous->getInfo()->nb_frames;
+         if(fmax) fmax--;
+         
+         diaElemUInteger  start(PX(_start),_("Partial Start Frame:"),0,fmax);
+         diaElemUInteger  end(PX(_end),_("Partial End Frame:"),0,fmax);
+         diaElemButton    button(_("Configure child"), partialCb,params);
+         
+         diaElem *tabs[]={&start,&end,&button};
+        return diaFactoryRun(_("Partial Video Filter"),3,tabs);
+}
 //EOF
 



From mean at mail.berlios.de  Fri May 18 20:04:32 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Fri, 18 May 2007 20:04:32 +0200
Subject: [Avidemux-svn-commit] r3115 - in
	branches/avidemux_2.4_branch/avidemux: ADM_audiocodec
	ADM_encoder ADM_userInterfaces/ADM_QT4/ADM_gui
Message-ID: <200705181804.l4II4W70017739@sheep.berlios.de>

Author: mean
Date: 2007-05-18 20:04:32 +0200 (Fri, 18 May 2007)
New Revision: 3115

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_audiocodeclist.h
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/ADM_encCodecDesc.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h
Log:
cosmetic

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_audiocodeclist.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_audiocodeclist.h	2007-05-18 17:51:20 UTC (rev 3114)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_audiocodeclist.h	2007-05-18 18:04:32 UTC (rev 3115)
@@ -11,20 +11,20 @@
 {
                 {"copy","Copy", AUDIOENC_COPY},
 #ifdef HAVE_LIBMP3LAME
-                {"lame","Lame", AUDIOENC_MP3},
+                {"lame","MP3 (Lame)", AUDIOENC_MP3},
 #endif
 #ifdef USE_FAAC
-                {"aac","FAAC", AUDIOENC_FAAC},
+                {"aac","AAC (FAAC)", AUDIOENC_FAAC},
 #endif
 #ifdef USE_VORBIS
                 {"vorbis","Vorbis", AUDIOENC_VORBIS},
 #endif
 #ifdef USE_AFTEN
-                {"aften","Aften", AUDIOENC_AFTEN},
+                {"aften","AC3 (Aften)", AUDIOENC_AFTEN},
 #endif
-                {"mp2", "FFm MP2", AUDIOENC_MP2},
-                {"ac3", "FFm AC3",AUDIOENC_AC3},
-                {"twolame","Twolame", AUDIOENC_2LAME},
+                {"twolame","MP2 (Twolame)", AUDIOENC_2LAME},
+                {"mp2", "MP2 (lavc)", AUDIOENC_MP2},
+                {"ac3", "AC3 (lavc)",AUDIOENC_AC3},
                 {"none", "Wav PCM",AUDIOENC_NONE},
                 {"lpcm", "Wav LPCM",AUDIOENC_LPCM}
 };

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/ADM_encCodecDesc.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/ADM_encCodecDesc.h	2007-05-18 17:51:20 UTC (rev 3114)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/ADM_encCodecDesc.h	2007-05-18 18:04:32 UTC (rev 3115)
@@ -100,7 +100,7 @@
 };
 COMPRES_PARAMS ffmpegMpeg4 = {
   CodecFF,
-  "Mpeg4 (lavc)",
+  "Mpeg4 ASP (lavc)",
   "FFMpeg4",
   "Lavcodec Mpeg4",
   COMPRESS_CQ,
@@ -563,7 +563,7 @@
 extern uint8_t DIA_xvid4 (COMPRES_PARAMS * incoming);
 COMPRES_PARAMS Xvid4Codec = {
   CodecXvid4,
-  "Xvid4",
+  "Mpeg4 ASP (Xvid4)",
   "XVID4",
   "XVID 4 mpeg4",
   COMPRESS_CQ,
@@ -703,7 +703,7 @@
 extern uint8_t DIA_x264 (COMPRES_PARAMS * conf);
 COMPRES_PARAMS x264Codec = {
   CodecX264,
-  "x264",
+  "MPEG4 AVC (x264)",
   "X264",
   "x264 h264 encoder",
   COMPRESS_AQ,
@@ -728,9 +728,12 @@
 
 COMPRES_PARAMS *AllVideoCodec[] = {
   &CopyCodec,
-  &ffmpegH263Codec,
-  &MjpegCodec,
-//ffmpegH263PCodec,
+#ifdef USE_XVID_4
+  &Xvid4Codec,
+#endif
+#ifdef USE_X264
+  &x264Codec,
+#endif
   &ffmpegMpeg4,
   &ffmpeg1Codec,
   &ffmpeg2DVDCodec,
@@ -738,20 +741,14 @@
   &VCDCodec,
   &SVCDCodec,
   &DVDCodec,
-  &ffmpegDV,
   &RequantCodec,
-#ifdef USE_XVID_4
-  &Xvid4Codec,
-#endif
-#ifdef USE_X264
-  &x264Codec,
-#endif
+  &ffmpegDV,
   &ffmpegHUFF,
   &ffmpegFFHUFF,
   &ffmpegFFV1,
   &yv12codec,
-  
-//&ffmpegSnow,
+  &ffmpegH263Codec,
+  &MjpegCodec,  
   &DUMMYONE
 };
 #endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h	2007-05-18 17:51:20 UTC (rev 3114)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h	2007-05-18 18:04:32 UTC (rev 3115)
@@ -48,7 +48,7 @@
 PROCESS(actionPrevious_intra_frame,ACT_PreviousKFrame) \
 PROCESS(actionNext_intra_frame,ACT_NextKFrame) \
 PROCESS(actionPrevious_black_frame,ACT_PrevBlackFrame) \
-PROCESS(actionNext_blak_frame,ACT_PlayAvi) \
+PROCESS(actionNext_blak_frame,ACT_NextBlackFrame) \
 PROCESS(actionFirst_Frame,ACT_Begin) \
 PROCESS(actionLast_Frame,ACT_End) \
 PROCESS(actionGo_to_Marker_A,ACT_GotoMarkA) \



From mean at mail.berlios.de  Fri May 18 20:05:03 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Fri, 18 May 2007 20:05:03 +0200
Subject: [Avidemux-svn-commit] r3116 -
	branches/avidemux_2.4_branch/avidemux/ADM_script
Message-ID: <200705181805.l4II53aL017787@sheep.berlios.de>

Author: mean
Date: 2007-05-18 20:05:02 +0200 (Fri, 18 May 2007)
New Revision: 3116

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp
Log:
help function test dialogFactory button

Modified: branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp	2007-05-18 18:04:32 UTC (rev 3115)
+++ branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp	2007-05-18 18:05:02 UTC (rev 3116)
@@ -80,6 +80,7 @@
 JSBool facFrame(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
 JSBool facHex(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
 JSBool facDirSel(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
+JSBool facButton(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
 JSBool crashTest(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
 JSBool assertTest(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
 
@@ -112,6 +113,7 @@
   {"dialogFactoryDirSel",       facDirSel,        0},
   {"dialogFactoryFrame",       facFrame,        0},
   {"dialogFactoryHex",       facHex,        0},
+  {"dialogFactoryButton",       facButton,        0},
   {"crashTest",               crashTest,        0},
   {"assertTest",               assertTest,        0},
   {0}
@@ -643,6 +645,24 @@
   
   return JS_TRUE;
 }
+void clickMe(void *cookie)
+{
+  GUI_Error_HIG("Button","Button pressed!"); 
+}
+JSBool facButton(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval)
+{
+    
+      diaElemButton bar1("Button",clickMe,NULL);
+      diaElem *elems[]={&bar1   };
+  if(diaFactoryRun("Test Button",1,elems))
+  {
+    *rval = BOOLEAN_TO_JSVAL(1);
+    
+  }else
+    *rval = BOOLEAN_TO_JSVAL(0);
+  
+  return JS_TRUE;
+}
 JSBool facRoText(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval)
 {
     



From mean at mail.berlios.de  Sat May 19 10:20:25 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 19 May 2007 10:20:25 +0200
Subject: [Avidemux-svn-commit] r3117 -
	branches/avidemux_2.4_branch/avidemux/ADM_audiofilter
Message-ID: <200705190820.l4J8KP8R003649@sheep.berlios.de>

Author: mean
Date: 2007-05-19 10:20:24 +0200 (Sat, 19 May 2007)
New Revision: 3117

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioeng_buildfilters.h
Log:
fix enum with respect to dialogFactory

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioeng_buildfilters.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioeng_buildfilters.h	2007-05-18 18:05:02 UTC (rev 3116)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioeng_buildfilters.h	2007-05-19 08:20:24 UTC (rev 3117)
@@ -55,7 +55,7 @@
 typedef enum RESAMPLING
 {
 	RESAMPLING_NONE=0,
-	RESAMPLING_CUSTOM=2,
+	RESAMPLING_CUSTOM=1,
 	RESAMPLING_LAST
 }RESAMPLING;
 



From mean at mail.berlios.de  Sun May 20 13:59:51 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 20 May 2007 13:59:51 +0200
Subject: [Avidemux-svn-commit] r3118 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui
Message-ID: <200705201159.l4KBxpcW012255@sheep.berlios.de>

Author: mean
Date: 2007-05-20 13:59:50 +0200 (Sun, 20 May 2007)
New Revision: 3118

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qslider.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_qslider.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
Log:
first try at custom slider for QT

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qslider.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qslider.h	2007-05-19 08:20:24 UTC (rev 3117)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qslider.h	2007-05-20 11:59:50 UTC (rev 3118)
@@ -10,7 +10,9 @@
         QSlider *_slider;
         uint32_t _max,_A,_B;
         void paintEvent(QPaintEvent *ev);
-        
+        int paintCount;
+        void resizeEvent ( QResizeEvent * event ) ;
+
 public:
         ADM_QSlider(QWidget *father); 
         ~ADM_QSlider(); 
@@ -26,6 +28,14 @@
 
     void setMaximum(int);
     int maximum() const;
+    
+    QSize sizeHint() const;
+    QSize minimumSizeHint() const;
+ //   bool event(QEvent *event);
+    void setSizePolicy ( QSizePolicy horizontal);
+    QSizePolicy sizePolicy () const;
+    void setMaximumSize ( const QSize & );
+    QSize maximumSize () const;
 
 public Q_SLOTS:
     void setValue(int);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2007-05-19 08:20:24 UTC (rev 3117)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2007-05-20 11:59:50 UTC (rev 3118)
@@ -12,7 +12,7 @@
  *                                                                         *
  ***************************************************************************/
 #include "config.h"
-//#define CUSTOM_SLIDER
+#define CUSTOM_SLIDER
 #include <stdio.h>
 #include <stdlib.h>
 #include <math.h>
@@ -583,6 +583,11 @@
 {
     WIDGET(comboBoxFormat)->setCurrentIndex((int)fmt);
 }
-
+uint8_t UI_sliderResize(uint32_t w)
+{
+  printf("sliderResize %u\n",w);
+  slider->resize(w,w);
+  return 1; 
+}
 //********************************************
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2007-05-19 08:20:24 UTC (rev 3117)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2007-05-20 11:59:50 UTC (rev 3118)
@@ -59,6 +59,7 @@
 extern QWidget *QuiMainWindows;
  ColYuvRgb rgbConverter(640,480,1);
 extern void UI_purge( void );
+extern uint8_t UI_sliderResize(uint32_t w);;
 //****************************************************************************************************
 void GUI_PreviewInit(uint32_t w , uint32_t h, uint32_t modal)
 {}
@@ -192,6 +193,9 @@
   
   ADM_RSZ_MAX(hostFrame,displayW,displayH);
   ADM_RSZ_MAX(videoWindow,displayW,displayH);
+  
+  UI_sliderResize(w);
+  
   UI_purge();
   
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_qslider.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_qslider.cpp	2007-05-19 08:20:24 UTC (rev 3117)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_qslider.cpp	2007-05-20 11:59:50 UTC (rev 3118)
@@ -19,6 +19,7 @@
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
+#include <math.h>
 
 #include <time.h>
 #include <sys/time.h>
@@ -33,7 +34,13 @@
 #include <QPainter>
 #include <QImage>
 #include <QSlider>
+#include <QResizeEvent>
 // moc does not like includes.... #include <ADM_qslider.h>
+#define MIN_BOTTOM 0
+
+
+#define zprintf(prt, ...) ;
+
 class ADM_QSlider : public QWidget
 {
         Q_OBJECT
@@ -46,7 +53,9 @@
         QSlider *_slider;
         uint32_t _max,_A,_B;
         void paintEvent(QPaintEvent *ev);
-        
+        int paintCount;
+        void resizeEvent ( QResizeEvent * event ) ;
+        QSize maximumS;
 public:
         ADM_QSlider(QWidget *father); 
         ~ADM_QSlider(); 
@@ -62,7 +71,14 @@
 
     void setMaximum(int);
     int maximum() const;
-
+    
+    QSize sizeHint() const;
+    QSize minimumSizeHint() const;
+ //   bool event(QEvent *event);
+    void setSizePolicy ( QSizePolicy horizontal);
+    QSizePolicy sizePolicy () const;
+    void setMaximumSize ( const QSize & );
+    QSize maximumSize () const;
 public Q_SLOTS:
     void setValue(int);
     void setOrientation(Qt::Orientation);
@@ -71,19 +87,23 @@
 //****************************************************************************************************
 void ADM_QSlider::setOrientation(Qt::Orientation x)
 {
+  zprintf("Orientation\n");
   _slider->setOrientation(x); 
 }
 void ADM_QSlider::setValue(int x)
 {
+  zprintf("Value\n");
   _slider->setValue(x); 
 }
 
 void ADM_QSlider::setMinimum(int x)
 {
+  zprintf("Min\n");
   _slider->setMinimum(x); 
 }
 void ADM_QSlider::setMaximum(int x)
 {
+  zprintf("Max\n");
   _slider->setMaximum(x); 
 }
  int ADM_QSlider::minimum(void) const
@@ -102,6 +122,7 @@
 ADM_QSlider::ADM_QSlider(QWidget *father) : QWidget(father)
 {
   _max=_A=_B=0;
+  paintCount=0;
   _slider=new QSlider(this);
   _slider->show();
   connect( _slider,SIGNAL(valueChanged(int)),this,SLOT(sliderMoved(int)));
@@ -109,6 +130,7 @@
 }
 void ADM_QSlider::sliderMoved(int i)
 {
+  zprintf("Moved\n");
   emit( valueChanged(i));
 }
 ADM_QSlider::~ADM_QSlider()
@@ -118,17 +140,51 @@
 }
 void ADM_QSlider::paintEvent(QPaintEvent *ev)
 {
-    printf("[*********************************PAINT************************]\n");
-    _slider->repaint();
+  int a=_A,b=_B;
+  if(paintCount) return;
+    zprintf("[*********************************PAINT************************]\n");
+    paintCount++;
+    //_slider->repaint();
     if(_A && _B && _max)
     {
-      printf("[QSLIDER] %u %u %u\n",_A,_B,_max); 
+      if(_A>_B)
+      {
+        b=_A;
+        a=_B; 
+      }
+     zprintf("[QSLIDER] %u %u %u\n",_A,_B,_max); 
+      // Paint!
+      QPainter painter(this);
+      int Wwidth,Wheight,dA,dB;
+      float f;
+        Wwidth=width();
+        Wheight=height();
+
+        
+        f=a*Wwidth;
+        f/=_max;
+        dA=(int)floor(f+0.49);
+        
+        f=b*Wwidth;
+        f/=_max;
+        dB=(int)floor(f+0.49);
+        
+        QRectF r(dA,0,dB-dA+1,Wheight-1);
+        
+        painter.setPen(Qt::blue);
+        
+//         painter.drawLine(dA,1,dA,Wheight-MIN_BOTTOM+1);
+//         painter.drawLine(dB,1,dB,Wheight-MIN_BOTTOM+1);
+//         painter.drawLine(dA,Wheight-MIN_BOTTOM+2,dB,Wheight-MIN_BOTTOM+2);
+        painter.drawRect(dA,0,dB-dA+1,Wheight-1);
+        painter.end();
     }
+    paintCount--;
 }
 void ADM_QSlider::setA(uint32_t a)
 {
   _A=a;
-  printf("[QSLIDER] Set A (%u,%u)\n",_A,_max);  
+  zprintf("[QSLIDER] Set A (%u,%u)\n",_A,_max);  
   if(_A>_max)
   {
     printf("[QSLIDER] A out of bound(%u,%u)\n",_A,_max);  
@@ -138,7 +194,7 @@
 void ADM_QSlider::setB(uint32_t a)
 {
     _B=a;
-    printf("[QSLIDER] Set B (%u,%u)\n",_B,_max);  
+    zprintf("[QSLIDER] Set B (%u,%u)\n",_B,_max);  
   if(_B>_max)
   {
     printf("[QSLIDER] B out of bound(%u,%u)\n",_B,_max);  
@@ -150,5 +206,47 @@
   _max=a; 
   repaint();
 }
+QSize ADM_QSlider::sizeHint() const
+{
+  return _slider->sizeHint(); 
+}
+QSize ADM_QSlider::minimumSizeHint() const
+{
+   return _slider->minimumSizeHint(); 
+}
+void ADM_QSlider::resizeEvent ( QResizeEvent * event ) 
+{
+  QSize nw,old;
+  nw=event->size();
+  old=event->oldSize();
+  zprintf("RESIZE %dx%d->%dx%d\n",old.width(),old.height(),nw.width(),nw.height());
+  if(nw.height()>MIN_BOTTOM) nw.setHeight(nw.height()-MIN_BOTTOM);
+  zprintf("RESIZE2 %dx%d->%dx%d\n",old.width(),old.height(),nw.width(),nw.height());
+  _slider->resize(nw);
+  
+}
+void ADM_QSlider::setSizePolicy ( QSizePolicy horizontal )
+{
+    zprintf("PolicySet\n");
+    _slider->setSizePolicy(horizontal);
+}
+QSizePolicy ADM_QSlider::sizePolicy () const
+{
+  return _slider->sizePolicy(); 
+}
+void ADM_QSlider::setMaximumSize ( const QSize &sz )
+{
+    maximumS=sz;
+    _slider->setMaximumSize(sz);
+}
+/*bool ADM_QSlider::event(QEvent *xevent)
+{
+  return  _slider->event(xevent);
+}*/
 
+QSize ADM_QSlider::maximumSize () const
+{
+  return maximumS; 
+}
+
 //EOF 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2007-05-19 08:20:24 UTC (rev 3117)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2007-05-20 11:59:50 UTC (rev 3118)
@@ -773,10 +773,10 @@
          <number>6</number>
         </property>
         <item>
-         <widget class="QSlider" name="horizontalSlider" >
+         <widget class="ADM_QSlider" name="horizontalSlider" >
           <property name="sizePolicy" >
            <sizepolicy>
-            <hsizetype>0</hsizetype>
+            <hsizetype>7</hsizetype>
             <vsizetype>0</vsizetype>
             <horstretch>5</horstretch>
             <verstretch>0</verstretch>
@@ -788,24 +788,17 @@
             <height>16777215</height>
            </size>
           </property>
+          <property name="sizeIncrement" >
+           <size>
+            <width>10</width>
+            <height>0</height>
+           </size>
+          </property>
           <property name="orientation" >
            <enum>Qt::Horizontal</enum>
           </property>
          </widget>
         </item>
-        <item>
-         <spacer>
-          <property name="orientation" >
-           <enum>Qt::Horizontal</enum>
-          </property>
-          <property name="sizeHint" >
-           <size>
-            <width>40</width>
-            <height>20</height>
-           </size>
-          </property>
-         </spacer>
-        </item>
        </layout>
       </item>
      </layout>
@@ -1434,6 +1427,13 @@
    </property>
   </action>
  </widget>
+ <customwidgets>
+  <customwidget>
+   <class>ADM_QSlider</class>
+   <extends>QSlider</extends>
+   <header>ADM_qslider.h</header>
+  </customwidget>
+ </customwidgets>
  <resources>
   <include location="avidemux.qrc" />
  </resources>



From mean at mail.berlios.de  Sun May 20 14:00:39 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 20 May 2007 14:00:39 +0200
Subject: [Avidemux-svn-commit] r3119 - in
	branches/avidemux_2.4_branch/avidemux: ADM_script
	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory
	ADM_userInterfaces/ADM_NONE/ADM_dialogFactory
	ADM_userInterfaces/ADM_QT4/ADM_dialogFactory
	ADM_userInterfaces/ADM_commonUI
Message-ID: <200705201200.l4KC0dxk012362@sheep.berlios.de>

Author: mean
Date: 2007-05-20 14:00:33 +0200 (Sun, 20 May 2007)
New Revision: 3119

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_integer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
Log:
test function for customSlider

Modified: branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp	2007-05-20 11:59:50 UTC (rev 3118)
+++ branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp	2007-05-20 12:00:33 UTC (rev 3119)
@@ -81,6 +81,7 @@
 JSBool facHex(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
 JSBool facDirSel(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
 JSBool facButton(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
+JSBool facSlider(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
 JSBool crashTest(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
 JSBool assertTest(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval);
 
@@ -114,6 +115,7 @@
   {"dialogFactoryFrame",       facFrame,        0},
   {"dialogFactoryHex",       facHex,        0},
   {"dialogFactoryButton",       facButton,        0},
+  {"dialogFactorySlider",       facSlider,        0},
   {"crashTest",               crashTest,        0},
   {"assertTest",               assertTest,        0},
   {0}
@@ -663,6 +665,21 @@
   
   return JS_TRUE;
 }
+JSBool facSlider(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval)
+{
+  uint32_t val=4;
+      diaElemSlider slide(&val,"foo", 0,10);
+      
+      diaElem *elems[]={&slide   };
+  if(diaFactoryRun("Test Slider",1,elems))
+  {
+    *rval = BOOLEAN_TO_JSVAL(1);
+    
+  }else
+    *rval = BOOLEAN_TO_JSVAL(0);
+  
+  return JS_TRUE;
+}
 JSBool facRoText(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval)
 {
     

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp	2007-05-20 11:59:50 UTC (rev 3118)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp	2007-05-20 12:00:33 UTC (rev 3119)
@@ -171,5 +171,26 @@
   gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);
 }
 
+//****************************************************
+diaElemSlider::diaElemSlider(uint32_t *value,const char *toggleTitle, uint32_t min,uint32_t max,const char *tip)
+  : diaElem(ELEM_SLIDER)
+{
+ }
+ 
 
+diaElemSlider::~diaElemSlider()
+{
+}
+void diaElemSlider::setMe(void *dialog, void *opaque,uint32_t line)
+{
+}
+void diaElemSlider::getMe(void)
+{
+
+}
+
+void diaElemSlider::enable(uint32_t onoff) 
+{
+}
+
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp	2007-05-20 11:59:50 UTC (rev 3118)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp	2007-05-20 12:00:33 UTC (rev 3119)
@@ -391,4 +391,26 @@
 {
 
 }
+//***
+diaElemSlider::diaElemSlider(uint32_t *value,const char *toggleTitle, uint32_t min,uint32_t max,const char *tip)
+  : diaElem(ELEM_SLIDER)
+{
+ }
+ 
+
+diaElemSlider::~diaElemSlider()
+{
+}
+void diaElemSlider::setMe(void *dialog, void *opaque,uint32_t line)
+{
+}
+void diaElemSlider::getMe(void)
+{
+
+}
+
+void diaElemSlider::enable(uint32_t onoff) 
+{
+}
+
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_integer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_integer.cpp	2007-05-20 11:59:50 UTC (rev 3118)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_integer.cpp	2007-05-20 12:00:33 UTC (rev 3119)
@@ -25,6 +25,7 @@
 #include <QSpinBox>
 #include <QGridLayout>
 #include <QLabel>
+#include <QSlider>
 
 #include "default.h"
 #include "ADM_commonUI/DIA_factory.h"
@@ -142,4 +143,88 @@
   else
     box->setDisabled(1);
 }
+//********************************************
+#if 0
+class diaElemSlider : public diaElem
+{
+  protected:
+    
+    uint32_t _min,_max;
+public:
+            diaElemSlider(uint32_t *value,const char *toggleTitle, uint32_t min,uint32_t max,const char *tip=NULL);
+  virtual   ~diaElemSlider() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
+  void      enable(uint32_t onoff) ;
+};
+#endif
+#include "../ADM_gui/ADM_qslider.h"
+
+#define ADM_TEST_ADM_SLIDER
+#ifdef ADM_TEST_ADM_SLIDER
+#define MYSLIDERTYPE  ADM_QSlider
+#else
+#define MYSLIDERTYPE  QSlider
+#endif
+             
+diaElemSlider::diaElemSlider(uint32_t *value,const char *toggleTitle, uint32_t min,uint32_t max,const char *tip)
+  : diaElem(ELEM_SLIDER)
+{
+  param=(void *)value;
+  paramTitle=shortkey(toggleTitle);
+  this->_min=min;
+  this->_max=max;
+  this->tip=tip;
+  
+ }
+ 
+
+diaElemSlider::~diaElemSlider()
+{ 
+  if(paramTitle)
+    delete paramTitle;
+}
+void diaElemSlider::setMe(void *dialog, void *opaque,uint32_t line)
+{
+  MYSLIDERTYPE *box=new MYSLIDERTYPE((QWidget *)dialog);
+  box->setOrientation ( Qt::Horizontal );
+  
+  QGridLayout *layout=(QGridLayout*) opaque;
+ myWidget=(void *)box; 
+   
+ box->setMinimum(_min);
+ box->setMaximum(_max);
+ box->setValue(*(uint32_t *)param);
+#ifdef ADM_TEST_ADM_SLIDER
+  box->setNbFrames(_max); 
+  box->setA(_max/3);
+  box->setB((_max*2)/3);
+#endif
+ box->show();
+ 
+ QLabel *text=new QLabel( this->paramTitle,(QWidget *)dialog);
+ text->setBuddy(box);
+ layout->addWidget(text,line,0);
+ layout->addWidget(box,line,1);
+}
+void diaElemSlider::getMe(void)
+{
+  uint32_t val;
+ MYSLIDERTYPE *box=(MYSLIDERTYPE *)myWidget;
+ val=box->value();
+ if(val<_min) val=_min;
+ if(val>_max) val=_max;
+ *(uint32_t *)param=val;
+}
+
+void diaElemSlider::enable(uint32_t onoff) 
+{
+  MYSLIDERTYPE *box=(MYSLIDERTYPE *)myWidget;
+  ADM_assert(box);
+  if(onoff)
+    box->setEnabled(1);
+  else
+    box->setDisabled(1);
+}
 //EOF
+

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-05-20 11:59:50 UTC (rev 3118)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-05-20 12:00:33 UTC (rev 3119)
@@ -37,6 +37,7 @@
   ELEM_TOGGLE_UINT,
   ELEM_TOGGLE_INT,
   ELEM_BUTTON,
+  ELEM_SLIDER,
   ELEM_MAX=ELEM_TOGGLE
 };
 typedef void ADM_FAC_CALLBACK(void *cookie);
@@ -88,6 +89,19 @@
   void      getMe(void);
   void      enable(uint32_t onoff) ;
 };
+/************************************/
+class diaElemSlider : public diaElem
+{
+  protected:
+    
+    uint32_t _min,_max;
+public:
+            diaElemSlider(uint32_t *value,const char *toggleTitle, uint32_t min,uint32_t max,const char *tip=NULL);
+  virtual   ~diaElemSlider() ;
+  void      setMe(void *dialog, void *opaque,uint32_t line);
+  void      getMe(void);
+  void      enable(uint32_t onoff) ;
+};
 /*********************************************/
 class diaElemToggle : public diaElem
 {



From mean at mail.berlios.de  Sun May 20 16:40:19 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 20 May 2007 16:40:19 +0200
Subject: [Avidemux-svn-commit] r3120 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui
Message-ID: <200705201440.l4KEeJil023400@sheep.berlios.de>

Author: mean
Date: 2007-05-20 16:40:18 +0200 (Sun, 20 May 2007)
New Revision: 3120

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_qslider.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
Log:
cosmetic

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2007-05-20 12:00:33 UTC (rev 3119)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2007-05-20 14:40:18 UTC (rev 3120)
@@ -174,7 +174,7 @@
      // Slider
           slider=ui.horizontalSlider;
           slider->setMinimum(0);
-          slider->setMaximum(100);
+          slider->setMaximum(1000);
           connect( slider,SIGNAL(valueChanged(int)),this,SLOT(sliderMoved(int)));
           //connect( slider,SIGNAL(sliderMoved()),this,SLOT(sliderMoved()));
   
@@ -386,6 +386,7 @@
   double v;
   if(!slider) v=0;
   v= (double)(slider->value());
+  v/=10;
   printf("GetScale\n");
   return v;
 }
@@ -393,7 +394,7 @@
 {
 if(_upd_in_progres) return;
  _upd_in_progres++;
-   slider->setValue( (int)val);
+   slider->setValue( (int)val*10);
  _upd_in_progres--;
    
 }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_qslider.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_qslider.cpp	2007-05-20 12:00:33 UTC (rev 3119)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_qslider.cpp	2007-05-20 14:40:18 UTC (rev 3120)
@@ -124,6 +124,10 @@
   _max=_A=_B=0;
   paintCount=0;
   _slider=new QSlider(this);
+  _slider->setTickInterval(1);
+  _slider->setSingleStep(1);
+
+  
   _slider->show();
   connect( _slider,SIGNAL(valueChanged(int)),this,SLOT(sliderMoved(int)));
   
@@ -145,7 +149,7 @@
     zprintf("[*********************************PAINT************************]\n");
     paintCount++;
     //_slider->repaint();
-    if(_A && _B && _max)
+    if( _max)
     {
       if(_A>_B)
       {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2007-05-20 12:00:33 UTC (rev 3119)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2007-05-20 14:40:18 UTC (rev 3120)
@@ -879,17 +879,6 @@
     <addaction name="actionZoom_2_1" />
     <addaction name="actionZoom_4_1" />
    </widget>
-   <widget class="QMenu" name="menuAudio" >
-    <property name="title" >
-     <string>Audio</string>
-    </property>
-    <addaction name="actionMain_Track" />
-    <addaction name="actionSecondary_Track" />
-    <addaction name="actionBuild_VBR_time_map" />
-    <addaction name="actionSave_2" />
-    <addaction name="actionEncoder_2" />
-    <addaction name="actionFilters_2" />
-   </widget>
    <widget class="QMenu" name="menuTools" >
     <property name="title" >
      <string>Tools</string>
@@ -933,20 +922,6 @@
     <addaction name="actionShow_built_in_support" />
     <addaction name="actionAbout_avidemux" />
    </widget>
-   <widget class="QMenu" name="menuVideo" >
-    <property name="title" >
-     <string>Video</string>
-    </property>
-    <addaction name="actionDecoder_options" />
-    <addaction name="actionPostprocessing" />
-    <addaction name="separator" />
-    <addaction name="actionPreview" />
-    <addaction name="actionDisplay_output" />
-    <addaction name="separator" />
-    <addaction name="actionFilters" />
-    <addaction name="actionFrame_rate" />
-    <addaction name="actionEncoder" />
-   </widget>
    <widget class="QMenu" name="menuFile" >
     <property name="title" >
      <string>File</string>
@@ -991,6 +966,27 @@
     <addaction name="actionPSP" />
     <addaction name="actionPSP_H264" />
    </widget>
+   <widget class="QMenu" name="menuVideo" >
+    <property name="title" >
+     <string>Video</string>
+    </property>
+    <addaction name="actionDecoder_options" />
+    <addaction name="actionPostprocessing" />
+    <addaction name="separator" />
+    <addaction name="separator" />
+    <addaction name="actionFilters" />
+    <addaction name="actionFrame_rate" />
+   </widget>
+   <widget class="QMenu" name="menuAudio" >
+    <property name="title" >
+     <string>Audio</string>
+    </property>
+    <addaction name="actionMain_Track" />
+    <addaction name="actionSecondary_Track" />
+    <addaction name="actionBuild_VBR_time_map" />
+    <addaction name="actionSave_2" />
+    <addaction name="actionFilters_2" />
+   </widget>
    <addaction name="menuFile" />
    <addaction name="menuEdit" />
    <addaction name="menuView" />



From mean at mail.berlios.de  Mon May 21 10:00:44 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 21 May 2007 10:00:44 +0200
Subject: [Avidemux-svn-commit] r3121 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk
Message-ID: <200705210800.l4L80i3F003604@sheep.berlios.de>

Author: mean
Date: 2007-05-21 10:00:43 +0200 (Mon, 21 May 2007)
New Revision: 3121

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/gtkmarkscale.c
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/gtkmarkscale.h
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/Makefile.am
Log:
custom widget from JM

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/Makefile.am	2007-05-20 14:40:18 UTC (rev 3120)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/Makefile.am	2007-05-21 08:00:43 UTC (rev 3121)
@@ -9,7 +9,7 @@
 libADM_toolkit_gtk_a_METASOURCES = AUTO
 
 libADM_toolkit_gtk_a_SOURCES = ADM_gladeSupport.cpp  ADM_tray_gtk.cpp  choice.cpp  TLK_filesel.cpp  toolkit.cpp  toolkit_dialog.cpp \
-					eggtrayicon.c eggtray_win32.c 
+					eggtrayicon.c eggtray_win32.c gtkmarkscale.c
 
 
 EXTRA_DIST = 

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/gtkmarkscale.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/gtkmarkscale.c	2007-05-20 14:40:18 UTC (rev 3120)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/gtkmarkscale.c	2007-05-21 08:00:43 UTC (rev 3121)
@@ -0,0 +1,165 @@
+#include "gtkmarkscale.h"
+
+static GtkWidgetClass *parent_class = NULL;
+
+static gboolean gtk_markscale_expose (GtkWidget *widget, GdkEventExpose *event);
+
+static void gtk_markscale_realize (GtkWidget *widget);
+
+G_DEFINE_TYPE (GtkMarkScale, gtk_markscale, GTK_TYPE_SCALE)
+
+
+uint32_t markA;
+uint32_t markB;
+uint32_t nbFrames;
+
+static void
+gtk_markscale_class_init (GtkMarkScaleClass *class)
+{
+  GtkWidgetClass *widget_class;
+  GtkRangeClass *range_class;
+  GtkScaleClass *scale_class;
+  parent_class = g_type_class_peek_parent(class);
+  widget_class = GTK_WIDGET_CLASS (class);
+  range_class = GTK_RANGE_CLASS (class);
+  scale_class = GTK_SCALE_CLASS (class);
+  
+  range_class->slider_detail = "hscale";
+  
+  widget_class->expose_event = gtk_markscale_expose;
+  widget_class->realize = gtk_markscale_realize;
+}
+
+static void
+gtk_markscale_init (GtkMarkScale *markscale)
+{
+  GtkRange *range;
+
+  range = GTK_RANGE (markscale);
+
+  range->orientation = GTK_ORIENTATION_HORIZONTAL;
+  range->flippable = TRUE;
+  markA = 0;
+  markB = 0;
+  nbFrames = 0;
+}
+
+void gtk_markscale_setA(GtkWidget *widget, uint32_t a)
+{
+	markA = a;
+}
+
+void gtk_markscale_setB(GtkWidget *widget, uint32_t b)
+{
+	markB = b;
+	GdkRectangle rect;
+	rect.x = widget->allocation.x;
+	rect.y = widget->allocation.y;
+	rect.width = widget->allocation.width;
+	rect.height = widget->allocation.height;
+	gdk_window_invalidate_rect(widget->window, &rect, FALSE);
+}
+
+void gtk_markscale_setNbFrames(GtkWidget *widget, uint32_t total)
+{
+	nbFrames = total;
+}
+
+GtkWidget*
+gtk_markscale_new (GtkAdjustment *adjustment)
+{
+  return g_object_new (GTK_TYPE_MARKSCALE, "adjustment", adjustment, NULL);
+}
+
+static void gtk_markscale_realize (GtkWidget *widget)
+{
+	parent_class->realize(widget);
+	gtk_widget_set_size_request(widget, widget->allocation.width, widget->allocation.height+10);
+}
+
+static gboolean
+gtk_markscale_expose (GtkWidget      *widget,
+                   GdkEventExpose *event)
+{
+  GtkScale *scale;
+  
+  scale = GTK_SCALE (widget);
+
+  if (GTK_WIDGET_CLASS (gtk_markscale_parent_class)->expose_event)
+    GTK_WIDGET_CLASS (gtk_markscale_parent_class)->expose_event (widget, event);
+
+      gint x, y;
+      GtkStateType state_type;
+      state_type = GTK_STATE_NORMAL;
+      if (!GTK_WIDGET_IS_SENSITIVE (scale))
+        state_type = GTK_STATE_INSENSITIVE;
+	
+	if (nbFrames>1)
+	{
+		GdkGC *gc = gdk_gc_new(widget->window);
+	
+		int width = widget->allocation.width;
+		int start = widget->allocation.x + (int)floor(markA*(width/(float)nbFrames));
+		int end =  widget->allocation.x + (int)floor(markB*(width/(float)nbFrames));
+		int top = widget->allocation.y + 1;
+		int bottom = widget->allocation.y + widget->allocation.height - 1;
+		
+	//mark A:
+		gdk_draw_line (widget->window,
+					   gc,
+					   start,
+					   top,
+					   start+4,
+					   top);
+		gdk_draw_line (widget->window,
+					   gc,
+					   start,
+					   top,
+					   start,
+					   top+4);
+	
+		gdk_draw_line (widget->window,
+					   gc,
+					   start,
+					   bottom,
+					   start+4,
+					   bottom);
+		gdk_draw_line (widget->window,
+					   gc,
+					   start,
+					   bottom - 4,
+					   start,
+					   bottom);
+	
+	//mark B:
+		gdk_draw_line (widget->window,
+					   gc,
+					   end,
+					   top,
+					   end-4,
+					   top);
+		gdk_draw_line (widget->window,
+					   gc,
+					   end,
+					   top,
+					   end,
+					   top+4);
+	
+		gdk_draw_line (widget->window,
+					   gc,
+					   end,
+					   bottom,
+					   end-4,
+					   bottom);
+		gdk_draw_line (widget->window,
+					   gc,
+					   end,
+					   bottom-4,
+					   end,
+					   bottom);
+	}
+  return FALSE;
+}
+
+
+#define __GTK_MARKSCALE_C__

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/gtkmarkscale.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/gtkmarkscale.h	2007-05-20 14:40:18 UTC (rev 3120)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/gtkmarkscale.h	2007-05-21 08:00:43 UTC (rev 3121)
@@ -0,0 +1,45 @@
+#ifndef __GTK_MARKSCALE_H__
+#define __GTK_MARKSCALE_H__
+
+
+#include <gdk/gdk.h>
+#include <gtk/gtkscale.h>
+#include <stdint.h>
+
+G_BEGIN_DECLS
+
+#define GTK_TYPE_MARKSCALE            (gtk_markscale_get_type ())
+#define GTK_MARKSCALE(obj)            (G_TYPE_CHECK_INSTANCE_CAST ((obj), GTK_TYPE_MARKSCALE, GtkMarkScale))
+#define GTK_MARKSCALE_CLASS(klass)    (G_TYPE_CHECK_CLASS_CAST ((klass), GTK_TYPE_MARKSCALE, GtkMarkScaleClass))
+#define GTK_IS_MARKSCALE(obj)         (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GTK_TYPE_MARKSCALE))
+#define GTK_IS_MARKSCALE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GTK_TYPE_MARKSCALE))
+#define GTK_MARKSCALE_GET_CLASS(obj)  (G_TYPE_INSTANCE_GET_CLASS ((obj), GTK_TYPE_MARKSCALE, GtkMarkScaleClass))
+
+
+typedef struct _GtkMarkScale       GtkMarkScale;
+typedef struct _GtkMarkScaleClass  GtkMarkScaleClass;
+
+struct _GtkMarkScale
+{
+  GtkScale scale;
+};
+
+struct _GtkMarkScaleClass
+{
+  GtkScaleClass parent_class;
+};
+
+
+GType      gtk_markscale_get_type       (void) G_GNUC_CONST;
+GtkWidget* gtk_markscale_new            (GtkAdjustment *adjustment);
+GtkWidget* gtk_markscale_new_with_range (gdouble        min,
+                                      gdouble        max,
+                                      gdouble        step);
+
+void gtk_markscale_setA(GtkWidget *widget, uint32_t a);
+void gtk_markscale_setB(GtkWidget *widget, uint32_t b);
+void gtk_markscale_setNbFrames(GtkWidget *widget, uint32_t total);
+
+G_END_DECLS
+
+#endif /* __GTK_MARKSCALE_H__ */



From mean at mail.berlios.de  Mon May 21 10:14:02 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 21 May 2007 10:14:02 +0200
Subject: [Avidemux-svn-commit] r3122 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2
Message-ID: <200705210814.l4L8E21H004378@sheep.berlios.de>

Author: mean
Date: 2007-05-21 10:14:01 +0200 (Mon, 21 May 2007)
New Revision: 3122

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/patch.bash
Log:
jm new widget

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp	2007-05-21 08:00:43 UTC (rev 3121)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp	2007-05-21 08:14:01 UTC (rev 3122)
@@ -47,6 +47,7 @@
 #include "../ADM_osSupport/ADM_misc.h"
 #include "../ADM_editor/ADM_outputfmt.h"
 #include "../prefs.h"
+#include "../ADM_toolkit_gtk/gtkmarkscale.h"
 
 uint8_t UI_getPhysicalScreenSize(uint32_t *w,uint32_t *h,void *r);
 
@@ -661,7 +662,7 @@
  	frame2time(total,fps, &hh, &mm, &ss, &ms);
   	sprintf(text, "%02d:%02d:%02d.%03d", hh, mm, ss, ms);
      	gtk_label_set_text((GtkLabel *) guiTotalTime, text);     
-     
+		gtk_markscale_setNbFrames(guiSlider, total);
 
 }
 ///
@@ -728,6 +729,8 @@
         	gtk_label_set_text(GTK_LABEL(guiMarkA),string);
 		sprintf(string," %06lu",b);
         	gtk_label_set_text(GTK_LABEL(guiMarkB),string);
+			gtk_markscale_setA(guiSlider, a);
+			gtk_markscale_setB(guiSlider, b);
 }
 
 /**

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp	2007-05-21 08:00:43 UTC (rev 3121)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp	2007-05-21 08:14:01 UTC (rev 3122)
@@ -12,12 +12,12 @@
 #include <string.h>
 #include <stdio.h>
 
-#include "../ADM_toolkit_gtk/ADM_gladeSupport.h"
-
 #include <gdk/gdkkeysyms.h>
 #include <gtk/gtk.h>
 
+#include "../ADM_toolkit_gtk/ADM_gladeSupport.h"
 
+#include "../ADM_toolkit_gtk/gtkmarkscale.h"
 
 #define GLADE_HOOKUP_OBJECT(component,widget,name) \
   g_object_set_data_full (G_OBJECT (component), name, \
@@ -340,7 +340,7 @@
   gtk_widget_show (save_jpg_image1);
   gtk_container_add (GTK_CONTAINER (save_stuff_menu), save_jpg_image1);
 
-  save_selection_as_jpegs1 = gtk_menu_item_new_with_mnemonic (_("Save _Selection as JPEG Images..."));
+  save_selection_as_jpegs1 = gtk_menu_item_new_with_mnemonic (_("Save _Selection as JPEG images..."));
   gtk_widget_show (save_selection_as_jpegs1);
   gtk_container_add (GTK_CONTAINER (save_stuff_menu), save_selection_as_jpegs1);
 
@@ -393,7 +393,7 @@
   gtk_container_add (GTK_CONTAINER (menuitem1_menu), separator16);
   gtk_widget_set_sensitive (separator16, FALSE);
 
-  connect_to_avsproxy1 = gtk_menu_item_new_with_mnemonic (_("Co_nnect to avsproxy"));
+  connect_to_avsproxy1 = gtk_menu_item_new_with_mnemonic (_("Connect to avsproxy"));
   gtk_widget_show (connect_to_avsproxy1);
   gtk_container_add (GTK_CONTAINER (menuitem1_menu), connect_to_avsproxy1);
 
@@ -753,7 +753,7 @@
   gtk_container_add (GTK_CONTAINER (tools1_menu), separator17);
   gtk_widget_set_sensitive (separator17, FALSE);
 
-  see_hex1 = gtk_menu_item_new_with_mnemonic (_("_Frame Hex Dump"));
+  see_hex1 = gtk_menu_item_new_with_mnemonic (_("See Hex"));
   gtk_widget_show (see_hex1);
   gtk_container_add (GTK_CONTAINER (tools1_menu), see_hex1);
 
@@ -776,11 +776,11 @@
   gtk_widget_show (dvd1);
   gtk_container_add (GTK_CONTAINER (help1_menu), dvd1);
 
-  psp1 = gtk_menu_item_new_with_mnemonic (_("_PSP"));
+  psp1 = gtk_menu_item_new_with_mnemonic (_("PSP"));
   gtk_widget_show (psp1);
   gtk_container_add (GTK_CONTAINER (help1_menu), psp1);
 
-  psp__h264_1 = gtk_menu_item_new_with_mnemonic (_("PSP (_H.264)"));
+  psp__h264_1 = gtk_menu_item_new_with_mnemonic (_("PSP (H264)"));
   gtk_widget_show (psp__h264_1);
   gtk_container_add (GTK_CONTAINER (help1_menu), psp__h264_1);
 
@@ -922,7 +922,7 @@
   gtk_widget_show (image8120);
   gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (jump_to_time1), image8120);
 
-  custom1 = gtk_menu_item_new_with_mnemonic (_("_Custom"));
+  custom1 = gtk_menu_item_new_with_mnemonic (_("Custom"));
   gtk_widget_show (custom1);
   gtk_container_add (GTK_CONTAINER (menuBar), custom1);
 
@@ -933,10 +933,6 @@
   help2_menu = gtk_menu_new ();
   gtk_menu_item_set_submenu (GTK_MENU_ITEM (help2), help2_menu);
 
-  show_builtin_support1 = gtk_menu_item_new_with_mnemonic (_("_Built-in Support"));
-  gtk_widget_show (show_builtin_support1);
-  gtk_container_add (GTK_CONTAINER (help2_menu), show_builtin_support1);
-  
   about1 = gtk_image_menu_item_new_with_mnemonic (_("_About"));
   gtk_widget_show (about1);
   gtk_container_add (GTK_CONTAINER (help2_menu), about1);
@@ -945,6 +941,10 @@
   gtk_widget_show (image8121);
   gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (about1), image8121);
 
+  show_builtin_support1 = gtk_menu_item_new_with_mnemonic (_("Show builtin support"));
+  gtk_widget_show (show_builtin_support1);
+  gtk_container_add (GTK_CONTAINER (help2_menu), show_builtin_support1);
+
   toolbar2 = gtk_toolbar_new ();
   gtk_widget_show (toolbar2);
   gtk_box_pack_start (GTK_BOX (vbox1), toolbar2, FALSE, FALSE, 0);
@@ -1368,8 +1368,8 @@
   gtk_widget_show (image2245);
   gtk_container_add (GTK_CONTAINER (buttonEnd), image2245);
 
-  sliderNavigate = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 99.99, 0.01, 1, 0)));
-  gtk_widget_show (sliderNavigate);
+  sliderNavigate = gtk_markscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 99.99, 0.01, 1, 0)));
+  gtk_widget_show (sliderNavigate);gtk_scale_set_draw_value (GTK_SCALE (sliderNavigate), FALSE);
   gtk_table_attach (GTK_TABLE (table2), sliderNavigate, 0, 1, 0, 1,
                     (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                     (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/patch.bash
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/patch.bash	2007-05-21 08:00:43 UTC (rev 3121)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/patch.bash	2007-05-21 08:14:01 UTC (rev 3122)
@@ -1,4 +1,14 @@
-cat GUI_main2.cpp | sed 's/, 0,$/, (GdkModifierType) 0,/g' | sed 's/-2/-1/g' | sed 's/GtkAccelGroup \*/extern GtkAccelGroup */' | sed 's/(GdkModifierType)/(GdkModifierType)(/g' | sed 's/MASK,$/MASK\),/g' |sed 's/( 0,$/( 0 ),/g' \
+cat GUI_main2.cpp | sed 's/, 0,$/, (GdkModifierType) 0,/g' | sed 's/-2/-1/g' | sed 's/GtkAccelGroup \*/extern GtkAccelGroup */' | sed 's/(GdkModifierType)/(GdkModifierType)(/g' | sed 's/MASK,$/MASK\),/g' |sed 's/( 0,$/( 0 ),/g' | \
+sed 's/sliderNavigate = gtk_hscale_new/sliderNavigate = gtk_markscale_new/' | \
+sed 's/gtk_widget_show (sliderNavigate);/gtk_widget_show (sliderNavigate);gtk_scale_set_draw_value (GTK_SCALE (sliderNavigate), FALSE);/' |\
+sed 's/#include "interface.h"//' |\
+sed 's/#include "support.h"/#include "..\/ADM_toolkit_gtk\/gtkmarkscale.h"/' |\
+sed 's/#include "callbacks.h"/#include "..\/ADM_toolkit_gtk\/ADM_gladeSupport.h"/' \
 > GUI_main2.p
 cp GUI_main2.cpp GUI_main2.tmp
 cp GUI_main2.p GUI_main2.cpp
+#sed 's/#include "interface.h"//' |\
+#include "../ADM_toolkit_gtk/ADM_gladeSupport.h"/' |\
+#sed 's/#include "support.h"//'\
+#sed 's/#include "callbacks.h"/#include "../ADM_toolkit_gtk/ADM_gladeSupport.h"/' |\
+



From mean at mail.berlios.de  Mon May 21 11:42:08 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 21 May 2007 11:42:08 +0200
Subject: [Avidemux-svn-commit] r3123 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK/ADM_dialogFactory ADM_QT4/ADM_dialog
	ADM_QT4/ADM_dialogFactory ADM_commonUI
Message-ID: <200705210942.l4L9g89U013848@sheep.berlios.de>

Author: mean
Date: 2007-05-21 11:42:07 +0200 (Mon, 21 May 2007)
New Revision: 3123

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
Log:
minimal dialogFactory x264 dialog for QT

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp	2007-05-21 08:14:01 UTC (rev 3122)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp	2007-05-21 09:42:07 UTC (rev 3123)
@@ -38,8 +38,12 @@
   paramTitle=toggleTitle;
   this->tip=tip;
   setSize(2);
+  maxQ=31;
 }
-
+void diaElemBitrate::setMaxQz(uint32_t qz)
+{
+  maxQ=qz; 
+}
 diaElemBitrate::~diaElemBitrate()
 {
   GtkWidget *w=(GtkWidget *)myWidget;
@@ -212,7 +216,7 @@
           break; 
     case 1:// CQ
           P(_Quantizer:);
-          M(2,31);
+          M(2,maxQ);
           S(copy.qz);
           break;
     case 2 : // 2pass Filesize

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-21 08:14:01 UTC (rev 3122)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-21 09:42:07 UTC (rev 3123)
@@ -84,7 +84,7 @@
 uint8_t DIA_getMPdelogo(MPDELOGO_PARAM *param,AVDMGenericVideoStream *in){return 0;}
 //uint8_t DIA_getPartial(PARTIAL_CONFIG *param,AVDMGenericVideoStream *son,AVDMGenericVideoStream *previous){return 0;}
 uint8_t DIA_vobsub(vobSubParam *param){return 0;}
-uint8_t DIA_x264(COMPRES_PARAMS *config){return 0;}
+//uint8_t DIA_x264(COMPRES_PARAMS *config){return 0;}
 uint8_t DIA_job(uint32_t nb,char **name){return 0;}
 uint8_t DIA_videoCodec (SelectCodecType * codec){return 0;}
 uint8_t DIA_audioCodec( AUDIOENCODER *codec ) {return 0;}

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp (from rev 3098, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp	2007-05-15 15:15:31 UTC (rev 3098)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp	2007-05-21 09:42:07 UTC (rev 3123)
@@ -0,0 +1,160 @@
+
+// Author: mean <fixounet at free.fr>, (C) 2007
+//
+// Copyright: See COPYING file that comes with this distribution
+//
+//
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include <ADM_assert.h>
+#include <math.h>
+#include <math.h>
+#include <iconv.h>
+#include "config.h"
+
+
+#include "fourcc.h"
+#include "avio.hxx"
+
+#include "avi_vars.h"
+
+#include "ADM_toolkit/toolkit.hxx"
+
+#include "ADM_userInterfaces/ADM_commonUI/DIA_factory.h"
+#include "ADM_assert.h" 
+
+#include "ADM_encoder/ADM_vidEncode.hxx"
+
+#include "ADM_codecs/ADM_x264param.h"
+/**
+      \fn DIA_x264
+      \brief Dialog for x264 codec settings
+*/
+uint8_t DIA_x264(COMPRES_PARAMS *config)
+{
+int b;
+int ret=0;
+int code;
+      ADM_x264Param localParam;
+      ADM_assert(config->extraSettingsLen==sizeof(localParam));
+      memcpy(&localParam,config->extraSettings,sizeof(localParam));
+#define PX(x) &(localParam.x)
+         
+      
+      // Our tabs
+         /* Tab 1 main */
+           diaElemBitrate bitrate(config,NULL);
+           bitrate.setMaxQz(51);
+           diaElem *main[]={&bitrate};
+           diaElemTabs tabMain("Main",1,main);
+
+           
+        /* Tab 2 Motion */
+
+
+         diaMenuEntry partitionM[] = {
+                  {0,   _("1  - Extremely Low (Fastest)")}
+                ,{1,    _("2  - Very Low")}
+                ,{3,    _("3  - Low")}
+                ,{4,    _("4  - Medium")}
+                ,{5,    _("5  - High (Default)")}
+                ,{6,    _("6  - Very High")}
+                ,{7,    _("6B - Very High (RDO on Bframes)")}
+                ,{8,    _("7 - Ultra High")}
+                ,{9,    _("7B - Ultra High (RDO on Bframes)")}};
+
+                            
+        diaElemMenu parition(PX(PartitionDecision),_("Partition Decision"),10,partitionM);
+        
+         diaMenuEntry meM[] = {
+                             {0,    _("Diamond search")},
+                             {1,    _("Hexagonal search")},
+                             {2,    _("Uneven multi hexagon")},
+                             {3,    _("Exhaustive search")}}
+                             ;
+         diaElemMenu      me(PX(Method),_("VHQ Mode"),4,meM);
+         diaElemUInteger  rframe(PX(MaxRefFrames),_("Max Ref Frames"),0,15);
+         diaElemUInteger  range(PX(Range),_("Max B Frames"),0,64);
+         diaElemToggle    chromaMe(PX(ChromaME),_("Chroma ME"));
+         diaElemToggle    mixedRef(PX(MixedRefs),_("Mixed Refs"));
+         diaElemToggle    fastPSkip(PX(fastPSkip),_("Fast P Skip"));
+         diaElemToggle    dctDecimate(PX(DCTDecimate),_("DCT Decimate"));
+         diaElemToggle    interlaced(PX(interlaced),_("Interlaced"));
+         
+         diaElemFrame  frameMe(_("Motion Estimation"));
+         frameMe.swallow(&parition);
+         frameMe.swallow(&me);
+         frameMe.swallow(&rframe);
+         frameMe.swallow(&range);
+         frameMe.swallow(&chromaMe);
+         frameMe.swallow(&mixedRef);
+         frameMe.swallow(&fastPSkip);
+         frameMe.swallow(&dctDecimate);
+         frameMe.swallow(&interlaced);
+         
+           diaElem *motions[]={&frameMe};
+          diaElemTabs tabMotion("Motion",1,motions);
+         
+         
+        /* Tab3-Misc  */
+           diaMenuEntry trellisM[] = {
+                  {0,   _("Disabled")}
+                ,{1,    _("Low")}
+                ,{2,    _("High")}};
+           
+          diaElemMenu trellis(PX(Trellis),_("Trellis"),3,trellisM);
+          diaElemToggle    cabac(PX(CABAC),_("CABAC"));
+          diaElemUInteger  noise(PX(NoiseReduction),_("Noise Reduction"),0,255);
+          diaElemToggle    deblock(PX(DeblockingFilter),_("Deblocking Filter"));
+          diaElemInteger  deblockStrength(PX(Strength),_("Strength"),-6,6);
+          diaElemInteger  deblockThreshold(PX(Threshold),_("Threshold"),-6,6);
+          deblock.link(1,&deblockStrength);
+          deblock.link(1,&deblockThreshold);
+          
+          
+          diaElemFrame  frameMisc(_("Misc"));
+          frameMisc.swallow(&trellis);
+          frameMisc.swallow(&cabac);
+          frameMisc.swallow(&noise);
+          frameMisc.swallow(&deblock);
+          frameMisc.swallow(&deblockStrength);
+          frameMisc.swallow(&deblockThreshold);
+            
+           diaElem *misc[]={&frameMisc};
+          diaElemTabs tabMisc("Misc",1,misc);
+        /* Tab 4 Partition & frame*/
+         
+             diaElemToggle    _8x8(PX(_8x8),_("8x8 Transform"));
+             diaElemToggle    _8x8P(PX(_8x8P),_("8x8P Transform"));
+             diaElemToggle    _8x8B(PX(_8x8B),_("8x8B Transform"));
+             diaElemToggle    _4x4(PX(_4x4),_("_4x4 Transform"));
+             diaElemToggle    _8x8I(PX(_8x8I),_("_8x8I Transform"));
+             diaElemToggle    _4x4I(PX(_4x4I),_("_4x4I Transform"));
+          diaElemFrame  frameTransform(_("Transform"));
+           frameTransform.swallow(&_8x8);
+           frameTransform.swallow(&_8x8P);
+           frameTransform.swallow(&_8x8B);
+           frameTransform.swallow(&_4x4);
+           frameTransform.swallow(&_8x8I);
+           frameTransform.swallow(&_4x4I);
+          
+           diaElemUInteger  bframe(PX(MaxBFrame),_("Max B Frames"),0,3);
+           diaElemFrame frameB(_("B Frames"));
+           frameB.swallow(&bframe);
+           
+            diaElem *bfr[]={&frameTransform,&frameB};
+          diaElemTabs tabTransform(_("Transform"),2,bfr);
+           
+          /* End of tabs */
+        diaElemTabs *tabs[4]={&tabMain,&tabMotion,&tabMisc,&tabTransform};
+        if( diaFactoryRunTabs(_("X264 Configuration"),4,tabs))
+	{
+           memcpy(config->extraSettings,&localParam,sizeof(localParam));
+           return 1;
+        }
+         return 0;
+}
+
+// EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-21 08:14:01 UTC (rev 3122)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-21 09:42:07 UTC (rev 3123)
@@ -5,7 +5,7 @@
 AQ_crop.cpp AT_QCanvas.cpp \
 AQ_asharp.cpp AQ_chromashift.cpp \
 AQ_contrast.cpp AQ_hue.cpp \
-AT_index_pg.cpp
+AT_index_pg.cpp DIA_x264.cpp
 
 INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \
 		-I../../../ADM_libraries/ADM_utilities \

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp	2007-05-21 08:14:01 UTC (rev 3122)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp	2007-05-21 09:42:07 UTC (rev 3123)
@@ -49,19 +49,22 @@
         QLabel          *text1;
         QLabel          *text2;
         COMPRES_PARAMS  *compress;
-        
-        ADM_Qbitrate(QWidget *z,COMPRES_PARAMS *p,QGridLayout *layout,int line) : QWidget(z) 
+        uint32_t        maxQ;
+        ADM_Qbitrate(QWidget *z,COMPRES_PARAMS *p,uint32_t mq,QGridLayout *layout,int line) : QWidget(z) 
         {
           
            compress=p;
            combo=new QComboBox(z);
-           
+           maxQ=mq;
 #define add(x) combo->addItem(#x)
   
   add(Constant Bitrate);
   add(Constant Quality);
   add(Two pass-filesize);
   add(Two pass-Avg bitrate);
+  add(Same Quantizer as input);
+  // FIXME UGLY!
+  if(maxQ==51) add(Average Quantizer);
   
            combo->show();
            
@@ -88,6 +91,7 @@
             case  COMPRESS_CBR:i=0;break;
             case  COMPRESS_2PASS:i=2;break;
             case  COMPRESS_SAME:i=4;break;
+            case  COMPRESS_AQ:i=5;break;
             case  COMPRESS_2PASS_BITRATE:i=3;break;
             default: ADM_assert(0);
           }
@@ -111,6 +115,7 @@
     case 2: Mx(COMPRESS_2PASS);Vx(finalsize);break;
     case 3: Mx(COMPRESS_2PASS_BITRATE);Vx(bitrate);break;
     case 4: Mx(COMPRESS_SAME);break;
+    case 5: Mx(COMPRESS_AQ);break;
     default :
           ADM_assert(0);
   }
@@ -130,7 +135,7 @@
           break; 
     case 1:// CQ
           P(Quantizer);
-          M(2,31);
+          M(2,maxQ);
           S(compress->qz);
           break;
     case 2 : // 2pass Filesize
@@ -147,6 +152,11 @@
           P(-);
           M(0,0);
           break;
+    case 5 : // AQ
+          P(Quantizer);
+          M(2,maxQ);
+          S(compress->qz);
+          break;
     default:ADM_assert(0);
   }
 }
@@ -171,7 +181,12 @@
   paramTitle=NULL;
   this->tip=tip;
   setSize(2);
+  maxQ=31;
 }
+void diaElemBitrate::setMaxQz(uint32_t qz)
+{
+  maxQ=qz; 
+}
 
 diaElemBitrate::~diaElemBitrate()
 {
@@ -188,7 +203,7 @@
 {
   QGridLayout *layout=(QGridLayout*) opaque;
   
-  ADM_Qbitrate *b=new ADM_Qbitrate( (QWidget *)dialog,(COMPRES_PARAMS *)&copy,layout,line);
+  ADM_Qbitrate *b=new ADM_Qbitrate( (QWidget *)dialog,(COMPRES_PARAMS *)&copy,maxQ,layout,line);
   myWidget=(void *)b;
   
 }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-05-21 08:14:01 UTC (rev 3122)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-05-21 09:42:07 UTC (rev 3123)
@@ -284,12 +284,14 @@
 {
   protected:
     COMPRES_PARAMS    copy;
+    uint32_t maxQ;
 public:
   
   diaElemBitrate(COMPRES_PARAMS *p,const char *toggleTitle,const char *tip=NULL);
   virtual ~diaElemBitrate() ;
   void setMe(void *dialog, void *opaque,uint32_t line);
   void getMe(void);
+  void setMaxQz(uint32_t qz);
   
   void updateMe(void);
 };



From mean at mail.berlios.de  Tue May 22 11:47:09 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 22 May 2007 11:47:09 +0200
Subject: [Avidemux-svn-commit] r3124 -
	branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi
Message-ID: <200705220947.l4M9l9kJ012295@sheep.berlios.de>

Author: mean
Date: 2007-05-22 11:47:09 +0200 (Tue, 22 May 2007)
New Revision: 3124

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_aviwrite.cpp
Log:
put a complete wavmp3 header, even for CBR, stupid windows

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_aviwrite.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_aviwrite.cpp	2007-05-21 09:42:07 UTC (rev 3123)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_aviwrite.cpp	2007-05-22 09:47:09 UTC (rev 3124)
@@ -334,11 +334,12 @@
 		  mp3vbr.ncodecdelay = 0;
 		  
 		  wav.bitspersample = 0;
-		  mp3vbr.nblocksize=R16(0x180); //383; // ??
+		  mp3vbr.nblocksize=R16(0x180); //384; // ??
     
 		  header->dwScale = 1;
 	  	  header->dwInitialFrames = 1;
-    
+                  extra=(uint8_t *)&mp3vbr;
+		  extraLen=sizeof(mp3vbr);
 		  if (stream->isVBR()) //wav->blockalign ==1152)	// VBR audio
 			{			// We do like nandub do
 		  	//ADM_assert (audiostream->asTimeTrack ());
@@ -356,10 +357,14 @@
 		  	//		
 		  	//
 			mp3vbr.nblocksize=1152;	
-			extra=(uint8_t *)&mp3vbr;
-			extraLen=sizeof(mp3vbr);
+			
 		   }	
-		   else wav.blockalign=1;
+		   else 
+                   {
+                     wav.blockalign=1;
+                     
+                     
+                   }
 
 			
 



From mean at mail.berlios.de  Tue May 22 13:50:42 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 22 May 2007 13:50:42 +0200
Subject: [Avidemux-svn-commit] r3125 -
	branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper
Message-ID: <200705221150.l4MBogqn003241@sheep.berlios.de>

Author: mean
Date: 2007-05-22 13:50:41 +0200 (Tue, 22 May 2007)
New Revision: 3125

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.cpp
Log:
needed for xmingw/gcc4

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.cpp	2007-05-22 09:47:09 UTC (rev 3124)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.cpp	2007-05-22 11:50:41 UTC (rev 3125)
@@ -2,6 +2,7 @@
 
 #include <stdlib.h>
 #include <stdio.h>
+#include "default.h"
 #ifdef CYG_MANGLING
 #include <windows.h>
 #else



From mean at mail.berlios.de  Tue May 22 19:17:50 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 22 May 2007 19:17:50 +0200
Subject: [Avidemux-svn-commit] r3126 -
	branches/avidemux_2.4_branch/avidemux/ADM_colorspace
Message-ID: <200705221717.l4MHHoTN004921@sheep.berlios.de>

Author: mean
Date: 2007-05-22 19:17:47 +0200 (Tue, 22 May 2007)
New Revision: 3126

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_colorspace/ADM_rgb.cpp
Log:
speedup RGBA to BGRA conversion, used by the QT version

Modified: branches/avidemux_2.4_branch/avidemux/ADM_colorspace/ADM_rgb.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_colorspace/ADM_rgb.cpp	2007-05-22 11:50:41 UTC (rev 3125)
+++ branches/avidemux_2.4_branch/avidemux/ADM_colorspace/ADM_rgb.cpp	2007-05-22 17:17:47 UTC (rev 3126)
@@ -111,7 +111,45 @@
     h=hh;
     return 1;
 }
+/**
+      \fn invertRGB
+      \brief Do RGBA->BGRA swap
+      howmuch is in pixel, i.e. you have to multiply it by 4 to get the nb of bytes!
+*/
+static void ADM_RGBA2BGRA(uint8_t *ptr, uint32_t howmuch)
+{
+#if ((defined( ARCH_X86)  || defined(ARCH_X86_64)))
+    __asm__(
+                        "1: mov            (%0),%%eax \n"
+                        "bswap          %%eax \n"
+                        "rorl           $8,%%eax \n"
+                        "mov            %%eax,(%0) \n"
+                        "add            $4,%0 \n"
+                        "dec            %1 \n"
+                        "jne            1b\n"
+                : : "r" (ptr),"r" (howmuch)
+                );
+#else
+uint8_t r,g,b,a;
+                  for(int xx=0;xx<howmuch;xx++)
+                  {
+                      r=ptr[0];
+                      g=ptr[1];
+                      b=ptr[2];
+                      a=ptr[3];
+                      ptr[0]=b;
+                      ptr[1]=g;
+                      ptr[2]=r;
+                      ptr[3]=a;
+                      ptr+=4;
+                  }
+#endif
+}
+/**
+      \fn scale
+      \brief Do the actual colorconversion
 
+*/
  uint8_t ColYuvRgb::scale(uint8_t *src, uint8_t *target)
  {
     uint8_t *srd[3];
@@ -142,31 +180,10 @@
 
         if(_inverted)
         {
-#if (defined( ARCH_X86)  || defined(ARCH_X86_64))
-            if( 0 && CpuCaps::hasMMX())
-            {
-            }
-            else
-#endif
-            {
                 uint8_t r,g,b,a;
                 uint8_t *ptr=target;
                 int pel=h*w;
-                for(int yy=0;yy<pel;yy++)
-                {
-                      r=ptr[0];
-                      g=ptr[1];
-                      b=ptr[2];
-                      a=ptr[3];
-                      ptr[0]=b;
-                      ptr[1]=g;
-                      ptr[2]=r;
-                      ptr[3]=a;
-                      ptr+=4;
-                }
-            }
-          
-          
+                ADM_RGBA2BGRA(ptr,pel);
         }
 #if  defined( ADM_BIG_ENDIAN)
         uint8_t r,g,b,a;
@@ -192,7 +209,7 @@
 /**
       \fn scale
       \brief Change colorspace but and put result in the target image , which is bigger
-
+        Normally not used !
 */
  uint8_t ColYuvRgb::scale(uint8_t *src, uint8_t *target,uint32_t startx,uint32_t starty, uint32_t tw,uint32_t th,uint32_t totalW,uint32_t totalH)
  {
@@ -224,36 +241,15 @@
 
     if(_inverted)
     {
-#if (defined( ARCH_X86)  || defined(ARCH_X86_64))
-            if( 0 && CpuCaps::hasMMX())
+            uint8_t r,g,b,a;
+            uint8_t *ptr=NULL;
+            int pel=th;
+            for(int yy=0;yy<th;yy++)
             {
+              ptr=target+(startx*4)+(starty+yy)*totalW*4;;
+              ADM_RGBA2BGRA(ptr,tw);
             }
-            else
-#endif
-            {
-                uint8_t r,g,b,a;
-                uint8_t *ptr=NULL;
-                int pel=th;
-                for(int yy=0;yy<th;yy++)
-                {
-                  ptr=target+(startx*4)+(starty+yy)*totalW*4;;
-                  for(int xx=0;xx<tw;xx++)
-                  {
-                      r=ptr[0];
-                      g=ptr[1];
-                      b=ptr[2];
-                      a=ptr[3];
-                      ptr[0]=b;
-                      ptr[1]=g;
-                      ptr[2]=r;
-                      ptr[3]=a;
-                      ptr+=4;
-                  }
-                }
-            }
-          
-          
-        }
+     }
 #if  defined( ADM_BIG_ENDIAN)
         uint8_t r,g,b,a;
         uint8_t *ptr=target;
@@ -261,18 +257,7 @@
         for(int yy=0;yy<th;yy++)
                 {
                   *ptr=target+(startx*4)+(starty+yy)*totalW*4;;
-                  for(int xx=0;xx<tw;xx++)
-                  {
-                      r=ptr[0];
-                      g=ptr[1];
-                      b=ptr[2];
-                      a=ptr[3];
-                      ptr[0]=a;
-                      ptr[1]=b;
-                      ptr[2]=g;
-                      ptr[3]=r;
-                      ptr+=4;
-                  }
+                  invertRGB(ptr,tw);
                 }
         
 #endif



From mean at mail.berlios.de  Tue May 22 19:24:35 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 22 May 2007 19:24:35 +0200
Subject: [Avidemux-svn-commit] r3127 - branches/avidemux_2.4_branch/po
Message-ID: <200705221724.l4MHOZaW022803@sheep.berlios.de>

Author: mean
Date: 2007-05-22 19:24:31 +0200 (Tue, 22 May 2007)
New Revision: 3127

Added:
   branches/avidemux_2.4_branch/po/sr at Latn.po
Modified:
   branches/avidemux_2.4_branch/po/LINGUAS
   branches/avidemux_2.4_branch/po/Makefile.am
   branches/avidemux_2.4_branch/po/sr.po
Log:
sr translation update by popac

Modified: branches/avidemux_2.4_branch/po/LINGUAS
===================================================================
--- branches/avidemux_2.4_branch/po/LINGUAS	2007-05-22 17:17:47 UTC (rev 3126)
+++ branches/avidemux_2.4_branch/po/LINGUAS	2007-05-22 17:24:31 UTC (rev 3127)
@@ -5,3 +5,4 @@
 cs
 ja
 sr
+sr at Latn

Modified: branches/avidemux_2.4_branch/po/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/po/Makefile.am	2007-05-22 17:17:47 UTC (rev 3126)
+++ branches/avidemux_2.4_branch/po/Makefile.am	2007-05-22 17:24:31 UTC (rev 3127)
@@ -1,3 +1,3 @@
-POFILES= es.po fr.po klingon.po ru.po de.po pt_BR.po ja.po sr.po
-EXTRA_DIST = es.po fr.po klingon.po ru.po de.po pt_BR.po ja.po sr.po
+POFILES= es.po fr.po klingon.po ru.po de.po pt_BR.po ja.po sr.po sr at Latn.po
+EXTRA_DIST = es.po fr.po klingon.po ru.po de.po pt_BR.po ja.po sr.po sr at Latn.po
 

Modified: branches/avidemux_2.4_branch/po/sr.po
===================================================================
--- branches/avidemux_2.4_branch/po/sr.po	2007-05-22 17:17:47 UTC (rev 3126)
+++ branches/avidemux_2.4_branch/po/sr.po	2007-05-22 17:24:31 UTC (rev 3127)
@@ -5,15 +5,14 @@
 msgstr ""
 "Project-Id-Version: sr\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-04-24 13:16+0100\n"
-"PO-Revision-Date: \n"
-"Last-Translator: ??????? ????? <gpopac at gmail.com>\n"
+"POT-Creation-Date: \n"
+"PO-Revision-Date: 2007-05-14 20:01+0100\n"
+"Last-Translator: ????? ??????? <gpopac at gmail.com>\n"
 "Language-Team: \n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"Plural-Forms: nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%"
-"10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);\n"
+"Plural-Forms: nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%" "10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);\n"
 "X-Poedit-Language: Serbian\n"
 
 #: avidemux/ADM_audiocodec/ADM_codecwma.cpp:75
@@ -31,11 +30,11 @@
 
 #: avidemux/ADM_audiodevice/ADM_deviceoss.cpp:118
 msgid "Could not open OSS audio device"
-msgstr ""
+msgstr "?? ???? ?? ??????? OSS ??????"
 
 #: avidemux/ADM_audiodevice/ADM_deviceoss.cpp:118
 msgid "Check the permissions for /dev/dsp."
-msgstr ""
+msgstr "????????? ????????? ??? /dev/dsp."
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:215
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:199
@@ -54,21 +53,22 @@
 msgstr "????"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:219
-#, fuzzy
 msgid "Channel Mode"
-msgstr "<b>??? ??????:</b>"
+msgstr "???? ??????"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:222
+#, fuzzy
 msgid "CBR"
-msgstr ""
+msgstr "CBR"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:223
+#, fuzzy
 msgid "ABR"
-msgstr ""
+msgstr "ABR"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:225
 msgid "Extreme"
-msgstr ""
+msgstr "?????????"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:228
 #: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:273
@@ -82,7 +82,7 @@
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioconfig.cpp:59
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:624
 msgid "Bitrate"
-msgstr "???????"
+msgstr "?????? ??????"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:246
 #: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:289
@@ -93,23 +93,24 @@
 
 #: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:270
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:469
+#, fuzzy
 msgid "VBR"
-msgstr ""
+msgstr "VBR"
 
 #: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:271
 #, fuzzy
 msgid "Quality Based"
-msgstr "????????"
+msgstr "???????? ?? ?????????"
 
 #: avidemux/ADM_audiofilter/audiofilter_buildchain.cpp:322
-#: avidemux/gui_autodrive.cpp:82 avidemux/gui_autodrive.cpp:116
+#: avidemux/gui_autodrive.cpp:82
+#: avidemux/gui_autodrive.cpp:116
 msgid "Codec Error"
 msgstr "?????? ? ????????"
 
 #: avidemux/ADM_audiofilter/audiofilter_buildchain.cpp:322
 msgid ""
-"The number of channels is greater than what the selected audio codec can "
-"do.\n"
+"The number of channels is greater than what the selected audio codec can do.\n"
 "Either change codec or use the mixer filter to have less channels."
 msgstr ""
 "???? ????? ?????? ?? ???? ???? ??? ???????? ????? ????? ????????.\n"
@@ -117,33 +118,36 @@
 
 #: avidemux/ADM_codecs/ADM_ffmp43.cpp:51
 msgid "Internal error finding codec"
-msgstr ""
+msgstr "???????? ?????? ? ???????? ??????"
 
 #: avidemux/ADM_codecs/ADM_ffmpeg.cpp:51
 msgid "Internal error opening codec"
-msgstr ""
+msgstr "???????? ?????? ? ???????? ??????"
 
 #: avidemux/ADM_codecs/ADM_ffmpeg.cpp:53
 msgid "Internal error with context for  codec"
-msgstr ""
+msgstr "???????? ?????? ?????? ?? ?????"
 
 #: avidemux/ADM_codecs/ADM_ffmpeg.cpp:53
+#, fuzzy
 msgid ""
 ".\n"
 " Did you use too low / too high target for 2 pass ?"
 msgstr ""
+".\n"
+" ?? ?? ?? ???????? ?????? ?????/????? ????? ?? ????? ?????? ?"
 
 #: avidemux/ADM_editor/ADM_edFrameType.cpp:56
 msgid "No video loaded"
-msgstr ""
+msgstr "???? ???????? ?????"
 
 #: avidemux/ADM_editor/ADM_edFrameType.cpp:61
 msgid "Not indexable"
-msgstr ""
+msgstr "???????? ????????? ??????"
 
 #: avidemux/ADM_editor/ADM_edFrameType.cpp:61
 msgid "DivX 5 + packed?"
-msgstr ""
+msgstr "?? ?? ?? ?????????? ? DivX 5 +?"
 
 #: avidemux/ADM_editor/ADM_edFrameType.cpp:119
 msgid "Aborted"
@@ -151,100 +155,107 @@
 
 #: avidemux/ADM_editor/ADM_edit.cpp:389
 msgid "File type identified but no loader support detected..."
-msgstr ""
+msgstr "??? ???????? ?????????, ??? ?? ??????? ??????? ?? ?????????..."
 
 #: avidemux/ADM_editor/ADM_edit.cpp:390
 msgid "May be related to an old index file."
-msgstr ""
+msgstr "????? ?? ?????? ?? ???? ????? ???????? ?? ????????."
 
 #: avidemux/ADM_editor/ADM_edit.cpp:397
 #, c-format
 msgid "Attempt to open %s failed!"
-msgstr ""
+msgstr "??????? ?? ??????? %s ???? ?????!"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:421
 msgid ""
-"You cannot mix different video dimensions yet. Using the partial video "
-"filter later, will not work around this problem. The workaround is:\n"
-"1.) \"resize\" / \"add border\" / \"crop\" each stream to the same "
-"resolution\n"
+"You cannot mix different video dimensions yet. Using the partial video filter later, will not work around this problem. The workaround is:\n"
+"1.) \"resize\" / \"add border\" / \"crop\" each stream to the same resolution\n"
 "2.) concatinate them together"
 msgstr ""
+"??? ???? ?? ?????? ?????? ????????? ????? ??????. ????????? ?????????? ????? ??????? ???????, ???? ?????? ???????. ?????? ??:\n"
+"1.) ???????? ?????????, ?????? ?????? ??? ??????? ????? ??? ?? ???? ??????????\n"
+"2.) ????? ?? ???????"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:520
 msgid "Build Time Map"
-msgstr ""
+msgstr "??????? ????????? ????"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:520
+#, fuzzy
 msgid "Build VBR time map?"
-msgstr ""
+msgstr "?? ???????? VBR ????????? ?????"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:554
 msgid "Use that mode"
-msgstr ""
+msgstr "??????? ??? ???"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:554
 msgid "H264 detected"
-msgstr ""
+msgstr "???????? H264"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:554
+#, fuzzy
 msgid ""
-"If the file is using bframe as reference, it can lead to crash or "
-"stutteting.\n"
-"Avidemux can use another mode which is safed but <b>YOU WILL LOOSE FRAME "
-"ACCURACY</b>.\n"
+"If the file is using bframe as reference, it can lead to crash or stutteting.\n"
+"Avidemux can use another mode which is safed but <b>YOU WILL LOOSE FRAME ACCURACY</b>.\n"
 "Do you want to use that mode ?"
 msgstr ""
+"??????? ???????? ??????? ? ????? ??? ?????????, ???? ???? ?? ???? ??? ??????.\n"
+"Avidemux ???? ?? ??????? ????? ??? ???? ?? ????????? ??? <b>???? ???????? ??????? ???????</b>.\n"
+"?? ?? ?????? ?? ????????? ??? ??? ?"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:681
 msgid "Packed Bitstream detected"
-msgstr ""
+msgstr "???????? ???????? ?????? ???"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:682
 msgid "Do you want me to unpack it ?"
-msgstr ""
+msgstr "?? ?? ?????? ?? ?? ??????????? ?"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:702
 msgid "Could not unpack the video"
-msgstr ""
+msgstr "?? ???? ?? ?????????? ?????"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:702
 msgid "Using backup decoder - not frame accurate."
-msgstr ""
+msgstr "???????? ???????? ??????? - ???? ?????????? ???????."
 
 #: avidemux/ADM_editor/ADM_edit.cpp:707
 msgid "Weird"
-msgstr ""
+msgstr "?????"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:707
 msgid "The unpacking succeedeed but the index is still not up to date."
-msgstr ""
+msgstr "??????? ??????????? ??? ?????? ??? ???? ???? ??????."
 
 #: avidemux/ADM_editor/ADM_edit.cpp:713
 msgid "Troubles ahead"
-msgstr ""
+msgstr "????????? ??????"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:713
+#, fuzzy
 msgid "This a VOP packed AVI."
-msgstr ""
+msgstr "??? ?? VOP ???????? AVI."
 
 #: avidemux/ADM_editor/ADM_edit.cpp:724
 msgid "Index is not up to date"
-msgstr ""
+msgstr "?????? ???? ??????."
 
 #: avidemux/ADM_editor/ADM_edit.cpp:724
 msgid "You should use Tool->Rebuild frame. Do it now ?"
-msgstr ""
+msgstr "??????? ?? ?? ????????? ????? -> ??-??????? ???????. ?? ?????? ?? ???? ?"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:1479
 msgid ""
 "This looks like mpeg\n"
 " Do you want to index it?"
 msgstr ""
+"??? ??????? ??? MPEG\n"
+"?? ?? ?????? ?? ????????? ????? ???????"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:1531
 msgid "Indexing failed"
-msgstr ""
+msgstr "???????? ??????? ????????"
 
 #: avidemux/ADM_editor/ADM_edLoadSave.cpp:75
 msgid "Unsupported"
@@ -252,16 +263,16 @@
 
 #: avidemux/ADM_editor/ADM_edLoadSave.cpp:301
 msgid "Old format project file"
-msgstr ""
+msgstr "????? ?????? ???????? ?? ?????????"
 
 #: avidemux/ADM_editor/ADM_edLoadSave.cpp:301
 msgid "No more supported."
-msgstr ""
+msgstr "???? ???? ????????."
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:38
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:501
 msgid "AVI"
-msgstr ""
+msgstr "AVI"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:39
 msgid "AVI, unp. VOP"
@@ -279,7 +290,7 @@
 #: avidemux/ADM_editor/ADM_outputfmt.h:42
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:505
 msgid "OGM"
-msgstr ""
+msgstr "OGM (OGG)"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:43
 #, fuzzy
@@ -289,106 +300,109 @@
 #: avidemux/ADM_editor/ADM_outputfmt.h:44
 #, fuzzy
 msgid "MPEG-PS (A+V)"
-msgstr "MPEG PS ?+?"
+msgstr "MPEG PS (??? + ???)"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:45
 #, fuzzy
 msgid "MPEG-TS (A+V)"
-msgstr "MPEG TS ?+?"
+msgstr "MPEG TS (??? + ???)"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:46
 msgid "MP4"
-msgstr ""
+msgstr "MP4"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:47
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:756
 msgid "PSP"
-msgstr ""
+msgstr "PSP"
 
 #: avidemux/ADM_encoder/adm_encConfig.cpp:192
 msgid "Wrong output format"
-msgstr ""
+msgstr "???????? ??????? ??????"
 
 #: avidemux/ADM_encoder/adm_encConfig.cpp:192
 msgid "Select MPEG as the output."
-msgstr ""
+msgstr "??????? MPEG ??? ?????."
 
 #: avidemux/ADM_encoder/adm_encConfig.cpp:197
 msgid "Wrong video codec"
-msgstr ""
+msgstr "???????? ????? ?????"
 
 #: avidemux/ADM_encoder/adm_encConfig.cpp:198
 msgid "Select DVD as the video codec for MPEG TS output."
-msgstr ""
+msgstr "??????? DVD ??? ????? ????? ?? MPEG TS ?????."
 
 #: avidemux/ADM_encoder/adm_encConfig.cpp:715
+#, fuzzy
 msgid "Only QCIF and subQCIF are allowed for H.263"
-msgstr ""
+msgstr "???? QCIF  ? subQCIF ?? ????????? ?? H.263"
 
 #: avidemux/ADM_encoder/adm_encConfig.cpp:907
 msgid "Fatal error"
-msgstr ""
+msgstr "??????? ??????"
 
 #: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
 #, fuzzy
 msgid "Incompatible settings"
-msgstr "?? ???????????? ??????? ??????"
+msgstr "??????????????? ??????????"
 
 #: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
 msgid "At the moment, the DV codec only accepts 720*576 at 25"
-msgstr ""
+msgstr "? ???? ????????, DV ????? ???????? ???? 720*576 at 25"
 
 #: avidemux/ADM_filter/filter_saveload.cpp:156
 msgid "Problem reading XML filters"
-msgstr ""
+msgstr "??????? ??? ?????? XML ???????"
 
 #: avidemux/ADM_filter/filter_saveload.cpp:164
 msgid "No filter found"
-msgstr ""
+msgstr "???? ?????? ???????"
 
 #: avidemux/ADM_filter/filter_saveload.cpp:200
 msgid "Could not find a filter"
-msgstr ""
+msgstr "?? ???? ?? ????? ??????"
 
 #: avidemux/ADM_filter/filter_saveload.cpp:208
 msgid "No tag found"
-msgstr ""
+msgstr "???? ?????? ??????"
 
 #: avidemux/ADM_filter/filter_saveload.cpp:288
+#, fuzzy
 msgid "Node not found"
-msgstr ""
+msgstr "???? ???? ?????"
 
 #: avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp:484
 msgid "Expect troubles"
-msgstr ""
+msgstr "???????? ????????"
 
 #: avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp:971
 msgid "Problem reading SVQ3 headers"
-msgstr ""
+msgstr "??????? ??? ?????? SVQ3 ????????"
 
 #: avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp:1527
 msgid "No stts table"
-msgstr ""
+msgstr "?? ??????? stts ??????"
 
 #: avidemux/ADM_inputs/ADM_h263/ADM_h263.cpp:257
 msgid "Size is not (s)QCIF"
-msgstr ""
+msgstr "???????? ???? (s)QCIF"
 
 #: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:148
 msgid "There is several mpeg file, append them ?"
-msgstr ""
+msgstr "??? ???????? MPEG ????????, ?? ?? ????? ?"
 
 #: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:245
 msgid "Can't determine aspect ratio"
-msgstr ""
+msgstr "?? ???? ?? ??????? ???????"
 
 #: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_video.cpp:363
 msgid "Out of memory"
-msgstr ""
+msgstr "??????? ?? ????????"
 
 #: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_video.cpp:547
+#, fuzzy
 msgid "MPEG renumbering error"
-msgstr ""
+msgstr "?????? ??? MPEG ????????????"
 
 #: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:560
 msgid "Sure you want to abort ?"
@@ -400,7 +414,7 @@
 
 #: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:771
 msgid "Expect a crash."
-msgstr "???????? ???????."
+msgstr "???????? ??? ????????."
 
 #: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:1063
 msgid "Do you want to save an index ?"
@@ -412,170 +426,175 @@
 
 #: avidemux/ADM_inputs/ADM_ogm/ADM_ogm.cpp:435
 msgid "Scanning OGM"
-msgstr ""
+msgstr "???????? OGM"
 
 #: avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp:285
 #: avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp:370
 #: avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp:505
+#, fuzzy
 msgid "Malformed header"
-msgstr ""
+msgstr "?????????? ????????"
 
 #: avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp:308
 msgid "Incompatible frame rate"
-msgstr ""
+msgstr "?????????? ?????????? ???????"
 
 #: avidemux/ADM_libraries/ADM_lvemux/ADM_muxer.cpp:85
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:153
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:209
 msgid "Incompatible audio"
-msgstr ""
+msgstr "????????? ?????"
 
 #: avidemux/ADM_libraries/ADM_lvemux/ADM_muxer.cpp:85
 msgid "For DVD, audio must be MP2 or AC3."
-msgstr ""
+msgstr "?? DVD, ????? ???? ?? ???? MP2 ili AC3"
 
 #: avidemux/ADM_libraries/ADM_lvemux/ADM_muxer.cpp:92
 msgid "lvemux init failed"
-msgstr ""
+msgstr "???????? ????????? lvemux"
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:403
 msgid "Memory error"
-msgstr ""
+msgstr "?????? ?? ?????????"
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:410
 msgid "Error converting to BMP"
-msgstr "?????? ??? ??????????? ? BMP"
+msgstr "?????? ??? ??????????? ? BMP"
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:417
 #: avidemux/gtk_gui.cpp:1925
 msgid "Something bad happened"
-msgstr ""
+msgstr "????? ???? ?? ??????"
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:472
 msgid "Cannot encode the frame"
-msgstr ""
+msgstr "?? ???? ?? ??????? ?????"
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
 #: avidemux/ADM_ocr/ADM_ocrLoadSave.h:71
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:393
 #: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:252
-#: avidemux/gtk_gui.cpp:880 avidemux/gtk_gui.cpp:1530
+#: avidemux/gtk_gui.cpp:880
+#: avidemux/gtk_gui.cpp:1530
 msgid "File error"
-msgstr ""
+msgstr "?????? ?? ?????????"
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:393
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112 avidemux/gtk_gui.cpp:1530
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
+#: avidemux/gtk_gui.cpp:1530
 #, c-format
 msgid "Cannot open \"%s\" for writing."
-msgstr ""
+msgstr "?? ???? ?? ??????? ?%s? ?? ????."
 
 #: avidemux/ADM_ocr/ADM_ocrLoadSave.h:22
-#, fuzzy
 msgid "Select Glyphfile to save to"
-msgstr "??????? ???? ifo ???????? ?? ????????"
+msgstr "??????? ???????? ?? ??????? ?????????"
 
 #: avidemux/ADM_ocr/ADM_ocrLoadSave.h:30
-#, fuzzy
 msgid "Could not write the file"
-msgstr "?? ???? ?? ????? ??????????? ? ???????."
+msgstr "?? ???? ?? ????? ? ????????"
 
 #: avidemux/ADM_ocr/ADM_ocrLoadSave.h:62
-#, fuzzy
 msgid "Erase current glyphs ?"
-msgstr "???????? ????????"
+msgstr "?????? ???????? ???????? ?"
 
 #: avidemux/ADM_ocr/ADM_ocrLoadSave.h:71
 #, c-format
 msgid "Could not read \"%s\"."
-msgstr ""
+msgstr "?? ???? ?? ????? ?%s?."
 
 #: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:244
 msgid "Ifo error"
-msgstr "Ifo ??????"
+msgstr "IFO ??????"
 
 #: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:244
 msgid "Error reading ifo file, aborting."
-msgstr "?????? ??? ?????? ifo ????????, ????????."
+msgstr "?????? ??? ?????? IFO ????????, ????????."
 
 #: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:252
 msgid "Cannot write .idx"
-msgstr "?? ???? ?? ?????? .idx"
+msgstr "?? ???? ?? ?????? .IDX"
 
 #: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:265
 msgid "Cannot write .sub"
-msgstr "?? ???? ?? ?????? .sub"
+msgstr "?? ???? ?? ?????? .SUB"
 
 #: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:277
 msgid "Problem opening the mpeg files"
-msgstr "??????? ??? ???????? mpeg ????????."
+msgstr "??????? ??? ???????? MPEG ????????."
 
 #: avidemux/ADM_osSupport/ADM_fileio.cpp:102
 #: avidemux/ADM_osSupport/ADM_fileio.cpp:126
 #: avidemux/ADM_osSupport/ADM_fileio.cpp:146
 #: avidemux/ADM_osSupport/ADM_fileio.cpp:153
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:164 avidemux/GUI_jobs.cpp:37
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:164
+#: avidemux/GUI_jobs.cpp:37
+#, fuzzy
 msgid "Oops"
-msgstr ""
+msgstr "???..."
 
 #: avidemux/ADM_osSupport/ADM_fileio.cpp:102
 #, c-format
 msgid "can't create custom directory (%s)."
-msgstr ""
+msgstr "?? ???? ?? ???????? ???????? (%s)"
 
 #: avidemux/ADM_osSupport/ADM_fileio.cpp:126
 #, c-format
 msgid "can't create job directory (%s)."
-msgstr ""
+msgstr "?? ???? ?? ???????? ???????????? ?? ??????? (%s)"
 
 #: avidemux/ADM_osSupport/ADM_fileio.cpp:146
 msgid "can't determine $USERPROFILE."
-msgstr ""
+msgstr "?? ???? ?? ??????? $USERPROFILE."
 
 #: avidemux/ADM_osSupport/ADM_fileio.cpp:153
 msgid "can't determine $HOME."
-msgstr ""
+msgstr "?? ???? ?? ??????? $HOME"
 
 #: avidemux/ADM_osSupport/ADM_fileio.cpp:164
 msgid "Cannot create the .avidemux directory"
-msgstr ""
+msgstr "?? ???? ?? ???????? .avidemux ????????"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:74
 msgid "Normal"
-msgstr ""
+msgstr "???????"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:75
 #, fuzzy
 msgid "Mux every N video frames"
-msgstr "????? ?????/???????"
+msgstr "?????????????? ????? N ????? ?????"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:76
+#, fuzzy
 msgid "Mux by packet size"
-msgstr ""
+msgstr "??????????????? ?? ???????? ??????"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:79
 #, fuzzy
 msgid "Muxing Type"
-msgstr "??? ??????????"
+msgstr "??? ???????????????"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:80
+#, fuzzy
 msgid "Split every MBytes"
-msgstr ""
+msgstr "?????? ?????? MBytes"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:82
 #, fuzzy
 msgid "Mux Every x video frames"
-msgstr "????? ?????/???????"
+msgstr "?????????????? ????? x ????? ?????"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:83
+#, fuzzy
 msgid "Mux with block of size"
-msgstr ""
+msgstr "??????????????? ?? ????????? ?????"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:90
 #, fuzzy
 msgid "Avi Muxer Option"
-msgstr "AVI _Muxer Options"
+msgstr "?????? AVI ?????????????"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:188
 msgid "Error initalizing audio filters"
@@ -619,18 +638,18 @@
 #: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:152
 #: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:431
 msgid "Aborting"
-msgstr "????????"
+msgstr "??????????"
 
 #: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:152
 msgid "Cannot initialize the video stream"
-msgstr "?? ???? ?? ???????? ????? ?????"
+msgstr "?? ???? ?? ???????? ????? ???"
 
 #: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:208
 #: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:331
 #: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:415
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:352
 msgid "Error while encoding"
-msgstr "?????? ??? ??????????"
+msgstr "?????? ??? ????????"
 
 #: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:220
 msgid "KeyFrame error"
@@ -646,81 +665,81 @@
 
 #: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:247
 msgid "Cannot initialize the audio stream"
-msgstr "?? ???? ?? ???????? ????? ?????."
+msgstr "?? ???? ?? ???????? ????? ???"
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:89
 msgid "This is not MPEG compatible"
-msgstr ""
+msgstr "MPEG ?? ???????? ???"
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:89
 msgid "You can't use the Copy codec."
-msgstr ""
+msgstr "?? ?????? ?? ????????? ???? ??????? ??? ?????."
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:94
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:156
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:167
 msgid "There is no audio track"
-msgstr ""
+msgstr "?? ??????? ????? ?????"
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:101
+#, fuzzy
 msgid "The first frame is not intra frame"
-msgstr ""
+msgstr "???? ????? ???? intra ?????"
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:101
+#, fuzzy
 msgid "Use the &lt;&lt; and the &gt;&gt; buttons to move using Intra frames."
-msgstr ""
+msgstr "??????? &lt;&lt; ? &gt;&gt; ?????? ?? ??????? ????????? Intra ???????."
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:113
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:177
 msgid "Audio track is not suitable"
-msgstr ""
+msgstr "????? ????? ???? ????????????"
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:153
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:187
 msgid "For VCD, audio must be 44.1 kHz MP2."
-msgstr ""
+msgstr "?? VCD ????? ???? ???? 44.1 kHz MP2."
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:182
 msgid "For DVD, audio must be 48 kHz MP2(stereo), AC3, DTS or LPCM (stereo)."
-msgstr ""
+msgstr "?? DVD ????? ???? ???? 48 kHz MP2 (??????), AC3, DTS ??? LPCM (??????)."
 
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:209
 msgid "For DVD, audio must be 48 kHz MP2, AC3 or LPCM."
-msgstr ""
+msgstr "?? DVD ????? ???? ???? 48 kHz MP2, AC3 or LPCM."
 
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:326
 msgid "Reuse log file ?"
-msgstr ""
+msgstr "?? ?????????? ????????? ??????? ?????? ?"
 
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:341
 msgid "Error in pass 1"
-msgstr ""
+msgstr "?????? ? ????? ???????"
 
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:491
 msgid "Error in pass 2"
-msgstr ""
+msgstr "?????? ? ?????? ???????"
 
 #: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:126
 msgid "Could not initialize video"
-msgstr ""
+msgstr "?? ???? ?? ?????? ?????"
 
 #: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:134
 msgid "Could not initialize audio"
-msgstr ""
+msgstr "?? ???? ?? ?????? ?????"
 
 #: avidemux/ADM_script/ADM_JSFunctions.cpp:230
-#, fuzzy
 msgid "Select a directory"
-msgstr "??????? ????"
+msgstr "??????? ????????????"
 
 #: avidemux/ADM_script/ADM_JSFunctions.cpp:496
 msgid "Uinteger"
 msgstr ""
 
 #: avidemux/ADM_script/ADM_JSFunctions.cpp:511
-#, fuzzy
 msgid "Float"
-msgstr "??????:"
+msgstr "???????"
 
 #: avidemux/ADM_script/ADM_JSFunctions.cpp:528
 msgid "Toggle"
@@ -729,7 +748,7 @@
 #: avidemux/ADM_script/ADM_JSFunctions.cpp:545
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:83
 msgid "No Strategy"
-msgstr ""
+msgstr "??? ??????????"
 
 #: avidemux/ADM_script/ADM_JSFunctions.cpp:546
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:84
@@ -739,27 +758,26 @@
 #: avidemux/ADM_script/ADM_JSFunctions.cpp:547
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:85
 msgid "Pal/Secam"
-msgstr ""
+msgstr "Pal/Secam"
 
 #: avidemux/ADM_script/ADM_JSFunctions.cpp:548
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:86
 msgid "NTSC converted from PAL"
-msgstr ""
+msgstr "NTSC ?????????? ?? PAL"
 
 #: avidemux/ADM_script/ADM_JSFunctions.cpp:550
-#, fuzzy
 msgid "menu"
-msgstr "???"
+msgstr "????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:59
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:128
 msgid "No data"
-msgstr ""
+msgstr "???? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:232
 #, fuzzy
 msgid "Bitrate Histogram"
-msgstr "_????????? ????????"
+msgstr "_????????? ??????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:95
 #, fuzzy
@@ -771,14 +789,14 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:380
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:402
 msgid "4:3"
-msgstr ""
+msgstr "4:3"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:53
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:43
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:384
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:406
 msgid "16:9"
-msgstr ""
+msgstr "16:9"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:55
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:45
@@ -788,7 +806,7 @@
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:56
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:46
 msgid "Tmpgenc"
-msgstr ""
+msgstr "Tmpg ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:57
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:47
@@ -798,7 +816,7 @@
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:58
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:48
 msgid "KVCD"
-msgstr ""
+msgstr "KVCD"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:61
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:51
@@ -807,35 +825,30 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:62
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:52
-#, fuzzy
 msgid "Int. TFF"
-msgstr "???????????? TFF"
+msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:63
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:53
-#, fuzzy
 msgid "Int. BFF"
-msgstr "???????????? BFF"
+msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:74
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:60
-#, fuzzy
 msgid "Max Bitrate"
-msgstr "??????? ???????"
+msgstr "??????? ?????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:75
-#, fuzzy
 msgid "Min Bitrate"
-msgstr "??????? ???????"
+msgstr "??????? ?????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:76
-#, fuzzy
 msgid "Use Xvid Rate Control"
-msgstr "??????? Xvid ???????? ???????"
+msgstr "??????? Xvid ???????? ????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:78
 msgid "Buffer Size"
-msgstr ""
+msgstr "???????? ????????????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:80
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:57
@@ -854,27 +867,26 @@
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:59
 #, fuzzy
 msgid "Gop Size"
-msgstr "???????? ?????"
+msgstr "???????? ??????? ????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:88
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:66
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:123
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:285
 msgid "Interlacing"
-msgstr "????????????"
+msgstr "??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:27
 msgid "Hour"
-msgstr ""
+msgstr "????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:28
 msgid "Minutes"
-msgstr ""
+msgstr "??????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:29
-#, fuzzy
 msgid "Seconds"
-msgstr "????? ??????"
+msgstr "???????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:51
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:257
@@ -890,20 +902,19 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1095
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:105
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:101
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:264 avidemux/gtk_gui.cpp:2003
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:264
+#: avidemux/gtk_gui.cpp:2003
 #: avidemux/gtk_gui.cpp:2102
 msgid "None"
 msgstr "?????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:52
-#, fuzzy
 msgid "Full"
-msgstr "1: ????"
+msgstr "???????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:53
-#, fuzzy
 msgid "Log"
-msgstr "2: ???????"
+msgstr "??????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:54
 msgid "Phods"
@@ -915,39 +926,37 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:56
 msgid "X1"
-msgstr ""
+msgstr "X1"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:60
 msgid "H263"
-msgstr ""
+msgstr "H263"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:61
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:509
 msgid "MPEG"
-msgstr ""
+msgstr "MPEG"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:65
-#, fuzzy
 msgid "MB Comparison"
-msgstr "ME ???????? ????????"
+msgstr "MB ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:66
 msgid "Fewest bits (vhq)"
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:67
+#, fuzzy
 msgid "Rate distortion"
-msgstr ""
+msgstr "?????????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:74
-#, fuzzy
 msgid "Min Qz"
-msgstr "??????"
+msgstr "??????? ?????????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:75
-#, fuzzy
 msgid "Max Qz"
-msgstr "???????"
+msgstr "??????? ?????????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:76
 msgid "Max QDiff"
@@ -968,8 +977,9 @@
 msgstr "?????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:82
+#, fuzzy
 msgid "GMC"
-msgstr ""
+msgstr "GMC "
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:85
 #, fuzzy
@@ -977,28 +987,27 @@
 msgstr "???? ? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:86
-#, fuzzy
 msgid "Quantization type"
 msgstr "??? ????????????: "
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:88
 #, fuzzy
 msgid "Macroblock decision"
-msgstr "?????????"
+msgstr "?????? ??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:90
 msgid "Filesize tolerance (kb"
-msgstr ""
+msgstr "??????????? ???????? ???????? (kb"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:92
 #, fuzzy
 msgid "Quantize compression"
-msgstr "??????????? ?????"
+msgstr "???????????? ??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:93
 #, fuzzy
 msgid "Quantize blur"
-msgstr "?????????"
+msgstr "????????????? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:98
 msgid "User Interface"
@@ -1007,11 +1016,11 @@
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:101
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1028
 msgid "Advanced Simple Profile"
-msgstr "???????? ?????? ??????"
+msgstr "?????????? ?????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:108
 msgid "Motion Estimation"
-msgstr ""
+msgstr "??????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:112
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:309
@@ -1022,35 +1031,30 @@
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:117
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1374
 msgid "Rate Control"
-msgstr ""
+msgstr "???????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:120
-#, fuzzy
 msgid "Lavcodec Mpeg4 configuration"
-msgstr "X264 ??????????"
+msgstr "?????????? Lav MPEG4 ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:40
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:60
-#, fuzzy
 msgid "_Filter strength:"
-msgstr "????? ??????? :"
+msgstr "_?????? ???????:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:41
-#, fuzzy
 msgid "Swap U&V"
-msgstr "?????? UV"
+msgstr "???????? U ? V"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:51
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:72
-#, fuzzy
 msgid "_Horizontal deblocking"
-msgstr "H???????????? ???? :"
+msgstr "_???????????? ???????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:52
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:73
-#, fuzzy
 msgid "_Vertical deblocking"
-msgstr "?????????? ???? :"
+msgstr "_?????????? ???????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:53
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:74
@@ -1058,85 +1062,80 @@
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:149
-#, fuzzy
 msgid "Use systray while encoding"
-msgstr "_?????? ? ????????? ?????? ???????? ??????????"
+msgstr "?????? ? ?_?????????? ???? ???????? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:150
-#, fuzzy
 msgid "Accept non standard audio frequency for DVD"
-msgstr "??????? ???????????? ??????????? ????? ?? DVD ?????"
+msgstr "??????? ???????????? ??????????? ?????? ?? DVD"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:151
-#, fuzzy
 msgid "Use lavcodec mpeg2 decoder"
-msgstr "_??????? libavcodec MPEG ???????"
+msgstr "_??????? Lav MPEG2 ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:152
 msgid "Create openDML file"
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:153
-#, fuzzy
 msgid "Automatically index mpeg files"
-msgstr "_?????????? ?????????? MPEG ????????"
+msgstr "??????? _?????? MPEG ???????? ??? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:154
 msgid "Automatically swap A and B if A>B"
-msgstr ""
+msgstr "?????????? ????????  A ? B ??? ?? A>B"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:155
 #, fuzzy
 msgid "Disable NUV audio sync"
-msgstr "_??????? NuppelVideo ???????????"
+msgstr "????????? NUV ????? ??????????????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:156
 msgid "Load external filters"
-msgstr ""
+msgstr "?????? ?????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:158
-#, fuzzy
 msgid "Automatically build VBR map"
-msgstr "_?????????? ?????????? MPEG ????????"
+msgstr "??????? VBR ???? ??? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:159
-#, fuzzy
 msgid "Automatically rebuild index"
-msgstr "_?????????? ?????????? MPEG ????????"
+msgstr "??-??????? ?????? ??? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:160
 msgid "Automatically remove packed bitstream"
-msgstr ""
+msgstr "?????????? ?????? ???????? ?????? ???"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:163
 #, fuzzy
 msgid "Number of threads"
-msgstr "???? ? ???????"
+msgstr "???? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:164
 msgid "Split mpegs every (MB)"
-msgstr ""
+msgstr "?????? MPEG ?? ?????? (MB)"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:166
+#, fuzzy
 msgid "Use alternative tag for mp3 in .mp4"
-msgstr ""
+msgstr "??????? ???????????? ??? ?? mp3 ? .mp4"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:169
 msgid "Gtk (Slow)"
-msgstr ""
+msgstr "Gtk (?????)"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:171
 msgid "Xv (Best)"
-msgstr ""
+msgstr "Xv (???????)"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:174
 msgid "SDL (Good)"
-msgstr ""
+msgstr "SDL (?????)"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:177
 #, fuzzy
 msgid "Video Display"
-msgstr "????? ???????"
+msgstr "????? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:182
 msgid "No alerts"
@@ -1144,30 +1143,27 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:183
 msgid "Display only error alerts"
-msgstr "??????? ???? ????????? ??? ????????"
+msgstr "??????? ???? ????????? ? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:184
 msgid "Display all alerts"
 msgstr "??????? ??? ?????????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:186
-#, fuzzy
 msgid "Message level"
-msgstr "???? _???????????:"
+msgstr "???? ????????????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:191
 msgid "PCM"
-msgstr ""
+msgstr "???"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:192
-#, fuzzy
 msgid "Master"
-msgstr "???????"
+msgstr "??????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:193
-#, fuzzy
 msgid "Volume control"
-msgstr "??????? ?? ???????? _?????? ?????:"
+msgstr "???????? ?????? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:198
 msgid "No downmixing"
@@ -1186,38 +1182,33 @@
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:232
-#, fuzzy
 msgid "Audio output"
-msgstr "??????? _????:"
+msgstr "????? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:245
-#, fuzzy
 msgid "Horizontal deblocking"
-msgstr "H???????????? ???? :"
+msgstr "???????????? ???????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:246
-#, fuzzy
 msgid "Vertical deblocking"
-msgstr "?????????? ???? :"
+msgstr "?????????? ???????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:247
 msgid "Deringing"
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:248
-#, fuzzy
 msgid "Strength:"
-msgstr "??????"
+msgstr "??????:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:249
 #, fuzzy
 msgid "Default Postprocessing"
-msgstr "_??????? ????????????? ???? ????????? ???????????"
+msgstr "????????????? ???? ????????? ???????????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:263
-#, fuzzy
 msgid "Filter directory"
-msgstr "?????? ???????"
+msgstr "???????????? ?? ?????????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:301
 msgid "Preferences"
@@ -1226,34 +1217,33 @@
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:59
 #, fuzzy
 msgid "Target type"
-msgstr "??????? ???:"
+msgstr "??????? ???"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:60
-#, fuzzy
 msgid "Source aspect ratio"
-msgstr "??????? ?????:"
+msgstr "??????? ?? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:61
-#, fuzzy
 msgid "Dest. aspect ratio"
-msgstr "_???????"
+msgstr "??????? ?? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:54
 msgid "translator-credits"
-msgstr ""
+msgstr "??????? ??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:69
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:265
 msgid "Avidemux"
-msgstr ""
+msgstr "Avidemux"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:70
 msgid "? 2001-2006 Mean"
-msgstr ""
+msgstr "? 2001-2006 Mean"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:71
+#, fuzzy
 msgid "Multiplatform video editor"
-msgstr "???????????????? ????? ????????"
+msgstr "??????????????? ????? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:72
 msgid ""
@@ -1265,8 +1255,7 @@
 "\t\t       Version 2, June 1991\n"
 "\n"
 " Copyright (C) 1989, 1991 Free Software Foundation, Inc.\n"
-"                       51 Franklin St, Fifth Floor, Boston, MA  02110-1301  "
-"USA\n"
+"                       51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n"
 " Everyone is permitted to copy and distribute verbatim copies\n"
 " of this license document, but changing it is not allowed.\n"
 "\n"
@@ -1401,8 +1390,7 @@
 "\n"
 "    a) Accompany it with the complete corresponding machine-readable\n"
 "    source code, which must be distributed under the terms of Sections\n"
-"    1 and 2 above on a medium customarily used for software interchange; "
-"or,\n"
+"    1 and 2 above on a medium customarily used for software interchange; or,\n"
 "\n"
 "    b) Accompany it with a written offer, valid for at least three\n"
 "    years, to give any third party, for a charge no more than your\n"
@@ -1509,8 +1497,7 @@
 "later version\", you have the option of following the terms and conditions\n"
 "either of that version or of any later version published by the Free\n"
 "Software Foundation.  If the Program does not specify a version number of\n"
-"this License, you may choose any version ever published by the Free "
-"Software\n"
+"this License, you may choose any version ever published by the Free Software\n"
 "Foundation.\n"
 "\n"
 "  10. If you wish to incorporate parts of the Program into other free\n"
@@ -1526,8 +1513,7 @@
 "  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\n"
 "FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\n"
 "OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\n"
-"PROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER "
-"EXPRESSED\n"
+"PROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\n"
 "OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n"
 "MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\n"
 "TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\n"
@@ -1572,8 +1558,7 @@
 "\n"
 "    You should have received a copy of the GNU General Public License\n"
 "    along with this program; if not, write to the Free Software\n"
-"    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  "
-"USA\n"
+"    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n"
 "\n"
 "\n"
 "Also add information on how to contact you by electronic and paper mail.\n"
@@ -1582,8 +1567,7 @@
 "when it starts in an interactive mode:\n"
 "\n"
 "    Gnomovision version 69, Copyright (C) year name of author\n"
-"    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show "
-"w'.\n"
+"    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\n"
 "    This is free software, and you are welcome to redistribute it\n"
 "    under certain conditions; type `show c' for details.\n"
 "\n"
@@ -1611,11 +1595,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:74
 msgid "http://www.avidemux.org"
-msgstr ""
+msgstr "http://www.avidemux.org"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp:138
 msgid "AudioCodec"
-msgstr "?????? ?????"
+msgstr "????? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp:163
 msgid "Configure codec"
@@ -1655,27 +1639,27 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:276
 msgid "Chapter 1"
-msgstr ""
+msgstr "???????? 1"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:283
 msgid "Chapter 2"
-msgstr ""
+msgstr "???????? 2"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:290
 msgid "Chapter 3"
-msgstr ""
+msgstr "???????? 3"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:297
 msgid "Chapter 4"
-msgstr ""
+msgstr "???????? 4"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:304
 msgid "Chapter 5"
-msgstr ""
+msgstr "???????? 5"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:311
 msgid "Chapter 6"
-msgstr ""
+msgstr "???????? 6"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:324
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:333
@@ -1684,7 +1668,7 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:360
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:369
 msgid "Start frame for this vignette."
-msgstr "???????? ????? ?? ??? ?????"
+msgstr "??????? ????? ?? ??? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:372
 msgid "<b>TimeCode</b>"
@@ -1692,23 +1676,23 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:282
 msgid "ASharp by MarcFD"
-msgstr "ASharp ??????????? ??????? MarcFD"
+msgstr "ASharp ??????????? (MarcFD)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:295
 msgid "Threshold :"
-msgstr "??????????"
+msgstr "?????????? :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:303
 msgid "Strength :"
-msgstr "??????"
+msgstr "?????? :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:311
 msgid "Block Adaptative :"
-msgstr "??????????? ?? ????? :"
+msgstr "????????????? ????? :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:319
 msgid "Unknown flag :"
-msgstr ""
+msgstr "????????? ?????????:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:351
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:208
@@ -1724,11 +1708,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:227
 msgid "DRC"
-msgstr "????????? ????????? ??????"
+msgstr "????????? ????????? ?????? (DRC)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:235
 msgid "Timeshift"
-msgstr "??????? ???????"
+msgstr "?????? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:244
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1459
@@ -1736,22 +1720,25 @@
 msgstr "<b>??????</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:267
+#, fuzzy
 msgid "Resample to hz"
-msgstr ""
+msgstr "??????? ??? ? hz"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:277
+#, fuzzy
 msgid "<b>Resampling</b>"
-msgstr ""
+msgstr "<b>????????? ????</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:296
 msgid "Film -> PAL"
-msgstr "???? -> ???"
+msgstr "???? -> PAL"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:302
 msgid "PAL->Film"
-msgstr "??? -> ????"
+msgstr "PAL -> ????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:308
+#, fuzzy
 msgid "<b>Fps convert</b>"
 msgstr "<b>??????? ????? ??????? ?? ???????</b>"
 
@@ -1770,7 +1757,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:357
 msgid "<b>Gain</b>"
-msgstr "<b>????????</b>"
+msgstr "<b>??????????</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:369
 msgid "No change"
@@ -1798,7 +1785,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:377
 msgid "5.1"
-msgstr "5.1"
+msgstr "5+1 ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:378
 msgid "Dolby Prologic"
@@ -1818,7 +1805,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:403
 msgid "Bitrate Calculator"
-msgstr "??????? ?????????? "
+msgstr "?????????? ??????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:431
 msgid "Duration:"
@@ -1827,28 +1814,30 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:437
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:198
 msgid "00:00:00"
-msgstr ""
+msgstr "00:00:00"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:451
 msgid "_Medium:"
-msgstr "??????:"
+msgstr "_??????:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:462
 msgid "_Format:"
-msgstr "??????:"
+msgstr "_??????:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:473
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:531
+#, fuzzy
 msgid "Total size (custom)"
-msgstr "?????? ???????? (?????????)"
+msgstr "?????? ???????? (?????)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:483
+#, fuzzy
 msgid "_Custom size (MB):"
-msgstr "???????? ???????? (MB):"
+msgstr "_?????? ???????? (MB):"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:497
 msgid "Output container format"
-msgstr "??????? ??????"
+msgstr "??????? ?????? ??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:524
 msgid "Total size"
@@ -1856,33 +1845,33 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:528
 msgid "1x 80 min. CD"
-msgstr ""
+msgstr "1 ?? ?? 80 ???"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:533
 msgid "2x 80 min. CD"
-msgstr ""
+msgstr "2 ??-? ?? 80 ???"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:537
 msgid "1x 74 min. CD"
-msgstr ""
+msgstr "1 ???? 74 ???"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:541
 msgid "2x 74 min. CD"
-msgstr ""
+msgstr "2 ??-? ?? 74 ???"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:545
 msgid "DVD5"
-msgstr ""
+msgstr "??? 4,7 GB"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:549
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:802
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:902
 msgid "Custom"
-msgstr "?????????"
+msgstr "??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:555
 msgid "<b>Target</b>"
-msgstr "<b>????</b>"
+msgstr "<b>?????? ??????? ????????</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:575
 msgid "Track _1:"
@@ -1890,7 +1879,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:583
 msgid "Audio bitrate in kb/s for track 1 (0 for no audio)"
-msgstr "??????? ????? (????/???) ?? ????? 1 (0 ?? ??? ?????)"
+msgstr "?????? ?????? ?????? (kb/s) ?? ????? 1 (0 = ??? ?????)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:591
 msgid "Track _2: "
@@ -1898,15 +1887,15 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:599
 msgid "Audio bitrate in kb/s for track 2 (optional)"
-msgstr "??????? ????? (????/???) ?? ????? 2 (???????)"
+msgstr "?????? ?????? ?????? (kb/s) ?? ????? 2 (???????)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:603
 msgid "<b>Audio Bitrate</b>"
-msgstr "<b>??????? ?????</b>"
+msgstr "<b>?????? ?????? ??????</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:625
 msgid "Audio size (MB):"
-msgstr "???????? ????? (MB):"
+msgstr "???????? ?????? (MB):"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:633
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:649
@@ -1938,15 +1927,16 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:679
 msgid "Video bitrate:"
-msgstr "????? ???????:"
+msgstr "?????? ?????? ?????:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:687
+#, fuzzy
 msgid "Bits per pixel:"
-msgstr "???? ?? ???????:"
+msgstr "?????? ?? ???????:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:703
 msgid "0.0"
-msgstr ""
+msgstr "0.0"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:711
 msgid "<b>Result</b>"
@@ -1958,20 +1948,19 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:278
 msgid "U Shift :"
-msgstr "? ???????"
+msgstr "U ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:285
 msgid "V Shift :"
-msgstr "? ???????"
+msgstr "V ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:327
-#, fuzzy
 msgid "<b>Preview</b>"
-msgstr "<b>?????</b>"
+msgstr "<b>???????</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:137
 msgid "Chroma Noise Reduction 2"
-msgstr "??????? ???? ??????? ???? (CNR2)"
+msgstr "????? ??????? ???? 2"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:162
 msgid "<b>Scene change Treshold</b>"
@@ -1987,15 +1976,15 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:204
 msgid "Luma :"
-msgstr "??????????? :"
+msgstr "???? :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:211
 msgid "Chroma U :"
-msgstr "?????? ???? U"
+msgstr "????? U"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:218
 msgid "Chroma V :"
-msgstr "?????? ???? V :"
+msgstr "????? V :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:261
 msgid "Narrow"
@@ -2007,7 +1996,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:305
 msgid "Use also chroma to detect scene change"
-msgstr "?????? ??????? ?????? ???? ?? ????????? ??????? ?????"
+msgstr "?????? ??????? ????? ?????? ?? ????????? ??????? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:309
 msgid "<b>Mode</b>"
@@ -2019,7 +2008,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:155
 msgid "ColorYuv (From avisynth)"
-msgstr "Yuv ???? (?? avisynth-?)"
+msgstr "YUV ???? (?? avisynth-?)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:179
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:246
@@ -2043,12 +2032,12 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:214
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:297
 msgid "Chroma U"
-msgstr "????? ?"
+msgstr "????? U"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:221
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:301
 msgid "Chroma V"
-msgstr "????? ?"
+msgstr "????? V"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:324
 msgid "<b>Color Correction Matrix</b>"
@@ -2112,7 +2101,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:293
 msgid "Luma"
-msgstr "???????????"
+msgstr "????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:544
 msgid "Crop Settings"
@@ -2149,11 +2138,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:377
 msgid "Encoding in Progress"
-msgstr "?????????? ? ????"
+msgstr "???????? ?? ? ????..."
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:387
 msgid "<b><big>Encoding files</big></b>"
-msgstr "<b><big>??????? ?? ??????????</big></b>"
+msgstr "<b><big>??????? ????????</big></b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:400
 msgid "<b>Phasis:</b>"
@@ -2165,7 +2154,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:428
 msgid "00000/00000"
-msgstr ""
+msgstr "00000/00000"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:436
 msgid "<b>Vid codec:</b>"
@@ -2181,11 +2170,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:467
 msgid "<b>Vid Bitrate:</b>"
-msgstr "<b>????? ???????:</b>"
+msgstr "<b>????? ?????? ??????:</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:477
 msgid "<b>Quantizer:</b>"
-msgstr "?????????"
+msgstr "<b>?????????</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:487
 msgid "<b>Video Size:</b>"
@@ -2193,7 +2182,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:498
 msgid "<b>Audio Size:</b>"
-msgstr "<b>???????? ?????</b>"
+msgstr "<b>???????? ?????</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:508
 msgid "<b>Total Size:</b>"
@@ -2209,9 +2198,10 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:592
 msgid "0 h 0 mn 0 s"
-msgstr "0 ???? 0 ??? 0 ???"
+msgstr "0 h 0 min 0 s"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:602
+#, fuzzy
 msgid "<b>Container:</b>"
 msgstr "<b>?????????:</b>"
 
@@ -2221,7 +2211,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:330
 msgid "MPlayer eq2"
-msgstr ""
+msgstr "?Player ?????????? 2"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:356
 msgid "Brigh_tness:"
@@ -2229,15 +2219,15 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:364
 msgid "_Saturation:"
-msgstr "_????????"
+msgstr "?????????? _????:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:399
 msgid "_Contrast:"
-msgstr "????????:"
+msgstr "_????????:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:425
 msgid "_Initial:"
-msgstr "_??????"
+msgstr "_??????:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:451
 msgid "_Red:"
@@ -2253,7 +2243,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:484
 msgid "_Weight:"
-msgstr "_????????"
+msgstr "????_????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:510
 msgid "<b>Gamma</b>"
@@ -2265,7 +2255,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_exLame.cpp:80
 msgid "Lame command"
-msgstr "Lame ???????"
+msgstr "??????? lame kodera"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_exLame.cpp:89
 msgid "Enter parameters (i.e. -b 192 -m s ...)"
@@ -2273,19 +2263,19 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:246
 msgid "Hue/Saturation"
-msgstr ""
+msgstr "Hue ? ??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:260
 msgid "<b>Hue:</b>"
-msgstr ""
+msgstr "<b>Hue:</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:268
 msgid "<b>Saturation:</b>"
-msgstr "<b>??????????:</b>"
+msgstr "<b>?????????? ????:</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:51
 msgid "Continue indexing"
-msgstr "??????? ???????????"
+msgstr "??????? ???????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:51
 msgid "Abort Requested"
@@ -2293,32 +2283,32 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:51
 msgid "Do you want to abort indexing ?"
-msgstr "?? ?? ?????? ?? ????????? ????????????"
+msgstr "?? ?? ?????? ?? ????????? ???????? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:153
 msgid "Indexing..."
-msgstr "??????????..."
+msgstr "?????? ??????..."
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:174
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:259
 msgid "Time left :"
-msgstr "???????? ????? :"
+msgstr "????????? ????? :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:182
 msgid "Timecode :"
-msgstr ""
+msgstr "??????????? ????? :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:190
 msgid "Nb pictures seen :"
-msgstr "???? ?????????? ????? :"
+msgstr "???? ???????? ????? :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:214
 msgid "Indexing :"
-msgstr "??????????:"
+msgstr "???????? ??????? :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:222
 msgid "/dev/null"
-msgstr ""
+msgstr "/dev/null"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:25
 msgid "Ready"
@@ -2356,7 +2346,7 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:134
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:172
 msgid "Sure!"
-msgstr "??"
+msgstr "Sigurno!"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:134
 msgid "Delete ALL jobs"
@@ -2373,7 +2363,7 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:172
 #, c-format
 msgid "Are you sure you want to delete %s job ?"
-msgstr "?? ?? ??? ?????? ?? ?????? ?? ???????? ??????? %s ?"
+msgstr "?? ?? ??? ??????? ?? ?????? ?? ???????? ??????? %s ?"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:181
 msgid "Unknown event"
@@ -2393,7 +2383,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:297
 msgid "Run all jobs"
-msgstr "??????? ??????????"
+msgstr "??????? ??? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:302
 msgid "Run Job"
@@ -2437,7 +2427,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:162
 msgid "Filename of the audio/video output"
-msgstr "??? ???????? ?? ????/????? ??????"
+msgstr "??? ???????? ?????/????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:165
 msgid "_Job name:"
@@ -2449,11 +2439,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_lavdecoder.cpp:79
 msgid "Libavcodec Decoder Option"
-msgstr "?????? libavcodec"
+msgstr "???????? libavcodec ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_lavdecoder.cpp:88
 msgid "Swap UV"
-msgstr "?????? UV"
+msgstr "???????? UV"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_lavdecoder.cpp:92
 msgid "Show motion Vectors"
@@ -2465,27 +2455,28 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mjpeg.cpp:93
 msgid "Swap U & V"
-msgstr "?????? ? ? ?"
+msgstr "?????? U ? V"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:356
+#, fuzzy
 msgid "Mplayer Delogo"
-msgstr "MPlayer ???????? ?????"
+msgstr "MPlayer-??? ???????? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:374
 msgid "X"
-msgstr ""
+msgstr "X"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:381
 msgid "Y"
-msgstr ""
+msgstr "Y"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:388
 msgid "W"
-msgstr ""
+msgstr "W"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:395
 msgid "H"
-msgstr ""
+msgstr "H"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:402
 msgid "Band"
@@ -2493,7 +2484,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:104
 msgid "Mpeg2 options"
-msgstr "Mpeg2 ??????"
+msgstr "MPEG2 ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:113
 msgid "Other arg"
@@ -2501,15 +2492,15 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:121
 msgid "Quantisation (2-31)"
-msgstr ""
+msgstr "???????????? (2-31)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:129
 msgid "Maximum bitrate (kbps)"
-msgstr "??????? ??????? (??/???)"
+msgstr "??????? ??????? (kbps)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:85
 msgid "Mini OCR"
-msgstr "???? ???"
+msgstr "???? OCR"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:118
 msgid "<b>Glyphs</b>"
@@ -2529,15 +2520,15 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:186
 msgid "  "
-msgstr ""
+msgstr "  "
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:195
 msgid "VobSub"
-msgstr ""
+msgstr "VobSub"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:217
 msgid "Output Srt"
-msgstr "??????? Srt"
+msgstr "??????? SRT"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:222
 msgid "<b>Files</b>"
@@ -2545,7 +2536,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:228
 msgid "StartOcr"
-msgstr "????? ???"
+msgstr "????? OCR"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:249
 msgid "Current Glyph"
@@ -2557,7 +2548,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:287
 msgid "Calibrate"
-msgstr "???????????"
+msgstr "??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:292
 msgid "Skip all"
@@ -2576,29 +2567,30 @@
 msgstr "? ????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:316
+#, fuzzy
 msgid "<b>Bitmap</b>"
-msgstr ""
+msgstr "<b>??????????? ?????</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:123
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:144
 msgid "Partial"
-msgstr "?????????"
+msgstr "?????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:137
 msgid "Start frame for partial :"
-msgstr ""
+msgstr "??????? ????? ?????????? ???????:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:144
 msgid "End frame for partial :"
-msgstr ""
+msgstr "?????? ????? ?????????? ???????:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:167
 msgid "Configure partialized filter"
-msgstr ""
+msgstr "?????? ????????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:93
 msgid "Paused"
-msgstr "?????"
+msgstr "???????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:109
 msgid ""
@@ -2606,8 +2598,9 @@
 "\n"
 "You can either resume or Abort it."
 msgstr ""
-"<b>?????????? ?? ???????????.</b>\n"
-"?????? ??? ????????? ??? ????????? ??????????.</b>"
+"<b>???????? ?? ???????????.</b>\n"
+"\n"
+"?????? ????????? ??? ????????? ????????."
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:136
 msgid "Abort"
@@ -2619,7 +2612,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pipe.cpp:95
 msgid "Pipe to"
-msgstr "???????? ?"
+msgstr "??????? ?"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pipe.cpp:104
 msgid "Application path/name (/usr/bin/sox...)"
@@ -2627,7 +2620,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pipe.cpp:113
 msgid "Full parameter line"
-msgstr ""
+msgstr "?????? ?? ???????? ???????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp:280
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:150
@@ -2652,7 +2645,7 @@
 #: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:132
 #, c-format
 msgid "NONE"
-msgstr "?????"
+msgstr "?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:207
 msgid "Informations"
@@ -2660,11 +2653,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:229
 msgid "Frame Rate"
-msgstr "?????????? ??????? "
+msgstr "?????????? ??????? "
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:236
 msgid "# of frames"
-msgstr "# ?? ?????"
+msgstr "# ?? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:243
 msgid "Codec 4CC"
@@ -2680,11 +2673,12 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:306
 msgid "-/-"
-msgstr ""
+msgstr "-/-"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:339
+#, fuzzy
 msgid "Packed Bistream"
-msgstr "?????????? ????????"
+msgstr "????????? ?????? ???"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:346
 msgid "Quarter Pixel"
@@ -2692,7 +2686,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:353
 msgid "GMC "
-msgstr ""
+msgstr "GMC "
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:381
 msgid "<b>Extra Properties</b>"
@@ -2713,11 +2707,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:413
 msgid "Bitrate "
-msgstr "???????"
+msgstr "?????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:420
 msgid "Frequency"
-msgstr "??????????"
+msgstr "??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:427
 msgid "Audio duration  "
@@ -2738,7 +2732,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_quota.cpp:155
 msgid "Retry"
-msgstr "?????? ??????"
+msgstr "?????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_recent.cpp:96
 msgid "Recent files"
@@ -2746,7 +2740,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_requant.cpp:85
 msgid "Requantize Option"
-msgstr ""
+msgstr "?????????? ??????????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_requant.cpp:95
 msgid "Shrink factor"
@@ -2762,20 +2756,20 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:333
 msgid " Height "
-msgstr "??????"
+msgstr "??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:356
 msgid "Source :"
-msgstr "?????"
+msgstr "????? :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:362
 msgid "Destination"
-msgstr "???????????"
+msgstr "?????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:376
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:398
 msgid "1:1"
-msgstr ""
+msgstr "1:1"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:412
 msgid " Error X:"
@@ -2786,52 +2780,56 @@
 msgstr " ?????? Y:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:440
+#, fuzzy
 msgid "16 round up"
-msgstr ""
+msgstr "16 ??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:454
+#, fuzzy
 msgid "Bilinear"
 msgstr "???????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:458
+#, fuzzy
 msgid "Bicubic"
-msgstr "????????"
+msgstr "??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:462
+#, fuzzy
 msgid "Lanczos3"
 msgstr "??????3"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:348
 msgid "Subtitle to load"
-msgstr "???? ?? ?????????"
+msgstr "?????? ?? ?????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:358
 msgid "TTF font to use"
-msgstr "??? ?????? ???"
+msgstr "TTF ?????? ???"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:475
 msgid "Subtitle selector"
-msgstr "?????? ???????"
+msgstr "?????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:488
 msgid "Subtitle file "
-msgstr "???????? ?? ??????"
+msgstr "???????? ?? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:495
 msgid "Font (TTF)"
-msgstr "?????? ??? (???)"
+msgstr "?????? ??? (TTF)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:502
 msgid "Encoding "
-msgstr "??????????"
+msgstr "K???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:509
 msgid "Font Size"
-msgstr "???????? ?????"
+msgstr "???????? ??????? ????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:522
 msgid "sub"
-msgstr ""
+msgstr "SUB"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:540
 msgid "font"
@@ -2839,7 +2837,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:560
 msgid "Ascii"
-msgstr ""
+msgstr "Acsii"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:586
 msgid "Select color"
@@ -2855,7 +2853,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:609
 msgid "Delay in ms"
-msgstr "??????? ? ????"
+msgstr "??????? ? ms"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:624
 msgid "Force background"
@@ -2895,6 +2893,7 @@
 msgstr "???"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:215
+#, fuzzy
 msgid "Cubic Interpolation"
 msgstr "????? ?????????????"
 
@@ -2903,6 +2902,7 @@
 msgstr "???????? ELA"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:217
+#, fuzzy
 msgid "Kernerl interpolation"
 msgstr "?????? ?????????????"
 
@@ -2912,7 +2912,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:220
 msgid "MntMode"
-msgstr "?nt ???"
+msgstr "?nt ???"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:232
 msgid "4 field check"
@@ -2932,7 +2932,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:237
 msgid "Use Chroma to evalute"
-msgstr "??????? ?????? ???? ?? ???????"
+msgstr "??????? ????? ?????? ?? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:250
 msgid "Try weave "
@@ -2989,17 +2989,18 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:339
 msgid "motion Threshold, Luma"
-msgstr "?????????? ???????, ???????????"
+msgstr "?????????? ?? ??????, ????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:346
 msgid "motion Threshold, Chroma"
-msgstr "?????????? ???????, ?????? ????"
+msgstr "?????????? ?? ??????, ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:369
 msgid "Area Combing Threshold"
 msgstr "??????????? ??????????? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:383
+#, fuzzy
 msgid "Combed Treshold"
 msgstr "Combed ??????????"
 
@@ -3009,60 +3010,59 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:56
 msgid "Select Vob file to scan"
-msgstr "??????? Vob ???????? ?? ?????????"
+msgstr "??????? VOB ???????? ?? ?????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:67
 msgid "Select ifo file to use"
-msgstr "??????? ???? ifo ???????? ?? ????????"
+msgstr "??????? ???? IFO ???????? ?? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:78
 msgid "Select vobsub to write"
-msgstr "??????? vobsub ?? ????"
+msgstr "??????? VOBSub ?? ????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:92
 msgid "Invalid vobname"
-msgstr "???????? vob ???"
+msgstr "???????? VOB ???"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:92
 msgid "Please select or enter a valid vob name"
-msgstr "????????? ??? ??????? ???????? vob ???"
+msgstr "????????? ??? ??????? ???????? VOB ???"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:98
 msgid "Invalid ifo"
-msgstr "???????? ifo"
+msgstr "???????? IFO"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:98
 msgid "Please select or enter a valid ifo file"
-msgstr "????????? ??? ??????? ???????? ifo ????????"
+msgstr "????????? ??? ??????? ???????? IFO ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:104
 msgid "Invalid vobsubname"
-msgstr "???????? vobsub ???"
+msgstr "???????? VOBSub ???"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:104
 msgid "Please select or enter a valid vobsub file"
-msgstr "????????? ??? ??????? ???????? vobsub ???"
+msgstr "????????? ??? ??????? ???????? VOBSub ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:152
 msgid "Vob to Vobsub"
-msgstr "Vob ? Vobsub"
+msgstr "VOB ? VOBSub"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:162
 msgid "Vob :"
-msgstr ""
+msgstr "VOB :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:169
 msgid "Ifo :"
-msgstr ""
+msgstr "IFO :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:176
 msgid "Output vobsub (.idx) :"
-msgstr "??????? vobsub (.idx) :"
+msgstr "??????? VOBSub (IDX) :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:104
-#, fuzzy
 msgid "Video encoder"
-msgstr "???? ????????."
+msgstr "????? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:118
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1018
@@ -3084,7 +3084,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:227
 msgid "Select Language :"
-msgstr "??????? ?????"
+msgstr "??????? ????? :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:241
 msgid "Select Sub"
@@ -3092,23 +3092,24 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:254
 msgid "Extra Shrink Factor :"
-msgstr "??????? ?????? ??????"
+msgstr "??????? ?????? ?????? :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:269
 msgid "Shift (ms) :"
-msgstr "?????? (????)"
+msgstr "??????? (ms) :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:283
 msgid "Extra Settings"
 msgstr "??????? ??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:246
+#, fuzzy
 msgid "dialog1"
 msgstr "???????1"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:264
 msgid "0:0:0"
-msgstr ""
+msgstr "0:0:0"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:554
 msgid "X264 configuration"
@@ -3116,39 +3117,35 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:569
 msgid "Encoding Mode:"
-msgstr "????? ??????????:"
+msgstr "??? ????????:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:581
 msgid "Entry input for target file size or bitrate"
-msgstr ""
+msgstr "???? ?? ???? ??????? ???????? ??? ??????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:583
 msgid "Quantizer (0-51):"
 msgstr "????????? (0-51):"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:596
-msgid ""
-"Constant Quantizer - Each frame will the same compression. Low numbers equal "
-"higher quality while high numbers equal lower quality"
-msgstr ""
-"?????????? ????????? - ????? ????? ?? ????? ???? ??????????. ???? "
-"????????????? ???? ???????? ??? ???? ????????? ???? ???? ????????"
+msgid "Constant Quantizer - Each frame will the same compression. Low numbers equal higher quality while high numbers equal lower quality"
+msgstr "?????????? ????????? - ????? ????? ?? ????? ???? ??????????. ???? ????????? ???? ???? ???????? ??? ???? ????????? ???? ???? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:606
 msgid "Target Size:"
-msgstr "??????? ????????"
+msgstr "??????? ???????? ????????:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:618
 msgid "Single Pass - Quality Quantizer (Average)"
-msgstr "????? ?????? - ????????? (??????)"
+msgstr "????? ?????? - ???????? ?????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:619
 msgid "Single Pass - Quality Quantizer (Constant)"
-msgstr "????? ?????? - ????????? (??????????)"
+msgstr "????? ?????? - ?????????? ?????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:620
 msgid "Single Pass - Bitrate (Average)"
-msgstr "????? ?????? - ??????? (??????)"
+msgstr "????? ?????? - ???????? ?????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:621
 msgid "Two Pass - File Size"
@@ -3156,7 +3153,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:622
 msgid "Two Pass - Average bitrate"
-msgstr "??? ??????? - ???????? ???????"
+msgstr "??? ??????? - ???????? ?????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:650
 msgid "Partition decision"
@@ -3219,13 +3216,8 @@
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:699
-msgid ""
-"Set how many previous frames can be referenced by a P/B-frame. Numbers above "
-"5 do not seem to improve quality greatly. Numbers are 3 to 5 are recommended"
-msgstr ""
-"??????? ?????? ?????????? ??????? ???? ???? ???????? ?? ?????? ?/? ?????. "
-"???????????? 5 ??????? ?? ?? ?????????? ?????? ????????. ??????? ?? 3 ?? 5 "
-"?? ????????????"
+msgid "Set how many previous frames can be referenced by a P/B-frame. Numbers above 5 do not seem to improve quality greatly. Numbers are 3 to 5 are recommended"
+msgstr "??????? ?????? ?????????? ??????? ???? ???? ???????? ?? ?????? ?/? ?????. ??????? ????? 5 ??????? ?? ?? ?????????? ?????? ????????. ??????? ?? 3 ?? 5 ?? ????????????."
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:702
 msgid "Max. Ref. frames"
@@ -3236,111 +3228,96 @@
 msgstr "?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:722
-msgid ""
-"Define how many pixels are analysised. The higher the range the more "
-"accurate the analysis but the slower the encoding time"
-msgstr ""
-"???????? ?????? ??????? ?? ???????????. ???? ????? ???? ?????????? ? "
-"?????????? ??????? ??????????"
+msgid "Define how many pixels are analysised. The higher the range the more accurate the analysis but the slower the encoding time"
+msgstr "???????? ?????? ??????? ?? ???????????. ???? ???????? ?????? ???? ?????????? ??????? ??? ??????? ????????."
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:725
 msgid "Chroma ME"
-msgstr "?????? ???? ME"
+msgstr "????? ME"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:730
-msgid ""
-"Uses chroma (color) components for motion for compression and helps the "
-"quality"
-msgstr ""
-"??????? ?????????? ?? ??????? ??????? ???? ?? ?????????? ? ?????? ?????????."
+msgid "Uses chroma (color) components for motion for compression and helps the quality"
+msgstr "??????? ????? ?????????? (????) ?? ?????? ?? ?????????? ? ?????? ?????????."
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:733
 msgid "Mixed Refs"
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:738
+#, fuzzy
 msgid "Calculate referencing individually based on each partition"
-msgstr ""
+msgstr "?????????? ?????????? ???????? ???????? ?? ?????? ?????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:744
 msgid "Fast P-Skip"
-msgstr ""
+msgstr "???? ? ??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:747
 msgid "Uncheck to enable fast p-skip"
-msgstr ""
+msgstr "????????? ?? ?? ???????? ???? ? ??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:750
 msgid "DCT decimate"
-msgstr ""
+msgstr "DCT ???????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:754
-#, fuzzy
 msgid "Interlace"
-msgstr "_???????????"
+msgstr "?????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:757
-#, fuzzy
 msgid "Encode interlaced"
-msgstr "????????? ?????????"
+msgstr "??????? ??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:759
 msgid "<b>Motion Estimation</b>"
-msgstr "<b>?????????? ???????</b>"
+msgstr "<b>??????? ???????</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:786
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:798
-msgid ""
-"Enforce the size of a decoded pixel decoded to a certain value. Leave this "
-"at 1:1 for non-anamorphic video"
-msgstr ""
+#, fuzzy
+msgid "Enforce the size of a decoded pixel decoded to a certain value. Leave this at 1:1 for non-anamorphic video"
+msgstr "??????? ???????? ??????????? ???????, ??????????? ?? ???????? ????????. ?????? ?? 1:1 ?? ?? ?????????? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:787
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:799
 msgid "1"
-msgstr ""
+msgstr "1"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:790
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1051
 msgid ":"
-msgstr ""
+msgstr ":"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:807
 msgid "Set a custom aspect ratio. Default 1:1 is recommended for most video."
-msgstr ""
+msgstr "??????? ?????????? ???????. ????????????? 1:1 ?? ???????????? ?? ?????? ?????."
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:812
-#, fuzzy
 msgid "Predefined Aspect Ratios"
-msgstr "??????? ???????:"
+msgstr "????????????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:817
+#, fuzzy
 msgid "Set a common predefined aspect ratio"
-msgstr ""
+msgstr "??????? ????? ????????????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:827
 #, fuzzy
 msgid "<b>Sample Aspect Ratio (A/R)</b>"
-msgstr "<b>???????</b>"
+msgstr "<b>??????? ?????? (A/R)</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:849
 msgid "CABAC"
-msgstr ""
+msgstr "CABAC"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:852
-msgid ""
-"Lossless compression method which usually improves the bitrate usage by 15% "
-"(especially on high bitrate). Helps the quality a lot but is slower. "
-msgstr ""
-"?????????? ??? ??????? ???????? ???? ?????? ?????????? ????????? ???????? ?? "
-"15%(??????? ?? ??????? ????????????). ???? ????? ???? ???????? ??? ?? "
-"???????."
+msgid "Lossless compression method which usually improves the bitrate usage by 15% (especially on high bitrate). Helps the quality a lot but is slower. "
+msgstr "?????????? ??? ??????? ???????? ???? ?????? ?????????? ????????? ??????? ??????? ?? 15%(??????? ?? ??????? ?????????). ???? ????? ???? ???????? ??? ?? ???????."
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:864
-msgid ""
-"Use rate distortion quantization to find optimal encoding for each block. "
-"Level 0 equals disabled, level 1 equals normal and level 2 equals high"
-msgstr ""
+#, fuzzy
+msgid "Use rate distortion quantization to find optimal encoding for each block. Level 0 equals disabled, level 1 equals normal and level 2 equals high"
+msgstr "??????? ???????????? ?? ??????????? ???????? ?? ???????? ?????????? ???????? ?????? ?????. ???? 0 ?? ???????????, 1 ?? ???????? ? 2 ?? ??????."
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:871
 msgid "Noise Reduction"
@@ -3352,7 +3329,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:887
 msgid "Deblocking Filter :"
-msgstr ""
+msgstr "?????? ?? ???????? ??????? :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:890
 msgid "Enable in-loop deblocking to filter the video"
@@ -3360,8 +3337,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:903
 msgid "Set the amount of blurring to use for block edges when they are found"
-msgstr ""
-"?????? ???? ???????? ???? ?? ???????? ?? ????? ??????? ???? ??? ???????"
+msgstr "?????? ???? ???????? ???? ?? ???????? ?? ????? ??????? ???? ??? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:912
 msgid "Define the level for when deblocking is applied"
@@ -3382,7 +3358,7 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:936
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1066
 msgid "Motion & Misc"
-msgstr "??????? ? ??????"
+msgstr "?????? ? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:957
 msgid "8x8 Transform"
@@ -3441,16 +3417,11 @@
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1027
-msgid ""
-"Increase / decrease probability for how often B-frames are used. Will not "
-"violate the maximum consecutive frame limit"
+msgid "Increase / decrease probability for how often B-frames are used. Will not violate the maximum consecutive frame limit"
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1036
-msgid ""
-"Set the maximum number of consecutive B-frames. This defines how many "
-"duplicate frames can be droped. Numbers 2 to 5 are recommended. This greatly "
-"improves the use of bitrate and quality"
+msgid "Set the maximum number of consecutive B-frames. This defines how many duplicate frames can be droped. Numbers 2 to 5 are recommended. This greatly improves the use of bitrate and quality"
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1039
@@ -3462,9 +3433,7 @@
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1055
-msgid ""
-"Jointly optimize both Motion Vector's in B-frames. This will improve quality "
-"but take more time for encoding"
+msgid "Jointly optimize both Motion Vector's in B-frames. This will improve quality but take more time for encoding"
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1057
@@ -3480,9 +3449,7 @@
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1070
-msgid ""
-"Use fewer B-frame if needed. This is always recommended. If not enabled, the "
-"codec will always use the maximum number of consecutive B-frames"
+msgid "Use fewer B-frame if needed. This is always recommended. If not enabled, the codec will always use the maximum number of consecutive B-frames"
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1073
@@ -3490,9 +3457,7 @@
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1078
-msgid ""
-"Allow B-frames to make references non-linearly to another B-frame (instead "
-"of creating a duplicate copy)"
+msgid "Allow B-frames to make references non-linearly to another B-frame (instead of creating a duplicate copy)"
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1084
@@ -3500,9 +3465,8 @@
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1092
-#, fuzzy
 msgid "Auto"
-msgstr "???_?"
+msgstr "??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1093
 msgid "Temporal"
@@ -3514,11 +3478,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1097
 msgid "<b>B-Frames</b>"
-msgstr ""
+msgstr "<b>? ???????</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1102
 msgid "Partitions & Frames"
-msgstr ""
+msgstr "?????? ? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1130
 msgid "Set how much \"bitrate bonus\" a keyframe can get"
@@ -3538,21 +3502,16 @@
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1160
-msgid ""
-"Set how much bitrate is deducted from a B-frame as compared to the previous "
-"P-frame"
+msgid "Set how much bitrate is deducted from a B-frame as compared to the previous P-frame"
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1169
-msgid ""
-"Define how much the bitrate can fluctuate over the entire video. 0% results "
-"in a constant bitrate stream, while 100% results in a pure quality based "
-"bitrate stream"
+msgid "Define how much the bitrate can fluctuate over the entire video. 0% results in a constant bitrate stream, while 100% results in a pure quality based bitrate stream"
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1172
 msgid "<b>Bitrate</b>"
-msgstr "<b>??????</b>"
+msgstr "<b>?????? ??????</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1190
 msgid "Min Qp"
@@ -3575,8 +3534,7 @@
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1236
-msgid ""
-"Define how much the quantizer rate can change between two consecutive frames"
+msgid "Define how much the quantizer rate can change between two consecutive frames"
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1239
@@ -3588,9 +3546,7 @@
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1271
-msgid ""
-"Increase / decrease sensitivity for detecting Scene Changes to compensate "
-"for. Improves I-frame usage and helps quality"
+msgid "Increase / decrease sensitivity for detecting Scene Changes to compensate for. Improves I-frame usage and helps quality"
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1274
@@ -3598,17 +3554,11 @@
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1287
-msgid ""
-"Set minimum frame interval between IDR frames. Defines the minimum amount a "
-"frame can be reused and referenced by other frames before a new clean one is "
-"established"
+msgid "Set minimum frame interval between IDR frames. Defines the minimum amount a frame can be reused and referenced by other frames before a new clean one is established"
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1296
-msgid ""
-"Set maximum frame interval between IDR frames. Defines the maximum amount a "
-"frame can be reused and referenced by other frames before a new clean one is "
-"established"
+msgid "Set maximum frame interval between IDR frames. Defines the maximum amount a frame can be reused and referenced by other frames before a new clean one is established"
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1299
@@ -3620,39 +3570,33 @@
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1324
+#, fuzzy
 msgid "VBV buffer size"
-msgstr ""
+msgstr "???????? VBV ????????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1331
+#, fuzzy
 msgid "Initial VBV buffer (%)"
-msgstr ""
+msgstr "??????? VBV ???????? (%)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1338
-#, fuzzy
 msgid "Maximum local bitrate"
-msgstr "??????? ??????? (??/???)"
+msgstr "??????? ??????? ?????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1369
-#, fuzzy
 msgid "<b>Video Buffer Verifier</b>"
-msgstr "<b>???????? ?????:</b>"
+msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1401
-msgid ""
-"Allowed variance of average bitrate. Lower values mean less variance. Higher "
-"values mean more variance."
+msgid "Allowed variance of average bitrate. Lower values mean less variance. Higher values mean more variance."
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1404
-#, fuzzy
 msgid "Bitrate Variance"
-msgstr "???????"
+msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1417
-msgid ""
-"Allowed variance of average quantizer or quality. Lower values mean less "
-"variance. Higher values mean more variance. Note that 0 means constant "
-"quality while 1 means constant fluctuation. Recommended 0.6."
+msgid "Allowed variance of average quantizer or quality. Lower values mean less variance. Higher values mean more variance. Note that 0 means constant quality while 1 means constant fluctuation. Recommended 0.6."
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1426
@@ -3664,9 +3608,8 @@
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1438
-#, fuzzy
 msgid "Quantizer Compression"
-msgstr "?????????? ??????????"
+msgstr "?????????? ??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1445
 msgid "Temp. Blur of est Frame Complexity"
@@ -3699,61 +3642,54 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1518
 #, fuzzy
 msgid "Chroma QP Offset"
-msgstr "?????? ???? U"
+msgstr "????? QP Offset"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1525
-#, fuzzy
 msgid "<b>Quantizers</b>"
-msgstr "?????????"
+msgstr "<b>??????????</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1543
-#, fuzzy
 msgid "Custom matrix"
-msgstr "_?????????? ???????"
+msgstr "?????????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1552
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1128
 msgid "Open CQM file"
-msgstr "?????? CQM ????????"
+msgstr "?????? CQM ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1558
-#, fuzzy
 msgid "JVT matrix"
-msgstr "???????"
+msgstr "?VT ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1566
 msgid "Flat matrix"
-msgstr ""
+msgstr "????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1575
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1136
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1568
 msgid "Edit Custom Matrix"
-msgstr "?????? ?????????? ???????"
+msgstr "????? ?????????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1580
-#, fuzzy
 msgid "Edit a loaded custom quantization matrix file"
-msgstr "?????? ??? ????????? ???????? ?? ????????."
+msgstr "????? ??????? ???????? ?? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1588
-#, fuzzy
 msgid "<b>Quantization Matrices</b>"
-msgstr "?????????"
+msgstr "<b>????????????? ???????</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1593
-#, fuzzy
 msgid "More"
-msgstr "???"
+msgstr "???"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1601
-#, fuzzy
 msgid "Defaults"
 msgstr "?????????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:186
 msgid "XVCD encoding"
-msgstr "XVCD ??????????"
+msgstr "XVCD ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:195
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:250
@@ -3762,7 +3698,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:209
 msgid "Constant Bitrate"
-msgstr "?????????? ???????"
+msgstr "?????? ?????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:223
 msgid "Dual pass"
@@ -3770,15 +3706,15 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:237
 msgid "Min bitrate (kbps) :"
-msgstr "??????? ??????? (??/???)"
+msgstr "??????? ??????? (kbps) :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:245
 msgid "Max bitrate (kbps) :"
-msgstr "??????? ??????? (??/???)"
+msgstr "??????? ??????? (kbps) :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:281
 msgid "Default mpeg"
-msgstr "????????????? mpeg"
+msgstr "????????????? MPEG"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:285
 msgid "Tmpeng "
@@ -3786,11 +3722,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:289
 msgid "Anim?"
-msgstr ""
+msgstr "?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:293
 msgid "K-VCD"
-msgstr ""
+msgstr "K-VCD"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:299
 msgid "Gop Size  (12):"
@@ -3802,13 +3738,15 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:237
 msgid "Xvid Encoder"
-msgstr "Xvid ???????"
+msgstr "Xvid ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:258
+#, fuzzy
 msgid "Constant Bitrate (kbps)"
-msgstr "?????????? ??????? (????/sek)"
+msgstr "?????????? ?????? ?????? (????/sek)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:266
+#, fuzzy
 msgid "Dual pass (MBytes)"
 msgstr "??? ??????? (?????????)"
 
@@ -3818,7 +3756,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:301
 msgid "Motion Search"
-msgstr "???????? ?? ????????"
+msgstr "????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:317
 msgid "Max I frame interval "
@@ -3831,7 +3769,7 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:357
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:884
 msgid "0 - None"
-msgstr "0 - ???"
+msgstr "0 - ??? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:361
 msgid "1- Very low"
@@ -3931,15 +3869,15 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:700
 msgid "XviD encoding options"
-msgstr "?????? XviD ??????????"
+msgstr "?????? XviD ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:734
 msgid "Encoding type:"
-msgstr "??? ??????????"
+msgstr "??? ????????:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:739
 msgid "Bitrate (kb/s):"
-msgstr "??????? (??/???)"
+msgstr "??????? (kb/s)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:744
 msgid "Quantizer:"
@@ -3947,11 +3885,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:756
 msgid "Select 1-pass or 2-pass encoding"
-msgstr "??????? ????? ??? ??? ???????"
+msgstr "??????? ???????? ? ?????? ??? ??? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:760
 msgid "Single pass - bitrate"
-msgstr "????? ?????? - ???????"
+msgstr "????? ?????? - ?????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:764
 msgid "Single pass - quantizer"
@@ -3963,15 +3901,15 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:772
 msgid "Two pass, average bitrate"
-msgstr "??? ??????? - ?????? ???????"
+msgstr "??? ??????? - ???????? ?????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:776
 msgid "Same Qz as input"
-msgstr "???? ??? ? ??????? ????????"
+msgstr "???? ????????? ??? ? ??????? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:785
 msgid "Target video bitrate"
-msgstr "??????? ???????? ?????"
+msgstr "?????? ?????? ???????? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:792
 msgid "Constant quantizer - each frame will get the same compression"
@@ -3979,19 +3917,16 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:794
 msgid "Variable bitrate mode"
-msgstr "????????? ???????"
+msgstr "??? ?? ??????????? ??????? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:806
 msgid "_Interlaced"
-msgstr "_???????????"
+msgstr "_?????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:809
-msgid ""
-"Enables interlaced frame support - use only if your source contains "
-"interlacing artifacts (i.e. fields instead of progressive frames)"
-msgstr ""
-"????????? ??????? ????????????? ??????? - ??????? ???? ??????? ??????????? "
-"???????????? ?????? (?? ?????? ???? ?????? ???????????? ???????)"
+#, fuzzy
+msgid "Enables interlaced frame support - use only if your source contains interlacing artifacts (i.e. fields instead of progressive frames)"
+msgstr "????????? ??????? ??????????? ??????? - ??????? ???? ??????? ????? ?????? ?????????? ?????? (?? ?????? ???? ?????? ???????????? ???????)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:811
 msgid "_Greyscale"
@@ -3999,15 +3934,15 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:814
 msgid "Encode in black & white"
-msgstr "????????? ????-????"
+msgstr "??????? ??? ????-????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:820
 msgid "Ca_rtoon mode"
-msgstr "??? ?? _?????? ????"
+msgstr "??? ?? ?_????? ????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:823
 msgid "Enables special motion estimation features for cartoons/anime"
-msgstr "????????? ?????????? ????????? ??????? ?? ?????? ???????"
+msgstr "????????? ?????????? ????????? ??????? ?? ?????? ??????? ? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:825
 msgid "C_hroma optimizer"
@@ -4015,7 +3950,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:828
 msgid "Enables a chroma optimizer prefilter"
-msgstr "????????? ?????????? ?? ???????????? ??????? ????"
+msgstr "????????? ????????? ?? ????? ????????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:834
 msgid "Turbo Mode"
@@ -4027,89 +3962,83 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:839
 msgid "Packed bitstream"
-msgstr "???????? ????????"
+msgstr "????????? ???"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:842
 msgid "Enables Divx like packed vop, DO NOT SET, it is ugly"
-msgstr ""
-"????????? VOP ???????? ?????? ??? ??? Divx-?.?? ????????? ???, ????? ??"
+msgstr "????????? VOP ???????? ?????? ??? ??? Divx-?. ?? ????????? ???, ????? ??!"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:844
 msgid "Main"
-msgstr "??????"
+msgstr "???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:863
 msgid "Motion search precision:"
-msgstr "?????????? ??????? ???????"
+msgstr "?????????? ??????? ???????:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:867
 msgid "VHQ mode:"
-msgstr "VHQ ???"
+msgstr "VHQ ???:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:880
-msgid ""
-"Higher settings give higher quality results, at the cost of slower encoding"
-msgstr ""
-"(????? ??????? ?????????)???? ????????? ???? ???? ????????, ??? ?? ????????? "
-"???????"
+msgid "Higher settings give higher quality results, at the cost of slower encoding"
+msgstr "???? ????????? ???? ???? ????????, ??? ?? ???????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:888
 msgid "1 - Very low"
-msgstr "1 - ????? ?????"
+msgstr "1 - ????? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:892
 msgid "2 - Low"
-msgstr "2 - ?????"
+msgstr "2 - ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:896
 msgid "3 - Medium"
-msgstr "3 - ??????"
+msgstr "3 - ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:900
 msgid "4 - High"
-msgstr "4 - ??????"
+msgstr "4 - ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:904
 msgid "5 - Very high"
-msgstr "5 - ????? ??????"
+msgstr "5 - ????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:908
 msgid "6 - Ultra high"
-msgstr "6 - ???????"
+msgstr "6 - ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:917
 msgid "VHQ enables an additional search process to increase quality"
-msgstr ""
-"VHQ (????? ??????? ?????????) ????????? ??????? ???? ???????????????? "
-"???????? ?????????"
+msgstr "VHQ (????? ??????? ?????????) ????????? ??????? ???? ??????? ??????? ???? ???????? ?????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:921
 msgid "0 - Off"
-msgstr "0 - ?????????"
+msgstr "0 - ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:925
 msgid "1 - Mode decision"
-msgstr "1 - ???????? ?????"
+msgstr "1 - ??????? ?????? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:929
 msgid "2 - Limited search"
-msgstr "2 - ?????????? ????????????"
+msgstr "2 - ?????????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:933
 msgid "3 - Medium search"
-msgstr "3 - ?????? ???? ????????????"
+msgstr "3 - ?????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:937
 msgid "4 - Wide search"
-msgstr "4 - ?????? ????????????"
+msgstr "4 - ?????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:947
 msgid "C_hroma motion"
-msgstr "_??????? ??????? ????"
+msgstr "_????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:950
 msgid "Use chroma information to estimate motion"
-msgstr "??????? ??????????? ? ??????? ???? ?? ??????? ???????"
+msgstr "??????? ????? ??????????? ?? ??????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:952
 msgid "_4MV"
@@ -4117,36 +4046,30 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:955
 msgid "Use 4 motion vectors per macroblock, might give better compression"
-msgstr ""
-"??????? 4 ??????? ??????? ?? ??????????.???? ?? ????????? ????? ???????????"
+msgstr "??????? 4 ??????? ??????? ?? ??????????, ???? ?? ?? ???? ??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:957
 msgid "HQ _AC"
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:960
-msgid ""
-"Enable a better prediction of AC component. Turns on Lumi masking - applies "
-"more compression to dark/light areas that the eye cannot notice easily"
-msgstr ""
-"????????? ???? ?????????? AC ??????????. ???????? ????????? ?????? ?????? - "
-"????????? ???? ?????????? ?? ???????/??????? ???????? ???? ??? ?? ???? ???? "
-"?? ???????"
+msgid "Enable a better prediction of AC component. Turns on Lumi masking - applies more compression to dark/light areas that the eye cannot notice easily"
+msgstr "????????? ???? ?????????? AC ??????????. ???????? ???? ????????? - ????????? ???? ?????????? ?? ???????/??????? ????????? ???? ??? ?? ???? ???? ?? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:966
 msgid "I-frame interval - Min:"
-msgstr "???????? ? ????? - ???"
+msgstr "???????? ? ????? - ???????:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:974
 msgid "Minimum space between I-frames, 1 will disable forced I-frame spacing"
-msgstr "????????? ????? ?????? ? ??????. 1 ????????? ????????? ??????? ? ?????"
+msgstr "????????? ????? ?????? ? ???????. 1 ??????????? ????????? ??????? ? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:976
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1194
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1199
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1204
 msgid "Max:"
-msgstr "????"
+msgstr "???????:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:984
 msgid "Maximum number of frames allowed between I-frames"
@@ -4157,16 +4080,12 @@
 msgstr "???? ? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1007
-msgid ""
-"Maximum number of sequential B-frames (when set to 0, the original I/P "
-"encoder is used)"
-msgstr ""
-"??????? ???? ????????? ? ??????? (???? ?? 0, ?????????? ?/? ???????????? "
-"???? ?????????)"
+msgid "Maximum number of sequential B-frames (when set to 0, the original I/P encoder is used)"
+msgstr "??????? ???? ????????? ? ??????? (???? ?? 0, ?????????? ?/? ???????? ?? ???? ?????????)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1013
 msgid "_Qpel"
-msgstr "_Qpel"
+msgstr "_?????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1016
 msgid "Use Quarter pixel resolution for a more precise motion estimation"
@@ -4177,13 +4096,12 @@
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1021
-msgid ""
-"Global Motion Compensation can save bits on camera pans, zooming and rotation"
+msgid "Global Motion Compensation can save bits on camera pans, zooming and rotation"
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1023
 msgid "_BVHQ"
-msgstr "_BVHQ"
+msgstr "_? VHQ"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1026
 msgid "Produces nicer-looking B-frames"
@@ -4207,31 +4125,27 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1061
 msgid "Pixel Aspect Ratio"
-msgstr "??????? ???????:"
+msgstr "??????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1079
 msgid "Quantization type:"
-msgstr "??? ????????????: "
+msgstr "??? ????????????:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1083
 msgid "_H.263"
-msgstr ""
+msgstr "H._263"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1086
 msgid "H.263 quantizers smooth the picture (useful at lower bitrates)"
-msgstr "H.263 ????????? ???????? ????? (??????? ?? ???? ??????????)"
+msgstr "H.263 ????????? ???????? ????? (??????? ?? ???? ?????? ??????)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1090
 msgid "_MPEG"
-msgstr ""
+msgstr "_MPEG"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1093
-msgid ""
-"MPEG quantizers (slightly slower) produce sharper picture (useful at higher "
-"bitrates)"
-msgstr ""
-"MPEG ????????? (???????? ???????) ????????? ??????? ?????(??????? ?? ???? "
-"??????????)"
+msgid "MPEG quantizers (slightly slower) produce sharper picture (useful at higher bitrates)"
+msgstr "MPEG ????????? (???????? ???????) ????????? ??????? ????? (??????? ?? ???? ?????? ??????)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1097
 msgid "_Custom Matrix"
@@ -4239,57 +4153,60 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1107
 msgid "Load Custom Matrix:  "
-msgstr "?????? ?????????? ???????"
+msgstr "?????? ?????????? ???????:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1153
 msgid "I-frame quantizer - Min:"
-msgstr "????????? ? ????? - ??? "
+msgstr "????????? ? ????? - ???????: "
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1158
 msgid "P-frame quantizer - Min:"
-msgstr "????????? ? ????? - ???"
+msgstr "????????? ? ????? - ???????: "
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1163
 msgid "B-frame quantizer - Min:"
-msgstr "????????? ? ????? - ???"
+msgstr "????????? ? ????? - ???????: "
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1176
 msgid "Minimum quantizer allowed for I-frames"
-msgstr "??????? ????????? ???????? ?? ? ?????"
+msgstr "??????? ????????? ????????? ? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1182
 msgid "Minimum quantizer allowed for P-frames"
-msgstr "??????? ????????? ???????? ?? ? ?????"
+msgstr "??????? ????????? ????????? ? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1188
 msgid "Minimum quantizer allowed for B-frames"
-msgstr "??????? ????????? ???????? ?? ? ?????"
+msgstr "??????? ????????? ????????? ? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1217
 msgid "Maximum quantizer allowed for I-frames"
-msgstr "??????? ????????? ???????? ?? ? ?????"
+msgstr "??????? ????????? ????????? ? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1223
 msgid "Maximum quantizer allowed for P-frames"
-msgstr "??????? ????????? ???????? ?? ? ?????"
+msgstr "??????? ????????? ????????? ? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1229
 msgid "Maximum quantizer allowed for B-frames"
-msgstr "??????? ????????? ???????? ?? ? ?????"
+msgstr "??????? ????????? ????????? ? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1231
 msgid "Quantizer restrictions"
 msgstr "?????????? ??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1235
+#, fuzzy
 msgid "_Trellis quantization"
 msgstr "_?????? ????????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1238
+#, fuzzy
 msgid "Rate distortion quantization, will find optimal encoding for each block"
-msgstr "Rate distortion ???????????? ?? ???? ????????? ????????? ?? ????? ????"
+msgstr "???????????? ?????????? ????, ???? ????????? ????????? ?? ????? ????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1268
+#, fuzzy
 msgid "I-frame boost (%):"
 msgstr "???????? ? ????? (%):"
 
@@ -4302,45 +4219,37 @@
 msgstr "...?? ??????? ?? (%):"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1283
+#, fuzzy
 msgid "Max overflow improvement (%):"
-msgstr "??????? overflow ?????????? (%):"
+msgstr "?????????? ???????? ??????????? (%):"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1288
+#, fuzzy
 msgid "Max overflow degradation (%):"
-msgstr "??????? overflow ????????? (%):"
+msgstr "??????? ???????? ?????????? (%):"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1300
-#, c-format
 msgid "A value of 20 will give 20% more bits to every I-frame"
-msgstr ""
+msgstr "???????? 20 ?? ???? 20% ???? ?????? ?? ?????? ? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1306
-msgid ""
-"I-frames appearing in the range below this value will be treated as "
-"consecutive keyframes"
-msgstr ""
-"? ??????? ???? ?? ????????? ? ?????? ????? ??? ????????? ?? ????????????? "
-"??? consecutive ?????? ???????"
+msgid "I-frames appearing in the range below this value will be treated as consecutive keyframes"
+msgstr "? ??????? ???? ?? ????????? ? ?????? ????? ??? ????????? ?? ???? ????????? ??? ????????? ?????? ???????."
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1311
-msgid ""
-"Reduction of bitrate for the first consecutive I-frames. The last I-frame "
-"will get treated normally"
-msgstr ""
-"??????? ???????? ?? ???? consecutive ? ?????. ???????? ? ??????? ???? "
-"???????? ????????"
+#, fuzzy
+msgid "Reduction of bitrate for the first consecutive I-frames. The last I-frame will get treated normally"
+msgstr "??????? ???????? ?? ???? ????????? ? ???????. ???????? ? ????? ?? ???? ???????? ????????."
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1316
-msgid ""
-"How much of the overflow the codec can eat into during undersized sections - "
-"larger values will bridge the gap faster"
-msgstr ""
+#, fuzzy
+msgid "How much of the overflow the codec can eat into during undersized sections - larger values will bridge the gap faster"
+msgstr "?????? ??????????? ????? ???? ?????? ??? ???????? ?????? - ???? ????????? ?? ?????????? ?????? ????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1321
-msgid ""
-"How much of the overflow the codec can eat into during oversized sections - "
-"larger values will bridge the gap faster"
-msgstr ""
+#, fuzzy
+msgid "How much of the overflow the codec can eat into during oversized sections - larger values will bridge the gap faster"
+msgstr "?????? ??????????? ????? ???? ?????? ??? ?????????? ?????? - ???? ????????? ?? ?????????? ?????? ????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1323
 msgid "Two pass tuning"
@@ -4348,39 +4257,28 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1340
 msgid "High bitrate scenes (%):"
-msgstr "????? ?? ??????? ????????? (%):"
+msgstr "????? ?? ??????? ??????? ???????? (%):"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1345
 msgid "Low bitrate scenes (%):"
-msgstr "????? ?? ?????? ????????? (%):"
+msgstr "????? ?? ?????? ??????? ???????? (%):"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1350
 msgid "Overflow control strength (%):"
-msgstr ""
+msgstr "?????? ???????? ???????????  (%):"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1362
-msgid ""
-"The higher this value, the more bits get taken from frames larger than the "
-"average size, and redistributed to others"
-msgstr ""
-"??? ?? ???????? ????, ???? ???? ?????? ?? ???? ????? ?? ??????? ????? "
-"?????????? ???????? ? ???? ???? ????????"
+msgid "The higher this value, the more bits get taken from frames larger than the average size, and redistributed to others"
+msgstr "??? ?? ???????? ????, ???? ???? ?????? ?? ???? ????? ?? ??????? ????? ?? ???????? ???????? ? ???? ??????????? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1367
-msgid ""
-"The higher this value, the more bits get assigned to frames below the "
-"average frame size"
-msgstr ""
-"??? ?? ???????? ????, ???? ?????? ?? ???? ????? ?? ??????????? ?? ???????? "
-"???????? ?????"
+msgid "The higher this value, the more bits get assigned to frames below the average frame size"
+msgstr "??? ?? ???????? ????, ???? ?????? ?? ???? ???????? ????????? ????? ?? ???????? ???????? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1372
-msgid ""
-"0 = default from core (let XviD decide), else overflow payback percent per "
-"frame"
-msgstr ""
-"0 = ???????????? ?? ?????? (????? ?? XviD ??????), ? ????????? "
-"overflow?????? ???????????? ?? ?????"
+#, fuzzy
+msgid "0 = default from core (let XviD decide), else overflow payback percent per frame"
+msgstr "0 = ????????????? ?? ?????? (????? ?? XviD ??????), ? ????????? ??????????? ???????????? ????????? ?? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1374
 msgid "Curve compression"
@@ -4402,152 +4300,152 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:241
 #: avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp:396
 msgid "The filter is already partial"
-msgstr ""
+msgstr "?????? ?? ??? ?????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:455
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:457
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:347
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:349
 msgid "Load set of filters"
-msgstr ""
+msgstr "?????? ??? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:464
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:362
 msgid "Nothing to save"
-msgstr ""
+msgstr "????? ??? ?? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:468
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:470
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:366
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:368
 msgid "Save set of filters"
-msgstr ""
+msgstr "??????? ??? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:64
 msgid "Add Video Filter"
-msgstr ""
+msgstr "????? ????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:98
 msgid "Transformation"
-msgstr ""
+msgstr "??????????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:148
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:309
 msgid "Colors"
-msgstr ""
+msgstr "????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:198
 msgid "Sharpen/Blur"
-msgstr ""
+msgstr "???????/????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:223
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:381
 msgid "Subtitles"
-msgstr ""
+msgstr "???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:248
 msgid "Miscellaneous"
-msgstr ""
+msgstr "??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:123
 msgid "Video Filter Manager"
-msgstr ""
+msgstr "????????? ????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:145
 msgid "Open filter list [Ctrl-O]"
-msgstr ""
+msgstr "?????? ????? ??????? [Ctrl-O]"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:154
 msgid "Save filter list [Ctrl-S]"
-msgstr ""
+msgstr "??????? ????? ??????? [Ctrl-O]"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:162
 msgid "Save Script"
-msgstr ""
+msgstr "??????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:165
 msgid "Save as script [Ctrl-J]"
-msgstr ""
+msgstr "??????? ??? ??????? [Ctrl-J]"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:173
 msgid "DVD Res"
-msgstr ""
+msgstr "DVD ???."
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:176
 msgid "DVD resolution [Ctrl-1]"
-msgstr ""
+msgstr "DVD ?????????? [Ctrl-1]"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:184
 msgid "Half D1 Res"
-msgstr ""
+msgstr "???? D1 ???."
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:187
 msgid "Half D1 resolution [Ctrl-2]"
-msgstr ""
+msgstr "???? ?? D1 ?????????? [Ctrl-2]"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:195
 msgid "SVCD Res"
-msgstr ""
+msgstr "SVCD ???."
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:198
 msgid "SVCD resolution [Ctrl-3]"
-msgstr ""
+msgstr "SVCD ?????????? [Ctrl-3]"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:206
 msgid "VCD Res"
-msgstr ""
+msgstr "VCD ???."
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:209
 msgid "VCD resolution [Ctrl-4]"
-msgstr ""
+msgstr "VCD ?????????? [Ctrl-4]"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:260
 msgid "Transform"
-msgstr ""
+msgstr "????????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:333
 msgid "Noise"
-msgstr ""
+msgstr "???"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:357
 msgid "Sharpness"
-msgstr ""
+msgstr "???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:405
 msgid "Misc"
-msgstr ""
+msgstr "??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:416
 msgid "External"
-msgstr ""
+msgstr "????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:427
 msgid "Add selected filter to the Active Filters list"
-msgstr ""
+msgstr "????? ???????? ?????? ? ????? ???????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:433
 msgid "<b>Available Filters</b>"
-msgstr ""
+msgstr "<b>???????? ???????</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:478
 msgid "Remove filter"
-msgstr ""
+msgstr "?????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:487
 msgid "Move filter down"
-msgstr ""
+msgstr "?????? ?????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:496
 msgid "Move filter up"
-msgstr ""
+msgstr "?????? ?????? ??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:502
 msgid "P_artial"
-msgstr ""
+msgstr "_?????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:505
 msgid "Apply the current filter only to a part of the file"
-msgstr ""
+msgstr "??????? ???????? ?????? ???? ?? ????? ??? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:510
 msgid "Configure filter"
@@ -4559,35 +4457,35 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:524
 msgid "<b >Active Filters</b>"
-msgstr ""
+msgstr "<b>??????? ???????</b>"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:551
 msgid "_Preview"
-msgstr ""
+msgstr "?_??????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:52
 msgid "Video Filters"
-msgstr ""
+msgstr "????? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:112
 msgid "VCD res"
-msgstr ""
+msgstr "VCD ??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:118
 msgid "SVCD res"
-msgstr ""
+msgstr "SVCD ??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:124
 msgid "DVD res"
-msgstr ""
+msgstr "DVD ??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:130
 msgid "Half D1 res"
-msgstr ""
+msgstr "????????? D1 ??????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:156
 msgid "Save as script"
-msgstr ""
+msgstr "??????? ??? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:425
 msgid "Input"
@@ -4598,9 +4496,8 @@
 msgstr "?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:427
-#, fuzzy
 msgid "Side"
-msgstr "?????"
+msgstr "?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:428
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:90
@@ -4608,11 +4505,11 @@
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:87
 #: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:109
 msgid "Top"
-msgstr ""
+msgstr "?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:429
 msgid "Separate"
-msgstr ""
+msgstr "????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:605
 #: avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp:429
@@ -4667,11 +4564,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:375
 msgid "A_dd to Joblist..."
-msgstr "????_? ? ????? ???????..."
+msgstr "????_? ? ????? ????????..."
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:379
 msgid "Show _Joblist"
-msgstr "??????? _????? ???????"
+msgstr "??????? _????? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:391
 msgid "Proper_ties"
@@ -4747,11 +4644,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:561
 msgid "Zoom _2:1"
-msgstr "??????? 2:1"
+msgstr "_??????? 2:1"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:568
 msgid "Zoom _4:1"
-msgstr "??????? 4:1"
+msgstr "?_?????? 4:1"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:575
 msgid "Vi_deo"
@@ -4762,10 +4659,12 @@
 msgstr "_?????? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:589
+#, fuzzy
 msgid "_Postprocessing"
 msgstr "_???????? ???????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:592
+#, fuzzy
 msgid "Select postprocessing level"
 msgstr "??????? ???? ????????? ???????????"
 
@@ -4784,7 +4683,7 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:625
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:674
 msgid "_Encoder"
-msgstr "_???????"
+msgstr "_?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:632
 msgid "Fil_ters"
@@ -4840,11 +4739,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:729
 msgid "_VOB -> VobSub"
-msgstr ""
+msgstr "_VOB -> VobSub"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:733
 msgid "_OCR (VobSub -> srt)"
-msgstr ""
+msgstr "_OCR (VobSub -> srt)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:737
 msgid "A_uto"
@@ -4852,19 +4751,19 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:744
 msgid "_VCD"
-msgstr "_???"
+msgstr "_VCD"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:748
 msgid "_SVCD"
-msgstr "_????"
+msgstr "_SVCD"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:752
 msgid "_DVD"
-msgstr "_???"
+msgstr "_DVD"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:760
 msgid "PSP (H264)"
-msgstr ""
+msgstr "PSP (H264)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:764
 msgid "_Go"
@@ -4883,10 +4782,12 @@
 msgstr "????_??? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:804
+#, fuzzy
 msgid "Pr_evious Intra Frame"
 msgstr "????????? _Intra ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:815
+#, fuzzy
 msgid "Next _Intra Frame"
 msgstr "??????? I_ntra ?????"
 
@@ -4952,7 +4853,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:962
 msgid "Bitrate/size calculator"
-msgstr "?????????? ???????/????????"
+msgstr "?????????? ?????? ??????/????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1016
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1056
@@ -4961,7 +4862,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1021
 msgid "Configure video encoder"
-msgstr "?????? ????? ???????"
+msgstr "?????? ????? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1026
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1082
@@ -4974,7 +4875,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1061
 msgid "Configure audio encoder"
-msgstr "?????? ????? ???????"
+msgstr "?????? ????? ?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1069
 msgid "Audio filters"
@@ -4990,7 +4891,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1099
 msgid "Audio/video time shift (ms)"
-msgstr "?????/????? ???????? ??????? (????)"
+msgstr "?????/????? ????????? ??????? (? ?????????????)"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1106
 msgid "<b>Format</b>"
@@ -5003,11 +4904,11 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1156
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1164
 msgid " 0000000"
-msgstr ""
+msgstr " 0000000"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1172
 msgid "A:"
-msgstr ""
+msgstr "?:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1179
 msgid "Go to marker A"
@@ -5015,7 +4916,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1181
 msgid "B:"
-msgstr ""
+msgstr "?:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1188
 msgid "Go to marker B"
@@ -5079,7 +4980,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1383
 msgid "/0000000"
-msgstr ""
+msgstr "/0000000"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1390
 msgid "Time: "
@@ -5091,11 +4992,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1398
 msgid "00:00:00.000"
-msgstr ""
+msgstr "00:00:00.000"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1401
 msgid "/00:00:00,000"
-msgstr ""
+msgstr "/00:00:00,000"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1408
 msgid "Frame: ?"
@@ -5103,20 +5004,20 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:209
 msgid "Incorrect output file"
-msgstr ""
+msgstr "???????? ??????? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:215
 msgid "Output file error"
-msgstr ""
+msgstr "?????? ? ???????? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:215
 #, c-format
 msgid "Could not open \"%s\" for writing."
-msgstr ""
+msgstr "?? ???? ?? ??????? ?%s? ?? ????."
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:224
 msgid "Problem loading sub"
-msgstr ""
+msgstr "??????? ??? ????????? SUB ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:589
 msgid "Sure ?"
@@ -5124,110 +5025,109 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:752
 msgid "Select SRT to save"
-msgstr ""
+msgstr "??????? SRT ?? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:764
 msgid "Select Glyoh to save"
-msgstr ""
+msgstr "??????? Glyoh ?? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:778
 msgid "No glyphs to save"
-msgstr ""
+msgstr "???? ????????? ?? ???????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_gladeSupport.cpp:251
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_gladeSupport.cpp:275
 #, c-format
 msgid "Couldn't find pixmap file: %s"
-msgstr ""
+msgstr "?? ???? ?? ????? ???????? ?? ????????: %s"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:121
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:391
 msgid "Cannot open directory as a file"
-msgstr ""
+msgstr "?? ???? ?? ??????? ???????????? ??? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:252
 #: avidemux/gtk_gui.cpp:877
 #, c-format
 msgid "Cannot open \"%s\"."
-msgstr ""
+msgstr "?? ???? ?? ??????? ?%s?"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:262
 msgid "Overwrite file ?"
-msgstr ""
+msgstr "???????? ???????? ??? ??????? ????????. ?????? ?? ?? ?? ?????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:287
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:301
 msgid "It could be possible that you try to overwrite an input file!"
-msgstr ""
+msgstr "?????? ?? ?? ??? ???????? ?? ???????? ?????? ????????!"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:312
 msgid "Cannot write the file"
-msgstr ""
+msgstr "?? ???? ?? ????? ? ????????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:312
 #, c-format
 msgid "No write access to \"%s\"."
-msgstr ""
+msgstr "????? ??????? ?? ?????? ? ?%s?"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:445
 msgid "Images"
-msgstr ""
+msgstr "?????"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:457
 msgid "All"
-msgstr ""
+msgstr "???"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:585
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:657
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:719
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:779
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:842
+#, fuzzy
 msgid "label1"
 msgstr "??????1"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:706
 msgid "Alert"
-msgstr ""
+msgstr "??????"
 
 #: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp:52
-#, fuzzy
 msgid "Select Directory"
-msgstr "??????? ????"
+msgstr "??????? ????????????"
 
 #: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp:54
-#, fuzzy
 msgid "Select File"
-msgstr "??????? .idx ????????"
+msgstr "??????? ????????"
 
 #: avidemux/ADM_video/ADM_guiResize.cpp:96
 #: avidemux/ADM_video/ADM_vidMPLResize.cpp:143
 msgid "Width and height cannot be 0"
-msgstr ""
+msgstr "?????? ? ?????? ?? ???? ???? 0"
 
 #: avidemux/ADM_video/ADM_guiResize.cpp:98
 #: avidemux/ADM_video/ADM_vidMPLResize.cpp:145
 msgid "Width and height cannot be odd"
-msgstr ""
+msgstr "?????? ? ?????? ?? ???? ???? ??????? ???????"
 
 #: avidemux/ADM_video/ADM_vidFieldUnblend.cpp:81
 msgid "Metrics"
-msgstr ""
+msgstr "????"
 
 #: avidemux/ADM_video/ADM_vidFieldUnblend.cpp:81
 msgid "Do you want to print metrics on screen ?"
-msgstr ""
+msgstr "?? ?? ?????? ?? ????????? ???? ?? ?????? ?"
 
 #: avidemux/ADM_video/ADM_vidSRT.cpp:215
 msgid "Could not open subtitle file"
-msgstr ""
+msgstr "?? ???? ?? ???????? ???????? ?? ????????"
 
 #: avidemux/ADM_video/ADM_vidSRT.cpp:238
 msgid "Cannot identify subtitle format"
-msgstr ""
+msgstr "?? ???? ?? ????????? ???????? ?? ????????"
 
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:106
 msgid "Linear blend"
-msgstr ""
+msgstr "???????? ???????"
 
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:107
 #, fuzzy
@@ -5242,83 +5142,75 @@
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:109
 #, fuzzy
 msgid "Median interpolate"
-msgstr "?????? ?????????"
+msgstr "?????? ??????????"
 
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:110
-#, fuzzy
 msgid "FFmpeg deint"
-msgstr "FFmpeg ?????????"
+msgstr "FFmpeg ??????????"
 
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:114
-#, fuzzy
 msgid "_Deinterlacing:"
-msgstr "?????????? :"
+msgstr "_??????????:"
 
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:115
-#, fuzzy
 msgid "_Autolevel"
-msgstr "?????????? ????"
+msgstr "_?????????? ???? :"
 
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:85
-#, fuzzy
 msgid "_Subtitle file (ass/ssa)"
-msgstr "???????? ?? ??????"
+msgstr "???????? ?? _???????? (ASS/SSA)"
 
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:86
 msgid "_Line spacing"
-msgstr ""
+msgstr "_?????? ??????"
 
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:87
 #, fuzzy
 msgid "_Font scale"
-msgstr "???????? ?????"
+msgstr "_????????? ??????? ????"
 
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:88
 msgid "_Top margin"
-msgstr ""
+msgstr "_????? ???????"
 
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:89
 msgid "_Bottom margin"
-msgstr ""
+msgstr "_???? ???????"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:82
-#, fuzzy
 msgid "threshold"
-msgstr "??????????"
+msgstr "??????????"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:83
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:88
-msgid ""
-"If value is smaller than threshold it is considered valid. Smaller value "
-"might mean more false positive"
-msgstr ""
+msgid "If value is smaller than threshold it is considered valid. Smaller value might mean more false positive"
+msgstr "??????? ?? ???????? ???? ???? ?????????? ?????? ?? ?????????. ???? ???????? ???? ?? ????? ?????? ???????"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:85
-#, fuzzy
 msgid "noise"
-msgstr "??????? ????"
+msgstr "???"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:85
 msgid "If pixel are closer than noise, they are considered to be the same"
-msgstr ""
+msgstr "??????? ?? ??????? ?????? ????, ??? ?? ???????? ?????"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:86
 msgid "identical"
-msgstr ""
+msgstr "?????????"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:86
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:91
 msgid "If metric is less than identical, images are considered identical"
-msgstr ""
+msgstr "??????? ?? ???? ?????? ????, ????? ?? ???????? ?????"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:87
 msgid "show"
-msgstr ""
+msgstr "???????"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:87
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:92
 msgid "Show metric in image (debug)"
-msgstr ""
+msgstr "??????? ???? ? ????? (???????? ???????)"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:190
 msgid "Discard Closer"
@@ -5327,7 +5219,7 @@
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:191
 #, fuzzy
 msgid "Replace (interpolate)"
-msgstr "?????? ?????????????"
+msgstr "?????? (???????????)"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:192
 msgid "Discard longer dupe (anim?s)"
@@ -5338,40 +5230,35 @@
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:196
-#, fuzzy
 msgid "Fastest (no chroma, partial luma)"
-msgstr "??????? (??? ??????? ????, ????????? ?????????)"
+msgstr "??????? (????????? ????, ??? ?????)"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:197
-#, fuzzy
 msgid "Fast (parial luma and chroma)"
-msgstr "???? (????????? ????????? ? ????? ????)"
+msgstr "???? (????????? ???? ? ?????)"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:198
-#, fuzzy
 msgid "Medium (full luma no chroma)"
-msgstr "?????? (???? ?????????, ??? ??????? ????)"
+msgstr "?????? (????????? ?????, ??? ????)"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:199
 msgid "Slow (full luma and chroma)"
-msgstr "????? (???? ????????? ? ?????? ????)"
+msgstr "????? (??? ???? ? ?????)"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:205
-#, fuzzy
 msgid "Threshold 1"
-msgstr "??????????"
+msgstr "?????????? 1"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:206
-#, fuzzy
 msgid "Threshold 2"
-msgstr "??????????"
+msgstr "?????????? 2"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:91
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:82
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:88
 #: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:110
 msgid "Bottom"
-msgstr ""
+msgstr "???"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:95
 msgid "Never"
@@ -5382,35 +5269,36 @@
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:97
-#, fuzzy
 msgid "Always"
-msgstr "???? ???????"
+msgstr "????"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:102
-#, fuzzy
 msgid "None but compute"
-msgstr "??? ????????? ???????????, ??? ??????????"
+msgstr "?????, ??? ??????????"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:103
+#, fuzzy
 msgid "Postproc on best match"
 msgstr "???????? ??????????? ?? ???????? ?????????"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:104
+#, fuzzy
 msgid "Postproc and show zones(debug)"
-msgstr ""
+msgstr "???????? ??????????? ? ?????? ???? (???????? ???????)"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:105
+#, fuzzy
 msgid "Process image (not fields)"
-msgstr ""
+msgstr "?????????? ????? (?? ????)"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:106
+#, fuzzy
 msgid "Process image (not fields),debug"
-msgstr ""
+msgstr "?????????? ????? (?? ????), ???????? ???????"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:110
-#, fuzzy
 msgid "Strategy"
-msgstr "???????"
+msgstr "??????????"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:111
 msgid "Field Order"
@@ -5423,125 +5311,114 @@
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:113
 msgid "Try backward"
-msgstr ""
+msgstr "?????? ??????"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:115
 #, fuzzy
 msgid "Direct Threshold"
-msgstr "??????????"
+msgstr "???????? ??????????"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:116
 #, fuzzy
 msgid "Backward Threshold"
-msgstr "?????????? ?????????"
+msgstr "???????? ??????????"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:117
 msgid "Noise Threshold"
-msgstr ""
+msgstr "?????????? ?? ???"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:118
 #, fuzzy
 msgid "Post Proc Threshold"
-msgstr "?????????? ?????????"
+msgstr "?????????? ????????? ???????????"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:120
-#, fuzzy
 msgid "Use Chroma to decide"
-msgstr "??????? ?????? ???? ?? ???????"
+msgstr "??????? ????? ?? ???????"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:121
 msgid "Show info"
-msgstr ""
+msgstr "??????? ???????????"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:122
 msgid "Debug"
-msgstr ""
+msgstr "???????? ???????"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:123
 msgid "Blend"
-msgstr ""
+msgstr "?????"
 
 #: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:386
-#, fuzzy
 msgid "_Luma lock:"
-msgstr "???????? ?????????"
+msgstr "_???? ???????????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:387
-#, fuzzy
 msgid "C_hroma lock:"
-msgstr "???????? ?????? ????"
+msgstr "_????? ???????????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:388
-#, fuzzy
 msgid "L_uma threshold:"
-msgstr "?????????? ?????????"
+msgstr "?_??? ??????????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:389
-#, fuzzy
 msgid "Ch_roma threshold:"
-msgstr "?????????? ?????????"
+msgstr "?_???? ??????????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:391
-#, fuzzy
 msgid "_Scene change:"
-msgstr "????????? ??????? ?????"
+msgstr "_??????? ?????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:85
 msgid "Keep nb of frames and fps"
-msgstr ""
+msgstr "?????? ???? ??????? ? ??. ??????? ? ???."
 
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:86
 #, fuzzy
 msgid "Double nb of frames and fps"
-msgstr "?????????? ???? ??????? ?? ??? ? ????? #"
+msgstr "?????????? ???? ??????? ?? ??????? ? ????? #"
 
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:87
 #, fuzzy
 msgid "Double nb of frames (slow motion)"
-msgstr "?????????? ????? # (????????)"
+msgstr "?????????? ????? # (??????? ??????)"
 
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:90
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:92
-#, fuzzy
 msgid "_Field order:"
-msgstr "???????? ????"
+msgstr "_???????? ????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:91
 #: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:113
-#, fuzzy
 msgid "_Mode:"
-msgstr "???"
+msgstr "_???:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:92
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:87
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:93
 #: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:166
-#, fuzzy
 msgid "_Threshold:"
-msgstr "??????????"
+msgstr "_??????????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:93
 msgid "_Extra"
-msgstr ""
+msgstr "_???????"
 
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:93
-#, fuzzy
 msgid "Extra check, avoid using it"
-msgstr "(??????? ?? ????????)"
+msgstr "??????? ???????, ??????? ?? ????????"
 
 #: avidemux/ADM_videoFilter/ADM_vidDropOut.cpp:63
 #, fuzzy
 msgid "DropOut Threshold"
-msgstr "?????????? ?????????"
+msgstr "??????????? ??????????"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
-#, fuzzy
 msgid "Out"
 msgstr "?????"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
 msgid "Fade out"
-msgstr ""
+msgstr "???????"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
 msgid "In"
@@ -5552,71 +5429,61 @@
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:71
-#, fuzzy
 msgid "_Fade type:"
-msgstr "??????? ???:"
+msgstr "??? _???????????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:72
-#, fuzzy
 msgid "_Start frame:"
-msgstr "??????? ?????"
+msgstr "_??????? ?????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:73
-#, fuzzy
 msgid "_End frame:"
-msgstr "?????? ?????"
+msgstr "_?????? ?????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:74
-#, fuzzy
 msgid "Fade to _black"
-msgstr "??????? ?? ?????"
+msgstr "??????? ?? ?????"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:83
-#, fuzzy
 msgid "Parameter Error"
-msgstr "?????? ? ??????? ?????"
+msgstr "?????? ? ???????????"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:83
 msgid "Start must be before end, and both within video # of frames."
-msgstr ""
+msgstr "??????? ???? ???? ????? ????? ? ??? ?????? ????? # ?? ???????."
 
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:61
-#, fuzzy
 msgid "_Quantizer:"
-msgstr "?????????"
+msgstr "_?????????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:90
 msgid "_Noise:"
-msgstr ""
+msgstr "_???:"
 
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:90
 msgid "If pixels are closer than noise, they are considered to be the same"
-msgstr ""
+msgstr "??????? ?? ??????? ?????? ????, ??? ???????? ??????"
 
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:91
-#, fuzzy
 msgid "_Identical:"
-msgstr "_??????"
+msgstr "_?????????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:92
-#, fuzzy
 msgid "_Show metrics"
-msgstr "??????? ??????? ???????"
+msgstr "??????? _????"
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:93
-#, fuzzy
 msgid "Smaller means more deinterlacing"
-msgstr "???? ???? ????????!"
+msgstr "???? ???????? ???? ????????"
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:94
-#, fuzzy
 msgid "_Sharp"
-msgstr "???????"
+msgstr "?_????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:94
 #, fuzzy
 msgid "_Sharper engine:"
-msgstr "??????????"
+msgstr "?????????_?:"
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:95
 msgid "T_woway"
@@ -5625,403 +5492,405 @@
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:95
 #, fuzzy
 msgid "Extrapolate better (better not to use it)"
-msgstr "Extrapolate two ways (????? ?? ???????)"
+msgstr "Extrapolate better (???? ?? ???????)"
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:96
-#, fuzzy
 msgid "_Map"
-msgstr "????"
+msgstr "_????"
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:96
-#, fuzzy
 msgid "Show interlaced areas (for test!)"
-msgstr "??????? ???????????? ???????? (???? ?? ?????????!)"
+msgstr "??????? ???????e?? ???????? (???? ?? ?????????!)"
 
 #: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:104
-#, fuzzy
 msgid "Fast"
-msgstr "?_????"
+msgstr "????"
 
 #: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:105
-#, fuzzy
 msgid "Medium"
-msgstr "??????:"
+msgstr "??????"
 
 #: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:106
+#, fuzzy
 msgid "Slow iterative motion search"
-msgstr ""
+msgstr "????? ??????? ???????? ???????"
 
 #: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:107
+#, fuzzy
 msgid "Extra slow (same as 3+multiple reference frames)"
-msgstr ""
+msgstr "???????? ????? (???? ??? 3+???? ????????? ???????)"
 
 #: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:114
-#, fuzzy
 msgid "_Field dominance:"
-msgstr "???????? ????"
+msgstr "_?????????? ????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:115
-#, fuzzy
 msgid "_Qp:"
-msgstr "_Qpel"
+msgstr "_?????? ???????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:90
 #, fuzzy
 msgid "_Horizontal stacking:"
-msgstr "H???????????? ???? :"
+msgstr "???????????? ????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:91
 #, fuzzy
 msgid "_Vertical stacking:"
-msgstr "?????????? ???? :"
+msgstr "?????????? ????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:92
-#, fuzzy
 msgid "_Shrink factor:"
-msgstr "?????? ??????"
+msgstr "?????? _??????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:93
-#, fuzzy
 msgid "Show _frame"
-msgstr "??????? ????? # :"
+msgstr "??????? _?????"
 
 #: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:74
 #: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:74
+#, fuzzy
 msgid "_Spatial luma strength:"
-msgstr ""
+msgstr "????????? _???? ??????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:75
 #: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:75
+#, fuzzy
 msgid "S_patial chroma strength:"
-msgstr ""
+msgstr "????????? _????? ??????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:76
 #: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:76
-#, fuzzy
 msgid "_Temporal strength:"
-msgstr "????? ??????? :"
+msgstr "_?????????? ??????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:163
 msgid "_Mask"
-msgstr ""
+msgstr "_?????"
 
 #: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:164
 #, fuzzy
 msgid "_High Q"
-msgstr "??????"
+msgstr "_?????? Q"
 
 #: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:167
-#, fuzzy
 msgid "_Strength:"
-msgstr "??????"
+msgstr "_?????? :"
 
 #: avidemux/ADM_videoFilter/ADM_vidPalShift.cpp:76
-#, fuzzy
 msgid "Try reverse"
-msgstr "????? ?????"
+msgstr "??????? ???????"
 
 #: avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp:85
-#, fuzzy
 msgid "_New frame rate:"
-msgstr "_?????????? ???????"
+msgstr "_???? ?????????? ???????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp:86
-#, fuzzy
 msgid "_Blend"
-msgstr "_?????:"
+msgstr "_?????"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:265
 msgid "90 degrees"
-msgstr ""
+msgstr "90 ???????"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:265
 msgid "90?"
-msgstr ""
+msgstr "90?"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:266
 msgid "180 degrees"
-msgstr ""
+msgstr "180 ???????"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:266
 msgid "180?"
-msgstr ""
+msgstr "180?"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:267
 msgid "270 degrees"
-msgstr ""
+msgstr "270 ???????"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:267
 msgid "270?"
-msgstr ""
+msgstr "270?"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:269
-#, fuzzy
 msgid "Angle"
-msgstr "?????"
+msgstr "????"
 
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:271
 #, fuzzy
 msgid "Rotate Params"
-msgstr "??????"
+msgstr "?????? ?????????"
 
 #: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:68
-#, fuzzy
 msgid "_Luma threshold:"
-msgstr "?????????? ?????????"
+msgstr "_???? ??????????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:69
-#, fuzzy
 msgid "C_hroma threshold:"
-msgstr "?????????? ?????????"
+msgstr "_????? ??????????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:70
-#, fuzzy
 msgid "_Radius:"
-msgstr "??????:"
+msgstr "_???????:"
 
 #: avidemux/ADM_videoFilter/ADM_vidStabilize.cpp:63
-#, fuzzy
 msgid "Stabilize Threshold"
-msgstr "?????????? ?????????"
+msgstr "?????????? ??????????"
 
 #: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:101
 #, fuzzy
 msgid "Luma Temporal Threshold"
-msgstr "?????????? ?????????"
+msgstr "???? ?????????? ??????????"
 
 #: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:102
 #, fuzzy
 msgid "Chroma Temporal Threshold"
-msgstr "?????????? ?????????"
+msgstr "????? ?????????? ??????????"
 
 #: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:171
+#, fuzzy
 msgid "Temporal & Spatial check"
-msgstr ""
+msgstr "?????????? ? ????????? ???????"
 
 #: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:172
+#, fuzzy
 msgid "Bob, T+S check"
-msgstr ""
+msgstr "Bob, T+S ???????"
 
 #: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:173
+#, fuzzy
 msgid "Skip spatial temporal check"
-msgstr ""
+msgstr "???????? ????????? ?????????? ???????"
 
 #: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:174
+#, fuzzy
 msgid "Bob, Skip spatial temporal check"
-msgstr ""
+msgstr "Bob, ???????? ????????? ?????????? ???????"
 
 #: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:177
-#, fuzzy
 msgid "Bottom Field first"
 msgstr "?????? ???? ????"
 
 #: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:182
-#, fuzzy
 msgid "Order"
-msgstr "???????? ????"
+msgstr "????????"
 
 #: avidemux/gtk_gui.cpp:243
+#, fuzzy
 msgid "Select ecmascript to run "
-msgstr ""
+msgstr "??????? ecma ??????? ?? ?????????"
 
-#: avidemux/gtk_gui.cpp:290 avidemux/gtk_gui.cpp:329
+#: avidemux/gtk_gui.cpp:290
+#: avidemux/gtk_gui.cpp:329
 msgid "Obsolete"
-msgstr ""
+msgstr "?????????"
 
 #: avidemux/gtk_gui.cpp:357
 msgid "Not coded in this version"
-msgstr ""
+msgstr "???? ???????? ? ???? ???????"
 
-#: avidemux/gtk_gui.cpp:370 avidemux/gtk_gui.cpp:375 avidemux/gtk_gui.cpp:487
+#: avidemux/gtk_gui.cpp:370
+#: avidemux/gtk_gui.cpp:375
+#: avidemux/gtk_gui.cpp:487
 #: avidemux/gtk_gui.cpp:490
 msgid "Select AVI file..."
-msgstr ""
+msgstr "??????? AVI ????????..."
 
 #: avidemux/gtk_gui.cpp:423
+#, fuzzy
 msgid ""
 "This is to be used to undo packed vop on mpeg4.\n"
 "Continue ?"
 msgstr ""
+"??? ?? ??????? ??? ????????? ??????????? VOP mpeg4.\n"
+"?? ???????? ?"
 
 #: avidemux/gtk_gui.cpp:425
 msgid "Select Avi file to write"
-msgstr ""
+msgstr "??????? ???????? ?? ??????? ?VI"
 
 #: avidemux/gtk_gui.cpp:431
 msgid "Select OGM file to write"
-msgstr ""
+msgstr "??????? ???????? ?? ??????? OGM"
 
-#: avidemux/gtk_gui.cpp:442 avidemux/gtk_gui.cpp:453
+#: avidemux/gtk_gui.cpp:442
+#: avidemux/gtk_gui.cpp:453
 msgid "Select workbench to save "
-msgstr ""
+msgstr "??????? ???????? ?? ??????? ?????"
 
 #: avidemux/gtk_gui.cpp:477
 msgid "Select raw file to save "
-msgstr ""
+msgstr "??????? ???????? ?? ??????? raw"
 
 #: avidemux/gtk_gui.cpp:493
 msgid "Select AVI file to append..."
-msgstr ""
+msgstr "??????? AVI ???????? ?? ?????..."
 
 #: avidemux/gtk_gui.cpp:497
 msgid "Select file to save audio"
-msgstr ""
+msgstr "??????? ???????? ?? ??????? ?????"
 
 #: avidemux/gtk_gui.cpp:531
 msgid "Select Jpeg sequence to save "
-msgstr ""
+msgstr "??????? ???? JPEG ???????? ?? ???????"
 
 #: avidemux/gtk_gui.cpp:534
 msgid "Select BMP to save "
-msgstr ""
+msgstr "??????? BMP ?? ???????"
 
 #: avidemux/gtk_gui.cpp:538
 msgid "Select Jpeg to save "
-msgstr ""
+msgstr "??????? Jpeg ?? ???????"
 
 #: avidemux/gtk_gui.cpp:591
 msgid "Select file to save"
-msgstr ""
+msgstr "??????? ???????? ?? ???????"
 
 #: avidemux/gtk_gui.cpp:643
 msgid "Select MP3 to load "
-msgstr ""
+msgstr "??????? MP3 ?? ?????????"
 
 #: avidemux/gtk_gui.cpp:646
 msgid "Select AC3 to load "
-msgstr ""
+msgstr "??????? AC3 ?? ?????????"
 
 #: avidemux/gtk_gui.cpp:649
 msgid "Select WAV to load "
-msgstr ""
+msgstr "??????? WAV ?? ?????????"
 
 #: avidemux/gtk_gui.cpp:697
+#, fuzzy
 msgid "Out of bounds"
-msgstr ""
+msgstr "???? ???? ???????"
 
 #: avidemux/gtk_gui.cpp:703
 msgid "Select  file to save "
-msgstr ""
+msgstr "??????? ???????? ?? ???????"
 
-#: avidemux/gtk_gui.cpp:708 avidemux/gtk_gui.cpp:1913
+#: avidemux/gtk_gui.cpp:708
+#: avidemux/gtk_gui.cpp:1913
+#, fuzzy
 msgid "Marker A > B"
 msgstr "?????? A > B"
 
 #: avidemux/gtk_gui.cpp:708
 msgid "Cannot copy."
-msgstr ""
+msgstr "?? ???? ?? ???????."
 
 #: avidemux/gtk_gui.cpp:720
 msgid "Something bad happened (II))"
-msgstr ""
+msgstr "????? ?? ?????? (II))"
 
 #: avidemux/gtk_gui.cpp:734
 msgid "Are you sure ?"
-msgstr ""
+msgstr "?? ?? ?? ??????? ?"
 
 #: avidemux/gtk_gui.cpp:812
 msgid "Width is not a multiple of 8"
-msgstr ""
+msgstr "?????? ???? ??????? ??????"
 
 #: avidemux/gtk_gui.cpp:813
 msgid "This will make trouble for avi files."
-msgstr ""
+msgstr "??? ?? ??????? ???????? ?? AVI ?????????"
 
 #: avidemux/gtk_gui.cpp:823
 msgid "Rebuild all Keyframes?"
-msgstr ""
+msgstr "??-??????? ??? ?????? ????????"
 
 #: avidemux/gtk_gui.cpp:877
 msgid "Permission error"
-msgstr ""
+msgstr "?????? ?? ?????????"
 
 #: avidemux/gtk_gui.cpp:880
 #, c-format
 msgid "\"%s\" does not exist."
-msgstr ""
+msgstr "?%s? ?? ???????."
 
 #: avidemux/gtk_gui.cpp:940
 msgid "Cannot open project using the video loader."
-msgstr ""
+msgstr "?? ???? ?? ??????? ???????? ????????? ????? ?????."
 
 #: avidemux/gtk_gui.cpp:941
 msgid "Try 'File' -> 'Load/Run Project...'"
-msgstr ""
+msgstr "???????? ????????? -> ??????/??????? ????????...?"
 
 #: avidemux/gtk_gui.cpp:943
 msgid "Could not open the file"
-msgstr ""
+msgstr "?? ???? ?? ??????? ????????"
 
 #: avidemux/gtk_gui.cpp:978
 msgid "Multiple Audio Tracks"
-msgstr ""
+msgstr "???? ????? ?????"
 
 #: avidemux/gtk_gui.cpp:978
 msgid ""
 "The file you just loaded contains several audio tracks.\n"
 "Go to Audio->MainTrack to select the active one."
 msgstr ""
+"???????? ???? ??? ?????? ??????? ?????? ???????? ????? ?????.\n"
+"????? ? ?????? -> ?????? ?????? ? ????????? ????? ??????? ?????."
 
 #: avidemux/gtk_gui.cpp:1068
 msgid "No audio decoder found for this file"
-msgstr ""
+msgstr "???? ???????? ????? ??????? ?? ??? ????????"
 
 #: avidemux/gtk_gui.cpp:1069
 msgid "Save (A+V) will generate bad AVI. Save audio will work."
-msgstr ""
+msgstr "??????? (??? + ???) ?? ????????? ??? AVI. ??????? ?????? ?? ??????."
 
 #: avidemux/gtk_gui.cpp:1125
 msgid "Something failed when appending"
-msgstr ""
+msgstr "????? ???? ?????? ???????? ????????"
 
-#: avidemux/gtk_gui.cpp:1134 avidemux/gtk_gui.cpp:1932
+#: avidemux/gtk_gui.cpp:1134
+#: avidemux/gtk_gui.cpp:1932
 msgid "Something bad happened (II)"
-msgstr ""
+msgstr "????? ???? ?? ?????? (II)"
 
 #: avidemux/gtk_gui.cpp:1198
 msgid "Cannot save the audio in copy mode"
-msgstr ""
+msgstr "?? ???? ?? ??????? ????? ? ???? ???? ???????"
 
 #: avidemux/gtk_gui.cpp:1198
-msgid ""
-"Select WAV PCM as the audio codec, otherwise the audio file would be raw PCM."
-msgstr ""
+msgid "Select WAV PCM as the audio codec, otherwise the audio file would be raw PCM."
+msgstr "??????? WAV ??? ??? ????? ?????, ? ?????????, ????? ???????? ?? ???? raw ???."
 
-#: avidemux/gtk_gui.cpp:1206 avidemux/gtk_gui.cpp:1562
+#: avidemux/gtk_gui.cpp:1206
+#: avidemux/gtk_gui.cpp:1562
 msgid "Saving audio"
-msgstr ""
+msgstr "?????? ?????"
 
 #: avidemux/gtk_gui.cpp:1283
-#, fuzzy
 msgid "Get Frame"
-msgstr "????_??? ?????"
+msgstr "???? ?????"
 
 #: avidemux/gtk_gui.cpp:1283
-#, fuzzy
 msgid "Cannot get this frame to save"
-msgstr "?? ???? ?? ???????? ???????"
+msgstr "?? ???? ?? ????? ???? ????? ?? ???????"
 
 #: avidemux/gtk_gui.cpp:1320
+#, fuzzy
 msgid "Mark A > B"
 msgstr "?????? A > B"
 
 #: avidemux/gtk_gui.cpp:1320
 msgid "Set your markers correctly."
-msgstr ""
+msgstr "????????? ???????? ???????."
 
 #: avidemux/gtk_gui.cpp:1329
 msgid "Saving as set of jpegs"
-msgstr ""
+msgstr "??????? ??? ??? JPEG sli?? ????????."
 
 #: avidemux/gtk_gui.cpp:1335
 msgid "Cannot decode frame"
-msgstr ""
+msgstr "?? ???? ?? ????????? ?????"
 
 #: avidemux/gtk_gui.cpp:1335
 msgid "Aborting."
-msgstr ""
+msgstr "??????????."
 
-#: avidemux/gtk_gui.cpp:1346 avidemux/gtk_gui.cpp:1365
+#: avidemux/gtk_gui.cpp:1346
+#: avidemux/gtk_gui.cpp:1365
 #: avidemux/gtk_gui.cpp:2276
 msgid "Done"
 msgstr "????????"
@@ -6029,85 +5898,86 @@
 #: avidemux/gtk_gui.cpp:1346
 #, c-format
 msgid "Saved %d images."
-msgstr ""
+msgstr "???????? %d ?????."
 
 #: avidemux/gtk_gui.cpp:1348
-#, fuzzy
 msgid "Error"
-msgstr " ?????? X:"
+msgstr "??????"
 
 #: avidemux/gtk_gui.cpp:1348
-#, fuzzy
 msgid "Could not save all images."
-msgstr "?? ?????? ?? ???????? ??? ???????"
+msgstr "?? ???? ?? ??????? ??? ?????"
 
 #: avidemux/gtk_gui.cpp:1365
 #, c-format
 msgid "Saved \"%s\"."
-msgstr ""
+msgstr "???????? ?%s?"
 
 #: avidemux/gtk_gui.cpp:1367
+#, fuzzy
 msgid "BMP op failed"
-msgstr ""
+msgstr "??? ??? BMP ???????"
 
 #: avidemux/gtk_gui.cpp:1367
 #, c-format
 msgid "Saving %s as a BMP file failed."
-msgstr ""
+msgstr "??????? %s ? BMP ???????? ????????."
 
-#: avidemux/gtk_gui.cpp:1387 avidemux/gtk_gui.cpp:1453
+#: avidemux/gtk_gui.cpp:1387
+#: avidemux/gtk_gui.cpp:1453
 msgid "Failed to open the file"
-msgstr ""
+msgstr "???????? ???????? ????????"
 
-#: avidemux/gtk_gui.cpp:1387 avidemux/gtk_gui.cpp:1453
+#: avidemux/gtk_gui.cpp:1387
+#: avidemux/gtk_gui.cpp:1453
 msgid "Not a WAV file?"
-msgstr ""
+msgstr "???? WAV ?????????"
 
 #: avidemux/gtk_gui.cpp:1388
 #, c-format
 msgid "WAV open file failed..."
-msgstr ""
+msgstr "???????? WAV ???????? ????????..."
 
 #: avidemux/gtk_gui.cpp:1523
 msgid "Cannot decompress audio frame"
-msgstr ""
+msgstr "?? ???? ?? ?????????? ????? ?????."
 
 #: avidemux/gtk_gui.cpp:1537
 msgid "Memory Error"
-msgstr ""
+msgstr "?????? ?? ?????????"
 
 #: avidemux/gtk_gui.cpp:1583
 msgid "No frames to encode"
-msgstr ""
+msgstr "???? ??????? ?? ????????"
 
 #: avidemux/gtk_gui.cpp:1583
 msgid "Please check markers. Is \"A>\" == \">B\"?"
-msgstr ""
+msgstr "????????? ???????. ?? ?? ?? ?A>? == ?>B??"
 
 #: avidemux/gtk_gui.cpp:1702
 msgid "Saving raw video stream"
-msgstr ""
+msgstr "?????? raw ????? ???"
 
 #: avidemux/gtk_gui.cpp:1864
 msgid "No error found"
-msgstr ""
+msgstr "???? ?????? ??????"
 
 #: avidemux/gtk_gui.cpp:1868
 #, c-format
 msgid "Errors found in %u frames"
-msgstr ""
+msgstr "?????? ?????? ? %u ?????????"
 
 #: avidemux/gtk_gui.cpp:1886
 msgid "Cannot decompress the audio stream"
-msgstr ""
+msgstr "?? ???? ?? ?????????? ????? ???."
 
 #: avidemux/gtk_gui.cpp:1886
 msgid "Switch audio codec to Copy."
-msgstr ""
+msgstr "??????? ???? ??????? ??? ????? ?????."
 
 #: avidemux/gtk_gui.cpp:1913
 msgid "Cannot delete the selection."
-msgstr ""
+msgstr "?? ???? ?? ??????? ?????????."
 
 #: avidemux/gtk_gui.cpp:1918
 msgid "You can't remove all frames"
@@ -6115,79 +5985,84 @@
 
 #: avidemux/gtk_gui.cpp:1994
 msgid "Could not get tracks info"
-msgstr "?? ???? ?? ????? ??????????? ? ???????."
+msgstr "?? ???? ?? ????? ??????????? ? ???????"
 
 #: avidemux/gtk_gui.cpp:2002
 msgid "Video"
 msgstr "?????"
 
 #: avidemux/gtk_gui.cpp:2002
-#, fuzzy
 msgid "Take audio from video file"
-msgstr "???? PAR ?? ?????? ????? ????????"
+msgstr "???? ????? ?? ????? ????????"
 
-#: avidemux/gtk_gui.cpp:2003 avidemux/gtk_gui.cpp:2102
-#, fuzzy
+#: avidemux/gtk_gui.cpp:2003
+#: avidemux/gtk_gui.cpp:2102
 msgid "No audio"
-msgstr "????"
+msgstr "??? ?????"
 
-#: avidemux/gtk_gui.cpp:2004 avidemux/gtk_gui.cpp:2103
+#: avidemux/gtk_gui.cpp:2004
+#: avidemux/gtk_gui.cpp:2103
 msgid "External AC3"
-msgstr ""
+msgstr "???????? AC3"
 
-#: avidemux/gtk_gui.cpp:2004 avidemux/gtk_gui.cpp:2103
+#: avidemux/gtk_gui.cpp:2004
+#: avidemux/gtk_gui.cpp:2103
 msgid "Take audio from external AC3 file"
-msgstr ""
+msgstr "???? ????? ?? ???????? AC3 ????????"
 
-#: avidemux/gtk_gui.cpp:2005 avidemux/gtk_gui.cpp:2104
+#: avidemux/gtk_gui.cpp:2005
+#: avidemux/gtk_gui.cpp:2104
 msgid "External MP3"
-msgstr ""
+msgstr "???????? MP3"
 
-#: avidemux/gtk_gui.cpp:2005 avidemux/gtk_gui.cpp:2104
+#: avidemux/gtk_gui.cpp:2005
+#: avidemux/gtk_gui.cpp:2104
 msgid "Take audio from external MP3 file"
-msgstr ""
+msgstr "???? ????? ?? ???????? MP3 ????????"
 
-#: avidemux/gtk_gui.cpp:2006 avidemux/gtk_gui.cpp:2105
+#: avidemux/gtk_gui.cpp:2006
+#: avidemux/gtk_gui.cpp:2105
 msgid "External Wav"
-msgstr ""
+msgstr "???????? WAV"
 
-#: avidemux/gtk_gui.cpp:2006 avidemux/gtk_gui.cpp:2105
+#: avidemux/gtk_gui.cpp:2006
+#: avidemux/gtk_gui.cpp:2105
 msgid "Take audio from external WAV file"
-msgstr ""
+msgstr "???? ????? ?? ???????? WAV ????????"
 
-#: avidemux/gtk_gui.cpp:2010 avidemux/gtk_gui.cpp:2110
-#, fuzzy
+#: avidemux/gtk_gui.cpp:2010
+#: avidemux/gtk_gui.cpp:2110
 msgid "Audio source"
-msgstr "?????? ?????"
+msgstr "????? ?????"
 
 #: avidemux/gtk_gui.cpp:2014
-#, fuzzy
 msgid "External filename"
-msgstr "???????? ??? ????????"
+msgstr "???????? ??? ????????"
 
-#: avidemux/gtk_gui.cpp:2045 avidemux/gtk_gui.cpp:2123
+#: avidemux/gtk_gui.cpp:2045
+#: avidemux/gtk_gui.cpp:2123
 msgid "Cannot load"
-msgstr ""
+msgstr "?? ???? ?? ??????"
 
-#: avidemux/gtk_gui.cpp:2045 avidemux/gtk_gui.cpp:2123
+#: avidemux/gtk_gui.cpp:2045
+#: avidemux/gtk_gui.cpp:2123
 msgid "The selected audio file does not exist."
-msgstr ""
+msgstr "???????? ????? ?? ???????"
 
 #: avidemux/gtk_gui.cpp:2111
-#, fuzzy
 msgid "Filename"
-msgstr "_????????"
+msgstr "??? ????????"
 
 #: avidemux/gtk_gui.cpp:2120
-#, fuzzy
 msgid "Select 2nd audio Track"
-msgstr "??????? ?????? ?????"
+msgstr "??????? ????? ????? ?????"
 
 #: avidemux/gtk_gui.cpp:2152
 msgid "Error loading the MP3 file"
 msgstr "?????? ??? ????????? MP3 ????????"
 
-#: avidemux/gtk_gui.cpp:2161 avidemux/gtk_gui.cpp:2183
+#: avidemux/gtk_gui.cpp:2161
+#: avidemux/gtk_gui.cpp:2183
 #: avidemux/gtk_gui.cpp:2205
 msgid "Second track loaded"
 msgstr "????? ????? ???????"
@@ -6206,29 +6081,29 @@
 
 #: avidemux/gtk_gui.cpp:2264
 msgid "Saving the job failed. Maybe you have permission issue with ~/.avidemux"
-msgstr ""
+msgstr "??????? ??????? ????????. ????? ?????? ??????? ??? ~/.avidemux"
 
 #: avidemux/gtk_gui.cpp:2276
 #, c-format
 msgid "File %s has been successfully saved."
-msgstr ""
+msgstr "???????? %s ?? ??????? ????????."
 
 #: avidemux/gtk_gui.cpp:2280
 #, c-format
 msgid "File %s was NOT saved correctly."
-msgstr ""
+msgstr "???????? %s ???? ???????? ????????."
 
 #: avidemux/guiplay.cpp:356
 msgid "Trouble initializing audio device"
-msgstr "???????? ??? ????????? ?????? ???????."
+msgstr "???????? ??? ????????? ?????? ???????"
 
 #: avidemux/gui_autodrive.cpp:52
 msgid "No audio track"
-msgstr ""
+msgstr "???? ????? ?????"
 
 #: avidemux/gui_autodrive.cpp:52
 msgid "An audio track is necessary to create such file"
-msgstr ""
+msgstr "????????? ?? ????? ????? ?? ???????? ????? ????????"
 
 #: avidemux/gui_autodrive.cpp:82
 msgid "Cannot select mpeg4 sp codec."
@@ -6239,52 +6114,58 @@
 "You don't have FAAC!.\n"
 "It is needed to create PSP compatible video."
 msgstr ""
+"?????? ?????????? FAAC! \n"
+"?? ?? ???????? ?? ???????? PSP ?????."
 
 #: avidemux/GUI_jobs.cpp:37
 msgid "Something very wrong happened when buildint joblist"
-msgstr ""
+msgstr "????? ????? ???? ?? ?????? ???????? ???????? ????? ????????"
 
 #: avidemux/GUI_jobs.cpp:42
 msgid "Nothing to do."
-msgstr ""
+msgstr "????? ?? ?? ?????."
 
 #: avidemux/GUI_jobs.cpp:42
 msgid "There is no jobs stored, nothing to do"
-msgstr ""
+msgstr "???? ????????? ????????. ????? ??? ?? ?????."
 
-#: avidemux/gui_navigate.cpp:75 avidemux/gui_navigate.cpp:113
-#: avidemux/gui_navigate.cpp:389 avidemux/gui_navigate.cpp:425
+#: avidemux/gui_navigate.cpp:75
+#: avidemux/gui_navigate.cpp:113
+#: avidemux/gui_navigate.cpp:389
+#: avidemux/gui_navigate.cpp:425
 msgid "Decompressing error"
-msgstr ""
+msgstr "?????? ??? ???????????"
 
 #: avidemux/gui_navigate.cpp:75
 msgid "Cannot decode next frame."
-msgstr ""
+msgstr "?? ???? ?? ????????? ??????? ?????"
 
-#: avidemux/gui_navigate.cpp:113 avidemux/gui_navigate.cpp:425
+#: avidemux/gui_navigate.cpp:113
+#: avidemux/gui_navigate.cpp:425
 msgid "Cannot decode keyframe."
-msgstr ""
+msgstr "?? ???? ?? ????????? ?????? ?????"
 
 #: avidemux/gui_navigate.cpp:236
 msgid "Seeking"
-msgstr ""
+msgstr "????????????"
 
 #: avidemux/gui_navigate.cpp:389
 msgid "Cannot decode the frame."
-msgstr ""
+msgstr "?? ???? ?? ????????? ?????"
 
 #: avidemux/gui_savenew.cpp:87
 msgid "Dual audio can only be used in copy mode"
-msgstr "??? ?????? ????? ???? ???? ????????? ???? ? ???? ?? ???????."
+msgstr "??? ????? ????? ???? ???? ????????? ???? ? ???? ?? ????????."
 
 #: avidemux/gui_savenew.cpp:87
 msgid "Select Copy as the video codec."
-msgstr "??????? ???????? ??? ????? ?????."
+msgstr "??????? ???? ??????? ??? ????? ?????."
 
-#: avidemux/gui_savenew.cpp:197 avidemux/gui_savenew.cpp:213
+#: avidemux/gui_savenew.cpp:197
+#: avidemux/gui_savenew.cpp:213
 #: avidemux/gui_savenew.cpp:226
 msgid "Incompatible output format"
-msgstr "?? ???????????? ??????? ??????"
+msgstr "?????????????? ??????? ??????"
 
 #: avidemux/gui_savenew.cpp:244
 msgid "There is no second track"
@@ -6292,17 +6173,19 @@
 
 #: avidemux/gui_savenew.cpp:244
 msgid "Select a second audio track in the Audio menu."
-msgstr "????????? ????? ????? ????? ?? ?????? '????'"
+msgstr "????????? ????? ????? ????? ?? ??????? ??????"
 
 #: avidemux/gui_savenew.cpp:248
 msgid "Select dual audio AVI to write"
-msgstr "????????? AVI ???????? ?? ???? ?? ??? ?????? ??????"
+msgstr "????????? AVI ???????? ?? ??? ?????? ?????? ?? ???? "
 
-#: avidemux/gui_savenew.cpp:270 avidemux/gui_savenew.cpp:288
+#: avidemux/gui_savenew.cpp:270
+#: avidemux/gui_savenew.cpp:288
 msgid "This cannot have packed VOP"
-msgstr "?? ?????? ?????????? VOP"
+msgstr "??? ?? ?????? ???????? ? VOP"
 
-#: avidemux/gui_savenew.cpp:270 avidemux/gui_savenew.cpp:288
+#: avidemux/gui_savenew.cpp:270
+#: avidemux/gui_savenew.cpp:288
 msgid "It is not MPEG-4 video. File will not be saved."
 msgstr "??? ???? MPEG-4 ?????. ???????? ???? ???? ????????."
 
@@ -6314,383 +6197,3 @@
 "????? ?? ???????? ??????? ????????.\n"
 "?? ?? ?? ???????? ?"
 
-#~ msgid "Builtin support for"
-#~ msgstr "???????? ??????? ??"
-
-#~ msgid ""
-#~ "If an option is not checked, it means\n"
-#~ "you must RECOMPILE avidemux to have\n"
-#~ "support for it!"
-#~ msgstr ""
-#~ "??????? ?? ????? ?????? ???? ????????,\n"
-#~ "?????? ?? ?????? ????????? ??????? ???\n"
-#~ "Avidemux-? ?? ?? ???? ????????!"
-
-#~ msgid "Arts"
-#~ msgstr "aRts"
-
-#~ msgid "Title"
-#~ msgstr "?????"
-
-#~ msgid "label2"
-#~ msgstr "??????2"
-
-#~ msgid "Extra check"
-#~ msgstr "??????? ???????"
-
-#~ msgid "Keep fps and frame #"
-#~ msgstr "?????? ???? ??????? ?? ??? ? ????? #"
-
-#~ msgid "Go to time"
-#~ msgstr "????? ?? ?????"
-
-#~ msgid "h"
-#~ msgstr "???"
-
-#~ msgid "s"
-#~ msgstr "???"
-
-#~ msgid "DVD Parameters"
-#~ msgstr "??? ?????????"
-
-#~ msgid "Encoding Type:"
-#~ msgstr "??? ??????????"
-
-#~ msgid "Single pass:Bitrate"
-#~ msgstr "????? ??????: ???????"
-
-#~ msgid "Single pass:Quantizer"
-#~ msgstr "????? ??????: ?????????"
-
-#~ msgid "Two pass"
-#~ msgstr "??? ???????"
-
-#~ msgid "Bitrate (kb/s)"
-#~ msgstr "?????? (??/???)"
-
-#~ msgid "Encoding mode"
-#~ msgstr "????? ??????????"
-
-#~ msgid "VideoCodec"
-#~ msgstr "????? ?????"
-
-#~ msgid "Configure Codec"
-#~ msgstr "?????????? ??????"
-
-#~ msgid "High Quality :"
-#~ msgstr "????? ????????"
-
-#~ msgid "Show Mask :"
-#~ msgstr "??????? ????? :"
-
-#~ msgid "Mpeg, Select audio"
-#~ msgstr "Mpeg, ??????? ????"
-
-#~ msgid "File :"
-#~ msgstr "???????? :"
-
-#~ msgid "Type :"
-#~ msgstr "??? :"
-
-#~ msgid "Video stream :"
-#~ msgstr "????? ????? :"
-
-#~ msgid "label5"
-#~ msgstr "??????5"
-
-#~ msgid "label6"
-#~ msgstr "??????6"
-
-#~ msgid "label7"
-#~ msgstr "??????7"
-
-#~ msgid "<b>Input file</b>"
-#~ msgstr "<b>?????? ????????</b>"
-
-#~ msgid "Detected Audio :"
-#~ msgstr "?????? ???? :"
-
-#~ msgid "Bitrate out of range"
-#~ msgstr "??????? ??? ??????"
-
-#~ msgid "choosing maxBitrate instead"
-#~ msgstr "???????? ??????? ??????? ??????"
-
-#~ msgid "choosing minBitrate instead"
-#~ msgstr "???????? ??????? ??????? ??????"
-
-#~ msgid "DVD FFmpeg codec settings"
-#~ msgstr "?????????? DVD FFmpeg ??????"
-
-#~ msgid "Target Bitrate (kb/s)   "
-#~ msgstr "??????? ??????? (????/???)"
-
-#~ msgid "Single Pass - Bitrate"
-#~ msgstr "????? ?????? - ???????"
-
-#~ msgid "Single Pass - Quantizer"
-#~ msgstr "??? ??????? - ?????????"
-
-#~ msgid "Two Pass (filesize) "
-#~ msgstr "??? ??????? (???????? ????????) "
-
-#~ msgid "Two Pass (bitrate) "
-#~ msgstr "??? ??????? (???????) "
-
-#~ msgid "<b>Encoding mode </b>"
-#~ msgstr "<b>??? ??????????</b>"
-
-#~ msgid "Minimum Bitrate (kb/s) "
-#~ msgstr "??????? ??????? (????/???) "
-
-#~ msgid "Maximum Bitrate (kb/s)"
-#~ msgstr "??????? ??????? (????/???) "
-
-#~ msgid "<b>RateControl</b>"
-#~ msgstr "<b>???????? ???????</b>"
-
-#~ msgid "<b>Interlacing</b>"
-#~ msgstr "<b>???????????</b>"
-
-#~ msgid "For info, size is : "
-#~ msgstr "?? ???????????, ???????? ?? : "
-
-#~ msgid "Left:"
-#~ msgstr "????:"
-
-#~ msgid "Right:"
-#~ msgstr "?????:"
-
-#~ msgid "Top:"
-#~ msgstr "????:"
-
-#~ msgid "Bottom:"
-#~ msgstr "????:"
-
-#~ msgid "Noise threshold :"
-#~ msgstr "?????????? ?? ???"
-
-#~ msgid "Identical threshold :"
-#~ msgstr "???? ??????????"
-
-#~ msgid "Audio settings"
-#~ msgstr "?????????? ?????"
-
-#~ msgid "Mode (ignored for mono)"
-#~ msgstr "??? (???????? ?? ????)"
-
-#~ msgid "Split in packets of"
-#~ msgstr "?????? ?? ?????? ??"
-
-#~ msgid "bytes"
-#~ msgstr "?????"
-
-#~ msgid "Autosplit file every"
-#~ msgstr "?????? ???? ??????"
-
-#~ msgid "megabytes"
-#~ msgstr "?????????"
-
-#~ msgid "Load Defaults"
-#~ msgstr "?????? ?????????????"
-
-#~ msgid "Load the stored default settings for the codec"
-#~ msgstr "?????? ???????? ????????????? ?????????? ?? ?????"
-
-#~ msgid "Save Defaults"
-#~ msgstr "????? ??? ?????????????"
-
-#~ msgid "Save the current codec configuration as the stored default settings"
-#~ msgstr "????? ???????? ?????????? ?????? ??? ????????????? ?????????"
-
-#~ msgid "Reset Defaults"
-#~ msgstr "??????? ?????????????"
-
-#~ msgid "Reload the initial default codec settings"
-#~ msgstr "?????? ?????? ??????? ????????????? ?????????? ??????"
-
-#~ msgid "Sample A/R "
-#~ msgstr "?????? A/R"
-
-#~ msgid "Chroma"
-#~ msgstr "?????? ????"
-
-#~ msgid "Mosaic"
-#~ msgstr "????????"
-
-#~ msgid "Donal Graft MSharpen"
-#~ msgstr "MSharpen ??????????? ??????? Donal Graft"
-
-#~ msgid "Show Mask"
-#~ msgstr "??????? ?????"
-
-#~ msgid "Strength"
-#~ msgstr "??????"
-
-#~ msgid "Dynamic Noise Reduction"
-#~ msgstr "????????? ???????? ????"
-
-#~ msgid "Resize for VCD/SVCD/...."
-#~ msgstr "??????? ???????? ?? VCD/SVCD/...."
-
-#~ msgid "Destination Aspect Ratio :"
-#~ msgstr "??????? ??????:"
-
-#~ msgid "SVCD"
-#~ msgstr "SVCD"
-
-#~ msgid "DVD"
-#~ msgstr "DVD"
-
-#~ msgid "No postprocessing"
-#~ msgstr "??? ????????? ???????????"
-
-#~ msgid "<b>Mode :</b>"
-#~ msgstr "<b>???:</b>"
-
-#~ msgid "<b>Bitrate :</b>"
-#~ msgstr "<b>??????? :</b>"
-
-#~ msgid "<b>Quality :</b>"
-#~ msgstr "<b>???????? :</b>"
-
-#~ msgid "CBR (bitrate based)"
-#~ msgstr "CBR (?????????? ???????)"
-
-#~ msgid "VBR (Quality based)"
-#~ msgstr "VBR (?????????? ???????)"
-
-#~ msgid "Threshold2 "
-#~ msgstr "??????????2"
-
-#~ msgid "Lame Encoder Settings"
-#~ msgstr "???????? Lame enkodera"
-
-#~ msgid "Joint-Stereo"
-#~ msgstr "?????????? ??????"
-
-#~ msgid "<b>Bitrate:</b>"
-#~ msgstr "<b>???????:</b>"
-
-#~ msgid "<b>Mode:</b>"
-#~ msgstr "<b>???:</b>"
-
-#~ msgid "<b>Quality:</b>"
-#~ msgstr "<b>????????:</b>"
-
-#~ msgid "_Swap marks A and B if A > B"
-#~ msgstr "_?????? ?????? A ? B ??? ?? A > B"
-
-#~ msgid "S_ave preferences on exit"
-#~ msgstr "_??????? ???????? ? ?????"
-
-#~ msgid "_MPEG auto split (MB):"
-#~ msgstr "????????? MPEG _?????? (MB):"
-
-#~ msgid "_Use OpenDML (don't split large AVI files)"
-#~ msgstr "_??????? OpenDML (?? ???? ?????? AVI ????????)"
-
-#~ msgid "_Reuse 2-pass log"
-#~ msgstr "_?????? ???????? ??????? ?????? ???????"
-
-#~ msgid "ALSA _device:"
-#~ msgstr "ALSA ??????"
-
-#~ msgid "_Video output:"
-#~ msgstr "??????? _?????:"
-
-#~ msgid "FFmpeg encoding options"
-#~ msgstr "?????????? FFmpeg ????????"
-
-#~ msgid "Set quantizer for a constant quantizer/quality encoding"
-#~ msgstr "??????? ????????? ?? ?????????? ?????????/???????? ??????????"
-
-#~ msgid "Enable interlaced encoding"
-#~ msgstr "?????? ???????????? ??????????"
-
-#~ msgid ""
-#~ "Set MPEG-4 aspect ratio (warning: MPlayer supports it, but most other "
-#~ "players don't)"
-#~ msgstr ""
-#~ "??????? MPEG-4 ??????? (?????????: MPlayer ?? ????????, ??? ????????????? "
-#~ "??????? ??)"
-
-#~ msgid "ME method:"
-#~ msgstr "ME ??????"
-
-#~ msgid "Max I-frame interval:"
-#~ msgstr "??????? ???????? ? ?????"
-
-#~ msgid "Allow 4 motion vectors per macroblock (slightly better quality)"
-#~ msgstr "??????? 4 ??????? ??????? ?? ?????????? (????? ???? ????????)"
-
-#~ msgid "Try  to encode each MB with MV=<0,0> and choose the better one"
-#~ msgstr "??????? ?????????? ?????? MB ?? MV=<0,0> ? ??????? ????"
-
-#~ msgid ""
-#~ "Motion estimation method, 0-3 currently ignores the amount of bits spent, "
-#~ "so quality may be low"
-#~ msgstr ""
-#~ "????? ??????? ???????, 0-3 ??? ???? ???????? ???????? ?????????? ??????, "
-#~ "?? ???????? ???? ???? ?????"
-
-#~ msgid "0: None"
-#~ msgstr "0: ???"
-
-#~ msgid "Maximum interval between keyframes in frames"
-#~ msgstr "??????? ???????? ?????? ??????? ??????? ? ?????????"
-
-#~ msgid "Maximum number of B-frames between non B-frames, 0-2 is a sane range"
-#~ msgstr "??????? ???? ? ??????? ?????? ??-? ???????, 0-2 ?? ??????? ????????"
-
-#~ msgid "Use quarter pixel motion compensation (useful at higher bitrates)"
-#~ msgstr ""
-#~ "??????? ???????????? ??????? ? ?????? ??????? (??????? ?? ???? ??????????)"
-
-#~ msgid "Prepass:"
-#~ msgstr "???? ??????:"
-
-#~ msgid ""
-#~ "Comparison function for motion estimation pre pass. Tip: SAD is fast, "
-#~ "SATD is good"
-#~ msgstr ""
-#~ "???????? ???????? ?? ??????? ??????? ???? ???????. SAD ?? ????, SADT ?? "
-#~ "?????"
-
-#~ msgid "Full pixel:"
-#~ msgstr "??? ??????"
-
-#~ msgid "Comparison function for full pel motion estimation"
-#~ msgstr "???????? ???????? ?? ??????? ??????? ????? ?????????"
-
-#~ msgid "Subpixel:"
-#~ msgstr "??? ??????"
-
-#~ msgid "Comparison function for sub pel motion estimation"
-#~ msgstr "???????? ???????? ?? ??????? ??????? ??? ?????????"
-
-#~ msgid ""
-#~ "Comparison  function for the macroblock decision, used only when "
-#~ "macroblock decision is set to 0"
-#~ msgstr ""
-#~ "???????? ???????? ?? ?? ?????? ? ??????????, ??????? ?? ???? ???? ?? "
-#~ "??????? ?????????? ?????????? ?? 0"
-
-#~ msgid "Use chroma, too, currently doesn't work (correctly) with B-frames"
-#~ msgstr ""
-#~ "??????? ?????? ????, ??????, ???????? ?? ???? (????????) ?? ? ?????????"
-
-#~ msgid "Preview filtered video in a new window"
-#~ msgstr "????????? ?????????? ????? ? ????? ???????"
-
-#~ msgid "Display filtered output in the main window"
-#~ msgstr "????????? ?????????? ????? ? ??????? ???????"
-
-#~ msgid "PSP (broken)"
-#~ msgstr "PSP (?? ????)"
-
-#~ msgid "Select 2nd track"
-#~ msgstr "??????? ????? ?????"
-
-#~ msgid "Cannot save in process mode."
-#~ msgstr "?? ???? ?? ?????? ? ???? ?? ??????????."

Added: branches/avidemux_2.4_branch/po/sr at Latn.po
===================================================================
--- branches/avidemux_2.4_branch/po/sr at Latn.po	2007-05-22 17:17:47 UTC (rev 3126)
+++ branches/avidemux_2.4_branch/po/sr at Latn.po	2007-05-22 17:24:31 UTC (rev 3127)
@@ -0,0 +1,6199 @@
+# translation of sr.po to Serbian
+# This file is distributed under the same license as the PACKAGE package.
+# Copyright (C) YEAR THE PACKAGE'S COPYRIGHT HOLDER
+msgid ""
+msgstr ""
+"Project-Id-Version: sr\n"
+"Report-Msgid-Bugs-To: \n"
+"POT-Creation-Date: \n"
+"PO-Revision-Date: 2007-05-14 20:01+0100\n"
+"Last-Translator: Milo? Popovi? <gpopac at gmail.com>\n"
+"Language-Team: \n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"Plural-Forms: nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%" "10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);\n"
+"X-Poedit-Language: Serbian\n"
+
+#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:75
+#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:182
+msgid "Internal error"
+msgstr "Unutarnja gre?ka"
+
+#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:75
+msgid "Cannot open WMA2 codec."
+msgstr "Ne mogu da otvorim WMA2 kodek."
+
+#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:182
+msgid "Cannot open AMR codec."
+msgstr "Ne mogu da otvorim AMR kodek."
+
+#: avidemux/ADM_audiodevice/ADM_deviceoss.cpp:118
+msgid "Could not open OSS audio device"
+msgstr "Ne mogu da otvorim OSS ure?aj"
+
+#: avidemux/ADM_audiodevice/ADM_deviceoss.cpp:118
+msgid "Check the permissions for /dev/dsp."
+msgstr "Proverite ovla??enja nad /dev/dsp."
+
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:215
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:199
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:371
+msgid "Stereo"
+msgstr "Stereo"
+
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:216
+#, fuzzy
+msgid "Joint stereo"
+msgstr "Pridru?eni stereo"
+
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:217
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:370
+msgid "Mono"
+msgstr "Mono"
+
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:219
+msgid "Channel Mode"
+msgstr "Broj kanala"
+
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:222
+#, fuzzy
+msgid "CBR"
+msgstr "CBR"
+
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:223
+#, fuzzy
+msgid "ABR"
+msgstr "ABR"
+
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:225
+msgid "Extreme"
+msgstr "Ekstremno"
+
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:228
+#: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:273
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:203
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:181
+msgid "Mode"
+msgstr "Mod"
+
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:241
+#: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:287
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioconfig.cpp:59
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:624
+msgid "Bitrate"
+msgstr "Bitski protok"
+
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:246
+#: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:289
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mjpeg.cpp:82
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:204
+msgid "Quality"
+msgstr "Kvalitet"
+
+#: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:270
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:469
+#, fuzzy
+msgid "VBR"
+msgstr "VBR"
+
+#: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:271
+#, fuzzy
+msgid "Quality Based"
+msgstr "Bazirano na kvalitetu"
+
+#: avidemux/ADM_audiofilter/audiofilter_buildchain.cpp:322
+#: avidemux/gui_autodrive.cpp:82
+#: avidemux/gui_autodrive.cpp:116
+msgid "Codec Error"
+msgstr "Gre?ka u kodecima"
+
+#: avidemux/ADM_audiofilter/audiofilter_buildchain.cpp:322
+msgid ""
+"The number of channels is greater than what the selected audio codec can do.\n"
+"Either change codec or use the mixer filter to have less channels."
+msgstr ""
+"Broj audio kanala je ve?i nego ?to odabrani audio kodek podr?ava.\n"
+"Ili odaberite drugi kodek ili koristite filter da smanjite broj kanala."
+
+#: avidemux/ADM_codecs/ADM_ffmp43.cpp:51
+msgid "Internal error finding codec"
+msgstr "Unutarnja gre?ka u nala?enju kodeka"
+
+#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:51
+msgid "Internal error opening codec"
+msgstr "Unutarnja gre?ka u otvaranju kodeka"
+
+#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:53
+msgid "Internal error with context for  codec"
+msgstr "Unutarnja gre?ka vezana za kodek"
+
+#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:53
+#, fuzzy
+msgid ""
+".\n"
+" Did you use too low / too high target for 2 pass ?"
+msgstr ""
+".\n"
+" Da li si koristio suvi?e nizak/visok izlaz za drugi prolaz ?"
+
+#: avidemux/ADM_editor/ADM_edFrameType.cpp:56
+msgid "No video loaded"
+msgstr "Nema u?itanog videa"
+
+#: avidemux/ADM_editor/ADM_edFrameType.cpp:61
+msgid "Not indexable"
+msgstr "Nemogu?e napraviti indeks"
+
+#: avidemux/ADM_editor/ADM_edFrameType.cpp:61
+msgid "DivX 5 + packed?"
+msgstr "Da li je zapakovano u DivX 5 +?"
+
+#: avidemux/ADM_editor/ADM_edFrameType.cpp:119
+msgid "Aborted"
+msgstr "Prekinuto"
+
+#: avidemux/ADM_editor/ADM_edit.cpp:389
+msgid "File type identified but no loader support detected..."
+msgstr "Tip datoteke prepoznat, ali ne postoji podr?ka za u?itavanje..."
+
+#: avidemux/ADM_editor/ADM_edit.cpp:390
+msgid "May be related to an old index file."
+msgstr "Mo?da se odnosi na neku staru datoteku sa indeksom."
+
+#: avidemux/ADM_editor/ADM_edit.cpp:397
+#, c-format
+msgid "Attempt to open %s failed!"
+msgstr "Poku?aj da otvorim %s nije uspeo!"
+
+#: avidemux/ADM_editor/ADM_edit.cpp:421
+msgid ""
+"You cannot mix different video dimensions yet. Using the partial video filter later, will not work around this problem. The workaround is:\n"
+"1.) \"resize\" / \"add border\" / \"crop\" each stream to the same resolution\n"
+"2.) concatinate them together"
+msgstr ""
+"Jo? uvek ne mo?ete me?ati razli?ite video tipove. Kori??enje polovi?nog video filtera kasnije, ne?e re?iti problem. Re?enje je:\n"
+"1.) ?promeni veli?inu?, ?dodaj ivice? ili ?iseci? svaki tok na istu rezoluciju\n"
+"2.) spoji ih zajedno"
+
+#: avidemux/ADM_editor/ADM_edit.cpp:520
+msgid "Build Time Map"
+msgstr "Izgradi vremensku mapu"
+
+#: avidemux/ADM_editor/ADM_edit.cpp:520
+#, fuzzy
+msgid "Build VBR time map?"
+msgstr "Da izgradim VBR vremensku mapu?"
+
+#: avidemux/ADM_editor/ADM_edit.cpp:554
+msgid "Use that mode"
+msgstr "Koristi taj mod"
+
+#: avidemux/ADM_editor/ADM_edit.cpp:554
+msgid "H264 detected"
+msgstr "Prona?en H264"
+
+#: avidemux/ADM_editor/ADM_edit.cpp:554
+#, fuzzy
+msgid ""
+"If the file is using bframe as reference, it can lead to crash or stutteting.\n"
+"Avidemux can use another mode which is safed but <b>YOU WILL LOOSE FRAME ACCURACY</b>.\n"
+"Do you want to use that mode ?"
+msgstr ""
+"Ukoliko datoteka koristi B kadar kao referencu, mo?e do?i do pada ili ko?enja.\n"
+"Avidemux mo?e da koristi drugi mod koji je sigurniji ali <b>?ETE IZGUBITI TA?NOST KADROVA</b>.\n"
+"Da li ?elite da koristite taj mod ?"
+
+#: avidemux/ADM_editor/ADM_edit.cpp:681
+msgid "Packed Bitstream detected"
+msgstr "Prona?en pakovani bitski tok"
+
+#: avidemux/ADM_editor/ADM_edit.cpp:682
+msgid "Do you want me to unpack it ?"
+msgstr "Da li ?elite da ga raspakujete ?"
+
+#: avidemux/ADM_editor/ADM_edit.cpp:702
+msgid "Could not unpack the video"
+msgstr "Ne mogu da raspakujem video"
+
+#: avidemux/ADM_editor/ADM_edit.cpp:702
+msgid "Using backup decoder - not frame accurate."
+msgstr "Koristim rezervni dekoder - manja preciznost kadrova."
+
+#: avidemux/ADM_editor/ADM_edit.cpp:707
+msgid "Weird"
+msgstr "?udno"
+
+#: avidemux/ADM_editor/ADM_edit.cpp:707
+msgid "The unpacking succeedeed but the index is still not up to date."
+msgstr "Uspe?no raspakovano ali indeks jo? uvek nije a?uran."
+
+#: avidemux/ADM_editor/ADM_edit.cpp:713
+msgid "Troubles ahead"
+msgstr "Predvi?am nevolje"
+
+#: avidemux/ADM_editor/ADM_edit.cpp:713
+#, fuzzy
+msgid "This a VOP packed AVI."
+msgstr "Ovo je VOP pakovani AVI."
+
+#: avidemux/ADM_editor/ADM_edit.cpp:724
+msgid "Index is not up to date"
+msgstr "Indeks nije a?uran."
+
+#: avidemux/ADM_editor/ADM_edit.cpp:724
+msgid "You should use Tool->Rebuild frame. Do it now ?"
+msgstr "Trebalo bi da koristite Alati -> Re-izgradi kadrove. Da uradim to sada ?"
+
+#: avidemux/ADM_editor/ADM_edit.cpp:1479
+msgid ""
+"This looks like mpeg\n"
+" Do you want to index it?"
+msgstr ""
+"Ovo izgleda kao MPEG\n"
+"Da li ?elite da napravite njegov indeks?"
+
+#: avidemux/ADM_editor/ADM_edit.cpp:1531
+msgid "Indexing failed"
+msgstr "Pravljenje indeksa neuspelo"
+
+#: avidemux/ADM_editor/ADM_edLoadSave.cpp:75
+msgid "Unsupported"
+msgstr "Nije podr?ano"
+
+#: avidemux/ADM_editor/ADM_edLoadSave.cpp:301
+msgid "Old format project file"
+msgstr "Stari format datoteke sa projektom"
+
+#: avidemux/ADM_editor/ADM_edLoadSave.cpp:301
+msgid "No more supported."
+msgstr "Vi?e nije podr?ano."
+
+#: avidemux/ADM_editor/ADM_outputfmt.h:38
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:501
+msgid "AVI"
+msgstr "AVI"
+
+#: avidemux/ADM_editor/ADM_outputfmt.h:39
+msgid "AVI, unp. VOP"
+msgstr "AVI raspak. VOP"
+
+#: avidemux/ADM_editor/ADM_outputfmt.h:40
+#, fuzzy
+msgid "AVI, pack VOP"
+msgstr "AVI raspak. VOP"
+
+#: avidemux/ADM_editor/ADM_outputfmt.h:41
+msgid "AVI, dual audio"
+msgstr "AVI dva audija"
+
+#: avidemux/ADM_editor/ADM_outputfmt.h:42
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:505
+msgid "OGM"
+msgstr "OGM (OGG)"
+
+#: avidemux/ADM_editor/ADM_outputfmt.h:43
+#, fuzzy
+msgid "MPEG Video"
+msgstr "MPEG video"
+
+#: avidemux/ADM_editor/ADM_outputfmt.h:44
+#, fuzzy
+msgid "MPEG-PS (A+V)"
+msgstr "MPEG PS (aud + vid)"
+
+#: avidemux/ADM_editor/ADM_outputfmt.h:45
+#, fuzzy
+msgid "MPEG-TS (A+V)"
+msgstr "MPEG TS (aud + vid)"
+
+#: avidemux/ADM_editor/ADM_outputfmt.h:46
+msgid "MP4"
+msgstr "MP4"
+
+#: avidemux/ADM_editor/ADM_outputfmt.h:47
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:756
+msgid "PSP"
+msgstr "PSP"
+
+#: avidemux/ADM_encoder/adm_encConfig.cpp:192
+msgid "Wrong output format"
+msgstr "Pogre?an izlazni format"
+
+#: avidemux/ADM_encoder/adm_encConfig.cpp:192
+msgid "Select MPEG as the output."
+msgstr "Odaberi MPEG kao izlaz."
+
+#: avidemux/ADM_encoder/adm_encConfig.cpp:197
+msgid "Wrong video codec"
+msgstr "Pogre?an video kodek"
+
+#: avidemux/ADM_encoder/adm_encConfig.cpp:198
+msgid "Select DVD as the video codec for MPEG TS output."
+msgstr "Odaberi DVD kao video kodek za MPEG TS izlaz."
+
+#: avidemux/ADM_encoder/adm_encConfig.cpp:715
+#, fuzzy
+msgid "Only QCIF and subQCIF are allowed for H.263"
+msgstr "Samo QCIF  i subQCIF su dozvoljeni za H.263"
+
+#: avidemux/ADM_encoder/adm_encConfig.cpp:907
+msgid "Fatal error"
+msgstr "Fatalna gre?ka"
+
+#: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
+#, fuzzy
+msgid "Incompatible settings"
+msgstr "Nepkompatibilna pode?avanja"
+
+#: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
+msgid "At the moment, the DV codec only accepts 720*576 at 25"
+msgstr "U ovom trenutku, DV kodek prihvata samo 720*576 at 25"
+
+#: avidemux/ADM_filter/filter_saveload.cpp:156
+msgid "Problem reading XML filters"
+msgstr "Problem pri ?itanju XML filtera"
+
+#: avidemux/ADM_filter/filter_saveload.cpp:164
+msgid "No filter found"
+msgstr "Nisu na?eni filteri"
+
+#: avidemux/ADM_filter/filter_saveload.cpp:200
+msgid "Could not find a filter"
+msgstr "Ne mogu da na?em filter"
+
+#: avidemux/ADM_filter/filter_saveload.cpp:208
+msgid "No tag found"
+msgstr "Nisu na?eni tagovi"
+
+#: avidemux/ADM_filter/filter_saveload.cpp:288
+#, fuzzy
+msgid "Node not found"
+msgstr "?vor nije na?en"
+
+#: avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp:484
+msgid "Expect troubles"
+msgstr "O?ekujem probleme"
+
+#: avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp:971
+msgid "Problem reading SVQ3 headers"
+msgstr "Problem pri ?itanju SVQ3 zaglavlja"
+
+#: avidemux/ADM_inputs/ADM_3gp/ADM_3gp.cpp:1527
+msgid "No stts table"
+msgstr "Ne postoji stts tabela"
+
+#: avidemux/ADM_inputs/ADM_h263/ADM_h263.cpp:257
+msgid "Size is not (s)QCIF"
+msgstr "Veli?ina nije (s)QCIF"
+
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:148
+msgid "There is several mpeg file, append them ?"
+msgstr "Ima nekoliko MPEG datoteka, da ih dodam ?"
+
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:245
+msgid "Can't determine aspect ratio"
+msgstr "Ne mogu da odredim razmeru"
+
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_video.cpp:363
+msgid "Out of memory"
+msgstr "Nestalo je memorije"
+
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_video.cpp:547
+#, fuzzy
+msgid "MPEG renumbering error"
+msgstr "Gre?ka pri MPEG prebrojavanju"
+
+#: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:560
+msgid "Sure you want to abort ?"
+msgstr "Da zaista prekinem ?"
+
+#: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:771
+msgid "Size mismatch"
+msgstr "Veli?ina se ne poklapa"
+
+#: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:771
+msgid "Expect a crash."
+msgstr "O?ekujem pad programa."
+
+#: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:1063
+msgid "Do you want to save an index ?"
+msgstr "Ho?ete li da sa?uvate indeks ?"
+
+#: avidemux/ADM_inputs/ADM_ogm/ADM_ogm.cpp:355
+msgid "Take second track ?"
+msgstr "Da uzmem drugu traku ?"
+
+#: avidemux/ADM_inputs/ADM_ogm/ADM_ogm.cpp:435
+msgid "Scanning OGM"
+msgstr "Skeniram OGM"
+
+#: avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp:285
+#: avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp:370
+#: avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp:505
+#, fuzzy
+msgid "Malformed header"
+msgstr "Neispravno zaglavlje"
+
+#: avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp:308
+msgid "Incompatible frame rate"
+msgstr "Nepodr?ana u?estanost kadrova"
+
+#: avidemux/ADM_libraries/ADM_lvemux/ADM_muxer.cpp:85
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:153
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:209
+msgid "Incompatible audio"
+msgstr "Nepodr?an audio"
+
+#: avidemux/ADM_libraries/ADM_lvemux/ADM_muxer.cpp:85
+msgid "For DVD, audio must be MP2 or AC3."
+msgstr "Za DVD, audio mora da bude MP2 ili AC3"
+
+#: avidemux/ADM_libraries/ADM_lvemux/ADM_muxer.cpp:92
+msgid "lvemux init failed"
+msgstr "neuspelo pokretanje lvemux"
+
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:403
+msgid "Memory error"
+msgstr "Gre?ka sa memorijom"
+
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:410
+msgid "Error converting to BMP"
+msgstr "Gre?ka pri prebacivanju u BMP"
+
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:417
+#: avidemux/gtk_gui.cpp:1925
+msgid "Something bad happened"
+msgstr "Ne?to lo?e se desilo"
+
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:472
+msgid "Cannot encode the frame"
+msgstr "Ne mogu da kodiram kadar"
+
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
+#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:71
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:393
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:252
+#: avidemux/gtk_gui.cpp:880
+#: avidemux/gtk_gui.cpp:1530
+msgid "File error"
+msgstr "Gre?ka sa datotekom"
+
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:393
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
+#: avidemux/gtk_gui.cpp:1530
+#, c-format
+msgid "Cannot open \"%s\" for writing."
+msgstr "Ne mogu da otvorim ?%s? za upis."
+
+#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:22
+msgid "Select Glyphfile to save to"
+msgstr "Odaberi datoteku za snimanje karaktera"
+
+#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:30
+msgid "Could not write the file"
+msgstr "Ne mogu da pi?em u datoteku"
+
+#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:62
+msgid "Erase current glyphs ?"
+msgstr "Obri?i trenutni karakter ?"
+
+#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:71
+#, c-format
+msgid "Could not read \"%s\"."
+msgstr "Ne mogu da ?itam ?%s?."
+
+#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:244
+msgid "Ifo error"
+msgstr "IFO gre?ka"
+
+#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:244
+msgid "Error reading ifo file, aborting."
+msgstr "Gre?ka pri ?itanju IFO datoteke, prekidam."
+
+#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:252
+msgid "Cannot write .idx"
+msgstr "Ne mogu da upi?em .IDX"
+
+#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:265
+msgid "Cannot write .sub"
+msgstr "Ne mogu da upi?em .SUB"
+
+#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:277
+msgid "Problem opening the mpeg files"
+msgstr "Problem pri otvaranju MPEG datoteke."
+
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:102
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:126
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:146
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:153
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:164
+#: avidemux/GUI_jobs.cpp:37
+#, fuzzy
+msgid "Oops"
+msgstr "Ups..."
+
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:102
+#, c-format
+msgid "can't create custom directory (%s)."
+msgstr "ne mogu da napravim datoteku (%s)"
+
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:126
+#, c-format
+msgid "can't create job directory (%s)."
+msgstr "ne mogu da napravim direktorijum za zadatke (%s)"
+
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:146
+msgid "can't determine $USERPROFILE."
+msgstr "ne mogu da odredim $USERPROFILE."
+
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:153
+msgid "can't determine $HOME."
+msgstr "ne mogu da odredim $HOME"
+
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:164
+msgid "Cannot create the .avidemux directory"
+msgstr "Ne mogu da napravim .avidemux fasciklu"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:74
+msgid "Normal"
+msgstr "Normano"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:75
+#, fuzzy
+msgid "Mux every N video frames"
+msgstr "Multipleksiraj svaki N video kadar"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:76
+#, fuzzy
+msgid "Mux by packet size"
+msgstr "Multipleksiranje po veli?ini paketa"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:79
+#, fuzzy
+msgid "Muxing Type"
+msgstr "Tip multipleksiranja"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:80
+#, fuzzy
+msgid "Split every MBytes"
+msgstr "Podeli svakih MBytes"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:82
+#, fuzzy
+msgid "Mux Every x video frames"
+msgstr "Multipleksiraj svaki x video kadar"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:83
+#, fuzzy
+msgid "Mux with block of size"
+msgstr "Multipleksiranje sa veli?inom bloka"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:90
+#, fuzzy
+msgid "Avi Muxer Option"
+msgstr "Opcije AVI multipleksera"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:188
+msgid "Error initalizing audio filters"
+msgstr "Ne mogu da pokrenem audio filtere"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:197
+msgid "Error initalizing video filters"
+msgstr "Ne mogu da pokrenem video filtere"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:446
+#: avidemux/ADM_outputs/oplug_avi/op_avisavecopy.cpp:96
+#: avidemux/ADM_outputs/oplug_avi/op_avisavecopy_pack.cpp:121
+#: avidemux/ADM_outputs/oplug_avi/op_avisavecopy_unpack.cpp:98
+msgid "Cannot initiate save"
+msgstr "Ne mogu da zapo?nem snimanje"
+
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:73
+msgid ""
+"Width is not a multiple of 8\n"
+" continue anyway ?"
+msgstr ""
+"?irina filma nije osmi umno?ak du?ine.\n"
+"Da nastavim?"
+
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:93
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:170
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:76
+msgid "Filter init failed"
+msgstr "Pokretanje filtera neuspelo"
+
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:127
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:395
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:100
+msgid ""
+"\n"
+" Reuse the existing log-file ?"
+msgstr ""
+"\n"
+" Da li da iskoristim postoje?i dnevnik izmena ?"
+
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:152
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:431
+msgid "Aborting"
+msgstr "Obustavljam"
+
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:152
+msgid "Cannot initialize the video stream"
+msgstr "Ne mogu da pokrenem video tok"
+
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:208
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:331
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:415
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:352
+msgid "Error while encoding"
+msgstr "Gre?ka pri kodiranju"
+
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:220
+msgid "KeyFrame error"
+msgstr "Gre?ka u klju?nom kadru"
+
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:220
+msgid ""
+"The beginning frame is not a key frame.\n"
+"Please move the A marker."
+msgstr ""
+"Po?etni kadar nije klju?ni kadar.\n"
+"Pomerite A marker."
+
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:247
+msgid "Cannot initialize the audio stream"
+msgstr "Ne mogu da pokrenem audio tok"
+
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:89
+msgid "This is not MPEG compatible"
+msgstr "MPEG ne podr?ava ovo"
+
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:89
+msgid "You can't use the Copy codec."
+msgstr "Ne mo?ete da koristite ?bez izmene? kao kodek."
+
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:94
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:156
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:167
+msgid "There is no audio track"
+msgstr "Ne postoji audio traka"
+
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:101
+#, fuzzy
+msgid "The first frame is not intra frame"
+msgstr "Prvi kadar nije intra kadar"
+
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:101
+#, fuzzy
+msgid "Use the &lt;&lt; and the &gt;&gt; buttons to move using Intra frames."
+msgstr "Koristi &lt;&lt; i &gt;&gt; dugmad za kretanje koriste?i Intra kadrove."
+
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:113
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:177
+msgid "Audio track is not suitable"
+msgstr "Audio traka nije odgovaraju?a"
+
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:153
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:187
+msgid "For VCD, audio must be 44.1 kHz MP2."
+msgstr "Za VCD audio mora biti 44.1 kHz MP2."
+
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:182
+msgid "For DVD, audio must be 48 kHz MP2(stereo), AC3, DTS or LPCM (stereo)."
+msgstr "Za DVD audio mora biti 48 kHz MP2 (stereo), AC3, DTS ili LPCM (stereo)."
+
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:209
+msgid "For DVD, audio must be 48 kHz MP2, AC3 or LPCM."
+msgstr "Za DVD audio mora biti 48 kHz MP2, AC3 or LPCM."
+
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:326
+msgid "Reuse log file ?"
+msgstr "Da iskoristim postoje?i dnevnik izmena ?"
+
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:341
+msgid "Error in pass 1"
+msgstr "Gre?ka u prvom prolazu"
+
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:491
+msgid "Error in pass 2"
+msgstr "Gre?ka u drugom prolazu"
+
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:126
+msgid "Could not initialize video"
+msgstr "Ne mogu da pustim video"
+
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:134
+msgid "Could not initialize audio"
+msgstr "Ne mogu da pustim audio"
+
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:230
+msgid "Select a directory"
+msgstr "Odaberi direktorijum"
+
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:496
+msgid "Uinteger"
+msgstr ""
+
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:511
+msgid "Float"
+msgstr "Lebde?i"
+
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:528
+msgid "Toggle"
+msgstr ""
+
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:545
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:83
+msgid "No Strategy"
+msgstr "Bez strategije"
+
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:546
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:84
+msgid "3:2 Pulldown"
+msgstr ""
+
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:547
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:85
+msgid "Pal/Secam"
+msgstr "Pal/Secam"
+
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:548
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:86
+msgid "NTSC converted from PAL"
+msgstr "NTSC prekodiran iz PAL"
+
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:550
+msgid "menu"
+msgstr "meni"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:59
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:128
+msgid "No data"
+msgstr "Nema podataka"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:232
+#, fuzzy
+msgid "Bitrate Histogram"
+msgstr "_Histogram bitskog protoka"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:95
+#, fuzzy
+msgid "Option "
+msgstr "Opcije"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:52
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:42
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:380
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:402
+msgid "4:3"
+msgstr "4:3"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:53
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:43
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:384
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:406
+msgid "16:9"
+msgstr "16:9"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:55
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:45
+msgid "Default"
+msgstr "Podrazumevano"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:56
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:46
+msgid "Tmpgenc"
+msgstr "Tmpg koder"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:57
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:47
+msgid "Anime"
+msgstr "Anime"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:58
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:48
+msgid "KVCD"
+msgstr "KVCD"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:61
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:51
+msgid "Progressive"
+msgstr "Progresivni"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:62
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:52
+msgid "Int. TFF"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:63
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:53
+msgid "Int. BFF"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:74
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:60
+msgid "Max Bitrate"
+msgstr "Najve?i bitski protok"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:75
+msgid "Min Bitrate"
+msgstr "Najmanji bitski protok"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:76
+msgid "Use Xvid Rate Control"
+msgstr "Koristi Xvid kontorlu toka"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:78
+msgid "Buffer Size"
+msgstr "Veli?ina me?umemorije"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:80
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:57
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:299
+msgid "Aspect Ratio"
+msgstr "Razmera"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:81
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:73
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:58
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:265
+msgid "Matrices"
+msgstr "Matrice"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:82
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:59
+#, fuzzy
+msgid "Gop Size"
+msgstr "Veli?ina slovnog lika"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:88
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:66
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:123
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:285
+msgid "Interlacing"
+msgstr "Preplitanje"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:27
+msgid "Hour"
+msgstr "Sata"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:28
+msgid "Minutes"
+msgstr "Minuta"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:29
+msgid "Seconds"
+msgstr "Sekunde"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:51
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:257
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:290
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:373
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:381
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:389
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:420
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:518
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:526
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:612
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:219
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1095
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:105
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:101
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:264
+#: avidemux/gtk_gui.cpp:2003
+#: avidemux/gtk_gui.cpp:2102
+msgid "None"
+msgstr "Ni?ta"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:52
+msgid "Full"
+msgstr "Potpuno"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:53
+msgid "Log"
+msgstr "Dnevnik izmena"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:54
+msgid "Phods"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:55
+msgid "EPZS"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:56
+msgid "X1"
+msgstr "X1"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:60
+msgid "H263"
+msgstr "H263"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:61
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:509
+msgid "MPEG"
+msgstr "MPEG"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:65
+msgid "MB Comparison"
+msgstr "MB pore?enje"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:66
+msgid "Fewest bits (vhq)"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:67
+#, fuzzy
+msgid "Rate distortion"
+msgstr "Izobli?enje protoka"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:74
+msgid "Min Qz"
+msgstr "Najmanji kvantizer"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:75
+msgid "Max Qz"
+msgstr "Najve?i kvantizer"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:76
+msgid "Max QDiff"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:78
+msgid "4MV"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:79
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:855
+msgid "Trellis"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:81
+#, fuzzy
+msgid "Quarter Pel"
+msgstr "?etvrt piksela"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:82
+#, fuzzy
+msgid "GMC"
+msgstr "GMC "
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:85
+#, fuzzy
+msgid "Number of BFrames"
+msgstr "Broj B kadrova"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:86
+msgid "Quantization type"
+msgstr "Tip kvantizacije: "
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:88
+#, fuzzy
+msgid "Macroblock decision"
+msgstr "Odlika makrobloka"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:90
+msgid "Filesize tolerance (kb"
+msgstr "Tolerancija veli?ine datoteke (kb"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:92
+#, fuzzy
+msgid "Quantize compression"
+msgstr "Kvantizerska kompresija"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:93
+#, fuzzy
+msgid "Quantize blur"
+msgstr "Kvantizaciono zamu?enje"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:98
+msgid "User Interface"
+msgstr "Korisni?ko okru?enje"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:101
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1028
+msgid "Advanced Simple Profile"
+msgstr "Napredniji prosti profil"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:108
+msgid "Motion Estimation"
+msgstr "Procena pokreta"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:112
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:309
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1240
+msgid "Quantization"
+msgstr "Kvantizacija"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:117
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1374
+msgid "Rate Control"
+msgstr "Kontrola protoka"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:120
+msgid "Lavcodec Mpeg4 configuration"
+msgstr "Pode?avanja Lav MPEG4 kodeka"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:40
+#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:60
+msgid "_Filter strength:"
+msgstr "_Ja?ina filtera:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:41
+msgid "Swap U&V"
+msgstr "Izokreni U i V"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:51
+#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:72
+msgid "_Horizontal deblocking"
+msgstr "_Horizontalno uklanjanje blokova"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:52
+#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:73
+msgid "_Vertical deblocking"
+msgstr "_Vertikalno uklanjanje blokova"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:53
+#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:74
+msgid "_Deringing"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:149
+msgid "Use systray while encoding"
+msgstr "Smesti u o_bave?tajnu zonu prilikom kodiranja"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:150
+msgid "Accept non standard audio frequency for DVD"
+msgstr "Dozvoli nestandardne u?estanosti audija za DVD"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:151
+msgid "Use lavcodec mpeg2 decoder"
+msgstr "_Koristi Lav MPEG2 dekoder"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:152
+msgid "Create openDML file"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:153
+msgid "Automatically index mpeg files"
+msgstr "Napravi _indeks MPEG datoteka bez pitanja"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:154
+msgid "Automatically swap A and B if A>B"
+msgstr "Automatski izokreni  A i B ako je A>B"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:155
+#, fuzzy
+msgid "Disable NUV audio sync"
+msgstr "Onemogu?i NUV audio sinhronizaciju"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:156
+msgid "Load external filters"
+msgstr "U?itaj spoljnje filtere"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:158
+msgid "Automatically build VBR map"
+msgstr "Napravi VBR mapu bez pitanja"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:159
+msgid "Automatically rebuild index"
+msgstr "Re-izgradi indeks bez pitanja"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:160
+msgid "Automatically remove packed bitstream"
+msgstr "Automatski ukloni pakovani bitski tok"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:163
+#, fuzzy
+msgid "Number of threads"
+msgstr "Broj tredova"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:164
+msgid "Split mpegs every (MB)"
+msgstr "Podeli MPEG na svakih (MB)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:166
+#, fuzzy
+msgid "Use alternative tag for mp3 in .mp4"
+msgstr "Koristi alternativni tag za mp3 u .mp4"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:169
+msgid "Gtk (Slow)"
+msgstr "Gtk (sporo)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:171
+msgid "Xv (Best)"
+msgstr "Xv (najbolje)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:174
+msgid "SDL (Good)"
+msgstr "SDL (dobro)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:177
+#, fuzzy
+msgid "Video Display"
+msgstr "Video ekran"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:182
+msgid "No alerts"
+msgstr "Bez upozorenja"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:183
+msgid "Display only error alerts"
+msgstr "Prika?i samo upozorenja o gre?kama"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:184
+msgid "Display all alerts"
+msgstr "Prika?i sva upozorenja"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:186
+msgid "Message level"
+msgstr "Nivo obave?tavanja"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:191
+msgid "PCM"
+msgstr "PCM"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:192
+msgid "Master"
+msgstr "Glavni"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:193
+msgid "Volume control"
+msgstr "Kontrola ja?ine zvuka"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:198
+msgid "No downmixing"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:200
+msgid "Prologic"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:201
+msgid "Prologic II"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:203
+msgid "Local Playback Downmixing"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:232
+msgid "Audio output"
+msgstr "Audio izlaz"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:245
+msgid "Horizontal deblocking"
+msgstr "Horizontalno uklanjanje blokova"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:246
+msgid "Vertical deblocking"
+msgstr "Vertikalno uklanjanje blokova"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:247
+msgid "Deringing"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:248
+msgid "Strength:"
+msgstr "Ja?ina:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:249
+#, fuzzy
+msgid "Default Postprocessing"
+msgstr "Podrazumevani nivo naknadnog procesiranja"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:263
+msgid "Filter directory"
+msgstr "Direktorijum sa filterima"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:301
+msgid "Preferences"
+msgstr "Postavke"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:59
+#, fuzzy
+msgid "Target type"
+msgstr "Izlazni tip"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:60
+msgid "Source aspect ratio"
+msgstr "Razmera na ulazu"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:61
+msgid "Dest. aspect ratio"
+msgstr "Razmera na izlazu"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:54
+msgid "translator-credits"
+msgstr "Zasluge prevodioca"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:69
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:265
+msgid "Avidemux"
+msgstr "Avidemux"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:70
+msgid "? 2001-2006 Mean"
+msgstr "? 2001-2006 Mean"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:71
+#, fuzzy
+msgid "Multiplatform video editor"
+msgstr "Vi?eplatformski video ure?iva?"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:72
+msgid ""
+"Avidemux is free software; you can redistribute it and/or modify it \n"
+"under the terms of the GNU General Public License version 2 \n"
+"as published by the Free Software Foundation.\n"
+"\n"
+"\t\t    GNU GENERAL PUBLIC LICENSE\n"
+"\t\t       Version 2, June 1991\n"
+"\n"
+" Copyright (C) 1989, 1991 Free Software Foundation, Inc.\n"
+"                       51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n"
+" Everyone is permitted to copy and distribute verbatim copies\n"
+" of this license document, but changing it is not allowed.\n"
+"\n"
+"\t\t\t    Preamble\n"
+"\n"
+"  The licenses for most software are designed to take away your\n"
+"freedom to share and change it.  By contrast, the GNU General Public\n"
+"License is intended to guarantee your freedom to share and change free\n"
+"software--to make sure the software is free for all its users.  This\n"
+"General Public License applies to most of the Free Software\n"
+"Foundation's software and to any other program whose authors commit to\n"
+"using it.  (Some other Free Software Foundation software is covered by\n"
+"the GNU Library General Public License instead.)  You can apply it to\n"
+"your programs, too.\n"
+"\n"
+"  When we speak of free software, we are referring to freedom, not\n"
+"price.  Our General Public Licenses are designed to make sure that you\n"
+"have the freedom to distribute copies of free software (and charge for\n"
+"this service if you wish), that you receive source code or can get it\n"
+"if you want it, that you can change the software or use pieces of it\n"
+"in new free programs; and that you know you can do these things.\n"
+"\n"
+"  To protect your rights, we need to make restrictions that forbid\n"
+"anyone to deny you these rights or to ask you to surrender the rights.\n"
+"These restrictions translate to certain responsibilities for you if you\n"
+"distribute copies of the software, or if you modify it.\n"
+"\n"
+"  For example, if you distribute copies of such a program, whether\n"
+"gratis or for a fee, you must give the recipients all the rights that\n"
+"you have.  You must make sure that they, too, receive or can get the\n"
+"source code.  And you must show them these terms so they know their\n"
+"rights.\n"
+"\n"
+"  We protect your rights with two steps: (1) copyright the software, and\n"
+"(2) offer you this license which gives you legal permission to copy,\n"
+"distribute and/or modify the software.\n"
+"\n"
+"  Also, for each author's protection and ours, we want to make certain\n"
+"that everyone understands that there is no warranty for this free\n"
+"software.  If the software is modified by someone else and passed on, we\n"
+"want its recipients to know that what they have is not the original, so\n"
+"that any problems introduced by others will not reflect on the original\n"
+"authors' reputations.\n"
+"\n"
+"  Finally, any free program is threatened constantly by software\n"
+"patents.  We wish to avoid the danger that redistributors of a free\n"
+"program will individually obtain patent licenses, in effect making the\n"
+"program proprietary.  To prevent this, we have made it clear that any\n"
+"patent must be licensed for everyone's free use or not licensed at all.\n"
+"\n"
+"  The precise terms and conditions for copying, distribution and\n"
+"modification follow.\n"
+"\n"
+"\t\t    GNU GENERAL PUBLIC LICENSE\n"
+"   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n"
+"\n"
+"  0. This License applies to any program or other work which contains\n"
+"a notice placed by the copyright holder saying it may be distributed\n"
+"under the terms of this General Public License.  The \"Program\", below,\n"
+"refers to any such program or work, and a \"work based on the Program\"\n"
+"means either the Program or any derivative work under copyright law:\n"
+"that is to say, a work containing the Program or a portion of it,\n"
+"either verbatim or with modifications and/or translated into another\n"
+"language.  (Hereinafter, translation is included without limitation in\n"
+"the term \"modification\".)  Each licensee is addressed as \"you\".\n"
+"\n"
+"Activities other than copying, distribution and modification are not\n"
+"covered by this License; they are outside its scope.  The act of\n"
+"running the Program is not restricted, and the output from the Program\n"
+"is covered only if its contents constitute a work based on the\n"
+"Program (independent of having been made by running the Program).\n"
+"Whether that is true depends on what the Program does.\n"
+"\n"
+"  1. You may copy and distribute verbatim copies of the Program's\n"
+"source code as you receive it, in any medium, provided that you\n"
+"conspicuously and appropriately publish on each copy an appropriate\n"
+"copyright notice and disclaimer of warranty; keep intact all the\n"
+"notices that refer to this License and to the absence of any warranty;\n"
+"and give any other recipients of the Program a copy of this License\n"
+"along with the Program.\n"
+"\n"
+"You may charge a fee for the physical act of transferring a copy, and\n"
+"you may at your option offer warranty protection in exchange for a fee.\n"
+"\n"
+"  2. You may modify your copy or copies of the Program or any portion\n"
+"of it, thus forming a work based on the Program, and copy and\n"
+"distribute such modifications or work under the terms of Section 1\n"
+"above, provided that you also meet all of these conditions:\n"
+"\n"
+"    a) You must cause the modified files to carry prominent notices\n"
+"    stating that you changed the files and the date of any change.\n"
+"\n"
+"    b) You must cause any work that you distribute or publish, that in\n"
+"    whole or in part contains or is derived from the Program or any\n"
+"    part thereof, to be licensed as a whole at no charge to all third\n"
+"    parties under the terms of this License.\n"
+"\n"
+"    c) If the modified program normally reads commands interactively\n"
+"    when run, you must cause it, when started running for such\n"
+"    interactive use in the most ordinary way, to print or display an\n"
+"    announcement including an appropriate copyright notice and a\n"
+"    notice that there is no warranty (or else, saying that you provide\n"
+"    a warranty) and that users may redistribute the program under\n"
+"    these conditions, and telling the user how to view a copy of this\n"
+"    License.  (Exception: if the Program itself is interactive but\n"
+"    does not normally print such an announcement, your work based on\n"
+"    the Program is not required to print an announcement.)\n"
+"\n"
+"These requirements apply to the modified work as a whole.  If\n"
+"identifiable sections of that work are not derived from the Program,\n"
+"and can be reasonably considered independent and separate works in\n"
+"themselves, then this License, and its terms, do not apply to those\n"
+"sections when you distribute them as separate works.  But when you\n"
+"distribute the same sections as part of a whole which is a work based\n"
+"on the Program, the distribution of the whole must be on the terms of\n"
+"this License, whose permissions for other licensees extend to the\n"
+"entire whole, and thus to each and every part regardless of who wrote it.\n"
+"\n"
+"Thus, it is not the intent of this section to claim rights or contest\n"
+"your rights to work written entirely by you; rather, the intent is to\n"
+"exercise the right to control the distribution of derivative or\n"
+"collective works based on the Program.\n"
+"\n"
+"In addition, mere aggregation of another work not based on the Program\n"
+"with the Program (or with a work based on the Program) on a volume of\n"
+"a storage or distribution medium does not bring the other work under\n"
+"the scope of this License.\n"
+"\n"
+"  3. You may copy and distribute the Program (or a work based on it,\n"
+"under Section 2) in object code or executable form under the terms of\n"
+"Sections 1 and 2 above provided that you also do one of the following:\n"
+"\n"
+"    a) Accompany it with the complete corresponding machine-readable\n"
+"    source code, which must be distributed under the terms of Sections\n"
+"    1 and 2 above on a medium customarily used for software interchange; or,\n"
+"\n"
+"    b) Accompany it with a written offer, valid for at least three\n"
+"    years, to give any third party, for a charge no more than your\n"
+"    cost of physically performing source distribution, a complete\n"
+"    machine-readable copy of the corresponding source code, to be\n"
+"    distributed under the terms of Sections 1 and 2 above on a medium\n"
+"    customarily used for software interchange; or,\n"
+"\n"
+"    c) Accompany it with the information you received as to the offer\n"
+"    to distribute corresponding source code.  (This alternative is\n"
+"    allowed only for noncommercial distribution and only if you\n"
+"    received the program in object code or executable form with such\n"
+"    an offer, in accord with Subsection b above.)\n"
+"\n"
+"The source code for a work means the preferred form of the work for\n"
+"making modifications to it.  For an executable work, complete source\n"
+"code means all the source code for all modules it contains, plus any\n"
+"associated interface definition files, plus the scripts used to\n"
+"control compilation and installation of the executable.  However, as a\n"
+"special exception, the source code distributed need not include\n"
+"anything that is normally distributed (in either source or binary\n"
+"form) with the major components (compiler, kernel, and so on) of the\n"
+"operating system on which the executable runs, unless that component\n"
+"itself accompanies the executable.\n"
+"\n"
+"If distribution of executable or object code is made by offering\n"
+"access to copy from a designated place, then offering equivalent\n"
+"access to copy the source code from the same place counts as\n"
+"distribution of the source code, even though third parties are not\n"
+"compelled to copy the source along with the object code.\n"
+"\n"
+"  4. You may not copy, modify, sublicense, or distribute the Program\n"
+"except as expressly provided under this License.  Any attempt\n"
+"otherwise to copy, modify, sublicense or distribute the Program is\n"
+"void, and will automatically terminate your rights under this License.\n"
+"However, parties who have received copies, or rights, from you under\n"
+"this License will not have their licenses terminated so long as such\n"
+"parties remain in full compliance.\n"
+"\n"
+"  5. You are not required to accept this License, since you have not\n"
+"signed it.  However, nothing else grants you permission to modify or\n"
+"distribute the Program or its derivative works.  These actions are\n"
+"prohibited by law if you do not accept this License.  Therefore, by\n"
+"modifying or distributing the Program (or any work based on the\n"
+"Program), you indicate your acceptance of this License to do so, and\n"
+"all its terms and conditions for copying, distributing or modifying\n"
+"the Program or works based on it.\n"
+"\n"
+"  6. Each time you redistribute the Program (or any work based on the\n"
+"Program), the recipient automatically receives a license from the\n"
+"original licensor to copy, distribute or modify the Program subject to\n"
+"these terms and conditions.  You may not impose any further\n"
+"restrictions on the recipients' exercise of the rights granted herein.\n"
+"You are not responsible for enforcing compliance by third parties to\n"
+"this License.\n"
+"\n"
+"  7. If, as a consequence of a court judgment or allegation of patent\n"
+"infringement or for any other reason (not limited to patent issues),\n"
+"conditions are imposed on you (whether by court order, agreement or\n"
+"otherwise) that contradict the conditions of this License, they do not\n"
+"excuse you from the conditions of this License.  If you cannot\n"
+"distribute so as to satisfy simultaneously your obligations under this\n"
+"License and any other pertinent obligations, then as a consequence you\n"
+"may not distribute the Program at all.  For example, if a patent\n"
+"license would not permit royalty-free redistribution of the Program by\n"
+"all those who receive copies directly or indirectly through you, then\n"
+"the only way you could satisfy both it and this License would be to\n"
+"refrain entirely from distribution of the Program.\n"
+"\n"
+"If any portion of this section is held invalid or unenforceable under\n"
+"any particular circumstance, the balance of the section is intended to\n"
+"apply and the section as a whole is intended to apply in other\n"
+"circumstances.\n"
+"\n"
+"It is not the purpose of this section to induce you to infringe any\n"
+"patents or other property right claims or to contest validity of any\n"
+"such claims; this section has the sole purpose of protecting the\n"
+"integrity of the free software distribution system, which is\n"
+"implemented by public license practices.  Many people have made\n"
+"generous contributions to the wide range of software distributed\n"
+"through that system in reliance on consistent application of that\n"
+"system; it is up to the author/donor to decide if he or she is willing\n"
+"to distribute software through any other system and a licensee cannot\n"
+"impose that choice.\n"
+"\n"
+"This section is intended to make thoroughly clear what is believed to\n"
+"be a consequence of the rest of this License.\n"
+"\n"
+"  8. If the distribution and/or use of the Program is restricted in\n"
+"certain countries either by patents or by copyrighted interfaces, the\n"
+"original copyright holder who places the Program under this License\n"
+"may add an explicit geographical distribution limitation excluding\n"
+"those countries, so that distribution is permitted only in or among\n"
+"countries not thus excluded.  In such case, this License incorporates\n"
+"the limitation as if written in the body of this License.\n"
+"\n"
+"  9. The Free Software Foundation may publish revised and/or new versions\n"
+"of the General Public License from time to time.  Such new versions will\n"
+"be similar in spirit to the present version, but may differ in detail to\n"
+"address new problems or concerns.\n"
+"\n"
+"Each version is given a distinguishing version number.  If the Program\n"
+"specifies a version number of this License which applies to it and \"any\n"
+"later version\", you have the option of following the terms and conditions\n"
+"either of that version or of any later version published by the Free\n"
+"Software Foundation.  If the Program does not specify a version number of\n"
+"this License, you may choose any version ever published by the Free Software\n"
+"Foundation.\n"
+"\n"
+"  10. If you wish to incorporate parts of the Program into other free\n"
+"programs whose distribution conditions are different, write to the author\n"
+"to ask for permission.  For software which is copyrighted by the Free\n"
+"Software Foundation, write to the Free Software Foundation; we sometimes\n"
+"make exceptions for this.  Our decision will be guided by the two goals\n"
+"of preserving the free status of all derivatives of our free software and\n"
+"of promoting the sharing and reuse of software generally.\n"
+"\n"
+"\t\t\t    NO WARRANTY\n"
+"\n"
+"  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\n"
+"FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\n"
+"OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\n"
+"PROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\n"
+"OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n"
+"MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\n"
+"TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\n"
+"PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\n"
+"REPAIR OR CORRECTION.\n"
+"\n"
+"  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\n"
+"WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\n"
+"REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\n"
+"INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\n"
+"OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\n"
+"TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\n"
+"YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\n"
+"PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\n"
+"POSSIBILITY OF SUCH DAMAGES.\n"
+"\n"
+"\t\t     END OF TERMS AND CONDITIONS\n"
+"\n"
+"\t    How to Apply These Terms to Your New Programs\n"
+"\n"
+"  If you develop a new program, and you want it to be of the greatest\n"
+"possible use to the public, the best way to achieve this is to make it\n"
+"free software which everyone can redistribute and change under these terms.\n"
+"\n"
+"  To do so, attach the following notices to the program.  It is safest\n"
+"to attach them to the start of each source file to most effectively\n"
+"convey the exclusion of warranty; and each file should have at least\n"
+"the \"copyright\" line and a pointer to where the full notice is found.\n"
+"\n"
+"    <one line to give the program's name and a brief idea of what it does.>\n"
+"    Copyright (C) <year>  <name of author>\n"
+"\n"
+"    This program is free software; you can redistribute it and/or modify\n"
+"    it under the terms of the GNU General Public License as published by\n"
+"    the Free Software Foundation; either version 2 of the License, or\n"
+"    (at your option) any later version.\n"
+"\n"
+"    This program is distributed in the hope that it will be useful,\n"
+"    but WITHOUT ANY WARRANTY; without even the implied warranty of\n"
+"    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n"
+"    GNU General Public License for more details.\n"
+"\n"
+"    You should have received a copy of the GNU General Public License\n"
+"    along with this program; if not, write to the Free Software\n"
+"    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n"
+"\n"
+"\n"
+"Also add information on how to contact you by electronic and paper mail.\n"
+"\n"
+"If the program is interactive, make it output a short notice like this\n"
+"when it starts in an interactive mode:\n"
+"\n"
+"    Gnomovision version 69, Copyright (C) year name of author\n"
+"    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\n"
+"    This is free software, and you are welcome to redistribute it\n"
+"    under certain conditions; type `show c' for details.\n"
+"\n"
+"The hypothetical commands `show w' and `show c' should show the appropriate\n"
+"parts of the General Public License.  Of course, the commands you use may\n"
+"be called something other than `show w' and `show c'; they could even be\n"
+"mouse-clicks or menu items--whatever suits your program.\n"
+"\n"
+"You should also get your employer (if you work as a programmer) or your\n"
+"school, if any, to sign a \"copyright disclaimer\" for the program, if\n"
+"necessary.  Here is a sample; alter the names:\n"
+"\n"
+"  Yoyodyne, Inc., hereby disclaims all copyright interest in the program\n"
+"  `Gnomovision' (which makes passes at compilers) written by James Hacker.\n"
+"\n"
+"  <signature of Ty Coon>, 1 April 1989\n"
+"  Ty Coon, President of Vice\n"
+"\n"
+"This General Public License does not permit incorporating your program into\n"
+"proprietary programs.  If your program is a subroutine library, you may\n"
+"consider it more useful to permit linking proprietary applications with the\n"
+"library.  If this is what you want to do, use the GNU Library General\n"
+"Public License instead of this License."
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:74
+msgid "http://www.avidemux.org"
+msgstr "http://www.avidemux.org"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp:138
+msgid "AudioCodec"
+msgstr "Audio kodek"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp:163
+msgid "Configure codec"
+msgstr "Pode?avanja kodeka"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:83
+msgid "Select background picture"
+msgstr "Odaberi pozadinsku sliku"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:169
+msgid "Animated Menu"
+msgstr "Animirani meni"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:193
+msgid "BackGround Image :"
+msgstr "Pozadinska slika"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:200
+msgid "Standard"
+msgstr "Standardno"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:207
+msgid "NTSC (default is PAL)"
+msgstr "NTSC (podrazumevano je PAL)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:227
+msgid "Vignette Width"
+msgstr "?irina slike"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:234
+msgid "Vignette Height"
+msgstr "Visina slike"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:257
+msgid "<b>General</b>"
+msgstr "<b>Op?te</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:276
+msgid "Chapter 1"
+msgstr "Poglavlje 1"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:283
+msgid "Chapter 2"
+msgstr "Poglavlje 2"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:290
+msgid "Chapter 3"
+msgstr "Poglavlje 3"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:297
+msgid "Chapter 4"
+msgstr "Poglavlje 4"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:304
+msgid "Chapter 5"
+msgstr "Poglavlje 5"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:311
+msgid "Chapter 6"
+msgstr "Poglavlje 6"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:324
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:333
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:342
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:351
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:360
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:369
+msgid "Start frame for this vignette."
+msgstr "Po?etni kadar za ovu sliku"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:372
+msgid "<b>TimeCode</b>"
+msgstr "<b>Vremenski kod</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:282
+msgid "ASharp by MarcFD"
+msgstr "ASharp izo?travanje (MarcFD)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:295
+msgid "Threshold :"
+msgstr "Osetljivost :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:303
+msgid "Strength :"
+msgstr "Ja?ina :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:311
+msgid "Block Adaptative :"
+msgstr "Prilago?avanje bloku :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:319
+msgid "Unknown flag :"
+msgstr "Nepoznata zastavica:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:351
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:208
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:271
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:264
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:292
+msgid " "
+msgstr " "
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:209
+msgid "Audio Processing"
+msgstr "Prevo?enje zvuka"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:227
+msgid "DRC"
+msgstr "Dinami?ki kompresor opsega (DRC)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:235
+msgid "Timeshift"
+msgstr "Pomeri vreme"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:244
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1459
+msgid "<b>Misc</b>"
+msgstr "<b>Ostalo</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:267
+#, fuzzy
+msgid "Resample to hz"
+msgstr "Prevedi tok u hz"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:277
+#, fuzzy
+msgid "<b>Resampling</b>"
+msgstr "<b>Prevo?enje toka</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:296
+msgid "Film -> PAL"
+msgstr "Film -> PAL"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:302
+msgid "PAL->Film"
+msgstr "PAL -> Film"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:308
+#, fuzzy
+msgid "<b>Fps convert</b>"
+msgstr "<b>Promena broja kadrova po sekundi</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:327
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:200
+msgid "Gain"
+msgstr "Postigni"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:335
+msgid "Automatic ( max is -3dB)"
+msgstr "Automatski (najvi?e do -3dB)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:345
+msgid "Manual (db) : "
+msgstr "Ru?no (dB) :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:357
+msgid "<b>Gain</b>"
+msgstr "<b>Normalizuj</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:369
+msgid "No change"
+msgstr "Bez izmena"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:372
+msgid "Stereo+Surround"
+msgstr "Stereo+Saraund"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:373
+msgid "Stereo+Center"
+msgstr "Stereo+Centar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:374
+msgid "Stereo+Center+Surround"
+msgstr "Stereo+Centar+Saraund"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:375
+msgid "Stereo Front+Stero Rear"
+msgstr "Stereo napred+Stereo pozadi"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:376
+msgid "5 channels"
+msgstr "5 kanala"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:377
+msgid "5.1"
+msgstr "5+1 kanala"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:378
+msgid "Dolby Prologic"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:379
+msgid "Dolby Prologic 2"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audio.cpp:381
+msgid "<b>Mixer</b>"
+msgstr "<b>Mikser</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_busy.cpp:120
+msgid "Busy"
+msgstr "Zauzeto"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:403
+msgid "Bitrate Calculator"
+msgstr "Kalkulator bitskog protoka"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:431
+msgid "Duration:"
+msgstr "Trajanje:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:437
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:198
+msgid "00:00:00"
+msgstr "00:00:00"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:451
+msgid "_Medium:"
+msgstr "_Srednje:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:462
+msgid "_Format:"
+msgstr "_Format:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:473
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:531
+#, fuzzy
+msgid "Total size (custom)"
+msgstr "Ukupna veli?ina (ru?no)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:483
+#, fuzzy
+msgid "_Custom size (MB):"
+msgstr "_Zadata veli?ina (MB):"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:497
+msgid "Output container format"
+msgstr "Izlazni format kontejnera"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:524
+msgid "Total size"
+msgstr "Ukupna veli?ina"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:528
+msgid "1x 80 min. CD"
+msgstr "1 CD od 80 min"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:533
+msgid "2x 80 min. CD"
+msgstr "2 CD-a od 80 min"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:537
+msgid "1x 74 min. CD"
+msgstr "1 CDod 74 min"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:541
+msgid "2x 74 min. CD"
+msgstr "2 CD-a od 74 min"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:545
+msgid "DVD5"
+msgstr "DVD 4,7 GB"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:549
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:802
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:902
+msgid "Custom"
+msgstr "Proizvoljno"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:555
+msgid "<b>Target</b>"
+msgstr "<b>?eljena izlazna datoteka</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:575
+msgid "Track _1:"
+msgstr "Traka _1:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:583
+msgid "Audio bitrate in kb/s for track 1 (0 for no audio)"
+msgstr "Bitski protok audija (kb/s) za traku 1 (0 = bez zvuka)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:591
+msgid "Track _2: "
+msgstr "Traka _2:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:599
+msgid "Audio bitrate in kb/s for track 2 (optional)"
+msgstr "Bitski protok audija (kb/s) za traku 2 (opciono)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:603
+msgid "<b>Audio Bitrate</b>"
+msgstr "<b>Bitski protok audija</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:625
+msgid "Audio size (MB):"
+msgstr "Veli?ina audija (MB):"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:633
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:649
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:665
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:695
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:534
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:542
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:558
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:566
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:574
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:166
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:206
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:148
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:156
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:419
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:433
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:622
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1380
+msgid "0"
+msgstr "0"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:641
+msgid "Video size (MB):"
+msgstr "Veli?ina videa (MB)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:657
+msgid "Total size (MB):"
+msgstr "Ukupna veli?ina (MB):"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:679
+msgid "Video bitrate:"
+msgstr "Bitski protok videa:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:687
+#, fuzzy
+msgid "Bits per pixel:"
+msgstr "Bitova po pikselu:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:703
+msgid "0.0"
+msgstr "0.0"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:711
+msgid "<b>Result</b>"
+msgstr "<b>Rezultat</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:264
+msgid "ChromaShift"
+msgstr "Hroma pomeraj"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:278
+msgid "U Shift :"
+msgstr "U pomeraj"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:285
+msgid "V Shift :"
+msgstr "V pomeraj"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:327
+msgid "<b>Preview</b>"
+msgstr "<b>Pregled</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:137
+msgid "Chroma Noise Reduction 2"
+msgstr "Hroma umanjenje ?uma 2"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:162
+msgid "<b>Scene change Treshold</b>"
+msgstr "<b>Osetljivost na promenu scene</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:181
+msgid "Sensibility"
+msgstr "Osetljivost"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:189
+msgid "Max"
+msgstr "Najvi?e"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:204
+msgid "Luma :"
+msgstr "Luma :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:211
+msgid "Chroma U :"
+msgstr "Hroma U"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:218
+msgid "Chroma V :"
+msgstr "Hroma V :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:261
+msgid "Narrow"
+msgstr "Su?enje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:286
+msgid "<b>Settings</b>"
+msgstr "<b>Postavke</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:305
+msgid "Use also chroma to detect scene change"
+msgstr "Tako?e koristi hroma signal za otkrivanje promene scene"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:309
+msgid "<b>Mode</b>"
+msgstr "<b>Mod</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_color.cpp:71
+msgid "Select Color"
+msgstr "Odaberi boju"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:155
+msgid "ColorYuv (From avisynth)"
+msgstr "YUV boje (iz avisynth-a)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:179
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:246
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:263
+msgid "Contrast"
+msgstr "Kontrast"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:186
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:276
+msgid "Brightness"
+msgstr "Osvetljenost"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:193
+msgid "Gamma"
+msgstr "Gama"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:207
+msgid "Luma Y"
+msgstr "Luma Y"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:214
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:297
+msgid "Chroma U"
+msgstr "Hroma U"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:221
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:301
+msgid "Chroma V"
+msgstr "Hroma V"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:324
+msgid "<b>Color Correction Matrix</b>"
+msgstr "<b>Matrica za ispravku boja</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:347
+msgid "Matrix"
+msgstr "Matrica"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:354
+msgid "Opt"
+msgstr "Opcije"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:361
+msgid "Level"
+msgstr "Nivo"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:374
+msgid "Rec.709"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:382
+msgid "Coring"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:390
+msgid "TV->PC"
+msgstr "TV->Ra?unar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:391
+msgid "PC->TV"
+msgstr "Ra?unar->TV"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:392
+msgid "PC->TV.Y"
+msgstr "Ra?unar->TV.Y"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:398
+msgid ""
+"<b>Matrix Warning :</b>\n"
+"all above values are normalized to 256!"
+msgstr ""
+"<b>Upozorenje o matrici :</b>\n"
+"sve vrednosti iznad ?e biti uravnote?ene na 256!"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:404
+msgid "AutoGain"
+msgstr "Automatski postigni"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:408
+msgid "Display Stats"
+msgstr "Prika?i statistiku"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:412
+msgid "AutoWhite"
+msgstr "Automatski balans belog"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:416
+msgid "<b>frame2</b>"
+msgstr "<b>kadar2</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:293
+msgid "Luma"
+msgstr "Luma"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:544
+msgid "Crop Settings"
+msgstr "Pode?avanje isecanja"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:578
+msgid "AutoCrop"
+msgstr "Automatski odseci"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:600
+msgid "Reset"
+msgstr "Poni?ti"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:609
+msgid "Crop Left :"
+msgstr "Iseci levo:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:617
+msgid "Crop Top:"
+msgstr "Iseci gore:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:625
+msgid "Crop Right:"
+msgstr "Iseci desno:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:633
+msgid "Crop Bottom:"
+msgstr "Iseci dole:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:269
+#, c-format
+msgid "Done : %02d%%"
+msgstr "Zavr?eno : %02d%%"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:377
+msgid "Encoding in Progress"
+msgstr "Kodiranje je u toku..."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:387
+msgid "<b><big>Encoding files</big></b>"
+msgstr "<b><big>Kodiram datoteke</big></b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:400
+msgid "<b>Phasis:</b>"
+msgstr "<b>Faza:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:410
+msgid "<b>Frame:</b>"
+msgstr "<b>Kadar:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:428
+msgid "00000/00000"
+msgstr "00000/00000"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:436
+msgid "<b>Vid codec:</b>"
+msgstr "<b>Video kodek:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:447
+msgid "<b>Aud Codec:</b>"
+msgstr "<b>Audio kodek</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:457
+msgid "<b>FPS:</b>"
+msgstr "<b>Kadrova u sekundi:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:467
+msgid "<b>Vid Bitrate:</b>"
+msgstr "<b>Video bitski protok:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:477
+msgid "<b>Quantizer:</b>"
+msgstr "<b>Kvantizer</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:487
+msgid "<b>Video Size:</b>"
+msgstr "<b>Veli?ina videa:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:498
+msgid "<b>Audio Size:</b>"
+msgstr "<b>Veli?ina audia</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:508
+msgid "<b>Total Size:</b>"
+msgstr "<b>Ukupna veli?ina:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:550
+msgid "31"
+msgstr "31"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:582
+msgid "<b>ETA:</b>"
+msgstr "<b>Procenjeno vreme:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:592
+msgid "0 h 0 mn 0 s"
+msgstr "0 h 0 min 0 s"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:602
+#, fuzzy
+msgid "<b>Container:</b>"
+msgstr "<b>Kontejner:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:649
+msgid "Pause / Abort"
+msgstr "Pauza / Prekid"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:330
+msgid "MPlayer eq2"
+msgstr "MPlayer ekvilajzer 2"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:356
+msgid "Brigh_tness:"
+msgstr "_Osvetljenost:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:364
+msgid "_Saturation:"
+msgstr "Zasi?enost _boja:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:399
+msgid "_Contrast:"
+msgstr "_Kontrast:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:425
+msgid "_Initial:"
+msgstr "_Ukupno:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:451
+msgid "_Red:"
+msgstr "_Crveno:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:468
+msgid "_Green:"
+msgstr "_Zeleno:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:476
+msgid "_Blue:"
+msgstr "_Plavo:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:484
+msgid "_Weight:"
+msgstr "Koli_?ina"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:510
+msgid "<b>Gamma</b>"
+msgstr "<b>Gama</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_equalizer.cpp:433
+msgid "Equalizer"
+msgstr "Ekvilajzer"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_exLame.cpp:80
+msgid "Lame command"
+msgstr "Komanda lame kodera"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_exLame.cpp:89
+msgid "Enter parameters (i.e. -b 192 -m s ...)"
+msgstr "Unesi parametre (na primer -b 192 -m s ...)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:246
+msgid "Hue/Saturation"
+msgstr "Hue i zasi?enost"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:260
+msgid "<b>Hue:</b>"
+msgstr "<b>Hue:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:268
+msgid "<b>Saturation:</b>"
+msgstr "<b>Zasi?enost boja:</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:51
+msgid "Continue indexing"
+msgstr "Nastavi pravljenje indeksa"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:51
+msgid "Abort Requested"
+msgstr "Otka?i zahtev"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:51
+msgid "Do you want to abort indexing ?"
+msgstr "Da li ?elite da prekinete pravljenje indeksa?"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:153
+msgid "Indexing..."
+msgstr "Pravim indeks..."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:174
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:259
+msgid "Time left :"
+msgstr "Preostalo vreme :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:182
+msgid "Timecode :"
+msgstr "Indeksirano vreme :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:190
+msgid "Nb pictures seen :"
+msgstr "Broj pre?enih slika :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:214
+msgid "Indexing :"
+msgstr "Pravljenje indeksa :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:222
+msgid "/dev/null"
+msgstr "/dev/null"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:25
+msgid "Ready"
+msgstr "Spremno"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:25
+msgid "Succeeded"
+msgstr "Uspe?no"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:25
+#: avidemux/gtk_gui.cpp:2280
+msgid "Failed"
+msgstr "Neuspelo"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:25
+msgid "Deleted"
+msgstr "Uklonjeno"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:25
+msgid "Running"
+msgstr "U toku"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:98
+msgid "  Job Name  "
+msgstr " Ime zadatka "
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:103
+msgid "Started at"
+msgstr "Zapo?eto u"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:107
+msgid "Finished at"
+msgstr "Zavr?eno u"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:134
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:172
+msgid "Sure!"
+msgstr "Sigurno!"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:134
+msgid "Delete ALL jobs"
+msgstr "Ukloni sve zadatke"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:134
+msgid "Are you sure you want to delete all jobs ?"
+msgstr "Da li ste sigurni da ?elite da uklonite sve zadatke?"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:172
+msgid "Delete job"
+msgstr "Ukloni zadatak"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:172
+#, c-format
+msgid "Are you sure you want to delete %s job ?"
+msgstr "Da li ste sigurni da ?elite da uklonite zadatak %s ?"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:181
+msgid "Unknown event"
+msgstr "Nepoznat doga?aj"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:261
+msgid "Jobs"
+msgstr "Zadaci"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:287
+msgid "Delete All Jobs"
+msgstr "Ukloni sve zadatke"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:292
+msgid "Delete Job"
+msgstr "Ukloni zadatak"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:297
+msgid "Run all jobs"
+msgstr "Pokreni sve zadatke"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:302
+msgid "Run Job"
+msgstr "Pokreni zadatak"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:49
+msgid "Select video to write"
+msgstr "Odaberi video za upis"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:63
+msgid "Invalid filename"
+msgstr "Pogre?no ime datoteke"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:63
+msgid "Please select or enter a valid filename"
+msgstr "Odaberite ili upi?ite ispravno ime datoteke"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:69
+msgid "Invalid jobname"
+msgstr "Pogre?no ime zadatka"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:69
+msgid "Please select or enter a valid jobname"
+msgstr "Odaberite ili upi?ite ispravno ime zadatka"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:111
+msgid "Save Job"
+msgstr "Sa?uvaj zadatak"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:130
+msgid "Select the output file"
+msgstr "Odaberi izlaznu datoteku"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:144
+msgid "_Browse..."
+msgstr "_Izaberi..."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:153
+msgid "Job name displayed in the job list and used as the script filename"
+msgstr "Ime zadatka prikazano u listi zadataka i kori??eno kao ime skripte."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:162
+msgid "Filename of the audio/video output"
+msgstr "Ime datoteke audio/video izlaza"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:165
+msgid "_Job name:"
+msgstr "_Ime zadatka:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:172
+msgid "Output _file:"
+msgstr "Izlazna _datoteka:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_lavdecoder.cpp:79
+msgid "Libavcodec Decoder Option"
+msgstr "Postavke libavcodec kodera"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_lavdecoder.cpp:88
+msgid "Swap UV"
+msgstr "Izokreni UV"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_lavdecoder.cpp:92
+msgid "Show motion Vectors"
+msgstr "Prika?i vektore pokreta"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mjpeg.cpp:73
+msgid "Mjpeg Codec settings"
+msgstr "Postavke Mjpeg kodeka"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mjpeg.cpp:93
+msgid "Swap U & V"
+msgstr "Zameni U i V"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:356
+#, fuzzy
+msgid "Mplayer Delogo"
+msgstr "MPlayer-ovo uklanjanje logoa"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:374
+msgid "X"
+msgstr "X"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:381
+msgid "Y"
+msgstr "Y"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:388
+msgid "W"
+msgstr "W"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:395
+msgid "H"
+msgstr "H"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:402
+msgid "Band"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:104
+msgid "Mpeg2 options"
+msgstr "MPEG2 opcije"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:113
+msgid "Other arg"
+msgstr "Ostali argumenti"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:121
+msgid "Quantisation (2-31)"
+msgstr "Kvantizacija (2-31)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpeg2opt.cpp:129
+msgid "Maximum bitrate (kbps)"
+msgstr "Najve?i bitrejt (kbps)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:85
+msgid "Mini OCR"
+msgstr "Mini OCR"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:118
+msgid "<b>Glyphs</b>"
+msgstr "<b>Karakteri</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:132
+msgid "# of Glyphs :"
+msgstr "# od karaktera"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:140
+msgid "# of lines"
+msgstr "# od linija"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:164
+msgid "<b>Stats</b>"
+msgstr "<b>Statistika</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:186
+msgid "  "
+msgstr "  "
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:195
+msgid "VobSub"
+msgstr "VobSub"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:217
+msgid "Output Srt"
+msgstr "Izlazni SRT"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:222
+msgid "<b>Files</b>"
+msgstr "<b>Datoteke</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:228
+msgid "StartOcr"
+msgstr "Po?ni OCR"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:249
+msgid "Current Glyph"
+msgstr "Trenutni karakter"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:263
+msgid " Text:"
+msgstr " Tekst:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:287
+msgid "Calibrate"
+msgstr "Kalibriraj"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:292
+msgid "Skip all"
+msgstr "Presko?i sve"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:297
+msgid "Skip Glyph"
+msgstr "Presko?i karakter"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:302
+msgid "Ignore glyph"
+msgstr "Ignori?i karakter"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:307
+msgid "Ok"
+msgstr "U redu"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:316
+#, fuzzy
+msgid "<b>Bitmap</b>"
+msgstr "<b>Bitmapirana slika</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:123
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:144
+msgid "Partial"
+msgstr "Polovi?no"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:137
+msgid "Start frame for partial :"
+msgstr "Po?etni kadar polovi?nog filtera:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:144
+msgid "End frame for partial :"
+msgstr "Krajnji kadar polovi?nog filtera:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:167
+msgid "Configure partialized filter"
+msgstr "Podesi polovi?ni filter"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:93
+msgid "Paused"
+msgstr "Obustavljeno"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:109
+msgid ""
+"<b>Encoding is paused.</b>\n"
+"\n"
+"You can either resume or Abort it."
+msgstr ""
+"<b>Kodiranje je obustavljeno.</b>\n"
+"\n"
+"Mo?ete nastaviti ili prekinuti kodiranje."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:136
+msgid "Abort"
+msgstr "Prekini"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:158
+msgid "Resume"
+msgstr "Nastavi"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pipe.cpp:95
+msgid "Pipe to"
+msgstr "Cevovod u"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pipe.cpp:104
+msgid "Application path/name (/usr/bin/sox...)"
+msgstr "Putanja/ime do programa (/usr/bin/sox...)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pipe.cpp:113
+msgid "Full parameter line"
+msgstr "Linija sa potpunim parametrima"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp:280
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:150
+msgid "Preview"
+msgstr "Pregled"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp:316
+msgid "Stack Field"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:47
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:26
+msgid " No"
+msgstr " Ne"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:47
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:26
+msgid " Yes"
+msgstr " Da"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:141
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:132
+#, c-format
+msgid "NONE"
+msgstr "NI?TA"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:207
+msgid "Informations"
+msgstr "Informacije"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:229
+msgid "Frame Rate"
+msgstr "U?estanost kadrova "
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:236
+msgid "# of frames"
+msgstr "# od kadrova"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:243
+msgid "Codec 4CC"
+msgstr "Kodek 4CC"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:250
+msgid "Video Duration  "
+msgstr "Trajanje videa "
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:271
+msgid "Image size"
+msgstr "Veli?ina slike"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:306
+msgid "-/-"
+msgstr "-/-"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:339
+#, fuzzy
+msgid "Packed Bistream"
+msgstr "Upakovani bitski tok"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:346
+msgid "Quarter Pixel"
+msgstr "?etvrt piksela"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:353
+msgid "GMC "
+msgstr "GMC "
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:381
+msgid "<b>Extra Properties</b>"
+msgstr "<b>Dodatna pode?avanja</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:386
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:998
+msgid "<b>Video</b>"
+msgstr "<b>Video</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:399
+msgid "Codec "
+msgstr "Kodek "
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:406
+msgid "Channels  "
+msgstr "Kanali  "
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:413
+msgid "Bitrate "
+msgstr "Bitski protok"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:420
+msgid "Frequency"
+msgstr "U?estanost"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:427
+msgid "Audio duration  "
+msgstr "Trajanje audija "
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:482
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1038
+msgid "<b>Audio</b>"
+msgstr "<b>Audio</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_quota.cpp:90
+msgid "Filesystem full / quota exceeded"
+msgstr "Sistem datoteka prepun"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_quota.cpp:133
+msgid "Ignore"
+msgstr "Ignori?i"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_quota.cpp:155
+msgid "Retry"
+msgstr "Ponovo poku?aj"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_recent.cpp:96
+msgid "Recent files"
+msgstr "Skora?nje datoteke"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_requant.cpp:85
+msgid "Requantize Option"
+msgstr "Pode?avanje rekvantizacije"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_requant.cpp:95
+msgid "Shrink factor"
+msgstr "Faktor su?enja"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:312
+msgid "Resize"
+msgstr "Promeni veli?inu"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:326
+msgid " Width "
+msgstr "?irina"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:333
+msgid " Height "
+msgstr "Visina"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:356
+msgid "Source :"
+msgstr "Izvor :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:362
+msgid "Destination"
+msgstr "Odredi?te"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:376
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:398
+msgid "1:1"
+msgstr "1:1"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:412
+msgid " Error X:"
+msgstr " Gre?ka X:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:426
+msgid " Error Y:"
+msgstr " Gre?ka Y:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:440
+#, fuzzy
+msgid "16 round up"
+msgstr "16 zaokvireno"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:454
+#, fuzzy
+msgid "Bilinear"
+msgstr "Dvolinearni"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:458
+#, fuzzy
+msgid "Bicubic"
+msgstr "Dvokubi?ni"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:462
+#, fuzzy
+msgid "Lanczos3"
+msgstr "Lanhoz3"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:348
+msgid "Subtitle to load"
+msgstr "Prevod za u?itavanje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:358
+msgid "TTF font to use"
+msgstr "TTF slovni lik"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:475
+msgid "Subtitle selector"
+msgstr "Odabir prevoda"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:488
+msgid "Subtitle file "
+msgstr "Datoteka sa prevodom"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:495
+msgid "Font (TTF)"
+msgstr "Slovni lik (TTF)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:502
+msgid "Encoding "
+msgstr "Kodiranje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:509
+msgid "Font Size"
+msgstr "Veli?ina slovnog lika"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:522
+msgid "sub"
+msgstr "SUB"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:540
+msgid "font"
+msgstr "Slovni lik"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:560
+msgid "Ascii"
+msgstr "Acsii"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:586
+msgid "Select color"
+msgstr "Odaberi boju"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:599
+msgid "Select"
+msgstr "Odaberi"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:603
+msgid "Auto split"
+msgstr "Automatski podeli"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:609
+msgid "Delay in ms"
+msgstr "Trajanje u ms"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:624
+msgid "Force background"
+msgstr "Nalepi pozadinu"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:159
+msgid "TDeint param"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:173
+msgid "Field Order :"
+msgstr "Redosled polja"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:185
+msgid "Bottom Field First"
+msgstr "Najpre donja polja"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:186
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:178
+msgid "Top Field First"
+msgstr "Najpre gornja polja"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:188
+msgid "Interpolate :"
+msgstr "Umetni :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:200
+msgid "Top field (keep bottom)"
+msgstr "Gornja polja (sa?uvaj donja)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:201
+msgid "Bottom field (keep top)"
+msgstr "Donja polja (sa?uvaj gornja)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:203
+msgid "Type"
+msgstr "Tip"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:215
+#, fuzzy
+msgid "Cubic Interpolation"
+msgstr "Kubik interpolacija"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:216
+msgid "Modified ELA"
+msgstr "Izmenjeni ELA"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:217
+#, fuzzy
+msgid "Kernerl interpolation"
+msgstr "Kernel interpolacija"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:218
+msgid "Modified ELA-2"
+msgstr "Izmenjeni ELA-2"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:220
+msgid "MntMode"
+msgstr "Mnt mod"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:232
+msgid "4 field check"
+msgstr "Provera na 4 polja"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:233
+msgid "5 field check"
+msgstr "Porvera na 5 polja"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:234
+msgid "4 field check (no average)"
+msgstr "Provera na 4 polja (po proseku)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:235
+msgid "5 field check (no average)"
+msgstr "Provera na 4 polja (po proseku)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:237
+msgid "Use Chroma to evalute"
+msgstr "Koristi hroma signal za procenu"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:250
+msgid "Try weave "
+msgstr "Pravi talas"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:263
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:173
+msgid "Denoise"
+msgstr "Umanjenje ?uma"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:276
+msgid "Link"
+msgstr "Veza"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:288
+msgid "No link"
+msgstr "Bez veze"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:289
+msgid "Full linking"
+msgstr "Puna veza"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:290
+msgid "Y to UV link"
+msgstr "veza Y za UV"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:291
+msgid "UV to Y link"
+msgstr "veza UV za Y"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:293
+msgid "Sharp :"
+msgstr "O?tro :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:306
+msgid "AP type"
+msgstr "AP tip"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:319
+msgid "Evaluate ALL frames"
+msgstr "Proceni sve kadrove"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:331
+msgid "0 (read manual)"
+msgstr "0 (pro?itaj uputstvo)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:332
+msgid "1 (read manual)"
+msgstr "1 (pro?itaj uputstvo)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:333
+msgid "2 (read manual)"
+msgstr "2 (pro?itaj uputstvo)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:339
+msgid "motion Threshold, Luma"
+msgstr "osetljivost na pokret, luma"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:346
+msgid "motion Threshold, Chroma"
+msgstr "osetljivost na pokret, hroma"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:369
+msgid "Area Combing Threshold"
+msgstr "kombinovanje osetljivosti podru?ja"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:383
+#, fuzzy
+msgid "Combed Treshold"
+msgstr "Combed osetljivost"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_tdeint.cpp:398
+msgid "Artefact Protection threshold "
+msgstr "Osetljivost za za?titu od artefakta"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:56
+msgid "Select Vob file to scan"
+msgstr "Odaberi VOB datoteku za skeniranje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:67
+msgid "Select ifo file to use"
+msgstr "Odaberi koju IFO datoteku da koristim"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:78
+msgid "Select vobsub to write"
+msgstr "Odaberi VOBSub za upis"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:92
+msgid "Invalid vobname"
+msgstr "Pogre?no VOB ime"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:92
+msgid "Please select or enter a valid vob name"
+msgstr "Odaberite ili upi?ite ispravno VOB ime"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:98
+msgid "Invalid ifo"
+msgstr "Pogre?an IFO"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:98
+msgid "Please select or enter a valid ifo file"
+msgstr "Odaberite ili upi?ite ispravnu IFO datoteku"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:104
+msgid "Invalid vobsubname"
+msgstr "Pogre?no VOBSub ime"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:104
+msgid "Please select or enter a valid vobsub file"
+msgstr "Odaberite ili upi?ite ispravnu VOBSub datoteku"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:152
+msgid "Vob to Vobsub"
+msgstr "VOB u VOBSub"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:162
+msgid "Vob :"
+msgstr "VOB :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:169
+msgid "Ifo :"
+msgstr "IFO :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_v2v.cpp:176
+msgid "Output vobsub (.idx) :"
+msgstr "Izlazni VOBSub (IDX) :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:104
+msgid "Video encoder"
+msgstr "Video koder"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:118
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1018
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1058
+msgid "Configure"
+msgstr "Postavke"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:98
+msgid "Select .idx file"
+msgstr "Odaberi .idx datoteku"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:196
+msgid "VobSub Settings"
+msgstr "VobSub postavke"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:213
+msgid "Select .idx"
+msgstr "Odaberi .idx"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:227
+msgid "Select Language :"
+msgstr "Odaberi jezik :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:241
+msgid "Select Sub"
+msgstr "Odaberi Sub"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:254
+msgid "Extra Shrink Factor :"
+msgstr "Dodatni faktor su?enja :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:269
+msgid "Shift (ms) :"
+msgstr "Pomeraj (ms) :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:283
+msgid "Extra Settings"
+msgstr "Dodatna pode?avanja"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:246
+#, fuzzy
+msgid "dialog1"
+msgstr "dijalog1"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:264
+msgid "0:0:0"
+msgstr "0:0:0"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:554
+msgid "X264 configuration"
+msgstr "X264 pode?avanja"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:569
+msgid "Encoding Mode:"
+msgstr "Mod kodiranja:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:581
+msgid "Entry input for target file size or bitrate"
+msgstr "Polje za upis izlazne veli?ine ili bitskog protoka"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:583
+msgid "Quantizer (0-51):"
+msgstr "Kvantizer (0-51):"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:596
+msgid "Constant Quantizer - Each frame will the same compression. Low numbers equal higher quality while high numbers equal lower quality"
+msgstr "Konstantni kvantizer - Svaki kadar ?e imati istu kompresiju. Ni?e vrednosti daju vi?i kvalitet dok vi?e vrednosti daju manji kvalitet"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:606
+msgid "Target Size:"
+msgstr "Izlazna veli?ina datoteke:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:618
+msgid "Single Pass - Quality Quantizer (Average)"
+msgstr "Jedan prolaz - Prose?ni kvantizer"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:619
+msgid "Single Pass - Quality Quantizer (Constant)"
+msgstr "Jedan prolaz - Konstantni kvantizer"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:620
+msgid "Single Pass - Bitrate (Average)"
+msgstr "Jedan prolaz - Prose?ni bitski protok"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:621
+msgid "Two Pass - File Size"
+msgstr "Dva prolaza - Kona?na veli?ina"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:622
+msgid "Two Pass - Average bitrate"
+msgstr "Dva prolaza - Prose?an bitski protok"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:650
+msgid "Partition decision"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:657
+msgid "Method"
+msgstr "Metoda"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:669
+msgid "1  - Extremely Low (Fastest)"
+msgstr "1 - Najni?e (Najbr?e)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:670
+msgid "2  - Very Low"
+msgstr "2 - Veoma nisko"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:671
+msgid "3  - Low"
+msgstr "3 - Nisko"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:672
+msgid "4  - Medium"
+msgstr "4 - Srednje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:673
+msgid "5  - High (Default)"
+msgstr "5 - Visoko (Podrazumevano)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:674
+msgid "6  - Very High"
+msgstr "6 - Veoma visoko"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:675
+msgid "6B - Very High (RDO on Bframes)"
+msgstr "6B - Veoma visoko (RDO na B kadrovima)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:676
+msgid "7 - Ultra High"
+msgstr "7 - Najvi?e"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:677
+msgid "7B - Ultra High (RDO on Bframes)"
+msgstr "7B - Najvi?e (RDO na B kadrovima)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:684
+msgid "Diamond search"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:685
+msgid "Hexagonal search"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:686
+msgid "Uneven multi hexagon"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:687
+msgid "Exhaustive search"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:699
+msgid "Set how many previous frames can be referenced by a P/B-frame. Numbers above 5 do not seem to improve quality greatly. Numbers are 3 to 5 are recommended"
+msgstr "Odaberi koliko prethodnih kadrova mo?e biti povezano od strane P/B kadra. Brojevi iznad 5 izgleda da ne unapre?uju znatno kvalitet. Brojevi od 3 do 5 su preporu?ljivi."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:702
+msgid "Max. Ref. frames"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:709
+msgid "Range"
+msgstr "Opseg"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:722
+msgid "Define how many pixels are analysised. The higher the range the more accurate the analysis but the slower the encoding time"
+msgstr "Odre?uje koliko piksela su analizirana. Ve?a vrednost opsega ve?a preciznost analize ali sporije kodiranje."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:725
+msgid "Chroma ME"
+msgstr "Hroma ME"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:730
+msgid "Uses chroma (color) components for motion for compression and helps the quality"
+msgstr "Koristi hroma komponente (boju) za pokret za kompresiju i poma?e kvalitetu."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:733
+msgid "Mixed Refs"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:738
+#, fuzzy
+msgid "Calculate referencing individually based on each partition"
+msgstr "Prora?unaj povezivanja ponaosob bazirano na svakoj particiji"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:744
+msgid "Fast P-Skip"
+msgstr "Brzo P preskakanje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:747
+msgid "Uncheck to enable fast p-skip"
+msgstr "Od?ekiraj da bi omogu?io brzo P preskakanje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:750
+msgid "DCT decimate"
+msgstr "DCT desetkovanje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:754
+msgid "Interlace"
+msgstr "Prepleten"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:757
+msgid "Encode interlaced"
+msgstr "Kodiraj prepleteno"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:759
+msgid "<b>Motion Estimation</b>"
+msgstr "<b>Procena pokreta</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:786
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:798
+#, fuzzy
+msgid "Enforce the size of a decoded pixel decoded to a certain value. Leave this at 1:1 for non-anamorphic video"
+msgstr "Prisili veli?inu dekodiranog piksela, dekodiranog na odre?enu vrednost. Ostavi na 1:1 za ne anamrfi?ni video"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:787
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:799
+msgid "1"
+msgstr "1"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:790
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1051
+msgid ":"
+msgstr ":"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:807
+msgid "Set a custom aspect ratio. Default 1:1 is recommended for most video."
+msgstr "Odaberi proizvoljnu razmeru. Podrazumevano 1:1 je preporu?ljivo za ve?inu videa."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:812
+msgid "Predefined Aspect Ratios"
+msgstr "Predefinisana razmera"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:817
+#, fuzzy
+msgid "Set a common predefined aspect ratio"
+msgstr "Postavi ?esto predefinisanu razmeru"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:827
+#, fuzzy
+msgid "<b>Sample Aspect Ratio (A/R)</b>"
+msgstr "<b>Razmera sempla (A/R)</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:849
+msgid "CABAC"
+msgstr "CABAC"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:852
+msgid "Lossless compression method which usually improves the bitrate usage by 15% (especially on high bitrate). Helps the quality a lot but is slower. "
+msgstr "Kompresija bez gubljenja podataka koja obi?no unapre?uje kori??enje bitskog protoka za 15%(posebno na visokim protocima). Daje mnogo bolji kvalitet ali je sporije."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:864
+#, fuzzy
+msgid "Use rate distortion quantization to find optimal encoding for each block. Level 0 equals disabled, level 1 equals normal and level 2 equals high"
+msgstr "Koristi kvantizaciju sa izobli?enim protokom za nala?enje optimalnog kodiranja svakog bloka. Nivo 0 je onemogu?eno, 1 je normalno i 2 je visoko."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:871
+msgid "Noise Reduction"
+msgstr "Umanjenje ?uma"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:880
+msgid "Set the amount of noise reduction"
+msgstr "Odaberi nivo umanjenja ?uma"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:887
+msgid "Deblocking Filter :"
+msgstr "Filter za uklanjanje blokova :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:890
+msgid "Enable in-loop deblocking to filter the video"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:903
+msgid "Set the amount of blurring to use for block edges when they are found"
+msgstr "Odredi nivo zamu?enja koji da koristim za ivice blokova kada one postoje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:912
+msgid "Define the level for when deblocking is applied"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:915
+msgid "<i>Threshold</i>"
+msgstr "<i>Osetljivost</i>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:923
+msgid "<i>Strength</i>"
+msgstr "<i>Ja?ina</i>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:931
+msgid "<b>Misc. Options</b>"
+msgstr "<b>Ostale opcije</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:936
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1066
+msgid "Motion & Misc"
+msgstr "Pokret i ostalo"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:957
+msgid "8x8 Transform"
+msgstr "8x8 transformacija"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:960
+msgid "General block breakdown transformation"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:963
+msgid "8x8, 8x16 and 16x8 P-frame search"
+msgstr "8x8, 8x16 i 16x8 pretraga P kadra"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:966
+msgid "Improve the P-frame quality"
+msgstr "Unapredi kvalitet P kadra"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:969
+msgid "8x8, 8x16 and 16x8 B-frame search"
+msgstr "8x8, 8x16 i 16x8 pretraga B kadra"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:972
+msgid "Improve the B-frame quality"
+msgstr "Unapredi kvalitet B kadra"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:975
+msgid "4x4, 4x8 and 8x4 P-frame search"
+msgstr "4x4, 4x8 i 8x4 pretraga P kadra"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:978
+msgid "Further improve the P-frame quality"
+msgstr "Jo? unapredi kvlitet P kadra"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:980
+msgid "8x8 Intra search"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:983
+msgid "Enable DCT Intra block search to improve quality"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:986
+msgid "4x4 Intra search"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:989
+msgid "Further enable DCT Intra block search to improve quality"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:992
+msgid "<b>Partition Macroblocks</b>"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1014
+msgid "Bias"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1027
+msgid "Increase / decrease probability for how often B-frames are used. Will not violate the maximum consecutive frame limit"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1036
+msgid "Set the maximum number of consecutive B-frames. This defines how many duplicate frames can be droped. Numbers 2 to 5 are recommended. This greatly improves the use of bitrate and quality"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1039
+msgid "Max Consecutive"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1050
+msgid "Bidirectional ME"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1055
+msgid "Jointly optimize both Motion Vector's in B-frames. This will improve quality but take more time for encoding"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1057
+msgid "Weighted biprediction"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1062
+msgid "Enables weighting of B-frames to help fades"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1065
+msgid "Adaptative DCT"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1070
+msgid "Use fewer B-frame if needed. This is always recommended. If not enabled, the codec will always use the maximum number of consecutive B-frames"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1073
+msgid "Use as reference"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1078
+msgid "Allow B-frames to make references non-linearly to another B-frame (instead of creating a duplicate copy)"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1084
+msgid "B-Frame Direct Mode:  "
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1092
+msgid "Auto"
+msgstr "Automatski"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1093
+msgid "Temporal"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1094
+msgid "Spatial"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1097
+msgid "<b>B-Frames</b>"
+msgstr "<b>B kadrovi</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1102
+msgid "Partitions & Frames"
+msgstr "Delovi i kadrovi"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1130
+msgid "Set how much \"bitrate bonus\" a keyframe can get"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1133
+#, fuzzy
+msgid "Keyframe boost (%)"
+msgstr "Podizanje I kadra (%):"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1140
+msgid "B-frame reduction (%)"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1147
+msgid "Bitrate variability (%)"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1160
+msgid "Set how much bitrate is deducted from a B-frame as compared to the previous P-frame"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1169
+msgid "Define how much the bitrate can fluctuate over the entire video. 0% results in a constant bitrate stream, while 100% results in a pure quality based bitrate stream"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1172
+msgid "<b>Bitrate</b>"
+msgstr "<b>Bitski protok</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1190
+msgid "Min Qp"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1197
+msgid "Max Qp"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1204
+msgid "Max QP Step"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1218
+msgid "Enforce a minimum quantizer level"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1227
+msgid "Enforce a maximum quantizer level"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1236
+msgid "Define how much the quantizer rate can change between two consecutive frames"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1239
+msgid "<b>Quantization Limits</b>"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1257
+msgid "Scene Cut Threshold"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1271
+msgid "Increase / decrease sensitivity for detecting Scene Changes to compensate for. Improves I-frame usage and helps quality"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1274
+msgid "Min IDR frame interval"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1287
+msgid "Set minimum frame interval between IDR frames. Defines the minimum amount a frame can be reused and referenced by other frames before a new clean one is established"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1296
+msgid "Set maximum frame interval between IDR frames. Defines the maximum amount a frame can be reused and referenced by other frames before a new clean one is established"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1299
+msgid "Max IDR frame interval"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1306
+msgid "<b>More Rate Settings</b>"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1324
+#, fuzzy
+msgid "VBV buffer size"
+msgstr "Vili?ina VBV me?umemorije"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1331
+#, fuzzy
+msgid "Initial VBV buffer (%)"
+msgstr "Dodatna VBV memorija (%)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1338
+msgid "Maximum local bitrate"
+msgstr "Najve?i lokalni bitski protok"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1369
+msgid "<b>Video Buffer Verifier</b>"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1401
+msgid "Allowed variance of average bitrate. Lower values mean less variance. Higher values mean more variance."
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1404
+msgid "Bitrate Variance"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1417
+msgid "Allowed variance of average quantizer or quality. Lower values mean less variance. Higher values mean more variance. Note that 0 means constant quality while 1 means constant fluctuation. Recommended 0.6."
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1426
+msgid "Reduced fluctuations in Quantizer (before curve compression)"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1435
+msgid "Reduce fluctuations in QP (after curve compression)"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1438
+msgid "Quantizer Compression"
+msgstr "Kompresija kvantizera"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1445
+msgid "Temp. Blur of est Frame Complexity"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1452
+msgid "Temp. Blur of Quant after CC"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1483
+msgid "Quantization factors used between I- and P- frames"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1492
+msgid "Quantization used between P- and B- frames"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1501
+msgid "Quantization difference between chroma (color) and luma (brightness)"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1504
+msgid "Factor between I and P frame Quants"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1511
+msgid "Factor between P and B frame Quants"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1518
+#, fuzzy
+msgid "Chroma QP Offset"
+msgstr "Hroma QP Offset"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1525
+msgid "<b>Quantizers</b>"
+msgstr "<b>Kvantizeri</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1543
+msgid "Custom matrix"
+msgstr "Proizvoljna matrica"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1552
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1128
+msgid "Open CQM file"
+msgstr "Otvori CQM datoteku"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1558
+msgid "JVT matrix"
+msgstr "JVT matrica"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1566
+msgid "Flat matrix"
+msgstr "Ravna matrica"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1575
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1136
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1568
+msgid "Edit Custom Matrix"
+msgstr "Uredi proizvoljnu matricu"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1580
+msgid "Edit a loaded custom quantization matrix file"
+msgstr "Uredi u?itanu datoteku sa matricom"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1588
+msgid "<b>Quantization Matrices</b>"
+msgstr "<b>Kvantizacione matrice</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1593
+msgid "More"
+msgstr "Jo?"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1601
+msgid "Defaults"
+msgstr "Podrazumevano"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:186
+msgid "XVCD encoding"
+msgstr "XVCD kodiranje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:195
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:250
+msgid "Constant Quantizer"
+msgstr "Konstantni kvantizer"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:209
+msgid "Constant Bitrate"
+msgstr "Stalni bitski protok"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:223
+msgid "Dual pass"
+msgstr "Dvostruki prolaz"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:237
+msgid "Min bitrate (kbps) :"
+msgstr "Najmanji bitrejt (kbps) :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:245
+msgid "Max bitrate (kbps) :"
+msgstr "Najve?i bitrejt (kbps) :"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:281
+msgid "Default mpeg"
+msgstr "Podrazumevani MPEG"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:285
+msgid "Tmpeng "
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:289
+msgid "Anim?"
+msgstr "Anime"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:293
+msgid "K-VCD"
+msgstr "K-VCD"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:299
+msgid "Gop Size  (12):"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvcd.cpp:315
+msgid "Use Xvid ratecontrol"
+msgstr "Koristi Xvid kontrolu protoka"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:237
+msgid "Xvid Encoder"
+msgstr "Xvid koder"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:258
+#, fuzzy
+msgid "Constant Bitrate (kbps)"
+msgstr "Konstantni bitski protok (kbit/sek)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:266
+#, fuzzy
+msgid "Dual pass (MBytes)"
+msgstr "Dva prolaza (megabajta)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:292
+msgid "Basic"
+msgstr "Osnovno"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:301
+msgid "Motion Search"
+msgstr "Tra?i pokret"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:317
+msgid "Max I frame interval "
+msgstr "Najve?i interval I kadra"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:333
+msgid "Min I frame interval"
+msgstr "Najmanji interval I kadra"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:357
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:884
+msgid "0 - None"
+msgstr "0 - Bez tra?enja"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:361
+msgid "1- Very low"
+msgstr "1 - Veoma nisko"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:365
+msgid "2- Low"
+msgstr "2 - Nisko"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:369
+msgid "3- Medium"
+msgstr "3 - Srednje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:373
+msgid "4- High"
+msgstr "4 - Visoko"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:377
+msgid "5- Very High"
+msgstr "5 - Veoma visoko"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:381
+msgid "6- Ultra High"
+msgstr "6 - Najvi?e"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:395
+msgid "H263 Quantizer"
+msgstr "H263 kvantizer"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:400
+msgid "MPEG Quantizer"
+msgstr "MPEG kvantizer"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:407
+msgid "Advanced"
+msgstr "Naprednije"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:416
+msgid "Min I Frame Qzer"
+msgstr "Najmanji kvantizer I kadra"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:424
+msgid "Max I Frame Qzer"
+msgstr "Majve?i kvantizer I kadra"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:432
+msgid "Min P Frame Qzer"
+msgstr "Najmanji kvantizer P kadra"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:440
+msgid "Max P Frame Qzer"
+msgstr "Najve?i kvantizer P kadra"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:480
+msgid "Quantizer"
+msgstr "Kvantizer"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:485
+msgid "Not Yet!"
+msgstr "Jo? uvek nedostupno!"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:490
+msgid "B Frames"
+msgstr "B kadrovi"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:109
+msgid "Select Xvid matrix file to load"
+msgstr "Odaberi datoteku sa Xvid matricom za u?itavanje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:121
+msgid "Error Loading"
+msgstr "Gre?ka prilikom u?itavanja"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:121
+msgid "Error loadind the custom matrix file."
+msgstr "Gre?ka pri u?itavanju datoteke sa matricom."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:139
+msgid "Matrix Loaded"
+msgstr "Matrica u?itana"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:139
+msgid "The custom matrix file has been successfully loaded."
+msgstr "Datoteka sa matricom je uspe?no u?itana."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:479
+msgid "Select Custom Matrix File to write"
+msgstr "Odaberi datoteku za upis matrice"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:484
+msgid "Error Writing"
+msgstr "Gre?ka pri upisu"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:484
+msgid "Error writing the custom matrix file."
+msgstr "Gre?ka pri upisu matrice u datoteku."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:700
+msgid "XviD encoding options"
+msgstr "Opcije XviD kodiranja"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:734
+msgid "Encoding type:"
+msgstr "Tip kodiranja:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:739
+msgid "Bitrate (kb/s):"
+msgstr "Bitrejt (kb/s)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:744
+msgid "Quantizer:"
+msgstr "Kvantizer"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:756
+msgid "Select 1-pass or 2-pass encoding"
+msgstr "Odaberi kodiranje u jednom ili dva prolaza"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:760
+msgid "Single pass - bitrate"
+msgstr "Jedan prolaz - bitski protok"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:764
+msgid "Single pass - quantizer"
+msgstr "Jedan prolaz - kvantizer"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:768
+msgid "Two pass, final size"
+msgstr "Dva prolaza - veli?ina datoteke"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:772
+msgid "Two pass, average bitrate"
+msgstr "Dva prolaza - prose?ni bitski protok"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:776
+msgid "Same Qz as input"
+msgstr "Isti kvantizer kao u ulaznoj datoteci"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:785
+msgid "Target video bitrate"
+msgstr "Bitski protok izlaznog videa"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:792
+msgid "Constant quantizer - each frame will get the same compression"
+msgstr "Stalni kvantizer - svaki kadar ?e imati isti nivo kompresije"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:794
+msgid "Variable bitrate mode"
+msgstr "Mod sa promenjljivim bitskim protokom"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:806
+msgid "_Interlaced"
+msgstr "_Prepleten"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:809
+#, fuzzy
+msgid "Enables interlaced frame support - use only if your source contains interlacing artifacts (i.e. fields instead of progressive frames)"
+msgstr "Omogu?ava podr?ku prepletenih kadrova - koristi samo ukoliko izvor sadr?i prepletene delove (na primer polja umesto napreduju?ih kadrova)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:811
+msgid "_Greyscale"
+msgstr "_Crno-belo"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:814
+msgid "Encode in black & white"
+msgstr "Kodiraj kao crno-belo"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:820
+msgid "Ca_rtoon mode"
+msgstr "Mod za c_rtani film"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:823
+msgid "Enables special motion estimation features for cartoons/anime"
+msgstr "Omogu?ava specijalne prora?une pokreta za crtane filmove i anime"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:825
+msgid "C_hroma optimizer"
+msgstr "Hroma optimizacija"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:828
+msgid "Enables a chroma optimizer prefilter"
+msgstr "Omogu?ava prefilter za hroma optimizaciju"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:834
+msgid "Turbo Mode"
+msgstr "Brzi mod"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:837
+msgid "Enables fast 1st pass encoding"
+msgstr "Omogu?i brz prvi prolaz"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:839
+msgid "Packed bitstream"
+msgstr "Upakovani tok"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:842
+msgid "Enables Divx like packed vop, DO NOT SET, it is ugly"
+msgstr "Omogu?ava VOP pakovanje sli?no kao kod Divx-a. Ne koristite ovo, ru?no je!"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:844
+msgid "Main"
+msgstr "Osnovno"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:863
+msgid "Motion search precision:"
+msgstr "Preciznost tra?enja pokreta:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:867
+msgid "VHQ mode:"
+msgstr "VHQ mod:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:880
+msgid "Higher settings give higher quality results, at the cost of slower encoding"
+msgstr "Vi?e vrednosti daju bolji kvalitet, ali je kodiranje sporije"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:888
+msgid "1 - Very low"
+msgstr "1 - Veoma niska"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:892
+msgid "2 - Low"
+msgstr "2 - Niska"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:896
+msgid "3 - Medium"
+msgstr "3 - Srednja"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:900
+msgid "4 - High"
+msgstr "4 - Visoka"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:904
+msgid "5 - Very high"
+msgstr "5 - Veoma visoka"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:908
+msgid "6 - Ultra high"
+msgstr "6 - Najvi?a"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:917
+msgid "VHQ enables an additional search process to increase quality"
+msgstr "VHQ (Video Visokog Kvaliteta) omogu?ava dodatni nivo tra?enja pokreta radi pove?anje kvaliteta"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:921
+msgid "0 - Off"
+msgstr "0 - Isklju?en"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:925
+msgid "1 - Mode decision"
+msgstr "1 - Odre?en gornjim modom"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:929
+msgid "2 - Limited search"
+msgstr "2 - Ograni?eno tra?enje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:933
+msgid "3 - Medium search"
+msgstr "3 - Srednje tra?enje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:937
+msgid "4 - Wide search"
+msgstr "4 - ?iroko tra?enje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:947
+msgid "C_hroma motion"
+msgstr "_Hroma pokret"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:950
+msgid "Use chroma information to estimate motion"
+msgstr "Koristi hroma informacije za procenu pokreta"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:952
+msgid "_4MV"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:955
+msgid "Use 4 motion vectors per macroblock, might give better compression"
+msgstr "Koristi 4 vektora pokreta po makrobloku, mo?e da da bolju kompresiju"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:957
+msgid "HQ _AC"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:960
+msgid "Enable a better prediction of AC component. Turns on Lumi masking - applies more compression to dark/light areas that the eye cannot notice easily"
+msgstr "Omogu?ava bolje predvi?anje AC komponente. Uklju?uje luma maskiranje - primenjuje vi?e kompresije na mra?nim/svetlim oblastima koje oko ne mo?e lako da primeti"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:966
+msgid "I-frame interval - Min:"
+msgstr "Interval I kadra - Najmanje:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:974
+msgid "Minimum space between I-frames, 1 will disable forced I-frame spacing"
+msgstr "Minimalno mesta izme?u I kadrova. 1 onemogu?ava primorano zauze?e I kadra"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:976
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1194
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1199
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1204
+msgid "Max:"
+msgstr "Najvi?e:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:984
+msgid "Maximum number of frames allowed between I-frames"
+msgstr "Najve?i broj kadrova dozvoljenih izme?u I kadrova"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:999
+msgid "Number of B-frames:"
+msgstr "Broj B kadrova"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1007
+msgid "Maximum number of sequential B-frames (when set to 0, the original I/P encoder is used)"
+msgstr "Najve?i broj izdeljenih B kadrova (kada je 0, originalno I/P kodiranje ?e biti primenjeno)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1013
+msgid "_Qpel"
+msgstr "_?etvrt piksela"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1016
+msgid "Use Quarter pixel resolution for a more precise motion estimation"
+msgstr "Koristi rezoluciju ?etvrtine piksela za precizniji prora?un pokreta"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1018
+msgid "_GMC"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1021
+msgid "Global Motion Compensation can save bits on camera pans, zooming and rotation"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1023
+msgid "_BVHQ"
+msgstr "_B VHQ"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1026
+msgid "Produces nicer-looking B-frames"
+msgstr "Proizvodi lep?e B kadrove"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1040
+msgid "As input"
+msgstr "Kao i ulaz"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1043
+msgid "Get PAR from input video file"
+msgstr "Uzmi PAR iz ulazne video datoteke"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1049
+msgid "Pixel Width"
+msgstr "?irina piksela"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1060
+msgid "Pixel Height"
+msgstr "Visina piksela"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1061
+msgid "Pixel Aspect Ratio"
+msgstr "Razmera piksela"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1079
+msgid "Quantization type:"
+msgstr "Tip kvantizacije:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1083
+msgid "_H.263"
+msgstr "H._263"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1086
+msgid "H.263 quantizers smooth the picture (useful at lower bitrates)"
+msgstr "H.263 kvantizer zamu?uje sliku (korisno za ni?i bitski protok)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1090
+msgid "_MPEG"
+msgstr "_MPEG"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1093
+msgid "MPEG quantizers (slightly slower) produce sharper picture (useful at higher bitrates)"
+msgstr "MPEG kvantizer (neznatno sporiji) proizvodi o?triju sliku (korisno za vi?i bitski protok)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1097
+msgid "_Custom Matrix"
+msgstr "_Proizvoljna matrica"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1107
+msgid "Load Custom Matrix:  "
+msgstr "U?itaj proizvoljnu matricu:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1153
+msgid "I-frame quantizer - Min:"
+msgstr "Kvantizer I kadra - Najmanje: "
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1158
+msgid "P-frame quantizer - Min:"
+msgstr "Kvantizer P kadra - Najmanje: "
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1163
+msgid "B-frame quantizer - Min:"
+msgstr "Kvantizer B kadra - Najmanje: "
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1176
+msgid "Minimum quantizer allowed for I-frames"
+msgstr "Najmanji dozvoljeni kvantizer I kadrova"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1182
+msgid "Minimum quantizer allowed for P-frames"
+msgstr "Najmanji dozvoljeni kvantizer P kadrova"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1188
+msgid "Minimum quantizer allowed for B-frames"
+msgstr "Najmanji dozvoljeni kvantizer B kadrova"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1217
+msgid "Maximum quantizer allowed for I-frames"
+msgstr "Najve?i dozvoljeni kvantizer I kadrova"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1223
+msgid "Maximum quantizer allowed for P-frames"
+msgstr "Najve?i dozvoljeni kvantizer P kadrova"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1229
+msgid "Maximum quantizer allowed for B-frames"
+msgstr "Najve?i dozvoljeni kvantizer B kadrova"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1231
+msgid "Quantizer restrictions"
+msgstr "Ograni?enja kvantizera"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1235
+#, fuzzy
+msgid "_Trellis quantization"
+msgstr "_Trelis kvantizacija"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1238
+#, fuzzy
+msgid "Rate distortion quantization, will find optimal encoding for each block"
+msgstr "Kvantizacija izobli?enja toka, na?i optimalno prevo?enje za svaki blok"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1268
+#, fuzzy
+msgid "I-frame boost (%):"
+msgstr "Podizanje I kadra (%):"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1273
+msgid "I-frames closer than ... frames..."
+msgstr "I kadrovi bli?e nego... kadrovi..."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1278
+msgid "...are reduced by (%):"
+msgstr "...su smanjeni za (%):"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1283
+#, fuzzy
+msgid "Max overflow improvement (%):"
+msgstr "Unapre?enje najve?eg prekora?enja (%):"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1288
+#, fuzzy
+msgid "Max overflow degradation (%):"
+msgstr "Umanjenje najve?eg prekra?enja (%):"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1300
+msgid "A value of 20 will give 20% more bits to every I-frame"
+msgstr "Vrednost 20 ?e dati 20% vi?e bitova po svakom I kadru"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1306
+msgid "I-frames appearing in the range below this value will be treated as consecutive keyframes"
+msgstr "I kadrovi koji se pojavljuju u opsegu ispod ove vrednosti ?e biti tretirani kao uzastopni klju?ni kadrovi."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1311
+#, fuzzy
+msgid "Reduction of bitrate for the first consecutive I-frames. The last I-frame will get treated normally"
+msgstr "Umanjenje bitrejta za prve uzastopne I kadrove. Poslednji I kadar ?e biti tretiran normalno."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1316
+#, fuzzy
+msgid "How much of the overflow the codec can eat into during undersized sections - larger values will bridge the gap faster"
+msgstr "Koliko prekora?enja kodek mo?e odse?i kod premalih delova - ve?e vrednosti ?e premostiti rascep br?e"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1321
+#, fuzzy
+msgid "How much of the overflow the codec can eat into during oversized sections - larger values will bridge the gap faster"
+msgstr "Koliko prekora?enja kodek mo?e odse?i kod prevelikih delova - ve?e vrednosti ?e premostiti rascep br?e"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1323
+msgid "Two pass tuning"
+msgstr "Pode?avanje drugog prolaza"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1340
+msgid "High bitrate scenes (%):"
+msgstr "Scene sa visokim bitskim protokom (%):"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1345
+msgid "Low bitrate scenes (%):"
+msgstr "Scene sa niskim bitskim protokom (%):"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1350
+msgid "Overflow control strength (%):"
+msgstr "Ja?ina kontrole prekora?enja  (%):"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1362
+msgid "The higher this value, the more bits get taken from frames larger than the average size, and redistributed to others"
+msgstr "?to je vrednost ve?a, vi?e vi?e bitova ?e biti uzeto iz kadrova ve?ih od prose?ne veli?ine i biti raspore?eno ostalima"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1367
+msgid "The higher this value, the more bits get assigned to frames below the average frame size"
+msgstr "?to je vrednost ve?a, vi?e bitova ?e biti dodeljeno kadrovima manjim od prose?ne veli?ine kadra"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1372
+#, fuzzy
+msgid "0 = default from core (let XviD decide), else overflow payback percent per frame"
+msgstr "0 = podrazumevano iz jezgra (pusti da XviD odlu?i), u suprotnom prekora?ena reprodukcija procenata po kadru"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1374
+msgid "Curve compression"
+msgstr "Kompresiona kriva"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1378
+msgid "Second Pass"
+msgstr "Drugi prolaz"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1591
+msgid "<b>Intra Matrix</b>"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1609
+msgid "<b>Inter Matrix</b>"
+msgstr ""
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:327
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:241
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp:396
+msgid "The filter is already partial"
+msgstr "Filter je ve? polovi?an"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:455
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:457
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:347
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:349
+msgid "Load set of filters"
+msgstr "U?itaj set filtera"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:464
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:362
+msgid "Nothing to save"
+msgstr "Nemam ?ta da snimim"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:468
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:470
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:366
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:368
+msgid "Save set of filters"
+msgstr "Sa?uvaj set filtera"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:64
+msgid "Add Video Filter"
+msgstr "Dodaj video filter"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:98
+msgid "Transformation"
+msgstr "Transformacija"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:148
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:309
+msgid "Colors"
+msgstr "Boje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:198
+msgid "Sharpen/Blur"
+msgstr "O?trina/Zamu?enje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:223
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:381
+msgid "Subtitles"
+msgstr "Prevodi"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:248
+msgid "Miscellaneous"
+msgstr "Raznovrsno"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:123
+msgid "Video Filter Manager"
+msgstr "Ure?ivanje video filtera"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:145
+msgid "Open filter list [Ctrl-O]"
+msgstr "Otvori listu filtera [Ctrl-O]"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:154
+msgid "Save filter list [Ctrl-S]"
+msgstr "Sa?uvaj listu filtera [Ctrl-O]"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:162
+msgid "Save Script"
+msgstr "Sa?uvaj skriptu"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:165
+msgid "Save as script [Ctrl-J]"
+msgstr "Sa?uvaj kao skriptu [Ctrl-J]"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:173
+msgid "DVD Res"
+msgstr "DVD rez."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:176
+msgid "DVD resolution [Ctrl-1]"
+msgstr "DVD rezolucija [Ctrl-1]"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:184
+msgid "Half D1 Res"
+msgstr "Pola D1 rez."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:187
+msgid "Half D1 resolution [Ctrl-2]"
+msgstr "Pola od D1 rezolucije [Ctrl-2]"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:195
+msgid "SVCD Res"
+msgstr "SVCD rez."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:198
+msgid "SVCD resolution [Ctrl-3]"
+msgstr "SVCD rezolucija [Ctrl-3]"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:206
+msgid "VCD Res"
+msgstr "VCD rez."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:209
+msgid "VCD resolution [Ctrl-4]"
+msgstr "VCD rezolucija [Ctrl-4]"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:260
+msgid "Transform"
+msgstr "Transformi?i"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:333
+msgid "Noise"
+msgstr "?um"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:357
+msgid "Sharpness"
+msgstr "O?trina"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:405
+msgid "Misc"
+msgstr "Ostalo"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:416
+msgid "External"
+msgstr "Spolja?nje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:427
+msgid "Add selected filter to the Active Filters list"
+msgstr "Dodaj ozna?eni filter u listu aktivnih filtera"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:433
+msgid "<b>Available Filters</b>"
+msgstr "<b>Dostupni filteri</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:478
+msgid "Remove filter"
+msgstr "Ukloni filter"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:487
+msgid "Move filter down"
+msgstr "Pomeri filter nani?e"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:496
+msgid "Move filter up"
+msgstr "Pomeri filter navi?e"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:502
+msgid "P_artial"
+msgstr "_Polovi?no"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:505
+msgid "Apply the current filter only to a part of the file"
+msgstr "Primeni ozna?eni filter samo na jedan deo datoteke"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:510
+msgid "Configure filter"
+msgstr "Podesi filter"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:520
+msgid "C_onfigure"
+msgstr "_Podesi"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:524
+msgid "<b >Active Filters</b>"
+msgstr "<b>Aktivni filteri</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:551
+msgid "_Preview"
+msgstr "P_regled"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:52
+msgid "Video Filters"
+msgstr "Video filteri"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:112
+msgid "VCD res"
+msgstr "VCD rezolucija"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:118
+msgid "SVCD res"
+msgstr "SVCD rezolucija"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:124
+msgid "DVD res"
+msgstr "DVD rezolucija"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:130
+msgid "Half D1 res"
+msgstr "Polovi?na D1 rezolucija"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:156
+msgid "Save as script"
+msgstr "Sa?uvaj kao skriptu"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:425
+msgid "Input"
+msgstr "Ulaz"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:426
+msgid "Output"
+msgstr "Izlaz"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:427
+msgid "Side"
+msgstr "Pored"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:428
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:90
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:81
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:87
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:109
+msgid "Top"
+msgstr "Iznad"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:429
+msgid "Separate"
+msgstr "Odvojeno"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:605
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp:429
+#, c-format
+msgid "Frame:%c(%02d)"
+msgstr "Kadar:%c(%02d)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:282
+#: avidemux/main.cpp:167
+msgid "_File"
+msgstr "_Datoteka"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:289
+msgid "_Open..."
+msgstr "_Otvori..."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:300
+msgid "_Append..."
+msgstr "_Dodaj..."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:311
+msgid "_Save"
+msgstr "_Sa?uvaj"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:322
+msgid "Save _Video..."
+msgstr "Sa?uvaj _video..."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:334
+msgid "Save _BMP Image..."
+msgstr "Sa?uvaj BMP sliku"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:338
+msgid "Save _JPEG Image..."
+msgstr "Sa?uvaj JPEG sliku"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:342
+msgid "Save _Selection as JPEG images..."
+msgstr "Sa?uvaj markirano kao JPEG slike"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:351
+msgid "Save _Project"
+msgstr "Sa?uvaj _projekat"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:359
+msgid "Save P_roject As..."
+msgstr "Sa?uvaj projekat _kao..."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:367
+msgid "_Load/Run Project..."
+msgstr "_U?itaj/Pokreni projekat..."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:375
+msgid "A_dd to Joblist..."
+msgstr "Doda_j u listu zadataka..."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:379
+msgid "Show _Joblist"
+msgstr "Prika?i _listu zadataka"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:391
+msgid "Proper_ties"
+msgstr "Oso_bine"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:402
+msgid "AVI _Muxer Options"
+msgstr "AVI _Muxer Options"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:411
+msgid "_Quit"
+msgstr "_Iza?i"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:422
+msgid "_Edit"
+msgstr "_Ure?ivanje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:429
+msgid "_Reset Edits"
+msgstr "Poni?ti ure_?ivanja"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:442
+msgid "Cu_t"
+msgstr "_Iseci"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:453
+msgid "_Copy"
+msgstr "_Umno?i"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:464
+msgid "_Paste"
+msgstr "U_baci"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:475
+msgid "_Delete"
+msgstr "_Obri?i"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:491
+msgid "Set Marker _A"
+msgstr "Postavi marker _A"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:498
+msgid "Set Marker _B"
+msgstr "Postavi marker _B"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:510
+msgid "Pre_ferences"
+msgstr "_Postavke"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:518
+msgid "_View"
+msgstr "P_regled"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:525
+msgid "_Main Toolbar"
+msgstr "_Glavna traka sa alatima"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:530
+msgid "_A/V Sidebar"
+msgstr "A/V _traka"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:540
+msgid "_Zoom 1:4"
+msgstr "Uve?anje 1:_4"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:547
+msgid "Z_oom 1:2"
+msgstr "Uve?anje 1:_2"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:554
+msgid "Zoom _1:1"
+msgstr "Uve?anje 1:_1"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:561
+msgid "Zoom _2:1"
+msgstr "_Uve?anje 2:1"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:568
+msgid "Zoom _4:1"
+msgstr "U_ve?anje 4:1"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:575
+msgid "Vi_deo"
+msgstr "_Video"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:582
+msgid "_Decoder Options"
+msgstr "_Opcije dekodera"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:589
+#, fuzzy
+msgid "_Postprocessing"
+msgstr "_Naknadno procesiranje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:592
+#, fuzzy
+msgid "Select postprocessing level"
+msgstr "Odaberi nivo naknadnog procesiranja"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:602
+msgid "P_review"
+msgstr "P_regled"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:609
+msgid "Display _Output"
+msgstr "Prika?i _izlaz"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:621
+msgid "_Frame Rate"
+msgstr "_U?estalost kadrova"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:625
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:674
+msgid "_Encoder"
+msgstr "_Koder"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:632
+msgid "Fil_ters"
+msgstr "_Filteri"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:639
+msgid "_Audio"
+msgstr "_Audio"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:646
+msgid "_Main Track"
+msgstr "_Glavna traka"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:650
+msgid "_Second Track"
+msgstr "_Sporedna traka"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:654
+msgid "_Build VBR Time Map"
+msgstr "Izgradi VBR _mapu vremena"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:663
+msgid "S_ave..."
+msgstr "_Sa?uvaj..."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:681
+msgid "_Filters"
+msgstr "_Filteri"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:685
+msgid "_Tools"
+msgstr "Ala_ti"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:692
+msgid "_Calculator"
+msgstr "_Kalkulator"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:708
+msgid "_Rebuild Frames (I & B)"
+msgstr "_Re-izgradi kadrove (I i B)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:712
+msgid "C_heck Frames (slow)"
+msgstr "_Proveri kadrove (sporo)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:716
+msgid "_Bitrate Histogram"
+msgstr "_Histogram bitrejta"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:720
+msgid "_Scan for Black Frames..."
+msgstr "Na?i _crne kadrove..."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:729
+msgid "_VOB -> VobSub"
+msgstr "_VOB -> VobSub"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:733
+msgid "_OCR (VobSub -> srt)"
+msgstr "_OCR (VobSub -> srt)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:737
+msgid "A_uto"
+msgstr "Aut_o"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:744
+msgid "_VCD"
+msgstr "_VCD"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:748
+msgid "_SVCD"
+msgstr "_SVCD"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:752
+msgid "_DVD"
+msgstr "_DVD"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:760
+msgid "PSP (H264)"
+msgstr "PSP (H264)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:764
+msgid "_Go"
+msgstr "Idi _na"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:771
+msgid "_Play/Stop"
+msgstr "_Pusti/Zaustavi"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:782
+msgid "P_revious Frame"
+msgstr "Pret_hodni kadar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:793
+msgid "_Next Frame"
+msgstr "Nare_dni kadar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:804
+#, fuzzy
+msgid "Pr_evious Intra Frame"
+msgstr "Prethodni _Intra kadar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:815
+#, fuzzy
+msgid "Next _Intra Frame"
+msgstr "Naredni I_ntra kadar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:826
+msgid "Previou_s Black Frame"
+msgstr "Prethodni _crni kadar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:830
+msgid "Ne_xt Black Frame"
+msgstr "Naredni c_rni kadar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:834
+msgid "_First Frame"
+msgstr "_Prvi kadar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:845
+msgid "_Last Frame"
+msgstr "Po_slednji kadar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:861
+msgid "Go to Marker _A"
+msgstr "Idi na marker _A"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:868
+msgid "Go to Marker _B"
+msgstr "Idi na marker _B"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:880
+msgid "_Jump to Frame..."
+msgstr "Sko?i na _kadar..."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:891
+msgid "Jump to _Time..."
+msgstr "Sko?i na _vreme..."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:906
+msgid "_Help"
+msgstr "_Pomo?"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:913
+msgid "_About"
+msgstr "_O programu"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:921
+msgid "Show builtin support"
+msgstr "_Ispi?i podr?ano..."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:935
+msgid "Open a file"
+msgstr "Otvori datoteku"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:945
+msgid "Save the file"
+msgstr "Sa?uvaj datoteku"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:951
+msgid "Audio/video file information"
+msgstr "Informacija o Audio/Video datoteci"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:959
+msgid "Calculator"
+msgstr "Kalkulator"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:962
+msgid "Bitrate/size calculator"
+msgstr "Kalkulator bitski protok/veli?ina"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1016
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1056
+msgid "Copy"
+msgstr "Bez izmene"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1021
+msgid "Configure video encoder"
+msgstr "Podesi video koder"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1026
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1082
+msgid "Filters"
+msgstr "Filteri"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1029
+msgid "Video filters"
+msgstr "Video filteri"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1061
+msgid "Configure audio encoder"
+msgstr "Podesi audio koder"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1069
+msgid "Audio filters"
+msgstr "Audio filteri"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1090
+msgid "Shift:"
+msgstr "Pomeri:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1093
+msgid "Enable time shift"
+msgstr "Omogu?i pomeraj vremena"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1099
+msgid "Audio/video time shift (ms)"
+msgstr "Audio/video vremenski pomeraj (u milisekundama)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1106
+msgid "<b>Format</b>"
+msgstr "<b>Format</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1139
+msgid "<b>Selection</b>"
+msgstr "<b>Obele?eno</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1156
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1164
+msgid " 0000000"
+msgstr " 0000000"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1172
+msgid "A:"
+msgstr "A:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1179
+msgid "Go to marker A"
+msgstr "Idi na marker A"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1181
+msgid "B:"
+msgstr "B:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1188
+msgid "Go to marker B"
+msgstr "Idi na marker B"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1200
+msgid "Play"
+msgstr "Pusti"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1214
+msgid "Stop"
+msgstr "Zaustavi"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1226
+msgid "Previous frame"
+msgstr "Prethodni kadar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1241
+msgid "Next frame"
+msgstr "Naredni kadar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1256
+msgid "Previous keyframe"
+msgstr "Prethodni klju?ni kadar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1271
+msgid "Next keyframe"
+msgstr "Naredni klju?ni kadar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1285
+msgid "Selection: start"
+msgstr "Ovele?avanje: po?etak"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1296
+msgid "Selection: end"
+msgstr "Ovele?avanje: kraj"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1307
+msgid "Previous black frame"
+msgstr "Prethodni crni kadar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1318
+msgid "Next black frame"
+msgstr "Naredni crni kadar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1329
+msgid "First frame"
+msgstr "Prvi kadar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1340
+msgid "Last frame"
+msgstr "Poslednji kadar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1371
+msgid "Frame: "
+msgstr "Kadar: "
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1378
+msgid "Current frame"
+msgstr "Trenutni kadar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1383
+msgid "/0000000"
+msgstr "/0000000"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1390
+msgid "Time: "
+msgstr "Vreme: "
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1397
+msgid "Current time"
+msgstr "Trenutno vreme"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1398
+msgid "00:00:00.000"
+msgstr "00:00:00.000"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1401
+msgid "/00:00:00,000"
+msgstr "/00:00:00,000"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1408
+msgid "Frame: ?"
+msgstr "Kadar: ?"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:209
+msgid "Incorrect output file"
+msgstr "Pogre?na izlazna datoteka"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:215
+msgid "Output file error"
+msgstr "Gre?ka u izlaznoj datoteci"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:215
+#, c-format
+msgid "Could not open \"%s\" for writing."
+msgstr "Ne mogu da otvorim ?%s? za upis."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:224
+msgid "Problem loading sub"
+msgstr "Problem pri u?itavanju SUB datoteke"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:589
+msgid "Sure ?"
+msgstr "Sigurno ?"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:752
+msgid "Select SRT to save"
+msgstr "Odaberi SRT za snimanje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:764
+msgid "Select Glyoh to save"
+msgstr "Odaberi Glyoh za snimanje"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:778
+msgid "No glyphs to save"
+msgstr "Nema karaktera da sa?uvam"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_gladeSupport.cpp:251
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_gladeSupport.cpp:275
+#, c-format
+msgid "Couldn't find pixmap file: %s"
+msgstr "Ne mogu da na?em datoteku sa sli?icom: %s"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:121
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:391
+msgid "Cannot open directory as a file"
+msgstr "Ne mogu da otvorim direktorijum kao datoteku"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:252
+#: avidemux/gtk_gui.cpp:877
+#, c-format
+msgid "Cannot open \"%s\"."
+msgstr "Ne mogu da otvorim ?%s?"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:262
+msgid "Overwrite file ?"
+msgstr "Izabrana datoteka ve? postoji datoteka. ?elite li da je zamenite?"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:287
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:301
+msgid "It could be possible that you try to overwrite an input file!"
+msgstr "Mogu?e je da ste poku?ali da zamenite ulaznu datoteku!"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:312
+msgid "Cannot write the file"
+msgstr "Ne mogu da pi?em u datoteku"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:312
+#, c-format
+msgid "No write access to \"%s\"."
+msgstr "Nemam dozvole za pisanje u ?%s?"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:445
+msgid "Images"
+msgstr "Slike"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:457
+msgid "All"
+msgstr "Sve"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:585
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:657
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:719
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:779
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:842
+#, fuzzy
+msgid "label1"
+msgstr "natpis1"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:706
+msgid "Alert"
+msgstr "Uzbuna"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp:52
+msgid "Select Directory"
+msgstr "Odaberi direktorijum"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp:54
+msgid "Select File"
+msgstr "Odaberi datoteku"
+
+#: avidemux/ADM_video/ADM_guiResize.cpp:96
+#: avidemux/ADM_video/ADM_vidMPLResize.cpp:143
+msgid "Width and height cannot be 0"
+msgstr "?irina i visina ne mogu biti 0"
+
+#: avidemux/ADM_video/ADM_guiResize.cpp:98
+#: avidemux/ADM_video/ADM_vidMPLResize.cpp:145
+msgid "Width and height cannot be odd"
+msgstr "Visina i ?irina ne mogu biti neparni brojevi"
+
+#: avidemux/ADM_video/ADM_vidFieldUnblend.cpp:81
+msgid "Metrics"
+msgstr "Mere"
+
+#: avidemux/ADM_video/ADM_vidFieldUnblend.cpp:81
+msgid "Do you want to print metrics on screen ?"
+msgstr "Da li ?elite da prika?ete mere na ekranu ?"
+
+#: avidemux/ADM_video/ADM_vidSRT.cpp:215
+msgid "Could not open subtitle file"
+msgstr "Ne mogu da otvorima datoteku sa prevodom"
+
+#: avidemux/ADM_video/ADM_vidSRT.cpp:238
+msgid "Cannot identify subtitle format"
+msgstr "Ne mogu da prepoznam datoteku sa prevodom"
+
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:106
+msgid "Linear blend"
+msgstr "Linearno stapanje"
+
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:107
+#, fuzzy
+msgid "Linear interpolate"
+msgstr "Linearna interpolacija"
+
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:108
+#, fuzzy
+msgid "Cubic interpolate"
+msgstr "Kubik interpolacija"
+
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:109
+#, fuzzy
+msgid "Median interpolate"
+msgstr "Median rasplitanje"
+
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:110
+msgid "FFmpeg deint"
+msgstr "FFmpeg rasplitanje"
+
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:114
+msgid "_Deinterlacing:"
+msgstr "_Rasplitanje:"
+
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:115
+msgid "_Autolevel"
+msgstr "_Automatski nivo :"
+
+#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:85
+msgid "_Subtitle file (ass/ssa)"
+msgstr "Datoteka sa _prevodom (ASS/SSA)"
+
+#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:86
+msgid "_Line spacing"
+msgstr "_?irina linije"
+
+#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:87
+#, fuzzy
+msgid "_Font scale"
+msgstr "_Rastezanje slovnog lika"
+
+#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:88
+msgid "_Top margin"
+msgstr "_Gornja granica"
+
+#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:89
+msgid "_Bottom margin"
+msgstr "_Donja granica"
+
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:82
+msgid "threshold"
+msgstr "osetljivost"
+
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:83
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:88
+msgid "If value is smaller than threshold it is considered valid. Smaller value might mean more false positive"
+msgstr "Ukoliko je vrednost manja nego osetljivost smatra se ispravnom. Manja vrednost mo?e da zna?i varljiv pozitiv"
+
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:85
+msgid "noise"
+msgstr "?um"
+
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:85
+msgid "If pixel are closer than noise, they are considered to be the same"
+msgstr "Ukoliko su pikseli sli?ni ?umu, oni se smatraju istim"
+
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:86
+msgid "identical"
+msgstr "Identi?no"
+
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:86
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:91
+msgid "If metric is less than identical, images are considered identical"
+msgstr "Ukoliko su mere gotovo iste, slike se smatraju istim"
+
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:87
+msgid "show"
+msgstr "prika?i"
+
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:87
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:92
+msgid "Show metric in image (debug)"
+msgstr "Prika?i mere u slici (nala?enje gre?aka)"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:190
+msgid "Discard Closer"
+msgstr ""
+
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:191
+#, fuzzy
+msgid "Replace (interpolate)"
+msgstr "Zameni (interpoli?i)"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:192
+msgid "Discard longer dupe (anim?s)"
+msgstr ""
+
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:193
+msgid "PullDown dupe removal"
+msgstr ""
+
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:196
+msgid "Fastest (no chroma, partial luma)"
+msgstr "Najbr?e (polovi?no luma, bez hroma)"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:197
+msgid "Fast (parial luma and chroma)"
+msgstr "Brzo (polovi?no luma i hroma)"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:198
+msgid "Medium (full luma no chroma)"
+msgstr "Srednje (polovi?no hroma, pun luma)"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:199
+msgid "Slow (full luma and chroma)"
+msgstr "Sporo (pun luma i hroma)"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:205
+msgid "Threshold 1"
+msgstr "Osetljivost 1"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:206
+msgid "Threshold 2"
+msgstr "Osetljivost 2"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:91
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:82
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:88
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:110
+msgid "Bottom"
+msgstr "Dno"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:95
+msgid "Never"
+msgstr "Nikada"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:96
+msgid "If still combed"
+msgstr ""
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:97
+msgid "Always"
+msgstr "Uvek"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:102
+msgid "None but compute"
+msgstr "Ni?ta, ali prora?unaj"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:103
+#, fuzzy
+msgid "Postproc on best match"
+msgstr "Naknadno procesiranje na najboljem poklapanju"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:104
+#, fuzzy
+msgid "Postproc and show zones(debug)"
+msgstr "Naknadno procesiranje i prikaz zona (nala?enje gre?aka)"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:105
+#, fuzzy
+msgid "Process image (not fields)"
+msgstr "Procesiraj slike (ne polja)"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:106
+#, fuzzy
+msgid "Process image (not fields),debug"
+msgstr "Procesiraj slike (ne polja), nala?enje gre?aka"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:110
+msgid "Strategy"
+msgstr "Strategija"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:111
+msgid "Field Order"
+msgstr "Redosled polja"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:112
+#, fuzzy
+msgid "Post Processing"
+msgstr "Naknadno procesiranje"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:113
+msgid "Try backward"
+msgstr "Probaj unazad"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:115
+#, fuzzy
+msgid "Direct Threshold"
+msgstr "Direktna osetljivost"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:116
+#, fuzzy
+msgid "Backward Threshold"
+msgstr "Povratna osetljivost"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:117
+msgid "Noise Threshold"
+msgstr "Osetljivost na ?um"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:118
+#, fuzzy
+msgid "Post Proc Threshold"
+msgstr "Osetljivost naknadnog procesiranja"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:120
+msgid "Use Chroma to decide"
+msgstr "Koristi hroma za procenu"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:121
+msgid "Show info"
+msgstr "Prika?i informacije"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:122
+msgid "Debug"
+msgstr "Nala?enje gre?aka"
+
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:123
+msgid "Blend"
+msgstr "Stopi"
+
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:386
+msgid "_Luma lock:"
+msgstr "_Luma zaklju?avanje:"
+
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:387
+msgid "C_hroma lock:"
+msgstr "_Hroma zaklju?avanje:"
+
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:388
+msgid "L_uma threshold:"
+msgstr "L_uma osetljivost:"
+
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:389
+msgid "Ch_roma threshold:"
+msgstr "H_roma osetljivost:"
+
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:391
+msgid "_Scene change:"
+msgstr "_Promena scene:"
+
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:85
+msgid "Keep nb of frames and fps"
+msgstr "Zadr?i broj kadrova i br. kadrova u sek."
+
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:86
+#, fuzzy
+msgid "Double nb of frames and fps"
+msgstr "Udvostru?i broj kadrova po sekindi i kadar #"
+
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:87
+#, fuzzy
+msgid "Double nb of frames (slow motion)"
+msgstr "Udvostru?i kadar # (usporen snimak)"
+
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:90
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:92
+msgid "_Field order:"
+msgstr "_Redosled polja:"
+
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:91
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:113
+msgid "_Mode:"
+msgstr "_Mod:"
+
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:92
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:87
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:93
+#: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:166
+msgid "_Threshold:"
+msgstr "_Osetljivost:"
+
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:93
+msgid "_Extra"
+msgstr "_Dodatno"
+
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:93
+msgid "Extra check, avoid using it"
+msgstr "Dodatna provera, izbegni da koristi?"
+
+#: avidemux/ADM_videoFilter/ADM_vidDropOut.cpp:63
+#, fuzzy
+msgid "DropOut Threshold"
+msgstr "Izostavljena osetljivost"
+
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
+msgid "Out"
+msgstr "Izlaz"
+
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
+msgid "Fade out"
+msgstr "Izbledi"
+
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
+msgid "In"
+msgstr "Ulaz"
+
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
+msgid "Fade in"
+msgstr ""
+
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:71
+msgid "_Fade type:"
+msgstr "Tip _izble?ivanja:"
+
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:72
+msgid "_Start frame:"
+msgstr "_Po?etni kadar:"
+
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:73
+msgid "_End frame:"
+msgstr "_Krajnji kadar:"
+
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:74
+msgid "Fade to _black"
+msgstr "Izbledi do crnog"
+
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:83
+msgid "Parameter Error"
+msgstr "Gre?ka u parametrima"
+
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:83
+msgid "Start must be before end, and both within video # of frames."
+msgstr "Po?etak mora biti nakon kraja o oba unutar videa # od kadrova."
+
+#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:61
+msgid "_Quantizer:"
+msgstr "_Kvantizer:"
+
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:90
+msgid "_Noise:"
+msgstr "_?um:"
+
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:90
+msgid "If pixels are closer than noise, they are considered to be the same"
+msgstr "Ukoliko su pikseli sli?ni ?umu, oni smatraju istimm"
+
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:91
+msgid "_Identical:"
+msgstr "_Identi?no:"
+
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:92
+msgid "_Show metrics"
+msgstr "Prika?i _mere"
+
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:93
+msgid "Smaller means more deinterlacing"
+msgstr "Manja vrednost vi?e raspli?e"
+
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:94
+msgid "_Sharp"
+msgstr "O_?tro:"
+
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:94
+#, fuzzy
+msgid "_Sharper engine:"
+msgstr "Izo?triva_?:"
+
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:95
+msgid "T_woway"
+msgstr ""
+
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:95
+#, fuzzy
+msgid "Extrapolate better (better not to use it)"
+msgstr "Extrapolate better (bolje ne koristi)"
+
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:96
+msgid "_Map"
+msgstr "_Mapa"
+
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:96
+msgid "Show interlaced areas (for test!)"
+msgstr "Prika?i prepletena podru?ja (samo za testiranje!)"
+
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:104
+msgid "Fast"
+msgstr "Brzo"
+
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:105
+msgid "Medium"
+msgstr "Srednje"
+
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:106
+#, fuzzy
+msgid "Slow iterative motion search"
+msgstr "Spora ponovna pretraga pokreta"
+
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:107
+#, fuzzy
+msgid "Extra slow (same as 3+multiple reference frames)"
+msgstr "Estremno sporo (isto kao 3+vi?e povezanih kadrova)"
+
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:114
+msgid "_Field dominance:"
+msgstr "_Dominacija polja:"
+
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:115
+msgid "_Qp:"
+msgstr "_?etvrt piksela:"
+
+#: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:90
+#, fuzzy
+msgid "_Horizontal stacking:"
+msgstr "Horizontalni udeo:"
+
+#: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:91
+#, fuzzy
+msgid "_Vertical stacking:"
+msgstr "Vertikalni udeo:"
+
+#: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:92
+msgid "_Shrink factor:"
+msgstr "Faktor _su?enja:"
+
+#: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:93
+msgid "Show _frame"
+msgstr "Prika?i _kadar"
+
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:74
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:74
+#, fuzzy
+msgid "_Spatial luma strength:"
+msgstr "Prostorna _luma ja?ina:"
+
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:75
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:75
+#, fuzzy
+msgid "S_patial chroma strength:"
+msgstr "Prostorna _hroma ja?ina:"
+
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:76
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:76
+msgid "_Temporal strength:"
+msgstr "_Temporalna ja?ina:"
+
+#: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:163
+msgid "_Mask"
+msgstr "_Maska"
+
+#: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:164
+#, fuzzy
+msgid "_High Q"
+msgstr "_Vikoko Q"
+
+#: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:167
+msgid "_Strength:"
+msgstr "_Ja?ina :"
+
+#: avidemux/ADM_videoFilter/ADM_vidPalShift.cpp:76
+msgid "Try reverse"
+msgstr "Poku?aj obrnuto"
+
+#: avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp:85
+msgid "_New frame rate:"
+msgstr "_Nova u?estanost kadrova:"
+
+#: avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp:86
+msgid "_Blend"
+msgstr "_Stopi"
+
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:265
+msgid "90 degrees"
+msgstr "90 stepeni"
+
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:265
+msgid "90?"
+msgstr "90?"
+
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:266
+msgid "180 degrees"
+msgstr "180 stepeni"
+
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:266
+msgid "180?"
+msgstr "180?"
+
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:267
+msgid "270 degrees"
+msgstr "270 stepeni"
+
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:267
+msgid "270?"
+msgstr "270?"
+
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:269
+msgid "Angle"
+msgstr "Ugao"
+
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:271
+#, fuzzy
+msgid "Rotate Params"
+msgstr "Okreni parametre"
+
+#: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:68
+msgid "_Luma threshold:"
+msgstr "_Luma osetljivost:"
+
+#: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:69
+msgid "C_hroma threshold:"
+msgstr "_Hroma osetljivost:"
+
+#: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:70
+msgid "_Radius:"
+msgstr "_Pre?nik:"
+
+#: avidemux/ADM_videoFilter/ADM_vidStabilize.cpp:63
+msgid "Stabilize Threshold"
+msgstr "Stabilizuj osetljivost"
+
+#: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:101
+#, fuzzy
+msgid "Luma Temporal Threshold"
+msgstr "Luma temporalna osetljivost"
+
+#: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:102
+#, fuzzy
+msgid "Chroma Temporal Threshold"
+msgstr "Hroma temporalna osetljivost"
+
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:171
+#, fuzzy
+msgid "Temporal & Spatial check"
+msgstr "Privremena i prostorna provera"
+
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:172
+#, fuzzy
+msgid "Bob, T+S check"
+msgstr "Bob, T+S provera"
+
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:173
+#, fuzzy
+msgid "Skip spatial temporal check"
+msgstr "Presko?i prostornu privremenu proveru"
+
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:174
+#, fuzzy
+msgid "Bob, Skip spatial temporal check"
+msgstr "Bob, Presko?i prostornu privremenu proveru"
+
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:177
+msgid "Bottom Field first"
+msgstr "Najpre donja polja"
+
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:182
+msgid "Order"
+msgstr "Redosled"
+
+#: avidemux/gtk_gui.cpp:243
+#, fuzzy
+msgid "Select ecmascript to run "
+msgstr "Odaberu ecma skriptu za pokretanje"
+
+#: avidemux/gtk_gui.cpp:290
+#: avidemux/gtk_gui.cpp:329
+msgid "Obsolete"
+msgstr "Zastarelo"
+
+#: avidemux/gtk_gui.cpp:357
+msgid "Not coded in this version"
+msgstr "Nije kodirano u ovoj verziji"
+
+#: avidemux/gtk_gui.cpp:370
+#: avidemux/gtk_gui.cpp:375
+#: avidemux/gtk_gui.cpp:487
+#: avidemux/gtk_gui.cpp:490
+msgid "Select AVI file..."
+msgstr "Odaberi AVI datoteku..."
+
+#: avidemux/gtk_gui.cpp:423
+#, fuzzy
+msgid ""
+"This is to be used to undo packed vop on mpeg4.\n"
+"Continue ?"
+msgstr ""
+"Ovo se koristi nad poni?teno zapakovanim VOP mpeg4.\n"
+"Da nastavim ?"
+
+#: avidemux/gtk_gui.cpp:425
+msgid "Select Avi file to write"
+msgstr "Odaberi datoteku da sa?uvam AVI"
+
+#: avidemux/gtk_gui.cpp:431
+msgid "Select OGM file to write"
+msgstr "Odaberi datoteku da sa?uvam OGM"
+
+#: avidemux/gtk_gui.cpp:442
+#: avidemux/gtk_gui.cpp:453
+msgid "Select workbench to save "
+msgstr "Odaberi datoteku da sa?uvam tezgu"
+
+#: avidemux/gtk_gui.cpp:477
+msgid "Select raw file to save "
+msgstr "Odaberi datoteku da sa?uvam raw"
+
+#: avidemux/gtk_gui.cpp:493
+msgid "Select AVI file to append..."
+msgstr "Odaberi AVI datoteku da dodam..."
+
+#: avidemux/gtk_gui.cpp:497
+msgid "Select file to save audio"
+msgstr "Odaberi datoteku da sa?uvam audio"
+
+#: avidemux/gtk_gui.cpp:531
+msgid "Select Jpeg sequence to save "
+msgstr "Odaberi koju JPEG sekvencu da sa?uvam"
+
+#: avidemux/gtk_gui.cpp:534
+msgid "Select BMP to save "
+msgstr "Odaberi BMP za snimanje"
+
+#: avidemux/gtk_gui.cpp:538
+msgid "Select Jpeg to save "
+msgstr "Odaberi Jpeg za snimanje"
+
+#: avidemux/gtk_gui.cpp:591
+msgid "Select file to save"
+msgstr "Odaberi datoteku za snimanje"
+
+#: avidemux/gtk_gui.cpp:643
+msgid "Select MP3 to load "
+msgstr "Odaberi MP3 za u?itavanje"
+
+#: avidemux/gtk_gui.cpp:646
+msgid "Select AC3 to load "
+msgstr "Odaberi AC3 za u?itavanje"
+
+#: avidemux/gtk_gui.cpp:649
+msgid "Select WAV to load "
+msgstr "Odaberi WAV za u?itavanje"
+
+#: avidemux/gtk_gui.cpp:697
+#, fuzzy
+msgid "Out of bounds"
+msgstr "Nema vi?e granica"
+
+#: avidemux/gtk_gui.cpp:703
+msgid "Select  file to save "
+msgstr "Odaberi datoteku za snimanje"
+
+#: avidemux/gtk_gui.cpp:708
+#: avidemux/gtk_gui.cpp:1913
+#, fuzzy
+msgid "Marker A > B"
+msgstr "Oznaka A > B"
+
+#: avidemux/gtk_gui.cpp:708
+msgid "Cannot copy."
+msgstr "Ne mogu da umno?im."
+
+#: avidemux/gtk_gui.cpp:720
+msgid "Something bad happened (II))"
+msgstr "Ne?to se desilo (II))"
+
+#: avidemux/gtk_gui.cpp:734
+msgid "Are you sure ?"
+msgstr "Da li si siguran ?"
+
+#: avidemux/gtk_gui.cpp:812
+msgid "Width is not a multiple of 8"
+msgstr "?irina nije umno?ak osmice"
+
+#: avidemux/gtk_gui.cpp:813
+msgid "This will make trouble for avi files."
+msgstr "Ovo ?e praviti problema sa AVI daotekama"
+
+#: avidemux/gtk_gui.cpp:823
+msgid "Rebuild all Keyframes?"
+msgstr "Re-izgradi sve klju?ne kadrove?"
+
+#: avidemux/gtk_gui.cpp:877
+msgid "Permission error"
+msgstr "Gre?ka sa dozvolama"
+
+#: avidemux/gtk_gui.cpp:880
+#, c-format
+msgid "\"%s\" does not exist."
+msgstr "?%s? ne postoji."
+
+#: avidemux/gtk_gui.cpp:940
+msgid "Cannot open project using the video loader."
+msgstr "Ne mogu da otvorim projekat koriste?i video ?ita?."
+
+#: avidemux/gtk_gui.cpp:941
+msgid "Try 'File' -> 'Load/Run Project...'"
+msgstr "Probajte ?Datoteka -> U?itaj/Pokreni projekat...?"
+
+#: avidemux/gtk_gui.cpp:943
+msgid "Could not open the file"
+msgstr "Ne mogu da otvorim datoteku"
+
+#: avidemux/gtk_gui.cpp:978
+msgid "Multiple Audio Tracks"
+msgstr "Vi?e audio traka"
+
+#: avidemux/gtk_gui.cpp:978
+msgid ""
+"The file you just loaded contains several audio tracks.\n"
+"Go to Audio->MainTrack to select the active one."
+msgstr ""
+"Datoteka koju ste upravo u?itali sadr?i nekoliko audio traka.\n"
+"Idite u ?Audio -> Glavna traka? i odaberite jednu aktivnu traku."
+
+#: avidemux/gtk_gui.cpp:1068
+msgid "No audio decoder found for this file"
+msgstr "Nije prona?en audio dekoder za ovu datoteku"
+
+#: avidemux/gtk_gui.cpp:1069
+msgid "Save (A+V) will generate bad AVI. Save audio will work."
+msgstr "Snimanje (aud + vid) ?e napraviti lo? AVI. Snimanje audija ?e uspeti."
+
+#: avidemux/gtk_gui.cpp:1125
+msgid "Something failed when appending"
+msgstr "Ne?to nije uspelo prilikom dodavanja"
+
+#: avidemux/gtk_gui.cpp:1134
+#: avidemux/gtk_gui.cpp:1932
+msgid "Something bad happened (II)"
+msgstr "Ne?to lo?e se desilo (II)"
+
+#: avidemux/gtk_gui.cpp:1198
+msgid "Cannot save the audio in copy mode"
+msgstr "Ne mogu da sa?uvam audio u modu ?bez izmene?"
+
+#: avidemux/gtk_gui.cpp:1198
+msgid "Select WAV PCM as the audio codec, otherwise the audio file would be raw PCM."
+msgstr "Odaberi WAV PCM kao audio kodek, u suprotnom, audio datoteka ?e biti raw PCM."
+
+#: avidemux/gtk_gui.cpp:1206
+#: avidemux/gtk_gui.cpp:1562
+msgid "Saving audio"
+msgstr "Snimam audio"
+
+#: avidemux/gtk_gui.cpp:1283
+msgid "Get Frame"
+msgstr "Uzmi kadar"
+
+#: avidemux/gtk_gui.cpp:1283
+msgid "Cannot get this frame to save"
+msgstr "Ne mogu da uzmem ovaj kadar za snimanje"
+
+#: avidemux/gtk_gui.cpp:1320
+#, fuzzy
+msgid "Mark A > B"
+msgstr "Oznaka A > B"
+
+#: avidemux/gtk_gui.cpp:1320
+msgid "Set your markers correctly."
+msgstr "Postavite ispravno markere."
+
+#: avidemux/gtk_gui.cpp:1329
+msgid "Saving as set of jpegs"
+msgstr "Snimanje kao set JPEG slika neuspelo."
+
+#: avidemux/gtk_gui.cpp:1335
+msgid "Cannot decode frame"
+msgstr "Ne mogu da dekodiram kadar"
+
+#: avidemux/gtk_gui.cpp:1335
+msgid "Aborting."
+msgstr "Obustavljam."
+
+#: avidemux/gtk_gui.cpp:1346
+#: avidemux/gtk_gui.cpp:1365
+#: avidemux/gtk_gui.cpp:2276
+msgid "Done"
+msgstr "Zavr?eno"
+
+#: avidemux/gtk_gui.cpp:1346
+#, c-format
+msgid "Saved %d images."
+msgstr "Sa?uvano %d slika."
+
+#: avidemux/gtk_gui.cpp:1348
+msgid "Error"
+msgstr "Gre?ka"
+
+#: avidemux/gtk_gui.cpp:1348
+msgid "Could not save all images."
+msgstr "Ne mogu da sa?uvam sve slike"
+
+#: avidemux/gtk_gui.cpp:1365
+#, c-format
+msgid "Saved \"%s\"."
+msgstr "Sa?uvano ?%s?"
+
+#: avidemux/gtk_gui.cpp:1367
+#, fuzzy
+msgid "BMP op failed"
+msgstr "Rad nad BMP neuspeo"
+
+#: avidemux/gtk_gui.cpp:1367
+#, c-format
+msgid "Saving %s as a BMP file failed."
+msgstr "Snimanje %s u BMP datoteku neuspelo."
+
+#: avidemux/gtk_gui.cpp:1387
+#: avidemux/gtk_gui.cpp:1453
+msgid "Failed to open the file"
+msgstr "Neuspelo otvaranje datoteke"
+
+#: avidemux/gtk_gui.cpp:1387
+#: avidemux/gtk_gui.cpp:1453
+msgid "Not a WAV file?"
+msgstr "Nije WAV datoteka?"
+
+#: avidemux/gtk_gui.cpp:1388
+#, c-format
+msgid "WAV open file failed..."
+msgstr "Otvaranje WAV datoteke neuspelo..."
+
+#: avidemux/gtk_gui.cpp:1523
+msgid "Cannot decompress audio frame"
+msgstr "Ne mogu da raspakujem audio kadar."
+
+#: avidemux/gtk_gui.cpp:1537
+msgid "Memory Error"
+msgstr "Gre?ka sa memorijom"
+
+#: avidemux/gtk_gui.cpp:1583
+msgid "No frames to encode"
+msgstr "Nema kadrova za kodiranje"
+
+#: avidemux/gtk_gui.cpp:1583
+msgid "Please check markers. Is \"A>\" == \">B\"?"
+msgstr "Proverite markere. Da li je ?A>? == ?>B??"
+
+#: avidemux/gtk_gui.cpp:1702
+msgid "Saving raw video stream"
+msgstr "Snimam raw video tok"
+
+#: avidemux/gtk_gui.cpp:1864
+msgid "No error found"
+msgstr "Nisu na?ene gre?ke"
+
+#: avidemux/gtk_gui.cpp:1868
+#, c-format
+msgid "Errors found in %u frames"
+msgstr "Na?ene gre?ke u %u kadrovima"
+
+#: avidemux/gtk_gui.cpp:1886
+msgid "Cannot decompress the audio stream"
+msgstr "Ne mogu da raspakujem audio tok."
+
+#: avidemux/gtk_gui.cpp:1886
+msgid "Switch audio codec to Copy."
+msgstr "Odaberi ?bez izmene? kao audio kodek."
+
+#: avidemux/gtk_gui.cpp:1913
+msgid "Cannot delete the selection."
+msgstr "Ne mogu da obri?em obele?eno."
+
+#: avidemux/gtk_gui.cpp:1918
+msgid "You can't remove all frames"
+msgstr "Ne mo?ete da uklonite sve kadrove"
+
+#: avidemux/gtk_gui.cpp:1994
+msgid "Could not get tracks info"
+msgstr "Ne mogu da na?em informacije o trakama"
+
+#: avidemux/gtk_gui.cpp:2002
+msgid "Video"
+msgstr "Video"
+
+#: avidemux/gtk_gui.cpp:2002
+msgid "Take audio from video file"
+msgstr "Uzmi audio iz video datoteke"
+
+#: avidemux/gtk_gui.cpp:2003
+#: avidemux/gtk_gui.cpp:2102
+msgid "No audio"
+msgstr "Bez audia"
+
+#: avidemux/gtk_gui.cpp:2004
+#: avidemux/gtk_gui.cpp:2103
+msgid "External AC3"
+msgstr "Spolja?nji AC3"
+
+#: avidemux/gtk_gui.cpp:2004
+#: avidemux/gtk_gui.cpp:2103
+msgid "Take audio from external AC3 file"
+msgstr "Uzmi audio iz spolja?nje AC3 datoteke"
+
+#: avidemux/gtk_gui.cpp:2005
+#: avidemux/gtk_gui.cpp:2104
+msgid "External MP3"
+msgstr "Spolja?nji MP3"
+
+#: avidemux/gtk_gui.cpp:2005
+#: avidemux/gtk_gui.cpp:2104
+msgid "Take audio from external MP3 file"
+msgstr "Uzmi audio iz spolja?nje MP3 datoteke"
+
+#: avidemux/gtk_gui.cpp:2006
+#: avidemux/gtk_gui.cpp:2105
+msgid "External Wav"
+msgstr "Spolja?nji WAV"
+
+#: avidemux/gtk_gui.cpp:2006
+#: avidemux/gtk_gui.cpp:2105
+msgid "Take audio from external WAV file"
+msgstr "Uzmi audio iz spolja?nje WAV datoteke"
+
+#: avidemux/gtk_gui.cpp:2010
+#: avidemux/gtk_gui.cpp:2110
+msgid "Audio source"
+msgstr "Izvor audia"
+
+#: avidemux/gtk_gui.cpp:2014
+msgid "External filename"
+msgstr "Spolja?nje ime datoteke"
+
+#: avidemux/gtk_gui.cpp:2045
+#: avidemux/gtk_gui.cpp:2123
+msgid "Cannot load"
+msgstr "Ne mogu da u?itam"
+
+#: avidemux/gtk_gui.cpp:2045
+#: avidemux/gtk_gui.cpp:2123
+msgid "The selected audio file does not exist."
+msgstr "Odabrani audio ne postoji"
+
+#: avidemux/gtk_gui.cpp:2111
+msgid "Filename"
+msgstr "Ime datoteke"
+
+#: avidemux/gtk_gui.cpp:2120
+msgid "Select 2nd audio Track"
+msgstr "Odaberi drugu audio traku"
+
+#: avidemux/gtk_gui.cpp:2152
+msgid "Error loading the MP3 file"
+msgstr "Gre?ka pri u?itavanju MP3 datoteke"
+
+#: avidemux/gtk_gui.cpp:2161
+#: avidemux/gtk_gui.cpp:2183
+#: avidemux/gtk_gui.cpp:2205
+msgid "Second track loaded"
+msgstr "Druga traka u?itana"
+
+#: avidemux/gtk_gui.cpp:2175
+msgid "Error loading the AC3 file"
+msgstr "Gre?ka pri u?itavanju AC3 datoteke"
+
+#: avidemux/gtk_gui.cpp:2197
+msgid "Error loading the WAV file"
+msgstr "Gre?ka pri u?itavanju WAV datoteke"
+
+#: avidemux/gtk_gui.cpp:2264
+msgid "Saving failed"
+msgstr "Gre?ka pri snimanju"
+
+#: avidemux/gtk_gui.cpp:2264
+msgid "Saving the job failed. Maybe you have permission issue with ~/.avidemux"
+msgstr "Snimanje zadatka neuspelo. Mo?da nemate dozvole nad ~/.avidemux"
+
+#: avidemux/gtk_gui.cpp:2276
+#, c-format
+msgid "File %s has been successfully saved."
+msgstr "Datoteka %s je uspe?no sa?uvana."
+
+#: avidemux/gtk_gui.cpp:2280
+#, c-format
+msgid "File %s was NOT saved correctly."
+msgstr "Datoteka %s nije pravilno sa?uvana."
+
+#: avidemux/guiplay.cpp:356
+msgid "Trouble initializing audio device"
+msgstr "Problemi pri pokretanju zvu?ne kartice"
+
+#: avidemux/gui_autodrive.cpp:52
+msgid "No audio track"
+msgstr "Nema audio trake"
+
+#: avidemux/gui_autodrive.cpp:52
+msgid "An audio track is necessary to create such file"
+msgstr "Neophodna je audio traka za pravljenje takve datoteke"
+
+#: avidemux/gui_autodrive.cpp:82
+msgid "Cannot select mpeg4 sp codec."
+msgstr "Me mogu da odaberem mpeg4 sp kodek."
+
+#: avidemux/gui_autodrive.cpp:117
+msgid ""
+"You don't have FAAC!.\n"
+"It is needed to create PSP compatible video."
+msgstr ""
+"Nemate instaliran FAAC! \n"
+"On je potreban za pravljenje PSP videa."
+
+#: avidemux/GUI_jobs.cpp:37
+msgid "Something very wrong happened when buildint joblist"
+msgstr "Ne?to veoma lo?e se desilo prilikom pravljenja liste zadataka"
+
+#: avidemux/GUI_jobs.cpp:42
+msgid "Nothing to do."
+msgstr "Nemam ?t da radim."
+
+#: avidemux/GUI_jobs.cpp:42
+msgid "There is no jobs stored, nothing to do"
+msgstr "Nema sa?uvanih zadataka. Nemam ?ta da radim."
+
+#: avidemux/gui_navigate.cpp:75
+#: avidemux/gui_navigate.cpp:113
+#: avidemux/gui_navigate.cpp:389
+#: avidemux/gui_navigate.cpp:425
+msgid "Decompressing error"
+msgstr "Gre?ka pri raspakovanju"
+
+#: avidemux/gui_navigate.cpp:75
+msgid "Cannot decode next frame."
+msgstr "Ne mogu da dekodiram naredni kadar"
+
+#: avidemux/gui_navigate.cpp:113
+#: avidemux/gui_navigate.cpp:425
+msgid "Cannot decode keyframe."
+msgstr "Ne mogu da dekodiram klju?ni kadar"
+
+#: avidemux/gui_navigate.cpp:236
+msgid "Seeking"
+msgstr "Pretra?ivanje"
+
+#: avidemux/gui_navigate.cpp:389
+msgid "Cannot decode the frame."
+msgstr "Ne mogu da dekodiram kadar"
+
+#: avidemux/gui_savenew.cpp:87
+msgid "Dual audio can only be used in copy mode"
+msgstr "Dve audio trake mogu biti kori??ene samo u modu za kopiranje."
+
+#: avidemux/gui_savenew.cpp:87
+msgid "Select Copy as the video codec."
+msgstr "Odaberi ?bez izmene? kao video kodek."
+
+#: avidemux/gui_savenew.cpp:197
+#: avidemux/gui_savenew.cpp:213
+#: avidemux/gui_savenew.cpp:226
+msgid "Incompatible output format"
+msgstr "Nekompatibilan izlazni format"
+
+#: avidemux/gui_savenew.cpp:244
+msgid "There is no second track"
+msgstr "Ne postoji druga traka"
+
+#: avidemux/gui_savenew.cpp:244
+msgid "Select a second audio track in the Audio menu."
+msgstr "Odaberite drugu audio traku iz ?Audio? menija"
+
+#: avidemux/gui_savenew.cpp:248
+msgid "Select dual audio AVI to write"
+msgstr "Odaberite AVI datoteku sa dva zvu?na kanala za upis "
+
+#: avidemux/gui_savenew.cpp:270
+#: avidemux/gui_savenew.cpp:288
+msgid "This cannot have packed VOP"
+msgstr "Ono ne mo?ete pakovati u VOP"
+
+#: avidemux/gui_savenew.cpp:270
+#: avidemux/gui_savenew.cpp:288
+msgid "It is not MPEG-4 video. File will not be saved."
+msgstr "Ovo nije MPEG-4 video. Datoteka ne?e biti sa?uvana."
+
+#: avidemux/gui_savenew.cpp:334
+msgid ""
+"You may need smart copy.\n"
+" Enable it ?"
+msgstr ""
+"Mo?da je potrebno pametno kopiranje.\n"
+"Da li da omogu?im ?"
+



From mean at mail.berlios.de  Wed May 23 17:00:22 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Wed, 23 May 2007 17:00:22 +0200
Subject: [Avidemux-svn-commit] r3128 - in
	branches/avidemux_2.4_branch/avidemux/ADM_inputs: ADM_mp4
	ADM_mpegdemuxer
Message-ID: <200705231500.l4NF0MYV013029@sheep.berlios.de>

Author: mean
Date: 2007-05-23 17:00:21 +0200 (Wed, 23 May 2007)
New Revision: 3128

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_infoextractor.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probeTS.cpp
Log:
Better decoding of SPS, accept more PMT (free.fr H264 files)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_infoextractor.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_infoextractor.cpp	2007-05-22 17:24:31 UTC (rev 3127)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_infoextractor.cpp	2007-05-23 15:00:21 UTC (rev 3128)
@@ -246,6 +246,36 @@
                  return 0;
 }
 /**
+    \fn unescapeH264
+    \brief Remove escape stuff
+
+*/
+static uint32_t unescapeH264(uint32_t len,uint8_t *in, uint8_t *out)
+{
+  uint32_t outlen=0;
+  uint8_t *tail=in+len;
+    if(len<3) return 0;
+    while(in<tail-3)
+    {
+      if(!in[0]  && !in[1] && in[2]==3)
+      {
+        out[0]=0;
+        out[1]=0;
+        out+=2;
+        outlen+=2;
+        in+=3; 
+      }
+      *out++=*in++;
+      outlen++;
+    }
+    // copy last bytes
+    uint32_t left=tail-in;
+    memcpy(out,in,left);
+    outlen+=left;
+    return outlen;
+    
+}
+/**
     \fn extractSPSInfo
     \brief Extract info from H264 SPS
     See 7.3.2.1 of 14496-10
@@ -254,29 +284,39 @@
 {
    GetBitContext s;
    
-   uint32_t profile,constraint,level,pic_order_cnt_type,w,h;
+   uint32_t profile,constraint,level,pic_order_cnt_type,w,h,z;
+   uint8_t buf[len];
+   uint32_t outlen;
+   uint32_t id,dum;
    
-           init_get_bits( &s,data, len*8);
+           outlen=unescapeH264(len,data,buf);
+           init_get_bits( &s,buf, outlen*8);
             
            profile=get_bits(&s,8);
            constraint=get_bits(&s,8)>>5;
            level=get_bits(&s,8);
-           
-           if(profile>100) // ?? Borrowed from H264.C/FFMPEG
+           id=get_ue_golomb(&s); // Seq parameter set id           
+           printf("[H264]Profile : %u, Level :%u, SPSid:%u\n",profile,level,id);
+           if(profile>=100) // ?? Borrowed from H264.C/FFMPEG
            {
-              printf("Warning : High profile\n");
+              printf("[H264]Warning : High profile\n");
               if(get_ue_golomb(&s) == 3) //chroma_format_idc
                 get_bits1(&s);  //residual_color_transform_flag
             get_ue_golomb(&s);  //bit_depth_luma_minus8
             get_ue_golomb(&s);  //bit_depth_chroma_minus8
             get_bits1(&s);
+            get_bits1(&s); //incomplete FIXME
            }    // /??
            
-           get_ue_golomb(&s); // Seq parameter set id
-           get_ue_golomb(&s); // log2_max_frame_num_minus4
-           if(!(pic_order_cnt_type=get_ue_golomb(&s))) // pic_order_cnt_type
+
+           dum=get_ue_golomb(&s); // log2_max_frame_num_minus4
+           printf("[H264]Log2maxFrame-4:%u\n",dum);
+           pic_order_cnt_type=get_ue_golomb(&s);
+           printf("[H264]Pic Order Cnt Type:%u\n",pic_order_cnt_type);
+           if(!pic_order_cnt_type) // pic_order_cnt_type
            {
-              get_ue_golomb(&s); //log2_max_pic_order_cnt_lsb_minus4
+              dum=get_ue_golomb(&s); //log2_max_pic_order_cnt_lsb_minus4
+              printf("[H264]Log2maxPix-4:%u\n",dum);
            }else
            {
              if(pic_order_cnt_type==1)
@@ -296,12 +336,15 @@
                return 0;
              }
            }
-           get_ue_golomb(&s);     //num_ref_frames
+           dum=get_ue_golomb(&s);     //num_ref_frames
+           printf("[H264] # of ref frames : %u\n",dum);
            get_bits1(&s);         // gaps_in_frame_num_value_allowed_flag
            w=get_ue_golomb(&s);   //pic_width_in_mbs_minus1
            h=get_ue_golomb(&s);   //pic_height_in_mbs_minus1
-           printf("%d\n",w); 
-           printf("%d\n", h); 
+           z=get_ue_golomb(&s); 
+           printf("[H264] Width in mb -1  :%d\n",w); 
+           printf("[H264] Height in mb -1 :%d\n", h);
+           printf("[H264] z               :%d\n", z);  
             *wwidth=(w+1)*16;
             *hheight=(h+1)*16*2; /* Fixme : frame_mbs_only_flag in slice header!! */
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probeTS.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probeTS.cpp	2007-05-22 17:24:31 UTC (rev 3127)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probeTS.cpp	2007-05-23 15:00:21 UTC (rev 3128)
@@ -424,7 +424,7 @@
               
               sectionLength=misc&0xFFF;
               
-              if(sectionLength<=9 || sectionLength >= (left-4-4) || left<9)
+              if(sectionLength<=9 || sectionLength > (left-4) || left<9)
               {
                 printf("SectionLength too short :%d,left %d\n", sectionLength,left);
                  parser->setpos(startPos-1+left); // skip packet



From mean at mail.berlios.de  Wed May 23 20:22:57 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Wed, 23 May 2007 20:22:57 +0200
Subject: [Avidemux-svn-commit] r3129 - in
	branches/avidemux_2.4_branch/avidemux:
	ADM_userInterfaces/ADM_GTK/ADM_dialog ADM_video
Message-ID: <200705231822.l4NIMvjZ011627@sheep.berlios.de>

Author: mean
Date: 2007-05-23 20:22:56 +0200 (Wed, 23 May 2007)
New Revision: 3129

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vobsubinfo.h
Log:
up max language for vobsub to 33 (....)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp	2007-05-23 15:00:21 UTC (rev 3128)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp	2007-05-23 18:22:56 UTC (rev 3129)
@@ -46,7 +46,7 @@
 #include "ADM_video/ADM_vobsubinfo.h"
 #include "ADM_video/ADM_vidVobSub.h"
 
-#define MAX_INDECES 16
+#define MAX_INDECES ADM_MAX_LANGUAGE
 
 static GtkWidget        *create_dialog1 (void);
 static GtkWidget        **fq;
@@ -76,7 +76,7 @@
     gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(buttonSelect), GTK_RESPONSE_APPLY);
     
     
-    fq=new GtkWidget*[20];
+    fq=new GtkWidget*[ADM_MAX_LANGUAGE];
   
         // Upload if any
         if(name)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vobsubinfo.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vobsubinfo.h	2007-05-23 15:00:21 UTC (rev 3128)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vobsubinfo.h	2007-05-23 18:22:56 UTC (rev 3129)
@@ -19,7 +19,7 @@
  ***************************************************************************/
 #ifndef _VOBSUB_INFO_
 #define _VOBSUB_INFO_
-
+#define ADM_MAX_LANGUAGE 33
 typedef struct vobSubLine
 {
         uint32_t        startTime;      /// Starting time in ms
@@ -35,7 +35,7 @@
 typedef struct vobSubLanguage
 {
         uint32_t        nbLanguage; 
-        vobSubOneLang   language[20];  
+        vobSubOneLang   language[ADM_MAX_LANGUAGE];  
 }vobSubLanguage;
 
 typedef struct VobSubInfo



From mean at mail.berlios.de  Wed May 23 20:23:29 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Wed, 23 May 2007 20:23:29 +0200
Subject: [Avidemux-svn-commit] r3130 - branches/avidemux_2.4_branch/avidemux
Message-ID: <200705231823.l4NINT8b011700@sheep.berlios.de>

Author: mean
Date: 2007-05-23 20:23:29 +0200 (Wed, 23 May 2007)
New Revision: 3130

Modified:
   branches/avidemux_2.4_branch/avidemux/main.cpp
Log:
credits

Modified: branches/avidemux_2.4_branch/avidemux/main.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/main.cpp	2007-05-23 18:22:56 UTC (rev 3129)
+++ branches/avidemux_2.4_branch/avidemux/main.cpp	2007-05-23 18:23:29 UTC (rev 3130)
@@ -117,11 +117,14 @@
     printf("\n*******************\n");
     printf("  Avidemux 2, v  " VERSION "\n");
     printf("*******************\n");
-    printf(" http://fixounet.free.fr/avidemux\n");
-    printf(" Code      : Mean & JSC \n");
+    printf(" http://www.avidemux.org\n");
+    printf(" Code      : Mean, JSC, Gruntster \n");
     printf(" GFX       : Nestor Di , nestordi at augcyl.org\n");
-    printf(" Testing   : Jakub Misak\n");
+    printf(" Design    : Jakub Misak\n");
     printf(" FreeBSD   : Anish Mistry, amistry at am-productions.biz\n");
+    printf(" Audio     : Mihail Zenkov\n");
+    printf(" MacOsX    : Kuisathaverat\n");
+    printf(" Win32     : Gruntster\n");
 
 
 #if defined(ARCH_X86_32)



From mean at mail.berlios.de  Thu May 24 09:09:57 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 24 May 2007 09:09:57 +0200
Subject: [Avidemux-svn-commit] r3131 -
	branches/avidemux_2.4_branch/avidemux/ADM_colorspace
Message-ID: <200705240709.l4O79vJK030603@sheep.berlios.de>

Author: mean
Date: 2007-05-24 09:09:56 +0200 (Thu, 24 May 2007)
New Revision: 3131

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_colorspace/ADM_rgb.cpp
Log:
mark eax as used

Modified: branches/avidemux_2.4_branch/avidemux/ADM_colorspace/ADM_rgb.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_colorspace/ADM_rgb.cpp	2007-05-23 18:23:29 UTC (rev 3130)
+++ branches/avidemux_2.4_branch/avidemux/ADM_colorspace/ADM_rgb.cpp	2007-05-24 07:09:56 UTC (rev 3131)
@@ -127,7 +127,10 @@
                         "add            $4,%0 \n"
                         "dec            %1 \n"
                         "jne            1b\n"
-                : : "r" (ptr),"r" (howmuch)
+                :  :"r" (ptr),"r" (howmuch)
+                : "%eax"
+                
+      
                 );
 #else
 uint8_t r,g,b,a;



From mean at mail.berlios.de  Thu May 24 15:06:32 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 24 May 2007 15:06:32 +0200
Subject: [Avidemux-svn-commit] r3132 - in
	branches/avidemux_2.4_branch/avidemux/ADM_inputs: ADM_asf
	ADM_avsproxy ADM_mp4 ADM_mpegdemuxer
Message-ID: <200705241306.l4OD6WZV017928@sheep.berlios.de>

Author: mean
Date: 2007-05-24 15:06:31 +0200 (Thu, 24 May 2007)
New Revision: 3132

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_avsproxy/ADM_avsproxy_internal.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Tree.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_demuxer.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.h
Log:
proper typedef enum

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.h	2007-05-24 07:09:56 UTC (rev 3131)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.h	2007-05-24 13:06:31 UTC (rev 3132)
@@ -37,7 +37,7 @@
   uint32_t audioSeen[ASF_MAX_AUDIO_TRACK];
 };
 
-typedef enum ADM_KNOWN_CHUNK
+typedef enum 
 {
   ADM_CHUNK_HEADER_CHUNK ,
   ADM_CHUNK_FILE_HEADER_CHUNK,
@@ -50,7 +50,7 @@
   ADM_CHUNK_LANGUAGE_LIST_EX,
   ADM_CHUNK_EXTENDED_STREAM_PROP,
   ADM_CHUNK_UNKNOWN_CHUNK
-};
+}ADM_KNOWN_CHUNK;
 typedef struct chunky
 {
   const char *name;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_avsproxy/ADM_avsproxy_internal.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_avsproxy/ADM_avsproxy_internal.h	2007-05-24 07:09:56 UTC (rev 3131)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_avsproxy/ADM_avsproxy_internal.h	2007-05-24 13:06:31 UTC (rev 3132)
@@ -3,14 +3,14 @@
 (c) Mean 2006
 */
 #ifndef AVS_PROXY_INTERNAL_H
-typedef enum AvsEnum
+typedef enum 
 {
     AvsCmd_GetInfo=1,
     AvsCmd_SendInfo,
     AvsCmd_GetFrame,
     AvsCmd_SendFrame,
     AvsCmd_Quit
-};
+}AvsEnum;
 
 typedef struct avsInfo
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-24 07:09:56 UTC (rev 3131)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2007-05-24 13:06:31 UTC (rev 3132)
@@ -45,13 +45,13 @@
 
 uint32_t ADM_UsecFromFps1000(uint32_t fps1000);
 // 14496-1 / 8.2.1
-typedef enum MP4_Tag
+typedef enum 
 {
 	Tag_InitialObjDesc	=0x02,
 	Tag_ES_Desc		=0x03,
 	Tag_DecConfigDesc 	=0x04,
 	Tag_DecSpecificInfo 	=0x05
-};
+}MP4_Tag;
 
 extern char* ms2timedisplay(uint32_t ms);
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Tree.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Tree.h	2007-05-24 07:09:56 UTC (rev 3131)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Tree.h	2007-05-24 13:06:31 UTC (rev 3132)
@@ -17,10 +17,10 @@
 #ifndef ADM_MP4_TREE_H
 #define ADM_MP4_TREE_H
 
-typedef enum ADMAtoms
+typedef enum 
 {
 #include "ADM_mp4Leaf.h"
-};
+}ADMAtoms;
 
 uint8_t ADM_mp4SearchAtomName(uint32_t atom, ADMAtoms *atomId,uint32_t *isContainer);
 uint8_t ADM_mp4SimpleSearchAtom(adm_atom *rootAtom, ADMAtoms atomToFind,adm_atom **atomFound);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_demuxer.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_demuxer.h	2007-05-24 07:09:56 UTC (rev 3131)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_demuxer.h	2007-05-24 13:06:31 UTC (rev 3132)
@@ -23,13 +23,13 @@
 #define ADM_NO_PTS 0xFFFFFFFFFFFFFFFFLL
 #include "dmx_indexer.h"
 
-typedef enum dmx_payloadType
+typedef enum 
 {
   DMX_PAYLOAD_ERROR=0,
   DMX_PAYLOAD_MPEG2=1,
   DMX_PAYLOAD_MPEG4,
   DMX_PAYLOAD_H264
-};
+}dmx_payloadType;
 
 class dmx_demuxer
  {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.h	2007-05-24 07:09:56 UTC (rev 3131)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.h	2007-05-24 13:06:31 UTC (rev 3132)
@@ -18,7 +18,7 @@
  #ifndef DMX_INDX
  #define DMX_INDX
  
-typedef enum ADM_STREAM_TYPE
+typedef enum 
 {
   ADM_STREAM_UNKNOWN=0,
   ADM_STREAM_MPEG_VIDEO, 
@@ -28,7 +28,7 @@
   ADM_STREAM_H264,
   ADM_STREAM_MPEG4,
   ADM_STREAM_AAC
-};
+}ADM_STREAM_TYPE;
 
 typedef struct MPEG_TRACK
 {



From mean at mail.berlios.de  Thu May 24 15:06:58 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 24 May 2007 15:06:58 +0200
Subject: [Avidemux-svn-commit] r3133 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK ADM_GTK/ADM_dialog ADM_GTK/ADM_filters
	ADM_GTK/ADM_toolkit_gtk ADM_QT4/ADM_dialogFactory ADM_commonUI
Message-ID: <200705241306.l4OD6wFh018049@sheep.berlios.de>

Author: mean
Date: 2007-05-24 15:06:57 +0200 (Thu, 24 May 2007)
New Revision: 3133

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_gladeSupport.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/GUI_render.h
Log:
proper typedef enum

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp	2007-05-24 13:06:31 UTC (rev 3132)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp	2007-05-24 13:06:57 UTC (rev 3133)
@@ -25,14 +25,14 @@
 static const char *StringStatus[]={_("Ready"),_("Succeeded"),_("Failed"),_("Deleted"),_("Running")};
 
 
-typedef enum JOB_STATUS
+typedef enum 
 {
         STATUS_READY=0,
         STATUS_SUCCEED,
         STATUS_FAILED,
         STATUS_DELETED,
         STATUS_RUNNING
-};
+}JOB_STATUS;
 
 
 typedef struct ADM_Job_Descriptor

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp	2007-05-24 13:06:31 UTC (rev 3132)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp	2007-05-24 13:06:57 UTC (rev 3133)
@@ -88,11 +88,11 @@
 71:50 (1.4222:1)
 107:100 (1.0666:1)
 */
-typedef enum x264_actions
+typedef enum 
 {
     ACTION_LOAD_DEFAULT=10,
     ACTION_LOAD_INVALID
-};
+}x264_actions;
 uint8_t DIA_x264(COMPRES_PARAMS *config)
 {
   

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp	2007-05-24 13:06:31 UTC (rev 3132)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp	2007-05-24 13:06:57 UTC (rev 3133)
@@ -49,14 +49,14 @@
 
 #define CALL_Z(x,y)  gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(x),XVID4_RESPONSE_##y);
 
-typedef enum XVID4_CODE
+typedef enum 
 {
     XVID4_RESPONSE_MODE_CHANGED,
     XVID4_RESPONSE_EDIT_MATRIX,
     XVID4_RESPONSE_LOAD_MATRIX,
     XVID4_RESPONSE_SAVE_MATRIX,
     XVID4_RESPONSE_LAST,
-};
+}XVID4_CODE;
 uint8_t DIA_xvid4(COMPRES_PARAMS *incoming)
 {
 int b;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp	2007-05-24 13:06:31 UTC (rev 3132)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp	2007-05-24 13:06:57 UTC (rev 3133)
@@ -59,7 +59,7 @@
 						    in);
 
 extern const char  *filterGetNameFromTag(VF_FILTERS tag);
-typedef enum gui_act
+typedef enum 
 {
   A_BEGIN = 10,
   A_ADD,
@@ -79,7 +79,7 @@
   A_SCRIPT,
   A_DOUBLECLICK,
   A_END
-};
+}gui_act;
 //_______________________________________
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp	2007-05-24 13:06:31 UTC (rev 3132)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp	2007-05-24 13:06:57 UTC (rev 3133)
@@ -22,7 +22,7 @@
 #include "ADM_toolkit_gtk/toolkit_gtk.h"
 #include "ADM_filter/vidVCD.h"
 //___________________________________________
-typedef enum gui_act
+typedef enum 
 {
   A_BEGIN = 10,
   A_ADD,
@@ -43,7 +43,7 @@
   A_CLOSE,
   A_DOUBLECLICK,
   A_END
-};
+}gui_act;
 //___________________________________________
 extern AVDMGenericVideoStream *filterCreateFromTag (VF_FILTERS tag,
 						    CONFcouple * conf,

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_gladeSupport.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_gladeSupport.cpp	2007-05-24 13:06:31 UTC (rev 3132)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_gladeSupport.cpp	2007-05-24 13:06:57 UTC (rev 3133)
@@ -61,11 +61,11 @@
 #include "xpm/film23.inc"
 #include "xpm/preview-button.inc"
 
-typedef enum ADM_Icon
+typedef enum 
 {
         A_ICON_XPM,
         A_ICON_PNG
-};
+}ADM_Icon;
 
 typedef struct name2xpm
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp	2007-05-24 13:06:31 UTC (rev 3132)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp	2007-05-24 13:06:57 UTC (rev 3133)
@@ -73,14 +73,14 @@
 #define CONNECT(x,y,z) 	gtk_signal_connect(GTK_OBJECT(WID(x)), #y,GTK_SIGNAL_FUNC(z),   NULL);
 #define SUB_THRESH minThreshold
 
-typedef enum ReplyType
+typedef enum 
 {
         ReplyOk=1,
         ReplyClose=0,
         ReplyCalibrate=2,
         ReplySkip=3,
         ReplySkipAll=4
-};
+}ReplyType;
 
 static uint8_t mergeBitmap(uint8_t *bitin, uint8_t *bitout, uint8_t *maskin,uint32_t w, uint32_t h);
 static ReplyType ocrBitmap(uint8_t *data,uint32_t w,uint32_t h);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp	2007-05-24 13:06:31 UTC (rev 3132)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp	2007-05-24 13:06:57 UTC (rev 3133)
@@ -36,12 +36,12 @@
 void GUI_FileSelRead(const char *label, char * * name);
 #define MAX_SEL 2040
 
-typedef enum ADM_fileMode
+typedef enum 
 {
     ADM_FILEMODE_DIR,
     ADM_FILEMODE_READ,
     ADM_FILEMODE_WRITE
-};
+}ADM_fileMode;
 
 class  ADM_Qfilesel : public QWidget
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-05-24 13:06:31 UTC (rev 3132)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-05-24 13:06:57 UTC (rev 3133)
@@ -18,7 +18,7 @@
 
 #include "ADM_assert.h"
 
-typedef enum elemEnum
+typedef enum 
 {
   ELEM_INVALID=0,
   ELEM_TOGGLE,
@@ -39,7 +39,7 @@
   ELEM_BUTTON,
   ELEM_SLIDER,
   ELEM_MAX=ELEM_TOGGLE
-};
+}elemEnum;
 typedef void ADM_FAC_CALLBACK(void *cookie);
 /*********************************************/
 class diaElem

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.h	2007-05-24 13:06:31 UTC (rev 3132)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.h	2007-05-24 13:06:57 UTC (rev 3133)
@@ -20,7 +20,7 @@
 #ifndef DIA_RES_WIZ_H
 #define DIA_RES_WIZ_H
 
-typedef enum RESWIZ_FORMAT
+typedef enum 
 {
         RESWIZ_VCD,
         RESWIZ_SVCD,
@@ -30,14 +30,14 @@
         RESWIZ_PSP_FULLRES,
         
         
-};
+}RESWIZ_FORMAT;
 
-typedef enum RESWIZ_AR
+typedef enum 
 {
         RESWIZ_AR_1_1,
         RESWIZ_AR_4_3,
         RESWIZ_AR_16_9
-};
+}RESWIZ_AR;
 
 uint8_t DIA_resizeWiz(RESWIZ_FORMAT *format, RESWIZ_AR *source, RESWIZ_AR *destination);
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/GUI_render.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/GUI_render.h	2007-05-24 13:06:31 UTC (rev 3132)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/GUI_render.h	2007-05-24 13:06:57 UTC (rev 3133)
@@ -27,16 +27,16 @@
   
 }GUI_WindowInfo;
 
-typedef enum ADM_PREVIEW_MODE
+typedef enum 
 {
     ADM_PREVIEW_NONE, 
     ADM_PREVIEW_OUTPUT,
     ADM_PREVIEW_SIDE,
     ADM_PREVIEW_TOP,
     ADM_PREVIEW_SEPARATE
-};
+}ADM_PREVIEW_MODE;
 
-typedef enum renderZoom
+typedef enum 
 {
         ZOOM_1_4,
         ZOOM_1_2,
@@ -44,7 +44,7 @@
         ZOOM_2,
         ZOOM_4,
         ZOOM_INVALID
-};
+}renderZoom;
 
 
 ADM_PREVIEW_MODE getPreviewMode(void);
@@ -87,7 +87,7 @@
 void UI_updateDrawWindowSize(void *win,uint32_t w,uint32_t h);
 void UI_getWindowInfo(void *draw, GUI_WindowInfo *xinfo);
 
-typedef enum ADM_RENDER_TYPE
+typedef enum 
 {
         RENDER_GTK=0,
 #ifdef USE_XV
@@ -99,6 +99,6 @@
         RENDER_LAST       
 
 
-};
+}ADM_RENDER_TYPE;
 
 #endif



From mean at mail.berlios.de  Thu May 24 15:07:20 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 24 May 2007 15:07:20 +0200
Subject: [Avidemux-svn-commit] r3134 -
	branches/avidemux_2.4_branch/avidemux/ADM_audiofilter
Message-ID: <200705241307.l4OD7Ke6018215@sheep.berlios.de>

Author: mean
Date: 2007-05-24 15:07:20 +0200 (Thu, 24 May 2007)
New Revision: 3134

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_lame_param.h
   branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_vorbis_param.h
   branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioeng_buildfilters.h
   branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_channel_route.h
   branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_normalize_param.h
Log:
proper typedef enum

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_lame_param.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_lame_param.h	2007-05-24 13:06:57 UTC (rev 3133)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_lame_param.h	2007-05-24 13:07:20 UTC (rev 3134)
@@ -1,12 +1,12 @@
 #ifndef AUDM_LAME_PARAM_H
 #define AUDM_LAME_PARAM_H
 
-typedef enum ADM_LAME_PRESET
+typedef enum 
 {
   ADM_LAME_PRESET_CBR,
   ADM_LAME_PRESET_ABR,
   ADM_LAME_PRESET_EXTREME
-};
+}ADM_LAME_PRESET;
 
 typedef struct ADM_PRESET_DEFINITION
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_vorbis_param.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_vorbis_param.h	2007-05-24 13:06:57 UTC (rev 3133)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_vorbis_param.h	2007-05-24 13:07:20 UTC (rev 3134)
@@ -1,13 +1,13 @@
 #ifndef AUDM_VORBIS_PARAM_H
 #define AUDM_VORBIS_PARAM_H
 
-typedef enum ADM_VORBIS_MODE
+typedef enum 
 {
   ADM_VORBIS_CBR,
   ADM_VORBIS_VBR,
   ADM_VORBIS_QUALITY
   
-};
+}ADM_VORBIS_MODE;
 
 typedef struct VORBIS_encoderParam
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioeng_buildfilters.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioeng_buildfilters.h	2007-05-24 13:06:57 UTC (rev 3133)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioeng_buildfilters.h	2007-05-24 13:07:20 UTC (rev 3134)
@@ -35,7 +35,7 @@
 void audioCodecConfigure( void );
 void audioCodecSelect( void );
 
-typedef enum AUDIOENCODER
+typedef enum 
 {
 	AUDIOENC_NONE,
 	AUDIOENC_MP3,
@@ -52,14 +52,14 @@
 	AUDIOENC_DUMMY
 }AUDIOENCODER;
 
-typedef enum RESAMPLING
+typedef enum 
 {
 	RESAMPLING_NONE=0,
 	RESAMPLING_CUSTOM=1,
 	RESAMPLING_LAST
 }RESAMPLING;
 
-typedef enum FILMCONV
+typedef enum 
 {
 	FILMCONV_NONE=0,
 	FILMCONV_FILM2PAL=1,

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_channel_route.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_channel_route.h	2007-05-24 13:06:57 UTC (rev 3133)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_channel_route.h	2007-05-24 13:07:20 UTC (rev 3134)
@@ -14,7 +14,7 @@
 
 #define MAX_CHANNELS 9
 
-typedef enum CHANNEL_TYPE
+typedef enum 
 {
 	CH_INVALID=0,
 	CH_MONO,
@@ -27,7 +27,7 @@
 	CH_SIDE_LEFT,
 	CH_SIDE_RIGHT,
 	CH_LFE
-};
+}CHANNEL_TYPE;
 
 class ChannelRoute
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_normalize_param.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_normalize_param.h	2007-05-24 13:06:57 UTC (rev 3133)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_normalize_param.h	2007-05-24 13:07:20 UTC (rev 3134)
@@ -11,18 +11,18 @@
 #ifndef GAIN_PARAM_H
 #define GAIN_PARAM_H
 
-typedef enum ADM_GAINMode
+typedef enum 
 {
   ADM_NO_GAIN,
   ADM_GAIN_AUTOMATIC,
   ADM_GAIN_MANUAL
   
-};
+}ADM_GAINMode;
 
 typedef struct GAINparam
 {
   ADM_GAINMode mode;
   int32_t gain10;
-};
+}GAINparam;
 
 #endif



From mean at mail.berlios.de  Thu May 24 15:08:01 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 24 May 2007 15:08:01 +0200
Subject: [Avidemux-svn-commit] r3135 - in
	branches/avidemux_2.4_branch/avidemux: ADM_encoder ADM_video
Message-ID: <200705241308.l4OD81MU018402@sheep.berlios.de>

Author: mean
Date: 2007-05-24 15:08:01 +0200 (Thu, 24 May 2007)
New Revision: 3135

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/ADM_vidEncode.hxx
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmpeg2enc.h
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidSRT.h
Log:
proper typedef enum

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/ADM_vidEncode.hxx
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/ADM_vidEncode.hxx	2007-05-24 13:07:20 UTC (rev 3134)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/ADM_vidEncode.hxx	2007-05-24 13:08:01 UTC (rev 3135)
@@ -17,7 +17,7 @@
 #ifndef ADM_VIDENCODE
 #define ADM_VIDENCODE
 
-typedef enum SelectCodecType
+typedef enum 
 {
   CodecCopy,
   CodecDivx,
@@ -45,7 +45,7 @@
   CodecRequant,
   CodecDV,
   CodecDummy
-};
+}SelectCodecType;
 
 typedef enum
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmpeg2enc.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmpeg2enc.h	2007-05-24 13:07:20 UTC (rev 3134)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmpeg2enc.h	2007-05-24 13:08:01 UTC (rev 3135)
@@ -16,13 +16,13 @@
 #define ENC_MPEG2ENC_H
 #include "ADM_libmpeg2enc/ADM_mpeg2Param.h"
 #include "ADM_libmpeg2enc/ADM_mpeg2enc.h"
-typedef enum MPEG2ENC_ID
+typedef enum 
 {
   MPEG2ENC_INVALID=0,
   MPEG2ENC_VCD=1,
   MPEG2ENC_SVCD=2,
   MPEG2ENC_DVD=3
-};
+}MPEG2ENC_ID;
 
 class EncoderMpeg2enc:public Encoder
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidSRT.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidSRT.h	2007-05-24 13:07:20 UTC (rev 3134)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidSRT.h	2007-05-24 13:08:01 UTC (rev 3135)
@@ -38,12 +38,12 @@
 	
 }subLine;
 
-typedef enum BlendMode
+typedef enum 
 {
         BLEND_SOLID=1,
         BLEND_DOTTED,
         BLEND_DIMMER
-};
+}BlendMode;
 
 typedef struct SUBCONF
 {



From mean at mail.berlios.de  Thu May 24 15:37:44 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 24 May 2007 15:37:44 +0200
Subject: [Avidemux-svn-commit] r3136 - in
	branches/avidemux_2.4_branch/avidemux: ADM_inputs/ADM_asf
	ADM_inputs/ADM_mpegdemuxer ADM_video
Message-ID: <200705241337.l4ODbivm022925@sheep.berlios.de>

Author: mean
Date: 2007-05-24 15:37:44 +0200 (Thu, 24 May 2007)
New Revision: 3136

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_io.h
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidContrast.h
Log:
proper typedef enum

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.h	2007-05-24 13:08:01 UTC (rev 3135)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.h	2007-05-24 13:37:44 UTC (rev 3136)
@@ -28,14 +28,14 @@
 
 #define ASF_MAX_AUDIO_TRACK 8
 
-typedef struct asfIndex
+typedef struct 
 {
   uint32_t packetNb;
   uint32_t frameLen;
   uint32_t segNb;
   uint32_t flags;
   uint32_t audioSeen[ASF_MAX_AUDIO_TRACK];
-};
+}asfIndex;
 
 typedef enum 
 {
@@ -51,13 +51,13 @@
   ADM_CHUNK_EXTENDED_STREAM_PROP,
   ADM_CHUNK_UNKNOWN_CHUNK
 }ADM_KNOWN_CHUNK;
-typedef struct chunky
+typedef struct 
 {
   const char *name;
   uint32_t len;
   uint8_t val[16];
   ADM_KNOWN_CHUNK id; 
-};
+}chunky;
 class asfChunk
 {
   protected:

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_io.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_io.h	2007-05-24 13:08:01 UTC (rev 3135)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_io.h	2007-05-24 13:37:44 UTC (rev 3136)
@@ -25,12 +25,12 @@
 
 
 */
-typedef enum FP_TYPE
+typedef enum 
 {
         FP_PROBE=1,
         FP_DONT_APPEND=2,
         FP_APPEND=3
-};
+}FP_TYPE;
 
  class fileParser
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidContrast.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidContrast.h	2007-05-24 13:08:01 UTC (rev 3135)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidContrast.h	2007-05-24 13:37:44 UTC (rev 3136)
@@ -17,7 +17,7 @@
 #ifndef _CONTRAST_
 #define _CONTRAST_
 
-typedef struct CONTRAST_PARAM
+typedef struct 
 {
 		float 	coef;
 		int32_t  offset;
@@ -26,7 +26,7 @@
 		uint32_t	doChromaV;
 		
 	
-	};
+	}CONTRAST_PARAM;
 	
   uint8_t buildContrastTable( float coef,int8_t off,	
   								uint8_t *tableFlat,uint8_t *tableNZ);



From mean at mail.berlios.de  Thu May 24 16:07:42 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 24 May 2007 16:07:42 +0200
Subject: [Avidemux-svn-commit] r3137 - in
	branches/avidemux_2.4_branch/avidemux: ADM_audiocodec
	ADM_audiodevice ADM_audiofilter ADM_inputs/ADM_asf
	ADM_inputs/ADM_inpics ADM_inputs/ADM_matroska
	ADM_inputs/ADM_mpegdemuxer ADM_inputs/ADM_openDML
	ADM_libraries/ADM_mplex ADM_osSupport ADM_toolkit
	ADM_userInterfaces/ADM_commonUI
Message-ID: <200705241407.l4OE7go5026310@sheep.berlios.de>

Author: mean
Date: 2007-05-24 16:07:40 +0200 (Thu, 24 May 2007)
New Revision: 3137

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_vorbis.h
   branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/audio_out.h
   branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_faac_param.h
   branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_lame_param.h
   branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_twolame_param.h
   branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_vorbis_param.h
   branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_limiter_param.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asfPacket.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/ADM_pics.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvTrackType.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/mkv_tags.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_audio.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_odml_odml.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/ADM_mthread.h
   branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_queue.h
   branches/avidemux_2.4_branch/avidemux/ADM_toolkit/ADM_audioQueue.h
   branches/avidemux_2.4_branch/avidemux/ADM_toolkit/ADM_packetQueue.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_encoding.h
Log:
proper typedef enum

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_vorbis.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_vorbis.h	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/ADM_vorbis.h	2007-05-24 14:07:40 UTC (rev 3137)
@@ -1,6 +1,6 @@
 
 
-typedef struct oggVorbis
+typedef struct 
 {
 
  ogg_sync_state    osync;  // sync and verify incoming physical bitstream
@@ -13,4 +13,4 @@
  vorbis_block      vblock;  // local working space for packet->PCM decode
  float		   ampscale;
 
- };
+ }oggVorbis;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/audio_out.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/audio_out.h	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/audio_out.h	2007-05-24 14:07:40 UTC (rev 3137)
@@ -31,11 +31,11 @@
     DEVICE_ESD
 }AUDIO_DEVICE;
 
-typedef struct DEVICELIST
+typedef struct 
 {
 	AUDIO_DEVICE id;
 	char	     *name;
-};
+}DEVICELIST;
 #define MKADID(x) {DEVICE_##x,#x}
 static const DEVICELIST audioDeviceList[]=
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_faac_param.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_faac_param.h	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_faac_param.h	2007-05-24 14:07:40 UTC (rev 3137)
@@ -1,8 +1,8 @@
 
 #ifndef FAAC_PARAM_H
 #define FAAC_PARAM_H
-typedef struct FAAC_encoderParam
+typedef struct 
 {
   uint32_t dummy;
-};
+}FAAC_encoderParam;
 #endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_lame_param.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_lame_param.h	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_lame_param.h	2007-05-24 14:07:40 UTC (rev 3137)
@@ -8,7 +8,7 @@
   ADM_LAME_PRESET_EXTREME
 }ADM_LAME_PRESET;
 
-typedef struct ADM_PRESET_DEFINITION
+typedef struct 
 {
   ADM_LAME_PRESET preset;
   const char	*name;
@@ -20,11 +20,11 @@
   {ADM_LAME_PRESET_EXTREME,"Extreme"}
 };    
 
-typedef struct LAME_encoderParam
+typedef struct 
 {
   ADM_LAME_PRESET preset;
   ADM_mode        mode;
   uint32_t        quality;
-};
+}LAME_encoderParam;
 
 #endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_twolame_param.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_twolame_param.h	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_twolame_param.h	2007-05-24 14:07:40 UTC (rev 3137)
@@ -2,9 +2,9 @@
 #define AUDM_TWOLAME_PARAM_H
 
 
-typedef struct TWOLAME_encoderParam
+typedef struct 
 {
   ADM_mode        mode;
-};
+}TWOLAME_encoderParam;
 
 #endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_vorbis_param.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_vorbis_param.h	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_vorbis_param.h	2007-05-24 14:07:40 UTC (rev 3137)
@@ -9,9 +9,9 @@
   
 }ADM_VORBIS_MODE;
 
-typedef struct VORBIS_encoderParam
+typedef struct 
 {
   ADM_VORBIS_MODE    mode;   // 0 cbr 1 vbr 2 quality
   float              quality;
-};
+}VORBIS_encoderParam;
 #endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_limiter_param.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_limiter_param.h	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_limiter_param.h	2007-05-24 14:07:40 UTC (rev 3137)
@@ -11,7 +11,7 @@
 #ifndef LIMITER_PARAM_H
 #define LIMITER_PARAM_H
 #define DRC_WINDOW 100
-typedef struct DRCparam
+typedef struct 
 {
   uint32_t mUseGain;
   double   mFloor;
@@ -20,6 +20,6 @@
   double   mRatio;
   double   mThresholdDB;
    // double   mGainDB;  
-};
+}DRCparam;
 
 #endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.h	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asf.h	2007-05-24 14:07:40 UTC (rev 3137)
@@ -84,7 +84,7 @@
   uint8_t   skip(uint32_t skip);
 };
 
-typedef struct asfAudioTrak
+typedef struct 
 {
   uint32_t     streamIndex;
   uint32_t     extraDataLen;
@@ -93,7 +93,7 @@
   uint32_t     length;
   WAVHeader    wavHeader;
   
-};
+}asfAudioTrak;
 
 class asfAudio : public AVDMGenericAudioStream
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asfPacket.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asfPacket.h	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/ADM_asfPacket.h	2007-05-24 14:07:40 UTC (rev 3137)
@@ -19,7 +19,7 @@
 
 #include "ADM_osSupport/ADM_queue.h"
 
-typedef struct asfBit
+typedef struct 
 {
   uint32_t sequence;
   uint32_t offset;
@@ -28,7 +28,7 @@
   uint32_t packet;
   uint32_t flags;
   uint8_t  *data;
-};
+}asfBit;
 
 class asfPacket
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/ADM_pics.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/ADM_pics.h	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/ADM_pics.h	2007-05-24 14:07:40 UTC (rev 3137)
@@ -25,7 +25,7 @@
 #include "ADM_editor/ADM_Video.h"
 #include "ADM_audio/aviaudio.hxx"
 
-typedef enum
+enum
 {
 	PIC_BMP=1,
 	PIC_JPEG=2,

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.h	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkv.h	2007-05-24 14:07:40 UTC (rev 3137)
@@ -25,15 +25,15 @@
 #include "ADM_inputs/ADM_matroska/ADM_ebml.h"
 
 
-typedef struct mkvIndex
+typedef struct 
 {
     uint64_t pos;
     uint32_t size;
     uint32_t flags;
     uint32_t timeCode;  // In fact it is delta between DTS and PTS for audio...
-};
+}mkvIndex;
 //**********************************************
-typedef struct mkvTrak
+typedef struct 
 {
   /* Index in mkv */
   uint32_t  streamIndex;
@@ -50,7 +50,7 @@
   uint32_t  _indexMax; // Max size of the index
   uint32_t  _sizeInBytes; // Approximate size in bytes of that stream
   uint32_t  _defaultFrameDuration; // in us!
-};
+}mkvTrak;
 
 #define MKV_MAX_LACES 20 // ?
 //**********************************************

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvTrackType.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvTrackType.cpp	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/ADM_mkvTrackType.cpp	2007-05-24 14:07:40 UTC (rev 3137)
@@ -31,13 +31,13 @@
 
 #include "mkv_tags.h"
 
-typedef struct MKVCC
+typedef struct 
 {
     const char *name;
     uint32_t isVideo;
     uint32_t audioCC;
     const char *videoCC;
-};
+}MKVCC;
 
 MKVCC mkvCC[]=
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/mkv_tags.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/mkv_tags.h	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/mkv_tags.h	2007-05-24 14:07:40 UTC (rev 3137)
@@ -23,7 +23,7 @@
 #define ADM_MKV_TAGS
 
 
-typedef enum ADM_MKV_TYPE
+typedef enum 
 {
     ADM_MKV_TYPE_UNKNOWN,
     ADM_MKV_TYPE_CONTAINER,
@@ -34,18 +34,18 @@
     ADM_MKV_TYPE_UINTEGER,
     ADM_MKV_TYPE_INTEGER,
     ADM_MKV_TYPE_BINARY
-};
+}ADM_MKV_TYPE;
 
-typedef enum ADM_MKV_SEARCHTYPE
+typedef enum 
 {
   ADM_MKV_PRIMARY, 
   ADM_MKV_SECONDARY
-};
+}ADM_MKV_SEARCHTYPE;
 
-typedef enum MKV_ELEM_ID
+typedef enum 
 {
 #include "mkv_tagenum.h"
-};
+}MKV_ELEM_ID;
 
 
 uint8_t ADM_searchMkvTag(MKV_ELEM_ID tag,const char **asString,ADM_MKV_TYPE *type);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_audio.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_audio.h	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_audio.h	2007-05-24 14:07:40 UTC (rev 3137)
@@ -25,12 +25,12 @@
 
 #define DMX_MAX_TRACK 16
 
- typedef struct dmxAudioIndex
+ typedef struct 
  {
                 uint32_t img;                      // Corresponding image
                 uint64_t start;                    // Start of packet
                 uint64_t count[DMX_MAX_TRACK];         // Size of audio seen
-};
+}dmxAudioIndex;
 class dmxAudioTrack
 {
 public:

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_odml_odml.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_odml_odml.cpp	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_odml_odml.cpp	2007-05-24 14:07:40 UTC (rev 3137)
@@ -55,13 +55,13 @@
 	uint32_t	nbEntryInUse;
 	uint32_t	chunkId;
 	uint32_t	reserver[3];
-}PPACKED;
+} OPENDML_INDEX PPACKED;
 typedef struct OPENDML_ENTRY
 {
 	uint64_t 	offset;
 	uint32_t	size;
 	uint32_t	duration;
-}PPACKED;
+}OPENDML_ENTRY PPACKED;
 
 typedef struct OPENML_SECONDARY_INDEX
 {
@@ -72,7 +72,7 @@
 	uint32_t	chunkId;
 	uint64_t	base;
 	uint32_t	reserver;
-}PPACKED;
+}OPENML_SECONDARY_INDEX PPACKED;
 
 
  static int readMasterIndex(OPENDML_INDEX *index,FILE *fd);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/ADM_mthread.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/ADM_mthread.h	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/ADM_mthread.h	2007-05-24 14:07:40 UTC (rev 3137)
@@ -23,7 +23,7 @@
 #include "ADM_osSupport/ADM_threads.h"
 extern admMutex accessMutex;
 
-typedef struct muxerMT
+typedef struct 
 {
   Encoder                   *videoEncoder;
   AVDMGenericAudioStream    *audioEncoder;
@@ -40,7 +40,7 @@
   uint32_t                  audioAbort;
   uint32_t                  videoAbort;
   void                      *opaque;
-};
+}muxerMT;
 
 extern int defaultAudioSlave( muxerMT *context );
 extern int defaultVideoSlave( muxerMT *context );

Modified: branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_queue.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_queue.h	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_queue.h	2007-05-24 14:07:40 UTC (rev 3137)
@@ -19,7 +19,7 @@
 {
   queueElem   *next;
   void        *data;
-};
+}queueElem;
 
 class ADM_queue
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_toolkit/ADM_audioQueue.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_toolkit/ADM_audioQueue.h	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_toolkit/ADM_audioQueue.h	2007-05-24 14:07:40 UTC (rev 3137)
@@ -13,7 +13,7 @@
 #include "ADM_toolkit/ADM_packetQueue.h"
 extern admMutex accessMutex;
 
-typedef struct audioQueueMT
+typedef struct 
 {
   PacketQueue               *packetQueue;
   AVDMGenericAudioStream    *audioEncoder;
@@ -22,7 +22,7 @@
   uint32_t                  feedAudio;
   volatile uint32_t         audioAbort;
   void                      *opaque;
-};
+}audioQueueMT;
 
 extern int defaultAudioQueueSlave( audioQueueMT *context );
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_toolkit/ADM_packetQueue.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_toolkit/ADM_packetQueue.h	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_toolkit/ADM_packetQueue.h	2007-05-24 14:07:40 UTC (rev 3137)
@@ -15,12 +15,12 @@
 #ifndef ADM_PACKET_QUEUE_H
 #define ADM_PACKET_QUEUE_H
 #include "ADM_osSupport/ADM_threads.h"
-typedef struct  Slots
+typedef struct  
 {
   uint32_t      size;       //< Size of the packet
   uint32_t      sample;
   uint32_t      startAt;    //< Index in the buffer where the packet start
-};
+}Slots;
 /*!
   This class defines an packetQueue. The big buffer is split into slots
   (dynamically allocated).

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_encoding.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_encoding.h	2007-05-24 13:37:44 UTC (rev 3136)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_encoding.h	2007-05-24 14:07:40 UTC (rev 3137)
@@ -8,11 +8,11 @@
 #include "ADM_tray.h"
 #define MAX_BR_SLOT 200
 
-typedef struct encodingSlice
+typedef struct 
 {
   uint32_t size;
   uint32_t quant;
-};
+}encodingSlice;
 
 class DIA_encoding
 {



From mean at mail.berlios.de  Thu May 24 16:08:50 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 24 May 2007 16:08:50 +0200
Subject: [Avidemux-svn-commit] r3138 -
	branches/avidemux_2.4_branch/avidemux/ADM_videoFilter
Message-ID: <200705241408.l4OE8oEK026390@sheep.berlios.de>

Author: mean
Date: 2007-05-24 16:08:49 +0200 (Thu, 24 May 2007)
New Revision: 3138

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_lavpp_deintparam.h
Log:
proper typedef enum

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_lavpp_deintparam.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_lavpp_deintparam.h	2007-05-24 14:07:40 UTC (rev 3137)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_lavpp_deintparam.h	2007-05-24 14:08:49 UTC (rev 3138)
@@ -9,7 +9,7 @@
 // Copyright: See COPYING file that comes with this distribution
 //
 //
-typedef enum 
+enum 
 {
   PP_BM_NONE           =0x0000,
   PP_BM_LINEAR_BLEND   =0x0001, 
@@ -19,7 +19,7 @@
   PP_BM_FFMPEG_DEINT   =0x0005,  
 };
 
-typedef struct lavc_pp_param
+typedef struct 
 {
   uint32_t      deintType;
   uint32_t       autolevel;



From mean at mail.berlios.de  Thu May 24 16:10:25 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 24 May 2007 16:10:25 +0200
Subject: [Avidemux-svn-commit] r3139 -
	branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML
Message-ID: <200705241410.l4OEAP1q026560@sheep.berlios.de>

Author: mean
Date: 2007-05-24 16:10:25 +0200 (Thu, 24 May 2007)
New Revision: 3139

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_odml_odml.cpp
Log:
proper typedef enum

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_odml_odml.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_odml_odml.cpp	2007-05-24 14:08:49 UTC (rev 3138)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_odml_odml.cpp	2007-05-24 14:10:25 UTC (rev 3139)
@@ -45,7 +45,7 @@
 	#define PPACKED 
 #endif
 
-typedef struct OPENDML_INDEX
+struct OPENDML_INDEX
 {
 	//uint32_t	fcc;
 	//uint32_t 	cb: // ?
@@ -55,15 +55,18 @@
 	uint32_t	nbEntryInUse;
 	uint32_t	chunkId;
 	uint32_t	reserver[3];
-} OPENDML_INDEX PPACKED;
-typedef struct OPENDML_ENTRY
+}  PPACKED;
+typedef struct OPENDML_INDEX;
+
+struct OPENDML_ENTRY
 {
 	uint64_t 	offset;
 	uint32_t	size;
 	uint32_t	duration;
-}OPENDML_ENTRY PPACKED;
-
-typedef struct OPENML_SECONDARY_INDEX
+} PPACKED;
+typedef struct OPENDML_ENTRY;
+    
+struct OPENML_SECONDARY_INDEX
 {
 	uint16_t 	longsPerEntry;
 	uint8_t		indexSubType;
@@ -72,9 +75,9 @@
 	uint32_t	chunkId;
 	uint64_t	base;
 	uint32_t	reserver;
-}OPENML_SECONDARY_INDEX PPACKED;
+} PPACKED;
+typedef struct OPENML_SECONDARY_INDEX;
 
-
  static int readMasterIndex(OPENDML_INDEX *index,FILE *fd);
  static int readSuperEntries(OPENDML_ENTRY *entries,int count,FILE *fd);
  static int readSecondary(OPENML_SECONDARY_INDEX *index,FILE *fd);



From mean at mail.berlios.de  Thu May 24 21:09:16 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Thu, 24 May 2007 21:09:16 +0200
Subject: [Avidemux-svn-commit] r3140 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2
Message-ID: <200705241909.l4OJ9GVk000131@sheep.berlios.de>

Author: mean
Date: 2007-05-24 21:09:15 +0200 (Thu, 24 May 2007)
New Revision: 3140

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp
Log:
jm s cleanup 2nd try

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp	2007-05-24 14:10:25 UTC (rev 3139)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp	2007-05-24 19:09:15 UTC (rev 3140)
@@ -36,11 +36,11 @@
   GtkWidget *menuitem1;
   GtkWidget *menuitem1_menu;
   GtkWidget *open_video1;
-  GtkWidget *image8096;
+  GtkWidget *image8196;
   GtkWidget *append_video1;
-  GtkWidget *image8097;
+  GtkWidget *image8197;
   GtkWidget *save_stuff;
-  GtkWidget *image8098;
+  GtkWidget *image8198;
   GtkWidget *save_stuff_menu;
   GtkWidget *save_as_avi1;
   GtkWidget *separator1;
@@ -50,41 +50,41 @@
   GtkWidget *close1;
   GtkWidget *separator3;
   GtkWidget *save_project1;
-  GtkWidget *image8099;
+  GtkWidget *image8199;
   GtkWidget *save_project_as1;
-  GtkWidget *image8100;
+  GtkWidget *image8200;
   GtkWidget *run_script1;
-  GtkWidget *image8101;
+  GtkWidget *image8201;
   GtkWidget *add_to_joblist1;
   GtkWidget *joblist1;
   GtkWidget *separator16;
   GtkWidget *connect_to_avsproxy1;
   GtkWidget *separator18;
   GtkWidget *video_informations1;
-  GtkWidget *image8102;
+  GtkWidget *image8202;
   GtkWidget *avi_muxer_options1;
   GtkWidget *separator4;
   GtkWidget *quit1;
-  GtkWidget *image8103;
+  GtkWidget *image8203;
   GtkWidget *menuitem2;
   GtkWidget *menuitem2_menu;
   GtkWidget *reset_edits1;
-  GtkWidget *image8104;
+  GtkWidget *image8204;
   GtkWidget *separator5;
   GtkWidget *cut1;
-  GtkWidget *image8105;
+  GtkWidget *image8205;
   GtkWidget *copy1;
-  GtkWidget *image8106;
+  GtkWidget *image8206;
   GtkWidget *paste1;
-  GtkWidget *image8107;
+  GtkWidget *image8207;
   GtkWidget *delete1;
-  GtkWidget *image8108;
+  GtkWidget *image8208;
   GtkWidget *separator6;
   GtkWidget *set_marker_a1;
   GtkWidget *set_marker_b1;
   GtkWidget *separator7;
   GtkWidget *preferences1;
-  GtkWidget *image8109;
+  GtkWidget *image8209;
   GtkWidget *view1;
   GtkWidget *view1_menu;
   GtkWidget *toolbar1;
@@ -113,13 +113,13 @@
   GtkWidget *build_vbr_time_map1;
   GtkWidget *separator11;
   GtkWidget *save_audio1;
-  GtkWidget *image8110;
+  GtkWidget *image8210;
   GtkWidget *audio_encoder1;
   GtkWidget *filters2;
   GtkWidget *tools1;
   GtkWidget *tools1_menu;
   GtkWidget *calculator1;
-  GtkWidget *image8111;
+  GtkWidget *image8211;
   GtkWidget *separator12;
   GtkWidget *rebuild_frames;
   GtkWidget *check_frames;
@@ -140,35 +140,35 @@
   GtkWidget *go1;
   GtkWidget *go1_menu;
   GtkWidget *play_video1;
-  GtkWidget *image8112;
+  GtkWidget *image8212;
   GtkWidget *previous_frame1;
-  GtkWidget *image8113;
+  GtkWidget *image8213;
   GtkWidget *next_frame1;
-  GtkWidget *image8114;
+  GtkWidget *image8214;
   GtkWidget *previous_intra_frame1;
-  GtkWidget *image8115;
+  GtkWidget *image8215;
   GtkWidget *next_intra_frame1;
-  GtkWidget *image8116;
+  GtkWidget *image8216;
   GtkWidget *search_previous_black_frame1;
   GtkWidget *search_next_black_frame1;
   GtkWidget *first_frame1;
-  GtkWidget *image8117;
+  GtkWidget *image8217;
   GtkWidget *last_frame1;
-  GtkWidget *image8118;
+  GtkWidget *image8218;
   GtkWidget *separator14;
   GtkWidget *go_to_marker_a1;
   GtkWidget *go_to_marker_b1;
   GtkWidget *separator15;
   GtkWidget *jum_to_frame1;
-  GtkWidget *image8119;
+  GtkWidget *image8219;
   GtkWidget *jump_to_time1;
-  GtkWidget *image8120;
+  GtkWidget *image8220;
   GtkWidget *custom1;
   GtkWidget *help2;
   GtkWidget *help2_menu;
+  GtkWidget *show_builtin_support1;
   GtkWidget *about1;
-  GtkWidget *image8121;
-  GtkWidget *show_builtin_support1;
+  GtkWidget *image8221;
   GtkWidget *toolbar2;
   GtkIconSize tmp_toolbar_icon_size;
   GtkWidget *menutoolbuttonOpen;
@@ -294,9 +294,9 @@
                               GDK_O, (GdkModifierType)( GDK_CONTROL_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8096 = gtk_image_new_from_stock ("gtk-open", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8096);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (open_video1), image8096);
+  image8196 = gtk_image_new_from_stock ("gtk-open", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8196);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (open_video1), image8196);
 
   append_video1 = gtk_image_menu_item_new_with_mnemonic (_("_Append..."));
   gtk_widget_show (append_video1);
@@ -305,17 +305,17 @@
                               GDK_A, (GdkModifierType)( GDK_CONTROL_MASK | GDK_MOD1_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8097 = gtk_image_new_from_stock ("gtk-add", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8097);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (append_video1), image8097);
+  image8197 = gtk_image_new_from_stock ("gtk-add", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8197);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (append_video1), image8197);
 
   save_stuff = gtk_image_menu_item_new_with_mnemonic (_("_Save"));
   gtk_widget_show (save_stuff);
   gtk_container_add (GTK_CONTAINER (menuitem1_menu), save_stuff);
 
-  image8098 = gtk_image_new_from_stock ("gtk-save", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8098);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (save_stuff), image8098);
+  image8198 = gtk_image_new_from_stock ("gtk-save", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8198);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (save_stuff), image8198);
 
   save_stuff_menu = gtk_menu_new ();
   gtk_menu_item_set_submenu (GTK_MENU_ITEM (save_stuff), save_stuff_menu);
@@ -340,7 +340,7 @@
   gtk_widget_show (save_jpg_image1);
   gtk_container_add (GTK_CONTAINER (save_stuff_menu), save_jpg_image1);
 
-  save_selection_as_jpegs1 = gtk_menu_item_new_with_mnemonic (_("Save _Selection as JPEG images..."));
+  save_selection_as_jpegs1 = gtk_menu_item_new_with_mnemonic (_("Save _Selection as JPEG Images..."));
   gtk_widget_show (save_selection_as_jpegs1);
   gtk_container_add (GTK_CONTAINER (save_stuff_menu), save_selection_as_jpegs1);
 
@@ -357,25 +357,25 @@
   gtk_widget_show (save_project1);
   gtk_container_add (GTK_CONTAINER (menuitem1_menu), save_project1);
 
-  image8099 = gtk_image_new_from_stock ("gtk-save", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8099);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (save_project1), image8099);
+  image8199 = gtk_image_new_from_stock ("gtk-save", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8199);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (save_project1), image8199);
 
   save_project_as1 = gtk_image_menu_item_new_with_mnemonic (_("Save P_roject As..."));
   gtk_widget_show (save_project_as1);
   gtk_container_add (GTK_CONTAINER (menuitem1_menu), save_project_as1);
 
-  image8100 = gtk_image_new_from_stock ("gtk-save-as", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8100);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (save_project_as1), image8100);
+  image8200 = gtk_image_new_from_stock ("gtk-save-as", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8200);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (save_project_as1), image8200);
 
   run_script1 = gtk_image_menu_item_new_with_mnemonic (_("_Load/Run Project..."));
   gtk_widget_show (run_script1);
   gtk_container_add (GTK_CONTAINER (menuitem1_menu), run_script1);
 
-  image8101 = gtk_image_new_from_stock ("gtk-execute", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8101);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (run_script1), image8101);
+  image8201 = gtk_image_new_from_stock ("gtk-execute", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8201);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (run_script1), image8201);
 
   add_to_joblist1 = gtk_menu_item_new_with_mnemonic (_("A_dd to Joblist..."));
   gtk_widget_show (add_to_joblist1);
@@ -393,7 +393,7 @@
   gtk_container_add (GTK_CONTAINER (menuitem1_menu), separator16);
   gtk_widget_set_sensitive (separator16, FALSE);
 
-  connect_to_avsproxy1 = gtk_menu_item_new_with_mnemonic (_("Connect to avsproxy"));
+  connect_to_avsproxy1 = gtk_menu_item_new_with_mnemonic (_("Co_nnect to avsproxy"));
   gtk_widget_show (connect_to_avsproxy1);
   gtk_container_add (GTK_CONTAINER (menuitem1_menu), connect_to_avsproxy1);
 
@@ -409,9 +409,9 @@
                               GDK_Return, (GdkModifierType)( GDK_MOD1_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8102 = gtk_image_new_from_stock ("gtk-properties", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8102);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (video_informations1), image8102);
+  image8202 = gtk_image_new_from_stock ("gtk-properties", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8202);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (video_informations1), image8202);
 
   avi_muxer_options1 = gtk_menu_item_new_with_mnemonic (_("AVI _Muxer Options"));
   gtk_widget_show (avi_muxer_options1);
@@ -429,9 +429,9 @@
                               GDK_Q, (GdkModifierType)( GDK_CONTROL_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8103 = gtk_image_new_from_stock ("gtk-quit", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8103);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (quit1), image8103);
+  image8203 = gtk_image_new_from_stock ("gtk-quit", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8203);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (quit1), image8203);
 
   menuitem2 = gtk_menu_item_new_with_mnemonic (_("_Edit"));
   gtk_widget_show (menuitem2);
@@ -444,9 +444,9 @@
   gtk_widget_show (reset_edits1);
   gtk_container_add (GTK_CONTAINER (menuitem2_menu), reset_edits1);
 
-  image8104 = gtk_image_new_from_stock ("gtk-undo", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8104);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (reset_edits1), image8104);
+  image8204 = gtk_image_new_from_stock ("gtk-undo", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8204);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (reset_edits1), image8204);
 
   separator5 = gtk_separator_menu_item_new ();
   gtk_widget_show (separator5);
@@ -460,9 +460,9 @@
                               GDK_X, (GdkModifierType)( GDK_CONTROL_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8105 = gtk_image_new_from_stock ("gtk-cut", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8105);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (cut1), image8105);
+  image8205 = gtk_image_new_from_stock ("gtk-cut", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8205);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (cut1), image8205);
 
   copy1 = gtk_image_menu_item_new_with_mnemonic (_("_Copy"));
   gtk_widget_show (copy1);
@@ -471,9 +471,9 @@
                               GDK_C, (GdkModifierType)( GDK_CONTROL_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8106 = gtk_image_new_from_stock ("gtk-copy", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8106);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (copy1), image8106);
+  image8206 = gtk_image_new_from_stock ("gtk-copy", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8206);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (copy1), image8206);
 
   paste1 = gtk_image_menu_item_new_with_mnemonic (_("_Paste"));
   gtk_widget_show (paste1);
@@ -482,9 +482,9 @@
                               GDK_V, (GdkModifierType)( GDK_CONTROL_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8107 = gtk_image_new_from_stock ("gtk-paste", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8107);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (paste1), image8107);
+  image8207 = gtk_image_new_from_stock ("gtk-paste", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8207);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (paste1), image8207);
 
   delete1 = gtk_image_menu_item_new_with_mnemonic (_("_Delete"));
   gtk_widget_show (delete1);
@@ -493,9 +493,9 @@
                               GDK_Delete, (GdkModifierType)( 0 ),
                               GTK_ACCEL_VISIBLE);
 
-  image8108 = gtk_image_new_from_stock ("gtk-remove", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8108);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (delete1), image8108);
+  image8208 = gtk_image_new_from_stock ("gtk-remove", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8208);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (delete1), image8208);
 
   separator6 = gtk_separator_menu_item_new ();
   gtk_widget_show (separator6);
@@ -525,9 +525,9 @@
   gtk_widget_show (preferences1);
   gtk_container_add (GTK_CONTAINER (menuitem2_menu), preferences1);
 
-  image8109 = gtk_image_new_from_stock ("gtk-preferences", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8109);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (preferences1), image8109);
+  image8209 = gtk_image_new_from_stock ("gtk-preferences", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8209);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (preferences1), image8209);
 
   view1 = gtk_menu_item_new_with_mnemonic (_("_View"));
   gtk_widget_show (view1);
@@ -681,9 +681,9 @@
                               GDK_S, (GdkModifierType)( GDK_CONTROL_MASK | GDK_MOD1_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8110 = gtk_image_new_from_stock ("gtk-save-as", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8110);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (save_audio1), image8110);
+  image8210 = gtk_image_new_from_stock ("gtk-save-as", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8210);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (save_audio1), image8210);
 
   audio_encoder1 = gtk_menu_item_new_with_mnemonic (_("_Encoder"));
   gtk_widget_show (audio_encoder1);
@@ -710,9 +710,9 @@
                               GDK_F7, (GdkModifierType)( 0 ),
                               GTK_ACCEL_VISIBLE);
 
-  image8111 = create_pixmap (mainWindow, "gnome-calculator_small.xpm");
-  gtk_widget_show (image8111);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (calculator1), image8111);
+  image8211 = create_pixmap (mainWindow, "gnome-calculator_small.xpm");
+  gtk_widget_show (image8211);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (calculator1), image8211);
 
   separator12 = gtk_separator_menu_item_new ();
   gtk_widget_show (separator12);
@@ -753,7 +753,7 @@
   gtk_container_add (GTK_CONTAINER (tools1_menu), separator17);
   gtk_widget_set_sensitive (separator17, FALSE);
 
-  see_hex1 = gtk_menu_item_new_with_mnemonic (_("See Hex"));
+  see_hex1 = gtk_menu_item_new_with_mnemonic (_("_Frame Hex Dump"));
   gtk_widget_show (see_hex1);
   gtk_container_add (GTK_CONTAINER (tools1_menu), see_hex1);
 
@@ -776,11 +776,11 @@
   gtk_widget_show (dvd1);
   gtk_container_add (GTK_CONTAINER (help1_menu), dvd1);
 
-  psp1 = gtk_menu_item_new_with_mnemonic (_("PSP"));
+  psp1 = gtk_menu_item_new_with_mnemonic (_("_PSP"));
   gtk_widget_show (psp1);
   gtk_container_add (GTK_CONTAINER (help1_menu), psp1);
 
-  psp__h264_1 = gtk_menu_item_new_with_mnemonic (_("PSP (H264)"));
+  psp__h264_1 = gtk_menu_item_new_with_mnemonic (_("PSP (_H.264)"));
   gtk_widget_show (psp__h264_1);
   gtk_container_add (GTK_CONTAINER (help1_menu), psp__h264_1);
 
@@ -798,9 +798,9 @@
                               GDK_P, (GdkModifierType)( 0 ),
                               GTK_ACCEL_VISIBLE);
 
-  image8112 = gtk_image_new_from_stock ("gtk-media-play", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8112);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (play_video1), image8112);
+  image8212 = gtk_image_new_from_stock ("gtk-media-play", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8212);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (play_video1), image8212);
 
   previous_frame1 = gtk_image_menu_item_new_with_mnemonic (_("P_revious Frame"));
   gtk_widget_show (previous_frame1);
@@ -809,9 +809,9 @@
                               GDK_KP_4, (GdkModifierType)( 0 ),
                               GTK_ACCEL_VISIBLE);
 
-  image8113 = gtk_image_new_from_stock ("gtk-media-previous", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8113);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (previous_frame1), image8113);
+  image8213 = gtk_image_new_from_stock ("gtk-media-previous", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8213);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (previous_frame1), image8213);
 
   next_frame1 = gtk_image_menu_item_new_with_mnemonic (_("_Next Frame"));
   gtk_widget_show (next_frame1);
@@ -820,9 +820,9 @@
                               GDK_KP_6, (GdkModifierType)( 0 ),
                               GTK_ACCEL_VISIBLE);
 
-  image8114 = gtk_image_new_from_stock ("gtk-media-next", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8114);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (next_frame1), image8114);
+  image8214 = gtk_image_new_from_stock ("gtk-media-next", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8214);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (next_frame1), image8214);
 
   previous_intra_frame1 = gtk_image_menu_item_new_with_mnemonic (_("Pr_evious Intra Frame"));
   gtk_widget_show (previous_intra_frame1);
@@ -831,9 +831,9 @@
                               GDK_KP_2, (GdkModifierType)( 0 ),
                               GTK_ACCEL_VISIBLE);
 
-  image8115 = gtk_image_new_from_stock ("gtk-media-rewind", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8115);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (previous_intra_frame1), image8115);
+  image8215 = gtk_image_new_from_stock ("gtk-media-rewind", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8215);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (previous_intra_frame1), image8215);
 
   next_intra_frame1 = gtk_image_menu_item_new_with_mnemonic (_("Next _Intra Frame"));
   gtk_widget_show (next_intra_frame1);
@@ -842,9 +842,9 @@
                               GDK_KP_8, (GdkModifierType)( 0 ),
                               GTK_ACCEL_VISIBLE);
 
-  image8116 = gtk_image_new_from_stock ("gtk-media-forward", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8116);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (next_intra_frame1), image8116);
+  image8216 = gtk_image_new_from_stock ("gtk-media-forward", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8216);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (next_intra_frame1), image8216);
 
   search_previous_black_frame1 = gtk_menu_item_new_with_mnemonic (_("Previou_s Black Frame"));
   gtk_widget_show (search_previous_black_frame1);
@@ -861,9 +861,9 @@
                               GDK_Home, (GdkModifierType)( 0 ),
                               GTK_ACCEL_VISIBLE);
 
-  image8117 = gtk_image_new_from_stock ("gtk-goto-first", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8117);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (first_frame1), image8117);
+  image8217 = gtk_image_new_from_stock ("gtk-goto-first", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8217);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (first_frame1), image8217);
 
   last_frame1 = gtk_image_menu_item_new_with_mnemonic (_("_Last Frame"));
   gtk_widget_show (last_frame1);
@@ -872,9 +872,9 @@
                               GDK_End, (GdkModifierType)( 0 ),
                               GTK_ACCEL_VISIBLE);
 
-  image8118 = gtk_image_new_from_stock ("gtk-goto-last", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8118);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (last_frame1), image8118);
+  image8218 = gtk_image_new_from_stock ("gtk-goto-last", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8218);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (last_frame1), image8218);
 
   separator14 = gtk_separator_menu_item_new ();
   gtk_widget_show (separator14);
@@ -907,9 +907,9 @@
                               GDK_F, (GdkModifierType)( GDK_CONTROL_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8119 = gtk_image_new_from_stock ("gtk-jump-to", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8119);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (jum_to_frame1), image8119);
+  image8219 = gtk_image_new_from_stock ("gtk-jump-to", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8219);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (jum_to_frame1), image8219);
 
   jump_to_time1 = gtk_image_menu_item_new_with_mnemonic (_("Jump to _Time..."));
   gtk_widget_show (jump_to_time1);
@@ -918,11 +918,11 @@
                               GDK_T, (GdkModifierType)( GDK_CONTROL_MASK),
                               GTK_ACCEL_VISIBLE);
 
-  image8120 = gtk_image_new_from_stock ("gtk-jump-to", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8120);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (jump_to_time1), image8120);
+  image8220 = gtk_image_new_from_stock ("gtk-jump-to", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8220);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (jump_to_time1), image8220);
 
-  custom1 = gtk_menu_item_new_with_mnemonic (_("Custom"));
+  custom1 = gtk_menu_item_new_with_mnemonic (_("_Custom"));
   gtk_widget_show (custom1);
   gtk_container_add (GTK_CONTAINER (menuBar), custom1);
 
@@ -933,18 +933,18 @@
   help2_menu = gtk_menu_new ();
   gtk_menu_item_set_submenu (GTK_MENU_ITEM (help2), help2_menu);
 
+  show_builtin_support1 = gtk_menu_item_new_with_mnemonic (_("_Built-in Support"));
+  gtk_widget_show (show_builtin_support1);
+  gtk_container_add (GTK_CONTAINER (help2_menu), show_builtin_support1);
+
   about1 = gtk_image_menu_item_new_with_mnemonic (_("_About"));
   gtk_widget_show (about1);
   gtk_container_add (GTK_CONTAINER (help2_menu), about1);
 
-  image8121 = gtk_image_new_from_stock ("gtk-about", GTK_ICON_SIZE_MENU);
-  gtk_widget_show (image8121);
-  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (about1), image8121);
+  image8221 = gtk_image_new_from_stock ("gtk-about", GTK_ICON_SIZE_MENU);
+  gtk_widget_show (image8221);
+  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (about1), image8221);
 
-  show_builtin_support1 = gtk_menu_item_new_with_mnemonic (_("Show builtin support"));
-  gtk_widget_show (show_builtin_support1);
-  gtk_container_add (GTK_CONTAINER (help2_menu), show_builtin_support1);
-
   toolbar2 = gtk_toolbar_new ();
   gtk_widget_show (toolbar2);
   gtk_box_pack_start (GTK_BOX (vbox1), toolbar2, FALSE, FALSE, 0);
@@ -1441,11 +1441,11 @@
   GLADE_HOOKUP_OBJECT (mainWindow, menuitem1, "menuitem1");
   GLADE_HOOKUP_OBJECT (mainWindow, menuitem1_menu, "menuitem1_menu");
   GLADE_HOOKUP_OBJECT (mainWindow, open_video1, "open_video1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8096, "image8096");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8196, "image8196");
   GLADE_HOOKUP_OBJECT (mainWindow, append_video1, "append_video1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8097, "image8097");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8197, "image8197");
   GLADE_HOOKUP_OBJECT (mainWindow, save_stuff, "save_stuff");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8098, "image8098");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8198, "image8198");
   GLADE_HOOKUP_OBJECT (mainWindow, save_stuff_menu, "save_stuff_menu");
   GLADE_HOOKUP_OBJECT (mainWindow, save_as_avi1, "save_as_avi1");
   GLADE_HOOKUP_OBJECT (mainWindow, separator1, "separator1");
@@ -1455,41 +1455,41 @@
   GLADE_HOOKUP_OBJECT (mainWindow, close1, "close1");
   GLADE_HOOKUP_OBJECT (mainWindow, separator3, "separator3");
   GLADE_HOOKUP_OBJECT (mainWindow, save_project1, "save_project1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8099, "image8099");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8199, "image8199");
   GLADE_HOOKUP_OBJECT (mainWindow, save_project_as1, "save_project_as1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8100, "image8100");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8200, "image8200");
   GLADE_HOOKUP_OBJECT (mainWindow, run_script1, "run_script1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8101, "image8101");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8201, "image8201");
   GLADE_HOOKUP_OBJECT (mainWindow, add_to_joblist1, "add_to_joblist1");
   GLADE_HOOKUP_OBJECT (mainWindow, joblist1, "joblist1");
   GLADE_HOOKUP_OBJECT (mainWindow, separator16, "separator16");
   GLADE_HOOKUP_OBJECT (mainWindow, connect_to_avsproxy1, "connect_to_avsproxy1");
   GLADE_HOOKUP_OBJECT (mainWindow, separator18, "separator18");
   GLADE_HOOKUP_OBJECT (mainWindow, video_informations1, "video_informations1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8102, "image8102");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8202, "image8202");
   GLADE_HOOKUP_OBJECT (mainWindow, avi_muxer_options1, "avi_muxer_options1");
   GLADE_HOOKUP_OBJECT (mainWindow, separator4, "separator4");
   GLADE_HOOKUP_OBJECT (mainWindow, quit1, "quit1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8103, "image8103");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8203, "image8203");
   GLADE_HOOKUP_OBJECT (mainWindow, menuitem2, "menuitem2");
   GLADE_HOOKUP_OBJECT (mainWindow, menuitem2_menu, "menuitem2_menu");
   GLADE_HOOKUP_OBJECT (mainWindow, reset_edits1, "reset_edits1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8104, "image8104");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8204, "image8204");
   GLADE_HOOKUP_OBJECT (mainWindow, separator5, "separator5");
   GLADE_HOOKUP_OBJECT (mainWindow, cut1, "cut1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8105, "image8105");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8205, "image8205");
   GLADE_HOOKUP_OBJECT (mainWindow, copy1, "copy1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8106, "image8106");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8206, "image8206");
   GLADE_HOOKUP_OBJECT (mainWindow, paste1, "paste1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8107, "image8107");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8207, "image8207");
   GLADE_HOOKUP_OBJECT (mainWindow, delete1, "delete1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8108, "image8108");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8208, "image8208");
   GLADE_HOOKUP_OBJECT (mainWindow, separator6, "separator6");
   GLADE_HOOKUP_OBJECT (mainWindow, set_marker_a1, "set_marker_a1");
   GLADE_HOOKUP_OBJECT (mainWindow, set_marker_b1, "set_marker_b1");
   GLADE_HOOKUP_OBJECT (mainWindow, separator7, "separator7");
   GLADE_HOOKUP_OBJECT (mainWindow, preferences1, "preferences1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8109, "image8109");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8209, "image8209");
   GLADE_HOOKUP_OBJECT (mainWindow, view1, "view1");
   GLADE_HOOKUP_OBJECT (mainWindow, view1_menu, "view1_menu");
   GLADE_HOOKUP_OBJECT (mainWindow, toolbar1, "toolbar1");
@@ -1518,13 +1518,13 @@
   GLADE_HOOKUP_OBJECT (mainWindow, build_vbr_time_map1, "build_vbr_time_map1");
   GLADE_HOOKUP_OBJECT (mainWindow, separator11, "separator11");
   GLADE_HOOKUP_OBJECT (mainWindow, save_audio1, "save_audio1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8110, "image8110");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8210, "image8210");
   GLADE_HOOKUP_OBJECT (mainWindow, audio_encoder1, "audio_encoder1");
   GLADE_HOOKUP_OBJECT (mainWindow, filters2, "filters2");
   GLADE_HOOKUP_OBJECT (mainWindow, tools1, "tools1");
   GLADE_HOOKUP_OBJECT (mainWindow, tools1_menu, "tools1_menu");
   GLADE_HOOKUP_OBJECT (mainWindow, calculator1, "calculator1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8111, "image8111");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8211, "image8211");
   GLADE_HOOKUP_OBJECT (mainWindow, separator12, "separator12");
   GLADE_HOOKUP_OBJECT (mainWindow, rebuild_frames, "rebuild_frames");
   GLADE_HOOKUP_OBJECT (mainWindow, check_frames, "check_frames");
@@ -1545,35 +1545,35 @@
   GLADE_HOOKUP_OBJECT (mainWindow, go1, "go1");
   GLADE_HOOKUP_OBJECT (mainWindow, go1_menu, "go1_menu");
   GLADE_HOOKUP_OBJECT (mainWindow, play_video1, "play_video1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8112, "image8112");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8212, "image8212");
   GLADE_HOOKUP_OBJECT (mainWindow, previous_frame1, "previous_frame1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8113, "image8113");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8213, "image8213");
   GLADE_HOOKUP_OBJECT (mainWindow, next_frame1, "next_frame1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8114, "image8114");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8214, "image8214");
   GLADE_HOOKUP_OBJECT (mainWindow, previous_intra_frame1, "previous_intra_frame1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8115, "image8115");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8215, "image8215");
   GLADE_HOOKUP_OBJECT (mainWindow, next_intra_frame1, "next_intra_frame1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8116, "image8116");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8216, "image8216");
   GLADE_HOOKUP_OBJECT (mainWindow, search_previous_black_frame1, "search_previous_black_frame1");
   GLADE_HOOKUP_OBJECT (mainWindow, search_next_black_frame1, "search_next_black_frame1");
   GLADE_HOOKUP_OBJECT (mainWindow, first_frame1, "first_frame1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8117, "image8117");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8217, "image8217");
   GLADE_HOOKUP_OBJECT (mainWindow, last_frame1, "last_frame1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8118, "image8118");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8218, "image8218");
   GLADE_HOOKUP_OBJECT (mainWindow, separator14, "separator14");
   GLADE_HOOKUP_OBJECT (mainWindow, go_to_marker_a1, "go_to_marker_a1");
   GLADE_HOOKUP_OBJECT (mainWindow, go_to_marker_b1, "go_to_marker_b1");
   GLADE_HOOKUP_OBJECT (mainWindow, separator15, "separator15");
   GLADE_HOOKUP_OBJECT (mainWindow, jum_to_frame1, "jum_to_frame1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8119, "image8119");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8219, "image8219");
   GLADE_HOOKUP_OBJECT (mainWindow, jump_to_time1, "jump_to_time1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8120, "image8120");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8220, "image8220");
   GLADE_HOOKUP_OBJECT (mainWindow, custom1, "custom1");
   GLADE_HOOKUP_OBJECT (mainWindow, help2, "help2");
   GLADE_HOOKUP_OBJECT (mainWindow, help2_menu, "help2_menu");
+  GLADE_HOOKUP_OBJECT (mainWindow, show_builtin_support1, "show_builtin_support1");
   GLADE_HOOKUP_OBJECT (mainWindow, about1, "about1");
-  GLADE_HOOKUP_OBJECT (mainWindow, image8121, "image8121");
-  GLADE_HOOKUP_OBJECT (mainWindow, show_builtin_support1, "show_builtin_support1");
+  GLADE_HOOKUP_OBJECT (mainWindow, image8221, "image8221");
   GLADE_HOOKUP_OBJECT (mainWindow, toolbar2, "toolbar2");
   GLADE_HOOKUP_OBJECT (mainWindow, menutoolbuttonOpen, "menutoolbuttonOpen");
   GLADE_HOOKUP_OBJECT (mainWindow, toolitem11, "toolitem11");



From mean at mail.berlios.de  Fri May 25 15:19:13 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Fri, 25 May 2007 15:19:13 +0200
Subject: [Avidemux-svn-commit] r3141 -
	branches/avidemux_2.4_branch/avidemux/ADM_video
Message-ID: <200705251319.l4PDJDvp016980@sheep.berlios.de>

Author: mean
Date: 2007-05-25 15:19:12 +0200 (Fri, 25 May 2007)
New Revision: 3141

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidVobSubRender.cpp
Log:
make vobsub ocr more resistent to problems

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidVobSubRender.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidVobSubRender.cpp	2007-05-24 19:09:15 UTC (rev 3140)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidVobSubRender.cpp	2007-05-25 13:19:12 UTC (rev 3141)
@@ -247,6 +247,7 @@
 {        
         odd=even=0;
         aprintf("**Cur: A:%llx R:%llx next:%llx\n",posA,posR,_vobSubInfo->lines[idx+1].fileOffset);
+        
         _subSize=_parser->read16i();
         if(!_subSize)
         {
@@ -270,6 +271,11 @@
         // We got the full packet
         // now scan it
         _curOffset=2;
+        if(_subSize<4)
+        {
+          printf("[handleSub] Packet too short!\n");
+          return 1; 
+        }
         _dataSize=readword();
         aprintf("data block=%lu\n",_dataSize);
         if(_dataSize<=4)
@@ -290,8 +296,11 @@
                 
                 while(_curOffset<next)
                 {
+                      
+                      
                         command=readbyte();
                         aprintf("vobsub:Command : %d date:%d next:%d cur:%lu\n",command,date,next,_curOffset);
+                        int left=next-_curOffset;
                         switch(command)
                         {
                                 case 00: _displaying=1;
@@ -318,6 +327,11 @@
 #endif                                        
                                         break;
                                 case 03: // Pallette 4 nibble= 16 bits
+                                         if(left<2)
+                                         {
+                                            printf("Command 3: Palette: Not enough bytes left\n");
+                                            return 1; 
+                                         }
                                          dum=readword();
                                         _colors[0]=dum>>12;
                                         _colors[1]=0xf & (dum>>8);
@@ -328,6 +342,12 @@
                                         break;
                                 case 04: // alpha channel
                                          //4 nibble= 16 bits
+                                        if(left<2)
+                                         {
+                                            printf("Command 4: Alpha: Not enough bytes left\n");
+                                            return 1; 
+                                         }
+
                                         dum=readword();
                                         _alpha[0]=dum>>12;
                                         _alpha[1]=0xf & (dum>>8);
@@ -340,6 +360,11 @@
                                         {
                                                 uint16_t a,b,c;
                                                 uint32_t nx1,nx2,ny1,ny2;
+                                                if(left<6)
+                                                {
+                                                    printf("Command 5: Coord: Not enough bytes left\n");
+                                                    return 1; 
+                                                }
                                                 if(doneA) return 1;
                                                 doneA++;
                                                 a=readword();
@@ -377,7 +402,11 @@
                                         {
                                                 if(doneB) return 1;
                                                 doneB++;
-
+                                                if(left<4)
+                                                {
+                                                    printf("Command 6: RLE: Not enough bytes left\n");
+                                                    return 1; 
+                                                }
                                         odd=readword();                                        
                                         even=readword();
  



From mean at mail.berlios.de  Fri May 25 15:42:50 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Fri, 25 May 2007 15:42:50 +0200
Subject: [Avidemux-svn-commit] r3142 -
	branches/avidemux_2.4_branch/avidemux/ADM_ocr
Message-ID: <200705251342.l4PDgo6Q022047@sheep.berlios.de>

Author: mean
Date: 2007-05-25 15:42:50 +0200 (Fri, 25 May 2007)
New Revision: 3142

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_ocr/ADM_vob2vobsub.cpp
Log:
increase max # of lines per vobsub

Modified: branches/avidemux_2.4_branch/avidemux/ADM_ocr/ADM_vob2vobsub.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_ocr/ADM_vob2vobsub.cpp	2007-05-25 13:19:12 UTC (rev 3141)
+++ branches/avidemux_2.4_branch/avidemux/ADM_ocr/ADM_vob2vobsub.cpp	2007-05-25 13:42:50 UTC (rev 3142)
@@ -59,7 +59,7 @@
 
 #define PADDER_SIZE 0x800
 
-#define MAX_LINE        2000
+#define MAX_LINE        5000
 #define MAX_BUFFER      (1*1024)
 #define MAX_LANGUAGE    10
 
@@ -190,6 +190,16 @@
         currentPTS=pts;
         runCode=twofirst-usableSize;
         addLine(pts,index);
+#if 0
+        {
+        uint16_t hh,mm,ss,ms;
+        uint32_t timestamp;
+
+              timestamp=pts/90;
+              ms2time(timestamp,&hh,&mm,&ss,&ms);
+              printf("Line : %03u  at %02d:%02d:%02d \n",nbLines,hh,mm,ss);
+        }
+#endif
         addData(data,size);
         if(runCode<0) runCode=0;
         return 1; 
@@ -291,6 +301,8 @@
    
    //*** Main Loop ***
    uint32_t startPts=0,lastPts=0;
+   uint16_t hh,mm,ss,ms;
+   uint32_t timestamp;
    while(1)
    {
        if(!demuxer->forceRefill(&stream)) goto _abt;
@@ -316,13 +328,12 @@
                                 {
                                         if(lastPts-pts>MIN_WRAP_VALUE)
                                         {
-                                                uint16_t hh,mm,ss,ms;
-                                                uint32_t timestamp;
+                                                
                                                 printf("Wrapping at %u ",lastPts);
                                                 startPts+=lastPts;
                                                 timestamp=startPts/90;
                                                 ms2time(timestamp,&hh,&mm,&ss,&ms);
-                                                printf("%02d:%02d:%02d ",hh,mm,ss);
+                                                printf("%02d:%02d:%02d \n",hh,mm,ss);
                                         }
                                 }
                         }
@@ -330,6 +341,14 @@
                         lastPts=pts;
                         pts+=startPts;
             }
+#if 0
+            if(pts!=ADM_NO_PTS)
+            {
+              timestamp=pts/90;
+              ms2time(timestamp,&hh,&mm,&ss,&ms);
+              printf("%02d:%02d:%02d \n",hh,mm,ss);
+            }
+#endif
             blockSize=demuxer->read16i();
             allIndex[stream-0x20].run(blockSize,data,packetLen,usedLen, pts)  ;
        }



From mean at mail.berlios.de  Sat May 26 10:09:07 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 26 May 2007 10:09:07 +0200
Subject: [Avidemux-svn-commit] r3143 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4:
	ADM_dialogFactory ADM_gui ADM_gui/pics
Message-ID: <200705260809.l4Q897pd002789@sheep.berlios.de>

Author: mean
Date: 2007-05-26 10:09:06 +0200 (Sat, 26 May 2007)
New Revision: 3143

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/gotoA.png
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/gotoB.png
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/volume.png
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_readOnlyText.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/avidemux.qrc
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h
Log:
misc QT4 tweaks

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_readOnlyText.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_readOnlyText.cpp	2007-05-25 13:42:50 UTC (rev 3142)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_readOnlyText.cpp	2007-05-26 08:09:06 UTC (rev 3143)
@@ -40,7 +40,7 @@
 diaElemReadOnlyText::diaElemReadOnlyText(char *readyOnly,const char *toggleTitle,const char *tip)
   : diaElem(ELEM_TOGGLE)
 {
-  param=(void *)readyOnly;
+  param=(void *)ADM_strdup(readyOnly);
   paramTitle=shortkey(toggleTitle);
   this->tip=tip;
  }
@@ -49,6 +49,7 @@
 {
   if(paramTitle)
     delete paramTitle;
+  ADM_dealloc(readOnly);
 }
 void diaElemReadOnlyText::setMe(void *dialog, void *opaque,uint32_t line)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2007-05-25 13:42:50 UTC (rev 3142)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2007-05-26 08:09:06 UTC (rev 3143)
@@ -198,6 +198,8 @@
             ADD(actionNext_blak_frame);
             ADD(actionFirst_Frame);
             ADD(actionLast_Frame);
+            ADD(actionGo_to_Marker_A);
+            ADD(actionGo_to_Marker_B);
             //** Add shortcuts **//
             QKeySequence seqFilter("CTRL+Alt+F");
             ui.actionFilters->setShortcut(seqFilter);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/avidemux.qrc
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/avidemux.qrc	2007-05-25 13:42:50 UTC (rev 3142)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/avidemux.qrc	2007-05-26 08:09:06 UTC (rev 3143)
@@ -9,6 +9,8 @@
         <file>pics/filesave.png</file>
         <file>pics/filesaveas.png</file>
         <file>pics/forward.png</file>
+        <file>pics/gotoA.png</file>
+        <file>pics/gotoB.png</file>
         <file>pics/info.png</file>
         <file>pics/markA.png</file>
         <file>pics/markB.png</file>
@@ -24,5 +26,6 @@
         <file>pics/previous.png</file>
         <file>pics/project_open.png</file>
         <file>pics/thumbnail.png</file>
+        <file>pics/volume.png</file>
     </qresource>
 </RCC>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2007-05-25 13:42:50 UTC (rev 3142)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2007-05-26 08:09:06 UTC (rev 3143)
@@ -628,23 +628,9 @@
          <number>6</number>
         </property>
         <item>
-         <widget class="QPushButton" name="setMarkerA" >
-          <property name="sizePolicy" >
-           <sizepolicy>
-            <hsizetype>1</hsizetype>
-            <vsizetype>0</vsizetype>
-            <horstretch>0</horstretch>
-            <verstretch>0</verstretch>
-           </sizepolicy>
-          </property>
-          <property name="minimumSize" >
-           <size>
-            <width>32</width>
-            <height>0</height>
-           </size>
-          </property>
+         <widget class="QLabel" name="label_12" >
           <property name="text" >
-           <string>A:</string>
+           <string> A:</string>
           </property>
          </widget>
         </item>
@@ -664,23 +650,9 @@
          </widget>
         </item>
         <item>
-         <widget class="QPushButton" name="setMarkerB" >
-          <property name="sizePolicy" >
-           <sizepolicy>
-            <hsizetype>4</hsizetype>
-            <vsizetype>0</vsizetype>
-            <horstretch>0</horstretch>
-            <verstretch>0</verstretch>
-           </sizepolicy>
-          </property>
-          <property name="minimumSize" >
-           <size>
-            <width>32</width>
-            <height>0</height>
-           </size>
-          </property>
+         <widget class="QLabel" name="label_11" >
           <property name="text" >
-           <string>B:</string>
+           <string> B:</string>
           </property>
          </widget>
         </item>
@@ -700,6 +672,19 @@
          </widget>
         </item>
         <item>
+         <widget class="QToolButton" name="toolButton" >
+          <property name="enabled" >
+           <bool>false</bool>
+          </property>
+          <property name="text" >
+           <string>...</string>
+          </property>
+          <property name="icon" >
+           <iconset resource="avidemux.qrc" >:/new/prefix1/pics/arts.png</iconset>
+          </property>
+         </widget>
+        </item>
+        <item>
          <widget class="QSlider" name="horizontalSlider_2" >
           <property name="sizePolicy" >
            <sizepolicy>
@@ -966,6 +951,16 @@
     <addaction name="actionPSP" />
     <addaction name="actionPSP_H264" />
    </widget>
+   <widget class="QMenu" name="menuAudio" >
+    <property name="title" >
+     <string>Audio</string>
+    </property>
+    <addaction name="actionMain_Track" />
+    <addaction name="actionSecondary_Track" />
+    <addaction name="actionBuild_VBR_time_map" />
+    <addaction name="actionSave_2" />
+    <addaction name="actionFilters_2" />
+   </widget>
    <widget class="QMenu" name="menuVideo" >
     <property name="title" >
      <string>Video</string>
@@ -977,16 +972,6 @@
     <addaction name="actionFilters" />
     <addaction name="actionFrame_rate" />
    </widget>
-   <widget class="QMenu" name="menuAudio" >
-    <property name="title" >
-     <string>Audio</string>
-    </property>
-    <addaction name="actionMain_Track" />
-    <addaction name="actionSecondary_Track" />
-    <addaction name="actionBuild_VBR_time_map" />
-    <addaction name="actionSave_2" />
-    <addaction name="actionFilters_2" />
-   </widget>
    <addaction name="menuFile" />
    <addaction name="menuEdit" />
    <addaction name="menuView" />
@@ -1016,8 +1001,6 @@
    <addaction name="separator" />
    <addaction name="actionCalculator" />
    <addaction name="separator" />
-   <addaction name="actionPreview" />
-   <addaction name="actionDisplay_output" />
   </widget>
   <action name="actionOpen" >
    <property name="icon" >
@@ -1340,11 +1323,17 @@
    </property>
   </action>
   <action name="actionGo_to_Marker_A" >
+   <property name="icon" >
+    <iconset resource="avidemux.qrc" >:/new/prefix1/pics/gotoA.png</iconset>
+   </property>
    <property name="text" >
     <string>Go to Marker A</string>
    </property>
   </action>
   <action name="actionGo_to_Marker_B" >
+   <property name="icon" >
+    <iconset resource="avidemux.qrc" >:/new/prefix1/pics/gotoB.png</iconset>
+   </property>
    <property name="text" >
     <string>Go to Marker B</string>
    </property>

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/gotoA.png (from rev 3098, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/markA.png)
===================================================================
(Binary files differ)

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/gotoB.png (from rev 3098, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/markB.png)
===================================================================
(Binary files differ)

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/volume.png
===================================================================
(Binary files differ)


Property changes on: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/volume.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h	2007-05-25 13:42:50 UTC (rev 3142)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h	2007-05-26 08:09:06 UTC (rev 3143)
@@ -71,8 +71,6 @@
 
 
 #define LIST_OF_BUTTONS     \
-PROCESS(setMarkerA , ACT_GotoMarkA  ) \
-PROCESS(setMarkerB ,ACT_GotoMarkB )  \
 PROCESS(pushButtonVideoConf ,ACT_VideoCodec)  \
 PROCESS(pushButtonVideoFilter , ACT_VideoParameter  ) \
 PROCESS(pushButtonAudioConf ,ACT_AudioCodec ) \



From mean at mail.berlios.de  Sat May 26 10:16:41 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 26 May 2007 10:16:41 +0200
Subject: [Avidemux-svn-commit] r3144 -
	branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi
Message-ID: <200705260816.l4Q8Gfxv003122@sheep.berlios.de>

Author: mean
Date: 2007-05-26 10:16:40 +0200 (Sat, 26 May 2007)
New Revision: 3144

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_savesmart.cpp
Log:
fix display of progress bar for smart copy

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_savesmart.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_savesmart.cpp	2007-05-26 08:09:06 UTC (rev 3143)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_savesmart.cpp	2007-05-26 08:16:40 UTC (rev 3144)
@@ -179,7 +179,7 @@
 		return 0;
         _videoFlag=bitstream.flags;
 	// 3-write it
-        encoding_gui->setFrame(frame,bitstream.len,bitstream.out_quantizer,frametogo);
+        encoding_gui->setFrame(frame-frameStart,bitstream.len,bitstream.out_quantizer,frametogo);
 	return writter->saveVideoFrame (bitstream.len, _videoFlag, vbuffer);
 }
 //_________________________________________________________
@@ -249,7 +249,7 @@
     				return 0;
                         _videoFlag=img.flags;
 			_nextip=nextip;
-                        encoding_gui->setFrame(frame,img.dataLength,0,frametogo);
+                        encoding_gui->setFrame(frame-frameStart,img.dataLength,0,frametogo);
 			return writter->saveVideoFrame (img.dataLength, img.flags, img.data);
 		}
 		else
@@ -258,7 +258,7 @@
 			if (!video_body->getFrameNoAlloc (frame-1, &img, &seq))
     				return 0;
                          _videoFlag=img.flags;
-                        encoding_gui->setFrame(frame,img.dataLength,0,frametogo);
+                        encoding_gui->setFrame(frame-frameStart,img.dataLength,0,frametogo);
 			return writter->saveVideoFrame (img.dataLength, img.flags, img.data);
 		}
 	}
@@ -271,7 +271,7 @@
 		if (! video_body->getFrameNoAlloc(frame-1, &img, &seq))// (frame-1, vbuffer, &len,    &_videoFlag, &seq))
     			return 0;
                  _videoFlag=img.flags;
-                encoding_gui->setFrame(frame,img.dataLength,0,frametogo);
+                encoding_gui->setFrame(frame-frameStart,img.dataLength,0,frametogo);
 		return writter->saveVideoFrame  (img.dataLength, img.flags, img.data);;
 	
 	}
@@ -283,7 +283,7 @@
 			aprintf("Seq broken..\n");
 			compEngaged = 1;
 			initEncoder (_cqReenc);
-                        encoding_gui->setFrame(frame,img.dataLength,0,frametogo);
+                        encoding_gui->setFrame(frame-frameStart,img.dataLength,0,frametogo);
 			return writeVideoChunk_recode(frame);
 		}
 	_nextip=frame;
@@ -291,7 +291,7 @@
 	if(! video_body->getFrameNoAlloc (frame, &img, &seq)) return 0;
         _videoFlag=img.flags;
 	
-	encoding_gui->setFrame(frame,img.dataLength,0,frametogo);
+	encoding_gui->setFrame(frame-frameStart,img.dataLength,0,frametogo);
 	return writter->saveVideoFrame (img.dataLength, img.flags, img.data);;
 }
 //_________________________________________________________



From mean at mail.berlios.de  Sat May 26 12:58:33 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 26 May 2007 12:58:33 +0200
Subject: [Avidemux-svn-commit] r3145 - in
	branches/avidemux_2.4_branch/avidemux: ADM_audiodevice
	ADM_inputs/ADM_avsproxy ADM_inputs/ADM_mpegdemuxer
	ADM_inputs/ADM_openDML ADM_script
	ADM_userInterfaces/ADM_GTK/ADM_dialog
	ADM_userInterfaces/ADM_GTK/ADM_gui2
	ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk
	ADM_userInterfaces/ADM_QT4/ADM_dialog
	ADM_userInterfaces/ADM_QT4/ADM_gui ADM_userInterfaces/ADM_commonUI
Message-ID: <200705261058.l4QAwXm7020845@sheep.berlios.de>

Author: mean
Date: 2007-05-26 12:58:28 +0200 (Sat, 26 May 2007)
New Revision: 3145

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_audiodevice.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceArts.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceEsd.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceWin32.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceWin32.h
   branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceoss.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/audio_out.h
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_avsproxy/ADM_avsproxy_net.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_video.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_odml_audio.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_odml_odml.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_riff.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSGlobal.h
   branches/avidemux_2.4_branch/avidemux/ADM_script/DirectorySearch.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_script/DirectorySearch.h
   branches/avidemux_2.4_branch/avidemux/ADM_script/StdFile.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_gtkRender.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/eggtray_win32.c
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/eggtrayicon.c
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/GUI_render.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/GUI_sdlRender.cpp
Log:
CYG_MANGLING->ADM_WIN32

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_audiodevice.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_audiodevice.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_audiodevice.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -44,7 +44,7 @@
 #include "ADM_audiodevice/ADM_deviceSDL.h"
 #endif
 
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 #include "ADM_audiodevice/ADM_deviceWin32.h"
 #endif
 
@@ -161,7 +161,7 @@
 			AVDM_switch(DEVICE_OSS);			
 			printf("\n Using OSS\n");
 		#else
-			#ifdef CYG_MANGLING
+			#ifdef ADM_WIN32
 			AVDM_switch(DEVICE_WIN32);
 			#else
                 #ifdef USE_ESD
@@ -194,13 +194,13 @@
 								break;
 
 #endif
-#if defined(OSS_SUPPORT) && !defined(CYG_MANGLING)
+#if defined(OSS_SUPPORT) && !defined(ADM_WIN32)
 		  case  DEVICE_OSS :
 								device=new 	 ossAudioDevice;
 								currentDevice=DEVICE_OSS;;
 								break;
 #endif
-#if defined(USE_ESD) && !defined(CYG_MANGLING)
+#if defined(USE_ESD) && !defined(ADM_WIN32)
 		  case  DEVICE_ESD :
 								device=new 	 esdAudioDevice;
 								currentDevice=DEVICE_ESD;;
@@ -227,7 +227,7 @@
 								break;
 #endif
 
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 		case DEVICE_WIN32:
 								device=new win32AudioDevice;
 								currentDevice=DEVICE_WIN32;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceArts.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceArts.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceArts.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -15,7 +15,7 @@
  *                                                                         *
  ***************************************************************************/
 #include "config.h"
-#ifndef CYG_MANGLING 
+#ifndef ADM_WIN32 
 #ifdef USE_ARTS
 #include <artsc.h>
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceEsd.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceEsd.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceEsd.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -17,7 +17,7 @@
  ***************************************************************************/
 #include "config.h"
 
-#if defined( USE_ESD ) && !defined(CYG_MANGLING)
+#if defined( USE_ESD ) && !defined(ADM_WIN32)
 
 #include <stdio.h>
 #include <stdlib.h>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceWin32.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceWin32.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceWin32.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -23,7 +23,7 @@
 //
 
 #include "config.h"
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 
 #include <stdio.h>
 #include <stdlib.h>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceWin32.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceWin32.h	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceWin32.h	2007-05-26 10:58:28 UTC (rev 3145)
@@ -9,7 +9,7 @@
 // Copyright: See COPYING file that comes with this distribution
 //
 //
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 	        class win32AudioDevice : public audioDevice
 	 {
 		 protected :

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceoss.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceoss.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/ADM_deviceoss.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -16,7 +16,7 @@
  ***************************************************************************/
 #include "config.h"
 
-#if defined( OSS_SUPPORT ) && !defined(CYG_MANGLING)
+#if defined( OSS_SUPPORT ) && !defined(ADM_WIN32)
 
 #include <stdio.h>
 #include <stdlib.h>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/audio_out.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/audio_out.h	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/audio_out.h	2007-05-26 10:58:28 UTC (rev 3145)
@@ -52,10 +52,10 @@
 #ifdef CONFIG_DARWIN
 	MKADID(COREAUDIO),
 #endif
-#if	defined(USE_SDL) && !defined(CYG_MANGLING)	
+#if	defined(USE_SDL) && !defined(ADM_WIN32)	
 	MKADID(SDL),
 #endif	
-#ifdef CYG_MANGLING	
+#ifdef ADM_WIN32	
 	MKADID(WIN32),
 #endif	
 #ifdef USE_ESD	

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_avsproxy/ADM_avsproxy_net.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_avsproxy/ADM_avsproxy_net.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_avsproxy/ADM_avsproxy_net.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -1,5 +1,5 @@
 #include "config.h"
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 #include "windows.h"
 #include "winbase.h"
 #include "io.h"
@@ -32,7 +32,7 @@
 
 uint8_t avsHeader::bindMe(uint32_t port)
 {
- #ifndef CYG_MANGLING
+ #ifndef ADM_WIN32
  mySocket = socket(PF_INET, SOCK_STREAM, 0);
  #else
  mySocket = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);
@@ -64,7 +64,7 @@
     if(mySocket)
     {
         int er;
-#ifndef CYG_MANGLING        
+#ifndef ADM_WIN32        
         er=shutdown(mySocket,SHUT_RDWR);
 #else
         er=shutdown(mySocket,SD_BOTH);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_video.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_video.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_video.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -411,7 +411,7 @@
                                                 ADM_assert(0);
                                         }
                                         str--;
-#ifdef CYG_MANGLING                                        
+#ifdef ADM_WIN32                                        
                                         sscanf(str,"%c:%I64x,%I64x,%x",&imgtype,&imgabs,&imgrel,&imgsize);
 #else                                      
                                         sscanf(str,"%c:%llx,%llx,%x",&imgtype,&imgabs,&imgrel,&imgsize);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_odml_audio.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_odml_audio.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_odml_audio.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -28,7 +28,7 @@
 #include <string.h>
 #include <ADM_assert.h>
 #include <math.h>
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 #include <io.h>
 #endif
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_odml_odml.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_odml_odml.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_odml_odml.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -39,7 +39,7 @@
 
 //#define OPENDML_VERBOSE
 
-#if defined( CYG_MANGLING) || defined(ARCH_X86_64)
+#if defined( ADM_WIN32) || defined(ARCH_X86_64)
 	#define PPACKED __attribute__ ((packed))
 #else
 	#define PPACKED 
@@ -243,7 +243,7 @@
 		fcc=read32();
 		len=read32();
                 aprintf("subindex : %lu size %lu (%lx)",i,len,len); 
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
                 aprintf("Seeking to %I64x\n",superEntries[i].offset);
 #else                             
                 aprintf("Seeking to %llx\n",superEntries[i].offset);
@@ -255,7 +255,7 @@
 			printf("Problem reading secondary index (%u/%u) trying to continue \n",i,masterIndex.nbEntryInUse);
 			return 1;
 		}	
-#ifdef CYG_MANGLING                
+#ifdef ADM_WIN32                
                 aprintf("Base : %I64x\n",second.base);
 #else                                
 		aprintf("Base : %llx\n",second.base);
@@ -278,7 +278,7 @@
 					(*index)[count].intra=0;
 				else 
 					(*index)[count].intra=AVI_KEY_FRAME;
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
                                 aprintf("Frame.off : %I64x, size %I64x\n",
                                         _idx[count].offset,
                                         _idx[count].size);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -248,7 +248,7 @@
 		// now read up each parts...
 		//____________________________
 		
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
                 
 #define DUMP_TRACK(i) aprintf(" at %I64u (%I64x) size : %I64u (%I64x)\n", \
                                 _Tracks[i].strh.offset,\

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_riff.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_riff.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/ADM_riff.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -30,7 +30,7 @@
 
 uint64_t riffParser::getPos( void ) 
 { 
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
         aprintf("pos : %I64u / %I64u \n",curPos,ftello(fd));
 #else
 	aprintf("pos : %llu / %llu \n",curPos,ftello(fd));
@@ -59,7 +59,7 @@
 }
 uint8_t riffParser::endReached(void)
 {
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
         aprintf("Cur : %I64u end : %I64u left: %I64u\n",curPos,endPos,endPos-curPos);
 #else
 	aprintf("Cur : %llu end : %llu left: %llu\n",curPos,endPos,endPos-curPos);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSFunctions.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -14,7 +14,7 @@
 #include <unistd.h>
 #include <sys/types.h>
 #include <sys/stat.h>
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 #include <sys/wait.h>
 #include <sys/param.h>
 #endif
@@ -311,7 +311,7 @@
         *rval=STRING_TO_JSVAL(JS_NewStringCopyZ(cx,n));
         return JS_TRUE;
 }
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 
 JSBool systemExecute(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval)
 {
@@ -414,7 +414,7 @@
 	return JS_TRUE;
 }// end systemExecute
 #endif
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 
 JSBool systemInclude(JSContext *cx, JSObject *obj, uintN argc, jsval *argv, jsval *rval)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSGlobal.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSGlobal.h	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSGlobal.h	2007-05-26 10:58:28 UTC (rev 3145)
@@ -19,7 +19,7 @@
 #else
 #define JSVAR(a,b,c) extern a b
 #endif
-#if defined( CYG_MANGLING) && defined(JSDECLARE)
+#if defined( ADM_WIN32) && defined(JSDECLARE)
  pthread_t g_pThreadSpidermonkey ;
 #else
 JSVAR( pthread_t, g_pThreadSpidermonkey , 0);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_script/DirectorySearch.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_script/DirectorySearch.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_script/DirectorySearch.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -14,7 +14,7 @@
 // Construction/Destruction
 //////////////////////////////////////////////////////////////////////
 
-#ifndef CYG_MANGLING  // def __unix__
+#ifndef ADM_WIN32  // def __unix__
 int CDirectorySearch::_findnext(unsigned long int hDir,_finddata_t *pfdData)
 {// begin _findnext
 	if(!hDir || hDir == 0xFFFFFFFF)
@@ -25,7 +25,7 @@
 	if(!pEntry)
 		return -1;
 	std::string sFilePath = "";
-#if defined( __linux__) || defined(__macosx__) || defined(CYG_MANGLING)
+#if defined( __linux__) || defined(__macosx__) || defined(ADM_WIN32)
 	strncpy(pfdData->name,pEntry->d_name,pEntry->d_reclen);
 	// append NULL terminator
 	pfdData->name[pEntry->d_reclen] = '\0';
@@ -50,7 +50,7 @@
 		pfdData->attrib |= _A_SUBDIR;
 	if(S_ISCHR(stInfo.st_mode) ||
 	S_ISBLK(stInfo.st_mode) ||
-#if !defined(CYG_MANGLING)	
+#if !defined(ADM_WIN32)	
 	S_ISLNK(stInfo.st_mode) ||
 	S_ISSOCK(stInfo.st_mode) ||
 #endif
@@ -100,7 +100,7 @@
 	const char *old=sDirectory.c_str();
 	s=new char[strlen(old)+10];
 	strcpy(s,old);
-#ifdef CYG_MANGLING	
+#ifdef ADM_WIN32	
 	strcat(s,"\\*");
 #endif
 	
@@ -112,7 +112,7 @@
 		printf("Find first failed\n");
 		return false;
 	}
-#ifdef CYG_MANGLING   //ndef __unix__
+#ifdef ADM_WIN32   //ndef __unix__
 	m_sDirectory = GetFileDirectory(sDirectory);
 #else
 	m_sDirectory = sDirectory;
@@ -149,7 +149,7 @@
 	for(int i = sFilePath.length()-1;i >= 0;i--)
 		if(sFilePath[i] == DIRECTORY_DELIMITOR)
 		{// begin copy directory name into buffer
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 			if(sFilePath[0] == DIRECTORY_DELIMITOR)
 			{
 				sFilePath.erase(0,1);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_script/DirectorySearch.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_script/DirectorySearch.h	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_script/DirectorySearch.h	2007-05-26 10:58:28 UTC (rev 3145)
@@ -14,7 +14,7 @@
 #if _MSC_VER > 1000
 #pragma once
 #endif // _MSC_VER > 1000
-#if defined( CYG_MANGLING) 
+#if defined( ADM_WIN32) 
 #include <io.h>
 #include <sys/stat.h>
 #else
@@ -27,7 +27,7 @@
 // create a non file bit for unix
 #define _A_NONFILE	0x03
 
-#if defined( __unix__) && !defined(__macosx__) && !defined(CYG_MANGLING)
+#if defined( __unix__) && !defined(__macosx__) && !defined(ADM_WIN32)
 
 // wrap the file mode bits
 #define _A_NORMAL	0x00
@@ -104,7 +104,7 @@
 	_finddata_t m_fdData;
 	std::string m_sDirectory;
 private:
-#ifndef CYG_MANGLING //def __unix__
+#ifndef ADM_WIN32 //def __unix__
 	// prototypes
 	int _findfirst(const char *path,_finddata_t *pfdData);
 	int _findnext(unsigned long int hDir,_finddata_t *pfdData);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_script/StdFile.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_script/StdFile.h	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_script/StdFile.h	2007-05-26 10:58:28 UTC (rev 3145)
@@ -23,7 +23,7 @@
 
 using namespace std;
 
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 	const char DIRECTORY_DELIMITOR = '\\';
 #else
 	const char DIRECTORY_DELIMITOR = '/';

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -43,7 +43,7 @@
 static void DIA_stop( void);
 static void change_priority(void);
 
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 static void shutdown_toggled(void);
 #endif
 
@@ -66,7 +66,7 @@
         
         gtk_register_dialog(dialog);
 
-	#ifndef CYG_MANGLING
+	#ifndef ADM_WIN32
 		// check for root privileges
 		if (getuid() != 0)
 		{
@@ -91,7 +91,7 @@
 
 		prefs->get(PRIORITY_ENCODING,&priority);
 
-	#ifndef CYG_MANGLING
+	#ifndef ADM_WIN32
 		// check for root privileges
 		if (getuid() == 0)
 		{
@@ -147,7 +147,7 @@
 
 void change_priority(void)
 {
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 	if (getuid() != 0)
 	{
 		gtk_signal_disconnect_by_func(GTK_OBJECT(WID(combobox_priority)), GTK_SIGNAL_FUNC(change_priority), NULL);
@@ -167,7 +167,7 @@
 	setpriority(PRIO_PROCESS, 0, ADM_getNiceValue(priorityLevel));
 }
 
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 void shutdown_toggled(void)
 {
 	if (getuid() != 0)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_gtkRender.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_gtkRender.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_gtkRender.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -22,7 +22,7 @@
 #include <unistd.h>
 
 #include <gtk/gtk.h>
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 #include <gdk/gdkx.h>
 #else
 #include <gdk/gdkwin32.h>
@@ -111,7 +111,7 @@
         GtkWidget *widget=(GtkWidget *)draw;
           
         win = gtk_widget_get_parent_window(widget);
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
         xinfo->window=	GDK_WINDOW_XWINDOW(widget->window);
         xinfo->display= GDK_WINDOW_XDISPLAY(win);
 #else

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -25,7 +25,7 @@
 #include <dirent.h>
 #include <errno.h>
 #include <sys/stat.h>
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 	#include <unistd.h>
 #endif
 
@@ -354,7 +354,7 @@
 	                                ** you cannot overwrite segment data files, all files are keeped open and
 	                                **   are detected here
 	                                */
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 					if( stat(name,&buf) == -1 ){
 						fprintf(stderr,"stat(%s) failed\n",name);
 						return;
@@ -466,7 +466,7 @@
 	{
 
                         selected_filename= (gchar *) 	gtk_file_chooser_get_filename(GTK_FILE_CHOOSER(dialog));
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
                         if (*(selected_filename + strlen(selected_filename) - 1) == '\\'){
 #else			
                         if (*(selected_filename + strlen(selected_filename) - 1) == '/'){

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/eggtray_win32.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/eggtray_win32.c	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/eggtray_win32.c	2007-05-26 10:58:28 UTC (rev 3145)
@@ -22,7 +22,7 @@
 
 /* Stub code to interface with Shell_NotifyIcon */
 #include <config.h>
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 #include <windows.h>
 #include <wingdi.h>
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/eggtrayicon.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/eggtrayicon.c	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/eggtrayicon.c	2007-05-26 10:58:28 UTC (rev 3145)
@@ -18,7 +18,7 @@
  * Boston, MA 02111-1307, USA.
  */
 #include "config.h"
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 
 #include <gtk/gtk.h>
 #include <gtk/gtkversion.h>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -22,7 +22,7 @@
 #include <stdlib.h>
 #include <time.h>
 #include <math.h>
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 #include <unistd.h>
 #endif
 #include <gtk/gtk.h>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -67,13 +67,13 @@
         // old one is no longer modal
         if(widgetCount)
         {
-#ifndef CYG_MANGLING                
+#ifndef ADM_WIN32                
                 gtk_window_set_modal(GTK_WINDOW(widgetStack[widgetCount-1]), 0);
 #endif
                 gtk_window_set_transient_for (GTK_WINDOW(newdialog),GTK_WINDOW(widgetStack[widgetCount-1]));
         }
         gtk_window_set_modal(GTK_WINDOW(widgetStack[widgetCount]), 1);
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
         gtk_window_set_icon(GTK_WINDOW(widgetStack[widgetCount]), gtk_window_get_icon (GTK_WINDOW(widgetStack[0])));
 #endif
         widgetCount++;
@@ -87,7 +87,7 @@
 	{
 		// Reset the old one modal
 		gtk_window_set_modal(GTK_WINDOW(widgetStack[widgetCount-1]), 1);
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 		gtk_window_present(GTK_WINDOW(widgetStack[widgetCount-1]));
 #endif
 	}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -43,7 +43,7 @@
 
 	void priorityChanged(int priorityLevel)
 	{
-	#ifndef CYG_MANGLING
+	#ifndef ADM_WIN32
 		if (getuid() != 0)
 		{
 			ui.comboBoxPriority->disconnect(SIGNAL(currentIndexChanged(int)));
@@ -61,7 +61,7 @@
 
 	void shutdownChanged(int state)
 	{
-	#ifndef CYG_MANGLING
+	#ifndef ADM_WIN32
 		if (getuid() != 0)
 		{
 			ui.checkBoxShutdown->disconnect(SIGNAL(stateChanged(int)));
@@ -83,7 +83,7 @@
  {
 	ui.setupUi(this);
 
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 	//check for root privileges
 	if (getuid() == 0)
 	{
@@ -101,7 +101,7 @@
 
 	prefs->get(PRIORITY_ENCODING,&priority);	
 
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 	// check for root privileges
 	if (getuid() == 0)
 	{

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -34,7 +34,7 @@
 #include <QPainter>
 #include <QImage>
 /* Probably on unix/X11 ..*/
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 #include <QX11Info>
 #endif
 #include "fourcc.h"
@@ -207,7 +207,7 @@
 */
 void UI_getWindowInfo(void *draw, GUI_WindowInfo *xinfo)
 {
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
         const QX11Info &info=videoWindow->x11Info();
         xinfo->display=info.display();
         xinfo->window=videoWindow->winId();

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -74,7 +74,7 @@
 #ifdef USE_VORBIS
         vorbis=1;
 #endif
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
         win32=1;
 #endif
 #ifdef USE_FAAC

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -242,10 +242,10 @@
 #ifdef CONFIG_DARWIN
 	MKADID(COREAUDIO),
 #endif
-#if	defined(USE_SDL) && !defined(CYG_MANGLING)	
+#if	defined(USE_SDL) && !defined(ADM_WIN32)	
 	MKADID(SDL),
 #endif	
-#ifdef CYG_MANGLING	
+#ifdef ADM_WIN32	
 	MKADID(WIN32),
 #endif	
 #ifdef USE_ESD	
@@ -279,7 +279,7 @@
      
         // Filter path
         if( prefs->get(FILTERS_AUTOLOAD_PATH, &filterPath) != RC_OK )
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
                filterPath = ADM_strdup("/tmp");
 #else
                filterPath = ADM_strdup("c:\\");

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/GUI_render.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/GUI_render.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/GUI_render.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -194,7 +194,7 @@
 	// in that case we do not even try to use accel
 	
 	// Win32 does not have display
-#ifndef CYG_MANGLING	
+#ifndef ADM_WIN32	
 	displ=getenv("DISPLAY");
 	if(!displ)
 	{

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/GUI_sdlRender.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/GUI_sdlRender.cpp	2007-05-26 08:16:40 UTC (rev 3144)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/GUI_sdlRender.cpp	2007-05-26 10:58:28 UTC (rev 3145)
@@ -48,7 +48,7 @@
 static SDL_Overlay *sdl_overlay=NULL;
 static SDL_Surface *sdl_display=NULL;
 static SDL_Rect disp;
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 HWND sdlWin32;
 #endif
 static ColBase *color=NULL;
@@ -104,7 +104,7 @@
             decoded=new uint8_t[w*h*2];
     }
         /* Hack to get SDL to use GTK window, ugly but works */
-#if !defined(CONFIG_DARWIN) && !defined(CYG_MANGLING)
+#if !defined(CONFIG_DARWIN) && !defined(ADM_WIN32)
         { char SDL_windowhack[32];
           int winid=(int)window->window;
                 sprintf(SDL_windowhack,"SDL_WINDOWID=%ld",winid);
@@ -128,7 +128,7 @@
         
         }
         SDL_LockSurface(sdl_display);
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 	struct SDL_SysWMinfo wmInfo;
 	SDL_VERSION(&wmInfo.version);
        if(-1 != SDL_GetWMInfo(&wmInfo))



From mean at mail.berlios.de  Sat May 26 13:01:32 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 26 May 2007 13:01:32 +0200
Subject: [Avidemux-svn-commit] r3146 - in
	branches/avidemux_2.4_branch/avidemux: . ADM_audiofilter
	ADM_editor ADM_filter ADM_libraries/ADM_libwrapper
	ADM_libraries/ADM_mplex ADM_libraries/ADM_utilities
	ADM_requant ADM_toolkit
Message-ID: <200705261101.l4QB1WNF027016@sheep.berlios.de>

Author: mean
Date: 2007-05-26 13:01:30 +0200 (Sat, 26 May 2007)
New Revision: 3146

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_assert.h
   branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_normalize.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_filter/filter_dylib.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.h
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_amrnb.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_dca.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/ADM_mplexin.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/avifmt.h
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/avifmt2.h
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/default.h
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/prefs.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_requant/tcrequant.c
   branches/avidemux_2.4_branch/avidemux/ADM_toolkit/automation.cpp
Log:
cyg_mangling -> win32

Modified: branches/avidemux_2.4_branch/avidemux/ADM_assert.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_assert.h	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_assert.h	2007-05-26 11:01:30 UTC (rev 3146)
@@ -58,7 +58,7 @@
 }
 #endif
 // Compatibility with fprintf etc.. with long long & win32
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
         #define LLX "I64x"
         #define LLU "I64u"
         

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_normalize.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_normalize.cpp	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiofilter_normalize.cpp	2007-05-26 11:01:30 UTC (rev 3146)
@@ -41,7 +41,7 @@
 extern AVDMGenericAudioStream *currentaudiostream;
 
 
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 #ifdef ADM_BSD_FAMILY
                 #define POW10(x) powf(10.0,x)
 #else

Modified: branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edit.cpp	2007-05-26 11:01:30 UTC (rev 3146)
@@ -26,7 +26,7 @@
 #include <pthread.h>
 #define WIN32_CLASH
 //#include <unistd.h>
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 #include "sys/stat.h"
 #endif
 #ifdef ADM_BSD_FAMILY
@@ -352,7 +352,7 @@
                     printf("Filesystem is writable\n");
 		}else if( errno == EROFS ){
 		  char *tmpdir = getenv("TMPDIR");
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
                         printf("Filesystem is not writable, looking for somewhere else\n");
 			if( !tmpdir )
 				tmpdir = "c:";

Modified: branches/avidemux_2.4_branch/avidemux/ADM_filter/filter_dylib.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_filter/filter_dylib.cpp	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_filter/filter_dylib.cpp	2007-05-26 11:01:30 UTC (rev 3146)
@@ -22,7 +22,7 @@
 #include <stdlib.h>
 #include <string.h>
 #define WIN32_CLASH
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 #include <windows.h> 
 #ifdef USE_EDLL
 #include "edll/edll.h"
@@ -50,7 +50,7 @@
 #include "ADM_osSupport/ADM_debug.h"
 #include "ADM_osSupport/ADM_quota.h"
 
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 #ifdef USE_EDLL
 #define TYPEOFHANDLE     edll_module *
 #define OPENLIB(x)       edll_open(x)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.cpp	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.cpp	2007-05-26 11:01:30 UTC (rev 3146)
@@ -3,7 +3,7 @@
 #include <stdlib.h>
 #include <stdio.h>
 #include "default.h"
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 #include <windows.h>
 #else
 #include <dlfcn.h>
@@ -23,7 +23,7 @@
 	{
 		printf("Unloading library 0x%08x\n", hinstLib);
 
-	#ifdef CYG_MANGLING
+	#ifdef ADM_WIN32
 		FreeLibrary((HINSTANCE) hinstLib);
 	#else
 		dlclose(hinstLib);
@@ -36,7 +36,7 @@
 	return initialised;
 }
 
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 char* ADM_LibWrapper::formatMessage(uint32_t msgCode)
 {
 	char* lpMsgBuf;
@@ -49,7 +49,7 @@
 
 bool ADM_LibWrapper::loadLibrary(const char* path)
 {
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 	hinstLib = LoadLibrary(path);
 
 	if (hinstLib == NULL)
@@ -87,7 +87,7 @@
 
 void* ADM_LibWrapper::getSymbol(const char* name)
 {
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 	void* procAddr = (void*)GetProcAddress((HINSTANCE) hinstLib, name);
 
 	if (procAddr == NULL)
@@ -113,7 +113,7 @@
 
 bool ADM_LibWrapper::getSymbols(int symCount, ...)
 {
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
     va_list va;
     va_start(va, symCount);
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.h	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper.h	2007-05-26 11:01:30 UTC (rev 3146)
@@ -7,7 +7,7 @@
 		void* hinstLib;
 		bool initialised;
 
-	#ifdef CYG_MANGLING
+	#ifdef ADM_WIN32
 		virtual char* formatMessage(uint32_t msgCode);
 	#endif
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_amrnb.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_amrnb.cpp	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_amrnb.cpp	2007-05-26 11:01:30 UTC (rev 3146)
@@ -8,7 +8,7 @@
 ADM_LibWrapperAmrnb::ADM_LibWrapperAmrnb() : ADM_LibWrapper()
 {
 #ifdef USE_LATE_BINDING
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 	char* libname = "libamrnb-2.dll";
 #else
 	char* libname = "libamrnb-2.so";	// ???

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_dca.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_dca.cpp	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/libwrapper_dca.cpp	2007-05-26 11:01:30 UTC (rev 3146)
@@ -8,7 +8,7 @@
 ADM_LibWrapperDca::ADM_LibWrapperDca() : ADM_LibWrapper()
 {
 #ifdef USE_LATE_BINDING
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 	char* libname = "libdts.dll";
 #else
 	char* libname = "libdts.so";	// ???

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/ADM_mplexin.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/ADM_mplexin.cpp	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/ADM_mplexin.cpp	2007-05-26 11:01:30 UTC (rev 3146)
@@ -17,7 +17,7 @@
 #include <string.h>
 #include <sys/stat.h>
 #include <errno.h>
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 #include <io.h>
 #endif
 #include "interact.hpp"
@@ -63,7 +63,7 @@
   char msg[512];
    while( !(strm = fopen( cur_filename, "wb" )) ){
       if( errno == ENOSPC
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
                           || errno == EDQUOT
 #endif
                                              ){
@@ -129,7 +129,7 @@
          continue;
       }
       if( rc == -1 && (errno == ENOSPC
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
                                        || errno == EDQUOT
 #endif
                                                           ) ){

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/avifmt.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/avifmt.h	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/avifmt.h	2007-05-26 11:01:30 UTC (rev 3146)
@@ -13,7 +13,7 @@
 #ifndef NOAVIFMT
 
 #ifndef __WINE_WINDEF_H
-#if !defined( WIN32_CLASH) || !defined(CYG_MANGLING)
+#if !defined( WIN32_CLASH) || !defined(ADM_WIN32)
 #define LOBYTE(w)              ((uint8_t)(uint16_t)(w))
 #define HIBYTE(w)              ((uint8_t)((uint16_t)(w) >> 8))
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/avifmt2.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/avifmt2.h	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/avifmt2.h	2007-05-26 11:01:30 UTC (rev 3146)
@@ -21,7 +21,7 @@
 #ifndef __AVIFMT2__
 #define __AVIFMT2__
 
-#if !defined( WIN32_CLASH) || !defined(CYG_MANGLING)
+#if !defined( WIN32_CLASH) || !defined(ADM_WIN32)
 typedef struct
 {
     uint32_t 		biSize;
@@ -50,14 +50,14 @@
 
 
 typedef struct _avistdindex_chunk {
-/*	uint32_t 		fcc;					// ?ix##?
+/*	uint32_t 		fcc;					// ???ix##???
 	DWORD 			cb;
 */
 	uint16_t 	wLongsPerEntry;		// must be sizeof(aIndex[0])/sizeof(DWORD)
 	uint8_t 	bIndexSubType;			// must be 0
 	uint8_t 	bIndexType;			// must be AVI_INDEX_OF_CHUNKS
 	uint32_t 	nEntriesInUse;		//
-	uint32_t 	dwChunkId;			// ?##dc? or ?##db? or ?##wb? etc..
+	uint32_t 	dwChunkId;			// ???##dc??? or ???##db??? or ???##wb??? etc..
 /*	QUADWORD 	qwBaseOffset;		// all dwOffsets in aIndex array are
 														// relative to this
 */

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/default.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/default.h	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/default.h	2007-05-26 11:01:30 UTC (rev 3146)
@@ -99,7 +99,7 @@
 #if (defined( HAVE_LIBESD) && defined(HAVE_ESD_H)) || \
  defined(OSS_SUPPORT) || defined (USE_ARTS) || \
   defined(USE_SDL) || defined(CONFIG_DARWIN) || \
-  defined(CYG_MANGLING) || defined(ALSA_SUPPORT)
+  defined(ADM_WIN32) || defined(ALSA_SUPPORT)
   
 #define HAVE_AUDIO
 #endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/prefs.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/prefs.cpp	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/prefs.cpp	2007-05-26 11:01:30 UTC (rev 3146)
@@ -420,7 +420,7 @@
         strcat(rcfile,CONFIG);
 
 
-#if defined(CYG_MANGLING)
+#if defined(ADM_WIN32)
 	xmlSetDocCompressMode(xdoc,9);
 	if( xmlSaveFormatFile(rcfile,xdoc,1) == -1 ){
            fprintf(stderr,"\ncan't save xml tree to file. Filesystem full?\n\n");

Modified: branches/avidemux_2.4_branch/avidemux/ADM_requant/tcrequant.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_requant/tcrequant.c	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_requant/tcrequant.c	2007-05-26 11:01:30 UTC (rev 3146)
@@ -85,7 +85,7 @@
 
 // user defined types
 //typedef unsigned int		uint;
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 	#define uint unsigned int
 #endif
 #ifdef ADM_BSD_FAMILY

Modified: branches/avidemux_2.4_branch/avidemux/ADM_toolkit/automation.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_toolkit/automation.cpp	2007-05-26 10:58:28 UTC (rev 3145)
+++ branches/avidemux_2.4_branch/avidemux/ADM_toolkit/automation.cpp	2007-05-26 11:01:30 UTC (rev 3146)
@@ -22,7 +22,7 @@
 #include <stdlib.h>
 //#include <glib.h>
 #include <signal.h>
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 #include <unistd.h>
 #endif
 #include <math.h>



From mean at mail.berlios.de  Sat May 26 13:03:02 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 26 May 2007 13:03:02 +0200
Subject: [Avidemux-svn-commit] r3147 - in
	branches/avidemux_2.4_branch/avidemux: . ADM_audio
	ADM_osSupport ADM_video
Message-ID: <200705261103.l4QB32dT029871@sheep.berlios.de>

Author: mean
Date: 2007-05-26 13:03:01 +0200 (Sat, 26 May 2007)
New Revision: 3147

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_audio/audio_packetizer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_crashdump.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_fileio.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_misc.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_misc.h
   branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_quota.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_osSupport/TLK_clock.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_osSupport/win32.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidAnimated.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidSRTload.cpp
   branches/avidemux_2.4_branch/avidemux/avi_vars.h
   branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
   branches/avidemux_2.4_branch/avidemux/main.cpp
Log:
cygmangling->adm_win32

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audio/audio_packetizer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audio/audio_packetizer.cpp	2007-05-26 11:01:30 UTC (rev 3146)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audio/audio_packetizer.cpp	2007-05-26 11:03:01 UTC (rev 3147)
@@ -24,7 +24,7 @@
 #include <string.h>
 #include <ADM_assert.h>
 #include <math.h>
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 #include <io.h>
 #endif
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_crashdump.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_crashdump.cpp	2007-05-26 11:01:30 UTC (rev 3146)
+++ branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_crashdump.cpp	2007-05-26 11:03:01 UTC (rev 3147)
@@ -37,7 +37,7 @@
 static void saveCrashProject(void);
 extern char *ADM_getBaseDir(void);
 extern void A_parseECMAScript(const char *name);
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 void installSigHandler()
 {
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_fileio.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_fileio.cpp	2007-05-26 11:01:30 UTC (rev 3146)
+++ branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_fileio.cpp	2007-05-26 11:03:01 UTC (rev 3147)
@@ -50,7 +50,7 @@
 FILE  *ADM_fopen (const char *file, const char *mode)
 {
   FILE *f;
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
   return fopen(file,mode); 
 #else
   
@@ -73,7 +73,7 @@
 int baseDirDone=0;
 int jobDirDone=0;
 int customDirDone=0;
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 const char *ADM_DIR_NAME="\\avidemux";
 #else
 const char *ADM_DIR_NAME="/.avidemux";
@@ -92,7 +92,7 @@
   char *rootDir;
   rootDir=ADM_getBaseDir();
   strncpy(customdir,rootDir,1023);
-#if defined(CYG_MANGLING)
+#if defined(ADM_WIN32)
   strcat(customdir,"\\custom"); 
 #else
   strcat(customdir,"/custom");
@@ -116,7 +116,7 @@
   char *rootDir;
   rootDir=ADM_getBaseDir();
   strncpy(jobdir,rootDir,1023);
-#if defined(CYG_MANGLING)
+#if defined(ADM_WIN32)
   strcat(jobdir,"\\jobs"); 
 #else
   strcat(jobdir,"/jobs");
@@ -140,7 +140,7 @@
 //
         if(baseDirDone) return basedir;
 // Get the base directory
-#if defined(CYG_MANGLING)
+#if defined(ADM_WIN32)
         if( ! (home=getenv("USERPROFILE")) )
         {
           GUI_Error_HIG(_("Oops"),_("can't determine $USERPROFILE."));
@@ -189,7 +189,7 @@
                   closedir(dir);
                   return 1;
               }
-#if defined(CYG_MANGLING)
+#if defined(ADM_WIN32)
                 if(mkdir(dirname))
                 {
                     printf("Oops: mkdir failed on %s\n",dirname);   
@@ -294,14 +294,14 @@
 	{
 		out=new char [strlen(path)+2];
 		strcpy(out,path);
-#ifndef CYG_MANGLING		
+#ifndef ADM_WIN32		
 		strcat(out,"/");
 #else
 		strcat(out,"\\");
 #endif	
 		printf("\n Canonizing null string ??? (%s)\n",out);
 	}else if(tmpname[0]=='/'
-#if defined(CYG_MANGLING)
+#if defined(ADM_WIN32)
 		|| tmpname[1]==':'
 #endif	
 	
@@ -313,7 +313,7 @@
 	}else{
 		out=new char[strlen(path)+strlen(tmpname)+6];
 		strcpy(out,path);
-#ifndef CYG_MANGLING		
+#ifndef ADM_WIN32		
 		strcat(out,"/");
 #else
 		strcat(out,"\\");
@@ -332,7 +332,7 @@
 		int len=strlen(str);
 		if(len<=1) return;
 		len--;
-#ifndef CYG_MANGLING		
+#ifndef ADM_WIN32		
 		while( *(str+len)!='/' && len)
 #else
 	while( *(str+len)!='\\' && len)
@@ -351,7 +351,7 @@
 {
 	char *filename;
         char *filename2;
-#ifndef CYG_MANGLING		
+#ifndef ADM_WIN32		
 	filename = strrchr(str, '/');
         
 #else

Modified: branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_misc.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_misc.cpp	2007-05-26 11:01:30 UTC (rev 3146)
+++ branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_misc.cpp	2007-05-26 11:03:01 UTC (rev 3147)
@@ -23,7 +23,7 @@
 #include <time.h>
 #include <math.h>
 #include <string.h>
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 #include <unistd.h>
 #endif
 //#include <gtk/gtk.h>
@@ -322,12 +322,12 @@
   
 }
 
-bool shutdown(void)
-{
-#ifdef CYG_MANGLING
-	return (shutdown_win32() == 0);
-#else
-	return (system("shutdown -P 0") == 0);
-#endif
+bool shutdown(void)
+{
+#ifdef ADM_WIN32
+	return (shutdown_win32() == 0);
+#else
+	return (system("shutdown -P 0") == 0);
+#endif
 }
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_misc.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_misc.h	2007-05-26 11:01:30 UTC (rev 3146)
+++ branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_misc.h	2007-05-26 11:03:01 UTC (rev 3147)
@@ -73,7 +73,7 @@
 	#endif
 #endif
 
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 	#define PRIO_MIN -20
 	#define PRIO_MAX 20
 	#define PRIO_PROCESS 0

Modified: branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_quota.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_quota.cpp	2007-05-26 11:01:30 UTC (rev 3146)
+++ branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_quota.cpp	2007-05-26 11:03:01 UTC (rev 3147)
@@ -73,7 +73,7 @@
 	while( !FD ){
 		FD = fopen (path,mode);
 		if( !FD && (errno == ENOSPC 
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 || errno == EDQUOT
 #endif
 ) ){
@@ -156,7 +156,7 @@
 			continue;
 		}
 		if( rc == -1 && (errno == ENOSPC 
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 || errno == EDQUOT
 #endif
 ) ){

Modified: branches/avidemux_2.4_branch/avidemux/ADM_osSupport/TLK_clock.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_osSupport/TLK_clock.cpp	2007-05-26 11:01:30 UTC (rev 3146)
+++ branches/avidemux_2.4_branch/avidemux/ADM_osSupport/TLK_clock.cpp	2007-05-26 11:03:01 UTC (rev 3147)
@@ -47,7 +47,7 @@
 static struct timeval _itimev;
 static uint32_t getAbsTime( void );
 
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
 #include "unistd.h"
 void ADM_usleep(unsigned long us)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_osSupport/win32.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_osSupport/win32.cpp	2007-05-26 11:01:30 UTC (rev 3146)
+++ branches/avidemux_2.4_branch/avidemux/ADM_osSupport/win32.cpp	2007-05-26 11:03:01 UTC (rev 3147)
@@ -6,7 +6,7 @@
 #include "ADM_misc.h"
 
 
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 #include "windows.h"
 #include "winbase.h"
 #include "io.h"

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidAnimated.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidAnimated.cpp	2007-05-26 11:01:30 UTC (rev 3146)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidAnimated.cpp	2007-05-26 11:03:01 UTC (rev 3147)
@@ -125,7 +125,7 @@
             MKP(isNTSC,0);
             MKP(vignetteW,160);
             MKP(vignetteH,120);
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
        MKP(backgroundImg,(ADM_filename *)ADM_strdup("c:\\test.jpg"));
 #else
             MKP(backgroundImg,(ADM_filename *)ADM_strdup("/tmp/taist.jpg"));

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidSRTload.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidSRTload.cpp	2007-05-26 11:01:30 UTC (rev 3146)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidSRTload.cpp	2007-05-26 11:03:01 UTC (rev 3147)
@@ -450,7 +450,7 @@
 	// Get the amound of utf16...
 	done=(ADM_RAW-sout)>>1;
 // For win32 we swap le and be
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
        ADM_GLYPH_T glyph;
        for(uint32_t w=0;w<done;w++)
        {

Modified: branches/avidemux_2.4_branch/avidemux/avi_vars.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/avi_vars.h	2007-05-26 11:01:30 UTC (rev 3146)
+++ branches/avidemux_2.4_branch/avidemux/avi_vars.h	2007-05-26 11:03:01 UTC (rev 3147)
@@ -19,7 +19,7 @@
 #if (defined( HAVE_LIBESD) && defined(HAVE_ESD_H)) || \
  defined(OSS_SUPPORT) || defined (USE_ARTS) || \
   defined(USE_SDL) || defined(CONFIG_DARWIN) || \
-  defined(CYG_MANGLING) || defined(ALSA_SUPPORT)
+  defined(ADM_WIN32) || defined(ALSA_SUPPORT)
   
 #define HAVE_AUDIO
 #endif

Modified: branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2007-05-26 11:01:30 UTC (rev 3146)
+++ branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2007-05-26 11:03:01 UTC (rev 3147)
@@ -976,7 +976,7 @@
             setCurrentMixerFromString("NONE");
         }
 	for(i=strlen(longname);i>=0;i--)
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 		if( longname[i] == '\\' ){
 #else
 		if( longname[i] == '/' ){

Modified: branches/avidemux_2.4_branch/avidemux/main.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/main.cpp	2007-05-26 11:01:30 UTC (rev 3146)
+++ branches/avidemux_2.4_branch/avidemux/main.cpp	2007-05-26 11:03:01 UTC (rev 3147)
@@ -28,7 +28,7 @@
 #endif
 #include "default.h"
 
-#ifdef CYG_MANGLING
+#ifdef ADM_WIN32
 #define WIN32_CLASH
 #include "windows.h"
 #include "wingdi.h"
@@ -141,7 +141,7 @@
 #endif
 #ifdef HAVE_GETTEXT
   char *local=setlocale (LC_ALL, "");
-#ifndef CYG_MANGLING
+#ifndef ADM_WIN32
   bindtextdomain ("avidemux", ADMLOCALE);
 #else
   bindtextdomain ("avidemux", "./share/locale");
@@ -157,7 +157,7 @@
   local=textdomain(NULL);
   if(local)
     printf("[Locale] Textdomain is now  %s \n",local);
-#ifndef CYG_MANGLING  
+#ifndef ADM_WIN32  
   printf("[Locale] Files for %s appear to be in %s\n","avidemux", ADMLOCALE);
 #endif
   printf("[Locale] Test: %s \n",dgettext("avidemux","_File"));
@@ -185,7 +185,7 @@
 
 
     
-#ifdef CYG_MANGLING    
+#ifdef ADM_WIN32    
     win32_netInit();
 #endif
     UI_Init(argc,argv);



From mean at mail.berlios.de  Sat May 26 13:03:58 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 26 May 2007 13:03:58 +0200
Subject: [Avidemux-svn-commit] r3148 - branches/avidemux_2.4_branch
Message-ID: <200705261103.l4QB3wH1031320@sheep.berlios.de>

Author: mean
Date: 2007-05-26 13:03:57 +0200 (Sat, 26 May 2007)
New Revision: 3148

Modified:
   branches/avidemux_2.4_branch/configure.in.in
Log:
cyg_mangling->adm_win32

Modified: branches/avidemux_2.4_branch/configure.in.in
===================================================================
--- branches/avidemux_2.4_branch/configure.in.in	2007-05-26 11:03:01 UTC (rev 3147)
+++ branches/avidemux_2.4_branch/configure.in.in	2007-05-26 11:03:57 UTC (rev 3148)
@@ -407,6 +407,7 @@
 if test "x$use_cygwin" = "xyes"; then
 	AC_DEFINE(MEMALIGN_HACK,1,"SSE on Cywin")
 	AC_DEFINE(CYG_MANGLING,1,"Name mangling")
+	AC_DEFINE(ADM_WIN32,1,"Build for windows 32bits")
 	AC_DEFINE(rindex,ADM_rindex,"rindex does not exist on Cygwin")
 	AC_DEFINE(index,ADM_index,"rindex does not exist on Cygwin")
 	AC_DEFINE(fseeko,fseeko_adm,"")



From mean at mail.berlios.de  Sat May 26 14:31:03 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 26 May 2007 14:31:03 +0200
Subject: [Avidemux-svn-commit] r3149 - branches/avidemux_2.4_branch/po
Message-ID: <200705261231.l4QCV368000665@sheep.berlios.de>

Author: mean
Date: 2007-05-26 14:30:55 +0200 (Sat, 26 May 2007)
New Revision: 3149

Modified:
   branches/avidemux_2.4_branch/po/fr.po
   branches/avidemux_2.4_branch/po/ja.po
Log:
fr & ja translations update

Modified: branches/avidemux_2.4_branch/po/fr.po
===================================================================
--- branches/avidemux_2.4_branch/po/fr.po	2007-05-26 11:03:57 UTC (rev 3148)
+++ branches/avidemux_2.4_branch/po/fr.po	2007-05-26 12:30:55 UTC (rev 3149)
@@ -7,7 +7,7 @@
 "Project-Id-Version: fr\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: 2007-04-24 13:16+0100\n"
-"PO-Revision-Date: 2007-05-17 20:37+0100\n"
+"PO-Revision-Date: 2007-05-26 12:38+0100\n"
 "Last-Translator: \n"
 "Language-Team: Mean <fr at li.org>\n"
 "MIME-Version: 1.0\n"
@@ -1747,7 +1747,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:71
 msgid "Multiplatform video editor"
-msgstr "Editeur Vid?o Multi-plateforme francis? par OliverDivX"
+msgstr "Editeur Vid?o Multi-plateforme"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:72
 msgid ""

Modified: branches/avidemux_2.4_branch/po/ja.po
===================================================================
--- branches/avidemux_2.4_branch/po/ja.po	2007-05-26 11:03:57 UTC (rev 3148)
+++ branches/avidemux_2.4_branch/po/ja.po	2007-05-26 12:30:55 UTC (rev 3149)
@@ -1,4540 +1,6675 @@
+# Japanese Translation.
+# Copyright (C) YEAR THE PACKAGE'S COPYRIGHT HOLDER
+# This file is distributed under the same license as the PACKAGE package.
+# tetsuro <imai_family at ma.akari.ne.jp>, 2007.
+#
 msgid ""
 msgstr ""
 "Project-Id-Version: ja\n"
-"POT-Creation-Date: 2007-03-24 15:57+0100\n"
-"PO-Revision-Date: 2007-05-10 17:45+0900\n"
+"Report-Msgid-Bugs-To: \n"
+"POT-Creation-Date: 2007-05-24 21:16+0100\n"
+"PO-Revision-Date: 2007-05-26 18:16+0900\n"
 "Last-Translator: tetsuro\n"
 "Language-Team: Japan\n"
 "MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=utf-8\n"
+"Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Poedit-Language: Japanese\n"
-"X-Poedit-Country: JAPAN\n"
-"X-Poedit-SourceCharset: utf-8\n"
 
-msgid ""
-"\n"
-" Reuse the existing log-file ?"
-msgstr ""
-"\n"
-" ????????????????? ?"
+#: avidemux/ADM_audio/audiotimeline.cpp:83
+#: avidemux/ADM_audio/audiotimeline.cpp:94
+msgid "Building VBR map"
+msgstr "VBR???????"
 
-msgid " "
-msgstr "?"
+#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:75
+#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:183
+msgid "Internal error"
+msgstr "?????"
 
-msgid "  "
-msgstr "??"
+#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:75
+msgid "Cannot open WMA2 codec."
+msgstr "WMA2???????????."
 
-msgid "  Job Name  "
-msgstr "  ????  "
+#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:183
+msgid "Cannot open AMR codec."
+msgstr "AMR???????????."
 
-msgid " 0000000"
-msgstr " 0000000"
+#: avidemux/ADM_audiodevice/ADM_deviceoss.cpp:118
+msgid "Could not open OSS audio device"
+msgstr "OSS ????????????"
 
-msgid " Error X:"
-msgstr " ?? X:"
+#: avidemux/ADM_audiodevice/ADM_deviceoss.cpp:118
+msgid "Check the permissions for /dev/dsp."
+msgstr "/dev/dsp ????????????????."
 
-msgid " Error Y:"
-msgstr " ?? Y:"
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:215
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:104
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:223
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:110
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:101
+#, c-format
+msgid "Stereo"
+msgstr "????"
 
-msgid " Height "
-msgstr "??"
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:216
+msgid "Joint stereo"
+msgstr "?????????"
 
-msgid " No"
-msgstr "????"
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:217
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:103
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:107
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:98
+#, c-format
+msgid "Mono"
+msgstr "??"
 
-msgid " Text:"
-msgstr "????:"
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:219
+msgid "C_hannel mode:"
+msgstr "????????(_H):"
 
-msgid " Width "
-msgstr "?"
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:222
+msgid "CBR"
+msgstr "CBR"
 
-msgid " Yes"
-msgstr "???"
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:223
+msgid "ABR"
+msgstr "ABR"
 
-msgid "\"%s\" does not exist."
-msgstr "\"%s\" ??????."
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:225
+msgid "Extreme"
+msgstr ""
 
-msgid "# of Glyphs :"
-msgstr "?????:"
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:228
+msgid "Bit_rate mode:"
+msgstr "?????????(_R):"
 
-msgid "# of frames"
-msgstr "?????"
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:241
+#: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:287
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioconfig.cpp:59
+msgid "_Bitrate:"
+msgstr "??????(_B):"
 
-msgid "# of lines"
-msgstr "??"
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:246
+#: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:289
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_mjpeg.cpp:40
+msgid "_Quality:"
+msgstr "??(_Q):"
 
-msgid "-/-"
-msgstr "-/-"
+#: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:270
+msgid "VBR"
+msgstr "VBR"
 
-msgid "...are reduced by (%):"
-msgstr "...? (%) ?????:"
+#: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:271
+msgid "Quality based"
+msgstr "??????"
 
-msgid "/0000000"
-msgstr "/0000000"
+#: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:273
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:91
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:113
+msgid "_Mode:"
+msgstr "???(_M):"
 
-msgid "/00:00:00,000"
-msgstr "/00:00:00,000"
+#: avidemux/ADM_audiofilter/audiofilter_buildchain.cpp:322
+#: avidemux/gui_autodrive.cpp:82
+#: avidemux/gui_autodrive.cpp:116
+msgid "Codec Error"
+msgstr "????????"
 
-msgid "/dev/null"
-msgstr "NUL"
+#: avidemux/ADM_audiofilter/audiofilter_buildchain.cpp:322
+msgid ""
+"The number of channels is greater than what the selected audio codec can do.\n"
+"Either change codec or use the mixer filter to have less channels."
+msgstr ""
+"????????????????????????????.\n"
+"????????????????????????????????????????."
 
-msgid "0 (read manual)"
-msgstr "0 (???????)"
+#: avidemux/ADM_codecs/ADM_ffmp43.cpp:52
+msgid "Internal error finding codec"
+msgstr "??????????????"
 
-msgid "0 - None"
-msgstr "0 - ??"
+#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:51
+msgid "Internal error opening codec"
+msgstr "???????????????"
 
-msgid "0 - Off"
-msgstr "0 - ??"
+#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:53
+msgid "Internal error with context for  codec"
+msgstr "??????????????"
 
+#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:53
 msgid ""
-"0 = default from core (let XviD decide), else overflow payback percent per "
-"frame"
+".\n"
+" Did you use too low / too high target for 2 pass ?"
 msgstr ""
-"0 = ??????????(XviD??????)???? = ???????????"
-"?????????"
+".\n"
+" ???????????/??????????? ?"
 
-msgid "00:00:00.000"
-msgstr "00:00:00.000"
+#: avidemux/ADM_editor/ADM_edFrameType.cpp:58
+msgid "No video loaded"
+msgstr "???????????"
 
-msgid "0:0:0"
-msgstr "0:0:0"
+#: avidemux/ADM_editor/ADM_edFrameType.cpp:63
+msgid "Not indexable"
+msgstr "?????????????"
 
-msgid "1"
-msgstr "1"
+#: avidemux/ADM_editor/ADM_edFrameType.cpp:63
+msgid "DivX 5 + packed?"
+msgstr "DivX5 + ?????"
 
-msgid "1  - Extremely Low (Fastest)"
-msgstr "1  - ????? (??)"
+#: avidemux/ADM_editor/ADM_edFrameType.cpp:93
+msgid "Rebuilding Frames"
+msgstr "?????????"
 
-msgid "1 (read manual)"
-msgstr "1 (???????)"
+#: avidemux/ADM_editor/ADM_edFrameType.cpp:129
+msgid "Aborted"
+msgstr "??????"
 
-msgid "1 - Mode decision"
-msgstr "1 - ?????"
+#: avidemux/ADM_editor/ADM_edit.cpp:400
+msgid "File type identified but no loader support detected..."
+msgstr "???????????????????????????????..."
 
-msgid "1 - Very low"
-msgstr "1 - ?????"
+#: avidemux/ADM_editor/ADM_edit.cpp:401
+msgid "May be related to an old index file."
+msgstr "????????????????????????."
 
-msgid "1- Very low"
-msgstr "1 - ?????"
+#: avidemux/ADM_editor/ADM_edit.cpp:408
+#, c-format
+msgid "Attempt to open %s failed!"
+msgstr "%s ????????????!"
 
-msgid "16 round up"
-msgstr "16????"
+#: avidemux/ADM_editor/ADM_edit.cpp:432
+msgid ""
+"You cannot mix different video dimensions yet. Using the partial video filter later, will not work around this problem. The workaround is:\n"
+"1.) \"resize\" / \"add border\" / \"crop\" each stream to the same resolution\n"
+"2.) concatinate them together"
+msgstr ""
+"?????????????????. ???????????????????????????????. ???:\n"
+"1.) ??????? \"resize\" / \"add border\" / \"crop\" ????????????\n"
+"2.) ??????????"
 
-msgid "180 degrees"
-msgstr "180 ?"
+#: avidemux/ADM_editor/ADM_edit.cpp:544
+msgid "Build Time Map"
+msgstr "???????????"
 
-msgid "1:1"
-msgstr "1:1"
+#: avidemux/ADM_editor/ADM_edit.cpp:544
+msgid "Build VBR time map?"
+msgstr "VBR ???????????????"
 
-msgid "2  - Very Low"
-msgstr "2  - ?????"
+#: avidemux/ADM_editor/ADM_edit.cpp:578
+msgid "Use that mode"
+msgstr "????????"
 
-msgid "2 (read manual)"
-msgstr "2 (???????)"
+#: avidemux/ADM_editor/ADM_edit.cpp:578
+msgid "H264 detected"
+msgstr "H264???????"
 
-msgid "2 - Limited search"
-msgstr "2 - ????"
+#: avidemux/ADM_editor/ADM_edit.cpp:578
+msgid ""
+"If the file is using bframe as reference, it can lead to crash or stutteting.\n"
+"Avidemux can use another mode which is safed but <b>YOU WILL LOOSE FRAME ACCURACY</b>.\n"
+"Do you want to use that mode ?"
+msgstr ""
+"???????B-?????????????????????????????????????\n"
+"Avidemux ?????????????????????<b>???????????????????</b>.\n"
+"??????????? ?"
 
-msgid "2 - Low"
-msgstr "2 - ??"
+#: avidemux/ADM_editor/ADM_edit.cpp:705
+msgid "Packed Bitstream detected"
+msgstr "???????????????????"
 
-msgid "2- Low"
-msgstr "2 - ??"
+#: avidemux/ADM_editor/ADM_edit.cpp:706
+msgid "Do you want me to unpack it ?"
+msgstr "???????????? ?"
 
-msgid "270 degrees"
-msgstr "270 ?"
+#: avidemux/ADM_editor/ADM_edit.cpp:726
+msgid "Could not unpack the video"
+msgstr "?????????????"
 
-msgid "3  - Low"
-msgstr "3  - ??"
+#: avidemux/ADM_editor/ADM_edit.cpp:726
+msgid "Using backup decoder - not frame accurate."
+msgstr "????????????? - ???????????."
 
-msgid "3 - Medium"
-msgstr "3 - ????"
+#: avidemux/ADM_editor/ADM_edit.cpp:731
+msgid "Weird"
+msgstr ""
 
-msgid "3 - Medium search"
-msgstr "3 - ????"
+#: avidemux/ADM_editor/ADM_edit.cpp:731
+msgid "The unpacking succeedeed but the index is still not up to date."
+msgstr "???????????????????????????????."
 
-msgid "3- Medium"
-msgstr "3 - ????"
+#: avidemux/ADM_editor/ADM_edit.cpp:737
+msgid "Troubles ahead"
+msgstr ""
 
-msgid "3:2 Pulldown"
-msgstr "3:2 ?????"
+#: avidemux/ADM_editor/ADM_edit.cpp:737
+msgid "This a VOP packed AVI."
+msgstr "???VOP????AVI??."
 
-msgid "4  - Medium"
-msgstr "4  - ????"
+#: avidemux/ADM_editor/ADM_edit.cpp:748
+msgid "Index is not up to date"
+msgstr "????????????????"
 
-msgid "4 - High"
-msgstr "4 - ??"
+#: avidemux/ADM_editor/ADM_edit.cpp:748
+msgid "You should use Tool->Rebuild frame. Do it now ?"
+msgstr "???->???????? ???????. ??????? ?"
 
-msgid "4 - Wide search"
-msgstr "4 - ?????"
+#: avidemux/ADM_editor/ADM_edit.cpp:1503
+msgid ""
+"This looks like mpeg\n"
+" Do you want to index it?"
+msgstr ""
+"??? mpeg ?????\n"
+" ???????????????? ?"
 
-msgid "4 field check"
-msgstr "4?????????"
+#: avidemux/ADM_editor/ADM_edit.cpp:1555
+msgid "Indexing failed"
+msgstr "???????????"
 
-msgid "4 field check (no average)"
-msgstr "4?????????(????)"
+#: avidemux/ADM_editor/ADM_edLoadSave.cpp:75
+msgid "Unsupported"
+msgstr "?????"
 
-msgid "4- High"
-msgstr "4 - ??"
+#: avidemux/ADM_editor/ADM_edLoadSave.cpp:301
+msgid "Old format project file"
+msgstr "???????????????"
 
-msgid "4x4 Intra search"
-msgstr "4x4 ??????"
+#: avidemux/ADM_editor/ADM_edLoadSave.cpp:301
+msgid "No more supported."
+msgstr "????????????"
 
-msgid "4x4, 4x8 and 8x4 P-frame search"
-msgstr "4x4, 4x8 ? 8x4 P-??????"
+#: avidemux/ADM_editor/ADM_outputfmt.h:38
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:501
+msgid "AVI"
+msgstr "AVI"
 
-msgid "5  - High (Default)"
-msgstr "5  - ?? (?????)"
+#: avidemux/ADM_editor/ADM_outputfmt.h:39
+msgid "AVI, dual audio"
+msgstr "AVI, 2??"
 
-msgid "5 - Very high"
-msgstr "5 - ?????"
+#: avidemux/ADM_editor/ADM_outputfmt.h:40
+msgid "AVI, pack VOP"
+msgstr "AVI, ???VOP"
 
-msgid "5 channels"
-msgstr "5 ?????"
+#: avidemux/ADM_editor/ADM_outputfmt.h:41
+msgid "AVI, unp. VOP"
+msgstr "AVI, ?????VOP"
 
-msgid "5 field check"
-msgstr "5?????????"
+#: avidemux/ADM_editor/ADM_outputfmt.h:42
+msgid "MPEG-PS (A+V)"
+msgstr "MPEG-PS (A+V)"
 
-msgid "5 field check (no average)"
-msgstr "5?????????(????)"
+#: avidemux/ADM_editor/ADM_outputfmt.h:43
+msgid "MPEG-TS (A+V)"
+msgstr "MPEG-TS (A+V)"
 
-msgid "5- Very High"
-msgstr "5 - ?????"
+#: avidemux/ADM_editor/ADM_outputfmt.h:44
+msgid "MPEG Video"
+msgstr "MPEG?? (ES)"
 
-msgid "6  - Very High"
-msgstr "6  - ?????"
+#: avidemux/ADM_editor/ADM_outputfmt.h:45
+msgid "MP4"
+msgstr "MP4"
 
-msgid "6 - Ultra high"
-msgstr "6 - ??"
+#: avidemux/ADM_editor/ADM_outputfmt.h:46
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:505
+msgid "OGM"
+msgstr "OGM"
 
-msgid "6- Ultra High"
-msgstr "6 - ??"
+#: avidemux/ADM_editor/ADM_outputfmt.h:47
+msgid "PSP"
+msgstr "PSP"
 
-msgid "6B - Very High (RDO on Bframes)"
-msgstr "6B - ????? (RDO on Bframes)"
+#: avidemux/ADM_encoder/adm_encConfig.cpp:192
+msgid "Wrong output format"
+msgstr "???????"
 
-msgid "7 - Ultra High"
-msgstr "7 - ???"
+#: avidemux/ADM_encoder/adm_encConfig.cpp:192
+msgid "Select MPEG as the output."
+msgstr "MPEG??????????"
 
-msgid "7B - Ultra High (RDO on Bframes)"
-msgstr "7B - ??? (RDO on Bframes)"
+#: avidemux/ADM_encoder/adm_encConfig.cpp:197
+msgid "Wrong video codec"
+msgstr "??????????"
 
-msgid "8x8 Intra search"
-msgstr "8x8 ??????"
+#: avidemux/ADM_encoder/adm_encConfig.cpp:198
+msgid "Select DVD as the video codec for MPEG TS output."
+msgstr "DVD?MPEG TS???????????????"
 
-msgid "8x8 Transform"
-msgstr "8x8 ??"
+#: avidemux/ADM_encoder/adm_encConfig.cpp:715
+msgid "Only QCIF and subQCIF are allowed for H.263"
+msgstr "QCIF?subQCIF??? H.263 ??????"
 
-msgid "8x8, 8x16 and 16x8 B-frame search"
-msgstr "8x8, 8x16 ? 16x8 B-??????"
+#: avidemux/ADM_encoder/adm_encConfig.cpp:907
+msgid "Fatal error"
+msgstr "??????"
 
-msgid "8x8, 8x16 and 16x8 P-frame search"
-msgstr "8x8, 8x16 ? 16x8 P-??????"
+#: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
+msgid "Incompatible settings"
+msgstr "????????"
 
-msgid "90 degrees"
-msgstr "90 ?"
+#: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
+msgid "At the moment, the DV codec only accepts 720*576 at 25"
+msgstr "??????DV??????720*576 at 25???????"
 
-msgid ":"
-msgstr "?:"
+#: avidemux/ADM_filter/filter_saveload.cpp:157
+msgid "Problem reading XML filters"
+msgstr "XML??????????"
 
-msgid "<b >Active Filters</b>"
-msgstr "<b >???????</b>"
+#: avidemux/ADM_filter/filter_saveload.cpp:165
+msgid "No filter found"
+msgstr "??????????"
 
-msgid "<b><big>Encoding files</big></b>"
-msgstr "<b><big>??????????????</big></b>"
+#: avidemux/ADM_filter/filter_saveload.cpp:201
+msgid "Could not find a filter"
+msgstr "????????????"
 
-msgid "<b>Aspect Ratio</b>"
-msgstr "<b>??????</b>"
+#: avidemux/ADM_filter/filter_saveload.cpp:209
+msgid "No tag found"
+msgstr "??????????"
 
-msgid "<b>Aud Codec:</b>"
-msgstr "<b>???????:</b>"
+#: avidemux/ADM_filter/filter_saveload.cpp:289
+msgid "Node not found"
+msgstr "???????????"
 
-msgid "<b>Audio Bitrate</b>"
-msgstr "<b>????????</b>"
+#: avidemux/ADM_inputs/ADM_h263/ADM_h263.cpp:258
+msgid "Size is not (s)QCIF"
+msgstr "????(s)QCIF???"
 
-msgid "<b>Audio Codec:</b>"
-msgstr "<b>???????:</b>"
+#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp:566
+msgid "Problem reading SVQ3 headers"
+msgstr "SVQ3????????"
 
-msgid "<b>Audio Size:</b>"
-msgstr "<b>?????:</b>"
+#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp:346
+msgid "No stts table"
+msgstr "stts ???????"
 
-msgid "<b>Audio</b>"
-msgstr "<b>??</b>"
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:149
+msgid "There is several mpeg file, append them ?"
+msgstr "???mpeg?????????. ?????????? ?"
 
-msgid "<b>Available Filters</b>"
-msgstr "<b>?????????</b>"
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:250
+msgid "Can't determine aspect ratio"
+msgstr "??????????????"
 
-msgid "<b>Average Bitrate:</b>"
-msgstr "<b>????????:</b>"
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_video.cpp:363
+msgid "Out of memory"
+msgstr "??????"
 
-msgid "<b>B-Frames</b>"
-msgstr "<b>B-????</b>"
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_video.cpp:378
+msgid "Opening MPEG"
+msgstr "MPEG???????"
 
-msgid "<b>Bitmap</b>"
-msgstr "<b>??????</b>"
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_video.cpp:547
+msgid "MPEG renumbering error"
+msgstr "MPEG?????????"
 
-msgid "<b>Bitrate :</b>"
-msgstr "<b>?????? :</b>"
+#: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:555
+#: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:584
+msgid "Opening Nuppel video"
+msgstr "Nupple?????????"
 
-msgid "<b>Bitrate:</b>"
-msgstr "<b>??????:</b>"
+#: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:560
+msgid "Sure you want to abort ?"
+msgstr "????????? ?"
 
-msgid "<b>Bitrate</b>"
-msgstr "<b>??????</b>"
+#: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:771
+msgid "Size mismatch"
+msgstr "?????????"
 
-msgid "<b>Channel Mode:</b>"
-msgstr "<b>????????:</b>"
+#: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:771
+msgid "Expect a crash."
+msgstr "?????????."
 
-msgid "<b>Color Correction Matrix</b>"
-msgstr "<b>?????????</b>"
+#: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:1063
+msgid "Do you want to save an index ?"
+msgstr "????????????? ?"
 
-msgid "<b>Container:</b>"
-msgstr "<b>????:</b>"
+#: avidemux/ADM_inputs/ADM_ogm/ADM_ogm.cpp:355
+msgid "Take second track ?"
+msgstr "????????? ?"
 
-msgid "<b>Elapsed:</b>"
-msgstr "<b>????:</b>"
+#: avidemux/ADM_inputs/ADM_ogm/ADM_ogm.cpp:435
+msgid "Scanning OGM"
+msgstr "OGM??????"
 
-msgid ""
-"<b>Encoding is paused.</b>\n"
-"\n"
-"You can either resume or Abort it."
-msgstr ""
-"<b>??????????.</b>\n"
-"\n"
-"????????????."
+#: avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp:285
+#: avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp:370
+#: avidemux/ADM_inputs/ADM_openDML/ADM_openDML.cpp:505
+msgid "Malformed header"
+msgstr "??????"
 
-msgid "<b>Encoding mode </b>"
-msgstr "<b>????? ??? </b>"
+#: avidemux/ADM_inputs/ADM_openDML/ADM_openDMLDepack.cpp:93
+msgid "Unpacking bitstream"
+msgstr "???????????????"
 
-msgid "<b>Extra Properties</b>"
-msgstr "<b>???????</b>"
+#: avidemux/ADM_inputs/ADM_openDML/ADM_opendml_reindex.cpp:68
+msgid "Indexing"
+msgstr "?????????"
 
-msgid "<b>Extra Video Properties</b>"
-msgstr "?????????"
+#: avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp:308
+msgid "Incompatible frame rate"
+msgstr "?????????????"
 
-msgid "<b>Files</b>"
-msgstr "<b>????</b>"
+#: avidemux/ADM_libraries/ADM_lvemux/ADM_muxer.cpp:85
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:153
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:196
+msgid "Incompatible audio"
+msgstr "????????"
 
-msgid "<b>Format</b>"
-msgstr "<b>??</b>"
+#: avidemux/ADM_libraries/ADM_lvemux/ADM_muxer.cpp:85
+msgid "For DVD, audio must be MP2 or AC3."
+msgstr "DVD???, ??? MP2 ??? AC3 ?????????."
 
-msgid "<b>Fps convert</b>"
-msgstr "<b>FPS ??</b>"
+#: avidemux/ADM_libraries/ADM_lvemux/ADM_muxer.cpp:92
+msgid "lvemux init failed"
+msgstr "lvemux?????"
 
-msgid "<b>Frame:</b>"
-msgstr "<b>????:</b>"
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:403
+msgid "Memory error"
+msgstr "??????"
 
-msgid "<b>Frames/sec:</b>"
-msgstr "<b>????/?:</b>"
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:410
+msgid "Error converting to BMP"
+msgstr "BMP???????"
 
-msgid "<b>Gain</b>"
-msgstr "<b>??</b>"
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:417
+#: avidemux/gtk_gui.cpp:1917
+msgid "Something bad happened"
+msgstr "????????????"
 
-msgid "<b>Gamma</b>"
-msgstr "<b>???</b>"
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:472
+msgid "Cannot encode the frame"
+msgstr "???????????????"
 
-msgid "<b>General</b>"
-msgstr "<b>??</b>"
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
+#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:71
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:380
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:335
+#: avidemux/gtk_gui.cpp:890
+#: avidemux/gtk_gui.cpp:1522
+msgid "File error"
+msgstr "???????"
 
-msgid "<b>Glyphs</b>"
-msgstr "<b>???</b>"
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:380
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
+#: avidemux/gtk_gui.cpp:1522
+#, possible-c-format
+msgid "Cannot open \"%s\" for writing."
+msgstr "????? \"%s\" ??????."
 
-msgid "<b>Hue:</b>"
-msgstr "<b>??:</b>"
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:324
+msgid "NTSC 4:3"
+msgstr "NTSC 4:3"
 
-msgid "<b>Input file</b>"
-msgstr "<b>??????</b>"
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:325
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:326
+msgid "NTSC 16:9"
+msgstr "NTSC 16:9"
 
-msgid "<b>Interlacing</b>"
-msgstr "<b>??????</b>"
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:327
+msgid "PAL 4:3"
+msgstr "PAL 4:3"
 
-msgid "<b>Matrices</b>"
-msgstr "<b>??????</b>"
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:328
+msgid "PAL 16:9"
+msgstr "PAL 16:9"
 
-msgid ""
-"<b>Matrix Warning :</b>\n"
-"all above values are normalized to 256!"
-msgstr ""
-"<b>???????? :</b>\n"
-"???????256????????!"
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:329
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:376
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:398
+msgid "1:1"
+msgstr "1:1"
 
-msgid "<b>Misc. Options</b>"
-msgstr "<b>??, ?????</b>"
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:331
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:594
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:791
+msgid "Unknown"
+msgstr "??"
 
-msgid "<b>Misc</b>"
-msgstr "<b>??</b>"
+#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:22
+msgid "Select Glyphfile to save to"
+msgstr "??????????????"
 
-msgid "<b>Mixer</b>"
-msgstr "<b>????</b>"
+#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:30
+msgid "Could not write the file"
+msgstr "???????????"
 
-msgid "<b>Mode :</b>"
-msgstr "<b>??? :</b>"
+#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:62
+msgid "Erase current glyphs ?"
+msgstr "??????????? ?"
 
-msgid "<b>Mode:</b>"
-msgstr "<b>???:</b>"
+#: avidemux/ADM_ocr/ADM_ocrLoadSave.h:71
+#, possible-c-format
+msgid "Could not read \"%s\"."
+msgstr "\"%s\" ??????."
 
-msgid "<b>Mode</b>"
-msgstr "<b>???</b>"
+#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:244
+msgid "Ifo error"
+msgstr "IFO ???"
 
-msgid "<b>More Rate Settings</b>"
-msgstr "<b>????????</b>"
+#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:244
+msgid "Error reading ifo file, aborting."
+msgstr "IFO?????????, ?????."
 
-msgid "<b>Motion Estimation</b>"
-msgstr "<b>????</b>"
+#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:252
+msgid "Cannot write .idx"
+msgstr ".idx???????"
 
-msgid "<b>Partition Macroblocks</b>"
-msgstr "<b>?????????</b>"
+#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:265
+msgid "Cannot write .sub"
+msgstr ".sub???????"
 
-msgid "<b>Phase:</b>"
-msgstr "<b>????:</b>"
+#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:277
+msgid "Problem opening the mpeg files"
+msgstr "MPEG???????????"
 
-msgid "<b>Phasis:</b>"
-msgstr "<b>????:</b>"
+#: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:290
+msgid "Generating VobSub file"
+msgstr "VobSub????????"
 
-msgid "<b>Preview</b>"
-msgstr "<b>?????</b>"
+#: avidemux/ADM_osSupport/ADM_crashdump.cpp:239
+msgid "Load it"
+msgstr "??????"
 
-msgid "<b>Processed Frames:</b>"
-msgstr "<b>???????:</b>"
+#: avidemux/ADM_osSupport/ADM_crashdump.cpp:239
+msgid "Crash file"
+msgstr "????? ????"
 
-msgid "<b>Quality :</b>"
-msgstr "<b>?? :</b>"
+#: avidemux/ADM_osSupport/ADM_crashdump.cpp:240
+msgid ""
+"I have detected a crash file. \n"
+"Do you want to load it  ?\n"
+"(It will be deleted in all cases, you should save it if you want to keep it)"
+msgstr ""
+"??????????????. \n"
+"????????? ?\n"
+"(???????????????????, ???????????????????)"
 
-msgid "<b>Quality:</b>"
-msgstr "<b>??:</b>"
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:102
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:126
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:146
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:153
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:164
+#: avidemux/GUI_jobs.cpp:37
+msgid "Oops"
+msgstr "????"
 
-msgid "<b>Quantiser:</b>"
-msgstr "<b>????:</b>"
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:102
+#, possible-c-format
+msgid "can't create custom directory (%s)."
+msgstr "???????? (%s) ????????."
 
-msgid "<b>Quantization Limits</b>"
-msgstr "<b>?????</b>"
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:126
+#, possible-c-format
+msgid "can't create job directory (%s)."
+msgstr "??????? (%s) ????????."
 
-msgid "<b>Quantization Matrices</b>"
-msgstr "<b>?????????</b>"
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:146
+msgid "can't determine $USERPROFILE."
+msgstr "$USERPROFILE ????????."
 
-msgid "<b>Quantizer:</b>"
-msgstr "<b>????:</b>"
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:153
+msgid "can't determine $HOME."
+msgstr "$HOME ????????."
 
-msgid "<b>Quantizers</b>"
-msgstr "<b>????</b>"
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:164
+msgid "Cannot create the .avidemux directory"
+msgstr ".avidemux ????????????."
 
-msgid "<b>RateControl</b>"
-msgstr "<b>?????</b>"
+#: avidemux/ADM_osSupport/ADM_misc.cpp:215
+#, c-format
+msgid "%lu minutes"
+msgstr "%lu ?"
 
-msgid "<b>Resampling</b>"
-msgstr "<b>?????</b>"
+#: avidemux/ADM_osSupport/ADM_misc.cpp:219
+#, c-format
+msgid "%lu minute"
+msgstr "%lu ?"
 
-msgid "<b>Result</b>"
-msgstr "<b>??</b>"
+#: avidemux/ADM_osSupport/ADM_misc.cpp:227
+#, c-format
+msgid "%lu second"
+msgstr "%lu ?"
 
-msgid "<b>Sample Aspect Ratio (A/R)</b>"
-msgstr "<b>?????????? (A/R)</b>"
+#: avidemux/ADM_osSupport/ADM_misc.cpp:231
+#, c-format
+msgid "%lu seconds"
+msgstr "%lu ?"
 
-msgid "<b>Saturation:</b>"
-msgstr "<b>???:</b>"
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:74
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:180
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:841
+msgid "Normal"
+msgstr "??"
 
-msgid "<b>Scene change Treshold</b>"
-msgstr "<b>???????</b>"
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:75
+msgid "Mux every N video frames"
+msgstr "N??????????"
 
-msgid "<b>Selection</b>"
-msgstr "<b>??</b>"
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:76
+msgid "Mux by packet size"
+msgstr "?????????"
 
-msgid "<b>Settings</b>"
-msgstr "<b>??</b>"
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:79
+msgid "Muxing _type:"
+msgstr "??????(_T):"
 
-msgid "<b>Stats</b>"
-msgstr "<b>?????</b>"
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:80
+msgid "_Split every MB:"
+msgstr "MB????(_S):"
 
-msgid "<b>Target</b>"
-msgstr "<b>??</b>"
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:82
+msgid "Mux _every x video frames:"
+msgstr "x?????????????(_E):"
 
-msgid "<b>Time Remaining:</b>"
-msgstr "<b>????:</b>"
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:83
+msgid "Mux in _blocks of x bytes:"
+msgstr "x?????????????(_B):"
 
-msgid "<b>TimeCode</b>"
-msgstr "<b>??????</b>"
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:90
+msgid "AVI Muxer Options"
+msgstr "AVI????????"
 
-msgid "<b>Total Frames:</b>"
-msgstr "<b>???????:</b>"
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:188
+msgid "Error initalizing audio filters"
+msgstr "????????????"
 
-msgid "<b>Total Size:</b>"
-msgstr "<b>?????:</b>"
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:197
+msgid "Error initalizing video filters"
+msgstr "????????????"
 
-msgid "<b>Vid Bitrate:</b>"
-msgstr "<b>????????:</b>"
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:446
+#: avidemux/ADM_outputs/oplug_avi/op_avisavecopy.cpp:96
+#: avidemux/ADM_outputs/oplug_avi/op_avisavecopy_pack.cpp:121
+#: avidemux/ADM_outputs/oplug_avi/op_avisavecopy_unpack.cpp:98
+msgid "Cannot initiate save"
+msgstr "??????????"
 
-msgid "<b>Vid codec:</b>"
-msgstr "<b>???????:</b>"
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:73
+msgid ""
+"Width is not a multiple of 8\n"
+" continue anyway ?"
+msgstr ""
+"??8??????????\n"
+" ????????? ?"
 
-msgid "<b>Video Buffer Verifier</b>"
-msgstr "<b>????????</b>"
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:93
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:170
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:76
+msgid "Filter init failed"
+msgstr "?????????"
 
-msgid "<b>Video Codec:</b>"
-msgstr "<b>???????:</b>"
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:127
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:395
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:100
+msgid ""
+"\n"
+" Reuse the existing log-file ?"
+msgstr ""
+"\n"
+" ????????????????? ?"
 
-msgid "<b>Video Size:</b>"
-msgstr "<b>?????:</b>"
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:152
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:431
+msgid "Aborting"
+msgstr "??"
 
-msgid "<b>Video</b>"
-msgstr "<b>??</b>"
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:152
+msgid "Cannot initialize the video stream"
+msgstr "????????????????"
 
-msgid "<b>frame2</b>"
-msgstr "<b>????2</b>"
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:208
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:331
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:415
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:352
+msgid "Error while encoding"
+msgstr "??????????"
 
-msgid "<i>Strength</i>"
-msgstr "<i>??</i>"
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:220
+msgid "KeyFrame error"
+msgstr "?????? ???"
 
-msgid "<i>Threshold</i>"
-msgstr "<i>??</i>"
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:220
+msgid ""
+"The beginning frame is not a key frame.\n"
+"Please move the A marker."
+msgstr ""
+"??????????????????????.\n"
+"????A????????."
 
-msgid "A value of 20 will give 20% more bits to every I-frame"
-msgstr "20????I-?????20%??????????"
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:247
+msgid "Cannot initialize the audio stream"
+msgstr "????????????????"
 
-msgid "A:"
-msgstr "A?:"
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:89
+msgid "This is not MPEG compatible"
+msgstr "???MPEG?????????"
 
-msgid "ALSA _device:"
-msgstr "ALSA ????(_D):"
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:89
+msgid "You can't use the Copy codec."
+msgstr "????????????????."
 
-msgid "AP type"
-msgstr "AP???"
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:94
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:143
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:154
+msgid "There is no audio track"
+msgstr "????????????"
 
-msgid "ASharp by MarcFD"
-msgstr "MarcFD???ASharp"
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:101
+msgid "The first frame is not intra frame"
+msgstr "???????? I-???????????"
 
-msgid "AVI Muxer Options"
-msgstr "AVI????????"
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:101
+msgid "Use the &lt;&lt; and the &gt;&gt; buttons to move using Intra frames."
+msgstr "I-?????????????? &lt;&lt; ? &gt;&gt; ??????????."
 
-msgid "AVI _Muxer Options"
-msgstr "AVI????????(_M)"
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:113
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:164
+msgid "Audio track is not suitable"
+msgstr "????????????????"
 
-msgid "AVI, dual audio"
-msgstr "AVI, 2??"
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:153
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:174
+msgid "For VCD, audio must be 44.1 kHz MP2."
+msgstr "VCD???, ??? 44.1 kHz MP2 ?????????."
 
-msgid "A_dd to Joblist..."
-msgstr "?????????(_D)"
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:182
+msgid "For DVD, audio must be 48 kHz MP2(stereo), AC3, DTS or LPCM (stereo)."
+msgstr "DVD???, ??? 48 kHz MP2(????), AC3, DTS ??? LPCM (????)?????????."
 
-msgid "A_uto"
-msgstr "??(_U)"
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:196
+msgid "For DVD, audio must be 48 kHz MP2, AC3 or LPCM."
+msgstr "DVD???, ??? 48 kHz MP2, AC3 ??? LPCM?????????."
 
-msgid "Abort"
-msgstr "??"
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:313
+msgid "Reuse log file ?"
+msgstr "?????????????? ?"
 
-msgid "Abort Requested"
-msgstr "????????"
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:328
+msgid "Error in pass 1"
+msgstr "?? 1 ????"
 
-msgid "Aborted"
-msgstr "??????"
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:478
+msgid "Error in pass 2"
+msgstr "?? 2 ????"
 
-msgid "Aborting"
-msgstr "??"
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:126
+msgid "Could not initialize video"
+msgstr "???????????"
 
-msgid "Aborting."
-msgstr "???????."
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:134
+msgid "Could not initialize audio"
+msgstr "???????????"
 
-msgid "Above Normal"
-msgstr "????"
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:236
+msgid "Select a directory"
+msgstr "???????"
 
-msgid "Above normal"
-msgstr "????"
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:502
+msgid "Uinteger"
+msgstr ""
 
-msgid "Accept non standard audio frequency for DVD"
-msgstr "DVD?????????????????"
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:517
+msgid "Float"
+msgstr ""
 
-msgid "Accept non-standard audio frequency for DVD"
-msgstr "DVD?????????????????"
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:535
+msgid "Toggle"
+msgstr ""
 
-msgid "Adaptative DCT"
-msgstr "???DCT"
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:556
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:83
+msgid "No Strategy"
+msgstr "???????"
 
-msgid "Add Video Filter"
-msgstr "?????????"
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:557
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:84
+msgid "3:2 Pulldown"
+msgstr "3:2 ?????"
 
-msgid "Add selected filter to the Active Filters list"
-msgstr "????????????????????????"
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:558
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:85
+msgid "Pal/Secam"
+msgstr "Pal/Secam"
 
-msgid "Advanced"
-msgstr "??"
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:559
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:86
+msgid "NTSC converted from PAL"
+msgstr "PAL??????NTSC"
 
-msgid "Advanced Simple Profile"
-msgstr "????????????"
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:561
+msgid "menu"
+msgstr "????"
 
-msgid "Alert"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:62
+msgid "_Dynamic range compression"
+msgstr "?????(_D)"
 
-msgid "All"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:64
+msgid "_Time Shift (ms) "
+msgstr "????(_T) (ms) "
 
-msgid ""
-"Allow B-frames to make references non-linearly to another B-frame (instead "
-"of creating a duplicate copy)"
-msgstr ""
-"(???????????)B-???????B-?????????????????"
-"??"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:64
+msgid "Time shift _value (ms):"
+msgstr "??????(_V) (ms):"
 
-msgid ""
-"Allowed variance of average bitrate. Lower values mean less variance. Higher "
-"values mean more variance."
-msgstr ""
-"???????????????. ??????????????????????"
-"??."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:72
+msgid "R_esampling (Hz) "
+msgstr "?????????(_E) (Hz) "
 
-msgid ""
-"Allowed variance of average quantizer or quality. Lower values mean less "
-"variance. Higher values mean more variance. Note that 0 means constant "
-"quality while 1 means constant fluctuation. Recommended 0.6."
-msgstr ""
-"??????????????????. ???????????????????"
-"?????. 0???????1?????????????????. 0.6???."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:72
+msgid "_Resampling frequency (Hz):"
+msgstr "?????(_R) (Hz):"
 
-msgid "Always"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:80
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:89
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:51
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:373
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:381
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:389
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:549
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:564
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:579
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:219
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1124
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:57
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:105
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:101
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:264
+#: avidemux/gtk_gui.cpp:1995
+#: avidemux/gtk_gui.cpp:2094
+msgid "None"
+msgstr "??"
 
-msgid "An audio track is necessary to create such file"
-msgstr "????????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:81
+msgid "Film to PAL"
+msgstr "Film?PAL?"
 
-msgid "Angle"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:82
+msgid "PAL to Film"
+msgstr "PAL?Film?"
 
-msgid "Anim?"
-msgstr "Anime"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:85
+msgid "_Frame rate change:"
+msgstr "?????????(_F):"
 
-msgid "Apply the current filter only to a part of the file"
-msgstr "??????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:90
+msgid "Automatic (max -3 dB)"
+msgstr "??(?? -3dB)"
 
-msgid "Are you sure ?"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:91
+msgid "Manual"
+msgstr "??"
 
-msgid "Are you sure you want to delete %s job ?"
-msgstr "??? %s ?????????? ?"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:93
+msgid "_Gain mode:"
+msgstr "?????(_G):"
 
-msgid "Are you sure you want to delete all jobs ?"
-msgstr "?????????????? ?"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:95
+msgid "G_ain value:"
+msgstr "???(_A):"
 
-msgid "Area Combing Threshold"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:97
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:200
+msgid "Gain"
+msgstr "??"
 
-msgid "Artefact Protection threshold "
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:102
+msgid "No change"
+msgstr "????"
 
-msgid "As input"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:105
+msgid "Stereo+surround"
+msgstr "????+?????"
 
-msgid "Ascii"
-msgstr "ASCII"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:106
+msgid "Stereo+center"
+msgstr "????+????"
 
-msgid "Aspect Ratio"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:107
+msgid "Stereo+center+surround"
+msgstr "????+????+?????"
 
-msgid "Aspect Ratio:"
-msgstr "??????:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:108
+msgid "Stereo front+stereo rear"
+msgstr "???? ????+???? ??"
 
-msgid "Aspect _ratio:"
-msgstr "??????(_R):"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:109
+msgid "5 channels"
+msgstr "5 ?????"
 
-msgid "At the moment, the DV codec only accepts 720*576 at 25"
-msgstr "??????DV??????720*576 at 25???????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:110
+msgid "5.1"
+msgstr "5.1"
 
-msgid "Attempt to open %s failed!"
-msgstr "%s ????????????!"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:111
+msgid "Dolby Pro Logic"
+msgstr "??????????"
 
-msgid "Audio"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:112
+msgid "Dolby Pro Logic II"
+msgstr "??????????II"
 
-msgid "Audio Encoder Settings"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:115
+msgid "_Mixer:"
+msgstr "????(_M):"
 
-msgid "Audio Processing"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:119
+msgid "Audio Filters"
+msgstr "??????"
 
-msgid "Audio bitrate in kb/s for track 1 (0 for no audio)"
-msgstr "?????????????? kb/s (0?????)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:59
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:128
+msgid "No data"
+msgstr "?????"
 
-msgid "Audio bitrate in kb/s for track 2 (optional)"
-msgstr "?????????????? kb/s (??)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:232
+msgid "Bitrate Histogram"
+msgstr "?????? ??????"
 
-msgid "Audio duration  "
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:122
+msgid "Video codecs:"
+msgstr "???????:"
 
-msgid "Audio filters"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:123
+msgid "Xvid"
+msgstr "XviD"
 
-msgid "Audio output"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:124
+msgid "x264"
+msgstr "x264"
 
-msgid "Audio settings"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:129
+msgid "Audio codecs:"
+msgstr "???????:"
 
-msgid "Audio size (MB):"
-msgstr "????? (MB):"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:130
+msgid "Aften"
+msgstr "Aften"
 
-msgid "Audio source"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:131
+msgid "amrnb"
+msgstr "amrnb"
 
-msgid "Audio track is not suitable"
-msgstr "????????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:132
+msgid "FAAC"
+msgstr "FAAC"
 
-msgid "Audio/video file information"
-msgstr "??/????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:133
+msgid "FAAD2"
+msgstr "FAAD2"
 
-msgid "Audio/video time shift (ms)"
-msgstr "??/?????? (ms)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:134
+msgid "LAME"
+msgstr "LAME"
 
-msgid "AudioCodec"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:135
+msgid "liba52"
+msgstr "liba52"
 
-msgid "Auto"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:136
+msgid "libdca"
+msgstr "libdca"
 
-msgid "Auto split"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:137
+msgid "MAD"
+msgstr "MAD"
 
-msgid "AutoCrop"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:138
+msgid "Ogg Vorbis"
+msgstr "Ogg Vorbis"
 
-msgid "AutoGain"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:150
+msgid "Miscellaneous libraries:"
+msgstr "?????????:"
 
-msgid "AutoWhite"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:151
+msgid "aRts"
+msgstr "aRts"
 
-msgid "Automatic ( max is -3dB)"
-msgstr "?? (??? -3dB)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:152
+msgid "ESD"
+msgstr "ESD"
 
-msgid "Automatically"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:153
+msgid "FreeType 2"
+msgstr ""
 
-msgid "Automatically _build VBR map"
-msgstr "????VBR????????(_B)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:154
+msgid "gettext"
+msgstr ""
 
-msgid "Automatically _index MPEG files"
-msgstr "????MPEG????????????????(_I)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:155
+msgid "OSS"
+msgstr "OSS"
 
-msgid "Automatically _rebuild index"
-msgstr "????????????????(_R)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:156
+msgid "SDL"
+msgstr "SDL"
 
-msgid "Automatically _swap A and B if A>B"
-msgstr "A>B??????A?B?????(_S)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:157
+msgid "XVideo"
+msgstr "XVideo"
 
-msgid "Automatically build VBR map"
-msgstr "????VBR????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:167
+msgid "CPU:"
+msgstr "CPU:"
 
-msgid "Automatically index mpeg files"
-msgstr "????MPEG????????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:168
+msgid "AltiVec"
+msgstr "AltiVec"
 
-msgid "Automatically rebuild index"
-msgstr "????????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:169
+msgid "PowerPC"
+msgstr "PowerPC"
 
-msgid "Automatically remove _packed bitstream"
-msgstr "?????????????????????(_P)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:170
+msgid "x86"
+msgstr "x86"
 
-msgid "Automatically remove packed bitstream"
-msgstr "?????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:171
+msgid "x86-64"
+msgstr "x86-64"
 
-msgid "Automatically swap A and B if A>B"
-msgstr "A > B ?????A?B?????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:181
+msgid "Codecs"
+msgstr "?????"
 
-msgid "Automation"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:182
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:248
+msgid "Miscellaneous"
+msgstr "??"
 
-msgid "Average Br (kb/s)"
-msgstr "????????(kb/s)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:186
+msgid "Built-in Support"
+msgstr "??????"
 
-msgid "Average bitrate (kb/s):"
-msgstr "????????(kb/s):"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:52
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:42
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:380
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:402
+msgid "4:3"
+msgstr "4:3"
 
-msgid "Avi Muxer Option"
-msgstr "AVI????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:53
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:43
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:384
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:406
+msgid "16:9"
+msgstr "16:9"
 
-msgid "B Frames"
-msgstr "B-????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:55
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:45
+msgid "Default"
+msgstr "?????"
 
-msgid "B-Frame Direct Mode:  "
-msgstr "B-?????????:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:56
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:46
+msgid "TMPGEnc"
+msgstr "TMPGEnc"
 
-msgid "B-frame quantizer - Min:"
-msgstr "B-???????? - ??:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:57
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:47
+msgid "Anime"
+msgstr ""
 
-msgid "B-frame reduction (%)"
-msgstr "B-?????? (%)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:58
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:48
+msgid "KVCD"
+msgstr "KVCD"
 
-msgid "B:"
-msgstr "B?:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:61
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:51
+msgid "Progressive"
+msgstr "???????"
 
-msgid "BMP op failed"
-msgstr "BMP op ??"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:62
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:52
+msgid "Interlaced TFF"
+msgstr "?????? TFF"
 
-msgid "BackGround Image :"
-msgstr "???? :"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:63
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:53
+msgid "Interlaced BFF"
+msgstr "?????? BFF"
 
-msgid "Backward Threshold"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:74
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:60
+msgid "Ma_x. bitrate:"
+msgstr "????????(_X):"
 
-msgid "Basic"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:75
+msgid "Mi_n. bitrate:"
+msgstr "????????(_N):"
 
-msgid "Below Normal"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:76
+msgid "_Use Xvid rate control"
+msgstr "XviD????????(_U)"
 
-msgid "Below normal"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:78
+msgid "_Buffer size:"
+msgstr "???????(_B):"
 
-msgid "Bias"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:80
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:57
+msgid "Aspect _ratio:"
+msgstr "??????(_R):"
 
-msgid "Bicubic"
-msgstr "Bicubic"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:81
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:58
+msgid "_Matrices:"
+msgstr "??????(_M):"
 
-msgid "Bidirectional ME"
-msgstr "???ME"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:82
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:59
+msgid "_GOP size:"
+msgstr "GOP???(_G):"
 
-msgid "Bilinear"
-msgstr "Bilinear"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:88
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:66
+msgid "_Interlacing:"
+msgstr "??????(_I):"
 
-msgid "Bit_rate mode:"
-msgstr "?????????(_R):"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:27
+msgid "Hour"
+msgstr "??"
 
-msgid "Bitrate"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:28
+msgid "Minutes"
+msgstr "?"
 
-msgid "Bitrate "
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:29
+msgid "Seconds"
+msgstr "?"
 
-msgid "Bitrate (kb/s)"
-msgstr "?????? (kb/s)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:52
+msgid "Full"
+msgstr ""
 
-msgid "Bitrate (kb/s):"
-msgstr "?????? (kb/s):"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:53
+msgid "Log"
+msgstr "??"
 
-msgid "Bitrate Calculator"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:54
+msgid "Phods"
+msgstr ""
 
-msgid "Bitrate Histogram"
-msgstr "????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:55
+msgid "EPZS"
+msgstr "EPZS"
 
-msgid "Bitrate Variance"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:56
+msgid "X1"
+msgstr "X1"
 
-msgid "Bitrate out of range"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:60
+msgid "H.263"
+msgstr "H.263"
 
-msgid "Bitrate variability (%)"
-msgstr "????????? (%)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:61
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:509
+msgid "MPEG"
+msgstr "MPEG"
 
-msgid "Bitrate/size calculator"
-msgstr "??????/?????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:65
+msgid "MB comparison"
+msgstr "MB ??"
 
-msgid "Bitrate:"
-msgstr "??????:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:66
+msgid "Fewest bits (vhq)"
+msgstr "??????(vhq)"
 
-msgid "Bits per pixel:"
-msgstr "???/????:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:67
+msgid "Rate distortion"
+msgstr "??????"
 
-msgid "Blend"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:73
+msgid "Matrices"
+msgstr "??????"
 
-msgid "Block Adaptative :"
-msgstr "??????? :"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:74
+msgid "Mi_n. quantizer:"
+msgstr "??????(_N):"
 
-msgid "Bob, Skip spatial temporal check"
-msgstr "Bob, ??-???????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:75
+msgid "Ma_x. quantizer:"
+msgstr "??????(_N):"
 
-msgid "Bob, T+S check"
-msgstr "Bob, T+S????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:76
+msgid "Max. quantizer _difference:"
+msgstr "???????(_D):"
 
-msgid "Bottom"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:78
+msgid "4_MV"
+msgstr "4_MV"
 
-msgid "Bottom Field First"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:79
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1235
+msgid "_Trellis quantization"
+msgstr "_Trellis ???"
 
-msgid "Bottom Field first"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:81
+msgid "_Quarter pixel"
+msgstr "1/4 ????(_Q)"
 
-msgid "Bottom field (keep top)"
-msgstr "????????(??????)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:82
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1018
+msgid "_GMC"
+msgstr "_GMC"
 
-msgid "Bottom:"
-msgstr "?:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:85
+msgid "_Number of B frames:"
+msgstr "B?????(_N):"
 
-msgid "Brigh_tness:"
-msgstr "???(_T):"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:86
+msgid "_Quantization type:"
+msgstr "??????(_Q):"
 
-msgid "Brightness"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:88
+msgid "_Macroblock decision:"
+msgstr "?????????(_M):"
 
-msgid "Buffer Size"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:90
+msgid "_Filesize tolerance (kb):"
+msgstr "?????????(_F) (kb):"
 
-msgid "Build Time Map"
-msgstr "???????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:92
+msgid "_Quantizer compression:"
+msgstr "?????(_Q):"
 
-msgid "Build VBR time map?"
-msgstr "VBR ???????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:93
+msgid "Quantizer _blur:"
+msgstr "??????(_B):"
 
-msgid "CABAC"
-msgstr "CABAC"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:98
+msgid "User Interface"
+msgstr "??????????"
 
-msgid "CBR (bitrate based)"
-msgstr "CBR (??????????)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:101
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1028
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:80
+msgid "Advanced Simple Profile"
+msgstr "??????????"
 
-msgid "C_hannel mode:"
-msgstr "????????(_H):"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:108
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:86
+msgid "Motion Estimation"
+msgstr "????"
 
-msgid "C_heck Frames (slow)"
-msgstr "?????? (??)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:112
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:309
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1240
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:113
+msgid "Quantization"
+msgstr "???"
 
-msgid "C_hroma lock:"
-msgstr "?????(_H):"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:117
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1403
+msgid "Rate Control"
+msgstr "?????"
 
-msgid "C_hroma motion"
-msgstr "????(_H)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:120
+msgid "libavcodec MPEG-4 configuration"
+msgstr "libavcodec MPEG-4 ??"
 
-msgid "C_hroma optimizer"
-msgstr "?????(_H)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp:45
+msgid "Swap U & V:"
+msgstr "U?V???:"
 
-msgid "C_hroma threshold:"
-msgstr "????(_H)?:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp:46
+msgid "Show _Vectors:"
+msgstr "???????(_V):"
 
-msgid "C_onfigure"
-msgstr "??(_O)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp:48
+msgid "Lavcodec Decoder Configuration"
+msgstr "Lavcodec ??????"
 
-msgid "Ca_rtoon mode"
-msgstr "?????(_R)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_mjpeg.cpp:41
+msgid "_Swap U&V:"
+msgstr "U?V???(_S):"
 
-msgid "Calculate referencing individually based on each partition"
-msgstr "??????????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:40
+#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:60
+msgid "_Filter strength:"
+msgstr "???????(_F):"
 
-msgid "Calculator"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:41
+msgid "_Swap U & V"
+msgstr "U?V???(_S)"
 
-msgid "Calibrate"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:51
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:269
+#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:72
+msgid "_Horizontal deblocking"
+msgstr "???????(_H)"
 
-msgid "Can't determine aspect ratio"
-msgstr "??????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:52
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:270
+#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:73
+msgid "_Vertical deblocking"
+msgstr "???????(_V)"
 
-msgid "Cannot copy."
-msgstr "????????."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:53
+#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:74
+msgid "_Deringing"
+msgstr "????(_D)"
 
-msgid "Cannot create the .avidemux directory"
-msgstr ".avidemux ????????????."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:162
+msgid "_Use systray while encoding"
+msgstr "??????????????(_U)"
 
-msgid "Cannot decode frame"
-msgstr "??????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:163
+msgid "_Accept non-standard audio frequency for DVD"
+msgstr "DVD?????????????????(_A)"
 
-msgid "Cannot decode keyframe."
-msgstr "????????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:164
+msgid "_Use libavcodec MPEG-2 decoder"
+msgstr "lavcodec MPEG2 ???????(_U)"
 
-msgid "Cannot decode next frame."
-msgstr "????????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:165
+msgid "Create _OpenDML files"
+msgstr "OpenDML?????????(_O)"
 
-msgid "Cannot decode the frame."
-msgstr "??????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:166
+msgid "Automatically _index MPEG files"
+msgstr "????MPEG????????????????(_I)"
 
-msgid "Cannot decompress audio frame"
-msgstr "??????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:167
+msgid "Automatically _swap A and B if A>B"
+msgstr "A>B??????A?B?????????(_S)"
 
-msgid "Cannot decompress the audio stream"
-msgstr "???????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:168
+msgid "_Disable NUV audio sync"
+msgstr "NUV???????????(_D)"
 
-msgid "Cannot delete the selection."
-msgstr "??????????."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:169
+msgid "_Load external filters"
+msgstr "??????????(_L)"
 
-msgid "Cannot encode the frame"
-msgstr "???????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:171
+msgid "Automatically _build VBR map"
+msgstr "????VBR????????(_B)"
 
-msgid "Cannot get this frame to save"
-msgstr "???????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:172
+msgid "Automatically _rebuild index"
+msgstr "????????????????(_R)"
 
-msgid "Cannot identify subtitle format"
-msgstr "????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:173
+msgid "Automatically remove _packed bitstream"
+msgstr "?????????????????????(_P)"
 
-msgid "Cannot initialize the audio stream"
-msgstr "????????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:175
+msgid "_Number of threads:"
+msgstr "?????(_N):"
 
-msgid "Cannot initialize the video stream"
-msgstr "????????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:178
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:839
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:105
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:61
+msgid "High"
+msgstr "??"
 
-msgid "Cannot initiate save"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:179
+msgid "Above normal"
+msgstr "????"
 
-msgid "Cannot load"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:181
+msgid "Below normal"
+msgstr "????"
 
-msgid "Cannot open \"%s\" for writing."
-msgstr "????? \"%s\" ??????."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:182
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:843
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:104
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:59
+msgid "Low"
+msgstr "??"
 
-msgid "Cannot open \"%s\"."
-msgstr "\"%s\" ??????."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:184
+msgid "_Encoding priority:"
+msgstr "?????????(_E):"
 
-msgid "Cannot open AMR codec."
-msgstr "AMR???????????."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:185
+msgid "_Indexing/unpacking priority:"
+msgstr "???????/?????????(_I):"
 
-msgid "Cannot open WMA2 codec."
-msgstr "WMA2???????????."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:186
+msgid "_Playback priority:"
+msgstr "??????(_P):"
 
-msgid "Cannot open directory as a file"
-msgstr "?????????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:188
+msgid "_Split MPEG files every (MB):"
+msgstr "??MB??MPEG?????????(_S):"
 
-msgid "Cannot open project using the video loader."
-msgstr "????????????????????????."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:190
+msgid "_Use alternative tag for MP3 in .mp4"
+msgstr ".mp4?mp3????????(_U)"
 
-msgid "Cannot save the audio in copy mode"
-msgstr "?????????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:193
+msgid "GTK+ (slow)"
+msgstr ""
 
-msgid "Cannot select mpeg4 sp codec."
-msgstr "MPEG4 sp ?????????????."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:195
+msgid "XVideo (best)"
+msgstr ""
 
-msgid "Cannot write .idx"
-msgstr ".idx???????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:198
+msgid "SDL (good)"
+msgstr ""
 
-msgid "Cannot write .sub"
-msgstr ".sub???????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:201
+msgid "Video _display:"
+msgstr "????(_D):"
 
-msgid "Cannot write the file"
-msgstr "???????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:206
+msgid "No alerts"
+msgstr "?????"
 
-msgid "Ch_roma threshold:"
-msgstr "????(_H):"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:207
+msgid "Display only error alerts"
+msgstr "????????????"
 
-msgid "Channel Mode"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:208
+msgid "Display all alerts"
+msgstr "???????????"
 
-msgid "Channels  "
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:210
+msgid "_Message level:"
+msgstr "????????(_M):"
 
-msgid "Channels:"
-msgstr "?????:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:215
+msgid "PCM"
+msgstr ""
 
-msgid "Chapter 1"
-msgstr "?????1"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:216
+msgid "Master"
+msgstr ""
 
-msgid "Chapter 2"
-msgstr "?????2"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:217
+msgid "_Volume control:"
+msgstr "????(_V):"
 
-msgid "Chapter 3"
-msgstr "?????3"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:222
+msgid "No downmixing"
+msgstr "?????????"
 
-msgid "Chapter 4"
-msgstr "?????4"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:224
+msgid "Pro Logic"
+msgstr "??????????"
 
-msgid "Chapter 5"
-msgstr "?????5"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:225
+msgid "Pro Logic II"
+msgstr "??????????II"
 
-msgid "Chapter 6"
-msgstr "?????6"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:227
+msgid "_Local playback downmixing:"
+msgstr "?????????????(_L):"
 
-msgid "Chroma"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:256
+msgid "_Audio output:"
+msgstr "????(_A):"
 
-msgid "Chroma ME"
-msgstr "?? ME"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:271
+msgid "De_ringing"
+msgstr "????(_R)"
 
-msgid "Chroma Noise Reduction 2"
-msgstr "??????? 2"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:272
+#: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:167
+msgid "_Strength:"
+msgstr "??(_S):"
 
-msgid "Chroma QP Offset"
-msgstr "??QP?????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:273
+msgid "Default Postprocessing"
+msgstr "?????????"
 
-msgid "Chroma Temporal Threshold"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:287
+msgid "_Filter directory:"
+msgstr "?????????(_F):"
 
-msgid "Chroma U"
-msgstr "?? U"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:325
+msgid "Preferences"
+msgstr "??"
 
-msgid "Chroma U :"
-msgstr "?? U :"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_requant.cpp:48
+msgid "_Shrink Factor:"
+msgstr "???(_S):"
 
-msgid "Chroma V"
-msgstr "?? V"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:59
+msgid "Target type"
+msgstr "?????"
 
-msgid "Chroma V :"
-msgstr "?? V :"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:60
+msgid "Source aspect ratio"
+msgstr "??????????"
 
-msgid "Chrominance:"
-msgstr "??:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:61
+msgid "Dest. aspect ratio"
+msgstr "??????????"
 
-msgid "Co_nnect to avsproxy"
-msgstr "avsproxy???(_N)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:45
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:51
+msgid "Auto (might not work)"
+msgstr "?? (??????)"
 
-msgid "Codec "
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:46
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:178
+msgid "Top Field First"
+msgstr "??????????"
 
-msgid "Codec 4CC"
-msgstr "?????4CC"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:47
+msgid "Bottom Field First"
+msgstr "??????????"
 
-msgid "Codec 4CC:"
-msgstr "?????4CC:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:52
+msgid "Bottom Field (keep top)"
+msgstr "????????(??????)"
 
-msgid "Codec Error"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:53
+msgid "Top Field (keep Bottom)"
+msgstr "????????(??????)"
 
-msgid "Codec:"
-msgstr "?????:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:58
+msgid "Cubic Interpolation"
+msgstr "Cubic ??"
 
-msgid "ColorYuv (From avisynth)"
-msgstr "ColorYuv (Avisynth??)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:59
+msgid "Modified ELA"
+msgstr "?? ELA"
 
-msgid "Colors"
-msgstr "?"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:60
+msgid "Kernel Interpolation"
+msgstr "Kernel ??"
 
-msgid "Combed Treshold"
-msgstr "Combed ??"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:61
+msgid "Modified ELA-2"
+msgstr "?? ELA-2"
 
-msgid "Configure"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:66
+msgid "4 Fields Check"
+msgstr "4???????"
 
-msgid "Configure Codec"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:67
+msgid "5 Fields Check"
+msgstr "5???????"
 
-msgid "Configure audio encoder"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:68
+msgid "4 Fields Check (no avg)"
+msgstr "4???????(????)"
 
-msgid "Configure codec"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:69
+msgid "5 Fields Check (no avg)"
+msgstr "5???????(????)"
 
-msgid "Configure filter"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:75
+msgid "No Link"
+msgstr "?????"
 
-msgid "Configure partialized filter"
-msgstr "?????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:76
+msgid "Full Link"
+msgstr "?????"
 
-msgid "Configure video encoder"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:77
+msgid "Y to UV"
+msgstr "Y?UV?"
 
-msgid "Connect to avsproxy"
-msgstr "avsproxy????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:78
+msgid "UV to Y"
+msgstr "UV?Y?"
 
-msgid "Constant Bitrate"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:82
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:633
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:649
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:665
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:695
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:657
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:664
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:671
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:784
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:166
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:206
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:148
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:156
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:419
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:433
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:622
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1403
+msgid "0"
+msgstr "0"
 
-msgid "Constant Bitrate (kbps)"
-msgstr "???????? (kbps)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:83
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:793
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:805
+msgid "1"
+msgstr "1"
 
-msgid "Constant Quality"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:84
+msgid "2"
+msgstr "2"
 
-msgid "Constant Quantizer"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:91
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:90
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:92
+msgid "_Field order:"
+msgstr "?????????(_F):"
 
-msgid ""
-"Constant Quantizer - Each frame will the same compression. Low numbers equal "
-"higher quality while high numbers equal lower quality"
-msgstr ""
-"?????? - ??????????. ????????????????????"
-"???"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:92
+msgid "_Interpolate:"
+msgstr "??(_I):"
 
-msgid "Constant quantizer - each frame will get the same compression"
-msgstr "?????? - ?????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:94
+msgid "_Type:"
+msgstr "???(_T):"
 
-msgid "Continue indexing"
-msgstr "????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:95
+msgid "_MntMode:"
+msgstr "Mnt???(_M):"
 
-msgid "Contrast"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:96
+msgid "_Link:"
+msgstr "???(_L):"
 
-msgid "Copy"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:97
+msgid "_AP type:"
+msgstr "AP???(_A):"
 
-msgid "Could not find a filter"
-msgstr "????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:100
+msgid "Use Chroma to evalute"
+msgstr "????????"
 
-msgid "Could not get tracks info"
-msgstr "?????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:101
+msgid "Try weave"
+msgstr "weave???"
 
-msgid "Could not initialize audio"
-msgstr "???????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:102
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:173
+msgid "Denoise"
+msgstr "?????"
 
-msgid "Could not initialize video"
-msgstr "???????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:103
+msgid "Sharp"
+msgstr "????"
 
-msgid "Could not open \"%s\" for writing."
-msgstr "????? \"%s\" ??????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:104
+msgid "Evalute all frames"
+msgstr "??????????"
 
-msgid "Could not open OSS audio device"
-msgstr "OSS ????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:107
+msgid "Motion threshold, Luma:"
+msgstr "????, ??:"
 
-msgid "Could not open subtitle file"
-msgstr "????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:108
+msgid "Motion threshold, Chroma:"
+msgstr "????, ??:"
 
-msgid "Could not open the file"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:109
+msgid "Area combing threshold:"
+msgstr "?????????:"
 
-msgid "Could not read \"%s\"."
-msgstr "\"%s\" ??????."
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:110
+msgid "Combed threshold:"
+msgstr "??????:"
 
-msgid "Could not save all images."
-msgstr "???????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:111
+msgid "Artefact prot. threshold:"
+msgstr "??????:"
 
-msgid "Could not unpack the video"
-msgstr "?????????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:120
+msgid "TDEint Configuration"
+msgstr "TDeint ??"
 
-msgid "Could not write the file"
-msgstr "???????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:41
+msgid "Vob file(s):"
+msgstr "VOB????:"
 
-msgid "Couldn't find pixmap file: %s"
-msgstr "pixmap????: %s ????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:42
+msgid "IFO file:"
+msgstr "IFO????:"
 
-msgid "Create _OpenDML files"
-msgstr "OpenDML?????????(_O)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:43
+msgid "Vobsub file:"
+msgstr "VobSub????:"
 
-msgid "Create openDML file"
-msgstr "openDML ?????????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:48
+msgid "Vob 2 Vobsub"
+msgstr ""
 
-msgid "Crop Bottom:"
-msgstr "?????:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:52
+msgid "VOB file"
+msgstr "VOB????"
 
-msgid "Crop Left :"
-msgstr "?????:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:52
+msgid "The selected vobfile does not exist."
+msgstr "????VOB???????????."
 
-msgid "Crop Right:"
-msgstr "?????:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:57
+msgid "IFO file"
+msgstr "IFO????"
 
-msgid "Crop Settings"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:57
+msgid "The selected IFO file does not exist."
+msgstr "????IFO???????????."
 
-msgid "Crop Top:"
-msgstr "?????:"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:62
+msgid "VobSub file"
+msgstr "VobSub????"
 
-msgid "Cu_t"
-msgstr "???(_T)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:62
+msgid "Select a correct vobsub path/dir."
+msgstr "???VobSub??/???????????."
 
-msgid "Cubic Interpolation"
-msgstr "Cubic ??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:54
+msgid "translator-credits"
+msgstr "tetsuro"
 
-msgid "Cubic interpolate"
-msgstr "Cubic ??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:69
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:266
+msgid "Avidemux"
+msgstr "Avidemux"
 
-msgid "Current Glyph"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:70
+msgid "? 2001-2006 Mean"
+msgstr "? 2001-2006 Mean"
 
-msgid "Current frame"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:71
+msgid "Multiplatform video editor"
+msgstr "??????????? ??? ????"
 
-msgid "Current time"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:72
+msgid ""
+"Avidemux is free software; you can redistribute it and/or modify it \n"
+"under the terms of the GNU General Public License version 2 \n"
+"as published by the Free Software Foundation.\n"
+"\n"
+"\t\t    GNU GENERAL PUBLIC LICENSE\n"
+"\t\t       Version 2, June 1991\n"
+"\n"
+" Copyright (C) 1989, 1991 Free Software Foundation, Inc.\n"
+"                       51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n"
+" Everyone is permitted to copy and distribute verbatim copies\n"
+" of this license document, but changing it is not allowed.\n"
+"\n"
+"\t\t\t    Preamble\n"
+"\n"
+"  The licenses for most software are designed to take away your\n"
+"freedom to share and change it.  By contrast, the GNU General Public\n"
+"License is intended to guarantee your freedom to share and change free\n"
+"software--to make sure the software is free for all its users.  This\n"
+"General Public License applies to most of the Free Software\n"
+"Foundation's software and to any other program whose authors commit to\n"
+"using it.  (Some other Free Software Foundation software is covered by\n"
+"the GNU Library General Public License instead.)  You can apply it to\n"
+"your programs, too.\n"
+"\n"
+"  When we speak of free software, we are referring to freedom, not\n"
+"price.  Our General Public Licenses are designed to make sure that you\n"
+"have the freedom to distribute copies of free software (and charge for\n"
+"this service if you wish), that you receive source code or can get it\n"
+"if you want it, that you can change the software or use pieces of it\n"
+"in new free programs; and that you know you can do these things.\n"
+"\n"
+"  To protect your rights, we need to make restrictions that forbid\n"
+"anyone to deny you these rights or to ask you to surrender the rights.\n"
+"These restrictions translate to certain responsibilities for you if you\n"
+"distribute copies of the software, or if you modify it.\n"
+"\n"
+"  For example, if you distribute copies of such a program, whether\n"
+"gratis or for a fee, you must give the recipients all the rights that\n"
+"you have.  You must make sure that they, too, receive or can get the\n"
+"source code.  And you must show them these terms so they know their\n"
+"rights.\n"
+"\n"
+"  We protect your rights with two steps: (1) copyright the software, and\n"
+"(2) offer you this license which gives you legal permission to copy,\n"
+"distribute and/or modify the software.\n"
+"\n"
+"  Also, for each author's protection and ours, we want to make certain\n"
+"that everyone understands that there is no warranty for this free\n"
+"software.  If the software is modified by someone else and passed on, we\n"
+"want its recipients to know that what they have is not the original, so\n"
+"that any problems introduced by others will not reflect on the original\n"
+"authors' reputations.\n"
+"\n"
+"  Finally, any free program is threatened constantly by software\n"
+"patents.  We wish to avoid the danger that redistributors of a free\n"
+"program will individually obtain patent licenses, in effect making the\n"
+"program proprietary.  To prevent this, we have made it clear that any\n"
+"patent must be licensed for everyone's free use or not licensed at all.\n"
+"\n"
+"  The precise terms and conditions for copying, distribution and\n"
+"modification follow.\n"
+"\n"
+"\t\t    GNU GENERAL PUBLIC LICENSE\n"
+"   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n"
+"\n"
+"  0. This License applies to any program or other work which contains\n"
+"a notice placed by the copyright holder saying it may be distributed\n"
+"under the terms of this General Public License.  The \"Program\", below,\n"
+"refers to any such program or work, and a \"work based on the Program\"\n"
+"means either the Program or any derivative work under copyright law:\n"
+"that is to say, a work containing the Program or a portion of it,\n"
+"either verbatim or with modifications and/or translated into another\n"
+"language.  (Hereinafter, translation is included without limitation in\n"
+"the term \"modification\".)  Each licensee is addressed as \"you\".\n"
+"\n"
+"Activities other than copying, distribution and modification are not\n"
+"covered by this License; they are outside its scope.  The act of\n"
+"running the Program is not restricted, and the output from the Program\n"
+"is covered only if its contents constitute a work based on the\n"
+"Program (independent of having been made by running the Program).\n"
+"Whether that is true depends on what the Program does.\n"
+"\n"
+"  1. You may copy and distribute verbatim copies of the Program's\n"
+"source code as you receive it, in any medium, provided that you\n"
+"conspicuously and appropriately publish on each copy an appropriate\n"
+"copyright notice and disclaimer of warranty; keep intact all the\n"
+"notices that refer to this License and to the absence of any warranty;\n"
+"and give any other recipients of the Program a copy of this License\n"
+"along with the Program.\n"
+"\n"
+"You may charge a fee for the physical act of transferring a copy, and\n"
+"you may at your option offer warranty protection in exchange for a fee.\n"
+"\n"
+"  2. You may modify your copy or copies of the Program or any portion\n"
+"of it, thus forming a work based on the Program, and copy and\n"
+"distribute such modifications or work under the terms of Section 1\n"
+"above, provided that you also meet all of these conditions:\n"
+"\n"
+"    a) You must cause the modified files to carry prominent notices\n"
+"    stating that you changed the files and the date of any change.\n"
+"\n"
+"    b) You must cause any work that you distribute or publish, that in\n"
+"    whole or in part contains or is derived from the Program or any\n"
+"    part thereof, to be licensed as a whole at no charge to all third\n"
+"    parties under the terms of this License.\n"
+"\n"
+"    c) If the modified program normally reads commands interactively\n"
+"    when run, you must cause it, when started running for such\n"
+"    interactive use in the most ordinary way, to print or display an\n"
+"    announcement including an appropriate copyright notice and a\n"
+"    notice that there is no warranty (or else, saying that you provide\n"
+"    a warranty) and that users may redistribute the program under\n"
+"    these conditions, and telling the user how to view a copy of this\n"
+"    License.  (Exception: if the Program itself is interactive but\n"
+"    does not normally print such an announcement, your work based on\n"
+"    the Program is not required to print an announcement.)\n"
+"\n"
+"These requirements apply to the modified work as a whole.  If\n"
+"identifiable sections of that work are not derived from the Program,\n"
+"and can be reasonably considered independent and separate works in\n"
+"themselves, then this License, and its terms, do not apply to those\n"
+"sections when you distribute them as separate works.  But when you\n"
+"distribute the same sections as part of a whole which is a work based\n"
+"on the Program, the distribution of the whole must be on the terms of\n"
+"this License, whose permissions for other licensees extend to the\n"
+"entire whole, and thus to each and every part regardless of who wrote it.\n"
+"\n"
+"Thus, it is not the intent of this section to claim rights or contest\n"
+"your rights to work written entirely by you; rather, the intent is to\n"
+"exercise the right to control the distribution of derivative or\n"
+"collective works based on the Program.\n"
+"\n"
+"In addition, mere aggregation of another work not based on the Program\n"
+"with the Program (or with a work based on the Program) on a volume of\n"
+"a storage or distribution medium does not bring the other work under\n"
+"the scope of this License.\n"
+"\n"
+"  3. You may copy and distribute the Program (or a work based on it,\n"
+"under Section 2) in object code or executable form under the terms of\n"
+"Sections 1 and 2 above provided that you also do one of the following:\n"
+"\n"
+"    a) Accompany it with the complete corresponding machine-readable\n"
+"    source code, which must be distributed under the terms of Sections\n"
+"    1 and 2 above on a medium customarily used for software interchange; or,\n"
+"\n"
+"    b) Accompany it with a written offer, valid for at least three\n"
+"    years, to give any third party, for a charge no more than your\n"
+"    cost of physically performing source distribution, a complete\n"
+"    machine-readable copy of the corresponding source code, to be\n"
+"    distributed under the terms of Sections 1 and 2 above on a medium\n"
+"    customarily used for software interchange; or,\n"
+"\n"
+"    c) Accompany it with the information you received as to the offer\n"
+"    to distribute corresponding source code.  (This alternative is\n"
+"    allowed only for noncommercial distribution and only if you\n"
+"    received the program in object code or executable form with such\n"
+"    an offer, in accord with Subsection b above.)\n"
+"\n"
+"The source code for a work means the preferred form of the work for\n"
+"making modifications to it.  For an executable work, complete source\n"
+"code means all the source code for all modules it contains, plus any\n"
+"associated interface definition files, plus the scripts used to\n"
+"control compilation and installation of the executable.  However, as a\n"
+"special exception, the source code distributed need not include\n"
+"anything that is normally distributed (in either source or binary\n"
+"form) with the major components (compiler, kernel, and so on) of the\n"
+"operating system on which the executable runs, unless that component\n"
+"itself accompanies the executable.\n"
+"\n"
+"If distribution of executable or object code is made by offering\n"
+"access to copy from a designated place, then offering equivalent\n"
+"access to copy the source code from the same place counts as\n"
+"distribution of the source code, even though third parties are not\n"
+"compelled to copy the source along with the object code.\n"
+"\n"
+"  4. You may not copy, modify, sublicense, or distribute the Program\n"
+"except as expressly provided under this License.  Any attempt\n"
+"otherwise to copy, modify, sublicense or distribute the Program is\n"
+"void, and will automatically terminate your rights under this License.\n"
+"However, parties who have received copies, or rights, from you under\n"
+"this License will not have their licenses terminated so long as such\n"
+"parties remain in full compliance.\n"
+"\n"
+"  5. You are not required to accept this License, since you have not\n"
+"signed it.  However, nothing else grants you permission to modify or\n"
+"distribute the Program or its derivative works.  These actions are\n"
+"prohibited by law if you do not accept this License.  Therefore, by\n"
+"modifying or distributing the Program (or any work based on the\n"
+"Program), you indicate your acceptance of this License to do so, and\n"
+"all its terms and conditions for copying, distributing or modifying\n"
+"the Program or works based on it.\n"
+"\n"
+"  6. Each time you redistribute the Program (or any work based on the\n"
+"Program), the recipient automatically receives a license from the\n"
+"original licensor to copy, distribute or modify the Program subject to\n"
+"these terms and conditions.  You may not impose any further\n"
+"restrictions on the recipients' exercise of the rights granted herein.\n"
+"You are not responsible for enforcing compliance by third parties to\n"
+"this License.\n"
+"\n"
+"  7. If, as a consequence of a court judgment or allegation of patent\n"
+"infringement or for any other reason (not limited to patent issues),\n"
+"conditions are imposed on you (whether by court order, agreement or\n"
+"otherwise) that contradict the conditions of this License, they do not\n"
+"excuse you from the conditions of this License.  If you cannot\n"
+"distribute so as to satisfy simultaneously your obligations under this\n"
+"License and any other pertinent obligations, then as a consequence you\n"
+"may not distribute the Program at all.  For example, if a patent\n"
+"license would not permit royalty-free redistribution of the Program by\n"
+"all those who receive copies directly or indirectly through you, then\n"
+"the only way you could satisfy both it and this License would be to\n"
+"refrain entirely from distribution of the Program.\n"
+"\n"
+"If any portion of this section is held invalid or unenforceable under\n"
+"any particular circumstance, the balance of the section is intended to\n"
+"apply and the section as a whole is intended to apply in other\n"
+"circumstances.\n"
+"\n"
+"It is not the purpose of this section to induce you to infringe any\n"
+"patents or other property right claims or to contest validity of any\n"
+"such claims; this section has the sole purpose of protecting the\n"
+"integrity of the free software distribution system, which is\n"
+"implemented by public license practices.  Many people have made\n"
+"generous contributions to the wide range of software distributed\n"
+"through that system in reliance on consistent application of that\n"
+"system; it is up to the author/donor to decide if he or she is willing\n"
+"to distribute software through any other system and a licensee cannot\n"
+"impose that choice.\n"
+"\n"
+"This section is intended to make thoroughly clear what is believed to\n"
+"be a consequence of the rest of this License.\n"
+"\n"
+"  8. If the distribution and/or use of the Program is restricted in\n"
+"certain countries either by patents or by copyrighted interfaces, the\n"
+"original copyright holder who places the Program under this License\n"
+"may add an explicit geographical distribution limitation excluding\n"
+"those countries, so that distribution is permitted only in or among\n"
+"countries not thus excluded.  In such case, this License incorporates\n"
+"the limitation as if written in the body of this License.\n"
+"\n"
+"  9. The Free Software Foundation may publish revised and/or new versions\n"
+"of the General Public License from time to time.  Such new versions will\n"
+"be similar in spirit to the present version, but may differ in detail to\n"
+"address new problems or concerns.\n"
+"\n"
+"Each version is given a distinguishing version number.  If the Program\n"
+"specifies a version number of this License which applies to it and \"any\n"
+"later version\", you have the option of following the terms and conditions\n"
+"either of that version or of any later version published by the Free\n"
+"Software Foundation.  If the Program does not specify a version number of\n"
+"this License, you may choose any version ever published by the Free Software\n"
+"Foundation.\n"
+"\n"
+"  10. If you wish to incorporate parts of the Program into other free\n"
+"programs whose distribution conditions are different, write to the author\n"
+"to ask for permission.  For software which is copyrighted by the Free\n"
+"Software Foundation, write to the Free Software Foundation; we sometimes\n"
+"make exceptions for this.  Our decision will be guided by the two goals\n"
+"of preserving the free status of all derivatives of our free software and\n"
+"of promoting the sharing and reuse of software generally.\n"
+"\n"
+"\t\t\t    NO WARRANTY\n"
+"\n"
+"  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\n"
+"FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\n"
+"OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\n"
+"PROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\n"
+"OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n"
+"MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\n"
+"TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\n"
+"PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\n"
+"REPAIR OR CORRECTION.\n"
+"\n"
+"  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\n"
+"WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\n"
+"REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\n"
+"INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\n"
+"OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\n"
+"TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\n"
+"YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\n"
+"PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\n"
+"POSSIBILITY OF SUCH DAMAGES.\n"
+"\n"
+"\t\t     END OF TERMS AND CONDITIONS\n"
+"\n"
+"\t    How to Apply These Terms to Your New Programs\n"
+"\n"
+"  If you develop a new program, and you want it to be of the greatest\n"
+"possible use to the public, the best way to achieve this is to make it\n"
+"free software which everyone can redistribute and change under these terms.\n"
+"\n"
+"  To do so, attach the following notices to the program.  It is safest\n"
+"to attach them to the start of each source file to most effectively\n"
+"convey the exclusion of warranty; and each file should have at least\n"
+"the \"copyright\" line and a pointer to where the full notice is found.\n"
+"\n"
+"    <one line to give the program's name and a brief idea of what it does.>\n"
+"    Copyright (C) <year>  <name of author>\n"
+"\n"
+"    This program is free software; you can redistribute it and/or modify\n"
+"    it under the terms of the GNU General Public License as published by\n"
+"    the Free Software Foundation; either version 2 of the License, or\n"
+"    (at your option) any later version.\n"
+"\n"
+"    This program is distributed in the hope that it will be useful,\n"
+"    but WITHOUT ANY WARRANTY; without even the implied warranty of\n"
+"    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n"
+"    GNU General Public License for more details.\n"
+"\n"
+"    You should have received a copy of the GNU General Public License\n"
+"    along with this program; if not, write to the Free Software\n"
+"    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n"
+"\n"
+"\n"
+"Also add information on how to contact you by electronic and paper mail.\n"
+"\n"
+"If the program is interactive, make it output a short notice like this\n"
+"when it starts in an interactive mode:\n"
+"\n"
+"    Gnomovision version 69, Copyright (C) year name of author\n"
+"    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\n"
+"    This is free software, and you are welcome to redistribute it\n"
+"    under certain conditions; type `show c' for details.\n"
+"\n"
+"The hypothetical commands `show w' and `show c' should show the appropriate\n"
+"parts of the General Public License.  Of course, the commands you use may\n"
+"be called something other than `show w' and `show c'; they could even be\n"
+"mouse-clicks or menu items--whatever suits your program.\n"
+"\n"
+"You should also get your employer (if you work as a programmer) or your\n"
+"school, if any, to sign a \"copyright disclaimer\" for the program, if\n"
+"necessary.  Here is a sample; alter the names:\n"
+"\n"
+"  Yoyodyne, Inc., hereby disclaims all copyright interest in the program\n"
+"  `Gnomovision' (which makes passes at compilers) written by James Hacker.\n"
+"\n"
+"  <signature of Ty Coon>, 1 April 1989\n"
+"  Ty Coon, President of Vice\n"
+"\n"
+"This General Public License does not permit incorporating your program into\n"
+"proprietary programs.  If your program is a subroutine library, you may\n"
+"consider it more useful to permit linking proprietary applications with the\n"
+"library.  If this is what you want to do, use the GNU Library General\n"
+"Public License instead of this License."
+msgstr ""
 
-msgid "Curve compression"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:74
+msgid "http://www.avidemux.org"
+msgstr "http://www.avidemux.org"
 
-msgid "Custom"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp:138
+msgid "AudioCodec"
+msgstr "???????"
 
-msgid "Custom matrix"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp:163
+msgid "Configure codec"
+msgstr "????????"
 
-msgid "Cycle"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:83
+msgid "Select background picture"
+msgstr "???????"
 
-msgid "DRC"
-msgstr "DRC"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:169
+msgid "Animated Menu"
+msgstr ""
 
-msgid "DVD resolution [Ctrl-1]"
-msgstr "DVD ??? [Ctrl-1]"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:193
+msgid "BackGround Image :"
+msgstr "???? :"
 
-msgid "De_ringing"
-msgstr "????(_R)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:200
+msgid "Standard"
+msgstr "??"
 
-msgid "Deblocking Filter :"
-msgstr "????? ???? :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:207
+msgid "NTSC (default is PAL)"
+msgstr "NTSC (??????PAL)"
 
-msgid "Debug"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:227
+msgid "Vignette Width"
+msgstr "?????"
 
-msgid "Decompressing error"
-msgstr "??(decompression)???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:234
+msgid "Vignette Height"
+msgstr "??????"
 
-msgid "Default"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:257
+msgid "<b>General</b>"
+msgstr "<b>??</b>"
 
-msgid "Default Postprocessing"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:276
+msgid "Chapter 1"
+msgstr "?????1"
 
-msgid "Default mpeg"
-msgstr "?????MPEG"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:283
+msgid "Chapter 2"
+msgstr "?????2"
 
-msgid "Defaults"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:290
+msgid "Chapter 3"
+msgstr "?????3"
 
-msgid ""
-"Define how many pixels are analysised. The higher the range the more "
-"accurate the analysis but the slower the encoding time"
-msgstr ""
-"?????????????. ????????????????????????"
-"?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:297
+msgid "Chapter 4"
+msgstr "?????4"
 
-msgid ""
-"Define how much the bitrate can fluctuate over the entire video. 0% results "
-"in a constant bitrate stream, while 100% results in a pure quality based "
-"bitrate stream"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:304
+msgid "Chapter 5"
+msgstr "?????5"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:311
+msgid "Chapter 6"
+msgstr "?????6"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:324
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:333
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:342
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:351
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:360
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:369
+msgid "Start frame for this vignette."
+msgstr "?????????????????"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_animated.cpp:372
+msgid "<b>TimeCode</b>"
+msgstr "<b>??????</b>"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:72
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:72
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:74
+msgid "ASHARP"
 msgstr ""
-"??????????????????. 0%?????????????????"
-"??100%??????????????????????????"
 
-msgid ""
-"Define how much the quantizer rate can change between two consecutive frames"
-msgstr "????????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:185
+msgid "ASharp by MarcFD"
+msgstr "MarcFD???ASharp"
 
-msgid "Define the level for when deblocking is applied"
-msgstr "??????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:198
+msgid "Threshold :"
+msgstr "?? :"
 
-msgid "Delay in ms"
-msgstr "?? (ms)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:206
+msgid "Strength :"
+msgstr "?? :"
 
-msgid "Delete ALL jobs"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:214
+msgid "Block Adaptative :"
+msgstr "??????? :"
 
-msgid "Delete All Jobs"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:222
+msgid "Unknown flag :"
+msgstr "????? :"
 
-msgid "Delete Job"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:254
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:208
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:271
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:262
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:283
+msgid " "
+msgstr " "
 
-msgid "Delete job"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_busy.cpp:120
+msgid "Busy"
+msgstr ""
 
-msgid "Deleted"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:403
+msgid "Bitrate Calculator"
+msgstr "????????"
 
-msgid "Denoise"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:431
+msgid "Duration:"
+msgstr "????:"
 
-msgid "Deringing"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:437
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:798
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:198
+msgid "00:00:00"
+msgstr "00:00:00"
 
-msgid "Dest. aspect ratio"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:451
+msgid "_Medium:"
+msgstr "????(_M):"
 
-msgid "Destination"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:462
+msgid "_Format:"
+msgstr "??(_F):"
 
-msgid "Detected Audio :"
-msgstr "??????? :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:473
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:531
+msgid "Total size (custom)"
+msgstr "?????(????)"
 
-msgid "Diamond search"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:483
+msgid "_Custom size (MB):"
+msgstr "???????(_C) (MB):"
 
-msgid "Direct Threshold"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:497
+msgid "Output container format"
+msgstr "????????"
 
-msgid "Disable NUV audio sync"
-msgstr "NuppelVideo ??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:524
+msgid "Total size"
+msgstr "?????"
 
-msgid "Discard Closer"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:528
+msgid "1x 80 min. CD"
+msgstr "1x 80? CD"
 
-msgid "Discard longer dupe (anim?s)"
-msgstr "??dupe???(???)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:533
+msgid "2x 80 min. CD"
+msgstr "2x 80? CD"
 
-msgid "Display Stats"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:537
+msgid "1x 74 min. CD"
+msgstr "1x 74? CD"
 
-msgid "Display _Output"
-msgstr "?????(_O)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:541
+msgid "2x 74 min. CD"
+msgstr "2x 74? CD"
 
-msgid "Display all alerts"
-msgstr "???????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:545
+msgid "DVD5"
+msgstr "DVD5"
 
-msgid "Display only error alerts"
-msgstr "????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:549
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:808
+msgid "Custom"
+msgstr "????"
 
-msgid "Do you want me to unpack it ?"
-msgstr "???????????? ?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:555
+msgid "<b>Target</b>"
+msgstr "<b>??</b>"
 
-msgid "Do you want to abort indexing ?"
-msgstr "?????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:575
+msgid "Track _1:"
+msgstr "???? _1:"
 
-msgid "Do you want to print metrics on screen ?"
-msgstr "???????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:583
+msgid "Audio bitrate in kb/s for track 1 (0 for no audio)"
+msgstr "?????????????? kb/s (0?????)"
 
-msgid "Do you want to save an index ?"
-msgstr "????????????? ?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:591
+msgid "Track _2: "
+msgstr "???? _2: "
 
-msgid "Dolby Prologic"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:599
+msgid "Audio bitrate in kb/s for track 2 (optional)"
+msgstr "?????????????? kb/s (??)"
 
-msgid "Dolby Prologic 2"
-msgstr "?????????? 2"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:603
+msgid "<b>Audio Bitrate</b>"
+msgstr "<b>????????</b>"
 
-msgid "Done"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:625
+msgid "Audio size (MB):"
+msgstr "????? (MB):"
 
-msgid "Done : %02d%%"
-msgstr "?? : %02d%%"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:641
+msgid "Video size (MB):"
+msgstr "????? (MB):"
 
-msgid "Double nb of frames (slow motion)"
-msgstr "???????????(????????)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:657
+msgid "Total size (MB):"
+msgstr "????? (MB):"
 
-msgid "Double nb of frames and fps"
-msgstr "??????FPS??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:679
+msgid "Video bitrate:"
+msgstr "????????:"
 
-msgid "DropOut Threshold"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:687
+msgid "Bits per pixel:"
+msgstr "???/????:"
 
-msgid "Dual audio can only be used in copy mode"
-msgstr "????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:703
+msgid "0.0"
+msgstr "0.0"
 
-msgid "Dual pass"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:711
+msgid "<b>Result</b>"
+msgstr "<b>??</b>"
 
-msgid "Dual pass (MBytes)"
-msgstr "???? (MBytes)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:189
+msgid "ChromaShift"
+msgstr ""
 
-msgid "Dual pass, avg bitate (kb/s):"
-msgstr "2???????????(kb/s):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:203
+msgid "U Shift :"
+msgstr "U ???:"
 
-msgid "Duration:"
-msgstr "????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:210
+msgid "V Shift :"
+msgstr "V ???:"
 
-msgid "Edit Custom Matrix"
-msgstr "?????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:252
+msgid "<b>Preview</b>"
+msgstr "<b>?????</b>"
 
-msgid "Edit a loaded custom quantization matrix file"
-msgstr "???????????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:137
+msgid "Chroma Noise Reduction 2"
+msgstr "??????? 2"
 
-msgid "Enable DCT Intra block search to improve quality"
-msgstr "DCT??????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:162
+msgid "<b>Scene change Treshold</b>"
+msgstr "<b>???????</b>"
 
-msgid ""
-"Enable a better prediction of AC component. Turns on Lumi masking - applies "
-"more compression to dark/light areas that the eye cannot notice easily"
-msgstr ""
-"AC????????????????????. Lumi??????? - ??????"
-"??????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:181
+msgid "Sensibility"
+msgstr "??"
 
-msgid "Enable in-loop deblocking to filter the video"
-msgstr "????????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:189
+msgid "Max"
+msgstr "??"
 
-msgid "Enable time shift"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:204
+msgid "Luma :"
+msgstr "?? :"
 
-msgid "Enables Divx like packed vop, DO NOT SET, it is ugly"
-msgstr "????vop????Divx??????. ??????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:211
+msgid "Chroma U :"
+msgstr "?? U :"
 
-msgid "Enables a chroma optimizer prefilter"
-msgstr "?????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:218
+msgid "Chroma V :"
+msgstr "?? V :"
 
-msgid "Enables fast 1st pass encoding"
-msgstr "????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:261
+msgid "Narrow"
+msgstr "??"
 
-msgid ""
-"Enables interlaced frame support - use only if your source contains "
-"interlacing artifacts (i.e. fields instead of progressive frames)"
-msgstr ""
-"???????????????????? - ???????????(?????"
-"???????????????????)??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:286
+msgid "<b>Settings</b>"
+msgstr "<b>??</b>"
 
-msgid "Enables special motion estimation features for cartoons/anime"
-msgstr "??/?????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:305
+msgid "Use also chroma to detect scene change"
+msgstr "?????????????????"
 
-msgid "Enables weighting of B-frames to help fades"
-msgstr "B-????????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:309
+msgid "<b>Mode</b>"
+msgstr "<b>???</b>"
 
-msgid "Encode in black & white"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_color.cpp:71
+msgid "Select Color"
+msgstr "????"
 
-msgid "Encode interlaced"
-msgstr "??????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:155
+msgid "ColorYuv (From avisynth)"
+msgstr "ColorYuv (Avisynth??)"
 
-msgid "Encoding "
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:179
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:197
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:215
+msgid "Contrast"
+msgstr "??????"
 
-msgid "Encoding Mode:"
-msgstr "????????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:186
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:224
+msgid "Brightness"
+msgstr "???"
 
-msgid "Encoding Type"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:193
+msgid "Gamma"
+msgstr "???"
 
-msgid "Encoding Type:"
-msgstr "????? ???:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:207
+msgid "Luma Y"
+msgstr "?? Y"
 
-msgid "Encoding mode"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:214
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:242
+msgid "Chroma U"
+msgstr "?? U"
 
-msgid "Encoding priority"
-msgstr "?????????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:221
+msgid "Chroma V"
+msgstr "?? V"
 
-msgid "Encoding type:"
-msgstr "????????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:324
+msgid "<b>Color Correction Matrix</b>"
+msgstr "<b>?????????</b>"
 
-msgid "End frame for partial :"
-msgstr "?????????????? :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:347
+msgid "Matrix"
+msgstr "??????"
 
-msgid "Enforce a maximum quantizer level"
-msgstr "????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:354
+msgid "Opt"
+msgstr ""
 
-msgid "Enforce a minimum quantizer level"
-msgstr "????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:361
+msgid "Level"
+msgstr "???"
 
-msgid ""
-"Enforce the size of a decoded pixel decoded to a certain value. Leave this "
-"at 1:1 for non-anamorphic video"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:374
+msgid "Rec.709"
 msgstr ""
-"??????????????????????????. ???????????"
-"???1:1?????????"
 
-msgid "Enter parameters (i.e. -b 192 -m s ...)"
-msgstr "???????? (?: -b 192 -ms ...)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:382
+msgid "Coring"
+msgstr "?????"
 
-msgid "Entry input for target file size or bitrate"
-msgstr "??????????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:390
+msgid "TV->PC"
+msgstr "TV->PC"
 
-msgid "Equalizer"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:391
+msgid "PC->TV"
+msgstr "PC->TV"
 
-msgid "Erase current glyphs ?"
-msgstr "??????????? ?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:392
+msgid "PC->TV.Y"
+msgstr "PC->TV.Y"
 
-msgid "Error Loading"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:398
+msgid ""
+"<b>Matrix Warning :</b>\n"
+"all above values are normalized to 256!"
+msgstr ""
+"<b>???????? :</b>\n"
+"???????256????????!"
 
-msgid "Error Writing"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:404
+msgid "AutoGain"
+msgstr "????"
 
-msgid "Error converting to BMP"
-msgstr "BMP???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:408
+msgid "Display Stats"
+msgstr "????"
 
-msgid "Error in pass 1"
-msgstr "?? 1 ????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:412
+msgid "AutoWhite"
+msgstr "??????"
 
-msgid "Error in pass 2"
-msgstr "?? 2 ????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:416
+msgid "<b>frame2</b>"
+msgstr "<b>????2</b>"
 
-msgid "Error initalizing audio filters"
-msgstr "????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:238
+msgid "Luma"
+msgstr "??"
 
-msgid "Error initalizing video filters"
-msgstr "????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:246
+msgid "Chroma v"
+msgstr "?? v"
 
-msgid "Error loadind the custom matrix file."
-msgstr "????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:263
+msgid "Crop Settings"
+msgstr "???????"
 
-msgid "Error loading the AC3 file"
-msgstr "AC3??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:297
+msgid "AutoCrop"
+msgstr "??????"
 
-msgid "Error loading the MP3 file"
-msgstr "MP3??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:319
+msgid "Reset"
+msgstr "????"
 
-msgid "Error loading the WAV file"
-msgstr "WAV??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:328
+msgid "Crop Left :"
+msgstr "?????:"
 
-msgid "Error reading ifo file, aborting."
-msgstr "IFO???????????????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:336
+msgid "Crop Top:"
+msgstr "?????:"
 
-msgid "Error while encoding"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:344
+msgid "Crop Right:"
+msgstr "?????:"
 
-msgid "Error writing the custom matrix file."
-msgstr "????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:352
+msgid "Crop Bottom:"
+msgstr "?????:"
 
-msgid "Errors found in %u frames"
-msgstr "%u ????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:157
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:179
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp:53
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp:71
+msgid "Privileges Required"
+msgstr "????????"
 
-msgid "Evaluate ALL frames"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:157
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:179
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp:53
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp:71
+msgid "Root privileges are required to perform this operation."
+msgstr "???????????Root????????"
 
-msgid "Exhaustive search"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:200
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp:177
+msgid "Shutting down"
+msgstr "????????"
 
-msgid "Expect a crash."
-msgstr "?????????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:377
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:150
+#, c-format
+msgid "%d%%"
+msgstr "%d%%"
 
-msgid "Expect troubles"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:400
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:407
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:414
+#, c-format
+msgid "%lu MB"
+msgstr "%lu MB"
 
-msgid "External"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:510
+msgid "Encoding..."
+msgstr "??????..."
 
-msgid "External AC3"
-msgstr "??AC3"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:541
+msgid "<b>Phase:</b>"
+msgstr "<b>????:</b>"
 
-msgid "External Filters"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:556
+msgid "<b>Video Codec:</b>"
+msgstr "<b>???????:</b>"
 
-msgid "External MP3"
-msgstr "??MP3"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:571
+msgid "<b>Audio Codec:</b>"
+msgstr "<b>???????:</b>"
 
-msgid "External WAV"
-msgstr "??WAV"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:586
+msgid "<b>Container:</b>"
+msgstr "<b>????:</b>"
 
-msgid "External Wav"
-msgstr "??WAV"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:618
+msgid "<b>Processed Frames:</b>"
+msgstr "<b>???????:</b>"
 
-msgid "External filename"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:626
+msgid "<b>Total Frames:</b>"
+msgstr "<b>???????:</b>"
 
-msgid "Extra Settings"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:634
+msgid "<b>Quantiser:</b>"
+msgstr "<b>????:</b>"
 
-msgid "Extra Shrink Factor :"
-msgstr "????? :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:642
+msgid "<b>Average Bitrate:</b>"
+msgstr "<b>????????:</b>"
 
-msgid "Extra check, avoid using it"
-msgstr "?????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:650
+msgid "0 kB/s"
+msgstr "0 kB/s"
 
-msgid "Extra slow (same as 3+multiple reference frames)"
-msgstr "???? (??+????????)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:695
+msgid "<b>Video Size:</b>"
+msgstr "<b>?????:</b>"
 
-msgid "Extrapolate better (better not to use it)"
-msgstr "???????? (better not to use it)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:703
+msgid "<b>Audio Size:</b>"
+msgstr "<b>?????:</b>"
 
-msgid "FFmpeg deint"
-msgstr "FFmpeg ???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:711
+msgid "<b>Total Size:</b>"
+msgstr "<b>?????:</b>"
 
-msgid "FFmpeg encoding options"
-msgstr "FFmpeg??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:719
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:727
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:735
+msgid "0 MB"
+msgstr "0 MB"
 
-msgid "Factor between I and P frame Quants"
-msgstr "I ? P ??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:760
+msgid "<b>Elapsed:</b>"
+msgstr "<b>????:</b>"
 
-msgid "Factor between P and B frame Quants"
-msgstr "P ? B ??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:768
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:258
+msgid "<b>Time Remaining:</b>"
+msgstr "<b>????:</b>"
 
-msgid "Fade in"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:776
+msgid "<b>Frames/sec:</b>"
+msgstr "<b>????/?:</b>"
 
-msgid "Fade out"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:822
+msgid "Shut down computer when finished"
+msgstr "?????????????????????"
 
-msgid "Fade to _black"
-msgstr "??????(_B)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:830
+msgid "Priority:"
+msgstr "???:"
 
-msgid "Failed"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:840
+msgid "Above Normal"
+msgstr "????"
 
-msgid "Failed to open the file"
-msgstr "???????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:842
+msgid "Below Normal"
+msgstr "????"
 
-msgid "Fast"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:880
+msgid "Pause / Abort"
+msgstr "?? / ??"
 
-msgid "Fast (parial luma and chroma)"
-msgstr "??(???????)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:330
+msgid "MPlayer eq2"
+msgstr ""
 
-msgid "Fast P-Skip"
-msgstr "??P-????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:356
+msgid "Brigh_tness:"
+msgstr "???(_T):"
 
-msgid "Fastest (no chroma, partial luma)"
-msgstr "??(????, ????)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:364
+msgid "_Saturation:"
+msgstr "???(_S):"
 
-msgid "Fatal error"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:399
+msgid "_Contrast:"
+msgstr "??????(_C):"
 
-msgid "Fewest bits (vhq)"
-msgstr "??????(vhq)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:425
+msgid "_Initial:"
+msgstr "??(_I):"
 
-msgid "Field Order"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:451
+msgid "_Red:"
+msgstr "?(_R):"
 
-msgid "Field Order :"
-msgstr "????????? :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:468
+msgid "_Green:"
+msgstr "?(_G):"
 
-msgid "Fil_ters"
-msgstr "????(_T)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:476
+msgid "_Blue:"
+msgstr "?(_B):"
 
-msgid "File %s has been successfully saved."
-msgstr "???? %s ??????????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:484
+msgid "_Weight:"
+msgstr "??(_W):"
 
-msgid "File %s was NOT saved correctly."
-msgstr "???? %s ????????????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:510
+msgid "<b>Gamma</b>"
+msgstr "<b>???</b>"
 
-msgid "File :"
-msgstr "???? :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_equalizer.cpp:433
+msgid "Equalizer"
+msgstr "?????"
 
-msgid "File Size:"
-msgstr "???????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_exLame.cpp:80
+msgid "Lame command"
+msgstr "Lame ????"
 
-msgid "File error"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_exLame.cpp:89
+msgid "Enter parameters (i.e. -b 192 -m s ...)"
+msgstr "???????? (?: -b 192 -ms ...)"
 
-msgid "File type identified but no loader support detected..."
-msgstr "???????????????????????????????..."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:84
+msgid "Hue"
+msgstr "??"
 
-msgid "FileSize (MB)"
-msgstr "???????(MB)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:184
+msgid "Hue/Saturation"
+msgstr "??/???"
 
-msgid "Filename"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:198
+msgid "<b>Hue:</b>"
+msgstr "<b>??:</b>"
 
-msgid "Filename of the audio/video output"
-msgstr "??/??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:206
+msgid "<b>Saturation:</b>"
+msgstr "<b>???:</b>"
 
-msgid "Filesize tolerance (kb"
-msgstr "?????????(kb"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:51
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_index_pg.cpp:142
+msgid "Continue indexing"
+msgstr "????????????"
 
-msgid "Filter Strength"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:51
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_index_pg.cpp:142
+msgid "Abort Requested"
+msgstr "????????"
 
-msgid "Filter directory"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:51
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_index_pg.cpp:142
+msgid "Do you want to abort indexing ?"
+msgstr "?????????????????"
 
-msgid "Filter init failed"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:153
+msgid "Indexing..."
+msgstr "?????????????..."
 
-msgid "Filters"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:174
+msgid "Time left :"
+msgstr "???? :"
 
-msgid "Finished at"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:182
+msgid "Timecode :"
+msgstr "?????? :"
 
-msgid "First frame"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:190
+msgid "Nb pictures seen :"
+msgstr "??????????? :"
 
-msgid "Flat matrix"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:214
+msgid "Indexing :"
+msgstr "?????????:"
 
-msgid "Font (TTF)"
-msgstr "????(TTF)"
+# NUL for MS Windows
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:222
+msgid "/dev/null"
+msgstr "NUL"
 
-msgid "Font Size"
-msgstr "???????"
-
-msgid "For DVD, audio must be 48 kHz MP2(stereo), AC3, DTS or LPCM (stereo)."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:25
+msgid "Ready"
 msgstr ""
-"DVD??????? 48 kHz MP2(????), AC3, DTS ??? LPCM (????)???"
-"??????."
 
-msgid "For DVD, audio must be 48 kHz MP2, AC3 or LPCM."
-msgstr "DVD??????? 48 kHz MP2, AC3 ??? LPCM?????????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:25
+msgid "Succeeded"
+msgstr "????"
 
-msgid "For DVD, audio must be MP2 or AC3."
-msgstr "DVD??????? MP2 ??? AC3 ?????????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:25
+#: avidemux/gtk_gui.cpp:2272
+msgid "Failed"
+msgstr "????"
 
-msgid "For VCD, audio must be 44.1 kHz MP2."
-msgstr "VCD??????? 44.1 kHz MP2 ?????????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:25
+msgid "Deleted"
+msgstr "????"
 
-msgid "Force background"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:25
+msgid "Running"
+msgstr "???"
 
-msgid "Frame Count:"
-msgstr "?????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:98
+msgid "  Job Name  "
+msgstr "  ????  "
 
-msgid "Frame Hex Dump"
-msgstr "????16????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:103
+msgid "Started at"
+msgstr "???"
 
-msgid "Frame Rate"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:107
+msgid "Finished at"
+msgstr "???"
 
-msgid "Frame Rate:"
-msgstr "???????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:134
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:172
+msgid "Sure!"
+msgstr "??!"
 
-msgid "Frame Size:"
-msgstr "???????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:134
+msgid "Delete ALL jobs"
+msgstr "???????"
 
-msgid "Frame Type:"
-msgstr "???????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:134
+msgid "Are you sure you want to delete all jobs ?"
+msgstr "?????????????? ?"
 
-msgid "Frame size:"
-msgstr "???????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:172
+msgid "Delete job"
+msgstr "??????"
 
-msgid "Frame type:"
-msgstr "???????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:172
+#, possible-c-format
+msgid "Are you sure you want to delete %s job ?"
+msgstr "??? %s ?????????? ?"
 
-msgid "Frame: "
-msgstr "????: "
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:181
+msgid "Unknown event"
+msgstr "???????"
 
-msgid "Frame: ?"
-msgstr "????: ?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:261
+msgid "Jobs"
+msgstr "???"
 
-msgid "Frame:%c(%02d)"
-msgstr "????:%c(%02d)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:287
+msgid "Delete All Jobs"
+msgstr "???????"
 
-msgid "Frequency"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:292
+msgid "Delete Job"
+msgstr "??????"
 
-msgid "Frequency:"
-msgstr "???:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:297
+msgid "Run all jobs"
+msgstr "???????"
 
-msgid "Full linking"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:302
+msgid "Run Job"
+msgstr "??????"
 
-msgid "Further enable DCT Intra block search to improve quality"
-msgstr "???DCT??????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:49
+msgid "Select video to write"
+msgstr "????????"
 
-msgid "Further improve the P-frame quality"
-msgstr "P-?????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:63
+msgid "Invalid filename"
+msgstr "????????"
 
-msgid "GMC "
-msgstr "GMC?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:63
+msgid "Please select or enter a valid filename"
+msgstr "?????????????????????"
 
-msgid "Gain"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:69
+msgid "Invalid jobname"
+msgstr "???????"
 
-msgid "Gamma"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:69
+msgid "Please select or enter a valid jobname"
+msgstr "????????????????????"
 
-msgid "General block breakdown transformation"
-msgstr "????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:111
+msgid "Save Job"
+msgstr "??????"
 
-msgid "Get Frame"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:130
+msgid "Select the output file"
+msgstr "?????????"
 
-msgid "Get PAR from input video file"
-msgstr "??????????PAR???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:144
+msgid "_Browse..."
+msgstr "??(_B)"
 
-msgid ""
-"Global Motion Compensation can save bits on camera pans, zooming and rotation"
-msgstr ""
-"?????????(GMC)????????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:153
+msgid "Job name displayed in the job list and used as the script filename"
+msgstr "???????????, ?????????????????????"
 
-msgid "Global Motion Compensation:"
-msgstr "?????????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:162
+msgid "Filename of the audio/video output"
+msgstr "??/??????????"
 
-msgid "Go to Marker _A"
-msgstr "????A???(_A)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:165
+msgid "_Job name:"
+msgstr "????(_J)"
 
-msgid "Go to Marker _B"
-msgstr "????B???(_B)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:172
+msgid "Output _file:"
+msgstr "??????(_F):"
 
-msgid "Go to marker A"
-msgstr "????A???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:356
+msgid "Mplayer Delogo"
+msgstr ""
 
-msgid "Go to marker B"
-msgstr "????B???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:374
+msgid "X"
+msgstr "X"
 
-msgid "Go to time"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:381
+msgid "Y"
+msgstr "Y"
 
-msgid "Gop Size"
-msgstr "GOP???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:388
+msgid "W"
+msgstr "W"
 
-msgid "Gop Size  (12):"
-msgstr "GOP??? (12):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:395
+msgid "H"
+msgstr "H"
 
-msgid "H.263 quantizers smooth the picture (useful at lower bitrates)"
-msgstr "H.263 ??????????????? (??????????)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:402
+msgid "Band"
+msgstr ""
 
-msgid "H263 Quantizer"
-msgstr "H263 ????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:85
+msgid "Mini OCR"
+msgstr "?? OCR"
 
-msgid "H264 detected"
-msgstr "H264???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:118
+msgid "<b>Glyphs</b>"
+msgstr "<b>???</b>"
 
-msgid "HQ _AC"
-msgstr "HQ _AC"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:132
+msgid "# of Glyphs :"
+msgstr "?????:"
 
-msgid "Half D1 resolution [Ctrl-2]"
-msgstr "Half D1 ??? [Ctrl-2]"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:140
+msgid "# of lines"
+msgstr "??"
 
-msgid "Hexagonal search"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:164
+msgid "<b>Stats</b>"
+msgstr "<b>?????</b>"
 
-msgid "High"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:186
+msgid "  "
+msgstr "  "
 
-msgid "High bitrate scenes (%):"
-msgstr "?????????? (%):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:195
+msgid "VobSub"
+msgstr "VobSub"
 
-msgid "HighQ"
-msgstr "?Q (_H)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:217
+msgid "Output Srt"
+msgstr "??Srt"
 
-msgid ""
-"Higher settings give higher quality results, at the cost of slower encoding"
-msgstr "??????????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:222
+msgid "<b>Files</b>"
+msgstr "<b>????</b>"
 
-msgid "Horizontal deblocking"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:228
+msgid "StartOcr"
+msgstr "OCR??"
 
-msgid "Hour"
-msgstr "?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:249
+msgid "Current Glyph"
+msgstr "??????"
 
-msgid ""
-"How much of the overflow the codec can eat into during oversized sections - "
-"larger values will bridge the gap faster"
-msgstr ""
-"????????????????????? - ????????????????"
-"?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:263
+msgid " Text:"
+msgstr "????:"
 
-msgid ""
-"How much of the overflow the codec can eat into during undersized sections - "
-"larger values will bridge the gap faster"
-msgstr ""
-"????????????????????? - ????????????????"
-"?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:287
+msgid "Calibrate"
+msgstr "??"
 
-msgid "Hue/Saturation"
-msgstr "??/???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:292
+msgid "Skip all"
+msgstr "???????"
 
-msgid "I-frame boost (%):"
-msgstr "I-?????? (%):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:297
+msgid "Skip Glyph"
+msgstr "????????"
 
-msgid "I-frame interval - Min:"
-msgstr "I-?????? - ??:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:302
+msgid "Ignore glyph"
+msgstr "??????"
 
-msgid "I-frame quantizer - Min:"
-msgstr "I-???????? - ??:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:307
+msgid "Ok"
+msgstr "Ok"
 
-msgid ""
-"I-frames appearing in the range below this value will be treated as "
-"consecutive keyframes"
-msgstr "???????I-????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:316
+msgid "<b>Bitmap</b>"
+msgstr "<b>??????</b>"
 
-msgid "I-frames closer than ... frames..."
-msgstr "...?????????I-?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:123
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:144
+msgid "Partial"
+msgstr "????"
 
-msgid "If metric is less than identical, images are considered identical"
-msgstr "????????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:137
+msgid "Start frame for partial :"
+msgstr "?????????????? :"
 
-msgid "If pixel are closer than noise, they are considered to be the same"
-msgstr "?????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:144
+msgid "End frame for partial :"
+msgstr "?????????????? :"
 
-msgid "If pixels are closer than noise, they are considered to be the same"
-msgstr "?????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:167
+msgid "Configure partialized filter"
+msgstr "?????????????"
 
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:93
+msgid "Paused"
+msgstr "????"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:109
 msgid ""
-"If the file is using bframe as reference, it can lead to crash or "
-"stutteting.\n"
-"Avidemux can use another mode which is safed but <b>YOU WILL LOOSE FRAME "
-"ACCURACY</b>.\n"
-"Do you want to use that mode ?"
+"<b>Encoding is paused.</b>\n"
+"\n"
+"You can either resume or Abort it."
 msgstr ""
-"???????B-??????????????????????????????"
-"???????\n"
-"Avidemux ?????????????????????<b>???????????"
-"????????</b>.\n"
-"??????????? ?"
+"<b>??????????.</b>\n"
+"\n"
+"????????????."
 
-msgid ""
-"If value is smaller than threshold it is considered valid. Smaller value "
-"might mean more false positive"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:136
+msgid "Abort"
+msgstr "??"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:158
+msgid "Resume"
+msgstr "??"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pipe.cpp:95
+msgid "Pipe to"
 msgstr ""
-"?????????????????. ???????????????????"
 
-msgid "Ifo :"
-msgstr "IFO?:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pipe.cpp:104
+msgid "Application path/name (/usr/bin/sox...)"
+msgstr "???????????/? (/usr/bin/sox...)"
 
-msgid "Ifo error"
-msgstr "IFO ???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pipe.cpp:113
+msgid "Full parameter line"
+msgstr "????????"
 
-msgid "Ignore"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp:280
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:150
+msgid "Preview"
+msgstr "?????"
 
-msgid "Ignore glyph"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp:316
+msgid "Stack Field"
+msgstr ""
 
-msgid "Image Size:"
-msgstr "?????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:47
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:26
+msgid "No"
+msgstr "???"
 
-msgid "Image size"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:47
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:26
+msgid "Yes"
+msgstr "??"
 
-msgid "Images"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:67
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:69
+#, c-format
+msgid "%lu x %lu"
+msgstr "%lu x %lu"
 
-msgid "Improve the B-frame quality"
-msgstr "B-??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:70
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:70
+#, c-format
+msgid "%2.3f fps"
+msgstr "%2.3f fps"
 
-msgid "Improve the P-frame quality"
-msgstr "P-??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:73
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:71
+#, c-format
+msgid "%ld frames"
+msgstr "%ld ????"
 
-msgid "In"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:83
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:133
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:77
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:125
+#, c-format
+msgid "%02d:%02d:%02d.%03d"
+msgstr "%02d:%02d:%02d.%03d"
 
-msgid "Incompatible audio"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:96
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:83
+#, c-format
+msgid "%s (%u:%u)"
+msgstr "%s (%u:%u)"
 
-msgid "Incompatible frame rate"
-msgstr "?????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:118
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:109
+#, c-format
+msgid "%lu Hz"
+msgstr "%lu Hz"
 
-msgid "Incompatible output format"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:120
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:110
+#, c-format
+msgid "%lu Bps / %lu kbps"
+msgstr "%lu Bps / %lu kbps"
 
-msgid "Incompatible settings"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:136
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp:128
+#, c-format
+msgid "%.2f MB"
+msgstr "%.2f MB"
 
-msgid "Incorrect output file"
-msgstr "???????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:205
+msgid "Properties"
+msgstr "?????"
 
-msgid ""
-"Increase / decrease probability for how often B-frames are used. Will not "
-"violate the maximum consecutive frame limit"
-msgstr ""
-"B-???????????????/???. ????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:234
+msgid "Frame Rate:"
+msgstr "???????:"
 
-msgid ""
-"Increase / decrease sensitivity for detecting Scene Changes to compensate "
-"for. Improves I-frame usage and helps quality"
-msgstr ""
-"????????????????????/???. I-?????????????"
-"??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:241
+msgid "Frame Count:"
+msgstr "?????:"
 
-msgid "Index is not up to date"
-msgstr "????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:248
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:426
+msgid "Total Duration:"
+msgstr "????:"
 
-msgid "Indexing / unpacking priority"
-msgstr "???????/?????????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:269
+msgid "Image Size:"
+msgstr "?????:"
 
-msgid "Indexing :"
-msgstr "?????????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:290
+msgid "Codec 4CC:"
+msgstr "?????4CC:"
 
-msgid "Indexing failed"
-msgstr "???????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:304
+msgid "Aspect Ratio:"
+msgstr "??????:"
 
-msgid "Indexing..."
-msgstr "?????????????..."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:318
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1021
+msgid "<b>Video</b>"
+msgstr "<b>??</b>"
 
-msgid "Informations"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:337
+msgid "Global Motion Compensation:"
+msgstr "?????????:"
 
-msgid "Initial VBV buffer (%)"
-msgstr "??VBV????(%)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:351
+msgid "Packed Bitstream:"
+msgstr "????????????:"
 
-msgid "Input"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:365
+msgid "Quarter Pixel:"
+msgstr "1/4 ????:"
 
-msgid "Int. BFF"
-msgstr "???? BFF"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:379
+msgid "<b>Extra Video Properties</b>"
+msgstr "<b>?????????</b>"
 
-msgid "Int. TFF"
-msgstr "???? TFF"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:398
+msgid "Codec:"
+msgstr "?????:"
 
-msgid "Interlace"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:405
+msgid "Channels:"
+msgstr "?????:"
 
-msgid "Interlaced BFF"
-msgstr "?????? BFF"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:412
+msgid "Bitrate:"
+msgstr "??????:"
 
-msgid "Interlaced TFF"
-msgstr "?????? TFF"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:419
+msgid "Frequency:"
+msgstr "???:"
 
-msgid "Interlacing"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:468
+msgid "File Size:"
+msgstr "???????:"
 
-msgid "Internal error"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:482
+msgid "Variable Bitrate:"
+msgstr "????????:"
 
-msgid "Internal error finding codec"
-msgstr "??????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:496
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1061
+msgid "<b>Audio</b>"
+msgstr "<b>??</b>"
 
-msgid "Internal error opening codec"
-msgstr "???????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_quota.cpp:90
+msgid "Filesystem full / quota exceeded"
+msgstr ""
 
-msgid "Interpolate :"
-msgstr "?? :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_quota.cpp:133
+msgid "Ignore"
+msgstr "??"
 
-msgid "Invalid filename"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_quota.cpp:155
+msgid "Retry"
+msgstr "???"
 
-msgid "Invalid ifo"
-msgstr "???IFO"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_recent.cpp:96
+msgid "Recent files"
+msgstr "?????????"
 
-msgid "Invalid jobname"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:312
+msgid "Resize"
+msgstr "????"
 
-msgid "Invalid vobname"
-msgstr "???VOB?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:326
+msgid " Width "
+msgstr "?"
 
-msgid "Invalid vobsubname"
-msgstr "???VobSub?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:333
+msgid " Height "
+msgstr "??"
 
-msgid "It could be possible that you try to overwrite an input file!"
-msgstr "???????????????????!"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:356
+msgid "Source :"
+msgstr "??? :"
 
-msgid "It is not MPEG-4 video. File will not be saved."
-msgstr "MPEG-4??????. ????????????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:362
+msgid "Destination"
+msgstr "???"
 
-msgid "JVT matrix"
-msgstr "JVT??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:412
+msgid " Error X:"
+msgstr " ?? X:"
 
-msgid "Job name displayed in the job list and used as the script filename"
-msgstr "?????????????????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:426
+msgid " Error Y:"
+msgstr " ?? Y:"
 
-msgid "Jobs"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:440
+msgid "16 round up"
+msgstr "16????"
 
-msgid "Joint Stereo"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:454
+msgid "Bilinear"
+msgstr ""
 
-msgid "Joint stereo"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:458
+msgid "Bicubic"
+msgstr ""
 
-msgid ""
-"Jointly optimize both Motion Vector's in B-frames. This will improve quality "
-"but take more time for encoding"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:462
+msgid "Lanczos3"
 msgstr ""
-"B-????????????????????????. ????????????"
-"?????????????"
 
-msgid "Jump to _Time..."
-msgstr "?????(_T)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:348
+msgid "Subtitle to load"
+msgstr "?????"
 
-msgid "K-VCD"
-msgstr "K-VCD"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:358
+msgid "TTF font to use"
+msgstr "????TTF????"
 
-msgid "Keep nb of frames and fps"
-msgstr "??????FPS???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:475
+msgid "Subtitle selector"
+msgstr "??????"
 
-msgid "Kernerl interpolation"
-msgstr "Kernerl ??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:488
+msgid "Subtitle file "
+msgstr "??????"
 
-msgid "KeyFrame error"
-msgstr "?????? ???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:495
+msgid "Font (TTF)"
+msgstr "????(TTF)"
 
-msgid "Keyframe boost (%)"
-msgstr "???????? (%)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:502
+msgid "Encoding "
+msgstr "?????"
 
-msgid "L_uma threshold:"
-msgstr "????(_U):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:509
+msgid "Font Size"
+msgstr "???????"
 
-msgid "Lame command"
-msgstr "Lame ????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:522
+msgid "sub"
+msgstr ""
 
-msgid "Lanczos3"
-msgstr "Lanczos3"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:540
+msgid "font"
+msgstr "????"
 
-msgid "Last frame"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:560
+msgid "Ascii"
+msgstr "ASCII"
 
-msgid "Lavcodec Mpeg4 configuration"
-msgstr "Lavcodex Mpeg4 ??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:586
+msgid "Select color"
+msgstr "???"
 
-msgid "Left:"
-msgstr "?:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:599
+msgid "Select"
+msgstr "??"
 
-msgid "Level"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:603
+msgid "Auto split"
+msgstr "????"
 
-msgid "Libavcodec Decoder Option"
-msgstr "Libavcodec ???? ?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:609
+msgid "Delay in ms"
+msgstr "?? (ms)"
 
-msgid "Linear interpolate"
-msgstr "Linear ??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:624
+msgid "Force background"
+msgstr "????"
 
-msgid "Link"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:104
+msgid "Video encoder"
+msgstr "???????"
 
-msgid "Load Custom Matrix:  "
-msgstr "??????????????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:118
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1041
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1081
+msgid "Configure"
+msgstr "??"
 
-msgid "Load external filters"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:98
+msgid "Select .idx file"
+msgstr ".idx???????"
 
-msgid "Load set of filters"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:196
+msgid "VobSub Settings"
+msgstr "VobSub???"
 
-msgid "Local Playback Downmixing"
-msgstr "?????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:213
+msgid "Select .idx"
+msgstr ".idx???"
 
-msgid "Log"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:227
+msgid "Select Language :"
+msgstr "???? :"
 
-msgid ""
-"Lossless compression method which usually improves the bitrate usage by 15% "
-"(especially on high bitrate). Helps the quality a lot but is slower. "
-msgstr ""
-"???????????(??????????)?15%??????????. ???"
-"?????????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:241
+msgid "Select Sub"
+msgstr "?????"
 
-msgid "Low"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:254
+msgid "Extra Shrink Factor :"
+msgstr "????? :"
 
-msgid "Low bitrate scenes (%):"
-msgstr "?????????? (%):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:269
+msgid "Shift (ms) :"
+msgstr "?? (ms) :"
 
-msgid "Luma"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:283
+msgid "Extra Settings"
+msgstr "????"
 
-msgid "Luma :"
-msgstr "?? :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:223
+msgid "Processing"
+msgstr "???"
 
-msgid "Luma Temporal Threshold"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:243
+msgid "<b>Elasped:</b>"
+msgstr "<b>????:</b>"
 
-msgid "Luma Y"
-msgstr "?? Y"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:560
+msgid "X264 configuration"
+msgstr "X264 ??"
 
-msgid "Luminance:"
-msgstr "??:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:575
+msgid "Encoding Mode:"
+msgstr "????????:"
 
-msgid "MB Comparison"
-msgstr "MB ??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:587
+msgid "Entry input for target file size or bitrate"
+msgstr "??????????????????????????"
 
-msgid "MB comparison"
-msgstr "MB ??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:589
+msgid "Quantizer (0-51):"
+msgstr "???? (0-51):"
 
-msgid "MPEG Quantizer"
-msgstr "MPEG ????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:602
+msgid "Constant Quantizer - Each frame will the same compression. Low numbers equal higher quality while high numbers equal lower quality"
+msgstr "?????? - ??????????. ???????????????????????"
 
-msgid "MPEG Video"
-msgstr "MPEG ??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:612
+msgid "Target Size:"
+msgstr "?????:"
 
-msgid ""
-"MPEG quantizers (slightly slower) produce sharper picture (useful at higher "
-"bitrates)"
-msgstr ""
-"MPEG ???? (????) ???????????? (??????????)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:624
+msgid "Single Pass - Quality Quantizer (Average)"
+msgstr "1-?? - ?????? (??)"
 
-msgid "MPEG renumbering error"
-msgstr "MPEG?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:625
+msgid "Single Pass - Quality Quantizer (Constant)"
+msgstr "1-?? - ?????? (??)"
 
-msgid "Ma_x. bitrate:"
-msgstr "????????(_X):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:626
+msgid "Single Pass - Bitrate (Average)"
+msgstr "1-?? - ?????? (??)"
 
-msgid "Ma_x. quantizer:"
-msgstr "??????(_N):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:627
+msgid "Two Pass - File Size"
+msgstr "2-?? - ???????"
 
-msgid "Macroblock decision"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:628
+msgid "Two Pass - Average bitrate"
+msgstr "2-?? - ????????"
 
-msgid "Macroblock decision:"
-msgstr "?????????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:630
+msgid "Bitrate"
+msgstr "??????"
 
-msgid "Macroblock:"
-msgstr "???????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:656
+msgid "Partition decision"
+msgstr "????"
 
-msgid "Main"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:663
+msgid "Method"
+msgstr "??"
 
-msgid "Main Audio Track"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:675
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:58
+msgid "1  - Extremely Low (Fastest)"
+msgstr "1  - ????? (??)"
 
-msgid "Malformed header"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:676
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:59
+msgid "2  - Very Low"
+msgstr "2  - ?????"
 
-msgid "Manual (db) : "
-msgstr "?? (dB) : "
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:677
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:60
+msgid "3  - Low"
+msgstr "3  - ??"
 
-msgid "Mark A > B"
-msgstr "??? A > B"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:678
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:61
+msgid "4  - Medium"
+msgstr "4  - ????"
 
-msgid "Marker A > B"
-msgstr "???? A?>?B"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:679
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:62
+msgid "5  - High (Default)"
+msgstr "5  - ?? (?????)"
 
-msgid "Matrices"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:680
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:63
+msgid "6  - Very High"
+msgstr "6  - ?????"
 
-msgid "Matrix"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:681
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:64
+msgid "6B - Very High (RDO on Bframes)"
+msgstr "6B - ????? (RDO on Bframes)"
 
-msgid "Matrix Loaded"
-msgstr "?????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:682
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:65
+msgid "7 - Ultra High"
+msgstr "7 - ???"
 
-msgid "Max"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:683
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:66
+msgid "7B - Ultra High (RDO on Bframes)"
+msgstr "7B - ??? (RDO on Bframes)"
 
-msgid "Max Bitrate"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:690
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:72
+msgid "Diamond search"
+msgstr "????????"
 
-msgid "Max Consecutive"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:691
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:73
+msgid "Hexagonal search"
+msgstr "?????"
 
-msgid "Max I Frame Qzer"
-msgstr "??I-???? Qzer"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:692
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:74
+msgid "Uneven multi hexagon"
+msgstr "????????"
 
-msgid "Max I frame interval "
-msgstr "??I-??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:693
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:75
+msgid "Exhaustive search"
+msgstr "????"
 
-msgid "Max IDR frame interval"
-msgstr "??IDR??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:705
+msgid "Set how many previous frames can be referenced by a P/B-frame. Numbers above 5 do not seem to improve quality greatly. Numbers are 3 to 5 are recommended"
+msgstr "????????????P/B-?????????????. 5???????????????????. 3??5?????"
 
-msgid "Max P Frame Qzer"
-msgstr "??P-???? Qzer"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:708
+msgid "Max. Ref. frames"
+msgstr "?????????"
 
-msgid "Max QDiff"
-msgstr "?? QDiff"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:715
+msgid "Range"
+msgstr "??"
 
-msgid "Max QP Step"
-msgstr "?? QP ????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:728
+msgid "Define how many pixels are analysised. The higher the range the more accurate the analysis but the slower the encoding time"
+msgstr "?????????????. ?????????????????????????????"
 
-msgid "Max Qp"
-msgstr "?? Qp"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:731
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:80
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:89
+msgid "Chroma ME"
+msgstr "?? ME"
 
-msgid "Max Qz"
-msgstr "?? Qz"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:736
+msgid "Uses chroma (color) components for motion for compression and helps the quality"
+msgstr "?????(?)????????????????????"
 
-msgid "Max bitrate (kbps) :"
-msgstr "???????? (kbps) :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:739
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:81
+msgid "Mixed Refs"
+msgstr "????"
 
-msgid "Max overflow degradation (%):"
-msgstr "?????????? (%):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:744
+msgid "Calculate referencing individually based on each partition"
+msgstr "??????????????????"
 
-msgid "Max overflow improvement (%):"
-msgstr "?????????? (%):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:750
+msgid "Fast P-Skip"
+msgstr "??P-????"
 
-msgid "Max. Ref. frames"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:753
+msgid "Uncheck to enable fast p-skip"
+msgstr "??????????P-??????????"
 
-msgid "Max. quantizer _difference:"
-msgstr "???????(_D):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:756
+msgid "DCT decimate"
+msgstr ""
 
-msgid "Max:"
-msgstr "??:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:760
+msgid "Interlace"
+msgstr "??????"
 
-msgid "Maximum Bitrate (kb/s)"
-msgstr "???????? (kb/s)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:763
+msgid "Encode interlaced"
+msgstr "??????????????"
 
-msgid "Maximum bitrate (kbps)"
-msgstr "???????? (kbps)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:765
+msgid "<b>Motion Estimation</b>"
+msgstr "<b>????</b>"
 
-msgid "Maximum local bitrate"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:792
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:804
+msgid "Enforce the size of a decoded pixel decoded to a certain value. Leave this at 1:1 for non-anamorphic video"
+msgstr "??????????????????????????. ??????????????1:1?????????"
 
-msgid "Maximum number of frames allowed between I-frames"
-msgstr "I-?????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:796
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1051
+msgid ":"
+msgstr ":"
 
-msgid ""
-"Maximum number of sequential B-frames (when set to 0, the original I/P "
-"encoder is used)"
-msgstr "????B-????? (0?????????I/P????????)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:813
+msgid "Set a custom aspect ratio. Default 1:1 is recommended for most video."
+msgstr "???????????????. ?????1:1????????????."
 
-msgid "Maximum quantizer allowed for B-frames"
-msgstr "B-???????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:818
+msgid "Predefined Aspect Ratios"
+msgstr "??????????"
 
-msgid "Maximum quantizer allowed for I-frames"
-msgstr "I-???????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:823
+msgid "Set a common predefined aspect ratio"
+msgstr "???????????????????"
 
-msgid "Maximum quantizer allowed for P-frames"
-msgstr "P-???????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:827
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1040
+msgid "As input"
+msgstr "?????"
 
-msgid "May be related to an old index file."
-msgstr "????????????????????????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:832
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1043
+msgid "Get PAR from input video file"
+msgstr "??????????PAR???"
 
-msgid "Median interpolate"
-msgstr "Median ??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:856
+msgid "<b>Sample Aspect Ratio (A/R)</b>"
+msgstr "<b>?????????? (A/R)</b>"
 
-msgid "Medium"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:878
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:108
+msgid "CABAC"
+msgstr "CABAC"
 
-msgid "Medium (full luma no chroma)"
-msgstr "????(????, ????)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:881
+msgid "Lossless compression method which usually improves the bitrate usage by 15% (especially on high bitrate). Helps the quality a lot but is slower. "
+msgstr "???????????(??????????)?15%??????????. ????????????."
 
-msgid "Memory Error"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:884
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:107
+msgid "Trellis"
+msgstr ""
 
-msgid "Memory error"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:893
+msgid "Use rate distortion quantization to find optimal encoding for each block. Level 0 equals disabled, level 1 equals normal and level 2 equals high"
+msgstr "????????????????????????????. ???0????????1????????2?????????"
 
-msgid "Message level"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:900
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:109
+msgid "Noise Reduction"
+msgstr "?????"
 
-msgid "Method"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:909
+msgid "Set the amount of noise reduction"
+msgstr "???????????????"
 
-msgid "Metrics"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:916
+msgid "Deblocking Filter :"
+msgstr "????? ???? :"
 
-msgid "Mi_n. bitrate:"
-msgstr "????????(_N):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:919
+msgid "Enable in-loop deblocking to filter the video"
+msgstr "????????????????????????"
 
-msgid "Mi_n. quantizer:"
-msgstr "??????(_N):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:932
+msgid "Set the amount of blurring to use for block edges when they are found"
+msgstr "??????????????????????????????????????"
 
-msgid "Min Bitrate"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:941
+msgid "Define the level for when deblocking is applied"
+msgstr "??????????????????????"
 
-msgid "Min I Frame Qzer"
-msgstr "??I-???? Qzer"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:944
+msgid "<i>Threshold</i>"
+msgstr "<i>??</i>"
 
-msgid "Min I frame interval"
-msgstr "??I-??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:952
+msgid "<i>Strength</i>"
+msgstr "<i>??</i>"
 
-msgid "Min IDR frame interval"
-msgstr "??IDR??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:960
+msgid "<b>Misc. Options</b>"
+msgstr "<b>??, ?????</b>"
 
-msgid "Min P Frame Qzer"
-msgstr "??P-???? Qzer"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:965
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1066
+msgid "Motion & Misc"
+msgstr "?????"
 
-msgid "Min Qp"
-msgstr "?? Qp"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:986
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:129
+msgid "8x8 Transform"
+msgstr "8x8 ??"
 
-msgid "Min Qz"
-msgstr "?? Qz"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:989
+msgid "General block breakdown transformation"
+msgstr "????????????"
 
-msgid "Min bitrate (kbps) :"
-msgstr "???????? (kbps) :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:992
+msgid "8x8, 8x16 and 16x8 P-frame search"
+msgstr "8x8, 8x16 ? 16x8 P-??????"
 
-msgid "Mini OCR"
-msgstr "?? OCR"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:995
+msgid "Improve the P-frame quality"
+msgstr "P-??????????"
 
-msgid "Minimum Bitrate (kb/s) "
-msgstr "???????? (kb/s)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:998
+msgid "8x8, 8x16 and 16x8 B-frame search"
+msgstr "8x8, 8x16 ? 16x8 B-??????"
 
-msgid "Minimum quantizer allowed for B-frames"
-msgstr "B-???????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1001
+msgid "Improve the B-frame quality"
+msgstr "B-??????????"
 
-msgid "Minimum quantizer allowed for I-frames"
-msgstr "I-???????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1004
+msgid "4x4, 4x8 and 8x4 P-frame search"
+msgstr "4x4, 4x8 ? 8x4 P-??????"
 
-msgid "Minimum quantizer allowed for P-frames"
-msgstr "P-???????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1007
+msgid "Further improve the P-frame quality"
+msgstr "P-?????????????"
 
-msgid "Minimum space between I-frames, 1 will disable forced I-frame spacing"
-msgstr "I-???????????1 ???I-????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1009
+msgid "8x8 Intra search"
+msgstr "8x8 ??????"
 
-msgid "Minutes"
-msgstr "?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1012
+msgid "Enable DCT Intra block search to improve quality"
+msgstr "DCT??????????????????????"
 
-msgid "Misc"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1015
+msgid "4x4 Intra search"
+msgstr "4x4 ??????"
 
-msgid "Miscellaneous"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1018
+msgid "Further enable DCT Intra block search to improve quality"
+msgstr "???DCT??????????????????????"
 
-msgid "Mixed Refs"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1021
+msgid "<b>Partition Macroblocks</b>"
+msgstr "<b>?????????</b>"
 
-msgid "Mjpeg Codec settings"
-msgstr "Mjpeg???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1043
+msgid "Bias"
+msgstr "????"
 
-msgid "MntMode"
-msgstr "Mnt???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1056
+msgid "Increase / decrease probability for how often B-frames are used. Will not violate the maximum consecutive frame limit"
+msgstr "B-???????????????/???. ????????????????"
 
-msgid "Mode"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1065
+msgid "Set the maximum number of consecutive B-frames. This defines how many duplicate frames can be droped. Numbers 2 to 5 are recommended. This greatly improves the use of bitrate and quality"
+msgstr "??B-?????????????????. ???????????????????. 2??5?????. ?????????????????????"
 
-msgid "Mode :"
-msgstr "??? :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1068
+msgid "Max Consecutive"
+msgstr "?????"
 
-msgid "Mono"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1079
+msgid "Bidirectional ME"
+msgstr "???ME"
 
-msgid "More"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1084
+msgid "Jointly optimize both Motion Vector's in B-frames. This will improve quality but take more time for encoding"
+msgstr "B-????????????????????????. ?????????????????????????"
 
-msgid "Motion & Misc"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1086
+msgid "Weighted biprediction"
+msgstr "???????"
 
-msgid "Motion Estimation"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1091
+msgid "Enables weighting of B-frames to help fades"
+msgstr "B-????????????????????????"
 
-msgid "Motion Search"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1094
+msgid "Adaptative DCT"
+msgstr "???DCT"
 
-msgid "Motion search precision:"
-msgstr "??????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1099
+msgid "Use fewer B-frame if needed. This is always recommended. If not enabled, the codec will always use the maximum number of consecutive B-frames"
+msgstr "?????????B-???????. ???????????. ?????????????????????B-????????????"
 
-msgid "Move filter down"
-msgstr "???????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1102
+msgid "Use as reference"
+msgstr "???????"
 
-msgid "Move filter up"
-msgstr "???????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1107
+msgid "Allow B-frames to make references non-linearly to another B-frame (instead of creating a duplicate copy)"
+msgstr "(???????????)B-???????B-???????????????????"
 
-msgid "Mpeg2 options"
-msgstr "MPEG2 ?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1113
+msgid "B-Frame Direct Mode:  "
+msgstr "B-?????????:"
 
-msgid "Mplayer Delogo"
-msgstr "MPlayer Delogo"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1121
+msgid "Auto"
+msgstr "??"
 
-msgid "MultiThreading"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1122
+msgid "Temporal"
+msgstr "???"
 
-msgid "Multiplatform video editor"
-msgstr "??????????? ??? ????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1123
+msgid "Spatial"
+msgstr "???"
 
-msgid "Multiple Audio Tracks"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1126
+msgid "<b>B-Frames</b>"
+msgstr "<b>B-????</b>"
 
-msgid "Mux Every x video frames"
-msgstr "N?????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1131
+msgid "Partitions & Frames"
+msgstr "???????"
 
-msgid "Mux _every x video frames:"
-msgstr "N?????????????(_E):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1159
+msgid "Set how much \"bitrate bonus\" a keyframe can get"
+msgstr "??????????????? \"??????????\" ???????"
 
-msgid "Mux by packet size"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1162
+msgid "Keyframe boost (%)"
+msgstr "???????? (%)"
 
-msgid "Mux every N video frames"
-msgstr "N??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1169
+msgid "B-frame reduction (%)"
+msgstr "B-?????? (%)"
 
-msgid "Mux in _blocks of x bytes:"
-msgstr "x?????????????(_B):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1176
+msgid "Bitrate variability (%)"
+msgstr "????????? (%)"
 
-msgid "Mux with block of size"
-msgstr "???????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1189
+msgid "Set how much bitrate is deducted from a B-frame as compared to the previous P-frame"
+msgstr "?P-?????????B-????????????????????????"
 
-msgid "Muxing Type"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1198
+msgid "Define how much the bitrate can fluctuate over the entire video. 0% results in a constant bitrate stream, while 100% results in a pure quality based bitrate stream"
+msgstr "??????????????????. 0%???????????????????100%??????????????????????????"
 
-msgid "Muxing _type:"
-msgstr "??????(_T):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1201
+msgid "<b>Bitrate</b>"
+msgstr "<b>??????</b>"
 
-msgid "NONE"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1219
+msgid "Min Qp"
+msgstr "?? Qp"
 
-msgid "NTSC (default is PAL)"
-msgstr "NTSC (??????PAL)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1226
+msgid "Max Qp"
+msgstr "?? Qp"
 
-msgid "NTSC converted from PAL"
-msgstr "PAL??????NTSC"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1233
+msgid "Max QP Step"
+msgstr "?? QP ????"
 
-msgid "Narrow"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1247
+msgid "Enforce a minimum quantizer level"
+msgstr "????????????"
 
-msgid "Nb pictures seen :"
-msgstr "??????????? :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1256
+msgid "Enforce a maximum quantizer level"
+msgstr "????????????"
 
-msgid "Ne_xt Black Frame"
-msgstr "???????(_X)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1265
+msgid "Define how much the quantizer rate can change between two consecutive frames"
+msgstr "????????????????????????"
 
-msgid "Never"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1268
+msgid "<b>Quantization Limits</b>"
+msgstr "<b>?????</b>"
 
-msgid "Next _Intra Frame"
-msgstr "??I-????(_I)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1286
+msgid "Scene Cut Threshold"
+msgstr "????????"
 
-msgid "Next black frame"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1300
+msgid "Increase / decrease sensitivity for detecting Scene Changes to compensate for. Improves I-frame usage and helps quality"
+msgstr "????????????????????/???. I-???????????????????"
 
-msgid "Next frame"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1303
+msgid "Min IDR frame interval"
+msgstr "??IDR??????"
 
-msgid "Next keyframe"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1316
+msgid "Set minimum frame interval between IDR frames. Defines the minimum amount a frame can be reused and referenced by other frames before a new clean one is established"
+msgstr "IDR???????????????????. ??????????????????????????????????????????????????????"
 
-msgid "No"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1325
+msgid "Set maximum frame interval between IDR frames. Defines the maximum amount a frame can be reused and referenced by other frames before a new clean one is established"
+msgstr "IDR???????????????????. ??????????????????????????????????????????????????????"
 
-msgid "No Strategy"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1328
+msgid "Max IDR frame interval"
+msgstr "??IDR??????"
 
-msgid "No alerts"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1335
+msgid "<b>More Rate Settings</b>"
+msgstr "<b>????????</b>"
 
-msgid "No audio"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1353
+msgid "VBV buffer size"
+msgstr "VBV???????"
 
-msgid "No audio decoder found for this file"
-msgstr "??????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1360
+msgid "Initial VBV buffer (%)"
+msgstr "??VBV????(%)"
 
-msgid "No audio track"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1367
+msgid "Maximum local bitrate"
+msgstr "??????????"
 
-msgid "No change"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1398
+msgid "<b>Video Buffer Verifier</b>"
+msgstr "<b>????????(VBV)</b>"
 
-msgid "No data"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1430
+msgid "Allowed variance of average bitrate. Lower values mean less variance. Higher values mean more variance."
+msgstr "???????????????. ????????????????????????."
 
-msgid "No downmixing"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1433
+msgid "Bitrate Variance"
+msgstr "????????"
 
-msgid "No error found"
-msgstr "???????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1446
+msgid "Allowed variance of average quantizer or quality. Lower values mean less variance. Higher values mean more variance. Note that 0 means constant quality while 1 means constant fluctuation. Recommended 0.6."
+msgstr "??????????????????. ????????????????????????. 0???????1?????????????????. 0.6???."
 
-msgid "No filter found"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1455
+msgid "Reduced fluctuations in Quantizer (before curve compression)"
+msgstr "(???????)????????????"
 
-msgid "No frames to encode"
-msgstr "?????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1464
+msgid "Reduce fluctuations in QP (after curve compression)"
+msgstr "(???????)QP????????"
 
-msgid "No glyphs to save"
-msgstr "?????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1467
+msgid "Quantizer Compression"
+msgstr "?????"
 
-msgid "No link"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1474
+msgid "Temp. Blur of est Frame Complexity"
+msgstr "?????????????????"
 
-msgid "No more supported."
-msgstr "????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1481
+msgid "Temp. Blur of Quant after CC"
+msgstr "CC???????????"
 
-msgid "No stts table"
-msgstr "stts ???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1488
+msgid "<b>Misc</b>"
+msgstr "<b>??</b>"
 
-msgid "No tag found"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1512
+msgid "Quantization factors used between I- and P- frames"
+msgstr "I- ?P- ???????????????"
 
-msgid "No video loaded"
-msgstr "???????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1521
+msgid "Quantization used between P- and B- frames"
+msgstr "P- ?B- ???????????????"
 
-msgid "No write access to \"%s\"."
-msgstr "\"%s\" ??????????????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1530
+msgid "Quantization difference between chroma (color) and luma (brightness)"
+msgstr "??(?)???(???)???????"
 
-msgid "Node not found"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1533
+msgid "Factor between I and P frame Quants"
+msgstr "I ? P ??????????"
 
-msgid "Noise"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1540
+msgid "Factor between P and B frame Quants"
+msgstr "P ? B ??????????"
 
-msgid "Noise Reduction"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1547
+msgid "Chroma QP Offset"
+msgstr "??QP?????"
 
-msgid "Noise Threshold"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1554
+msgid "<b>Quantizers</b>"
+msgstr "<b>????</b>"
 
-msgid "None"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1572
+msgid "Custom matrix"
+msgstr "??????????"
 
-msgid "None but compute"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1581
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1128
+msgid "Open CQM file"
+msgstr "CQM???????"
 
-msgid "Normal"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1587
+msgid "JVT matrix"
+msgstr "JVT??????"
 
-msgid "Not Yet!"
-msgstr "????!"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1595
+msgid "Flat matrix"
+msgstr "????????"
 
-msgid "Not a WAV file?"
-msgstr "WAV??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1604
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1136
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1568
+msgid "Edit Custom Matrix"
+msgstr "?????????????"
 
-msgid "Not coded in this version"
-msgstr "????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1609
+msgid "Edit a loaded custom quantization matrix file"
+msgstr "???????????????????????????"
 
-msgid "Not indexable"
-msgstr "?????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1617
+msgid "<b>Quantization Matrices</b>"
+msgstr "<b>?????????</b>"
 
-msgid "Nothing to do."
-msgstr "???????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1622
+msgid "More"
+msgstr "??"
 
-msgid "Nothing to save"
-msgstr "????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1630
+msgid "Defaults"
+msgstr "?????"
 
-msgid "Number of B-frames:"
-msgstr "B-?????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:237
+msgid "Xvid Encoder"
+msgstr "XviD?????"
 
-msgid "Number of BFrames"
-msgstr "B-?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:250
+msgid "Constant Quantizer"
+msgstr "??????"
 
-msgid "Number of threads"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:258
+msgid "Constant Bitrate (kbps)"
+msgstr "????????(kbps)"
 
-msgid "Obsolete"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:266
+msgid "Dual pass (MBytes)"
+msgstr "????(MBytes)"
 
-msgid "Old format project file"
-msgstr "???????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:292
+msgid "Basic"
+msgstr "??"
 
-msgid "Only QCIF and subQCIF are allowed for H.263"
-msgstr "QCIF?subQCIF??? H.263 ??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:301
+msgid "Motion Search"
+msgstr "????"
 
-msgid "Oops"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:317
+msgid "Max I frame interval "
+msgstr "??I-??????"
 
-msgid "Open CQM file"
-msgstr "CQM???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:333
+msgid "Min I frame interval"
+msgstr "??I-??????"
 
-msgid "Open a file"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:357
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:884
+msgid "0 - None"
+msgstr "0 - ??"
 
-msgid "Open filter list [Ctrl-O]"
-msgstr "?????????? [Ctrl-O]"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:361
+msgid "1- Very low"
+msgstr "1 - ?????"
 
-msgid "Option "
-msgstr "????? "
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:365
+msgid "2- Low"
+msgstr "2 - ??"
 
-msgid "Order"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:369
+msgid "3- Medium"
+msgstr "3 - ????"
 
-msgid "Out"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:373
+msgid "4- High"
+msgstr "4 - ??"
 
-msgid "Out of bounds"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:377
+msgid "5- Very High"
+msgstr "5 - ?????"
 
-msgid "Out of memory"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:381
+msgid "6- Ultra High"
+msgstr "6 - ??"
 
-msgid "Output"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:395
+msgid "H263 Quantizer"
+msgstr "H263 ????"
 
-msgid "Output Srt"
-msgstr "??Srt"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:400
+msgid "MPEG Quantizer"
+msgstr "MPEG ????"
 
-msgid "Output _file:"
-msgstr "??????(_F):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:407
+msgid "Advanced"
+msgstr "??"
 
-msgid "Output container format"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:416
+msgid "Min I Frame Qzer"
+msgstr "??I-???? Qzer"
 
-msgid "Output file error"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:424
+msgid "Max I Frame Qzer"
+msgstr "??I-???? Qzer"
 
-msgid "Output vobsub (.idx) :"
-msgstr "??VobSub (.idx) :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:432
+msgid "Min P Frame Qzer"
+msgstr "??P-???? Qzer"
 
-msgid "Overflow control strength (%):"
-msgstr "??????????? (%):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:440
+msgid "Max P Frame Qzer"
+msgstr "??P-???? Qzer"
 
-msgid "Overwrite file ?"
-msgstr "???????????? ?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:480
+msgid "Quantizer"
+msgstr "????"
 
-msgid "P-frame quantizer - Min:"
-msgstr "P-???????? - ??:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:485
+msgid "Not Yet!"
+msgstr "????!"
 
-msgid "PAL->Film"
-msgstr "PAL?->?Film"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:490
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:144
+msgid "B Frames"
+msgstr "B-????"
 
-msgid "PSP (H264)"
-msgstr "PSP (H264)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:109
+msgid "Select Xvid matrix file to load"
+msgstr "???XviD?????????????"
 
-msgid "P_artial"
-msgstr "???(_A)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:121
+msgid "Error Loading"
+msgstr "??????"
 
-msgid "P_review"
-msgstr "?????(_R)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:121
+msgid "Error loadind the custom matrix file."
+msgstr "????????????????????"
 
-msgid "P_revious Frame"
-msgstr "??????(_R)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:139
+msgid "Matrix Loaded"
+msgstr "?????????????"
 
-msgid "Packed Bistream"
-msgstr "????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:139
+msgid "The custom matrix file has been successfully loaded."
+msgstr "????????????????????????."
 
-msgid "Packed Bitstream detected"
-msgstr "???????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:479
+msgid "Select Custom Matrix File to write"
+msgstr "????????????????????"
 
-msgid "Packed Bitstream:"
-msgstr "????????????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:484
+msgid "Error Writing"
+msgstr "??????"
 
-msgid "Packed bitstream"
-msgstr "????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:484
+msgid "Error writing the custom matrix file."
+msgstr "????????????????????."
 
-msgid "Parameter Error"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:700
+msgid "XviD encoding options"
+msgstr "XviD??????????"
 
-msgid "Partial"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:734
+msgid "Encoding type:"
+msgstr "????????:"
 
-msgid "Partition decision"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:739
+msgid "Bitrate (kb/s):"
+msgstr "?????? (kb/s):"
 
-msgid "Partitions & Frames"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:744
+msgid "Quantizer:"
+msgstr "????:"
 
-msgid "Pause / Abort"
-msgstr "?? / ??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:756
+msgid "Select 1-pass or 2-pass encoding"
+msgstr "1-???2-???????????"
 
-msgid "Paused"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:760
+msgid "Single pass - bitrate"
+msgstr "1-?? - ??????"
 
-msgid "Permission error"
-msgstr "??????? ???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:764
+msgid "Single pass - quantizer"
+msgstr "1-?? - ????"
 
-msgid "Pixel Aspect Ratio"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:768
+msgid "Two pass, final size"
+msgstr "2-??, ?????"
 
-msgid "Pixel Height"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:772
+msgid "Two pass, average bitrate"
+msgstr "2-??, ????????"
 
-msgid "Pixel Width"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:776
+msgid "Same Qz as input"
+msgstr "????????"
 
-msgid "Play"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:785
+msgid "Target video bitrate"
+msgstr "??????????"
 
-msgid "Playback priority"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:792
+msgid "Constant quantizer - each frame will get the same compression"
+msgstr "?????? - ?????????????"
 
-msgid "Please check markers. Is \"A>\" == \">B\"?"
-msgstr "????????????. \"A>\" == \">B\" ??? ?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:794
+msgid "Variable bitrate mode"
+msgstr "???????????"
 
-msgid "Please select or enter a valid filename"
-msgstr "?????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:806
+msgid "_Interlaced"
+msgstr "??????(_I)"
 
-msgid "Please select or enter a valid ifo file"
-msgstr "???IFO?????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:809
+msgid "Enables interlaced frame support - use only if your source contains interlacing artifacts (i.e. fields instead of progressive frames)"
+msgstr "???????????????????? - ???????????(????????????????????????)??????????"
 
-msgid "Please select or enter a valid jobname"
-msgstr "????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:811
+msgid "_Greyscale"
+msgstr "???????(_G)"
 
-msgid "Please select or enter a valid vob name"
-msgstr "???VOB??????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:814
+msgid "Encode in black & white"
+msgstr "????????"
 
-msgid "Please select or enter a valid vobsub file"
-msgstr "???VobSub?????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:820
+msgid "Ca_rtoon mode"
+msgstr "?????(_R)"
 
-msgid "Post Proc Threshold"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:823
+msgid "Enables special motion estimation features for cartoons/anime"
+msgstr "??/?????????????????????"
 
-msgid "Post Processing"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:825
+msgid "C_hroma optimizer"
+msgstr "?????(_H)"
 
-msgid "Postproc and show zones(debug)"
-msgstr "???????????(????)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:828
+msgid "Enables a chroma optimizer prefilter"
+msgstr "?????????????????"
 
-msgid "Postproc on best match"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:834
+msgid "Turbo Mode"
+msgstr "??????"
 
-msgid "Postprocessing"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:837
+msgid "Enables fast 1st pass encoding"
+msgstr "????????????????????"
 
-msgid "Pr_evious Intra Frame"
-msgstr "??I-????(_E)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:839
+msgid "Packed bitstream"
+msgstr "????????????"
 
-msgid "Pre_ferences"
-msgstr "??(_F)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:842
+msgid "Enables Divx like packed vop, DO NOT SET, it is ugly"
+msgstr "????vop????DivX??????. ????, ?????????"
 
-msgid "Predefined Aspect Ratios"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:844
+msgid "Main"
+msgstr "??"
 
-msgid "Preferences"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:863
+msgid "Motion search precision:"
+msgstr "??????:"
 
-msgid "Preview"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:867
+msgid "VHQ mode:"
+msgstr "VHQ ???:"
 
-msgid "Previou_s Black Frame"
-msgstr "???????(_S)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:880
+msgid "Higher settings give higher quality results, at the cost of slower encoding"
+msgstr "??????????????????????????"
 
-msgid "Previous black frame"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:888
+msgid "1 - Very low"
+msgstr "1 - ?????"
 
-msgid "Previous frame"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:892
+msgid "2 - Low"
+msgstr "2 - ??"
 
-msgid "Previous keyframe"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:896
+msgid "3 - Medium"
+msgstr "3 - ????"
 
-msgid "Priority:"
-msgstr "???:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:900
+msgid "4 - High"
+msgstr "4 - ??"
 
-msgid "Problem loading sub"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:904
+msgid "5 - Very high"
+msgstr "5 - ?????"
 
-msgid "Problem opening the mpeg files"
-msgstr "MPEG???????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:908
+msgid "6 - Ultra high"
+msgstr "6 - ??"
 
-msgid "Problem reading SVQ3 headers"
-msgstr "SVQ3?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:917
+msgid "VHQ enables an additional search process to increase quality"
+msgstr "VHQ ???????????????????"
 
-msgid "Problem reading XML filters"
-msgstr "XML??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:921
+msgid "0 - Off"
+msgstr "0 - ??"
 
-msgid "Process image (not fields)"
-msgstr "?????(?????????)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:925
+msgid "1 - Mode decision"
+msgstr "1 - ?????"
 
-msgid "Process image (not fields),debug"
-msgstr "?????(?????????),????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:929
+msgid "2 - Limited search"
+msgstr "2 - ????"
 
-msgid "Produces nicer-looking B-frames"
-msgstr "????????B-???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:933
+msgid "3 - Medium search"
+msgstr "3 - ????"
 
-msgid "Progressive"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:937
+msgid "4 - Wide search"
+msgstr "4 - ?????"
 
-msgid "Prologic"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:947
+msgid "C_hroma motion"
+msgstr "????(_H)"
 
-msgid "Prologic II"
-msgstr "?????????? 2"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:950
+msgid "Use chroma information to estimate motion"
+msgstr "????????????"
 
-msgid "Proper_ties"
-msgstr "?????(_T)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:952
+msgid "_4MV"
+msgstr "_4MV"
 
-msgid "Properties"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:955
+msgid "Use 4 motion vectors per macroblock, might give better compression"
+msgstr "??????????4?????????, ???????????"
 
-msgid "PullDown dupe removal"
-msgstr "?????dupe??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:957
+msgid "HQ _AC"
+msgstr "HQ _AC"
 
-msgid "Quality"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:960
+msgid "Enable a better prediction of AC component. Turns on Lumi masking - applies more compression to dark/light areas that the eye cannot notice easily"
+msgstr "AC????????????????????. Lumi??????? - ????????????????????????"
 
-msgid "Quality "
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:966
+msgid "I-frame interval - Min:"
+msgstr "I-?????? - ??:"
 
-msgid "Quality Based"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:974
+msgid "Minimum space between I-frames, 1 will disable forced I-frame spacing"
+msgstr "I-??????????, 1 ???I-????????????????"
 
-msgid "Quality based"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:976
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1194
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1199
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1204
+msgid "Max:"
+msgstr "??:"
 
-msgid "Quantisation (2-31)"
-msgstr "??? (2-31)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:984
+msgid "Maximum number of frames allowed between I-frames"
+msgstr "I-?????????????????"
 
-msgid "Quantization"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:999
+msgid "Number of B-frames:"
+msgstr "B-?????:"
 
-msgid "Quantization difference between chroma (color) and luma (brightness)"
-msgstr "??(?)???(???)???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1007
+msgid "Maximum number of sequential B-frames (when set to 0, the original I/P encoder is used)"
+msgstr "????B-????? (0?????????I/P????????)"
 
-msgid "Quantization factors used between I- and P- frames"
-msgstr "I- ?P- ???????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1013
+msgid "_Qpel"
+msgstr "_Qpel"
 
-msgid "Quantization type"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1016
+msgid "Use Quarter pixel resolution for a more precise motion estimation"
+msgstr "??????????1/4 ??????????"
 
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1021
+msgid "Global Motion Compensation can save bits on camera pans, zooming and rotation"
+msgstr "?????????(GMC)??????, ???, ?????????????"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1023
+msgid "_BVHQ"
+msgstr "_BVHQ"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1026
+msgid "Produces nicer-looking B-frames"
+msgstr "????????B-???????"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1049
+msgid "Pixel Width"
+msgstr "?????"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1060
+msgid "Pixel Height"
+msgstr "??????"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1061
+msgid "Pixel Aspect Ratio"
+msgstr "??????????"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1079
 msgid "Quantization type:"
 msgstr "??????:"
 
-msgid "Quantization used between P- and B- frames"
-msgstr "P- ?B- ???????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1083
+msgid "_H.263"
+msgstr "_H.263"
 
-msgid "Quantize blur"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1086
+msgid "H.263 quantizers smooth the picture (useful at lower bitrates)"
+msgstr "H.263 ??????????????? (??????????)"
 
-msgid "Quantize compression"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1090
+msgid "_MPEG"
+msgstr "_MPEG"
 
-msgid "Quantizer"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1093
+msgid "MPEG quantizers (slightly slower) produce sharper picture (useful at higher bitrates)"
+msgstr "MPEG ???? (????) ???????????? (??????????)"
 
-msgid "Quantizer (0-51):"
-msgstr "???? (0-51):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1097
+msgid "_Custom Matrix"
+msgstr "??????????(_C)"
 
-msgid "Quantizer Compression"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1107
+msgid "Load Custom Matrix:  "
+msgstr "??????????????:"
 
-msgid "Quantizer _blur:"
-msgstr "??????(_B):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1153
+msgid "I-frame quantizer - Min:"
+msgstr "I-???????? - ??:"
 
-msgid "Quantizer restrictions"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1158
+msgid "P-frame quantizer - Min:"
+msgstr "P-???????? - ??:"
 
-msgid "Quantizer:"
-msgstr "????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1163
+msgid "B-frame quantizer - Min:"
+msgstr "B-???????? - ??:"
 
-msgid "Quarter Pel"
-msgstr "1/4 ????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1176
+msgid "Minimum quantizer allowed for I-frames"
+msgstr "I-???????????????"
 
-msgid "Quarter Pixel"
-msgstr "1/4 ????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1182
+msgid "Minimum quantizer allowed for P-frames"
+msgstr "P-???????????????"
 
-msgid "Quarter Pixel:"
-msgstr "1/4 ????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1188
+msgid "Minimum quantizer allowed for B-frames"
+msgstr "B-???????????????"
 
-msgid "Range"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1217
+msgid "Maximum quantizer allowed for I-frames"
+msgstr "I-???????????????"
 
-msgid "Rate Control"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1223
+msgid "Maximum quantizer allowed for P-frames"
+msgstr "P-???????????????"
 
-msgid "Rate distortion"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1229
+msgid "Maximum quantizer allowed for B-frames"
+msgstr "B-???????????????"
 
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1231
+msgid "Quantizer restrictions"
+msgstr "???????"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1238
 msgid "Rate distortion quantization, will find optimal encoding for each block"
 msgstr "??????????????????????????????"
 
-msgid "Ratecontrol"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1268
+msgid "I-frame boost (%):"
+msgstr "I-?????? (%):"
 
-msgid "Rebuild all Keyframes?"
-msgstr "???????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1273
+msgid "I-frames closer than ... frames..."
+msgstr "...?????????I-?????"
 
-msgid "Recent files"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1278
+msgid "...are reduced by (%):"
+msgstr "...? (%) ?????:"
 
-msgid "Reduce fluctuations in QP (after curve compression)"
-msgstr "(???????)QP????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1283
+msgid "Max overflow improvement (%):"
+msgstr "?????????? (%):"
 
-msgid "Reduced fluctuations in Quantizer (before curve compression)"
-msgstr "(???????)????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1288
+msgid "Max overflow degradation (%):"
+msgstr "?????????? (%):"
 
-msgid ""
-"Reduction of bitrate for the first consecutive I-frames. The last I-frame "
-"will get treated normally"
-msgstr ""
-"?????I-?????????????. ???I-????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1300
+msgid "A value of 20 will give 20% more bits to every I-frame"
+msgstr "20????I-?????20%??????????"
 
-msgid "Remove filter"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1306
+msgid "I-frames appearing in the range below this value will be treated as consecutive keyframes"
+msgstr "???????I-????????????????????"
 
-msgid "Replace (interpolate)"
-msgstr "??(??)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1311
+msgid "Reduction of bitrate for the first consecutive I-frames. The last I-frame will get treated normally"
+msgstr "?????I-?????????????. ???I-????????????"
 
-msgid "Resample to hz"
-msgstr "???????hz"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1316
+msgid "How much of the overflow the codec can eat into during undersized sections - larger values will bridge the gap faster"
+msgstr "????????????????????? - ?????????????????"
 
-msgid "Reset"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1321
+msgid "How much of the overflow the codec can eat into during oversized sections - larger values will bridge the gap faster"
+msgstr "????????????????????? - ?????????????????"
 
-msgid "Resize"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1323
+msgid "Two pass tuning"
+msgstr "2????"
 
-msgid "Resume"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1340
+msgid "High bitrate scenes (%):"
+msgstr "?????????? (%):"
 
-msgid "Retry"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1345
+msgid "Low bitrate scenes (%):"
+msgstr "?????????? (%):"
 
-msgid "Reuse log file ?"
-msgstr "?????????????? ?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1350
+msgid "Overflow control strength (%):"
+msgstr "??????????? (%):"
 
-msgid "Right:"
-msgstr "?:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1362
+msgid "The higher this value, the more bits get taken from frames larger than the average size, and redistributed to others"
+msgstr "????????????????????????????????????????????????"
 
-msgid "Rotate Params"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1367
+msgid "The higher this value, the more bits get assigned to frames below the average frame size"
+msgstr "?????????????????????????????????????"
 
-msgid "Run Job"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1372
+msgid "0 = default from core (let XviD decide), else overflow payback percent per frame"
+msgstr "0 = ??????????(XviD??????)???? = ????????????????????"
 
-msgid "Run all jobs"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1374
+msgid "Curve compression"
+msgstr "????"
 
-msgid "Running"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1378
+msgid "Second Pass"
+msgstr "??????"
 
-msgid "SVCD resolution [Ctrl-3]"
-msgstr "SVCD ??? [Ctrl-3]"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1591
+msgid "<b>Intra Matrix</b>"
+msgstr ""
 
-msgid "S_ave..."
-msgstr "??(_A)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1609
+msgid "<b>Inter Matrix</b>"
+msgstr ""
 
-msgid "S_patial chroma strength:"
-msgstr "????????(_P):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_hex.cpp:116
+msgid "_Previous"
+msgstr "??(_P)"
 
-msgid "Same Qz as input"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_hex.cpp:143
+msgid "_Next"
+msgstr "??(_N)"
 
-msgid "Sample A/R "
-msgstr "???? A/R"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:327
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:242
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp:413
+msgid "The filter is already partial"
+msgstr "????????????"
 
-msgid "Save (A+V) will generate bad AVI. Save audio will work."
-msgstr "(A+V)?????AVI???????. ??????????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:455
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:457
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:348
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:350
+msgid "Load set of filters"
+msgstr "??????????"
 
-msgid "Save Job"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:464
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:363
+msgid "Nothing to save"
+msgstr "????????????"
 
-msgid "Save P_roject As..."
-msgstr "???????????????(_R)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:468
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filter.cpp:470
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:367
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:369
+msgid "Save set of filters"
+msgstr "?????????"
 
-msgid "Save Script"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:64
+msgid "Add Video Filter"
+msgstr "?????????"
 
-msgid "Save _BMP Image..."
-msgstr "BMP?????(_B)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:98
+msgid "Transformation"
+msgstr "??"
 
-msgid "Save _JPEG Image..."
-msgstr "JPEG?????(_J)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:123
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:285
+msgid "Interlacing"
+msgstr "??????"
 
-msgid "Save _Project"
-msgstr "?????????(_P)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:148
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:309
+msgid "Colors"
+msgstr "?"
 
-msgid "Save _Selection as JPEG images..."
-msgstr "???JPEG???????(_S)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:198
+msgid "Sharpen/Blur"
+msgstr "????/???"
 
-msgid "Save _Video..."
-msgstr "?????(_V)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:223
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:381
+msgid "Subtitles"
+msgstr "??"
 
-msgid "Save as script"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:123
+msgid "Video Filter Manager"
+msgstr "?? ???? ?????"
 
-msgid "Save as script [Ctrl-J]"
-msgstr "?????????? [Ctrl-J]"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:145
+msgid "Open filter list [Ctrl-O]"
+msgstr "?????????? [Ctrl-O]"
 
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:154
 msgid "Save filter list [Ctrl-S]"
 msgstr "?????????? [Ctrl-S]"
 
-msgid "Save set of filters"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:162
+msgid "Save Script"
+msgstr "???????"
 
-msgid "Save the file"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:165
+msgid "Save as script [Ctrl-J]"
+msgstr "?????????? [Ctrl-J]"
 
-msgid "Saved \"%s\"."
-msgstr "\"%s\" ???."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:173
+msgid "DVD Res"
+msgstr ""
 
-msgid "Saved %d images."
-msgstr "%d ?????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:176
+msgid "DVD resolution [Ctrl-1]"
+msgstr "DVD ??? [Ctrl-1]"
 
-msgid "Saving %s as a BMP file failed."
-msgstr "%s ?BMP?????????????????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:184
+msgid "Half D1 Res"
+msgstr ""
 
-msgid "Saving as set of jpegs"
-msgstr "JPEG??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:187
+msgid "Half D1 resolution [Ctrl-2]"
+msgstr "Half D1 ??? [Ctrl-2]"
 
-msgid "Saving audio"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:195
+msgid "SVCD Res"
+msgstr ""
 
-msgid "Saving failed"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:198
+msgid "SVCD resolution [Ctrl-3]"
+msgstr "SVCD ??? [Ctrl-3]"
 
-msgid "Saving raw video stream"
-msgstr "raw ???????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:206
+msgid "VCD Res"
+msgstr ""
 
-msgid "Saving the job failed. Maybe you have permission issue with ~/.avidemux"
-msgstr "?????????. ~/.avidemux ?????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:209
+msgid "VCD resolution [Ctrl-4]"
+msgstr "VCD  ??? [Ctrl-4]"
 
-msgid "Scanning OGM"
-msgstr "OGM??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:260
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:135
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:148
+msgid "Transform"
+msgstr "??"
 
-msgid "Scene Cut Threshold"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:333
+msgid "Noise"
+msgstr "???"
 
-msgid "Scene change detect"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:357
+msgid "Sharpness"
+msgstr "?????"
 
-msgid "Second Audio Track"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:405
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:117
+msgid "Misc"
+msgstr "??"
 
-msgid "Second Pass"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:416
+msgid "External"
+msgstr "??"
 
-msgid "Second track loaded"
-msgstr "?????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:427
+msgid "Add selected filter to the Active Filters list"
+msgstr "????????????????????????"
 
-msgid "Seconds"
-msgstr "?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:433
+msgid "<b>Available Filters</b>"
+msgstr "<b>?????????</b>"
 
-msgid "See Hex"
-msgstr "16??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:478
+msgid "Remove filter"
+msgstr "?????????"
 
-msgid "Seeking"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:487
+msgid "Move filter down"
+msgstr "???????????"
 
-msgid "Select"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:496
+msgid "Move filter up"
+msgstr "???????????"
 
-msgid "Select  file to save "
-msgstr "???????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:502
+msgid "P_artial"
+msgstr "???(_A)"
 
-msgid "Select .idx"
-msgstr ".idx???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:505
+msgid "Apply the current filter only to a part of the file"
+msgstr "??????????????????????"
 
-msgid "Select .idx file"
-msgstr ".idx???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:510
+msgid "Configure filter"
+msgstr "?????????"
 
-msgid "Select 1-pass or 2-pass encoding"
-msgstr "1-???2-???????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:520
+msgid "C_onfigure"
+msgstr "??(_O)"
 
-msgid "Select 2nd audio Track"
-msgstr "???????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:524
+msgid "<b >Active Filters</b>"
+msgstr "<b >???????</b>"
 
-msgid "Select AC3 to load "
-msgstr "???AC3???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:551
+msgid "_Preview"
+msgstr "?????(_P)"
 
-msgid "Select AVI file to append..."
-msgstr "????AVI???????..."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:52
+msgid "Video Filters"
+msgstr "??????"
 
-msgid "Select AVI file..."
-msgstr "AVI???????..."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:112
+msgid "VCD res"
+msgstr ""
 
-msgid "Select Avi file to write"
-msgstr "???AVI???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:118
+msgid "SVCD res"
+msgstr ""
 
-msgid "Select BMP to save "
-msgstr "????BMP???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:124
+msgid "DVD res"
+msgstr ""
 
-msgid "Select Color"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:130
+msgid "Half D1 res"
+msgstr ""
 
-msgid "Select Copy as the video codec."
-msgstr "????????????????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:156
+msgid "Save as script"
+msgstr "??????????"
 
-msgid "Select Custom Matrix File to write"
-msgstr "????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:427
+msgid "Input"
+msgstr "??"
 
-msgid "Select DVD as the video codec for MPEG TS output."
-msgstr "DVD?MPEG TS???????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:428
+msgid "Output"
+msgstr "??"
 
-msgid "Select Directory"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:429
+msgid "Side"
+msgstr "???"
 
-msgid "Select ECMAScript to run "
-msgstr "????ECMA????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:430
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:90
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:81
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:87
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:109
+msgid "Top"
+msgstr "???"
 
-msgid "Select File"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:431
+msgid "Separate"
+msgstr "??"
 
-msgid "Select Glyoh to save"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:607
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp:439
+#, c-format
+msgid "Frame:%c(%02d)"
+msgstr "????:%c(%02d)"
 
-msgid "Select Glyphfile to save to"
-msgstr "??????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:283
+#: avidemux/main.cpp:163
+msgid "_File"
+msgstr "????(_F)"
 
-msgid "Select Jpeg sequence to save "
-msgstr "????JPEG?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:290
+msgid "_Open..."
+msgstr "??(_O)"
 
-msgid "Select Jpeg to save "
-msgstr "????JPEG???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:301
+msgid "_Append..."
+msgstr "??(_A)"
 
-msgid "Select Language :"
-msgstr "???? :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:312
+msgid "_Save"
+msgstr "??(_S)"
 
-msgid "Select MP3 to load "
-msgstr "???MP3???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:323
+msgid "Save _Video..."
+msgstr "?????(_V)"
 
-msgid "Select MPEG as the output."
-msgstr "MPEG??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:335
+msgid "Save _BMP Image..."
+msgstr "BMP?????(_B)"
 
-msgid "Select OGM file to write"
-msgstr "???OGM???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:339
+msgid "Save _JPEG Image..."
+msgstr "JPEG?????(_J)"
 
-msgid "Select SRT to save"
-msgstr "????SRT???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:343
+msgid "Save _Selection as JPEG Images..."
+msgstr "???JPEG???????(_S)"
 
-msgid "Select Sub"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:356
+msgid "Save _Project"
+msgstr "?????????(_P)"
 
-msgid "Select Vob file to scan"
-msgstr "??????VOB???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:364
+msgid "Save P_roject As..."
+msgstr "???????????????(_R)"
 
-msgid ""
-"Select WAV PCM as the audio codec, otherwise the audio file would be raw PCM."
-msgstr ""
-"WAV PCM?????????????????. ??????????????raw "
-"PCM?????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:372
+msgid "_Load/Run Project..."
+msgstr "??????????/??(_L)"
 
-msgid "Select WAV to load "
-msgstr "???WAV???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:380
+msgid "A_dd to Joblist..."
+msgstr "?????????(_D)"
 
-msgid "Select Xvid matrix file to load"
-msgstr "???XviD?????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:384
+msgid "Show _Joblist"
+msgstr "????????(_J)"
 
-msgid "Select a directory"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:396
+msgid "Co_nnect to avsproxy"
+msgstr "AvsProxy???(_N)"
 
-msgid "Select a second audio track in the Audio menu."
-msgstr "??????????????????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:405
+msgid "Proper_ties"
+msgstr "?????(_T)"
 
-msgid "Select background picture"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:416
+msgid "AVI _Muxer Options"
+msgstr "AVI????????(_M)"
 
-msgid "Select color"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:425
+msgid "_Quit"
+msgstr "??(_Q)"
 
-msgid "Select dual audio AVI to write"
-msgstr "???????AVI???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:436
+msgid "_Edit"
+msgstr "??(_E)"
 
-msgid "Select ecmascript to run "
-msgstr "????ECMA????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:443
+msgid "_Reset Edits"
+msgstr "???????(_R)"
 
-msgid "Select file to save"
-msgstr "???????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:456
+msgid "Cu_t"
+msgstr "???(_T)"
 
-msgid "Select file to save audio"
-msgstr "??????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:467
+msgid "_Copy"
+msgstr "???(_C)"
 
-msgid "Select ifo file to use"
-msgstr "??IFO???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:478
+msgid "_Paste"
+msgstr "????(_P)"
 
-msgid "Select postprocessing level"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:489
+msgid "_Delete"
+msgstr "??(_D)"
 
-msgid "Select raw file to save "
-msgstr "????raw???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:505
+msgid "Set Marker _A"
+msgstr "????A???(_A)"
 
-msgid "Select the output file"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:512
+msgid "Set Marker _B"
+msgstr "????B???(_B)"
 
-msgid "Select video to write"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:524
+msgid "Pre_ferences"
+msgstr "??(_F)"
 
-msgid "Select vobsub to write"
-msgstr "???VobSub???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:532
+msgid "_View"
+msgstr "??(_V)"
 
-msgid "Select workbench to save"
-msgstr "?????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:539
+msgid "_Main Toolbar"
+msgstr "??????(_M)"
 
-msgid "Select workbench to save "
-msgstr "?????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:544
+msgid "_A/V Sidebar"
+msgstr "A/V??????(_A)"
 
-msgid "Selection: end"
-msgstr "??: ??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:554
+msgid "_Zoom 1:4"
+msgstr "??? 1:4 (_Z)"
 
-msgid "Selection: start"
-msgstr "??: ??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:561
+msgid "Z_oom 1:2"
+msgstr "??? 1:2 (_O)"
 
-msgid "Sensibility"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:568
+msgid "Zoom _1:1"
+msgstr "??? 1:1 (_1)"
 
-msgid "Separate"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:575
+msgid "Zoom _2:1"
+msgstr "??? 2:1 (_2)"
 
-msgid "Set Marker _A"
-msgstr "????A???(_A)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:582
+msgid "Zoom _4:1"
+msgstr "??? 4:1 (_4)"
 
-msgid "Set Marker _B"
-msgstr "????B???(_B)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:589
+msgid "Vi_deo"
+msgstr "??(_D)"
 
-msgid "Set a common predefined aspect ratio"
-msgstr "???????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:596
+msgid "_Decoder Options"
+msgstr "?????????(_D)"
 
-msgid "Set a custom aspect ratio. Default 1:1 is recommended for most video."
-msgstr "???????????????. ?????1:1????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:603
+msgid "_Postprocessing"
+msgstr "???(_P)"
 
-msgid ""
-"Set how many previous frames can be referenced by a P/B-frame. Numbers above "
-"5 do not seem to improve quality greatly. Numbers are 3 to 5 are recommended"
-msgstr ""
-"????????????P/B-?????????????. 5??????????"
-"?????????. 3??5?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:606
+msgid "Select postprocessing level"
+msgstr "?????????"
 
-msgid "Set how much \"bitrate bonus\" a keyframe can get"
-msgstr "??????????????? \"??????????\" ???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:616
+msgid "P_review"
+msgstr "?????(_R)"
 
-msgid ""
-"Set how much bitrate is deducted from a B-frame as compared to the previous "
-"P-frame"
-msgstr ""
-"?P-?????????B-????????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:623
+msgid "Display _Output"
+msgstr "?????(_O)"
 
-msgid ""
-"Set maximum frame interval between IDR frames. Defines the maximum amount a "
-"frame can be reused and referenced by other frames before a new clean one is "
-"established"
-msgstr ""
-"IDR???????????????????. ?????????????????"
-"?????????????????????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:635
+msgid "_Frame Rate"
+msgstr "???????(_F)"
 
-msgid ""
-"Set minimum frame interval between IDR frames. Defines the minimum amount a "
-"frame can be reused and referenced by other frames before a new clean one is "
-"established"
-msgstr ""
-"IDR???????????????????. ?????????????????"
-"?????????????????????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:639
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:688
+msgid "_Encoder"
+msgstr "?????(_E)"
 
-msgid "Set the amount of blurring to use for block edges when they are found"
-msgstr ""
-"??????????????????????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:646
+msgid "Fil_ters"
+msgstr "????(_T)"
 
-msgid "Set the amount of noise reduction"
-msgstr "???????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:653
+msgid "_Audio"
+msgstr "??(_A)"
 
-msgid ""
-"Set the maximum number of consecutive B-frames. This defines how many "
-"duplicate frames can be droped. Numbers 2 to 5 are recommended. This greatly "
-"improves the use of bitrate and quality"
-msgstr ""
-"??B-?????????????????. ?????????????????"
-"??. 2??5?????. ?????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:660
+msgid "_Main Track"
+msgstr "?????(_M)"
 
-msgid "Set your markers correctly."
-msgstr "???????????????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:664
+msgid "_Second Track"
+msgstr "??????(_S)"
 
-msgid "Sharp :"
-msgstr "???? :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:668
+msgid "_Build VBR Time Map"
+msgstr "VBR?????????(_B)"
 
-msgid "Sharpen/Blur"
-msgstr "????/???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:677
+msgid "S_ave..."
+msgstr "??(_A)"
 
-msgid "Sharpness"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:695
+msgid "_Filters"
+msgstr "????(_F)"
 
-msgid "Shift (ms) :"
-msgstr "?? (ms) :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:699
+msgid "_Tools"
+msgstr "???(_T)"
 
-msgid "Shift:"
-msgstr "??:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:706
+msgid "_Calculator"
+msgstr "??(_C)"
 
-msgid "Show _Joblist"
-msgstr "????????(_J)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:722
+msgid "_Rebuild Frames (I & B)"
+msgstr "????(I?B)????(_R)"
 
-msgid "Show _frame"
-msgstr "???????(_F)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:726
+msgid "C_heck Frames (slow)"
+msgstr "??????(_H) (??)"
 
-msgid "Show _mask"
-msgstr "??????(_M)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:730
+msgid "_Bitrate Histogram"
+msgstr "?????? ??????(_B)"
 
-msgid "Show builtin support"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:734
+msgid "_Scan for Black Frames..."
+msgstr "??????????(_S)"
 
-msgid "Show info"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:743
+msgid "_VOB -> VobSub"
+msgstr "_VOB -> VobSub"
 
-msgid "Show interlaced areas (for test!)"
-msgstr "???????????(????!)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:747
+msgid "_OCR (VobSub -> srt)"
+msgstr "_OCR (VobSub -> srt)"
 
-msgid "Show metric in image (debug)"
-msgstr "????????????(?????)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:756
+msgid "_Frame Hex Dump"
+msgstr "????16????(_F)"
 
-msgid "Show motion Vectors"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:760
+msgid "A_uto"
+msgstr "??(_U)"
 
-msgid "Shrink factor"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:767
+msgid "_VCD"
+msgstr "_VCD"
 
-msgid "Shut down computer when finished"
-msgstr "?????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:771
+msgid "_SVCD"
+msgstr "_SVCD"
 
-msgid "Side"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:775
+msgid "_DVD"
+msgstr "_DVD"
 
-msgid "Single Pass - Bitrate"
-msgstr "1-?? - ??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:779
+msgid "_PSP"
+msgstr "_PSP"
 
-msgid "Single Pass - Bitrate (Average)"
-msgstr "1-?? - ?????? (??)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:783
+msgid "PSP (_H.264)"
+msgstr "PSP (_H.264)"
 
-msgid "Single Pass - Quality Quantizer (Average)"
-msgstr "1-?? - ?????? (??)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:787
+msgid "_Go"
+msgstr "??(_G)"
 
-msgid "Single Pass - Quality Quantizer (Constant)"
-msgstr "1-?? - ?????? (??)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:794
+msgid "_Play/Stop"
+msgstr "??/??(_P)"
 
-msgid "Single Pass - Quantizer"
-msgstr "1-?? - ????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:805
+msgid "P_revious Frame"
+msgstr "??????(_R)"
 
-msgid "Single pass - bitrate"
-msgstr "1-?? - ??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:816
+msgid "_Next Frame"
+msgstr "??????(_N)"
 
-msgid "Single pass - constant quality"
-msgstr "1-?? - ????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:827
+msgid "Pr_evious Intra Frame"
+msgstr "??I-????(_E)"
 
-msgid "Single pass - quantizer"
-msgstr "1-?? - ????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:838
+msgid "Next _Intra Frame"
+msgstr "??I-????(_I)"
 
-msgid "Single pass:Quantizer"
-msgstr "1-??: ????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:849
+msgid "Previou_s Black Frame"
+msgstr "???????(_S)"
 
-msgid "Size is not (s)QCIF"
-msgstr "????(s)QCIF????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:853
+msgid "Ne_xt Black Frame"
+msgstr "???????(_X)"
 
-msgid "Size mismatch"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:857
+msgid "_First Frame"
+msgstr "???????(_F)"
 
-msgid "Skip Glyph"
-msgstr "????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:868
+msgid "_Last Frame"
+msgstr "???????(_L)"
 
-msgid "Skip all"
-msgstr "???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:884
+msgid "Go to Marker _A"
+msgstr "????A???(_A)"
 
-msgid "Skip spatial temporal check"
-msgstr "??-???????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:891
+msgid "Go to Marker _B"
+msgstr "????B???(_B)"
 
-msgid "Slow (full luma and chroma)"
-msgstr "??(???????)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:903
+msgid "_Jump to Frame..."
+msgstr "???????(_J)"
 
-msgid "Slow iterative motion search"
-msgstr "??, ???????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:914
+msgid "Jump to _Time..."
+msgstr "?????(_T)"
 
-msgid "Smaller means more deinterlacing"
-msgstr "???????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:925
+msgid "_Custom"
+msgstr "????(_C)"
 
-msgid "Something bad happened"
-msgstr "????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:929
+msgid "_Help"
+msgstr "???(_H)"
 
-msgid "Something bad happened (II)"
-msgstr "???????????? (II)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:936
+msgid "_Built-in Support"
+msgstr "??????(_B)"
 
-msgid "Something bad happened (II))"
-msgstr "???????????? (II)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:940
+msgid "_About"
+msgstr "Avidemux????(_A)"
 
-msgid "Something failed"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:958
+msgid "Open a file"
+msgstr "???????"
 
-msgid "Something failed when appending"
-msgstr "?????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:968
+msgid "Save the file"
+msgstr "?????????"
 
-msgid "Something very wrong happened when buildint joblist"
-msgstr "??????????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:974
+msgid "Audio/video file information"
+msgstr "??/????????"
 
-msgid "Source :"
-msgstr "??? :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:982
+msgid "Calculator"
+msgstr "??"
 
-msgid "Source aspect ratio"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:985
+msgid "Bitrate/size calculator"
+msgstr "??????/?????"
 
-msgid "Spatial"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1039
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1079
+msgid "Copy"
+msgstr "???"
 
-msgid "Split every MBytes"
-msgstr "MBytes????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1044
+msgid "Configure video encoder"
+msgstr "??????????"
 
-msgid "Split mpegs every (MB)"
-msgstr "MPEG??? (MB)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1049
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1105
+msgid "Filters"
+msgstr "????"
 
-msgid "Stabilize Threshold"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1052
+msgid "Video filters"
+msgstr "??????"
 
-msgid "Standard"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1084
+msgid "Configure audio encoder"
+msgstr "??????????"
 
-msgid "Start frame for partial :"
-msgstr "?????????????? :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1092
+msgid "Audio filters"
+msgstr "??????"
 
-msgid "Start frame for this vignette."
-msgstr "?????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1113
+msgid "Shift:"
+msgstr "??:"
 
-msgid "Start must be before end, and both within video # of frames."
-msgstr ""
-"??????????????????????????????????????"
-"?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1116
+msgid "Enable time shift"
+msgstr "??????????"
 
-msgid "StartOcr"
-msgstr "OCR??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1122
+msgid "Audio/video time shift (ms)"
+msgstr "??/?????? (ms)"
 
-msgid "Started at"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1129
+msgid "<b>Format</b>"
+msgstr "<b>??</b>"
 
-msgid "Stereo"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1162
+msgid "<b>Selection</b>"
+msgstr "<b>??</b>"
 
-msgid "Stereo Front+Stero Rear"
-msgstr "???? ????+???? ??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1179
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1187
+msgid " 0000000"
+msgstr " 0000000"
 
-msgid "Stereo+Center"
-msgstr "????+???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1195
+msgid "A:"
+msgstr "A :"
 
-msgid "Stereo+Center+Surround"
-msgstr "????+???+?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1202
+msgid "Go to marker A"
+msgstr "????A???"
 
-msgid "Stereo+Surround"
-msgstr "????+?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1204
+msgid "B:"
+msgstr "B?:"
 
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1211
+msgid "Go to marker B"
+msgstr "????B???"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1223
+msgid "Play"
+msgstr "??"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1237
 msgid "Stop"
 msgstr "??"
 
-msgid "Strategy"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1249
+msgid "Previous frame"
+msgstr "??????"
 
-msgid "Strength :"
-msgstr "?? :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1264
+msgid "Next frame"
+msgstr "??????"
 
-msgid "Strength:"
-msgstr "??:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1279
+msgid "Previous keyframe"
+msgstr "????????"
 
-msgid "Subtitle file "
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1294
+msgid "Next keyframe"
+msgstr "????????"
 
-msgid "Subtitle selector"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1308
+msgid "Selection: start"
+msgstr "??: ??"
 
-msgid "Subtitle to load"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1319
+msgid "Selection: end"
+msgstr "??: ??"
 
-msgid "Subtitles"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1330
+msgid "Previous black frame"
+msgstr "???????"
 
-msgid "Succeeded"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1341
+msgid "Next black frame"
+msgstr "???????"
 
-msgid "Sure ?"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1352
+msgid "First frame"
+msgstr "???????"
 
-msgid "Sure you want to abort ?"
-msgstr "????????? ?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1363
+msgid "Last frame"
+msgstr "???????"
 
-msgid "Sure!"
-msgstr "??!"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1394
+msgid "Frame: "
+msgstr "????: "
 
-msgid "Swap U & V"
-msgstr "U?V???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1401
+msgid "Current frame"
+msgstr "???????"
 
-msgid "Swap U&V"
-msgstr "U?V???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1406
+msgid "/0000000"
+msgstr "/0000000"
 
-msgid "Swap UV"
-msgstr "UV?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1413
+msgid "Time: "
+msgstr "??: "
 
-msgid "Switch audio codec to Copy."
-msgstr "?????????????????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1420
+msgid "Current time"
+msgstr "?????"
 
-msgid "TDeint param"
-msgstr "TDeint ?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1421
+msgid "00:00:00.000"
+msgstr "00:00:00.000"
 
-msgid "TTF font to use"
-msgstr "????TTF????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1424
+msgid "/00:00:00,000"
+msgstr "/00:00:00,000"
 
-msgid "T_woway"
-msgstr "???(_W)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1431
+msgid "Frame: ?"
+msgstr "????: ?"
 
-msgid "Take audio from external AC3 file"
-msgstr "??AC3???????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:209
+msgid "Incorrect output file"
+msgstr "???????????"
 
-msgid "Take audio from external MP3 file"
-msgstr "??MP3???????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:215
+msgid "Output file error"
+msgstr "?????????"
 
-msgid "Take audio from external WAV file"
-msgstr "??WAV???????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:215
+#, possible-c-format
+msgid "Could not open \"%s\" for writing."
+msgstr "????? \"%s\" ??????"
 
-msgid "Take audio from video file"
-msgstr "?????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:224
+msgid "Problem loading sub"
+msgstr "????????"
 
-msgid "Target Bitrate (kb/s)   "
-msgstr "???????? (kb/s)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:589
+msgid "Sure ?"
+msgstr "?? ?"
 
-msgid "Target FinalSize (MB):"
-msgstr "???????(MB):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:752
+msgid "Select SRT to save"
+msgstr "????SRT???"
 
-msgid "Target Size:"
-msgstr "?????:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:764
+msgid "Select Glyoh to save"
+msgstr "??????????"
 
-msgid "Target bitrate (kb/s):"
-msgstr "????????(kb/s):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/adm_ocr.cpp:778
+msgid "No glyphs to save"
+msgstr "?????????????"
 
-msgid "Target size (MBytes):"
-msgstr "?????(MBytes):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_gladeSupport.cpp:251
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_gladeSupport.cpp:275
+#, possible-c-format
+msgid "Couldn't find pixmap file: %s"
+msgstr "pixmap????: %s ????????"
 
-msgid "Target type"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:121
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:211
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:474
+msgid "Cannot open directory as a file"
+msgstr "?????????????????"
 
-msgid "Target video bitrate"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:335
+#: avidemux/gtk_gui.cpp:887
+#, possible-c-format
+msgid "Cannot open \"%s\"."
+msgstr "\"%s\" ??????."
 
-msgid "Temp. Blur of Quant after CC"
-msgstr "CC???????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:345
+msgid "Overwrite file ?"
+msgstr "???????????? ?"
 
-msgid "Temp. Blur of est Frame Complexity"
-msgstr "?????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:370
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:384
+msgid "It could be possible that you try to overwrite an input file!"
+msgstr "???????????????????!"
 
-msgid "Temporal"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:395
+msgid "Cannot write the file"
+msgstr "???????????"
 
-msgid "Temporal & Spatial check"
-msgstr "?????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:395
+#, possible-c-format
+msgid "No write access to \"%s\"."
+msgstr "\"%s\" ??????????????."
 
-msgid ""
-"The beginning frame is not a key frame.\n"
-"Please move the A marker."
-msgstr ""
-"??????????????????????.\n"
-"????A????????."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:528
+msgid "Images"
+msgstr "??"
 
-msgid "The custom matrix file has been successfully loaded."
-msgstr "????????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:540
+msgid "All"
+msgstr "???"
 
-msgid ""
-"The file you just loaded contains several audio tracks.\n"
-"Go to Audio->MainTrack to select the active one."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:585
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:657
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:719
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:779
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:842
+msgid "label1"
 msgstr ""
-"???????????????????????????.\n"
-"??->????? ???????????????????."
 
-msgid "The filter is already partial"
-msgstr "????????????"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:706
+msgid "Alert"
+msgstr "??"
 
-msgid "The first frame is not intra frame"
-msgstr "???????? I-???????????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:69
+msgid "Partition Decision"
+msgstr "????"
 
-msgid ""
-"The higher this value, the more bits get assigned to frames below the "
-"average frame size"
-msgstr ""
-"?????????????????????????????????????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:77
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:72
+msgid "VHQ Mode"
+msgstr "VHQ???"
 
-msgid ""
-"The higher this value, the more bits get taken from frames larger than the "
-"average size, and redistributed to others"
-msgstr ""
-"??????????????????????????????????????"
-"??????????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:78
+msgid "Max Ref Frames"
+msgstr "?????????"
 
-msgid ""
-"The number of channels is greater than what the selected audio codec can "
-"do.\n"
-"Either change codec or use the mixer filter to have less channels."
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:79
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:143
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:76
+msgid "Max B Frames"
+msgstr "??B-?????"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:82
+msgid "Fast P Skip"
+msgstr "??P????"
+
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:83
+msgid "DCT Decimate"
 msgstr ""
-"????????????????????????????.\n"
-"??????????????????????????????????????"
-"??."
 
-msgid "The selected audio file does not exist."
-msgstr "?????????????????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:84
+msgid "Interlaced"
+msgstr "??????"
 
-msgid "The unpacking succeedeed but the index is still not up to date."
-msgstr "???????????????????????????????."
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:103
+msgid "Disabled"
+msgstr "??"
 
-msgid "There is no audio track"
-msgstr "????????????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:110
+msgid "Deblocking Filter"
+msgstr "????? ????"
 
-msgid "There is no jobs stored, nothing to do"
-msgstr "????????????????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:111
+msgid "Strength"
+msgstr "??"
 
-msgid "There is no second track"
-msgstr "????????????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:112
+msgid "Threshold"
+msgstr "??"
 
-msgid "There is several mpeg file, append them ?"
-msgstr "???mpeg?????????. ????????? ?"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:130
+msgid "8x8P Transform"
+msgstr "8x8P ??"
 
-msgid "This a VOP packed AVI."
-msgstr "???VOP????AVI??."
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:131
+msgid "8x8B Transform"
+msgstr "8x8B ??"
 
-msgid "This cannot have packed VOP"
-msgstr "???????VOP?????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:132
+msgid "_4x4 Transform"
+msgstr "4x4 ??(_4)"
 
-msgid "This is not MPEG compatible"
-msgstr "???MPEG?????????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:133
+msgid "_8x8I Transform"
+msgstr "8x8I ??(_8)"
 
-msgid ""
-"This is to be used to undo packed vop on mpeg4.\n"
-"Continue ?"
-msgstr ""
-"???MPEG4?????vop??????????.\n"
-"???????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:134
+msgid "_4x4I Transform"
+msgstr "4x4I ??(_4)"
 
-msgid ""
-"This looks like mpeg\n"
-" Do you want to index it?"
-msgstr ""
-"??? mpeg ?????\n"
-" ???????????????? ?"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp:152
+msgid "X264 Configuration"
+msgstr "X264 ??"
 
-msgid "This will make trouble for avi files."
-msgstr "???AVI?????????????."
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:58
+msgid "Very Low"
+msgstr "?????"
 
-msgid "Threshold"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:60
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:105
+msgid "Medium"
+msgstr "????"
 
-msgid "Threshold 1"
-msgstr "?? 1"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:62
+msgid "Very High"
+msgstr "?????"
 
-msgid "Threshold 2"
-msgstr "?? 2"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:63
+msgid "Ultra High"
+msgstr "??"
 
-msgid "Threshold :"
-msgstr "?? :"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:64
+msgid "Motion Search Precision"
+msgstr "??????"
 
-msgid "Time left :"
-msgstr "???? :"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:67
+msgid "Off"
+msgstr "??"
 
-msgid "Time: "
-msgstr "??: "
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:68
+msgid "Mode Decision"
+msgstr "?????"
 
-msgid "Timecode :"
-msgstr "?????? :"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:69
+msgid "Limited Search"
+msgstr "????"
 
-msgid "Timeshift"
-msgstr "????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:70
+msgid "Medium Search"
+msgstr "????"
 
-msgid "Tmpeng "
-msgstr "TMPGEnc "
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:71
+msgid "Wide Search"
+msgstr "?????"
 
-msgid "Tmpgenc"
-msgstr "TMPGEnc"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:77
+msgid "Quarter Pixel"
+msgstr "1/4 ????"
 
-msgid "Top"
-msgstr "???"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:78
+msgid "GMC"
+msgstr "GMC"
 
-msgid "Top Field First"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:79
+msgid "BVHQ"
+msgstr "BVHQ"
 
-msgid "Top Field first"
-msgstr "??????????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:88
+msgid "4MV"
+msgstr "4MV"
 
-msgid "Top field (keep bottom)"
-msgstr "????????(??????)"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:90
+msgid "HQ AC"
+msgstr "HQ AC"
 
-msgid "Top:"
-msgstr "?:"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:91
+msgid "More Search"
+msgstr "?????"
 
-msgid "Total Duration:"
-msgstr "????:"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:96
+msgid "Min Gop Size"
+msgstr "??GOP???"
 
-msgid "Total size"
-msgstr "?????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:97
+msgid "Max Gop Size"
+msgstr "??GOP???"
 
-msgid "Total size (MB):"
-msgstr "????? (MB):"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:98
+msgid "GOP Size"
+msgstr "GOP???"
 
-msgid "Total size (custom)"
-msgstr "?????(????)"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:106
+msgid "H263"
+msgstr "H263"
 
-msgid "Track _1:"
-msgstr "???? _1:"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:107
+msgid "Mpeg"
+msgstr "MPEG"
 
-msgid "Track _2: "
-msgstr "???? _2: "
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:108
+msgid "Quantization Matrix"
+msgstr "?????????"
 
-msgid "Transform"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:109
+msgid "Trellis Quantization"
+msgstr "Trellis ???"
 
-msgid "Transformation"
-msgstr "??"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:117
+msgid "Two Pass Tuning"
+msgstr "?????"
 
-msgid "Trouble initializing audio device"
-msgstr "?????????????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:128
+msgid "Curve Compression"
+msgstr "????"
 
-msgid "Try 'File' -> 'Load/Run Project...'"
-msgstr "'????' -> '??????????/??'?????????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp:142
+msgid "Xvid4 Configuration"
+msgstr "XviD4 ??"
 
-msgid "Try backward"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_index_pg.cpp:198
+#, c-format
+msgid "# Images :%0lu"
+msgstr "# ?? :%0lu"
 
-msgid "Turbo Mode"
-msgstr "??????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_index_pg.cpp:216
+#, c-format
+msgid "Time Left :%02d:%02d:%02d"
+msgstr "???? :%02d:%02d:%02d"
 
-msgid "Two Pass (bitrate) "
-msgstr "2-?? (??????)"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp:62
+msgid "Select File to Read"
+msgstr "??????????"
 
-msgid "Two Pass (filesize) "
-msgstr "2-?? (???????)"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp:65
+msgid "Select File to Write"
+msgstr "??????????"
 
-msgid "Two Pass - Average bitrate"
-msgstr "2-?? - ????????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp:69
+msgid "Select Directory"
+msgstr "???????"
 
-msgid "Two Pass - File Size"
-msgstr "2-?? - ???????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp:580
+msgid "Partial Start Frame:"
+msgstr "????????:"
 
-msgid "Two pass"
-msgstr "2-??"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp:581
+msgid "Partial End Frame:"
+msgstr "????????:"
 
-msgid "Two pass - average bitrate"
-msgstr "2-?? - ????????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp:582
+msgid "Configure child"
+msgstr ""
 
-msgid "Two pass - video size"
-msgstr "2-?? - ?????"
+#: avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp:585
+msgid "Partial Video Filter"
+msgstr "????????"
 
-msgid "Two pass tuning"
-msgstr "2????"
+#: avidemux/ADM_video/ADM_guiResize.cpp:96
+#: avidemux/ADM_video/ADM_vidMPLResize.cpp:143
+msgid "Width and height cannot be 0"
+msgstr "????? 0 ???????"
 
-msgid "Two pass, average bitrate"
-msgstr "2-??, ????????"
+#: avidemux/ADM_video/ADM_guiResize.cpp:98
+#: avidemux/ADM_video/ADM_vidMPLResize.cpp:145
+msgid "Width and height cannot be odd"
+msgstr "????? ?????????"
 
-msgid "Two pass, final size"
-msgstr "2-??, ?????"
+#: avidemux/ADM_video/ADM_vidFieldUnblend.cpp:81
+msgid "Metrics"
+msgstr "??????"
 
-msgid "Two pass-Avg bitrate"
-msgstr "2??-????????"
+#: avidemux/ADM_video/ADM_vidFieldUnblend.cpp:81
+msgid "Do you want to print metrics on screen ?"
+msgstr "???????????????????"
 
-msgid "Two pass-filesize"
-msgstr "2??-???????"
+#: avidemux/ADM_video/ADM_vidSRT.cpp:215
+msgid "Could not open subtitle file"
+msgstr "????????????"
 
-msgid "Type"
-msgstr "???"
+#: avidemux/ADM_video/ADM_vidSRT.cpp:238
+msgid "Cannot identify subtitle format"
+msgstr "????????????"
 
-msgid "Type :"
-msgstr "??? :"
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:106
+msgid "Linear blend"
+msgstr "??????"
 
-msgid "U Shift :"
-msgstr "U ???:"
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:107
+msgid "Linear interpolate"
+msgstr "????"
 
-msgid "UV to Y link"
-msgstr "UV?Y????"
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:108
+msgid "Cubic interpolate"
+msgstr "Cubic ??"
 
-msgid "Uncheck to enable fast p-skip"
-msgstr "??????????P-??????????"
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:109
+msgid "Median interpolate"
+msgstr "Median ??"
 
-msgid "Uneven multi hexagon"
-msgstr "????????"
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:110
+msgid "FFmpeg deint"
+msgstr "FFmpeg ???????"
 
-msgid "Unknown event"
-msgstr "???????"
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:114
+msgid "_Deinterlacing:"
+msgstr "???????(_D):"
 
-msgid "Unknown flag :"
-msgstr "????? :"
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:115
+msgid "_Autolevel"
+msgstr "?????(_A)"
 
-msgid "Unsupported"
-msgstr "?????"
+#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:85
+msgid "_Subtitle file (ass/ssa)"
+msgstr "??????(_S) (ass/ssa)"
 
-msgid "Use 4 motion vectors per macroblock, might give better compression"
-msgstr "??????????4?????????????????????"
+#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:86
+msgid "_Line spacing"
+msgstr "???????(_L)"
 
-msgid "Use Chroma to decide"
-msgstr "????????"
+#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:87
+msgid "_Font scale"
+msgstr "????????(_F)"
 
-msgid "Use Chroma to evalute"
-msgstr "????????"
+#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:88
+msgid "_Top margin"
+msgstr "???(_T)"
 
-msgid "Use Quarter pixel resolution for a more precise motion estimation"
-msgstr "??????????1/4 ??????????"
+#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:89
+msgid "_Bottom margin"
+msgstr "???(_B)"
 
-msgid "Use Xvid Rate Control"
-msgstr "XviD????????"
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:82
+msgid "threshold"
+msgstr "??"
 
-msgid "Use Xvid ratecontrol"
-msgstr "XviD????????"
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:83
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:88
+msgid "If value is smaller than threshold it is considered valid. Smaller value might mean more false positive"
+msgstr "?????????????????. ???????????????????"
 
-msgid "Use also chroma to detect scene change"
-msgstr "?????????????????"
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:85
+msgid "noise"
+msgstr "???"
 
-msgid "Use alternative tag for mp3 in .mp4"
-msgstr ".mp4?mp3????????"
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:85
+msgid "If pixel are closer than noise, they are considered to be the same"
+msgstr "??????????????, ??????"
 
-msgid "Use as reference"
-msgstr "???????"
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:86
+msgid "identical"
+msgstr "??"
 
-msgid "Use chroma information to estimate motion"
-msgstr "????????????"
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:86
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:91
+msgid "If metric is less than identical, images are considered identical"
+msgstr "??????????????, ?????????"
 
-msgid ""
-"Use fewer B-frame if needed. This is always recommended. If not enabled, the "
-"codec will always use the maximum number of consecutive B-frames"
-msgstr ""
-"?????????B-???????. ???????????. ????????"
-"?????????????B-????????????"
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:87
+msgid "show"
+msgstr "??"
 
-msgid "Use lavcodec mpeg2 decoder"
-msgstr "lavcodec MPEG2 ???????"
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:87
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:92
+msgid "Show metric in image (debug)"
+msgstr "????????????(?????)"
 
-msgid "Use linear blend ?"
-msgstr "????????????? ?"
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:190
+msgid "Discard Closer"
+msgstr "???????"
 
-msgid ""
-"Use rate distortion quantization to find optimal encoding for each block. "
-"Level 0 equals disabled, level 1 equals normal and level 2 equals high"
-msgstr ""
-"????????????????????????????. ???0??????"
-"??1????????2?????????"
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:191
+msgid "Replace (interpolate)"
+msgstr "??(??)"
 
-msgid "Use systray while encoding"
-msgstr "????????????????"
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:192
+msgid "Discard longer dupe (anim?s)"
+msgstr "??dupe???(???)"
 
-msgid "Use that mode"
-msgstr "????????"
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:193
+msgid "PullDown dupe removal"
+msgstr "?????dupe??"
 
-msgid "Use the &lt;&lt; and the &gt;&gt; buttons to move using Intra frames."
-msgstr ""
-"I-?????????????? &lt;&lt; ? &gt;&gt; ??????????."
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:196
+msgid "Fastest (no chroma, partial luma)"
+msgstr "??(????, ????)"
 
-msgid "User Interface"
-msgstr "??????????"
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:197
+msgid "Fast (parial luma and chroma)"
+msgstr "??(???????)"
 
-msgid ""
-"Uses chroma (color) components for motion for compression and helps the "
-"quality"
-msgstr "?????(?)????????????????????"
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:198
+msgid "Medium (full luma no chroma)"
+msgstr "????(????, ????)"
 
-msgid "Using backup decoder - not frame accurate."
-msgstr "????????????? - ???????????."
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:199
+msgid "Slow (full luma and chroma)"
+msgstr "??(???????)"
 
-msgid "V Shift :"
-msgstr "V ???:"
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:203
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:181
+msgid "Mode"
+msgstr "???"
 
-msgid "VBR"
-msgstr "VBR"
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:204
+msgid "Quality"
+msgstr "??"
 
-msgid "VBR (Quality based)"
-msgstr "VBR (??????)"
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:205
+msgid "Threshold 1"
+msgstr "?? 1"
 
-msgid "VBV buffer size"
-msgstr "VBV???????"
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:206
+msgid "Threshold 2"
+msgstr "?? 2"
 
-msgid "VCD resolution [Ctrl-4]"
-msgstr "VCD  ??? [Ctrl-4]"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:91
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:82
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:88
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:110
+msgid "Bottom"
+msgstr "???"
 
-msgid "VHQ enables an additional search process to increase quality"
-msgstr "VHQ ???????????????????"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:95
+msgid "Never"
+msgstr "???"
 
-msgid "VHQ mode:"
-msgstr "VHQ ???:"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:96
+msgid "If still combed"
+msgstr "????????????"
 
-msgid "Variable Bitrate:"
-msgstr "????????:"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:97
+msgid "Always"
+msgstr "??"
 
-msgid "Variable bitrate mode"
-msgstr "???????????"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:102
+msgid "None but compute"
+msgstr "??, ????"
 
-msgid "Vertical deblocking"
-msgstr "???????"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:103
+msgid "Postproc on best match"
+msgstr "??????????"
 
-msgid "Vi_deo"
-msgstr "??(_D)"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:104
+msgid "Postproc and show zones(debug)"
+msgstr "???????????(????)"
 
-msgid "Video"
-msgstr "??"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:105
+msgid "Process image (not fields)"
+msgstr "?????(?????????)"
 
-msgid "Video Display"
-msgstr "????"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:106
+msgid "Process image (not fields),debug"
+msgstr "?????(?????????),????"
 
-msgid "Video Duration  "
-msgstr "????"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:110
+msgid "Strategy"
+msgstr "?????"
 
-msgid "Video Filter Manager"
-msgstr "?? ???? ?????"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:111
+msgid "Field Order"
+msgstr "?????????"
 
-msgid "Video Filters"
-msgstr "??????"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:112
+msgid "Post Processing"
+msgstr "???"
 
-msgid "Video _display:"
-msgstr "????(_D):"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:113
+msgid "Try backward"
+msgstr "??????"
 
-msgid "Video bitrate:"
-msgstr "????????:"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:115
+msgid "Direct Threshold"
+msgstr "????"
 
-msgid "Video encoder"
-msgstr "???????"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:116
+msgid "Backward Threshold"
+msgstr "?????"
 
-msgid "Video filters"
-msgstr "??????"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:117
+msgid "Noise Threshold"
+msgstr "?????"
 
-msgid "Video size (MB):"
-msgstr "????? (MB):"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:118
+msgid "Post Proc Threshold"
+msgstr "?????"
 
-msgid "Video stream :"
-msgstr "??????? :"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:120
+msgid "Use Chroma to decide"
+msgstr "????????"
 
-msgid "VideoCodec"
-msgstr "???????"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:121
+msgid "Show info"
+msgstr "?????"
 
-msgid "Vignette Height"
-msgstr "??????"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:122
+msgid "Debug"
+msgstr "????"
 
-msgid "Vignette Width"
-msgstr "?????"
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:123
+msgid "Blend"
+msgstr "????"
 
-msgid "Vob :"
-msgstr "VOB?:"
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:386
+msgid "_Luma lock:"
+msgstr "?????(_L):"
 
-msgid "Vob to Vobsub"
-msgstr "Vob?VobSub?"
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:387
+msgid "C_hroma lock:"
+msgstr "?????(_H):"
 
-msgid "VobSub Settings"
-msgstr "VobSub???"
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:388
+msgid "L_uma threshold:"
+msgstr "????(_U):"
 
-msgid "Volume control"
-msgstr "????"
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:389
+msgid "Ch_roma threshold:"
+msgstr "????(_H):"
 
-msgid "WAV open file failed..."
-msgstr "WAV???????????..."
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:391
+msgid "_Scene change:"
+msgstr "?????(_S):"
 
-msgid "Weighted biprediction"
-msgstr "???????"
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:85
+msgid "Keep nb of frames and fps"
+msgstr "??????FPS???"
 
-msgid "Width and height cannot be 0"
-msgstr "????? 0 ???????"
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:86
+msgid "Double nb of frames and fps"
+msgstr "??????FPS??????"
 
-msgid "Width and height cannot be odd"
-msgstr "????? ?????????"
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:87
+msgid "Double nb of frames (slow motion)"
+msgstr "???????????(????????)"
 
-msgid "Width is not a multiple of 8"
-msgstr "?? 8 ??????????"
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:92
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:87
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:93
+#: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:166
+msgid "_Threshold:"
+msgstr "??(_T):"
 
-msgid ""
-"Width is not a multiple of 8\n"
-" continue anyway ?"
-msgstr ""
-"??8??????????\n"
-" ????????? ?"
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:93
+msgid "_Extra"
+msgstr "??(_E)"
 
-msgid "Wrong output format"
-msgstr "???????"
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:93
+msgid "Extra check, avoid using it"
+msgstr "??????, ??????????"
 
-msgid "Wrong video codec"
-msgstr "??????????"
+#: avidemux/ADM_videoFilter/ADM_vidDropOut.cpp:63
+msgid "DropOut Threshold"
+msgstr "?????????"
 
-msgid "X264 configuration"
-msgstr "X264 ??"
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
+msgid "Out"
+msgstr "???"
 
-msgid "XVCD encoding"
-msgstr "XVCD ?????"
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
+msgid "Fade out"
+msgstr "???????"
 
-msgid "XviD encoding options"
-msgstr "XviD??????????"
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
+msgid "In"
+msgstr "??"
 
-msgid "Xvid Encoder"
-msgstr "XviD ?????"
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
+msgid "Fade in"
+msgstr "??????"
 
-msgid "Y to UV link"
-msgstr "Y?UV????"
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:71
+msgid "_Fade type:"
+msgstr "???????(_F):"
 
-msgid "Yes"
-msgstr "??"
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:72
+msgid "_Start frame:"
+msgstr "??????(_S):"
 
-msgid "You can't remove all frames"
-msgstr "?????????????"
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:73
+msgid "_End frame:"
+msgstr "??????(_E):"
 
-msgid "You can't use the Copy codec."
-msgstr "????????????????."
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:74
+msgid "Fade to _black"
+msgstr "??????(_B)"
 
-msgid ""
-"You cannot mix different video dimensions yet. Using the partial video "
-"filter later, will not work around this problem. The workaround is:\n"
-"1.) \"resize\" / \"add border\" / \"crop\" each stream to the same "
-"resolution\n"
-"2.) concatinate them together"
-msgstr ""
-"?????????????????. ????????????????????"
-"???????????. ???:\n"
-"1.) ??????? \"resize\" / \"add border\" / \"crop\" ?????????"
-"???\n"
-"2.) ??????????"
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:83
+msgid "Parameter Error"
+msgstr "????????"
 
-msgid ""
-"You don't have FAAC!.\n"
-"It is needed to create PSP compatible video."
-msgstr ""
-"FAAC????!\n"
-"PSP????????????????."
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:83
+msgid "Start must be before end, and both within video # of frames."
+msgstr "??????????????????, ????????????????????"
 
-msgid ""
-"You may need smart copy.\n"
-" Enable it ?"
-msgstr ""
-"????????????.\n"
-"????????????"
+#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:61
+msgid "_Quantizer:"
+msgstr "????(_Q):"
 
-msgid "You should use Tool->Rebuild frame. Do it now ?"
-msgstr "???->???????? ???????. ??????? ?"
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:90
+msgid "_Noise:"
+msgstr "???(_N):"
 
-msgid "Z_oom 1:2"
-msgstr "??? 1:2 (_O)"
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:90
+msgid "If pixels are closer than noise, they are considered to be the same"
+msgstr "?????????????????????"
 
-msgid "Zoom _1:1"
-msgstr "??? 1:1 (_1)"
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:91
+msgid "_Identical:"
+msgstr "??(_I):"
 
-msgid "Zoom _2:1"
-msgstr "??? 2:1 (_2)"
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:92
+msgid "_Show metrics"
+msgstr "??????(_S)"
 
-msgid "Zoom _4:1"
-msgstr "??? 4:1 (_4)"
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:93
+msgid "Smaller means more deinterlacing"
+msgstr "???????????????????????"
 
-msgid "_4MV"
-msgstr "_4MV"
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:94
+msgid "_Sharp"
+msgstr "????(_S)"
 
-msgid "_A/V Sidebar"
-msgstr "A/V??????(_A)"
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:94
+msgid "_Sharper engine:"
+msgstr "?????????????(_S)"
 
-msgid "_About"
-msgstr "Avidemux????(_A)"
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:95
+msgid "T_woway"
+msgstr "???(_W)"
 
-msgid "_Accept non-standard audio frequency for DVD"
-msgstr "DVD?????????????????(_A)"
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:95
+msgid "Extrapolate better (better not to use it)"
+msgstr "???????? (????????????)"
 
-msgid "_Append..."
-msgstr "??(_A)"
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:96
+msgid "_Map"
+msgstr "???(_M)"
 
-msgid "_Aspect ratio"
-msgstr "??????(_A)"
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:96
+msgid "Show interlaced areas (for test!)"
+msgstr "???????????(????!)"
 
-msgid "_Audio"
-msgstr "??(_A)"
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:104
+msgid "Fast"
+msgstr "??"
 
-msgid "_Audio output:"
-msgstr "????(_A):"
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:106
+msgid "Slow iterative motion search"
+msgstr "??, ???????"
 
-msgid "_Audio source:"
-msgstr "?????(_A):"
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:107
+msgid "Extra slow (same as 3+multiple reference frames)"
+msgstr "???? (??+????????)"
 
-msgid "_Autolevel"
-msgstr "?????(_A)"
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:114
+msgid "_Field dominance:"
+msgstr "???????(_F):"
 
-msgid "_Average bitrate (kb/s):"
-msgstr "????????(kb/s) (_A):"
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:115
+msgid "_Qp:"
+msgstr ""
 
-msgid "_BVHQ"
-msgstr "_BVHQ"
+#: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:90
+msgid "_Horizontal stacking:"
+msgstr "??????(_H):"
 
-msgid "_Bitrate (kb/s):"
-msgstr "??????(kb/s):"
+#: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:91
+msgid "_Vertical stacking:"
+msgstr "??????(_V):"
 
-msgid "_Bitrate Histogram"
-msgstr "?????? ??????(_B)"
+#: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:92
+msgid "_Shrink factor:"
+msgstr "???(_S):"
 
-msgid "_Bitrate:"
-msgstr "??????(_B):"
+#: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:93
+msgid "Show _frame"
+msgstr "???????(_F)"
 
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:74
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:74
+msgid "_Spatial luma strength:"
+msgstr "????????(_S):"
+
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:75
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:75
+msgid "S_patial chroma strength:"
+msgstr "????????(_P):"
+
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:76
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:76
+msgid "_Temporal strength:"
+msgstr "?????(_T):"
+
+#: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:163
+msgid "_Mask"
+msgstr "???(_M)"
+
+#: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:164
+msgid "_High Q"
+msgstr ""
+
+#: avidemux/ADM_videoFilter/ADM_vidPalShift.cpp:76
+msgid "Try reverse"
+msgstr "????"
+
+#: avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp:85
+msgid "_New frame rate:"
+msgstr "?????????(_N):"
+
+#: avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp:86
 msgid "_Blend"
 msgstr "????(_B)"
 
-msgid "_Blue:"
-msgstr "?(_B):"
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:265
+msgid "90 degrees"
+msgstr "90 ?"
 
-msgid "_Bottom margin"
-msgstr "???(_B)"
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:265
+msgid "90?"
+msgstr "90?"
 
-msgid "_Browse..."
-msgstr "??(_B)"
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:266
+msgid "180 degrees"
+msgstr "180 ?"
 
-msgid "_Buffer size:"
-msgstr "???????(_B):"
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:266
+msgid "180?"
+msgstr "180?"
 
-msgid "_Build VBR Time Map"
-msgstr "VBR?????????(_B)"
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:267
+msgid "270 degrees"
+msgstr "270 ?"
 
-msgid "_Built-in Support"
-msgstr "??????(_B)"
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:267
+msgid "270?"
+msgstr "270?"
 
-msgid "_Calculator"
-msgstr "??(_C)"
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:269
+msgid "Angle"
+msgstr "??"
 
-msgid "_Contrast:"
-msgstr "??????(_C):"
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:271
+msgid "Rotate Params"
+msgstr "???????"
 
-msgid "_Copy"
-msgstr "???(_C)"
+#: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:68
+msgid "_Luma threshold:"
+msgstr "????(_L)?:"
 
-msgid "_Custom"
-msgstr "????(_C)"
+#: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:69
+msgid "C_hroma threshold:"
+msgstr "????(_H)?:"
 
-msgid "_Custom Matrix"
-msgstr "??????????(_C)"
+#: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:70
+msgid "_Radius:"
+msgstr "??(_R):"
 
-msgid "_Custom size (MB):"
-msgstr "???????(_C) (MB):"
+#: avidemux/ADM_videoFilter/ADM_vidStabilize.cpp:63
+msgid "Stabilize Threshold"
+msgstr "?????"
 
-msgid "_DVD"
-msgstr "_DVD"
+#: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:101
+msgid "Luma Temporal Threshold"
+msgstr "???????"
 
-msgid "_Decoder Options"
-msgstr "?????????(_D)"
+#: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:102
+msgid "Chroma Temporal Threshold"
+msgstr "???????"
 
-msgid "_Deinterlacing:"
-msgstr "???????(_D):"
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:171
+msgid "Temporal & Spatial check"
+msgstr "?????????"
 
-msgid "_Delete"
-msgstr "??(_D)"
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:172
+msgid "Bob, T+S check"
+msgstr "Bob, T+S????"
 
-msgid "_Deringing"
-msgstr "????(_D)"
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:173
+msgid "Skip spatial temporal check"
+msgstr "??-???????????"
 
-msgid "_Disable NUV audio sync"
-msgstr "NUV ??????????(_D)"
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:174
+msgid "Bob, Skip spatial temporal check"
+msgstr "Bob, ??-???????????"
 
-msgid "_Edit"
-msgstr "??(_E)"
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:177
+msgid "Bottom Field first"
+msgstr "??????????"
 
-msgid "_Encoder"
-msgstr "?????(_E)"
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:182
+msgid "Order"
+msgstr "????"
 
-msgid "_Encoding mode:"
-msgstr "????????(_E):"
+#: avidemux/gtk_gui.cpp:246
+msgid "Select ECMAScript to run "
+msgstr "????ECMA????????"
 
-msgid "_Encoding priority:"
-msgstr "?????????(_E):"
+#: avidemux/gtk_gui.cpp:293
+#: avidemux/gtk_gui.cpp:332
+msgid "Obsolete"
+msgstr "??"
 
-msgid "_End frame:"
-msgstr "??????(_E):"
+#: avidemux/gtk_gui.cpp:360
+msgid "Not coded in this version"
+msgstr "????????????????????"
 
-msgid "_External file:"
-msgstr "??????(_E):"
+#: avidemux/gtk_gui.cpp:373
+#: avidemux/gtk_gui.cpp:378
+#: avidemux/gtk_gui.cpp:493
+#: avidemux/gtk_gui.cpp:496
+msgid "Select AVI file..."
+msgstr "AVI???????..."
 
-msgid "_Extra"
-msgstr "??(_E)"
+#: avidemux/gtk_gui.cpp:429
+msgid ""
+"This is to be used to undo packed VOP on MPEG-4.\n"
+"Continue ?"
+msgstr ""
+"???MPEG4?????vop??????????.\n"
+"???????"
 
-msgid "_Fade type:"
-msgstr "???????(_F):"
+#: avidemux/gtk_gui.cpp:431
+msgid "Select AVI file to write"
+msgstr "???AVI???????"
 
-msgid "_Field dominance:"
-msgstr "???????(_F):"
+#: avidemux/gtk_gui.cpp:437
+msgid "Select OGM file to write"
+msgstr "???OGM???????"
 
-msgid "_Field order:"
-msgstr "?????????(_F):"
+#: avidemux/gtk_gui.cpp:448
+#: avidemux/gtk_gui.cpp:459
+msgid "Select workbench to save"
+msgstr "?????????????"
 
-msgid "_File"
-msgstr "????(_F)"
+#: avidemux/gtk_gui.cpp:483
+msgid "Select raw file to save"
+msgstr "????raw???????"
 
-msgid "_Filesize tolerance (kb):"
-msgstr "?????????(kb) (_F):"
+#: avidemux/gtk_gui.cpp:499
+msgid "Select AVI file to append..."
+msgstr "????AVI???????..."
 
-msgid "_Filter directory:"
-msgstr "?????????(_F):"
+#: avidemux/gtk_gui.cpp:503
+msgid "Select file to save audio"
+msgstr "??????????????"
 
-msgid "_Filter strength:"
-msgstr "???????(_F):"
+#: avidemux/gtk_gui.cpp:537
+msgid "Select JPEG sequence to save"
+msgstr "????JPEG?????"
 
-msgid "_Filters"
-msgstr "????(_F)"
+#: avidemux/gtk_gui.cpp:540
+msgid "Select BMP to save"
+msgstr "????BMP???"
 
-msgid "_First Frame"
-msgstr "???????(_F)"
+#: avidemux/gtk_gui.cpp:544
+msgid "Select JPEG to save"
+msgstr "????JPEG???"
 
-msgid "_Font scale"
-msgstr "????????(_F)"
+#: avidemux/gtk_gui.cpp:597
+#: avidemux/gtk_gui.cpp:709
+msgid "Select file to save"
+msgstr "???????????"
 
-msgid "_Format:"
-msgstr "??(_F):"
+#: avidemux/gtk_gui.cpp:649
+msgid "Select MP3 to load"
+msgstr "???MP3???"
 
-msgid "_Frame Hex Dump"
-msgstr "????16????(&F)"
+#: avidemux/gtk_gui.cpp:652
+msgid "Select AC3 to load"
+msgstr "???AC3???"
 
-msgid "_Frame Rate"
-msgstr "???????(_F)"
+#: avidemux/gtk_gui.cpp:655
+msgid "Select WAV to load"
+msgstr "???WAV???"
 
-msgid "_GMC"
-msgstr "_GMC"
+#: avidemux/gtk_gui.cpp:703
+msgid "Out of bounds"
+msgstr "???"
 
-msgid "_GOP size:"
-msgstr "GOP???(_G):"
+#: avidemux/gtk_gui.cpp:714
+#: avidemux/gtk_gui.cpp:1905
+msgid "Marker A > B"
+msgstr "???? A?>?B"
 
-msgid "_Go"
-msgstr "??(_G)"
+#: avidemux/gtk_gui.cpp:714
+msgid "Cannot copy."
+msgstr "????????."
 
-msgid "_Green:"
-msgstr "?(_G):"
+#: avidemux/gtk_gui.cpp:726
+msgid "Something bad happened (II))"
+msgstr "???????????? (II)"
 
-msgid "_Greyscale"
-msgstr "???????(_G)"
+#: avidemux/gtk_gui.cpp:740
+msgid "Are you sure?"
+msgstr "???????"
 
-msgid "_Help"
-msgstr "???(_H)"
+#: avidemux/gtk_gui.cpp:795
+msgid "Change Frames per Second"
+msgstr "????/? ???"
 
-msgid "_High quality"
-msgstr "???(_H)"
+#: avidemux/gtk_gui.cpp:795
+msgid "New FPS?"
+msgstr "???FPS ?"
 
-msgid "_Horizontal deblocking"
-msgstr "???????(_H)"
+#: avidemux/gtk_gui.cpp:818
+msgid "Width is not a multiple of 8"
+msgstr "?? 8 ??????????"
 
-msgid "_Horizontal stacking:"
-msgstr "??????(_H):"
+#: avidemux/gtk_gui.cpp:819
+msgid "This will make trouble for AVI files."
+msgstr "???AVI?????????????."
 
-msgid "_Identical:"
-msgstr "??(_I):"
+#: avidemux/gtk_gui.cpp:829
+msgid "Rebuild all Keyframes?"
+msgstr "???????????????????"
 
-msgid "_Indexing/unpacking priority:"
-msgstr "????????/?????????(_I):"
+#: avidemux/gtk_gui.cpp:887
+msgid "Permission error"
+msgstr "??????? ???"
 
-msgid "_Initial:"
-msgstr "??(_I):"
+#: avidemux/gtk_gui.cpp:890
+#, possible-c-format
+msgid "\"%s\" does not exist."
+msgstr "\"%s\" ??????."
 
-msgid "_Interlaced"
-msgstr "??????(_I)"
+#: avidemux/gtk_gui.cpp:932
+msgid "Cannot open project using the video loader."
+msgstr "????????????????????????."
 
-msgid "_Interlacing:"
-msgstr "??????(_I):"
+#: avidemux/gtk_gui.cpp:933
+msgid "Try 'File' -> 'Load/Run Project...'"
+msgstr "'????' -> '??????????/??'?????????"
 
-msgid "_Job name:"
-msgstr "????(_J)"
+#: avidemux/gtk_gui.cpp:935
+msgid "Could not open the file"
+msgstr "??????????"
 
-msgid "_Jump to Frame..."
-msgstr "???????(_J)"
+#: avidemux/gtk_gui.cpp:970
+msgid "Multiple Audio Tracks"
+msgstr "?????????"
 
-msgid "_Last Frame"
-msgstr "???????(_L)"
+#: avidemux/gtk_gui.cpp:970
+msgid ""
+"The file you just loaded contains several audio tracks.\n"
+"Go to Audio->MainTrack to select the active one."
+msgstr ""
+"???????????????????????????.\n"
+"??->????? ???????????????????."
 
-msgid "_Line spacing"
-msgstr "???????(_L)"
+#: avidemux/gtk_gui.cpp:1060
+msgid "No audio decoder found for this file"
+msgstr "??????????????????????"
 
-msgid "_Load external filters"
-msgstr "??????????(_L)"
+#: avidemux/gtk_gui.cpp:1061
+msgid "Save (A+V) will generate bad AVI. Save audio will work."
+msgstr "(A+V)?????AVI???????. ??????????."
 
-msgid "_Load/Run Project..."
-msgstr "??????????/??(_L)"
+#: avidemux/gtk_gui.cpp:1117
+msgid "Something failed when appending"
+msgstr "?????????????"
 
-msgid "_Local playback downmixing:"
-msgstr "?????????????(_L):"
+#: avidemux/gtk_gui.cpp:1126
+#: avidemux/gtk_gui.cpp:1924
+msgid "Something bad happened (II)"
+msgstr "???????????? (II)"
 
-msgid "_Luma lock:"
-msgstr "?????(_L):"
+#: avidemux/gtk_gui.cpp:1190
+msgid "Cannot save the audio in copy mode"
+msgstr "?????????????????"
 
-msgid "_Luma threshold:"
-msgstr "????(_L)?:"
+#: avidemux/gtk_gui.cpp:1190
+msgid "Select WAV PCM as the audio codec, otherwise the audio file would be raw PCM."
+msgstr "WAV PCM?????????????????. ??????????????raw PCM?????."
 
-msgid "_Macroblock decision:"
-msgstr "?????????(_M):"
+#: avidemux/gtk_gui.cpp:1198
+#: avidemux/gtk_gui.cpp:1554
+msgid "Saving audio"
+msgstr "?????"
 
-msgid "_Main Toolbar"
-msgstr "??????(_M)"
+#: avidemux/gtk_gui.cpp:1275
+msgid "Get Frame"
+msgstr "???????"
 
-msgid "_Main Track"
-msgstr "?????(_M)"
+#: avidemux/gtk_gui.cpp:1275
+msgid "Cannot get this frame to save"
+msgstr "???????????????"
 
-msgid "_Map"
-msgstr "???(_M)"
+#: avidemux/gtk_gui.cpp:1312
+msgid "Mark A > B"
+msgstr "??? A > B"
 
-msgid "_Mask"
-msgstr "??? (_M)"
+#: avidemux/gtk_gui.cpp:1312
+msgid "Set your markers correctly."
+msgstr "???????????????."
 
-msgid "_Matrices:"
-msgstr "??????(_M):"
+#: avidemux/gtk_gui.cpp:1321
+msgid "Saving as set of jpegs"
+msgstr "JPEG??????"
 
-msgid "_Medium:"
-msgstr "????(_M):"
+#: avidemux/gtk_gui.cpp:1327
+msgid "Cannot decode frame"
+msgstr "??????????????"
 
-msgid "_Message level:"
-msgstr "????????(_M):"
+#: avidemux/gtk_gui.cpp:1327
+msgid "Aborting."
+msgstr "???????."
 
-msgid "_Mode:"
-msgstr "???(_M):"
+#: avidemux/gtk_gui.cpp:1338
+#: avidemux/gtk_gui.cpp:1357
+#: avidemux/gtk_gui.cpp:2268
+msgid "Done"
+msgstr "??"
 
-msgid "_New frame rate:"
-msgstr "?????????(_N)"
+#: avidemux/gtk_gui.cpp:1338
+#, possible-c-format
+msgid "Saved %d images."
+msgstr "%d ?????."
 
-msgid "_Next"
-msgstr "??(_N)"
+#: avidemux/gtk_gui.cpp:1340
+msgid "Error"
+msgstr "???"
 
-msgid "_Next Frame"
-msgstr "??????(_N)"
+#: avidemux/gtk_gui.cpp:1340
+msgid "Could not save all images."
+msgstr "???????????"
 
-msgid "_Noise:"
-msgstr "???(_N):"
+#: avidemux/gtk_gui.cpp:1357
+#, possible-c-format
+msgid "Saved \"%s\"."
+msgstr "\"%s\" ???."
 
-msgid "_Number of B frames:"
-msgstr "B-?????:"
+#: avidemux/gtk_gui.cpp:1359
+msgid "BMP op failed"
+msgstr "BMP op ??"
 
-msgid "_Number of threads:"
-msgstr "?????(_N):"
+#: avidemux/gtk_gui.cpp:1359
+#, possible-c-format
+msgid "Saving %s as a BMP file failed."
+msgstr "%s ?BMP?????????????????."
 
-msgid "_OCR (VobSub -> srt)"
-msgstr "_OCR (VobSub -> srt)"
+#: avidemux/gtk_gui.cpp:1379
+#: avidemux/gtk_gui.cpp:1445
+msgid "Failed to open the file"
+msgstr "???????????"
 
-msgid "_Open..."
-msgstr "??(_O)"
+#: avidemux/gtk_gui.cpp:1379
+#: avidemux/gtk_gui.cpp:1445
+msgid "Not a WAV file?"
+msgstr "WAV??????????"
 
-msgid "_Paste"
-msgstr "????(_P)"
+#: avidemux/gtk_gui.cpp:1380
+#, c-format
+msgid "WAV open file failed..."
+msgstr "WAV???????????..."
 
-msgid "_Play/Stop"
-msgstr "??/??(_P)"
+#: avidemux/gtk_gui.cpp:1515
+msgid "Cannot decompress audio frame"
+msgstr "??????????????"
 
-msgid "_Playback priority:"
-msgstr "??????(_P):"
+#: avidemux/gtk_gui.cpp:1529
+msgid "Memory Error"
+msgstr "??????"
 
-msgid "_Postprocessing"
-msgstr "???(_P)"
+#: avidemux/gtk_gui.cpp:1575
+msgid "No frames to encode"
+msgstr "?????????????????"
 
-msgid "_Preview"
-msgstr "?????(_P)"
+#: avidemux/gtk_gui.cpp:1575
+msgid "Please check markers. Is \"A>\" == \">B\"?"
+msgstr "????????????. \"A>\" == \">B\" ??? ?"
 
-msgid "_Previous"
-msgstr "??(_P)"
+#: avidemux/gtk_gui.cpp:1694
+msgid "Saving raw video stream"
+msgstr "raw ???????????"
 
-msgid "_Qpel"
-msgstr "_Qpel"
+#: avidemux/gtk_gui.cpp:1840
+msgid "Checking video"
+msgstr "????????"
 
-msgid "_Quality:"
-msgstr "??(_Q):"
+#: avidemux/gtk_gui.cpp:1856
+msgid "No error found"
+msgstr "???????????"
 
-msgid "_Quantization type:"
-msgstr "??????(_Q):"
+#: avidemux/gtk_gui.cpp:1860
+#, c-format
+msgid "Errors found in %u frames"
+msgstr "%u ????????????????"
 
-msgid "_Quantizer compression:"
-msgstr "?????(_Q):"
+#: avidemux/gtk_gui.cpp:1878
+msgid "Cannot decompress the audio stream"
+msgstr "???????????????"
 
-msgid "_Quantizer:"
-msgstr "????(_Q):"
+#: avidemux/gtk_gui.cpp:1878
+msgid "Switch audio codec to Copy."
+msgstr "?????????????????."
 
-msgid "_Quarter pixel"
-msgstr "1/4 ????(_Q)"
+#: avidemux/gtk_gui.cpp:1905
+msgid "Cannot delete the selection."
+msgstr "??????????."
 
-msgid "_Quit"
-msgstr "??(_Q)"
+#: avidemux/gtk_gui.cpp:1910
+msgid "You can't remove all frames"
+msgstr "?????????????"
 
-msgid "_Radius:"
-msgstr "??(_R):"
+#: avidemux/gtk_gui.cpp:1986
+msgid "Could not get tracks info"
+msgstr "?????????????"
 
-msgid "_Rebuild Frames (I & B)"
-msgstr "????(I?B)????(_R)"
+#: avidemux/gtk_gui.cpp:1994
+msgid "Video"
+msgstr "??"
 
-msgid "_Red:"
-msgstr "?(_R):"
+#: avidemux/gtk_gui.cpp:1994
+msgid "Take audio from video file"
+msgstr "?????????????"
 
-msgid "_Reset Edits"
-msgstr "???????(_R)"
+#: avidemux/gtk_gui.cpp:1995
+#: avidemux/gtk_gui.cpp:2094
+msgid "No audio"
+msgstr "????"
 
-msgid "_SVCD"
-msgstr "_SVCD"
+#: avidemux/gtk_gui.cpp:1996
+#: avidemux/gtk_gui.cpp:2095
+msgid "External AC3"
+msgstr "??AC3"
 
-msgid "_Saturation:"
-msgstr "???(_S):"
+#: avidemux/gtk_gui.cpp:1996
+#: avidemux/gtk_gui.cpp:2095
+msgid "Take audio from external AC3 file"
+msgstr "??AC3???????????"
 
-msgid "_Save"
-msgstr "??(_S)"
+#: avidemux/gtk_gui.cpp:1997
+#: avidemux/gtk_gui.cpp:2096
+msgid "External MP3"
+msgstr "??MP3"
 
-msgid "_Scan for Black Frames..."
-msgstr "??????????(_S)"
+#: avidemux/gtk_gui.cpp:1997
+#: avidemux/gtk_gui.cpp:2096
+msgid "Take audio from external MP3 file"
+msgstr "??MP3???????????"
 
-msgid "_Scene change:"
-msgstr "?????(_S):"
+#: avidemux/gtk_gui.cpp:1998
+#: avidemux/gtk_gui.cpp:2097
+msgid "External WAV"
+msgstr "??WAV"
 
-msgid "_Second Track"
-msgstr "??????(_S)"
+#: avidemux/gtk_gui.cpp:1998
+#: avidemux/gtk_gui.cpp:2097
+msgid "Take audio from external WAV file"
+msgstr "??WAV???????????"
 
-msgid "_Sharp"
-msgstr "????(_S)"
+#: avidemux/gtk_gui.cpp:2002
+#: avidemux/gtk_gui.cpp:2102
+msgid "_Audio source:"
+msgstr "?????(_A):"
 
-msgid "_Sharper engine:"
-msgstr "?????????????"
+#: avidemux/gtk_gui.cpp:2006
+#: avidemux/gtk_gui.cpp:2103
+msgid "_External file:"
+msgstr "??????(_E):"
 
-msgid "_Show metrics"
-msgstr "??????(_S)"
+#: avidemux/gtk_gui.cpp:2021
+msgid "_Track from video:"
+msgstr "?????????(_T):"
 
-msgid "_Shrink Factor:"
-msgstr "???(_S):"
+#: avidemux/gtk_gui.cpp:2031
+msgid "Main Audio Track"
+msgstr "???????"
 
-msgid "_Shrink factor:"
-msgstr "???(_S):"
+#: avidemux/gtk_gui.cpp:2037
+#: avidemux/gtk_gui.cpp:2115
+msgid "Cannot load"
+msgstr "??????"
 
-msgid "_Spatial luma strength:"
-msgstr "????????(_S):"
+#: avidemux/gtk_gui.cpp:2037
+#: avidemux/gtk_gui.cpp:2115
+msgid "The selected audio file does not exist."
+msgstr "?????????????????"
 
-msgid "_Split MPEG files every (MB):"
-msgstr "??MB??MPEG?????????(_S):"
+#: avidemux/gtk_gui.cpp:2112
+msgid "Second Audio Track"
+msgstr "????????"
 
-msgid "_Split every MB:"
-msgstr "??MB????(_S):"
+#: avidemux/gtk_gui.cpp:2144
+msgid "Error loading the MP3 file"
+msgstr "MP3??????????"
 
-msgid "_Start frame:"
-msgstr "??????(_S):"
+#: avidemux/gtk_gui.cpp:2153
+#: avidemux/gtk_gui.cpp:2175
+#: avidemux/gtk_gui.cpp:2197
+msgid "Second track loaded"
+msgstr "?????????????"
 
-msgid "_Strength:"
-msgstr "??(_S):"
+#: avidemux/gtk_gui.cpp:2167
+msgid "Error loading the AC3 file"
+msgstr "AC3??????????"
 
-msgid "_Subtitle file (ass/ssa)"
-msgstr "??????(_S) (ass/ssa)"
+#: avidemux/gtk_gui.cpp:2189
+msgid "Error loading the WAV file"
+msgstr "WAV??????????"
 
-msgid "_Swap U&V:"
-msgstr "U?V???(_S):"
+#: avidemux/gtk_gui.cpp:2256
+msgid "Saving failed"
+msgstr "?????"
 
-msgid "_Temporal strength:"
-msgstr "?????(_T):"
+#: avidemux/gtk_gui.cpp:2256
+msgid "Saving the job failed. Maybe you have permission issue with ~/.avidemux"
+msgstr "?????????. ~/.avidemux ?????????????"
 
-msgid "_Threshold:"
-msgstr "??(_T):"
+#: avidemux/gtk_gui.cpp:2268
+#, possible-c-format
+msgid "File %s has been successfully saved."
+msgstr "???? %s ??????????."
 
-msgid "_Tools"
-msgstr "???(_T)"
+#: avidemux/gtk_gui.cpp:2272
+#, possible-c-format
+msgid "File %s was NOT saved correctly."
+msgstr "???? %s ????????????."
 
-msgid "_Top margin"
-msgstr "???(_T)"
+#: avidemux/gtk_gui.cpp:2426
+msgid "AvsProxy"
+msgstr "AvsProxy"
 
-msgid "_Track from video:"
-msgstr "?????????(_T):"
+#: avidemux/gtk_gui.cpp:2426
+msgid ""
+"Failed to connect to avsproxy.\n"
+"Is it running ?"
+msgstr ""
+"AvsProxy???????.\n"
+"??????????? ?"
 
-msgid "_Trellis quantization"
-msgstr "_Trellis ???"
+#: avidemux/gtk_gui.cpp:2431
+msgid "avsproxy"
+msgstr "AvsProxy"
 
-msgid "_Use Xvid rate control"
-msgstr "XviD ????????(_U)"
+#: avidemux/gtk_gui.cpp:2459
+msgid "Frame type:"
+msgstr "???????:"
 
-msgid "_Use alternative tag for MP3 in .mp4"
-msgstr ".mp4?mp3????????(_U)"
+#: avidemux/gtk_gui.cpp:2460
+msgid "Frame size:"
+msgstr "???????:"
 
-msgid "_Use libavcodec MPEG-2 decoder"
-msgstr "libavcodec MPEG-2 ???????(_U)"
+#: avidemux/gtk_gui.cpp:2462
+msgid "Frame Hex Dump"
+msgstr "????16????"
 
-msgid "_Use systray while encoding"
-msgstr "??????????????(_U)"
+#: avidemux/guiplay.cpp:367
+msgid "Trouble initializing audio device"
+msgstr "?????????????"
 
-msgid "_VCD"
-msgstr "_VCD"
+#: avidemux/gui_autodrive.cpp:52
+msgid "No audio track"
+msgstr "????????"
 
-msgid "_VOB -> VobSub"
-msgstr "_VOB -> VobSub"
+#: avidemux/gui_autodrive.cpp:52
+msgid "An audio track is necessary to create such file"
+msgstr "????????????????????????"
 
-msgid "_Vertical deblocking"
-msgstr "???????(_V)"
+#: avidemux/gui_autodrive.cpp:82
+msgid "Cannot select mpeg4 sp codec."
+msgstr "MPEG4 sp ?????????????."
 
-msgid "_Vertical stacking:"
-msgstr "??????(_V):"
+#: avidemux/gui_autodrive.cpp:117
+msgid ""
+"You don't have FAAC!.\n"
+"It is needed to create PSP compatible video."
+msgstr ""
+"FAAC????!\n"
+"PSP????????????????."
 
-msgid "_Video size (MB):"
-msgstr "?????(MB) (_V):"
+#: avidemux/GUI_jobs.cpp:37
+msgid "Something very wrong happened when buildint joblist"
+msgstr "??????????????????????????"
 
-msgid "_View"
-msgstr "??(_V)"
+#: avidemux/GUI_jobs.cpp:42
+msgid "Nothing to do."
+msgstr "???????."
 
-msgid "_Volume control:"
-msgstr "????(_V):"
+#: avidemux/GUI_jobs.cpp:42
+msgid "There is no jobs stored, nothing to do"
+msgstr "????????, ???????"
 
-msgid "_Weight:"
-msgstr "??(_W):"
+#: avidemux/gui_navigate.cpp:75
+#: avidemux/gui_navigate.cpp:113
+#: avidemux/gui_navigate.cpp:389
+#: avidemux/gui_navigate.cpp:425
+msgid "Decompressing error"
+msgstr "??(decompression)???"
 
-msgid "_Zoom 1:4"
-msgstr "??? 1:4 (_Z)"
+#: avidemux/gui_navigate.cpp:75
+msgid "Cannot decode next frame."
+msgstr "????????????????"
 
-msgid "can't create custom directory (%s)."
-msgstr "???????? (%s) ????????."
+#: avidemux/gui_navigate.cpp:113
+#: avidemux/gui_navigate.cpp:425
+msgid "Cannot decode keyframe."
+msgstr "????????????????"
 
-msgid "can't create job directory (%s)."
-msgstr "??????? (%s) ????????."
+#: avidemux/gui_navigate.cpp:236
+msgid "Seeking"
+msgstr "????"
 
-msgid "can't determine $HOME."
-msgstr "$HOME ????????."
+#: avidemux/gui_navigate.cpp:314
+msgid "Finding black frames"
+msgstr "?????????"
 
-msgid "can't determine $USERPROFILE."
-msgstr "$USERPROFILE ????????."
+#: avidemux/gui_navigate.cpp:389
+msgid "Cannot decode the frame."
+msgstr "????????????????"
 
-msgid "font"
-msgstr "????"
+#: avidemux/gui_savenew.cpp:87
+msgid "Dual audio can only be used in copy mode"
+msgstr "????????????????????"
 
-msgid "identical"
-msgstr "??"
+#: avidemux/gui_savenew.cpp:87
+msgid "Select Copy as the video codec."
+msgstr "????????????????."
 
-msgid "label5"
-msgstr "???5"
+#: avidemux/gui_savenew.cpp:197
+#: avidemux/gui_savenew.cpp:213
+#: avidemux/gui_savenew.cpp:226
+msgid "Incompatible output format"
+msgstr "??????????"
 
-msgid "label6"
-msgstr "???6"
+#: avidemux/gui_savenew.cpp:244
+msgid "There is no second track"
+msgstr "????????????"
 
-msgid "label7"
-msgstr "???7"
+#: avidemux/gui_savenew.cpp:244
+msgid "Select a second audio track in the Audio menu."
+msgstr "??????????????????."
 
-msgid "lvemux init failed"
-msgstr "lvemux?????"
+#: avidemux/gui_savenew.cpp:248
+msgid "Select dual audio AVI to write"
+msgstr "???????AVI???"
 
-msgid "menu"
-msgstr "????"
+#: avidemux/gui_savenew.cpp:270
+#: avidemux/gui_savenew.cpp:288
+msgid "This cannot have packed VOP"
+msgstr "???????VOP?????"
 
-msgid "motion Threshold, Chroma"
-msgstr "????, ??"
+#: avidemux/gui_savenew.cpp:270
+#: avidemux/gui_savenew.cpp:288
+msgid "It is not MPEG-4 video. File will not be saved."
+msgstr "MPEG-4??????. ????????????."
 
-msgid "motion Threshold, Luma"
-msgstr "????, ??"
+#: avidemux/gui_savenew.cpp:334
+msgid ""
+"You may need smart copy.\n"
+" Enable it ?"
+msgstr ""
+"????????????.\n"
+"????????????"
 
-msgid "noise"
-msgstr "???"
+##### avidemux.pot generated by Gruntster was used for above translation.
+##### I added below
+############## Preferences
+msgid "Automation"
+msgstr "??"
 
-msgid "show"
-msgstr "??"
+msgid "Audio"
+msgstr "??"
 
-msgid "sub"
-msgstr "sub"
+msgid "External Filters"
+msgstr "??????"
 
-msgid "threshold"
-msgstr "??"
+############ MPEG-2 Configuration
+msgid "_Bitrate (kb/s):"
+msgstr "??????(_B) (kb/s):"
 
-msgid "translator-credits"
-msgstr "tetsuro"
+msgid "_Average bitrate (kb/s):"
+msgstr "????????(_A) (kb/s):"
+
+msgid "_Video size (MB):"
+msgstr "?????(_V) (MB):"
+
+msgid "Single pass - constant quality"
+msgstr "1-?? - ????"
+
+msgid "Two pass - video size"
+msgstr "2-?? - ?????"
+
+msgid "Two pass - average bitrate"
+msgstr "2-?? - ????????"
+



From mean at mail.berlios.de  Sat May 26 17:12:41 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sat, 26 May 2007 17:12:41 +0200
Subject: [Avidemux-svn-commit] r3150 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4:
	ADM_dialog ADM_gui
Message-ID: <200705261512.l4QFCfai009249@sheep.berlios.de>

Author: mean
Date: 2007-05-26 17:12:41 +0200 (Sat, 26 May 2007)
New Revision: 3150

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
Log:
custom for QT4

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-26 12:30:55 UTC (rev 3149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-26 15:12:41 UTC (rev 3150)
@@ -91,7 +91,7 @@
 uint8_t DIA_srt(ADMImage *source, SUBCONF *param) {return 0;}			
 uint8_t DIA_quota(char *) {return 0;}
 uint8_t  DIA_job_select(char **jobname, char **filename) {return 0;}
-const char * GUI_getCustomScript(uint32_t nb) {return 0;}
+//const char * GUI_getCustomScript(uint32_t nb) {return 0;}
 uint8_t DIA_RecentFiles( char **name ){return 0;}
 uint8_t DIA_about( void ){return 0;}
 void    DIA_Calculator(uint32_t *sizeInMeg, uint32_t *avgBitrate ){return ;}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2007-05-26 12:30:55 UTC (rev 3149)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2007-05-26 15:12:41 UTC (rev 3150)
@@ -40,6 +40,7 @@
 #include "ADM_codecs/ADM_codec.h"
 #include "gui_action.hxx"
 #include "ADM_editor/ADM_outputfmt.h"
+#include "ADM_toolkit/filesel.h"
 #include "prefs.h"
 
 extern int automation(void );
@@ -50,7 +51,7 @@
 extern const char* audioFilterGetIndexedName(uint32_t i);
 extern void checkCrashFile(void);
 static void setupMenus(void);
-
+static void GUI_initCustom(void);
 #ifdef CUSTOM_SLIDER
 static ADM_QSlider *slider=NULL;
 #else
@@ -58,9 +59,11 @@
 #endif
 static int _upd_in_progres=0;
 /* Ugly game with macro so that buttons emit their name ...*/
+static char     *customNames[ADM_MAC_CUSTOM_SCRIPT];
+static QAction  *customActions[ADM_MAC_CUSTOM_SCRIPT];
+static uint32_t ADM_nbCustom=0;
 
 
-
 #include "ui_gui2.h"
 
 #define WIDGET(x)  (((MainWindow *)QuiMainWindows)->ui.x)
@@ -100,6 +103,7 @@
      Ui_MainWindow ui;
  public slots:
      void buttonPressed(void);
+     void custom(void);
      void toolButtonPressed(bool z);
      void comboChanged(int z)
      {
@@ -209,7 +213,48 @@
           ui.pushButtonVideoFilter->setEnabled(b);
           ui.pushButtonAudioConf->setEnabled(b);
           ui.pushButtonAudioFilter->setEnabled(b);
+          
+          /* Build the custom menu */
+          GUI_initCustom();
+          for(int i=0;i<ADM_nbCustom;i++)
+          {
+            customActions[i]=new QAction(customNames[i],NULL);
+            ui.menuCustom->addAction(customActions[i]);
+            connect(customActions[i], SIGNAL(triggered()), this, SLOT(custom()));
+          }
+          printf("Menu built\n");
  }
+ /**
+    \fn     custom
+    \brief  Invoked when one of the custom script has been called
+ */
+void MainWindow::custom(void)
+{
+    printf("[CUSTOM] Invoked\n");
+    QObject *ptr=sender();
+    if(!ptr) return;
+    for(int i=0;i<ADM_nbCustom;i++)
+    {
+      if(customActions[i]==ptr)
+      {
+        printf("[Custom] %u/%u scrips\n",i,ADM_nbCustom);
+        HandleAction( (Action)(ACT_CUSTOM_BASE+i));
+        return; 
+      }
+    }
+    printf("[Custom] Not found\n");
+}
+/**
+    Get the custom entry 
+
+*/
+const char * GUI_getCustomScript(uint32_t nb)
+{
+    ADM_assert(nb<ADM_nbCustom);
+    return customNames[nb];
+
+}
+ 
  /*
       We receive a button press event
  */
@@ -592,5 +637,29 @@
   slider->resize(w,w);
   return 1; 
 }
+/**
+      \fn GUI_initCustom
+      \brief Initialize custom menu
+*/
+void GUI_initCustom(void )
+{
+  char *customdir=ADM_getCustomDir();
+  if(!customdir) 
+  {
+      printf("No custom dir...\n");
+      return;
+  }
+  /* Collect the name */
+   if(! buildDirectoryContent(&ADM_nbCustom,customdir, customNames,ADM_MAC_CUSTOM_SCRIPT,".js"))
+    {
+      printf("Failed to build custom dir content");
+      return;
+    }
+  if(!ADM_nbCustom)
+  {
+      printf("No custom script\n");
+  }
+  printf("Found %u custom scripts, adding them\n",ADM_nbCustom);
+}
 //********************************************
 //EOF



From mean at mail.berlios.de  Sun May 27 11:12:38 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 27 May 2007 11:12:38 +0200
Subject: [Avidemux-svn-commit] r3151 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK/ADM_dialog ADM_GTK/ADM_dialogFactory
	ADM_NONE/ADM_dialog ADM_QT4/ADM_dialog ADM_commonUI
Message-ID: <200705270912.l4R9CcA3016382@sheep.berlios.de>

Author: mean
Date: 2007-05-27 11:12:35 +0200 (Sun, 27 May 2007)
New Revision: 3151

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_color.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_srt.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_srt.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flySrtPos.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flySrtPos.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp
Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_color.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_button.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
Log:
new dialog for srt subtitles, GTK & QT

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_color.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_color.cpp	2007-05-26 15:12:41 UTC (rev 3150)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_color.cpp	2007-05-27 09:12:35 UTC (rev 3151)
@@ -1,99 +0,0 @@
-
-
-/*
- * DO NOT EDIT THIS FILE - it is generated by Glade.
- */
-
-#include "config.h"
-
-#include <sys/types.h>
-#include <sys/stat.h>
-#include <unistd.h>
-#include <string.h>
-#include <stdio.h>
-
-#include <gdk/gdkkeysyms.h>
-#include <gtk/gtk.h>
-
-
-#include "default.h"
-
-
-#include "ADM_toolkit_gtk/ADM_gladeSupport.h"
-#include "ADM_toolkit_gtk/toolkit_gtk.h"
-#include "ADM_toolkit_gtk/toolkit_gtk_include.h"
-#include <ADM_assert.h>
-
- #define WID(x) lookup_widget(dialog,#x)
-
-static GtkWidget	*create_colorselectiondialog1 (void);
-
-int DIA_colorSel(uint8_t *r, uint8_t *g, uint8_t *b)
-{
-GtkWidget *dialog;
-int ret=0;
-
-GdkColor color;
-
-	dialog=create_colorselectiondialog1();
-
-	color.red=*r<<8;
-	color.green=*g<<8;
-	color.blue=*b<<8;
-
-	gtk_color_selection_set_current_color    (GTK_COLOR_SELECTION(WID(color_selection1)),&color);
-
-
-	if(GTK_RESPONSE_OK==gtk_dialog_run(GTK_DIALOG(dialog)))
-	{
-
-  		gtk_color_selection_get_current_color    (GTK_COLOR_SELECTION(WID(color_selection1)),&color);
-		*r=color.red>>8;
-		*g=color.green>>8;
-		*b=color.blue>>8;
-		ret=1;
-	}
-
-	gtk_widget_destroy(dialog);
-	return ret;
-
-}
-
-GtkWidget*
-create_colorselectiondialog1 (void)
-{
-  GtkWidget *colorselectiondialog1;
-  GtkWidget *ok_button1;
-  GtkWidget *cancel_button1;
-  GtkWidget *help_button1;
-  GtkWidget *color_selection1;
-
-  colorselectiondialog1 = gtk_color_selection_dialog_new (_("Select Color"));
-  gtk_window_set_resizable (GTK_WINDOW (colorselectiondialog1), FALSE);
-
-  ok_button1 = GTK_COLOR_SELECTION_DIALOG (colorselectiondialog1)->ok_button;
-  gtk_widget_show (ok_button1);
-  GTK_WIDGET_SET_FLAGS (ok_button1, GTK_CAN_DEFAULT);
-
-  cancel_button1 = GTK_COLOR_SELECTION_DIALOG (colorselectiondialog1)->cancel_button;
-  gtk_widget_show (cancel_button1);
-  GTK_WIDGET_SET_FLAGS (cancel_button1, GTK_CAN_DEFAULT);
-
-  help_button1 = GTK_COLOR_SELECTION_DIALOG (colorselectiondialog1)->help_button;
-  gtk_widget_show (help_button1);
-  GTK_WIDGET_SET_FLAGS (help_button1, GTK_CAN_DEFAULT);
-
-  color_selection1 = GTK_COLOR_SELECTION_DIALOG (colorselectiondialog1)->colorsel;
-  gtk_widget_show (color_selection1);
-  gtk_color_selection_set_has_opacity_control (GTK_COLOR_SELECTION (color_selection1), FALSE);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (colorselectiondialog1, colorselectiondialog1, "colorselectiondialog1");
-  GLADE_HOOKUP_OBJECT_NO_REF (colorselectiondialog1, ok_button1, "ok_button1");
-  GLADE_HOOKUP_OBJECT_NO_REF (colorselectiondialog1, cancel_button1, "cancel_button1");
-  GLADE_HOOKUP_OBJECT_NO_REF (colorselectiondialog1, help_button1, "help_button1");
-  GLADE_HOOKUP_OBJECT_NO_REF (colorselectiondialog1, color_selection1, "color_selection1");
-
-  return colorselectiondialog1;
-}
-

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp	2007-05-26 15:12:41 UTC (rev 3150)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp	2007-05-27 09:12:35 UTC (rev 3151)
@@ -55,424 +55,173 @@
 #define MODULE_NAME MODULE_FILTER
 #include "ADM_osSupport/ADM_debug.h"
 
-#include "prototype.h"
-#include "prefs.h"
 #include <ADM_assert.h>
+#include "DIA_flyDialog.h"
+#include "DIA_flySrtPos.h"
 
 
-    
-typedef struct unicd
-{
-	char *display,*name;
-}unicd;
-#define CHECKSPIN(x,y) y= gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(x)) ;
-//
-//	If you want to add languages just add them here, nothing else to do
-//	First is the displayed name, second is the iconv --list name use internally
-//
-static unicd  names[]=
-{
-	{(char *)"Ascii"	,(char *)"ISO-8859-1"},
-	{(char *)"Cyrillic"	,(char *)"WINDOWS-1251"}, // ru
-	{(char *)"Czech"	,(char *)"ISO-8859-2"},	// cz
-	{(char *)"German"	,(char *)"ISO-8859-9"}		// german ?
-	,{(char *)"Slovene"	,(char *)"CP1250"}		// UTF8
-	,{(char *)"UTF8"	,(char *)"UTF8"}		// UTF8
-	,{(char *)"Chinese Traditionnal(Big5)"	,(char *)"CP950"}		// UTF8
-	,{(char *)"Chinese Simplified (GB2312)"	,(char *)"CP936"}		// UTF8
-};
-
-
-
-static void on_callback_sub(GtkButton * button, gpointer user_data);
-static void on_callback_font(GtkButton * button, gpointer user_data);
-static void on_callback_color(GtkButton * button, gpointer user_data);
-
-static gboolean on_slider( void );
-
-static void indexSUB(char *name);
-static void update(uint32_t value);
-static void read(void);
-
-static GtkWidget* create_dialog1 (void);
-static GtkWidget *dialog=NULL;
-static GtkWidget *drawing=NULL;
-static GtkAdjustment *sliderAdjustment;
-
-static uint32_t glob_font=0;
-static uint32_t glob_base=0;
-
-
-static int  GUI_subtitleParam(char *font,char *sub,int  *charset,int *size,uint32_t *baseline,
-                              int32_t *coly,int32_t *colu,int32_t *colv,uint32_t *autocut,int32_t *delay
-			      ,uint32_t *bg);
-
+static void read( void );
+static void upload ( void );
+static gboolean slider_update( void );
+static gboolean gui_update( void);
 static gboolean gui_draw( void );
-static void draw( void);
+static GtkWidget *create_dialog1 (void);
 
-#define MAX_STRING 300
-static char subString[MAX_STRING];
-static char fontString[MAX_STRING];
-
-static ADMImage  *sourceImage=NULL;
-static uint8_t *targetImage=NULL;
-static uint8_t *targetImageRGB=NULL;
-
-static uint32_t _w,_h;
-static int32_t myY,myU,myV;
-
-extern int DIA_colorSel(uint8_t *r, uint8_t *g, uint8_t *b);
-ColYuvRgb *rgbConv=NULL;
-
-
-uint8_t DIA_srt(ADMImage *source, SUBCONF *param)
+static GtkWidget *dialog=NULL;
+static flySrtPos *myCrop=NULL;
+static int lock=0;
+/**
+      \fn DIA_srtPos
+      \brief Dialog that handles subtitle size and position
+*/
+int DIA_srtPos(AVDMGenericVideoStream *in,uint32_t *size,uint32_t *position)
 {
-
-//char c;
-uint8_t ret=0;
-int charset=0;
-uint32_t l,f;
-
-          // look up old one
-          if(param->_charset)
-          {
-                  for(uint32_t j=0;j<sizeof(names)/sizeof(unicd);j++)
-                    if(!strcmp(param->_charset,names[j].name)) charset=j;
-          }
-          _w=source->_width;
-          _h=source->_height;
-
-          sourceImage     =source;
-          targetImage     =new uint8_t[_w*_h*2];
-          targetImageRGB  =new uint8_t[_w*_h*4];
-
-          rgbConv=new ColYuvRgb(_w,_h);
-          rgbConv->reset(_w,_h);
-          //*****************************
-          ret= GUI_subtitleParam( (char *)param->_fontname,
-                        (char *)param->_subname,
-                        &charset,
-                        (int *)&param->_fontsize,
-                        &(param->_baseLine),
-                        &(param->_Y_percent),
-                        &(param->_U_percent),
-                        &(param->_V_percent),
-                        &(param->_selfAdjustable),
-                        &(param->_delay),
-                        &(param->_useBackgroundColor));
-
-          //*****************************
-          delete [] targetImage;
-          delete [] targetImageRGB;
-
-          targetImage=targetImageRGB=NULL;
-          delete rgbConv;
-          rgbConv=NULL;
-
-          if(ret==1)
-          {
-            if(charset<(int)(sizeof(names)/sizeof(unicd)))
-            {
-                strcpy(param->_charset,names[charset].name    );
-                printf("\n Charset : %s\n",   names[charset].name    );
-            } 
-          }
-    
-}
-
-int  GUI_subtitleParam(char *font,char *sub,int  *charset,int *size,uint32_t *baseline,
-                       int32_t *coly,int32_t *colu,int32_t *colv,uint32_t *autocut,int32_t *delay,
-		       uint32_t *bgcolor)
-{
-
+  uint8_t ret=0;
   
+        uint32_t width,height;
 
-int ret=0;
-gint answer;
-#define WID(x) lookup_widget(dialog,#x)
-#define CHECK_GET(x,y) {y=gtk_toggle_button_get_active( GTK_TOGGLE_BUTTON(WID(x)));}
-#define CHECK_SET(x,y) {gtk_toggle_button_set_active( GTK_TOGGLE_BUTTON(WID(x)),y);}		
+        // Allocate space for green-ised video
+        width=in->getInfo()->width;
+        height=in->getInfo()->height;
 
-	printf("In:Y:%d U:%d V:%d\n",*coly,*colu,*colv);
-
-       	dialog = create_dialog1();
-	    gtk_register_dialog(dialog);
+        dialog=create_dialog1();
+        gtk_register_dialog(dialog);
+        
+        gtk_widget_set_usize(WID(drawingarea1), width,height);
+        gtk_window_set_title (GTK_WINDOW (dialog), _("Subtitle Size and Position"));
+        gtk_widget_show(dialog);
 	
-	if(sub)    	strcpy( subString, sub);
-	if(font) 	 strcpy( fontString, font);
+        myCrop=new flySrtPos( width, height,in,WID(drawingarea1),WID(hscale1));
+        myCrop->param.fontSize=*size;
+        myCrop->param.position=*position;
+        
+           gtk_range_set_range(GTK_RANGE(WID(vscale1)),0,height-1);
+        
+        
+        myCrop->upload();
+        myCrop->sliderChanged();
+        
+        gtk_signal_connect(GTK_OBJECT(WID(drawingarea1)), "expose_event",
+            GTK_SIGNAL_FUNC(gui_draw),
+            NULL);
+        
+        gtk_signal_connect (GTK_OBJECT(WID( spinbutton1)), "value_changed",
+                    GTK_SIGNAL_FUNC (gui_update),
+                    NULL);
+        
+         gtk_signal_connect (GTK_OBJECT(WID( hscale1)), "value_changed",
+                    GTK_SIGNAL_FUNC (slider_update),
+                    NULL);
 
-	myY=*coly;
-	myU=*colu;
-	myV=*colv;
+          gtk_signal_connect (GTK_OBJECT(WID( vscale1)), "value_changed",
+                    GTK_SIGNAL_FUNC (gui_update),
+                    NULL);
+       
+        ret=0;
+        int response;
+        response=gtk_dialog_run(GTK_DIALOG(dialog));
 
-
-
-        gtk_label_set_text(GTK_LABEL(WID(label_sub)),sub);
-        gtk_label_set_text(GTK_LABEL(WID(label_font)),font);
-        gtk_spin_button_set_value(GTK_SPIN_BUTTON(WID(spinbutton_fontsize)),(gfloat)*size) ;
-	CHECK_SET(checkbutton_autosplit,*autocut);
-	CHECK_SET(checkbuttonbg,*bgcolor);
-	
-	gtk_write_entry(WID(entry_delay), *delay);
-	
-	int nb=sizeof(names)/sizeof(unicd);
-
-	GtkWidget *w;
-	for(uint32_t j=1;j<(uint32_t)nb;j++)
-	{
-
- 		w = gtk_menu_item_new_with_mnemonic ( names[j].display  );
-  		gtk_widget_show (w);
-  		gtk_container_add (GTK_CONTAINER (WID(menu1)),w);
-	}
-
-	 gtk_option_menu_set_history (GTK_OPTION_MENU (WID(optionmenu1)), *charset);
-
-  	 gtk_signal_connect(GTK_OBJECT(WID(button_sub)), "clicked",
-		       GTK_SIGNAL_FUNC(on_callback_sub), (void *) 1);
-     	gtk_signal_connect(GTK_OBJECT(WID(button_font)), "clicked",
-		       GTK_SIGNAL_FUNC(on_callback_font), (void *) 1);
-
- 	gtk_signal_connect(GTK_OBJECT(WID(button_color)), "clicked",
-		       GTK_SIGNAL_FUNC(on_callback_color), (void *) 1);
-
-	// Draw a green square to show where it's gonna be
-	CHECKSPIN( WID(spinbutton_fontsize),glob_font);
-
-
-	drawing=WID(drawingarea1);
-
-	gtk_widget_set_usize(drawing, _w,_h);
-
-	gtk_widget_show(dialog);
-
-	glob_font=*size;
-	glob_base=*baseline;
-
-	sliderAdjustment=gtk_range_get_adjustment (GTK_RANGE(WID(vscale1)));
-  	gtk_adjustment_set_value( GTK_ADJUSTMENT(sliderAdjustment),(  gdouble  ) glob_base );
-/*-------*/
-
-	gtk_signal_connect(GTK_OBJECT(sliderAdjustment),"value_changed", \
-		       GTK_SIGNAL_FUNC(on_slider), NULL);
-
-
-/*-------*/
-
-
-	update(*baseline);
-	draw();
-
-	 gtk_signal_connect(GTK_OBJECT(WID(drawingarea1)), "expose_event",
-		       GTK_SIGNAL_FUNC(gui_draw),
-		       NULL);
-
-	ret=0;
-	gtk_register_dialog(dialog);
-	while( (answer=gtk_dialog_run(GTK_DIALOG(dialog)))==GTK_RESPONSE_APPLY)
-	{
-		read();
-		update(glob_base);
-		draw();
-	}
-	gtk_unregister_dialog(dialog);
-	if(answer==GTK_RESPONSE_OK)
-	{
-				strcpy(sub,subString);
-				strcpy(font,fontString);
-				*charset= getRangeInMenu(WID(optionmenu1));;
-
-          			read();
-				*size=glob_font;
-				*baseline=glob_base;
-
-				*coly=myY;
-				*colu=myU;
-				*colv=myV;
-				printf("Y:%d U:%d V:%d\n",*coly,*colu,*colv);
-				CHECK_GET(checkbutton_autosplit,*autocut);
-				CHECK_GET(checkbuttonbg,*bgcolor);
-				*delay= (int32_t)gtk_read_entry(WID(entry_delay));
-				ret=1;
-	}
-	gtk_unregister_dialog(dialog);
-	gtk_widget_destroy(dialog);
-	dialog=NULL;
-	return ret;
-
+        if(response==GTK_RESPONSE_OK)
+        {
+            myCrop->download();
+            *size=myCrop->param.fontSize;
+            *position=myCrop->param.position;
+            ret=1;
+        }
+        gtk_unregister_dialog(dialog);
+        gtk_widget_destroy(dialog);
+        delete myCrop;
+        return ret;
 }
-void on_callback_color(GtkButton * button, gpointer user_data)
+/**********************************/
+void read( void )
 {
-	uint8_t r,g,b;
-	uint8_t y;
-	int8_t u,v;
-
-		y=(myY);
-		u=(myU);
-		v=(myV);
-
-
-	aprintf("YUV: %d %d %d \n",y,u,v);
-	COL_YuvToRgb(   y,  u,  v, &b,&g,&r);
-	aprintf("RGB %d %d %d -->\n\n",r,g,b);
-
-
-	if(DIA_colorSel(&r,&g,&b))
-	{
-		aprintf("RGB %d %d %d -->\n",r,g,b);
-		COL_RgbToYuv(b,  g,  r, &y, &u,&v);
-		aprintf("YUV:%d %d %d \n",y,u,v);
-		myY=y;
-		myU=(u);
-		myV=(v);
-
-		if(abs(myU)<2) myU=0;
-		if(abs(myV)<2) myV=0;
-
-	}
-
+	myCrop->download();
 }
-
-gboolean on_slider( void )
+gboolean slider_update( void )
 {
-		read();
-		update(glob_base);
-		draw();
-	return TRUE;
+        myCrop->sliderChanged();
+        return true;
 }
-void on_callback_sub(GtkButton * button, gpointer user_data)
+gboolean gui_update( void)
 {
-	      UNUSED_ARG(button);
-	UNUSED_ARG(user_data);
-        //GUI_FileSelRead("TTF font to use", fontCB);
-        FileSel_SelectRead(_("Subtitle to load"), subString,
-		MAX_STRING,subString);
-	gtk_label_set_text(GTK_LABEL(WID(label_sub)),subString);
+  if(lock) return true;
+      myCrop->update();
+  return true;
 }
-
-void on_callback_font(GtkButton * button, gpointer user_data)
-{
-        UNUSED_ARG(button);
-	UNUSED_ARG(user_data);
-        //GUI_FileSelRead("TTF font to use", fontCB);
-        FileSel_SelectRead(_("TTF font to use"), fontString,
-		MAX_STRING,fontString);
-	gtk_label_set_text(GTK_LABEL(WID(label_font)),fontString);
-	
-}
-/*--------------------------------------*/
 gboolean gui_draw( void )
 {
-	draw();
+	myCrop->display();
 	return true;
 }
-void draw (void  )
-{
-	GUI_RGBDisplay(targetImageRGB, _w,_h, (void *)drawing);
-}
 
-void read ( void )
-{
+/******************************/
+#define SPIN_GET(x,y) {y= gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(lookup_widget(dialog,#x))) ;\
+				printf(#x":%d\n", y);}
 
-	// Draw a green square to show where it's gonna be
-	CHECKSPIN( WID(spinbutton_fontsize),glob_font);
+#define SPIN_SET(x,y)  {gtk_spin_button_set_value(GTK_SPIN_BUTTON(lookup_widget(dialog,#x)),(gfloat)y) ; printf(#x":%d\n", y);}
 
-	glob_base=(uint32_t)GTK_ADJUSTMENT(sliderAdjustment)->value;
 
-	if(glob_base<1) glob_base=1;
-	if(glob_base>(_h - glob_font*SRT_MAX_LINE)) glob_base=_h - glob_font*SRT_MAX_LINE;
-
-
+uint8_t    flySrtPos::upload(void)
+{
+        SPIN_SET(spinbutton1,param.fontSize);
+        
+        int32_t max=_h;
+        max-=(SRT_MAX_LINE)*param.fontSize;
+        if(max<0) max=0;
+        if(param.position>=max)
+        {
+          param.position=max;
+        }
+        
+        GtkAdjustment *adj=gtk_range_get_adjustment (GTK_RANGE(WID(vscale1)));
+        GTK_ADJUSTMENT(adj)->value=param.position;
+        return 1;
 }
-
-/*
-	Add our stuff and display the result
-*/
-void update(uint32_t value)
+uint8_t    flySrtPos::download(void)
 {
-uint32_t h;
-uint32_t page=_w*_h;
-	//printf("\n Updating with %lu base line\n",value);
-	// grab it
-	
-	memcpy(targetImage,YPLANE(sourceImage),(_w*_h));
-	memcpy(targetImage+page,UPLANE(sourceImage),(_w*_h)>>2);
-	memcpy(targetImage+((page*5)>>2),VPLANE(sourceImage),(_w*_h)>>2);
-	
-	h=glob_font;
-	if(h>8) h-=4;
-
-	for(uint32_t line=0;line<SRT_MAX_LINE;line++)
-	{
-		uint8_t *src=targetImage+(glob_base+line*glob_font)*_w;
-
-		for(uint32_t y=0;y<h;y+=2)
-		{
-			memset(src,255,_w);
-			src+=2*_w;
-		}
-	}
-	// convert to rgb
-	//ADM_assert(COL_yv12rgb(_w,_h,targetImage,targetImageRGB));
-	rgbConv->scale(targetImage,targetImageRGB);
-
+        SPIN_GET(spinbutton1,param.fontSize);
+        GtkAdjustment *adj=gtk_range_get_adjustment (GTK_RANGE(WID(vscale1)));
+        param.position=(uint32_t)GTK_ADJUSTMENT(adj)->value;
+        
+        int32_t max=_h;
+        max-=(SRT_MAX_LINE)*param.fontSize;
+        if(max<0) max=0;
+        if(param.position>=max)
+        {
+          param.position=max;
+          upload(); 
+        }
+        
+        return 1;
 }
 
-
 /*
 	Almost straigh out of glade2
 
 */
 
-//-------------------------------
-
-
 GtkWidget*
 create_dialog1 (void)
 {
   GtkWidget *dialog1;
   GtkWidget *dialog_vbox1;
   GtkWidget *vbox1;
-  GtkWidget *table1;
-  GtkWidget *label1;
-  GtkWidget *label2;
-  GtkWidget *label3;
-  GtkWidget *label4;
   GtkWidget *hbox1;
-  GtkWidget *label_sub;
-  GtkWidget *button_sub;
-  GtkWidget *image1;
+  GtkWidget *label1;
+  GtkObject *spinbutton1_adj;
+  GtkWidget *spinbutton1;
+  GtkWidget *hscale1;
   GtkWidget *hbox2;
-  GtkWidget *label_font;
-  GtkWidget *button_font;
-  GtkWidget *image2;
-  GtkWidget *optionmenu1;
-  GtkWidget *menu1;
-  GtkWidget *enc_ascii;
-  /*
-  GtkWidget *enc_8859;
-  GtkWidget *ebc_cyrillic;
-  GtkWidget *enc_german;
-  */
-  GtkObject *spinbutton_fontsize_adj;
-  GtkWidget *spinbutton_fontsize;
-  GtkWidget *label5;
-  GtkWidget *hbox4;
-  GtkWidget *button_color;
-  GtkWidget *checkbutton_autosplit;
-  GtkWidget *label6;
-  GtkWidget *entry_delay;
-  GtkWidget *checkbuttonbg;
-  GtkWidget *hbox3;
   GtkWidget *drawingarea1;
   GtkWidget *vscale1;
   GtkWidget *dialog_action_area1;
   GtkWidget *cancelbutton1;
-  GtkWidget *applybutton1;
   GtkWidget *okbutton1;
 
   dialog1 = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog1), _("Subtitle selector"));
+  gtk_window_set_title (GTK_WINDOW (dialog1), _("Subtitle Size and Position"));
+  gtk_window_set_type_hint (GTK_WINDOW (dialog1), GDK_WINDOW_TYPE_HINT_DIALOG);
 
   dialog_vbox1 = GTK_DIALOG (dialog1)->vbox;
   gtk_widget_show (dialog_vbox1);
@@ -481,164 +230,36 @@
   gtk_widget_show (vbox1);
   gtk_box_pack_start (GTK_BOX (dialog_vbox1), vbox1, TRUE, TRUE, 0);
 
-  table1 = gtk_table_new (7, 2, FALSE);
-  gtk_widget_show (table1);
-  gtk_box_pack_start (GTK_BOX (vbox1), table1, TRUE, TRUE, 0);
-
-  label1 = gtk_label_new (_("Subtitle file "));
-  gtk_widget_show (label1);
-  gtk_table_attach (GTK_TABLE (table1), label1, 0, 1, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label1), 0, 0.5);
-
-  label2 = gtk_label_new (_("Font (TTF)"));
-  gtk_widget_show (label2);
-  gtk_table_attach (GTK_TABLE (table1), label2, 0, 1, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
-
-  label3 = gtk_label_new (_("Encoding "));
-  gtk_widget_show (label3);
-  gtk_table_attach (GTK_TABLE (table1), label3, 0, 1, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label3), 0, 0.5);
-
-  label4 = gtk_label_new (_("Font Size"));
-  gtk_widget_show (label4);
-  gtk_table_attach (GTK_TABLE (table1), label4, 0, 1, 3, 4,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label4), 0, 0.5);
-
   hbox1 = gtk_hbox_new (FALSE, 0);
   gtk_widget_show (hbox1);
-  gtk_table_attach (GTK_TABLE (table1), hbox1, 1, 2, 0, 1,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (GTK_FILL), 0, 0);
+  gtk_box_pack_start (GTK_BOX (vbox1), hbox1, FALSE, FALSE, 0);
 
-  label_sub = gtk_label_new (_("sub"));
-  gtk_widget_show (label_sub);
-  gtk_box_pack_start (GTK_BOX (hbox1), label_sub, TRUE, FALSE, 0);
+  label1 = gtk_label_new (_("Font Size:"));
+  gtk_widget_show (label1);
+  gtk_box_pack_start (GTK_BOX (hbox1), label1, FALSE, FALSE, 0);
 
-  button_sub = gtk_button_new ();
-  gtk_widget_show (button_sub);
-  gtk_box_pack_start (GTK_BOX (hbox1), button_sub, FALSE, FALSE, 0);
+  spinbutton1_adj = gtk_adjustment_new (1, 6, 99, 1, 10, 10);
+  spinbutton1 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton1_adj), 1, 2);
+  gtk_widget_show (spinbutton1);
+  gtk_box_pack_start (GTK_BOX (hbox1), spinbutton1, FALSE, FALSE, 0);
+  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton1), TRUE);
 
-  image1 = gtk_image_new_from_stock ("gtk-open", GTK_ICON_SIZE_BUTTON);
-  gtk_widget_show (image1);
-  gtk_container_add (GTK_CONTAINER (button_sub), image1);
+  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 99, 1, 1, 1)));
+  gtk_widget_show (hscale1);
+  gtk_box_pack_start (GTK_BOX (vbox1), hscale1, FALSE, FALSE, 0);
 
   hbox2 = gtk_hbox_new (FALSE, 0);
   gtk_widget_show (hbox2);
-  gtk_table_attach (GTK_TABLE (table1), hbox2, 1, 2, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (GTK_FILL), 0, 0);
+  gtk_box_pack_start (GTK_BOX (vbox1), hbox2, TRUE, TRUE, 0);
 
-  label_font = gtk_label_new (_("font"));
-  gtk_widget_show (label_font);
-  gtk_box_pack_start (GTK_BOX (hbox2), label_font, TRUE, FALSE, 0);
-
-  button_font = gtk_button_new ();
-  gtk_widget_show (button_font);
-  gtk_box_pack_start (GTK_BOX (hbox2), button_font, FALSE, FALSE, 0);
-
-  image2 = gtk_image_new_from_stock ("gtk-open", GTK_ICON_SIZE_BUTTON);
-  gtk_widget_show (image2);
-  gtk_container_add (GTK_CONTAINER (button_font), image2);
-
-  optionmenu1 = gtk_option_menu_new ();
-  gtk_widget_show (optionmenu1);
-  gtk_table_attach (GTK_TABLE (table1), optionmenu1, 1, 2, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  menu1 = gtk_menu_new ();
-
-  enc_ascii = gtk_menu_item_new_with_mnemonic (_("Ascii"));
-  gtk_widget_show (enc_ascii);
-  gtk_container_add (GTK_CONTAINER (menu1), enc_ascii);
-/*
-  enc_8859 = gtk_menu_item_new_with_mnemonic (_("Iso 8859-1 (Czech...)"));
-  gtk_widget_show (enc_8859);
-  gtk_container_add (GTK_CONTAINER (menu1), enc_8859);
-
-  ebc_cyrillic = gtk_menu_item_new_with_mnemonic (_("Cyrillic"));
-  gtk_widget_show (ebc_cyrillic);
-  gtk_container_add (GTK_CONTAINER (menu1), ebc_cyrillic);
-
-  enc_german = gtk_menu_item_new_with_mnemonic (_("German"));
-  gtk_widget_show (enc_german);
-  gtk_container_add (GTK_CONTAINER (menu1), enc_german);
-*/
-  gtk_option_menu_set_menu (GTK_OPTION_MENU (optionmenu1), menu1);
-
-  spinbutton_fontsize_adj = gtk_adjustment_new (26, 8, 100, 1, 10, 10);
-  spinbutton_fontsize = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_fontsize_adj), 1, 0);
-  gtk_widget_show (spinbutton_fontsize);
-  gtk_table_attach (GTK_TABLE (table1), spinbutton_fontsize, 1, 2, 3, 4,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton_fontsize), TRUE);
-
-  label5 = gtk_label_new (_("Select color"));
-  gtk_widget_show (label5);
-  gtk_table_attach (GTK_TABLE (table1), label5, 0, 1, 4, 5,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label5), 0, 0.5);
-
-  hbox4 = gtk_hbox_new (FALSE, 0);
-  gtk_widget_show (hbox4);
-  gtk_table_attach (GTK_TABLE (table1), hbox4, 1, 2, 4, 5,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (GTK_FILL), 0, 0);
-
-  button_color = gtk_button_new_with_mnemonic (_("Select"));
-  gtk_widget_show (button_color);
-  gtk_box_pack_start (GTK_BOX (hbox4), button_color, FALSE, FALSE, 0);
-
-  checkbutton_autosplit = gtk_check_button_new_with_mnemonic (_("Auto split"));
-  gtk_widget_show (checkbutton_autosplit);
-  gtk_table_attach (GTK_TABLE (table1), checkbutton_autosplit, 0, 1, 5, 6,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  label6 = gtk_label_new (_("Delay in ms"));
-  gtk_widget_show (label6);
-  gtk_table_attach (GTK_TABLE (table1), label6, 0, 1, 6, 7,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label6), 0, 0.5);
-
-  entry_delay = gtk_entry_new ();
-  gtk_widget_show (entry_delay);
-  gtk_table_attach (GTK_TABLE (table1), entry_delay, 1, 2, 6, 7,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_widget_set_size_request (entry_delay, 90, -1);
-  gtk_entry_set_text (GTK_ENTRY (entry_delay), _("0"));
-
-  checkbuttonbg = gtk_check_button_new_with_mnemonic (_("Force background"));
-  gtk_widget_show (checkbuttonbg);
-  gtk_table_attach (GTK_TABLE (table1), checkbuttonbg, 1, 2, 5, 6,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  hbox3 = gtk_hbox_new (FALSE, 0);
-  gtk_widget_show (hbox3);
-  gtk_box_pack_start (GTK_BOX (vbox1), hbox3, TRUE, TRUE, 0);
-
   drawingarea1 = gtk_drawing_area_new ();
   gtk_widget_show (drawingarea1);
-  gtk_box_pack_start (GTK_BOX (hbox3), drawingarea1, TRUE, TRUE, 0);
-  gtk_widget_set_size_request (drawingarea1, 352, 288);
+  gtk_box_pack_start (GTK_BOX (hbox2), drawingarea1, TRUE, TRUE, 0);
 
-  vscale1 = gtk_vscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 1, 576, 1, 1, 1)));
+  vscale1 = gtk_vscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 100, 1, 1, 1, 1)));
   gtk_widget_show (vscale1);
-  gtk_box_pack_start (GTK_BOX (hbox3), vscale1, FALSE, TRUE, 0);
+  gtk_box_pack_start (GTK_BOX (hbox2), vscale1, FALSE, FALSE, 0);
+  gtk_scale_set_digits (GTK_SCALE (vscale1), 0);
 
   dialog_action_area1 = GTK_DIALOG (dialog1)->action_area;
   gtk_widget_show (dialog_action_area1);
@@ -649,11 +270,6 @@
   gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
   GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
 
-  applybutton1 = gtk_button_new_from_stock ("gtk-apply");
-  gtk_widget_show (applybutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), applybutton1, GTK_RESPONSE_APPLY);
-  GTK_WIDGET_SET_FLAGS (applybutton1, GTK_CAN_DEFAULT);
-
   okbutton1 = gtk_button_new_from_stock ("gtk-ok");
   gtk_widget_show (okbutton1);
   gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
@@ -663,44 +279,19 @@
   GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, "dialog1");
   GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, "dialog_vbox1");
   GLADE_HOOKUP_OBJECT (dialog1, vbox1, "vbox1");
-  GLADE_HOOKUP_OBJECT (dialog1, table1, "table1");
-  GLADE_HOOKUP_OBJECT (dialog1, label1, "label1");
-  GLADE_HOOKUP_OBJECT (dialog1, label2, "label2");
-  GLADE_HOOKUP_OBJECT (dialog1, label3, "label3");
-  GLADE_HOOKUP_OBJECT (dialog1, label4, "label4");
   GLADE_HOOKUP_OBJECT (dialog1, hbox1, "hbox1");
-  GLADE_HOOKUP_OBJECT (dialog1, label_sub, "label_sub");
-  GLADE_HOOKUP_OBJECT (dialog1, button_sub, "button_sub");
-  GLADE_HOOKUP_OBJECT (dialog1, image1, "image1");
+  GLADE_HOOKUP_OBJECT (dialog1, label1, "label1");
+  GLADE_HOOKUP_OBJECT (dialog1, spinbutton1, "spinbutton1");
+  GLADE_HOOKUP_OBJECT (dialog1, hscale1, "hscale1");
   GLADE_HOOKUP_OBJECT (dialog1, hbox2, "hbox2");
-  GLADE_HOOKUP_OBJECT (dialog1, label_font, "label_font");
-  GLADE_HOOKUP_OBJECT (dialog1, button_font, "button_font");
-  GLADE_HOOKUP_OBJECT (dialog1, image2, "image2");
-  GLADE_HOOKUP_OBJECT (dialog1, optionmenu1, "optionmenu1");
-  GLADE_HOOKUP_OBJECT (dialog1, menu1, "menu1");
-  GLADE_HOOKUP_OBJECT (dialog1, enc_ascii, "enc_ascii");
-  /*
-  GLADE_HOOKUP_OBJECT (dialog1, enc_8859, "enc_8859");
-  GLADE_HOOKUP_OBJECT (dialog1, ebc_cyrillic, "ebc_cyrillic");
-  GLADE_HOOKUP_OBJECT (dialog1, enc_german, "enc_german");
-  */
-  GLADE_HOOKUP_OBJECT (dialog1, spinbutton_fontsize, "spinbutton_fontsize");
-  GLADE_HOOKUP_OBJECT (dialog1, label5, "label5");
-  GLADE_HOOKUP_OBJECT (dialog1, hbox4, "hbox4");
-  GLADE_HOOKUP_OBJECT (dialog1, button_color, "button_color");
-  GLADE_HOOKUP_OBJECT (dialog1, checkbutton_autosplit, "checkbutton_autosplit");
-  GLADE_HOOKUP_OBJECT (dialog1, label6, "label6");
-  GLADE_HOOKUP_OBJECT (dialog1, entry_delay, "entry_delay");
-  GLADE_HOOKUP_OBJECT (dialog1, checkbuttonbg, "checkbuttonbg");
-  GLADE_HOOKUP_OBJECT (dialog1, hbox3, "hbox3");
   GLADE_HOOKUP_OBJECT (dialog1, drawingarea1, "drawingarea1");
   GLADE_HOOKUP_OBJECT (dialog1, vscale1, "vscale1");
   GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, "dialog_action_area1");
   GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, "cancelbutton1");
-  GLADE_HOOKUP_OBJECT (dialog1, applybutton1, "applybutton1");
   GLADE_HOOKUP_OBJECT (dialog1, okbutton1, "okbutton1");
 
   return dialog1;
 }
 
+//-------------------------------
 #endif //FREETYPE

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-05-26 15:12:41 UTC (rev 3150)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-05-27 09:12:35 UTC (rev 3151)
@@ -12,7 +12,7 @@
 	DIA_properties.cpp  DIA_about.cpp DIA_recent.cpp \
 	DIA_resize.cpp DIA_working.cpp \
 	DIA_working.h DIA_busy.cpp DIA_busy.h DIA_exLame.cpp DIA_pipe.cpp  \
-	DIA_xvid.cpp DIA_crop.cpp DIA_color.cpp DIA_encoding.cpp   \
+	DIA_xvid.cpp DIA_crop.cpp  DIA_encoding.cpp   \
 	DIA_xvid4.cpp  \
 	DIA_pause.cpp \
 	DIA_calculator.cpp DIA_equalizer.cpp \

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_color.cpp (from rev 3098, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_color.cpp)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_button.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_button.cpp	2007-05-26 15:12:41 UTC (rev 3150)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_button.cpp	2007-05-27 09:12:35 UTC (rev 3151)
@@ -27,8 +27,8 @@
 #include "ADM_commonUI/DIA_factory.h"
 #include "ADM_assert.h"
 
+static void cb_button (GtkWidget *widget,gpointer callback_data);
 
-
 diaElemButton:: diaElemButton(const char *toggleTitle, ADM_FAC_CALLBACK *cb,void *cookie,const char *tip)
   : diaElem(ELEM_BUTTON)
 {
@@ -37,6 +37,7 @@
   this->tip=tip;
   _cookie=cookie;
   _callBack=cb;
+  
 }
 
 diaElemButton::~diaElemButton()
@@ -54,8 +55,9 @@
                     (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                     (GtkAttachOptions) (0), 0, 0);
   /* Add callback ...*/
+  
   g_signal_connect(GTK_OBJECT(button), "clicked",
-                    GTK_SIGNAL_FUNC(_callBack),  _cookie);
+                    GTK_SIGNAL_FUNC(cb_button),  this);
   myWidget=button;
 }
 void diaElemButton::getMe(void)
@@ -67,5 +69,10 @@
   gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);  
 }
 
+void cb_button (GtkWidget *widget,gpointer callback_data)
+{
+  diaElemButton *button=(diaElemButton *)callback_data;
+  button->_callBack(button->_cookie);
+}
 
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/Makefile.am	2007-05-26 15:12:41 UTC (rev 3150)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/Makefile.am	2007-05-27 09:12:35 UTC (rev 3151)
@@ -20,6 +20,7 @@
 FAC_notch.cpp \
 FAC_frame.cpp \
 FAC_hex.cpp \
-FAC_button.cpp
+FAC_button.cpp \
+DIA_color.cpp
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-26 15:12:41 UTC (rev 3150)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-27 09:12:35 UTC (rev 3151)
@@ -130,9 +130,13 @@
 uint8_t DIA_dnr(uint32_t *llock,uint32_t *lthresh, uint32_t *clock,
 			uint32_t *cthresh, uint32_t *scene) {return 0;}
 			
-uint8_t DIA_srt(ADMImage *source, SUBCONF *param) {return 0;}			
+int DIA_srtPos(AVDMGenericVideoStream *source,uint32_t *size,uint32_t *position)
+{
+  return 0; 
+}
+
+int DIA_colorSel(uint8_t *r, uint8_t *g, uint8_t *b) {return 0;}			
 			
-			
 extern int global_argc;
 extern char **global_argv;
 int UI_Init(int nargc,char **nargv)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-26 15:12:41 UTC (rev 3150)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-05-27 09:12:35 UTC (rev 3151)
@@ -88,7 +88,7 @@
 uint8_t DIA_job(uint32_t nb,char **name){return 0;}
 uint8_t DIA_videoCodec (SelectCodecType * codec){return 0;}
 uint8_t DIA_audioCodec( AUDIOENCODER *codec ) {return 0;}
-uint8_t DIA_srt(ADMImage *source, SUBCONF *param) {return 0;}			
+//uint8_t DIA_srt(ADMImage *source, SUBCONF *param) {return 0;}			
 uint8_t DIA_quota(char *) {return 0;}
 uint8_t  DIA_job_select(char **jobname, char **filename) {return 0;}
 //const char * GUI_getCustomScript(uint32_t nb) {return 0;}
@@ -97,5 +97,9 @@
 void    DIA_Calculator(uint32_t *sizeInMeg, uint32_t *avgBitrate ){return ;}
 uint8_t initFileSelector(void){return 0;}
 uint8_t initGUI( void ){return 1;}
+int DIA_colorSel(uint8_t *r, uint8_t *g, uint8_t *b) {return 0;}
+
+
+
 //EOF
 

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_srt.cpp (from rev 3123, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp	2007-05-21 09:42:07 UTC (rev 3123)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_srt.cpp	2007-05-27 09:12:35 UTC (rev 3151)
@@ -0,0 +1,163 @@
+
+// Author: mean <fixounet at free.fr>, (C) 2007
+//
+// Copyright: See COPYING file that comes with this distribution
+//
+//
+#include "config.h"
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include <ADM_assert.h>
+#include <math.h>
+#include <iconv.h>
+#include "default.h"
+
+#include "ADM_toolkit/toolkit.hxx"
+
+#include "ADM_userInterfaces/ADM_commonUI/DIA_factory.h"
+#include "ADM_assert.h" 
+#include "ADM_toolkit/toolkit.hxx"
+#include "ADM_toolkit/filesel.h"
+
+
+
+#include "ADM_editor/ADM_edit.hxx"
+#include "ADM_video/ADM_genvideo.hxx"
+
+#include "ADM_encoder/ADM_vidEncode.hxx"
+#include "ADM_video/ADM_vidFont.h"
+#include "ADM_video/ADM_vidSRT.h"
+/**
+      \fn DIA_x264
+      \brief Dialog for x264 codec settings
+*/
+uint8_t DIA_srt(ADMImage *source, SUBCONF *param)
+{
+#if 0
+int b;
+int ret=0;
+int code;
+      ADM_x264Param localParam;
+      ADM_assert(config->extraSettingsLen==sizeof(localParam));
+      memcpy(&localParam,config->extraSettings,sizeof(localParam));
+#define PX(x) &(localParam.x)
+         
+      
+      // Our tabs
+         /* Tab 1 main */
+           diaElemBitrate bitrate(config,NULL);
+           bitrate.setMaxQz(51);
+           diaElem *main[]={&bitrate};
+           diaElemTabs tabMain("Main",1,main);
+
+           
+        /* Tab 2 Motion */
+
+
+         diaMenuEntry partitionM[] = {
+                  {0,   _("1  - Extremely Low (Fastest)")}
+                ,{1,    _("2  - Very Low")}
+                ,{3,    _("3  - Low")}
+                ,{4,    _("4  - Medium")}
+                ,{5,    _("5  - High (Default)")}
+                ,{6,    _("6  - Very High")}
+                ,{7,    _("6B - Very High (RDO on Bframes)")}
+                ,{8,    _("7 - Ultra High")}
+                ,{9,    _("7B - Ultra High (RDO on Bframes)")}};
+
+                            
+        diaElemMenu parition(PX(PartitionDecision),_("Partition Decision"),10,partitionM);
+        
+         diaMenuEntry meM[] = {
+                             {0,    _("Diamond search")},
+                             {1,    _("Hexagonal search")},
+                             {2,    _("Uneven multi hexagon")},
+                             {3,    _("Exhaustive search")}}
+                             ;
+         diaElemMenu      me(PX(Method),_("VHQ Mode"),4,meM);
+         diaElemUInteger  rframe(PX(MaxRefFrames),_("Max Ref Frames"),0,15);
+         diaElemUInteger  range(PX(Range),_("Max B Frames"),0,64);
+         diaElemToggle    chromaMe(PX(ChromaME),_("Chroma ME"));
+         diaElemToggle    mixedRef(PX(MixedRefs),_("Mixed Refs"));
+         diaElemToggle    fastPSkip(PX(fastPSkip),_("Fast P Skip"));
+         diaElemToggle    dctDecimate(PX(DCTDecimate),_("DCT Decimate"));
+         diaElemToggle    interlaced(PX(interlaced),_("Interlaced"));
+         
+         diaElemFrame  frameMe(_("Motion Estimation"));
+         frameMe.swallow(&parition);
+         frameMe.swallow(&me);
+         frameMe.swallow(&rframe);
+         frameMe.swallow(&range);
+         frameMe.swallow(&chromaMe);
+         frameMe.swallow(&mixedRef);
+         frameMe.swallow(&fastPSkip);
+         frameMe.swallow(&dctDecimate);
+         frameMe.swallow(&interlaced);
+         
+           diaElem *motions[]={&frameMe};
+          diaElemTabs tabMotion("Motion",1,motions);
+         
+         
+        /* Tab3-Misc  */
+           diaMenuEntry trellisM[] = {
+                  {0,   _("Disabled")}
+                ,{1,    _("Low")}
+                ,{2,    _("High")}};
+           
+          diaElemMenu trellis(PX(Trellis),_("Trellis"),3,trellisM);
+          diaElemToggle    cabac(PX(CABAC),_("CABAC"));
+          diaElemUInteger  noise(PX(NoiseReduction),_("Noise Reduction"),0,255);
+          diaElemToggle    deblock(PX(DeblockingFilter),_("Deblocking Filter"));
+          diaElemInteger  deblockStrength(PX(Strength),_("Strength"),-6,6);
+          diaElemInteger  deblockThreshold(PX(Threshold),_("Threshold"),-6,6);
+          deblock.link(1,&deblockStrength);
+          deblock.link(1,&deblockThreshold);
+          
+          
+          diaElemFrame  frameMisc(_("Misc"));
+          frameMisc.swallow(&trellis);
+          frameMisc.swallow(&cabac);
+          frameMisc.swallow(&noise);
+          frameMisc.swallow(&deblock);
+          frameMisc.swallow(&deblockStrength);
+          frameMisc.swallow(&deblockThreshold);
+            
+           diaElem *misc[]={&frameMisc};
+          diaElemTabs tabMisc("Misc",1,misc);
+        /* Tab 4 Partition & frame*/
+         
+             diaElemToggle    _8x8(PX(_8x8),_("8x8 Transform"));
+             diaElemToggle    _8x8P(PX(_8x8P),_("8x8P Transform"));
+             diaElemToggle    _8x8B(PX(_8x8B),_("8x8B Transform"));
+             diaElemToggle    _4x4(PX(_4x4),_("_4x4 Transform"));
+             diaElemToggle    _8x8I(PX(_8x8I),_("_8x8I Transform"));
+             diaElemToggle    _4x4I(PX(_4x4I),_("_4x4I Transform"));
+          diaElemFrame  frameTransform(_("Transform"));
+           frameTransform.swallow(&_8x8);
+           frameTransform.swallow(&_8x8P);
+           frameTransform.swallow(&_8x8B);
+           frameTransform.swallow(&_4x4);
+           frameTransform.swallow(&_8x8I);
+           frameTransform.swallow(&_4x4I);
+          
+           diaElemUInteger  bframe(PX(MaxBFrame),_("Max B Frames"),0,3);
+           diaElemFrame frameB(_("B Frames"));
+           frameB.swallow(&bframe);
+           
+            diaElem *bfr[]={&frameTransform,&frameB};
+          diaElemTabs tabTransform(_("Transform"),2,bfr);
+           
+          /* End of tabs */
+        diaElemTabs *tabs[4]={&tabMain,&tabMotion,&tabMisc,&tabTransform};
+        if( diaFactoryRunTabs(_("X264 Configuration"),4,tabs))
+	{
+           memcpy(config->extraSettings,&localParam,sizeof(localParam));
+           return 1;
+        }
+#endif
+         return 0;
+}
+
+// EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-26 15:12:41 UTC (rev 3150)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2007-05-27 09:12:35 UTC (rev 3151)
@@ -5,7 +5,9 @@
 AQ_crop.cpp AT_QCanvas.cpp \
 AQ_asharp.cpp AQ_chromashift.cpp \
 AQ_contrast.cpp AQ_hue.cpp \
-AT_index_pg.cpp DIA_x264.cpp
+AQ_srt.cpp \
+AT_index_pg.cpp DIA_x264.cpp \
+DIA_srt.cpp
 
 INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \
 		-I../../../ADM_libraries/ADM_utilities \

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_srt.cpp (from rev 3098, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_hue.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_hue.cpp	2007-05-15 15:15:31 UTC (rev 3098)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_srt.cpp	2007-05-27 09:12:35 UTC (rev 3151)
@@ -0,0 +1,180 @@
+/***************************************************************************
+                          Q_SRT.cpp  -  description
+                             -------------------
+
+    Handle the QT specific part of the fontsize & position dialog box
+    copyright            : (C) 2002/2007 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include <config.h>
+#include <string.h>
+#include <stdio.h>
+#include <math.h>
+
+#define Ui_Dialog Ui_srtDialog
+#include "ui_srt.h"
+#undef Ui_Dialog
+
+#include "default.h"
+#include "ADM_toolkit/toolkit.hxx"
+#include "ADM_image.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_colorspace/ADM_rgb.h"
+#include "ADM_assert.h"
+#include "DIA_flyDialog.h"
+#include "DIA_flyDialogQt4.h"
+
+#include "ADM_video/ADM_vidFont.h"
+#include "ADM_video/ADM_vidSRT.h"
+
+#include "DIA_flySrtPos.h"
+
+//
+//	Video is in YV12 Colorspace
+//
+//
+class Ui_srtWindow : public QDialog
+ {
+     Q_OBJECT
+ protected : 
+    int lock;
+ public:
+     flySrtPos *myCrop;
+     ADM_QCanvas *canvas;
+     Ui_srtWindow(SRT_POS_PARAM *param,AVDMGenericVideoStream *in);
+     ~Ui_srtWindow();
+     Ui_srtDialog ui;
+ public slots:
+      void gather(SRT_POS_PARAM *param);
+      //void update(int i);
+ private slots:
+   void sliderUpdate(int foo);
+   void valueChanged(int foo);
+
+ private:
+     
+ };
+  Ui_srtWindow::Ui_srtWindow(SRT_POS_PARAM *param,AVDMGenericVideoStream *in)
+  {
+    uint32_t width,height;
+        ui.setupUi(this);
+        lock=0;
+        // Allocate space for green-ised video
+        width=in->getInfo()->width;
+        height=in->getInfo()->height;
+        ui.graphicsView->resize(width,height);
+        canvas=new ADM_QCanvas(ui.graphicsView,width,height);
+        
+        myCrop=new flySrtPos( width, height,in,canvas,ui.horizontalSlider);
+        memcpy(&(myCrop->param),param,sizeof(SRT_POS_PARAM));
+        myCrop->_cookie=&ui;
+        myCrop->upload();
+        myCrop->sliderChanged();
+
+        ui.verticalSlider->setMaximum(height-1);
+        
+        connect( ui.horizontalSlider,SIGNAL(valueChanged(int)),this,SLOT(sliderUpdate(int)));
+        connect( ui.verticalSlider,SIGNAL(valueChanged(int)),this,SLOT(valueChanged(int)));
+        connect( ui.spinBox,SIGNAL(valueChanged(int)),this,SLOT(valueChanged(int)));  
+        
+          
+
+  }
+  void Ui_srtWindow::sliderUpdate(int foo)
+  {
+    myCrop->sliderChanged();
+  }
+  void Ui_srtWindow::gather(SRT_POS_PARAM *param)
+  {
+    
+        myCrop->download();
+        memcpy(param,&(myCrop->param),sizeof(SRT_POS_PARAM));
+  }
+Ui_srtWindow::~Ui_srtWindow()
+{
+  if(myCrop) delete myCrop;
+  myCrop=NULL; 
+  if(canvas) delete canvas;
+  canvas=NULL;
+}
+void Ui_srtWindow::valueChanged( int f )
+{
+  if(lock) return;
+  lock++;
+  myCrop->update();
+  lock--;
+}
+
+#define MYSPIN(x) w->x
+#define MYCHECK(x) w->checkBox##x
+//************************
+uint8_t flySrtPos::upload(void)
+{
+      Ui_srtDialog *w=(Ui_srtDialog *)_cookie;
+
+        MYSPIN(spinBox)->setValue(param.fontSize);
+        int32_t max=_h;
+        max-=(SRT_MAX_LINE)*param.fontSize;
+        if(max<0) max=0;
+        if(param.position>=max)
+        {
+          param.position=max;
+        }
+        QSlider  *slide=w->verticalSlider;
+        slide->setValue(param.position);
+        return 1;
+}
+uint8_t flySrtPos::download(void)
+{
+       Ui_srtDialog *w=(Ui_srtDialog *)_cookie;
+         param.fontSize=MYSPIN(spinBox)->value();
+         int32_t max=_h;
+        max-=(SRT_MAX_LINE)*param.fontSize;
+        if(max<0) max=0;
+        
+        QSlider  *slide=w->verticalSlider;
+        param.position=slide->value();
+        
+        if(param.position>=max)
+        {
+          param.position=max;
+          upload();
+        }
+         
+return 1;
+}
+
+/**
+      \fn     DIA_srtPos
+      \brief  Handle srt fontsize/position dialog
+*/
+int DIA_srtPos(AVDMGenericVideoStream *in,uint32_t *size,uint32_t *position)
+{
+        uint8_t ret=0;
+        SRT_POS_PARAM param;
+        param.fontSize=*size;
+        param.position=*position;
+        Ui_srtWindow dialog(&param,in);        
+        if(dialog.exec()==QDialog::Accepted)
+        {
+            dialog.gather(&param);
+            *size=param.fontSize;
+            *position=param.position;
+            ret=1;
+        }
+        return ret;
+}
+//____________________________________
+// EOF
+
+

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-05-26 15:12:41 UTC (rev 3150)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-05-27 09:12:35 UTC (rev 3151)
@@ -79,10 +79,9 @@
 class diaElemButton : public diaElem
 {
   protected:
-    
+  public:
     void            *_cookie;
     ADM_FAC_CALLBACK *_callBack;
-public:
             diaElemButton(const char *toggleTitle, ADM_FAC_CALLBACK *cb,void *cookie,const char *tip=NULL);
   virtual   ~diaElemButton() ;
   void      setMe(void *dialog, void *opaque,uint32_t line);

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flySrtPos.cpp (from rev 3098, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyChromaShift.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyChromaShift.cpp	2007-05-15 15:15:31 UTC (rev 3098)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flySrtPos.cpp	2007-05-27 09:12:35 UTC (rev 3151)
@@ -0,0 +1,66 @@
+/***************************************************************************
+                       FlyDialog for Subtitles
+    copyright            : (C) 2007 Mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include "config.h"
+#ifdef USE_FREETYPE
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+
+#include <math.h>
+#include "default.h"
+#include "ADM_colorspace/ADM_rgb.h"
+#include "ADM_image.h"
+
+#include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_video/ADM_vidFont.h"
+#include "ADM_video/ADM_vidSRT.h"
+
+#include "DIA_flyDialog.h"
+#include "DIA_flySrtPos.h"
+/*********  COMMON PART *********/
+uint8_t    flySrtPos::process(void)
+{
+  uint32_t h;
+        // First copy Y
+        memcpy(_yuvBufferOut->data,_yuvBuffer->data,(_w*_h));
+        // then shift u
+        memcpy(UPLANE(_yuvBufferOut),UPLANE(_yuvBuffer),(_w*_h)/4);
+        memcpy(VPLANE(_yuvBufferOut),VPLANE(_yuvBuffer),(_w*_h)/4);
+        // Mark 
+        h=param.fontSize;
+        if(h>8) h-=4;
+  
+        for(uint32_t line=0;line<SRT_MAX_LINE;line++)
+        {
+                uint8_t *src=YPLANE(_yuvBufferOut)+(param.position+line*param.fontSize)*_w;
+  
+                for(uint32_t y=0;y<h;y+=2)
+                {
+                        memset(src,255,_w);
+                        src+=2*_w;
+                }
+        }
+        return 1;
+}
+uint8_t    flySrtPos::update(void)
+{
+    download();
+    process();
+    _rgb->scale(_yuvBufferOut->data,_rgbBufferOut);
+    display();
+}
+#endif
+//EOF
+

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flySrtPos.h (from rev 3098, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyAsharp.h)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyAsharp.h	2007-05-15 15:15:31 UTC (rev 3098)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flySrtPos.h	2007-05-27 09:12:35 UTC (rev 3151)
@@ -0,0 +1,28 @@
+
+
+#ifndef FLY_SRTPOS_H
+#define FLY_SRTPOS_H
+typedef struct
+{
+    uint32_t fontSize;
+    uint32_t position;
+}SRT_POS_PARAM;
+
+class flySrtPos : public ADM_flyDialog
+{
+  
+  public:
+   SRT_POS_PARAM  param;
+  public:
+   uint8_t    process(void);
+   uint8_t    download(void);
+   uint8_t    upload(void);
+   uint8_t    update(void);
+   flySrtPos (uint32_t width,uint32_t height,AVDMGenericVideoStream *in,
+                                    void *canvas, void *slider) : ADM_flyDialog(width, height,in,canvas, slider,1) 
+                    {
+                      
+                    };
+};
+
+#endif

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp (from rev 3098, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp	2007-05-15 15:15:31 UTC (rev 3098)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp	2007-05-27 09:12:35 UTC (rev 3151)
@@ -0,0 +1,163 @@
+//
+// C++ Implementation: ADM_vidForcedPP
+//
+// Description: 
+//
+//	Force postprocessing assuming constant quant & image type
+//	Uselefull on some badly authored DVD for example
+//
+// Author: mean <fixounet at free.fr>, (C) 2004
+//
+// Copyright: See COPYING file that comes with this distribution
+//
+//
+#include "config.h"
+#ifdef USE_FREETYPE
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include <math.h>
+#include <iconv.h>
+
+#include "default.h"
+#include "ADM_commonUI//GUI_render.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "DIA_flyDialog.h"
+
+#include "ADM_assert.h"
+
+#include "ADM_toolkit/toolkit.hxx"
+
+#include "ADM_userInterfaces/ADM_commonUI/DIA_factory.h"
+#include "ADM_encoder/ADM_vidEncode.hxx"
+#include "ADM_video/ADM_vidFont.h"
+#include "ADM_video/ADM_vidSRT.h"
+#include "ADM_colorspace/colorspace.h"
+/*****************************************************************/
+extern int DIA_colorSel(uint8_t *r, uint8_t *g, uint8_t *b);
+extern int DIA_srtPos(AVDMGenericVideoStream *source,uint32_t *size,uint32_t *position);
+static void colorCallBack(void *cookie);
+static void sizePositionCallback(void *cookie);
+/*****************************************************************/
+typedef struct unicd
+{
+	char *display,*name;
+}unicd;
+
+  static unicd  names[]=
+{
+	{(char *)"Ascii"	,(char *)"ISO-8859-1"},
+	{(char *)"Cyrillic"	,(char *)"WINDOWS-1251"}, // ru
+	{(char *)"Czech"	,(char *)"ISO-8859-2"},	// cz
+	{(char *)"German"	,(char *)"ISO-8859-9"}		// german ?
+	,{(char *)"Slovene"	,(char *)"CP1250"}		// UTF8
+        
+        ,{(char *)"UTF16"	,(char *)"UTF16"}		// UTF8
+	,{(char *)"UTF8"	,(char *)"UTF8"}		// UTF8
+	,{(char *)"Chinese Traditionnal(Big5)"	,(char *)"CP950"}		// UTF8
+	,{(char *)"Chinese Simplified (GB2312)"	,(char *)"CP936"}		// UTF8
+};
+typedef struct 
+{
+  AVDMGenericVideoStream *source;
+  uint32_t               *size;
+  uint32_t               *position;
+}sizePosition;
+
+/**
+      \fn    DIA_srt
+      \brief Dialog to handle srt, generic part
+*/
+uint8_t DIA_srt(AVDMGenericVideoStream *source, SUBCONF *param)
+{
+#define item(x) _(names[x].display)
+#define Mitem(x) {x,item(x)}
+diaMenuEntry encoding[]={
+  Mitem(0),
+  Mitem(1),
+  Mitem(2),
+  Mitem(3),
+  Mitem(4),
+  Mitem(5),
+  Mitem(6),
+  Mitem(7),
+};       
+
+#define PX(x) &(param->x)
+  diaElemFile subtitle(0,(char **)PX(_subname),_("_Subtitle File:"));
+  diaElemFile font(0,(char **)PX(_fontname),_("_Font (TTF):"));
+  int colors[3]={param->_Y_percent,param->_U_percent,param->_V_percent};
+  
+  uint32_t fontSize=param->_fontsize;
+  uint32_t baseLine=param->_baseLine;
+  
+  sizePosition sizePos={source,&fontSize,&baseLine};
+  
+  uint32_t myEncoding=0;
+      // convert internal to display
+      if(param->_charset)
+      for(int i=0;i<sizeof(names)/sizeof(unicd);i++)
+      {
+          if(!strcmp(param->_charset,names[i].name)) myEncoding=i;
+      }
+      diaElemMenu      encodingM(&myEncoding,_("Encoding:"),8,encoding);
+    //  diaElemUInteger  fontSize(PX(_fontsize),_("Font Si_Ze:"),8,120);
+      diaElemButton    color(_("Color"), colorCallBack,&(colors[0]));
+      diaElemButton    setBase(_("_Size and Position"), sizePositionCallback,&sizePos);
+      diaElemToggle    autoSplit(PX(_selfAdjustable),_("_Auto Split:"));
+      diaElemInteger   delay(PX(_delay),_("_Delay (ms):"),-100000,100000);
+         
+      diaElem *tabs[]={&subtitle,&font,&encodingM,&color,&setBase,&autoSplit,&delay};
+      if( diaFactoryRun(_("Subtitles"),7,tabs))
+	{
+          if(param->_charset) ADM_dealloc(param->_charset);
+          param->_charset=ADM_strdup(names[myEncoding].name);
+            param->_Y_percent=colors[0];
+            param->_U_percent=colors[1];
+            param->_V_percent=colors[2];
+            param->_fontsize=fontSize;
+            param->_baseLine=baseLine;
+          return 1;
+        }
+         return 0;
+}
+/**
+      \fn colorCallBack
+      \brief Callback used to select a color
+*/
+void colorCallBack(void *cookie)
+{
+  
+      int32_t *colors=(int32_t *)cookie;
+        
+        uint8_t r,g,b;
+        uint8_t y;
+        int8_t u,v;
+  
+        y=colors[0];
+        u=colors[1];
+        v=colors[2];
+
+        COL_YuvToRgb(   y,  u,  v, &b,&g,&r);
+        if(DIA_colorSel(&r,&g,&b))
+        {
+                COL_RgbToYuv(b,  g,  r, &y, &u,&v);
+                colors[0]=y;
+                if(abs(u)<2) u=0;
+                if(abs(v)<2) v=0;
+                colors[1]=u;
+                colors[2]=v;
+        }
+}
+/**
+      \fn sizePositionCallback
+      \brief Callback used to set size and position
+*/
+void sizePositionCallback(void *cookie)
+{
+    sizePosition *sz=(sizePosition *)cookie;
+    printf("Size and position invoked\n");
+    DIA_srtPos(sz->source,sz->size,sz->position);
+}
+#endif
+// EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-26 15:12:41 UTC (rev 3150)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-05-27 09:12:35 UTC (rev 3151)
@@ -8,8 +8,9 @@
 DIA_audioFilter.cpp DIA_flyDialog.cpp DIA_flyCrop.cpp \
 DIA_flyAsharp.cpp DIA_flyChromaShift.cpp DIA_flyContrast.cpp \
 DIA_flyHue.cpp \
+DIA_flySrtPos.cpp \
 DIA_tdeint.cpp DIA_v2v.cpp \
-DIA_lavDecoder.cpp 
+DIA_lavDecoder.cpp  DIA_srt.cpp
 
 
 INCLUDES = $(all_includes) $(GTK_CFLAGS) $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \



From mean at mail.berlios.de  Sun May 27 11:15:17 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 27 May 2007 11:15:17 +0200
Subject: [Avidemux-svn-commit] r3152 - in
	branches/avidemux_2.4_branch/avidemux: . ADM_video
Message-ID: <200705270915.l4R9FH5i016581@sheep.berlios.de>

Author: mean
Date: 2007-05-27 11:15:17 +0200 (Sun, 27 May 2007)
New Revision: 3152

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidSRT.cpp
   branches/avidemux_2.4_branch/avidemux/Makefile.am
Log:
new dialog for srt subtitles, GTK & QT

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidSRT.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidSRT.cpp	2007-05-27 09:12:35 UTC (rev 3151)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidSRT.cpp	2007-05-27 09:15:17 UTC (rev 3152)
@@ -376,7 +376,8 @@
 	}
 }
 
-uint8_t DIA_srt(ADMImage *source, SUBCONF *param);
+uint8_t DIA_srt(AVDMGenericVideoStream *source, SUBCONF *param);
+    
 uint8_t ADMVideoSubtitle::configure(AVDMGenericVideoStream *instream)
 {
   
@@ -386,13 +387,8 @@
 int charset=0;
 uint32_t l,f;
 
-          ADMImage *sourceImage=new ADMImage(_info.width,_info.height);
-          ADM_assert(instream->getFrameNumberNoAlloc(curframe,
-                                        &l,
-                                        sourceImage,
-                                        &f));
                         
-          if(DIA_srt(	sourceImage,_conf))
+          if(DIA_srt(	instream,_conf))
           {
             printf("\n Font : %s", _conf->_fontname);
             printf("\n Sub  : %s", _conf->_subname);
@@ -420,7 +416,6 @@
                         _conf->_useBackgroundColor);
             ret=1;
         }
-        delete  sourceImage;
         return ret;
 
 }

Modified: branches/avidemux_2.4_branch/avidemux/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/Makefile.am	2007-05-27 09:12:35 UTC (rev 3151)
+++ branches/avidemux_2.4_branch/avidemux/Makefile.am	2007-05-27 09:15:17 UTC (rev 3152)
@@ -25,6 +25,7 @@
 		./ADM_userInterfaces/ADM_GTK/ADM_gui2/libADM_gui2.a	\
 		./ADM_userInterfaces/ADM_GTK/libADM_GTK.a \
 		./ADM_userInterfaces/ADM_GTK/ADM_dialog/libADM_dialog.a	\
+		./ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.o	\
 		./ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/libADM_dialogFactory.a	\
 		./ADM_userInterfaces/ADM_commonUI/libADM_CommonUI.a	\
 		./ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/libADM_dialogFactory.a	\
@@ -44,6 +45,7 @@
 user_interface_qt4 = \
 			./ADM_userInterfaces/ADM_QT4/ADM_gui/libADM_gui2.a	\
 			./ADM_userInterfaces/ADM_QT4/ADM_dialog/libADM_dialog.a	\
+			./ADM_userInterfaces/ADM_QT4/ADM_dialog/AQ_srt.o	\
 			./ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/libADM_dialogFactory.a	\
 			./ADM_userInterfaces/ADM_commonUI/libADM_CommonUI.a	\
 			./ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/libADM_dialogFactory.a	\



From mean at mail.berlios.de  Sun May 27 11:24:37 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 27 May 2007 11:24:37 +0200
Subject: [Avidemux-svn-commit] r3153 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200705270924.l4R9ObTr017480@sheep.berlios.de>

Author: mean
Date: 2007-05-27 11:24:36 +0200 (Sun, 27 May 2007)
New Revision: 3153

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/srt.ui
Log:
associated ui file

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/srt.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/srt.ui	2007-05-27 09:15:17 UTC (rev 3152)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/srt.ui	2007-05-27 09:24:36 UTC (rev 3153)
@@ -0,0 +1,131 @@
+<ui version="4.0" >
+ <class>Dialog</class>
+ <widget class="QDialog" name="Dialog" >
+  <property name="geometry" >
+   <rect>
+    <x>0</x>
+    <y>0</y>
+    <width>608</width>
+    <height>423</height>
+   </rect>
+  </property>
+  <property name="windowTitle" >
+   <string>Subtitle Font Size and Position</string>
+  </property>
+  <layout class="QGridLayout" >
+   <property name="margin" >
+    <number>9</number>
+   </property>
+   <property name="spacing" >
+    <number>6</number>
+   </property>
+   <item row="4" column="2" >
+    <widget class="QDialogButtonBox" name="buttonBox" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="standardButtons" >
+      <set>QDialogButtonBox::Cancel|QDialogButtonBox::NoButton|QDialogButtonBox::Ok</set>
+     </property>
+    </widget>
+   </item>
+   <item row="3" column="2" >
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Vertical</enum>
+     </property>
+     <property name="sizeType" >
+      <enum>QSizePolicy::Ignored</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>20</width>
+       <height>40</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+   <item rowspan="2" row="1" column="3" >
+    <widget class="QSlider" name="verticalSlider" >
+     <property name="orientation" >
+      <enum>Qt::Vertical</enum>
+     </property>
+     <property name="invertedAppearance" >
+      <bool>true</bool>
+     </property>
+     <property name="invertedControls" >
+      <bool>false</bool>
+     </property>
+    </widget>
+   </item>
+   <item row="2" column="0" colspan="3" >
+    <widget class="QGraphicsView" name="graphicsView" />
+   </item>
+   <item row="1" column="0" colspan="3" >
+    <widget class="QSlider" name="horizontalSlider" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+    </widget>
+   </item>
+   <item row="0" column="1" >
+    <widget class="QSpinBox" name="spinBox" />
+   </item>
+   <item row="0" column="0" >
+    <widget class="QLabel" name="label_3" >
+     <property name="text" >
+      <string>Font Size :</string>
+     </property>
+    </widget>
+   </item>
+   <item row="0" column="2" >
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>40</width>
+       <height>20</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+  </layout>
+ </widget>
+ <resources/>
+ <connections>
+  <connection>
+   <sender>buttonBox</sender>
+   <signal>accepted()</signal>
+   <receiver>Dialog</receiver>
+   <slot>accept()</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>248</x>
+     <y>254</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>157</x>
+     <y>274</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>buttonBox</sender>
+   <signal>rejected()</signal>
+   <receiver>Dialog</receiver>
+   <slot>reject()</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>316</x>
+     <y>260</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>286</x>
+     <y>274</y>
+    </hint>
+   </hints>
+  </connection>
+ </connections>
+</ui>



From mean at mail.berlios.de  Sun May 27 11:28:27 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 27 May 2007 11:28:27 +0200
Subject: [Avidemux-svn-commit] r3154 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk
Message-ID: <200705270928.l4R9SRCr017772@sheep.berlios.de>

Author: mean
Date: 2007-05-27 11:28:26 +0200 (Sun, 27 May 2007)
New Revision: 3154

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/gtkmarkscale.c
Log:
JM:new formula for custom widget

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/gtkmarkscale.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/gtkmarkscale.c	2007-05-27 09:24:36 UTC (rev 3153)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/gtkmarkscale.c	2007-05-27 09:28:26 UTC (rev 3154)
@@ -99,10 +99,10 @@
 		GdkGC *gc = gdk_gc_new(widget->window);
 	
 		int width = widget->allocation.width;
-		int start = widget->allocation.x + (int)floor(markA*(width/(float)nbFrames));
-		int end =  widget->allocation.x + (int)floor(markB*(width/(float)nbFrames));
+		int start = widget->allocation.x + (int)floor((width-1)*((float)markA/(nbFrames-1)));
+		int end =  widget->allocation.x + (int)floor((width-1)*((float)markB/(nbFrames-1)));
 		int top = widget->allocation.y + 1;
-		int bottom = widget->allocation.y + widget->allocation.height - 1;
+		int bottom = widget->allocation.y + widget->allocation.height - 2;
 		
 	//mark A:
 		gdk_draw_line (widget->window,



From mean at mail.berlios.de  Sun May 27 12:33:08 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 27 May 2007 12:33:08 +0200
Subject: [Avidemux-svn-commit] r3155 -
	branches/avidemux_2.4_branch/avidemux/ADM_script
Message-ID: <200705271033.l4RAX8JT027989@sheep.berlios.de>

Author: mean
Date: 2007-05-27 12:33:07 +0200 (Sun, 27 May 2007)
New Revision: 3155

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSAvidemuxVideo.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSGlobal.cpp
Log:
run garbage collector after script has been ran

Modified: branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSAvidemuxVideo.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSAvidemuxVideo.cpp	2007-05-27 09:28:26 UTC (rev 3154)
+++ branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSAvidemuxVideo.cpp	2007-05-27 10:33:07 UTC (rev 3155)
@@ -243,8 +243,10 @@
         if(JSVAL_IS_STRING(argv[0]) == false || JSVAL_IS_STRING(argv[1]) == false  || JSVAL_IS_STRING(argv[2]) == false)
                 return JS_FALSE;
         
-
-                printf("Valid codec conf %s found.\n",JS_GetStringBytes(JSVAL_TO_STRING(argv[2])));
+                printf("[codec]%s\n",JS_GetStringBytes(JSVAL_TO_STRING(argv[0])));
+                printf("[conf ]%s\n",JS_GetStringBytes(JSVAL_TO_STRING(argv[1])));
+                printf("[xtra ]%s\n",JS_GetStringBytes(JSVAL_TO_STRING(argv[2])));
+                
                 char *codec,*conf,*codecConfString;
                 codec = JS_GetStringBytes(JSVAL_TO_STRING(argv[0]));
                 conf = JS_GetStringBytes(JSVAL_TO_STRING(argv[1]));

Modified: branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSGlobal.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSGlobal.cpp	2007-05-27 09:28:26 UTC (rev 3154)
+++ branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSGlobal.cpp	2007-05-27 10:33:07 UTC (rev 3155)
@@ -144,6 +144,8 @@
 		JS_DestroyScript(g_pCx,pJSScript);
 		printf("Done.\n");
 	}// end execute external file
+        // Run garbage collector now, it is safe
+        JS_GC(g_pCx);
 	A_Resync();
 	return g_bJSSuccess;
 }// end parseECMAScript



From mean at mail.berlios.de  Sun May 27 12:33:46 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 27 May 2007 12:33:46 +0200
Subject: [Avidemux-svn-commit] r3156 -
	branches/avidemux_2.4_branch/avidemux/ADM_encoder
Message-ID: <200705271033.l4RAXkN3029507@sheep.berlios.de>

Author: mean
Date: 2007-05-27 12:33:45 +0200 (Sun, 27 May 2007)
New Revision: 3156

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encConfig.cpp
Log:
typo

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encConfig.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encConfig.cpp	2007-05-27 10:33:07 UTC (rev 3155)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encConfig.cpp	2007-05-27 10:33:45 UTC (rev 3156)
@@ -266,7 +266,7 @@
 	}
       if (equal == 0xfff)
 	{
-	  printf ("\n I did not understand the args for video conf.\n");
+	  printf ("\n I did not understood the args for video conf.\n");
 	  return 0;
 	}
       go = cs + equal + 1;



From mean at mail.berlios.de  Sun May 27 20:44:35 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Sun, 27 May 2007 20:44:35 +0200
Subject: [Avidemux-svn-commit] r3157 - in branches/avidemux_2.4_branch: .
 avidemux avidemux/ADM_audio avidemux/ADM_audiocodec
 avidemux/ADM_audiodevice avidemux/ADM_audiofilter avidemux/ADM_codecs
 avidemux/ADM_colorspace avidemux/ADM_editor avidemux/ADM_encoder
 avidemux/ADM_filter avidemux/ADM_inputs avidemux/ADM_inputs/ADM_asf
 avidemux/ADM_inputs/ADM_avsproxy avidemux/ADM_inputs/ADM_h263
 avidemux/ADM_inputs/ADM_inpics avidemux/ADM_inputs/ADM_matroska
 avidemux/ADM_inputs/ADM_mp4 avidemux/ADM_inputs/ADM_mpegdemuxer
 avidemux/ADM_inputs/ADM_nuv avidemux/ADM_inputs/ADM_ogm
 avidemux/ADM_inputs/ADM_openDML avidemux/ADM_libraries avidemux/ADM_ocr
 avidemux/ADM_osSupport avidemux/ADM_requant avidemux/ADM_script
 avidemux/ADM_toolkit avidemux/ADM_userInterfaces
 avidemux/ADM_userInterfaces/ADM_NONE
 avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog
 avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory
 avidemux/ADM_userInterfaces/ADM_NONE/ADM_filters
 avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2 avidemux/ADM_use!
 rInterfaces/ADM_commonUI avidemux/ADM_video avidemux/ADM_videoFilter po
Message-ID: <200705271844.l4RIiZ0Y024565@sheep.berlios.de>

Author: mean
Date: 2007-05-27 20:44:33 +0200 (Sun, 27 May 2007)
New Revision: 3157

Added:
   branches/avidemux_2.4_branch/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_audio/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_codecs/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_colorspace/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_editor/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_filter/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_avsproxy/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_h263/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_ogm/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_ocr/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_osSupport/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_requant/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_script/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_toolkit/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_filters/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_video/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
   branches/avidemux_2.4_branch/po/CMakeLists.txt
Log:
added first batch of cmake makefiles

Added: branches/avidemux_2.4_branch/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,91 @@
+##########################################################
+# main cmake file for avidemux
+# Derived from the one available in sim-im & kde4
+##########################################################
+PROJECT(Avidemux2)
+CMAKE_MINIMUM_REQUIRED(VERSION 2.4.4)
+SET(CMAKE_COLOR_MAKEFILE ON)
+
+# where to look first for cmake modules, before ${CMAKE_ROOT}/Modules/ is checked
+SET(CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/cmake")
+
+include(UsePkgConfig)
+include(MacroEnsureOutOfSourceBuild)
+
+include(Po)
+include(CheckCXXCompilerFlag)
+include(lavcodec)
+include(FindLibXml2)
+#**************************************************
+# libxml2
+#**************************************************
+if(NOT LIBXML2_FOUND)
+  MESSAGE(FATAL_ERROR "Could not find Libxml2")
+endif(NOT LIBXML2_FOUND)
+SET(LIBXML2_DEFINITIONS,${LIBXML2_DEFINITIONS})
+SET(LIBXML2_INCLUDE_DIR,${LIBXML2_INCLUDE_DIR})
+#**************************************************
+# PKG Config
+#**************************************************
+if(NOT PKGCONFIG_EXECUTABLE)
+             MESSAGE(FATAL_ERROR "Could not find pkg-config")
+endif(NOT PKGCONFIG_EXECUTABLE)
+#**************************************************
+# Search for  X11 (not on windows)
+#**************************************************
+if(NOT WIN32)
+        MESSAGE("Checking for X11")
+        include(FindX11)
+        if(NOT X11_FOUND)
+             MESSAGE(FATAL_ERROR "Could not find X11")
+        endif(NOT X11_FOUND)
+endif(NOT WIN32)
+#**************************************************
+# Search for GLIB through PKG-Config
+#**************************************************
+MESSAGE("Checking for GLIB")
+PKGCONFIG(glib-2.0 GLIB_INCLUDE GLIB_LIB GLIB_LDFLAGS GLIB_CFLAGS)
+
+IF(NOT GLIB_INCLUDE)
+    MESSAGE("Could not find GLIB - cannot compile avidemux2_gtk here")
+ELSE(NOT GLIB_INCLUDE)
+    SET(GLIB_FOUND,TRUE)
+    SET(GLIB_CFLAGS,${GLIB_CFLAGS})
+    MESSAGE("GLIB Found ("${GLIB_CFLAGS}")")
+ENDIF(NOT GLIB_INCLUDE)
+#**************************************************
+# Search for GTK through PKG-Config
+#**************************************************
+MESSAGE("Checking for GTK")
+PKGCONFIG(gtk+-2.0 GTK_INCLUDE GTK_LIB GTK_LDFLAGS GTK_CFLAGS)
+
+IF(NOT GTK_CFLAGS)
+    MESSAGE("Could not find GTK - cannot compile avidemux2_gtk here")
+ELSE(NOT GTK_CFLAGS)
+    SET(GTK_FOUND,TRUE)
+    MESSAGE("GTK Found")
+ENDIF(NOT GTK_CFLAGS)
+#**************************************************
+# Search for QT4 
+#**************************************************
+MESSAGE("Checking for QT4")
+include(FindQt4)
+
+# do config checks
+include(ConfigureChecks.cmake)
+
+# create config.h
+CONFIGURE_FILE(config.h.cmake ${CMAKE_CURRENT_BINARY_DIR}/config.h)
+#
+include_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR} ${CMAKE_CURRENT_BINARY_DIR}/avidemux ${CMAKE_CURRENT_BINARY_DIR}/avidemux/ADM_libraries)
+include_directories(${CMAKE_CURRENT_BINARY_DIR}/avidemux/ADM_libraries/ADM_utilities/ ${CMAKE_CURRENT_BINARY_DIR}/avidemux/ADM_libraries/ADM_lavutil)
+include_directories(${CMAKE_CURRENT_BINARY_DIR}/avidemux/ADM_libraries/ADM_lavcodec  )
+SET_LAVCODEC_FLAGS()
+#**********************************************
+# Some CFLAGS
+#**********************************************
+add_definitions (-D_FILE_OFFSET_BITS=64 -D_LARGE_FILES)
+add_definitions( -DHAVE_CONFIG_H )
+
+ADD_SUBDIRECTORY(avidemux)
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_audio/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audio/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audio/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,4 @@
+
+SET(ADM_audio_SRCS ADM_a52info.cpp  ADM_dcainfo.cpp  audioac3ex.cpp  audiomp3ex.cpp          audio_packetizer.cpp  audiotimeline.cpp
+ADM_aacinfo.cpp  ADM_mp3info.cpp  audiogen.cpp    audio_mpegidentify.cpp  audiosource_ext.cpp   audiowavex.cpp)
+ADD_LIBRARY(ADM_audio STATIC ${ADM_audio_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiocodec/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,4 @@
+
+SET(ADM_audiocodec_SRCS ADM_8bits.cpp       ADM_codecac3.cpp   ADM_codecimaadpcm.cpp  ADM_codeculaw.cpp  ADM_codecwma.cpp  ADM_lpcm.cpp
+ADM_audiocodec.cpp  ADM_codecfaad.cpp  ADM_codecmp3.cpp       ADM_codecwav.cpp   ADM_dca.cpp       audiocodec_ogg.cpp)
+ADD_LIBRARY(ADM_audiocodec STATIC ${ADM_audiocodec_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiodevice/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,5 @@
+
+SET(ADM_audiodevice_SRCS 
+ADM_audiodevice.cpp  ADM_deviceArts.cpp       ADM_deviceEsd.cpp  ADM_deviceSDL.cpp    oss_out.cpp
+ADM_deviceALSA.cpp   ADM_deviceAudioCore.cpp  ADM_deviceoss.cpp  ADM_deviceWin32.cpp)
+ADD_LIBRARY(ADM_audiodevice STATIC ${ADM_audiodevice_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,8 @@
+
+SET(ADMaudiofilter_SRCS 
+audiodeng_buildfilters.cpp  audioencoder_lavcodec.cpp  audioeng_process.cpp           audiofilter_film2pal.cpp   audiolib_sox.cpp
+audioencoder_aften.cpp      audioencoder_pcm.cpp       audiofilter_bridge.cpp         audiofilter_limiter.cpp    audio_raw.cpp
+audioencoder.cpp            audioencoder_twolame.cpp   audiofilter_buildchain.cpp     audiofilter_mixer.cpp
+audioencoder_faac.cpp       audioencoder_vorbis.cpp    audiofilter_channel_route.cpp  audiofilter_normalize.cpp
+audioencoder_lame.cpp       audioeng_buff.cpp          audiofilter_dolby.cpp          audiofilter_sox.cpp)
+ADD_LIBRARY(ADM_audiofilter STATIC ${ADMaudiofilter_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_codecs/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_codecs/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_codecs/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,5 @@
+
+SET(ADM_codecs_SRCS 
+ADM_codecs.cpp  ADM_ffmpeg.cpp  ADM_mjpegEncode.cpp  ADM_png.cpp    ADM_theora_dec.cpp  ADM_x264.cpp   ADM_xvid.cpp     ADM_xvideco.cpp
+ADM_ffmp43.cpp  ADM_mjpeg.cpp   ADM_mpeg.cpp         ADM_rgb16.cpp  ADM_uyvy.cpp        ADM_xvid4.cpp  ADM_xvidcvs.cpp)
+ADD_LIBRARY(ADM_codecs STATIC ${ADM_codecs_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_colorspace/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_colorspace/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_colorspace/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,3 @@
+
+SET(ADM_colorspace_SRCS ADM_rgb.cpp  rgb2yuv.cpp  yuv.cpp)
+ADD_LIBRARY(ADM_colorspace STATIC ${ADM_colorspace_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_editor/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_editor/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_editor/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,4 @@
+
+SET(ADM_editor_SRCS ADM_edAudio.cpp  ADM_edCache.cpp      ADM_edIdentify.cpp  ADM_edLoadSave.cpp  ADM_edSearch.cpp  ADM_Video.cpp
+ADMedAVIAUD.cpp  ADM_edFrameType.cpp  ADM_edit.cpp        ADM_edRender.cpp    ADM_edStub.cpp)
+ADD_LIBRARY(ADM_editor STATIC ${ADM_editor_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_encoder/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,5 @@
+
+SET(ADM_encoder_SRCS 
+adm_encConfig.cpp  adm_encdivx2p.cpp  adm_encffmpeg1.cpp  adm_encmjpeg.cpp     adm_encoder.cpp     adm_encx264.cpp   adm_encxvid.cpp
+adm_encCopy.cpp    adm_encdivx.cpp    adm_encffmpeg.cpp   adm_encmpeg2enc.cpp  adm_encRequant.cpp  adm_encXvid4.cpp  adm_encyv12.cpp)
+ADD_LIBRARY(ADM_encoder STATIC ${ADM_encoder_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_filter/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_filter/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_filter/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,10 @@
+
+SET(ADM_filter_SRCS ADM_vidDummyFilter.cpp  filter.cpp  filter_declaration.cpp  filter_dylib.cpp  filter_saveload.cpp  vidVCD.cpp)
+
+
+add_definitions(${LIBXML2_DEFINITIONS})
+include_directories(${LIBXML2_INCLUDE_DIR})
+
+
+
+ADD_LIBRARY(ADM_filter STATIC ${ADM_filter_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,4 @@
+
+SET(ADM_asf_SRCS 
+ADM_asf_audio.cpp  ADM_asfChunk.cpp  ADM_asf.cpp  ADM_asfPacket.cpp)
+ADD_LIBRARY(ADM_asf STATIC ${ADM_asf_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_avsproxy/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_avsproxy/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_avsproxy/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,5 @@
+
+SET(ADM_avsproxy_SRCS 
+ADM_avsproxy.cpp  ADM_avsproxy_net.cpp)
+ADD_LIBRARY(ADM_avsproxy STATIC ${ADM_avsproxy_SRCS})
+include_directories(..)

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_h263/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_h263/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_h263/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,5 @@
+
+SET(ADM_h263_SRCS 
+ADM_h263.cpp  ADM_mp4.cpp  bitsRead.cpp)
+ADD_LIBRARY(ADM_h263 STATIC ${ADM_h263_SRCS})
+include_directories(..)

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,5 @@
+
+SET(ADM_inpics_SRCS 
+ADM_pics.cpp)
+ADD_LIBRARY(ADM_inpics STATIC ${ADM_inpics_SRCS})
+include_directories(..)

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_matroska/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,4 @@
+
+SET(ADM_matroska_SRCS 
+ADM_mkv_audio.cpp  ADM_mkv.cpp  ADM_mkvEntries.cpp  ADM_mkvIndexer.cpp  ADM_mkvTrackType.cpp  ebml.cpp  mkv_tags.cpp)
+ADD_LIBRARY(ADM_matroska STATIC ${ADM_matroska_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,4 @@
+
+SET(ADM_mp4_SRCS 
+ADM_atom.cpp  ADM_infoextractor.cpp  ADM_mp4Analyzer.cpp  ADM_mp4audio.cpp  ADM_mp4.cpp  ADM_mp4Indexer.cpp  ADM_mp4Leaf.cpp)
+ADD_LIBRARY(ADM_mp4 STATIC ${ADM_mp4_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mpegdemuxer/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,6 @@
+
+SET(ADM_mpegdemuxer_SRCS 
+dmx_audio.cpp    dmx_demuxerES.cpp     dmx_demuxerPS.cpp  dmx_identify.cpp  dmx_indexer_h264.cpp   dmx_io.cpp     dmx_probeTS.cpp
+dmx_demuxer.cpp  dmx_demuxerMSDVR.cpp  dmx_demuxerTS.cpp  dmx_indexer.cpp   dmx_indexer_mpeg2.cpp  dmx_probe.cpp  dmx_video.cpp)
+ADD_LIBRARY(ADM_mpegdemuxer STATIC ${ADM_mpegdemuxer_SRCS})
+include_directories(..)

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,6 @@
+
+SET(ADM_nuv_SRCS 
+ADM_nuvAudio.cpp  ADM_nuv.cpp  RTjpegN.cpp  RToldformat.cpp)
+ADD_LIBRARY(ADM_nuv STATIC ${ADM_nuv_SRCS})
+include_directories(..)
+include_directories(../../ADM_userInterfaces/ADM_commonUI)

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_ogm/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_ogm/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_ogm/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,5 @@
+
+SET(ADM_ogm_SRCS 
+ADM_ogmAudio.cpp  ADM_ogm.cpp  ADM_ogmpages.cpp  ADM_ogmreorder.cpp)
+ADD_LIBRARY(ADM_ogm STATIC ${ADM_ogm_SRCS})
+include_directories(..)

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_openDML/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,8 @@
+
+SET(ADM_openDML_SRCS 
+ADM_odml_audio.cpp  ADM_odml_regular.cpp  ADM_openDMLDepack.cpp    ADM_opendml_reorder.cpp
+ADM_odml_odml.cpp   ADM_openDML.cpp       ADM_opendml_reindex.cpp  ADM_riff.cpp)
+ADD_LIBRARY(ADM_openDML STATIC ${ADM_openDML_SRCS})
+include_directories(..)
+include_directories(../../ADM_userInterfaces/ADM_commonUI)
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_inputs/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,12 @@
+add_subdirectory(ADM_asf)
+add_subdirectory(ADM_avsproxy)
+add_subdirectory(ADM_h263)
+add_subdirectory(ADM_inpics)
+add_subdirectory(ADM_matroska)
+add_subdirectory(ADM_mpegdemuxer)
+add_subdirectory(ADM_nuv)
+add_subdirectory(ADM_ogm)
+add_subdirectory(ADM_openDML)
+
+
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,16 @@
+add_subdirectory(ADM_lavcodec)
+add_subdirectory(ADM_lavformat)
+add_subdirectory(ADM_lavutil)
+add_subdirectory(ADM_liba52)
+add_subdirectory(ADM_libass)
+add_subdirectory(ADM_libMad)
+add_subdirectory(ADM_libMpeg2Dec)
+add_subdirectory(ADM_libmpeg2enc)
+add_subdirectory(ADM_libswscale)
+add_subdirectory(ADM_libtwolame)
+add_subdirectory(ADM_libwrapper)
+add_subdirectory(ADM_lvemux)
+add_subdirectory(ADM_mplex)
+add_subdirectory(ADM_smjs)
+add_subdirectory(ADM_utilities)
+add_subdirectory(ADM_xvidratectl)

Added: branches/avidemux_2.4_branch/avidemux/ADM_ocr/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_ocr/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_ocr/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,4 @@
+
+SET(ADM_ocr_SRCS 
+adm_glyph.cpp  adm_leftturn.cpp  ADM_vob2vobsub.cpp)
+ADD_LIBRARY(ADM_ocr STATIC ${ADM_ocr_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_osSupport/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_osSupport/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_osSupport/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,7 @@
+
+SET(ADM_osSupport_SRCS 
+ADM_cpuCap.cpp     ADM_debug.cpp   ADM_memcpy.cpp  ADM_memsupport.cpp  ADM_queue.cpp  ADM_threads.cpp  win32.cpp
+ADM_crashdump.cpp  ADM_fileio.cpp  ADM_memory.cpp  ADM_misc.cpp        ADM_quota.cpp  TLK_clock.cpp)
+
+ADD_LIBRARY(ADM_osSupport STATIC ${ADM_osSupport_SRCS})
+add_definitions(${LIBXML2_DEFINITIONS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_requant/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_requant/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_requant/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,3 @@
+
+SET(ADM_requant_SRCS tcrequant.c)
+ADD_LIBRARY(ADM_requant STATIC ${ADM_requant_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_script/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_script/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_script/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,8 @@
+
+SET(ADM_script_SRCS 
+ADM_AvidemuxAudio.cpp  ADM_AvidemuxVideo.cpp    ADM_JSAvidemux.cpp       ADM_JSDirectorySearch.cpp  ADM_JSGlobal.cpp
+ADM_Avidemux.cpp       ADM_JSAvidemuxAudio.cpp  ADM_JSAvidemuxVideo.cpp  ADM_JSFunctions.cpp        DirectorySearch.cpp
+)
+ADD_LIBRARY(ADM_script STATIC ${ADM_script_SRCS})
+add_definitions(-DJS_THREADSAFE -DXP_UNIX)
+INCLUDE_DIRECTORies(../ADM_libraries/ADM_smjs)
\ No newline at end of file

Added: branches/avidemux_2.4_branch/avidemux/ADM_toolkit/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_toolkit/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_toolkit/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,4 @@
+
+SET(ADM_toolkit_SRCS 
+ADM_audioQueue.cpp  ADM_intfloat.cpp  ADM_packetQueue.cpp  automation.cpp  filesel.cpp)
+ADD_LIBRARY(ADM_toolkit STATIC ${ADM_toolkit_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,7 @@
+include_directories(../../ADM_commonUI)
+include_directories(../../../ADM_inputs)
+
+SET(ADM_dialogNone_SRCS 
+alert_none.cpp  DIA_busy.cpp  DIA_encoding.cpp  DIA_flyDialog.cpp  DIA_indexing.cpp  DIA_none.cpp  DIA_working.cpp  OCR_none.cpp
+)
+ADD_LIBRARY(ADM_dialogNone STATIC ${ADM_dialogNone_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,6 @@
+include_directories(../../)
+
+SET(ADM_dialogFactoryNone_SRCS 
+DIA_dialogFactory.cpp  FAC_toggle.cpp
+)
+ADD_LIBRARY(ADM_dialogFactoryNone STATIC ${ADM_dialogFactoryNone_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_filters/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_filters/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_filters/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,4 @@
+
+SET(ADM_filtersNone_SRCS filter_none.cpp)
+ADD_LIBRARY(ADM_filtersNone STATIC ${ADM_filtersNone_SRCS})
+include_directories(../ADM_commonUI)

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,6 @@
+include_directories(../../ADM_commonUI)
+
+SET(ADM_guiNone_SRCS 
+file_none.cpp  gui_none.cpp  preview_none.cpp
+)
+ADD_LIBRARY(ADM_guiNone STATIC ${ADM_guiNone_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,5 @@
+add_subdirectory(ADM_dialog)
+add_subdirectory(ADM_dialogFactory)
+add_subdirectory(ADM_filters)
+add_subdirectory(ADM_gui2)
+include_directories(../ADM_commonUI)

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,10 @@
+
+SET(ADM_commonUI_SRCS 
+DIA_audioconfig.cpp   DIA_DVDff.cpp           DIA_flyContrast.cpp  DIA_flySrtPos.cpp   DIA_mjpeg.cpp     DIA_resizeWiz.cpp  DIA_v2v.cpp
+DIA_audioFilter.cpp   DIA_enter.cpp           DIA_flyCrop.cpp      DIA_gototime.cpp    DIA_postproc.cpp  DIA_srt.cpp        GUI_render.cpp
+DIA_bitrateHisto.cpp  DIA_flyAsharp.cpp       DIA_flyDialog.cpp    DIA_lavcodec.cpp    DIA_prefs.cpp     DIA_SVCD.cpp       GUI_sdlRender.cpp
+DIA_builtin.cpp       DIA_flyChromaShift.cpp  DIA_flyHue.cpp       DIA_lavDecoder.cpp  DIA_requant.cpp   DIA_tdeint.cpp     GUI_xvRender.cpp
+)
+
+ADD_LIBRARY(ADM_commonUI STATIC ${ADM_commonUI_SRCS})
+include_directories(./..)

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,8 @@
+#if(QT4_FOUND)
+#add_subdirectory(ADM_QT4)
+#endifif(QT4_FOUND)
+
+add_subdirectory(ADM_NONE)
+add_subdirectory(ADM_commonUI)
+
+include_directories(ADM_commonUI)

Added: branches/avidemux_2.4_branch/avidemux/ADM_video/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,10 @@
+SET(ADM_video_SRCS 
+ADM_cache.cpp            ADM_resizebis.cpp       ADM_vidCNR2.cpp       ADM_vidFieldUnblend.cpp  ADM_vidPartial.cpp    ADM_vidTdeint.cpp
+ADM_confCouples.cpp      ADM_resizeter.cpp       ADM_vidColorYuv.cpp   ADM_vidFieldUtil.cpp     ADM_vidRaw.cpp        ADM_vidUnblend.cpp
+ADM_genvideo.cpp         ADM_vidAnimated.cpp     ADM_vidContrast.cpp   ADM_vidFont.cpp          ADM_vidResize25.cpp   ADM_vidVobsub.cpp
+ADM_guiResize.cpp        ADM_vidAsharp.cpp       ADM_vidCrop.cpp       ADM_vidHue.cpp           ADM_vidResize.cpp     ADM_vidVobSubRender.cpp
+ADM_interlaced.cpp       ADM_vidCached.cpp       ADM_vidDelta.cpp      ADM_vidMPdelogo.cpp      ADM_vidSRT.cpp        ADM_vobsubinfo.cpp
+ADM_mpdetc.cpp           ADM_vidChromaShift.cpp  ADM_vidEq2.cpp        ADM_vidMPLResize.cpp     ADM_vidSRTload.cpp
+ADM_vidClean.cpp        ADM_vidEqualizer.cpp  ADM_vidNull.cpp          ADM_vidSRTRender.cpp
+)
+ADD_LIBRARY(ADM_video STATIC ${ADM_video_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,12 @@
+
+SET(ADM_videoFilter_SRCS 
+ADM_lavpp_deint.cpp      ADM_vidDecTelecide.cpp      ADM_vidFields.cpp           ADM_vidMcDeint.cpp    ADM_vidPulldown.cpp       ADM_vidSwapSmart.cpp
+ADM_vidAddBorder.cpp     ADM_vidDeintASM.cpp         ADM_vidFlipV.cpp            ADM_vidMosaic.cpp     ADM_vidResampleFPS.cpp    ADM_vidUVSwap.cpp
+ADM_vidASS.cpp           ADM_vidDeinterlace.cpp      ADM_vidFlux.cpp             ADM_vidMPLD3D.cpp     ADM_vidReverse.cpp        ADM_vidVlad.cpp
+ADM_vidBlend.cpp         ADM_vidDenoise.cpp          ADM_vidForcedPP.cpp         ADM_vidMPLD3Dlow.cpp  ADM_vidRotate.cpp         ADM_vidWhirl.cpp
+ADM_vidBlendRemoval.cpp  ADM_vidDGbob.cpp            ADM_vidHardIvtcRemoval.cpp  ADM_vidMSharpen.cpp   ADM_vidSeparateField.cpp  ADM_vidYadif.cpp
+ADM_vidBSmear.cpp        ADM_vidDropOut.cpp          ADM_vidKernelDeint.cpp      ADM_vidMsmooth.cpp    ADM_vidSoften.cpp
+ADM_vidChroma.cpp        ADM_vidFade.cpp             ADM_vidLargeMedian.cpp      ADM_vidPalShift.cpp   ADM_vidStabilize.cpp
+ADM_vidDecDec.cpp        ADM_vidFastConvolution.cpp  ADM_vidLuma.cpp             ADM_vidPalSmart.cpp   ADM_vidSwapFields.cpp
+)
+ADD_LIBRARY(ADM_videoFilter STATIC ${ADM_videoFilter_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,97 @@
+INCLUDE(Po)
+MESSAGE("GTK:"${GTK_CFLAGS}"GLIB:"${GLIB_CFLAGS})
+
+SET(adm_EXE_SRCS ADM_preview.cpp  gtk_gui.cpp  gui_autodrive.cpp  GUI_jobs.cpp  gui_navigate.cpp  guiplay.cpp  gui_savenew.cpp  main.cpp )
+COMPILE_PO_FILES(${CMAKE_SOURCE_DIR}/po adm_EXE_SRCS)
+
+
+
+SET(ADM_SUBDIR ADM_audiocodec ADM_audiodevice ADM_audiofilter ADM_codecs ADM_colorspace ADM_editor ADM_encoder ADM_filter   ADM_ocr ADM_osSupport  ADM_requant ADM_script ADM_toolkit  ADM_video ADM_videoFilter)
+#ADM_inputs ADM_outputs
+
+ADD_EXECUTABLE(avidemux2_cli ${adm_EXE_SRCS} )
+
+########################################################
+# Custom Rule to force evaluation if *INPUT* SUBDIR*
+########################################################
+
+# add_subdirectory(ADM_inputs)
+# SET(ADM_INPUT_SUBDIR 
+# ADM_asf
+# ADM_avsproxy
+# ADM_h263
+# ADM_inpics
+# ADM_matroska
+# ADM_mp4
+# ADM_mpegdemuxer
+# ADM_nuv
+# ADM_ogm
+# ADM_openDML
+# )
+# FOREACH(_current ${ADM_INPUT_SUBDIR})
+# 
+# ADD_CUSTOM_TARGET(  ADM_buildInput ALL
+#                     COMMAND make
+#                     DEPENDS 
+#                     WORKING_DIRECTORY ${CMAKE_SOURCE_DIR}/avidemux/ADM_inputs
+#                     COMMENT "Building inputs")
+# 
+# ENDFOREACH(_current ${ADM_SUBDIR})
+# 
+# add_subdirectory(ADM_userInterfaces)
+########################################################
+# Custom Rule to force evaluation if *CommonUI*
+########################################################
+# add_subdirectory(ADM_userInterfaces/ADM_commonUI)
+# 
+# 
+# add_subdirectory(ADM_userInterfaces/ADM_commonUI)
+# ADD_CUSTOM_TARGET(  ADM_buildInput ALL
+#                     COMMAND make
+#                     DEPENDS 
+#                     WORKING_DIRECTORY ${CMAKE_SOURCE_DIR}/avidemux/ADM_userInterfaces/ADM_commonUI
+#                     COMMENT "Building commonUI")
+
+########################################################
+# Custom Rule to force evaluation if *None UI*
+########################################################
+
+# add_subdirectory(ADM_userInterfaces/ADM_NONE)
+# SET(ADM_NONE_SUBDIR 
+# ADM_dialog
+# ADM_dialogFactory
+# ADM_filters
+# ADM_gui2
+# )
+# FOREACH(_current ${ADM_NONE_SUBDIR})
+# 
+# ADD_CUSTOM_TARGET(  ADM_buildInput ALL
+#                     COMMAND make
+#                     DEPENDS 
+#                     WORKING_DIRECTORY ${CMAKE_SOURCE_DIR}/avidemux/ADM_userInterfaces/ADM_NONE/${_current}
+#                     COMMENT "Building NONE")
+# 
+# ENDFOREACH(_current ${ADM_NONE_SUBDIR})
+
+
+# ** User interfaces **
+
+add_definitions(${GLIB_CFLAGS})
+
+include_directories(ADM_userInterfaces/ADM_commonUI)
+include_directories(ADM_inputs)
+include_directories(ADM_outputs)
+
+FOREACH(_current ${ADM_SUBDIR})
+add_subdirectory(${_current})
+ENDFOREACH(_current ${ADM_SUBDIR})
+
+
+
+FOREACH(_current ${ADM_SUBDIR})
+TARGET_LINK_LIBRARIES(avidemux2_cli ${_current})
+ENDFOREACH(_current ${ADM_SUBDIR})
+
+
+
+

Added: branches/avidemux_2.4_branch/po/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/po/CMakeLists.txt	2007-05-27 10:33:45 UTC (rev 3156)
+++ branches/avidemux_2.4_branch/po/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
@@ -0,0 +1,100 @@
+# a small macro to create mo files out of po's
+# Taken from sim-im.org
+
+MACRO(FIND_MSGFMT)
+    IF(NOT MSGFMT_EXECUTABLE)
+        IF(NOT MSGFMT_NOT_FOUND)
+            IF(WIN32)
+              SET(MSGFMT_NAME "msg2qm")
+            ELSE(WIN32)
+              SET(MSGFMT_NAME "msgfmt")
+            ENDIF(WIN32)
+            FIND_PROGRAM(MSGFMT_EXECUTABLE ${MSGFMT_NAME})
+
+            IF (NOT MSGFMT_EXECUTABLE)
+                SET(MSGFMT_NAME "msgfmt")
+                FIND_PROGRAM(MSGFMT_EXECUTABLE ${MSGFMT_NAME})
+            ENDIF(NOT MSGFMT_EXECUTABLE)
+
+            IF (NOT MSGFMT_EXECUTABLE)
+              MESSAGE(FATAL_ERROR "${MSGFMT_NAME} not found - po files can't be processed")
+              SET(MSGFMT_NOT_FOUND "1")     # to avoid double checking in one cmake run
+            ENDIF (NOT MSGFMT_EXECUTABLE)
+
+            MARK_AS_ADVANCED(MSGFMT_EXECUTABLE)
+        ENDIF(NOT MSGFMT_NOT_FOUND)
+    ENDIF(NOT MSGFMT_EXECUTABLE)
+ENDMACRO(FIND_MSGFMT)
+
+MACRO(COMPILE_PO_FILES po_subdir _sources)
+    FIND_MSGFMT()
+
+    IF(MSGFMT_EXECUTABLE)
+        FILE(GLOB po_files ${po_subdir}/*.po)
+
+        FOREACH(po_input ${po_files})
+
+            GET_FILENAME_COMPONENT(_in       ${po_input} ABSOLUTE)
+            GET_FILENAME_COMPONENT(_basename ${po_input} NAME_WE)
+
+            IF(WIN32)
+                FILE(MAKE_DIRECTORY ${CMAKE_BINARY_DIR}/${CMAKE_BUILD_TYPE}/po)
+                GET_FILENAME_COMPONENT(_out ${CMAKE_BINARY_DIR}/${CMAKE_BUILD_TYPE}/po/${_basename}.qm ABSOLUTE)
+                FILE(TO_NATIVE_PATH ${_in}  _in_native)
+                FILE(TO_NATIVE_PATH ${_out} _out_native)
+                GET_FILENAME_COMPONENT(_tmp ${MSGFMT_EXECUTABLE} NAME_WE)
+
+                IF("${_tmp}" STREQUAL "msg2qm")
+                    ADD_CUSTOM_COMMAND(
+                        OUTPUT ${_out}
+                        COMMAND ${CMAKE_COMMAND}
+                            -E echo
+                            "Generating" ${_out_native} "from" ${_in_native}
+                        COMMAND ${MSGFMT_EXECUTABLE}
+                            ${_in_native}
+                            ${_out_native}
+                        DEPENDS ${_in}
+                    )
+                ELSE("${_tmp}" STREQUAL "msg2qm")
+                    ADD_CUSTOM_COMMAND(
+                        OUTPUT ${_out}
+                        COMMAND ${CMAKE_COMMAND}
+                            -E echo
+                            "Generating" ${_out_native} "from" ${_in_native}
+                        COMMAND ${MSGFMT_EXECUTABLE}
+                            --qt
+                            ${_in_native}
+                            -o
+                            ${_out_native}
+                        DEPENDS ${_in}
+                    )
+                ENDIF("${_tmp}" STREQUAL "msg2qm")
+            ELSE(WIN32)
+                FILE(MAKE_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}/po)
+                GET_FILENAME_COMPONENT(_out ${CMAKE_CURRENT_BINARY_DIR}/po/${_basename}.mo ABSOLUTE)
+
+                ADD_CUSTOM_COMMAND(
+                    OUTPUT ${_out}
+                    COMMAND ${CMAKE_COMMAND}
+                        -E echo
+                        "Generating" ${_out} "from" ${_in}
+                    COMMAND ${MSGFMT_EXECUTABLE}
+                        ${_in}
+                        -o ${_out}
+                    DEPENDS ${_in}
+                )
+            ENDIF(WIN32)
+            SET(mo_files ${mo_files} ${_out})
+
+            IF(NOT WIN32)
+               INSTALL(FILES ${_out} DESTINATION ${SIM_I18N_DIR}/${_basename}/LC_MESSAGES RENAME sim.mo)
+            ENDIF(NOT WIN32)
+        ENDFOREACH(po_input ${po_files})
+
+        IF(WIN32)
+           INSTALL(FILES ${mo_files} DESTINATION ${SIM_I18N_DIR})
+        ENDIF(WIN32)
+        SET(${_sources} ${${_sources}} ${mo_files})
+    ENDIF(MSGFMT_EXECUTABLE)
+ENDMACRO(COMPILE_PO_FILES po_subdir)
+



From mean at mail.berlios.de  Mon May 28 15:03:52 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 28 May 2007 15:03:52 +0200
Subject: [Avidemux-svn-commit] r3158 - in branches/avidemux_2.4_branch: .
 autononreg/dialogFactory avidemux/ADM_libraries
 avidemux/ADM_libraries/ADM_lavcodec avidemux/ADM_libraries/ADM_lavformat
 avidemux/ADM_libraries/ADM_lavutil avidemux/ADM_libraries/ADM_libMad
 avidemux/ADM_libraries/ADM_libMpeg2Dec avidemux/ADM_libraries/ADM_liba52
 avidemux/ADM_libraries/ADM_libass avidemux/ADM_libraries/ADM_libmpeg2enc
 avidemux/ADM_libraries/ADM_libpostproc
 avidemux/ADM_libraries/ADM_libswscale avidemux/ADM_libraries/ADM_libtwolame
 avidemux/ADM_libraries/ADM_libwrapper avidemux/ADM_libraries/ADM_lvemux
 avidemux/ADM_libraries/ADM_mplex avidemux/ADM_libraries/ADM_smjs
 avidemux/ADM_libraries/ADM_utilities avidemux/ADM_libraries/ADM_xvidratectl
 avidemux/ADM_outputs avidemux/ADM_outputs/oplug_avi
 avidemux/ADM_outputs/oplug_mp4 avidemux/ADM_outputs/oplug_mpeg
 avidemux/ADM_outputs/oplug_mpegFF avidemux/ADM_outputs/oplug_ogm
 avidemux/ADM_userInterfaces/ADM_GTK
 avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog avidemux/A!
 DM_userInterfaces/ADM_GTK/ADM_dialogFactory
 avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters
 avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2
 avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr
 avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk cmake
Message-ID: <200705281303.l4SD3qnJ011559@sheep.berlios.de>

Author: mean
Date: 2007-05-28 15:03:46 +0200 (Mon, 28 May 2007)
New Revision: 3158

Added:
   branches/avidemux_2.4_branch/ConfigureChecks.cmake
   branches/avidemux_2.4_branch/autononreg/dialogFactory/slider.js
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavutil/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libMad/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libMpeg2Dec/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_liba52/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libass/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libmpeg2enc/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/mangle.h
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess.c
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess.h
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess_altivec_template.c
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess_internal.h
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess_template.c
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libswscale/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libtwolame/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lvemux/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_smjs/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_xvidratectl/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mp4/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpeg/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpegFF/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/adm_ocr.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/CMakeLists.txt
   branches/avidemux_2.4_branch/cmake/
   branches/avidemux_2.4_branch/cmake/AdmLib.cmake
   branches/avidemux_2.4_branch/cmake/FindGTK.cmake
   branches/avidemux_2.4_branch/cmake/FindLibXml2.cmake
   branches/avidemux_2.4_branch/cmake/FindQT4.cmake
   branches/avidemux_2.4_branch/cmake/FindX11.cmake
   branches/avidemux_2.4_branch/cmake/MacroEnsureOutOfSourceBuild.cmake
   branches/avidemux_2.4_branch/cmake/Po.cmake
   branches/avidemux_2.4_branch/cmake/UsePkgConfig.cmake
   branches/avidemux_2.4_branch/cmake/UseQt4.cmake
   branches/avidemux_2.4_branch/cmake/lavcodec.cmake
   branches/avidemux_2.4_branch/config.h.cmake
Log:
added cmake

Added: branches/avidemux_2.4_branch/ConfigureChecks.cmake
===================================================================
--- branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,61 @@
+###############################
+# Part Of avidemux cmake conf #
+###############################
+##
+INCLUDE(CheckIncludeFiles)
+INCLUDE(CheckSymbolExists)
+INCLUDE(CheckFunctionExists)
+INCLUDE(CheckLibraryExists)
+include(lavcodec)
+#INCLUDE(CheckStructMember)
+check_function_exists(gettimeofday    HAVE_GETTIMEOFDAY)
+# Header
+CHECK_INCLUDE_FILES(inttypes.h      HAVE_INTTYPES_H)                    # simapi.h
+CHECK_INCLUDE_FILES(stddef.h        HAVE_STDDEF_H)                      # simapi.h
+CHECK_INCLUDE_FILES(stdint.h        HAVE_STDINT_H)                      # simapi.h
+CHECK_INCLUDE_FILES(stdlib.h        HAVE_STDLIB_H)                      # simapi.h
+CHECK_INCLUDE_FILES(string.h        HAVE_STRING_H)                      # _core/libintl.cpp
+CHECK_INCLUDE_FILES(sys/stat.h      HAVE_SYS_STAT_H)                    # gpg/gpg.cpp
+CHECK_INCLUDE_FILES(sys/types.h     HAVE_SYS_TYPES_H)                   # simapi.h
+CHECK_INCLUDE_FILES(unistd.h        HAVE_UNISTD_H)                      # simapi.h
+CHECK_INCLUDE_FILES(malloc.h        HAVE_MALLOC_H)                      # simapi.h
+# Set lavcodec/util/format configuration
+SET_LAVCODEC_FLAGS()
+
+# Symbols
+CHECK_SYMBOL_EXISTS(strcasecmp  "strings.h"         HAVE_STRCASECMP)    # simapi.h, various
+
+# Functions
+IF(NOT WIN32) # there is a chmod function on win32, but not usable the way we want...
+  CHECK_FUNCTION_EXISTS(chmod     HAVE_CHMOD)         # __homedir/homedir.cpp, gpg/gpg.cpp
+ENDIF(NOT WIN32)
+# VERSION(s)
+SET(VERSION 2.4)
+SET(PACKAGE_VERSION 2.4)
+
+# We use FFMPEG
+SET(USE_FFMPEG    1)
+SET(USE_MJPEG    1)
+SET(USE_LIBXML2    1)
+SET(HAVE_LRINTF    1)
+SET(EMULATE_FAST_INT    1)
+SET(RUNTIME_CPUDETECT    1)
+# to be better latter
+SET(ARCH_X86    1)
+SET(HAVE_MMX    1)
+SET(HAVE_AUDIO    1)
+SET(ARCH_X86_32    1)
+SET(ARCH_X86_64    1)
+SET(FPM_DEFAULT    1)
+SET(ARCH_64_BITS    1)
+SET(ADM_DEBUG    1)
+
+# We have Encoders
+
+#if win 32 ?
+if(WIN32)
+SET(ADM_WIN32 1)
+SET(CYG_MANGLING 1)
+endif(WIN32)
+
+# EOF

Copied: branches/avidemux_2.4_branch/autononreg/dialogFactory/slider.js (from rev 3098, branches/avidemux_2.4_branch/autononreg/dialogFactory/toggle.js)
===================================================================
--- branches/avidemux_2.4_branch/autononreg/dialogFactory/toggle.js	2007-05-15 15:15:31 UTC (rev 3098)
+++ branches/avidemux_2.4_branch/autononreg/dialogFactory/slider.js	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,10 @@
+//AD  <- These first 4 characters need to be the first 4 characters to identify the ECMAScript file to Avidemux
+var app = new Avidemux();
+var file="/work/samples/2mn.avi";
+var goodfcc="DIV3";
+var fps;
+
+	dialogFactorySlider();
+
+/* End of test
+*/

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,40 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_lavcodec)
+#
+SET(${ADM_LIB}_SRCS 
+ac3enc.c  
+		adpcm.c 	allcodecs.c 	cyuv.c 	dsputil.c 	dv.c 
+		error_resilience.c 		fdctref.c 	fft.c 	h263.c 	h263dec.c 	huffyuv.c 	imgconvert.c 
+		jfdctfst.c 	jfdctint.c 	jrevdct.c 	mace.c 	mdct.c 	 	mjpeg.c 
+		motion_est.c 	mpeg12.c 	mpegaudio.c 	mpegaudiodec.c 	mpegvideo.c 	msmpeg4.c 	 
+		pcm.c 	ratecontrol.c 	raw.c 	resample.c 	rv10.c 	simple_idct.c 	svq1.c 
+		utils.c 	wmadec.c 	indeo3.c 	vp3.c 	vp3dsp.c 	h264.c 	ffv1.c 	ra144.c 	ra288.c 
+		golomb.c 	4xm.c 	cabac.c 	asv1.c vcr1.c cljr.c 	faandct.c 	 	parser.c 
+		roqvideo.c 	xan.c 	rpza.c 	msrle.c 	msvideo1.c 	cinepak.c 	vqavideo.c 
+		idcinvideo.c 	smc.c 	flicvideo.c 	interplayvideo.c 	dpcm.c 	8bps.c vmdav.c 
+		truemotion1.c flac.c g726.c 	qtrle.c lcl.c 	snow.c  
+		rangecoder.c bitstream.c h264idct.c h261.c amr.c tscc.c 
+		resample2.c pthread.c qdm2.c bitstream_filter.c eval.c 
+		vc1.c vc1dsp.c vp56.c vp56data.c vp6.c vp5.c indeo2.c smacker.c  opt.c
+)
+# ADD x86 ones
+SET(${ADM_LIB}_SRCS  ${${ADM_LIB}_SRCS}
+                        i386/cputest.c     
+			i386/mpegvideo_mmx.c     i386/vp3dsp_mmx.c 
+			i386/dsputil_mmx.c  i386/idct_mmx.c  
+			i386/fdct_mmx.c   i386/motion_est_mmx.c  i386/simple_idct_mmx.c 
+			i386/fft_sse.c i386/vp3dsp_sse2.c  
+			i386/idct_mmx_xvid.c i386/fft_3dn2.c 
+			i386/snowdsp_mmx.c i386/fft_3dn.c 
+)
+
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################
+add_definitions(-I.. -DHAVE_AV_CONFIG_H  -O3 -I../.. -I../ADM_lavutil -Drestrict=__restrict__ -fomit-frame-pointer)
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,17 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_lavformat)
+#
+SET(${ADM_LIB}_SRCS 
+ mpeg.c utils.c avio.c ADM_lavformat.cpp 
+aviobuf.c cutils.c img2.c file.c mpegtsenc.c ADM_muxts.cpp movenc.c 
+avienc.c wav.c mov.c matroska.c isom.c isom.h riff.c
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+INCLUDE_DIRECTORIES(../ADM_lavcodec .. ../ADM_lavutil)
+
+################################
+add_definitions(-DHAVE_AV_CONFIG_H)

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavutil/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavutil/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavutil/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,15 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_lavutil)
+#
+SET(${ADM_LIB}_SRCS 
+integer.c  intfloat_readwrite.c  mathematics.c  rational.c md5.c crc.c log.c  adler32.c lls.c
+
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+################################
+add_definitions(-DHAVE_AV_CONFIG_H)

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libMad/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libMad/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libMad/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,24 @@
+
+SET(ADM_libMad_SRCS 
+bit.c  decoder.c  fixed.c  frame.c  huffman.c  layer12.c  layer3.c  
+#minimad.c  i
+stream.c  synth.c  timer.c  version.c
+)
+ADD_LIBRARY(ADM_libMad STATIC ${ADM_libMad_SRCS})
+
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_libMad)
+#
+SET(${ADM_LIB}_SRCS 
+bit.c  decoder.c  fixed.c  frame.c  huffman.c  layer12.c  layer3.c  
+#minimad.c  i
+stream.c  synth.c  timer.c  version.c
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libMpeg2Dec/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libMpeg2Dec/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libMpeg2Dec/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,20 @@
+
+SET(ADM_libMpeg2dec_SRCS 
+alloc.c      cpu_state.c  header.c      idct_altivec.c  idct_mlib.c  motion_comp_alpha.c    motion_comp.c       motion_comp_mmx.c
+cpu_accel.c  decode.c     idct_alpha.c  idct.c          idct_mmx.c   motion_comp_altivec.c  motion_comp_mlib.c  slice.c
+)
+ADD_LIBRARY(ADM_libMpeg2dec STATIC ${ADM_libMpeg2dec_SRCS})
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_libMpeg2Dec)
+#
+SET(${ADM_LIB}_SRCS 
+alloc.c      cpu_state.c  header.c      idct_altivec.c  idct_mlib.c  motion_comp_alpha.c    motion_comp.c       motion_comp_mmx.c
+cpu_accel.c  decode.c     idct_alpha.c  idct.c          idct_mmx.c   motion_comp_altivec.c  motion_comp_mlib.c  slice.c
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+################################

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_liba52/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_liba52/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_liba52/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,14 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_liba52)
+#
+SET(${ADM_LIB}_SRCS 
+bit_allocate.c  bitstream.c  cmake_install.cmake  downmix.c  imdct.c  parse.c
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libass/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libass/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libass/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,16 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_libass)
+#
+if(FT_FOUND)
+SET(${ADM_LIB}_SRCS 
+ass_bitmap.c  ass.c  ass_cache.c  ass_fontconfig.c  ass_library.c  ass_mp.c  ass_render.c  ass_utils.c  mputils.c
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+endif(FT_FOUND)
+
+################################
+ADD_definitions(${FT_CFLAGS} )

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libmpeg2enc/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libmpeg2enc/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libmpeg2enc/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,22 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_libmpeg2enc)
+#
+SET(${ADM_LIB}_SRCS 
+ad_layer.cc           fdct_x86.cc           mblock_bsad_mmx.cc          motionest.cc     predcomp_mmxe.cc  putpic.cc        readpic.cc       yuv4mpeg.cc
+build_sub22_mests.cc  feedframe.cc          mblock_bsumsq_mmx.cc        motionsearch.cc  predict.cc        putseq.cc        stats.cc         yuv4mpeg_ratio.cc
+build_sub44_mests.cc  find_best_one_pel.cc  mblock_sad_mmx.cc           mpeg2enc.cc      predict_mmx.cc    putvlc.cc        synchrolib.cc
+conform.cc            idct.cc               mblock_sad_mmxe.cc          mpeg2enc_if.cc   predict_ref.cc    quantize.cc      transfrm.cc
+cpu_accel.cc          idctdata.cc           mblock_sub44_sads_x86.cc    mpeg2param.cc    predict_x86.cc    quantize_ref.cc  transfrm_ref.cc
+fdctdata.cc           idct_mmx.cc           mpeg2setup.cc               putbits.cc        quantize_x86.cc  transfrm_x86.cc
+fdct_mmx.cc           ioio.c                mblock_sumsq_mmx.cc         mpegconsts.cc    puthdr.cc         quant_mmx2.cc    writepic.cc
+fdctref.cc            macroblock.cc         motion.cc                   predcomp_mmx.cc  putmpg.cc         ratectl.cc       xx.c 
+ADM_mpe2enc.cpp
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+################################
+INCLUDE_DIRECTORIES(.)

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,17 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_libpostproc)
+#
+SET(${ADM_LIB}_SRCS 
+postprocess.c
+)
+
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################
+add_definitions(-I.. -DHAVE_AV_CONFIG_H  -O3 -I../.. -I../ADM_lavutil -Drestrict=__restrict__ -fomit-frame-pointer -msse )
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/mangle.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/mangle.h	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/mangle.h	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,47 @@
+/*
+ * mangle.h - This file has some CPP macros to deal with different symbol
+ * mangling across binary formats.
+ *
+ * (c)2002 by Felix Buenemann <atmosfear at users.sourceforge.net>
+ *
+ * This file is part of FFmpeg.
+ *
+ * FFmpeg is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * FFmpeg is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with FFmpeg; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
+ */
+
+#ifndef __MANGLE_H
+#define __MANGLE_H
+
+/* Feel free to add more to the list, eg. a.out IMO */
+/* Use rip-relative addressing if compiling PIC code on x86-64. */
+#if defined(__CYGWIN__) || defined(__MINGW32__) || defined(__OS2__) || \
+   (defined(__OpenBSD__) && !defined(__ELF__))
+#if defined(ARCH_X86_64) && defined(PIC)
+#define MANGLE(a) "_" #a"(%%rip)"
+#else
+#define MANGLE(a) "_" #a
+#endif
+#else
+#if defined(ARCH_X86_64) && defined(PIC)
+#define MANGLE(a) #a"(%%rip)"
+#elif defined(CONFIG_DARWIN)
+#define MANGLE(a) "_" #a
+#else
+#define MANGLE(a) #a
+#endif
+#endif
+
+#endif /* !__MANGLE_H */
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess.c	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess.c	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,1144 @@
+/*
+ * Copyright (C) 2001-2003 Michael Niedermayer (michaelni at gmx.at)
+ *
+ * AltiVec optimizations (C) 2004 Romain Dolbeau <romain at dolbeau.org>
+ *
+ * This file is part of FFmpeg.
+ *
+ * FFmpeg is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * FFmpeg is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with FFmpeg; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
+ */
+
+/**
+ * @file postprocess.c
+ * postprocessing.
+ */
+
+/*
+                        C       MMX     MMX2    3DNow   AltiVec
+isVertDC                Ec      Ec                      Ec
+isVertMinMaxOk          Ec      Ec                      Ec
+doVertLowPass           E               e       e       Ec
+doVertDefFilter         Ec      Ec      e       e       Ec
+isHorizDC               Ec      Ec                      Ec
+isHorizMinMaxOk         a       E                       Ec
+doHorizLowPass          E               e       e       Ec
+doHorizDefFilter        Ec      Ec      e       e       Ec
+do_a_deblock            Ec      E       Ec      E
+deRing                  E               e       e*      Ecp
+Vertical RKAlgo1        E               a       a
+Horizontal RKAlgo1                      a       a
+Vertical X1#            a               E       E
+Horizontal X1#          a               E       E
+LinIpolDeinterlace      e               E       E*
+CubicIpolDeinterlace    a               e       e*
+LinBlendDeinterlace     e               E       E*
+MedianDeinterlace#      E       Ec      Ec
+TempDeNoiser#           E               e       e       Ec
+
+* i dont have a 3dnow CPU -> its untested, but noone said it doesnt work so it seems to work
+# more or less selfinvented filters so the exactness isnt too meaningfull
+E = Exact implementation
+e = allmost exact implementation (slightly different rounding,...)
+a = alternative / approximate impl
+c = checked against the other implementations (-vo md5)
+p = partially optimized, still some work to do
+*/
+
+/*
+TODO:
+reduce the time wasted on the mem transfer
+unroll stuff if instructions depend too much on the prior one
+move YScale thing to the end instead of fixing QP
+write a faster and higher quality deblocking filter :)
+make the mainloop more flexible (variable number of blocks at once
+        (the if/else stuff per block is slowing things down)
+compare the quality & speed of all filters
+split this huge file
+optimize c versions
+try to unroll inner for(x=0 ... loop to avoid these damn if(x ... checks
+...
+*/
+
+//Changelog: use the Subversion log
+
+#include "config.h"
+#include "../ADM_lavutil/avutil.h"
+#include <inttypes.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#ifdef HAVE_MALLOC_H
+#include <malloc.h>
+#endif
+//#undef HAVE_MMX2
+//#define HAVE_3DNOW
+//#undef HAVE_MMX
+//#undef ARCH_X86
+//#define DEBUG_BRIGHTNESS
+#ifdef USE_FASTMEMCPY
+#include "libvo/fastmemcpy.h"
+#endif
+#include "postprocess.h"
+#include "postprocess_internal.h"
+
+#include "mangle.h" //FIXME should be supressed
+
+#ifdef HAVE_ALTIVEC_H
+#include <altivec.h>
+#endif
+
+#define GET_MODE_BUFFER_SIZE 500
+#define OPTIONS_ARRAY_SIZE 10
+#define BLOCK_SIZE 8
+#define TEMP_STRIDE 8
+//#define NUM_BLOCKS_AT_ONCE 16 //not used yet
+
+#if defined(ARCH_X86)
+static uint64_t __attribute__((aligned(8))) attribute_used w05= 0x0005000500050005LL;
+static uint64_t __attribute__((aligned(8))) attribute_used w04= 0x0004000400040004LL;
+static uint64_t __attribute__((aligned(8))) attribute_used w20= 0x0020002000200020LL;
+static uint64_t __attribute__((aligned(8))) attribute_used b00= 0x0000000000000000LL;
+static uint64_t __attribute__((aligned(8))) attribute_used b01= 0x0101010101010101LL;
+static uint64_t __attribute__((aligned(8))) attribute_used b02= 0x0202020202020202LL;
+static uint64_t __attribute__((aligned(8))) attribute_used b08= 0x0808080808080808LL;
+static uint64_t __attribute__((aligned(8))) attribute_used b80= 0x8080808080808080LL;
+#endif
+
+static uint8_t clip_table[3*256];
+static uint8_t * const clip_tab= clip_table + 256;
+
+static const int attribute_used deringThreshold= 20;
+
+
+static struct PPFilter filters[]=
+{
+        {"hb", "hdeblock",              1, 1, 3, H_DEBLOCK},
+        {"vb", "vdeblock",              1, 2, 4, V_DEBLOCK},
+/*      {"hr", "rkhdeblock",            1, 1, 3, H_RK1_FILTER},
+        {"vr", "rkvdeblock",            1, 2, 4, V_RK1_FILTER},*/
+        {"h1", "x1hdeblock",            1, 1, 3, H_X1_FILTER},
+        {"v1", "x1vdeblock",            1, 2, 4, V_X1_FILTER},
+        {"ha", "ahdeblock",             1, 1, 3, H_A_DEBLOCK},
+        {"va", "avdeblock",             1, 2, 4, V_A_DEBLOCK},
+        {"dr", "dering",                1, 5, 6, DERING},
+        {"al", "autolevels",            0, 1, 2, LEVEL_FIX},
+        {"lb", "linblenddeint",         1, 1, 4, LINEAR_BLEND_DEINT_FILTER},
+        {"li", "linipoldeint",          1, 1, 4, LINEAR_IPOL_DEINT_FILTER},
+        {"ci", "cubicipoldeint",        1, 1, 4, CUBIC_IPOL_DEINT_FILTER},
+        {"md", "mediandeint",           1, 1, 4, MEDIAN_DEINT_FILTER},
+        {"fd", "ffmpegdeint",           1, 1, 4, FFMPEG_DEINT_FILTER},
+        {"l5", "lowpass5",              1, 1, 4, LOWPASS5_DEINT_FILTER},
+        {"tn", "tmpnoise",              1, 7, 8, TEMP_NOISE_FILTER},
+        {"fq", "forcequant",            1, 0, 0, FORCE_QUANT},
+        {NULL, NULL,0,0,0,0} //End Marker
+};
+
+static const char *replaceTable[]=
+{
+        "default",      "hdeblock:a,vdeblock:a,dering:a",
+        "de",           "hdeblock:a,vdeblock:a,dering:a",
+        "fast",         "x1hdeblock:a,x1vdeblock:a,dering:a",
+        "fa",           "x1hdeblock:a,x1vdeblock:a,dering:a",
+        "ac",           "ha:a:128:7,va:a,dering:a",
+        NULL //End Marker
+};
+
+
+#if defined(ARCH_X86)
+static inline void prefetchnta(void *p)
+{
+        asm volatile(   "prefetchnta (%0)\n\t"
+                : : "r" (p)
+        );
+}
+
+static inline void prefetcht0(void *p)
+{
+        asm volatile(   "prefetcht0 (%0)\n\t"
+                : : "r" (p)
+        );
+}
+
+static inline void prefetcht1(void *p)
+{
+        asm volatile(   "prefetcht1 (%0)\n\t"
+                : : "r" (p)
+        );
+}
+
+static inline void prefetcht2(void *p)
+{
+        asm volatile(   "prefetcht2 (%0)\n\t"
+                : : "r" (p)
+        );
+}
+#endif
+
+// The horizontal Functions exist only in C cuz the MMX code is faster with vertical filters and transposing
+
+/**
+ * Check if the given 8x8 Block is mostly "flat"
+ */
+static inline int isHorizDC_C(uint8_t src[], int stride, PPContext *c)
+{
+        int numEq= 0;
+        int y;
+        const int dcOffset= ((c->nonBQP*c->ppMode.baseDcDiff)>>8) + 1;
+        const int dcThreshold= dcOffset*2 + 1;
+
+        for(y=0; y<BLOCK_SIZE; y++)
+        {
+                if(((unsigned)(src[0] - src[1] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[1] - src[2] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[2] - src[3] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[3] - src[4] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[4] - src[5] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[5] - src[6] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[6] - src[7] + dcOffset)) < dcThreshold) numEq++;
+                src+= stride;
+        }
+        return numEq > c->ppMode.flatnessThreshold;
+}
+
+/**
+ * Check if the middle 8x8 Block in the given 8x16 block is flat
+ */
+static inline int isVertDC_C(uint8_t src[], int stride, PPContext *c){
+        int numEq= 0;
+        int y;
+        const int dcOffset= ((c->nonBQP*c->ppMode.baseDcDiff)>>8) + 1;
+        const int dcThreshold= dcOffset*2 + 1;
+
+        src+= stride*4; // src points to begin of the 8x8 Block
+        for(y=0; y<BLOCK_SIZE-1; y++)
+        {
+                if(((unsigned)(src[0] - src[0+stride] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[1] - src[1+stride] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[2] - src[2+stride] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[3] - src[3+stride] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[4] - src[4+stride] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[5] - src[5+stride] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[6] - src[6+stride] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[7] - src[7+stride] + dcOffset)) < dcThreshold) numEq++;
+                src+= stride;
+        }
+        return numEq > c->ppMode.flatnessThreshold;
+}
+
+static inline int isHorizMinMaxOk_C(uint8_t src[], int stride, int QP)
+{
+        int i;
+#if 1
+        for(i=0; i<2; i++){
+                if((unsigned)(src[0] - src[5] + 2*QP) > 4*QP) return 0;
+                src += stride;
+                if((unsigned)(src[2] - src[7] + 2*QP) > 4*QP) return 0;
+                src += stride;
+                if((unsigned)(src[4] - src[1] + 2*QP) > 4*QP) return 0;
+                src += stride;
+                if((unsigned)(src[6] - src[3] + 2*QP) > 4*QP) return 0;
+                src += stride;
+        }
+#else
+        for(i=0; i<8; i++){
+                if((unsigned)(src[0] - src[7] + 2*QP) > 4*QP) return 0;
+                src += stride;
+        }
+#endif
+        return 1;
+}
+
+static inline int isVertMinMaxOk_C(uint8_t src[], int stride, int QP)
+{
+#if 1
+#if 1
+        int x;
+        src+= stride*4;
+        for(x=0; x<BLOCK_SIZE; x+=4)
+        {
+                if((unsigned)(src[  x + 0*stride] - src[  x + 5*stride] + 2*QP) > 4*QP) return 0;
+                if((unsigned)(src[1+x + 2*stride] - src[1+x + 7*stride] + 2*QP) > 4*QP) return 0;
+                if((unsigned)(src[2+x + 4*stride] - src[2+x + 1*stride] + 2*QP) > 4*QP) return 0;
+                if((unsigned)(src[3+x + 6*stride] - src[3+x + 3*stride] + 2*QP) > 4*QP) return 0;
+        }
+#else
+        int x;
+        src+= stride*3;
+        for(x=0; x<BLOCK_SIZE; x++)
+        {
+                if((unsigned)(src[x + stride] - src[x + (stride<<3)] + 2*QP) > 4*QP) return 0;
+        }
+#endif
+        return 1;
+#else
+        int x;
+        src+= stride*4;
+        for(x=0; x<BLOCK_SIZE; x++)
+        {
+                int min=255;
+                int max=0;
+                int y;
+                for(y=0; y<8; y++){
+                        int v= src[x + y*stride];
+                        if(v>max) max=v;
+                        if(v<min) min=v;
+                }
+                if(max-min > 2*QP) return 0;
+        }
+        return 1;
+#endif
+}
+
+static inline int horizClassify_C(uint8_t src[], int stride, PPContext *c){
+        if( isHorizDC_C(src, stride, c) ){
+                if( isHorizMinMaxOk_C(src, stride, c->QP) )
+                        return 1;
+                else
+                        return 0;
+        }else{
+                return 2;
+        }
+}
+
+static inline int vertClassify_C(uint8_t src[], int stride, PPContext *c){
+        if( isVertDC_C(src, stride, c) ){
+                if( isVertMinMaxOk_C(src, stride, c->QP) )
+                        return 1;
+                else
+                        return 0;
+        }else{
+                return 2;
+        }
+}
+
+static inline void doHorizDefFilter_C(uint8_t dst[], int stride, PPContext *c)
+{
+        int y;
+        for(y=0; y<BLOCK_SIZE; y++)
+        {
+                const int middleEnergy= 5*(dst[4] - dst[3]) + 2*(dst[2] - dst[5]);
+
+                if(FFABS(middleEnergy) < 8*c->QP)
+                {
+                        const int q=(dst[3] - dst[4])/2;
+                        const int leftEnergy=  5*(dst[2] - dst[1]) + 2*(dst[0] - dst[3]);
+                        const int rightEnergy= 5*(dst[6] - dst[5]) + 2*(dst[4] - dst[7]);
+
+                        int d= FFABS(middleEnergy) - FFMIN( FFABS(leftEnergy), FFABS(rightEnergy) );
+                        d= FFMAX(d, 0);
+
+                        d= (5*d + 32) >> 6;
+                        d*= FFSIGN(-middleEnergy);
+
+                        if(q>0)
+                        {
+                                d= d<0 ? 0 : d;
+                                d= d>q ? q : d;
+                        }
+                        else
+                        {
+                                d= d>0 ? 0 : d;
+                                d= d<q ? q : d;
+                        }
+
+                        dst[3]-= d;
+                        dst[4]+= d;
+                }
+                dst+= stride;
+        }
+}
+
+/**
+ * Do a horizontal low pass filter on the 10x8 block (dst points to middle 8x8 Block)
+ * using the 9-Tap Filter (1,1,2,2,4,2,2,1,1)/16 (C version)
+ */
+static inline void doHorizLowPass_C(uint8_t dst[], int stride, PPContext *c)
+{
+        int y;
+        for(y=0; y<BLOCK_SIZE; y++)
+        {
+                const int first= FFABS(dst[-1] - dst[0]) < c->QP ? dst[-1] : dst[0];
+                const int last= FFABS(dst[8] - dst[7]) < c->QP ? dst[8] : dst[7];
+
+                int sums[10];
+                sums[0] = 4*first + dst[0] + dst[1] + dst[2] + 4;
+                sums[1] = sums[0] - first  + dst[3];
+                sums[2] = sums[1] - first  + dst[4];
+                sums[3] = sums[2] - first  + dst[5];
+                sums[4] = sums[3] - first  + dst[6];
+                sums[5] = sums[4] - dst[0] + dst[7];
+                sums[6] = sums[5] - dst[1] + last;
+                sums[7] = sums[6] - dst[2] + last;
+                sums[8] = sums[7] - dst[3] + last;
+                sums[9] = sums[8] - dst[4] + last;
+
+                dst[0]= (sums[0] + sums[2] + 2*dst[0])>>4;
+                dst[1]= (sums[1] + sums[3] + 2*dst[1])>>4;
+                dst[2]= (sums[2] + sums[4] + 2*dst[2])>>4;
+                dst[3]= (sums[3] + sums[5] + 2*dst[3])>>4;
+                dst[4]= (sums[4] + sums[6] + 2*dst[4])>>4;
+                dst[5]= (sums[5] + sums[7] + 2*dst[5])>>4;
+                dst[6]= (sums[6] + sums[8] + 2*dst[6])>>4;
+                dst[7]= (sums[7] + sums[9] + 2*dst[7])>>4;
+
+                dst+= stride;
+        }
+}
+
+/**
+ * Experimental Filter 1 (Horizontal)
+ * will not damage linear gradients
+ * Flat blocks should look like they where passed through the (1,1,2,2,4,2,2,1,1) 9-Tap filter
+ * can only smooth blocks at the expected locations (it cant smooth them if they did move)
+ * MMX2 version does correct clipping C version doesnt
+ * not identical with the vertical one
+ */
+static inline void horizX1Filter(uint8_t *src, int stride, int QP)
+{
+        int y;
+        static uint64_t *lut= NULL;
+        if(lut==NULL)
+        {
+                int i;
+                lut = av_malloc(256*8);
+                for(i=0; i<256; i++)
+                {
+                        int v= i < 128 ? 2*i : 2*(i-256);
+/*
+//Simulate 112242211 9-Tap filter
+                        uint64_t a= (v/16) & 0xFF;
+                        uint64_t b= (v/8) & 0xFF;
+                        uint64_t c= (v/4) & 0xFF;
+                        uint64_t d= (3*v/8) & 0xFF;
+*/
+//Simulate piecewise linear interpolation
+                        uint64_t a= (v/16) & 0xFF;
+                        uint64_t b= (v*3/16) & 0xFF;
+                        uint64_t c= (v*5/16) & 0xFF;
+                        uint64_t d= (7*v/16) & 0xFF;
+                        uint64_t A= (0x100 - a)&0xFF;
+                        uint64_t B= (0x100 - b)&0xFF;
+                        uint64_t C= (0x100 - c)&0xFF;
+                        uint64_t D= (0x100 - c)&0xFF;
+
+                        lut[i]   = (a<<56) | (b<<48) | (c<<40) | (d<<32) |
+                                (D<<24) | (C<<16) | (B<<8) | (A);
+                        //lut[i] = (v<<32) | (v<<24);
+                }
+        }
+
+        for(y=0; y<BLOCK_SIZE; y++)
+        {
+                int a= src[1] - src[2];
+                int b= src[3] - src[4];
+                int c= src[5] - src[6];
+
+                int d= FFMAX(FFABS(b) - (FFABS(a) + FFABS(c))/2, 0);
+
+                if(d < QP)
+                {
+                        int v = d * FFSIGN(-b);
+
+                        src[1] +=v/8;
+                        src[2] +=v/4;
+                        src[3] +=3*v/8;
+                        src[4] -=3*v/8;
+                        src[5] -=v/4;
+                        src[6] -=v/8;
+
+                }
+                src+=stride;
+        }
+}
+
+/**
+ * accurate deblock filter
+ */
+static av_always_inline void do_a_deblock_C(uint8_t *src, int step, int stride, PPContext *c){
+        int y;
+        const int QP= c->QP;
+        const int dcOffset= ((c->nonBQP*c->ppMode.baseDcDiff)>>8) + 1;
+        const int dcThreshold= dcOffset*2 + 1;
+//START_TIMER
+        src+= step*4; // src points to begin of the 8x8 Block
+        for(y=0; y<8; y++){
+                int numEq= 0;
+
+                if(((unsigned)(src[-1*step] - src[0*step] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[ 0*step] - src[1*step] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[ 1*step] - src[2*step] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[ 2*step] - src[3*step] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[ 3*step] - src[4*step] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[ 4*step] - src[5*step] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[ 5*step] - src[6*step] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[ 6*step] - src[7*step] + dcOffset)) < dcThreshold) numEq++;
+                if(((unsigned)(src[ 7*step] - src[8*step] + dcOffset)) < dcThreshold) numEq++;
+                if(numEq > c->ppMode.flatnessThreshold){
+                        int min, max, x;
+
+                        if(src[0] > src[step]){
+                            max= src[0];
+                            min= src[step];
+                        }else{
+                            max= src[step];
+                            min= src[0];
+                        }
+                        for(x=2; x<8; x+=2){
+                                if(src[x*step] > src[(x+1)*step]){
+                                        if(src[x    *step] > max) max= src[ x   *step];
+                                        if(src[(x+1)*step] < min) min= src[(x+1)*step];
+                                }else{
+                                        if(src[(x+1)*step] > max) max= src[(x+1)*step];
+                                        if(src[ x   *step] < min) min= src[ x   *step];
+                                }
+                        }
+                        if(max-min < 2*QP){
+                                const int first= FFABS(src[-1*step] - src[0]) < QP ? src[-1*step] : src[0];
+                                const int last= FFABS(src[8*step] - src[7*step]) < QP ? src[8*step] : src[7*step];
+
+                                int sums[10];
+                                sums[0] = 4*first + src[0*step] + src[1*step] + src[2*step] + 4;
+                                sums[1] = sums[0] - first       + src[3*step];
+                                sums[2] = sums[1] - first       + src[4*step];
+                                sums[3] = sums[2] - first       + src[5*step];
+                                sums[4] = sums[3] - first       + src[6*step];
+                                sums[5] = sums[4] - src[0*step] + src[7*step];
+                                sums[6] = sums[5] - src[1*step] + last;
+                                sums[7] = sums[6] - src[2*step] + last;
+                                sums[8] = sums[7] - src[3*step] + last;
+                                sums[9] = sums[8] - src[4*step] + last;
+
+                                src[0*step]= (sums[0] + sums[2] + 2*src[0*step])>>4;
+                                src[1*step]= (sums[1] + sums[3] + 2*src[1*step])>>4;
+                                src[2*step]= (sums[2] + sums[4] + 2*src[2*step])>>4;
+                                src[3*step]= (sums[3] + sums[5] + 2*src[3*step])>>4;
+                                src[4*step]= (sums[4] + sums[6] + 2*src[4*step])>>4;
+                                src[5*step]= (sums[5] + sums[7] + 2*src[5*step])>>4;
+                                src[6*step]= (sums[6] + sums[8] + 2*src[6*step])>>4;
+                                src[7*step]= (sums[7] + sums[9] + 2*src[7*step])>>4;
+                        }
+                }else{
+                        const int middleEnergy= 5*(src[4*step] - src[3*step]) + 2*(src[2*step] - src[5*step]);
+
+                        if(FFABS(middleEnergy) < 8*QP)
+                        {
+                                const int q=(src[3*step] - src[4*step])/2;
+                                const int leftEnergy=  5*(src[2*step] - src[1*step]) + 2*(src[0*step] - src[3*step]);
+                                const int rightEnergy= 5*(src[6*step] - src[5*step]) + 2*(src[4*step] - src[7*step]);
+
+                                int d= FFABS(middleEnergy) - FFMIN( FFABS(leftEnergy), FFABS(rightEnergy) );
+                                d= FFMAX(d, 0);
+
+                                d= (5*d + 32) >> 6;
+                                d*= FFSIGN(-middleEnergy);
+
+                                if(q>0)
+                                {
+                                        d= d<0 ? 0 : d;
+                                        d= d>q ? q : d;
+                                }
+                                else
+                                {
+                                        d= d>0 ? 0 : d;
+                                        d= d<q ? q : d;
+                                }
+
+                                src[3*step]-= d;
+                                src[4*step]+= d;
+                        }
+                }
+
+                src += stride;
+        }
+/*if(step==16){
+    STOP_TIMER("step16")
+}else{
+    STOP_TIMER("stepX")
+}*/
+}
+
+//Note: we have C, MMX, MMX2, 3DNOW version there is no 3DNOW+MMX2 one
+//Plain C versions
+#if !defined (HAVE_MMX) || defined (RUNTIME_CPUDETECT)
+#define COMPILE_C
+#endif
+
+#ifdef ARCH_POWERPC
+#ifdef HAVE_ALTIVEC
+#define COMPILE_ALTIVEC
+#endif //HAVE_ALTIVEC
+#endif //ARCH_POWERPC
+
+#if defined(ARCH_X86)
+
+#if (defined (HAVE_MMX) && !defined (HAVE_3DNOW) && !defined (HAVE_MMX2)) || defined (RUNTIME_CPUDETECT)
+#define COMPILE_MMX
+#endif
+
+#if defined (HAVE_MMX2) || defined (RUNTIME_CPUDETECT)
+#define COMPILE_MMX2
+#endif
+
+#if (defined (HAVE_3DNOW) && !defined (HAVE_MMX2)) || defined (RUNTIME_CPUDETECT)
+#define COMPILE_3DNOW
+#endif
+#endif /* defined(ARCH_X86) */
+
+#undef HAVE_MMX
+#undef HAVE_MMX2
+#undef HAVE_3DNOW
+#undef HAVE_ALTIVEC
+
+#ifdef COMPILE_C
+#undef HAVE_MMX
+#undef HAVE_MMX2
+#undef HAVE_3DNOW
+#define RENAME(a) a ## _C
+#include "postprocess_template.c"
+#endif
+
+#ifdef ARCH_POWERPC
+#ifdef COMPILE_ALTIVEC
+#undef RENAME
+#define HAVE_ALTIVEC
+#define RENAME(a) a ## _altivec
+#include "postprocess_altivec_template.c"
+#include "postprocess_template.c"
+#endif
+#endif //ARCH_POWERPC
+
+//MMX versions
+#ifdef COMPILE_MMX
+#undef RENAME
+#define HAVE_MMX
+#undef HAVE_MMX2
+#undef HAVE_3DNOW
+#define RENAME(a) a ## _MMX
+#include "postprocess_template.c"
+#endif
+
+//MMX2 versions
+#ifdef COMPILE_MMX2
+#undef RENAME
+#define HAVE_MMX
+#define HAVE_MMX2
+#undef HAVE_3DNOW
+#define RENAME(a) a ## _MMX2
+#include "postprocess_template.c"
+#endif
+
+//3DNOW versions
+#ifdef COMPILE_3DNOW
+#undef RENAME
+#define HAVE_MMX
+#undef HAVE_MMX2
+#define HAVE_3DNOW
+#define RENAME(a) a ## _3DNow
+#include "postprocess_template.c"
+#endif
+
+// minor note: the HAVE_xyz is messed up after that line so dont use it
+
+static inline void postProcess(uint8_t src[], int srcStride, uint8_t dst[], int dstStride, int width, int height,
+        QP_STORE_T QPs[], int QPStride, int isColor, pp_mode_t *vm, pp_context_t *vc)
+{
+        PPContext *c= (PPContext *)vc;
+        PPMode *ppMode= (PPMode *)vm;
+        c->ppMode= *ppMode; //FIXME
+
+        // useing ifs here as they are faster than function pointers allthough the
+        // difference wouldnt be messureable here but its much better because
+        // someone might exchange the cpu whithout restarting mplayer ;)
+#ifdef RUNTIME_CPUDETECT
+#if defined(ARCH_X86)
+        // ordered per speed fasterst first
+        if(c->cpuCaps & PP_CPU_CAPS_MMX2)
+                postProcess_MMX2(src, srcStride, dst, dstStride, width, height, QPs, QPStride, isColor, c);
+        else if(c->cpuCaps & PP_CPU_CAPS_3DNOW)
+                postProcess_3DNow(src, srcStride, dst, dstStride, width, height, QPs, QPStride, isColor, c);
+        else if(c->cpuCaps & PP_CPU_CAPS_MMX)
+                postProcess_MMX(src, srcStride, dst, dstStride, width, height, QPs, QPStride, isColor, c);
+        else
+                postProcess_C(src, srcStride, dst, dstStride, width, height, QPs, QPStride, isColor, c);
+#else
+#ifdef ARCH_POWERPC
+#ifdef HAVE_ALTIVEC
+        if(c->cpuCaps & PP_CPU_CAPS_ALTIVEC)
+                postProcess_altivec(src, srcStride, dst, dstStride, width, height, QPs, QPStride, isColor, c);
+        else
+#endif
+#endif
+                postProcess_C(src, srcStride, dst, dstStride, width, height, QPs, QPStride, isColor, c);
+#endif
+#else //RUNTIME_CPUDETECT
+#ifdef HAVE_MMX2
+                postProcess_MMX2(src, srcStride, dst, dstStride, width, height, QPs, QPStride, isColor, c);
+#elif defined (HAVE_3DNOW)
+                postProcess_3DNow(src, srcStride, dst, dstStride, width, height, QPs, QPStride, isColor, c);
+#elif defined (HAVE_MMX)
+                postProcess_MMX(src, srcStride, dst, dstStride, width, height, QPs, QPStride, isColor, c);
+#elif defined (HAVE_ALTIVEC)
+                postProcess_altivec(src, srcStride, dst, dstStride, width, height, QPs, QPStride, isColor, c);
+#else
+                postProcess_C(src, srcStride, dst, dstStride, width, height, QPs, QPStride, isColor, c);
+#endif
+#endif //!RUNTIME_CPUDETECT
+}
+
+//static void postProcess(uint8_t src[], int srcStride, uint8_t dst[], int dstStride, int width, int height,
+//        QP_STORE_T QPs[], int QPStride, int isColor, struct PPMode *ppMode);
+
+/* -pp Command line Help
+*/
+char *pp_help=
+"Available postprocessing filters:\n"
+"Filters                        Options\n"
+"short  long name       short   long option     Description\n"
+"*      *               a       autoq           CPU power dependent enabler\n"
+"                       c       chrom           chrominance filtering enabled\n"
+"                       y       nochrom         chrominance filtering disabled\n"
+"                       n       noluma          luma filtering disabled\n"
+"hb     hdeblock        (2 threshold)           horizontal deblocking filter\n"
+"       1. difference factor: default=32, higher -> more deblocking\n"
+"       2. flatness threshold: default=39, lower -> more deblocking\n"
+"                       the h & v deblocking filters share these\n"
+"                       so you can't set different thresholds for h / v\n"
+"vb     vdeblock        (2 threshold)           vertical deblocking filter\n"
+"ha     hadeblock       (2 threshold)           horizontal deblocking filter\n"
+"va     vadeblock       (2 threshold)           vertical deblocking filter\n"
+"h1     x1hdeblock                              experimental h deblock filter 1\n"
+"v1     x1vdeblock                              experimental v deblock filter 1\n"
+"dr     dering                                  deringing filter\n"
+"al     autolevels                              automatic brightness / contrast\n"
+"                       f        fullyrange     stretch luminance to (0..255)\n"
+"lb     linblenddeint                           linear blend deinterlacer\n"
+"li     linipoldeint                            linear interpolating deinterlace\n"
+"ci     cubicipoldeint                          cubic interpolating deinterlacer\n"
+"md     mediandeint                             median deinterlacer\n"
+"fd     ffmpegdeint                             ffmpeg deinterlacer\n"
+"l5     lowpass5                                FIR lowpass deinterlacer\n"
+"de     default                                 hb:a,vb:a,dr:a\n"
+"fa     fast                                    h1:a,v1:a,dr:a\n"
+"ac                                             ha:a:128:7,va:a,dr:a\n"
+"tn     tmpnoise        (3 threshold)           temporal noise reducer\n"
+"                     1. <= 2. <= 3.            larger -> stronger filtering\n"
+"fq     forceQuant      <quantizer>             force quantizer\n"
+"Usage:\n"
+"<filterName>[:<option>[:<option>...]][[,|/][-]<filterName>[:<option>...]]...\n"
+"long form example:\n"
+"vdeblock:autoq/hdeblock:autoq/linblenddeint    default,-vdeblock\n"
+"short form example:\n"
+"vb:a/hb:a/lb                                   de,-vb\n"
+"more examples:\n"
+"tn:64:128:256\n"
+"\n"
+;
+
+pp_mode_t *pp_get_mode_by_name_and_quality(char *name, int quality)
+{
+        char temp[GET_MODE_BUFFER_SIZE];
+        char *p= temp;
+        const char *filterDelimiters= ",/";
+        const char *optionDelimiters= ":";
+        struct PPMode *ppMode;
+        char *filterToken;
+
+        ppMode= av_malloc(sizeof(PPMode));
+
+        ppMode->lumMode= 0;
+        ppMode->chromMode= 0;
+        ppMode->maxTmpNoise[0]= 700;
+        ppMode->maxTmpNoise[1]= 1500;
+        ppMode->maxTmpNoise[2]= 3000;
+        ppMode->maxAllowedY= 234;
+        ppMode->minAllowedY= 16;
+        ppMode->baseDcDiff= 256/8;
+        ppMode->flatnessThreshold= 56-16-1;
+        ppMode->maxClippedThreshold= 0.01;
+        ppMode->error=0;
+
+        strncpy(temp, name, GET_MODE_BUFFER_SIZE);
+
+        av_log(NULL, AV_LOG_DEBUG, "pp: %s\n", name);
+
+        for(;;){
+                char *filterName;
+                int q= 1000000; //PP_QUALITY_MAX;
+                int chrom=-1;
+                int luma=-1;
+                char *option;
+                char *options[OPTIONS_ARRAY_SIZE];
+                int i;
+                int filterNameOk=0;
+                int numOfUnknownOptions=0;
+                int enable=1; //does the user want us to enabled or disabled the filter
+
+                filterToken= strtok(p, filterDelimiters);
+                if(filterToken == NULL) break;
+                p+= strlen(filterToken) + 1; // p points to next filterToken
+                filterName= strtok(filterToken, optionDelimiters);
+                av_log(NULL, AV_LOG_DEBUG, "pp: %s::%s\n", filterToken, filterName);
+
+                if(*filterName == '-')
+                {
+                        enable=0;
+                        filterName++;
+                }
+
+                for(;;){ //for all options
+                        option= strtok(NULL, optionDelimiters);
+                        if(option == NULL) break;
+
+                        av_log(NULL, AV_LOG_DEBUG, "pp: option: %s\n", option);
+                        if(!strcmp("autoq", option) || !strcmp("a", option)) q= quality;
+                        else if(!strcmp("nochrom", option) || !strcmp("y", option)) chrom=0;
+                        else if(!strcmp("chrom", option) || !strcmp("c", option)) chrom=1;
+                        else if(!strcmp("noluma", option) || !strcmp("n", option)) luma=0;
+                        else
+                        {
+                                options[numOfUnknownOptions] = option;
+                                numOfUnknownOptions++;
+                        }
+                        if(numOfUnknownOptions >= OPTIONS_ARRAY_SIZE-1) break;
+                }
+                options[numOfUnknownOptions] = NULL;
+
+                /* replace stuff from the replace Table */
+                for(i=0; replaceTable[2*i]!=NULL; i++)
+                {
+                        if(!strcmp(replaceTable[2*i], filterName))
+                        {
+                                int newlen= strlen(replaceTable[2*i + 1]);
+                                int plen;
+                                int spaceLeft;
+
+                                if(p==NULL) p= temp, *p=0;      //last filter
+                                else p--, *p=',';               //not last filter
+
+                                plen= strlen(p);
+                                spaceLeft= p - temp + plen;
+                                if(spaceLeft + newlen  >= GET_MODE_BUFFER_SIZE)
+                                {
+                                        ppMode->error++;
+                                        break;
+                                }
+                                memmove(p + newlen, p, plen+1);
+                                memcpy(p, replaceTable[2*i + 1], newlen);
+                                filterNameOk=1;
+                        }
+                }
+
+                for(i=0; filters[i].shortName!=NULL; i++)
+                {
+                        if(   !strcmp(filters[i].longName, filterName)
+                           || !strcmp(filters[i].shortName, filterName))
+                        {
+                                ppMode->lumMode &= ~filters[i].mask;
+                                ppMode->chromMode &= ~filters[i].mask;
+
+                                filterNameOk=1;
+                                if(!enable) break; // user wants to disable it
+
+                                if(q >= filters[i].minLumQuality && luma)
+                                        ppMode->lumMode|= filters[i].mask;
+                                if(chrom==1 || (chrom==-1 && filters[i].chromDefault))
+                                        if(q >= filters[i].minChromQuality)
+                                                ppMode->chromMode|= filters[i].mask;
+
+                                if(filters[i].mask == LEVEL_FIX)
+                                {
+                                        int o;
+                                        ppMode->minAllowedY= 16;
+                                        ppMode->maxAllowedY= 234;
+                                        for(o=0; options[o]!=NULL; o++)
+                                        {
+                                                if(  !strcmp(options[o],"fullyrange")
+                                                   ||!strcmp(options[o],"f"))
+                                                {
+                                                        ppMode->minAllowedY= 0;
+                                                        ppMode->maxAllowedY= 255;
+                                                        numOfUnknownOptions--;
+                                                }
+                                        }
+                                }
+                                else if(filters[i].mask == TEMP_NOISE_FILTER)
+                                {
+                                        int o;
+                                        int numOfNoises=0;
+
+                                        for(o=0; options[o]!=NULL; o++)
+                                        {
+                                                char *tail;
+                                                ppMode->maxTmpNoise[numOfNoises]=
+                                                        strtol(options[o], &tail, 0);
+                                                if(tail!=options[o])
+                                                {
+                                                        numOfNoises++;
+                                                        numOfUnknownOptions--;
+                                                        if(numOfNoises >= 3) break;
+                                                }
+                                        }
+                                }
+                                else if(filters[i].mask == V_DEBLOCK   || filters[i].mask == H_DEBLOCK
+                                     || filters[i].mask == V_A_DEBLOCK || filters[i].mask == H_A_DEBLOCK)
+                                {
+                                        int o;
+
+                                        for(o=0; options[o]!=NULL && o<2; o++)
+                                        {
+                                                char *tail;
+                                                int val= strtol(options[o], &tail, 0);
+                                                if(tail==options[o]) break;
+
+                                                numOfUnknownOptions--;
+                                                if(o==0) ppMode->baseDcDiff= val;
+                                                else ppMode->flatnessThreshold= val;
+                                        }
+                                }
+                                else if(filters[i].mask == FORCE_QUANT)
+                                {
+                                        int o;
+                                        ppMode->forcedQuant= 15;
+
+                                        for(o=0; options[o]!=NULL && o<1; o++)
+                                        {
+                                                char *tail;
+                                                int val= strtol(options[o], &tail, 0);
+                                                if(tail==options[o]) break;
+
+                                                numOfUnknownOptions--;
+                                                ppMode->forcedQuant= val;
+                                        }
+                                }
+                        }
+                }
+                if(!filterNameOk) ppMode->error++;
+                ppMode->error += numOfUnknownOptions;
+        }
+
+        av_log(NULL, AV_LOG_DEBUG, "pp: lumMode=%X, chromMode=%X\n", ppMode->lumMode, ppMode->chromMode);
+        if(ppMode->error)
+        {
+                av_log(NULL, AV_LOG_ERROR, "%d errors in postprocess string \"%s\"\n", ppMode->error, name);
+                av_free(ppMode);
+                return NULL;
+        }
+        return ppMode;
+}
+
+void pp_free_mode(pp_mode_t *mode){
+    av_free(mode);
+}
+
+static void reallocAlign(void **p, int alignment, int size){
+        av_free(*p);
+        *p= av_mallocz(size);
+}
+
+static void reallocBuffers(PPContext *c, int width, int height, int stride, int qpStride){
+        int mbWidth = (width+15)>>4;
+        int mbHeight= (height+15)>>4;
+        int i;
+
+        c->stride= stride;
+        c->qpStride= qpStride;
+
+        reallocAlign((void **)&c->tempDst, 8, stride*24);
+        reallocAlign((void **)&c->tempSrc, 8, stride*24);
+        reallocAlign((void **)&c->tempBlocks, 8, 2*16*8);
+        reallocAlign((void **)&c->yHistogram, 8, 256*sizeof(uint64_t));
+        for(i=0; i<256; i++)
+                c->yHistogram[i]= width*height/64*15/256;
+
+        for(i=0; i<3; i++)
+        {
+                //Note:the +17*1024 is just there so i dont have to worry about r/w over te end
+                reallocAlign((void **)&c->tempBlured[i], 8, stride*mbHeight*16 + 17*1024);
+                reallocAlign((void **)&c->tempBluredPast[i], 8, 256*((height+7)&(~7))/2 + 17*1024);//FIXME size
+        }
+
+        reallocAlign((void **)&c->deintTemp, 8, 2*width+32);
+        reallocAlign((void **)&c->nonBQPTable, 8, qpStride*mbHeight*sizeof(QP_STORE_T));
+        reallocAlign((void **)&c->stdQPTable, 8, qpStride*mbHeight*sizeof(QP_STORE_T));
+        reallocAlign((void **)&c->forcedQPTable, 8, mbWidth*sizeof(QP_STORE_T));
+}
+
+static void global_init(void){
+        int i;
+        memset(clip_table, 0, 256);
+        for(i=256; i<512; i++)
+                clip_table[i]= i;
+        memset(clip_table+512, 0, 256);
+}
+
+static const char * context_to_name(void * ptr) {
+    return "postproc";
+}
+
+static AVClass av_codec_context_class = { "Postproc", context_to_name, NULL };
+
+pp_context_t *pp_get_context(int width, int height, int cpuCaps){
+        PPContext *c= av_malloc(sizeof(PPContext));
+        int stride= (width+15)&(~15);    //assumed / will realloc if needed
+        int qpStride= (width+15)/16 + 2; //assumed / will realloc if needed
+
+        global_init();
+
+        memset(c, 0, sizeof(PPContext));
+        c->av_class = &av_codec_context_class;
+        c->cpuCaps= cpuCaps;
+        if(cpuCaps&PP_FORMAT){
+                c->hChromaSubSample= cpuCaps&0x3;
+                c->vChromaSubSample= (cpuCaps>>4)&0x3;
+        }else{
+                c->hChromaSubSample= 1;
+                c->vChromaSubSample= 1;
+        }
+
+        reallocBuffers(c, width, height, stride, qpStride);
+
+        c->frameNum=-1;
+
+        return c;
+}
+
+void pp_free_context(void *vc){
+        PPContext *c = (PPContext*)vc;
+        int i;
+
+        for(i=0; i<3; i++) av_free(c->tempBlured[i]);
+        for(i=0; i<3; i++) av_free(c->tempBluredPast[i]);
+
+        av_free(c->tempBlocks);
+        av_free(c->yHistogram);
+        av_free(c->tempDst);
+        av_free(c->tempSrc);
+        av_free(c->deintTemp);
+        av_free(c->stdQPTable);
+        av_free(c->nonBQPTable);
+        av_free(c->forcedQPTable);
+
+        memset(c, 0, sizeof(PPContext));
+
+        av_free(c);
+}
+
+void  pp_postprocess(uint8_t * src[3], int srcStride[3],
+                 uint8_t * dst[3], int dstStride[3],
+                 int width, int height,
+                 QP_STORE_T *QP_store,  int QPStride,
+                 pp_mode_t *vm,  void *vc, int pict_type)
+{
+        int mbWidth = (width+15)>>4;
+        int mbHeight= (height+15)>>4;
+        PPMode *mode = (PPMode*)vm;
+        PPContext *c = (PPContext*)vc;
+        int minStride= FFMAX(FFABS(srcStride[0]), FFABS(dstStride[0]));
+        int absQPStride = FFABS(QPStride);
+
+        // c->stride and c->QPStride are always positive
+        if(c->stride < minStride || c->qpStride < absQPStride)
+                reallocBuffers(c, width, height,
+                                FFMAX(minStride, c->stride),
+                                FFMAX(c->qpStride, absQPStride));
+
+        if(QP_store==NULL || (mode->lumMode & FORCE_QUANT))
+        {
+                int i;
+                QP_store= c->forcedQPTable;
+                absQPStride = QPStride = 0;
+                if(mode->lumMode & FORCE_QUANT)
+                        for(i=0; i<mbWidth; i++) QP_store[i]= mode->forcedQuant;
+                else
+                        for(i=0; i<mbWidth; i++) QP_store[i]= 1;
+        }
+
+        if(pict_type & PP_PICT_TYPE_QP2){
+                int i;
+                const int count= mbHeight * absQPStride;
+                for(i=0; i<(count>>2); i++){
+                        ((uint32_t*)c->stdQPTable)[i] = (((uint32_t*)QP_store)[i]>>1) & 0x7F7F7F7F;
+                }
+                for(i<<=2; i<count; i++){
+                        c->stdQPTable[i] = QP_store[i]>>1;
+                }
+                QP_store= c->stdQPTable;
+                QPStride= absQPStride;
+        }
+
+if(0){
+int x,y;
+for(y=0; y<mbHeight; y++){
+        for(x=0; x<mbWidth; x++){
+                av_log(c, AV_LOG_INFO, "%2d ", QP_store[x + y*QPStride]);
+        }
+        av_log(c, AV_LOG_INFO, "\n");
+}
+        av_log(c, AV_LOG_INFO, "\n");
+}
+
+        if((pict_type&7)!=3)
+        {
+                if (QPStride >= 0) {
+                        int i;
+                        const int count= mbHeight * QPStride;
+                        for(i=0; i<(count>>2); i++){
+                                ((uint32_t*)c->nonBQPTable)[i] = ((uint32_t*)QP_store)[i] & 0x3F3F3F3F;
+                        }
+                        for(i<<=2; i<count; i++){
+                                c->nonBQPTable[i] = QP_store[i] & 0x3F;
+                        }
+                } else {
+                        int i,j;
+                        for(i=0; i<mbHeight; i++) {
+                                    for(j=0; j<absQPStride; j++) {
+                                        c->nonBQPTable[i*absQPStride+j] = QP_store[i*QPStride+j] & 0x3F;
+                                }
+                        }
+                }
+        }
+
+        av_log(c, AV_LOG_DEBUG, "using npp filters 0x%X/0x%X\n",
+               mode->lumMode, mode->chromMode);
+
+        postProcess(src[0], srcStride[0], dst[0], dstStride[0],
+                width, height, QP_store, QPStride, 0, mode, c);
+
+        width  = (width )>>c->hChromaSubSample;
+        height = (height)>>c->vChromaSubSample;
+
+        if(mode->chromMode)
+        {
+                postProcess(src[1], srcStride[1], dst[1], dstStride[1],
+                        width, height, QP_store, QPStride, 1, mode, c);
+                postProcess(src[2], srcStride[2], dst[2], dstStride[2],
+                        width, height, QP_store, QPStride, 2, mode, c);
+        }
+        else if(srcStride[1] == dstStride[1] && srcStride[2] == dstStride[2])
+        {
+                linecpy(dst[1], src[1], height, srcStride[1]);
+                linecpy(dst[2], src[2], height, srcStride[2]);
+        }
+        else
+        {
+                int y;
+                for(y=0; y<height; y++)
+                {
+                        memcpy(&(dst[1][y*dstStride[1]]), &(src[1][y*srcStride[1]]), width);
+                        memcpy(&(dst[2][y*dstStride[2]]), &(src[2][y*srcStride[2]]), width);
+                }
+        }
+}
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess.h	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess.h	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,84 @@
+/*
+ * Copyright (C) 2001-2003 Michael Niedermayer (michaelni at gmx.at)
+ *
+ * This file is part of FFmpeg.
+ *
+ * FFmpeg is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * FFmpeg is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with FFmpeg; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
+ */
+
+#ifndef NEWPOSTPROCESS_H
+#define NEWPOSTPROCESS_H
+
+/**
+ * @file postprocess.h
+ * @brief
+ *     external api for the pp stuff
+ */
+
+#ifdef __cplusplus
+extern "C" {
+#endif
+
+#define LIBPOSTPROC_VERSION_INT ((51<<16)+(1<<8)+0)
+#define LIBPOSTPROC_VERSION     51.1.0
+#define LIBPOSTPROC_BUILD       LIBPOSTPROC_VERSION_INT
+
+#define LIBPOSTPROC_IDENT       "postproc" AV_STRINGIFY(LIBPOSTPROC_VERSION)
+
+#define PP_QUALITY_MAX 6
+
+#define QP_STORE_T int8_t
+
+typedef void pp_context_t;
+typedef void pp_mode_t;
+
+extern char *pp_help; ///< a simple help text
+
+void  pp_postprocess(uint8_t * src[3], int srcStride[3],
+                 uint8_t * dst[3], int dstStride[3],
+                 int horizontalSize, int verticalSize,
+                 QP_STORE_T *QP_store,  int QP_stride,
+                 pp_mode_t *mode, pp_context_t *ppContext, int pict_type);
+
+
+/**
+ * returns a pp_mode_t or NULL if an error occured
+ * name is the string after "-pp" on the command line
+ * quality is a number from 0 to PP_QUALITY_MAX
+ */
+pp_mode_t *pp_get_mode_by_name_and_quality(char *name, int quality);
+void pp_free_mode(pp_mode_t *mode);
+
+pp_context_t *pp_get_context(int width, int height, int flags);
+void pp_free_context(pp_context_t *ppContext);
+
+#define PP_CPU_CAPS_MMX   0x80000000
+#define PP_CPU_CAPS_MMX2  0x20000000
+#define PP_CPU_CAPS_3DNOW 0x40000000
+#define PP_CPU_CAPS_ALTIVEC 0x10000000
+
+#define PP_FORMAT         0x00000008
+#define PP_FORMAT_420    (0x00000011|PP_FORMAT)
+#define PP_FORMAT_422    (0x00000001|PP_FORMAT)
+#define PP_FORMAT_411    (0x00000002|PP_FORMAT)
+#define PP_FORMAT_444    (0x00000000|PP_FORMAT)
+
+#define PP_PICT_TYPE_QP2  0x00000010 ///< MPEG2 style QScale
+
+#ifdef __cplusplus
+}
+#endif
+
+#endif

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess_altivec_template.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess_altivec_template.c	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess_altivec_template.c	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,1191 @@
+/*
+ * AltiVec optimizations (C) 2004 Romain Dolbeau <romain at dolbeau.org>
+ *
+ * based on code by Copyright (C) 2001-2003 Michael Niedermayer (michaelni at gmx.at)
+ *
+ * This file is part of FFmpeg.
+ *
+ * FFmpeg is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * FFmpeg is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with FFmpeg; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
+ */
+
+
+#ifdef CONFIG_DARWIN
+#define AVV(x...) (x)
+#else
+#define AVV(x...) {x}
+#endif
+
+#define ALTIVEC_TRANSPOSE_8x8_SHORT(src_a,src_b,src_c,src_d,src_e,src_f,src_g,src_h) \
+  do {                                                                  \
+    __typeof__(src_a) tempA1, tempB1, tempC1, tempD1;                   \
+    __typeof__(src_a) tempE1, tempF1, tempG1, tempH1;                   \
+    __typeof__(src_a) tempA2, tempB2, tempC2, tempD2;                   \
+    __typeof__(src_a) tempE2, tempF2, tempG2, tempH2;                   \
+    tempA1 = vec_mergeh (src_a, src_e);                                 \
+    tempB1 = vec_mergel (src_a, src_e);                                 \
+    tempC1 = vec_mergeh (src_b, src_f);                                 \
+    tempD1 = vec_mergel (src_b, src_f);                                 \
+    tempE1 = vec_mergeh (src_c, src_g);                                 \
+    tempF1 = vec_mergel (src_c, src_g);                                 \
+    tempG1 = vec_mergeh (src_d, src_h);                                 \
+    tempH1 = vec_mergel (src_d, src_h);                                 \
+    tempA2 = vec_mergeh (tempA1, tempE1);                               \
+    tempB2 = vec_mergel (tempA1, tempE1);                               \
+    tempC2 = vec_mergeh (tempB1, tempF1);                               \
+    tempD2 = vec_mergel (tempB1, tempF1);                               \
+    tempE2 = vec_mergeh (tempC1, tempG1);                               \
+    tempF2 = vec_mergel (tempC1, tempG1);                               \
+    tempG2 = vec_mergeh (tempD1, tempH1);                               \
+    tempH2 = vec_mergel (tempD1, tempH1);                               \
+    src_a = vec_mergeh (tempA2, tempE2);                                \
+    src_b = vec_mergel (tempA2, tempE2);                                \
+    src_c = vec_mergeh (tempB2, tempF2);                                \
+    src_d = vec_mergel (tempB2, tempF2);                                \
+    src_e = vec_mergeh (tempC2, tempG2);                                \
+    src_f = vec_mergel (tempC2, tempG2);                                \
+    src_g = vec_mergeh (tempD2, tempH2);                                \
+    src_h = vec_mergel (tempD2, tempH2);                                \
+  } while (0)
+
+
+static inline int vertClassify_altivec(uint8_t src[], int stride, PPContext *c) {
+  /*
+    this code makes no assumption on src or stride.
+    One could remove the recomputation of the perm
+    vector by assuming (stride % 16) == 0, unfortunately
+    this is not always true.
+  */
+  short __attribute__ ((aligned(16))) data[8];
+  int numEq;
+  uint8_t *src2 = src;
+  vector signed short v_dcOffset;
+  vector signed short v2QP;
+  vector unsigned short v4QP;
+  vector unsigned short v_dcThreshold;
+  const int properStride = (stride % 16);
+  const int srcAlign = ((unsigned long)src2 % 16);
+  const int two_vectors = ((srcAlign > 8) || properStride) ? 1 : 0;
+  const vector signed int zero = vec_splat_s32(0);
+  const vector signed short mask = vec_splat_s16(1);
+  vector signed int v_numEq = vec_splat_s32(0);
+
+  data[0] = ((c->nonBQP*c->ppMode.baseDcDiff)>>8) + 1;
+  data[1] = data[0] * 2 + 1;
+  data[2] = c->QP * 2;
+  data[3] = c->QP * 4;
+  vector signed short v_data = vec_ld(0, data);
+  v_dcOffset = vec_splat(v_data, 0);
+  v_dcThreshold = (vector unsigned short)vec_splat(v_data, 1);
+  v2QP = vec_splat(v_data, 2);
+  v4QP = (vector unsigned short)vec_splat(v_data, 3);
+
+  src2 += stride * 4;
+
+  vector signed short v_srcAss0, v_srcAss1, v_srcAss2, v_srcAss3, v_srcAss4, v_srcAss5, v_srcAss6, v_srcAss7;
+
+#define LOAD_LINE(i)                                                    \
+  register int j##i = i * stride;                                       \
+  vector unsigned char perm##i = vec_lvsl(j##i, src2);                  \
+  const vector unsigned char v_srcA1##i = vec_ld(j##i, src2);           \
+  vector unsigned char v_srcA2##i;                                      \
+  if (two_vectors)                                                      \
+    v_srcA2##i = vec_ld(j##i + 16, src2);                               \
+  const vector unsigned char v_srcA##i =                                \
+    vec_perm(v_srcA1##i, v_srcA2##i, perm##i);                          \
+  v_srcAss##i =                                                         \
+    (vector signed short)vec_mergeh((vector signed char)zero,           \
+                                    (vector signed char)v_srcA##i)
+
+#define LOAD_LINE_ALIGNED(i)                                            \
+  register int j##i = i * stride;                                       \
+  const vector unsigned char v_srcA##i = vec_ld(j##i, src2);            \
+  v_srcAss##i =                                                         \
+    (vector signed short)vec_mergeh((vector signed char)zero,           \
+                                    (vector signed char)v_srcA##i)
+
+    // special casing the aligned case is worthwhile, as all call from
+    // the (transposed) horizontable deblocks will be aligned, i naddition
+    // to the naturraly aligned vertical deblocks.
+    if (properStride && srcAlign) {
+      LOAD_LINE_ALIGNED(0);
+      LOAD_LINE_ALIGNED(1);
+      LOAD_LINE_ALIGNED(2);
+      LOAD_LINE_ALIGNED(3);
+      LOAD_LINE_ALIGNED(4);
+      LOAD_LINE_ALIGNED(5);
+      LOAD_LINE_ALIGNED(6);
+      LOAD_LINE_ALIGNED(7);
+    } else {
+      LOAD_LINE(0);
+      LOAD_LINE(1);
+      LOAD_LINE(2);
+      LOAD_LINE(3);
+      LOAD_LINE(4);
+      LOAD_LINE(5);
+      LOAD_LINE(6);
+      LOAD_LINE(7);
+    }
+#undef LOAD_LINE
+#undef LOAD_LINE_ALIGNED
+
+#define ITER(i, j)                                                      \
+  const vector signed short v_diff##i =                                 \
+    vec_sub(v_srcAss##i, v_srcAss##j);                                  \
+  const vector signed short v_sum##i =                                  \
+    vec_add(v_diff##i, v_dcOffset);                                     \
+  const vector signed short v_comp##i =                                 \
+    (vector signed short)vec_cmplt((vector unsigned short)v_sum##i,     \
+                                   v_dcThreshold);                      \
+  const vector signed short v_part##i = vec_and(mask, v_comp##i);       \
+  v_numEq = vec_sum4s(v_part##i, v_numEq);
+
+  ITER(0, 1);
+  ITER(1, 2);
+  ITER(2, 3);
+  ITER(3, 4);
+  ITER(4, 5);
+  ITER(5, 6);
+  ITER(6, 7);
+#undef ITER
+
+  v_numEq = vec_sums(v_numEq, zero);
+
+  v_numEq = vec_splat(v_numEq, 3);
+  vec_ste(v_numEq, 0, &numEq);
+
+  if (numEq > c->ppMode.flatnessThreshold)
+    {
+      const vector unsigned char mmoP1 = (const vector unsigned char)
+        AVV(0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f,
+            0x00, 0x01, 0x12, 0x13, 0x08, 0x09, 0x1A, 0x1B);
+      const vector unsigned char mmoP2 = (const vector unsigned char)
+        AVV(0x04, 0x05, 0x16, 0x17, 0x0C, 0x0D, 0x1E, 0x1F,
+            0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f);
+      const vector unsigned char mmoP = (const vector unsigned char)
+        vec_lvsl(8, (unsigned char*)0);
+
+      vector signed short mmoL1 = vec_perm(v_srcAss0, v_srcAss2, mmoP1);
+      vector signed short mmoL2 = vec_perm(v_srcAss4, v_srcAss6, mmoP2);
+      vector signed short mmoL = vec_perm(mmoL1, mmoL2, mmoP);
+      vector signed short mmoR1 = vec_perm(v_srcAss5, v_srcAss7, mmoP1);
+      vector signed short mmoR2 = vec_perm(v_srcAss1, v_srcAss3, mmoP2);
+      vector signed short mmoR = vec_perm(mmoR1, mmoR2, mmoP);
+      vector signed short mmoDiff = vec_sub(mmoL, mmoR);
+      vector unsigned short mmoSum = (vector unsigned short)vec_add(mmoDiff, v2QP);
+
+      if (vec_any_gt(mmoSum, v4QP))
+        return 0;
+      else
+        return 1;
+    }
+  else return 2;
+}
+
+static inline void doVertLowPass_altivec(uint8_t *src, int stride, PPContext *c) {
+  /*
+    this code makes no assumption on src or stride.
+    One could remove the recomputation of the perm
+    vector by assuming (stride % 16) == 0, unfortunately
+    this is not always true. Quite a lot of load/stores
+    can be removed by assuming proper alignement of
+    src & stride :-(
+  */
+  uint8_t *src2 = src;
+  const vector signed int zero = vec_splat_s32(0);
+  const int properStride = (stride % 16);
+  const int srcAlign = ((unsigned long)src2 % 16);
+  short __attribute__ ((aligned(16))) qp[8];
+  qp[0] = c->QP;
+  vector signed short vqp = vec_ld(0, qp);
+  vqp = vec_splat(vqp, 0);
+
+  src2 += stride*3;
+
+  vector signed short vb0, vb1, vb2, vb3, vb4, vb5, vb6, vb7, vb8, vb9;
+  vector unsigned char vbA0, vbA1, vbA2, vbA3, vbA4, vbA5, vbA6, vbA7, vbA8, vbA9;
+  vector unsigned char vbB0, vbB1, vbB2, vbB3, vbB4, vbB5, vbB6, vbB7, vbB8, vbB9;
+  vector unsigned char vbT0, vbT1, vbT2, vbT3, vbT4, vbT5, vbT6, vbT7, vbT8, vbT9;
+
+#define LOAD_LINE(i)                                                    \
+  const vector unsigned char perml##i =                                 \
+    vec_lvsl(i * stride, src2);                                         \
+  vbA##i = vec_ld(i * stride, src2);                                    \
+  vbB##i = vec_ld(i * stride + 16, src2);                               \
+  vbT##i = vec_perm(vbA##i, vbB##i, perml##i);                          \
+  vb##i =                                                               \
+    (vector signed short)vec_mergeh((vector unsigned char)zero,         \
+                                    (vector unsigned char)vbT##i)
+
+#define LOAD_LINE_ALIGNED(i)                                            \
+  register int j##i = i * stride;                                       \
+  vbT##i = vec_ld(j##i, src2);                                          \
+  vb##i =                                                               \
+    (vector signed short)vec_mergeh((vector signed char)zero,           \
+                                    (vector signed char)vbT##i)
+
+    // special casing the aligned case is worthwhile, as all call from
+    // the (transposed) horizontable deblocks will be aligned, in addition
+    // to the naturraly aligned vertical deblocks.
+    if (properStride && srcAlign) {
+      LOAD_LINE_ALIGNED(0);
+      LOAD_LINE_ALIGNED(1);
+      LOAD_LINE_ALIGNED(2);
+      LOAD_LINE_ALIGNED(3);
+      LOAD_LINE_ALIGNED(4);
+      LOAD_LINE_ALIGNED(5);
+      LOAD_LINE_ALIGNED(6);
+      LOAD_LINE_ALIGNED(7);
+      LOAD_LINE_ALIGNED(8);
+      LOAD_LINE_ALIGNED(9);
+    } else {
+      LOAD_LINE(0);
+      LOAD_LINE(1);
+      LOAD_LINE(2);
+      LOAD_LINE(3);
+      LOAD_LINE(4);
+      LOAD_LINE(5);
+      LOAD_LINE(6);
+      LOAD_LINE(7);
+      LOAD_LINE(8);
+      LOAD_LINE(9);
+    }
+#undef LOAD_LINE
+#undef LOAD_LINE_ALIGNED
+
+  const vector unsigned short v_2 = vec_splat_u16(2);
+  const vector unsigned short v_4 = vec_splat_u16(4);
+
+  const vector signed short v_diff01 = vec_sub(vb0, vb1);
+  const vector unsigned short v_cmp01 =
+    (const vector unsigned short) vec_cmplt(vec_abs(v_diff01), vqp);
+  const vector signed short v_first = vec_sel(vb1, vb0, v_cmp01);
+  const vector signed short v_diff89 = vec_sub(vb8, vb9);
+  const vector unsigned short v_cmp89 =
+    (const vector unsigned short) vec_cmplt(vec_abs(v_diff89), vqp);
+  const vector signed short v_last = vec_sel(vb8, vb9, v_cmp89);
+
+  const vector signed short temp01 = vec_mladd(v_first, (vector signed short)v_4, vb1);
+  const vector signed short temp02 = vec_add(vb2, vb3);
+  const vector signed short temp03 = vec_add(temp01, (vector signed short)v_4);
+  const vector signed short v_sumsB0 = vec_add(temp02, temp03);
+
+  const vector signed short temp11 = vec_sub(v_sumsB0, v_first);
+  const vector signed short v_sumsB1 = vec_add(temp11, vb4);
+
+  const vector signed short temp21 = vec_sub(v_sumsB1, v_first);
+  const vector signed short v_sumsB2 = vec_add(temp21, vb5);
+
+  const vector signed short temp31 = vec_sub(v_sumsB2, v_first);
+  const vector signed short v_sumsB3 = vec_add(temp31, vb6);
+
+  const vector signed short temp41 = vec_sub(v_sumsB3, v_first);
+  const vector signed short v_sumsB4 = vec_add(temp41, vb7);
+
+  const vector signed short temp51 = vec_sub(v_sumsB4, vb1);
+  const vector signed short v_sumsB5 = vec_add(temp51, vb8);
+
+  const vector signed short temp61 = vec_sub(v_sumsB5, vb2);
+  const vector signed short v_sumsB6 = vec_add(temp61, v_last);
+
+  const vector signed short temp71 = vec_sub(v_sumsB6, vb3);
+  const vector signed short v_sumsB7 = vec_add(temp71, v_last);
+
+  const vector signed short temp81 = vec_sub(v_sumsB7, vb4);
+  const vector signed short v_sumsB8 = vec_add(temp81, v_last);
+
+  const vector signed short temp91 = vec_sub(v_sumsB8, vb5);
+  const vector signed short v_sumsB9 = vec_add(temp91, v_last);
+
+#define COMPUTE_VR(i, j, k)                                             \
+  const vector signed short temps1##i =                                 \
+    vec_add(v_sumsB##i, v_sumsB##k);                                    \
+  const vector signed short temps2##i =                                 \
+    vec_mladd(vb##j, (vector signed short)v_2, temps1##i);              \
+  const vector signed short  vr##j = vec_sra(temps2##i, v_4)
+
+  COMPUTE_VR(0, 1, 2);
+  COMPUTE_VR(1, 2, 3);
+  COMPUTE_VR(2, 3, 4);
+  COMPUTE_VR(3, 4, 5);
+  COMPUTE_VR(4, 5, 6);
+  COMPUTE_VR(5, 6, 7);
+  COMPUTE_VR(6, 7, 8);
+  COMPUTE_VR(7, 8, 9);
+
+  const vector signed char neg1 = vec_splat_s8(-1);
+  const vector unsigned char permHH = (const vector unsigned char)AVV(0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,
+                                                                      0x18, 0x19, 0x1A, 0x1B, 0x1C, 0x1D, 0x1E, 0x1F);
+
+#define PACK_AND_STORE(i)                                       \
+  const vector unsigned char perms##i =                         \
+    vec_lvsr(i * stride, src2);                                 \
+  const vector unsigned char vf##i =                            \
+    vec_packsu(vr##i, (vector signed short)zero);               \
+  const vector unsigned char vg##i =                            \
+    vec_perm(vf##i, vbT##i, permHH);                            \
+  const vector unsigned char mask##i =                          \
+    vec_perm((vector unsigned char)zero, (vector unsigned char)neg1, perms##i); \
+  const vector unsigned char vg2##i =                           \
+    vec_perm(vg##i, vg##i, perms##i);                           \
+  const vector unsigned char svA##i =                           \
+    vec_sel(vbA##i, vg2##i, mask##i);                           \
+  const vector unsigned char svB##i =                           \
+    vec_sel(vg2##i, vbB##i, mask##i);                           \
+  vec_st(svA##i, i * stride, src2);                             \
+  vec_st(svB##i, i * stride + 16, src2)
+
+#define PACK_AND_STORE_ALIGNED(i)                               \
+  const vector unsigned char vf##i =                            \
+    vec_packsu(vr##i, (vector signed short)zero);               \
+  const vector unsigned char vg##i =                            \
+    vec_perm(vf##i, vbT##i, permHH);                            \
+  vec_st(vg##i, i * stride, src2)
+
+  // special casing the aligned case is worthwhile, as all call from
+  // the (transposed) horizontable deblocks will be aligned, in addition
+  // to the naturraly aligned vertical deblocks.
+  if (properStride && srcAlign) {
+    PACK_AND_STORE_ALIGNED(1);
+    PACK_AND_STORE_ALIGNED(2);
+    PACK_AND_STORE_ALIGNED(3);
+    PACK_AND_STORE_ALIGNED(4);
+    PACK_AND_STORE_ALIGNED(5);
+    PACK_AND_STORE_ALIGNED(6);
+    PACK_AND_STORE_ALIGNED(7);
+    PACK_AND_STORE_ALIGNED(8);
+  } else {
+    PACK_AND_STORE(1);
+    PACK_AND_STORE(2);
+    PACK_AND_STORE(3);
+    PACK_AND_STORE(4);
+    PACK_AND_STORE(5);
+    PACK_AND_STORE(6);
+    PACK_AND_STORE(7);
+    PACK_AND_STORE(8);
+  }
+#undef PACK_AND_STORE
+#undef PACK_AND_STORE_ALIGNED
+}
+
+
+
+static inline void doVertDefFilter_altivec(uint8_t src[], int stride, PPContext *c) {
+  /*
+    this code makes no assumption on src or stride.
+    One could remove the recomputation of the perm
+    vector by assuming (stride % 16) == 0, unfortunately
+    this is not always true. Quite a lot of load/stores
+    can be removed by assuming proper alignement of
+    src & stride :-(
+  */
+  uint8_t *src2 = src;
+  const vector signed int zero = vec_splat_s32(0);
+  short __attribute__ ((aligned(16))) qp[8];
+  qp[0] = 8*c->QP;
+  vector signed short vqp = vec_ld(0, qp);
+  vqp = vec_splat(vqp, 0);
+
+#define LOAD_LINE(i)                                                    \
+  const vector unsigned char perm##i =                                  \
+    vec_lvsl(i * stride, src2);                                         \
+  const vector unsigned char vbA##i =                                   \
+    vec_ld(i * stride, src2);                                           \
+  const vector unsigned char vbB##i =                                   \
+    vec_ld(i * stride + 16, src2);                                      \
+  const vector unsigned char vbT##i =                                   \
+    vec_perm(vbA##i, vbB##i, perm##i);                                  \
+  const vector signed short vb##i =                                     \
+    (vector signed short)vec_mergeh((vector unsigned char)zero,         \
+                                    (vector unsigned char)vbT##i)
+
+  src2 += stride*3;
+
+  LOAD_LINE(1);
+  LOAD_LINE(2);
+  LOAD_LINE(3);
+  LOAD_LINE(4);
+  LOAD_LINE(5);
+  LOAD_LINE(6);
+  LOAD_LINE(7);
+  LOAD_LINE(8);
+#undef LOAD_LINE
+
+  const vector signed short v_1 = vec_splat_s16(1);
+  const vector signed short v_2 = vec_splat_s16(2);
+  const vector signed short v_5 = vec_splat_s16(5);
+  const vector signed short v_32 = vec_sl(v_1,
+                                          (vector unsigned short)v_5);
+  /* middle energy */
+  const vector signed short l3minusl6 = vec_sub(vb3, vb6);
+  const vector signed short l5minusl4 = vec_sub(vb5, vb4);
+  const vector signed short twotimes_l3minusl6 = vec_mladd(v_2, l3minusl6, (vector signed short)zero);
+  const vector signed short mE = vec_mladd(v_5, l5minusl4, twotimes_l3minusl6);
+  const vector signed short absmE = vec_abs(mE);
+  /* left & right energy */
+  const vector signed short l1minusl4 = vec_sub(vb1, vb4);
+  const vector signed short l3minusl2 = vec_sub(vb3, vb2);
+  const vector signed short l5minusl8 = vec_sub(vb5, vb8);
+  const vector signed short l7minusl6 = vec_sub(vb7, vb6);
+  const vector signed short twotimes_l1minusl4 = vec_mladd(v_2, l1minusl4, (vector signed short)zero);
+  const vector signed short twotimes_l5minusl8 = vec_mladd(v_2, l5minusl8, (vector signed short)zero);
+  const vector signed short lE = vec_mladd(v_5, l3minusl2, twotimes_l1minusl4);
+  const vector signed short rE = vec_mladd(v_5, l7minusl6, twotimes_l5minusl8);
+  /* d */
+  const vector signed short ddiff = vec_sub(absmE,
+                                            vec_min(vec_abs(lE),
+                                                    vec_abs(rE)));
+  const vector signed short ddiffclamp = vec_max(ddiff, (vector signed short)zero);
+  const vector signed short dtimes64 = vec_mladd(v_5, ddiffclamp, v_32);
+  const vector signed short d = vec_sra(dtimes64, vec_splat_u16(6));
+  const vector signed short minusd = vec_sub((vector signed short)zero, d);
+  const vector signed short finald = vec_sel(minusd,
+                                             d,
+                                             vec_cmpgt(vec_sub((vector signed short)zero, mE),
+                                                       (vector signed short)zero));
+  /* q */
+  const vector signed short qtimes2 = vec_sub(vb4, vb5);
+  /* for a shift right to behave like /2, we need to add one
+     to all negative integer */
+  const vector signed short rounddown = vec_sel((vector signed short)zero,
+                                                v_1,
+                                                vec_cmplt(qtimes2, (vector signed short)zero));
+  const vector signed short q = vec_sra(vec_add(qtimes2, rounddown), vec_splat_u16(1));
+  /* clamp */
+  const vector signed short dclamp_P1 = vec_max((vector signed short)zero, finald);
+  const vector signed short dclamp_P = vec_min(dclamp_P1, q);
+  const vector signed short dclamp_N1 = vec_min((vector signed short)zero, finald);
+  const vector signed short dclamp_N = vec_max(dclamp_N1, q);
+
+  const vector signed short dclampedfinal = vec_sel(dclamp_N,
+                                                    dclamp_P,
+                                                    vec_cmpgt(q, (vector signed short)zero));
+  const vector signed short dornotd = vec_sel((vector signed short)zero,
+                                              dclampedfinal,
+                                              vec_cmplt(absmE, vqp));
+  /* add/substract to l4 and l5 */
+  const vector signed short vb4minusd = vec_sub(vb4, dornotd);
+  const vector signed short vb5plusd = vec_add(vb5, dornotd);
+  /* finally, stores */
+  const vector unsigned char st4 = vec_packsu(vb4minusd, (vector signed short)zero);
+  const vector unsigned char st5 = vec_packsu(vb5plusd, (vector signed short)zero);
+
+  const vector signed char neg1 = vec_splat_s8(-1);
+  const vector unsigned char permHH = (const vector unsigned char)AVV(0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,
+                                                                      0x18, 0x19, 0x1A, 0x1B, 0x1C, 0x1D, 0x1E, 0x1F);
+
+#define STORE(i)                                                \
+  const vector unsigned char perms##i =                         \
+    vec_lvsr(i * stride, src2);                                 \
+  const vector unsigned char vg##i =                            \
+    vec_perm(st##i, vbT##i, permHH);                            \
+  const vector unsigned char mask##i =                          \
+    vec_perm((vector unsigned char)zero, (vector unsigned char)neg1, perms##i); \
+  const vector unsigned char vg2##i =                           \
+    vec_perm(vg##i, vg##i, perms##i);                           \
+  const vector unsigned char svA##i =                           \
+    vec_sel(vbA##i, vg2##i, mask##i);                           \
+  const vector unsigned char svB##i =                           \
+    vec_sel(vg2##i, vbB##i, mask##i);                           \
+  vec_st(svA##i, i * stride, src2);                             \
+  vec_st(svB##i, i * stride + 16, src2)
+
+  STORE(4);
+  STORE(5);
+}
+
+static inline void dering_altivec(uint8_t src[], int stride, PPContext *c) {
+  /*
+    this code makes no assumption on src or stride.
+    One could remove the recomputation of the perm
+    vector by assuming (stride % 16) == 0, unfortunately
+    this is not always true. Quite a lot of load/stores
+    can be removed by assuming proper alignement of
+    src & stride :-(
+  */
+  uint8_t *srcCopy = src;
+  uint8_t __attribute__((aligned(16))) dt[16];
+  const vector signed int zero = vec_splat_s32(0);
+  vector unsigned char v_dt;
+  dt[0] = deringThreshold;
+  v_dt = vec_splat(vec_ld(0, dt), 0);
+
+#define LOAD_LINE(i)                                                    \
+  const vector unsigned char perm##i =                                  \
+    vec_lvsl(i * stride, srcCopy);                                      \
+  vector unsigned char sA##i = vec_ld(i * stride, srcCopy);             \
+  vector unsigned char sB##i = vec_ld(i * stride + 16, srcCopy);        \
+  vector unsigned char src##i = vec_perm(sA##i, sB##i, perm##i)
+
+  LOAD_LINE(0);
+  LOAD_LINE(1);
+  LOAD_LINE(2);
+  LOAD_LINE(3);
+  LOAD_LINE(4);
+  LOAD_LINE(5);
+  LOAD_LINE(6);
+  LOAD_LINE(7);
+  LOAD_LINE(8);
+  LOAD_LINE(9);
+#undef LOAD_LINE
+
+  vector unsigned char v_avg;
+  {
+    const vector unsigned char trunc_perm = (vector unsigned char)
+      AVV(0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08,
+          0x11, 0x12, 0x13, 0x14, 0x15, 0x16, 0x17, 0x18);
+    const vector unsigned char trunc_src12 = vec_perm(src1, src2, trunc_perm);
+    const vector unsigned char trunc_src34 = vec_perm(src3, src4, trunc_perm);
+    const vector unsigned char trunc_src56 = vec_perm(src5, src6, trunc_perm);
+    const vector unsigned char trunc_src78 = vec_perm(src7, src8, trunc_perm);
+
+#define EXTRACT(op) do {                                                \
+      const vector unsigned char s##op##_1 = vec_##op(trunc_src12, trunc_src34); \
+      const vector unsigned char s##op##_2 = vec_##op(trunc_src56, trunc_src78); \
+      const vector unsigned char s##op##_6 = vec_##op(s##op##_1, s##op##_2); \
+      const vector unsigned char s##op##_8h = vec_mergeh(s##op##_6, s##op##_6); \
+      const vector unsigned char s##op##_8l = vec_mergel(s##op##_6, s##op##_6); \
+      const vector unsigned char s##op##_9 = vec_##op(s##op##_8h, s##op##_8l); \
+      const vector unsigned char s##op##_9h = vec_mergeh(s##op##_9, s##op##_9); \
+      const vector unsigned char s##op##_9l = vec_mergel(s##op##_9, s##op##_9); \
+      const vector unsigned char s##op##_10 = vec_##op(s##op##_9h, s##op##_9l); \
+      const vector unsigned char s##op##_10h = vec_mergeh(s##op##_10, s##op##_10); \
+      const vector unsigned char s##op##_10l = vec_mergel(s##op##_10, s##op##_10); \
+      const vector unsigned char s##op##_11 = vec_##op(s##op##_10h, s##op##_10l); \
+      const vector unsigned char s##op##_11h = vec_mergeh(s##op##_11, s##op##_11); \
+      const vector unsigned char s##op##_11l = vec_mergel(s##op##_11, s##op##_11); \
+      v_##op = vec_##op(s##op##_11h, s##op##_11l); } while (0)
+
+    vector unsigned char v_min;
+    vector unsigned char v_max;
+    EXTRACT(min);
+    EXTRACT(max);
+#undef EXTRACT
+
+    if (vec_all_lt(vec_sub(v_max, v_min), v_dt))
+      return;
+
+    v_avg = vec_avg(v_min, v_max);
+  }
+
+  signed int __attribute__((aligned(16))) S[8];
+  {
+    const vector unsigned short mask1 = (vector unsigned short)
+      AVV(0x0001, 0x0002, 0x0004, 0x0008,
+          0x0010, 0x0020, 0x0040, 0x0080);
+    const vector unsigned short mask2 = (vector unsigned short)
+      AVV(0x0100, 0x0200, 0x0000, 0x0000,
+          0x0000, 0x0000, 0x0000, 0x0000);
+
+    const vector unsigned int vuint32_16 = vec_sl(vec_splat_u32(1), vec_splat_u32(4));
+    const vector unsigned int vuint32_1 = vec_splat_u32(1);
+
+#define COMPARE(i)                                                      \
+    vector signed int sum##i;                                           \
+    do {                                                                \
+      const vector unsigned char cmp##i =                               \
+        (vector unsigned char)vec_cmpgt(src##i, v_avg);                 \
+      const vector unsigned short cmpHi##i =                            \
+        (vector unsigned short)vec_mergeh(cmp##i, cmp##i);              \
+      const vector unsigned short cmpLi##i =                            \
+        (vector unsigned short)vec_mergel(cmp##i, cmp##i);              \
+      const vector signed short cmpHf##i =                              \
+        (vector signed short)vec_and(cmpHi##i, mask1);                  \
+      const vector signed short cmpLf##i =                              \
+        (vector signed short)vec_and(cmpLi##i, mask2);                  \
+      const vector signed int sump##i = vec_sum4s(cmpHf##i, zero);      \
+      const vector signed int sumq##i = vec_sum4s(cmpLf##i, sump##i);   \
+      sum##i  = vec_sums(sumq##i, zero); } while (0)
+
+    COMPARE(0);
+    COMPARE(1);
+    COMPARE(2);
+    COMPARE(3);
+    COMPARE(4);
+    COMPARE(5);
+    COMPARE(6);
+    COMPARE(7);
+    COMPARE(8);
+    COMPARE(9);
+#undef COMPARE
+
+    vector signed int sumA2;
+    vector signed int sumB2;
+    {
+      const vector signed int sump02 = vec_mergel(sum0, sum2);
+      const vector signed int sump13 = vec_mergel(sum1, sum3);
+      const vector signed int sumA = vec_mergel(sump02, sump13);
+
+      const vector signed int sump46 = vec_mergel(sum4, sum6);
+      const vector signed int sump57 = vec_mergel(sum5, sum7);
+      const vector signed int sumB = vec_mergel(sump46, sump57);
+
+      const vector signed int sump8A = vec_mergel(sum8, zero);
+      const vector signed int sump9B = vec_mergel(sum9, zero);
+      const vector signed int sumC = vec_mergel(sump8A, sump9B);
+
+      const vector signed int tA = vec_sl(vec_nor(zero, sumA), vuint32_16);
+      const vector signed int tB = vec_sl(vec_nor(zero, sumB), vuint32_16);
+      const vector signed int tC = vec_sl(vec_nor(zero, sumC), vuint32_16);
+      const vector signed int t2A = vec_or(sumA, tA);
+      const vector signed int t2B = vec_or(sumB, tB);
+      const vector signed int t2C = vec_or(sumC, tC);
+      const vector signed int t3A = vec_and(vec_sra(t2A, vuint32_1),
+                                            vec_sl(t2A, vuint32_1));
+      const vector signed int t3B = vec_and(vec_sra(t2B, vuint32_1),
+                                            vec_sl(t2B, vuint32_1));
+      const vector signed int t3C = vec_and(vec_sra(t2C, vuint32_1),
+                                            vec_sl(t2C, vuint32_1));
+      const vector signed int yA = vec_and(t2A, t3A);
+      const vector signed int yB = vec_and(t2B, t3B);
+      const vector signed int yC = vec_and(t2C, t3C);
+
+      const vector unsigned char strangeperm1 = vec_lvsl(4, (unsigned char*)0);
+      const vector unsigned char strangeperm2 = vec_lvsl(8, (unsigned char*)0);
+      const vector signed int sumAd4 = vec_perm(yA, yB, strangeperm1);
+      const vector signed int sumAd8 = vec_perm(yA, yB, strangeperm2);
+      const vector signed int sumBd4 = vec_perm(yB, yC, strangeperm1);
+      const vector signed int sumBd8 = vec_perm(yB, yC, strangeperm2);
+      const vector signed int sumAp = vec_and(yA,
+                                              vec_and(sumAd4,sumAd8));
+      const vector signed int sumBp = vec_and(yB,
+                                              vec_and(sumBd4,sumBd8));
+      sumA2 = vec_or(sumAp,
+                     vec_sra(sumAp,
+                             vuint32_16));
+      sumB2  = vec_or(sumBp,
+                      vec_sra(sumBp,
+                              vuint32_16));
+    }
+    vec_st(sumA2, 0, S);
+    vec_st(sumB2, 16, S);
+  }
+
+  /* I'm not sure the following is actually faster
+     than straight, unvectorized C code :-( */
+
+  int __attribute__((aligned(16))) tQP2[4];
+  tQP2[0]= c->QP/2 + 1;
+  vector signed int vQP2 = vec_ld(0, tQP2);
+  vQP2 = vec_splat(vQP2, 0);
+  const vector signed int vsint32_8 = vec_splat_s32(8);
+  const vector unsigned int vuint32_4 = vec_splat_u32(4);
+
+  const vector unsigned char permA1 = (vector unsigned char)
+    AVV(0x00, 0x01, 0x02, 0x10, 0x11, 0x12, 0x1F, 0x1F,
+        0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F);
+  const vector unsigned char permA2 = (vector unsigned char)
+    AVV(0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x10, 0x11,
+        0x12, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F);
+  const vector unsigned char permA1inc = (vector unsigned char)
+    AVV(0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x00,
+        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00);
+  const vector unsigned char permA2inc = (vector unsigned char)
+    AVV(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x01,
+        0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00);
+  const vector unsigned char magic = (vector unsigned char)
+    AVV(0x01, 0x02, 0x01, 0x02, 0x04, 0x02, 0x01, 0x02,
+        0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00);
+  const vector unsigned char extractPerm = (vector unsigned char)
+    AVV(0x10, 0x10, 0x10, 0x01, 0x10, 0x10, 0x10, 0x01,
+        0x10, 0x10, 0x10, 0x01, 0x10, 0x10, 0x10, 0x01);
+  const vector unsigned char extractPermInc = (vector unsigned char)
+    AVV(0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01,
+        0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01);
+  const vector unsigned char identity = vec_lvsl(0,(unsigned char *)0);
+  const vector unsigned char tenRight = (vector unsigned char)
+    AVV(0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
+        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00);
+  const vector unsigned char eightLeft = (vector unsigned char)
+    AVV(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
+        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x08);
+
+
+#define F_INIT(i)                                       \
+  vector unsigned char tenRightM##i = tenRight;         \
+  vector unsigned char permA1M##i = permA1;             \
+  vector unsigned char permA2M##i = permA2;             \
+  vector unsigned char extractPermM##i = extractPerm
+
+#define F2(i, j, k, l)                                                  \
+  if (S[i] & (1 << (l+1))) {                                            \
+    const vector unsigned char a_##j##_A##l =                           \
+      vec_perm(src##i, src##j, permA1M##i);                             \
+    const vector unsigned char a_##j##_B##l =                           \
+      vec_perm(a_##j##_A##l, src##k, permA2M##i);                       \
+    const vector signed int a_##j##_sump##l =                           \
+      (vector signed int)vec_msum(a_##j##_B##l, magic,                  \
+                                  (vector unsigned int)zero);           \
+    vector signed int F_##j##_##l =                                     \
+      vec_sr(vec_sums(a_##j##_sump##l, vsint32_8), vuint32_4);          \
+    F_##j##_##l = vec_splat(F_##j##_##l, 3);                            \
+    const vector signed int p_##j##_##l =                               \
+      (vector signed int)vec_perm(src##j,                               \
+                                  (vector unsigned char)zero,           \
+                                  extractPermM##i);                     \
+    const vector signed int sum_##j##_##l = vec_add( p_##j##_##l, vQP2);\
+    const vector signed int diff_##j##_##l = vec_sub( p_##j##_##l, vQP2);\
+    vector signed int newpm_##j##_##l;                                  \
+    if (vec_all_lt(sum_##j##_##l, F_##j##_##l))                         \
+      newpm_##j##_##l = sum_##j##_##l;                                  \
+    else if (vec_all_gt(diff_##j##_##l, F_##j##_##l))                   \
+      newpm_##j##_##l = diff_##j##_##l;                                 \
+    else newpm_##j##_##l = F_##j##_##l;                                 \
+    const vector unsigned char newpm2_##j##_##l =                       \
+      vec_splat((vector unsigned char)newpm_##j##_##l, 15);             \
+    const vector unsigned char mask##j##l = vec_add(identity,           \
+                                                    tenRightM##i);      \
+    src##j = vec_perm(src##j, newpm2_##j##_##l, mask##j##l);            \
+  }                                                                     \
+  permA1M##i = vec_add(permA1M##i, permA1inc);                          \
+  permA2M##i = vec_add(permA2M##i, permA2inc);                          \
+  tenRightM##i = vec_sro(tenRightM##i, eightLeft);                      \
+  extractPermM##i = vec_add(extractPermM##i, extractPermInc)
+
+#define ITER(i, j, k)                           \
+  F_INIT(i);                                    \
+  F2(i, j, k, 0);                               \
+  F2(i, j, k, 1);                               \
+  F2(i, j, k, 2);                               \
+  F2(i, j, k, 3);                               \
+  F2(i, j, k, 4);                               \
+  F2(i, j, k, 5);                               \
+  F2(i, j, k, 6);                               \
+  F2(i, j, k, 7)
+
+  ITER(0, 1, 2);
+  ITER(1, 2, 3);
+  ITER(2, 3, 4);
+  ITER(3, 4, 5);
+  ITER(4, 5, 6);
+  ITER(5, 6, 7);
+  ITER(6, 7, 8);
+  ITER(7, 8, 9);
+
+  const vector signed char neg1 = vec_splat_s8(-1);
+
+#define STORE_LINE(i)                                   \
+  const vector unsigned char permST##i =                \
+    vec_lvsr(i * stride, srcCopy);                      \
+  const vector unsigned char maskST##i =                \
+    vec_perm((vector unsigned char)zero,                \
+             (vector unsigned char)neg1, permST##i);    \
+  src##i = vec_perm(src##i ,src##i, permST##i);         \
+  sA##i= vec_sel(sA##i, src##i, maskST##i);             \
+  sB##i= vec_sel(src##i, sB##i, maskST##i);             \
+  vec_st(sA##i, i * stride, srcCopy);                   \
+  vec_st(sB##i, i * stride + 16, srcCopy)
+
+  STORE_LINE(1);
+  STORE_LINE(2);
+  STORE_LINE(3);
+  STORE_LINE(4);
+  STORE_LINE(5);
+  STORE_LINE(6);
+  STORE_LINE(7);
+  STORE_LINE(8);
+
+#undef STORE_LINE
+#undef ITER
+#undef F2
+}
+
+#define doHorizLowPass_altivec(a...) doHorizLowPass_C(a)
+#define doHorizDefFilter_altivec(a...) doHorizDefFilter_C(a)
+#define do_a_deblock_altivec(a...) do_a_deblock_C(a)
+
+static inline void RENAME(tempNoiseReducer)(uint8_t *src, int stride,
+                                    uint8_t *tempBlured, uint32_t *tempBluredPast, int *maxNoise)
+{
+  const vector signed int zero = vec_splat_s32(0);
+  const vector signed short vsint16_1 = vec_splat_s16(1);
+  vector signed int v_dp = zero;
+  vector signed int v_sysdp = zero;
+  int d, sysd, i;
+
+  tempBluredPast[127]= maxNoise[0];
+  tempBluredPast[128]= maxNoise[1];
+  tempBluredPast[129]= maxNoise[2];
+
+#define LOAD_LINE(src, i)                                               \
+  register int j##src##i = i * stride;                                  \
+  vector unsigned char perm##src##i = vec_lvsl(j##src##i, src);         \
+  const vector unsigned char v_##src##A1##i = vec_ld(j##src##i, src);   \
+  const vector unsigned char v_##src##A2##i = vec_ld(j##src##i + 16, src); \
+  const vector unsigned char v_##src##A##i =                            \
+    vec_perm(v_##src##A1##i, v_##src##A2##i, perm##src##i);             \
+  vector signed short v_##src##Ass##i =                                 \
+    (vector signed short)vec_mergeh((vector signed char)zero,           \
+                                    (vector signed char)v_##src##A##i)
+
+  LOAD_LINE(src, 0);
+  LOAD_LINE(src, 1);
+  LOAD_LINE(src, 2);
+  LOAD_LINE(src, 3);
+  LOAD_LINE(src, 4);
+  LOAD_LINE(src, 5);
+  LOAD_LINE(src, 6);
+  LOAD_LINE(src, 7);
+
+  LOAD_LINE(tempBlured, 0);
+  LOAD_LINE(tempBlured, 1);
+  LOAD_LINE(tempBlured, 2);
+  LOAD_LINE(tempBlured, 3);
+  LOAD_LINE(tempBlured, 4);
+  LOAD_LINE(tempBlured, 5);
+  LOAD_LINE(tempBlured, 6);
+  LOAD_LINE(tempBlured, 7);
+#undef LOAD_LINE
+
+#define ACCUMULATE_DIFFS(i)                                     \
+  vector signed short v_d##i = vec_sub(v_tempBluredAss##i,      \
+                                       v_srcAss##i);            \
+  v_dp = vec_msums(v_d##i, v_d##i, v_dp);                       \
+  v_sysdp = vec_msums(v_d##i, vsint16_1, v_sysdp)
+
+  ACCUMULATE_DIFFS(0);
+  ACCUMULATE_DIFFS(1);
+  ACCUMULATE_DIFFS(2);
+  ACCUMULATE_DIFFS(3);
+  ACCUMULATE_DIFFS(4);
+  ACCUMULATE_DIFFS(5);
+  ACCUMULATE_DIFFS(6);
+  ACCUMULATE_DIFFS(7);
+#undef ACCUMULATE_DIFFS
+
+  v_dp = vec_sums(v_dp, zero);
+  v_sysdp = vec_sums(v_sysdp, zero);
+
+  v_dp = vec_splat(v_dp, 3);
+  v_sysdp = vec_splat(v_sysdp, 3);
+
+  vec_ste(v_dp, 0, &d);
+  vec_ste(v_sysdp, 0, &sysd);
+
+  i = d;
+  d = (4*d
+       +(*(tempBluredPast-256))
+       +(*(tempBluredPast-1))+ (*(tempBluredPast+1))
+       +(*(tempBluredPast+256))
+       +4)>>3;
+
+  *tempBluredPast=i;
+
+  if (d > maxNoise[1]) {
+    if (d < maxNoise[2]) {
+#define OP(i) v_tempBluredAss##i = vec_avg(v_tempBluredAss##i, v_srcAss##i);
+
+      OP(0);
+      OP(1);
+      OP(2);
+      OP(3);
+      OP(4);
+      OP(5);
+      OP(6);
+      OP(7);
+#undef OP
+    } else {
+#define OP(i) v_tempBluredAss##i = v_srcAss##i;
+
+      OP(0);
+      OP(1);
+      OP(2);
+      OP(3);
+      OP(4);
+      OP(5);
+      OP(6);
+      OP(7);
+#undef OP
+    }
+  } else {
+    if (d < maxNoise[0]) {
+      const vector signed short vsint16_7 = vec_splat_s16(7);
+      const vector signed short vsint16_4 = vec_splat_s16(4);
+      const vector unsigned short vuint16_3 = vec_splat_u16(3);
+
+#define OP(i)                                                   \
+      const vector signed short v_temp##i =                     \
+        vec_mladd(v_tempBluredAss##i,                           \
+                  vsint16_7, v_srcAss##i);                      \
+      const vector signed short v_temp2##i =                    \
+        vec_add(v_temp##i, vsint16_4);                          \
+      v_tempBluredAss##i = vec_sr(v_temp2##i, vuint16_3)
+
+      OP(0);
+      OP(1);
+      OP(2);
+      OP(3);
+      OP(4);
+      OP(5);
+      OP(6);
+      OP(7);
+#undef OP
+    } else {
+      const vector signed short vsint16_3 = vec_splat_s16(3);
+      const vector signed short vsint16_2 = vec_splat_s16(2);
+
+#define OP(i)                                                   \
+      const vector signed short v_temp##i =                     \
+        vec_mladd(v_tempBluredAss##i,                           \
+                  vsint16_3, v_srcAss##i);                      \
+      const vector signed short v_temp2##i =                    \
+        vec_add(v_temp##i, vsint16_2);                          \
+      v_tempBluredAss##i = vec_sr(v_temp2##i, (vector unsigned short)vsint16_2)
+
+      OP(0);
+      OP(1);
+      OP(2);
+      OP(3);
+      OP(4);
+      OP(5);
+      OP(6);
+      OP(7);
+#undef OP
+    }
+  }
+
+  const vector signed char neg1 = vec_splat_s8(-1);
+  const vector unsigned char permHH = (const vector unsigned char)AVV(0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,
+                                                                      0x18, 0x19, 0x1A, 0x1B, 0x1C, 0x1D, 0x1E, 0x1F);
+
+#define PACK_AND_STORE(src, i)                                  \
+  const vector unsigned char perms##src##i =                    \
+    vec_lvsr(i * stride, src);                                  \
+  const vector unsigned char vf##src##i =                       \
+    vec_packsu(v_tempBluredAss##i, (vector signed short)zero);  \
+  const vector unsigned char vg##src##i =                       \
+    vec_perm(vf##src##i, v_##src##A##i, permHH);                \
+  const vector unsigned char mask##src##i =                     \
+    vec_perm((vector unsigned char)zero, (vector unsigned char)neg1, perms##src##i); \
+  const vector unsigned char vg2##src##i =                      \
+    vec_perm(vg##src##i, vg##src##i, perms##src##i);            \
+  const vector unsigned char svA##src##i =                      \
+    vec_sel(v_##src##A1##i, vg2##src##i, mask##src##i);         \
+  const vector unsigned char svB##src##i =                      \
+    vec_sel(vg2##src##i, v_##src##A2##i, mask##src##i);         \
+  vec_st(svA##src##i, i * stride, src);                         \
+  vec_st(svB##src##i, i * stride + 16, src)
+
+  PACK_AND_STORE(src, 0);
+  PACK_AND_STORE(src, 1);
+  PACK_AND_STORE(src, 2);
+  PACK_AND_STORE(src, 3);
+  PACK_AND_STORE(src, 4);
+  PACK_AND_STORE(src, 5);
+  PACK_AND_STORE(src, 6);
+  PACK_AND_STORE(src, 7);
+  PACK_AND_STORE(tempBlured, 0);
+  PACK_AND_STORE(tempBlured, 1);
+  PACK_AND_STORE(tempBlured, 2);
+  PACK_AND_STORE(tempBlured, 3);
+  PACK_AND_STORE(tempBlured, 4);
+  PACK_AND_STORE(tempBlured, 5);
+  PACK_AND_STORE(tempBlured, 6);
+  PACK_AND_STORE(tempBlured, 7);
+#undef PACK_AND_STORE
+}
+
+static inline void transpose_16x8_char_toPackedAlign_altivec(unsigned char* dst, unsigned char* src, int stride) {
+  const vector unsigned char zero = vec_splat_u8(0);
+
+#define LOAD_DOUBLE_LINE(i, j)                                          \
+  vector unsigned char perm1##i = vec_lvsl(i * stride, src);            \
+  vector unsigned char perm2##i = vec_lvsl(j * stride, src);            \
+  vector unsigned char srcA##i = vec_ld(i * stride, src);               \
+  vector unsigned char srcB##i = vec_ld(i * stride + 16, src);          \
+  vector unsigned char srcC##i = vec_ld(j * stride, src);               \
+  vector unsigned char srcD##i = vec_ld(j * stride+ 16, src);           \
+  vector unsigned char src##i = vec_perm(srcA##i, srcB##i, perm1##i);   \
+  vector unsigned char src##j = vec_perm(srcC##i, srcD##i, perm2##i)
+
+  LOAD_DOUBLE_LINE(0, 1);
+  LOAD_DOUBLE_LINE(2, 3);
+  LOAD_DOUBLE_LINE(4, 5);
+  LOAD_DOUBLE_LINE(6, 7);
+#undef LOAD_DOUBLE_LINE
+
+  vector unsigned char tempA = vec_mergeh(src0, zero);
+  vector unsigned char tempB = vec_mergel(src0, zero);
+  vector unsigned char tempC = vec_mergeh(src1, zero);
+  vector unsigned char tempD = vec_mergel(src1, zero);
+  vector unsigned char tempE = vec_mergeh(src2, zero);
+  vector unsigned char tempF = vec_mergel(src2, zero);
+  vector unsigned char tempG = vec_mergeh(src3, zero);
+  vector unsigned char tempH = vec_mergel(src3, zero);
+  vector unsigned char tempI = vec_mergeh(src4, zero);
+  vector unsigned char tempJ = vec_mergel(src4, zero);
+  vector unsigned char tempK = vec_mergeh(src5, zero);
+  vector unsigned char tempL = vec_mergel(src5, zero);
+  vector unsigned char tempM = vec_mergeh(src6, zero);
+  vector unsigned char tempN = vec_mergel(src6, zero);
+  vector unsigned char tempO = vec_mergeh(src7, zero);
+  vector unsigned char tempP = vec_mergel(src7, zero);
+
+  vector unsigned char temp0 = vec_mergeh(tempA, tempI);
+  vector unsigned char temp1 = vec_mergel(tempA, tempI);
+  vector unsigned char temp2 = vec_mergeh(tempB, tempJ);
+  vector unsigned char temp3 = vec_mergel(tempB, tempJ);
+  vector unsigned char temp4 = vec_mergeh(tempC, tempK);
+  vector unsigned char temp5 = vec_mergel(tempC, tempK);
+  vector unsigned char temp6 = vec_mergeh(tempD, tempL);
+  vector unsigned char temp7 = vec_mergel(tempD, tempL);
+  vector unsigned char temp8 = vec_mergeh(tempE, tempM);
+  vector unsigned char temp9 = vec_mergel(tempE, tempM);
+  vector unsigned char temp10 = vec_mergeh(tempF, tempN);
+  vector unsigned char temp11 = vec_mergel(tempF, tempN);
+  vector unsigned char temp12 = vec_mergeh(tempG, tempO);
+  vector unsigned char temp13 = vec_mergel(tempG, tempO);
+  vector unsigned char temp14 = vec_mergeh(tempH, tempP);
+  vector unsigned char temp15 = vec_mergel(tempH, tempP);
+
+  tempA = vec_mergeh(temp0, temp8);
+  tempB = vec_mergel(temp0, temp8);
+  tempC = vec_mergeh(temp1, temp9);
+  tempD = vec_mergel(temp1, temp9);
+  tempE = vec_mergeh(temp2, temp10);
+  tempF = vec_mergel(temp2, temp10);
+  tempG = vec_mergeh(temp3, temp11);
+  tempH = vec_mergel(temp3, temp11);
+  tempI = vec_mergeh(temp4, temp12);
+  tempJ = vec_mergel(temp4, temp12);
+  tempK = vec_mergeh(temp5, temp13);
+  tempL = vec_mergel(temp5, temp13);
+  tempM = vec_mergeh(temp6, temp14);
+  tempN = vec_mergel(temp6, temp14);
+  tempO = vec_mergeh(temp7, temp15);
+  tempP = vec_mergel(temp7, temp15);
+
+  temp0 = vec_mergeh(tempA, tempI);
+  temp1 = vec_mergel(tempA, tempI);
+  temp2 = vec_mergeh(tempB, tempJ);
+  temp3 = vec_mergel(tempB, tempJ);
+  temp4 = vec_mergeh(tempC, tempK);
+  temp5 = vec_mergel(tempC, tempK);
+  temp6 = vec_mergeh(tempD, tempL);
+  temp7 = vec_mergel(tempD, tempL);
+  temp8 = vec_mergeh(tempE, tempM);
+  temp9 = vec_mergel(tempE, tempM);
+  temp10 = vec_mergeh(tempF, tempN);
+  temp11 = vec_mergel(tempF, tempN);
+  temp12 = vec_mergeh(tempG, tempO);
+  temp13 = vec_mergel(tempG, tempO);
+  temp14 = vec_mergeh(tempH, tempP);
+  temp15 = vec_mergel(tempH, tempP);
+
+  vec_st(temp0, 0, dst);
+  vec_st(temp1, 16, dst);
+  vec_st(temp2, 32, dst);
+  vec_st(temp3, 48, dst);
+  vec_st(temp4, 64, dst);
+  vec_st(temp5, 80, dst);
+  vec_st(temp6, 96, dst);
+  vec_st(temp7, 112, dst);
+  vec_st(temp8, 128, dst);
+  vec_st(temp9, 144, dst);
+  vec_st(temp10, 160, dst);
+  vec_st(temp11, 176, dst);
+  vec_st(temp12, 192, dst);
+  vec_st(temp13, 208, dst);
+  vec_st(temp14, 224, dst);
+  vec_st(temp15, 240, dst);
+}
+
+static inline void transpose_8x16_char_fromPackedAlign_altivec(unsigned char* dst, unsigned char* src, int stride) {
+  const vector unsigned char zero = vec_splat_u8(0);
+
+#define LOAD_DOUBLE_LINE(i, j)                                  \
+  vector unsigned char src##i = vec_ld(i * 16, src);            \
+  vector unsigned char src##j = vec_ld(j * 16, src)
+
+  LOAD_DOUBLE_LINE(0, 1);
+  LOAD_DOUBLE_LINE(2, 3);
+  LOAD_DOUBLE_LINE(4, 5);
+  LOAD_DOUBLE_LINE(6, 7);
+  LOAD_DOUBLE_LINE(8, 9);
+  LOAD_DOUBLE_LINE(10, 11);
+  LOAD_DOUBLE_LINE(12, 13);
+  LOAD_DOUBLE_LINE(14, 15);
+#undef LOAD_DOUBLE_LINE
+
+  vector unsigned char tempA = vec_mergeh(src0, src8);
+  vector unsigned char tempB;
+  vector unsigned char tempC = vec_mergeh(src1, src9);
+  vector unsigned char tempD;
+  vector unsigned char tempE = vec_mergeh(src2, src10);
+  vector unsigned char tempG = vec_mergeh(src3, src11);
+  vector unsigned char tempI = vec_mergeh(src4, src12);
+  vector unsigned char tempJ;
+  vector unsigned char tempK = vec_mergeh(src5, src13);
+  vector unsigned char tempL;
+  vector unsigned char tempM = vec_mergeh(src6, src14);
+  vector unsigned char tempO = vec_mergeh(src7, src15);
+
+  vector unsigned char temp0 = vec_mergeh(tempA, tempI);
+  vector unsigned char temp1 = vec_mergel(tempA, tempI);
+  vector unsigned char temp2;
+  vector unsigned char temp3;
+  vector unsigned char temp4 = vec_mergeh(tempC, tempK);
+  vector unsigned char temp5 = vec_mergel(tempC, tempK);
+  vector unsigned char temp6;
+  vector unsigned char temp7;
+  vector unsigned char temp8 = vec_mergeh(tempE, tempM);
+  vector unsigned char temp9 = vec_mergel(tempE, tempM);
+  vector unsigned char temp12 = vec_mergeh(tempG, tempO);
+  vector unsigned char temp13 = vec_mergel(tempG, tempO);
+
+  tempA = vec_mergeh(temp0, temp8);
+  tempB = vec_mergel(temp0, temp8);
+  tempC = vec_mergeh(temp1, temp9);
+  tempD = vec_mergel(temp1, temp9);
+  tempI = vec_mergeh(temp4, temp12);
+  tempJ = vec_mergel(temp4, temp12);
+  tempK = vec_mergeh(temp5, temp13);
+  tempL = vec_mergel(temp5, temp13);
+
+  temp0 = vec_mergeh(tempA, tempI);
+  temp1 = vec_mergel(tempA, tempI);
+  temp2 = vec_mergeh(tempB, tempJ);
+  temp3 = vec_mergel(tempB, tempJ);
+  temp4 = vec_mergeh(tempC, tempK);
+  temp5 = vec_mergel(tempC, tempK);
+  temp6 = vec_mergeh(tempD, tempL);
+  temp7 = vec_mergel(tempD, tempL);
+
+
+  const vector signed char neg1 = vec_splat_s8(-1);
+#define STORE_DOUBLE_LINE(i, j)                                         \
+  vector unsigned char dstA##i = vec_ld(i * stride, dst);               \
+  vector unsigned char dstB##i = vec_ld(i * stride + 16, dst);          \
+  vector unsigned char dstA##j = vec_ld(j * stride, dst);               \
+  vector unsigned char dstB##j = vec_ld(j * stride+ 16, dst);           \
+  vector unsigned char align##i = vec_lvsr(i * stride, dst);            \
+  vector unsigned char align##j = vec_lvsr(j * stride, dst);            \
+  vector unsigned char mask##i = vec_perm(zero, (vector unsigned char)neg1, align##i); \
+  vector unsigned char mask##j = vec_perm(zero, (vector unsigned char)neg1, align##j); \
+  vector unsigned char dstR##i = vec_perm(temp##i, temp##i, align##i);  \
+  vector unsigned char dstR##j = vec_perm(temp##j, temp##j, align##j);  \
+  vector unsigned char dstAF##i = vec_sel(dstA##i, dstR##i, mask##i);   \
+  vector unsigned char dstBF##i = vec_sel(dstR##i, dstB##i, mask##i);   \
+  vector unsigned char dstAF##j = vec_sel(dstA##j, dstR##j, mask##j);   \
+  vector unsigned char dstBF##j = vec_sel(dstR##j, dstB##j, mask##j);   \
+  vec_st(dstAF##i, i * stride, dst);                                    \
+  vec_st(dstBF##i, i * stride + 16, dst);                               \
+  vec_st(dstAF##j, j * stride, dst);                                    \
+  vec_st(dstBF##j, j * stride + 16, dst)
+
+  STORE_DOUBLE_LINE(0,1);
+  STORE_DOUBLE_LINE(2,3);
+  STORE_DOUBLE_LINE(4,5);
+  STORE_DOUBLE_LINE(6,7);
+}

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess_internal.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess_internal.h	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess_internal.h	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,183 @@
+/*
+ * Copyright (C) 2001-2002 Michael Niedermayer (michaelni at gmx.at)
+ *
+ * This file is part of FFmpeg.
+ *
+ * FFmpeg is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * FFmpeg is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with FFmpeg; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
+ */
+
+/**
+ * @file postprocess_internal.h
+ * internal api header.
+ */
+
+#include "../ADM_lavutil/avutil.h"
+
+#define V_DEBLOCK       0x01
+#define H_DEBLOCK       0x02
+#define DERING          0x04
+#define LEVEL_FIX       0x08 ///< Brightness & Contrast
+
+#define LUM_V_DEBLOCK   V_DEBLOCK               //   1
+#define LUM_H_DEBLOCK   H_DEBLOCK               //   2
+#define CHROM_V_DEBLOCK (V_DEBLOCK<<4)          //  16
+#define CHROM_H_DEBLOCK (H_DEBLOCK<<4)          //  32
+#define LUM_DERING      DERING                  //   4
+#define CHROM_DERING    (DERING<<4)             //  64
+#define LUM_LEVEL_FIX   LEVEL_FIX               //   8
+#define CHROM_LEVEL_FIX (LEVEL_FIX<<4)          // 128 (not implemented yet)
+
+// Experimental vertical filters
+#define V_X1_FILTER     0x0200                  // 512
+#define V_A_DEBLOCK     0x0400
+
+// Experimental horizontal filters
+#define H_X1_FILTER     0x2000                  // 8192
+#define H_A_DEBLOCK     0x4000
+
+/// select between full y range (255-0) or standart one (234-16)
+#define FULL_Y_RANGE    0x8000                  // 32768
+
+//Deinterlacing Filters
+#define        LINEAR_IPOL_DEINT_FILTER         0x10000 // 65536
+#define        LINEAR_BLEND_DEINT_FILTER        0x20000 // 131072
+#define        CUBIC_BLEND_DEINT_FILTER         0x8000  // (not implemented yet)
+#define        CUBIC_IPOL_DEINT_FILTER          0x40000 // 262144
+#define        MEDIAN_DEINT_FILTER              0x80000 // 524288
+#define        FFMPEG_DEINT_FILTER              0x400000
+#define        LOWPASS5_DEINT_FILTER            0x800000
+
+#define TEMP_NOISE_FILTER               0x100000
+#define FORCE_QUANT                     0x200000
+
+#if ( defined(__PIC__) || defined(__pic__) ) && ! defined(PIC)
+#    define PIC
+#endif
+
+//use if u want a faster postprocessing code
+//cant differentiate between chroma & luma filters (both on or both off)
+//obviosly the -pp option at the commandline has no effect except turning the here selected
+//filters on
+//#define COMPILE_TIME_MODE 0x77
+
+#if 1
+static inline int CLIP(int a){
+        if(a&256) return ((a)>>31)^(-1);
+        else      return a;
+}
+//#define CLIP(a) (((a)&256) ? ((a)>>31)^(-1) : (a))
+#elif 0
+#define CLIP(a) clip_tab[a]
+#else
+#define CLIP(a) (a)
+#endif
+/**
+ * Postprocessng filter.
+ */
+struct PPFilter{
+        const char *shortName;
+        const char *longName;
+        int chromDefault;       ///< is chrominance filtering on by default if this filter is manually activated
+        int minLumQuality;      ///< minimum quality to turn luminance filtering on
+        int minChromQuality;    ///< minimum quality to turn chrominance filtering on
+        int mask;               ///< Bitmask to turn this filter on
+};
+
+/**
+ * Postprocessng mode.
+ */
+typedef struct PPMode{
+        int lumMode;                    ///< acivates filters for luminance
+        int chromMode;                  ///< acivates filters for chrominance
+        int error;                      ///< non zero on error
+
+        int minAllowedY;                ///< for brigtness correction
+        int maxAllowedY;                ///< for brihtness correction
+        float maxClippedThreshold;      ///< amount of "black" u r willing to loose to get a brightness corrected picture
+
+        int maxTmpNoise[3];             ///< for Temporal Noise Reducing filter (Maximal sum of abs differences)
+
+        int baseDcDiff;
+        int flatnessThreshold;
+
+        int forcedQuant;                ///< quantizer if FORCE_QUANT is used
+} PPMode;
+
+/**
+ * postprocess context.
+ */
+typedef struct PPContext{
+        /**
+         * info on struct for av_log
+         */
+        AVClass *av_class;
+
+        uint8_t *tempBlocks; ///<used for the horizontal code
+
+        /**
+         * luma histogram.
+         * we need 64bit here otherwise we'll going to have a problem
+         * after watching a black picture for 5 hours
+         */
+        uint64_t *yHistogram;
+
+        DECLARE_ALIGNED(8, uint64_t, packedYOffset);
+        DECLARE_ALIGNED(8, uint64_t, packedYScale);
+
+        /** Temporal noise reducing buffers */
+        uint8_t *tempBlured[3];
+        int32_t *tempBluredPast[3];
+
+        /** Temporary buffers for handling the last row(s) */
+        uint8_t *tempDst;
+        uint8_t *tempSrc;
+
+        uint8_t *deintTemp;
+
+        DECLARE_ALIGNED(8, uint64_t, pQPb);
+        DECLARE_ALIGNED(8, uint64_t, pQPb2);
+
+        DECLARE_ALIGNED(8, uint64_t, mmxDcOffset[64]);
+        DECLARE_ALIGNED(8, uint64_t, mmxDcThreshold[64]);
+
+        QP_STORE_T *stdQPTable;       ///< used to fix MPEG2 style qscale
+        QP_STORE_T *nonBQPTable;
+        QP_STORE_T *forcedQPTable;
+
+        int QP;
+        int nonBQP;
+
+        int frameNum;
+
+        int cpuCaps;
+
+        int qpStride; ///<size of qp buffers (needed to realloc them if needed)
+        int stride;   ///<size of some buffers (needed to realloc them if needed)
+
+        int hChromaSubSample;
+        int vChromaSubSample;
+
+        PPMode ppMode;
+} PPContext;
+
+
+static inline void linecpy(void *dest, void *src, int lines, int stride)
+{
+        if (stride > 0) {
+                memcpy(dest, src, lines*stride);
+        } else {
+                memcpy(dest+(lines-1)*stride, src+(lines-1)*stride, -lines*stride);
+        }
+}

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess_template.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess_template.c	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libpostproc/postprocess_template.c	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,3843 @@
+/*
+ * Copyright (C) 2001-2002 Michael Niedermayer (michaelni at gmx.at)
+ *
+ * This file is part of FFmpeg.
+ *
+ * FFmpeg is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * FFmpeg is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with FFmpeg; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
+*/
+
+/**
+ * @file postprocess_template.c
+ * mmx/mmx2/3dnow postprocess code.
+ */
+
+
+#ifdef ARCH_X86_64
+#  define REGa  rax
+#  define REGc  rcx
+#  define REGd  rdx
+#  define REG_a  "rax"
+#  define REG_c  "rcx"
+#  define REG_d  "rdx"
+#  define REG_SP "rsp"
+#  define ALIGN_MASK "$0xFFFFFFFFFFFFFFF8"
+#else
+#  define REGa  eax
+#  define REGc  ecx
+#  define REGd  edx
+#  define REG_a  "eax"
+#  define REG_c  "ecx"
+#  define REG_d  "edx"
+#  define REG_SP "esp"
+#  define ALIGN_MASK "$0xFFFFFFF8"
+#endif
+
+
+#undef PAVGB
+#undef PMINUB
+#undef PMAXUB
+
+#ifdef HAVE_MMX2
+#define REAL_PAVGB(a,b) "pavgb " #a ", " #b " \n\t"
+#elif defined (HAVE_3DNOW)
+#define REAL_PAVGB(a,b) "pavgusb " #a ", " #b " \n\t"
+#endif
+#define PAVGB(a,b)  REAL_PAVGB(a,b)
+
+#ifdef HAVE_MMX2
+#define PMINUB(a,b,t) "pminub " #a ", " #b " \n\t"
+#elif defined (HAVE_MMX)
+#define PMINUB(b,a,t) \
+        "movq " #a ", " #t " \n\t"\
+        "psubusb " #b ", " #t " \n\t"\
+        "psubb " #t ", " #a " \n\t"
+#endif
+
+#ifdef HAVE_MMX2
+#define PMAXUB(a,b) "pmaxub " #a ", " #b " \n\t"
+#elif defined (HAVE_MMX)
+#define PMAXUB(a,b) \
+        "psubusb " #a ", " #b " \n\t"\
+        "paddb " #a ", " #b " \n\t"
+#endif
+
+//FIXME? |255-0| = 1 (shouldnt be a problem ...)
+#ifdef HAVE_MMX
+/**
+ * Check if the middle 8x8 Block in the given 8x16 block is flat
+ */
+static inline int RENAME(vertClassify)(uint8_t src[], int stride, PPContext *c){
+        int numEq= 0, dcOk;
+        src+= stride*4; // src points to begin of the 8x8 Block
+asm volatile(
+                "movq %0, %%mm7                         \n\t"
+                "movq %1, %%mm6                         \n\t"
+                : : "m" (c->mmxDcOffset[c->nonBQP]),  "m" (c->mmxDcThreshold[c->nonBQP])
+                );
+
+asm volatile(
+                "lea (%2, %3), %%"REG_a"                \n\t"
+//      0       1       2       3       4       5       6       7       8       9
+//      %1      eax     eax+%2  eax+2%2 %1+4%2  ecx     ecx+%2  ecx+2%2 %1+8%2  ecx+4%2
+
+                "movq (%2), %%mm0                       \n\t"
+                "movq (%%"REG_a"), %%mm1                \n\t"
+                "movq %%mm0, %%mm3                      \n\t"
+                "movq %%mm0, %%mm4                      \n\t"
+                PMAXUB(%%mm1, %%mm4)
+                PMINUB(%%mm1, %%mm3, %%mm5)
+                "psubb %%mm1, %%mm0                     \n\t" // mm0 = differnece
+                "paddb %%mm7, %%mm0                     \n\t"
+                "pcmpgtb %%mm6, %%mm0                   \n\t"
+
+                "movq (%%"REG_a",%3), %%mm2             \n\t"
+                PMAXUB(%%mm2, %%mm4)
+                PMINUB(%%mm2, %%mm3, %%mm5)
+                "psubb %%mm2, %%mm1                     \n\t"
+                "paddb %%mm7, %%mm1                     \n\t"
+                "pcmpgtb %%mm6, %%mm1                   \n\t"
+                "paddb %%mm1, %%mm0                     \n\t"
+
+                "movq (%%"REG_a", %3, 2), %%mm1         \n\t"
+                PMAXUB(%%mm1, %%mm4)
+                PMINUB(%%mm1, %%mm3, %%mm5)
+                "psubb %%mm1, %%mm2                     \n\t"
+                "paddb %%mm7, %%mm2                     \n\t"
+                "pcmpgtb %%mm6, %%mm2                   \n\t"
+                "paddb %%mm2, %%mm0                     \n\t"
+
+                "lea (%%"REG_a", %3, 4), %%"REG_a"      \n\t"
+
+                "movq (%2, %3, 4), %%mm2                \n\t"
+                PMAXUB(%%mm2, %%mm4)
+                PMINUB(%%mm2, %%mm3, %%mm5)
+                "psubb %%mm2, %%mm1                     \n\t"
+                "paddb %%mm7, %%mm1                     \n\t"
+                "pcmpgtb %%mm6, %%mm1                   \n\t"
+                "paddb %%mm1, %%mm0                     \n\t"
+
+                "movq (%%"REG_a"), %%mm1                \n\t"
+                PMAXUB(%%mm1, %%mm4)
+                PMINUB(%%mm1, %%mm3, %%mm5)
+                "psubb %%mm1, %%mm2                     \n\t"
+                "paddb %%mm7, %%mm2                     \n\t"
+                "pcmpgtb %%mm6, %%mm2                   \n\t"
+                "paddb %%mm2, %%mm0                     \n\t"
+
+                "movq (%%"REG_a", %3), %%mm2            \n\t"
+                PMAXUB(%%mm2, %%mm4)
+                PMINUB(%%mm2, %%mm3, %%mm5)
+                "psubb %%mm2, %%mm1                     \n\t"
+                "paddb %%mm7, %%mm1                     \n\t"
+                "pcmpgtb %%mm6, %%mm1                   \n\t"
+                "paddb %%mm1, %%mm0                     \n\t"
+
+                "movq (%%"REG_a", %3, 2), %%mm1         \n\t"
+                PMAXUB(%%mm1, %%mm4)
+                PMINUB(%%mm1, %%mm3, %%mm5)
+                "psubb %%mm1, %%mm2                     \n\t"
+                "paddb %%mm7, %%mm2                     \n\t"
+                "pcmpgtb %%mm6, %%mm2                   \n\t"
+                "paddb %%mm2, %%mm0                     \n\t"
+                "psubusb %%mm3, %%mm4                   \n\t"
+
+                "                                       \n\t"
+#ifdef HAVE_MMX2
+                "pxor %%mm7, %%mm7                      \n\t"
+                "psadbw %%mm7, %%mm0                    \n\t"
+#else
+                "movq %%mm0, %%mm1                      \n\t"
+                "psrlw $8, %%mm0                        \n\t"
+                "paddb %%mm1, %%mm0                     \n\t"
+                "movq %%mm0, %%mm1                      \n\t"
+                "psrlq $16, %%mm0                       \n\t"
+                "paddb %%mm1, %%mm0                     \n\t"
+                "movq %%mm0, %%mm1                      \n\t"
+                "psrlq $32, %%mm0                       \n\t"
+                "paddb %%mm1, %%mm0                     \n\t"
+#endif
+                "movq %4, %%mm7                         \n\t" // QP,..., QP
+                "paddusb %%mm7, %%mm7                   \n\t" // 2QP ... 2QP
+                "psubusb %%mm7, %%mm4                   \n\t" // Diff <= 2QP -> 0
+                "packssdw %%mm4, %%mm4                  \n\t"
+                "movd %%mm0, %0                         \n\t"
+                "movd %%mm4, %1                         \n\t"
+
+                : "=r" (numEq), "=r" (dcOk)
+                : "r" (src), "r" ((long)stride), "m" (c->pQPb)
+                : "%"REG_a
+                );
+
+        numEq= (-numEq) &0xFF;
+        if(numEq > c->ppMode.flatnessThreshold){
+            if(dcOk) return 0;
+            else     return 1;
+        }else{
+            return 2;
+        }
+}
+#endif //HAVE_MMX
+
+/**
+ * Do a vertical low pass filter on the 8x16 block (only write to the 8x8 block in the middle)
+ * using the 9-Tap Filter (1,1,2,2,4,2,2,1,1)/16
+ */
+#ifndef HAVE_ALTIVEC
+static inline void RENAME(doVertLowPass)(uint8_t *src, int stride, PPContext *c)
+{
+#if defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+        src+= stride*3;
+        asm volatile(        //"movv %0 %1 %2\n\t"
+                "movq %2, %%mm0                         \n\t"  // QP,..., QP
+                "pxor %%mm4, %%mm4                      \n\t"
+
+                "movq (%0), %%mm6                       \n\t"
+                "movq (%0, %1), %%mm5                   \n\t"
+                "movq %%mm5, %%mm1                      \n\t"
+                "movq %%mm6, %%mm2                      \n\t"
+                "psubusb %%mm6, %%mm5                   \n\t"
+                "psubusb %%mm1, %%mm2                   \n\t"
+                "por %%mm5, %%mm2                       \n\t" // ABS Diff of lines
+                "psubusb %%mm0, %%mm2                   \n\t" // diff <= QP -> 0
+                "pcmpeqb %%mm4, %%mm2                   \n\t" // diff <= QP -> FF
+
+                "pand %%mm2, %%mm6                      \n\t"
+                "pandn %%mm1, %%mm2                     \n\t"
+                "por %%mm2, %%mm6                       \n\t"// First Line to Filter
+
+                "movq (%0, %1, 8), %%mm5                \n\t"
+                "lea (%0, %1, 4), %%"REG_a"             \n\t"
+                "lea (%0, %1, 8), %%"REG_c"             \n\t"
+                "sub %1, %%"REG_c"                      \n\t"
+                "add %1, %0                             \n\t" // %0 points to line 1 not 0
+                "movq (%0, %1, 8), %%mm7                \n\t"
+                "movq %%mm5, %%mm1                      \n\t"
+                "movq %%mm7, %%mm2                      \n\t"
+                "psubusb %%mm7, %%mm5                   \n\t"
+                "psubusb %%mm1, %%mm2                   \n\t"
+                "por %%mm5, %%mm2                       \n\t" // ABS Diff of lines
+                "psubusb %%mm0, %%mm2                   \n\t" // diff <= QP -> 0
+                "pcmpeqb %%mm4, %%mm2                   \n\t" // diff <= QP -> FF
+
+                "pand %%mm2, %%mm7                      \n\t"
+                "pandn %%mm1, %%mm2                     \n\t"
+                "por %%mm2, %%mm7                       \n\t" // First Line to Filter
+
+
+                //      1       2       3       4       5       6       7       8
+                //      %0      %0+%1   %0+2%1  eax     %0+4%1  eax+2%1 ecx     eax+4%1
+                // 6 4 2 2 1 1
+                // 6 4 4 2
+                // 6 8 2
+
+                "movq (%0, %1), %%mm0                   \n\t" //  1
+                "movq %%mm0, %%mm1                      \n\t" //  1
+                PAVGB(%%mm6, %%mm0)                           //1 1        /2
+                PAVGB(%%mm6, %%mm0)                           //3 1        /4
+
+                "movq (%0, %1, 4), %%mm2                \n\t" //     1
+                "movq %%mm2, %%mm5                      \n\t" //     1
+                PAVGB((%%REGa), %%mm2)                        //    11        /2
+                PAVGB((%0, %1, 2), %%mm2)                     //   211        /4
+                "movq %%mm2, %%mm3                      \n\t" //   211        /4
+                "movq (%0), %%mm4                       \n\t" // 1
+                PAVGB(%%mm4, %%mm3)                           // 4 211        /8
+                PAVGB(%%mm0, %%mm3)                           //642211        /16
+                "movq %%mm3, (%0)                       \n\t" // X
+                // mm1=2 mm2=3(211) mm4=1 mm5=5 mm6=0 mm7=9
+                "movq %%mm1, %%mm0                      \n\t" //  1
+                PAVGB(%%mm6, %%mm0)                           //1 1        /2
+                "movq %%mm4, %%mm3                      \n\t" // 1
+                PAVGB((%0,%1,2), %%mm3)                       // 1 1        /2
+                PAVGB((%%REGa,%1,2), %%mm5)                   //     11        /2
+                PAVGB((%%REGa), %%mm5)                        //    211 /4
+                PAVGB(%%mm5, %%mm3)                           // 2 2211 /8
+                PAVGB(%%mm0, %%mm3)                           //4242211 /16
+                "movq %%mm3, (%0,%1)                    \n\t" //  X
+                // mm1=2 mm2=3(211) mm4=1 mm5=4(211) mm6=0 mm7=9
+                PAVGB(%%mm4, %%mm6)                                   //11        /2
+                "movq (%%"REG_c"), %%mm0                \n\t" //       1
+                PAVGB((%%REGa, %1, 2), %%mm0)                 //      11/2
+                "movq %%mm0, %%mm3                      \n\t" //      11/2
+                PAVGB(%%mm1, %%mm0)                           //  2   11/4
+                PAVGB(%%mm6, %%mm0)                           //222   11/8
+                PAVGB(%%mm2, %%mm0)                           //22242211/16
+                "movq (%0, %1, 2), %%mm2                \n\t" //   1
+                "movq %%mm0, (%0, %1, 2)                \n\t" //   X
+                // mm1=2 mm2=3 mm3=6(11) mm4=1 mm5=4(211) mm6=0(11) mm7=9
+                "movq (%%"REG_a", %1, 4), %%mm0         \n\t" //        1
+                PAVGB((%%REGc), %%mm0)                        //       11        /2
+                PAVGB(%%mm0, %%mm6)                           //11     11        /4
+                PAVGB(%%mm1, %%mm4)                           // 11                /2
+                PAVGB(%%mm2, %%mm1)                           //  11                /2
+                PAVGB(%%mm1, %%mm6)                           //1122   11        /8
+                PAVGB(%%mm5, %%mm6)                           //112242211        /16
+                "movq (%%"REG_a"), %%mm5                \n\t" //    1
+                "movq %%mm6, (%%"REG_a")                \n\t" //    X
+                // mm0=7(11) mm1=2(11) mm2=3 mm3=6(11) mm4=1(11) mm5=4 mm7=9
+                "movq (%%"REG_a", %1, 4), %%mm6         \n\t" //        1
+                PAVGB(%%mm7, %%mm6)                           //        11        /2
+                PAVGB(%%mm4, %%mm6)                           // 11     11        /4
+                PAVGB(%%mm3, %%mm6)                           // 11   2211        /8
+                PAVGB(%%mm5, %%mm2)                           //   11                /2
+                "movq (%0, %1, 4), %%mm4                \n\t" //     1
+                PAVGB(%%mm4, %%mm2)                           //   112                /4
+                PAVGB(%%mm2, %%mm6)                           // 112242211        /16
+                "movq %%mm6, (%0, %1, 4)                \n\t" //     X
+                // mm0=7(11) mm1=2(11) mm2=3(112) mm3=6(11) mm4=5 mm5=4 mm7=9
+                PAVGB(%%mm7, %%mm1)                           //  11     2        /4
+                PAVGB(%%mm4, %%mm5)                           //    11                /2
+                PAVGB(%%mm5, %%mm0)                           //    11 11        /4
+                "movq (%%"REG_a", %1, 2), %%mm6         \n\t" //      1
+                PAVGB(%%mm6, %%mm1)                           //  11  4  2        /8
+                PAVGB(%%mm0, %%mm1)                           //  11224222        /16
+                "movq %%mm1, (%%"REG_a", %1, 2)         \n\t" //      X
+                // mm2=3(112) mm3=6(11) mm4=5 mm5=4(11) mm6=6 mm7=9
+                PAVGB((%%REGc), %%mm2)                        //   112 4        /8
+                "movq (%%"REG_a", %1, 4), %%mm0         \n\t" //        1
+                PAVGB(%%mm0, %%mm6)                           //      1 1        /2
+                PAVGB(%%mm7, %%mm6)                           //      1 12        /4
+                PAVGB(%%mm2, %%mm6)                           //   1122424        /4
+                "movq %%mm6, (%%"REG_c")                \n\t" //       X
+                // mm0=8 mm3=6(11) mm4=5 mm5=4(11) mm7=9
+                PAVGB(%%mm7, %%mm5)                           //    11   2        /4
+                PAVGB(%%mm7, %%mm5)                           //    11   6        /8
+
+                PAVGB(%%mm3, %%mm0)                           //      112        /4
+                PAVGB(%%mm0, %%mm5)                           //    112246        /16
+                "movq %%mm5, (%%"REG_a", %1, 4)         \n\t" //        X
+                "sub %1, %0                             \n\t"
+
+                :
+                : "r" (src), "r" ((long)stride), "m" (c->pQPb)
+                : "%"REG_a, "%"REG_c
+        );
+#else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+        const int l1= stride;
+        const int l2= stride + l1;
+        const int l3= stride + l2;
+        const int l4= stride + l3;
+        const int l5= stride + l4;
+        const int l6= stride + l5;
+        const int l7= stride + l6;
+        const int l8= stride + l7;
+        const int l9= stride + l8;
+        int x;
+        src+= stride*3;
+        for(x=0; x<BLOCK_SIZE; x++)
+        {
+                const int first= FFABS(src[0] - src[l1]) < c->QP ? src[0] : src[l1];
+                const int last= FFABS(src[l8] - src[l9]) < c->QP ? src[l9] : src[l8];
+
+                int sums[10];
+                sums[0] = 4*first + src[l1] + src[l2] + src[l3] + 4;
+                sums[1] = sums[0] - first  + src[l4];
+                sums[2] = sums[1] - first  + src[l5];
+                sums[3] = sums[2] - first  + src[l6];
+                sums[4] = sums[3] - first  + src[l7];
+                sums[5] = sums[4] - src[l1] + src[l8];
+                sums[6] = sums[5] - src[l2] + last;
+                sums[7] = sums[6] - src[l3] + last;
+                sums[8] = sums[7] - src[l4] + last;
+                sums[9] = sums[8] - src[l5] + last;
+
+                src[l1]= (sums[0] + sums[2] + 2*src[l1])>>4;
+                src[l2]= (sums[1] + sums[3] + 2*src[l2])>>4;
+                src[l3]= (sums[2] + sums[4] + 2*src[l3])>>4;
+                src[l4]= (sums[3] + sums[5] + 2*src[l4])>>4;
+                src[l5]= (sums[4] + sums[6] + 2*src[l5])>>4;
+                src[l6]= (sums[5] + sums[7] + 2*src[l6])>>4;
+                src[l7]= (sums[6] + sums[8] + 2*src[l7])>>4;
+                src[l8]= (sums[7] + sums[9] + 2*src[l8])>>4;
+
+                src++;
+        }
+#endif //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+}
+#endif //HAVE_ALTIVEC
+
+#if 0
+/**
+ * Experimental implementation of the filter (Algorithm 1) described in a paper from Ramkishor & Karandikar
+ * values are correctly clipped (MMX2)
+ * values are wraparound (C)
+ * conclusion: its fast, but introduces ugly horizontal patterns if there is a continious gradient
+        0 8 16 24
+        x = 8
+        x/2 = 4
+        x/8 = 1
+        1 12 12 23
+ */
+static inline void RENAME(vertRK1Filter)(uint8_t *src, int stride, int QP)
+{
+#if defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+        src+= stride*3;
+// FIXME rounding
+        asm volatile(
+                "pxor %%mm7, %%mm7                      \n\t" // 0
+                "movq "MANGLE(b80)", %%mm6              \n\t" // MIN_SIGNED_BYTE
+                "leal (%0, %1), %%"REG_a"               \n\t"
+                "leal (%%"REG_a", %1, 4), %%"REG_c"     \n\t"
+//      0       1       2       3       4       5       6       7       8       9
+//      %0      eax     eax+%1  eax+2%1 %0+4%1  ecx     ecx+%1  ecx+2%1 %0+8%1  ecx+4%1
+                "movq "MANGLE(pQPb)", %%mm0             \n\t" // QP,..., QP
+                "movq %%mm0, %%mm1                      \n\t" // QP,..., QP
+                "paddusb "MANGLE(b02)", %%mm0           \n\t"
+                "psrlw $2, %%mm0                        \n\t"
+                "pand "MANGLE(b3F)", %%mm0              \n\t" // QP/4,..., QP/4
+                "paddusb %%mm1, %%mm0                   \n\t" // QP*1.25 ...
+                "movq (%0, %1, 4), %%mm2                \n\t" // line 4
+                "movq (%%"REG_c"), %%mm3                \n\t" // line 5
+                "movq %%mm2, %%mm4                      \n\t" // line 4
+                "pcmpeqb %%mm5, %%mm5                   \n\t" // -1
+                "pxor %%mm2, %%mm5                      \n\t" // -line 4 - 1
+                PAVGB(%%mm3, %%mm5)
+                "paddb %%mm6, %%mm5                     \n\t" // (l5-l4)/2
+                "psubusb %%mm3, %%mm4                   \n\t"
+                "psubusb %%mm2, %%mm3                   \n\t"
+                "por %%mm3, %%mm4                       \n\t" // |l4 - l5|
+                "psubusb %%mm0, %%mm4                   \n\t"
+                "pcmpeqb %%mm7, %%mm4                   \n\t"
+                "pand %%mm4, %%mm5                      \n\t" // d/2
+
+//                "paddb %%mm6, %%mm2                     \n\t" // line 4 + 0x80
+                "paddb %%mm5, %%mm2                     \n\t"
+//                "psubb %%mm6, %%mm2                     \n\t"
+                "movq %%mm2, (%0,%1, 4)                 \n\t"
+
+                "movq (%%"REG_c"), %%mm2                \n\t"
+//                "paddb %%mm6, %%mm2                     \n\t" // line 5 + 0x80
+                "psubb %%mm5, %%mm2                     \n\t"
+//                "psubb %%mm6, %%mm2                     \n\t"
+                "movq %%mm2, (%%"REG_c")                \n\t"
+
+                "paddb %%mm6, %%mm5                     \n\t"
+                "psrlw $2, %%mm5                        \n\t"
+                "pand "MANGLE(b3F)", %%mm5              \n\t"
+                "psubb "MANGLE(b20)", %%mm5             \n\t" // (l5-l4)/8
+
+                "movq (%%"REG_a", %1, 2), %%mm2         \n\t"
+                "paddb %%mm6, %%mm2                     \n\t" // line 3 + 0x80
+                "paddsb %%mm5, %%mm2                    \n\t"
+                "psubb %%mm6, %%mm2                     \n\t"
+                "movq %%mm2, (%%"REG_a", %1, 2)         \n\t"
+
+                "movq (%%"REG_c", %1), %%mm2            \n\t"
+                "paddb %%mm6, %%mm2                     \n\t" // line 6 + 0x80
+                "psubsb %%mm5, %%mm2                    \n\t"
+                "psubb %%mm6, %%mm2                     \n\t"
+                "movq %%mm2, (%%"REG_c", %1)            \n\t"
+
+                :
+                : "r" (src), "r" ((long)stride)
+                : "%"REG_a, "%"REG_c
+        );
+#else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+         const int l1= stride;
+        const int l2= stride + l1;
+        const int l3= stride + l2;
+        const int l4= stride + l3;
+        const int l5= stride + l4;
+        const int l6= stride + l5;
+//        const int l7= stride + l6;
+//        const int l8= stride + l7;
+//        const int l9= stride + l8;
+        int x;
+        const int QP15= QP + (QP>>2);
+        src+= stride*3;
+        for(x=0; x<BLOCK_SIZE; x++)
+        {
+                const int v = (src[x+l5] - src[x+l4]);
+                if(FFABS(v) < QP15)
+                {
+                        src[x+l3] +=v>>3;
+                        src[x+l4] +=v>>1;
+                        src[x+l5] -=v>>1;
+                        src[x+l6] -=v>>3;
+
+                }
+        }
+
+#endif //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+}
+#endif //0
+
+/**
+ * Experimental Filter 1
+ * will not damage linear gradients
+ * Flat blocks should look like they where passed through the (1,1,2,2,4,2,2,1,1) 9-Tap filter
+ * can only smooth blocks at the expected locations (it cant smooth them if they did move)
+ * MMX2 version does correct clipping C version doesnt
+ */
+static inline void RENAME(vertX1Filter)(uint8_t *src, int stride, PPContext *co)
+{
+#if defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+        src+= stride*3;
+
+        asm volatile(
+                "pxor %%mm7, %%mm7                      \n\t" // 0
+                "lea (%0, %1), %%"REG_a"                \n\t"
+                "lea (%%"REG_a", %1, 4), %%"REG_c"      \n\t"
+//      0       1       2       3       4       5       6       7       8       9
+//      %0      eax     eax+%1  eax+2%1 %0+4%1  ecx     ecx+%1  ecx+2%1 %0+8%1  ecx+4%1
+                "movq (%%"REG_a", %1, 2), %%mm0         \n\t" // line 3
+                "movq (%0, %1, 4), %%mm1                \n\t" // line 4
+                "movq %%mm1, %%mm2                      \n\t" // line 4
+                "psubusb %%mm0, %%mm1                   \n\t"
+                "psubusb %%mm2, %%mm0                   \n\t"
+                "por %%mm1, %%mm0                       \n\t" // |l2 - l3|
+                "movq (%%"REG_c"), %%mm3                \n\t" // line 5
+                "movq (%%"REG_c", %1), %%mm4            \n\t" // line 6
+                "movq %%mm3, %%mm5                      \n\t" // line 5
+                "psubusb %%mm4, %%mm3                   \n\t"
+                "psubusb %%mm5, %%mm4                   \n\t"
+                "por %%mm4, %%mm3                       \n\t" // |l5 - l6|
+                PAVGB(%%mm3, %%mm0)                           // (|l2 - l3| + |l5 - l6|)/2
+                "movq %%mm2, %%mm1                      \n\t" // line 4
+                "psubusb %%mm5, %%mm2                   \n\t"
+                "movq %%mm2, %%mm4                      \n\t"
+                "pcmpeqb %%mm7, %%mm2                   \n\t" // (l4 - l5) <= 0 ? -1 : 0
+                "psubusb %%mm1, %%mm5                   \n\t"
+                "por %%mm5, %%mm4                       \n\t" // |l4 - l5|
+                "psubusb %%mm0, %%mm4                   \n\t" //d = MAX(0, |l4-l5| - (|l2-l3| + |l5-l6|)/2)
+                "movq %%mm4, %%mm3                      \n\t" // d
+                "movq %2, %%mm0                         \n\t"
+                "paddusb %%mm0, %%mm0                   \n\t"
+                "psubusb %%mm0, %%mm4                   \n\t"
+                "pcmpeqb %%mm7, %%mm4                   \n\t" // d <= QP ? -1 : 0
+                "psubusb "MANGLE(b01)", %%mm3           \n\t"
+                "pand %%mm4, %%mm3                      \n\t" // d <= QP ? d : 0
+
+                PAVGB(%%mm7, %%mm3)                           // d/2
+                "movq %%mm3, %%mm1                      \n\t" // d/2
+                PAVGB(%%mm7, %%mm3)                           // d/4
+                PAVGB(%%mm1, %%mm3)                           // 3*d/8
+
+                "movq (%0, %1, 4), %%mm0                \n\t" // line 4
+                "pxor %%mm2, %%mm0                      \n\t" //(l4 - l5) <= 0 ? -l4-1 : l4
+                "psubusb %%mm3, %%mm0                   \n\t"
+                "pxor %%mm2, %%mm0                      \n\t"
+                "movq %%mm0, (%0, %1, 4)                \n\t" // line 4
+
+                "movq (%%"REG_c"), %%mm0                \n\t" // line 5
+                "pxor %%mm2, %%mm0                      \n\t" //(l4 - l5) <= 0 ? -l5-1 : l5
+                "paddusb %%mm3, %%mm0                   \n\t"
+                "pxor %%mm2, %%mm0                      \n\t"
+                "movq %%mm0, (%%"REG_c")                \n\t" // line 5
+
+                PAVGB(%%mm7, %%mm1)                           // d/4
+
+                "movq (%%"REG_a", %1, 2), %%mm0         \n\t" // line 3
+                "pxor %%mm2, %%mm0                      \n\t" //(l4 - l5) <= 0 ? -l4-1 : l4
+                "psubusb %%mm1, %%mm0                   \n\t"
+                "pxor %%mm2, %%mm0                      \n\t"
+                "movq %%mm0, (%%"REG_a", %1, 2)         \n\t" // line 3
+
+                "movq (%%"REG_c", %1), %%mm0            \n\t" // line 6
+                "pxor %%mm2, %%mm0                      \n\t" //(l4 - l5) <= 0 ? -l5-1 : l5
+                "paddusb %%mm1, %%mm0                   \n\t"
+                "pxor %%mm2, %%mm0                      \n\t"
+                "movq %%mm0, (%%"REG_c", %1)            \n\t" // line 6
+
+                PAVGB(%%mm7, %%mm1)                           // d/8
+
+                "movq (%%"REG_a", %1), %%mm0            \n\t" // line 2
+                "pxor %%mm2, %%mm0                      \n\t" //(l4 - l5) <= 0 ? -l2-1 : l2
+                "psubusb %%mm1, %%mm0                   \n\t"
+                "pxor %%mm2, %%mm0                      \n\t"
+                "movq %%mm0, (%%"REG_a", %1)            \n\t" // line 2
+
+                "movq (%%"REG_c", %1, 2), %%mm0         \n\t" // line 7
+                "pxor %%mm2, %%mm0                      \n\t" //(l4 - l5) <= 0 ? -l7-1 : l7
+                "paddusb %%mm1, %%mm0                   \n\t"
+                "pxor %%mm2, %%mm0                      \n\t"
+                "movq %%mm0, (%%"REG_c", %1, 2)         \n\t" // line 7
+
+                :
+                : "r" (src), "r" ((long)stride), "m" (co->pQPb)
+                : "%"REG_a, "%"REG_c
+        );
+#else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+
+        const int l1= stride;
+        const int l2= stride + l1;
+        const int l3= stride + l2;
+        const int l4= stride + l3;
+        const int l5= stride + l4;
+        const int l6= stride + l5;
+        const int l7= stride + l6;
+//        const int l8= stride + l7;
+//        const int l9= stride + l8;
+        int x;
+
+        src+= stride*3;
+        for(x=0; x<BLOCK_SIZE; x++)
+        {
+                int a= src[l3] - src[l4];
+                int b= src[l4] - src[l5];
+                int c= src[l5] - src[l6];
+
+                int d= FFABS(b) - ((FFABS(a) + FFABS(c))>>1);
+                d= FFMAX(d, 0);
+
+                if(d < co->QP*2)
+                {
+                        int v = d * FFSIGN(-b);
+
+                        src[l2] +=v>>3;
+                        src[l3] +=v>>2;
+                        src[l4] +=(3*v)>>3;
+                        src[l5] -=(3*v)>>3;
+                        src[l6] -=v>>2;
+                        src[l7] -=v>>3;
+
+                }
+                src++;
+        }
+#endif //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+}
+
+#ifndef HAVE_ALTIVEC
+static inline void RENAME(doVertDefFilter)(uint8_t src[], int stride, PPContext *c)
+{
+#if defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+/*
+        uint8_t tmp[16];
+        const int l1= stride;
+        const int l2= stride + l1;
+        const int l3= stride + l2;
+        const int l4= (int)tmp - (int)src - stride*3;
+        const int l5= (int)tmp - (int)src - stride*3 + 8;
+        const int l6= stride*3 + l3;
+        const int l7= stride + l6;
+        const int l8= stride + l7;
+
+        memcpy(tmp, src+stride*7, 8);
+        memcpy(tmp+8, src+stride*8, 8);
+*/
+        src+= stride*4;
+        asm volatile(
+
+#if 0 //sligtly more accurate and slightly slower
+                "pxor %%mm7, %%mm7                      \n\t" // 0
+                "lea (%0, %1), %%"REG_a"                \n\t"
+                "lea (%%"REG_a", %1, 4), %%"REG_c"      \n\t"
+//      0       1       2       3       4       5       6       7
+//      %0      %0+%1   %0+2%1  eax+2%1 %0+4%1  eax+4%1 ecx+%1  ecx+2%1
+//      %0      eax     eax+%1  eax+2%1 %0+4%1  ecx     ecx+%1  ecx+2%1
+
+
+                "movq (%0, %1, 2), %%mm0                \n\t" // l2
+                "movq (%0), %%mm1                       \n\t" // l0
+                "movq %%mm0, %%mm2                      \n\t" // l2
+                PAVGB(%%mm7, %%mm0)                           // ~l2/2
+                PAVGB(%%mm1, %%mm0)                           // ~(l2 + 2l0)/4
+                PAVGB(%%mm2, %%mm0)                           // ~(5l2 + 2l0)/8
+
+                "movq (%%"REG_a"), %%mm1                \n\t" // l1
+                "movq (%%"REG_a", %1, 2), %%mm3         \n\t" // l3
+                "movq %%mm1, %%mm4                      \n\t" // l1
+                PAVGB(%%mm7, %%mm1)                           // ~l1/2
+                PAVGB(%%mm3, %%mm1)                           // ~(l1 + 2l3)/4
+                PAVGB(%%mm4, %%mm1)                           // ~(5l1 + 2l3)/8
+
+                "movq %%mm0, %%mm4                      \n\t" // ~(5l2 + 2l0)/8
+                "psubusb %%mm1, %%mm0                   \n\t"
+                "psubusb %%mm4, %%mm1                   \n\t"
+                "por %%mm0, %%mm1                       \n\t" // ~|2l0 - 5l1 + 5l2 - 2l3|/8
+// mm1= |lenergy|, mm2= l2, mm3= l3, mm7=0
+
+                "movq (%0, %1, 4), %%mm0                \n\t" // l4
+                "movq %%mm0, %%mm4                      \n\t" // l4
+                PAVGB(%%mm7, %%mm0)                           // ~l4/2
+                PAVGB(%%mm2, %%mm0)                           // ~(l4 + 2l2)/4
+                PAVGB(%%mm4, %%mm0)                           // ~(5l4 + 2l2)/8
+
+                "movq (%%"REG_c"), %%mm2                \n\t" // l5
+                "movq %%mm3, %%mm5                      \n\t" // l3
+                PAVGB(%%mm7, %%mm3)                           // ~l3/2
+                PAVGB(%%mm2, %%mm3)                           // ~(l3 + 2l5)/4
+                PAVGB(%%mm5, %%mm3)                           // ~(5l3 + 2l5)/8
+
+                "movq %%mm0, %%mm6                      \n\t" // ~(5l4 + 2l2)/8
+                "psubusb %%mm3, %%mm0                   \n\t"
+                "psubusb %%mm6, %%mm3                   \n\t"
+                "por %%mm0, %%mm3                       \n\t" // ~|2l2 - 5l3 + 5l4 - 2l5|/8
+                "pcmpeqb %%mm7, %%mm0                   \n\t" // SIGN(2l2 - 5l3 + 5l4 - 2l5)
+// mm0= SIGN(menergy), mm1= |lenergy|, mm2= l5, mm3= |menergy|, mm4=l4, mm5= l3, mm7=0
+
+                "movq (%%"REG_c", %1), %%mm6            \n\t" // l6
+                "movq %%mm6, %%mm5                      \n\t" // l6
+                PAVGB(%%mm7, %%mm6)                           // ~l6/2
+                PAVGB(%%mm4, %%mm6)                           // ~(l6 + 2l4)/4
+                PAVGB(%%mm5, %%mm6)                           // ~(5l6 + 2l4)/8
+
+                "movq (%%"REG_c", %1, 2), %%mm5         \n\t" // l7
+                "movq %%mm2, %%mm4                      \n\t" // l5
+                PAVGB(%%mm7, %%mm2)                           // ~l5/2
+                PAVGB(%%mm5, %%mm2)                           // ~(l5 + 2l7)/4
+                PAVGB(%%mm4, %%mm2)                           // ~(5l5 + 2l7)/8
+
+                "movq %%mm6, %%mm4                      \n\t" // ~(5l6 + 2l4)/8
+                "psubusb %%mm2, %%mm6                   \n\t"
+                "psubusb %%mm4, %%mm2                   \n\t"
+                "por %%mm6, %%mm2                       \n\t" // ~|2l4 - 5l5 + 5l6 - 2l7|/8
+// mm0= SIGN(menergy), mm1= |lenergy|/8, mm2= |renergy|/8, mm3= |menergy|/8, mm7=0
+
+
+                PMINUB(%%mm2, %%mm1, %%mm4)                   // MIN(|lenergy|,|renergy|)/8
+                "movq %2, %%mm4                         \n\t" // QP //FIXME QP+1 ?
+                "paddusb "MANGLE(b01)", %%mm4           \n\t"
+                "pcmpgtb %%mm3, %%mm4                   \n\t" // |menergy|/8 < QP
+                "psubusb %%mm1, %%mm3                   \n\t" // d=|menergy|/8-MIN(|lenergy|,|renergy|)/8
+                "pand %%mm4, %%mm3                      \n\t"
+
+                "movq %%mm3, %%mm1                      \n\t"
+//                "psubusb "MANGLE(b01)", %%mm3           \n\t"
+                PAVGB(%%mm7, %%mm3)
+                PAVGB(%%mm7, %%mm3)
+                "paddusb %%mm1, %%mm3                   \n\t"
+//                "paddusb "MANGLE(b01)", %%mm3           \n\t"
+
+                "movq (%%"REG_a", %1, 2), %%mm6         \n\t" //l3
+                "movq (%0, %1, 4), %%mm5                \n\t" //l4
+                "movq (%0, %1, 4), %%mm4                \n\t" //l4
+                "psubusb %%mm6, %%mm5                   \n\t"
+                "psubusb %%mm4, %%mm6                   \n\t"
+                "por %%mm6, %%mm5                       \n\t" // |l3-l4|
+                "pcmpeqb %%mm7, %%mm6                   \n\t" // SIGN(l3-l4)
+                "pxor %%mm6, %%mm0                      \n\t"
+                "pand %%mm0, %%mm3                      \n\t"
+                PMINUB(%%mm5, %%mm3, %%mm0)
+
+                "psubusb "MANGLE(b01)", %%mm3           \n\t"
+                PAVGB(%%mm7, %%mm3)
+
+                "movq (%%"REG_a", %1, 2), %%mm0         \n\t"
+                "movq (%0, %1, 4), %%mm2                \n\t"
+                "pxor %%mm6, %%mm0                      \n\t"
+                "pxor %%mm6, %%mm2                      \n\t"
+                "psubb %%mm3, %%mm0                     \n\t"
+                "paddb %%mm3, %%mm2                     \n\t"
+                "pxor %%mm6, %%mm0                      \n\t"
+                "pxor %%mm6, %%mm2                      \n\t"
+                "movq %%mm0, (%%"REG_a", %1, 2)         \n\t"
+                "movq %%mm2, (%0, %1, 4)                \n\t"
+#endif //0
+
+                "lea (%0, %1), %%"REG_a"                \n\t"
+                "pcmpeqb %%mm6, %%mm6                   \n\t" // -1
+//      0       1       2       3       4       5       6       7
+//      %0      %0+%1   %0+2%1  eax+2%1 %0+4%1  eax+4%1 ecx+%1  ecx+2%1
+//      %0      eax     eax+%1  eax+2%1 %0+4%1  ecx     ecx+%1  ecx+2%1
+
+
+                "movq (%%"REG_a", %1, 2), %%mm1         \n\t" // l3
+                "movq (%0, %1, 4), %%mm0                \n\t" // l4
+                "pxor %%mm6, %%mm1                      \n\t" // -l3-1
+                PAVGB(%%mm1, %%mm0)                           // -q+128 = (l4-l3+256)/2
+// mm1=-l3-1, mm0=128-q
+
+                "movq (%%"REG_a", %1, 4), %%mm2         \n\t" // l5
+                "movq (%%"REG_a", %1), %%mm3            \n\t" // l2
+                "pxor %%mm6, %%mm2                      \n\t" // -l5-1
+                "movq %%mm2, %%mm5                      \n\t" // -l5-1
+                "movq "MANGLE(b80)", %%mm4              \n\t" // 128
+                "lea (%%"REG_a", %1, 4), %%"REG_c"      \n\t"
+                PAVGB(%%mm3, %%mm2)                           // (l2-l5+256)/2
+                PAVGB(%%mm0, %%mm4)                           // ~(l4-l3)/4 + 128
+                PAVGB(%%mm2, %%mm4)                           // ~(l2-l5)/4 +(l4-l3)/8 + 128
+                PAVGB(%%mm0, %%mm4)                           // ~(l2-l5)/8 +5(l4-l3)/16 + 128
+// mm1=-l3-1, mm0=128-q, mm3=l2, mm4=menergy/16 + 128, mm5= -l5-1
+
+                "movq (%%"REG_a"), %%mm2                \n\t" // l1
+                "pxor %%mm6, %%mm2                      \n\t" // -l1-1
+                PAVGB(%%mm3, %%mm2)                           // (l2-l1+256)/2
+                PAVGB((%0), %%mm1)                            // (l0-l3+256)/2
+                "movq "MANGLE(b80)", %%mm3              \n\t" // 128
+                PAVGB(%%mm2, %%mm3)                           // ~(l2-l1)/4 + 128
+                PAVGB(%%mm1, %%mm3)                           // ~(l0-l3)/4 +(l2-l1)/8 + 128
+                PAVGB(%%mm2, %%mm3)                           // ~(l0-l3)/8 +5(l2-l1)/16 + 128
+// mm0=128-q, mm3=lenergy/16 + 128, mm4= menergy/16 + 128, mm5= -l5-1
+
+                PAVGB((%%REGc, %1), %%mm5)                    // (l6-l5+256)/2
+                "movq (%%"REG_c", %1, 2), %%mm1         \n\t" // l7
+                "pxor %%mm6, %%mm1                      \n\t" // -l7-1
+                PAVGB((%0, %1, 4), %%mm1)                     // (l4-l7+256)/2
+                "movq "MANGLE(b80)", %%mm2              \n\t" // 128
+                PAVGB(%%mm5, %%mm2)                           // ~(l6-l5)/4 + 128
+                PAVGB(%%mm1, %%mm2)                           // ~(l4-l7)/4 +(l6-l5)/8 + 128
+                PAVGB(%%mm5, %%mm2)                           // ~(l4-l7)/8 +5(l6-l5)/16 + 128
+// mm0=128-q, mm2=renergy/16 + 128, mm3=lenergy/16 + 128, mm4= menergy/16 + 128
+
+                "movq "MANGLE(b00)", %%mm1              \n\t" // 0
+                "movq "MANGLE(b00)", %%mm5              \n\t" // 0
+                "psubb %%mm2, %%mm1                     \n\t" // 128 - renergy/16
+                "psubb %%mm3, %%mm5                     \n\t" // 128 - lenergy/16
+                PMAXUB(%%mm1, %%mm2)                          // 128 + |renergy/16|
+                 PMAXUB(%%mm5, %%mm3)                         // 128 + |lenergy/16|
+                PMINUB(%%mm2, %%mm3, %%mm1)                   // 128 + MIN(|lenergy|,|renergy|)/16
+
+// mm0=128-q, mm3=128 + MIN(|lenergy|,|renergy|)/16, mm4= menergy/16 + 128
+
+                "movq "MANGLE(b00)", %%mm7              \n\t" // 0
+                "movq %2, %%mm2                         \n\t" // QP
+                PAVGB(%%mm6, %%mm2)                           // 128 + QP/2
+                "psubb %%mm6, %%mm2                     \n\t"
+
+                "movq %%mm4, %%mm1                      \n\t"
+                "pcmpgtb %%mm7, %%mm1                   \n\t" // SIGN(menergy)
+                "pxor %%mm1, %%mm4                      \n\t"
+                "psubb %%mm1, %%mm4                     \n\t" // 128 + |menergy|/16
+                "pcmpgtb %%mm4, %%mm2                   \n\t" // |menergy|/16 < QP/2
+                "psubusb %%mm3, %%mm4                   \n\t" //d=|menergy|/16 - MIN(|lenergy|,|renergy|)/16
+// mm0=128-q, mm1= SIGN(menergy), mm2= |menergy|/16 < QP/2, mm4= d/16
+
+                "movq %%mm4, %%mm3                      \n\t" // d
+                "psubusb "MANGLE(b01)", %%mm4           \n\t"
+                PAVGB(%%mm7, %%mm4)                           // d/32
+                PAVGB(%%mm7, %%mm4)                           // (d + 32)/64
+                "paddb %%mm3, %%mm4                     \n\t" // 5d/64
+                "pand %%mm2, %%mm4                      \n\t"
+
+                "movq "MANGLE(b80)", %%mm5              \n\t" // 128
+                "psubb %%mm0, %%mm5                     \n\t" // q
+                "paddsb %%mm6, %%mm5                    \n\t" // fix bad rounding
+                "pcmpgtb %%mm5, %%mm7                   \n\t" // SIGN(q)
+                "pxor %%mm7, %%mm5                      \n\t"
+
+                PMINUB(%%mm5, %%mm4, %%mm3)                   // MIN(|q|, 5d/64)
+                "pxor %%mm1, %%mm7                      \n\t" // SIGN(d*q)
+
+                "pand %%mm7, %%mm4                      \n\t"
+                "movq (%%"REG_a", %1, 2), %%mm0         \n\t"
+                "movq (%0, %1, 4), %%mm2                \n\t"
+                "pxor %%mm1, %%mm0                      \n\t"
+                "pxor %%mm1, %%mm2                      \n\t"
+                "paddb %%mm4, %%mm0                     \n\t"
+                "psubb %%mm4, %%mm2                     \n\t"
+                "pxor %%mm1, %%mm0                      \n\t"
+                "pxor %%mm1, %%mm2                      \n\t"
+                "movq %%mm0, (%%"REG_a", %1, 2)         \n\t"
+                "movq %%mm2, (%0, %1, 4)                \n\t"
+
+                :
+                : "r" (src), "r" ((long)stride), "m" (c->pQPb)
+                : "%"REG_a, "%"REG_c
+        );
+
+/*
+        {
+        int x;
+        src-= stride;
+        for(x=0; x<BLOCK_SIZE; x++)
+        {
+                const int middleEnergy= 5*(src[l5] - src[l4]) + 2*(src[l3] - src[l6]);
+                if(FFABS(middleEnergy)< 8*QP)
+                {
+                        const int q=(src[l4] - src[l5])/2;
+                        const int leftEnergy=  5*(src[l3] - src[l2]) + 2*(src[l1] - src[l4]);
+                        const int rightEnergy= 5*(src[l7] - src[l6]) + 2*(src[l5] - src[l8]);
+
+                        int d= FFABS(middleEnergy) - FFMIN( FFABS(leftEnergy), FFABS(rightEnergy) );
+                        d= FFMAX(d, 0);
+
+                        d= (5*d + 32) >> 6;
+                        d*= FFSIGN(-middleEnergy);
+
+                        if(q>0)
+                        {
+                                d= d<0 ? 0 : d;
+                                d= d>q ? q : d;
+                        }
+                        else
+                        {
+                                d= d>0 ? 0 : d;
+                                d= d<q ? q : d;
+                        }
+
+                        src[l4]-= d;
+                        src[l5]+= d;
+                }
+                src++;
+        }
+src-=8;
+        for(x=0; x<8; x++)
+        {
+                int y;
+                for(y=4; y<6; y++)
+                {
+                        int d= src[x+y*stride] - tmp[x+(y-4)*8];
+                        int ad= FFABS(d);
+                        static int max=0;
+                        static int sum=0;
+                        static int num=0;
+                        static int bias=0;
+
+                        if(max<ad) max=ad;
+                        sum+= ad>3 ? 1 : 0;
+                        if(ad>3)
+                        {
+                                src[0] = src[7] = src[stride*7] = src[(stride+1)*7]=255;
+                        }
+                        if(y==4) bias+=d;
+                        num++;
+                        if(num%1000000 == 0)
+                        {
+                                av_log(c, AV_LOG_INFO, " %d %d %d %d\n", num, sum, max, bias);
+                        }
+                }
+        }
+}
+*/
+#elif defined (HAVE_MMX)
+        src+= stride*4;
+        asm volatile(
+                "pxor %%mm7, %%mm7                      \n\t"
+                "lea -40(%%"REG_SP"), %%"REG_c"         \n\t" // make space for 4 8-byte vars
+                "and "ALIGN_MASK", %%"REG_c"            \n\t" // align
+//      0       1       2       3       4       5       6       7
+//      %0      %0+%1   %0+2%1  eax+2%1 %0+4%1  eax+4%1 edx+%1  edx+2%1
+//      %0      eax     eax+%1  eax+2%1 %0+4%1  edx     edx+%1  edx+2%1
+
+                "movq (%0), %%mm0                       \n\t"
+                "movq %%mm0, %%mm1                      \n\t"
+                "punpcklbw %%mm7, %%mm0                 \n\t" // low part of line 0
+                "punpckhbw %%mm7, %%mm1                 \n\t" // high part of line 0
+
+                "movq (%0, %1), %%mm2                   \n\t"
+                "lea (%0, %1, 2), %%"REG_a"             \n\t"
+                "movq %%mm2, %%mm3                      \n\t"
+                "punpcklbw %%mm7, %%mm2                 \n\t" // low part of line 1
+                "punpckhbw %%mm7, %%mm3                 \n\t" // high part of line 1
+
+                "movq (%%"REG_a"), %%mm4                \n\t"
+                "movq %%mm4, %%mm5                      \n\t"
+                "punpcklbw %%mm7, %%mm4                 \n\t" // low part of line 2
+                "punpckhbw %%mm7, %%mm5                 \n\t" // high part of line 2
+
+                "paddw %%mm0, %%mm0                     \n\t" // 2L0
+                "paddw %%mm1, %%mm1                     \n\t" // 2H0
+                "psubw %%mm4, %%mm2                     \n\t" // L1 - L2
+                "psubw %%mm5, %%mm3                     \n\t" // H1 - H2
+                "psubw %%mm2, %%mm0                     \n\t" // 2L0 - L1 + L2
+                "psubw %%mm3, %%mm1                     \n\t" // 2H0 - H1 + H2
+
+                "psllw $2, %%mm2                        \n\t" // 4L1 - 4L2
+                "psllw $2, %%mm3                        \n\t" // 4H1 - 4H2
+                "psubw %%mm2, %%mm0                     \n\t" // 2L0 - 5L1 + 5L2
+                "psubw %%mm3, %%mm1                     \n\t" // 2H0 - 5H1 + 5H2
+
+                "movq (%%"REG_a", %1), %%mm2            \n\t"
+                "movq %%mm2, %%mm3                      \n\t"
+                "punpcklbw %%mm7, %%mm2                 \n\t" // L3
+                "punpckhbw %%mm7, %%mm3                 \n\t" // H3
+
+                "psubw %%mm2, %%mm0                     \n\t" // 2L0 - 5L1 + 5L2 - L3
+                "psubw %%mm3, %%mm1                     \n\t" // 2H0 - 5H1 + 5H2 - H3
+                "psubw %%mm2, %%mm0                     \n\t" // 2L0 - 5L1 + 5L2 - 2L3
+                "psubw %%mm3, %%mm1                     \n\t" // 2H0 - 5H1 + 5H2 - 2H3
+                "movq %%mm0, (%%"REG_c")                \n\t" // 2L0 - 5L1 + 5L2 - 2L3
+                "movq %%mm1, 8(%%"REG_c")               \n\t" // 2H0 - 5H1 + 5H2 - 2H3
+
+                "movq (%%"REG_a", %1, 2), %%mm0         \n\t"
+                "movq %%mm0, %%mm1                      \n\t"
+                "punpcklbw %%mm7, %%mm0                 \n\t" // L4
+                "punpckhbw %%mm7, %%mm1                 \n\t" // H4
+
+                "psubw %%mm0, %%mm2                     \n\t" // L3 - L4
+                "psubw %%mm1, %%mm3                     \n\t" // H3 - H4
+                "movq %%mm2, 16(%%"REG_c")              \n\t" // L3 - L4
+                "movq %%mm3, 24(%%"REG_c")              \n\t" // H3 - H4
+                "paddw %%mm4, %%mm4                     \n\t" // 2L2
+                "paddw %%mm5, %%mm5                     \n\t" // 2H2
+                "psubw %%mm2, %%mm4                     \n\t" // 2L2 - L3 + L4
+                "psubw %%mm3, %%mm5                     \n\t" // 2H2 - H3 + H4
+
+                "lea (%%"REG_a", %1), %0                \n\t"
+                "psllw $2, %%mm2                        \n\t" // 4L3 - 4L4
+                "psllw $2, %%mm3                        \n\t" // 4H3 - 4H4
+                "psubw %%mm2, %%mm4                     \n\t" // 2L2 - 5L3 + 5L4
+                "psubw %%mm3, %%mm5                     \n\t" // 2H2 - 5H3 + 5H4
+//50 opcodes so far
+                "movq (%0, %1, 2), %%mm2                \n\t"
+                "movq %%mm2, %%mm3                      \n\t"
+                "punpcklbw %%mm7, %%mm2                 \n\t" // L5
+                "punpckhbw %%mm7, %%mm3                 \n\t" // H5
+                "psubw %%mm2, %%mm4                     \n\t" // 2L2 - 5L3 + 5L4 - L5
+                "psubw %%mm3, %%mm5                     \n\t" // 2H2 - 5H3 + 5H4 - H5
+                "psubw %%mm2, %%mm4                     \n\t" // 2L2 - 5L3 + 5L4 - 2L5
+                "psubw %%mm3, %%mm5                     \n\t" // 2H2 - 5H3 + 5H4 - 2H5
+
+                "movq (%%"REG_a", %1, 4), %%mm6         \n\t"
+                "punpcklbw %%mm7, %%mm6                 \n\t" // L6
+                "psubw %%mm6, %%mm2                     \n\t" // L5 - L6
+                "movq (%%"REG_a", %1, 4), %%mm6         \n\t"
+                "punpckhbw %%mm7, %%mm6                 \n\t" // H6
+                "psubw %%mm6, %%mm3                     \n\t" // H5 - H6
+
+                "paddw %%mm0, %%mm0                     \n\t" // 2L4
+                "paddw %%mm1, %%mm1                     \n\t" // 2H4
+                "psubw %%mm2, %%mm0                     \n\t" // 2L4 - L5 + L6
+                "psubw %%mm3, %%mm1                     \n\t" // 2H4 - H5 + H6
+
+                "psllw $2, %%mm2                        \n\t" // 4L5 - 4L6
+                "psllw $2, %%mm3                        \n\t" // 4H5 - 4H6
+                "psubw %%mm2, %%mm0                     \n\t" // 2L4 - 5L5 + 5L6
+                "psubw %%mm3, %%mm1                     \n\t" // 2H4 - 5H5 + 5H6
+
+                "movq (%0, %1, 4), %%mm2                \n\t"
+                "movq %%mm2, %%mm3                      \n\t"
+                "punpcklbw %%mm7, %%mm2                 \n\t" // L7
+                "punpckhbw %%mm7, %%mm3                 \n\t" // H7
+
+                "paddw %%mm2, %%mm2                     \n\t" // 2L7
+                "paddw %%mm3, %%mm3                     \n\t" // 2H7
+                "psubw %%mm2, %%mm0                     \n\t" // 2L4 - 5L5 + 5L6 - 2L7
+                "psubw %%mm3, %%mm1                     \n\t" // 2H4 - 5H5 + 5H6 - 2H7
+
+                "movq (%%"REG_c"), %%mm2                \n\t" // 2L0 - 5L1 + 5L2 - 2L3
+                "movq 8(%%"REG_c"), %%mm3               \n\t" // 2H0 - 5H1 + 5H2 - 2H3
+
+#ifdef HAVE_MMX2
+                "movq %%mm7, %%mm6                      \n\t" // 0
+                "psubw %%mm0, %%mm6                     \n\t"
+                "pmaxsw %%mm6, %%mm0                    \n\t" // |2L4 - 5L5 + 5L6 - 2L7|
+                "movq %%mm7, %%mm6                      \n\t" // 0
+                "psubw %%mm1, %%mm6                     \n\t"
+                "pmaxsw %%mm6, %%mm1                    \n\t" // |2H4 - 5H5 + 5H6 - 2H7|
+                "movq %%mm7, %%mm6                      \n\t" // 0
+                "psubw %%mm2, %%mm6                     \n\t"
+                "pmaxsw %%mm6, %%mm2                    \n\t" // |2L0 - 5L1 + 5L2 - 2L3|
+                "movq %%mm7, %%mm6                      \n\t" // 0
+                "psubw %%mm3, %%mm6                     \n\t"
+                "pmaxsw %%mm6, %%mm3                    \n\t" // |2H0 - 5H1 + 5H2 - 2H3|
+#else
+                "movq %%mm7, %%mm6                      \n\t" // 0
+                "pcmpgtw %%mm0, %%mm6                   \n\t"
+                "pxor %%mm6, %%mm0                      \n\t"
+                "psubw %%mm6, %%mm0                     \n\t" // |2L4 - 5L5 + 5L6 - 2L7|
+                "movq %%mm7, %%mm6                      \n\t" // 0
+                "pcmpgtw %%mm1, %%mm6                   \n\t"
+                "pxor %%mm6, %%mm1                      \n\t"
+                "psubw %%mm6, %%mm1                     \n\t" // |2H4 - 5H5 + 5H6 - 2H7|
+                "movq %%mm7, %%mm6                      \n\t" // 0
+                "pcmpgtw %%mm2, %%mm6                   \n\t"
+                "pxor %%mm6, %%mm2                      \n\t"
+                "psubw %%mm6, %%mm2                     \n\t" // |2L0 - 5L1 + 5L2 - 2L3|
+                "movq %%mm7, %%mm6                      \n\t" // 0
+                "pcmpgtw %%mm3, %%mm6                   \n\t"
+                "pxor %%mm6, %%mm3                      \n\t"
+                "psubw %%mm6, %%mm3                     \n\t" // |2H0 - 5H1 + 5H2 - 2H3|
+#endif
+
+#ifdef HAVE_MMX2
+                "pminsw %%mm2, %%mm0                    \n\t"
+                "pminsw %%mm3, %%mm1                    \n\t"
+#else
+                "movq %%mm0, %%mm6                      \n\t"
+                "psubusw %%mm2, %%mm6                   \n\t"
+                "psubw %%mm6, %%mm0                     \n\t"
+                "movq %%mm1, %%mm6                      \n\t"
+                "psubusw %%mm3, %%mm6                   \n\t"
+                "psubw %%mm6, %%mm1                     \n\t"
+#endif
+
+                "movd %2, %%mm2                         \n\t" // QP
+                "punpcklbw %%mm7, %%mm2                 \n\t"
+
+                "movq %%mm7, %%mm6                      \n\t" // 0
+                "pcmpgtw %%mm4, %%mm6                   \n\t" // sign(2L2 - 5L3 + 5L4 - 2L5)
+                "pxor %%mm6, %%mm4                      \n\t"
+                "psubw %%mm6, %%mm4                     \n\t" // |2L2 - 5L3 + 5L4 - 2L5|
+                "pcmpgtw %%mm5, %%mm7                   \n\t" // sign(2H2 - 5H3 + 5H4 - 2H5)
+                "pxor %%mm7, %%mm5                      \n\t"
+                "psubw %%mm7, %%mm5                     \n\t" // |2H2 - 5H3 + 5H4 - 2H5|
+// 100 opcodes
+                "psllw $3, %%mm2                        \n\t" // 8QP
+                "movq %%mm2, %%mm3                      \n\t" // 8QP
+                "pcmpgtw %%mm4, %%mm2                   \n\t"
+                "pcmpgtw %%mm5, %%mm3                   \n\t"
+                "pand %%mm2, %%mm4                      \n\t"
+                "pand %%mm3, %%mm5                      \n\t"
+
+
+                "psubusw %%mm0, %%mm4                   \n\t" // hd
+                "psubusw %%mm1, %%mm5                   \n\t" // ld
+
+
+                "movq "MANGLE(w05)", %%mm2              \n\t" // 5
+                "pmullw %%mm2, %%mm4                    \n\t"
+                "pmullw %%mm2, %%mm5                    \n\t"
+                "movq "MANGLE(w20)", %%mm2              \n\t" // 32
+                "paddw %%mm2, %%mm4                     \n\t"
+                "paddw %%mm2, %%mm5                     \n\t"
+                "psrlw $6, %%mm4                        \n\t"
+                "psrlw $6, %%mm5                        \n\t"
+
+                "movq 16(%%"REG_c"), %%mm0              \n\t" // L3 - L4
+                "movq 24(%%"REG_c"), %%mm1              \n\t" // H3 - H4
+
+                "pxor %%mm2, %%mm2                      \n\t"
+                "pxor %%mm3, %%mm3                      \n\t"
+
+                "pcmpgtw %%mm0, %%mm2                   \n\t" // sign (L3-L4)
+                "pcmpgtw %%mm1, %%mm3                   \n\t" // sign (H3-H4)
+                "pxor %%mm2, %%mm0                      \n\t"
+                "pxor %%mm3, %%mm1                      \n\t"
+                "psubw %%mm2, %%mm0                     \n\t" // |L3-L4|
+                "psubw %%mm3, %%mm1                     \n\t" // |H3-H4|
+                "psrlw $1, %%mm0                        \n\t" // |L3 - L4|/2
+                "psrlw $1, %%mm1                        \n\t" // |H3 - H4|/2
+
+                "pxor %%mm6, %%mm2                      \n\t"
+                "pxor %%mm7, %%mm3                      \n\t"
+                "pand %%mm2, %%mm4                      \n\t"
+                "pand %%mm3, %%mm5                      \n\t"
+
+#ifdef HAVE_MMX2
+                "pminsw %%mm0, %%mm4                    \n\t"
+                "pminsw %%mm1, %%mm5                    \n\t"
+#else
+                "movq %%mm4, %%mm2                      \n\t"
+                "psubusw %%mm0, %%mm2                   \n\t"
+                "psubw %%mm2, %%mm4                     \n\t"
+                "movq %%mm5, %%mm2                      \n\t"
+                "psubusw %%mm1, %%mm2                   \n\t"
+                "psubw %%mm2, %%mm5                     \n\t"
+#endif
+                "pxor %%mm6, %%mm4                      \n\t"
+                "pxor %%mm7, %%mm5                      \n\t"
+                "psubw %%mm6, %%mm4                     \n\t"
+                "psubw %%mm7, %%mm5                     \n\t"
+                "packsswb %%mm5, %%mm4                  \n\t"
+                "movq (%0), %%mm0                       \n\t"
+                "paddb   %%mm4, %%mm0                   \n\t"
+                "movq %%mm0, (%0)                       \n\t"
+                "movq (%0, %1), %%mm0                   \n\t"
+                "psubb %%mm4, %%mm0                     \n\t"
+                "movq %%mm0, (%0, %1)                   \n\t"
+
+                : "+r" (src)
+                : "r" ((long)stride), "m" (c->pQPb)
+                : "%"REG_a, "%"REG_c
+        );
+#else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+        const int l1= stride;
+        const int l2= stride + l1;
+        const int l3= stride + l2;
+        const int l4= stride + l3;
+        const int l5= stride + l4;
+        const int l6= stride + l5;
+        const int l7= stride + l6;
+        const int l8= stride + l7;
+//        const int l9= stride + l8;
+        int x;
+        src+= stride*3;
+        for(x=0; x<BLOCK_SIZE; x++)
+        {
+                const int middleEnergy= 5*(src[l5] - src[l4]) + 2*(src[l3] - src[l6]);
+                if(FFABS(middleEnergy) < 8*c->QP)
+                {
+                        const int q=(src[l4] - src[l5])/2;
+                        const int leftEnergy=  5*(src[l3] - src[l2]) + 2*(src[l1] - src[l4]);
+                        const int rightEnergy= 5*(src[l7] - src[l6]) + 2*(src[l5] - src[l8]);
+
+                        int d= FFABS(middleEnergy) - FFMIN( FFABS(leftEnergy), FFABS(rightEnergy) );
+                        d= FFMAX(d, 0);
+
+                        d= (5*d + 32) >> 6;
+                        d*= FFSIGN(-middleEnergy);
+
+                        if(q>0)
+                        {
+                                d= d<0 ? 0 : d;
+                                d= d>q ? q : d;
+                        }
+                        else
+                        {
+                                d= d>0 ? 0 : d;
+                                d= d<q ? q : d;
+                        }
+
+                        src[l4]-= d;
+                        src[l5]+= d;
+                }
+                src++;
+        }
+#endif //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+}
+#endif //HAVE_ALTIVEC
+
+#ifndef HAVE_ALTIVEC
+static inline void RENAME(dering)(uint8_t src[], int stride, PPContext *c)
+{
+#if defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+        asm volatile(
+                "pxor %%mm6, %%mm6                      \n\t"
+                "pcmpeqb %%mm7, %%mm7                   \n\t"
+                "movq %2, %%mm0                         \n\t"
+                "punpcklbw %%mm6, %%mm0                 \n\t"
+                "psrlw $1, %%mm0                        \n\t"
+                "psubw %%mm7, %%mm0                     \n\t"
+                "packuswb %%mm0, %%mm0                  \n\t"
+                "movq %%mm0, %3                         \n\t"
+
+                "lea (%0, %1), %%"REG_a"                \n\t"
+                "lea (%%"REG_a", %1, 4), %%"REG_d"      \n\t"
+
+//        0        1        2        3        4        5        6        7        8        9
+//        %0        eax        eax+%1        eax+2%1        %0+4%1        edx        edx+%1        edx+2%1        %0+8%1        edx+4%1
+
+#undef FIND_MIN_MAX
+#ifdef HAVE_MMX2
+#define REAL_FIND_MIN_MAX(addr)\
+                "movq " #addr ", %%mm0                  \n\t"\
+                "pminub %%mm0, %%mm7                    \n\t"\
+                "pmaxub %%mm0, %%mm6                    \n\t"
+#else
+#define REAL_FIND_MIN_MAX(addr)\
+                "movq " #addr ", %%mm0                  \n\t"\
+                "movq %%mm7, %%mm1                      \n\t"\
+                "psubusb %%mm0, %%mm6                   \n\t"\
+                "paddb %%mm0, %%mm6                     \n\t"\
+                "psubusb %%mm0, %%mm1                   \n\t"\
+                "psubb %%mm1, %%mm7                     \n\t"
+#endif
+#define FIND_MIN_MAX(addr)  REAL_FIND_MIN_MAX(addr)
+
+FIND_MIN_MAX((%%REGa))
+FIND_MIN_MAX((%%REGa, %1))
+FIND_MIN_MAX((%%REGa, %1, 2))
+FIND_MIN_MAX((%0, %1, 4))
+FIND_MIN_MAX((%%REGd))
+FIND_MIN_MAX((%%REGd, %1))
+FIND_MIN_MAX((%%REGd, %1, 2))
+FIND_MIN_MAX((%0, %1, 8))
+
+                "movq %%mm7, %%mm4                      \n\t"
+                "psrlq $8, %%mm7                        \n\t"
+#ifdef HAVE_MMX2
+                "pminub %%mm4, %%mm7                    \n\t" // min of pixels
+                "pshufw $0xF9, %%mm7, %%mm4             \n\t"
+                "pminub %%mm4, %%mm7                    \n\t" // min of pixels
+                "pshufw $0xFE, %%mm7, %%mm4             \n\t"
+                "pminub %%mm4, %%mm7                    \n\t"
+#else
+                "movq %%mm7, %%mm1                      \n\t"
+                "psubusb %%mm4, %%mm1                   \n\t"
+                "psubb %%mm1, %%mm7                     \n\t"
+                "movq %%mm7, %%mm4                      \n\t"
+                "psrlq $16, %%mm7                       \n\t"
+                "movq %%mm7, %%mm1                      \n\t"
+                "psubusb %%mm4, %%mm1                   \n\t"
+                "psubb %%mm1, %%mm7                     \n\t"
+                "movq %%mm7, %%mm4                      \n\t"
+                "psrlq $32, %%mm7                       \n\t"
+                "movq %%mm7, %%mm1                      \n\t"
+                "psubusb %%mm4, %%mm1                   \n\t"
+                "psubb %%mm1, %%mm7                     \n\t"
+#endif
+
+
+                "movq %%mm6, %%mm4                      \n\t"
+                "psrlq $8, %%mm6                        \n\t"
+#ifdef HAVE_MMX2
+                "pmaxub %%mm4, %%mm6                    \n\t" // max of pixels
+                "pshufw $0xF9, %%mm6, %%mm4             \n\t"
+                "pmaxub %%mm4, %%mm6                    \n\t"
+                "pshufw $0xFE, %%mm6, %%mm4             \n\t"
+                "pmaxub %%mm4, %%mm6                    \n\t"
+#else
+                "psubusb %%mm4, %%mm6                   \n\t"
+                "paddb %%mm4, %%mm6                     \n\t"
+                "movq %%mm6, %%mm4                      \n\t"
+                "psrlq $16, %%mm6                       \n\t"
+                "psubusb %%mm4, %%mm6                   \n\t"
+                "paddb %%mm4, %%mm6                     \n\t"
+                "movq %%mm6, %%mm4                      \n\t"
+                "psrlq $32, %%mm6                       \n\t"
+                "psubusb %%mm4, %%mm6                   \n\t"
+                "paddb %%mm4, %%mm6                     \n\t"
+#endif
+                "movq %%mm6, %%mm0                      \n\t" // max
+                "psubb %%mm7, %%mm6                     \n\t" // max - min
+                "movd %%mm6, %%ecx                      \n\t"
+                "cmpb "MANGLE(deringThreshold)", %%cl   \n\t"
+                " jb 1f                                 \n\t"
+                "lea -24(%%"REG_SP"), %%"REG_c"         \n\t"
+                "and "ALIGN_MASK", %%"REG_c"            \n\t"
+                PAVGB(%%mm0, %%mm7)                           // a=(max + min)/2
+                "punpcklbw %%mm7, %%mm7                 \n\t"
+                "punpcklbw %%mm7, %%mm7                 \n\t"
+                "punpcklbw %%mm7, %%mm7                 \n\t"
+                "movq %%mm7, (%%"REG_c")                \n\t"
+
+                "movq (%0), %%mm0                       \n\t" // L10
+                "movq %%mm0, %%mm1                      \n\t" // L10
+                "movq %%mm0, %%mm2                      \n\t" // L10
+                "psllq $8, %%mm1                        \n\t"
+                "psrlq $8, %%mm2                        \n\t"
+                "movd -4(%0), %%mm3                     \n\t"
+                "movd 8(%0), %%mm4                      \n\t"
+                "psrlq $24, %%mm3                       \n\t"
+                "psllq $56, %%mm4                       \n\t"
+                "por %%mm3, %%mm1                       \n\t" // L00
+                "por %%mm4, %%mm2                       \n\t" // L20
+                "movq %%mm1, %%mm3                      \n\t" // L00
+                PAVGB(%%mm2, %%mm1)                           // (L20 + L00)/2
+                PAVGB(%%mm0, %%mm1)                           // (L20 + L00 + 2L10)/4
+                "psubusb %%mm7, %%mm0                   \n\t"
+                "psubusb %%mm7, %%mm2                   \n\t"
+                "psubusb %%mm7, %%mm3                   \n\t"
+                "pcmpeqb "MANGLE(b00)", %%mm0           \n\t" // L10 > a ? 0 : -1
+                "pcmpeqb "MANGLE(b00)", %%mm2           \n\t" // L20 > a ? 0 : -1
+                "pcmpeqb "MANGLE(b00)", %%mm3           \n\t" // L00 > a ? 0 : -1
+                "paddb %%mm2, %%mm0                     \n\t"
+                "paddb %%mm3, %%mm0                     \n\t"
+
+                "movq (%%"REG_a"), %%mm2                \n\t" // L11
+                "movq %%mm2, %%mm3                      \n\t" // L11
+                "movq %%mm2, %%mm4                      \n\t" // L11
+                "psllq $8, %%mm3                        \n\t"
+                "psrlq $8, %%mm4                        \n\t"
+                "movd -4(%%"REG_a"), %%mm5              \n\t"
+                "movd 8(%%"REG_a"), %%mm6               \n\t"
+                "psrlq $24, %%mm5                       \n\t"
+                "psllq $56, %%mm6                       \n\t"
+                "por %%mm5, %%mm3                       \n\t" // L01
+                "por %%mm6, %%mm4                       \n\t" // L21
+                "movq %%mm3, %%mm5                      \n\t" // L01
+                PAVGB(%%mm4, %%mm3)                           // (L21 + L01)/2
+                PAVGB(%%mm2, %%mm3)                           // (L21 + L01 + 2L11)/4
+                "psubusb %%mm7, %%mm2                   \n\t"
+                "psubusb %%mm7, %%mm4                   \n\t"
+                "psubusb %%mm7, %%mm5                   \n\t"
+                "pcmpeqb "MANGLE(b00)", %%mm2           \n\t" // L11 > a ? 0 : -1
+                "pcmpeqb "MANGLE(b00)", %%mm4           \n\t" // L21 > a ? 0 : -1
+                "pcmpeqb "MANGLE(b00)", %%mm5           \n\t" // L01 > a ? 0 : -1
+                "paddb %%mm4, %%mm2                     \n\t"
+                "paddb %%mm5, %%mm2                     \n\t"
+// 0, 2, 3, 1
+#define REAL_DERING_CORE(dst,src,ppsx,psx,sx,pplx,plx,lx,t0,t1) \
+                "movq " #src ", " #sx "                 \n\t" /* src[0] */\
+                "movq " #sx ", " #lx "                  \n\t" /* src[0] */\
+                "movq " #sx ", " #t0 "                  \n\t" /* src[0] */\
+                "psllq $8, " #lx "                      \n\t"\
+                "psrlq $8, " #t0 "                      \n\t"\
+                "movd -4" #src ", " #t1 "               \n\t"\
+                "psrlq $24, " #t1 "                     \n\t"\
+                "por " #t1 ", " #lx "                   \n\t" /* src[-1] */\
+                "movd 8" #src ", " #t1 "                \n\t"\
+                "psllq $56, " #t1 "                     \n\t"\
+                "por " #t1 ", " #t0 "                   \n\t" /* src[+1] */\
+                "movq " #lx ", " #t1 "                  \n\t" /* src[-1] */\
+                PAVGB(t0, lx)                                 /* (src[-1] + src[+1])/2 */\
+                PAVGB(sx, lx)                                 /* (src[-1] + 2src[0] + src[+1])/4 */\
+                PAVGB(lx, pplx)                                     \
+                "movq " #lx ", 8(%%"REG_c")             \n\t"\
+                "movq (%%"REG_c"), " #lx "              \n\t"\
+                "psubusb " #lx ", " #t1 "               \n\t"\
+                "psubusb " #lx ", " #t0 "               \n\t"\
+                "psubusb " #lx ", " #sx "               \n\t"\
+                "movq "MANGLE(b00)", " #lx "            \n\t"\
+                "pcmpeqb " #lx ", " #t1 "               \n\t" /* src[-1] > a ? 0 : -1*/\
+                "pcmpeqb " #lx ", " #t0 "               \n\t" /* src[+1] > a ? 0 : -1*/\
+                "pcmpeqb " #lx ", " #sx "               \n\t" /* src[0]  > a ? 0 : -1*/\
+                "paddb " #t1 ", " #t0 "                 \n\t"\
+                "paddb " #t0 ", " #sx "                 \n\t"\
+\
+                PAVGB(plx, pplx)                              /* filtered */\
+                "movq " #dst ", " #t0 "                 \n\t" /* dst */\
+                "movq " #t0 ", " #t1 "                  \n\t" /* dst */\
+                "psubusb %3, " #t0 "                    \n\t"\
+                "paddusb %3, " #t1 "                    \n\t"\
+                PMAXUB(t0, pplx)\
+                PMINUB(t1, pplx, t0)\
+                "paddb " #sx ", " #ppsx "               \n\t"\
+                "paddb " #psx ", " #ppsx "              \n\t"\
+                "#paddb "MANGLE(b02)", " #ppsx "        \n\t"\
+                "pand "MANGLE(b08)", " #ppsx "          \n\t"\
+                "pcmpeqb " #lx ", " #ppsx "             \n\t"\
+                "pand " #ppsx ", " #pplx "              \n\t"\
+                "pandn " #dst ", " #ppsx "              \n\t"\
+                "por " #pplx ", " #ppsx "               \n\t"\
+                "movq " #ppsx ", " #dst "               \n\t"\
+                "movq 8(%%"REG_c"), " #lx "             \n\t"
+
+#define DERING_CORE(dst,src,ppsx,psx,sx,pplx,plx,lx,t0,t1) \
+   REAL_DERING_CORE(dst,src,ppsx,psx,sx,pplx,plx,lx,t0,t1)
+/*
+0000000
+1111111
+
+1111110
+1111101
+1111100
+1111011
+1111010
+1111001
+
+1111000
+1110111
+
+*/
+//DERING_CORE(dst          ,src            ,ppsx ,psx  ,sx   ,pplx ,plx  ,lx   ,t0   ,t1)
+DERING_CORE((%%REGa)       ,(%%REGa, %1)   ,%%mm0,%%mm2,%%mm4,%%mm1,%%mm3,%%mm5,%%mm6,%%mm7)
+DERING_CORE((%%REGa, %1)   ,(%%REGa, %1, 2),%%mm2,%%mm4,%%mm0,%%mm3,%%mm5,%%mm1,%%mm6,%%mm7)
+DERING_CORE((%%REGa, %1, 2),(%0, %1, 4)    ,%%mm4,%%mm0,%%mm2,%%mm5,%%mm1,%%mm3,%%mm6,%%mm7)
+DERING_CORE((%0, %1, 4)    ,(%%REGd)       ,%%mm0,%%mm2,%%mm4,%%mm1,%%mm3,%%mm5,%%mm6,%%mm7)
+DERING_CORE((%%REGd)       ,(%%REGd, %1)   ,%%mm2,%%mm4,%%mm0,%%mm3,%%mm5,%%mm1,%%mm6,%%mm7)
+DERING_CORE((%%REGd, %1)   ,(%%REGd, %1, 2),%%mm4,%%mm0,%%mm2,%%mm5,%%mm1,%%mm3,%%mm6,%%mm7)
+DERING_CORE((%%REGd, %1, 2),(%0, %1, 8)    ,%%mm0,%%mm2,%%mm4,%%mm1,%%mm3,%%mm5,%%mm6,%%mm7)
+DERING_CORE((%0, %1, 8)    ,(%%REGd, %1, 4),%%mm2,%%mm4,%%mm0,%%mm3,%%mm5,%%mm1,%%mm6,%%mm7)
+
+                "1:                        \n\t"
+                : : "r" (src), "r" ((long)stride), "m" (c->pQPb), "m"(c->pQPb2)
+                : "%"REG_a, "%"REG_d, "%"REG_c
+        );
+#else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+        int y;
+        int min=255;
+        int max=0;
+        int avg;
+        uint8_t *p;
+        int s[10];
+        const int QP2= c->QP/2 + 1;
+
+        for(y=1; y<9; y++)
+        {
+                int x;
+                p= src + stride*y;
+                for(x=1; x<9; x++)
+                {
+                        p++;
+                        if(*p > max) max= *p;
+                        if(*p < min) min= *p;
+                }
+        }
+        avg= (min + max + 1)>>1;
+
+        if(max - min <deringThreshold) return;
+
+        for(y=0; y<10; y++)
+        {
+                int t = 0;
+
+                if(src[stride*y + 0] > avg) t+= 1;
+                if(src[stride*y + 1] > avg) t+= 2;
+                if(src[stride*y + 2] > avg) t+= 4;
+                if(src[stride*y + 3] > avg) t+= 8;
+                if(src[stride*y + 4] > avg) t+= 16;
+                if(src[stride*y + 5] > avg) t+= 32;
+                if(src[stride*y + 6] > avg) t+= 64;
+                if(src[stride*y + 7] > avg) t+= 128;
+                if(src[stride*y + 8] > avg) t+= 256;
+                if(src[stride*y + 9] > avg) t+= 512;
+
+                t |= (~t)<<16;
+                t &= (t<<1) & (t>>1);
+                s[y] = t;
+        }
+
+        for(y=1; y<9; y++)
+        {
+                int t = s[y-1] & s[y] & s[y+1];
+                t|= t>>16;
+                s[y-1]= t;
+        }
+
+        for(y=1; y<9; y++)
+        {
+                int x;
+                int t = s[y-1];
+
+                p= src + stride*y;
+                for(x=1; x<9; x++)
+                {
+                        p++;
+                        if(t & (1<<x))
+                        {
+                                int f= (*(p-stride-1)) + 2*(*(p-stride)) + (*(p-stride+1))
+                                      +2*(*(p     -1)) + 4*(*p         ) + 2*(*(p     +1))
+                                      +(*(p+stride-1)) + 2*(*(p+stride)) + (*(p+stride+1));
+                                f= (f + 8)>>4;
+
+#ifdef DEBUG_DERING_THRESHOLD
+                                asm volatile("emms\n\t":);
+                                {
+                                static long long numPixels=0;
+                                if(x!=1 && x!=8 && y!=1 && y!=8) numPixels++;
+//                                if((max-min)<20 || (max-min)*QP<200)
+//                                if((max-min)*QP < 500)
+//                                if(max-min<QP/2)
+                                if(max-min < 20)
+                                {
+                                        static int numSkiped=0;
+                                        static int errorSum=0;
+                                        static int worstQP=0;
+                                        static int worstRange=0;
+                                        static int worstDiff=0;
+                                        int diff= (f - *p);
+                                        int absDiff= FFABS(diff);
+                                        int error= diff*diff;
+
+                                        if(x==1 || x==8 || y==1 || y==8) continue;
+
+                                        numSkiped++;
+                                        if(absDiff > worstDiff)
+                                        {
+                                                worstDiff= absDiff;
+                                                worstQP= QP;
+                                                worstRange= max-min;
+                                        }
+                                        errorSum+= error;
+
+                                        if(1024LL*1024LL*1024LL % numSkiped == 0)
+                                        {
+                                                av_log(c, AV_LOG_INFO, "sum:%1.3f, skip:%d, wQP:%d, "
+                                                        "wRange:%d, wDiff:%d, relSkip:%1.3f\n",
+                                                        (float)errorSum/numSkiped, numSkiped, worstQP, worstRange,
+                                                        worstDiff, (float)numSkiped/numPixels);
+                                        }
+                                }
+                                }
+#endif
+                                if     (*p + QP2 < f) *p= *p + QP2;
+                                else if(*p - QP2 > f) *p= *p - QP2;
+                                else *p=f;
+                        }
+                }
+        }
+#ifdef DEBUG_DERING_THRESHOLD
+        if(max-min < 20)
+        {
+                for(y=1; y<9; y++)
+                {
+                        int x;
+                        int t = 0;
+                        p= src + stride*y;
+                        for(x=1; x<9; x++)
+                        {
+                                p++;
+                                *p = FFMIN(*p + 20, 255);
+                        }
+                }
+//                src[0] = src[7]=src[stride*7]=src[stride*7 + 7]=255;
+        }
+#endif
+#endif //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+}
+#endif //HAVE_ALTIVEC
+
+/**
+ * Deinterlaces the given block by linearly interpolating every second line.
+ * will be called for every 8x8 block and can read & write from line 4-15
+ * lines 0-3 have been passed through the deblock / dering filters allready, but can be read too
+ * lines 4-12 will be read into the deblocking filter and should be deinterlaced
+ */
+static inline void RENAME(deInterlaceInterpolateLinear)(uint8_t src[], int stride)
+{
+#if defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+        src+= 4*stride;
+        asm volatile(
+                "lea (%0, %1), %%"REG_a"                \n\t"
+                "lea (%%"REG_a", %1, 4), %%"REG_c"      \n\t"
+//      0       1       2       3       4       5       6       7       8       9
+//      %0      eax     eax+%1  eax+2%1 %0+4%1  ecx     ecx+%1  ecx+2%1 %0+8%1  ecx+4%1
+
+                "movq (%0), %%mm0                       \n\t"
+                "movq (%%"REG_a", %1), %%mm1            \n\t"
+                PAVGB(%%mm1, %%mm0)
+                "movq %%mm0, (%%"REG_a")                \n\t"
+                "movq (%0, %1, 4), %%mm0                \n\t"
+                PAVGB(%%mm0, %%mm1)
+                "movq %%mm1, (%%"REG_a", %1, 2)         \n\t"
+                "movq (%%"REG_c", %1), %%mm1            \n\t"
+                PAVGB(%%mm1, %%mm0)
+                "movq %%mm0, (%%"REG_c")                \n\t"
+                "movq (%0, %1, 8), %%mm0                \n\t"
+                PAVGB(%%mm0, %%mm1)
+                "movq %%mm1, (%%"REG_c", %1, 2)         \n\t"
+
+                : : "r" (src), "r" ((long)stride)
+                : "%"REG_a, "%"REG_c
+        );
+#else
+        int a, b, x;
+        src+= 4*stride;
+
+        for(x=0; x<2; x++){
+                a= *(uint32_t*)&src[stride*0];
+                b= *(uint32_t*)&src[stride*2];
+                *(uint32_t*)&src[stride*1]= (a|b) - (((a^b)&0xFEFEFEFEUL)>>1);
+                a= *(uint32_t*)&src[stride*4];
+                *(uint32_t*)&src[stride*3]= (a|b) - (((a^b)&0xFEFEFEFEUL)>>1);
+                b= *(uint32_t*)&src[stride*6];
+                *(uint32_t*)&src[stride*5]= (a|b) - (((a^b)&0xFEFEFEFEUL)>>1);
+                a= *(uint32_t*)&src[stride*8];
+                *(uint32_t*)&src[stride*7]= (a|b) - (((a^b)&0xFEFEFEFEUL)>>1);
+                src += 4;
+        }
+#endif
+}
+
+/**
+ * Deinterlaces the given block by cubic interpolating every second line.
+ * will be called for every 8x8 block and can read & write from line 4-15
+ * lines 0-3 have been passed through the deblock / dering filters allready, but can be read too
+ * lines 4-12 will be read into the deblocking filter and should be deinterlaced
+ * this filter will read lines 3-15 and write 7-13
+ */
+static inline void RENAME(deInterlaceInterpolateCubic)(uint8_t src[], int stride)
+{
+#if defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+        src+= stride*3;
+        asm volatile(
+                "lea (%0, %1), %%"REG_a"                \n\t"
+                "lea (%%"REG_a", %1, 4), %%"REG_d"      \n\t"
+                "lea (%%"REG_d", %1, 4), %%"REG_c"      \n\t"
+                "add %1, %%"REG_c"                      \n\t"
+                "pxor %%mm7, %%mm7                      \n\t"
+//      0       1       2       3       4       5       6       7       8       9       10
+//      %0      eax     eax+%1  eax+2%1 %0+4%1  edx     edx+%1  edx+2%1 %0+8%1  edx+4%1 ecx
+
+#define REAL_DEINT_CUBIC(a,b,c,d,e)\
+                "movq " #a ", %%mm0                     \n\t"\
+                "movq " #b ", %%mm1                     \n\t"\
+                "movq " #d ", %%mm2                     \n\t"\
+                "movq " #e ", %%mm3                     \n\t"\
+                PAVGB(%%mm2, %%mm1)                             /* (b+d) /2 */\
+                PAVGB(%%mm3, %%mm0)                             /* a(a+e) /2 */\
+                "movq %%mm0, %%mm2                      \n\t"\
+                "punpcklbw %%mm7, %%mm0                 \n\t"\
+                "punpckhbw %%mm7, %%mm2                 \n\t"\
+                "movq %%mm1, %%mm3                      \n\t"\
+                "punpcklbw %%mm7, %%mm1                 \n\t"\
+                "punpckhbw %%mm7, %%mm3                 \n\t"\
+                "psubw %%mm1, %%mm0                     \n\t"   /* L(a+e - (b+d))/2 */\
+                "psubw %%mm3, %%mm2                     \n\t"   /* H(a+e - (b+d))/2 */\
+                "psraw $3, %%mm0                        \n\t"   /* L(a+e - (b+d))/16 */\
+                "psraw $3, %%mm2                        \n\t"   /* H(a+e - (b+d))/16 */\
+                "psubw %%mm0, %%mm1                     \n\t"   /* L(9b + 9d - a - e)/16 */\
+                "psubw %%mm2, %%mm3                     \n\t"   /* H(9b + 9d - a - e)/16 */\
+                "packuswb %%mm3, %%mm1                  \n\t"\
+                "movq %%mm1, " #c "                     \n\t"
+#define DEINT_CUBIC(a,b,c,d,e)  REAL_DEINT_CUBIC(a,b,c,d,e)
+
+DEINT_CUBIC((%0)        , (%%REGa, %1), (%%REGa, %1, 2), (%0, %1, 4) , (%%REGd, %1))
+DEINT_CUBIC((%%REGa, %1), (%0, %1, 4) , (%%REGd)       , (%%REGd, %1), (%0, %1, 8))
+DEINT_CUBIC((%0, %1, 4) , (%%REGd, %1), (%%REGd, %1, 2), (%0, %1, 8) , (%%REGc))
+DEINT_CUBIC((%%REGd, %1), (%0, %1, 8) , (%%REGd, %1, 4), (%%REGc)    , (%%REGc, %1, 2))
+
+                : : "r" (src), "r" ((long)stride)
+                : "%"REG_a, "%"REG_d, "%"REG_c
+        );
+#else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+        int x;
+        src+= stride*3;
+        for(x=0; x<8; x++)
+        {
+                src[stride*3] = CLIP((-src[0]        + 9*src[stride*2] + 9*src[stride*4] - src[stride*6])>>4);
+                src[stride*5] = CLIP((-src[stride*2] + 9*src[stride*4] + 9*src[stride*6] - src[stride*8])>>4);
+                src[stride*7] = CLIP((-src[stride*4] + 9*src[stride*6] + 9*src[stride*8] - src[stride*10])>>4);
+                src[stride*9] = CLIP((-src[stride*6] + 9*src[stride*8] + 9*src[stride*10] - src[stride*12])>>4);
+                src++;
+        }
+#endif //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+}
+
+/**
+ * Deinterlaces the given block by filtering every second line with a (-1 4 2 4 -1) filter.
+ * will be called for every 8x8 block and can read & write from line 4-15
+ * lines 0-3 have been passed through the deblock / dering filters allready, but can be read too
+ * lines 4-12 will be read into the deblocking filter and should be deinterlaced
+ * this filter will read lines 4-13 and write 5-11
+ */
+static inline void RENAME(deInterlaceFF)(uint8_t src[], int stride, uint8_t *tmp)
+{
+#if defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+        src+= stride*4;
+        asm volatile(
+                "lea (%0, %1), %%"REG_a"                \n\t"
+                "lea (%%"REG_a", %1, 4), %%"REG_d"      \n\t"
+                "pxor %%mm7, %%mm7                      \n\t"
+                "movq (%2), %%mm0                       \n\t"
+//      0       1       2       3       4       5       6       7       8       9       10
+//      %0      eax     eax+%1  eax+2%1 %0+4%1  edx     edx+%1  edx+2%1 %0+8%1  edx+4%1 ecx
+
+#define REAL_DEINT_FF(a,b,c,d)\
+                "movq " #a ", %%mm1                     \n\t"\
+                "movq " #b ", %%mm2                     \n\t"\
+                "movq " #c ", %%mm3                     \n\t"\
+                "movq " #d ", %%mm4                     \n\t"\
+                PAVGB(%%mm3, %%mm1)                          \
+                PAVGB(%%mm4, %%mm0)                          \
+                "movq %%mm0, %%mm3                      \n\t"\
+                "punpcklbw %%mm7, %%mm0                 \n\t"\
+                "punpckhbw %%mm7, %%mm3                 \n\t"\
+                "movq %%mm1, %%mm4                      \n\t"\
+                "punpcklbw %%mm7, %%mm1                 \n\t"\
+                "punpckhbw %%mm7, %%mm4                 \n\t"\
+                "psllw $2, %%mm1                        \n\t"\
+                "psllw $2, %%mm4                        \n\t"\
+                "psubw %%mm0, %%mm1                     \n\t"\
+                "psubw %%mm3, %%mm4                     \n\t"\
+                "movq %%mm2, %%mm5                      \n\t"\
+                "movq %%mm2, %%mm0                      \n\t"\
+                "punpcklbw %%mm7, %%mm2                 \n\t"\
+                "punpckhbw %%mm7, %%mm5                 \n\t"\
+                "paddw %%mm2, %%mm1                     \n\t"\
+                "paddw %%mm5, %%mm4                     \n\t"\
+                "psraw $2, %%mm1                        \n\t"\
+                "psraw $2, %%mm4                        \n\t"\
+                "packuswb %%mm4, %%mm1                  \n\t"\
+                "movq %%mm1, " #b "                     \n\t"\
+
+#define DEINT_FF(a,b,c,d)  REAL_DEINT_FF(a,b,c,d)
+
+DEINT_FF((%0)        , (%%REGa)       , (%%REGa, %1), (%%REGa, %1, 2))
+DEINT_FF((%%REGa, %1), (%%REGa, %1, 2), (%0, %1, 4) , (%%REGd)       )
+DEINT_FF((%0, %1, 4) , (%%REGd)       , (%%REGd, %1), (%%REGd, %1, 2))
+DEINT_FF((%%REGd, %1), (%%REGd, %1, 2), (%0, %1, 8) , (%%REGd, %1, 4))
+
+                "movq %%mm0, (%2)                       \n\t"
+                : : "r" (src), "r" ((long)stride), "r"(tmp)
+                : "%"REG_a, "%"REG_d
+        );
+#else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+        int x;
+        src+= stride*4;
+        for(x=0; x<8; x++)
+        {
+                int t1= tmp[x];
+                int t2= src[stride*1];
+
+                src[stride*1]= CLIP((-t1 + 4*src[stride*0] + 2*t2 + 4*src[stride*2] - src[stride*3] + 4)>>3);
+                t1= src[stride*4];
+                src[stride*3]= CLIP((-t2 + 4*src[stride*2] + 2*t1 + 4*src[stride*4] - src[stride*5] + 4)>>3);
+                t2= src[stride*6];
+                src[stride*5]= CLIP((-t1 + 4*src[stride*4] + 2*t2 + 4*src[stride*6] - src[stride*7] + 4)>>3);
+                t1= src[stride*8];
+                src[stride*7]= CLIP((-t2 + 4*src[stride*6] + 2*t1 + 4*src[stride*8] - src[stride*9] + 4)>>3);
+                tmp[x]= t1;
+
+                src++;
+        }
+#endif //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+}
+
+/**
+ * Deinterlaces the given block by filtering every line with a (-1 2 6 2 -1) filter.
+ * will be called for every 8x8 block and can read & write from line 4-15
+ * lines 0-3 have been passed through the deblock / dering filters allready, but can be read too
+ * lines 4-12 will be read into the deblocking filter and should be deinterlaced
+ * this filter will read lines 4-13 and write 4-11
+ */
+static inline void RENAME(deInterlaceL5)(uint8_t src[], int stride, uint8_t *tmp, uint8_t *tmp2)
+{
+#if defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+        src+= stride*4;
+        asm volatile(
+                "lea (%0, %1), %%"REG_a"                \n\t"
+                "lea (%%"REG_a", %1, 4), %%"REG_d"      \n\t"
+                "pxor %%mm7, %%mm7                      \n\t"
+                "movq (%2), %%mm0                       \n\t"
+                "movq (%3), %%mm1                       \n\t"
+//      0       1       2       3       4       5       6       7       8       9       10
+//      %0      eax     eax+%1  eax+2%1 %0+4%1  edx     edx+%1  edx+2%1 %0+8%1  edx+4%1 ecx
+
+#define REAL_DEINT_L5(t1,t2,a,b,c)\
+                "movq " #a ", %%mm2                     \n\t"\
+                "movq " #b ", %%mm3                     \n\t"\
+                "movq " #c ", %%mm4                     \n\t"\
+                PAVGB(t2, %%mm3)                             \
+                PAVGB(t1, %%mm4)                             \
+                "movq %%mm2, %%mm5                      \n\t"\
+                "movq %%mm2, " #t1 "                    \n\t"\
+                "punpcklbw %%mm7, %%mm2                 \n\t"\
+                "punpckhbw %%mm7, %%mm5                 \n\t"\
+                "movq %%mm2, %%mm6                      \n\t"\
+                "paddw %%mm2, %%mm2                     \n\t"\
+                "paddw %%mm6, %%mm2                     \n\t"\
+                "movq %%mm5, %%mm6                      \n\t"\
+                "paddw %%mm5, %%mm5                     \n\t"\
+                "paddw %%mm6, %%mm5                     \n\t"\
+                "movq %%mm3, %%mm6                      \n\t"\
+                "punpcklbw %%mm7, %%mm3                 \n\t"\
+                "punpckhbw %%mm7, %%mm6                 \n\t"\
+                "paddw %%mm3, %%mm3                     \n\t"\
+                "paddw %%mm6, %%mm6                     \n\t"\
+                "paddw %%mm3, %%mm2                     \n\t"\
+                "paddw %%mm6, %%mm5                     \n\t"\
+                "movq %%mm4, %%mm6                      \n\t"\
+                "punpcklbw %%mm7, %%mm4                 \n\t"\
+                "punpckhbw %%mm7, %%mm6                 \n\t"\
+                "psubw %%mm4, %%mm2                     \n\t"\
+                "psubw %%mm6, %%mm5                     \n\t"\
+                "psraw $2, %%mm2                        \n\t"\
+                "psraw $2, %%mm5                        \n\t"\
+                "packuswb %%mm5, %%mm2                  \n\t"\
+                "movq %%mm2, " #a "                     \n\t"\
+
+#define DEINT_L5(t1,t2,a,b,c)  REAL_DEINT_L5(t1,t2,a,b,c)
+
+DEINT_L5(%%mm0, %%mm1, (%0)           , (%%REGa)       , (%%REGa, %1)   )
+DEINT_L5(%%mm1, %%mm0, (%%REGa)       , (%%REGa, %1)   , (%%REGa, %1, 2))
+DEINT_L5(%%mm0, %%mm1, (%%REGa, %1)   , (%%REGa, %1, 2), (%0, %1, 4)   )
+DEINT_L5(%%mm1, %%mm0, (%%REGa, %1, 2), (%0, %1, 4)    , (%%REGd)       )
+DEINT_L5(%%mm0, %%mm1, (%0, %1, 4)    , (%%REGd)       , (%%REGd, %1)   )
+DEINT_L5(%%mm1, %%mm0, (%%REGd)       , (%%REGd, %1)   , (%%REGd, %1, 2))
+DEINT_L5(%%mm0, %%mm1, (%%REGd, %1)   , (%%REGd, %1, 2), (%0, %1, 8)   )
+DEINT_L5(%%mm1, %%mm0, (%%REGd, %1, 2), (%0, %1, 8)    , (%%REGd, %1, 4))
+
+                "movq %%mm0, (%2)                       \n\t"
+                "movq %%mm1, (%3)                       \n\t"
+                : : "r" (src), "r" ((long)stride), "r"(tmp), "r"(tmp2)
+                : "%"REG_a, "%"REG_d
+        );
+#else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+        int x;
+        src+= stride*4;
+        for(x=0; x<8; x++)
+        {
+                int t1= tmp[x];
+                int t2= tmp2[x];
+                int t3= src[0];
+
+                src[stride*0]= CLIP((-(t1 + src[stride*2]) + 2*(t2 + src[stride*1]) + 6*t3 + 4)>>3);
+                t1= src[stride*1];
+                src[stride*1]= CLIP((-(t2 + src[stride*3]) + 2*(t3 + src[stride*2]) + 6*t1 + 4)>>3);
+                t2= src[stride*2];
+                src[stride*2]= CLIP((-(t3 + src[stride*4]) + 2*(t1 + src[stride*3]) + 6*t2 + 4)>>3);
+                t3= src[stride*3];
+                src[stride*3]= CLIP((-(t1 + src[stride*5]) + 2*(t2 + src[stride*4]) + 6*t3 + 4)>>3);
+                t1= src[stride*4];
+                src[stride*4]= CLIP((-(t2 + src[stride*6]) + 2*(t3 + src[stride*5]) + 6*t1 + 4)>>3);
+                t2= src[stride*5];
+                src[stride*5]= CLIP((-(t3 + src[stride*7]) + 2*(t1 + src[stride*6]) + 6*t2 + 4)>>3);
+                t3= src[stride*6];
+                src[stride*6]= CLIP((-(t1 + src[stride*8]) + 2*(t2 + src[stride*7]) + 6*t3 + 4)>>3);
+                t1= src[stride*7];
+                src[stride*7]= CLIP((-(t2 + src[stride*9]) + 2*(t3 + src[stride*8]) + 6*t1 + 4)>>3);
+
+                tmp[x]= t3;
+                tmp2[x]= t1;
+
+                src++;
+        }
+#endif //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+}
+
+/**
+ * Deinterlaces the given block by filtering all lines with a (1 2 1) filter.
+ * will be called for every 8x8 block and can read & write from line 4-15
+ * lines 0-3 have been passed through the deblock / dering filters allready, but can be read too
+ * lines 4-12 will be read into the deblocking filter and should be deinterlaced
+ * this filter will read lines 4-13 and write 4-11
+ */
+static inline void RENAME(deInterlaceBlendLinear)(uint8_t src[], int stride, uint8_t *tmp)
+{
+#if defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+        src+= 4*stride;
+        asm volatile(
+                "lea (%0, %1), %%"REG_a"                \n\t"
+                "lea (%%"REG_a", %1, 4), %%"REG_d"      \n\t"
+//      0       1       2       3       4       5       6       7       8       9
+//      %0      eax     eax+%1  eax+2%1 %0+4%1  edx     edx+%1  edx+2%1 %0+8%1  edx+4%1
+
+                "movq (%2), %%mm0                       \n\t" // L0
+                "movq (%%"REG_a"), %%mm1                \n\t" // L2
+                PAVGB(%%mm1, %%mm0)                           // L0+L2
+                "movq (%0), %%mm2                       \n\t" // L1
+                PAVGB(%%mm2, %%mm0)
+                "movq %%mm0, (%0)                       \n\t"
+                "movq (%%"REG_a", %1), %%mm0            \n\t" // L3
+                PAVGB(%%mm0, %%mm2)                           // L1+L3
+                PAVGB(%%mm1, %%mm2)                           // 2L2 + L1 + L3
+                "movq %%mm2, (%%"REG_a")                \n\t"
+                "movq (%%"REG_a", %1, 2), %%mm2         \n\t" // L4
+                PAVGB(%%mm2, %%mm1)                           // L2+L4
+                PAVGB(%%mm0, %%mm1)                           // 2L3 + L2 + L4
+                "movq %%mm1, (%%"REG_a", %1)            \n\t"
+                "movq (%0, %1, 4), %%mm1                \n\t" // L5
+                PAVGB(%%mm1, %%mm0)                           // L3+L5
+                PAVGB(%%mm2, %%mm0)                           // 2L4 + L3 + L5
+                "movq %%mm0, (%%"REG_a", %1, 2)         \n\t"
+                "movq (%%"REG_d"), %%mm0                \n\t" // L6
+                PAVGB(%%mm0, %%mm2)                           // L4+L6
+                PAVGB(%%mm1, %%mm2)                           // 2L5 + L4 + L6
+                "movq %%mm2, (%0, %1, 4)                \n\t"
+                "movq (%%"REG_d", %1), %%mm2            \n\t" // L7
+                PAVGB(%%mm2, %%mm1)                           // L5+L7
+                PAVGB(%%mm0, %%mm1)                           // 2L6 + L5 + L7
+                "movq %%mm1, (%%"REG_d")                \n\t"
+                "movq (%%"REG_d", %1, 2), %%mm1         \n\t" // L8
+                PAVGB(%%mm1, %%mm0)                           // L6+L8
+                PAVGB(%%mm2, %%mm0)                           // 2L7 + L6 + L8
+                "movq %%mm0, (%%"REG_d", %1)            \n\t"
+                "movq (%0, %1, 8), %%mm0                \n\t" // L9
+                PAVGB(%%mm0, %%mm2)                           // L7+L9
+                PAVGB(%%mm1, %%mm2)                           // 2L8 + L7 + L9
+                "movq %%mm2, (%%"REG_d", %1, 2)         \n\t"
+                "movq %%mm1, (%2)                       \n\t"
+
+                : : "r" (src), "r" ((long)stride), "r" (tmp)
+                : "%"REG_a, "%"REG_d
+        );
+#else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+        int a, b, c, x;
+        src+= 4*stride;
+
+        for(x=0; x<2; x++){
+                a= *(uint32_t*)&tmp[stride*0];
+                b= *(uint32_t*)&src[stride*0];
+                c= *(uint32_t*)&src[stride*1];
+                a= (a&c) + (((a^c)&0xFEFEFEFEUL)>>1);
+                *(uint32_t*)&src[stride*0]= (a|b) - (((a^b)&0xFEFEFEFEUL)>>1);
+
+                a= *(uint32_t*)&src[stride*2];
+                b= (a&b) + (((a^b)&0xFEFEFEFEUL)>>1);
+                *(uint32_t*)&src[stride*1]= (c|b) - (((c^b)&0xFEFEFEFEUL)>>1);
+
+                b= *(uint32_t*)&src[stride*3];
+                c= (b&c) + (((b^c)&0xFEFEFEFEUL)>>1);
+                *(uint32_t*)&src[stride*2]= (c|a) - (((c^a)&0xFEFEFEFEUL)>>1);
+
+                c= *(uint32_t*)&src[stride*4];
+                a= (a&c) + (((a^c)&0xFEFEFEFEUL)>>1);
+                *(uint32_t*)&src[stride*3]= (a|b) - (((a^b)&0xFEFEFEFEUL)>>1);
+
+                a= *(uint32_t*)&src[stride*5];
+                b= (a&b) + (((a^b)&0xFEFEFEFEUL)>>1);
+                *(uint32_t*)&src[stride*4]= (c|b) - (((c^b)&0xFEFEFEFEUL)>>1);
+
+                b= *(uint32_t*)&src[stride*6];
+                c= (b&c) + (((b^c)&0xFEFEFEFEUL)>>1);
+                *(uint32_t*)&src[stride*5]= (c|a) - (((c^a)&0xFEFEFEFEUL)>>1);
+
+                c= *(uint32_t*)&src[stride*7];
+                a= (a&c) + (((a^c)&0xFEFEFEFEUL)>>1);
+                *(uint32_t*)&src[stride*6]= (a|b) - (((a^b)&0xFEFEFEFEUL)>>1);
+
+                a= *(uint32_t*)&src[stride*8];
+                b= (a&b) + (((a^b)&0xFEFEFEFEUL)>>1);
+                *(uint32_t*)&src[stride*7]= (c|b) - (((c^b)&0xFEFEFEFEUL)>>1);
+
+                *(uint32_t*)&tmp[stride*0]= c;
+                src += 4;
+                tmp += 4;
+        }
+#endif //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+}
+
+/**
+ * Deinterlaces the given block by applying a median filter to every second line.
+ * will be called for every 8x8 block and can read & write from line 4-15,
+ * lines 0-3 have been passed through the deblock / dering filters allready, but can be read too
+ * lines 4-12 will be read into the deblocking filter and should be deinterlaced
+ */
+static inline void RENAME(deInterlaceMedian)(uint8_t src[], int stride)
+{
+#ifdef HAVE_MMX
+        src+= 4*stride;
+#ifdef HAVE_MMX2
+        asm volatile(
+                "lea (%0, %1), %%"REG_a"                \n\t"
+                "lea (%%"REG_a", %1, 4), %%"REG_d"      \n\t"
+//      0       1       2       3       4       5       6       7       8       9
+//      %0      eax     eax+%1  eax+2%1 %0+4%1  edx     edx+%1  edx+2%1 %0+8%1  edx+4%1
+
+                "movq (%0), %%mm0                       \n\t" //
+                "movq (%%"REG_a", %1), %%mm2            \n\t" //
+                "movq (%%"REG_a"), %%mm1                \n\t" //
+                "movq %%mm0, %%mm3                      \n\t"
+                "pmaxub %%mm1, %%mm0                    \n\t" //
+                "pminub %%mm3, %%mm1                    \n\t" //
+                "pmaxub %%mm2, %%mm1                    \n\t" //
+                "pminub %%mm1, %%mm0                    \n\t"
+                "movq %%mm0, (%%"REG_a")                \n\t"
+
+                "movq (%0, %1, 4), %%mm0                \n\t" //
+                "movq (%%"REG_a", %1, 2), %%mm1         \n\t" //
+                "movq %%mm2, %%mm3                      \n\t"
+                "pmaxub %%mm1, %%mm2                    \n\t" //
+                "pminub %%mm3, %%mm1                    \n\t" //
+                "pmaxub %%mm0, %%mm1                    \n\t" //
+                "pminub %%mm1, %%mm2                    \n\t"
+                "movq %%mm2, (%%"REG_a", %1, 2)         \n\t"
+
+                "movq (%%"REG_d"), %%mm2                \n\t" //
+                "movq (%%"REG_d", %1), %%mm1            \n\t" //
+                "movq %%mm2, %%mm3                      \n\t"
+                "pmaxub %%mm0, %%mm2                    \n\t" //
+                "pminub %%mm3, %%mm0                    \n\t" //
+                "pmaxub %%mm1, %%mm0                    \n\t" //
+                "pminub %%mm0, %%mm2                    \n\t"
+                "movq %%mm2, (%%"REG_d")                \n\t"
+
+                "movq (%%"REG_d", %1, 2), %%mm2         \n\t" //
+                "movq (%0, %1, 8), %%mm0                \n\t" //
+                "movq %%mm2, %%mm3                      \n\t"
+                "pmaxub %%mm0, %%mm2                    \n\t" //
+                "pminub %%mm3, %%mm0                    \n\t" //
+                "pmaxub %%mm1, %%mm0                    \n\t" //
+                "pminub %%mm0, %%mm2                    \n\t"
+                "movq %%mm2, (%%"REG_d", %1, 2)         \n\t"
+
+
+                : : "r" (src), "r" ((long)stride)
+                : "%"REG_a, "%"REG_d
+        );
+
+#else // MMX without MMX2
+        asm volatile(
+                "lea (%0, %1), %%"REG_a"                \n\t"
+                "lea (%%"REG_a", %1, 4), %%"REG_d"      \n\t"
+//      0       1       2       3       4       5       6       7       8       9
+//      %0      eax     eax+%1  eax+2%1 %0+4%1  edx     edx+%1  edx+2%1 %0+8%1  edx+4%1
+                "pxor %%mm7, %%mm7                      \n\t"
+
+#define REAL_MEDIAN(a,b,c)\
+                "movq " #a ", %%mm0                     \n\t"\
+                "movq " #b ", %%mm2                     \n\t"\
+                "movq " #c ", %%mm1                     \n\t"\
+                "movq %%mm0, %%mm3                      \n\t"\
+                "movq %%mm1, %%mm4                      \n\t"\
+                "movq %%mm2, %%mm5                      \n\t"\
+                "psubusb %%mm1, %%mm3                   \n\t"\
+                "psubusb %%mm2, %%mm4                   \n\t"\
+                "psubusb %%mm0, %%mm5                   \n\t"\
+                "pcmpeqb %%mm7, %%mm3                   \n\t"\
+                "pcmpeqb %%mm7, %%mm4                   \n\t"\
+                "pcmpeqb %%mm7, %%mm5                   \n\t"\
+                "movq %%mm3, %%mm6                      \n\t"\
+                "pxor %%mm4, %%mm3                      \n\t"\
+                "pxor %%mm5, %%mm4                      \n\t"\
+                "pxor %%mm6, %%mm5                      \n\t"\
+                "por %%mm3, %%mm1                       \n\t"\
+                "por %%mm4, %%mm2                       \n\t"\
+                "por %%mm5, %%mm0                       \n\t"\
+                "pand %%mm2, %%mm0                      \n\t"\
+                "pand %%mm1, %%mm0                      \n\t"\
+                "movq %%mm0, " #b "                     \n\t"
+#define MEDIAN(a,b,c)  REAL_MEDIAN(a,b,c)
+
+MEDIAN((%0)        , (%%REGa)       , (%%REGa, %1))
+MEDIAN((%%REGa, %1), (%%REGa, %1, 2), (%0, %1, 4))
+MEDIAN((%0, %1, 4) , (%%REGd)       , (%%REGd, %1))
+MEDIAN((%%REGd, %1), (%%REGd, %1, 2), (%0, %1, 8))
+
+                : : "r" (src), "r" ((long)stride)
+                : "%"REG_a, "%"REG_d
+        );
+#endif //HAVE_MMX2
+#else //HAVE_MMX
+        int x, y;
+        src+= 4*stride;
+        // FIXME - there should be a way to do a few columns in parallel like w/mmx
+        for(x=0; x<8; x++)
+        {
+                uint8_t *colsrc = src;
+                for (y=0; y<4; y++)
+                {
+                        int a, b, c, d, e, f;
+                        a = colsrc[0       ];
+                        b = colsrc[stride  ];
+                        c = colsrc[stride*2];
+                        d = (a-b)>>31;
+                        e = (b-c)>>31;
+                        f = (c-a)>>31;
+                        colsrc[stride  ] = (a|(d^f)) & (b|(d^e)) & (c|(e^f));
+                        colsrc += stride*2;
+                }
+                src++;
+        }
+#endif //HAVE_MMX
+}
+
+#ifdef HAVE_MMX
+/**
+ * transposes and shift the given 8x8 Block into dst1 and dst2
+ */
+static inline void RENAME(transpose1)(uint8_t *dst1, uint8_t *dst2, uint8_t *src, int srcStride)
+{
+        asm(
+                "lea (%0, %1), %%"REG_a"                \n\t"
+//      0       1       2       3       4       5       6       7       8       9
+//      %0      eax     eax+%1  eax+2%1 %0+4%1  edx     edx+%1  edx+2%1 %0+8%1  edx+4%1
+                "movq (%0), %%mm0                       \n\t" // 12345678
+                "movq (%%"REG_a"), %%mm1                \n\t" // abcdefgh
+                "movq %%mm0, %%mm2                      \n\t" // 12345678
+                "punpcklbw %%mm1, %%mm0                 \n\t" // 1a2b3c4d
+                "punpckhbw %%mm1, %%mm2                 \n\t" // 5e6f7g8h
+
+                "movq (%%"REG_a", %1), %%mm1            \n\t"
+                "movq (%%"REG_a", %1, 2), %%mm3         \n\t"
+                "movq %%mm1, %%mm4                      \n\t"
+                "punpcklbw %%mm3, %%mm1                 \n\t"
+                "punpckhbw %%mm3, %%mm4                 \n\t"
+
+                "movq %%mm0, %%mm3                      \n\t"
+                "punpcklwd %%mm1, %%mm0                 \n\t"
+                "punpckhwd %%mm1, %%mm3                 \n\t"
+                "movq %%mm2, %%mm1                      \n\t"
+                "punpcklwd %%mm4, %%mm2                 \n\t"
+                "punpckhwd %%mm4, %%mm1                 \n\t"
+
+                "movd %%mm0, 128(%2)                    \n\t"
+                "psrlq $32, %%mm0                       \n\t"
+                "movd %%mm0, 144(%2)                    \n\t"
+                "movd %%mm3, 160(%2)                    \n\t"
+                "psrlq $32, %%mm3                       \n\t"
+                "movd %%mm3, 176(%2)                    \n\t"
+                "movd %%mm3, 48(%3)                     \n\t"
+                "movd %%mm2, 192(%2)                    \n\t"
+                "movd %%mm2, 64(%3)                     \n\t"
+                "psrlq $32, %%mm2                       \n\t"
+                "movd %%mm2, 80(%3)                     \n\t"
+                "movd %%mm1, 96(%3)                     \n\t"
+                "psrlq $32, %%mm1                       \n\t"
+                "movd %%mm1, 112(%3)                    \n\t"
+
+                "lea (%%"REG_a", %1, 4), %%"REG_a"      \n\t"
+
+                "movq (%0, %1, 4), %%mm0                \n\t" // 12345678
+                "movq (%%"REG_a"), %%mm1                \n\t" // abcdefgh
+                "movq %%mm0, %%mm2                      \n\t" // 12345678
+                "punpcklbw %%mm1, %%mm0                 \n\t" // 1a2b3c4d
+                "punpckhbw %%mm1, %%mm2                 \n\t" // 5e6f7g8h
+
+                "movq (%%"REG_a", %1), %%mm1            \n\t"
+                "movq (%%"REG_a", %1, 2), %%mm3         \n\t"
+                "movq %%mm1, %%mm4                      \n\t"
+                "punpcklbw %%mm3, %%mm1                 \n\t"
+                "punpckhbw %%mm3, %%mm4                 \n\t"
+
+                "movq %%mm0, %%mm3                      \n\t"
+                "punpcklwd %%mm1, %%mm0                 \n\t"
+                "punpckhwd %%mm1, %%mm3                 \n\t"
+                "movq %%mm2, %%mm1                      \n\t"
+                "punpcklwd %%mm4, %%mm2                 \n\t"
+                "punpckhwd %%mm4, %%mm1                 \n\t"
+
+                "movd %%mm0, 132(%2)                    \n\t"
+                "psrlq $32, %%mm0                       \n\t"
+                "movd %%mm0, 148(%2)                    \n\t"
+                "movd %%mm3, 164(%2)                    \n\t"
+                "psrlq $32, %%mm3                       \n\t"
+                "movd %%mm3, 180(%2)                    \n\t"
+                "movd %%mm3, 52(%3)                     \n\t"
+                "movd %%mm2, 196(%2)                    \n\t"
+                "movd %%mm2, 68(%3)                     \n\t"
+                "psrlq $32, %%mm2                       \n\t"
+                "movd %%mm2, 84(%3)                     \n\t"
+                "movd %%mm1, 100(%3)                    \n\t"
+                "psrlq $32, %%mm1                       \n\t"
+                "movd %%mm1, 116(%3)                    \n\t"
+
+
+        :: "r" (src), "r" ((long)srcStride), "r" (dst1), "r" (dst2)
+        : "%"REG_a
+        );
+}
+
+/**
+ * transposes the given 8x8 block
+ */
+static inline void RENAME(transpose2)(uint8_t *dst, int dstStride, uint8_t *src)
+{
+        asm(
+                "lea (%0, %1), %%"REG_a"                \n\t"
+                "lea (%%"REG_a",%1,4), %%"REG_d"        \n\t"
+//      0       1       2       3       4       5       6       7       8       9
+//      %0      eax     eax+%1  eax+2%1 %0+4%1  edx     edx+%1  edx+2%1 %0+8%1  edx+4%1
+                "movq (%2), %%mm0                       \n\t" // 12345678
+                "movq 16(%2), %%mm1                     \n\t" // abcdefgh
+                "movq %%mm0, %%mm2                      \n\t" // 12345678
+                "punpcklbw %%mm1, %%mm0                 \n\t" // 1a2b3c4d
+                "punpckhbw %%mm1, %%mm2                 \n\t" // 5e6f7g8h
+
+                "movq 32(%2), %%mm1                     \n\t"
+                "movq 48(%2), %%mm3                     \n\t"
+                "movq %%mm1, %%mm4                      \n\t"
+                "punpcklbw %%mm3, %%mm1                 \n\t"
+                "punpckhbw %%mm3, %%mm4                 \n\t"
+
+                "movq %%mm0, %%mm3                      \n\t"
+                "punpcklwd %%mm1, %%mm0                 \n\t"
+                "punpckhwd %%mm1, %%mm3                 \n\t"
+                "movq %%mm2, %%mm1                      \n\t"
+                "punpcklwd %%mm4, %%mm2                 \n\t"
+                "punpckhwd %%mm4, %%mm1                 \n\t"
+
+                "movd %%mm0, (%0)                       \n\t"
+                "psrlq $32, %%mm0                       \n\t"
+                "movd %%mm0, (%%"REG_a")                \n\t"
+                "movd %%mm3, (%%"REG_a", %1)            \n\t"
+                "psrlq $32, %%mm3                       \n\t"
+                "movd %%mm3, (%%"REG_a", %1, 2)         \n\t"
+                "movd %%mm2, (%0, %1, 4)                \n\t"
+                "psrlq $32, %%mm2                       \n\t"
+                "movd %%mm2, (%%"REG_d")                \n\t"
+                "movd %%mm1, (%%"REG_d", %1)            \n\t"
+                "psrlq $32, %%mm1                       \n\t"
+                "movd %%mm1, (%%"REG_d", %1, 2)         \n\t"
+
+
+                "movq 64(%2), %%mm0                     \n\t" // 12345678
+                "movq 80(%2), %%mm1                     \n\t" // abcdefgh
+                "movq %%mm0, %%mm2                      \n\t" // 12345678
+                "punpcklbw %%mm1, %%mm0                 \n\t" // 1a2b3c4d
+                "punpckhbw %%mm1, %%mm2                 \n\t" // 5e6f7g8h
+
+                "movq 96(%2), %%mm1                     \n\t"
+                "movq 112(%2), %%mm3                    \n\t"
+                "movq %%mm1, %%mm4                      \n\t"
+                "punpcklbw %%mm3, %%mm1                 \n\t"
+                "punpckhbw %%mm3, %%mm4                 \n\t"
+
+                "movq %%mm0, %%mm3                      \n\t"
+                "punpcklwd %%mm1, %%mm0                 \n\t"
+                "punpckhwd %%mm1, %%mm3                 \n\t"
+                "movq %%mm2, %%mm1                      \n\t"
+                "punpcklwd %%mm4, %%mm2                 \n\t"
+                "punpckhwd %%mm4, %%mm1                 \n\t"
+
+                "movd %%mm0, 4(%0)                      \n\t"
+                "psrlq $32, %%mm0                       \n\t"
+                "movd %%mm0, 4(%%"REG_a")               \n\t"
+                "movd %%mm3, 4(%%"REG_a", %1)           \n\t"
+                "psrlq $32, %%mm3                       \n\t"
+                "movd %%mm3, 4(%%"REG_a", %1, 2)        \n\t"
+                "movd %%mm2, 4(%0, %1, 4)               \n\t"
+                "psrlq $32, %%mm2                       \n\t"
+                "movd %%mm2, 4(%%"REG_d")               \n\t"
+                "movd %%mm1, 4(%%"REG_d", %1)           \n\t"
+                "psrlq $32, %%mm1                       \n\t"
+                "movd %%mm1, 4(%%"REG_d", %1, 2)        \n\t"
+
+        :: "r" (dst), "r" ((long)dstStride), "r" (src)
+        : "%"REG_a, "%"REG_d
+        );
+}
+#endif //HAVE_MMX
+//static long test=0;
+
+#ifndef HAVE_ALTIVEC
+static inline void RENAME(tempNoiseReducer)(uint8_t *src, int stride,
+                                    uint8_t *tempBlured, uint32_t *tempBluredPast, int *maxNoise)
+{
+        // to save a register (FIXME do this outside of the loops)
+        tempBluredPast[127]= maxNoise[0];
+        tempBluredPast[128]= maxNoise[1];
+        tempBluredPast[129]= maxNoise[2];
+
+#define FAST_L2_DIFF
+//#define L1_DIFF //u should change the thresholds too if u try that one
+#if defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+        asm volatile(
+                "lea (%2, %2, 2), %%"REG_a"             \n\t" // 3*stride
+                "lea (%2, %2, 4), %%"REG_d"             \n\t" // 5*stride
+                "lea (%%"REG_d", %2, 2), %%"REG_c"      \n\t" // 7*stride
+//      0       1       2       3       4       5       6       7       8       9
+//      %x      %x+%2   %x+2%2  %x+eax  %x+4%2  %x+edx  %x+2eax %x+ecx  %x+8%2
+//FIXME reorder?
+#ifdef L1_DIFF //needs mmx2
+                "movq (%0), %%mm0                       \n\t" // L0
+                "psadbw (%1), %%mm0                     \n\t" // |L0-R0|
+                "movq (%0, %2), %%mm1                   \n\t" // L1
+                "psadbw (%1, %2), %%mm1                 \n\t" // |L1-R1|
+                "movq (%0, %2, 2), %%mm2                \n\t" // L2
+                "psadbw (%1, %2, 2), %%mm2              \n\t" // |L2-R2|
+                "movq (%0, %%"REG_a"), %%mm3            \n\t" // L3
+                "psadbw (%1, %%"REG_a"), %%mm3          \n\t" // |L3-R3|
+
+                "movq (%0, %2, 4), %%mm4                \n\t" // L4
+                "paddw %%mm1, %%mm0                     \n\t"
+                "psadbw (%1, %2, 4), %%mm4              \n\t" // |L4-R4|
+                "movq (%0, %%"REG_d"), %%mm5            \n\t" // L5
+                "paddw %%mm2, %%mm0                     \n\t"
+                "psadbw (%1, %%"REG_d"), %%mm5          \n\t" // |L5-R5|
+                "movq (%0, %%"REG_a", 2), %%mm6         \n\t" // L6
+                "paddw %%mm3, %%mm0                     \n\t"
+                "psadbw (%1, %%"REG_a", 2), %%mm6       \n\t" // |L6-R6|
+                "movq (%0, %%"REG_c"), %%mm7            \n\t" // L7
+                "paddw %%mm4, %%mm0                     \n\t"
+                "psadbw (%1, %%"REG_c"), %%mm7          \n\t" // |L7-R7|
+                "paddw %%mm5, %%mm6                     \n\t"
+                "paddw %%mm7, %%mm6                     \n\t"
+                "paddw %%mm6, %%mm0                     \n\t"
+#else //L1_DIFF
+#if defined (FAST_L2_DIFF)
+                "pcmpeqb %%mm7, %%mm7                   \n\t"
+                "movq "MANGLE(b80)", %%mm6              \n\t"
+                "pxor %%mm0, %%mm0                      \n\t"
+#define REAL_L2_DIFF_CORE(a, b)\
+                "movq " #a ", %%mm5                     \n\t"\
+                "movq " #b ", %%mm2                     \n\t"\
+                "pxor %%mm7, %%mm2                      \n\t"\
+                PAVGB(%%mm2, %%mm5)\
+                "paddb %%mm6, %%mm5                     \n\t"\
+                "movq %%mm5, %%mm2                      \n\t"\
+                "psllw $8, %%mm5                        \n\t"\
+                "pmaddwd %%mm5, %%mm5                   \n\t"\
+                "pmaddwd %%mm2, %%mm2                   \n\t"\
+                "paddd %%mm2, %%mm5                     \n\t"\
+                "psrld $14, %%mm5                       \n\t"\
+                "paddd %%mm5, %%mm0                     \n\t"
+
+#else //defined (FAST_L2_DIFF)
+                "pxor %%mm7, %%mm7                      \n\t"
+                "pxor %%mm0, %%mm0                      \n\t"
+#define REAL_L2_DIFF_CORE(a, b)\
+                "movq " #a ", %%mm5                     \n\t"\
+                "movq " #b ", %%mm2                     \n\t"\
+                "movq %%mm5, %%mm1                      \n\t"\
+                "movq %%mm2, %%mm3                      \n\t"\
+                "punpcklbw %%mm7, %%mm5                 \n\t"\
+                "punpckhbw %%mm7, %%mm1                 \n\t"\
+                "punpcklbw %%mm7, %%mm2                 \n\t"\
+                "punpckhbw %%mm7, %%mm3                 \n\t"\
+                "psubw %%mm2, %%mm5                     \n\t"\
+                "psubw %%mm3, %%mm1                     \n\t"\
+                "pmaddwd %%mm5, %%mm5                   \n\t"\
+                "pmaddwd %%mm1, %%mm1                   \n\t"\
+                "paddd %%mm1, %%mm5                     \n\t"\
+                "paddd %%mm5, %%mm0                     \n\t"
+
+#endif //defined (FAST_L2_DIFF)
+
+#define L2_DIFF_CORE(a, b)  REAL_L2_DIFF_CORE(a, b)
+
+L2_DIFF_CORE((%0)          , (%1))
+L2_DIFF_CORE((%0, %2)      , (%1, %2))
+L2_DIFF_CORE((%0, %2, 2)   , (%1, %2, 2))
+L2_DIFF_CORE((%0, %%REGa)  , (%1, %%REGa))
+L2_DIFF_CORE((%0, %2, 4)   , (%1, %2, 4))
+L2_DIFF_CORE((%0, %%REGd)  , (%1, %%REGd))
+L2_DIFF_CORE((%0, %%REGa,2), (%1, %%REGa,2))
+L2_DIFF_CORE((%0, %%REGc)  , (%1, %%REGc))
+
+#endif //L1_DIFF
+
+                "movq %%mm0, %%mm4                      \n\t"
+                "psrlq $32, %%mm0                       \n\t"
+                "paddd %%mm0, %%mm4                     \n\t"
+                "movd %%mm4, %%ecx                      \n\t"
+                "shll $2, %%ecx                         \n\t"
+                "mov %3, %%"REG_d"                      \n\t"
+                "addl -4(%%"REG_d"), %%ecx              \n\t"
+                "addl 4(%%"REG_d"), %%ecx               \n\t"
+                "addl -1024(%%"REG_d"), %%ecx           \n\t"
+                "addl $4, %%ecx                         \n\t"
+                "addl 1024(%%"REG_d"), %%ecx            \n\t"
+                "shrl $3, %%ecx                         \n\t"
+                "movl %%ecx, (%%"REG_d")                \n\t"
+
+//                "mov %3, %%"REG_c"                      \n\t"
+//                "mov %%"REG_c", test                    \n\t"
+//                "jmp 4f                                 \n\t"
+                "cmpl 512(%%"REG_d"), %%ecx             \n\t"
+                " jb 2f                                 \n\t"
+                "cmpl 516(%%"REG_d"), %%ecx             \n\t"
+                " jb 1f                                 \n\t"
+
+                "lea (%%"REG_a", %2, 2), %%"REG_d"      \n\t" // 5*stride
+                "lea (%%"REG_d", %2, 2), %%"REG_c"      \n\t" // 7*stride
+                "movq (%0), %%mm0                       \n\t" // L0
+                "movq (%0, %2), %%mm1                   \n\t" // L1
+                "movq (%0, %2, 2), %%mm2                \n\t" // L2
+                "movq (%0, %%"REG_a"), %%mm3            \n\t" // L3
+                "movq (%0, %2, 4), %%mm4                \n\t" // L4
+                "movq (%0, %%"REG_d"), %%mm5            \n\t" // L5
+                "movq (%0, %%"REG_a", 2), %%mm6         \n\t" // L6
+                "movq (%0, %%"REG_c"), %%mm7            \n\t" // L7
+                "movq %%mm0, (%1)                       \n\t" // L0
+                "movq %%mm1, (%1, %2)                   \n\t" // L1
+                "movq %%mm2, (%1, %2, 2)                \n\t" // L2
+                "movq %%mm3, (%1, %%"REG_a")            \n\t" // L3
+                "movq %%mm4, (%1, %2, 4)                \n\t" // L4
+                "movq %%mm5, (%1, %%"REG_d")            \n\t" // L5
+                "movq %%mm6, (%1, %%"REG_a", 2)         \n\t" // L6
+                "movq %%mm7, (%1, %%"REG_c")            \n\t" // L7
+                "jmp 4f                                 \n\t"
+
+                "1:                                     \n\t"
+                "lea (%%"REG_a", %2, 2), %%"REG_d"      \n\t" // 5*stride
+                "lea (%%"REG_d", %2, 2), %%"REG_c"      \n\t" // 7*stride
+                "movq (%0), %%mm0                       \n\t" // L0
+                PAVGB((%1), %%mm0)                            // L0
+                "movq (%0, %2), %%mm1                   \n\t" // L1
+                PAVGB((%1, %2), %%mm1)                        // L1
+                "movq (%0, %2, 2), %%mm2                \n\t" // L2
+                PAVGB((%1, %2, 2), %%mm2)                     // L2
+                "movq (%0, %%"REG_a"), %%mm3            \n\t" // L3
+                PAVGB((%1, %%REGa), %%mm3)                    // L3
+                "movq (%0, %2, 4), %%mm4                \n\t" // L4
+                PAVGB((%1, %2, 4), %%mm4)                     // L4
+                "movq (%0, %%"REG_d"), %%mm5            \n\t" // L5
+                PAVGB((%1, %%REGd), %%mm5)                    // L5
+                "movq (%0, %%"REG_a", 2), %%mm6         \n\t" // L6
+                PAVGB((%1, %%REGa, 2), %%mm6)                 // L6
+                "movq (%0, %%"REG_c"), %%mm7            \n\t" // L7
+                PAVGB((%1, %%REGc), %%mm7)                    // L7
+                "movq %%mm0, (%1)                       \n\t" // R0
+                "movq %%mm1, (%1, %2)                   \n\t" // R1
+                "movq %%mm2, (%1, %2, 2)                \n\t" // R2
+                "movq %%mm3, (%1, %%"REG_a")            \n\t" // R3
+                "movq %%mm4, (%1, %2, 4)                \n\t" // R4
+                "movq %%mm5, (%1, %%"REG_d")            \n\t" // R5
+                "movq %%mm6, (%1, %%"REG_a", 2)         \n\t" // R6
+                "movq %%mm7, (%1, %%"REG_c")            \n\t" // R7
+                "movq %%mm0, (%0)                       \n\t" // L0
+                "movq %%mm1, (%0, %2)                   \n\t" // L1
+                "movq %%mm2, (%0, %2, 2)                \n\t" // L2
+                "movq %%mm3, (%0, %%"REG_a")            \n\t" // L3
+                "movq %%mm4, (%0, %2, 4)                \n\t" // L4
+                "movq %%mm5, (%0, %%"REG_d")            \n\t" // L5
+                "movq %%mm6, (%0, %%"REG_a", 2)         \n\t" // L6
+                "movq %%mm7, (%0, %%"REG_c")            \n\t" // L7
+                "jmp 4f                                 \n\t"
+
+                "2:                                     \n\t"
+                "cmpl 508(%%"REG_d"), %%ecx             \n\t"
+                " jb 3f                                 \n\t"
+
+                "lea (%%"REG_a", %2, 2), %%"REG_d"      \n\t" // 5*stride
+                "lea (%%"REG_d", %2, 2), %%"REG_c"      \n\t" // 7*stride
+                "movq (%0), %%mm0                       \n\t" // L0
+                "movq (%0, %2), %%mm1                   \n\t" // L1
+                "movq (%0, %2, 2), %%mm2                \n\t" // L2
+                "movq (%0, %%"REG_a"), %%mm3            \n\t" // L3
+                "movq (%1), %%mm4                       \n\t" // R0
+                "movq (%1, %2), %%mm5                   \n\t" // R1
+                "movq (%1, %2, 2), %%mm6                \n\t" // R2
+                "movq (%1, %%"REG_a"), %%mm7            \n\t" // R3
+                PAVGB(%%mm4, %%mm0)
+                PAVGB(%%mm5, %%mm1)
+                PAVGB(%%mm6, %%mm2)
+                PAVGB(%%mm7, %%mm3)
+                PAVGB(%%mm4, %%mm0)
+                PAVGB(%%mm5, %%mm1)
+                PAVGB(%%mm6, %%mm2)
+                PAVGB(%%mm7, %%mm3)
+                "movq %%mm0, (%1)                       \n\t" // R0
+                "movq %%mm1, (%1, %2)                   \n\t" // R1
+                "movq %%mm2, (%1, %2, 2)                \n\t" // R2
+                "movq %%mm3, (%1, %%"REG_a")            \n\t" // R3
+                "movq %%mm0, (%0)                       \n\t" // L0
+                "movq %%mm1, (%0, %2)                   \n\t" // L1
+                "movq %%mm2, (%0, %2, 2)                \n\t" // L2
+                "movq %%mm3, (%0, %%"REG_a")            \n\t" // L3
+
+                "movq (%0, %2, 4), %%mm0                \n\t" // L4
+                "movq (%0, %%"REG_d"), %%mm1            \n\t" // L5
+                "movq (%0, %%"REG_a", 2), %%mm2         \n\t" // L6
+                "movq (%0, %%"REG_c"), %%mm3            \n\t" // L7
+                "movq (%1, %2, 4), %%mm4                \n\t" // R4
+                "movq (%1, %%"REG_d"), %%mm5            \n\t" // R5
+                "movq (%1, %%"REG_a", 2), %%mm6         \n\t" // R6
+                "movq (%1, %%"REG_c"), %%mm7            \n\t" // R7
+                PAVGB(%%mm4, %%mm0)
+                PAVGB(%%mm5, %%mm1)
+                PAVGB(%%mm6, %%mm2)
+                PAVGB(%%mm7, %%mm3)
+                PAVGB(%%mm4, %%mm0)
+                PAVGB(%%mm5, %%mm1)
+                PAVGB(%%mm6, %%mm2)
+                PAVGB(%%mm7, %%mm3)
+                "movq %%mm0, (%1, %2, 4)                \n\t" // R4
+                "movq %%mm1, (%1, %%"REG_d")            \n\t" // R5
+                "movq %%mm2, (%1, %%"REG_a", 2)         \n\t" // R6
+                "movq %%mm3, (%1, %%"REG_c")            \n\t" // R7
+                "movq %%mm0, (%0, %2, 4)                \n\t" // L4
+                "movq %%mm1, (%0, %%"REG_d")            \n\t" // L5
+                "movq %%mm2, (%0, %%"REG_a", 2)         \n\t" // L6
+                "movq %%mm3, (%0, %%"REG_c")            \n\t" // L7
+                "jmp 4f                                 \n\t"
+
+                "3:                                     \n\t"
+                "lea (%%"REG_a", %2, 2), %%"REG_d"      \n\t" // 5*stride
+                "lea (%%"REG_d", %2, 2), %%"REG_c"      \n\t" // 7*stride
+                "movq (%0), %%mm0                       \n\t" // L0
+                "movq (%0, %2), %%mm1                   \n\t" // L1
+                "movq (%0, %2, 2), %%mm2                \n\t" // L2
+                "movq (%0, %%"REG_a"), %%mm3            \n\t" // L3
+                "movq (%1), %%mm4                       \n\t" // R0
+                "movq (%1, %2), %%mm5                   \n\t" // R1
+                "movq (%1, %2, 2), %%mm6                \n\t" // R2
+                "movq (%1, %%"REG_a"), %%mm7            \n\t" // R3
+                PAVGB(%%mm4, %%mm0)
+                PAVGB(%%mm5, %%mm1)
+                PAVGB(%%mm6, %%mm2)
+                PAVGB(%%mm7, %%mm3)
+                PAVGB(%%mm4, %%mm0)
+                PAVGB(%%mm5, %%mm1)
+                PAVGB(%%mm6, %%mm2)
+                PAVGB(%%mm7, %%mm3)
+                PAVGB(%%mm4, %%mm0)
+                PAVGB(%%mm5, %%mm1)
+                PAVGB(%%mm6, %%mm2)
+                PAVGB(%%mm7, %%mm3)
+                "movq %%mm0, (%1)                       \n\t" // R0
+                "movq %%mm1, (%1, %2)                   \n\t" // R1
+                "movq %%mm2, (%1, %2, 2)                \n\t" // R2
+                "movq %%mm3, (%1, %%"REG_a")            \n\t" // R3
+                "movq %%mm0, (%0)                       \n\t" // L0
+                "movq %%mm1, (%0, %2)                   \n\t" // L1
+                "movq %%mm2, (%0, %2, 2)                \n\t" // L2
+                "movq %%mm3, (%0, %%"REG_a")            \n\t" // L3
+
+                "movq (%0, %2, 4), %%mm0                \n\t" // L4
+                "movq (%0, %%"REG_d"), %%mm1            \n\t" // L5
+                "movq (%0, %%"REG_a", 2), %%mm2         \n\t" // L6
+                "movq (%0, %%"REG_c"), %%mm3            \n\t" // L7
+                "movq (%1, %2, 4), %%mm4                \n\t" // R4
+                "movq (%1, %%"REG_d"), %%mm5            \n\t" // R5
+                "movq (%1, %%"REG_a", 2), %%mm6         \n\t" // R6
+                "movq (%1, %%"REG_c"), %%mm7            \n\t" // R7
+                PAVGB(%%mm4, %%mm0)
+                PAVGB(%%mm5, %%mm1)
+                PAVGB(%%mm6, %%mm2)
+                PAVGB(%%mm7, %%mm3)
+                PAVGB(%%mm4, %%mm0)
+                PAVGB(%%mm5, %%mm1)
+                PAVGB(%%mm6, %%mm2)
+                PAVGB(%%mm7, %%mm3)
+                PAVGB(%%mm4, %%mm0)
+                PAVGB(%%mm5, %%mm1)
+                PAVGB(%%mm6, %%mm2)
+                PAVGB(%%mm7, %%mm3)
+                "movq %%mm0, (%1, %2, 4)                \n\t" // R4
+                "movq %%mm1, (%1, %%"REG_d")            \n\t" // R5
+                "movq %%mm2, (%1, %%"REG_a", 2)         \n\t" // R6
+                "movq %%mm3, (%1, %%"REG_c")            \n\t" // R7
+                "movq %%mm0, (%0, %2, 4)                \n\t" // L4
+                "movq %%mm1, (%0, %%"REG_d")            \n\t" // L5
+                "movq %%mm2, (%0, %%"REG_a", 2)         \n\t" // L6
+                "movq %%mm3, (%0, %%"REG_c")            \n\t" // L7
+
+                "4:                                     \n\t"
+
+                :: "r" (src), "r" (tempBlured), "r"((long)stride), "m" (tempBluredPast)
+                : "%"REG_a, "%"REG_d, "%"REG_c, "memory"
+                );
+#else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+{
+        int y;
+        int d=0;
+//        int sysd=0;
+        int i;
+
+        for(y=0; y<8; y++)
+        {
+                int x;
+                for(x=0; x<8; x++)
+                {
+                        int ref= tempBlured[ x + y*stride ];
+                        int cur= src[ x + y*stride ];
+                        int d1=ref - cur;
+//                        if(x==0 || x==7) d1+= d1>>1;
+//                        if(y==0 || y==7) d1+= d1>>1;
+//                        d+= FFABS(d1);
+                        d+= d1*d1;
+//                        sysd+= d1;
+                }
+        }
+        i=d;
+        d=         (
+                4*d
+                +(*(tempBluredPast-256))
+                +(*(tempBluredPast-1))+ (*(tempBluredPast+1))
+                +(*(tempBluredPast+256))
+                +4)>>3;
+        *tempBluredPast=i;
+//        ((*tempBluredPast)*3 + d + 2)>>2;
+
+/*
+Switch between
+ 1  0  0  0  0  0  0  (0)
+64 32 16  8  4  2  1  (1)
+64 48 36 27 20 15 11 (33) (approx)
+64 56 49 43 37 33 29 (200) (approx)
+*/
+        if(d > maxNoise[1])
+        {
+                if(d < maxNoise[2])
+                {
+                        for(y=0; y<8; y++)
+                        {
+                                int x;
+                                for(x=0; x<8; x++)
+                                {
+                                        int ref= tempBlured[ x + y*stride ];
+                                        int cur= src[ x + y*stride ];
+                                        tempBlured[ x + y*stride ]=
+                                        src[ x + y*stride ]=
+                                                (ref + cur + 1)>>1;
+                                }
+                        }
+                }
+                else
+                {
+                        for(y=0; y<8; y++)
+                        {
+                                int x;
+                                for(x=0; x<8; x++)
+                                {
+                                        tempBlured[ x + y*stride ]= src[ x + y*stride ];
+                                }
+                        }
+                }
+        }
+        else
+        {
+                if(d < maxNoise[0])
+                {
+                        for(y=0; y<8; y++)
+                        {
+                                int x;
+                                for(x=0; x<8; x++)
+                                {
+                                        int ref= tempBlured[ x + y*stride ];
+                                        int cur= src[ x + y*stride ];
+                                        tempBlured[ x + y*stride ]=
+                                        src[ x + y*stride ]=
+                                                (ref*7 + cur + 4)>>3;
+                                }
+                        }
+                }
+                else
+                {
+                        for(y=0; y<8; y++)
+                        {
+                                int x;
+                                for(x=0; x<8; x++)
+                                {
+                                        int ref= tempBlured[ x + y*stride ];
+                                        int cur= src[ x + y*stride ];
+                                        tempBlured[ x + y*stride ]=
+                                        src[ x + y*stride ]=
+                                                (ref*3 + cur + 2)>>2;
+                                }
+                        }
+                }
+        }
+}
+#endif //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
+}
+#endif //HAVE_ALTIVEC
+
+#ifdef HAVE_MMX
+/**
+ * accurate deblock filter
+ */
+static av_always_inline void RENAME(do_a_deblock)(uint8_t *src, int step, int stride, PPContext *c){
+        int64_t dc_mask, eq_mask, both_masks;
+        int64_t sums[10*8*2];
+        src+= step*3; // src points to begin of the 8x8 Block
+//START_TIMER
+asm volatile(
+                "movq %0, %%mm7                         \n\t"
+                "movq %1, %%mm6                         \n\t"
+                : : "m" (c->mmxDcOffset[c->nonBQP]),  "m" (c->mmxDcThreshold[c->nonBQP])
+                );
+
+asm volatile(
+                "lea (%2, %3), %%"REG_a"                \n\t"
+//      0       1       2       3       4       5       6       7       8       9
+//      %1      eax     eax+%2  eax+2%2 %1+4%2  ecx     ecx+%2  ecx+2%2 %1+8%2  ecx+4%2
+
+                "movq (%2), %%mm0                       \n\t"
+                "movq (%%"REG_a"), %%mm1                \n\t"
+                "movq %%mm1, %%mm3                      \n\t"
+                "movq %%mm1, %%mm4                      \n\t"
+                "psubb %%mm1, %%mm0                     \n\t" // mm0 = differnece
+                "paddb %%mm7, %%mm0                     \n\t"
+                "pcmpgtb %%mm6, %%mm0                   \n\t"
+
+                "movq (%%"REG_a",%3), %%mm2             \n\t"
+                PMAXUB(%%mm2, %%mm4)
+                PMINUB(%%mm2, %%mm3, %%mm5)
+                "psubb %%mm2, %%mm1                     \n\t"
+                "paddb %%mm7, %%mm1                     \n\t"
+                "pcmpgtb %%mm6, %%mm1                   \n\t"
+                "paddb %%mm1, %%mm0                     \n\t"
+
+                "movq (%%"REG_a", %3, 2), %%mm1         \n\t"
+                PMAXUB(%%mm1, %%mm4)
+                PMINUB(%%mm1, %%mm3, %%mm5)
+                "psubb %%mm1, %%mm2                     \n\t"
+                "paddb %%mm7, %%mm2                     \n\t"
+                "pcmpgtb %%mm6, %%mm2                   \n\t"
+                "paddb %%mm2, %%mm0                     \n\t"
+
+                "lea (%%"REG_a", %3, 4), %%"REG_a"      \n\t"
+
+                "movq (%2, %3, 4), %%mm2                \n\t"
+                PMAXUB(%%mm2, %%mm4)
+                PMINUB(%%mm2, %%mm3, %%mm5)
+                "psubb %%mm2, %%mm1                     \n\t"
+                "paddb %%mm7, %%mm1                     \n\t"
+                "pcmpgtb %%mm6, %%mm1                   \n\t"
+                "paddb %%mm1, %%mm0                     \n\t"
+
+                "movq (%%"REG_a"), %%mm1                \n\t"
+                PMAXUB(%%mm1, %%mm4)
+                PMINUB(%%mm1, %%mm3, %%mm5)
+                "psubb %%mm1, %%mm2                     \n\t"
+                "paddb %%mm7, %%mm2                     \n\t"
+                "pcmpgtb %%mm6, %%mm2                   \n\t"
+                "paddb %%mm2, %%mm0                     \n\t"
+
+                "movq (%%"REG_a", %3), %%mm2            \n\t"
+                PMAXUB(%%mm2, %%mm4)
+                PMINUB(%%mm2, %%mm3, %%mm5)
+                "psubb %%mm2, %%mm1                     \n\t"
+                "paddb %%mm7, %%mm1                     \n\t"
+                "pcmpgtb %%mm6, %%mm1                   \n\t"
+                "paddb %%mm1, %%mm0                     \n\t"
+
+                "movq (%%"REG_a", %3, 2), %%mm1         \n\t"
+                PMAXUB(%%mm1, %%mm4)
+                PMINUB(%%mm1, %%mm3, %%mm5)
+                "psubb %%mm1, %%mm2                     \n\t"
+                "paddb %%mm7, %%mm2                     \n\t"
+                "pcmpgtb %%mm6, %%mm2                   \n\t"
+                "paddb %%mm2, %%mm0                     \n\t"
+
+                "movq (%2, %3, 8), %%mm2                \n\t"
+                PMAXUB(%%mm2, %%mm4)
+                PMINUB(%%mm2, %%mm3, %%mm5)
+                "psubb %%mm2, %%mm1                     \n\t"
+                "paddb %%mm7, %%mm1                     \n\t"
+                "pcmpgtb %%mm6, %%mm1                   \n\t"
+                "paddb %%mm1, %%mm0                     \n\t"
+
+                "movq (%%"REG_a", %3, 4), %%mm1         \n\t"
+                "psubb %%mm1, %%mm2                     \n\t"
+                "paddb %%mm7, %%mm2                     \n\t"
+                "pcmpgtb %%mm6, %%mm2                   \n\t"
+                "paddb %%mm2, %%mm0                     \n\t"
+                "psubusb %%mm3, %%mm4                   \n\t"
+
+                "pxor %%mm6, %%mm6                      \n\t"
+                "movq %4, %%mm7                         \n\t" // QP,..., QP
+                "paddusb %%mm7, %%mm7                   \n\t" // 2QP ... 2QP
+                "psubusb %%mm4, %%mm7                   \n\t" // Diff >=2QP -> 0
+                "pcmpeqb %%mm6, %%mm7                   \n\t" // Diff < 2QP -> 0
+                "pcmpeqb %%mm6, %%mm7                   \n\t" // Diff < 2QP -> 0
+                "movq %%mm7, %1                         \n\t"
+
+                "movq %5, %%mm7                         \n\t"
+                "punpcklbw %%mm7, %%mm7                 \n\t"
+                "punpcklbw %%mm7, %%mm7                 \n\t"
+                "punpcklbw %%mm7, %%mm7                 \n\t"
+                "psubb %%mm0, %%mm6                     \n\t"
+                "pcmpgtb %%mm7, %%mm6                   \n\t"
+                "movq %%mm6, %0                         \n\t"
+
+                : "=m" (eq_mask), "=m" (dc_mask)
+                : "r" (src), "r" ((long)step), "m" (c->pQPb), "m"(c->ppMode.flatnessThreshold)
+                : "%"REG_a
+                );
+
+        both_masks = dc_mask & eq_mask;
+
+        if(both_masks){
+                long offset= -8*step;
+                int64_t *temp_sums= sums;
+
+                asm volatile(
+                "movq %2, %%mm0                         \n\t"  // QP,..., QP
+                "pxor %%mm4, %%mm4                      \n\t"
+
+                "movq (%0), %%mm6                       \n\t"
+                "movq (%0, %1), %%mm5                   \n\t"
+                "movq %%mm5, %%mm1                      \n\t"
+                "movq %%mm6, %%mm2                      \n\t"
+                "psubusb %%mm6, %%mm5                   \n\t"
+                "psubusb %%mm1, %%mm2                   \n\t"
+                "por %%mm5, %%mm2                       \n\t" // ABS Diff of lines
+                "psubusb %%mm2, %%mm0                   \n\t" // diff >= QP -> 0
+                "pcmpeqb %%mm4, %%mm0                   \n\t" // diff >= QP -> FF
+
+                "pxor %%mm6, %%mm1                      \n\t"
+                "pand %%mm0, %%mm1                      \n\t"
+                "pxor %%mm1, %%mm6                      \n\t"
+                // 0:QP  6:First
+
+                "movq (%0, %1, 8), %%mm5                \n\t"
+                "add %1, %0                             \n\t" // %0 points to line 1 not 0
+                "movq (%0, %1, 8), %%mm7                \n\t"
+                "movq %%mm5, %%mm1                      \n\t"
+                "movq %%mm7, %%mm2                      \n\t"
+                "psubusb %%mm7, %%mm5                   \n\t"
+                "psubusb %%mm1, %%mm2                   \n\t"
+                "por %%mm5, %%mm2                       \n\t" // ABS Diff of lines
+                "movq %2, %%mm0                         \n\t"  // QP,..., QP
+                "psubusb %%mm2, %%mm0                   \n\t" // diff >= QP -> 0
+                "pcmpeqb %%mm4, %%mm0                   \n\t" // diff >= QP -> FF
+
+                "pxor %%mm7, %%mm1                      \n\t"
+                "pand %%mm0, %%mm1                      \n\t"
+                "pxor %%mm1, %%mm7                      \n\t"
+
+                "movq %%mm6, %%mm5                      \n\t"
+                "punpckhbw %%mm4, %%mm6                 \n\t"
+                "punpcklbw %%mm4, %%mm5                 \n\t"
+                // 4:0 5/6:First 7:Last
+
+                "movq %%mm5, %%mm0                      \n\t"
+                "movq %%mm6, %%mm1                      \n\t"
+                "psllw $2, %%mm0                        \n\t"
+                "psllw $2, %%mm1                        \n\t"
+                "paddw "MANGLE(w04)", %%mm0             \n\t"
+                "paddw "MANGLE(w04)", %%mm1             \n\t"
+
+#define NEXT\
+                "movq (%0), %%mm2                       \n\t"\
+                "movq (%0), %%mm3                       \n\t"\
+                "add %1, %0                             \n\t"\
+                "punpcklbw %%mm4, %%mm2                 \n\t"\
+                "punpckhbw %%mm4, %%mm3                 \n\t"\
+                "paddw %%mm2, %%mm0                     \n\t"\
+                "paddw %%mm3, %%mm1                     \n\t"
+
+#define PREV\
+                "movq (%0), %%mm2                       \n\t"\
+                "movq (%0), %%mm3                       \n\t"\
+                "add %1, %0                             \n\t"\
+                "punpcklbw %%mm4, %%mm2                 \n\t"\
+                "punpckhbw %%mm4, %%mm3                 \n\t"\
+                "psubw %%mm2, %%mm0                     \n\t"\
+                "psubw %%mm3, %%mm1                     \n\t"
+
+
+                NEXT //0
+                NEXT //1
+                NEXT //2
+                "movq %%mm0, (%3)                       \n\t"
+                "movq %%mm1, 8(%3)                      \n\t"
+
+                NEXT //3
+                "psubw %%mm5, %%mm0                     \n\t"
+                "psubw %%mm6, %%mm1                     \n\t"
+                "movq %%mm0, 16(%3)                     \n\t"
+                "movq %%mm1, 24(%3)                     \n\t"
+
+                NEXT //4
+                "psubw %%mm5, %%mm0                     \n\t"
+                "psubw %%mm6, %%mm1                     \n\t"
+                "movq %%mm0, 32(%3)                     \n\t"
+                "movq %%mm1, 40(%3)                     \n\t"
+
+                NEXT //5
+                "psubw %%mm5, %%mm0                     \n\t"
+                "psubw %%mm6, %%mm1                     \n\t"
+                "movq %%mm0, 48(%3)                     \n\t"
+                "movq %%mm1, 56(%3)                     \n\t"
+
+                NEXT //6
+                "psubw %%mm5, %%mm0                     \n\t"
+                "psubw %%mm6, %%mm1                     \n\t"
+                "movq %%mm0, 64(%3)                     \n\t"
+                "movq %%mm1, 72(%3)                     \n\t"
+
+                "movq %%mm7, %%mm6                      \n\t"
+                "punpckhbw %%mm4, %%mm7                 \n\t"
+                "punpcklbw %%mm4, %%mm6                 \n\t"
+
+                NEXT //7
+                "mov %4, %0                             \n\t"
+                "add %1, %0                             \n\t"
+                PREV //0
+                "movq %%mm0, 80(%3)                     \n\t"
+                "movq %%mm1, 88(%3)                     \n\t"
+
+                PREV //1
+                "paddw %%mm6, %%mm0                     \n\t"
+                "paddw %%mm7, %%mm1                     \n\t"
+                "movq %%mm0, 96(%3)                     \n\t"
+                "movq %%mm1, 104(%3)                    \n\t"
+
+                PREV //2
+                "paddw %%mm6, %%mm0                     \n\t"
+                "paddw %%mm7, %%mm1                     \n\t"
+                "movq %%mm0, 112(%3)                    \n\t"
+                "movq %%mm1, 120(%3)                    \n\t"
+
+                PREV //3
+                "paddw %%mm6, %%mm0                     \n\t"
+                "paddw %%mm7, %%mm1                     \n\t"
+                "movq %%mm0, 128(%3)                    \n\t"
+                "movq %%mm1, 136(%3)                    \n\t"
+
+                PREV //4
+                "paddw %%mm6, %%mm0                     \n\t"
+                "paddw %%mm7, %%mm1                     \n\t"
+                "movq %%mm0, 144(%3)                    \n\t"
+                "movq %%mm1, 152(%3)                    \n\t"
+
+                "mov %4, %0                             \n\t" //FIXME
+
+                : "+&r"(src)
+                : "r" ((long)step), "m" (c->pQPb), "r"(sums), "g"(src)
+                );
+
+                src+= step; // src points to begin of the 8x8 Block
+
+                asm volatile(
+                "movq %4, %%mm6                         \n\t"
+                "pcmpeqb %%mm5, %%mm5                   \n\t"
+                "pxor %%mm6, %%mm5                      \n\t"
+                "pxor %%mm7, %%mm7                      \n\t"
+
+                "1:                                     \n\t"
+                "movq (%1), %%mm0                       \n\t"
+                "movq 8(%1), %%mm1                      \n\t"
+                "paddw 32(%1), %%mm0                    \n\t"
+                "paddw 40(%1), %%mm1                    \n\t"
+                "movq (%0, %3), %%mm2                   \n\t"
+                "movq %%mm2, %%mm3                      \n\t"
+                "movq %%mm2, %%mm4                      \n\t"
+                "punpcklbw %%mm7, %%mm2                 \n\t"
+                "punpckhbw %%mm7, %%mm3                 \n\t"
+                "paddw %%mm2, %%mm0                     \n\t"
+                "paddw %%mm3, %%mm1                     \n\t"
+                "paddw %%mm2, %%mm0                     \n\t"
+                "paddw %%mm3, %%mm1                     \n\t"
+                "psrlw $4, %%mm0                        \n\t"
+                "psrlw $4, %%mm1                        \n\t"
+                "packuswb %%mm1, %%mm0                  \n\t"
+                "pand %%mm6, %%mm0                      \n\t"
+                "pand %%mm5, %%mm4                      \n\t"
+                "por %%mm4, %%mm0                       \n\t"
+                "movq %%mm0, (%0, %3)                   \n\t"
+                "add $16, %1                            \n\t"
+                "add %2, %0                             \n\t"
+                " js 1b                                 \n\t"
+
+                : "+r"(offset), "+r"(temp_sums)
+                : "r" ((long)step), "r"(src - offset), "m"(both_masks)
+                );
+        }else
+                src+= step; // src points to begin of the 8x8 Block
+
+        if(eq_mask != -1LL){
+                uint8_t *temp_src= src;
+                asm volatile(
+                "pxor %%mm7, %%mm7                      \n\t"
+                "lea -40(%%"REG_SP"), %%"REG_c"         \n\t" // make space for 4 8-byte vars
+                "and "ALIGN_MASK", %%"REG_c"            \n\t" // align
+//      0       1       2       3       4       5       6       7       8       9
+//      %0      eax     eax+%1  eax+2%1 %0+4%1  ecx     ecx+%1  ecx+2%1 %1+8%1  ecx+4%1
+
+                "movq (%0), %%mm0                       \n\t"
+                "movq %%mm0, %%mm1                      \n\t"
+                "punpcklbw %%mm7, %%mm0                 \n\t" // low part of line 0
+                "punpckhbw %%mm7, %%mm1                 \n\t" // high part of line 0
+
+                "movq (%0, %1), %%mm2                   \n\t"
+                "lea (%0, %1, 2), %%"REG_a"             \n\t"
+                "movq %%mm2, %%mm3                      \n\t"
+                "punpcklbw %%mm7, %%mm2                 \n\t" // low part of line 1
+                "punpckhbw %%mm7, %%mm3                 \n\t" // high part of line 1
+
+                "movq (%%"REG_a"), %%mm4                \n\t"
+                "movq %%mm4, %%mm5                      \n\t"
+                "punpcklbw %%mm7, %%mm4                 \n\t" // low part of line 2
+                "punpckhbw %%mm7, %%mm5                 \n\t" // high part of line 2
+
+                "paddw %%mm0, %%mm0                     \n\t" // 2L0
+                "paddw %%mm1, %%mm1                     \n\t" // 2H0
+                "psubw %%mm4, %%mm2                     \n\t" // L1 - L2
+                "psubw %%mm5, %%mm3                     \n\t" // H1 - H2
+                "psubw %%mm2, %%mm0                     \n\t" // 2L0 - L1 + L2
+                "psubw %%mm3, %%mm1                     \n\t" // 2H0 - H1 + H2
+
+                "psllw $2, %%mm2                        \n\t" // 4L1 - 4L2
+                "psllw $2, %%mm3                        \n\t" // 4H1 - 4H2
+                "psubw %%mm2, %%mm0                     \n\t" // 2L0 - 5L1 + 5L2
+                "psubw %%mm3, %%mm1                     \n\t" // 2H0 - 5H1 + 5H2
+
+                "movq (%%"REG_a", %1), %%mm2            \n\t"
+                "movq %%mm2, %%mm3                      \n\t"
+                "punpcklbw %%mm7, %%mm2                 \n\t" // L3
+                "punpckhbw %%mm7, %%mm3                 \n\t" // H3
+
+                "psubw %%mm2, %%mm0                     \n\t" // 2L0 - 5L1 + 5L2 - L3
+                "psubw %%mm3, %%mm1                     \n\t" // 2H0 - 5H1 + 5H2 - H3
+                "psubw %%mm2, %%mm0                     \n\t" // 2L0 - 5L1 + 5L2 - 2L3
+                "psubw %%mm3, %%mm1                     \n\t" // 2H0 - 5H1 + 5H2 - 2H3
+                "movq %%mm0, (%%"REG_c")                \n\t" // 2L0 - 5L1 + 5L2 - 2L3
+                "movq %%mm1, 8(%%"REG_c")               \n\t" // 2H0 - 5H1 + 5H2 - 2H3
+
+                "movq (%%"REG_a", %1, 2), %%mm0         \n\t"
+                "movq %%mm0, %%mm1                      \n\t"
+                "punpcklbw %%mm7, %%mm0                 \n\t" // L4
+                "punpckhbw %%mm7, %%mm1                 \n\t" // H4
+
+                "psubw %%mm0, %%mm2                     \n\t" // L3 - L4
+                "psubw %%mm1, %%mm3                     \n\t" // H3 - H4
+                "movq %%mm2, 16(%%"REG_c")              \n\t" // L3 - L4
+                "movq %%mm3, 24(%%"REG_c")              \n\t" // H3 - H4
+                "paddw %%mm4, %%mm4                     \n\t" // 2L2
+                "paddw %%mm5, %%mm5                     \n\t" // 2H2
+                "psubw %%mm2, %%mm4                     \n\t" // 2L2 - L3 + L4
+                "psubw %%mm3, %%mm5                     \n\t" // 2H2 - H3 + H4
+
+                "lea (%%"REG_a", %1), %0                \n\t"
+                "psllw $2, %%mm2                        \n\t" // 4L3 - 4L4
+                "psllw $2, %%mm3                        \n\t" // 4H3 - 4H4
+                "psubw %%mm2, %%mm4                     \n\t" // 2L2 - 5L3 + 5L4
+                "psubw %%mm3, %%mm5                     \n\t" // 2H2 - 5H3 + 5H4
+//50 opcodes so far
+                "movq (%0, %1, 2), %%mm2                \n\t"
+                "movq %%mm2, %%mm3                      \n\t"
+                "punpcklbw %%mm7, %%mm2                 \n\t" // L5
+                "punpckhbw %%mm7, %%mm3                 \n\t" // H5
+                "psubw %%mm2, %%mm4                     \n\t" // 2L2 - 5L3 + 5L4 - L5
+                "psubw %%mm3, %%mm5                     \n\t" // 2H2 - 5H3 + 5H4 - H5
+                "psubw %%mm2, %%mm4                     \n\t" // 2L2 - 5L3 + 5L4 - 2L5
+                "psubw %%mm3, %%mm5                     \n\t" // 2H2 - 5H3 + 5H4 - 2H5
+
+                "movq (%%"REG_a", %1, 4), %%mm6         \n\t"
+                "punpcklbw %%mm7, %%mm6                 \n\t" // L6
+                "psubw %%mm6, %%mm2                     \n\t" // L5 - L6
+                "movq (%%"REG_a", %1, 4), %%mm6         \n\t"
+                "punpckhbw %%mm7, %%mm6                 \n\t" // H6
+                "psubw %%mm6, %%mm3                     \n\t" // H5 - H6
+
+                "paddw %%mm0, %%mm0                     \n\t" // 2L4
+                "paddw %%mm1, %%mm1                     \n\t" // 2H4
+                "psubw %%mm2, %%mm0                     \n\t" // 2L4 - L5 + L6
+                "psubw %%mm3, %%mm1                     \n\t" // 2H4 - H5 + H6
+
+                "psllw $2, %%mm2                        \n\t" // 4L5 - 4L6
+                "psllw $2, %%mm3                        \n\t" // 4H5 - 4H6
+                "psubw %%mm2, %%mm0                     \n\t" // 2L4 - 5L5 + 5L6
+                "psubw %%mm3, %%mm1                     \n\t" // 2H4 - 5H5 + 5H6
+
+                "movq (%0, %1, 4), %%mm2                \n\t"
+                "movq %%mm2, %%mm3                      \n\t"
+                "punpcklbw %%mm7, %%mm2                 \n\t" // L7
+                "punpckhbw %%mm7, %%mm3                 \n\t" // H7
+
+                "paddw %%mm2, %%mm2                     \n\t" // 2L7
+                "paddw %%mm3, %%mm3                     \n\t" // 2H7
+                "psubw %%mm2, %%mm0                     \n\t" // 2L4 - 5L5 + 5L6 - 2L7
+                "psubw %%mm3, %%mm1                     \n\t" // 2H4 - 5H5 + 5H6 - 2H7
+
+                "movq (%%"REG_c"), %%mm2                \n\t" // 2L0 - 5L1 + 5L2 - 2L3
+                "movq 8(%%"REG_c"), %%mm3               \n\t" // 2H0 - 5H1 + 5H2 - 2H3
+
+#ifdef HAVE_MMX2
+                "movq %%mm7, %%mm6                      \n\t" // 0
+                "psubw %%mm0, %%mm6                     \n\t"
+                "pmaxsw %%mm6, %%mm0                    \n\t" // |2L4 - 5L5 + 5L6 - 2L7|
+                "movq %%mm7, %%mm6                      \n\t" // 0
+                "psubw %%mm1, %%mm6                     \n\t"
+                "pmaxsw %%mm6, %%mm1                    \n\t" // |2H4 - 5H5 + 5H6 - 2H7|
+                "movq %%mm7, %%mm6                      \n\t" // 0
+                "psubw %%mm2, %%mm6                     \n\t"
+                "pmaxsw %%mm6, %%mm2                    \n\t" // |2L0 - 5L1 + 5L2 - 2L3|
+                "movq %%mm7, %%mm6                      \n\t" // 0
+                "psubw %%mm3, %%mm6                     \n\t"
+                "pmaxsw %%mm6, %%mm3                    \n\t" // |2H0 - 5H1 + 5H2 - 2H3|
+#else
+                "movq %%mm7, %%mm6                      \n\t" // 0
+                "pcmpgtw %%mm0, %%mm6                   \n\t"
+                "pxor %%mm6, %%mm0                      \n\t"
+                "psubw %%mm6, %%mm0                     \n\t" // |2L4 - 5L5 + 5L6 - 2L7|
+                "movq %%mm7, %%mm6                      \n\t" // 0
+                "pcmpgtw %%mm1, %%mm6                   \n\t"
+                "pxor %%mm6, %%mm1                      \n\t"
+                "psubw %%mm6, %%mm1                     \n\t" // |2H4 - 5H5 + 5H6 - 2H7|
+                "movq %%mm7, %%mm6                      \n\t" // 0
+                "pcmpgtw %%mm2, %%mm6                   \n\t"
+                "pxor %%mm6, %%mm2                      \n\t"
+                "psubw %%mm6, %%mm2                     \n\t" // |2L0 - 5L1 + 5L2 - 2L3|
+                "movq %%mm7, %%mm6                      \n\t" // 0
+                "pcmpgtw %%mm3, %%mm6                   \n\t"
+                "pxor %%mm6, %%mm3                      \n\t"
+                "psubw %%mm6, %%mm3                     \n\t" // |2H0 - 5H1 + 5H2 - 2H3|
+#endif
+
+#ifdef HAVE_MMX2
+                "pminsw %%mm2, %%mm0                    \n\t"
+                "pminsw %%mm3, %%mm1                    \n\t"
+#else
+                "movq %%mm0, %%mm6                      \n\t"
+                "psubusw %%mm2, %%mm6                   \n\t"
+                "psubw %%mm6, %%mm0                     \n\t"
+                "movq %%mm1, %%mm6                      \n\t"
+                "psubusw %%mm3, %%mm6                   \n\t"
+                "psubw %%mm6, %%mm1                     \n\t"
+#endif
+
+                "movd %2, %%mm2                         \n\t" // QP
+                "punpcklbw %%mm7, %%mm2                 \n\t"
+
+                "movq %%mm7, %%mm6                      \n\t" // 0
+                "pcmpgtw %%mm4, %%mm6                   \n\t" // sign(2L2 - 5L3 + 5L4 - 2L5)
+                "pxor %%mm6, %%mm4                      \n\t"
+                "psubw %%mm6, %%mm4                     \n\t" // |2L2 - 5L3 + 5L4 - 2L5|
+                "pcmpgtw %%mm5, %%mm7                   \n\t" // sign(2H2 - 5H3 + 5H4 - 2H5)
+                "pxor %%mm7, %%mm5                      \n\t"
+                "psubw %%mm7, %%mm5                     \n\t" // |2H2 - 5H3 + 5H4 - 2H5|
+// 100 opcodes
+                "psllw $3, %%mm2                        \n\t" // 8QP
+                "movq %%mm2, %%mm3                      \n\t" // 8QP
+                "pcmpgtw %%mm4, %%mm2                   \n\t"
+                "pcmpgtw %%mm5, %%mm3                   \n\t"
+                "pand %%mm2, %%mm4                      \n\t"
+                "pand %%mm3, %%mm5                      \n\t"
+
+
+                "psubusw %%mm0, %%mm4                   \n\t" // hd
+                "psubusw %%mm1, %%mm5                   \n\t" // ld
+
+
+                "movq "MANGLE(w05)", %%mm2              \n\t" // 5
+                "pmullw %%mm2, %%mm4                    \n\t"
+                "pmullw %%mm2, %%mm5                    \n\t"
+                "movq "MANGLE(w20)", %%mm2              \n\t" // 32
+                "paddw %%mm2, %%mm4                     \n\t"
+                "paddw %%mm2, %%mm5                     \n\t"
+                "psrlw $6, %%mm4                        \n\t"
+                "psrlw $6, %%mm5                        \n\t"
+
+                "movq 16(%%"REG_c"), %%mm0              \n\t" // L3 - L4
+                "movq 24(%%"REG_c"), %%mm1              \n\t" // H3 - H4
+
+                "pxor %%mm2, %%mm2                      \n\t"
+                "pxor %%mm3, %%mm3                      \n\t"
+
+                "pcmpgtw %%mm0, %%mm2                   \n\t" // sign (L3-L4)
+                "pcmpgtw %%mm1, %%mm3                   \n\t" // sign (H3-H4)
+                "pxor %%mm2, %%mm0                      \n\t"
+                "pxor %%mm3, %%mm1                      \n\t"
+                "psubw %%mm2, %%mm0                     \n\t" // |L3-L4|
+                "psubw %%mm3, %%mm1                     \n\t" // |H3-H4|
+                "psrlw $1, %%mm0                        \n\t" // |L3 - L4|/2
+                "psrlw $1, %%mm1                        \n\t" // |H3 - H4|/2
+
+                "pxor %%mm6, %%mm2                      \n\t"
+                "pxor %%mm7, %%mm3                      \n\t"
+                "pand %%mm2, %%mm4                      \n\t"
+                "pand %%mm3, %%mm5                      \n\t"
+
+#ifdef HAVE_MMX2
+                "pminsw %%mm0, %%mm4                    \n\t"
+                "pminsw %%mm1, %%mm5                    \n\t"
+#else
+                "movq %%mm4, %%mm2                      \n\t"
+                "psubusw %%mm0, %%mm2                   \n\t"
+                "psubw %%mm2, %%mm4                     \n\t"
+                "movq %%mm5, %%mm2                      \n\t"
+                "psubusw %%mm1, %%mm2                   \n\t"
+                "psubw %%mm2, %%mm5                     \n\t"
+#endif
+                "pxor %%mm6, %%mm4                      \n\t"
+                "pxor %%mm7, %%mm5                      \n\t"
+                "psubw %%mm6, %%mm4                     \n\t"
+                "psubw %%mm7, %%mm5                     \n\t"
+                "packsswb %%mm5, %%mm4                  \n\t"
+                "movq %3, %%mm1                         \n\t"
+                "pandn %%mm4, %%mm1                     \n\t"
+                "movq (%0), %%mm0                       \n\t"
+                "paddb   %%mm1, %%mm0                   \n\t"
+                "movq %%mm0, (%0)                       \n\t"
+                "movq (%0, %1), %%mm0                   \n\t"
+                "psubb %%mm1, %%mm0                     \n\t"
+                "movq %%mm0, (%0, %1)                   \n\t"
+
+                : "+r" (temp_src)
+                : "r" ((long)step), "m" (c->pQPb), "m"(eq_mask)
+                : "%"REG_a, "%"REG_c
+                );
+        }
+/*if(step==16){
+    STOP_TIMER("step16")
+}else{
+    STOP_TIMER("stepX")
+}*/
+}
+#endif //HAVE_MMX
+
+static void RENAME(postProcess)(uint8_t src[], int srcStride, uint8_t dst[], int dstStride, int width, int height,
+        QP_STORE_T QPs[], int QPStride, int isColor, PPContext *c);
+
+/**
+ * Copies a block from src to dst and fixes the blacklevel
+ * levelFix == 0 -> dont touch the brighness & contrast
+ */
+#undef SCALED_CPY
+
+static inline void RENAME(blockCopy)(uint8_t dst[], int dstStride, uint8_t src[], int srcStride,
+        int levelFix, int64_t *packedOffsetAndScale)
+{
+#ifndef HAVE_MMX
+        int i;
+#endif
+        if(levelFix)
+        {
+#ifdef HAVE_MMX
+                asm volatile(
+                        "movq (%%"REG_a"), %%mm2        \n\t" // packedYOffset
+                        "movq 8(%%"REG_a"), %%mm3       \n\t" // packedYScale
+                        "lea (%2,%4), %%"REG_a"         \n\t"
+                        "lea (%3,%5), %%"REG_d"         \n\t"
+                        "pxor %%mm4, %%mm4              \n\t"
+#ifdef HAVE_MMX2
+#define REAL_SCALED_CPY(src1, src2, dst1, dst2)                                                \
+                        "movq " #src1 ", %%mm0          \n\t"\
+                        "movq " #src1 ", %%mm5          \n\t"\
+                        "movq " #src2 ", %%mm1          \n\t"\
+                        "movq " #src2 ", %%mm6          \n\t"\
+                        "punpcklbw %%mm0, %%mm0         \n\t"\
+                        "punpckhbw %%mm5, %%mm5         \n\t"\
+                        "punpcklbw %%mm1, %%mm1         \n\t"\
+                        "punpckhbw %%mm6, %%mm6         \n\t"\
+                        "pmulhuw %%mm3, %%mm0           \n\t"\
+                        "pmulhuw %%mm3, %%mm5           \n\t"\
+                        "pmulhuw %%mm3, %%mm1           \n\t"\
+                        "pmulhuw %%mm3, %%mm6           \n\t"\
+                        "psubw %%mm2, %%mm0             \n\t"\
+                        "psubw %%mm2, %%mm5             \n\t"\
+                        "psubw %%mm2, %%mm1             \n\t"\
+                        "psubw %%mm2, %%mm6             \n\t"\
+                        "packuswb %%mm5, %%mm0          \n\t"\
+                        "packuswb %%mm6, %%mm1          \n\t"\
+                        "movq %%mm0, " #dst1 "          \n\t"\
+                        "movq %%mm1, " #dst2 "          \n\t"\
+
+#else //HAVE_MMX2
+#define REAL_SCALED_CPY(src1, src2, dst1, dst2)                                        \
+                        "movq " #src1 ", %%mm0          \n\t"\
+                        "movq " #src1 ", %%mm5          \n\t"\
+                        "punpcklbw %%mm4, %%mm0         \n\t"\
+                        "punpckhbw %%mm4, %%mm5         \n\t"\
+                        "psubw %%mm2, %%mm0             \n\t"\
+                        "psubw %%mm2, %%mm5             \n\t"\
+                        "movq " #src2 ", %%mm1          \n\t"\
+                        "psllw $6, %%mm0                \n\t"\
+                        "psllw $6, %%mm5                \n\t"\
+                        "pmulhw %%mm3, %%mm0            \n\t"\
+                        "movq " #src2 ", %%mm6          \n\t"\
+                        "pmulhw %%mm3, %%mm5            \n\t"\
+                        "punpcklbw %%mm4, %%mm1         \n\t"\
+                        "punpckhbw %%mm4, %%mm6         \n\t"\
+                        "psubw %%mm2, %%mm1             \n\t"\
+                        "psubw %%mm2, %%mm6             \n\t"\
+                        "psllw $6, %%mm1                \n\t"\
+                        "psllw $6, %%mm6                \n\t"\
+                        "pmulhw %%mm3, %%mm1            \n\t"\
+                        "pmulhw %%mm3, %%mm6            \n\t"\
+                        "packuswb %%mm5, %%mm0          \n\t"\
+                        "packuswb %%mm6, %%mm1          \n\t"\
+                        "movq %%mm0, " #dst1 "          \n\t"\
+                        "movq %%mm1, " #dst2 "          \n\t"\
+
+#endif //HAVE_MMX2
+#define SCALED_CPY(src1, src2, dst1, dst2)\
+   REAL_SCALED_CPY(src1, src2, dst1, dst2)
+
+SCALED_CPY((%2)       , (%2, %4)      , (%3)       , (%3, %5))
+SCALED_CPY((%2, %4, 2), (%%REGa, %4, 2), (%3, %5, 2), (%%REGd, %5, 2))
+SCALED_CPY((%2, %4, 4), (%%REGa, %4, 4), (%3, %5, 4), (%%REGd, %5, 4))
+                        "lea (%%"REG_a",%4,4), %%"REG_a"        \n\t"
+                        "lea (%%"REG_d",%5,4), %%"REG_d"        \n\t"
+SCALED_CPY((%%REGa, %4), (%%REGa, %4, 2), (%%REGd, %5), (%%REGd, %5, 2))
+
+
+                        : "=&a" (packedOffsetAndScale)
+                        : "0" (packedOffsetAndScale),
+                        "r"(src),
+                        "r"(dst),
+                        "r" ((long)srcStride),
+                        "r" ((long)dstStride)
+                        : "%"REG_d
+                                        );
+#else //HAVE_MMX
+        for(i=0; i<8; i++)
+                memcpy( &(dst[dstStride*i]),
+                        &(src[srcStride*i]), BLOCK_SIZE);
+#endif //HAVE_MMX
+        }
+        else
+        {
+#ifdef HAVE_MMX
+        asm volatile(
+                "lea (%0,%2), %%"REG_a"                 \n\t"
+                "lea (%1,%3), %%"REG_d"                 \n\t"
+
+#define REAL_SIMPLE_CPY(src1, src2, dst1, dst2)                              \
+                "movq " #src1 ", %%mm0          \n\t"\
+                "movq " #src2 ", %%mm1          \n\t"\
+                "movq %%mm0, " #dst1 "          \n\t"\
+                "movq %%mm1, " #dst2 "          \n\t"\
+
+#define SIMPLE_CPY(src1, src2, dst1, dst2)\
+   REAL_SIMPLE_CPY(src1, src2, dst1, dst2)
+
+SIMPLE_CPY((%0)       , (%0, %2)       , (%1)       , (%1, %3))
+SIMPLE_CPY((%0, %2, 2), (%%REGa, %2, 2), (%1, %3, 2), (%%REGd, %3, 2))
+SIMPLE_CPY((%0, %2, 4), (%%REGa, %2, 4), (%1, %3, 4), (%%REGd, %3, 4))
+                "lea (%%"REG_a",%2,4), %%"REG_a"        \n\t"
+                "lea (%%"REG_d",%3,4), %%"REG_d"        \n\t"
+SIMPLE_CPY((%%REGa, %2), (%%REGa, %2, 2), (%%REGd, %3), (%%REGd, %3, 2))
+
+                : : "r" (src),
+                "r" (dst),
+                "r" ((long)srcStride),
+                "r" ((long)dstStride)
+                : "%"REG_a, "%"REG_d
+        );
+#else //HAVE_MMX
+        for(i=0; i<8; i++)
+                memcpy( &(dst[dstStride*i]),
+                        &(src[srcStride*i]), BLOCK_SIZE);
+#endif //HAVE_MMX
+        }
+}
+
+/**
+ * Duplicates the given 8 src pixels ? times upward
+ */
+static inline void RENAME(duplicate)(uint8_t src[], int stride)
+{
+#ifdef HAVE_MMX
+        asm volatile(
+                "movq (%0), %%mm0               \n\t"
+                "add %1, %0                     \n\t"
+                "movq %%mm0, (%0)               \n\t"
+                "movq %%mm0, (%0, %1)           \n\t"
+                "movq %%mm0, (%0, %1, 2)        \n\t"
+                : "+r" (src)
+                : "r" ((long)-stride)
+        );
+#else
+        int i;
+        uint8_t *p=src;
+        for(i=0; i<3; i++)
+        {
+                p-= stride;
+                memcpy(p, src, 8);
+        }
+#endif
+}
+
+/**
+ * Filters array of bytes (Y or U or V values)
+ */
+static void RENAME(postProcess)(uint8_t src[], int srcStride, uint8_t dst[], int dstStride, int width, int height,
+        QP_STORE_T QPs[], int QPStride, int isColor, PPContext *c2)
+{
+        PPContext __attribute__((aligned(8))) c= *c2; //copy to stack for faster access
+        int x,y;
+#ifdef COMPILE_TIME_MODE
+        const int mode= COMPILE_TIME_MODE;
+#else
+        const int mode= isColor ? c.ppMode.chromMode : c.ppMode.lumMode;
+#endif
+        int black=0, white=255; // blackest black and whitest white in the picture
+        int QPCorrecture= 256*256;
+
+        int copyAhead;
+#ifdef HAVE_MMX
+        int i;
+#endif
+
+        const int qpHShift= isColor ? 4-c.hChromaSubSample : 4;
+        const int qpVShift= isColor ? 4-c.vChromaSubSample : 4;
+
+        //FIXME remove
+        uint64_t * const yHistogram= c.yHistogram;
+        uint8_t * const tempSrc= srcStride > 0 ? c.tempSrc : c.tempSrc - 23*srcStride;
+        uint8_t * const tempDst= dstStride > 0 ? c.tempDst : c.tempDst - 23*dstStride;
+        //const int mbWidth= isColor ? (width+7)>>3 : (width+15)>>4;
+
+#ifdef HAVE_MMX
+        for(i=0; i<57; i++){
+                int offset= ((i*c.ppMode.baseDcDiff)>>8) + 1;
+                int threshold= offset*2 + 1;
+                c.mmxDcOffset[i]= 0x7F - offset;
+                c.mmxDcThreshold[i]= 0x7F - threshold;
+                c.mmxDcOffset[i]*= 0x0101010101010101LL;
+                c.mmxDcThreshold[i]*= 0x0101010101010101LL;
+        }
+#endif
+
+        if(mode & CUBIC_IPOL_DEINT_FILTER) copyAhead=16;
+        else if(   (mode & LINEAR_BLEND_DEINT_FILTER)
+                || (mode & FFMPEG_DEINT_FILTER)
+                || (mode & LOWPASS5_DEINT_FILTER)) copyAhead=14;
+        else if(   (mode & V_DEBLOCK)
+                || (mode & LINEAR_IPOL_DEINT_FILTER)
+                || (mode & MEDIAN_DEINT_FILTER)
+                || (mode & V_A_DEBLOCK)) copyAhead=13;
+        else if(mode & V_X1_FILTER) copyAhead=11;
+//        else if(mode & V_RK1_FILTER) copyAhead=10;
+        else if(mode & DERING) copyAhead=9;
+        else copyAhead=8;
+
+        copyAhead-= 8;
+
+        if(!isColor)
+        {
+                uint64_t sum= 0;
+                int i;
+                uint64_t maxClipped;
+                uint64_t clipped;
+                double scale;
+
+                c.frameNum++;
+                // first frame is fscked so we ignore it
+                if(c.frameNum == 1) yHistogram[0]= width*height/64*15/256;
+
+                for(i=0; i<256; i++)
+                {
+                        sum+= yHistogram[i];
+                }
+
+                /* we allways get a completly black picture first */
+                maxClipped= (uint64_t)(sum * c.ppMode.maxClippedThreshold);
+
+                clipped= sum;
+                for(black=255; black>0; black--)
+                {
+                        if(clipped < maxClipped) break;
+                        clipped-= yHistogram[black];
+                }
+
+                clipped= sum;
+                for(white=0; white<256; white++)
+                {
+                        if(clipped < maxClipped) break;
+                        clipped-= yHistogram[white];
+                }
+
+                scale= (double)(c.ppMode.maxAllowedY - c.ppMode.minAllowedY) / (double)(white-black);
+
+#ifdef HAVE_MMX2
+                c.packedYScale= (uint16_t)(scale*256.0 + 0.5);
+                c.packedYOffset= (((black*c.packedYScale)>>8) - c.ppMode.minAllowedY) & 0xFFFF;
+#else
+                c.packedYScale= (uint16_t)(scale*1024.0 + 0.5);
+                c.packedYOffset= (black - c.ppMode.minAllowedY) & 0xFFFF;
+#endif
+
+                c.packedYOffset|= c.packedYOffset<<32;
+                c.packedYOffset|= c.packedYOffset<<16;
+
+                c.packedYScale|= c.packedYScale<<32;
+                c.packedYScale|= c.packedYScale<<16;
+
+                if(mode & LEVEL_FIX)        QPCorrecture= (int)(scale*256*256 + 0.5);
+                else                        QPCorrecture= 256*256;
+        }
+        else
+        {
+                c.packedYScale= 0x0100010001000100LL;
+                c.packedYOffset= 0;
+                QPCorrecture= 256*256;
+        }
+
+        /* copy & deinterlace first row of blocks */
+        y=-BLOCK_SIZE;
+        {
+                uint8_t *srcBlock= &(src[y*srcStride]);
+                uint8_t *dstBlock= tempDst + dstStride;
+
+                // From this point on it is guranteed that we can read and write 16 lines downward
+                // finish 1 block before the next otherwise we might have a problem
+                // with the L1 Cache of the P4 ... or only a few blocks at a time or soemthing
+                for(x=0; x<width; x+=BLOCK_SIZE)
+                {
+
+#ifdef HAVE_MMX2
+/*
+                        prefetchnta(srcBlock + (((x>>2)&6) + 5)*srcStride + 32);
+                        prefetchnta(srcBlock + (((x>>2)&6) + 6)*srcStride + 32);
+                        prefetcht0(dstBlock + (((x>>2)&6) + 5)*dstStride + 32);
+                        prefetcht0(dstBlock + (((x>>2)&6) + 6)*dstStride + 32);
+*/
+
+                        asm(
+                                "mov %4, %%"REG_a"              \n\t"
+                                "shr $2, %%"REG_a"              \n\t"
+                                "and $6, %%"REG_a"              \n\t"
+                                "add %5, %%"REG_a"              \n\t"
+                                "mov %%"REG_a", %%"REG_d"       \n\t"
+                                "imul %1, %%"REG_a"             \n\t"
+                                "imul %3, %%"REG_d"             \n\t"
+                                "prefetchnta 32(%%"REG_a", %0)  \n\t"
+                                "prefetcht0 32(%%"REG_d", %2)   \n\t"
+                                "add %1, %%"REG_a"              \n\t"
+                                "add %3, %%"REG_d"              \n\t"
+                                "prefetchnta 32(%%"REG_a", %0)  \n\t"
+                                "prefetcht0 32(%%"REG_d", %2)   \n\t"
+                        :: "r" (srcBlock), "r" ((long)srcStride), "r" (dstBlock), "r" ((long)dstStride),
+                        "g" ((long)x), "g" ((long)copyAhead)
+                        : "%"REG_a, "%"REG_d
+                        );
+
+#elif defined(HAVE_3DNOW)
+//FIXME check if this is faster on an 3dnow chip or if its faster without the prefetch or ...
+/*                        prefetch(srcBlock + (((x>>3)&3) + 5)*srcStride + 32);
+                        prefetch(srcBlock + (((x>>3)&3) + 9)*srcStride + 32);
+                        prefetchw(dstBlock + (((x>>3)&3) + 5)*dstStride + 32);
+                        prefetchw(dstBlock + (((x>>3)&3) + 9)*dstStride + 32);
+*/
+#endif
+
+                        RENAME(blockCopy)(dstBlock + dstStride*8, dstStride,
+                                srcBlock + srcStride*8, srcStride, mode & LEVEL_FIX, &c.packedYOffset);
+
+                        RENAME(duplicate)(dstBlock + dstStride*8, dstStride);
+
+                        if(mode & LINEAR_IPOL_DEINT_FILTER)
+                                RENAME(deInterlaceInterpolateLinear)(dstBlock, dstStride);
+                        else if(mode & LINEAR_BLEND_DEINT_FILTER)
+                                RENAME(deInterlaceBlendLinear)(dstBlock, dstStride, c.deintTemp + x);
+                        else if(mode & MEDIAN_DEINT_FILTER)
+                                RENAME(deInterlaceMedian)(dstBlock, dstStride);
+                        else if(mode & CUBIC_IPOL_DEINT_FILTER)
+                                RENAME(deInterlaceInterpolateCubic)(dstBlock, dstStride);
+                        else if(mode & FFMPEG_DEINT_FILTER)
+                                RENAME(deInterlaceFF)(dstBlock, dstStride, c.deintTemp + x);
+                        else if(mode & LOWPASS5_DEINT_FILTER)
+                                RENAME(deInterlaceL5)(dstBlock, dstStride, c.deintTemp + x, c.deintTemp + width + x);
+/*                        else if(mode & CUBIC_BLEND_DEINT_FILTER)
+                                RENAME(deInterlaceBlendCubic)(dstBlock, dstStride);
+*/
+                        dstBlock+=8;
+                        srcBlock+=8;
+                }
+                if(width==FFABS(dstStride))
+                        linecpy(dst, tempDst + 9*dstStride, copyAhead, dstStride);
+                else
+                {
+                        int i;
+                        for(i=0; i<copyAhead; i++)
+                        {
+                                memcpy(dst + i*dstStride, tempDst + (9+i)*dstStride, width);
+                        }
+                }
+        }
+
+        for(y=0; y<height; y+=BLOCK_SIZE)
+        {
+                //1% speedup if these are here instead of the inner loop
+                uint8_t *srcBlock= &(src[y*srcStride]);
+                uint8_t *dstBlock= &(dst[y*dstStride]);
+#ifdef HAVE_MMX
+                uint8_t *tempBlock1= c.tempBlocks;
+                uint8_t *tempBlock2= c.tempBlocks + 8;
+#endif
+                int8_t *QPptr= &QPs[(y>>qpVShift)*QPStride];
+                int8_t *nonBQPptr= &c.nonBQPTable[(y>>qpVShift)*FFABS(QPStride)];
+                int QP=0;
+                /* can we mess with a 8x16 block from srcBlock/dstBlock downwards and 1 line upwards
+                   if not than use a temporary buffer */
+                if(y+15 >= height)
+                {
+                        int i;
+                        /* copy from line (copyAhead) to (copyAhead+7) of src, these will be copied with
+                           blockcopy to dst later */
+                        linecpy(tempSrc + srcStride*copyAhead, srcBlock + srcStride*copyAhead,
+                                FFMAX(height-y-copyAhead, 0), srcStride);
+
+                        /* duplicate last line of src to fill the void upto line (copyAhead+7) */
+                        for(i=FFMAX(height-y, 8); i<copyAhead+8; i++)
+                                memcpy(tempSrc + srcStride*i, src + srcStride*(height-1), FFABS(srcStride));
+
+                        /* copy up to (copyAhead+1) lines of dst (line -1 to (copyAhead-1))*/
+                        linecpy(tempDst, dstBlock - dstStride, FFMIN(height-y+1, copyAhead+1), dstStride);
+
+                        /* duplicate last line of dst to fill the void upto line (copyAhead) */
+                        for(i=height-y+1; i<=copyAhead; i++)
+                                memcpy(tempDst + dstStride*i, dst + dstStride*(height-1), FFABS(dstStride));
+
+                        dstBlock= tempDst + dstStride;
+                        srcBlock= tempSrc;
+                }
+
+                // From this point on it is guranteed that we can read and write 16 lines downward
+                // finish 1 block before the next otherwise we might have a problem
+                // with the L1 Cache of the P4 ... or only a few blocks at a time or soemthing
+                for(x=0; x<width; x+=BLOCK_SIZE)
+                {
+                        const int stride= dstStride;
+#ifdef HAVE_MMX
+                        uint8_t *tmpXchg;
+#endif
+                        if(isColor)
+                        {
+                                QP= QPptr[x>>qpHShift];
+                                c.nonBQP= nonBQPptr[x>>qpHShift];
+                        }
+                        else
+                        {
+                                QP= QPptr[x>>4];
+                                QP= (QP* QPCorrecture + 256*128)>>16;
+                                c.nonBQP= nonBQPptr[x>>4];
+                                c.nonBQP= (c.nonBQP* QPCorrecture + 256*128)>>16;
+                                yHistogram[ srcBlock[srcStride*12 + 4] ]++;
+                        }
+                        c.QP= QP;
+#ifdef HAVE_MMX
+                        asm volatile(
+                                "movd %1, %%mm7         \n\t"
+                                "packuswb %%mm7, %%mm7  \n\t" // 0, 0, 0, QP, 0, 0, 0, QP
+                                "packuswb %%mm7, %%mm7  \n\t" // 0,QP, 0, QP, 0,QP, 0, QP
+                                "packuswb %%mm7, %%mm7  \n\t" // QP,..., QP
+                                "movq %%mm7, %0         \n\t"
+                                : "=m" (c.pQPb)
+                                : "r" (QP)
+                        );
+#endif
+
+
+#ifdef HAVE_MMX2
+/*
+                        prefetchnta(srcBlock + (((x>>2)&6) + 5)*srcStride + 32);
+                        prefetchnta(srcBlock + (((x>>2)&6) + 6)*srcStride + 32);
+                        prefetcht0(dstBlock + (((x>>2)&6) + 5)*dstStride + 32);
+                        prefetcht0(dstBlock + (((x>>2)&6) + 6)*dstStride + 32);
+*/
+
+                        asm(
+                                "mov %4, %%"REG_a"              \n\t"
+                                "shr $2, %%"REG_a"              \n\t"
+                                "and $6, %%"REG_a"              \n\t"
+                                "add %5, %%"REG_a"              \n\t"
+                                "mov %%"REG_a", %%"REG_d"       \n\t"
+                                "imul %1, %%"REG_a"             \n\t"
+                                "imul %3, %%"REG_d"             \n\t"
+                                "prefetchnta 32(%%"REG_a", %0)  \n\t"
+                                "prefetcht0 32(%%"REG_d", %2)   \n\t"
+                                "add %1, %%"REG_a"              \n\t"
+                                "add %3, %%"REG_d"              \n\t"
+                                "prefetchnta 32(%%"REG_a", %0)  \n\t"
+                                "prefetcht0 32(%%"REG_d", %2)   \n\t"
+                        :: "r" (srcBlock), "r" ((long)srcStride), "r" (dstBlock), "r" ((long)dstStride),
+                         "g" ((long)x), "g" ((long)copyAhead)
+                        : "%"REG_a, "%"REG_d
+                        );
+
+#elif defined(HAVE_3DNOW)
+//FIXME check if this is faster on an 3dnow chip or if its faster without the prefetch or ...
+/*                        prefetch(srcBlock + (((x>>3)&3) + 5)*srcStride + 32);
+                        prefetch(srcBlock + (((x>>3)&3) + 9)*srcStride + 32);
+                        prefetchw(dstBlock + (((x>>3)&3) + 5)*dstStride + 32);
+                        prefetchw(dstBlock + (((x>>3)&3) + 9)*dstStride + 32);
+*/
+#endif
+
+                        RENAME(blockCopy)(dstBlock + dstStride*copyAhead, dstStride,
+                                srcBlock + srcStride*copyAhead, srcStride, mode & LEVEL_FIX, &c.packedYOffset);
+
+                        if(mode & LINEAR_IPOL_DEINT_FILTER)
+                                RENAME(deInterlaceInterpolateLinear)(dstBlock, dstStride);
+                        else if(mode & LINEAR_BLEND_DEINT_FILTER)
+                                RENAME(deInterlaceBlendLinear)(dstBlock, dstStride, c.deintTemp + x);
+                        else if(mode & MEDIAN_DEINT_FILTER)
+                                RENAME(deInterlaceMedian)(dstBlock, dstStride);
+                        else if(mode & CUBIC_IPOL_DEINT_FILTER)
+                                RENAME(deInterlaceInterpolateCubic)(dstBlock, dstStride);
+                        else if(mode & FFMPEG_DEINT_FILTER)
+                                RENAME(deInterlaceFF)(dstBlock, dstStride, c.deintTemp + x);
+                        else if(mode & LOWPASS5_DEINT_FILTER)
+                                RENAME(deInterlaceL5)(dstBlock, dstStride, c.deintTemp + x, c.deintTemp + width + x);
+/*                        else if(mode & CUBIC_BLEND_DEINT_FILTER)
+                                RENAME(deInterlaceBlendCubic)(dstBlock, dstStride);
+*/
+
+                        /* only deblock if we have 2 blocks */
+                        if(y + 8 < height)
+                        {
+                                if(mode & V_X1_FILTER)
+                                        RENAME(vertX1Filter)(dstBlock, stride, &c);
+                                else if(mode & V_DEBLOCK)
+                                {
+                                        const int t= RENAME(vertClassify)(dstBlock, stride, &c);
+
+                                        if(t==1)
+                                                RENAME(doVertLowPass)(dstBlock, stride, &c);
+                                        else if(t==2)
+                                                RENAME(doVertDefFilter)(dstBlock, stride, &c);
+                                }else if(mode & V_A_DEBLOCK){
+                                        RENAME(do_a_deblock)(dstBlock, stride, 1, &c);
+                                }
+                        }
+
+#ifdef HAVE_MMX
+                        RENAME(transpose1)(tempBlock1, tempBlock2, dstBlock, dstStride);
+#endif
+                        /* check if we have a previous block to deblock it with dstBlock */
+                        if(x - 8 >= 0)
+                        {
+#ifdef HAVE_MMX
+                                if(mode & H_X1_FILTER)
+                                        RENAME(vertX1Filter)(tempBlock1, 16, &c);
+                                else if(mode & H_DEBLOCK)
+                                {
+//START_TIMER
+                                        const int t= RENAME(vertClassify)(tempBlock1, 16, &c);
+//STOP_TIMER("dc & minmax")
+                                        if(t==1)
+                                                RENAME(doVertLowPass)(tempBlock1, 16, &c);
+                                        else if(t==2)
+                                                RENAME(doVertDefFilter)(tempBlock1, 16, &c);
+                                }else if(mode & H_A_DEBLOCK){
+                                        RENAME(do_a_deblock)(tempBlock1, 16, 1, &c);
+                                }
+
+                                RENAME(transpose2)(dstBlock-4, dstStride, tempBlock1 + 4*16);
+
+#else
+                                if(mode & H_X1_FILTER)
+                                        horizX1Filter(dstBlock-4, stride, QP);
+                                else if(mode & H_DEBLOCK)
+                                {
+#ifdef HAVE_ALTIVEC
+                                        unsigned char __attribute__ ((aligned(16))) tempBlock[272];
+                                        transpose_16x8_char_toPackedAlign_altivec(tempBlock, dstBlock - (4 + 1), stride);
+
+                                        const int t=vertClassify_altivec(tempBlock-48, 16, &c);
+                                        if(t==1) {
+                                                doVertLowPass_altivec(tempBlock-48, 16, &c);
+                                                transpose_8x16_char_fromPackedAlign_altivec(dstBlock - (4 + 1), tempBlock, stride);
+                                        }
+                                        else if(t==2) {
+                                                doVertDefFilter_altivec(tempBlock-48, 16, &c);
+                                                transpose_8x16_char_fromPackedAlign_altivec(dstBlock - (4 + 1), tempBlock, stride);
+                                        }
+#else
+                                        const int t= RENAME(horizClassify)(dstBlock-4, stride, &c);
+
+                                        if(t==1)
+                                                RENAME(doHorizLowPass)(dstBlock-4, stride, &c);
+                                        else if(t==2)
+                                                RENAME(doHorizDefFilter)(dstBlock-4, stride, &c);
+#endif
+                                }else if(mode & H_A_DEBLOCK){
+                                        RENAME(do_a_deblock)(dstBlock-8, 1, stride, &c);
+                                }
+#endif //HAVE_MMX
+                                if(mode & DERING)
+                                {
+                                //FIXME filter first line
+                                        if(y>0) RENAME(dering)(dstBlock - stride - 8, stride, &c);
+                                }
+
+                                if(mode & TEMP_NOISE_FILTER)
+                                {
+                                        RENAME(tempNoiseReducer)(dstBlock-8, stride,
+                                                c.tempBlured[isColor] + y*dstStride + x,
+                                                c.tempBluredPast[isColor] + (y>>3)*256 + (x>>3),
+                                                c.ppMode.maxTmpNoise);
+                                }
+                        }
+
+                        dstBlock+=8;
+                        srcBlock+=8;
+
+#ifdef HAVE_MMX
+                        tmpXchg= tempBlock1;
+                        tempBlock1= tempBlock2;
+                        tempBlock2 = tmpXchg;
+#endif
+                }
+
+                if(mode & DERING)
+                {
+                                if(y > 0) RENAME(dering)(dstBlock - dstStride - 8, dstStride, &c);
+                }
+
+                if((mode & TEMP_NOISE_FILTER))
+                {
+                        RENAME(tempNoiseReducer)(dstBlock-8, dstStride,
+                                c.tempBlured[isColor] + y*dstStride + x,
+                                c.tempBluredPast[isColor] + (y>>3)*256 + (x>>3),
+                                c.ppMode.maxTmpNoise);
+                }
+
+                /* did we use a tmp buffer for the last lines*/
+                if(y+15 >= height)
+                {
+                        uint8_t *dstBlock= &(dst[y*dstStride]);
+                        if(width==FFABS(dstStride))
+                                linecpy(dstBlock, tempDst + dstStride, height-y, dstStride);
+                        else
+                        {
+                                int i;
+                                for(i=0; i<height-y; i++)
+                                {
+                                        memcpy(dstBlock + i*dstStride, tempDst + (i+1)*dstStride, width);
+                                }
+                        }
+                }
+/*
+                for(x=0; x<width; x+=32)
+                {
+                        volatile int i;
+                        i+=        + dstBlock[x + 7*dstStride] + dstBlock[x + 8*dstStride]
+                                + dstBlock[x + 9*dstStride] + dstBlock[x +10*dstStride]
+                                + dstBlock[x +11*dstStride] + dstBlock[x +12*dstStride];
+//                                + dstBlock[x +13*dstStride]
+//                                + dstBlock[x +14*dstStride] + dstBlock[x +15*dstStride];
+                }*/
+        }
+#ifdef HAVE_3DNOW
+        asm volatile("femms");
+#elif defined (HAVE_MMX)
+        asm volatile("emms");
+#endif
+
+#ifdef DEBUG_BRIGHTNESS
+        if(!isColor)
+        {
+                int max=1;
+                int i;
+                for(i=0; i<256; i++)
+                        if(yHistogram[i] > max) max=yHistogram[i];
+
+                for(i=1; i<256; i++)
+                {
+                        int x;
+                        int start=yHistogram[i-1]/(max/256+1);
+                        int end=yHistogram[i]/(max/256+1);
+                        int inc= end > start ? 1 : -1;
+                        for(x=start; x!=end+inc; x+=inc)
+                                dst[ i*dstStride + x]+=128;
+                }
+
+                for(i=0; i<100; i+=2)
+                {
+                        dst[ (white)*dstStride + i]+=128;
+                        dst[ (black)*dstStride + i]+=128;
+                }
+
+        }
+#endif
+
+        *c2= c; //copy local context back
+
+}

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libswscale/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libswscale/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libswscale/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,14 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_libswscale)
+#
+SET(${ADM_LIB}_SRCS 
+swscale.c yuv2rgb.c rgb2rgb.c yuv2rgb_altivec.c ADM_mp.cpp
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libtwolame/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libtwolame/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libtwolame/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,21 @@
+
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_libtwolame)
+#
+SET(${ADM_LIB}_SRCS 
+ath.c        bitbuffer.c  crc.c  encode.c      energy.c  get_set.c  psycho_0.c  psycho_2.c  psycho_4.c   subband.c  twolame.c
+availbits.c  dab.c   fft.c     mem.c      psycho_1.c  psycho_3.c  psycho_n1.c     util.c
+
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+include_directories(${LIBXML2_INCLUDE_DIR})
+
+################################
+ADD_definitions(-DNDEBUG -DINLINE=inline)
+include_directories(.)
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libwrapper/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,13 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_libwrapper)
+#
+SET(${ADM_LIB}_SRCS 
+libwrapper_amrnb.cpp  libwrapper.cpp  libwrapper_dca.cpp  libwrapper_global.cpp
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+################################

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lvemux/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lvemux/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lvemux/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,16 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_lvemux)
+#
+SET(${ADM_LIB}_SRCS 
+ADM_muxer.cpp
+mux_out.c
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,17 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_mplex)
+#
+SET(${ADM_LIB}_SRCS 
+ac3strm_in.cpp      ADM_mplexout.cpp   audiostrm_out.cpp  dtsstrm_in.cpp  lpcmstrm_in.cpp   multiplexor.cpp   stream_params.cpp  videostrm_in.cpp   zalphastrm_out.cpp
+ADM_mplexin.cpp     ADM_mthread.cpp    bits.cpp           inputstrm.cpp   padstrm.cpp       systems.cpp        videostrm_out.cpp
+ADM_mplexmuxer.cpp  ADM_transfert.cpp  buffer.cpp         interact.cpp    mpastrm_in.cpp    stillsstream.cpp  vector.cpp         zalphastrm_in.cpp
+mpegconsts.c
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+################################
+include_directories(../ADM_libmpeg2enc  ../../ADM_userInterfaces/)
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_smjs/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_smjs/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_smjs/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,15 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_smjs)
+#
+SET(${ADM_LIB}_SRCS 
+jsapi.c    jsatom.c  jscntxt.c   jsdbgapi.c  jsemit.c  jsfun.c   jsinterp.c  jslong.c  jsobj.c     jsprf.c     jsscope.c   jsutil.c    prmjtime.c
+jsarena.c  jsbool.c  jscpucfg.c  jsdhash.c   jsexn.c   jsgc.c    jslock.c    jsmath.c  jsopcode.c  jsregexp.c  jsscript.c  jsxdrapi.c
+jsarray.c  jsdate.c    jsdtoa.c    jsfile.c  jshash.c  jslog2.c    jsnum.c   jsparse.c   jsscan.c    jsstr.c     jsxml.c
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+################################
+add_definitions( -DXP_UNIX -DSVR4 -DSYSV -D_BSD_SOURCE -DPOSIX_SOURCE -DHAVE_VA_COPY -DVA_COPY=va_copy)

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,16 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_utilities)
+#
+SET(${ADM_LIB}_SRCS 
+ADM_bitstream.cpp  ADM_image.cpp         ADM_imageUtils.cpp  ADM_print.cpp    aviframe.cpp    aviio.cpp   fourcc.cpp  subchunk.cpp
+ADM_fileio.cpp     ADM_imageResizer.cpp  ADM_pp.cpp          avidemutils.cpp  aviindexer.cpp  broken.cpp  prefs.cpp
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+include_directories(${LIBXML2_INCLUDE_DIR})
+
+################################

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_xvidratectl/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_xvidratectl/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_xvidratectl/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,14 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_xvidratectl)
+#
+SET(${ADM_LIB}_SRCS 
+ADM_oldxvid.cpp  ADM_xvidratectl.cpp  ADM_xvidratectlVBV.cpp
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################

Added: branches/avidemux_2.4_branch/avidemux/ADM_outputs/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,22 @@
+SET(ADM_outputs_SRCS 
+oplug_avi/op_avisavedual.cpp
+oplug_avi/op_savesmart.cpp
+oplug_avi/avilist.cpp
+oplug_avi/op_avisavecopy_pack.cpp
+oplug_avi/op_avisavecopy.cpp
+oplug_avi/op_aviwrite.cpp
+oplug_avi/op_avisavecopy_unpack.cpp
+oplug_avi/op_saveprocess.cpp
+oplug_avi/op_avisave.cpp
+oplug_mp4/oplug_mp4.cpp
+oplug_ogm/op_ogpage.cpp
+oplug_ogm/op_ogsaveprocess.cpp
+oplug_ogm/op_ogsave.cpp
+oplug_ogm/op_ogaudio.cpp
+oplug_ogm/op_ogsavecopy.cpp
+oplug_mpegFF/oplug_vcdff.cpp
+oplug_mpeg/op_mpegpass.cpp
+)
+ADD_LIBRARY(ADM_outputs STATIC ${ADM_outputs_SRCS})
+include_directories(./ ../ADM_inputs )
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,6 @@
+
+SET(ADM_oplug_avi_SRCS 
+avilist.cpp         op_avisavecopy_pack.cpp    op_avisave.cpp      op_aviwrite.cpp     op_savesmart.cpp
+op_avisavecopy.cpp  op_avisavecopy_unpack.cpp  op_avisavedual.cpp  op_saveprocess.cpp
+)
+ADD_LIBRARY(ADM_oplug_avi STATIC ${ADM_oplug_avi_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mp4/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mp4/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mp4/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,3 @@
+
+SET(ADM_oplug_mp4_SRCS oplug_mp4.cpp)
+ADD_LIBRARY(ADM_oplug_mp4 STATIC ${ADM_oplug_mp4_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpeg/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpeg/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpeg/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,5 @@
+
+SET(ADM_oplug_mpeg_SRCS 
+op_mpegpass.cpp
+)
+ADD_LIBRARY(ADM_oplug_mpeg STATIC ${ADM_oplug_mpeg_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpegFF/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpegFF/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpegFF/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,5 @@
+
+SET(ADM_oplug_mpegFF_SRCS 
+oplug_vcdff.cpp
+)
+ADD_LIBRARY(ADM_oplug_mpegFF STATIC ${ADM_oplug_mpegFF_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,5 @@
+
+SET(ADM_oplug_ogm_SRCS 
+op_ogaudio.cpp  op_ogpage.cpp  op_ogsavecopy.cpp  op_ogsave.cpp  op_ogsaveprocess.cpp
+)
+ADD_LIBRARY(ADM_oplug_ogm STATIC ${ADM_oplug_ogm_SRCS})

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,20 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_dialogGtk)
+#
+SET(${ADM_LIB}_SRCS
+DIA_about.cpp     DIA_calculator.cpp   DIA_crop.cpp       DIA_flyDialog.cpp  DIA_mpdelogo.cpp  DIA_preview.cpp     DIA_srt.cpp      DIA_xvid4.cpp
+DIA_acodec.cpp    DIA_chromaShift.cpp  DIA_encoding.cpp   DIA_hue.cpp        DIA_ocr.cpp       DIA_properties.cpp  DIA_vcodec.cpp   DIA_xvid.cpp
+DIA_animated.cpp  DIA_cnr2.cpp         DIA_eq2.cpp        DIA_idx_pg.cpp     DIA_partial.cpp   DIA_quota.cpp       DIA_vobsub.cpp
+DIA_asharp.cpp    DIA_coloryuv.cpp     DIA_equalizer.cpp  DIA_jobs.cpp       DIA_pause.cpp     DIA_recent.cpp      DIA_working.cpp
+DIA_busy.cpp      DIA_contrast.cpp     DIA_exLame.cpp     DIA_jobs_save.cpp  DIA_pipe.cpp      DIA_resize.cpp      DIA_x264.cpp
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################
+ADD_definitions(${GTK_CFLAGS} -DADM_SUBVERSION=0 )
+include_directories(.. ../../../ADM_osSupport ../../../ADM_inputs)

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,18 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_dialogFactoryGtk)
+#
+SET(${ADM_LIB}_SRCS
+DIA_color.cpp          DIA_filesel.cpp  FAC_bitrate.cpp  FAC_float.cpp  FAC_hex.cpp      FAC_menu.cpp   FAC_readOnlyText.cpp
+DIA_dialogFactory.cpp  FAC_bar.cpp      FAC_button.cpp   FAC_frame.cpp  FAC_integer.cpp  FAC_notch.cpp  FAC_toggle.cpp
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################
+ADD_definitions(${GTK_CFLAGS})
+include_directories(.. ../..)
+#../../../ADM_osSupport)

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,18 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_filtersGtk)
+#
+SET(${ADM_LIB}_SRCS
+gui_filter.cpp  gui_filterlist.cpp  gui_filtermanager.cpp  gui_filtermanager_dialog.cpp  gui_filtersub.cpp
+
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################
+ADD_definitions(${GTK_CFLAGS} -DADM_SUBVERSION=0 )
+include_directories(.. ../..)
+#/../ADM_osSupport ../../../ADM_inputs)

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,17 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_gui2Gtk)
+#
+SET(${ADM_LIB}_SRCS
+GUI_bindings.cpp  GUI_gtkRender.cpp  GUI_keymap.cpp  GUI_main2.cpp
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################
+ADD_definitions(${GTK_CFLAGS} -DADM_SUBVERSION=0 )
+include_directories(.. ../..)
+#/../ADM_osSupport ../../../ADM_inputs)

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,17 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_ocrGtk)
+#
+SET(${ADM_LIB}_SRCS
+adm_ocr.cpp
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################
+ADD_definitions(${GTK_CFLAGS} -DADM_SUBVERSION=0 )
+include_directories(.. ../../../ADM_ocr)
+include_directories(../../../ADM_inputs)

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/adm_ocr.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/adm_ocr.cpp	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/adm_ocr.cpp	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,807 @@
+/***************************************************************************
+                         
+        Very simple OCR engine
+
+        We do it in 3 passes
+        
+                Ask the vobsub decoder for a bitmap
+                Try to split the bitmap in lines
+                For each lines try to split in glyph (i.e. horizontal line)
+                Detour the glyph
+                If the detoured glyph has a width much less inferiror to its width
+                it probably means we have a italic or kerning.
+                In that case use the detouring to isolate the glyphs
+
+
+         A bit of warning. 
+                        The UI code is ugly.
+                        Bottom is the last actual line so to get height you have to to last-first +1 !
+
+    begin                : Jan 2005
+    copyright            : (C) 2002 by mean
+    email                : fixounet at free.fr
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include "config.h"
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "gtk/gtk.h"
+#include <ADM_assert.h>
+
+
+#include "fourcc.h"
+#include "avio.hxx"
+#include "config.h"
+#include "avi_vars.h"
+
+//#include "unistd.h"
+
+#include "ADM_toolkit/toolkit.hxx"
+#include "../ADM_GTK/ADM_toolkit_gtk/toolkit_gtk.h"
+#include "../ADM_GTK/ADM_toolkit_gtk/toolkit_gtk_include.h"
+#include "ADM_editor/ADM_edit.hxx"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_filter/video_filters.h"
+
+#include "ADM_toolkit/toolkit.hxx"
+#include "ADM_editor/ADM_edit.hxx"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_filter/video_filters.h"
+
+
+#include "ADM_toolkit/filesel.h"
+
+#include "ADM_colorspace/colorspace.h"
+
+#include "ADM_video/ADM_vobsubinfo.h"
+
+#include "ADM_video/ADM_vidVobSub.h"
+#include "ADM_leftturn.h"
+#include "DIA_enter.h"
+/******************************/
+#define GTK_PURGE {while (gtk_events_pending())                gtk_main_iteration(); }    
+#define TESTSUB "/home/fx/usbstick/subs/vts_01_0.idx"
+#define CONNECT(x,y,z) 	gtk_signal_connect(GTK_OBJECT(WID(x)), #y,GTK_SIGNAL_FUNC(z),   NULL);
+#define SUB_THRESH minThreshold
+
+typedef enum 
+{
+        ReplyOk=1,
+        ReplyClose=0,
+        ReplyCalibrate=2,
+        ReplySkip=3,
+        ReplySkipAll=4
+}ReplyType;
+
+static uint8_t mergeBitmap(uint8_t *bitin, uint8_t *bitout, uint8_t *maskin,uint32_t w, uint32_t h);
+static ReplyType ocrBitmap(uint8_t *data,uint32_t w,uint32_t h);
+static ReplyType handleGlyph(uint32_t start, uint32_t end,uint32_t w,uint32_t h,uint32_t base);
+static uint8_t lineEmpty(uint8_t *base, uint32_t stride, uint32_t width, uint32_t line);
+static uint8_t columnEmpty(uint8_t *base, uint32_t stride, uint32_t height);
+static ReplyType glyphToText(admGlyph *glyph);
+static uint8_t saveGlyph(void);
+static uint8_t loadGlyph(char *name);
+static void displaySmall( admGlyph *glyph );
+static int cb_accept(GtkObject * object, gpointer user_data);
+static ReplyType setup(void);
+static  vobSubParam subparam={NULL,0,0};
+static uint32_t minAlpha=7;
+static uint32_t minThreshold=0x80;
+
+
+/*++++++++++++++++++++++++++++++++++++++++*/
+extern  GtkWidget	*DIA_ocr(void);
+extern  uint8_t DIA_vobsub(vobSubParam *param);
+static gboolean gui_draw( void );
+static gboolean gui_draw_small( void );
+static char decodedString[1024];
+/*-------------------------*/
+static GtkWidget *dialog;
+static GtkWidget *mainDisplay;
+static GtkWidget *smallDisplay;
+static vobSubBitmap *bitmap;
+
+static uint8_t *workArea;
+static admGlyph head(250,4);
+static uint32_t lang_index=0;
+
+
+static uint32_t redraw_x,redraw_y;
+
+static uint32_t nbGlyphs;
+
+
+typedef enum
+{
+    actionLoadVob=10,
+    actionSaveSub,
+    actionGo,
+    actionLoadGlyph,
+    actionSaveGlyph,
+    actionSkip,
+    actionSkipAll,
+    actionAccept,
+    actionIgnore,
+    actionCalibrate
+}ocrAction;
+/* +++++++++++++++++++++++++++++++++++++++++++++++++++++++
+        Main
+   +++++++++++++++++++++++++++++++++++++++++++++++++++++++ */
+uint8_t ADM_ocr_engine( void)
+{
+// 
+    uint32_t nbSub=0;
+    FILE *out=NULL;
+    head.next=NULL;
+    ADMVideoVobSub *vobsub=NULL;
+    uint32_t startTime,endTime;
+    uint32_t w,h,oldw=0,oldh=0;
+    uint32_t oldbitmapw=0;
+    uint32_t oldbitmaph=0;
+    uint32_t first,last;
+    uint32_t seqNum;
+    char     text[1024];
+    lang_index=0;
+    nbGlyphs=0;
+    ReplyType reply;
+    
+// Create UI && prepare callback
+    
+    dialog=DIA_ocr();
+    gtk_register_dialog(dialog);
+#define ASSOCIATE(x,y)   gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(x),y)
+    ASSOCIATE(buttonStart,actionGo);
+    ASSOCIATE(buttonOk,   actionAccept);
+    ASSOCIATE(buttonSkip,     actionSkip);
+    ASSOCIATE(buttonSkipAll,     actionSkipAll);
+    ASSOCIATE(buttonIgnore,   actionIgnore);
+    ASSOCIATE(buttonCalibrate,   actionCalibrate);
+    
+    ASSOCIATE(buttonGlyphLoad,   actionLoadGlyph);
+    ASSOCIATE(buttonGlyphSave,   actionSaveGlyph);
+    
+    ASSOCIATE(buttonVobsub,   actionLoadVob);
+    ASSOCIATE(buttonSrt,   actionSaveSub);
+   
+    gtk_widget_show(dialog);
+//  disable
+    
+    mainDisplay=WID(drawingareaBitmap);
+    smallDisplay=WID(drawingareaSmall);
+    
+    CONNECT(drawingareaBitmap,expose_event,gui_draw);
+    CONNECT(drawingareaSmall,expose_event,gui_draw_small);
+
+    CONNECT(entry,activate,cb_accept);
+_again:    
+    reply=setup();
+    if(reply==ReplyClose) goto endIt;
+    
+    printf("Go go go\n");
+    
+    // Everything ready go go go 
+         
+    redraw_x=redraw_y=0;
+    GTK_PURGE;
+//  Time to go
+    // Inactivate frame1=glyph    frame2=in/out  buttonStart
+    gtk_widget_set_sensitive(WID(buttonStart),0);
+    gtk_widget_set_sensitive(WID(frameGlyph),0);
+    gtk_widget_set_sensitive(WID(frameLoad),0);
+    gtk_widget_set_sensitive(WID(frameBitmap),1);
+
+    gtk_widget_set_sensitive(WID(buttonStart),0);
+   
+  
+   char *fileout;
+   fileout=(char *)gtk_label_get_text(GTK_LABEL(WID(labelSrt)));
+   if(!fileout)
+    {
+      GUI_Error_HIG(_("Incorrect output file"), NULL);
+        goto _again;
+    }
+    out=fopen(fileout,"wb");
+    if(!out)
+    {
+      GUI_Error_HIG(_("Output file error"), _("Could not open \"%s\" for writing."), fileout);
+        goto _again;
+    }
+     
+    vobsub=new ADMVideoVobSub(subparam.subname,subparam.index);
+    nbSub=vobsub->getNbImage();
+   
+    if(!nbSub)
+    {
+      GUI_Error_HIG(_("Problem loading sub"), NULL);
+        delete vobsub;
+        vobsub=NULL;
+        goto _again;
+     }
+    seqNum=1;   // Sub number in srt file
+    oldw=oldh=0;
+
+    //******************    
+    // Load all bitmaps
+    //******************
+    for(uint32_t i=0;i<nbSub;i++)
+    {
+            first=last=0;
+            bitmap=vobsub->getBitmap(i,&startTime, &endTime,&first,&last);
+            ADM_assert(last>=first);
+            
+            // something ?
+            if(!bitmap) continue;
+            if(first==last) continue;
+
+            // If the bitmap size changed or does not exist yet...
+            if(!workArea || oldbitmapw!=bitmap->_width || oldbitmaph!=bitmap->_height)
+            {
+              if(workArea) 
+              {
+                delete [] workArea;
+                workArea=NULL; 
+              }
+              // Workarea is actually bigger than what we use
+              workArea=new uint8_t[bitmap->_width*(bitmap->_height)];
+              memset(workArea,0,bitmap->_width*(bitmap->_height));
+            }
+            oldbitmaph=bitmap->_height;
+            oldbitmapw=bitmap->_width;
+           // 
+           w=bitmap->_width;
+           h=last-first+1;
+           redraw_x=w;
+           redraw_y=h;
+           //**
+           
+           // Build
+againPlease:
+           mergeBitmap(bitmap->_bitmap+first*w, workArea, bitmap->_alphaMask+first*w,  w,   h);
+           if(oldw!=w || oldh !=h)
+           {                
+                GTK_PURGE;  // Force redaw
+           }
+           // Merge
+             GTK_PURGE;
+             gui_draw();
+             GTK_PURGE; 
+             // OCR
+              reply=ocrBitmap(workArea,w,h);
+              if(reply==ReplyClose) goto endIt;
+              if(reply==ReplyCalibrate)
+                {
+                        //
+                        //printf("TADA!!!!\n");
+                        int val;
+#if 0
+                         val=minAlpha;
+                        if(DIA_GetIntegerValue(&val, 3, 7, "Minimum alpha value", "Enter new minimum alpha"))
+                        {
+                                minAlpha=val;
+
+                        }
+#endif
+                        val=minThreshold;
+                        if(DIA_GetIntegerValue(&val, 0x30, 0x80, "Minimum pixel value", "Enter new minimum pixel"))
+                        {
+                                minThreshold=val;
+
+                        }
+                        goto againPlease;
+                }
+             
+             //
+             gtk_label_set_text(GTK_LABEL(WID(labelText)),decodedString);
+             fprintf(out,"%d\n",seqNum++);
+             uint16_t hh,mm,ss,ms;
+             ms2time(startTime, &hh, &mm, &ss, &ms);
+             fprintf(out,"%02d:%02d:%02d,%03d --> ",hh,mm,ss,ms);
+             ms2time(endTime, &hh, &mm, &ss, &ms);
+             fprintf(out,"%02d:%02d:%02d,%03d\n",hh,mm,ss,ms);
+             fprintf(out,"%s\n\n",decodedString);
+             //             
+             oldw=w;
+             oldh=h;
+             // Update infos
+             sprintf(text,"%03d/%03d",i+1,nbSub);
+             gtk_label_set_text(GTK_LABEL(WID(labelNbLines)),text);
+             sprintf(text,"%03d",nbGlyphs);
+             gtk_label_set_text(GTK_LABEL(WID(labelNbGlyphs)),text);
+    }
+
+endIt:
+    // Final round
+    gtk_widget_set_sensitive(WID(frameGlyph),1);
+    gtk_widget_set_sensitive(WID(frameLoad),0);
+    gtk_widget_set_sensitive(WID(buttonStart),0);  
+    gtk_widget_set_sensitive(WID(frameBitmap),0);
+   // gtk_widget_set_sensitive(WID(Current_Glyph),0); 
+    
+    if(nbGlyphs && actionSaveGlyph==gtk_dialog_run(GTK_DIALOG(dialog)))
+        saveGlyph();
+    if(vobsub)
+        delete vobsub;
+    vobsub=NULL;
+    if(out) 
+        fclose(out);
+    out=NULL;
+    gtk_unregister_dialog(dialog);
+    gtk_widget_destroy(dialog);
+    if(head.next)
+        destroyGlyphTree(&head);
+    head.next=NULL;
+    return 1;
+
+}
+
+//*****************************************************************************************
+//  Separate the bitmap into glyph and handle each glyph on itw own
+//
+//*****************************************************************************************
+
+ReplyType ocrBitmap(uint8_t *data,uint32_t w,uint32_t h)
+{
+uint8_t found;
+uint32_t colstart=0,colend=0,oldcol;
+uint32_t line=0,nbLine=1;
+uint32_t base=0,bottom,top;    
+ReplyType reply;
+    // Search First non nul colum
+    decodedString[0]=0;
+    // Search how much lines there is in the file
+    //
+    top=bottom=0;
+    while(top<h)
+    {
+        // Search non empty line as top
+        while(top<h && lineEmpty(workArea,w,w,top)) top++;
+        // Nothing found
+        if(top>=h-1) break;
+
+        // 
+       
+
+        bottom=top+1;
+        // Search empty line if any, bottom is the 1st line full of zero
+        while(bottom<h && (!lineEmpty(workArea,w,w,bottom) || bottom-top<7))
+        {
+            bottom++;
+        }
+        if(line) strcat(decodedString,"\n"); 
+        //printf("\n Top:%lu bottom:%lu\n",top,bottom);
+       
+        // Scan a full line
+        colstart=0;
+        oldcol=0;
+       
+        // Split a line into glyphs
+        while(colstart<w)
+        {
+            GTK_PURGE;
+            oldcol=colstart;
+            while( columnEmpty(workArea+colstart+top*w, w, bottom-top) && colstart<w) colstart++;
+            if(colstart>=w) break;
+            // if too far apart, it means probably a blank space
+            if(colstart-oldcol>6)
+            {
+                strcat(decodedString," ");
+            }
+       
+            // We have found a non null column
+            // Seek the end now
+            colend=colstart+1;
+            while( !columnEmpty(workArea+colend+top*w, w, bottom-top) && colend<w) colend++;
+         
+         
+            // printf("Found glyph: %lu %lu\n",colstart,colend);  
+            reply=handleGlyph(colstart,colend,w,bottom,top);
+            switch(reply)
+                {
+                        case ReplySkip:break;
+                        case ReplyOk:break;
+                        case ReplyClose:
+                        case ReplyCalibrate: return reply;break;
+            
+                        case ReplySkipAll: return ReplyOk;break;
+                        default: ADM_assert(0);
+                }
+            
+            
+            colstart=colend;
+      }
+      line++;      
+      top=bottom;
+      
+    }
+   
+    return ReplyOk;
+}
+//*****************************************************************************************
+/*
+    We now have a good candidate for the glyph.
+    We will do the following processing :
+        - Clip the glyph to have it in its bounding box
+        - extract its container. If the container is smaller than the glyph, it means
+                that we have in fact several glyphs that overlaps slightly. In
+                that case we use another method to extract the glyph.
+                We split it using leftturn method and do it again.
+*/
+ReplyType handleGlyph(uint32_t start, uint32_t end,uint32_t w,uint32_t h,uint32_t base)
+{
+uint8_t found=0;
+static int inc=1;
+ReplyType reply;
+          
+    
+    // Ok now we have the cropped glyp
+    
+    admGlyph *glyph,*cand;
+    uint32_t minx,maxx,miny,maxy;
+    int     *raw=NULL;
+            glyph=new admGlyph(end-start,h-base);
+            glyph->create(workArea+start+base*w,w);
+            glyph=clippedGlyph(glyph);
+            if(!glyph->width) // Empty glyph
+            {
+                delete glyph;
+                return ReplyOk;
+            }
+            // now we have our full glyph, try harder to split it
+_nextglyph:
+            raw=new int[glyph->height];            
+            if(adm_estimate_glyphSize(glyph,&minx, &maxx,&miny,&maxy,raw))
+            {
+            //printf("Glyph width :%lu min:%lu max:%lu estimate width:%lu\n",glyph->width,minx,maxx,maxx-minx+1);
+            if((maxx-minx+2)<glyph->width && (maxx-minx>2) && (maxy-miny>2))
+            {
+                // Suspicously too small
+                // We have to split the glyph
+                // recursively to extract each glyph
+                uint32_t width=maxx-minx+1;
+                uint32_t defStride=width+1;
+                
+                if(defStride>glyph->width) defStride=glyph->width;
+                
+                admGlyph *lefty=new admGlyph(defStride,glyph->height);
+                for(int32_t i=miny;i<=maxy;i++)
+                {
+                    if(raw[i]!=-1) memcpy(&(lefty->data[0+i*defStride]),&(glyph->data[minx+i*glyph->width]),raw[i]+1-minx);
+                    else
+                            memcpy(&(lefty->data[0+i*defStride]),&(glyph->data[minx+i*glyph->width]),defStride);
+                }
+                lefty=clippedGlyph(lefty);
+              
+                {
+                    // Remove that from the original
+                    for(uint32_t i=0;i<glyph->height;i++)
+                    {
+                        //printf("%d:%d(%d)\n",i,raw[i],glyph->width);
+                        if(raw[i]!=-1) memset(&(glyph->data[i*glyph->width]),0,raw[i]+1);
+                        else           memset(&(glyph->data[i*glyph->width]),0,defStride); 
+                    }
+                    // Clip
+                    glyph=clippedGlyph(glyph);
+                
+                    if(lefty->width)
+                    {
+                        reply=glyphToText(lefty);
+                        if(reply!=ReplyOk)
+                        {
+                            printf("Glyph2text failed(1)\n");
+                            return reply;
+                        }
+                    }
+                    else
+                        delete lefty;
+                    if(glyph->width)
+                    {
+                        if(raw) delete [] raw;
+                        goto _nextglyph;                    
+                    } 
+                 }           
+            }
+            }//If
+            if(raw) delete [] raw;
+            if(glyph->width)
+            {
+                reply=glyphToText(glyph);
+                if(reply!=ReplyOk)                 
+                {
+                    printf("Glyph2text failed(2)\n");
+                    return reply;
+                }
+            }
+            else 
+            {
+                delete glyph;
+            }
+            
+    return ReplyOk;
+
+}
+/**
+        Search throught the existing glyphs , if not present create it
+        and append the text to decodedString
+*/
+ReplyType glyphToText(admGlyph *glyph)
+{
+ admGlyph *cand;
+            //printf("2t: %d x %d\n",glyph->width,glyph->height);
+            if(glyph->width<2 && glyph->height<2)
+            {
+                delete glyph;
+                return ReplyOk;
+            }
+            cand=searchGlyph(&head,glyph);
+            if(!cand) // New glyph
+            {
+                char *string;
+                // Draw it
+                displaySmall(glyph); 
+                gtk_label_set_text(GTK_LABEL(WID(labelText)),decodedString);
+                gtk_editable_delete_text(GTK_EDITABLE(WID(entry)), 0,-1);
+                
+                //gtk_widget_set_sensitive(WID(buttonAccept),1);
+                //gtk_widget_set_sensitive(WID(buttonSkip),1);
+                //gtk_widget_set_sensitive(WID(entryEntry),1);
+                
+                gtk_widget_grab_focus (WID(entry));
+                gtk_widget_grab_default (WID(buttonOk));
+                
+                //printf("i\n");
+                switch(gtk_dialog_run(GTK_DIALOG(dialog)))
+                {
+                case actionIgnore:
+                        glyph->code=NULL;
+                        insertInGlyphTree(&head,glyph);
+                        nbGlyphs++;
+                        break;
+                case actionCalibrate: return ReplyCalibrate;
+                case actionAccept:
+                    string =gtk_editable_get_chars(GTK_EDITABLE (WID(entry)), 0, -1);
+                    if(string&& strlen(string))
+                    {
+                        glyph->code=ADM_strdup(string);
+                        insertInGlyphTree(&head,glyph);
+                        //printf("New glyph:%s\n",glyph->code);
+                        strcat(decodedString,glyph->code);
+                        nbGlyphs++;
+                       
+                    }
+                    else delete glyph;
+                    break;
+                case actionSkip: //SKIP
+                    return ReplySkip;
+                    break;
+                case actionSkipAll:
+                    return ReplySkipAll;
+                    break;
+                case GTK_RESPONSE_CLOSE:
+                  if(GUI_Question(_("Sure ?"))) return ReplyClose;
+                    break; // Abort
+                    
+                }
+                gtk_editable_delete_text(GTK_EDITABLE(WID(entry)), 0,-1);
+                //gtk_widget_set_sensitive(WID(buttonAccept),0);
+                //gtk_widget_set_sensitive(WID(buttonSkip),0);
+                //gtk_widget_set_sensitive(WID(entryEntry),0);
+            }
+            else
+            {
+                //printf("Glyph known :%s \n",cand->code);
+                if(cand->code)
+                    strcat(decodedString,cand->code);
+                delete glyph;
+            }
+           return ReplyOk;  
+
+}
+/**************************************************************************************
+    returns 1 if the line is empty
+    0 if not
+*/
+
+//*****************************************************************************************
+uint8_t mergeBitmap(uint8_t *bitin, uint8_t *bitout, uint8_t *maskin,uint32_t w, uint32_t h)
+{
+// Merge with alpha channel
+           uint8_t *in,*mask,*out;
+           uint32_t alp,nw;
+           in=bitin;
+           out=bitout;
+           mask=maskin;
+           for(uint32_t y=0;y<h;y++)
+           {
+            for(uint32_t x=0;x<w;x++)
+            {
+                   
+                    nw=in[x];
+                    alp=mask[x];
+
+                    if(alp>minAlpha&& nw >SUB_THRESH)  nw=0xff;
+                         else       nw=0;
+                        
+                    out[x]=nw;
+            }
+            out+=w;
+            in+=w;
+            mask+=w;
+           }    
+    return 1;
+}
+//*****************************************************************************************
+gboolean gui_draw( void )
+{
+static int lastx=0,lasty=0;
+    if(lastx!=redraw_x || lasty!=redraw_y)
+        gtk_widget_set_usize(mainDisplay, redraw_x, redraw_y);
+    lastx=redraw_x;
+    lasty=redraw_y;
+    
+    gdk_draw_gray_image(mainDisplay->window, mainDisplay->style->fg_gc[GTK_STATE_NORMAL],
+                        0,                          // X
+                        0,                          // y
+                        redraw_x,                          //width
+                        redraw_y,                          //h*2, // heigth
+                        GDK_RGB_DITHER_NONE,
+                        workArea, // buffer
+                        redraw_x );
+    return true;
+}
+//*****************************************************************************************
+ static int sx=0,sy=0,sw=0,sh=0;
+ uint8_t *sdata=NULL;
+void displaySmall( admGlyph *glyph)
+{
+    if(sw!=glyph->width || sh!=glyph->height)
+    {
+        if(sdata) delete [] sdata;
+        sdata=NULL;
+        sw=glyph->width;
+        sh=glyph->height;
+        sdata=new uint8_t[(sw*2+2)*(sh*2+2)];
+        gtk_widget_set_usize(smallDisplay, sw*2+2, sh*2+2);
+    }
+    uint32_t stride=sw*2+2;
+    uint8_t *in=glyph->data;
+    uint8_t *out=sdata;
+    
+    memset(out,0,stride);
+    out+=stride;
+    for(uint32_t y=0;y<sh;y++)
+    {
+      *(out++)=0;
+      for(uint32_t x=0;x<sw;x++)
+      {
+        out[1]=out[0]=out[stride]=out[stride+1]=*in;
+        out+=2; 
+        in++;
+        
+      } 
+      *(out++)=0;
+      out+=stride;      
+    }
+    memset(out,0,stride);
+    //memcpy(sdata,glyph->data,sw*sh);
+    gui_draw_small();
+} 
+
+gboolean gui_draw_small(void)
+{ 
+ if(sw && sh && sdata)
+    gdk_draw_gray_image(smallDisplay->window, smallDisplay->style->fg_gc[GTK_STATE_NORMAL],
+                        0,                          // X
+                        0,                          // y
+                        sw*2+2,                          //width
+                        sh*2+2,                          //h*2, // heigth
+                        GDK_RGB_DITHER_NONE,
+                        sdata, // buffer
+                        sw*2+2 );
+    return true;
+}
+
+/******************************************************************************************
+ Setup (input/output files etc..)
+*****************************************************************************************/
+ReplyType setup(void)
+{
+int sel;
+char text[1024];
+    while(1)
+    {
+    //gtk_widget_set_sensitive(WID(buttonAccept),0);
+    //gtk_widget_set_sensitive(WID(buttonSkip),0);
+    //gtk_widget_set_sensitive(WID(entryEntry),0);
+    GTK_PURGE;   
+    // Main loop : Only accept glyph load/save
+    // Sub & srt select & start ocr
+    gtk_widget_set_sensitive(WID(frameGlyph),1);
+    gtk_widget_set_sensitive(WID(frameLoad),1);
+    gtk_widget_set_sensitive(WID(buttonStart),1);
+    
+    gtk_widget_set_sensitive(WID(frameBitmap),0);
+    //gtk_widget_set_sensitive(WID(Current_Glyph),0); 
+     switch(sel=gtk_dialog_run(GTK_DIALOG(dialog)))
+     {
+        case actionLoadVob:
+                {
+                   
+                        subparam.index=lang_index;
+                        subparam.subname=NULL;
+                        if(DIA_vobsub(&subparam))
+                        {
+                            lang_index=subparam.index;
+                            gtk_label_set_text(GTK_LABEL(WID(labelVobsub)),subparam.subname);
+                        }
+                        
+                    
+                }
+                break;
+        case actionSaveSub:
+                {
+                    char *srt=NULL;
+                    GUI_FileSelWrite(_("Select SRT to save"), &srt);
+                    if(srt)
+                    {
+                        gtk_label_set_text(GTK_LABEL(WID(labelSrt)),srt);
+                    }
+                }
+                break;
+        
+        case actionLoadGlyph:
+            {
+                 char *gly=NULL;
+                    
+                    GUI_FileSelRead(_("Select Glyoh to save"), &gly);
+                    if(gly)
+                    {
+                            loadGlyph(gly);
+                            sprintf(text,"%03d",nbGlyphs);
+                            gtk_label_set_text(GTK_LABEL(WID(labelNbGlyphs)),text);
+                    }
+            }
+                break;
+        
+        case actionSaveGlyph:
+            
+                    if(!nbGlyphs)
+                    {
+                      GUI_Error_HIG(_("No glyphs to save"), NULL);
+                        break;
+                    }                  
+                    saveGlyph();                                      
+                    break;
+        
+        case GTK_RESPONSE_CLOSE: 
+            printf("Close req\n");
+            return ReplyClose;
+        default:
+            printf("Other input:%d\n",sel);
+     }
+    // Everything selected, check
+    if(sel==actionGo) return ReplyOk;
+    }
+}
+/**
+*/
+int cb_accept(GtkObject * object, gpointer user_data)
+{
+        //printf("Hopla\n");
+        gtk_signal_emit_by_name(GTK_OBJECT(WID(buttonOk)),"clicked",(gpointer)1);
+        return 0;
+
+}
+
+/**
+ */
+#include "ADM_ocrLoadSave.h"
+//;

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,17 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_toolkitGtk)
+#
+SET(${ADM_LIB}_SRCS
+ADM_gladeSupport.cpp  ADM_tray_gtk.cpp  choice.cpp  TLK_filesel.cpp  toolkit.cpp  toolkit_dialog.cpp 
+                                        eggtrayicon.c eggtray_win32.c gtkmarkscale.c
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################
+ADD_definitions(${GTK_CFLAGS})
+include_directories(.. ../../../ADM_osSupport)

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/CMakeLists.txt	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,7 @@
+subdirs(PREORDER ADM_dialog)
+subdirs(PREORDER ADM_dialogFactory)
+subdirs(PREORDER ADM_filters)
+subdirs(PREORDER ADM_gui2)
+subdirs(PREORDER ADM_toolkit_gtk)
+subdirs(PREORDER ADM_ocr)
+include_directories(../ADM_commonUI)

Added: branches/avidemux_2.4_branch/cmake/AdmLib.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/AdmLib.cmake	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/cmake/AdmLib.cmake	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,12 @@
+MACRO (ADD_ADM_LIB _libName _father)
+GET_TARGET_PROPERTY(Foo ${_libName} LOCATION)
+STRING(REGEX REPLACE "${_father}.${_libName}" "${_father}" NewFoo "${Foo}" )
+#SET_TARGET_PROPERTIES(${_libName} PROPERTIES 
+        #PREFIX "../lib"
+        #)
+
+#MESSAGE ("LOCATION:"${Foo}"->"${NewFoo})
+#GET_TARGET_PROPERTY(Foo ${_libName} LOCATION)
+#MESSAGE ("AFTER LOCATION:"${Foo}"->"${NewFoo})
+ENDMACRO (ADD_ADM_LIB _libName)
+

Added: branches/avidemux_2.4_branch/cmake/FindGTK.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/FindGTK.cmake	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/cmake/FindGTK.cmake	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,186 @@
+# - try to find GTK (and glib) and GTKGLArea
+#  GTK_INCLUDE_DIR   - Directories to include to use GTK
+#  GTK_LIBRARIES     - Files to link against to use GTK
+#  GTK_FOUND         - GTK was found
+#  GTK_GL_FOUND      - GTK's GL features were found
+
+# don't even bother under WIN32
+IF(UNIX)
+
+  FIND_PATH( GTK_gtk_INCLUDE_PATH gtk/gtk.h
+    /usr/include
+    /usr/local/include
+    /usr/openwin/share/include
+    /usr/openwin/include
+    /usr/X11R6/include
+    /usr/include/X11
+    /usr/X11R6/include/gtk12
+    /usr/include/gtk-1.2
+    /usr/local/include/gtk-1.2
+    /opt/gnome/include
+  )
+
+  # Some Linux distributions (e.g. Red Hat) have glibconfig.h
+  # and glib.h in different directories, so we need to look
+  # for both.
+  #  - Atanas Georgiev <atanas at cs.columbia.edu>
+
+  FIND_PATH( GTK_glibconfig_INCLUDE_PATH glibconfig.h
+    /usr/include
+    /usr/local/include
+    /usr/openwin/share/include
+    /usr/local/include/glib12
+    /usr/lib/glib/include
+    /usr/local/lib/glib/include
+    /opt/gnome/include
+    /opt/gnome/lib/glib/include
+  )
+
+  FIND_PATH( GTK_glib_INCLUDE_PATH glib.h
+    /usr/include
+    /usr/local/include
+    /usr/openwin/share/include
+    /usr/include/gtk-1.2
+    /usr/local/include/glib12
+    /usr/lib/glib/include
+    /usr/include/glib-1.2
+    /usr/local/include/glib-1.2
+    /opt/gnome/include
+    /opt/gnome/include/glib-1.2
+  )
+
+  FIND_PATH( GTK_gtkgl_INCLUDE_PATH gtkgl/gtkglarea.h
+    /usr/include
+    /usr/local/include
+    /usr/openwin/share/include
+    /opt/gnome/include
+  )
+
+  FIND_LIBRARY( GTK_gtkgl_LIBRARY gtkgl
+    /usr/lib
+    /usr/local/lib
+    /usr/openwin/lib
+    /usr/X11R6/lib
+    /opt/gnome/lib
+  )
+
+  #
+  # The 12 suffix is thanks to the FreeBSD ports collection
+  #
+
+  FIND_LIBRARY( GTK_gtk_LIBRARY
+    NAMES  gtk gtk12
+    PATHS /usr/lib
+          /usr/local/lib
+          /usr/openwin/lib
+          /usr/X11R6/lib
+          /opt/gnome/lib
+  )
+
+  FIND_LIBRARY( GTK_gdk_LIBRARY
+    NAMES  gdk gdk12
+    PATHS  /usr/lib
+           /usr/local/lib
+           /usr/openwin/lib
+           /usr/X11R6/lib
+           /opt/gnome/lib
+  )
+
+  FIND_LIBRARY( GTK_gmodule_LIBRARY
+    NAMES  gmodule gmodule12
+    PATHS  /usr/lib
+           /usr/local/lib
+           /usr/openwin/lib
+           /usr/X11R6/lib
+           /opt/gnome/lib
+  )
+
+  FIND_LIBRARY( GTK_glib_LIBRARY
+    NAMES  glib glib12
+    PATHS  /usr/lib
+           /usr/local/lib
+           /usr/openwin/lib
+           /usr/X11R6/lib
+           /opt/gnome/lib
+  )
+
+  FIND_LIBRARY( GTK_Xi_LIBRARY 
+    NAMES Xi 
+    PATHS /usr/lib 
+    /usr/local/lib 
+    /usr/openwin/lib 
+    /usr/X11R6/lib 
+    /opt/gnome/lib 
+    ) 
+
+  FIND_LIBRARY( GTK_gthread_LIBRARY
+    NAMES  gthread gthread12
+    PATHS  /usr/lib
+           /usr/local/lib
+           /usr/openwin/lib
+           /usr/X11R6/lib
+           /opt/gnome/lib
+  )
+
+  IF(GTK_gtk_INCLUDE_PATH)
+  IF(GTK_glibconfig_INCLUDE_PATH)
+  IF(GTK_glib_INCLUDE_PATH)
+  IF(GTK_gtk_LIBRARY)
+  IF(GTK_glib_LIBRARY)
+
+    # Assume that if gtk and glib were found, the other
+    # supporting libraries have also been found.
+
+    SET( GTK_FOUND "YES" )
+    SET( GTK_INCLUDE_DIR  ${GTK_gtk_INCLUDE_PATH}
+                           ${GTK_glibconfig_INCLUDE_PATH}
+                           ${GTK_glib_INCLUDE_PATH} )
+    SET( GTK_LIBRARIES  ${GTK_gtk_LIBRARY}
+                        ${GTK_gdk_LIBRARY}
+                        ${GTK_glib_LIBRARY} )
+
+    IF(GTK_gmodule_LIBRARY)
+      SET(GTK_LIBRARIES ${GTK_LIBRARIES} ${GTK_gmodule_LIBRARY})
+    ENDIF(GTK_gmodule_LIBRARY)
+    IF(GTK_gthread_LIBRARY)
+      SET(GTK_LIBRARIES ${GTK_LIBRARIES} ${GTK_gthread_LIBRARY})
+    ENDIF(GTK_gthread_LIBRARY)
+    IF(GTK_Xi_LIBRARY)
+      SET(GTK_LIBRARIES ${GTK_LIBRARIES} ${GTK_Xi_LIBRARY})
+    ENDIF(GTK_Xi_LIBRARY)
+
+  IF(GTK_gtkgl_INCLUDE_PATH)
+  IF(GTK_gtkgl_LIBRARY)
+    SET( GTK_GL_FOUND "YES" )
+    SET( GTK_INCLUDE_DIR  ${GTK_INCLUDE_DIR}
+                           ${GTK_gtkgl_INCLUDE_PATH} )
+    SET( GTK_LIBRARIES  ${GTK_gtkgl_LIBRARY} ${GTK_LIBRARIES} )
+    MARK_AS_ADVANCED(
+      GTK_gtkgl_LIBRARY
+      GTK_gtkgl_INCLUDE_PATH
+      )
+  ENDIF(GTK_gtkgl_LIBRARY)
+  ENDIF(GTK_gtkgl_INCLUDE_PATH)
+
+  ENDIF(GTK_glib_LIBRARY)
+  ENDIF(GTK_gtk_LIBRARY)
+  ENDIF(GTK_glib_INCLUDE_PATH) 
+  ENDIF(GTK_glibconfig_INCLUDE_PATH)
+  ENDIF(GTK_gtk_INCLUDE_PATH)
+
+  MARK_AS_ADVANCED(
+    GTK_gdk_LIBRARY
+    GTK_glib_INCLUDE_PATH
+    GTK_glib_LIBRARY
+    GTK_glibconfig_INCLUDE_PATH
+    GTK_gmodule_LIBRARY
+    GTK_gthread_LIBRARY
+    GTK_Xi_LIBRARY
+    GTK_gtk_INCLUDE_PATH
+    GTK_gtk_LIBRARY
+    GTK_gtkgl_INCLUDE_PATH
+    GTK_gtkgl_LIBRARY
+  )
+
+ENDIF(UNIX)
+

Added: branches/avidemux_2.4_branch/cmake/FindLibXml2.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/FindLibXml2.cmake	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/cmake/FindLibXml2.cmake	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,59 @@
+# - Try to find LibXml2
+# Once done this will define
+#
+#  LIBXML2_FOUND - system has LibXml2
+#  LIBXML2_INCLUDE_DIR - the LibXml2 include directory
+#  LIBXML2_LIBRARIES - the libraries needed to use LibXml2
+#  LIBXML2_DEFINITIONS - Compiler switches required for using LibXml2
+#
+# Copyright (c) 2006, Alexander Neundorf <neundorf at kde.org>
+# This code is available under the BSD license, see licenses/BSD for details.
+
+# Copyright (c) 2006, Alexander Neundorf, <neundorf at kde.org>
+#
+# Redistribution and use is allowed according to the terms of the BSD license.
+# For details see the accompanying COPYING-CMAKE-SCRIPTS file.
+
+
+IF (LIBXML2_INCLUDE_DIR AND LIBXML2_LIBRARIES)
+   # in cache already
+   SET(LibXml2_FIND_QUIETLY TRUE)
+ENDIF (LIBXML2_INCLUDE_DIR AND LIBXML2_LIBRARIES)
+
+IF (NOT WIN32)
+   # use pkg-config to get the directories and then use these values
+   # in the FIND_PATH() and FIND_LIBRARY() calls
+   INCLUDE(UsePkgConfig)
+   PKGCONFIG(libxml-2.0 _LibXml2IncDir _LibXml2LinkDir _LibXml2LinkFlags _LibXml2Cflags)
+   SET(LIBXML2_DEFINITIONS ${_LibXml2Cflags})
+ENDIF (NOT WIN32)
+
+FIND_PATH(LIBXML2_INCLUDE_DIR libxml/xpath.h
+   PATHS
+   ${_LibXml2IncDir}
+   PATH_SUFFIXES libxml2
+   )
+
+FIND_LIBRARY(LIBXML2_LIBRARIES NAMES xml2 libxml2
+   PATHS
+   ${_LibXml2LinkDir}
+   )
+
+IF (LIBXML2_INCLUDE_DIR AND LIBXML2_LIBRARIES)
+   SET(LIBXML2_FOUND TRUE)
+ELSE (LIBXML2_INCLUDE_DIR AND LIBXML2_LIBRARIES)
+   SET(LIBXML2_FOUND FALSE)
+ENDIF (LIBXML2_INCLUDE_DIR AND LIBXML2_LIBRARIES)
+
+IF (LIBXML2_FOUND)
+   IF (NOT LibXml2_FIND_QUIETLY)
+      MESSAGE(STATUS "Found LibXml2: ${LIBXML2_LIBRARIES}")
+   ENDIF (NOT LibXml2_FIND_QUIETLY)
+ELSE (LIBXML2_FOUND)
+   IF (LibXml2_FIND_REQUIRED)
+      MESSAGE(SEND_ERROR "Could NOT find LibXml2")
+   ENDIF (LibXml2_FIND_REQUIRED)
+ENDIF (LIBXML2_FOUND)
+
+MARK_AS_ADVANCED(LIBXML2_INCLUDE_DIR LIBXML2_LIBRARIES)
+

Added: branches/avidemux_2.4_branch/cmake/FindQT4.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/FindQT4.cmake	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/cmake/FindQT4.cmake	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,1201 @@
+# - Find QT 4
+# This module can be used to find Qt4.
+# The most important issue is that the Qt4 qmake is available via the system path.
+# This qmake is then used to detect basically everything else.
+# This module defines a number of key variables and macros. First is 
+# QT_USE_FILE which is the path to a CMake file that can be included to compile
+# Qt 4 applications and libraries.  By default, the QtCore and QtGui 
+# libraries are loaded. This behavior can be changed by setting one or more 
+# of the following variables to true:
+#                    QT_DONT_USE_QTCORE
+#                    QT_DONT_USE_QTGUI
+#                    QT_USE_QT3SUPPORT
+#                    QT_USE_QTASSISTANT
+#                    QT_USE_QTDESIGNER
+#                    QT_USE_QTMOTIF
+#                    QT_USE_QTMAIN
+#                    QT_USE_QTNETWORK
+#                    QT_USE_QTNSPLUGIN
+#                    QT_USE_QTOPENGL
+#                    QT_USE_QTSQL
+#                    QT_USE_QTXML
+#                    QT_USE_QTSVG
+#                    QT_USE_QTTEST
+#                    QT_USE_QTUITOOLS
+#                    QT_USE_QTDBUS
+#
+# All the libraries required are stored in a variable called QT_LIBRARIES.  
+# Add this variable to your TARGET_LINK_LIBRARIES.
+#  
+#  macro QT4_WRAP_CPP(outfiles inputfile ... )
+#  macro QT4_WRAP_UI(outfiles inputfile ... )
+#  macro QT4_ADD_RESOURCE(outfiles inputfile ... )
+#  macro QT4_AUTOMOC(inputfile ... )
+#  macro QT4_GENERATE_MOC(inputfile outputfile )
+#
+#  macro QT4_ADD_DBUS_INTERFACE(outfiles interface basename)
+#        create a the interface header and implementation files with the 
+#        given basename from the given interface xml file and add it to 
+#        the list of sources
+#
+#  macro QT4_ADD_DBUS_INTERFACES(outfiles inputfile ... )
+#        create the interface header and implementation files 
+#        for all listed interface xml files
+#        the name will be automatically determined from the name of the xml file
+#
+#  macro QT4_ADD_DBUS_INTERFACE_NO_NAMESPACE(outfiles interface basename)
+#        create a the interface without namespace header and implementation files with the
+#        given basename from the given interface xml file and add it to
+#        the list of sources
+#
+#  macro QT4_ADD_DBUS_INTERFACES_NO_NAMESPACE(outfiles inputfile ... )
+#        create the interface header without namespace and implementation files
+#        for all listed interface xml files
+#        the name will be automatically determined from the name of the xml file
+#
+#  macro QT4_ADD_DBUS_ADAPTOR(outfiles xmlfile parentheader parentclassname [basename] )
+#        create a dbus adaptor (header and implementation file) from the xml file
+#        describing the interface, and add it to the list of sources. The adaptor
+#        forwards the calls to a parent class, defined in parentheader and named
+#        parentclassname. The name of the generated files will be
+#        <basename>adaptor.{cpp,h} where basename is the basename of the xml file.
+#
+#  macro QT4_GENERATE_DBUS_INTERFACE( header [interfacename] )
+#        generate the xml interface file from the given header.
+#        If the optional argument interfacename is omitted, the name of the 
+#        interface file is constructed from the basename of the header with
+#        the suffix .xml appended.
+#
+#  QT_FOUND         If false, don't try to use Qt.
+#  QT4_FOUND        If false, don't try to use Qt 4.
+#
+#  QT_QTCORE_FOUND        True if QtCore was found.
+#  QT_QTGUI_FOUND         True if QtGui was found.
+#  QT_QT3SUPPORT_FOUND    True if Qt3Support was found.
+#  QT_QTASSISTANT_FOUND   True if QtAssistant was found.
+#  QT_QTDBUS_FOUND        True if QtDBus was found.
+#  QT_QTDESIGNER_FOUND    True if QtDesigner was found.
+#  QT_QTDESIGNERCOMPONENTS True if QtDesignerComponents was found.
+#  QT_QTMOTIF_FOUND       True if QtMotif was found.
+#  QT_QTNETWORK_FOUND     True if QtNetwork was found.
+#  QT_QTNSPLUGIN_FOUND    True if QtNsPlugin was found.
+#  QT_QTOPENGL_FOUND      True if QtOpenGL was found.
+#  QT_QTSQL_FOUND         True if QtSql was found.
+#  QT_QTXML_FOUND         True if QtXml was found.
+#  QT_QTSVG_FOUND         True if QtSvg was found.
+#  QT_QTSCRIPT_FOUND      True if QtScript was found.
+#  QT_QTTEST_FOUND        True if QtTest was found.
+#  QT_QTUITOOLS_FOUND     True if QtUiTools was found.
+#                      
+#  QT_DEFINITIONS   Definitions to use when compiling code that uses Qt.
+#                  
+#  QT_INCLUDES      List of paths to all include directories of 
+#                   Qt4 QT_INCLUDE_DIR and QT_QTCORE_INCLUDE_DIR are
+#                   always in this variable even if NOTFOUND,
+#                   all other INCLUDE_DIRS are
+#                   only added if they are found.
+#   
+#  QT_INCLUDE_DIR              Path to "include" of Qt4
+#  QT_QT_INCLUDE_DIR           Path to "include/Qt" 
+#  QT_QT3SUPPORT_INCLUDE_DIR   Path to "include/Qt3Support" 
+#  QT_QTASSISTANT_INCLUDE_DIR  Path to "include/QtAssistant" 
+#  QT_QTCORE_INCLUDE_DIR       Path to "include/QtCore"         
+#  QT_QTDESIGNER_INCLUDE_DIR   Path to "include/QtDesigner" 
+#  QT_QTDESIGNERCOMPONENTS_INCLUDE_DIR   Path to "include/QtDesigner"
+#  QT_QTDBUS_INCLUDE_DIR       Path to "include/QtDBus" 
+#  QT_QTGUI_INCLUDE_DIR        Path to "include/QtGui" 
+#  QT_QTMOTIF_INCLUDE_DIR      Path to "include/QtMotif" 
+#  QT_QTNETWORK_INCLUDE_DIR    Path to "include/QtNetwork" 
+#  QT_QTNSPLUGIN_INCLUDE_DIR   Path to "include/QtNsPlugin" 
+#  QT_QTOPENGL_INCLUDE_DIR     Path to "include/QtOpenGL" 
+#  QT_QTSQL_INCLUDE_DIR        Path to "include/QtSql" 
+#  QT_QTXML_INCLUDE_DIR        Path to "include/QtXml" 
+#  QT_QTSVG_INCLUDE_DIR        Path to "include/QtSvg"
+#  QT_QTSCRIPT_INCLUDE_DIR     Path to "include/QtScript"
+#  QT_QTTEST_INCLUDE_DIR       Path to "include/QtTest"
+#                            
+#  QT_LIBRARY_DIR              Path to "lib" of Qt4
+# 
+#  QT_PLUGINS_DIR              Path to "plugins" for Qt4
+#                            
+# For every library of Qt, a QT_QTFOO_LIBRARY variable is defined, with the full path to the library.
+#
+# So there are the following variables:
+# The Qt3Support library:     QT_QT3SUPPORT_LIBRARY
+#
+# The QtAssistant library:    QT_QTASSISTANT_LIBRARY
+#
+# The QtCore library:         QT_QTCORE_LIBRARY
+#
+# The QtDBus library:         QT_QTDBUS_LIBRARY
+#
+# The QtDesigner library:     QT_QTDESIGNER_LIBRARY
+#
+# The QtDesignerComponents library:     QT_QTDESIGNERCOMPONENTS_LIBRARY
+#
+# The QtGui library:          QT_QTGUI_LIBRARY
+#
+# The QtMotif library:        QT_QTMOTIF_LIBRARY
+#
+# The QtNetwork library:      QT_QTNETWORK_LIBRARY
+#
+# The QtNsPLugin library:     QT_QTNSPLUGIN_LIBRARY
+#
+# The QtOpenGL library:       QT_QTOPENGL_LIBRARY
+#
+# The QtSql library:          QT_QTSQL_LIBRARY
+#
+# The QtXml library:          QT_QTXML_LIBRARY
+#
+# The QtSvg library:          QT_QTSVG_LIBRARY
+#
+# The QtScript library:       QT_QTSCRIPT_LIBRARY
+#
+# The QtTest library:         QT_QTTEST_LIBRARY
+#
+# The qtmain library for Windows QT_QTMAIN_LIBRARY
+#
+# The QtUiTools library:      QT_QTUITOOLS_LIBRARY
+#  
+# also defined, but NOT for general use are
+#  QT_MOC_EXECUTABLE          Where to find the moc tool.
+#  QT_UIC_EXECUTABLE          Where to find the uic tool.
+#  QT_UIC3_EXECUTABLE         Where to find the uic3 tool.
+#  QT_RCC_EXECUTABLE          Where to find the rcc tool
+#  QT_DBUSCPP2XML_EXECUTABLE  Where to find the qdbuscpp2xml tool.
+#  QT_DBUSXML2CPP_EXECUTABLE  Where to find the qdbusxml2cpp tool.
+#  
+#  QT_DOC_DIR                 Path to "doc" of Qt4
+#  QT_MKSPECS_DIR             Path to "mkspecs" of Qt4
+#
+#
+# These are around for backwards compatibility 
+# they will be set
+#  QT_WRAP_CPP  Set true if QT_MOC_EXECUTABLE is found
+#  QT_WRAP_UI   Set true if QT_UIC_EXECUTABLE is found
+#  
+# These variables do _NOT_ have any effect anymore (compared to FindQt.cmake)
+#  QT_MT_REQUIRED         Qt4 is now always multithreaded
+#  
+# These variables are set to "" Because Qt structure changed 
+# (They make no sense in Qt4)
+#  QT_QT_LIBRARY        Qt-Library is now split
+
+# Copyright (c) 2002 Kitware, Inc., Insight Consortium.  All rights reserved.
+# See Copyright.txt or http://www.cmake.org/HTML/Copyright.html for details.
+
+
+INCLUDE(CheckSymbolExists)
+INCLUDE(MacroAddFileDependencies)
+
+SET(QT_USE_FILE ${CMAKE_ROOT}/Modules/UseQt4.cmake)
+
+SET( QT_DEFINITIONS "")
+
+IF (WIN32)
+  SET(QT_DEFINITIONS -DQT_DLL)
+ENDIF(WIN32)
+
+SET(QT4_INSTALLED_VERSION_TOO_OLD FALSE)
+
+#  macro for asking qmake to process pro files
+MACRO(QT_QUERY_QMAKE outvar invar)
+  FILE(WRITE ${CMAKE_CURRENT_BINARY_DIR}${CMAKE_FILES_DIRECTORY}/CMakeTmpQmake/tmp.pro
+    "message(CMAKE_MESSAGE<$$${invar}>)")
+
+  EXECUTE_PROCESS(COMMAND ${QT_QMAKE_EXECUTABLE}
+    WORKING_DIRECTORY  
+    ${CMAKE_CURRENT_BINARY_DIR}${CMAKE_FILES_DIRECTORY}/CMakeTmpQmake
+    OUTPUT_VARIABLE _qmake_query_output
+    ERROR_VARIABLE _qmake_query_output )
+
+  FILE(REMOVE_RECURSE 
+    "${CMAKE_CURRENT_BINARY_DIR}${CMAKE_FILES_DIRECTORY}/CMakeTmpQmake")
+
+  STRING(REGEX REPLACE ".*CMAKE_MESSAGE<([^>]*).*" "\\1" ${outvar} "${_qmake_query_output}")
+ENDMACRO(QT_QUERY_QMAKE)
+
+# check for qmake
+FIND_PROGRAM(QT_QMAKE_EXECUTABLE NAMES qmake qmake4 qmake-qt4 PATHS
+  "[HKEY_CURRENT_USER\\Software\\Trolltech\\Qt3Versions\\4.0.0;InstallDir]/bin"
+  "[HKEY_CURRENT_USER\\Software\\Trolltech\\Versions\\4.0.0;InstallDir]/bin"
+  $ENV{QTDIR}/bin
+)
+
+IF (QT_QMAKE_EXECUTABLE)
+
+  SET(QT4_QMAKE_FOUND FALSE)
+  
+  EXEC_PROGRAM(${QT_QMAKE_EXECUTABLE} ARGS "-query QT_VERSION" OUTPUT_VARIABLE QTVERSION)
+
+  # check for qt3 qmake and then try and find qmake4 or qmake-qt4 in the path
+  IF("${QTVERSION}" MATCHES "Unknown")
+    SET(QT_QMAKE_EXECUTABLE NOTFOUND CACHE FILEPATH "" FORCE)
+    FIND_PROGRAM(QT_QMAKE_EXECUTABLE NAMES qmake4 qmake-qt4 PATHS
+      "[HKEY_CURRENT_USER\\Software\\Trolltech\\Qt3Versions\\4.0.0;InstallDir]/bin"
+      "[HKEY_CURRENT_USER\\Software\\Trolltech\\Versions\\4.0.0;InstallDir]/bin"
+      $ENV{QTDIR}/bin
+      )
+    IF(QT_QMAKE_EXECUTABLE)
+      EXEC_PROGRAM(${QT_QMAKE_EXECUTABLE} 
+        ARGS "-query QT_VERSION" OUTPUT_VARIABLE QTVERSION)
+    ENDIF(QT_QMAKE_EXECUTABLE)
+  ENDIF("${QTVERSION}" MATCHES "Unknown")
+
+  # check that we found the Qt4 qmake, Qt3 qmake output won't match here
+  STRING(REGEX MATCH "^[0-9]+\\.[0-9]+\\.[0-9]+" qt_version_tmp "${QTVERSION}")
+  IF (qt_version_tmp)
+
+    # we need at least version 4.0.0
+    IF (NOT QT_MIN_VERSION)
+      SET(QT_MIN_VERSION "4.0.0")
+    ENDIF (NOT QT_MIN_VERSION)
+
+    #now parse the parts of the user given version string into variables
+    STRING(REGEX MATCH "^[0-9]+\\.[0-9]+\\.[0-9]+" req_qt_major_vers "${QT_MIN_VERSION}")
+    IF (NOT req_qt_major_vers)
+      MESSAGE( FATAL_ERROR "Invalid Qt version string given: \"${QT_MIN_VERSION}\", expected e.g. \"4.0.1\"")
+    ENDIF (NOT req_qt_major_vers)
+
+    # now parse the parts of the user given version string into variables
+    STRING(REGEX REPLACE "^([0-9]+)\\.[0-9]+\\.[0-9]+" "\\1" req_qt_major_vers "${QT_MIN_VERSION}")
+    STRING(REGEX REPLACE "^[0-9]+\\.([0-9])+\\.[0-9]+" "\\1" req_qt_minor_vers "${QT_MIN_VERSION}")
+    STRING(REGEX REPLACE "^[0-9]+\\.[0-9]+\\.([0-9]+)" "\\1" req_qt_patch_vers "${QT_MIN_VERSION}")
+
+    IF (NOT req_qt_major_vers EQUAL 4)
+      MESSAGE( FATAL_ERROR "Invalid Qt version string given: \"${QT_MIN_VERSION}\", major version 4 is required, e.g. \"4.0.1\"")
+    ENDIF (NOT req_qt_major_vers EQUAL 4)
+
+    # and now the version string given by qmake
+    STRING(REGEX REPLACE "^([0-9]+)\\.[0-9]+\\.[0-9]+.*" "\\1" found_qt_major_vers "${QTVERSION}")
+    STRING(REGEX REPLACE "^[0-9]+\\.([0-9])+\\.[0-9]+.*" "\\1" found_qt_minor_vers "${QTVERSION}")
+    STRING(REGEX REPLACE "^[0-9]+\\.[0-9]+\\.([0-9]+).*" "\\1" found_qt_patch_vers "${QTVERSION}")
+
+    # compute an overall version number which can be compared at once
+    MATH(EXPR req_vers "${req_qt_major_vers}*10000 + ${req_qt_minor_vers}*100 + ${req_qt_patch_vers}")
+    MATH(EXPR found_vers "${found_qt_major_vers}*10000 + ${found_qt_minor_vers}*100 + ${found_qt_patch_vers}")
+
+    IF (found_vers LESS req_vers)
+      SET(QT4_QMAKE_FOUND FALSE)
+      SET(QT4_INSTALLED_VERSION_TOO_OLD TRUE)
+    ELSE (found_vers LESS req_vers)
+      SET(QT4_QMAKE_FOUND TRUE)
+    ENDIF (found_vers LESS req_vers)
+  ENDIF (qt_version_tmp)
+
+ENDIF (QT_QMAKE_EXECUTABLE)
+
+IF (QT4_QMAKE_FOUND)
+
+  # ask qmake for the library dir
+  # Set QT_LIBRARY_DIR
+  IF (NOT QT_LIBRARY_DIR)
+    EXEC_PROGRAM( ${QT_QMAKE_EXECUTABLE}
+      ARGS "-query QT_INSTALL_LIBS"
+      OUTPUT_VARIABLE QT_LIBRARY_DIR_TMP )
+    IF(EXISTS "${QT_LIBRARY_DIR_TMP}")
+      SET(QT_LIBRARY_DIR ${QT_LIBRARY_DIR_TMP} CACHE PATH "Qt library dir")
+    ELSE(EXISTS "${QT_LIBRARY_DIR_TMP}")
+      MESSAGE("Warning: QT_QMAKE_EXECUTABLE reported QT_INSTALL_LIBS as ${QT_LIBRARY_DIR_TMP}")
+      MESSAGE("Warning: ${QT_LIBRARY_DIR_TMP} does NOT exist, Qt must NOT be installed correctly.")
+    ENDIF(EXISTS "${QT_LIBRARY_DIR_TMP}")
+  ENDIF(NOT QT_LIBRARY_DIR)
+  
+  IF (APPLE)
+    IF (EXISTS ${QT_LIBRARY_DIR}/QtCore.framework)
+      SET(QT_USE_FRAMEWORKS ON
+        CACHE BOOL "Set to ON if Qt build uses frameworks.")
+    ELSE (EXISTS ${QT_LIBRARY_DIR}/QtCore.framework)
+      SET(QT_USE_FRAMEWORKS OFF
+        CACHE BOOL "Set to ON if Qt build uses frameworks.")
+    ENDIF (EXISTS ${QT_LIBRARY_DIR}/QtCore.framework)
+    
+    MARK_AS_ADVANCED(QT_USE_FRAMEWORKS)
+  ENDIF (APPLE)
+  
+  # ask qmake for the binary dir
+  IF (NOT QT_BINARY_DIR)
+     EXEC_PROGRAM(${QT_QMAKE_EXECUTABLE}
+        ARGS "-query QT_INSTALL_BINS"
+        OUTPUT_VARIABLE qt_bins )
+     SET(QT_BINARY_DIR ${qt_bins} CACHE INTERNAL "")
+  ENDIF (NOT QT_BINARY_DIR)
+
+  # ask qmake for the include dir
+  IF (NOT QT_HEADERS_DIR)
+      EXEC_PROGRAM( ${QT_QMAKE_EXECUTABLE}
+        ARGS "-query QT_INSTALL_HEADERS" 
+        OUTPUT_VARIABLE qt_headers )
+      SET(QT_HEADERS_DIR ${qt_headers} CACHE INTERNAL "")
+  ENDIF(NOT QT_HEADERS_DIR)
+
+
+  # ask qmake for the documentation directory
+  IF (NOT QT_DOC_DIR)
+    EXEC_PROGRAM( ${QT_QMAKE_EXECUTABLE}
+      ARGS "-query QT_INSTALL_DOCS"
+      OUTPUT_VARIABLE qt_doc_dir )
+    SET(QT_DOC_DIR ${qt_doc_dir} CACHE PATH "The location of the Qt docs")
+  ENDIF (NOT QT_DOC_DIR)
+
+  # ask qmake for the mkspecs directory
+  IF (NOT QT_MKSPECS_DIR)
+    EXEC_PROGRAM( ${QT_QMAKE_EXECUTABLE}
+      ARGS "-query QMAKE_MKSPECS"
+      OUTPUT_VARIABLE qt_mkspecs_dir )
+    SET(QT_MKSPECS_DIR ${qt_mkspecs_dir} CACHE PATH "The location of the Qt mkspecs")
+  ENDIF (NOT QT_MKSPECS_DIR)
+
+  # ask qmake for the plugins directory
+  IF (NOT QT_PLUGINS_DIR)
+    EXEC_PROGRAM( ${QT_QMAKE_EXECUTABLE}
+      ARGS "-query QT_INSTALL_PLUGINS"
+      OUTPUT_VARIABLE qt_plugins_dir )
+    SET(QT_PLUGINS_DIR ${qt_plugins_dir} CACHE PATH "The location of the Qt plugins")
+  ENDIF (NOT QT_PLUGINS_DIR)
+  ########################################
+  #
+  #       Setting the INCLUDE-Variables
+  #
+  ########################################
+
+  FIND_PATH(QT_QTCORE_INCLUDE_DIR QtGlobal
+    ${QT_HEADERS_DIR}/QtCore
+    ${QT_LIBRARY_DIR}/QtCore.framework/Headers
+    NO_DEFAULT_PATH
+    )
+
+  # Set QT_INCLUDE_DIR by removine "/QtCore" in the string ${QT_QTCORE_INCLUDE_DIR}
+  IF( QT_QTCORE_INCLUDE_DIR AND NOT QT_INCLUDE_DIR)
+    IF (QT_USE_FRAMEWORKS)
+      SET(QT_INCLUDE_DIR ${QT_HEADERS_DIR})
+    ELSE (QT_USE_FRAMEWORKS)
+      STRING( REGEX REPLACE "/QtCore$" "" qt4_include_dir ${QT_QTCORE_INCLUDE_DIR})
+      SET( QT_INCLUDE_DIR ${qt4_include_dir} CACHE PATH "")
+    ENDIF (QT_USE_FRAMEWORKS)
+  ENDIF( QT_QTCORE_INCLUDE_DIR AND NOT QT_INCLUDE_DIR)
+
+  IF( NOT QT_INCLUDE_DIR)
+    IF( NOT Qt4_FIND_QUIETLY AND Qt4_FIND_REQUIRED)
+      MESSAGE( FATAL_ERROR "Could NOT find QtGlobal header")
+    ENDIF( NOT Qt4_FIND_QUIETLY AND Qt4_FIND_REQUIRED)
+  ENDIF( NOT QT_INCLUDE_DIR)
+
+  #############################################
+  #
+  # Find out what window system we're using
+  #
+  #############################################
+  # Save required includes variable
+  SET(CMAKE_REQUIRED_INCLUDES_SAVE ${CMAKE_REQUIRED_INCLUDES})
+  # Add QT_INCLUDE_DIR to CMAKE_REQUIRED_INCLUDES
+  SET(CMAKE_REQUIRED_INCLUDES "${CMAKE_REQUIRED_INCLUDES};${QT_INCLUDE_DIR}")
+  # Check for Window system symbols (note: only one should end up being set)
+  CHECK_SYMBOL_EXISTS(Q_WS_X11 "QtCore/qglobal.h" Q_WS_X11)
+  CHECK_SYMBOL_EXISTS(Q_WS_MAC "QtCore/qglobal.h" Q_WS_MAC)
+  CHECK_SYMBOL_EXISTS(Q_WS_WIN "QtCore/qglobal.h" Q_WS_WIN)
+
+  IF (QT_QTCOPY_REQUIRED)
+     CHECK_SYMBOL_EXISTS(QT_IS_QTCOPY "QtCore/qglobal.h" QT_KDE_QT_COPY)
+     IF (NOT QT_IS_QTCOPY)
+        MESSAGE(FATAL_ERROR "qt-copy is required, but hasn't been found")
+     ENDIF (NOT QT_IS_QTCOPY)
+  ENDIF (QT_QTCOPY_REQUIRED)
+
+  # Restore CMAKE_REQUIRED_INCLUDES variable
+  SET(CMAKE_REQUIRED_INCLUDES ${CMAKE_REQUIRED_INCLUDES_SAVE})
+  #
+  #############################################
+
+  IF (QT_USE_FRAMEWORKS)
+    SET(QT_DEFINITIONS ${QT_DEFINITIONS} -F${QT_LIBRARY_DIR} -L${QT_LIBRARY_DIR} )
+  ENDIF (QT_USE_FRAMEWORKS)
+
+  # Set QT_QT3SUPPORT_INCLUDE_DIR
+  FIND_PATH(QT_QT3SUPPORT_INCLUDE_DIR Qt3Support
+    PATHS
+    ${QT_INCLUDE_DIR}/Qt3Support
+    ${QT_LIBRARY_DIR}/Qt3Support.framework/Headers
+    NO_DEFAULT_PATH
+    )
+
+  # Set QT_QT_INCLUDE_DIR
+  FIND_PATH(QT_QT_INCLUDE_DIR qglobal.h
+    PATHS
+    ${QT_INCLUDE_DIR}/Qt
+    ${QT_LIBRARY_DIR}/QtCore.framework/Headers
+    NO_DEFAULT_PATH
+    )
+
+  # Set QT_QTGUI_INCLUDE_DIR
+  FIND_PATH(QT_QTGUI_INCLUDE_DIR QtGui
+    PATHS
+    ${QT_INCLUDE_DIR}/QtGui
+    ${QT_LIBRARY_DIR}/QtGui.framework/Headers
+    NO_DEFAULT_PATH
+    )
+
+  # Set QT_QTSVG_INCLUDE_DIR
+  FIND_PATH(QT_QTSVG_INCLUDE_DIR QtSvg
+    PATHS
+    ${QT_INCLUDE_DIR}/QtSvg
+    ${QT_LIBRARY_DIR}/QtSvg.framework/Headers
+    NO_DEFAULT_PATH
+    )
+
+  # Set QT_QTSVG_INCLUDE_DIR
+  FIND_PATH(QT_QTSCRIPT_INCLUDE_DIR QtScript
+    PATHS
+    ${QT_INCLUDE_DIR}/QtScript
+    ${QT_LIBRARY_DIR}/QtScript.framework/Headers
+    NO_DEFAULT_PATH
+    )
+
+  # Set QT_QTTEST_INCLUDE_DIR
+  FIND_PATH(QT_QTTEST_INCLUDE_DIR QtTest
+    PATHS
+    ${QT_INCLUDE_DIR}/QtTest
+    ${QT_LIBRARY_DIR}/QtTest.framework/Headers
+    NO_DEFAULT_PATH
+    )
+
+  # Set QT_QTUITOOLS_INCLUDE_DIR
+  FIND_PATH(QT_QTUITOOLS_INCLUDE_DIR QtUiTools
+    PATHS
+    ${QT_INCLUDE_DIR}/QtUiTools
+    ${QT_LIBRARY_DIR}/QtUiTools.framework/Headers
+    NO_DEFAULT_PATH
+    )
+
+
+
+  # Set QT_QTMOTIF_INCLUDE_DIR
+  IF(Q_WS_X11)
+    FIND_PATH(QT_QTMOTIF_INCLUDE_DIR QtMotif PATHS ${QT_INCLUDE_DIR}/QtMotif NO_DEFAULT_PATH )
+  ENDIF(Q_WS_X11)
+
+  # Set QT_QTNETWORK_INCLUDE_DIR
+  FIND_PATH(QT_QTNETWORK_INCLUDE_DIR QtNetwork
+    PATHS
+    ${QT_INCLUDE_DIR}/QtNetwork
+    ${QT_LIBRARY_DIR}/QtNetwork.framework/Headers
+    NO_DEFAULT_PATH
+    )
+
+  # Set QT_QTNSPLUGIN_INCLUDE_DIR
+  FIND_PATH(QT_QTNSPLUGIN_INCLUDE_DIR QtNsPlugin
+    PATHS
+    ${QT_INCLUDE_DIR}/QtNsPlugin
+    ${QT_LIBRARY_DIR}/QtNsPlugin.framework/Headers
+    NO_DEFAULT_PATH
+    )
+
+  # Set QT_QTOPENGL_INCLUDE_DIR
+  FIND_PATH(QT_QTOPENGL_INCLUDE_DIR QtOpenGL
+    PATHS
+    ${QT_INCLUDE_DIR}/QtOpenGL
+    ${QT_LIBRARY_DIR}/QtOpenGL.framework/Headers
+    NO_DEFAULT_PATH
+    )
+
+  # Set QT_QTSQL_INCLUDE_DIR
+  FIND_PATH(QT_QTSQL_INCLUDE_DIR QtSql
+    PATHS
+    ${QT_INCLUDE_DIR}/QtSql
+    ${QT_LIBRARY_DIR}/QtSql.framework/Headers
+    NO_DEFAULT_PATH
+    )
+
+  # Set QT_QTXML_INCLUDE_DIR
+  FIND_PATH(QT_QTXML_INCLUDE_DIR QtXml
+    PATHS
+    ${QT_INCLUDE_DIR}/QtXml
+    ${QT_LIBRARY_DIR}/QtXml.framework/Headers
+    NO_DEFAULT_PATH
+    )
+
+  # Set QT_QTASSISTANT_INCLUDE_DIR
+  FIND_PATH(QT_QTASSISTANT_INCLUDE_DIR QtAssistant
+    PATHS
+    ${QT_INCLUDE_DIR}/QtAssistant
+    ${QT_HEADERS_DIR}/QtAssistant
+    NO_DEFAULT_PATH
+    )
+
+  # Set QT_QTDESIGNER_INCLUDE_DIR
+  FIND_PATH(QT_QTDESIGNER_INCLUDE_DIR QDesignerComponents
+    PATHS
+    ${QT_INCLUDE_DIR}/QtDesigner
+    ${QT_HEADERS_DIR}/QtDesigner
+    NO_DEFAULT_PATH
+    )
+
+  # Set QT_QTDESIGNERCOMPONENTS_INCLUDE_DIR
+  FIND_PATH(QT_QTDESIGNERCOMPONENTS_INCLUDE_DIR QDesignerComponents
+    PATHS
+    ${QT_INCLUDE_DIR}/QtDesigner
+    ${QT_HEADERS_DIR}/QtDesigner
+    NO_DEFAULT_PATH
+    )
+
+
+  # Set QT_QTDBUS_INCLUDE_DIR
+  FIND_PATH(QT_QTDBUS_INCLUDE_DIR QtDBus
+    PATHS
+    ${QT_INCLUDE_DIR}/QtDBus
+    ${QT_HEADERS_DIR}/QtDBus
+    NO_DEFAULT_PATH
+    )
+
+  # Make variables changeble to the advanced user
+  MARK_AS_ADVANCED( QT_LIBRARY_DIR QT_INCLUDE_DIR QT_QT_INCLUDE_DIR QT_DOC_DIR QT_MKSPECS_DIR QT_PLUGINS_DIR)
+
+  # Set QT_INCLUDES
+  SET( QT_INCLUDES ${QT_INCLUDE_DIR} ${QT_QT_INCLUDE_DIR} ${QT_MKSPECS_DIR}/default )
+
+
+  ########################################
+  #
+  #       Setting the LIBRARY-Variables
+  #
+  ########################################
+
+  IF (QT_USE_FRAMEWORKS)
+    # If FIND_LIBRARY found libraries in Apple frameworks, we would NOT have
+    # to jump through these hoops.
+    IF(EXISTS ${QT_LIBRARY_DIR}/QtCore.framework)
+      SET(QT_QTCORE_FOUND TRUE)
+      SET(QT_QTCORE_LIBRARY "-F${QT_LIBRARY_DIR} -framework QtCore" CACHE STRING "The QtCore library.")
+    ELSE(EXISTS ${QT_LIBRARY_DIR}/QtCore.framework)
+      SET(QT_QTCORE_FOUND FALSE)
+    ENDIF(EXISTS ${QT_LIBRARY_DIR}/QtCore.framework)
+
+    IF(EXISTS ${QT_LIBRARY_DIR}/QtGui.framework)
+      SET(QT_QTGUI_FOUND TRUE)
+      SET(QT_QTGUI_LIBRARY "-F${QT_LIBRARY_DIR} -framework QtGui" CACHE STRING "The QtGui library.")
+    ELSE(EXISTS ${QT_LIBRARY_DIR}/QtGui.framework)
+      SET(QT_QTGUI_FOUND FALSE)
+    ENDIF(EXISTS ${QT_LIBRARY_DIR}/QtGui.framework)
+
+    IF(EXISTS ${QT_LIBRARY_DIR}/Qt3Support.framework)
+      SET(QT_QT3SUPPORT_FOUND TRUE)
+      SET(QT_QT3SUPPORT_LIBRARY "-F${QT_LIBRARY_DIR} -framework Qt3Support" CACHE STRING "The Qt3Support library.")
+    ELSE(EXISTS ${QT_LIBRARY_DIR}/Qt3Support.framework)
+      SET(QT_QT3SUPPORT_FOUND FALSE)
+    ENDIF(EXISTS ${QT_LIBRARY_DIR}/Qt3Support.framework)
+
+    IF(EXISTS ${QT_LIBRARY_DIR}/QtNetwork.framework)
+      SET(QT_QTNETWORK_FOUND TRUE)
+      SET(QT_QTNETWORK_LIBRARY "-F${QT_LIBRARY_DIR} -framework QtNetwork" CACHE STRING "The QtNetwork library.")
+    ELSE(EXISTS ${QT_LIBRARY_DIR}/QtNetwork.framework)
+      SET(QT_QTNETWORK_FOUND FALSE)
+    ENDIF(EXISTS ${QT_LIBRARY_DIR}/QtNetwork.framework)
+
+    IF(EXISTS ${QT_LIBRARY_DIR}/QtOpenGL.framework)
+      SET(QT_QTOPENGL_FOUND TRUE)
+      SET(QT_QTOPENGL_LIBRARY "-F${QT_LIBRARY_DIR} -framework QtOpenGL" CACHE STRING "The QtOpenGL library.")
+    ELSE(EXISTS ${QT_LIBRARY_DIR}/QtOpenGL.framework)
+      SET(QT_QTOPENGL_FOUND FALSE)
+    ENDIF(EXISTS ${QT_LIBRARY_DIR}/QtOpenGL.framework)
+
+    IF(EXISTS ${QT_LIBRARY_DIR}/QtSql.framework)
+      SET(QT_QTSQL_FOUND TRUE)
+      SET(QT_QTSQL_LIBRARY "-F${QT_LIBRARY_DIR} -framework QtSql" CACHE STRING "The QtSql library.")
+    ELSE(EXISTS ${QT_LIBRARY_DIR}/QtSql.framework)
+      SET(QT_QTSQL_FOUND FALSE)
+    ENDIF(EXISTS ${QT_LIBRARY_DIR}/QtSql.framework)
+
+    IF(EXISTS ${QT_LIBRARY_DIR}/QtXml.framework)
+      SET(QT_QTXML_FOUND TRUE)
+      SET(QT_QTXML_LIBRARY "-F${QT_LIBRARY_DIR} -framework QtXml" CACHE STRING "The QtXml library.")
+    ELSE(EXISTS ${QT_LIBRARY_DIR}/QtXml.framework)
+      SET(QT_QTXML_FOUND FALSE)
+    ENDIF(EXISTS ${QT_LIBRARY_DIR}/QtXml.framework)
+
+    IF(EXISTS ${QT_LIBRARY_DIR}/QtSvg.framework)
+      SET(QT_QTSVG_FOUND TRUE)
+      SET(QT_QTSVG_LIBRARY "-F${QT_LIBRARY_DIR} -framework QtSvg" CACHE STRING "The QtSvg library.")
+    ELSE(EXISTS ${QT_LIBRARY_DIR}/QtSvg.framework)
+      SET(QT_QTSVG_FOUND FALSE)
+    ENDIF(EXISTS ${QT_LIBRARY_DIR}/QtSvg.framework)
+
+    IF(EXISTS ${QT_LIBRARY_DIR}/QtDBus.framework)
+      SET(QT_QTDBUS_FOUND TRUE)
+      SET(QT_QTDBUS_LIBRARY "-F${QT_LIBRARY_DIR} -framework QtDBus" CACHE STRING "The QtDBus library.")
+    ELSE(EXISTS ${QT_LIBRARY_DIR}/QtDBus.framework)
+      SET(QT_QTDBUS_FOUND FALSE)
+    ENDIF(EXISTS ${QT_LIBRARY_DIR}/QtDBus.framework)
+
+    IF(EXISTS ${QT_LIBRARY_DIR}/QtTest.framework)
+      SET(QT_QTTEST_FOUND TRUE)
+      SET(QT_QTTEST_LIBRARY "-F${QT_LIBRARY_DIR} -framework QtTest" CACHE STRING "The QtTest library.")
+    ELSE(EXISTS ${QT_LIBRARY_DIR}/QtTest.framework)
+      SET(QT_QTTEST_FOUND FALSE)
+    ENDIF(EXISTS ${QT_LIBRARY_DIR}/QtTest.framework)
+
+    # WTF?  why don't we have frameworks?  :P
+    # Set QT_QTUITOOLS_LIBRARY
+    FIND_LIBRARY(QT_QTUITOOLS_LIBRARY NAMES QtUiTools QtUiTools4 PATHS ${QT_LIBRARY_DIR} )
+    # Set QT_QTSCRIPT_LIBRARY
+    FIND_LIBRARY(QT_QTSCRIPT_LIBRARY NAMES QtScript QtScript4    PATHS ${QT_LIBRARY_DIR} )
+
+  ELSE (QT_USE_FRAMEWORKS)
+    
+    # Set QT_QTCORE_LIBRARY by searching for a lib with "QtCore."  as part of the filename
+    FIND_LIBRARY(QT_QTCORE_LIBRARY NAMES QtCore QtCore4          PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH )
+
+    # Set QT_QT3SUPPORT_LIBRARY
+    FIND_LIBRARY(QT_QT3SUPPORT_LIBRARY NAMES Qt3Support Qt3Support4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+
+    # Set QT_QTGUI_LIBRARY
+    FIND_LIBRARY(QT_QTGUI_LIBRARY NAMES QtGui QtGui4             PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+
+    # Set QT_QTMOTIF_LIBRARY
+    IF(Q_WS_X11)
+      FIND_LIBRARY(QT_QTMOTIF_LIBRARY NAMES QtMotif              PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+    ENDIF(Q_WS_X11)
+
+    # Set QT_QTNETWORK_LIBRARY
+    FIND_LIBRARY(QT_QTNETWORK_LIBRARY NAMES QtNetwork QtNetwork4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+
+    # Set QT_QTNSPLUGIN_LIBRARY
+    FIND_LIBRARY(QT_QTNSPLUGIN_LIBRARY NAMES QtNsPlugin          PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+
+    # Set QT_QTOPENGL_LIBRARY
+    FIND_LIBRARY(QT_QTOPENGL_LIBRARY NAMES QtOpenGL QtOpenGL4    PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+
+    # Set QT_QTSQL_LIBRARY
+    FIND_LIBRARY(QT_QTSQL_LIBRARY NAMES QtSql QtSql4             PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+
+    # Set QT_QTXML_LIBRARY
+    FIND_LIBRARY(QT_QTXML_LIBRARY NAMES QtXml QtXml4             PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+
+    # Set QT_QTSVG_LIBRARY
+    FIND_LIBRARY(QT_QTSVG_LIBRARY NAMES QtSvg QtSvg4             PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+
+    # Set QT_QTSCRIPT_LIBRARY
+    FIND_LIBRARY(QT_QTSCRIPT_LIBRARY NAMES QtScript QtScript4    PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+
+    # Set QT_QTUITOOLS_LIBRARY
+    FIND_LIBRARY(QT_QTUITOOLS_LIBRARY NAMES QtUiTools QtUiTools4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+
+    # Set QT_QTTEST_LIBRARY
+    FIND_LIBRARY(QT_QTTEST_LIBRARY NAMES QtTest QtTest4          PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+
+    FIND_LIBRARY(QT_QTDBUS_LIBRARY NAMES QtDBus QtDBus4          PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+
+    IF(MSVC)
+      FIND_LIBRARY(QT_QTCORE_LIBRARY_DEBUG      NAMES QtCored4            PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+      FIND_LIBRARY(QT_QT3SUPPORT_LIBRARY_DEBUG  NAMES Qt3Supportd4        PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+      FIND_LIBRARY(QT_QTGUI_LIBRARY_DEBUG       NAMES QtGuid4             PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+      FIND_LIBRARY(QT_QTNETWORK_LIBRARY_DEBUG   NAMES QtNetworkd4         PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+      FIND_LIBRARY(QT_QTOPENGL_LIBRARY_DEBUG    NAMES QtOpenGLd4          PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+      FIND_LIBRARY(QT_QTSQL_LIBRARY_DEBUG       NAMES QtSqld4             PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+      FIND_LIBRARY(QT_QTXML_LIBRARY_DEBUG       NAMES QtXmld4             PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+      FIND_LIBRARY(QT_QTSVG_LIBRARY_DEBUG       NAMES QtSvgd4             PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+      FIND_LIBRARY(QT_QTSCRIPT_LIBRARY_DEBUG    NAMES QtScriptd4          PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+      FIND_LIBRARY(QT_QTUITOOLS_LIBRARY_DEBUG   NAMES QtUiToolsd QtUiToolsd4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+      FIND_LIBRARY(QT_QTTEST_LIBRARY_DEBUG      NAMES QtTestd4            PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+      FIND_LIBRARY(QT_QTDBUS_LIBRARY_DEBUG      NAMES QtDBusd4            PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+      FIND_LIBRARY(QT_QTASSISTANT_LIBRARY_DEBUG NAMES QtAssistantClientd4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+      FIND_LIBRARY(QT_QTDESIGNER_LIBRARY_DEBUG           NAMES QtDesigner4            PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+      FIND_LIBRARY(QT_QTDESIGNERCOMPONENTS_LIBRARY_DEBUG NAMES QtDesignerComponentsd4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+      FIND_LIBRARY(QT_QTMAIN_LIBRARY_DEBUG      NAMES qtmaind             PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+    ENDIF(MSVC)
+
+  ENDIF (QT_USE_FRAMEWORKS)
+
+  IF( NOT QT_QTCORE_LIBRARY )
+    IF( NOT Qt4_FIND_QUIETLY AND Qt4_FIND_REQUIRED)
+      MESSAGE( FATAL_ERROR "Could NOT find QtCore. Check CMakeFiles/CMakeError.log for more details.")
+    ENDIF( NOT Qt4_FIND_QUIETLY AND Qt4_FIND_REQUIRED)
+  ENDIF( NOT QT_QTCORE_LIBRARY )
+
+  # Set QT_QTASSISTANT_LIBRARY
+  FIND_LIBRARY(QT_QTASSISTANT_LIBRARY NAMES QtAssistantClient QtAssistantClient4 QtAssistant QtAssistant4 PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+
+  # Set QT_QTDESIGNER_LIBRARY
+  FIND_LIBRARY(QT_QTDESIGNER_LIBRARY NAMES QtDesigner QtDesigner4 PATHS ${QT_LIBRARY_DIR}        NO_DEFAULT_PATH)
+
+  # Set QT_QTDESIGNERCOMPONENTS_LIBRARY
+  FIND_LIBRARY(QT_QTDESIGNERCOMPONENTS_LIBRARY NAMES QtDesignerComponents QtDesignerComponents4 PATHS ${QT_LIBRARY_DIR}        NO_DEFAULT_PATH)
+
+  # Set QT_QTMAIN_LIBRARY
+  IF(WIN32)
+    FIND_LIBRARY(QT_QTMAIN_LIBRARY NAMES qtmain PATHS ${QT_LIBRARY_DIR} NO_DEFAULT_PATH)
+  ENDIF(WIN32)
+
+  ############################################
+  #
+  # Check the existence of the libraries.
+  #
+  ############################################
+
+  MACRO (_QT4_ADJUST_LIB_VARS basename)
+    IF (QT_${basename}_LIBRARY OR QT_${basename}_LIBRARY_DEBUG)
+
+      IF(MSVC)
+
+        # Both set
+        IF (QT_${basename}_LIBRARY AND QT_${basename}_LIBRARY_DEBUG)
+          SET(QT_${basename}_LIBRARY optimized ${QT_${basename}_LIBRARY} debug ${QT_${basename}_LIBRARY_DEBUG})
+        ENDIF (QT_${basename}_LIBRARY AND QT_${basename}_LIBRARY_DEBUG)
+
+        # Only debug was found
+        IF (NOT QT_${basename}_LIBRARY AND QT_${basename}_LIBRARY_DEBUG)
+          SET(QT_${basename}_LIBRARY ${QT_${basename}_LIBRARY_DEBUG})
+        ENDIF (NOT QT_${basename}_LIBRARY AND QT_${basename}_LIBRARY_DEBUG)
+
+        # Hmm, is this used anywhere ? Yes, in UseQt4.cmake. We are currently incompatible :-(
+        SET(QT_${basename}_LIBRARIES optimized ${QT_${basename}_LIBRARY} debug ${QT_${basename}_LIBRARY_DEBUG})
+
+      ENDIF(MSVC)
+
+      SET(QT_${basename}_LIBRARY ${QT_${basename}_LIBRARY} CACHE FILEPATH "The Qt ${basename} library")
+
+      IF (QT_${basename}_LIBRARY)
+        SET(QT_${basename}_FOUND 1)
+      ENDIF (QT_${basename}_LIBRARY)
+      
+    ENDIF (QT_${basename}_LIBRARY OR QT_${basename}_LIBRARY_DEBUG)
+    
+    IF (QT_${basename}_INCLUDE_DIR)
+      #add the include directory to QT_INCLUDES
+      SET(QT_INCLUDES ${QT_INCLUDES} "${QT_${basename}_INCLUDE_DIR}")
+    ENDIF (QT_${basename}_INCLUDE_DIR)
+
+    # Make variables changeble to the advanced user
+    MARK_AS_ADVANCED(QT_${basename}_LIBRARY QT_${basename}_INCLUDE_DIR)
+  ENDMACRO (_QT4_ADJUST_LIB_VARS)
+
+
+  # Set QT_xyz_LIBRARY variable and add 
+  # library include path to QT_INCLUDES
+  _QT4_ADJUST_LIB_VARS(QTCORE)
+  _QT4_ADJUST_LIB_VARS(QTGUI)
+  _QT4_ADJUST_LIB_VARS(QT3SUPPORT)
+  _QT4_ADJUST_LIB_VARS(QTASSISTANT)
+  _QT4_ADJUST_LIB_VARS(QTDESIGNER)
+  _QT4_ADJUST_LIB_VARS(QTDESIGNERCOMPONENTS)
+  _QT4_ADJUST_LIB_VARS(QTNETWORK)
+  _QT4_ADJUST_LIB_VARS(QTNSPLUGIN)
+  _QT4_ADJUST_LIB_VARS(QTOPENGL)
+  _QT4_ADJUST_LIB_VARS(QTSQL)
+  _QT4_ADJUST_LIB_VARS(QTXML)
+  _QT4_ADJUST_LIB_VARS(QTSVG)
+  _QT4_ADJUST_LIB_VARS(QTSCRIPT)
+  _QT4_ADJUST_LIB_VARS(QTUITOOLS)
+  _QT4_ADJUST_LIB_VARS(QTTEST)
+  _QT4_ADJUST_LIB_VARS(QTDBUS)
+  
+  
+  # platform dependent libraries
+  IF(Q_WS_X11)
+    _QT4_ADJUST_LIB_VARS(QTMOTIF)
+  ENDIF(Q_WS_X11)
+  IF(WIN32)
+    _QT4_ADJUST_LIB_VARS(QTMAIN)
+  ENDIF(WIN32)
+
+  IF(QT_QTSCRIPT_LIBRARY AND QT_QTUITOOLS_LIBRARY)
+    SET(QT_QTUITOOLS_LIBRARY ${QT_QTUITOOLS_LIBRARY} ${QT_QTSCRIPT_LIBRARY} )
+  ENDIF(QT_QTSCRIPT_LIBRARY AND QT_QTUITOOLS_LIBRARY)
+
+  #######################################
+  #
+  #       Check the executables of Qt 
+  #          ( moc, uic, rcc )
+  #
+  #######################################
+
+
+  # find moc and uic using qmake
+  QT_QUERY_QMAKE(QT_MOC_EXECUTABLE_INTERNAL "QMAKE_MOC")
+  QT_QUERY_QMAKE(QT_UIC_EXECUTABLE_INTERNAL "QMAKE_UIC")
+
+  FILE(TO_CMAKE_PATH 
+    "${QT_MOC_EXECUTABLE_INTERNAL}" QT_MOC_EXECUTABLE_INTERNAL)
+  FILE(TO_CMAKE_PATH 
+    "${QT_UIC_EXECUTABLE_INTERNAL}" QT_UIC_EXECUTABLE_INTERNAL)
+
+  SET(QT_MOC_EXECUTABLE 
+    ${QT_MOC_EXECUTABLE_INTERNAL} CACHE FILEPATH "The moc executable")
+  SET(QT_UIC_EXECUTABLE 
+    ${QT_UIC_EXECUTABLE_INTERNAL} CACHE FILEPATH "The uic executable")
+
+  FIND_PROGRAM(QT_UIC3_EXECUTABLE
+    NAMES uic3
+    PATHS ${QT_BINARY_DIR}
+    NO_DEFAULT_PATH
+    )
+
+  FIND_PROGRAM(QT_RCC_EXECUTABLE 
+    NAMES rcc
+    PATHS ${QT_BINARY_DIR}
+    NO_DEFAULT_PATH
+    )
+
+  FIND_PROGRAM(QT_DBUSCPP2XML_EXECUTABLE 
+    NAMES qdbuscpp2xml
+    PATHS ${QT_BINARY_DIR}
+    NO_DEFAULT_PATH
+    )
+
+  FIND_PROGRAM(QT_DBUSXML2CPP_EXECUTABLE 
+    NAMES qdbusxml2cpp
+    PATHS ${QT_BINARY_DIR}
+    NO_DEFAULT_PATH
+    )
+
+  IF (QT_MOC_EXECUTABLE)
+     SET(QT_WRAP_CPP "YES")
+  ENDIF (QT_MOC_EXECUTABLE)
+
+  IF (QT_UIC_EXECUTABLE)
+     SET(QT_WRAP_UI "YES")
+  ENDIF (QT_UIC_EXECUTABLE)
+
+
+
+  MARK_AS_ADVANCED( QT_UIC_EXECUTABLE QT_UIC3_EXECUTABLE QT_MOC_EXECUTABLE QT_RCC_EXECUTABLE QT_DBUSXML2CPP_EXECUTABLE QT_DBUSCPP2XML_EXECUTABLE)
+
+  ######################################
+  #
+  #       Macros for building Qt files
+  #
+  ######################################
+
+  MACRO (QT4_GET_MOC_INC_DIRS _moc_INC_DIRS)
+     SET(${_moc_INC_DIRS})
+     GET_DIRECTORY_PROPERTY(_inc_DIRS INCLUDE_DIRECTORIES)
+
+     FOREACH(_current ${_inc_DIRS})
+        SET(${_moc_INC_DIRS} ${${_moc_INC_DIRS}} "-I" ${_current})
+     ENDFOREACH(_current ${_inc_DIRS})
+  ENDMACRO(QT4_GET_MOC_INC_DIRS)
+
+
+  MACRO (QT4_GENERATE_MOC infile outfile )
+  # get include dirs
+     QT4_GET_MOC_INC_DIRS(moc_includes)
+
+     GET_FILENAME_COMPONENT(abs_infile ${infile} ABSOLUTE)
+
+     ADD_CUSTOM_COMMAND(OUTPUT ${outfile}
+        COMMAND ${QT_MOC_EXECUTABLE}
+        ARGS ${moc_includes} -o ${outfile} ${abs_infile}
+        DEPENDS ${abs_infile})
+
+     SET_SOURCE_FILES_PROPERTIES(${outfile} PROPERTIES SKIP_AUTOMOC TRUE)  # dont run automoc on this file
+
+     MACRO_ADD_FILE_DEPENDENCIES(${abs_infile} ${outfile})
+  ENDMACRO (QT4_GENERATE_MOC)
+
+
+  # QT4_WRAP_CPP(outfiles inputfile ... )
+  # TODO  perhaps add support for -D, -U and other minor options
+
+  MACRO (QT4_WRAP_CPP outfiles )
+    # get include dirs
+    QT4_GET_MOC_INC_DIRS(moc_includes)
+
+    FOREACH (it ${ARGN})
+      GET_FILENAME_COMPONENT(it ${it} ABSOLUTE)
+      GET_FILENAME_COMPONENT(outfile ${it} NAME_WE)
+
+      SET(outfile ${CMAKE_CURRENT_BINARY_DIR}/moc_${outfile}.cxx)
+      ADD_CUSTOM_COMMAND(OUTPUT ${outfile}
+        COMMAND ${QT_MOC_EXECUTABLE}
+        ARGS ${moc_includes} -o ${outfile} ${it}
+        DEPENDS ${it})
+      SET(${outfiles} ${${outfiles}} ${outfile})
+    ENDFOREACH(it)
+
+  ENDMACRO (QT4_WRAP_CPP)
+
+
+  # QT4_WRAP_UI(outfiles inputfile ... )
+
+  MACRO (QT4_WRAP_UI outfiles )
+
+    FOREACH (it ${ARGN})
+      GET_FILENAME_COMPONENT(outfile ${it} NAME_WE)
+      GET_FILENAME_COMPONENT(infile ${it} ABSOLUTE)
+      SET(outfile ${CMAKE_CURRENT_BINARY_DIR}/ui_${outfile}.h)
+      ADD_CUSTOM_COMMAND(OUTPUT ${outfile}
+        COMMAND ${QT_UIC_EXECUTABLE}
+        ARGS -o ${outfile} ${infile}
+        MAIN_DEPENDENCY ${infile})
+      SET(${outfiles} ${${outfiles}} ${outfile})
+    ENDFOREACH (it)
+
+  ENDMACRO (QT4_WRAP_UI)
+
+
+  # QT4_ADD_RESOURCE(outfiles inputfile ... )
+  # TODO  perhaps consider adding support for compression and root options to rcc
+
+  MACRO (QT4_ADD_RESOURCES outfiles )
+
+    FOREACH (it ${ARGN})
+      GET_FILENAME_COMPONENT(outfilename ${it} NAME_WE)
+      GET_FILENAME_COMPONENT(infile ${it} ABSOLUTE)
+      GET_FILENAME_COMPONENT(rc_path ${infile} PATH)
+      SET(outfile ${CMAKE_CURRENT_BINARY_DIR}/qrc_${outfilename}.cxx)
+      #  parse file for dependencies
+      FILE(READ "${infile}" _RC_FILE_CONTENTS)
+      STRING(REGEX MATCHALL "<file[^<]+" _RC_FILES "${_RC_FILE_CONTENTS}")
+      
+      SET(_RC_DEPENDS)
+      FOREACH(_RC_FILE ${_RC_FILES})
+        STRING(REGEX REPLACE "^<file[^>]*>" "" _RC_FILE "${_RC_FILE}")
+        SET(_RC_DEPENDS ${_RC_DEPENDS} "${rc_path}/${_RC_FILE}")
+      ENDFOREACH(_RC_FILE)
+      ADD_CUSTOM_COMMAND(OUTPUT ${outfile}
+        COMMAND ${QT_RCC_EXECUTABLE}
+        ARGS -name ${outfilename} -o ${outfile} ${infile}
+        MAIN_DEPENDENCY ${infile}
+        DEPENDS ${_RC_DEPENDS})
+      SET(${outfiles} ${${outfiles}} ${outfile})
+    ENDFOREACH (it)
+
+  ENDMACRO (QT4_ADD_RESOURCES)
+
+  MACRO(QT4_ADD_DBUS_INTERFACE _sources _interface _basename)
+    GET_FILENAME_COMPONENT(_infile ${_interface} ABSOLUTE)
+    SET(_header ${CMAKE_CURRENT_BINARY_DIR}/${_basename}.h)
+    SET(_impl   ${CMAKE_CURRENT_BINARY_DIR}/${_basename}.cpp)
+    SET(_moc    ${CMAKE_CURRENT_BINARY_DIR}/${_basename}.moc)
+
+    GET_SOURCE_FILE_PROPERTY(_nonamespace ${_infile} NO_NAMESPACE)
+    IF ( _nonamespace )
+        SET(_params -N -m -p)
+    ELSE ( _nonamespace )
+        SET(_params -m -p)
+    ENDIF ( _nonamespace )
+
+     ADD_CUSTOM_COMMAND(OUTPUT ${_impl} ${_header}
+        COMMAND ${QT_DBUSXML2CPP_EXECUTABLE} ${_params} ${_basename} ${_infile}
+        DEPENDS ${_infile})
+
+    SET_SOURCE_FILES_PROPERTIES(${_impl} PROPERTIES SKIP_AUTOMOC TRUE)
+    
+    QT4_GENERATE_MOC(${_header} ${_moc})
+  
+    SET(${_sources} ${${_sources}} ${_impl} ${_header} ${_moc})
+    MACRO_ADD_FILE_DEPENDENCIES(${_impl} ${_moc})
+  
+  ENDMACRO(QT4_ADD_DBUS_INTERFACE)
+ 
+  MACRO(QT4_ADD_DBUS_INTERFACE_NO_NAMESPACE _sources _interface _basename)
+    SET_SOURCE_FILES_PROPERTIES(${_interface} PROPERTIES NO_NAMESPACE TRUE)
+    QT4_ADD_DBUS_INTERFACE(${_sources} ${_interface} ${_basename})
+  ENDMACRO(QT4_ADD_DBUS_INTERFACE_NO_NAMESPACE)
+
+  # Internal (avoid to duplicate code between QT4_ADD_DBUS_INTERFACES_NO_NAMESPACE and QT4_ADD_DBUS_INTERFACES 
+  MACRO(_QT4_ADD_DBUS_INTERFACES _sources _filename)
+        GET_FILENAME_COMPONENT(_infile ${_filename} ABSOLUTE)
+        # get the part before the ".xml" suffix
+        STRING(REGEX REPLACE "(.*[/\\.])?([^\\.]+)\\.xml" "\\2" _basename ${_current_FILE})
+        STRING(TOLOWER ${_basename} _basename)
+        QT4_ADD_DBUS_INTERFACE(${_sources} ${_infile} ${_basename}interface)     
+  ENDMACRO(_QT4_ADD_DBUS_INTERFACES)
+
+  MACRO(QT4_ADD_DBUS_INTERFACES _sources)
+     FOREACH (_current_FILE ${ARGN})
+        _QT4_ADD_DBUS_INTERFACES(${_sources} ${_current_FILE})
+     ENDFOREACH (_current_FILE)
+  ENDMACRO(QT4_ADD_DBUS_INTERFACES)
+
+  MACRO(QT4_ADD_DBUS_INTERFACES_NO_NAMESPACE _sources)
+    FOREACH (_current_FILE ${ARGN})
+	SET_SOURCE_FILES_PROPERTIES(${_current_FILE} PROPERTIES NO_NAMESPACE TRUE)
+        _QT4_ADD_DBUS_INTERFACES(${_sources} ${_current_FILE})
+    ENDFOREACH (_current_FILE)
+  ENDMACRO(QT4_ADD_DBUS_INTERFACES_NO_NAMESPACE)
+  
+  MACRO(QT4_GENERATE_DBUS_INTERFACE _header) # _customName )
+    SET(_customName "${ARGV1}")
+    GET_FILENAME_COMPONENT(_in_file ${_header} ABSOLUTE)
+    GET_FILENAME_COMPONENT(_basename ${_header} NAME_WE)
+    
+    IF (_customName)
+      SET(_target ${CMAKE_CURRENT_BINARY_DIR}/${_customName})
+    ELSE (_customName)
+      SET(_target ${CMAKE_CURRENT_BINARY_DIR}/${_basename}.xml)
+    ENDIF (_customName)
+  
+    ADD_CUSTOM_COMMAND(OUTPUT ${_target}
+        COMMAND ${QT_DBUSCPP2XML_EXECUTABLE} ${_in_file} > ${_target}
+        DEPENDS ${_in_file}
+    )
+  ENDMACRO(QT4_GENERATE_DBUS_INTERFACE)
+  
+  
+  MACRO(QT4_ADD_DBUS_ADAPTOR _sources _xml_file _include _parentClass) # _optionalBasename )
+    GET_FILENAME_COMPONENT(_infile ${_xml_file} ABSOLUTE)
+    
+    SET(_optionalBasename "${ARGV4}")
+    IF (_optionalBasename)
+       SET(_basename ${_optionalBasename} )
+    ELSE (_optionalBasename)
+       STRING(REGEX REPLACE "(.*[/\\.])?([^\\.]+)\\.xml" "\\2adaptor" _basename ${_infile})
+       STRING(TOLOWER ${_basename} _basename)
+    ENDIF (_optionalBasename)
+
+    SET(_optionalClassName "${ARGV5}")
+    SET(_header ${CMAKE_CURRENT_BINARY_DIR}/${_basename}.h)
+    SET(_impl   ${CMAKE_CURRENT_BINARY_DIR}/${_basename}.cpp)
+    SET(_moc    ${CMAKE_CURRENT_BINARY_DIR}/${_basename}.moc)
+
+    IF(_optionalClassName)
+       ADD_CUSTOM_COMMAND(OUTPUT ${_impl} ${_header}
+          COMMAND ${QT_DBUSXML2CPP_EXECUTABLE} -m -a ${_basename} -c ${_optionalClassName} -i ${_include} -l ${_parentClass} ${_infile}
+          DEPENDS ${_infile}
+        )
+    ELSE(_optionalClassName)
+       ADD_CUSTOM_COMMAND(OUTPUT ${_impl} ${_header}
+          COMMAND ${QT_DBUSXML2CPP_EXECUTABLE} -m -a ${_basename} -i ${_include} -l ${_parentClass} ${_infile}
+          DEPENDS ${_infile}
+        )
+    ENDIF(_optionalClassName)
+
+    QT4_GENERATE_MOC(${_header} ${_moc})
+    SET_SOURCE_FILES_PROPERTIES(${_impl} PROPERTIES SKIP_AUTOMOC TRUE)
+    MACRO_ADD_FILE_DEPENDENCIES(${_impl} ${_moc})
+
+    SET(${_sources} ${${_sources}} ${_impl} ${_header} ${_moc})
+  ENDMACRO(QT4_ADD_DBUS_ADAPTOR)
+
+   MACRO(QT4_AUTOMOC)
+      QT4_GET_MOC_INC_DIRS(_moc_INCS)
+
+      SET(_matching_FILES )
+      FOREACH (_current_FILE ${ARGN})
+
+         GET_FILENAME_COMPONENT(_abs_FILE ${_current_FILE} ABSOLUTE)
+         # if "SKIP_AUTOMOC" is set to true, we will not handle this file here.
+         # here. this is required to make bouic work correctly:
+         # we need to add generated .cpp files to the sources (to compile them),
+         # but we cannot let automoc handle them, as the .cpp files don't exist yet when
+         # cmake is run for the very first time on them -> however the .cpp files might
+         # exist at a later run. at that time we need to skip them, so that we don't add two
+         # different rules for the same moc file
+         GET_SOURCE_FILE_PROPERTY(_skip ${_abs_FILE} SKIP_AUTOMOC)
+
+         IF ( NOT _skip AND EXISTS ${_abs_FILE} )
+
+            FILE(READ ${_abs_FILE} _contents)
+
+            GET_FILENAME_COMPONENT(_abs_PATH ${_abs_FILE} PATH)
+
+            STRING(REGEX MATCHALL "#include +[^ ]+\\.moc[\">]" _match "${_contents}")
+            IF(_match)
+               FOREACH (_current_MOC_INC ${_match})
+                  STRING(REGEX MATCH "[^ <\"]+\\.moc" _current_MOC "${_current_MOC_INC}")
+
+                  GET_filename_component(_basename ${_current_MOC} NAME_WE)
+   #               SET(_header ${CMAKE_CURRENT_SOURCE_DIR}/${_basename}.h)
+                  SET(_header ${_abs_PATH}/${_basename}.h)
+                  SET(_moc    ${CMAKE_CURRENT_BINARY_DIR}/${_current_MOC})
+                  ADD_CUSTOM_COMMAND(OUTPUT ${_moc}
+                     COMMAND ${QT_MOC_EXECUTABLE}
+                     ARGS ${_moc_INCS} ${_header} -o ${_moc}
+                     DEPENDS ${_header}
+                  )
+
+                  MACRO_ADD_FILE_DEPENDENCIES(${_abs_FILE} ${_moc})
+               ENDFOREACH (_current_MOC_INC)
+            ENDIF(_match)
+         ENDIF ( NOT _skip AND EXISTS ${_abs_FILE} )
+      ENDFOREACH (_current_FILE)
+   ENDMACRO(QT4_AUTOMOC)
+
+
+
+  ######################################
+  #
+  #       decide if Qt got found
+  #
+  ######################################
+
+  # if the includes,libraries,moc,uic and rcc are found then we have it
+  IF( QT_LIBRARY_DIR AND QT_INCLUDE_DIR AND QT_MOC_EXECUTABLE AND QT_UIC_EXECUTABLE AND QT_RCC_EXECUTABLE)
+    SET( QT4_FOUND "YES" )
+    IF( NOT Qt4_FIND_QUIETLY)
+      IF (WIN32)
+        MESSAGE(STATUS "Found Qt-Version ${QTVERSION} with qmake at ${QT_QMAKE_EXECUTABLE}")
+      ELSE (WIN32)
+        MESSAGE(STATUS "Found Qt-Version ${QTVERSION}")
+      ENDIF (WIN32)
+    ENDIF( NOT Qt4_FIND_QUIETLY)
+  ELSE( QT_LIBRARY_DIR AND QT_INCLUDE_DIR AND QT_MOC_EXECUTABLE AND QT_UIC_EXECUTABLE AND QT_RCC_EXECUTABLE)
+    SET( QT4_FOUND "NO")
+    SET(QT_QMAKE_EXECUTABLE "${QT_QMAKE_EXECUTABLE}-NOTFOUND" CACHE FILEPATH "Invalid qmake found" FORCE)
+    IF( Qt4_FIND_REQUIRED)
+      IF ( NOT QT_LIBRARY_DIR )
+	MESSAGE(STATUS "Qt libraries NOT found!")
+      ENDIF(NOT QT_LIBRARY_DIR )
+      IF ( NOT QT_INCLUDE_DIR )
+	MESSAGE(STATUS "Qt includes NOT found!")
+      ENDIF( NOT QT_INCLUDE_DIR )
+      IF ( NOT QT_MOC_EXECUTABLE )
+        MESSAGE(STATUS "Qt's moc NOT found!")
+      ENDIF( NOT QT_MOC_EXECUTABLE )
+      IF ( NOT QT_UIC_EXECUTABLE )
+        MESSAGE(STATUS "Qt's uic NOT found!")
+      ENDIF( NOT QT_UIC_EXECUTABLE )
+      IF ( NOT QT_RCC_EXECUTABLE )
+        MESSAGE(STATUS "Qt's rcc NOT found!")
+      ENDIF( NOT QT_RCC_EXECUTABLE )
+      MESSAGE( FATAL_ERROR "Qt libraries, includes, moc, uic or/and rcc NOT found!")
+    ENDIF( Qt4_FIND_REQUIRED)
+  ENDIF( QT_LIBRARY_DIR AND QT_INCLUDE_DIR AND QT_MOC_EXECUTABLE AND QT_UIC_EXECUTABLE AND  QT_RCC_EXECUTABLE)
+  SET(QT_FOUND ${QT4_FOUND})
+
+
+  #######################################
+  #
+  #       System dependent settings  
+  #
+  #######################################
+  # for unix add X11 stuff
+  IF(UNIX)
+    # on OS X X11 may not be required
+    IF (Q_WS_X11)
+      FIND_PACKAGE(X11 REQUIRED)
+    ENDIF (Q_WS_X11)
+    FIND_PACKAGE(Threads)
+    SET(QT_QTCORE_LIBRARY ${QT_QTCORE_LIBRARY} ${CMAKE_THREAD_LIBS_INIT})
+  ENDIF(UNIX)
+
+
+  #######################################
+  #
+  #       compatibility settings 
+  #
+  #######################################
+  # Backwards compatibility for CMake1.4 and 1.2
+  SET (QT_MOC_EXE ${QT_MOC_EXECUTABLE} )
+  SET (QT_UIC_EXE ${QT_UIC_EXECUTABLE} )
+
+  SET( QT_QT_LIBRARY "")
+
+ELSE(QT4_QMAKE_FOUND)
+   
+   SET(QT_QMAKE_EXECUTABLE "${QT_QMAKE_EXECUTABLE}-NOTFOUND" CACHE FILEPATH "Invalid qmake found" FORCE)
+   IF(Qt4_FIND_REQUIRED)
+      IF(QT4_INSTALLED_VERSION_TOO_OLD)
+         MESSAGE(FATAL_ERROR "The installed Qt version ${QTVERSION} is too old, at least version ${QT_MIN_VERSION} is required")
+      ELSE(QT4_INSTALLED_VERSION_TOO_OLD)
+         MESSAGE( FATAL_ERROR "Qt qmake not found!")
+      ENDIF(QT4_INSTALLED_VERSION_TOO_OLD)
+   ELSE(Qt4_FIND_REQUIRED)
+      IF(QT4_INSTALLED_VERSION_TOO_OLD AND NOT Qt4_FIND_QUIETLY)
+         MESSAGE(STATUS "The installed Qt version ${QTVERSION} is too old, at least version ${QT_MIN_VERSION} is required")
+      ENDIF(QT4_INSTALLED_VERSION_TOO_OLD AND NOT Qt4_FIND_QUIETLY)
+   ENDIF(Qt4_FIND_REQUIRED)
+ 
+ENDIF (QT4_QMAKE_FOUND)
+
+

Added: branches/avidemux_2.4_branch/cmake/FindX11.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/FindX11.cmake	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/cmake/FindX11.cmake	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,154 @@
+# - Find X11 installation
+# Try to find X11 on UNIX systems. The following values are defined
+#  X11_FOUND        - True if X11 is available
+#  X11_INCLUDE_DIR  - include directories to use X11
+#  X11_LIBRARIES    - link against these to use X11
+
+IF (UNIX)
+  SET(X11_FOUND 0)
+  # X11 is never a framework and some header files may be
+  # found in tcl on the mac
+  SET(CMAKE_FIND_FRAMEWORK_SAVE ${CMAKE_FIND_FRAMEWORK})
+  SET(CMAKE_FIND_FRAMEWORK NEVER)
+  SET(X11_INC_SEARCH_PATH
+    /usr/X11R6/include 
+    /usr/local/include 
+    /usr/include/X11
+    /usr/openwin/include 
+    /usr/openwin/share/include 
+    /opt/graphics/OpenGL/include
+    /usr/include
+  )
+
+  SET(X11_LIB_SEARCH_PATH
+    /usr/X11R6/lib
+    /usr/local/lib 
+    /usr/openwin/lib 
+    /usr/lib 
+  )
+
+  FIND_PATH(X11_X11_INCLUDE_PATH X11/X.h ${X11_INC_SEARCH_PATH})
+  FIND_PATH(X11_Xlib_INCLUDE_PATH X11/Xlib.h ${X11_INC_SEARCH_PATH})
+  FIND_PATH(X11_Xutil_INCLUDE_PATH X11/Xutil.h ${X11_INC_SEARCH_PATH})
+  FIND_LIBRARY(X11_X11_LIB X11 ${X11_LIB_SEARCH_PATH})
+  FIND_LIBRARY(X11_Xext_LIB Xext ${X11_LIB_SEARCH_PATH})
+
+  IF(X11_X11_INCLUDE_PATH)
+    SET(X11_INCLUDE_DIR ${X11_INCLUDE_DIR} ${X11_X11_INCLUDE_PATH})
+  ENDIF(X11_X11_INCLUDE_PATH)
+
+  IF(X11_Xlib_INCLUDE_PATH)
+    SET(X11_INCLUDE_DIR ${X11_INCLUDE_DIR} ${X11_Xlib_INCLUDE_PATH})
+  ENDIF(X11_Xlib_INCLUDE_PATH)
+
+  IF(X11_Xutil_INCLUDE_PATH)
+    SET(X11_INCLUDE_DIR ${X11_INCLUDE_DIR} ${X11_Xutil_INCLUDE_PATH})
+  ENDIF(X11_Xutil_INCLUDE_PATH)
+
+  IF(X11_X11_LIB)
+    SET(X11_LIBRARIES ${X11_LIBRARIES} ${X11_X11_LIB})
+  ENDIF(X11_X11_LIB)
+
+  IF(X11_Xext_LIB)
+    SET(X11_LIBRARIES ${X11_LIBRARIES} ${X11_Xext_LIB})
+  ENDIF(X11_Xext_LIB)
+
+  # Deprecated variable for backwards compatibility with CMake 1.4
+  IF(X11_X11_INCLUDE_PATH)
+    IF(X11_LIBRARIES)
+      SET(X11_FOUND 1)
+    ENDIF(X11_LIBRARIES)
+  ENDIF(X11_X11_INCLUDE_PATH)
+
+  SET(X11_LIBRARY_DIR "")
+  IF(X11_X11_LIB)
+    GET_FILENAME_COMPONENT(X11_LIBRARY_DIR ${X11_X11_LIB} PATH)
+  ENDIF(X11_X11_LIB)
+
+  IF(X11_FOUND)
+    INCLUDE(CheckFunctionExists)
+    INCLUDE(CheckLibraryExists)
+
+    # Translated from an autoconf-generated configure script.
+    # See libs.m4 in autoconf's m4 directory.
+    IF($ENV{ISC} MATCHES "^yes$")
+      SET(X11_X_EXTRA_LIBS -lnsl_s -linet)
+    ELSE($ENV{ISC} MATCHES "^yes$")
+      SET(X11_X_EXTRA_LIBS "")
+
+      # See if XOpenDisplay in X11 works by itself.
+      CHECK_LIBRARY_EXISTS("${X11_LIBRARIES}" "XOpenDisplay" "${X11_LIBRARY_DIR}" X11_LIB_X11_SOLO)
+      IF(NOT X11_LIB_X11_SOLO)
+        # Find library needed for dnet_ntoa.
+        CHECK_LIBRARY_EXISTS("dnet" "dnet_ntoa" "" X11_LIB_DNET_HAS_DNET_NTOA) 
+        IF (X11_LIB_DNET_HAS_DNET_NTOA)
+          SET (X11_X_EXTRA_LIBS ${X11_X_EXTRA_LIBS} -ldnet)
+        ELSE (X11_LIB_DNET_HAS_DNET_NTOA)
+          CHECK_LIBRARY_EXISTS("dnet_stub" "dnet_ntoa" "" X11_LIB_DNET_STUB_HAS_DNET_NTOA) 
+          IF (X11_LIB_DNET_STUB_HAS_DNET_NTOA)
+            SET (X11_X_EXTRA_LIBS ${X11_X_EXTRA_LIBS} -ldnet_stub)
+          ENDIF (X11_LIB_DNET_STUB_HAS_DNET_NTOA)
+        ENDIF (X11_LIB_DNET_HAS_DNET_NTOA)
+      ENDIF(NOT X11_LIB_X11_SOLO)
+
+      # Find library needed for gethostbyname.
+      CHECK_FUNCTION_EXISTS("gethostbyname" CMAKE_HAVE_GETHOSTBYNAME)
+      IF(NOT CMAKE_HAVE_GETHOSTBYNAME)
+        CHECK_LIBRARY_EXISTS("nsl" "gethostbyname" "" CMAKE_LIB_NSL_HAS_GETHOSTBYNAME) 
+        IF (CMAKE_LIB_NSL_HAS_GETHOSTBYNAME)
+          SET (X11_X_EXTRA_LIBS ${X11_X_EXTRA_LIBS} -lnsl)
+        ELSE (CMAKE_LIB_NSL_HAS_GETHOSTBYNAME)
+          CHECK_LIBRARY_EXISTS("bsd" "gethostbyname" "" CMAKE_LIB_BSD_HAS_GETHOSTBYNAME) 
+          IF (CMAKE_LIB_BSD_HAS_GETHOSTBYNAME)
+            SET (X11_X_EXTRA_LIBS ${X11_X_EXTRA_LIBS} -lbsd)
+          ENDIF (CMAKE_LIB_BSD_HAS_GETHOSTBYNAME)
+        ENDIF (CMAKE_LIB_NSL_HAS_GETHOSTBYNAME)
+      ENDIF(NOT CMAKE_HAVE_GETHOSTBYNAME)
+
+      # Find library needed for connect.
+      CHECK_FUNCTION_EXISTS("connect" CMAKE_HAVE_CONNECT)
+      IF(NOT CMAKE_HAVE_CONNECT)
+        CHECK_LIBRARY_EXISTS("socket" "connect" "" CMAKE_LIB_SOCKET_HAS_CONNECT) 
+        IF (CMAKE_LIB_SOCKET_HAS_CONNECT)
+          SET (X11_X_EXTRA_LIBS -lsocket ${X11_X_EXTRA_LIBS})
+        ENDIF (CMAKE_LIB_SOCKET_HAS_CONNECT)
+      ENDIF(NOT CMAKE_HAVE_CONNECT)
+
+      # Find library needed for remove.
+      CHECK_FUNCTION_EXISTS("remove" CMAKE_HAVE_REMOVE)
+      IF(NOT CMAKE_HAVE_REMOVE)
+        CHECK_LIBRARY_EXISTS("posix" "remove" "" CMAKE_LIB_POSIX_HAS_REMOVE) 
+        IF (CMAKE_LIB_POSIX_HAS_REMOVE)
+          SET (X11_X_EXTRA_LIBS ${X11_X_EXTRA_LIBS} -lposix)
+        ENDIF (CMAKE_LIB_POSIX_HAS_REMOVE)
+      ENDIF(NOT CMAKE_HAVE_REMOVE)
+
+      # Find library needed for shmat.
+      CHECK_FUNCTION_EXISTS("shmat" CMAKE_HAVE_SHMAT)
+      IF(NOT CMAKE_HAVE_SHMAT)
+        CHECK_LIBRARY_EXISTS("ipc" "shmat" "" CMAKE_LIB_IPS_HAS_SHMAT) 
+        IF (CMAKE_LIB_IPS_HAS_SHMAT)
+          SET (X11_X_EXTRA_LIBS ${X11_X_EXTRA_LIBS} -lipc)
+        ENDIF (CMAKE_LIB_IPS_HAS_SHMAT)
+      ENDIF(NOT CMAKE_HAVE_SHMAT)
+    ENDIF($ENV{ISC} MATCHES "^yes$")
+
+    CHECK_LIBRARY_EXISTS("ICE" "IceConnectionNumber" "${X11_LIBRARY_DIR}"
+                         CMAKE_LIB_ICE_HAS_ICECONNECTIONNUMBER)
+    IF(CMAKE_LIB_ICE_HAS_ICECONNECTIONNUMBER)
+      SET (X11_X_PRE_LIBS -lSM -lICE)
+    ENDIF(CMAKE_LIB_ICE_HAS_ICECONNECTIONNUMBER)
+    # Build the final list of libraries.
+    SET (X11_LIBRARIES ${X11_X_PRE_LIBS} ${X11_LIBRARIES} ${X11_X_EXTRA_LIBS})
+  ENDIF(X11_FOUND)
+
+  MARK_AS_ADVANCED(
+    X11_X11_INCLUDE_PATH
+    X11_X11_LIB
+    X11_Xext_LIB
+    X11_Xlib_INCLUDE_PATH
+    X11_Xutil_INCLUDE_PATH
+    X11_LIBRARIES
+    )
+  SET(CMAKE_FIND_FRAMEWORK ${CMAKE_FIND_FRAMEWORK_SAVE})
+ENDIF (UNIX)

Added: branches/avidemux_2.4_branch/cmake/MacroEnsureOutOfSourceBuild.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/MacroEnsureOutOfSourceBuild.cmake	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/cmake/MacroEnsureOutOfSourceBuild.cmake	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,16 @@
+# - MACRO_ENSURE_OUT_OF_SOURCE_BUILD(<errorMessage>)
+# MACRO_ENSURE_OUT_OF_SOURCE_BUILD(<errorMessage>)
+
+# Copyright (c) 2006, Alexander Neundorf, <neundorf at kde.org>
+#
+# Redistribution and use is allowed according to the terms of the BSD license.
+# For details see the accompanying COPYING-CMAKE-SCRIPTS file.
+
+MACRO (MACRO_ENSURE_OUT_OF_SOURCE_BUILD _errorMessage)
+
+   STRING(COMPARE EQUAL "${CMAKE_SOURCE_DIR}" "${CMAKE_BINARY_DIR}" insource)
+      IF(insource)
+            MESSAGE(FATAL_ERROR "${_errorMessage}")
+       ENDIF(insource)
+
+ENDMACRO (MACRO_ENSURE_OUT_OF_SOURCE_BUILD)

Added: branches/avidemux_2.4_branch/cmake/Po.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/Po.cmake	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/cmake/Po.cmake	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,100 @@
+# a small macro to create mo files out of po's
+# Taken from sim-im.org
+
+MACRO(FIND_MSGFMT)
+    IF(NOT MSGFMT_EXECUTABLE)
+        IF(NOT MSGFMT_NOT_FOUND)
+            IF(WIN32)
+              SET(MSGFMT_NAME "msg2qm")
+            ELSE(WIN32)
+              SET(MSGFMT_NAME "msgfmt")
+            ENDIF(WIN32)
+            FIND_PROGRAM(MSGFMT_EXECUTABLE ${MSGFMT_NAME})
+
+            IF (NOT MSGFMT_EXECUTABLE)
+                SET(MSGFMT_NAME "msgfmt")
+                FIND_PROGRAM(MSGFMT_EXECUTABLE ${MSGFMT_NAME})
+            ENDIF(NOT MSGFMT_EXECUTABLE)
+
+            IF (NOT MSGFMT_EXECUTABLE)
+              MESSAGE(FATAL_ERROR "${MSGFMT_NAME} not found - po files can't be processed")
+              SET(MSGFMT_NOT_FOUND "1")     # to avoid double checking in one cmake run
+            ENDIF (NOT MSGFMT_EXECUTABLE)
+
+            MARK_AS_ADVANCED(MSGFMT_EXECUTABLE)
+        ENDIF(NOT MSGFMT_NOT_FOUND)
+    ENDIF(NOT MSGFMT_EXECUTABLE)
+ENDMACRO(FIND_MSGFMT)
+
+MACRO(COMPILE_PO_FILES po_subdir _sources)
+    FIND_MSGFMT()
+
+    IF(MSGFMT_EXECUTABLE)
+        FILE(GLOB po_files ${po_subdir}/*.po)
+
+        FOREACH(po_input ${po_files})
+
+            GET_FILENAME_COMPONENT(_in       ${po_input} ABSOLUTE)
+            GET_FILENAME_COMPONENT(_basename ${po_input} NAME_WE)
+
+            IF(WIN32)
+                FILE(MAKE_DIRECTORY ${CMAKE_BINARY_DIR}/${CMAKE_BUILD_TYPE}/po)
+                GET_FILENAME_COMPONENT(_out ${CMAKE_BINARY_DIR}/${CMAKE_BUILD_TYPE}/po/${_basename}.qm ABSOLUTE)
+                FILE(TO_NATIVE_PATH ${_in}  _in_native)
+                FILE(TO_NATIVE_PATH ${_out} _out_native)
+                GET_FILENAME_COMPONENT(_tmp ${MSGFMT_EXECUTABLE} NAME_WE)
+
+                IF("${_tmp}" STREQUAL "msg2qm")
+                    ADD_CUSTOM_COMMAND(
+                        OUTPUT ${_out}
+                        COMMAND ${CMAKE_COMMAND}
+                            -E echo
+                            "Generating" ${_out_native} "from" ${_in_native}
+                        COMMAND ${MSGFMT_EXECUTABLE}
+                            ${_in_native}
+                            ${_out_native}
+                        DEPENDS ${_in}
+                    )
+                ELSE("${_tmp}" STREQUAL "msg2qm")
+                    ADD_CUSTOM_COMMAND(
+                        OUTPUT ${_out}
+                        COMMAND ${CMAKE_COMMAND}
+                            -E echo
+                            "Generating" ${_out_native} "from" ${_in_native}
+                        COMMAND ${MSGFMT_EXECUTABLE}
+                            --qt
+                            ${_in_native}
+                            -o
+                            ${_out_native}
+                        DEPENDS ${_in}
+                    )
+                ENDIF("${_tmp}" STREQUAL "msg2qm")
+            ELSE(WIN32)
+                FILE(MAKE_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}/po)
+                GET_FILENAME_COMPONENT(_out ${CMAKE_CURRENT_BINARY_DIR}/po/${_basename}.mo ABSOLUTE)
+
+                ADD_CUSTOM_COMMAND(
+                    OUTPUT ${_out}
+                    COMMAND ${CMAKE_COMMAND}
+                        -E echo
+                        "Generating" ${_out} "from" ${_in}
+                    COMMAND ${MSGFMT_EXECUTABLE}
+                        ${_in}
+                        -o ${_out}
+                    DEPENDS ${_in}
+                )
+            ENDIF(WIN32)
+            SET(mo_files ${mo_files} ${_out})
+
+            IF(NOT WIN32)
+               INSTALL(FILES ${_out} DESTINATION ${SIM_I18N_DIR}/${_basename}/LC_MESSAGES RENAME sim.mo)
+            ENDIF(NOT WIN32)
+        ENDFOREACH(po_input ${po_files})
+
+        IF(WIN32)
+           INSTALL(FILES ${mo_files} DESTINATION ${SIM_I18N_DIR})
+        ENDIF(WIN32)
+        SET(${_sources} ${${_sources}} ${mo_files})
+    ENDIF(MSGFMT_EXECUTABLE)
+ENDMACRO(COMPILE_PO_FILES po_subdir)
+

Added: branches/avidemux_2.4_branch/cmake/UsePkgConfig.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/UsePkgConfig.cmake	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/cmake/UsePkgConfig.cmake	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,46 @@
+# - pkg-config module for CMake
+#
+# Defines the following macros:
+#
+# PKGCONFIG(package includedir libdir linkflags cflags)
+#
+# Calling PKGCONFIG will fill the desired information into the 4 given arguments,
+# e.g. PKGCONFIG(libart-2.0 LIBART_INCLUDE_DIR LIBART_LINK_DIR LIBART_LINK_FLAGS LIBART_CFLAGS)
+# if pkg-config was NOT found or the specified software package doesn't exist, the
+# variable will be empty when the function returns, otherwise they will contain the respective information
+#
+
+
+
+FIND_PROGRAM(PKGCONFIG_EXECUTABLE NAMES pkg-config PATHS /usr/local/bin )
+
+MACRO(PKGCONFIG _package _include_DIR _link_DIR _link_FLAGS _cflags)
+# reset the variables at the beginning
+  SET(${_include_DIR})
+  SET(${_link_DIR})
+  SET(${_link_FLAGS})
+  SET(${_cflags})
+
+  # if pkg-config has been found
+  IF(PKGCONFIG_EXECUTABLE)
+
+    EXEC_PROGRAM(${PKGCONFIG_EXECUTABLE} ARGS ${_package} --exists RETURN_VALUE _return_VALUE OUTPUT_VARIABLE _pkgconfigDevNull )
+
+    # and if the package of interest also exists for pkg-config, then get the information
+    IF(NOT _return_VALUE)
+
+      EXEC_PROGRAM(${PKGCONFIG_EXECUTABLE} ARGS ${_package} --variable=includedir OUTPUT_VARIABLE ${_include_DIR} )
+
+      EXEC_PROGRAM(${PKGCONFIG_EXECUTABLE} ARGS ${_package} --variable=libdir OUTPUT_VARIABLE ${_link_DIR} )
+
+      EXEC_PROGRAM(${PKGCONFIG_EXECUTABLE} ARGS ${_package} --libs OUTPUT_VARIABLE ${_link_FLAGS} )
+
+      EXEC_PROGRAM(${PKGCONFIG_EXECUTABLE} ARGS ${_package} --cflags OUTPUT_VARIABLE ${_cflags} )
+
+    ENDIF(NOT _return_VALUE)
+
+  ENDIF(PKGCONFIG_EXECUTABLE)
+
+ENDMACRO(PKGCONFIG _include_DIR _link_DIR _link_FLAGS _cflags)
+
+MARK_AS_ADVANCED(PKGCONFIG_EXECUTABLE)

Added: branches/avidemux_2.4_branch/cmake/UseQt4.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/UseQt4.cmake	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/cmake/UseQt4.cmake	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,91 @@
+# - Use Module for QT4
+# Sets up C and C++ to use Qt 4.  It is assumed that FindQt.cmake
+# has already been loaded.  See FindQt.cmake for information on
+# how to load Qt 4 into your CMake project.
+
+
+ADD_DEFINITIONS(${QT_DEFINITIONS})
+
+INCLUDE_DIRECTORIES(${QT_INCLUDE_DIR})
+
+SET(QT_LIBRARIES "")
+
+IF (QT_USE_QTMAIN)
+  IF (WIN32)
+    SET(QT_LIBRARIES ${QT_LIBRARIES} ${QT_QTMAIN_LIBRARY})
+  ENDIF (WIN32)
+ENDIF (QT_USE_QTMAIN)
+
+# Macro for setting up compile flags for Qt modules
+MACRO(QT_MODULE_SETUP module)
+  IF (QT_QT${module}_FOUND)
+    ADD_DEFINITIONS(-DQT_${module}_LIB)
+    INCLUDE_DIRECTORIES(${QT_QT${module}_INCLUDE_DIR})
+    SET(QT_LIBRARIES ${QT_LIBRARIES} ${QT_QT${module}_LIBRARY})
+    SET(QT_LIBRARIES ${QT_LIBRARIES} ${QT_${module}_LIB_DEPENDENCIES})
+  ELSE (QT_QT${module}_FOUND)
+    MESSAGE("Qt ${module} library not found.")
+  ENDIF (QT_QT${module}_FOUND)
+ENDMACRO(QT_MODULE_SETUP)
+
+
+# Qt modules  (in order of dependence)
+
+IF (QT_USE_QT3SUPPORT)
+  QT_MODULE_SETUP(3SUPPORT)
+    ADD_DEFINITIONS(-DQT3_SUPPORT)
+ENDIF (QT_USE_QT3SUPPORT)
+
+IF (QT_USE_QTOPENGL)
+  QT_MODULE_SETUP(OPENGL)
+ENDIF (QT_USE_QTOPENGL)
+
+IF (QT_USE_QTASSISTANT)
+  QT_MODULE_SETUP(ASSISTANT)
+ENDIF (QT_USE_QTASSISTANT)
+
+IF (QT_USE_QTDESIGNER)
+  QT_MODULE_SETUP(DESIGNER)
+ENDIF (QT_USE_QTDESIGNER)
+
+IF (QT_USE_QTMOTIF)
+  QT_MODULE_SETUP(MOTIF)
+ENDIF (QT_USE_QTMOTIF)
+
+IF (QT_USE_QTNSPLUGIN)
+  QT_MODULE_SETUP(NSPLUGIN)
+ENDIF (QT_USE_QTNSPLUGIN)
+
+IF (QT_USE_QTSVG)
+  QT_MODULE_SETUP(SVG)
+ENDIF (QT_USE_QTSVG)
+
+IF (QT_USE_QTUITOOLS)
+  QT_MODULE_SETUP(UITOOLS)
+ENDIF (QT_USE_QTUITOOLS)
+
+IF (NOT QT_DONT_USE_QTGUI)
+  QT_MODULE_SETUP(GUI)
+ENDIF (NOT QT_DONT_USE_QTGUI)
+
+IF (QT_USE_QTTEST)
+  QT_MODULE_SETUP(TEST)
+ENDIF (QT_USE_QTTEST)
+
+IF (QT_USE_QTXML)
+  QT_MODULE_SETUP(XML)
+ENDIF (QT_USE_QTXML)
+
+IF (QT_USE_QTSQL)
+  QT_MODULE_SETUP(SQL)
+ENDIF (QT_USE_QTSQL)
+
+IF (QT_USE_QTNETWORK)
+  QT_MODULE_SETUP(NETWORK)
+ENDIF (QT_USE_QTNETWORK)
+
+IF (NOT QT_DONT_USE_QTCORE)
+  QT_MODULE_SETUP(CORE)
+ENDIF (NOT QT_DONT_USE_QTCORE)
+
+


Property changes on: branches/avidemux_2.4_branch/cmake/UseQt4.cmake
___________________________________________________________________
Name: svn:executable
   + *

Added: branches/avidemux_2.4_branch/cmake/lavcodec.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/lavcodec.cmake	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/cmake/lavcodec.cmake	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,56 @@
+MACRO(SET_LAVCODEC_FLAGS)
+##
+SET(CONFIG_WMV3_DECODER 1)
+SET(CONFIG_VC1_DECODER 1)
+SET(CONFIG_RISKY 1)
+SET(CONFIG_ENCODERS 1)
+SET(CONFIG_DECODERS 1)
+SET(CONFIG_QDM2_DECODER 1)
+SET(CONFIG_MPEGAUDIO_HP 1)
+##
+SET(CONFIG_SNOW_ENCODER 1)
+SET(CONFIG_AC3_ENCODER 1)
+SET(CONFIG_MP2_ENCODER 1)
+SET(CONFIG_MPEG1VIDEO_ENCODER 1)
+SET(CONFIG_MPEG2VIDEO_ENCODER 1)
+SET(CONFIG_H263_ENCODER 1)
+SET(CONFIG_H263P_ENCODER 1)
+SET(CONFIG_MPEG4_ENCODER 1)
+SET(CONFIG_MSMPEG4V3_ENCODER 1)
+SET(CONFIG_MJPEG_ENCODER 1)
+SET(CONFIG_HUFFYUV_ENCODER 1)
+SET(CONFIG_FFVHUFF_ENCODER 1)
+SET(CONFIG_FFV1_ENCODER 1)
+##
+SET(CONFIG_SNOW_DECODER 1)
+SET(CONFIG_TSCC_DECODER 1)
+SET(CONFIG_ZLIB 1)
+SET(CONFIG_MPEG1VIDEO_DECODER 1)
+SET(CONFIG_MPEG2VIDEO_DECODER 1)
+SET(CONFIG_H263_DECODER 1)
+SET(CONFIG_H263P_DECODER 1)
+SET(CONFIG_H264_DECODER 1)
+SET(CONFIG_MPEG4_DECODER 1)
+SET(CONFIG_MSMPEG4V3_DECODER 1)
+SET(CONFIG_MSMPEG4V2_DECODER 1)
+SET(CONFIG_MJPEG_DECODER 1)
+SET(CONFIG_HUFFYUV_DECODER 1)
+SET(CONFIG_FFVHUFF_DECODER 1)
+SET(CONFIG_FFV1_DECODER 1)
+SET(CONFIG_CYUV_DECODER 1)
+SET(CONFIG_SVQ3_DECODER 1)
+SET(CONFIG_WMAV2_DECODER 1)
+SET(CONFIG_DVVIDEO_DECODER 1)
+SET(CONFIG_DVVIDEO_ENCODER 1)
+SET(CONFIG_WMV2_DECODER 1)
+SET(CONFIG_WMV1_DECODER 1)
+SET(CONFIG_MUXERS 1)
+SET(CONFIG_TG2_MUXER 1)
+SET(CONFIG_TGP_MUXER 1)
+SET(CONFIG_PSP_MUXER 1)
+SET(CONFIG_MP4_MUXER 1)
+SET(CONFIG_MOV_MUXER 1)
+SET(HAVE_THREADS 1)
+ENDMACRO(SET_LAVCODEC_FLAGS)
+##
+#

Added: branches/avidemux_2.4_branch/config.h.cmake
===================================================================
--- branches/avidemux_2.4_branch/config.h.cmake	2007-05-27 18:44:33 UTC (rev 3157)
+++ branches/avidemux_2.4_branch/config.h.cmake	2007-05-28 13:03:46 UTC (rev 3158)
@@ -0,0 +1,517 @@
+/* config.h.in.  Generated from configure.in by autoheader.  */
+
+/* MPEG2DEC */
+#cmakedefine ACCEL_DETECT
+
+/* Big endian CPU - SPARC or PowerPC */
+#cmakedefine ADM_BIG_ENDIAN
+
+/* BSD OS specific ifdef */
+#cmakedefine ADM_BSD_FAMILY
+
+/* be verbose */
+#cmakedefine ADM_DEBUG
+
+#cmakedefine HAVE_AUDIO
+
+/* Sparc workstations */
+#cmakedefine ADM_SPARC
+
+/* "Build for windows 32bits" */
+#cmakedefine ADM_WIN32
+
+/* "ALSA is 1.0" */
+#cmakedefine ALSA_1_0_SUPPORT
+
+/* "use ALSA as possible audio device" */
+#cmakedefine ALSA_SUPPORT
+
+/* AMR_NB */
+#cmakedefine AMR_NB
+
+/* "X86_64 AMD64 assembly" */
+#cmakedefine ARCH_64_BITS
+
+/* Enable PowerPC optim */
+#cmakedefine ARCH_POWERPC
+
+/* AltiVec for libmpeg2 */
+#cmakedefine ARCH_PPC
+
+/* post proc */
+#cmakedefine ARCH_X86
+
+/* "X86_32 assembly" */
+#cmakedefine ARCH_X86_32
+
+/* "X86_64 AMD64 assembly" */
+#cmakedefine ARCH_X86_64
+
+/* CONFIG_AC3_ENCODER */
+#cmakedefine CONFIG_AC3_ENCODER
+
+/* AMR_NB */
+#cmakedefine CONFIG_AMR_NB
+
+/* CONFIG_FFV1_ENCODER */
+#cmakedefine CONFIG_CYUV_DECODER
+
+/* Inform FFmpeg we are using Darwin Mac OS X */
+#cmakedefine CONFIG_DARWIN
+
+/* FFMPEG */
+#cmakedefine CONFIG_DECODERS
+
+/* CONFIG_FFV1_ENCODER */
+#cmakedefine CONFIG_DVVIDEO_DECODER
+
+/* DV encoder */
+#cmakedefine CONFIG_DVVIDEO_ENCODER
+
+/* FFMPEG */
+#cmakedefine CONFIG_ENCODERS
+
+/* CONFIG_FFV1_ENCODER */
+#cmakedefine CONFIG_FFV1_DECODER
+
+/* CONFIG_FFV1_ENCODER */
+#cmakedefine CONFIG_FFV1_ENCODER
+
+/* CONFIG_FFVHUFF_ENCODER */
+#cmakedefine CONFIG_FFVHUFF_DECODER
+
+/* CONFIG_FFVHUFF_ENCODER */
+#cmakedefine CONFIG_FFVHUFF_ENCODER
+
+/* CONFIG_H263P_ENCODER */
+#cmakedefine CONFIG_H263P_DECODER
+
+/* CONFIG_H263P_ENCODER */
+#cmakedefine CONFIG_H263P_ENCODER
+
+/* CONFIG_H263_ENCODER */
+#cmakedefine CONFIG_H263_DECODER
+
+/* CONFIG_H263_ENCODER */
+#cmakedefine CONFIG_H263_ENCODER
+
+/* CONFIG_H263P_ENCODER */
+#cmakedefine CONFIG_H264_DECODER
+
+/* CONFIG_HUFFYUV_ENCODER */
+#cmakedefine CONFIG_HUFFYUV_DECODER
+
+/* CONFIG_HUFFYUV_ENCODER */
+#cmakedefine CONFIG_HUFFYUV_ENCODER
+
+/* CONFIG_MJPEG_ENCODER */
+#cmakedefine CONFIG_MJPEG_DECODER
+
+/* CONFIG_MJPEG_ENCODER */
+#cmakedefine CONFIG_MJPEG_ENCODER
+
+/* CONFIG_MUXERS */
+#cmakedefine CONFIG_MOV_MUXER
+
+/* CONFIG_MP2_ENCODER */
+#cmakedefine CONFIG_MP2_ENCODER
+
+/* CONFIG_MUXERS */
+#cmakedefine CONFIG_MP4_MUXER
+
+/* CONFIG_MPEG1VIDEO_ENCODER */
+#cmakedefine CONFIG_MPEG1VIDEO_DECODER
+
+/* CONFIG_MPEG1VIDEO_ENCODER */
+#cmakedefine CONFIG_MPEG1VIDEO_ENCODER
+
+/* CONFIG_MPEG2VIDEO_ENCODER */
+#cmakedefine CONFIG_MPEG2VIDEO_DECODER
+
+/* CONFIG_MPEG2VIDEO_ENCODER */
+#cmakedefine CONFIG_MPEG2VIDEO_ENCODER
+
+/* CONFIG_MPEG4_ENCODER */
+#cmakedefine CONFIG_MPEG4_DECODER
+
+/* CONFIG_MPEG4_ENCODER */
+#cmakedefine CONFIG_MPEG4_ENCODER
+
+/* FFMPEG */
+#cmakedefine CONFIG_MPEGAUDIO_HP
+
+/* CONFIG_MSMPEG4V3_ENCODER */
+#cmakedefine CONFIG_MSMPEG4V2_DECODER
+
+/* CONFIG_MSMPEG4V3_ENCODER */
+#cmakedefine CONFIG_MSMPEG4V3_DECODER
+
+/* CONFIG_MSMPEG4V3_ENCODER */
+#cmakedefine CONFIG_MSMPEG4V3_ENCODER
+
+/* CONFIG_MUXERS */
+#cmakedefine CONFIG_MUXERS
+
+/* CONFIG_MUXERS */
+#cmakedefine CONFIG_PSP_MUXER
+
+/* FFMPEG */
+#cmakedefine CONFIG_QDM2_DECODER
+
+/* FFMPEG */
+#cmakedefine CONFIG_RISKY
+
+/* CONFIG_SNOW_DECODER */
+#cmakedefine CONFIG_SNOW_DECODER
+
+/* CONFIG_SNOW_ENCODER */
+#cmakedefine CONFIG_SNOW_ENCODER
+
+/* CONFIG_FFV1_ENCODER */
+#cmakedefine CONFIG_SVQ3_DECODER
+
+/* CONFIG_MUXERS */
+#cmakedefine CONFIG_TG2_MUXER
+
+/* CONFIG_MUXERS */
+#cmakedefine CONFIG_TGP_MUXER
+
+/* CONFIG_MPEG1VIDEO_ENCODER */
+#cmakedefine CONFIG_TSCC_DECODER
+
+/* FFMPEG */
+#cmakedefine CONFIG_VC1_DECODER
+
+/* CONFIG_FFV1_ENCODER */
+#cmakedefine CONFIG_WMAV2_DECODER
+
+/* CONFIG_FFV1_ENCODER */
+#cmakedefine CONFIG_WMV1_DECODER
+
+/* CONFIG_FFV1_ENCODER */
+#cmakedefine CONFIG_WMV2_DECODER
+
+/* FFMPEG */
+#cmakedefine CONFIG_WMV3_DECODER
+
+/* CONFIG_MPEG1VIDEO_ENCODER */
+#cmakedefine CONFIG_ZLIB
+
+/* "Name mangling" */
+#cmakedefine CYG_MANGLING
+
+/* roundup function */
+#cmakedefine EMULATE_FAST_INT
+
+/* Define to 1 if translation of program messages to the user's native
+   language is requested. */
+#cmakedefine ENABLE_NLS
+
+/* Mad */
+#cmakedefine FPM_DEFAULT
+
+/* Mad */
+#cmakedefine FPM_INTEL
+
+/* Mad */
+#cmakedefine FPM_PPC
+
+/* Mad */
+#cmakedefine FPM_SPARC
+
+/* Using GCC 2.9x.x */
+#cmakedefine GCC_2_95_X
+
+/* gettext package name */
+#cmakedefine GETTEXT_PACKAGE
+
+/* Define to 1 if you have the <alsa/asoundlib.h> header file. */
+#cmakedefine HAVE_ALSA_ASOUNDLIB_H
+
+/* AltiVec for mpeg2enc */
+#cmakedefine HAVE_ALTIVEC
+
+/* Enable AltiVec by default */
+#cmakedefine HAVE_ALTIVEC_H
+
+/* Define to 1 if you have the <artsc.h> header file. */
+#cmakedefine HAVE_ARTSC_H
+
+/* Enable AltiVec by default */
+#cmakedefine HAVE_BUILTIN_VECTOR
+
+/* Define to 1 if you have the MacOS X function CFLocaleCopyCurrent in the
+   CoreFoundation framework. */
+#cmakedefine HAVE_CFLOCALECOPYCURRENT
+
+/* Define to 1 if you have the MacOS X function CFPreferencesCopyAppValue in
+   the CoreFoundation framework. */
+#cmakedefine HAVE_CFPREFERENCESCOPYAPPVALUE
+
+/* Define if the GNU dcgettext() function is already present or preinstalled.
+   */
+#cmakedefine HAVE_DCGETTEXT
+
+/* Define to 1 if you have the <dlfcn.h> header file. */
+#cmakedefine HAVE_DLFCN_H
+
+/* Define to 1 if you have the <dts.h> header file. */
+#cmakedefine HAVE_DTS_H
+
+/* Define to 1 if you have the <dts_internal.h> header file. */
+#cmakedefine HAVE_DTS_INTERNAL_H
+
+/* Define to 1 if you have the <faac.h> header file. */
+#cmakedefine HAVE_FAAC_H
+
+/* Define to 1 if you have the <faad.h> header file. */
+#cmakedefine HAVE_FAAD_H
+
+/* "FontConfig detected" */
+#cmakedefine HAVE_FONTCONFIG
+
+/* Define if the GNU gettext() function is already present or preinstalled. */
+#cmakedefine HAVE_GETTEXT
+
+/* Define to 1 if you have the `gettimeofday' function. */
+#cmakedefine HAVE_GETTIMEOFDAY
+
+/* Define if you have the iconv() function. */
+#cmakedefine HAVE_ICONV
+
+/* Define to 1 if you have the <inttypes.h> header file. */
+#cmakedefine HAVE_INTTYPES_H
+
+/* Define to 1 if you have the <lame/lame.h> header file. */
+#cmakedefine HAVE_LAME_LAME_H
+
+/* Define to 1 if you have the `aften' library (-laften). */
+#cmakedefine HAVE_LIBAFTEN
+
+/* Define to 1 if you have the `amrnb' library (-lamrnb). */
+#cmakedefine HAVE_LIBAMRNB
+
+/* Define to 1 if you have the `asound' library (-lasound). */
+#cmakedefine HAVE_LIBASOUND
+
+/* Define to 1 if you have the `dts' library (-ldts). */
+#cmakedefine HAVE_LIBDTS
+
+/* Define to 1 if you have the `esd' library (-lesd). */
+#cmakedefine HAVE_LIBESD
+
+/* Define to 1 if you have the `faac' library (-lfaac). */
+#cmakedefine HAVE_LIBFAAC
+
+/* Define to 1 if you have the `faad' library (-lfaad). */
+#cmakedefine HAVE_LIBFAAD
+
+/* Define to 1 if you have the `fontconfig' library (-lfontconfig). */
+#cmakedefine HAVE_LIBFONTCONFIG
+
+/* Define to 1 if you have the `mp3lame' library (-lmp3lame). */
+#cmakedefine HAVE_LIBMP3LAME
+
+/* Define to 1 if you have the `png' library (-lpng). */
+#cmakedefine HAVE_LIBPNG
+
+/* Define to 1 if you have the `vorbis' library (-lvorbis). */
+#cmakedefine HAVE_LIBVORBIS
+
+/* Define to 1 if you have the `vorbisenc' library (-lvorbisenc). */
+#cmakedefine HAVE_LIBVORBISENC
+
+/* Define to 1 if you have the `x264' library (-lx264). */
+#cmakedefine HAVE_LIBX264
+
+/* Define to 1 if you have the <libxml/parser.h> header file. */
+#cmakedefine HAVE_LIBXML_PARSER_H
+
+/* Define to 1 if you have the `Xv' library (-lXv). */
+#cmakedefine HAVE_LIBXV
+
+/* Define to 1 if you have the `xvidcore' library (-lxvidcore). */
+#cmakedefine HAVE_LIBXVIDCORE
+
+/* roundup function */
+#cmakedefine HAVE_LRINTF
+
+/* Use malloc.h */
+#cmakedefine HAVE_MALLOC_H
+
+/* Define to 1 if you have the <malloc/malloc.h> header file. */
+#cmakedefine HAVE_MALLOC_MALLOC_H
+
+/* Define to 1 if you have the <memory.h> header file. */
+#cmakedefine HAVE_MEMORY_H
+
+/* post proc */
+#cmakedefine HAVE_MMX
+
+/* Define to 1 if you have the <stdint.h> header file. */
+#cmakedefine HAVE_STDINT_H
+
+/* Define to 1 if you have the <stdlib.h> header file. */
+#cmakedefine HAVE_STDLIB_H
+
+/* Define to 1 if you have the <strings.h> header file. */
+#cmakedefine HAVE_STRINGS_H
+
+/* Define to 1 if you have the <string.h> header file. */
+#cmakedefine HAVE_STRING_H
+
+/* Define to 1 if you have the <sys/shm.h> header file. */
+#cmakedefine HAVE_SYS_SHM_H
+
+/* Define to 1 if you have the <sys/stat.h> header file. */
+#cmakedefine HAVE_SYS_STAT_H
+
+/* Define to 1 if you have the <sys/types.h> header file. */
+#cmakedefine HAVE_SYS_TYPES_H
+
+/* HAVE_THREADS */
+#cmakedefine HAVE_THREADS
+
+/* Define to 1 if you have the <unistd.h> header file. */
+#cmakedefine HAVE_UNISTD_H
+
+/* Define to 1 if you have the <X11/extensions/XShm.h> header file. */
+#cmakedefine HAVE_X11_EXTENSIONS_XSHM_H
+
+/* Define to 1 if you have the <X11/extensions/Xvlib.h> header file. */
+#cmakedefine HAVE_X11_EXTENSIONS_XVLIB_H
+
+/* stricter prototyping */
+#cmakedefine ICONV_NEED_CONST
+
+/* "SSE on Cywin" */
+#cmakedefine MEMALIGN_HACK
+
+/* use classing FAAD support */
+#cmakedefine OLD_FAAD_PROTO
+
+/* OSS detected */
+#cmakedefine OSS_SUPPORT
+
+/* Name of package */
+#cmakedefine PACKAGE
+
+/* Define to the address where bug reports for this package should be sent. */
+#cmakedefine PACKAGE_BUGREPORT
+
+/* Define to the full name of this package. */
+#cmakedefine PACKAGE_NAME
+
+/* Define to the full name and version of this package. */
+#cmakedefine PACKAGE_STRING
+
+/* Define to the one symbol short name of this package. */
+#cmakedefine PACKAGE_TARNAME
+
+/* Define to the version of this package. */
+#cmakedefine PACKAGE_VERSION
+
+/* "Let FFmpeg decide which is faster" */
+#cmakedefine RUNTIME_CPUDETECT
+
+/* Define to 1 if you have the ANSI C header files. */
+#cmakedefine STDC_HEADERS
+
+/* use liba52 */
+#cmakedefine USE_AC3
+
+/* use Aften AC3 encoder */
+#cmakedefine USE_AFTEN
+
+/* Use Aften 0.05 or earlier */
+#cmakedefine USE_AFTEN_05
+
+/* Use Aften 0.06 */
+#cmakedefine USE_AFTEN_06
+
+/* AltiVec for mpeg2enc */
+#cmakedefine USE_ALTIVEC
+
+/* Tell avidemux to use libamrnb */
+#cmakedefine USE_AMR_NB
+
+/* "aRts detected" */
+#cmakedefine USE_ARTS
+
+/* ESD detected */
+#cmakedefine USE_ESD
+
+/* "Use faac audio enccoder" */
+#cmakedefine USE_FAAC
+
+/* FAAD2 detected */
+#cmakedefine USE_FAAD
+
+/* FFmpeg */
+#cmakedefine USE_FFMPEG
+
+/* "FontConfig detected" */
+#cmakedefine USE_FONTCONFIG
+
+/* "FreeType2 detected" */
+#cmakedefine USE_FREETYPE
+
+/* "use late binding of selected libraries" */
+#cmakedefine USE_LATE_BINDING
+
+/* "libdca detected" */
+#cmakedefine USE_LIBDCA
+
+/* Libxml2 is available */
+#cmakedefine USE_LIBXML2
+
+/* MJPEG */
+#cmakedefine USE_MJPEG
+
+/* use libmad */
+#cmakedefine USE_MP3
+
+/* libpng is available */
+#cmakedefine USE_PNG
+
+/* SDL detected */
+#cmakedefine USE_SDL
+
+/* Vorbis detected */
+#cmakedefine USE_VORBIS
+
+/* use x264 encoder */
+#cmakedefine USE_X264
+
+/* XVideo detected */
+#cmakedefine USE_XV
+
+/* use Xvid 1.x API */
+#cmakedefine USE_XVID_4
+
+/* use Xvid 0.9 API */
+#cmakedefine USE_XX_XVID
+
+/* Version number of package */
+#cmakedefine VERSION
+
+/* Big endian CPU - SPARC or PowerPC */
+#cmakedefine WORDS_BIGENDIAN
+
+/* Define to 1 if the X Window System is missing or not being used. */
+#cmakedefine X_DISPLAY_MISSING
+
+/* "" */
+#cmakedefine fseeko
+
+/* "" */
+#cmakedefine ftello
+
+/* "rindex does not exist on Cygwin" */
+#cmakedefine index
+
+/* roundup function */
+#cmakedefine restrict
+
+/* "rindex does not exist on Cygwin" */
+#cmakedefine rindex



From mean at mail.berlios.de  Mon May 28 15:06:08 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 28 May 2007 15:06:08 +0200
Subject: [Avidemux-svn-commit] r3159 - in branches/avidemux_2.4_branch: .
	avidemux avidemux/ADM_editor avidemux/ADM_inputs
	avidemux/ADM_inputs/ADM_asf avidemux/ADM_inputs/ADM_nuv
	avidemux/ADM_libraries
	avidemux/ADM_libraries/ADM_lavcodec/i386 avidemux/ADM_ocr
	avidemux/ADM_userInterfaces
	avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog
	avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory
	avidemux/ADM_userInterfaces/ADM_NONE/ADM_filters
	avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2
	avidemux/ADM_userInterfaces/ADM_commonUI avidemux/ADM_video
	avidemux/ADM_videoFilter
Message-ID: <200705281306.l4SD68hY011691@sheep.berlios.de>

Author: mean
Date: 2007-05-28 15:06:07 +0200 (Mon, 28 May 2007)
New Revision: 3159

Modified:
   branches/avidemux_2.4_branch/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_editor/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/i386/cputest.c
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_ocr/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_filters/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_video/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
Log:
updated cmake

Modified: branches/avidemux_2.4_branch/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
+++ branches/avidemux_2.4_branch/CMakeLists.txt	2007-05-28 13:06:07 UTC (rev 3159)
@@ -14,7 +14,6 @@
 
 include(Po)
 include(CheckCXXCompilerFlag)
-include(lavcodec)
 include(FindLibXml2)
 #**************************************************
 # libxml2
@@ -31,6 +30,19 @@
              MESSAGE(FATAL_ERROR "Could not find pkg-config")
 endif(NOT PKGCONFIG_EXECUTABLE)
 #**************************************************
+# Search for FREETYPE
+#**************************************************
+PKGCONFIG(freetype2 FT_INCLUDE FT_LIB FT_LDFLAGS FT_CFLAGS)
+
+IF(NOT FT_INCLUDE)
+    MESSAGE("Could not find Freetype ")
+ELSE(NOT FT_INCLUDE)
+    SET(FT_FOUND TRUE)
+    SET(FT_CFLAGS ${FT_CFLAGS})
+    SET(FT_INCLUDE ${FT_INCLUDE})
+    MESSAGE("FreeType Found ("${FT_CFLAGS} ${FT_INCLUDE}")")
+ENDIF(NOT FT_INCLUDE)
+#**************************************************
 # Search for  X11 (not on windows)
 #**************************************************
 if(NOT WIN32)
@@ -51,6 +63,8 @@
 ELSE(NOT GLIB_INCLUDE)
     SET(GLIB_FOUND,TRUE)
     SET(GLIB_CFLAGS,${GLIB_CFLAGS})
+    SET(GLIB_LDFLAGS,${GLIB_LDFLAGS})
+    SET(GLIB_LIB,${GLIB_LIB})
     MESSAGE("GLIB Found ("${GLIB_CFLAGS}")")
 ENDIF(NOT GLIB_INCLUDE)
 #**************************************************
@@ -62,10 +76,26 @@
 IF(NOT GTK_CFLAGS)
     MESSAGE("Could not find GTK - cannot compile avidemux2_gtk here")
 ELSE(NOT GTK_CFLAGS)
-    SET(GTK_FOUND,TRUE)
+    SET(GTK_FOUND TRUE)
+    SET(GTK_CFLAGS,${GTK_CFLAGS})
+    SET(GTK_LDFLAGS,${GTK_LDFLAGS})
+    SET(GTK_LIB,${GTK_LIB})
     MESSAGE("GTK Found")
 ENDIF(NOT GTK_CFLAGS)
 #**************************************************
+# Search for Gthread through PKG-Config
+#**************************************************
+MESSAGE("Checking for GTK")
+PKGCONFIG(gthread-2.0 GTHREAD_INCLUDE GTHREAD_LIB GTHREAD_LDFLAGS GTHREAD_CFLAGS)
+
+IF(NOT GTHREAD_CFLAGS)
+    MESSAGE("Could not find GTHREAD")
+    SET(GTK_FOUND FALSE)
+ELSE(NOT GTHREAD_CFLAGS)
+    SET(GTHREAD_LDFLAGS,${GTHREAD_LDFLAGS})
+    MESSAGE("GTHREAD Found")
+ENDIF(NOT GTHREAD_CFLAGS)
+#**************************************************
 # Search for QT4 
 #**************************************************
 MESSAGE("Checking for QT4")
@@ -80,7 +110,6 @@
 include_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR} ${CMAKE_CURRENT_BINARY_DIR}/avidemux ${CMAKE_CURRENT_BINARY_DIR}/avidemux/ADM_libraries)
 include_directories(${CMAKE_CURRENT_BINARY_DIR}/avidemux/ADM_libraries/ADM_utilities/ ${CMAKE_CURRENT_BINARY_DIR}/avidemux/ADM_libraries/ADM_lavutil)
 include_directories(${CMAKE_CURRENT_BINARY_DIR}/avidemux/ADM_libraries/ADM_lavcodec  )
-SET_LAVCODEC_FLAGS()
 #**********************************************
 # Some CFLAGS
 #**********************************************

Modified: branches/avidemux_2.4_branch/avidemux/ADM_editor/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_editor/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
+++ branches/avidemux_2.4_branch/avidemux/ADM_editor/CMakeLists.txt	2007-05-28 13:06:07 UTC (rev 3159)
@@ -2,3 +2,4 @@
 SET(ADM_editor_SRCS ADM_edAudio.cpp  ADM_edCache.cpp      ADM_edIdentify.cpp  ADM_edLoadSave.cpp  ADM_edSearch.cpp  ADM_Video.cpp
 ADMedAVIAUD.cpp  ADM_edFrameType.cpp  ADM_edit.cpp        ADM_edRender.cpp    ADM_edStub.cpp)
 ADD_LIBRARY(ADM_editor STATIC ${ADM_editor_SRCS})
+include_directories(../ADM_inputs)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_asf/CMakeLists.txt	2007-05-28 13:06:07 UTC (rev 3159)
@@ -1,4 +1,4 @@
 
 SET(ADM_asf_SRCS 
 ADM_asf_audio.cpp  ADM_asfChunk.cpp  ADM_asf.cpp  ADM_asfPacket.cpp)
-ADD_LIBRARY(ADM_asf STATIC ${ADM_asf_SRCS})
+ADD_LIBRARY(ADM_asf STATIC ${ADM_asf_SRCS})
\ No newline at end of file

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/CMakeLists.txt	2007-05-28 13:06:07 UTC (rev 3159)
@@ -1,6 +1,7 @@
 
 SET(ADM_nuv_SRCS 
-ADM_nuvAudio.cpp  ADM_nuv.cpp  RTjpegN.cpp  RToldformat.cpp)
+ADM_nuvAudio.cpp  ADM_nuv.cpp  minilzo.c  RTjpeg.c  RTjpegN.cpp  RToldformat.cpp)
+
 ADD_LIBRARY(ADM_nuv STATIC ${ADM_nuv_SRCS})
 include_directories(..)
 include_directories(../../ADM_userInterfaces/ADM_commonUI)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/CMakeLists.txt	2007-05-28 13:06:07 UTC (rev 3159)
@@ -1,12 +1,61 @@
-add_subdirectory(ADM_asf)
-add_subdirectory(ADM_avsproxy)
-add_subdirectory(ADM_h263)
-add_subdirectory(ADM_inpics)
-add_subdirectory(ADM_matroska)
-add_subdirectory(ADM_mpegdemuxer)
-add_subdirectory(ADM_nuv)
-add_subdirectory(ADM_ogm)
-add_subdirectory(ADM_openDML)
+SET(ADM_inputs_SRCS 
+ADM_openDML/ADM_openDML.cpp
+ADM_openDML/ADM_opendml_reorder.cpp
+ADM_openDML/ADM_odml_odml.cpp
+ADM_openDML/ADM_openDMLDepack.cpp
+ADM_openDML/ADM_riff.cpp
+ADM_openDML/ADM_odml_audio.cpp
+ADM_openDML/ADM_odml_regular.cpp
+ADM_openDML/ADM_opendml_reindex.cpp
+ADM_mp4/ADM_mp4Indexer.cpp
+ADM_mp4/ADM_atom.cpp
+ADM_mp4/ADM_mp4.cpp
+ADM_mp4/ADM_mp4audio.cpp
+ADM_mp4/ADM_mp4Analyzer.cpp
+ADM_mp4/ADM_infoextractor.cpp
+ADM_mp4/ADM_mp4Leaf.cpp
+ADM_matroska/ADM_mkv.cpp
+ADM_matroska/ADM_mkv_audio.cpp
+ADM_matroska/ebml.cpp
+ADM_matroska/ADM_mkvTrackType.cpp
+ADM_matroska/ADM_mkvEntries.cpp
+ADM_matroska/mkv_tags.cpp
+ADM_matroska/ADM_mkvIndexer.cpp
+ADM_h263/ADM_mp4.cpp
+ADM_h263/ADM_h263.cpp
+ADM_h263/bitsRead.cpp
+ADM_mpegdemuxer/dmx_indexer_mpeg2.cpp
+ADM_mpegdemuxer/dmx_indexer.cpp
+ADM_mpegdemuxer/dmx_demuxerES.cpp
+ADM_mpegdemuxer/dmx_audio.cpp
+ADM_mpegdemuxer/dmx_indexer_h264.cpp
+ADM_mpegdemuxer/dmx_video.cpp
+ADM_mpegdemuxer/dmx_io.cpp
+ADM_mpegdemuxer/dmx_probe.cpp
+ADM_mpegdemuxer/dmx_demuxer.cpp
+ADM_mpegdemuxer/dmx_identify.cpp
+ADM_mpegdemuxer/dmx_demuxerPS.cpp
+ADM_mpegdemuxer/dmx_probeTS.cpp
+ADM_mpegdemuxer/dmx_demuxerTS.cpp
+ADM_mpegdemuxer/dmx_demuxerMSDVR.cpp
+ADM_ogm/ADM_ogm.cpp
+ADM_ogm/ADM_ogmpages.cpp
+ADM_ogm/ADM_ogmAudio.cpp
+ADM_ogm/ADM_ogmreorder.cpp
+ADM_inpics/ADM_pics.cpp
+ADM_nuv/minilzo.c
+ADM_nuv/RTjpeg.c
+ADM_nuv/RTjpegN.cpp
+ADM_nuv/ADM_nuvAudio.cpp
+ADM_nuv/ADM_nuv.cpp
+ADM_nuv/RToldformat.cpp
+ADM_asf/ADM_asfPacket.cpp
+ADM_asf/ADM_asfChunk.cpp
+ADM_asf/ADM_asf.cpp
+ADM_asf/ADM_asf_audio.cpp
+ADM_avsproxy/ADM_avsproxy_net.cpp
+ADM_avsproxy/ADM_avsproxy.cpp
+)
+ADD_LIBRARY(ADM_inputs STATIC ${ADM_inputs_SRCS})
+include_directories(./ )
 
-
-

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/i386/cputest.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/i386/cputest.c	2007-05-28 13:03:46 UTC (rev 3158)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/i386/cputest.c	2007-05-28 13:06:07 UTC (rev 3159)
@@ -83,7 +83,7 @@
         cpuid(1, eax, ebx, ecx, std_caps);
         if (std_caps & (1<<23))
             rval |= MM_MMX;
-#if 1	    
+#if 0	    
         if (std_caps & (1<<25))
             rval |= MM_MMXEXT | MM_SSE;
         if (std_caps & (1<<26))

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/CMakeLists.txt	2007-05-28 13:06:07 UTC (rev 3159)
@@ -1,16 +1,20 @@
-add_subdirectory(ADM_lavcodec)
-add_subdirectory(ADM_lavformat)
-add_subdirectory(ADM_lavutil)
-add_subdirectory(ADM_liba52)
-add_subdirectory(ADM_libass)
-add_subdirectory(ADM_libMad)
-add_subdirectory(ADM_libMpeg2Dec)
-add_subdirectory(ADM_libmpeg2enc)
-add_subdirectory(ADM_libswscale)
-add_subdirectory(ADM_libtwolame)
-add_subdirectory(ADM_libwrapper)
-add_subdirectory(ADM_lvemux)
-add_subdirectory(ADM_mplex)
-add_subdirectory(ADM_smjs)
-add_subdirectory(ADM_utilities)
-add_subdirectory(ADM_xvidratectl)
+subdirs (PREORDER ADM_lavcodec)
+subdirs (PREORDER ADM_lavformat)
+subdirs (PREORDER ADM_lavutil)
+subdirs (PREORDER ADM_liba52)
+subdirs (PREORDER ADM_libMad)
+subdirs (PREORDER ADM_libMpeg2Dec)
+subdirs (PREORDER ADM_libmpeg2enc)
+subdirs (PREORDER ADM_libswscale)
+subdirs (PREORDER ADM_libtwolame)
+subdirs (PREORDER ADM_libwrapper)
+subdirs (PREORDER ADM_lvemux)
+subdirs (PREORDER ADM_mplex)
+subdirs (PREORDER ADM_smjs)
+subdirs (PREORDER ADM_utilities)
+subdirs (PREORDER ADM_xvidratectl)
+subdirs (PREORDER ADM_libpostproc)
+
+if(FT_FOUND)
+subdirs (PREORDER ADM_libass)
+endif(FT_FOUND)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_ocr/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_ocr/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
+++ branches/avidemux_2.4_branch/avidemux/ADM_ocr/CMakeLists.txt	2007-05-28 13:06:07 UTC (rev 3159)
@@ -2,3 +2,4 @@
 SET(ADM_ocr_SRCS 
 adm_glyph.cpp  adm_leftturn.cpp  ADM_vob2vobsub.cpp)
 ADD_LIBRARY(ADM_ocr STATIC ${ADM_ocr_SRCS})
+include_directories(../ADM_inputs)
\ No newline at end of file

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/CMakeLists.txt	2007-05-28 13:06:07 UTC (rev 3159)
@@ -1,7 +1,15 @@
-include_directories(../../ADM_commonUI)
-include_directories(../../../ADM_inputs)
-
-SET(ADM_dialogNone_SRCS 
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_dialogNone)
+#
+SET(${ADM_LIB}_SRCS 
 alert_none.cpp  DIA_busy.cpp  DIA_encoding.cpp  DIA_flyDialog.cpp  DIA_indexing.cpp  DIA_none.cpp  DIA_working.cpp  OCR_none.cpp
 )
-ADD_LIBRARY(ADM_dialogNone STATIC ${ADM_dialogNone_SRCS})
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################
+include_directories(../../../ADM_inputs)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/CMakeLists.txt	2007-05-28 13:06:07 UTC (rev 3159)
@@ -1,6 +1,15 @@
-include_directories(../../)
-
-SET(ADM_dialogFactoryNone_SRCS 
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_dialogFactoryNone)
+#
+SET(${ADM_LIB}_SRCS 
 DIA_dialogFactory.cpp  FAC_toggle.cpp
 )
-ADD_LIBRARY(ADM_dialogFactoryNone STATIC ${ADM_dialogFactoryNone_SRCS})
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################
+include_directories(../..)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_filters/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_filters/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_filters/CMakeLists.txt	2007-05-28 13:06:07 UTC (rev 3159)
@@ -1,4 +1,17 @@
 
-SET(ADM_filtersNone_SRCS filter_none.cpp)
-ADD_LIBRARY(ADM_filtersNone STATIC ${ADM_filtersNone_SRCS})
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_dialogFiltersNone)
+#
+SET(${ADM_LIB}_SRCS 
+filter_none
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################
+include_directories(../..)
 include_directories(../ADM_commonUI)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/CMakeLists.txt	2007-05-28 13:06:07 UTC (rev 3159)
@@ -1,6 +1,15 @@
-include_directories(../../ADM_commonUI)
-
-SET(ADM_guiNone_SRCS 
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_dialogGuiNone)
+#
+SET(${ADM_LIB}_SRCS 
 file_none.cpp  gui_none.cpp  preview_none.cpp
 )
-ADD_LIBRARY(ADM_guiNone STATIC ${ADM_guiNone_SRCS})
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################
+#include_directories(../..)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt	2007-05-28 13:06:07 UTC (rev 3159)
@@ -1,10 +1,17 @@
-
-SET(ADM_commonUI_SRCS 
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_commonUI)
+#
+SET(${ADM_LIB}_SRCS
 DIA_audioconfig.cpp   DIA_DVDff.cpp           DIA_flyContrast.cpp  DIA_flySrtPos.cpp   DIA_mjpeg.cpp     DIA_resizeWiz.cpp  DIA_v2v.cpp
 DIA_audioFilter.cpp   DIA_enter.cpp           DIA_flyCrop.cpp      DIA_gototime.cpp    DIA_postproc.cpp  DIA_srt.cpp        GUI_render.cpp
 DIA_bitrateHisto.cpp  DIA_flyAsharp.cpp       DIA_flyDialog.cpp    DIA_lavcodec.cpp    DIA_prefs.cpp     DIA_SVCD.cpp       GUI_sdlRender.cpp
 DIA_builtin.cpp       DIA_flyChromaShift.cpp  DIA_flyHue.cpp       DIA_lavDecoder.cpp  DIA_requant.cpp   DIA_tdeint.cpp     GUI_xvRender.cpp
 )
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_userInterfaces)
 
-ADD_LIBRARY(ADM_commonUI STATIC ${ADM_commonUI_SRCS})
+####################################"
 include_directories(./..)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/CMakeLists.txt	2007-05-28 13:06:07 UTC (rev 3159)
@@ -1,8 +1,8 @@
-#if(QT4_FOUND)
-#add_subdirectory(ADM_QT4)
-#endifif(QT4_FOUND)
+subdirs(PREORDER ADM_NONE)
+subdirs(PREORDER ADM_commonUI)
 
-add_subdirectory(ADM_NONE)
-add_subdirectory(ADM_commonUI)
+if(GTK_FOUND)
+subdirs(PREORDER ADM_GTK)
+endif(GTK_FOUND)
 
 include_directories(ADM_commonUI)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/CMakeLists.txt	2007-05-28 13:06:07 UTC (rev 3159)
@@ -8,3 +8,4 @@
 ADM_vidClean.cpp        ADM_vidEqualizer.cpp  ADM_vidNull.cpp          ADM_vidSRTRender.cpp
 )
 ADD_LIBRARY(ADM_video STATIC ${ADM_video_SRCS})
+include_directories(../ADM_inputs)
\ No newline at end of file

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/CMakeLists.txt	2007-05-28 13:06:07 UTC (rev 3159)
@@ -8,5 +8,6 @@
 ADM_vidBSmear.cpp        ADM_vidDropOut.cpp          ADM_vidKernelDeint.cpp      ADM_vidMsmooth.cpp    ADM_vidSoften.cpp
 ADM_vidChroma.cpp        ADM_vidFade.cpp             ADM_vidLargeMedian.cpp      ADM_vidPalShift.cpp   ADM_vidStabilize.cpp
 ADM_vidDecDec.cpp        ADM_vidFastConvolution.cpp  ADM_vidLuma.cpp             ADM_vidPalSmart.cpp   ADM_vidSwapFields.cpp
+ADM_vidYadif_asm.c
 )
 ADD_LIBRARY(ADM_videoFilter STATIC ${ADM_videoFilter_SRCS})

Modified: branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2007-05-28 13:03:46 UTC (rev 3158)
+++ branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2007-05-28 13:06:07 UTC (rev 3159)
@@ -1,3 +1,10 @@
+##########################################################
+#
+#  Main CMake makefile for avidemux2
+#  It is not for the faint of heart and pretty ugly
+#
+##########################################################
+
 INCLUDE(Po)
 MESSAGE("GTK:"${GTK_CFLAGS}"GLIB:"${GLIB_CFLAGS})
 
@@ -3,94 +10,133 @@
 SET(adm_EXE_SRCS ADM_preview.cpp  gtk_gui.cpp  gui_autodrive.cpp  GUI_jobs.cpp  gui_navigate.cpp  guiplay.cpp  gui_savenew.cpp  main.cpp )
 COMPILE_PO_FILES(${CMAKE_SOURCE_DIR}/po adm_EXE_SRCS)
+include_directories(ADM_userInterfaces/ADM_commonUI ADM_outputs)
+#
+# Normal subdirs, compile and link what is inside....
+#
+SET(ADM_SUBDIR 
+ADM_filter
+ADM_audiofilter 
+ADM_editor
+ADM_audiocodec 
+ADM_audio
+ADM_script 
 
+ADM_videoFilter
+ADM_filter
+ADM_video 
+ADM_colorspace 
+ADM_audiodevice
+ADM_ocr  
 
+ADM_outputs
+ADM_inputs
+ADM_encoder
+ADM_codecs
+ADM_requant 
+ADM_toolkit  
+ADM_osSupport  
+)
 
-SET(ADM_SUBDIR ADM_audiocodec ADM_audiodevice ADM_audiofilter ADM_codecs ADM_colorspace ADM_editor ADM_encoder ADM_filter   ADM_ocr ADM_osSupport  ADM_requant ADM_script ADM_toolkit  ADM_video ADM_videoFilter)
-#ADM_inputs ADM_outputs
 
-ADD_EXECUTABLE(avidemux2_cli ${adm_EXE_SRCS} )
-
 ########################################################
-# Custom Rule to force evaluation if *INPUT* SUBDIR*
+# Our exectuables
 ########################################################
+ADD_EXECUTABLE(avidemux2_cli ${adm_EXE_SRCS} )
+if(GTK_FOUND)
+ADD_EXECUTABLE(avidemux2_gtk ${adm_EXE_SRCS} )
+endif(GTK_FOUND)
 
-# add_subdirectory(ADM_inputs)
-# SET(ADM_INPUT_SUBDIR 
-# ADM_asf
-# ADM_avsproxy
-# ADM_h263
-# ADM_inpics
-# ADM_matroska
-# ADM_mp4
-# ADM_mpegdemuxer
-# ADM_nuv
-# ADM_ogm
-# ADM_openDML
-# )
-# FOREACH(_current ${ADM_INPUT_SUBDIR})
-# 
-# ADD_CUSTOM_TARGET(  ADM_buildInput ALL
-#                     COMMAND make
-#                     DEPENDS 
-#                     WORKING_DIRECTORY ${CMAKE_SOURCE_DIR}/avidemux/ADM_inputs
-#                     COMMENT "Building inputs")
-# 
-# ENDFOREACH(_current ${ADM_SUBDIR})
-# 
-# add_subdirectory(ADM_userInterfaces)
-########################################################
-# Custom Rule to force evaluation if *CommonUI*
-########################################################
-# add_subdirectory(ADM_userInterfaces/ADM_commonUI)
-# 
-# 
-# add_subdirectory(ADM_userInterfaces/ADM_commonUI)
-# ADD_CUSTOM_TARGET(  ADM_buildInput ALL
-#                     COMMAND make
-#                     DEPENDS 
-#                     WORKING_DIRECTORY ${CMAKE_SOURCE_DIR}/avidemux/ADM_userInterfaces/ADM_commonUI
-#                     COMMENT "Building commonUI")
+add_definitions(${GLIB_CFLAGS})
+###########################################
+# Build Regular Subdirs
+###########################################
+FOREACH(_current ${ADM_SUBDIR})
+subdirs (PREORDER ${_current})
+TARGET_LINK_LIBRARIES(avidemux2_cli ${_current})
+if(GTK_FOUND)
+TARGET_LINK_LIBRARIES(avidemux2_gtk ${_current})
+endif(GTK_FOUND)
 
-########################################################
-# Custom Rule to force evaluation if *None UI*
-########################################################
+ENDFOREACH(_current ${ADM_SUBDIR})
 
-# add_subdirectory(ADM_userInterfaces/ADM_NONE)
-# SET(ADM_NONE_SUBDIR 
-# ADM_dialog
-# ADM_dialogFactory
-# ADM_filters
-# ADM_gui2
-# )
-# FOREACH(_current ${ADM_NONE_SUBDIR})
-# 
-# ADD_CUSTOM_TARGET(  ADM_buildInput ALL
-#                     COMMAND make
-#                     DEPENDS 
-#                     WORKING_DIRECTORY ${CMAKE_SOURCE_DIR}/avidemux/ADM_userInterfaces/ADM_NONE/${_current}
-#                     COMMENT "Building NONE")
-# 
-# ENDFOREACH(_current ${ADM_NONE_SUBDIR})
+###########################################
+# Construct ADM_libraries
+###########################################
+subdirs (PREORDER ADM_libraries)
+LINK_DIRECTORIES(ADM_libraries)
+SET(ADM_LIBRARIES
 
+ADM_lavformat
+ADM_lavcodec
+ADM_lavutil
+ADM_liba52
+ADM_libMad
+ADM_mplex
+ADM_libMpeg2Dec
+ADM_libmpeg2enc
+ADM_libswscale
+ADM_libtwolame
+ADM_libwrapper
+ADM_lvemux
+ADM_smjs
+ADM_utilities
+ADM_xvidratectl
+ADM_libpostproc
+)
+if(FT_FOUND)
+SET(ADM_LIBRARIES ${ADM_LIBRARIES}  ADM_libass)
+ENDIF(FT_FOUND)
 
-# ** User interfaces **
+FOREACH(_current ${ADM_LIBRARIES})
+TARGET_LINK_LIBRARIES(avidemux2_cli ${_current})
+if(GTK_FOUND)
+TARGET_LINK_LIBRARIES(avidemux2_gtk ${_current})
+endif(GTK_FOUND)
 
-add_definitions(${GLIB_CFLAGS})
+ENDFOREACH(_current ${ADM_SUBDIR})
 
-include_directories(ADM_userInterfaces/ADM_commonUI)
-include_directories(ADM_inputs)
-include_directories(ADM_outputs)
+###########################################
+# Construct ADM_userInterface
+###########################################
+subdirs (PREORDER ADM_userInterfaces)
 
-FOREACH(_current ${ADM_SUBDIR})
-add_subdirectory(${_current})
-ENDFOREACH(_current ${ADM_SUBDIR})
+LINK_DIRECTORIES(ADM_userInterfaces)
+LINK_DIRECTORIES(ADM_userInterfaces/ADM_NONE)
 
 
+TARGET_LINK_LIBRARIES(avidemux2_cli ADM_commonUI )
+TARGET_LINK_LIBRARIES(avidemux2_cli ADM_dialogNone )
+TARGET_LINK_LIBRARIES(avidemux2_cli ADM_dialogFactoryNone )
+TARGET_LINK_LIBRARIES(avidemux2_cli ADM_dialogFiltersNone )
+TARGET_LINK_LIBRARIES(avidemux2_cli ADM_dialogGuiNone )
 
-FOREACH(_current ${ADM_SUBDIR})
-TARGET_LINK_LIBRARIES(avidemux2_cli ${_current})
-ENDFOREACH(_current ${ADM_SUBDIR})
+if(GTK_FOUND)
+TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_ocrGtk )
+TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_ocr )
+TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_commonUI )
+TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_dialogGtk )
+TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_filtersGtk )
+TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_dialogFactoryGtk )
+TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_gui2Gtk )
+TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_toolkitGtk )
+TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_commonUI )
+endif(GTK_FOUND)
 
+###########################################
+# Add external libs
+###########################################
+TARGET_LINK_LIBRARIES(avidemux2_cli ${GLIB_LDFLAGS} )
+LINK_DIRECTORIES(avidemux2_cli ${GLIB_LIB}  )
+TARGET_LINK_LIBRARIES(avidemux2_cli xml2 )
+if(GTK_FOUND)
+TARGET_LINK_LIBRARIES(avidemux2_gtk ${GLIB_LDFLAGS} )
+LINK_DIRECTORIES(avidemux2_gtk ${GLIB_LIB}  )
+TARGET_LINK_LIBRARIES(avidemux2_gtk xml2 )
+TARGET_LINK_LIBRARIES(avidemux2_gtk ${GTK_LDFLAGS} )
+TARGET_LINK_LIBRARIES(avidemux2_gtk ${GTHREAD_LDFLAGS} ) # FIXME
+endif(GTK_FOUND)
 
 
+# /EOF
 
+



From mean at mail.berlios.de  Mon May 28 15:08:25 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 28 May 2007 15:08:25 +0200
Subject: [Avidemux-svn-commit] r3160 - in
	branches/avidemux_2.4_branch/avidemux: .
	ADM_libraries/ADM_libass ADM_libraries/ADM_libtwolame
	ADM_libraries/ADM_mplex ADM_ocr ADM_script
	ADM_userInterfaces/ADM_GTK/ADM_dialog
	ADM_userInterfaces/ADM_NONE/ADM_dialog ADM_video ADM_videoFilter
Message-ID: <200705281308.l4SD8PiV011924@sheep.berlios.de>

Author: mean
Date: 2007-05-28 15:08:22 +0200 (Mon, 28 May 2007)
New Revision: 3160

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libass/ass_render.c
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libass/ass_types.h
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libtwolame/twolame.c
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libtwolame/util.c
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/zalphastrm.hpp
   branches/avidemux_2.4_branch/avidemux/ADM_ocr/ADM_vob2vobsub.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSGlobal.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidEq2.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidFieldUnblend.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidHue.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTdeint.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidUnblend.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecDec.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDeintASM.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSoften.cpp
   branches/avidemux_2.4_branch/avidemux/guiplay.cpp
Log:
patched files for cmake

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libass/ass_render.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libass/ass_render.c	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libass/ass_render.c	2007-05-28 13:08:22 UTC (rev 3160)
@@ -122,18 +122,18 @@
 
 // Renderer state.
 // Values like current font face, color, screen position, clipping and so on are stored here.
-typedef enum EVENT_X
+typedef enum 
 {	EVENT_NORMAL, // "normal" top-, sub- or mid- title
 		EVENT_POSITIONED, // happens after pos(,), margins are ignored
 		EVENT_HSCROLL, // "Banner" transition effect, text_width is unlimited
 		EVENT_VSCROLL // "Scroll up", "Scroll down" transition effects
-		};
-typedef enum SCROLL_TYPE
+		}EVENT_X;
+typedef enum 
 { SCROLL_LR, // left-to-right
 	       SCROLL_RL,
 	       SCROLL_TB, // top-to-bottom
 	       SCROLL_BT
-	       };                    
+	       }SCROLL_TYPE;                    
 typedef struct render_context_s {
 	ass_event_t* event;
 	ass_style_t* style;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libass/ass_types.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libass/ass_types.h	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libass/ass_types.h	2007-05-28 13:08:22 UTC (rev 3160)
@@ -81,11 +81,12 @@
 
 typedef struct ass_library_s ass_library_t;
 /* MEANX */
-typedef enum TRACK_TYPE
+typedef enum 
 {
     TRACK_TYPE_UNKNOWN = 0, 
     TRACK_TYPE_ASS, 
-    TRACK_TYPE_SSA};
+    TRACK_TYPE_SSA
+    }TRACK_TYPE;
     /* MEANX */
 /// ass track represent either an external script or a matroska subtitle stream (no real difference between them)
 /// it can be used in rendering after the headers are parsed (i.e. events format line read)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libtwolame/twolame.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libtwolame/twolame.c	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libtwolame/twolame.c	2007-05-28 13:08:22 UTC (rev 3160)
@@ -666,7 +666,7 @@
     if (frameBits % 8) {	/* a program failure */
 		fprintf (stderr, "Sent %ld bits = %ld slots plus %ld\n", frameBits, frameBits/8, frameBits%8);
 		fprintf (stderr, "If you are reading this, the program is broken\n");
-		fprintf (stderr, "email %s with the command line arguments and other info\n", PACKAGE_BUGREPORT);
+		fprintf (stderr, "email %s with the command line arguments and other info\n", "noone at none.org");
 		return -1;
     }
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libtwolame/util.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libtwolame/util.c	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libtwolame/util.c	2007-05-28 13:08:22 UTC (rev 3160)
@@ -37,7 +37,7 @@
 // of this library
 const char* get_twolame_version( void )
 {
-	const char* str = PACKAGE_VERSION;
+	const char* str = "FOO BAR";
 	
 	return str;
 }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/zalphastrm.hpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/zalphastrm.hpp	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_mplex/zalphastrm.hpp	2007-05-28 13:08:22 UTC (rev 3160)
@@ -45,7 +45,7 @@
     virtual bool AUBufferNeedsRefill();
 	virtual void NextDTSPTS( clockticks &DTS, clockticks &PTS);
 	virtual void ScanFirstSeqHeader();
-    bool ZAlphaStream::RunOutComplete();
+    bool RunOutComplete();
 
 private:
     float z_min; 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_ocr/ADM_vob2vobsub.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_ocr/ADM_vob2vobsub.cpp	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_ocr/ADM_vob2vobsub.cpp	2007-05-28 13:08:22 UTC (rev 3160)
@@ -46,7 +46,7 @@
 #include "ADM_toolkit/filesel.h"
 #include "ADM_mpegdemuxer/dmx_demuxer.h"
 #include "ADM_mpegdemuxer/dmx_demuxerPS.h"
-#include "DIA_working.h"
+#include "ADM_userInterfaces/ADM_commonUI/DIA_working.h"
 #define ADM_VOBSUB_NO_PADDING
 static int vobsub_parse_ifo(const char *const name, 
                      uint32_t *palette, 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSGlobal.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSGlobal.cpp	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_script/ADM_JSGlobal.cpp	2007-05-28 13:08:22 UTC (rev 3160)
@@ -1,6 +1,7 @@
 #include "config.h"
 #include <stdio.h>
 #include <stdlib.h>
+#include <libintl.h>
 #include <string.h>
 #include <pthread.h>
 #include "default.h"

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp	2007-05-28 13:08:22 UTC (rev 3160)
@@ -55,6 +55,7 @@
   GdkPixbuf *aboutdialog1_logo_pixbuf;
   // MEANX : PATCH SVN VERSION
   char subversion[1024];
+  #define VERSION "CMAKE0"
   	if(!ADM_SUBVERSION)
 		{
 			strcpy(subversion,VERSION);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-05-28 13:08:22 UTC (rev 3160)
@@ -78,7 +78,7 @@
 #endif
 uint8_t DIA_animated(ANIMATED_PARAM *param){return 0;}
 uint8_t DIA_cnr2(CNR2Param *param){return 0;}
-uint8_t DIA_DVDffParam(COMPRES_PARAMS *incoming){return 0;}
+//uint8_t DIA_DVDffParam(COMPRES_PARAMS *incoming){return 0;}
 uint8_t DIA_getASharp(ASHARP_PARAM *param, AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getEQ2Param(Eq2_Param *param, AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_getEqualizer(EqualizerParam *param, ADMImage *image){return 0;}
@@ -88,8 +88,8 @@
 uint8_t DIA_getPartial(PARTIAL_CONFIG *param,AVDMGenericVideoStream *son,AVDMGenericVideoStream *previous){return 0;}
 uint8_t DIA_pipe(char **cmd,char **param){return 0;}
 //uint8_t  DIA_setUserMuxParam( int *mode, int *param, int *muxsize){return 0;}
-uint8_t DIA_SVCDParam(COMPRES_PARAMS *incoming){return 0;}
-uint8_t  DIA_tdeint(TDEINT_PARAM *param){return 0;}
+//uint8_t DIA_SVCDParam(COMPRES_PARAMS *incoming){return 0;}
+//uint8_t  DIA_tdeint(TDEINT_PARAM *param){return 0;}
 uint8_t DIA_vobsub(vobSubParam *param){return 0;}
 uint8_t DIA_x264(COMPRES_PARAMS *config){return 0;}
 uint8_t DIA_XVCDParam(char *title,COMPRESSION_MODE * mode, uint32_t * qz,
@@ -102,14 +102,14 @@
 uint8_t  DIA_job_select(char **jobname, char **filename) {return 0;}
 //uint8_t DIA_audioTrack(AudioSource *source, uint32_t *track,uint32_t nbTrack, audioInfo *infos){return 0;}
 const char * GUI_getCustomScript(uint32_t nb) {return 0;}
-uint8_t DIA_builtin(void){return 0;}
-uint8_t  DIA_v2v(char **vobname, char **ifoname,char **vobsubname) {return 0;}
+//uint8_t DIA_builtin(void){return 0;}
+//uint8_t  DIA_v2v(char **vobname, char **ifoname,char **vobsubname) {return 0;}
 uint8_t DIA_RecentFiles( char **name ){return 0;}
 
 uint8_t DIA_about( void ){return 0;}
-uint8_t DIA_Preferences(void){return 0;}
+//uint8_t DIA_Preferences(void){return 0;}
 void DIA_Calculator(uint32_t *sizeInMeg, uint32_t *avgBitrate ){return ;}
-uint8_t DIA_gotoTime(uint16_t *hh, uint16_t *mm, uint16_t *ss){return 0;}
+//uint8_t DIA_gotoTime(uint16_t *hh, uint16_t *mm, uint16_t *ss){return 0;}
 void DIA_properties( void){return ;}
 int GUI_handleVFilter (void){return 0;}
 uint8_t  initFileSelector(void){return 0;}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidEq2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidEq2.cpp	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidEq2.cpp	2007-05-28 13:08:22 UTC (rev 3160)
@@ -36,7 +36,7 @@
 #include "ADM_editor/ADM_edit.hxx"
 #include "ADM_video/ADM_genvideo.hxx"
 #include "ADM_filter/video_filters.h"
-#include "DIA_enter.h"
+#include "ADM_userInterfaces/ADM_commonUI/DIA_enter.h"
 #include "ADM_video/ADM_cache.h"
 
 #include "admmangle.h"

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidFieldUnblend.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidFieldUnblend.cpp	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidFieldUnblend.cpp	2007-05-28 13:08:22 UTC (rev 3160)
@@ -37,7 +37,7 @@
 #include "ADM_osSupport/ADM_debug.h"
 #include "ADM_video/ADM_cache.h"
 #include "ADM_filter/video_filters.h"
-#include "DIA_enter.h"
+#include "ADM_userInterfaces/ADM_commonUI/DIA_enter.h"
 
 #define MUL 1
 // Set it to 2 for post separate field
@@ -399,7 +399,7 @@
 	ADMImage *srcP,*srcN,*srcNN,*src,*final,*display;
         float distMerged, distN,distP,distM,distR;
         char txt[255];
-        if(frame>= _info.nb_frames) return 0;
+        if(inframe>= _info.nb_frames) return 0;
         if(inframe<1 || inframe>inframe>_info.nb_frames-2 )
         {
                 data->duplicate(vidCache->getImage(inframe));

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidHue.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidHue.cpp	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidHue.cpp	2007-05-28 13:08:22 UTC (rev 3160)
@@ -31,7 +31,7 @@
 #include "ADM_editor/ADM_edit.hxx"
 #include "ADM_video/ADM_genvideo.hxx"
 #include "ADM_filter/video_filters.h"
-#include "DIA_enter.h"
+#include "ADM_userInterfaces/ADM_commonUI/DIA_enter.h"
 #include "ADM_video/ADM_cache.h"
 
 #include "admmangle.h"

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTdeint.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTdeint.cpp	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidTdeint.cpp	2007-05-28 13:08:22 UTC (rev 3160)
@@ -52,7 +52,7 @@
 #include "ADM_osSupport/ADM_debug.h"
 #include "ADM_video/ADM_cache.h"
 #include "ADM_filter/video_filters.h"
-#include "DIA_enter.h"
+#include "ADM_userInterfaces/ADM_commonUI/DIA_enter.h"
 #include "ADM_osSupport/ADM_cpuCap.h"
 
 #define min MIN

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidUnblend.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidUnblend.cpp	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidUnblend.cpp	2007-05-28 13:08:22 UTC (rev 3160)
@@ -139,7 +139,7 @@
 
 	if (_param->show == true)
 	{
-		sprintf(buf, "unblend %s", VERSION);
+		sprintf(buf, "unblend %s", 0);
 		DrawString(src, 0, 0, buf);
 		sprintf(buf, "Copyright 2003 Bach, based on source by D.Graft and Ernst Pech");
 		DrawString(src, 0, 1, buf);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp	2007-05-28 13:08:22 UTC (rev 3160)
@@ -37,7 +37,7 @@
 #include "ADM_osSupport/ADM_debug.h"
 #include "ADM_video/ADM_cache.h"
 #include "ADM_filter/video_filters.h"
-#include "DIA_enter.h"
+#include "ADM_userInterfaces/ADM_commonUI/DIA_enter.h"
 #include "ADM_osSupport/ADM_cpuCap.h"
 #include "ADM_userInterfaces/ADM_commonUI/DIA_factory.h"
 #include "ADM_vidBlendRemoval_param.h"

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecDec.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecDec.cpp	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecDec.cpp	2007-05-28 13:08:22 UTC (rev 3160)
@@ -293,7 +293,7 @@
 		if (debug)
 		{
 			char b[80];
-			sprintf(b, "Decimate %s by Donald Graft, Copyright 2003\n", VERSION);
+			sprintf(b, "Decimate %s by Donald Graft, Copyright 2003\n", 0); // VERSION
 			OutputDebugString(b);
 		}
 	}
@@ -333,7 +333,7 @@
 
 	if (show == true)
 	{
-		sprintf(buf, "Decimate %s", VERSION);
+		sprintf(buf, "Decimate %s", 0); // VERSION
 		DrawString(src, 0, 0, buf);
 		sprintf(buf, "Copyright 2003 Donald Graft");
 		DrawString(src, 0, 1, buf);
@@ -429,7 +429,7 @@
 		GETFRAME(useframe, src);
 		if (show == true)
 		{
-			sprintf(buf, "Decimate %s", VERSION);
+			sprintf(buf, "Decimate %s", 0);
 			DrawString(src, 0, 0, buf);
 			sprintf(buf, "Copyright 2003 Donald Graft");
 			DrawString(src, 0, 1, buf);
@@ -500,7 +500,7 @@
 			if (show == true)
 			{
 
-				sprintf(buf, "Decimate %s", VERSION);
+				sprintf(buf, "Decimate %s", 0);
 				DrawString(src, 0, 0, buf);
 				sprintf(buf, "Copyright 2003 Donald Graft");
 				DrawString(src, 0, 1, buf);
@@ -658,7 +658,7 @@
 		if (show == true)
 		{
 
-			sprintf(buf, "Decimate %s", VERSION);
+			sprintf(buf, "Decimate %s", 0);
 			DrawString(dst, 0, 0, buf);
 			sprintf(buf, "Copyright 2003 Donald Graft");
 			DrawString(dst, 0, 1, buf);
@@ -701,7 +701,7 @@
 			int start = (useframe / _param->cycle) * _param->cycle;
 
 
-			sprintf(buf, "Decimate %s", VERSION);
+			sprintf(buf, "Decimate %s", 0);
 			DrawString(src, 0, 0, buf);
 			sprintf(buf, "Copyright 2003 Donald Graft");
 			DrawString(src, 0, 1, buf);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp	2007-05-28 13:08:22 UTC (rev 3160)
@@ -456,7 +456,7 @@
 	else if (chosen == C) use = 'c';
 	else use = 'n';
 
-	sprintf(buf, "Telecide %s", VERSION);
+	sprintf(buf, "Telecide %s", 0); // VERSION
 	DrawString(dst, 0, 0, buf);
 
 	sprintf(buf, "Copyright 2003 Donald A. Graft");

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDeintASM.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDeintASM.cpp	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidDeintASM.cpp	2007-05-28 13:08:22 UTC (rev 3160)
@@ -40,7 +40,7 @@
 #if defined( ARCH_X86)  || defined(ARCH_X86_64)
 //	#define DEBUG_DEINT 1
 //	#define MMX_TRACE 1
-	#include "mmx_macros.h"
+	#include "ADM_video/mmx_macros.h"
 #include "admmangle.h"
 
  void myDeintASM(void);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp	2007-05-28 13:08:22 UTC (rev 3160)
@@ -38,7 +38,7 @@
 
 
 #include "ADM_vidForcedPP.h"
-#include "DIA_enter.h"
+#include "ADM_userInterfaces/ADM_commonUI/DIA_enter.h"
 #include "ADM_filter/video_filters.h"
 
 #include "ADM_userInterfaces/ADM_commonUI/DIA_factory.h"

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp	2007-05-28 13:08:22 UTC (rev 3160)
@@ -37,7 +37,7 @@
 #include "ADM_osSupport/ADM_debug.h"
 #include "ADM_video/ADM_cache.h"
 #include "ADM_filter/video_filters.h"
-#include "DIA_enter.h"
+#include "ADM_userInterfaces/ADM_commonUI/DIA_enter.h"
 #include "ADM_osSupport/ADM_cpuCap.h"
 #include "ADM_userInterfaces/ADM_commonUI/DIA_factory.h"
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp	2007-05-28 13:08:22 UTC (rev 3160)
@@ -34,7 +34,7 @@
 #include "ADM_editor/ADM_edit.hxx"
 #include "ADM_video/ADM_genvideo.hxx"
 #include "ADM_filter/video_filters.h"
-#include "DIA_enter.h"
+#include "ADM_userInterfaces/ADM_commonUI/DIA_enter.h"
 #include "ADM_video/ADM_cache.h"
 #include "ADM_osSupport/ADM_cpuCap.h"
 #include "admmangle.h"

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSoften.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSoften.cpp	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidSoften.cpp	2007-05-28 13:08:22 UTC (rev 3160)
@@ -42,7 +42,7 @@
 
 
 #include "ADM_vidSoften.h"
-#include "DIA_enter.h"
+#include "ADM_userInterfaces/ADM_commonUI/DIA_enter.h"
 #include "ADM_filter/video_filters.h"
 
 

Modified: branches/avidemux_2.4_branch/avidemux/guiplay.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/guiplay.cpp	2007-05-28 13:06:07 UTC (rev 3159)
+++ branches/avidemux_2.4_branch/avidemux/guiplay.cpp	2007-05-28 13:08:22 UTC (rev 3160)
@@ -27,7 +27,6 @@
 #include <errno.h>
 
 #include <glib.h>
-#include <gtk/gtk.h>
 
 #include "config.h"
 #include "prefs.h"
@@ -41,7 +40,6 @@
 #include "ADM_audiodevice/audio_out.h"
 
 #include "ADM_toolkit/toolkit.hxx"
-#include "ADM_toolkit_gtk/toolkit_gtk.h"
 #include "ADM_audio/aviaudio.hxx"
 #include "ADM_audiofilter/audioprocess.hxx"
 
@@ -59,7 +57,7 @@
 static void resetTime(void);
 static void ComputePreload(void);
 static void FillAudio(void);
-
+extern void UI_purge(void);
 #define EVEN(x) (x&0xffffffe)
 
  



From mean at mail.berlios.de  Mon May 28 15:50:53 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 28 May 2007 15:50:53 +0200
Subject: [Avidemux-svn-commit] r3161 - branches/avidemux_2.4_branch/cmake
Message-ID: <200705281350.l4SDordd015649@sheep.berlios.de>

Author: mean
Date: 2007-05-28 15:50:52 +0200 (Mon, 28 May 2007)
New Revision: 3161

Added:
   branches/avidemux_2.4_branch/cmake/CMakeDetermineSystem.cmake
   branches/avidemux_2.4_branch/cmake/CMakePrintSystemInformation.cmake
Log:
new files

Added: branches/avidemux_2.4_branch/cmake/CMakeDetermineSystem.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/CMakeDetermineSystem.cmake	2007-05-28 13:08:22 UTC (rev 3160)
+++ branches/avidemux_2.4_branch/cmake/CMakeDetermineSystem.cmake	2007-05-28 13:50:52 UTC (rev 3161)
@@ -0,0 +1,80 @@
+
+# This module is used by the Makefile generator to determin the following variables:
+# CMAKE_SYSTEM_NAME - on unix this is uname -s, for windows it is Windows
+# CMAKE_SYSTEM_VERSION - on unix this is uname -r, for windows it is empty
+# CMAKE_SYSTEM - ${CMAKE_SYSTEM}-${CMAKE_SYSTEM_VERSION}, for windows: ${CMAKE_SYSTEM}
+#
+#  Expected uname -s output:
+#
+# AIX                           AIX  
+# BSD/OS                        BSD/OS  
+# FreeBSD                       FreeBSD  
+# HP-UX                         HP-UX  
+# IRIX                          IRIX  
+# Linux                         Linux  
+# NetBSD                        NetBSD  
+# OpenBSD                       OpenBSD  
+# OFS/1 (Digital Unix)          OSF1  
+# SCO OpenServer 5              SCO_SV  
+# SCO UnixWare 7                UnixWare  
+# SCO UnixWare (pre release 7)  UNIX_SV  
+# SCO XENIX                     Xenix  
+# Solaris                       SunOS  
+# SunOS                         SunOS  
+# Tru64                         Tru64  
+# Ultrix                        ULTRIX  
+# cygwin                        CYGWIN_NT-5.1
+# MacOSX                        Darwin
+  
+IF(UNIX)
+  FIND_PROGRAM(CMAKE_UNAME uname /bin /usr/bin /usr/local/bin )
+  IF(CMAKE_UNAME)
+    EXEC_PROGRAM(uname ARGS -s OUTPUT_VARIABLE CMAKE_SYSTEM_NAME)
+    EXEC_PROGRAM(uname ARGS -r OUTPUT_VARIABLE CMAKE_SYSTEM_VERSION)
+    EXEC_PROGRAM(uname ARGS -m OUTPUT_VARIABLE CMAKE_SYSTEM_PROCESSOR
+        RETURN_VALUE val)
+    IF("${val}" GREATER 0)
+      SET(CMAKE_SYSTEM_PROCESSOR "unknown")
+    ENDIF("${val}" GREATER 0)
+    SET(CMAKE_UNAME ${CMAKE_UNAME} CACHE INTERNAL "uname command")
+    # processor may have double quote in the name, and that needs to be removed
+    STRING(REGEX REPLACE "\"" "" CMAKE_SYSTEM_PROCESSOR "${CMAKE_SYSTEM_PROCESSOR}")
+    STRING(REGEX REPLACE "/" "_" CMAKE_SYSTEM_PROCESSOR "${CMAKE_SYSTEM_PROCESSOR}")
+  ENDIF(CMAKE_UNAME)
+ELSE(UNIX)
+  IF(WIN32)
+    SET (CMAKE_SYSTEM_NAME "Windows")
+    SET (CMAKE_SYSTEM_PROCESSOR "$ENV{PROCESSOR_ARCHITECTURE}")
+  ENDIF(WIN32)
+ENDIF(UNIX)
+
+IF(NOT CMAKE_SYSTEM_NAME)
+  SET(CMAKE_SYSTEM_NAME "UnknownOS")
+ENDIF(NOT CMAKE_SYSTEM_NAME)
+
+# fix for BSD/OS , remove the /
+IF(CMAKE_SYSTEM_NAME MATCHES BSD.OS)
+  SET(CMAKE_SYSTEM_NAME BSDOS)
+ENDIF(CMAKE_SYSTEM_NAME MATCHES BSD.OS)
+
+# fix for CYGWIN which has windows version in it 
+IF(CMAKE_SYSTEM_NAME MATCHES CYGWIN)
+  SET(CMAKE_SYSTEM_NAME CYGWIN)
+ENDIF(CMAKE_SYSTEM_NAME MATCHES CYGWIN)
+
+# set CMAKE_SYSTEM to the CMAKE_SYSTEM_NAME
+SET(CMAKE_SYSTEM  ${CMAKE_SYSTEM_NAME})
+# if there is a CMAKE_SYSTEM_VERSION then add a -${CMAKE_SYSTEM_VERSION}
+IF(CMAKE_SYSTEM_VERSION)
+  SET(CMAKE_SYSTEM ${CMAKE_SYSTEM}-${CMAKE_SYSTEM_VERSION})
+ENDIF(CMAKE_SYSTEM_VERSION)
+
+
+FILE(APPEND ${CMAKE_BINARY_DIR}${CMAKE_FILES_DIRECTORY}/CMakeOutput.log 
+  "The system is: ${CMAKE_SYSTEM_NAME} - ${CMAKE_SYSTEM_VERSION} - ${CMAKE_SYSTEM_PROCESSOR}\n")
+
+# configure variables set in this file for fast reload
+CONFIGURE_FILE(${CMAKE_ROOT}/Modules/CMakeSystem.cmake.in 
+               ${CMAKE_BINARY_DIR}${CMAKE_FILES_DIRECTORY}/CMakeSystem.cmake 
+               IMMEDIATE)
+

Added: branches/avidemux_2.4_branch/cmake/CMakePrintSystemInformation.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/CMakePrintSystemInformation.cmake	2007-05-28 13:08:22 UTC (rev 3160)
+++ branches/avidemux_2.4_branch/cmake/CMakePrintSystemInformation.cmake	2007-05-28 13:50:52 UTC (rev 3161)
@@ -0,0 +1,33 @@
+# - print system information
+# This file can be used for diagnostic purposes
+# just include it in a project to see various internal CMake
+# variables.
+
+MESSAGE("CMAKE_SYSTEM is ${CMAKE_SYSTEM} ${CMAKE_SYSTEM_NAME} ${CMAKE_SYSTEM_VERSION}")
+MESSAGE("CMAKE_SYSTEM file is ${CMAKE_SYSTEM_INFO_FILE}")
+MESSAGE("CMAKE_C_COMPILER is ${CMAKE_C_COMPILER}")
+MESSAGE("CMAKE_CXX_COMPILER is ${CMAKE_CXX_COMPILER}")
+
+
+MESSAGE("CMAKE_SHARED_LIBRARY_CREATE_C_FLAGS is ${CMAKE_SHARED_LIBRARY_CREATE_C_FLAGS}")
+MESSAGE("CMAKE_SHARED_LIBRARY_CREATE_CXX_FLAGS is ${CMAKE_SHARED_LIBRARY_CREATE_CXX_FLAGS}")
+MESSAGE("CMAKE_DL_LIBS is ${CMAKE_DL_LIBS}")
+MESSAGE("CMAKE_SHARED_LIBRARY_PREFIX is ${CMAKE_SHARED_LIBRARY_PREFIX}")
+MESSAGE("CMAKE_SHARED_LIBRARY_SUFFIX is ${CMAKE_SHARED_LIBRARY_SUFFIX}")
+MESSAGE("CMAKE_COMPILER_IS_GNUGCC = ${CMAKE_COMPILER_IS_GNUGCC}")
+MESSAGE("CMAKE_COMPILER_IS_GNUCXX = ${CMAKE_COMPILER_IS_GNUCXX}")
+
+MESSAGE("CMAKE_CXX_CREATE_SHARED_LIBRARY is ${CMAKE_CXX_CREATE_SHARED_LIBRARY}")
+MESSAGE("CMAKE_CXX_CREATE_SHARED_MODULE is ${CMAKE_CXX_CREATE_SHARED_MODULE}")
+MESSAGE("CMAKE_CXX_CREATE_STATIC_LIBRARY is ${CMAKE_CXX_CREATE_STATIC_LIBRARY}")
+MESSAGE("CMAKE_CXX_COMPILE_OBJECT is ${CMAKE_CXX_COMPILE_OBJECT}")
+MESSAGE("CMAKE_CXX_LINK_EXECUTABLE ${CMAKE_CXX_LINK_EXECUTABLE}")
+
+MESSAGE("CMAKE_C_CREATE_SHARED_LIBRARY is ${CMAKE_C_CREATE_SHARED_LIBRARY}")
+MESSAGE("CMAKE_C_CREATE_SHARED_MODULE is ${CMAKE_C_CREATE_SHARED_MODULE}")
+MESSAGE("CMAKE_C_CREATE_STATIC_LIBRARY is ${CMAKE_C_CREATE_STATIC_LIBRARY}")
+MESSAGE("CMAKE_C_COMPILE_OBJECT is ${CMAKE_C_COMPILE_OBJECT}")
+MESSAGE("CMAKE_C_LINK_EXECUTABLE ${CMAKE_C_LINK_EXECUTABLE}")
+
+MESSAGE("CMAKE_SYSTEM_AND_CXX_COMPILER_INFO_FILE ${CMAKE_SYSTEM_AND_CXX_COMPILER_INFO_FILE}")
+MESSAGE("CMAKE_SYSTEM_AND_C_COMPILER_INFO_FILE ${CMAKE_SYSTEM_AND_C_COMPILER_INFO_FILE}")



From mean at mail.berlios.de  Mon May 28 15:53:15 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 28 May 2007 15:53:15 +0200
Subject: [Avidemux-svn-commit] r3162 - in branches/avidemux_2.4_branch: .
	avidemux/ADM_libraries/ADM_liba52
Message-ID: <200705281353.l4SDrFcM015842@sheep.berlios.de>

Author: mean
Date: 2007-05-28 15:53:15 +0200 (Mon, 28 May 2007)
New Revision: 3162

Modified:
   branches/avidemux_2.4_branch/CMakeLists.txt
   branches/avidemux_2.4_branch/ConfigureChecks.cmake
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_liba52/CMakeLists.txt
Log:
try to detect CPU/system

Modified: branches/avidemux_2.4_branch/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/CMakeLists.txt	2007-05-28 13:50:52 UTC (rev 3161)
+++ branches/avidemux_2.4_branch/CMakeLists.txt	2007-05-28 13:53:15 UTC (rev 3162)
@@ -16,6 +16,12 @@
 include(CheckCXXCompilerFlag)
 include(FindLibXml2)
 #**************************************************
+# MESSAGE
+#**************************************************
+MESSAGE("#####################################")
+MESSAGE("Configure Started")
+MESSAGE("#####################################")
+#**************************************************
 # libxml2
 #**************************************************
 if(NOT LIBXML2_FOUND)
@@ -26,21 +32,26 @@
 #**************************************************
 # PKG Config
 #**************************************************
+MESSAGE("Checking for PKG-CONFIG")
 if(NOT PKGCONFIG_EXECUTABLE)
              MESSAGE(FATAL_ERROR "Could not find pkg-config")
 endif(NOT PKGCONFIG_EXECUTABLE)
+MESSAGE(STATUS OK)
 #**************************************************
 # Search for FREETYPE
 #**************************************************
+MESSAGE("Checking for FreeType through PKG-CONFIG")
 PKGCONFIG(freetype2 FT_INCLUDE FT_LIB FT_LDFLAGS FT_CFLAGS)
 
 IF(NOT FT_INCLUDE)
-    MESSAGE("Could not find Freetype ")
+    MESSAGE(STATUS "Could not find Freetype ")
 ELSE(NOT FT_INCLUDE)
     SET(FT_FOUND TRUE)
     SET(FT_CFLAGS ${FT_CFLAGS})
     SET(FT_INCLUDE ${FT_INCLUDE})
+    MESSAGE(STATUS OK)
     MESSAGE("FreeType Found ("${FT_CFLAGS} ${FT_INCLUDE}")")
+    
 ENDIF(NOT FT_INCLUDE)
 #**************************************************
 # Search for  X11 (not on windows)
@@ -51,6 +62,7 @@
         if(NOT X11_FOUND)
              MESSAGE(FATAL_ERROR "Could not find X11")
         endif(NOT X11_FOUND)
+        MESSAGE(STATUS OK)
 endif(NOT WIN32)
 #**************************************************
 # Search for GLIB through PKG-Config
@@ -59,13 +71,15 @@
 PKGCONFIG(glib-2.0 GLIB_INCLUDE GLIB_LIB GLIB_LDFLAGS GLIB_CFLAGS)
 
 IF(NOT GLIB_INCLUDE)
-    MESSAGE("Could not find GLIB - cannot compile avidemux2_gtk here")
+    MESSAGE(STATUS "Could not find GLIB - cannot compile avidemux2_gtk here")
 ELSE(NOT GLIB_INCLUDE)
     SET(GLIB_FOUND,TRUE)
     SET(GLIB_CFLAGS,${GLIB_CFLAGS})
     SET(GLIB_LDFLAGS,${GLIB_LDFLAGS})
     SET(GLIB_LIB,${GLIB_LIB})
+    MESSAGE(STATUS OK)
     MESSAGE("GLIB Found ("${GLIB_CFLAGS}")")
+    
 ENDIF(NOT GLIB_INCLUDE)
 #**************************************************
 # Search for GTK through PKG-Config
@@ -74,26 +88,26 @@
 PKGCONFIG(gtk+-2.0 GTK_INCLUDE GTK_LIB GTK_LDFLAGS GTK_CFLAGS)
 
 IF(NOT GTK_CFLAGS)
-    MESSAGE("Could not find GTK - cannot compile avidemux2_gtk here")
+    MESSAGE(STATUS "Could not find GTK - cannot compile avidemux2_gtk here")
 ELSE(NOT GTK_CFLAGS)
     SET(GTK_FOUND TRUE)
     SET(GTK_CFLAGS,${GTK_CFLAGS})
     SET(GTK_LDFLAGS,${GTK_LDFLAGS})
     SET(GTK_LIB,${GTK_LIB})
-    MESSAGE("GTK Found")
+    MESSAGE(STATUS OK)
 ENDIF(NOT GTK_CFLAGS)
 #**************************************************
 # Search for Gthread through PKG-Config
 #**************************************************
-MESSAGE("Checking for GTK")
+MESSAGE("Checking for Gthread")
 PKGCONFIG(gthread-2.0 GTHREAD_INCLUDE GTHREAD_LIB GTHREAD_LDFLAGS GTHREAD_CFLAGS)
 
 IF(NOT GTHREAD_CFLAGS)
-    MESSAGE("Could not find GTHREAD")
+    MESSAGE(STATUS "Could not find GTHREAD")
     SET(GTK_FOUND FALSE)
 ELSE(NOT GTHREAD_CFLAGS)
     SET(GTHREAD_LDFLAGS,${GTHREAD_LDFLAGS})
-    MESSAGE("GTHREAD Found")
+    MESSAGE(STATUS OK)
 ENDIF(NOT GTHREAD_CFLAGS)
 #**************************************************
 # Search for QT4 

Modified: branches/avidemux_2.4_branch/ConfigureChecks.cmake
===================================================================
--- branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-28 13:50:52 UTC (rev 3161)
+++ branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-28 13:53:15 UTC (rev 3162)
@@ -7,6 +7,7 @@
 INCLUDE(CheckFunctionExists)
 INCLUDE(CheckLibraryExists)
 include(lavcodec)
+include(CMakeDetermineSystem)
 #INCLUDE(CheckStructMember)
 check_function_exists(gettimeofday    HAVE_GETTIMEOFDAY)
 # Header
@@ -40,22 +41,37 @@
 SET(HAVE_LRINTF    1)
 SET(EMULATE_FAST_INT    1)
 SET(RUNTIME_CPUDETECT    1)
-# to be better latter
-SET(ARCH_X86    1)
-SET(HAVE_MMX    1)
+########################################
+# CPU and Host
+########################################
 SET(HAVE_AUDIO    1)
-SET(ARCH_X86_32    1)
-SET(ARCH_X86_64    1)
-SET(FPM_DEFAULT    1)
-SET(ARCH_64_BITS    1)
-SET(ADM_DEBUG    1)
-
-# We have Encoders
-
-#if win 32 ?
-if(WIN32)
-SET(ADM_WIN32 1)
-SET(CYG_MANGLING 1)
-endif(WIN32)
-
+MESSAGE("Checking CPU and OS")
+MESSAGE("<CPU:${CMAKE_SYSTEM_PROCESSOR}>")
+# windows is always X86 for now on...
+ if(WIN32)
+   MESSAGE(STATUS WIN32)
+   SET(ADM_WIN32 1)
+   SET(CYG_MANGLING 1)
+   SET(ARCH_X86    1)
+   SET(HAVE_MMX    1)
+   SET(ARCH_X86_32    1)
+   SET(FPM_INTEL    1)
+ else(WIN32)
+      if(${CMAKE_SYSTEM_PROCESSOR} STREQUAL "i586" OR ${CMAKE_SYSTEM_PROCESSOR} STREQUAL "i686")
+          MESSAGE(STATUS "x86 CPU")
+          SET(ARCH_X86    1)
+          SET(HAVE_MMX    1)
+          SET(ARCH_X86_32    1)
+          SET(FPM_INTEL    1)
+     endif(${CMAKE_SYSTEM_PROCESSOR} STREQUAL "i586" OR ${CMAKE_SYSTEM_PROCESSOR} STREQUAL "i686")
+     if( ${CMAKE_SYSTEM_PROCESSOR} STREQUAL "x86_64" OR ${CMAKE_SYSTEM_PROCESSOR} STREQUAL "amd64")
+         MESSAGE(STATUS "AMD64 CPU")
+         SET(ARCH_X86_64    1)
+         SET(FPM_DEFAULT    1)
+         SET(ARCH_64_BITS    1)
+     endif( ${CMAKE_SYSTEM_PROCESSOR} STREQUAL "x86_64" OR ${CMAKE_SYSTEM_PROCESSOR} STREQUAL "amd64")
+ endif(WIN32)
+MESSAGE("End of CPU and OS Check")
+#
+SET(ADM_DEBUG 1)
 # EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_liba52/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_liba52/CMakeLists.txt	2007-05-28 13:50:52 UTC (rev 3161)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_liba52/CMakeLists.txt	2007-05-28 13:53:15 UTC (rev 3162)
@@ -5,7 +5,7 @@
 SET(ADM_LIB ADM_liba52)
 #
 SET(${ADM_LIB}_SRCS 
-bit_allocate.c  bitstream.c  cmake_install.cmake  downmix.c  imdct.c  parse.c
+bit_allocate.c  bitstream.c  downmix.c  imdct.c  parse.c
 )
 ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
 ADD_ADM_LIB(${ADM_LIB} ADM_libraries)



From mean at mail.berlios.de  Mon May 28 15:56:40 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 28 May 2007 15:56:40 +0200
Subject: [Avidemux-svn-commit] r3163 - branches/avidemux_2.4_branch
Message-ID: <200705281356.l4SDuewM016123@sheep.berlios.de>

Author: mean
Date: 2007-05-28 15:56:39 +0200 (Mon, 28 May 2007)
New Revision: 3163

Modified:
   branches/avidemux_2.4_branch/CMakeLists.txt
Log:
be more verbose

Modified: branches/avidemux_2.4_branch/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/CMakeLists.txt	2007-05-28 13:53:15 UTC (rev 3162)
+++ branches/avidemux_2.4_branch/CMakeLists.txt	2007-05-28 13:56:39 UTC (rev 3163)
@@ -36,7 +36,7 @@
 if(NOT PKGCONFIG_EXECUTABLE)
              MESSAGE(FATAL_ERROR "Could not find pkg-config")
 endif(NOT PKGCONFIG_EXECUTABLE)
-MESSAGE(STATUS OK)
+MESSAGE(STATUS "OK ${PKGCONFIG_EXECUTABLE}")
 #**************************************************
 # Search for FREETYPE
 #**************************************************
@@ -107,7 +107,7 @@
     SET(GTK_FOUND FALSE)
 ELSE(NOT GTHREAD_CFLAGS)
     SET(GTHREAD_LDFLAGS,${GTHREAD_LDFLAGS})
-    MESSAGE(STATUS OK)
+    MESSAGE(STATUS "OK ${GTHREAD_LDFLAGS}")
 ENDIF(NOT GTHREAD_CFLAGS)
 #**************************************************
 # Search for QT4 



From mean at mail.berlios.de  Mon May 28 18:14:11 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 28 May 2007 18:14:11 +0200
Subject: [Avidemux-svn-commit] r3164 - branches/avidemux_2.4_branch/cmake
Message-ID: <200705281614.l4SGEBgQ032203@sheep.berlios.de>

Author: mean
Date: 2007-05-28 18:14:10 +0200 (Mon, 28 May 2007)
New Revision: 3164

Added:
   branches/avidemux_2.4_branch/cmake/FindSDL.cmake
   branches/avidemux_2.4_branch/cmake/adm_checkHeaderLib.cmake
Log:
new .cmake files

Added: branches/avidemux_2.4_branch/cmake/FindSDL.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/FindSDL.cmake	2007-05-28 13:56:39 UTC (rev 3163)
+++ branches/avidemux_2.4_branch/cmake/FindSDL.cmake	2007-05-28 16:14:10 UTC (rev 3164)
@@ -0,0 +1,162 @@
+# - Locate the SDL library
+# This module defines
+#  SDL_LIBRARY, the library to link against
+#  SDL_FOUND, if false, do not try to link to SDL
+#  SDL_INCLUDE_DIR, where to find SDL.h
+#
+# Don't forget to include SDLmain.h and SDLmain.m your project for the 
+# OS X framework based version. (Other versions link to -lSDLmain which
+# this module will try to find on your behalf.) Also for OS X, this 
+# module will automatically add the -framework Cocoa on your behalf.
+# $SDLDIR is an environment variable that would
+# correspond to the ./configure --prefix=$SDLDIR
+# used in building SDL.
+# l.e.galup  9-20-02
+#
+# Modified by Eric Wing. 
+# Added new modifications to recognize OS X frameworks and 
+# additional Unix paths (FreeBSD, etc). 
+# Also corrected the header search path to follow "proper" SDL guidelines.
+# Added a search for SDLmain which is needed by some platforms.
+# Added a search for threads which is needed by some platforms.
+# Added needed compile switches for MinGW.
+#
+# On OSX, this will prefer the Framework version (if found) over others.
+# People will have to manually change the cache values of 
+# SDL_LIBRARY to override this selection.
+#
+# Note that the header path has changed from SDL/SDL.h to just SDL.h
+# This needed to change because "proper" SDL convention
+# is #include "SDL.h", not <SDL/SDL.h>. This is done for portability
+# reasons because not all systems place things in SDL/ (see FreeBSD).
+FIND_PATH(SDL_INCLUDE_DIR SDL.h
+  $ENV{SDLDIR}/include
+  ~/Library/Frameworks/SDL.framework/Headers
+  /Library/Frameworks/SDL.framework/Headers
+  /usr/local/include/SDL
+  /usr/include/SDL
+  /usr/local/include/SDL12
+  /usr/local/include/SDL11 # FreeBSD ports
+  /usr/include/SDL12
+  /usr/include/SDL11
+  /usr/local/include
+  /usr/include
+  /sw/include/SDL # Fink
+  /sw/include
+  /opt/local/include/SDL # DarwinPorts
+  /opt/local/include
+  /opt/csw/include/SDL # Blastwave
+  /opt/csw/include 
+  /opt/include/SDL
+  /opt/include
+  )
+# I'm not sure if I should do a special casing for Apple. It is 
+# unlikely that other Unix systems will find the framework path.
+# But if they do ([Next|Open|GNU]Step?), 
+# do they want the -framework option also?
+IF(${SDL_INCLUDE_DIR} MATCHES ".framework")
+  # The Cocoa framework must be linked into SDL because SDL is Cocoa based.
+  # Remember that the OS X framework version expects you to drop in
+  # SDLmain.h and SDLmain.m directly into your project.
+  # (Cocoa link moved to bottom of this script.)
+  # SET (SDL_LIBRARY "-framework SDL -framework Cocoa" CACHE STRING "SDL framework for OSX")
+  # SET(SDL_LIBRARY "-framework SDL" CACHE STRING "SDL framework for OSX")
+  # Extract the path the framework resides in so we can use it for the -F flag
+  STRING(REGEX REPLACE "(.*)/.*\\.framework/.*" "\\1" SDL_FRAMEWORK_PATH_TEMP ${SDL_INCLUDE_DIR})
+  IF("${SDL_FRAMEWORK_PATH_TEMP}" STREQUAL "/Library/Frameworks"
+      OR "${SDL_FRAMEWORK_PATH_TEMP}" STREQUAL "/System/Library/Frameworks"
+      )
+    # String is in default search path, don't need to use -F
+    SET(SDL_LIBRARY_TEMP "-framework SDL")
+  ELSE("${SDL_FRAMEWORK_PATH_TEMP}" STREQUAL "/Library/Frameworks"
+      OR "${SDL_FRAMEWORK_PATH_TEMP}" STREQUAL "/System/Library/Frameworks"
+      )
+    # String is not /Library/Frameworks, need to use -F
+    SET(SDL_LIBRARY_TEMP "-F${SDL_FRAMEWORK_PATH_TEMP} -framework SDL")
+  ENDIF("${SDL_FRAMEWORK_PATH_TEMP}" STREQUAL "/Library/Frameworks"
+    OR "${SDL_FRAMEWORK_PATH_TEMP}" STREQUAL "/System/Library/Frameworks"
+    )
+  # Clear the temp variable so nobody can see it
+  SET(SDL_FRAMEWORK_PATH_TEMP "" CACHE INTERNAL "")
+
+ELSE(${SDL_INCLUDE_DIR} MATCHES ".framework")
+  # SDL-1.1 is the name used by FreeBSD ports...
+  # don't confuse it for the version number.
+  FIND_LIBRARY(SDL_LIBRARY_TEMP 
+    NAMES SDL SDL-1.1
+    PATHS
+    $ENV{SDLDIR}/lib
+    /usr/local/lib
+    /usr/lib
+    /sw/lib
+    /opt/local/lib
+    /opt/csw/lib
+    /opt/lib
+    )
+  # Non-OS X framework versions expect you to also dynamically link to 
+  # SDLmain. This is mainly for Windows and OS X. Other platforms 
+  # seem to provide SDLmain for compatibility even though they don't
+  # necessarily need it.
+  FIND_LIBRARY(SDLMAIN_LIBRARY 
+    NAMES SDLmain SDLmain-1.1
+    PATHS
+    $ENV{SDLDIR}/lib
+    /usr/local/lib
+    /usr/lib
+    /sw/lib
+    /opt/local/lib
+    /opt/csw/lib
+    /opt/lib
+    )
+ENDIF(${SDL_INCLUDE_DIR} MATCHES ".framework")
+
+# SDL may require threads on your system.
+# The Apple build may not need an explicit flag because one of the 
+# frameworks may already provide it. 
+# But for non-OSX systems, I will use the CMake Threads package.
+IF(NOT APPLE)
+  FIND_PACKAGE(Threads)
+ENDIF(NOT APPLE)
+
+# MinGW needs an additional library, mwindows
+# It's total link flags should look like -lmingw32 -lSDLmain -lSDL -lmwindows
+# (Actually on second look, I think it only needs one of the m* libraries.)
+IF(MINGW)
+  SET(MINGW32_LIBRARY mingw32 CACHE STRING "mwindows for MinGW")
+ENDIF(MINGW)
+
+SET(SDL_FOUND "NO")
+IF(SDL_LIBRARY_TEMP)
+  # For SDLmain
+  IF(SDLMAIN_LIBRARY)
+    SET(SDL_LIBRARY_TEMP ${SDLMAIN_LIBRARY} ${SDL_LIBRARY_TEMP})
+  ENDIF(SDLMAIN_LIBRARY)
+
+  # For OS X, SDL uses Cocoa as a backend so it must link to Cocoa.
+  # CMake doesn't display the -framework Cocoa string in the UI even 
+  # though it actually is there. I think it has something to do 
+  # with the CACHE STRING. Maybe somebody else knows how to fix this.
+  # The problem is mainly cosmetic, and not a functional issue.
+  IF(APPLE)
+    SET(SDL_LIBRARY_TEMP ${SDL_LIBRARY_TEMP} "-framework Cocoa")
+  ENDIF(APPLE)
+  
+  # For threads, as mentioned Apple doesn't need this.
+  # In fact, there seems to be a problem if Find the threads package
+  # and try using this line, so I'm just skipping it entirely for OS X.
+  IF(NOT APPLE)
+    SET(SDL_LIBRARY_TEMP ${SDL_LIBRARY_TEMP} ${CMAKE_THREAD_LIBS_INIT})
+  ENDIF(NOT APPLE)
+
+  # For MinGW library
+  IF(MINGW)
+    SET(SDL_LIBRARY_TEMP ${MINGW32_LIBRARY} ${SDL_LIBRARY_TEMP})
+  ENDIF(MINGW)
+
+  # Set the final string here so the GUI reflects the final state.
+  SET(SDL_LIBRARY ${SDL_LIBRARY_TEMP} CACHE STRING "Where the SDL Library can be found")
+
+  SET(SDL_FOUND "YES")
+ENDIF(SDL_LIBRARY_TEMP)
+
+MARK_AS_ADVANCED(SDL_LIBRARY_TEMP)

Added: branches/avidemux_2.4_branch/cmake/adm_checkHeaderLib.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/adm_checkHeaderLib.cmake	2007-05-28 13:56:39 UTC (rev 3163)
+++ branches/avidemux_2.4_branch/cmake/adm_checkHeaderLib.cmake	2007-05-28 16:14:10 UTC (rev 3164)
@@ -0,0 +1,26 @@
+# Small Macro to check head & lib and set output variable
+# all in one line, cmake is cool :)
+MACRO (ADM_CHECK_HL _banner _includeName _libName _libFunc _varToSet)
+MESSAGE(STATUS "<Checking for ${_banner}>")
+CHECK_INCLUDE_FILES(${_includeName} HAVE_IT_H)
+#MESSAGE("OUT ${HAVE_IT_H}")
+if(HAVE_IT_H)
+  CHECK_LIBRARY_EXISTS(${_libName} "" ${_libFunc} HAVE_IT_H)
+  if(HAVE_IT_H)
+        SET(${_varToSet}  1)
+  else(HAVE_IT_H)
+        MESSAGE("Not lib found")
+  endif(HAVE_IT_H)
+else(HAVE_IT_H)
+  MESSAGE("Header not found(${_includeName})")
+endif(HAVE_IT_H)
+
+if(${_varToSet})
+   MESSAGE(STATUS "Found")
+else(${_varToSet})
+     MESSAGE(STATUS "Not Found")
+endif(${_varToSet})
+
+ENDMACRO (ADM_CHECK_HL _includeName _libName _libFunc _varToSet)
+
+



From mean at mail.berlios.de  Mon May 28 18:15:59 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 28 May 2007 18:15:59 +0200
Subject: [Avidemux-svn-commit] r3165 - in branches/avidemux_2.4_branch: .
	avidemux avidemux/ADM_libraries/ADM_lavcodec
	avidemux/ADM_libraries/ADM_libMpeg2Dec
	avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog
	avidemux/ADM_userInterfaces/ADM_commonUI avidemux/ADM_video
	avidemux/ADM_videoFilter
Message-ID: <200705281615.l4SGFxQm032422@sheep.berlios.de>

Author: mean
Date: 2007-05-28 18:15:58 +0200 (Mon, 28 May 2007)
New Revision: 3165

Modified:
   branches/avidemux_2.4_branch/ConfigureChecks.cmake
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libMpeg2Dec/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_video/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidASS.h
   branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
Log:
more autodected stuff

Modified: branches/avidemux_2.4_branch/ConfigureChecks.cmake
===================================================================
--- branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-28 16:14:10 UTC (rev 3164)
+++ branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-28 16:15:58 UTC (rev 3165)
@@ -8,6 +8,7 @@
 INCLUDE(CheckLibraryExists)
 include(lavcodec)
 include(CMakeDetermineSystem)
+include(adm_checkHeaderLib)
 #INCLUDE(CheckStructMember)
 check_function_exists(gettimeofday    HAVE_GETTIMEOFDAY)
 # Header
@@ -35,6 +36,8 @@
 SET(PACKAGE_VERSION 2.4)
 
 # We use FFMPEG
+SET(USE_MP3    1)
+SET(USE_AC3    1)
 SET(USE_FFMPEG    1)
 SET(USE_MJPEG    1)
 SET(USE_LIBXML2    1)
@@ -42,6 +45,69 @@
 SET(EMULATE_FAST_INT    1)
 SET(RUNTIME_CPUDETECT    1)
 ########################################
+# SDL
+########################################
+MESSAGE(STATUS "Checking for SDL")
+include(FindSDL)
+if(SDL_FOUND)
+ SET(USE_SDL 1)
+ MESSAGE(STATUS "Found")
+else(SDL_FOUND)
+  MESSAGE(STATUS "Not Found")
+endif(SDL_FOUND)
+########################################
+# FONTCONFIG
+########################################
+ADM_CHECK_HL(FontConfig fontconfig/fontconfig.h fontconfig FcStrSetCreate USE_FONTCONFIG)
+if(USE_FONTCONFIG)
+SET(HAVE_FONTCONFIG 1)
+endif(USE_FONTCONFIG)
+########################################
+# Xvideo
+########################################
+if(NOT WIN32)
+ADM_CHECK_HL(Xvideo X11/extensions/Xvlib.h Xv XvShmPutImage USE_XV)
+endif(NOT WIN32)
+########################################
+# LAME
+########################################
+ADM_CHECK_HL(Lame lame/lame.h mp3lame lame_init HAVE_LIBMP3LAME)
+########################################
+# X264
+########################################
+ADM_CHECK_HL(x264 x264.h x264 x264_encoder_open USE_X264)
+########################################
+# PNG
+########################################
+ADM_CHECK_HL(libPNG png.h png png_malloc USE_PNG)
+########################################
+# FAAC
+########################################
+ADM_CHECK_HL(FAAC faac.h faac faacEncClose USE_FAAC)
+########################################
+# Vorbis
+########################################
+ADM_CHECK_HL(Vorbis vorbisenc.h vorbis vorbis_info_init USE_VORBIS1)
+ADM_CHECK_HL(Vorbis vorbisenc.h vorbisenc vorbis_encode_init USE_VORBIS2)
+if(USE_VORBIS1 AND USE_VORBIS2)
+  SET(USE_VORBIS 1)
+endif(USE_VORBIS1 AND USE_VORBIS2)
+########################################
+# FAAD
+########################################
+ADM_CHECK_HL(FAAD faad.h faad faacDecInit USE_FAAD)
+if(NOT USE_FAAD)
+ ADM_CHECK_HL(NeAAC neaacdec.h faad NeAACDecInit USE_FAAD)
+endif(NOT USE_FAAD)
+# FIXME
+SET(OLD_FAAD_PROTO 1)
+########################################
+# FreeType
+########################################
+if(FT_FOUND)
+SET(USE_FREETYPE 1)
+endif(FT_FOUND)
+########################################
 # CPU and Host
 ########################################
 SET(HAVE_AUDIO    1)
@@ -54,8 +120,15 @@
    SET(CYG_MANGLING 1)
    SET(ARCH_X86    1)
    SET(HAVE_MMX    1)
+   SET(ARCH_X86    1)
+   SET(HAVE_MMX    1)
    SET(ARCH_X86_32    1)
    SET(FPM_INTEL    1)
+   SET(MEMALIGN_HACK    1)
+   SET(rindex    ADM_rindex)
+   SET(fseeko    ADM_fseeko)
+   SET(ftello    ADM_ftello)
+   add_definitions(-mms-bitfields -mno-cygwin)
  else(WIN32)
       if(${CMAKE_SYSTEM_PROCESSOR} STREQUAL "i586" OR ${CMAKE_SYSTEM_PROCESSOR} STREQUAL "i686")
           MESSAGE(STATUS "x86 CPU")
@@ -66,9 +139,11 @@
      endif(${CMAKE_SYSTEM_PROCESSOR} STREQUAL "i586" OR ${CMAKE_SYSTEM_PROCESSOR} STREQUAL "i686")
      if( ${CMAKE_SYSTEM_PROCESSOR} STREQUAL "x86_64" OR ${CMAKE_SYSTEM_PROCESSOR} STREQUAL "amd64")
          MESSAGE(STATUS "AMD64 CPU")
+         SET(ARCH_X86    1)
          SET(ARCH_X86_64    1)
          SET(FPM_DEFAULT    1)
          SET(ARCH_64_BITS    1)
+         SET(HAVE_MMX    1)
      endif( ${CMAKE_SYSTEM_PROCESSOR} STREQUAL "x86_64" OR ${CMAKE_SYSTEM_PROCESSOR} STREQUAL "amd64")
  endif(WIN32)
 MESSAGE("End of CPU and OS Check")

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/CMakeLists.txt	2007-05-28 16:14:10 UTC (rev 3164)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/CMakeLists.txt	2007-05-28 16:15:58 UTC (rev 3165)
@@ -21,6 +21,8 @@
 		vc1.c vc1dsp.c vp56.c vp56data.c vp6.c vp5.c indeo2.c smacker.c  opt.c
 )
 # ADD x86 ones
+
+IF(ARCH_X86)
 SET(${ADM_LIB}_SRCS  ${${ADM_LIB}_SRCS}
                         i386/cputest.c     
 			i386/mpegvideo_mmx.c     i386/vp3dsp_mmx.c 
@@ -30,7 +32,7 @@
 			i386/idct_mmx_xvid.c i386/fft_3dn2.c 
 			i386/snowdsp_mmx.c i386/fft_3dn.c 
 )
-
+ENDIF(ARCH_X86)
 ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
 ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libMpeg2Dec/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libMpeg2Dec/CMakeLists.txt	2007-05-28 16:14:10 UTC (rev 3164)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libMpeg2Dec/CMakeLists.txt	2007-05-28 16:15:58 UTC (rev 3165)
@@ -3,7 +3,7 @@
 alloc.c      cpu_state.c  header.c      idct_altivec.c  idct_mlib.c  motion_comp_alpha.c    motion_comp.c       motion_comp_mmx.c
 cpu_accel.c  decode.c     idct_alpha.c  idct.c          idct_mmx.c   motion_comp_altivec.c  motion_comp_mlib.c  slice.c
 )
-ADD_LIBRARY(ADM_libMpeg2dec STATIC ${ADM_libMpeg2dec_SRCS})
+ADD_LIBRARY(ADM_libMpeg2Dec STATIC ${ADM_libMpeg2dec_SRCS})
 ################################
 #
 ################################

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/CMakeLists.txt	2007-05-28 16:14:10 UTC (rev 3164)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/CMakeLists.txt	2007-05-28 16:15:58 UTC (rev 3165)
@@ -13,3 +13,6 @@
 
 ################################
 include_directories(../../../ADM_inputs)
+if(FT_FOUND)
+add_definitions(${FT_CFLAGS})
+endif(FT_FOUND)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt	2007-05-28 16:14:10 UTC (rev 3164)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt	2007-05-28 16:15:58 UTC (rev 3165)
@@ -15,3 +15,7 @@
 
 ####################################"
 include_directories(./..)
+if(FT_FOUND)
+add_definitions(${FT_CFLAGS})
+endif(FT_FOUND)
+

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/CMakeLists.txt	2007-05-28 16:14:10 UTC (rev 3164)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/CMakeLists.txt	2007-05-28 16:15:58 UTC (rev 3165)
@@ -8,4 +8,7 @@
 ADM_vidClean.cpp        ADM_vidEqualizer.cpp  ADM_vidNull.cpp          ADM_vidSRTRender.cpp
 )
 ADD_LIBRARY(ADM_video STATIC ${ADM_video_SRCS})
+if(FT_FOUND)
+add_definitions(${FT_CFLAGS})
+endif(FT_FOUND)
 include_directories(../ADM_inputs)
\ No newline at end of file

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidASS.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidASS.h	2007-05-28 16:14:10 UTC (rev 3164)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidASS.h	2007-05-28 16:15:58 UTC (rev 3165)
@@ -11,8 +11,11 @@
 #define _ADM_ASS_H
 
 #ifdef USE_FREETYPE
+
+extern "C"
+{
 #include "ADM_libass/ass.h"
-
+}
 #include "ADM_vidAss_Params.h" 
 class ADMVideoSubASS : public AVDMGenericVideoStream 
 {

Modified: branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2007-05-28 16:14:10 UTC (rev 3164)
+++ branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2007-05-28 16:15:58 UTC (rev 3165)
@@ -11,6 +11,17 @@
 SET(adm_EXE_SRCS ADM_preview.cpp  gtk_gui.cpp  gui_autodrive.cpp  GUI_jobs.cpp  gui_navigate.cpp  guiplay.cpp  gui_savenew.cpp  main.cpp )
 COMPILE_PO_FILES(${CMAKE_SOURCE_DIR}/po adm_EXE_SRCS)
 include_directories(ADM_userInterfaces/ADM_commonUI ADM_outputs)
+
+# Small macro...
+MACRO (add_libs_all_targets _libName)
+  TARGET_LINK_LIBRARIES(avidemux2_cli ${_libName})
+  if(GTK_FOUND)
+  TARGET_LINK_LIBRARIES(avidemux2_gtk ${_libName})
+  endif(GTK_FOUND)
+ENDMACRO (add_libs_all_targets _libName)
+#/ Small macro...
+
+
 #
 # Normal subdirs, compile and link what is inside....
 #
@@ -53,11 +64,7 @@
 ###########################################
 FOREACH(_current ${ADM_SUBDIR})
 subdirs (PREORDER ${_current})
-TARGET_LINK_LIBRARIES(avidemux2_cli ${_current})
-if(GTK_FOUND)
-TARGET_LINK_LIBRARIES(avidemux2_gtk ${_current})
-endif(GTK_FOUND)
-
+add_libs_all_targets(${_current})
 ENDFOREACH(_current ${ADM_SUBDIR})
 
 ###########################################
@@ -89,11 +96,7 @@
 ENDIF(FT_FOUND)
 
 FOREACH(_current ${ADM_LIBRARIES})
-TARGET_LINK_LIBRARIES(avidemux2_cli ${_current})
-if(GTK_FOUND)
-TARGET_LINK_LIBRARIES(avidemux2_gtk ${_current})
-endif(GTK_FOUND)
-
+add_libs_all_targets(${_current})
 ENDFOREACH(_current ${ADM_SUBDIR})
 
 ###########################################
@@ -128,11 +131,70 @@
 ###########################################
 TARGET_LINK_LIBRARIES(avidemux2_cli ${GLIB_LDFLAGS} )
 LINK_DIRECTORIES(avidemux2_cli ${GLIB_LIB}  )
-TARGET_LINK_LIBRARIES(avidemux2_cli xml2 )
+
+#fontconfig
+if(USE_FONTCONFIG)
+add_libs_all_targets(fontconfig)
+endif(USE_FONTCONFIG)
+
+# Xv
+if(USE_XV)
+add_libs_all_targets( Xext)
+add_libs_all_targets( X11 )
+add_libs_all_targets( Xv )
+add_libs_all_targets( m)
+endif(USE_XV)
+
+# Lame
+if(HAVE_LIBMP3LAME)
+add_libs_all_targets(mp3lame )
+endif(HAVE_LIBMP3LAME)
+
+# SDL
+if(USE_SDL)
+add_libs_all_targets(${SDL_LIBRARY} )
+endif(USE_SDL)
+
+
+# x264
+if(USE_X264)
+add_libs_all_targets(x264 )
+endif(USE_X264)
+
+# png
+if(USE_PNG)
+add_libs_all_targets(png )
+endif(USE_PNG)
+
+# Vorbis
+if(USE_VORBIS)
+add_libs_all_targets(vorbis )
+add_libs_all_targets(vorbisenc )
+endif(USE_VORBIS)
+
+#faac
+if(USE_FAAC)
+add_libs_all_targets(faac)
+endif(USE_FAAC)
+
+#faad
+if(USE_FAAD)
+add_libs_all_targets(faad)
+endif(USE_FAAD)
+
+#freetype
+if(USE_FREETYPE)
+add_libs_all_targets(${FT_LDFLAGS})
+endif(USE_FREETYPE)
+
+# Xml2
+add_libs_all_targets(xml2 )
+###########################################
+# Specific
+###########################################
 if(GTK_FOUND)
 TARGET_LINK_LIBRARIES(avidemux2_gtk ${GLIB_LDFLAGS} )
 LINK_DIRECTORIES(avidemux2_gtk ${GLIB_LIB}  )
-TARGET_LINK_LIBRARIES(avidemux2_gtk xml2 )
 TARGET_LINK_LIBRARIES(avidemux2_gtk ${GTK_LDFLAGS} )
 TARGET_LINK_LIBRARIES(avidemux2_gtk ${GTHREAD_LDFLAGS} ) # FIXME
 endif(GTK_FOUND)



From mean at mail.berlios.de  Mon May 28 19:38:58 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 28 May 2007 19:38:58 +0200
Subject: [Avidemux-svn-commit] r3166 - in branches/avidemux_2.4_branch: .
	avidemux avidemux/ADM_userInterfaces/ADM_commonUI cmake
Message-ID: <200705281738.l4SHcwTC021372@sheep.berlios.de>

Author: mean
Date: 2007-05-28 19:38:58 +0200 (Mon, 28 May 2007)
New Revision: 3166

Added:
   branches/avidemux_2.4_branch/cmake/FindAlsa.cmake
Modified:
   branches/avidemux_2.4_branch/CMakeLists.txt
   branches/avidemux_2.4_branch/ConfigureChecks.cmake
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp
   branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
Log:
more autodetected stuff

Modified: branches/avidemux_2.4_branch/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/CMakeLists.txt	2007-05-28 16:15:58 UTC (rev 3165)
+++ branches/avidemux_2.4_branch/CMakeLists.txt	2007-05-28 17:38:58 UTC (rev 3166)
@@ -48,7 +48,10 @@
 ELSE(NOT FT_INCLUDE)
     SET(FT_FOUND TRUE)
     SET(FT_CFLAGS ${FT_CFLAGS})
+    SET(FT_LDFLAGS ${FT_LDFLAGS})
     SET(FT_INCLUDE ${FT_INCLUDE})
+    MESSAGE("LDFLAGS <${FT_LDFLAGS}>")
+    MESSAGE("LIBS <${FT_LIB}>")
     MESSAGE(STATUS OK)
     MESSAGE("FreeType Found ("${FT_CFLAGS} ${FT_INCLUDE}")")
     

Modified: branches/avidemux_2.4_branch/ConfigureChecks.cmake
===================================================================
--- branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-28 16:15:58 UTC (rev 3165)
+++ branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-28 17:38:58 UTC (rev 3166)
@@ -44,10 +44,25 @@
 SET(HAVE_LRINTF    1)
 SET(EMULATE_FAST_INT    1)
 SET(RUNTIME_CPUDETECT    1)
+
 ########################################
+# ALSA
+########################################
+if(NOT WIN32)
+  MESSAGE(STATUS "<Checking for ALSA>")
+  include(FindAlsa)
+  if(ALSA_FOUND)
+    ALSA_VERSION_STRING(alsaVersion)
+    MESSAGE("Found alsa version :${alsaVersion}") 
+    MESSAGE("Found alsa lib     :${ASOUND_LIBRARY}")
+    SET(ALSA_SUPPORT 1)
+    SET(ALSA_1_0_SUPPORT 1)
+  endif(ALSA_FOUND)
+endif(NOT WIN32)
+########################################
 # SDL
 ########################################
-MESSAGE(STATUS "Checking for SDL")
+MESSAGE(STATUS "<Checking for SDL>")
 include(FindSDL)
 if(SDL_FOUND)
  SET(USE_SDL 1)
@@ -69,10 +84,36 @@
 ADM_CHECK_HL(Xvideo X11/extensions/Xvlib.h Xv XvShmPutImage USE_XV)
 endif(NOT WIN32)
 ########################################
+# OSS
+########################################
+
+if(NOT WIN32)
+MESSAGE(STATUS "<Checking for OSS>")
+CHECK_INCLUDE_FILES(sys/soundcard.h      OSS_SUPPORT)
+if(OSS_SUPPORT)
+MESSAGE(STATUS "Found")
+else(OSS_SUPPORT)
+MESSAGE(STATUS "Not found")
+endif(OSS_SUPPORT)
+
+endif(NOT WIN32)
+########################################
+# ESD
+########################################
+if(NOT WIN32)
+ADM_CHECK_HL(Esd esd.h  esd esd_close USE_ESD)
+endif(NOT WIN32)
+
+########################################
 # LAME
 ########################################
 ADM_CHECK_HL(Lame lame/lame.h mp3lame lame_init HAVE_LIBMP3LAME)
 ########################################
+# Xvid
+########################################
+ADM_CHECK_HL(Xvid xvid.h xvidcore xvid_plugin_single USE_XVID_4)
+
+########################################
 # X264
 ########################################
 ADM_CHECK_HL(x264 x264.h x264 x264_encoder_open USE_X264)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp	2007-05-28 16:15:58 UTC (rev 3165)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp	2007-05-28 17:38:58 UTC (rev 3166)
@@ -44,9 +44,11 @@
 uint8_t DIA_builtin(void)
 {
   uint32_t altivec=0,mad=0,a52dec=0,xvid4=0,X264=0,freetype=0,esd=0,arts=0,vorbis=0,win32=0;
-  uint32_t faac=0,faad=0,libdca=0,aften=0,libamrnb=0,lame=0,sdl=0,oss=0,xvideo=0,x86=0,x86_64=0;
-  uint32_t powerpc=0,gettext=0;
-  
+  uint32_t faac=0,faad=0,libdca=0,aften=0,libamrnb=0,lame=0,sdl=0,oss=0,xvideo=0,x86=0,x86_64=0,alsa=0;
+  uint32_t powerpc=0,gettext=0,fontconfig=0;
+#ifdef USE_FONTCONFIG
+  fontconfig=1;
+#endif
 #ifdef USE_ALTIVEC
         altivec=1;
 #endif
@@ -103,6 +105,10 @@
 #ifdef OSS_SUPPORT
 	oss=1;
 #endif
+#ifdef ALSA_SUPPORT
+	alsa=1;
+#endif
+
 #ifdef USE_XV
 	xvideo=1;
 #endif
@@ -150,8 +156,10 @@
 	diaElemFrame miscFrame(_("Miscellaneous libraries:"));
 	diaElemNotch tArts(arts, _("aRts"));
 	diaElemNotch tEsd(esd, _("ESD"));
+        diaElemNotch tFontConfig(fontconfig, _("FontConfig"));
 	diaElemNotch tFreetype(freetype, _("FreeType 2"));
 	diaElemNotch tGettext(gettext, _("gettext"));
+        diaElemNotch tAlsa(alsa, _("Alsa"));
 	diaElemNotch tOss(oss, _("OSS"));
 	diaElemNotch tSdl(sdl, _("SDL"));
 	diaElemNotch tXvideo(xvideo, _("XVideo"));
@@ -159,8 +167,10 @@
 	miscFrame.swallow(&tArts);
 	miscFrame.swallow(&tEsd);
 	miscFrame.swallow(&tFreetype);
+        miscFrame.swallow(&tFontConfig);
 	miscFrame.swallow(&tGettext);
 	miscFrame.swallow(&tOss);
+        miscFrame.swallow(&tAlsa);
 	miscFrame.swallow(&tSdl);
 	miscFrame.swallow(&tXvideo);
     

Modified: branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2007-05-28 16:15:58 UTC (rev 3165)
+++ branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2007-05-28 17:38:58 UTC (rev 3166)
@@ -132,6 +132,15 @@
 TARGET_LINK_LIBRARIES(avidemux2_cli ${GLIB_LDFLAGS} )
 LINK_DIRECTORIES(avidemux2_cli ${GLIB_LIB}  )
 
+# xvid
+if(USE_XVID_4)
+add_libs_all_targets(xvidcore)
+endif(USE_XVID_4)
+
+#alsa
+if(ALSA_FOUND)
+add_libs_all_targets( ${ASOUND_LIBRARY} )
+endif(ALSA_FOUND)
 #fontconfig
 if(USE_FONTCONFIG)
 add_libs_all_targets(fontconfig)
@@ -153,9 +162,15 @@
 # SDL
 if(USE_SDL)
 add_libs_all_targets(${SDL_LIBRARY} )
+add_libs_all_targets(SDL )
 endif(USE_SDL)
 
+# ESD
+if(USE_ESD)
+add_libs_all_targets(esd )
+endif(USE_ESD)
 
+
 # x264
 if(USE_X264)
 add_libs_all_targets(x264 )

Added: branches/avidemux_2.4_branch/cmake/FindAlsa.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/FindAlsa.cmake	2007-05-28 16:15:58 UTC (rev 3165)
+++ branches/avidemux_2.4_branch/cmake/FindAlsa.cmake	2007-05-28 17:38:58 UTC (rev 3166)
@@ -0,0 +1,60 @@
+# Alsa check, based on libkmid/configure.in.in.
+# Only the support for Alsa >= 0.9.x was included; 0.5.x was dropped (but feel free to re-add it if you need it)
+# It defines ...
+# It offers the following macros:
+# ALSA_CONFIGURE_FILE(config_header) - generate a config.h, typical usage: 
+#                                      ALSA_CONFIGURE_FILE(${CMAKE_BINARY_DIR}/config-alsa.h)
+# ALSA_VERSION_STRING(version_string)  looks for alsa/version.h and reads the version string into
+#                                      the first argument passed to the macro
+
+# Copyright (c) 2006, David Faure, <faure at kde.org>
+# Copyright (c) 2007, Matthias Kretz <kretz at kde.org>
+#
+# Redistribution and use is allowed according to the terms of the BSD license.
+# For details see the accompanying COPYING-CMAKE-SCRIPTS file.
+
+include(CheckIncludeFiles)
+include(CheckIncludeFileCXX)
+include(CheckLibraryExists)
+
+# Already done by toplevel
+FIND_LIBRARY(ASOUND_LIBRARY asound)
+check_library_exists(asound snd_seq_create_simple_port ${ASOUND_LIBRARY} HAVE_LIBASOUND2)
+if(HAVE_LIBASOUND2)
+    message(STATUS "Found ALSA: ${ASOUND_LIBRARY}")
+else(HAVE_LIBASOUND2)
+    message(STATUS "ALSA not found")
+endif(HAVE_LIBASOUND2)
+set(ALSA_FOUND HAVE_LIBASOUND2)
+
+MACRO(ALSA_VERSION_STRING _result)
+    # check for version in alsa/version.h
+    FIND_PATH(_ALSA_INCLUDE_DIR alsa/version.h)
+    IF(_ALSA_INCLUDE_DIR)
+        FILE(READ "${_ALSA_INCLUDE_DIR}/alsa/version.h" _ALSA_VERSION_CONTENT)
+        STRING(REGEX REPLACE ".*SND_LIB_VERSION_STR.*\"(.*)\".*" "\\1" ${_result} ${_ALSA_VERSION_CONTENT})
+    ELSE(_ALSA_INCLUDE_DIR)
+        MESSAGE(STATUS "ALSA version not known. ALSA output will probably not work correctly.")
+    ENDIF(_ALSA_INCLUDE_DIR)
+ENDMACRO(ALSA_VERSION_STRING _result)
+
+get_filename_component(_FIND_ALSA_MODULE_DIR ${CMAKE_CURRENT_LIST_FILE} PATH)
+macro(ALSA_CONFIGURE_FILE _destFile)
+    check_include_files(sys/soundcard.h HAVE_SYS_SOUNDCARD_H)
+    check_include_files(machine/soundcard.h HAVE_MACHINE_SOUNDCARD_H)
+
+    check_include_files(linux/awe_voice.h HAVE_LINUX_AWE_VOICE_H)
+    check_include_files(awe_voice.h HAVE_AWE_VOICE_H)
+    check_include_files(/usr/src/sys/i386/isa/sound/awe_voice.h HAVE__USR_SRC_SYS_I386_ISA_SOUND_AWE_VOICE_H)
+    check_include_files(/usr/src/sys/gnu/i386/isa/sound/awe_voice.h HAVE__USR_SRC_SYS_GNU_I386_ISA_SOUND_AWE_VOICE_H)
+
+    check_include_file_cxx(sys/asoundlib.h HAVE_SYS_ASOUNDLIB_H)
+    check_include_file_cxx(alsa/asoundlib.h HAVE_ALSA_ASOUNDLIB_H)
+
+    check_library_exists(asound snd_pcm_resume ${ASOUND_LIBRARY} ASOUND_HAS_SND_PCM_RESUME)
+    if(ASOUND_HAS_SND_PCM_RESUME)
+        set(HAVE_SND_PCM_RESUME 1)
+    endif(ASOUND_HAS_SND_PCM_RESUME)
+
+  #  configure_file(${_FIND_ALSA_MODULE_DIR}/config-alsa.h.cmake ${_destFile})
+endmacro(ALSA_CONFIGURE_FILE _destFile)



From mean at mail.berlios.de  Mon May 28 21:12:06 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 28 May 2007 21:12:06 +0200
Subject: [Avidemux-svn-commit] r3167 - branches/avidemux_2.4_branch
Message-ID: <200705281912.l4SJC6fl002641@sheep.berlios.de>

Author: mean
Date: 2007-05-28 21:12:06 +0200 (Mon, 28 May 2007)
New Revision: 3167

Modified:
   branches/avidemux_2.4_branch/ConfigureChecks.cmake
   branches/avidemux_2.4_branch/config.h.cmake
Log:
win32 fix

Modified: branches/avidemux_2.4_branch/ConfigureChecks.cmake
===================================================================
--- branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-28 17:38:58 UTC (rev 3166)
+++ branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-28 19:12:06 UTC (rev 3167)
@@ -141,7 +141,10 @@
  ADM_CHECK_HL(NeAAC neaacdec.h faad NeAACDecInit USE_FAAD)
 endif(NOT USE_FAAD)
 # FIXME
+# FIXME
+# FIXME
 SET(OLD_FAAD_PROTO 1)
+#SET(ICONV_NEED_CONST 1)
 ########################################
 # FreeType
 ########################################
@@ -166,9 +169,6 @@
    SET(ARCH_X86_32    1)
    SET(FPM_INTEL    1)
    SET(MEMALIGN_HACK    1)
-   SET(rindex    ADM_rindex)
-   SET(fseeko    ADM_fseeko)
-   SET(ftello    ADM_ftello)
    add_definitions(-mms-bitfields -mno-cygwin)
  else(WIN32)
       if(${CMAKE_SYSTEM_PROCESSOR} STREQUAL "i586" OR ${CMAKE_SYSTEM_PROCESSOR} STREQUAL "i686")

Modified: branches/avidemux_2.4_branch/config.h.cmake
===================================================================
--- branches/avidemux_2.4_branch/config.h.cmake	2007-05-28 17:38:58 UTC (rev 3166)
+++ branches/avidemux_2.4_branch/config.h.cmake	2007-05-28 19:12:06 UTC (rev 3167)
@@ -3,6 +3,12 @@
 /* MPEG2DEC */
 #cmakedefine ACCEL_DETECT
 
+#if ${WIN32}
+#define rindex ADM_rindex
+#define index ADM_index
+#define ftello ftello_adm
+#define fseeko fseeko_adm
+#endif
 /* Big endian CPU - SPARC or PowerPC */
 #cmakedefine ADM_BIG_ENDIAN
 



From mean at mail.berlios.de  Mon May 28 21:15:47 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 28 May 2007 21:15:47 +0200
Subject: [Avidemux-svn-commit] r3168 - branches/avidemux_2.4_branch
Message-ID: <200705281915.l4SJFlgb003022@sheep.berlios.de>

Author: mean
Date: 2007-05-28 21:15:47 +0200 (Mon, 28 May 2007)
New Revision: 3168

Modified:
   branches/avidemux_2.4_branch/ConfigureChecks.cmake
   branches/avidemux_2.4_branch/config.h.cmake
Log:
config.h for win32

Modified: branches/avidemux_2.4_branch/ConfigureChecks.cmake
===================================================================
--- branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-28 19:12:06 UTC (rev 3167)
+++ branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-28 19:15:47 UTC (rev 3168)
@@ -44,6 +44,14 @@
 SET(HAVE_LRINTF    1)
 SET(EMULATE_FAST_INT    1)
 SET(RUNTIME_CPUDETECT    1)
+########################################
+# WIN32
+########################################
+if(WIN32)
+SET(WIN32_DEF 1)
+else(WIN32)
+SET(WIN32_DEF 0)
+endif(WIN32)
 
 ########################################
 # ALSA

Modified: branches/avidemux_2.4_branch/config.h.cmake
===================================================================
--- branches/avidemux_2.4_branch/config.h.cmake	2007-05-28 19:12:06 UTC (rev 3167)
+++ branches/avidemux_2.4_branch/config.h.cmake	2007-05-28 19:15:47 UTC (rev 3168)
@@ -3,7 +3,7 @@
 /* MPEG2DEC */
 #cmakedefine ACCEL_DETECT
 
-#if ${WIN32}
+#if ${WIN32_DEF}
 #define rindex ADM_rindex
 #define index ADM_index
 #define ftello ftello_adm



From mean at mail.berlios.de  Mon May 28 21:57:14 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Mon, 28 May 2007 21:57:14 +0200
Subject: [Avidemux-svn-commit] r3169 - in
	branches/avidemux_2.4_branch/avidemux: . ADM_inputs/ADM_nuv
Message-ID: <200705281957.l4SJvEKL008080@sheep.berlios.de>

Author: mean
Date: 2007-05-28 21:57:14 +0200 (Mon, 28 May 2007)
New Revision: 3169

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/RTjpeg.c
   branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
Log:
win32

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/RTjpeg.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/RTjpeg.c	2007-05-28 19:15:47 UTC (rev 3168)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_nuv/RTjpeg.c	2007-05-28 19:57:14 UTC (rev 3169)
@@ -3150,7 +3150,8 @@
   fprintf(stderr, "RTjpeg: Could not allocate memory\n");
   exit(-1);
  }
- bzero(RTjpeg_old, ((4*RTjpeg_width*RTjpeg_height)));
+ /* bzero(RTjpeg_old, ((4*RTjpeg_width*RTjpeg_height))); */
+ memset(RTjpeg_old,0, ((4*RTjpeg_width*RTjpeg_height)) );
 }
 
 #ifdef MMX

Modified: branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2007-05-28 19:15:47 UTC (rev 3168)
+++ branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2007-05-28 19:57:14 UTC (rev 3169)
@@ -9,7 +9,7 @@
 MESSAGE("GTK:"${GTK_CFLAGS}"GLIB:"${GLIB_CFLAGS})
 
 SET(adm_EXE_SRCS ADM_preview.cpp  gtk_gui.cpp  gui_autodrive.cpp  GUI_jobs.cpp  gui_navigate.cpp  guiplay.cpp  gui_savenew.cpp  main.cpp )
-COMPILE_PO_FILES(${CMAKE_SOURCE_DIR}/po adm_EXE_SRCS)
+#COMPILE_PO_FILES(${CMAKE_SOURCE_DIR}/po adm_EXE_SRCS)
 include_directories(ADM_userInterfaces/ADM_commonUI ADM_outputs)
 
 # Small macro...
@@ -214,7 +214,21 @@
 TARGET_LINK_LIBRARIES(avidemux2_gtk ${GTHREAD_LDFLAGS} ) # FIXME
 endif(GTK_FOUND)
 
+IF(WIN32)
+#-mms-bitfield -mno-cygwin \
+#-mwinmm \
+add_libs_all_targets(ADM_osSupport)
+add_libs_all_targets(pthreadGC2 )
+add_libs_all_targets(winmm )
+add_libs_all_targets(wsock32 )
 
+SET_TARGET_PROPERTIES(avidemux2_cli
+	PROPERTIES LINK_FLAGS "-mms-bitfield -mno-cygwin -mwinmm"
+)
+
+ENDIF(WIN32)
+
+
 # /EOF
 
 



From mean at mail.berlios.de  Tue May 29 09:40:24 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 29 May 2007 09:40:24 +0200
Subject: [Avidemux-svn-commit] r3170 - in branches/avidemux_2.4_branch: .
	cmake cmake_compile_check
Message-ID: <200705290740.l4T7eOE6019759@sheep.berlios.de>

Author: mean
Date: 2007-05-29 09:40:23 +0200 (Tue, 29 May 2007)
New Revision: 3170

Added:
   branches/avidemux_2.4_branch/cmake_compile_check/
   branches/avidemux_2.4_branch/cmake_compile_check/faad_check.cpp
   branches/avidemux_2.4_branch/cmake_compile_check/iconv_check.cpp
Modified:
   branches/avidemux_2.4_branch/ConfigureChecks.cmake
   branches/avidemux_2.4_branch/cmake/adm_checkHeaderLib.cmake
   branches/avidemux_2.4_branch/config.h.cmake
Log:
try_compile

Modified: branches/avidemux_2.4_branch/ConfigureChecks.cmake
===================================================================
--- branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-28 19:57:14 UTC (rev 3169)
+++ branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-29 07:40:23 UTC (rev 3170)
@@ -9,6 +9,7 @@
 include(lavcodec)
 include(CMakeDetermineSystem)
 include(adm_checkHeaderLib)
+include(adm_compile)
 #INCLUDE(CheckStructMember)
 check_function_exists(gettimeofday    HAVE_GETTIMEOFDAY)
 # Header
@@ -111,8 +112,18 @@
 if(NOT WIN32)
 ADM_CHECK_HL(Esd esd.h  esd esd_close USE_ESD)
 endif(NOT WIN32)
-
 ########################################
+# ICONV
+########################################
+MESSAGE(STATUS "<Checking if iconv needs const>")
+ADM_COMPILE_WITH_WITHOUT(iconv_check.cpp "-DICONV_NEED_CONST" "-lm" ICONV_WITH)
+if(ICONV_WITH)
+  MESSAGE(STATUS "Yes")
+  SET(ICONV_NEED_CONST 1)
+else(ICONV_WITH)
+    MESSAGE(STATUS "No")
+endif(ICONV_WITH)
+########################################
 # LAME
 ########################################
 ADM_CHECK_HL(Lame lame/lame.h mp3lame lame_init HAVE_LIBMP3LAME)
@@ -144,15 +155,23 @@
 ########################################
 # FAAD
 ########################################
+
 ADM_CHECK_HL(FAAD faad.h faad faacDecInit USE_FAAD)
 if(NOT USE_FAAD)
  ADM_CHECK_HL(NeAAC neaacdec.h faad NeAACDecInit USE_FAAD)
 endif(NOT USE_FAAD)
-# FIXME
-# FIXME
-# FIXME
-SET(OLD_FAAD_PROTO 1)
-#SET(ICONV_NEED_CONST 1)
+
+# See if we need old FAAD or NEW
+if(USE_FAAD)
+MESSAGE(STATUS "<Checking if faad needs old proto>")
+ADM_COMPILE_WITH_WITHOUT(faad_check.cpp "-DOLD_FAAD_PROTO" "-lfaad" FAAD_WITH)
+if(FAAD_WITH)
+  MESSAGE(STATUS "Yes")
+  SET(OLD_FAAD_PROTO 1)
+else(FAAD_WITH)
+    MESSAGE(STATUS "No")
+endif(FAAD_WITH)
+endif(USE_FAAD)
 ########################################
 # FreeType
 ########################################

Modified: branches/avidemux_2.4_branch/cmake/adm_checkHeaderLib.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/adm_checkHeaderLib.cmake	2007-05-28 19:57:14 UTC (rev 3169)
+++ branches/avidemux_2.4_branch/cmake/adm_checkHeaderLib.cmake	2007-05-29 07:40:23 UTC (rev 3170)
@@ -5,6 +5,7 @@
 CHECK_INCLUDE_FILES(${_includeName} HAVE_IT_H)
 #MESSAGE("OUT ${HAVE_IT_H}")
 if(HAVE_IT_H)
+  FIND_LIBRARY(ADM_PATH_LIB ${_libName})
   CHECK_LIBRARY_EXISTS(${_libName} "" ${_libFunc} HAVE_IT_H)
   if(HAVE_IT_H)
         SET(${_varToSet}  1)

Added: branches/avidemux_2.4_branch/cmake_compile_check/faad_check.cpp
===================================================================
--- branches/avidemux_2.4_branch/cmake_compile_check/faad_check.cpp	2007-05-28 19:57:14 UTC (rev 3169)
+++ branches/avidemux_2.4_branch/cmake_compile_check/faad_check.cpp	2007-05-29 07:40:23 UTC (rev 3170)
@@ -0,0 +1,19 @@
+#include <stdint.h>
+#include <stdio.h>
+#include <stdlib.h>
+
+#include "faad.h"
+int main(int argc, char **argv)
+{
+#ifdef OLD_FAAD_PROTO
+unsigned long int srate;
+#else
+uint32_t srate;
+#endif
+uint32_t l;
+uint8_t *d;
+unsigned char chan;
+void    *_instance;
+        faacDecInit2(_instance, d,l, &srate,&chan);
+        return 0;
+}

Added: branches/avidemux_2.4_branch/cmake_compile_check/iconv_check.cpp
===================================================================
--- branches/avidemux_2.4_branch/cmake_compile_check/iconv_check.cpp	2007-05-28 19:57:14 UTC (rev 3169)
+++ branches/avidemux_2.4_branch/cmake_compile_check/iconv_check.cpp	2007-05-29 07:40:23 UTC (rev 3170)
@@ -0,0 +1,17 @@
+	#include <stdio.h>
+	#include <stdlib.h>
+	#include <iconv.h>
+        int main(int argc, char **argv)
+        {
+	char *in,*out;
+	size_t sin, sout, sz;
+	iconv_t _conv;
+	sin=1;
+	sout=4;
+        #ifdef ICONV_NEED_CONST
+ 	sz=iconv(_conv,(const char **)&in,&sin,&out,&sout);
+        #else
+ 	sz=iconv(_conv,&in,&sin,&out,&sout);
+        #endif
+        return 0;
+        }

Modified: branches/avidemux_2.4_branch/config.h.cmake
===================================================================
--- branches/avidemux_2.4_branch/config.h.cmake	2007-05-28 19:57:14 UTC (rev 3169)
+++ branches/avidemux_2.4_branch/config.h.cmake	2007-05-29 07:40:23 UTC (rev 3170)
@@ -499,7 +499,7 @@
 #cmakedefine USE_XX_XVID
 
 /* Version number of package */
-#cmakedefine VERSION
+#define  VERSION "${VERSION}"
 
 /* Big endian CPU - SPARC or PowerPC */
 #cmakedefine WORDS_BIGENDIAN



From mean at mail.berlios.de  Tue May 29 09:45:52 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 29 May 2007 09:45:52 +0200
Subject: [Avidemux-svn-commit] r3171 - branches/avidemux_2.4_branch/cmake
Message-ID: <200705290745.l4T7jqpj020238@sheep.berlios.de>

Author: mean
Date: 2007-05-29 09:45:51 +0200 (Tue, 29 May 2007)
New Revision: 3171

Added:
   branches/avidemux_2.4_branch/cmake/adm_compile.cmake
Log:
cmake macro to compile with or without

Added: branches/avidemux_2.4_branch/cmake/adm_compile.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/adm_compile.cmake	2007-05-29 07:40:23 UTC (rev 3170)
+++ branches/avidemux_2.4_branch/cmake/adm_compile.cmake	2007-05-29 07:45:51 UTC (rev 3171)
@@ -0,0 +1,33 @@
+# Small Macro to check head & lib and set output variable
+# all in one line, cmake is cool :)
+MACRO (ADM_COMPILE _file _cflags _lib _varToSet)
+TRY_COMPILE(${_varToSet}
+      ${CMAKE_BINARY_DIR}
+      ${CMAKE_SOURCE_DIR}/cmake_compile_check/${_file}
+      CMAKE_FLAGS -DLINK_LIBRARIES:STRING=${_lib}
+      COMPILE_DEFINITIONS  ${_cflags}
+      
+      OUTPUT_VARIABLE MYOUTPUT) 
+#MESSAGE( ./compile.log "Compile:${MYOUTPUT}")
+ENDMACRO (ADM_COMPILE _file _cflags _varToSet)
+#########################################################
+MACRO (ADM_COMPILE_WITH_WITHOUT _file _cflags _lib _varToSet)
+
+ADM_COMPILE( ${_file} ${_cflags} ${_lib} CWITH)
+ADM_COMPILE( ${_file} "" ${_lib}  CWITHOUT)
+
+if(CWITH AND NOT CWITHOUT)
+  SET(${_varToSet}  1)
+  MESSAGE (STATUS "<${_cflags}> needed")
+else(CWITH AND NOT CWITHOUT)
+  if(NOT CWITH AND CWITHOUT)
+    MESSAGE (STATUS "<${_cflags}> Not needed")
+  else(NOT CWITH AND CWITHOUT)
+    MESSAGE(FATAL "Inconsistent compiler output with:${CWITH}, without:${CWITHOUT}")
+  endif(NOT CWITH AND CWITHOUT)
+endif(CWITH AND NOT CWITHOUT)
+ENDMACRO (ADM_COMPILE_WITH_WITHOUT _file _cflags _varToSet)
+
+
+
+



From mean at mail.berlios.de  Tue May 29 10:07:18 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 29 May 2007 10:07:18 +0200
Subject: [Avidemux-svn-commit] r3172 - branches/avidemux_2.4_branch/cmake
Message-ID: <200705290807.l4T87Iro022583@sheep.berlios.de>

Author: mean
Date: 2007-05-29 10:07:18 +0200 (Tue, 29 May 2007)
New Revision: 3172

Added:
   branches/avidemux_2.4_branch/cmake/adm_log.cmake
Log:
admlog

Added: branches/avidemux_2.4_branch/cmake/adm_log.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/adm_log.cmake	2007-05-29 07:45:51 UTC (rev 3171)
+++ branches/avidemux_2.4_branch/cmake/adm_log.cmake	2007-05-29 08:07:18 UTC (rev 3172)
@@ -0,0 +1,153 @@
+
+# ------------------------- Begin Generic CMake Variable Logging ------------------
+
+# /*	C++ comment style not allowed	*/
+
+
+# if you are building in-source, this is the same as CMAKE_SOURCE_DIR, otherwise 
+# this is the top level directory of your build tree 
+MESSAGE( STATUS "CMAKE_BINARY_DIR:         " ${CMAKE_BINARY_DIR} )
+
+# if you are building in-source, this is the same as CMAKE_CURRENT_SOURCE_DIR, otherwise this 
+# is the directory where the compiled or generated files from the current CMakeLists.txt will go to 
+MESSAGE( STATUS "CMAKE_CURRENT_BINARY_DIR: " ${CMAKE_CURRENT_BINARY_DIR} )
+
+# this is the directory, from which cmake was started, i.e. the top level source directory 
+MESSAGE( STATUS "CMAKE_SOURCE_DIR:         " ${CMAKE_SOURCE_DIR} )
+
+# this is the directory where the currently processed CMakeLists.txt is located in 
+MESSAGE( STATUS "CMAKE_CURRENT_SOURCE_DIR: " ${CMAKE_CURRENT_SOURCE_DIR} )
+
+# contains the full path to the top level directory of your build tree 
+MESSAGE( STATUS "PROJECT_BINARY_DIR: " ${PROJECT_BINARY_DIR} )
+
+# contains the full path to the root of your project source directory,
+# i.e. to the nearest directory where CMakeLists.txt contains the PROJECT() command 
+MESSAGE( STATUS "PROJECT_SOURCE_DIR: " ${PROJECT_SOURCE_DIR} )
+
+# set this variable to specify a common place where CMake should put all executable files
+# (instead of CMAKE_CURRENT_BINARY_DIR)
+MESSAGE( STATUS "EXECUTABLE_OUTPUT_PATH: " ${EXECUTABLE_OUTPUT_PATH} )
+
+# set this variable to specify a common place where CMake should put all libraries 
+# (instead of CMAKE_CURRENT_BINARY_DIR)
+MESSAGE( STATUS "LIBRARY_OUTPUT_PATH:     " ${LIBRARY_OUTPUT_PATH} )
+
+# tell CMake to search first in directories listed in CMAKE_MODULE_PATH
+# when you use FIND_PACKAGE() or INCLUDE()
+MESSAGE( STATUS "CMAKE_MODULE_PATH: " ${CMAKE_MODULE_PATH} )
+
+# this is the complete path of the cmake which runs currently (e.g. /usr/local/bin/cmake) 
+MESSAGE( STATUS "CMAKE_COMMAND: " ${CMAKE_COMMAND} )
+
+# this is the CMake installation directory 
+MESSAGE( STATUS "CMAKE_ROOT: " ${CMAKE_ROOT} )
+
+# this is the filename including the complete path of the file where this variable is used. 
+MESSAGE( STATUS "CMAKE_CURRENT_LIST_FILE: " ${CMAKE_CURRENT_LIST_FILE} )
+
+# this is linenumber where the variable is used
+MESSAGE( STATUS "CMAKE_CURRENT_LIST_LINE: " ${CMAKE_CURRENT_LIST_LINE} )
+
+# this is used when searching for include files e.g. using the FIND_PATH() command.
+MESSAGE( STATUS "CMAKE_INCLUDE_PATH: " ${CMAKE_INCLUDE_PATH} )
+
+# this is used when searching for libraries e.g. using the FIND_LIBRARY() command.
+MESSAGE( STATUS "CMAKE_LIBRARY_PATH: " ${CMAKE_LIBRARY_PATH} )
+
+# the complete system name, e.g. "Linux-2.4.22", "FreeBSD-5.4-RELEASE" or "Windows 5.1" 
+MESSAGE( STATUS "CMAKE_SYSTEM: " ${CMAKE_SYSTEM} )
+
+# the short system name, e.g. "Linux", "FreeBSD" or "Windows"
+MESSAGE( STATUS "CMAKE_SYSTEM_NAME: " ${CMAKE_SYSTEM_NAME} )
+
+# only the version part of CMAKE_SYSTEM 
+MESSAGE( STATUS "CMAKE_SYSTEM_VERSION: " ${CMAKE_SYSTEM_VERSION} )
+
+# the processor name (e.g. "Intel(R) Pentium(R) M processor 2.00GHz") 
+MESSAGE( STATUS "CMAKE_SYSTEM_PROCESSOR: " ${CMAKE_SYSTEM_PROCESSOR} )
+
+# is TRUE on all UNIX-like OS's, including Apple OS X and CygWin
+MESSAGE( STATUS "UNIX: " ${UNIX} )
+
+# is TRUE on Windows, including CygWin 
+MESSAGE( STATUS "WIN32: " ${WIN32} )
+
+# is TRUE on Apple OS X
+MESSAGE( STATUS "APPLE: " ${APPLE} )
+
+# is TRUE when using the MinGW compiler in Windows
+MESSAGE( STATUS "MINGW: " ${MINGW} )
+
+# is TRUE on Windows when using the CygWin version of cmake
+MESSAGE( STATUS "CYGWIN: " ${CYGWIN} )
+
+# is TRUE on Windows when using a Borland compiler 
+MESSAGE( STATUS "BORLAND: " ${BORLAND} )
+
+# Microsoft compiler 
+MESSAGE( STATUS "MSVC: " ${MSVC} )
+MESSAGE( STATUS "MSVC_IDE: " ${MSVC_IDE} )
+MESSAGE( STATUS "MSVC60: " ${MSVC60} )
+MESSAGE( STATUS "MSVC70: " ${MSVC70} )
+MESSAGE( STATUS "MSVC71: " ${MSVC71} )
+MESSAGE( STATUS "MSVC80: " ${MSVC80} )
+MESSAGE( STATUS "CMAKE_COMPILER_2005: " ${CMAKE_COMPILER_2005} )
+
+
+# set this to true if you don't want to rebuild the object files if the rules have changed, 
+# but not the actual source files or headers (e.g. if you changed the some compiler switches) 
+MESSAGE( STATUS "CMAKE_SKIP_RULE_DEPENDENCY: " ${CMAKE_SKIP_RULE_DEPENDENCY} )
+
+# since CMake 2.1 the install rule depends on all, i.e. everything will be built before installing. 
+# If you don't like this, set this one to true.
+MESSAGE( STATUS "CMAKE_SKIP_INSTALL_ALL_DEPENDENCY: " ${CMAKE_SKIP_INSTALL_ALL_DEPENDENCY} )
+
+# If set, runtime paths are not added when using shared libraries. Default it is set to OFF
+MESSAGE( STATUS "CMAKE_SKIP_RPATH: " ${CMAKE_SKIP_RPATH} )
+
+# set this to true if you are using makefiles and want to see the full compile and link 
+# commands instead of only the shortened ones 
+MESSAGE( STATUS "CMAKE_VERBOSE_MAKEFILE: " ${CMAKE_VERBOSE_MAKEFILE} )
+
+# this will cause CMake to not put in the rules that re-run CMake. This might be useful if 
+# you want to use the generated build files on another machine. 
+MESSAGE( STATUS "CMAKE_SUPPRESS_REGENERATION: " ${CMAKE_SUPPRESS_REGENERATION} )
+
+
+# A simple way to get switches to the compiler is to use ADD_DEFINITIONS(). 
+# But there are also two variables exactly for this purpose: 
+
+# the compiler flags for compiling C sources 
+MESSAGE( STATUS "CMAKE_C_FLAGS: " ${CMAKE_C_FLAGS} )
+
+# the compiler flags for compiling C++ sources 
+MESSAGE( STATUS "CMAKE_CXX_FLAGS: " ${CMAKE_CXX_FLAGS} )
+
+
+# Choose the type of build.  Example: SET(CMAKE_BUILD_TYPE Debug) 
+MESSAGE( STATUS "CMAKE_BUILD_TYPE: " ${CMAKE_BUILD_TYPE} )
+
+# if this is set to ON, then all libraries are built as shared libraries by default.
+MESSAGE( STATUS "BUILD_SHARED_LIBS: " ${BUILD_SHARED_LIBS} )
+
+# the compiler used for C files 
+MESSAGE( STATUS "CMAKE_C_COMPILER: " ${CMAKE_C_COMPILER} )
+
+# the compiler used for C++ files 
+MESSAGE( STATUS "CMAKE_CXX_COMPILER: " ${CMAKE_CXX_COMPILER} )
+
+# if the compiler is a variant of gcc, this should be set to 1 
+MESSAGE( STATUS "CMAKE_COMPILER_IS_GNUCC: " ${CMAKE_COMPILER_IS_GNUCC} )
+
+# if the compiler is a variant of g++, this should be set to 1 
+MESSAGE( STATUS "CMAKE_COMPILER_IS_GNUCXX : " ${CMAKE_COMPILER_IS_GNUCXX} )
+
+# the tools for creating libraries 
+MESSAGE( STATUS "CMAKE_AR: " ${CMAKE_AR} )
+MESSAGE( STATUS "CMAKE_RANLIB: " ${CMAKE_RANLIB} )
+
+#
+#MESSAGE( STATUS ": " ${} )
+
+# ------------------------- End of Generic CMake Variable Logging ------------------



From mean at mail.berlios.de  Tue May 29 10:27:34 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 29 May 2007 10:27:34 +0200
Subject: [Avidemux-svn-commit] r3173 -
	branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libass
Message-ID: <200705290827.l4T8RY5S024785@sheep.berlios.de>

Author: mean
Date: 2007-05-29 10:27:33 +0200 (Tue, 29 May 2007)
New Revision: 3173

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libass/Makefile.am
Log:
fix compilation with automake

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libass/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libass/Makefile.am	2007-05-29 08:07:18 UTC (rev 3172)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_libass/Makefile.am	2007-05-29 08:27:33 UTC (rev 3173)
@@ -4,5 +4,5 @@
 
 EXTRA_DIST = 
 
-INCLUDES = $(all_includes) -I../.. $(FREETYPE_CFLAGS)  $(FC_CFLAGS) -DAVIDEMUX -x c++
+INCLUDES = $(all_includes) -I../.. $(FREETYPE_CFLAGS)  $(FC_CFLAGS) -DAVIDEMUX 
 noinst_HEADERS =  



From mean at mail.berlios.de  Tue May 29 10:39:24 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 29 May 2007 10:39:24 +0200
Subject: [Avidemux-svn-commit] r3174 - branches/avidemux_2.4_branch
Message-ID: <200705290839.l4T8dOm5026111@sheep.berlios.de>

Author: mean
Date: 2007-05-29 10:39:23 +0200 (Tue, 29 May 2007)
New Revision: 3174

Modified:
   branches/avidemux_2.4_branch/CMakeLists.txt
   branches/avidemux_2.4_branch/ConfigureChecks.cmake
Log:
extra inc/lib

Modified: branches/avidemux_2.4_branch/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/CMakeLists.txt	2007-05-29 08:27:33 UTC (rev 3173)
+++ branches/avidemux_2.4_branch/CMakeLists.txt	2007-05-29 08:39:23 UTC (rev 3174)
@@ -9,21 +9,28 @@
 # where to look first for cmake modules, before ${CMAKE_ROOT}/Modules/ is checked
 SET(CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/cmake")
 
-include(UsePkgConfig)
-include(MacroEnsureOutOfSourceBuild)
-
-include(Po)
-include(CheckCXXCompilerFlag)
-include(FindLibXml2)
 #**************************************************
 # MESSAGE
 #**************************************************
 MESSAGE("#####################################")
 MESSAGE("Configure Started")
 MESSAGE("#####################################")
+SET(CMAKE_INCLUDE_PATH $ENV{CMAKE_INCLUDE_PATH})
+SET(CMAKE_LIBRARY_PATH $ENV{CMAKE_LIBRARY_PATH})
+MESSAGE("<<EXTRA INC:${CMAKE_INCLUDE_PATH}>>")
+MESSAGE("<<EXTRA LIB:${CMAKE_LIBRARY_PATH}>>")
+include_directories(${CMAKE_INCLUDE_PATH})
+LINK_DIRECTORIES(${CMAKE_LIBRARY_PATH})
+#*************************************************
+include(UsePkgConfig)
+include(MacroEnsureOutOfSourceBuild)
+
+include(Po)
+include(CheckCXXCompilerFlag)
 #**************************************************
 # libxml2
 #**************************************************
+include(FindLibXml2)
 if(NOT LIBXML2_FOUND)
   MESSAGE(FATAL_ERROR "Could not find Libxml2")
 endif(NOT LIBXML2_FOUND)
@@ -115,7 +122,7 @@
 #**************************************************
 # Search for QT4 
 #**************************************************
-MESSAGE("Checking for QT4")
+MESSAGE(STATUS "<Checking for QT4>")
 include(FindQt4)
 
 # do config checks
@@ -123,10 +130,10 @@
 
 # create config.h
 CONFIGURE_FILE(config.h.cmake ${CMAKE_CURRENT_BINARY_DIR}/config.h)
-#
-include_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR} ${CMAKE_CURRENT_BINARY_DIR}/avidemux ${CMAKE_CURRENT_BINARY_DIR}/avidemux/ADM_libraries)
-include_directories(${CMAKE_CURRENT_BINARY_DIR}/avidemux/ADM_libraries/ADM_utilities/ ${CMAKE_CURRENT_BINARY_DIR}/avidemux/ADM_libraries/ADM_lavutil)
-include_directories(${CMAKE_CURRENT_BINARY_DIR}/avidemux/ADM_libraries/ADM_lavcodec  )
+# #
+ include_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR} ${CMAKE_CURRENT_BINARY_DIR}/avidemux ${CMAKE_CURRENT_BINARY_DIR}/avidemux/ADM_libraries)
+ include_directories(${CMAKE_CURRENT_BINARY_DIR}/avidemux/ADM_libraries/ADM_utilities/ ${CMAKE_CURRENT_BINARY_DIR}/avidemux/ADM_libraries/ADM_lavutil)
+ include_directories(${CMAKE_CURRENT_BINARY_DIR}/avidemux/ADM_libraries/ADM_lavcodec  )
 #**********************************************
 # Some CFLAGS
 #**********************************************

Modified: branches/avidemux_2.4_branch/ConfigureChecks.cmake
===================================================================
--- branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-29 08:27:33 UTC (rev 3173)
+++ branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-29 08:39:23 UTC (rev 3174)
@@ -217,4 +217,6 @@
 MESSAGE("End of CPU and OS Check")
 #
 SET(ADM_DEBUG 1)
-# EOF
+
+include(adm_log)
+# EOF
\ No newline at end of file



From mean at mail.berlios.de  Tue May 29 11:15:33 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 29 May 2007 11:15:33 +0200
Subject: [Avidemux-svn-commit] r3175 - branches/avidemux_2.4_branch
Message-ID: <200705290915.l4T9FXIh031830@sheep.berlios.de>

Author: mean
Date: 2007-05-29 11:15:32 +0200 (Tue, 29 May 2007)
New Revision: 3175

Modified:
   branches/avidemux_2.4_branch/CMakeLists.txt
Log:
use CFLAGS

Modified: branches/avidemux_2.4_branch/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/CMakeLists.txt	2007-05-29 08:39:23 UTC (rev 3174)
+++ branches/avidemux_2.4_branch/CMakeLists.txt	2007-05-29 09:15:32 UTC (rev 3175)
@@ -2,6 +2,9 @@
 # main cmake file for avidemux
 # Derived from the one available in sim-im & kde4
 ##########################################################
+MESSAGE("#####################################")
+MESSAGE("Configure Started")
+MESSAGE("#####################################")
 PROJECT(Avidemux2)
 CMAKE_MINIMUM_REQUIRED(VERSION 2.4.4)
 SET(CMAKE_COLOR_MAKEFILE ON)
@@ -12,15 +15,11 @@
 #**************************************************
 # MESSAGE
 #**************************************************
-MESSAGE("#####################################")
-MESSAGE("Configure Started")
-MESSAGE("#####################################")
-SET(CMAKE_INCLUDE_PATH $ENV{CMAKE_INCLUDE_PATH})
-SET(CMAKE_LIBRARY_PATH $ENV{CMAKE_LIBRARY_PATH})
-MESSAGE("<<EXTRA INC:${CMAKE_INCLUDE_PATH}>>")
-MESSAGE("<<EXTRA LIB:${CMAKE_LIBRARY_PATH}>>")
-include_directories(${CMAKE_INCLUDE_PATH})
-LINK_DIRECTORIES(${CMAKE_LIBRARY_PATH})
+SET(CMAKE_C_FLAGS $ENV{CFLAGS})
+SET(CMAKE_CXX_FLAGS $ENV{CXXFLAGS})
+
+MESSAGE("EXTRA Cflags:${CMAKE_C_FLAGS}")
+MESSAGE("EXTRA CXXflags:${CMAKE_CXX_FLAGS}")
 #*************************************************
 include(UsePkgConfig)
 include(MacroEnsureOutOfSourceBuild)



From mean at mail.berlios.de  Tue May 29 11:34:41 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 29 May 2007 11:34:41 +0200
Subject: [Avidemux-svn-commit] r3176 - branches/avidemux_2.4_branch/cmake
Message-ID: <200705290934.l4T9Yfle001910@sheep.berlios.de>

Author: mean
Date: 2007-05-29 11:34:41 +0200 (Tue, 29 May 2007)
New Revision: 3176

Modified:
   branches/avidemux_2.4_branch/cmake/adm_compile.cmake
Log:
both compiling is not an error

Modified: branches/avidemux_2.4_branch/cmake/adm_compile.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/adm_compile.cmake	2007-05-29 09:15:32 UTC (rev 3175)
+++ branches/avidemux_2.4_branch/cmake/adm_compile.cmake	2007-05-29 09:34:41 UTC (rev 3176)
@@ -1,20 +1,20 @@
 # Small Macro to check head & lib and set output variable
 # all in one line, cmake is cool :)
-MACRO (ADM_COMPILE _file _cflags _lib _varToSet)
+MACRO (ADM_COMPILE _file _cflags _lib _varToSet _output)
 TRY_COMPILE(${_varToSet}
       ${CMAKE_BINARY_DIR}
       ${CMAKE_SOURCE_DIR}/cmake_compile_check/${_file}
       CMAKE_FLAGS -DLINK_LIBRARIES:STRING=${_lib}
       COMPILE_DEFINITIONS  ${_cflags}
       
-      OUTPUT_VARIABLE MYOUTPUT) 
+      OUTPUT_VARIABLE ${_output}) 
 #MESSAGE( ./compile.log "Compile:${MYOUTPUT}")
-ENDMACRO (ADM_COMPILE _file _cflags _varToSet)
+ENDMACRO (ADM_COMPILE _file _cflags _varToSet _output)
 #########################################################
 MACRO (ADM_COMPILE_WITH_WITHOUT _file _cflags _lib _varToSet)
 
-ADM_COMPILE( ${_file} ${_cflags} ${_lib} CWITH)
-ADM_COMPILE( ${_file} "" ${_lib}  CWITHOUT)
+ADM_COMPILE( ${_file} ${_cflags} ${_lib} CWITH logwith)
+ADM_COMPILE( ${_file} "" ${_lib}  CWITHOUT logwithout)
 
 if(CWITH AND NOT CWITHOUT)
   SET(${_varToSet}  1)
@@ -23,7 +23,13 @@
   if(NOT CWITH AND CWITHOUT)
     MESSAGE (STATUS "<${_cflags}> Not needed")
   else(NOT CWITH AND CWITHOUT)
-    MESSAGE(FATAL "Inconsistent compiler output with:${CWITH}, without:${CWITHOUT}")
+    if(NOT CWIDTH AND NOT CWITHOUT)
+      MESSAGE(STATUS "Inconsistent compiler output with:${CWITH}, without:${CWITHOUT}")
+      MESSAGE(STATUS "**********************************")
+      MESSAGE(STATUS "${logwith}")
+      MESSAGE(STATUS "**********************************")
+      MESSAGE(STATUS "${logwithout}")
+    endif(NOT CWIDTH AND NOT CWITHOUT)
   endif(NOT CWITH AND CWITHOUT)
 endif(CWITH AND NOT CWITHOUT)
 ENDMACRO (ADM_COMPILE_WITH_WITHOUT _file _cflags _varToSet)



From mean at mail.berlios.de  Tue May 29 11:46:12 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 29 May 2007 11:46:12 +0200
Subject: [Avidemux-svn-commit] r3177 - in branches/avidemux_2.4_branch: .
	avidemux
Message-ID: <200705290946.l4T9kCVi004527@sheep.berlios.de>

Author: mean
Date: 2007-05-29 11:46:12 +0200 (Tue, 29 May 2007)
New Revision: 3177

Modified:
   branches/avidemux_2.4_branch/ConfigureChecks.cmake
   branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
   branches/avidemux_2.4_branch/config.h.cmake
Log:
libiconv if needed

Modified: branches/avidemux_2.4_branch/ConfigureChecks.cmake
===================================================================
--- branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-29 09:34:41 UTC (rev 3176)
+++ branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-29 09:46:12 UTC (rev 3177)
@@ -115,6 +115,23 @@
 ########################################
 # ICONV
 ########################################
+# search ICON.h
+MESSAGE(STATUS "<Checking for iconv.h>")
+CHECK_INCLUDE_FILES(iconv.h HAVE_ICONV_H)
+if(NOT HAVE_ICONV_H)
+  MESSAGE(FATAL "iconv.h not found")
+endif(NOT HAVE_ICONV_H)
+
+# need libiconv ?
+CHECK_LIBRARY_EXISTS("iconv" "" iconv LINK_WITH_ICONV)
+if(LINK_WITH_ICONV)
+  SET(NEEED_LIBICONV 1)
+  MESSAGE(STATUS "libiconv found, probably needed")
+else(LINK_WITH_ICONV)
+  MESSAGE(STATUS "libiconv not found, probably not needed")
+endif(LINK_WITH_ICONV)
+
+#
 MESSAGE(STATUS "<Checking if iconv needs const>")
 ADM_COMPILE_WITH_WITHOUT(iconv_check.cpp "-DICONV_NEED_CONST" "-lm" ICONV_WITH)
 if(ICONV_WITH)
@@ -219,4 +236,5 @@
 SET(ADM_DEBUG 1)
 
 include(adm_log)
-# EOF
\ No newline at end of file
+MESSAGE("LINK_FLAGS ${CMAKE_LD_FLAGS}")
+# EOF

Modified: branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2007-05-29 09:34:41 UTC (rev 3176)
+++ branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2007-05-29 09:46:12 UTC (rev 3177)
@@ -202,6 +202,11 @@
 add_libs_all_targets(${FT_LDFLAGS})
 endif(USE_FREETYPE)
 
+#iconv
+if(NEEED_LIBICONV)
+add_libs_all_targets(iconv)
+endif(NEEED_LIBICONV)
+
 # Xml2
 add_libs_all_targets(xml2 )
 ###########################################

Modified: branches/avidemux_2.4_branch/config.h.cmake
===================================================================
--- branches/avidemux_2.4_branch/config.h.cmake	2007-05-29 09:34:41 UTC (rev 3176)
+++ branches/avidemux_2.4_branch/config.h.cmake	2007-05-29 09:46:12 UTC (rev 3177)
@@ -12,6 +12,9 @@
 /* Big endian CPU - SPARC or PowerPC */
 #cmakedefine ADM_BIG_ENDIAN
 
+/* If we need to explictely link to iconv */
+#cmakedefine NEEED_LIBICONV
+
 /* BSD OS specific ifdef */
 #cmakedefine ADM_BSD_FAMILY
 



From mean at mail.berlios.de  Tue May 29 12:10:47 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 29 May 2007 12:10:47 +0200
Subject: [Avidemux-svn-commit] r3178 - branches/avidemux_2.4_branch
Message-ID: <200705291010.l4TAAlG6008422@sheep.berlios.de>

Author: mean
Date: 2007-05-29 12:10:46 +0200 (Tue, 29 May 2007)
New Revision: 3178

Modified:
   branches/avidemux_2.4_branch/ConfigureChecks.cmake
Log:
libiconv for win32

Modified: branches/avidemux_2.4_branch/ConfigureChecks.cmake
===================================================================
--- branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-29 09:46:12 UTC (rev 3177)
+++ branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-29 10:10:46 UTC (rev 3178)
@@ -123,9 +123,9 @@
 endif(NOT HAVE_ICONV_H)
 
 # need libiconv ?
-CHECK_LIBRARY_EXISTS("iconv" "" iconv LINK_WITH_ICONV)
+CHECK_LIBRARY_EXISTS(iconv libiconv "" LINK_WITH_ICONV)
 if(LINK_WITH_ICONV)
-  SET(NEEED_LIBICONV 1)
+  SET(NEED_LIBICONV 1)
   MESSAGE(STATUS "libiconv found, probably needed")
 else(LINK_WITH_ICONV)
   MESSAGE(STATUS "libiconv not found, probably not needed")
@@ -133,7 +133,13 @@
 
 #
 MESSAGE(STATUS "<Checking if iconv needs const>")
+
+if(NEED_LIBICONV)
+ADM_COMPILE_WITH_WITHOUT(iconv_check.cpp "-DICONV_NEED_CONST" "-liconv" ICONV_WITH)
+else(NEED_LIBICONV)
 ADM_COMPILE_WITH_WITHOUT(iconv_check.cpp "-DICONV_NEED_CONST" "-lm" ICONV_WITH)
+endif(NEED_LIBICONV)
+
 if(ICONV_WITH)
   MESSAGE(STATUS "Yes")
   SET(ICONV_NEED_CONST 1)



From mean at mail.berlios.de  Tue May 29 12:22:16 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 29 May 2007 12:22:16 +0200
Subject: [Avidemux-svn-commit] r3179 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog
Message-ID: <200705291022.l4TAMGgm009826@sheep.berlios.de>

Author: mean
Date: 2007-05-29 12:22:16 +0200 (Tue, 29 May 2007)
New Revision: 3179

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/CMakeLists.txt
Log:
flags for Freetype

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/CMakeLists.txt	2007-05-29 10:10:46 UTC (rev 3178)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/CMakeLists.txt	2007-05-29 10:22:16 UTC (rev 3179)
@@ -18,3 +18,7 @@
 ################################
 ADD_definitions(${GTK_CFLAGS} -DADM_SUBVERSION=0 )
 include_directories(.. ../../../ADM_osSupport ../../../ADM_inputs)
+if(FT_FOUND)
+add_definitions(${FT_CFLAGS})
+endif(FT_FOUND)
+



From mean at mail.berlios.de  Tue May 29 13:55:13 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 29 May 2007 13:55:13 +0200
Subject: [Avidemux-svn-commit] r3180 - in branches/avidemux_2.4_branch: .
	cmake
Message-ID: <200705291155.l4TBtDI7017603@sheep.berlios.de>

Author: mean
Date: 2007-05-29 13:55:13 +0200 (Tue, 29 May 2007)
New Revision: 3180

Added:
   branches/avidemux_2.4_branch/cmake/conf_summary.cmake
Modified:
   branches/avidemux_2.4_branch/CMakeLists.txt
   branches/avidemux_2.4_branch/ConfigureChecks.cmake
   branches/avidemux_2.4_branch/cmake/adm_checkHeaderLib.cmake
Log:
summary + better check

Modified: branches/avidemux_2.4_branch/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/CMakeLists.txt	2007-05-29 10:22:16 UTC (rev 3179)
+++ branches/avidemux_2.4_branch/CMakeLists.txt	2007-05-29 11:55:13 UTC (rev 3180)
@@ -29,16 +29,20 @@
 #**************************************************
 # libxml2
 #**************************************************
+MESSAGE(STATUS "<Checking for LibXML2>")
+MESSAGE(STATUS "<*********************>")
 include(FindLibXml2)
 if(NOT LIBXML2_FOUND)
   MESSAGE(FATAL_ERROR "Could not find Libxml2")
 endif(NOT LIBXML2_FOUND)
+MESSAGE(STATUS "LibXML2 OK")
 SET(LIBXML2_DEFINITIONS,${LIBXML2_DEFINITIONS})
 SET(LIBXML2_INCLUDE_DIR,${LIBXML2_INCLUDE_DIR})
 #**************************************************
 # PKG Config
 #**************************************************
-MESSAGE("Checking for PKG-CONFIG")
+MESSAGE(STATUS "<Checking for PKG-CONFIG>")
+MESSAGE(STATUS "<***********************>")
 if(NOT PKGCONFIG_EXECUTABLE)
              MESSAGE(FATAL_ERROR "Could not find pkg-config")
 endif(NOT PKGCONFIG_EXECUTABLE)
@@ -46,7 +50,8 @@
 #**************************************************
 # Search for FREETYPE
 #**************************************************
-MESSAGE("Checking for FreeType through PKG-CONFIG")
+MESSAGE(STATUS "<Checking for FreeType through PKG-CONFIG>")
+MESSAGE(STATUS "<****************************************>")
 PKGCONFIG(freetype2 FT_INCLUDE FT_LIB FT_LDFLAGS FT_CFLAGS)
 
 IF(NOT FT_INCLUDE)
@@ -56,17 +61,18 @@
     SET(FT_CFLAGS ${FT_CFLAGS})
     SET(FT_LDFLAGS ${FT_LDFLAGS})
     SET(FT_INCLUDE ${FT_INCLUDE})
-    MESSAGE("LDFLAGS <${FT_LDFLAGS}>")
-    MESSAGE("LIBS <${FT_LIB}>")
+    MESSAGE(STATUS "LDFLAGS <${FT_LDFLAGS}>")
+    MESSAGE(STATUS "LIBS <${FT_LIB}>")
     MESSAGE(STATUS OK)
-    MESSAGE("FreeType Found ("${FT_CFLAGS} ${FT_INCLUDE}")")
+    MESSAGE(STATUS "FreeType Found ("${FT_CFLAGS} ${FT_INCLUDE}")")
     
 ENDIF(NOT FT_INCLUDE)
 #**************************************************
 # Search for  X11 (not on windows)
 #**************************************************
 if(NOT WIN32)
-        MESSAGE("Checking for X11")
+        MESSAGE(STATUS "<Checking for X11>")
+        MESSAGE(STATUS "<******************************>")
         include(FindX11)
         if(NOT X11_FOUND)
              MESSAGE(FATAL_ERROR "Could not find X11")
@@ -76,7 +82,8 @@
 #**************************************************
 # Search for GLIB through PKG-Config
 #**************************************************
-MESSAGE("Checking for GLIB")
+MESSAGE(STATUS "<Checking for GLIB>")
+MESSAGE(STATUS "<******************************>")
 PKGCONFIG(glib-2.0 GLIB_INCLUDE GLIB_LIB GLIB_LDFLAGS GLIB_CFLAGS)
 
 IF(NOT GLIB_INCLUDE)
@@ -93,7 +100,8 @@
 #**************************************************
 # Search for GTK through PKG-Config
 #**************************************************
-MESSAGE("Checking for GTK")
+MESSAGE(STATUS "<Checking for GTK>")
+MESSAGE(STATUS "<******************************>")
 PKGCONFIG(gtk+-2.0 GTK_INCLUDE GTK_LIB GTK_LDFLAGS GTK_CFLAGS)
 
 IF(NOT GTK_CFLAGS)
@@ -108,7 +116,8 @@
 #**************************************************
 # Search for Gthread through PKG-Config
 #**************************************************
-MESSAGE("Checking for Gthread")
+MESSAGE(STATUS "<Checking for Gthread>")
+MESSAGE(STATUS "<******************************>")
 PKGCONFIG(gthread-2.0 GTHREAD_INCLUDE GTHREAD_LIB GTHREAD_LDFLAGS GTHREAD_CFLAGS)
 
 IF(NOT GTHREAD_CFLAGS)
@@ -122,6 +131,7 @@
 # Search for QT4 
 #**************************************************
 MESSAGE(STATUS "<Checking for QT4>")
+MESSAGE(STATUS "<******************************>")
 include(FindQt4)
 
 # do config checks
@@ -141,3 +151,7 @@
 
 ADD_SUBDIRECTORY(avidemux)
 
+###############################
+# Summary
+###############################
+include(conf_summary)
\ No newline at end of file

Modified: branches/avidemux_2.4_branch/ConfigureChecks.cmake
===================================================================
--- branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-29 10:22:16 UTC (rev 3179)
+++ branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-29 11:55:13 UTC (rev 3180)
@@ -59,6 +59,7 @@
 ########################################
 if(NOT WIN32)
   MESSAGE(STATUS "<Checking for ALSA>")
+  MESSAGE(STATUS "<*****************>")
   include(FindAlsa)
   if(ALSA_FOUND)
     ALSA_VERSION_STRING(alsaVersion)
@@ -72,6 +73,7 @@
 # SDL
 ########################################
 MESSAGE(STATUS "<Checking for SDL>")
+MESSAGE(STATUS "<*****************>")
 include(FindSDL)
 if(SDL_FOUND)
  SET(USE_SDL 1)
@@ -90,7 +92,11 @@
 # Xvideo
 ########################################
 if(NOT WIN32)
-ADM_CHECK_HL(Xvideo X11/extensions/Xvlib.h Xv XvShmPutImage USE_XV)
+
+SET(CMAKE_REQUIRED_FLAGS ${X11_INCLUDE_DIR})
+ADM_CHECK_HL(Xvideo "X11/extensions/Xvlib.h" Xv XvShmPutImage USE_XV)
+MESSAGE(STATUS "(i used ${CMAKE_REQUIRED_FLAGS}/${X11_INCLUDE_DIR})")
+
 endif(NOT WIN32)
 ########################################
 # OSS
@@ -98,6 +104,7 @@
 
 if(NOT WIN32)
 MESSAGE(STATUS "<Checking for OSS>")
+MESSAGE(STATUS "<*****************>")
 CHECK_INCLUDE_FILES(sys/soundcard.h      OSS_SUPPORT)
 if(OSS_SUPPORT)
 MESSAGE(STATUS "Found")
@@ -117,6 +124,7 @@
 ########################################
 # search ICON.h
 MESSAGE(STATUS "<Checking for iconv.h>")
+MESSAGE(STATUS "<******************************>")
 CHECK_INCLUDE_FILES(iconv.h HAVE_ICONV_H)
 if(NOT HAVE_ICONV_H)
   MESSAGE(FATAL "iconv.h not found")
@@ -147,6 +155,10 @@
     MESSAGE(STATUS "No")
 endif(ICONV_WITH)
 ########################################
+# taist
+########################################
+ADM_CHECK_HL(teist lxzame/larreme.h mzfdgp3lame lagggme_icnit HAVE_LzertgIBMP3LAME)
+########################################
 # LAME
 ########################################
 ADM_CHECK_HL(Lame lame/lame.h mp3lame lame_init HAVE_LIBMP3LAME)
@@ -237,7 +249,8 @@
          SET(HAVE_MMX    1)
      endif( ${CMAKE_SYSTEM_PROCESSOR} STREQUAL "x86_64" OR ${CMAKE_SYSTEM_PROCESSOR} STREQUAL "amd64")
  endif(WIN32)
-MESSAGE("End of CPU and OS Check")
+MESSAGE(STATUS "<End of CPU and OS Check>")
+MESSAGE(STATUS "<******************************>")
 #
 SET(ADM_DEBUG 1)
 

Modified: branches/avidemux_2.4_branch/cmake/adm_checkHeaderLib.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/adm_checkHeaderLib.cmake	2007-05-29 10:22:16 UTC (rev 3179)
+++ branches/avidemux_2.4_branch/cmake/adm_checkHeaderLib.cmake	2007-05-29 11:55:13 UTC (rev 3180)
@@ -2,24 +2,28 @@
 # all in one line, cmake is cool :)
 MACRO (ADM_CHECK_HL _banner _includeName _libName _libFunc _varToSet)
 MESSAGE(STATUS "<Checking for ${_banner}>")
-CHECK_INCLUDE_FILES(${_includeName} HAVE_IT_H)
+MESSAGE(STATUS "<******************************>")
+#set(${_varToSet} FALSE)
+CHECK_INCLUDE_FILES(${_includeName} ${_varToSet}_H)
 #MESSAGE("OUT ${HAVE_IT_H}")
-if(HAVE_IT_H)
+if(${_varToSet}_H)
+  MESSAGE(STATUS "Header ${_includeName} Found")
   FIND_LIBRARY(ADM_PATH_LIB ${_libName})
-  CHECK_LIBRARY_EXISTS(${_libName} "" ${_libFunc} HAVE_IT_H)
-  if(HAVE_IT_H)
+  CHECK_LIBRARY_EXISTS(${_libName} ${_libFunc} "" ${_varToSet}_L)
+  if(${_varToSet}_L)
+        MESSAGE(STATUS "Lib ${_libName} Found")
         SET(${_varToSet}  1)
-  else(HAVE_IT_H)
-        MESSAGE("Not lib found")
-  endif(HAVE_IT_H)
-else(HAVE_IT_H)
+  else(${_varToSet}_L)
+        MESSAGE("Lib not found")
+  endif(${_varToSet}_L)
+else(${_varToSet}_H)
   MESSAGE("Header not found(${_includeName})")
-endif(HAVE_IT_H)
+endif(${_varToSet}_H)
 
 if(${_varToSet})
-   MESSAGE(STATUS "Found")
+   MESSAGE(STATUS "${_banner} OK")
 else(${_varToSet})
-     MESSAGE(STATUS "Not Found")
+     MESSAGE(STATUS "${_banner} support off")
 endif(${_varToSet})
 
 ENDMACRO (ADM_CHECK_HL _includeName _libName _libFunc _varToSet)

Added: branches/avidemux_2.4_branch/cmake/conf_summary.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/conf_summary.cmake	2007-05-29 10:22:16 UTC (rev 3179)
+++ branches/avidemux_2.4_branch/cmake/conf_summary.cmake	2007-05-29 11:55:13 UTC (rev 3180)
@@ -0,0 +1,30 @@
+MACRO(ADM_DISPLAY _name _val)
+#MESSAGE("${_val}")
+if(${_val} EQUAL 1)
+  set(s "Yes")
+else(${_val} EQUAL 1)
+  set(s "No")
+endif(${_val} EQUAL 1)
+MESSAGE("${_name}  ${s}") 
+ENDMACRO(ADM_DISPLAY _name _val)
+
+
+
+MESSAGE("*******************")
+MESSAGE("**  Summary      **")
+MESSAGE("*******************")
+MESSAGE("Gtk,${GTK_FOUND}")
+MESSAGE("Qt4,${QT4_FOUND}")
+MESSAGE("*** Video Codec ***")
+ADM_DISPLAY("X264      " USE_X264)
+ADM_DISPLAY("Xvid4     " USE_XVID_4)
+MESSAGE("*** Audio Codec ***")
+ADM_DISPLAY("LAME      " HAVE_LIBMP3LAME)
+ADM_DISPLAY("FAAD      " USE_FAAD)
+ADM_DISPLAY("FAAC      " USE_FAAC)
+ADM_DISPLAY("Vorbis    " USE_VORBIS)
+MESSAGE("*** Misc       ***")
+ADM_DISPLAY("FreeType  " USE_FREETYPE)
+ADM_DISPLAY("FontConfig" USE_FONTCONFIG)
+MESSAGE("*******************")
+MESSAGE("*******************")



From mean at mail.berlios.de  Tue May 29 14:48:42 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 29 May 2007 14:48:42 +0200
Subject: [Avidemux-svn-commit] r3181 - in branches/avidemux_2.4_branch: .
	cmake
Message-ID: <200705291248.l4TCmgaT025591@sheep.berlios.de>

Author: mean
Date: 2007-05-29 14:48:42 +0200 (Tue, 29 May 2007)
New Revision: 3181

Modified:
   branches/avidemux_2.4_branch/ConfigureChecks.cmake
   branches/avidemux_2.4_branch/cmake/adm_checkHeaderLib.cmake
   branches/avidemux_2.4_branch/cmake/conf_summary.cmake
Log:
fixes

Modified: branches/avidemux_2.4_branch/ConfigureChecks.cmake
===================================================================
--- branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-29 11:55:13 UTC (rev 3180)
+++ branches/avidemux_2.4_branch/ConfigureChecks.cmake	2007-05-29 12:48:42 UTC (rev 3181)
@@ -45,7 +45,18 @@
 SET(HAVE_LRINTF    1)
 SET(EMULATE_FAST_INT    1)
 SET(RUNTIME_CPUDETECT    1)
+
+
 ########################################
+# taist : Should fail!
+########################################
+ADM_CHECK_HL(teist larreme.h mzfdgp3lame lagggme_icnit HAVE_LzertgIBMP3LAME)
+if(HAVE_LzertgIBMP3LAME)
+  MESSAGE(FATAL "THAT TEST SHOULD HAVE FAILED EXPECT PROBLEM")
+endif(HAVE_LzertgIBMP3LAME)
+
+
+########################################
 # WIN32
 ########################################
 if(WIN32)
@@ -93,10 +104,19 @@
 ########################################
 if(NOT WIN32)
 
-SET(CMAKE_REQUIRED_FLAGS ${X11_INCLUDE_DIR})
-ADM_CHECK_HL(Xvideo "X11/extensions/Xvlib.h" Xv XvShmPutImage USE_XV)
-MESSAGE(STATUS "(i used ${CMAKE_REQUIRED_FLAGS}/${X11_INCLUDE_DIR})")
+SET(CMAKE_REQUIRED_FLAGS "-include X11/Xlib.h")
+SET(CMAKE_REQUIRED_LIBRARIES "${X11_LIBRARIES}")
+SET(CMAKE_REQUIRED_INCLUDE "${X11_INCLUDE_DIR}")
 
+ADM_CHECK_HL(Xvideo X11/extensions/Xvlib.h Xv XvShmPutImage USE_XV)
+MESSAGE(STATUS "(i used ${CMAKE_REQUIRED_FLAGS}**${X11_INCLUDE_DIR})")
+MESSAGE(STATUS "(and ${CMAKE_REQUIRED_LIBRARIES}**${X11_LIBRARIES})")
+
+SET(CMAKE_REQUIRED_FLAGS )
+SET(CMAKE_REQUIRED_LIBRARIES )
+SET(CMAKE_REQUIRED_INCLUDE )
+
+
 endif(NOT WIN32)
 ########################################
 # OSS
@@ -155,13 +175,11 @@
     MESSAGE(STATUS "No")
 endif(ICONV_WITH)
 ########################################
-# taist
-########################################
-ADM_CHECK_HL(teist lxzame/larreme.h mzfdgp3lame lagggme_icnit HAVE_LzertgIBMP3LAME)
-########################################
 # LAME
 ########################################
+SET(CMAKE_REQUIRED_LIBRARIES "-lm")
 ADM_CHECK_HL(Lame lame/lame.h mp3lame lame_init HAVE_LIBMP3LAME)
+SET(CMAKE_REQUIRED_LIBRARIES )
 ########################################
 # Xvid
 ########################################
@@ -170,32 +188,27 @@
 ########################################
 # X264
 ########################################
+SET(CMAKE_REQUIRED_FLAGS "-include stdint.h")
 ADM_CHECK_HL(x264 x264.h x264 x264_encoder_open USE_X264)
+SET(CMAKE_REQUIRED_FLAGS)
 ########################################
 # PNG
 ########################################
 ADM_CHECK_HL(libPNG png.h png png_malloc USE_PNG)
+
+
 ########################################
-# FAAC
-########################################
-ADM_CHECK_HL(FAAC faac.h faac faacEncClose USE_FAAC)
-########################################
-# Vorbis
-########################################
-ADM_CHECK_HL(Vorbis vorbisenc.h vorbis vorbis_info_init USE_VORBIS1)
-ADM_CHECK_HL(Vorbis vorbisenc.h vorbisenc vorbis_encode_init USE_VORBIS2)
-if(USE_VORBIS1 AND USE_VORBIS2)
-  SET(USE_VORBIS 1)
-endif(USE_VORBIS1 AND USE_VORBIS2)
-########################################
 # FAAD
 ########################################
 
-ADM_CHECK_HL(FAAD faad.h faad faacDecInit USE_FAAD)
-if(NOT USE_FAAD)
- ADM_CHECK_HL(NeAAC neaacdec.h faad NeAACDecInit USE_FAAD)
-endif(NOT USE_FAAD)
-
+ADM_CHECK_HL(FAAD faad.h faad faacDecInit USE_FAAD_P)
+if(NOT USE_FAAD_P)
+ MESSAGE(STATUS "Trying neaac variant")
+ ADM_CHECK_HL(NeAAC faad.h faad NeAACDecInit USE_FAAD_A)
+endif(NOT USE_FAAD_P)
+if(USE_FAAD_P OR USE_FAAD_A)
+  SET(USE_FAAD  1)
+endif(USE_FAAD_P OR USE_FAAD_A)
 # See if we need old FAAD or NEW
 if(USE_FAAD)
 MESSAGE(STATUS "<Checking if faad needs old proto>")
@@ -208,16 +221,43 @@
 endif(FAAD_WITH)
 endif(USE_FAAD)
 ########################################
+# FAAC
+########################################
+ADM_CHECK_HL(FAAC faac.h faac faacEncClose USE_FAAC)
+########################################
 # FreeType
 ########################################
 if(FT_FOUND)
 SET(USE_FREETYPE 1)
 endif(FT_FOUND)
 ########################################
+# Vorbis
+########################################
+
+ ADM_CHECK_HL(Vorbis vorbis/vorbisenc.h vorbis vorbis_info_init USE_VORBIS1)
+ ADM_CHECK_HL(Vorbis vorbis/vorbisenc.h vorbisenc vorbis_encode_init USE_VORBIS2)
+ if(USE_VORBIS1 AND USE_VORBIS2)
+   SET(USE_VORBIS 1)
+ endif(USE_VORBIS1 AND USE_VORBIS2)
+
+########################################
+# End test
+########################################
+
+ ADM_CHECK_HL(Invalid dummy_header.h dummy_libxyz dummy_func_tyu DUMMY_TEST)
+ ADM_CHECK_HL(Invalid stdio.h dummy_libxyz dummy_func_tyu DUMMY_TEST2)
+ if(DUMMY_TEST OR DUMMY_TEST2)
+   MESSAGE(FATAL "This test should have failed!!!")
+   MESSAGE(FATAL "This test should have failed!!!")
+   MESSAGE(FATAL "This test should have failed!!!")
+ endif(DUMMY_TEST OR DUMMY_TEST2)
+
+########################################
 # CPU and Host
 ########################################
 SET(HAVE_AUDIO    1)
-MESSAGE("Checking CPU and OS")
+MESSAGE(STATUS "<Checking CPU and OS>")
+MESSAGE(STATUS "<*******************>")
 MESSAGE("<CPU:${CMAKE_SYSTEM_PROCESSOR}>")
 # windows is always X86 for now on...
  if(WIN32)

Modified: branches/avidemux_2.4_branch/cmake/adm_checkHeaderLib.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/adm_checkHeaderLib.cmake	2007-05-29 11:55:13 UTC (rev 3180)
+++ branches/avidemux_2.4_branch/cmake/adm_checkHeaderLib.cmake	2007-05-29 12:48:42 UTC (rev 3181)
@@ -4,11 +4,11 @@
 MESSAGE(STATUS "<Checking for ${_banner}>")
 MESSAGE(STATUS "<******************************>")
 #set(${_varToSet} FALSE)
-CHECK_INCLUDE_FILES(${_includeName} ${_varToSet}_H)
+CHECK_INCLUDE_FILES("${_includeName}" ${_varToSet}_H)
 #MESSAGE("OUT ${HAVE_IT_H}")
 if(${_varToSet}_H)
   MESSAGE(STATUS "Header ${_includeName} Found")
-  FIND_LIBRARY(ADM_PATH_LIB ${_libName})
+#FIND_LIBRARY(ADM_PATH_LIB ${_libName})
   CHECK_LIBRARY_EXISTS(${_libName} ${_libFunc} "" ${_varToSet}_L)
   if(${_varToSet}_L)
         MESSAGE(STATUS "Lib ${_libName} Found")

Modified: branches/avidemux_2.4_branch/cmake/conf_summary.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/conf_summary.cmake	2007-05-29 11:55:13 UTC (rev 3180)
+++ branches/avidemux_2.4_branch/cmake/conf_summary.cmake	2007-05-29 12:48:42 UTC (rev 3181)
@@ -24,7 +24,9 @@
 ADM_DISPLAY("FAAC      " USE_FAAC)
 ADM_DISPLAY("Vorbis    " USE_VORBIS)
 MESSAGE("*** Misc       ***")
+ADM_DISPLAY("SDL       " USE_SDL)
 ADM_DISPLAY("FreeType  " USE_FREETYPE)
 ADM_DISPLAY("FontConfig" USE_FONTCONFIG)
+ADM_DISPLAY("Xvideo    " USE_XV)
 MESSAGE("*******************")
 MESSAGE("*******************")



From mean at mail.berlios.de  Tue May 29 15:56:36 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 29 May 2007 15:56:36 +0200
Subject: [Avidemux-svn-commit] r3182 - in
	branches/avidemux_2.4_branch/avidemux: . ADM_userInterfaces
	ADM_userInterfaces/ADM_QT4 ADM_userInterfaces/ADM_QT4/ADM_dialog
	ADM_userInterfaces/ADM_QT4/ADM_dialogFactory
	ADM_userInterfaces/ADM_QT4/ADM_filters
	ADM_userInterfaces/ADM_QT4/ADM_gui
Message-ID: <200705291356.l4TDua7M013468@sheep.berlios.de>

Author: mean
Date: 2007-05-29 15:56:35 +0200 (Tue, 29 May 2007)
New Revision: 3182

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/CMakeLists.txt
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/alert_qt4.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
Log:
QT4 / cmake

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt	2007-05-29 12:48:42 UTC (rev 3181)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt	2007-05-29 13:56:35 UTC (rev 3182)
@@ -0,0 +1,40 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_dialogQt4)
+#
+SET(${ADM_LIB}_SRCS
+alert_qt4.cpp
+AQ_asharp.cpp
+AQ_chromashift.cpp
+AQ_contrast.cpp
+AQ_crop.cpp
+AQ_encoding.cpp
+AQ_hue.cpp
+AQ_props.cpp
+AQ_resizing.cpp
+AQ_srt.cpp
+AQ_working.cpp
+AT_flyDialog.cpp
+AT_index_pg.cpp
+AT_QCanvas.cpp
+DIA_busy.cpp
+DIA_none.cpp
+DIA_srt.cpp
+DIA_x264.cpp
+DIA_xvid4.cpp
+OCR_none.cpp
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################
+ADD_definitions(-DADM_SUBVERSION=0 )
+include_directories(.. ../../../ADM_osSupport ../../../ADM_inputs)
+include_directories(${QT_INCLUDES})
+
+if(FT_FOUND)
+add_definitions(${FT_CFLAGS})
+endif(FT_FOUND)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/alert_qt4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/alert_qt4.cpp	2007-05-29 12:48:42 UTC (rev 3181)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/alert_qt4.cpp	2007-05-29 13:56:35 UTC (rev 3182)
@@ -4,6 +4,7 @@
 #include <sys/types.h>
 #include <sys/stat.h>
 #include <unistd.h>
+#include <libintl.h>
 #include <string.h>
 #include <stdio.h>
 #include <stdarg.h>

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/CMakeLists.txt	2007-05-29 12:48:42 UTC (rev 3181)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/CMakeLists.txt	2007-05-29 13:56:35 UTC (rev 3182)
@@ -0,0 +1,19 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_dialogFactoryQt4)
+#
+SET(${ADM_LIB}_SRCS
+AT_bitrate.cpp  AT_dialogFactory.cpp  FAC_bar.cpp    FAC_frame.cpp  FAC_integer.cpp  FAC_notch.cpp         FAC_toggle.cpp
+AT_button.cpp   AT_filesel.cpp        FAC_float.cpp  FAC_hex.cpp    FAC_menu.cpp     FAC_readOnlyText.cpp
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################
+ADD_definitions(-DADM_SUBVERSION=0 )
+include_directories(.. ../../ ../../../ADM_inputs)
+include_directories(${QT_INCLUDES})
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt	2007-05-29 12:48:42 UTC (rev 3181)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt	2007-05-29 13:56:35 UTC (rev 3182)
@@ -0,0 +1,18 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_filtersQt4)
+#
+SET(${ADM_LIB}_SRCS
+AQ_mainfilter.cpp  filter_none.cpp  filter_rsc.cpp
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################
+ADD_definitions(-DADM_SUBVERSION=0 )
+include_directories(.. ../../../ADM_osSupport ../../../ADM_inputs)
+include_directories(${QT_INCLUDES})
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2007-05-29 12:48:42 UTC (rev 3181)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2007-05-29 13:56:35 UTC (rev 3182)
@@ -0,0 +1,18 @@
+################################
+#
+################################
+include(AdmLib)
+SET(ADM_LIB ADM_guiQt4)
+#
+SET(${ADM_LIB}_SRCS
+AQ_gui2.cpp  AT_preview.cpp  AT_qslider.cpp  avidemux_rsc.cpp  file_qt4.cpp  gui_none.cpp
+)
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+
+################################
+ADD_definitions(-DADM_SUBVERSION=0 )
+include_directories(.. .)
+include_directories(${QT_INCLUDES})
+

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp	2007-05-29 12:48:42 UTC (rev 3181)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp	2007-05-29 13:56:35 UTC (rev 3182)
@@ -12,6 +12,7 @@
 #include <config.h>
 #include <stdio.h>
 #include <stdlib.h>
+#include <libintl.h>
 #include <dirent.h>
 #include "default.h"
 #include <QtCore/QVariant>

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/CMakeLists.txt	2007-05-29 12:48:42 UTC (rev 3181)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/CMakeLists.txt	2007-05-29 13:56:35 UTC (rev 3182)
@@ -0,0 +1,5 @@
+subdirs(PREORDER ADM_dialog)
+subdirs(PREORDER ADM_dialogFactory)
+subdirs(PREORDER ADM_filters)
+subdirs(PREORDER ADM_gui)
+include_directories(../ADM_commonUI)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/CMakeLists.txt	2007-05-29 12:48:42 UTC (rev 3181)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/CMakeLists.txt	2007-05-29 13:56:35 UTC (rev 3182)
@@ -5,4 +5,8 @@
 subdirs(PREORDER ADM_GTK)
 endif(GTK_FOUND)
 
+if(QT4_FOUND)
+subdirs(PREORDER ADM_QT4)
+endif(QT4_FOUND)
+
 include_directories(ADM_commonUI)

Modified: branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2007-05-29 12:48:42 UTC (rev 3181)
+++ branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2007-05-29 13:56:35 UTC (rev 3182)
@@ -18,6 +18,10 @@
   if(GTK_FOUND)
   TARGET_LINK_LIBRARIES(avidemux2_gtk ${_libName})
   endif(GTK_FOUND)
+  if(QT4_FOUND)
+  TARGET_LINK_LIBRARIES(avidemux2_qt4 ${_libName})
+  endif(QT4_FOUND)
+
 ENDMACRO (add_libs_all_targets _libName)
 #/ Small macro...
 
@@ -57,7 +61,11 @@
 if(GTK_FOUND)
 ADD_EXECUTABLE(avidemux2_gtk ${adm_EXE_SRCS} )
 endif(GTK_FOUND)
+if(QT4_FOUND)
+ADD_EXECUTABLE(avidemux2_qt4 ${adm_EXE_SRCS} )
+endif(QT4_FOUND)
 
+
 add_definitions(${GLIB_CFLAGS})
 ###########################################
 # Build Regular Subdirs
@@ -126,6 +134,17 @@
 TARGET_LINK_LIBRARIES(avidemux2_gtk ADM_commonUI )
 endif(GTK_FOUND)
 
+if(QT4_FOUND)
+TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_ocr )
+TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_commonUI )
+TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_dialogQt4 )
+
+TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_dialogFactoryQt4 )
+TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_guiQt4 )
+TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_filtersQt4 )
+TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_commonUI )
+endif(QT4_FOUND)
+
 ###########################################
 # Add external libs
 ###########################################
@@ -219,6 +238,15 @@
 TARGET_LINK_LIBRARIES(avidemux2_gtk ${GTHREAD_LDFLAGS} ) # FIXME
 endif(GTK_FOUND)
 
+if(QT4_FOUND)
+TARGET_LINK_LIBRARIES(avidemux2_qt4 ${GLIB_LDFLAGS} )
+LINK_DIRECTORIES(avidemux2_qt4 ${GLIB_LIB}  )
+TARGET_LINK_LIBRARIES(avidemux2_qt4 ${GTK_LDFLAGS} )
+TARGET_LINK_LIBRARIES(avidemux2_qt4 ${QT_QTGUI_LIBRARY} ) # FIXME
+TARGET_LINK_LIBRARIES(avidemux2_qt4 ${QT_QTCORE_LIBRARY} ) # FIXME
+endif(QT4_FOUND)
+
+
 IF(WIN32)
 #-mms-bitfield -mno-cygwin \
 #-mwinmm \



From mean at mail.berlios.de  Tue May 29 17:34:36 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 29 May 2007 17:34:36 +0200
Subject: [Avidemux-svn-commit] r3183 - in branches/avidemux_2.4_branch:
	avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
	avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory
	avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters
	avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui cmake
Message-ID: <200705291534.l4TFYa6P022468@sheep.berlios.de>

Author: mean
Date: 2007-05-29 17:34:35 +0200 (Tue, 29 May 2007)
New Revision: 3183

Added:
   branches/avidemux_2.4_branch/cmake/adm_qt4.cmake
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
Log:
moc & uic with cmake

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt	2007-05-29 13:56:35 UTC (rev 3182)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt	2007-05-29 15:34:35 UTC (rev 3183)
@@ -4,21 +4,27 @@
 include(AdmLib)
 SET(ADM_LIB ADM_dialogQt4)
 #
+SET(${ADM_LIB}_Q
+asharp
+chromashift
+contrast
+crop
+encoding
+hue
+props
+resizing
+srt
+working
+)
+#
+SET(${ADM_LIB}_T
+flyDialog
+index_pg
+QCanvas
+)
+#
 SET(${ADM_LIB}_SRCS
 alert_qt4.cpp
-AQ_asharp.cpp
-AQ_chromashift.cpp
-AQ_contrast.cpp
-AQ_crop.cpp
-AQ_encoding.cpp
-AQ_hue.cpp
-AQ_props.cpp
-AQ_resizing.cpp
-AQ_srt.cpp
-AQ_working.cpp
-AT_flyDialog.cpp
-AT_index_pg.cpp
-AT_QCanvas.cpp
 DIA_busy.cpp
 DIA_none.cpp
 DIA_srt.cpp
@@ -26,15 +32,16 @@
 DIA_xvid4.cpp
 OCR_none.cpp
 )
-ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
-ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
 
 
 ################################
+include(adm_qt4)
+################################
 ADD_definitions(-DADM_SUBVERSION=0 )
 include_directories(.. ../../../ADM_osSupport ../../../ADM_inputs)
 include_directories(${QT_INCLUDES})
 
+
 if(FT_FOUND)
 add_definitions(${FT_CFLAGS})
 endif(FT_FOUND)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/CMakeLists.txt	2007-05-29 13:56:35 UTC (rev 3182)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/CMakeLists.txt	2007-05-29 15:34:35 UTC (rev 3183)
@@ -4,13 +4,21 @@
 include(AdmLib)
 SET(ADM_LIB ADM_dialogFactoryQt4)
 #
+SET(${ADM_LIB}_T
+bitrate  
+dialogFactory  
+button
+filesel        
+)
+
 SET(${ADM_LIB}_SRCS
-AT_bitrate.cpp  AT_dialogFactory.cpp  FAC_bar.cpp    FAC_frame.cpp  FAC_integer.cpp  FAC_notch.cpp         FAC_toggle.cpp
-AT_button.cpp   AT_filesel.cpp        FAC_float.cpp  FAC_hex.cpp    FAC_menu.cpp     FAC_readOnlyText.cpp
+FAC_bar.cpp    FAC_frame.cpp  FAC_integer.cpp  FAC_notch.cpp         FAC_toggle.cpp
+FAC_float.cpp  FAC_hex.cpp    FAC_menu.cpp     FAC_readOnlyText.cpp
 )
-ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
-ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
 
+################################
+include(adm_qt4)
+################################
 
 ################################
 ADD_definitions(-DADM_SUBVERSION=0 )

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt	2007-05-29 13:56:35 UTC (rev 3182)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt	2007-05-29 15:34:35 UTC (rev 3183)
@@ -5,13 +5,15 @@
 SET(ADM_LIB ADM_filtersQt4)
 #
 SET(${ADM_LIB}_SRCS
-AQ_mainfilter.cpp  filter_none.cpp  filter_rsc.cpp
+filter_none.cpp  filter_rsc.cpp
 )
-ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
-ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+SET(${ADM_LIB}_Q
+mainfilter
+)
 
-
 ################################
+include(adm_qt4)
+################################
 ADD_definitions(-DADM_SUBVERSION=0 )
 include_directories(.. ../../../ADM_osSupport ../../../ADM_inputs)
 include_directories(${QT_INCLUDES})

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2007-05-29 13:56:35 UTC (rev 3182)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2007-05-29 15:34:35 UTC (rev 3183)
@@ -5,12 +5,21 @@
 SET(ADM_LIB ADM_guiQt4)
 #
 SET(${ADM_LIB}_SRCS
-AQ_gui2.cpp  AT_preview.cpp  AT_qslider.cpp  avidemux_rsc.cpp  file_qt4.cpp  gui_none.cpp
+avidemux_rsc.cpp  file_qt4.cpp  gui_none.cpp
 )
-ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
-ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+#
+#
+SET(${ADM_LIB}_T
+preview
+qslider
+)
+#
+SET(${ADM_LIB}_Q
+gui2
+)
 
-
+#########################################"
+include(adm_qt4)
 ################################
 ADD_definitions(-DADM_SUBVERSION=0 )
 include_directories(.. .)

Added: branches/avidemux_2.4_branch/cmake/adm_qt4.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/adm_qt4.cmake	2007-05-29 13:56:35 UTC (rev 3182)
+++ branches/avidemux_2.4_branch/cmake/adm_qt4.cmake	2007-05-29 15:34:35 UTC (rev 3183)
@@ -0,0 +1,53 @@
+#AQ_%.cpp : Q_%.cpp %.ui
+##############################################################"
+# FOR AQ
+# Q_foo.cpp and foo.ui => AQ_foo.cpp, ui_foo.h and Q_foo.moc
+##############################################################"
+MACRO(Q_UIMOCIFY _source)                     
+  ADD_CUSTOM_COMMAND(OUTPUT AQ_${_source}.cpp
+                     COMMAND  ${QT_UIC_EXECUTABLE} ${_source}.ui -o ui_${_source}.h 
+                     COMMAND  ${QT_MOC_EXECUTABLE} Q_${_source}.cpp -o Q_${_source}.moc 
+                     COMMAND  echo "#include \"Q_${_source}.cpp\"" > AQ_${_source}.cpp
+                     COMMAND  echo "#include \"Q_${_source}.moc\"" >> AQ_${_source}.cpp
+                     DEPENDS  ${_source}.ui Q_${_source}.cpp
+                     VERBATIM
+                )
+   #FILE(WRITE ${CMAKE_CURRENT_SOURCE_DIR}/AQ_${_source}.cpp "#include \"Q_${_source}.cpp\" \n" )
+   #FILE(APPEND ${CMAKE_CURRENT_SOURCE_DIR}/AQ_${_source}.cpp "#include \"Q_${_source}.moc\" \n" )
+ENDMACRO(Q_UIMOCIFY _source)  
+##############################################################"
+# FOR AT
+# T_foo.cpp i => AT_foo.cpp and T_foo.moc
+##############################################################"
+
+MACRO(Q_MOCIFY _source)                     
+  ADD_CUSTOM_COMMAND(OUTPUT AT_${_source}.cpp
+                     COMMAND   ${QT_MOC_EXECUTABLE} T_${_source}.cpp -o T_${_source}.moc 
+                     COMMAND  echo "#include \"T_${_source}.cpp\"" > AT_${_source}.cpp
+                     COMMAND  echo "#include \"T_${_source}.moc\"" >> AT_${_source}.cpp
+                     DEPENDS   T_${_source}.cpp
+                     VERBATIM
+                )
+   #FILE(WRITE AT_${_source}.cpp "#include \"T_${_source}.cpp\" \n" )
+   #FILE(APPEND AT_${_source}.cpp "#include \"T_${_source}.moc\" \n" )
+ENDMACRO(Q_MOCIFY _source)                     
+
+# Add to our Targets..
+FOREACH(_current ${${ADM_LIB}_Q})
+ Q_UIMOCIFY(${_current})
+ SET(${ADM_LIB}_SRCS ${${ADM_LIB}_SRCS} AQ_${_current}.cpp)
+ENDFOREACH(_current ${${ADM_LIB}_Q})
+FOREACH(_current ${${ADM_LIB}_T})
+ Q_MOCIFY(${_current})
+ SET(${ADM_LIB}_SRCS ${${ADM_LIB}_SRCS} AT_${_current}.cpp)
+ENDFOREACH(_current ${${ADM_LIB}_T})
+
+
+ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
+ADD_ADM_LIB(${ADM_LIB} ADM_libraries)
+
+# EOF
+
+
+
+



From mean at mail.berlios.de  Tue May 29 20:30:54 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 29 May 2007 20:30:54 +0200
Subject: [Avidemux-svn-commit] r3184 - branches/avidemux_2.4_branch/avidemux
Message-ID: <200705291830.l4TIUs4P031070@sheep.berlios.de>

Author: mean
Date: 2007-05-29 20:30:54 +0200 (Tue, 29 May 2007)
New Revision: 3184

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_infoextractor.cpp
Log:
oops



Copied: branches/avidemux_2.4_branch/avidemux/ADM_infoextractor.cpp (from rev 3128, branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_infoextractor.cpp)



From mean at mail.berlios.de  Tue May 29 20:54:50 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 29 May 2007 20:54:50 +0200
Subject: [Avidemux-svn-commit] r3185 - in
	branches/avidemux_2.4_branch/avidemux: . ADM_infoExtractor
	ADM_inputs ADM_inputs/ADM_mp4 ADM_outputs
	ADM_outputs/oplug_avi ADM_outputs/oplug_mp4
	ADM_outputs/oplug_mpeg ADM_outputs/oplug_mpegFF
	ADM_outputs/oplug_ogm
Message-ID: <200705291854.l4TIsowx032695@sheep.berlios.de>

Author: mean
Date: 2007-05-29 20:54:50 +0200 (Tue, 29 May 2007)
New Revision: 3185

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_infoExtractor/
   branches/avidemux_2.4_branch/avidemux/ADM_infoExtractor/ADM_infoextractor.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_infoExtractor/CMakeLists.txt
Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_infoextractor.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mp4/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpeg/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpegFF/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
Log:
separate build for inputs & outputs

Copied: branches/avidemux_2.4_branch/avidemux/ADM_infoExtractor/ADM_infoextractor.cpp (from rev 3184, branches/avidemux_2.4_branch/avidemux/ADM_infoextractor.cpp)

Added: branches/avidemux_2.4_branch/avidemux/ADM_infoExtractor/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_infoExtractor/CMakeLists.txt	2007-05-29 18:30:54 UTC (rev 3184)
+++ branches/avidemux_2.4_branch/avidemux/ADM_infoExtractor/CMakeLists.txt	2007-05-29 18:54:50 UTC (rev 3185)
@@ -0,0 +1,6 @@
+
+SET(ADM_infoExtractor_SRCS 
+ADM_infoextractor.cpp
+)
+ADD_LIBRARY(ADM_infoExtractor STATIC ${ADM_infoExtractor_SRCS})
+include_directories(../ADM_inputs)

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_infoextractor.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_infoextractor.cpp	2007-05-29 18:30:54 UTC (rev 3184)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/ADM_infoextractor.cpp	2007-05-29 18:54:50 UTC (rev 3185)
@@ -1,476 +0,0 @@
-/***************************************************************************
-                          ADM_infoextractor
-                             -------------------
-           - extract additionnal info from header (mp4/h263)                  
-**************************************************************************/
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include "config.h"
-
-#include <stdio.h>
-#include <stdlib.h>
-
-#include <string.h>
-
-#include "math.h"
-
-#include <ADM_assert.h>
-#include "default.h"
-#include "ADM_editor/ADM_Video.h"
-
-
-#include "fourcc.h"
-#include "ADM_mp4/ADM_mp4.h"
-#include "ADM_toolkit/toolkit.hxx"
-
-#include "ADM_osSupport/ADM_debugID.h"
-#define MODULE_NAME MODULE_3GP
-#include "ADM_osSupport/ADM_debug.h"
-
-extern "C"
-{
-#include "common.h"
-#include "bswap.h"
-#define INT_MAX (0x7FFFFFFF)
-#include "ADM_lavcodec/bitstream.h"
-#include "ADM_lavcodec/golomb.h"
-}
-static void refineH264FrameType(uint8_t *head,uint8_t *tail,uint32_t *flags);
-/*
-    Extract width & height from vol header passed as arg
-
-
-*/
-uint8_t extractMpeg4Info(uint8_t *data,uint32_t dataSize,uint32_t *w,uint32_t *h,uint32_t *time_inc)
-{
-    // Search startcode
-    uint8_t b;
-    uint32_t idx=0;
-    uint32_t mw,mh;
-    uint32_t timeVal;
-    
-    //mixDump(data,dataSize);
-    //printf("\n");
-    while(1)
-    {
-        uint32_t startcode=0xffffffff;
-        while(dataSize>2)
-        {
-            startcode=(startcode<<8)+data[idx];
-            idx++;
-            dataSize--;
-            if((startcode&0xffffff)==1) break;
-        }
-        if(dataSize>2)
-        {
-            //printf("Startcodec:%x\n",data[idx]);
-            if((data[idx]&0xF0)==0x20) //VOL start
-            {
-                dataSize--;
-                idx++;
-#if 0
-                printf("VOL Header:\n");
-
-                if(dataSize<16)
-                {
-                  mixDump(data+idx,dataSize);printf("\n");
-                }
-                else
-                {
-                  mixDump(data+idx,16);printf("\n");
-                }
-#endif
-                // Here we go !
-                GetBitContext s;
-                init_get_bits( &s,data+idx, dataSize*8);
-                //
-                skip_bits1(&s); // Random access
-                skip_bits(&s,8); // Obj type indication
-                if(get_bits(&s,1)) // VO od 
-                {
-                      skip_bits(&s,4); // Ver
-                      skip_bits(&s,3);  // Priority
-                }
-                if(get_bits(&s,4)==15) // custom A/R
-                {
-                      skip_bits(&s,8);
-                      skip_bits(&s,8);
-                }
-                if(get_bits(&s,1)) // Vol control param
-                {
-                      skip_bits(&s,2);   //Chroma
-                      skip_bits(&s,1);   // Low delay
-                      if(get_bits(&s,1)) // VBV Info
-                      {
-                        skip_bits(&s,16);
-                        skip_bits(&s,16);
-                        skip_bits(&s,16);
-                        skip_bits(&s,15);
-                        skip_bits(&s,16);
-                      }
-                  }
-                 skip_bits(&s,2); //  Shape
-                 skip_bits(&s,1); //  Marker
-                 timeVal=get_bits(&s,16); // Time increment
-                 *time_inc = av_log2(timeVal - 1) + 1;
-                 if (*time_inc < 1)
-                    *time_inc = 1;
-                 skip_bits(&s,1); //  Marker
-                 if(get_bits(&s,1)) // Fixed vop rate, compute how much bits needed
-                 {
-                     get_bits(&s, *time_inc);
-                 }
-                  skip_bits(&s,1); //  Marker
-                  mw=get_bits(&s,13);
-                  skip_bits(&s,1); //  Marker
-                  mh=get_bits(&s,13);
-                // /Here we go
-                //printf("%d x %d \n",mw,mh);
-                *h=mh;
-                *w=mw;
-                return 1;;
-                // Free get bits ?
-                // WTF ?
-            }
-            continue;
-        }
-        else
-        {
-            printf("No more startcode\n");
-            // Free get bits ?
-            return 0;
-            
-        }
-    }
-    
-    return 0;
-}
-/**
-    \fn extractVopInfo
-    \brief extract info from vop : Vop type, module time base, time inc
-    
-    Warning this function expects data to start AFTER startcode, contrarily to other functions here!
-*/
-
-uint8_t extractVopInfo(uint8_t *data, uint32_t len,uint32_t timeincbits,uint32_t *vopType,uint32_t *modulo, uint32_t *time_inc,uint32_t *vopcoded)
-{
-   GetBitContext s;
-   int vop;
-   uint32_t vp,tinc;
-           init_get_bits( &s,data, len*8);
-           vop=get_bits(&s,2);
-           switch(vop)
-           {
-             case 0: vp=AVI_KEY_FRAME;break;
-             case 1: vp=0;break;
-             case 2: vp=AVI_B_FRAME;break;
-             case 3: vp=0;break;  // D FRAME ????
-             default:
-                printf("Unknown vop type :%d\n",vop);
-                return 0;
-           }
-           /* Read modulo */
-           int imodulo=0;
-           while (get_bits1(&s) != 0)
-                  imodulo++;
-           if(!get_bits1(&s))
-           {
-              printf("Wrong marker1\n");
-              return 0; 
-           }
-           
-           /* Read time */
-           tinc=get_bits(&s,timeincbits);
-           /* Marker */
-            if(!get_bits1(&s))
-           {
-              printf("Wrong marker2\n");
-              return 0; 
-           }
-           /* Vop coded */
-           *modulo=imodulo;
-           *vopcoded=get_bits1(&s);
-           *vopType=vp;
-           *time_inc=tinc;
-           return 1;
-}
-
-/*
-        Extract H263 width & height from header
-
-*/
-uint8_t extractH263Info(uint8_t *data,uint32_t dataSize,uint32_t *w,uint32_t *h)
-{
-uint32_t val;
-                GetBitContext s;
-                init_get_bits( &s,data, dataSize*8);
-                
-                 mixDump(data,10);
-                 val=get_bits(&s,16);
-                 if(val)
-                 {
-                    printf("incorrect H263 header sync\n");
-                    return 0;
-                 }
-                 val=get_bits(&s,6);
-                 if(val!=0x20)
-                 {
-                    printf("incorrect H263 header sync (2)\n");
-                    return 0;
-                 }
-                 //
-                 skip_bits(&s,8); // timestamps in 30 fps tick
-                 skip_bits(&s,1); // Marker
-                 skip_bits(&s,1); // Id
-                 skip_bits(&s,1); // Split
-                 skip_bits(&s,1); // Document Camera indicator
-                 skip_bits(&s,1); // Full Picture Freeze Release
-                 val=get_bits(&s,3);
-                 switch(val)
-                 {
-                   
-                    case 1: *w=128;*h=96;return 1;break;
-                    case 2: *w=176;*h=144;return 1;break;
-                    case 6:
-                    case 7:
-                            printf("H263+:Todo\n");
-                    default:
-                        printf("Invalid format\n");return 0;break;
-                 }
-                 return 0;
-}
-/**
-    \fn unescapeH264
-    \brief Remove escape stuff
-
-*/
-static uint32_t unescapeH264(uint32_t len,uint8_t *in, uint8_t *out)
-{
-  uint32_t outlen=0;
-  uint8_t *tail=in+len;
-    if(len<3) return 0;
-    while(in<tail-3)
-    {
-      if(!in[0]  && !in[1] && in[2]==3)
-      {
-        out[0]=0;
-        out[1]=0;
-        out+=2;
-        outlen+=2;
-        in+=3; 
-      }
-      *out++=*in++;
-      outlen++;
-    }
-    // copy last bytes
-    uint32_t left=tail-in;
-    memcpy(out,in,left);
-    outlen+=left;
-    return outlen;
-    
-}
-/**
-    \fn extractSPSInfo
-    \brief Extract info from H264 SPS
-    See 7.3.2.1 of 14496-10
-*/
-uint8_t extractSPSInfo(uint8_t *data, uint32_t len,uint32_t *wwidth,uint32_t *hheight)
-{
-   GetBitContext s;
-   
-   uint32_t profile,constraint,level,pic_order_cnt_type,w,h,z;
-   uint8_t buf[len];
-   uint32_t outlen;
-   uint32_t id,dum;
-   
-           outlen=unescapeH264(len,data,buf);
-           init_get_bits( &s,buf, outlen*8);
-            
-           profile=get_bits(&s,8);
-           constraint=get_bits(&s,8)>>5;
-           level=get_bits(&s,8);
-           id=get_ue_golomb(&s); // Seq parameter set id           
-           printf("[H264]Profile : %u, Level :%u, SPSid:%u\n",profile,level,id);
-           if(profile>=100) // ?? Borrowed from H264.C/FFMPEG
-           {
-              printf("[H264]Warning : High profile\n");
-              if(get_ue_golomb(&s) == 3) //chroma_format_idc
-                get_bits1(&s);  //residual_color_transform_flag
-            get_ue_golomb(&s);  //bit_depth_luma_minus8
-            get_ue_golomb(&s);  //bit_depth_chroma_minus8
-            get_bits1(&s);
-            get_bits1(&s); //incomplete FIXME
-           }    // /??
-           
-
-           dum=get_ue_golomb(&s); // log2_max_frame_num_minus4
-           printf("[H264]Log2maxFrame-4:%u\n",dum);
-           pic_order_cnt_type=get_ue_golomb(&s);
-           printf("[H264]Pic Order Cnt Type:%u\n",pic_order_cnt_type);
-           if(!pic_order_cnt_type) // pic_order_cnt_type
-           {
-              dum=get_ue_golomb(&s); //log2_max_pic_order_cnt_lsb_minus4
-              printf("[H264]Log2maxPix-4:%u\n",dum);
-           }else
-           {
-             if(pic_order_cnt_type==1)
-             {
-                 get_bits1(&s);   //delta_pic_order_always_zero_flag
-                 get_se_golomb(&s);   //offset_for_non_ref_pic
-                 get_se_golomb(&s);  // offset_for_top_to_bottom_field
-                 int i=get_ue_golomb(&s);  //num_ref_frames_in_pic_order_cnt_cycle
-
-                 for(int j=0;j<i;j++)
-                 {
-                      get_se_golomb(&s);
-                 }
-             }else 
-             {
-               printf("Error in SPS\n");
-               return 0;
-             }
-           }
-           dum=get_ue_golomb(&s);     //num_ref_frames
-           printf("[H264] # of ref frames : %u\n",dum);
-           get_bits1(&s);         // gaps_in_frame_num_value_allowed_flag
-           w=get_ue_golomb(&s);   //pic_width_in_mbs_minus1
-           h=get_ue_golomb(&s);   //pic_height_in_mbs_minus1
-           z=get_ue_golomb(&s); 
-           printf("[H264] Width in mb -1  :%d\n",w); 
-           printf("[H264] Height in mb -1 :%d\n", h);
-           printf("[H264] z               :%d\n", z);  
-            *wwidth=(w+1)*16;
-            *hheight=(h+1)*16*2; /* Fixme : frame_mbs_only_flag in slice header!! */
-
-           
-           return 1;
-}
-/**
-      \fn extractH264FrameType
-      \brief return frametype in flags (KEY_FRAME or 0). To be used only with  mkv/mp4 nal type (i.e. no startcode)
-      
-*/
-uint8_t extractH264FrameType(uint32_t nalSize,uint8_t *buffer,uint32_t len,uint32_t *flags)
-{
-  uint8_t *head=buffer, *tail=buffer+len;
-  uint8_t stream;
-#define NAL_NON_IDR       1
-#define NAL_IDR           5
-  
-  uint32_t val,hnt;  
-  
-// FIXME :  no startcode only !
-  
-  while(head+4<tail)
-  {
-    
-              uint32_t length=(head[0]<<24) + (head[1]<<16) +(head[2]<<8)+(head[3]);
-              if(length>len||length<6)
-              {
-                printf("Warning , incomplete nal (%u/%u),(%0x/%0x)\n",length,len,length,len);
-                *flags=0;
-                return 0;
-              }
-              head+=4; // Skip nal lenth
-              length-=4;
-              stream=*(head++)&0x1F;
-                switch(stream)
-                {
-                  case NAL_IDR: 
-                                  *flags=AVI_KEY_FRAME;
-                                  
-                                  return 1;
-                                  break; 
-                  case NAL_NON_IDR: 
-                                  refineH264FrameType(head,tail,flags);
-                                  return 1;
-                                  break;
-                  default:
-                          printf("??0x%x\n",stream);
-                          head+=length-5;
-                          continue;
-                }
-  }
-  printf("No stream\n");
-  return 0;
-}
-
-/**
-      \fn extractH264FrameType_startCode
-      \brief return frametype in flags (KEY_FRAME or 0). To be used only with  avi / mpeg TS nal type (i.e. with startcode)
-      
-*/
-uint8_t extractH264FrameType_startCode(uint32_t nalSize,uint8_t *buffer,uint32_t len,uint32_t *flags)
-{
-  uint8_t *head=buffer, *tail=buffer+len;
-  uint8_t stream;
-#define NAL_NON_IDR       1
-#define NAL_IDR           5
-#define NAL_SEI           6
-
-  uint32_t val,hnt;  
-  
-// FIXME :  no startcode only !
-  
-  while(head+4<tail)
-  {
-          // Search startcode
-      
-                hnt=(head[0]<<24) + (head[1]<<16) +(head[2]<<8)+(head[3]);
-                head+=4;
-                while((hnt!=1) && head<tail)
-                {
-
-                        hnt<<=8;
-                        val=*head++;
-                        hnt+=val;
-                }
-                if(head>=tail) break;
-                stream=*(head++) &0x1f;
-                switch(stream)
-                {
-                  case NAL_IDR: 
-                                  *flags=AVI_KEY_FRAME;
-                                 // printf("IDR\n");
-                                  return 1;
-                                  break; 
-                  case NAL_NON_IDR: 
-                                  refineH264FrameType(head,tail,flags);
-                                  return 1;
-                                  break;
-                  default:
-                          printf("??0x%x\n",stream);
-                          continue;
-                }
-  }
-  printf("No stream\n");
-  return 0;
-}
-/**
-    \fn refineH264FrameType
-    \brief Try to detect B slice, warning the stream is not escaped!
-*/
-void refineH264FrameType(uint8_t *head,uint8_t *tail,uint32_t *flags)
-{
-GetBitContext s;
-uint32_t sliceType;
-            *flags=0;
-            init_get_bits(&s,head, (tail-head)*8);
-            get_ue_golomb(&s);
-            sliceType= get_ue_golomb(&s);
-            if(sliceType > 9) 
-            {
-              printf("Weird Slice %d\n",sliceType);
-              return ;
-            }
-            if(sliceType > 4)
-                sliceType -= 5;
-            if(sliceType==3) *flags=AVI_B_FRAME;  
-}
-//EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/CMakeLists.txt	2007-05-29 18:30:54 UTC (rev 3184)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/CMakeLists.txt	2007-05-29 18:54:50 UTC (rev 3185)
@@ -1,4 +1,5 @@
 
 SET(ADM_mp4_SRCS 
-ADM_atom.cpp  ADM_infoextractor.cpp  ADM_mp4Analyzer.cpp  ADM_mp4audio.cpp  ADM_mp4.cpp  ADM_mp4Indexer.cpp  ADM_mp4Leaf.cpp)
+ADM_atom.cpp  ADM_mp4Analyzer.cpp  ADM_mp4audio.cpp  ADM_mp4.cpp  ADM_mp4Indexer.cpp  ADM_mp4Leaf.cpp)
 ADD_LIBRARY(ADM_mp4 STATIC ${ADM_mp4_SRCS})
+include_directories(..)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/CMakeLists.txt	2007-05-29 18:30:54 UTC (rev 3184)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/CMakeLists.txt	2007-05-29 18:54:50 UTC (rev 3185)
@@ -1,61 +1,10 @@
-SET(ADM_inputs_SRCS 
-ADM_openDML/ADM_openDML.cpp
-ADM_openDML/ADM_opendml_reorder.cpp
-ADM_openDML/ADM_odml_odml.cpp
-ADM_openDML/ADM_openDMLDepack.cpp
-ADM_openDML/ADM_riff.cpp
-ADM_openDML/ADM_odml_audio.cpp
-ADM_openDML/ADM_odml_regular.cpp
-ADM_openDML/ADM_opendml_reindex.cpp
-ADM_mp4/ADM_mp4Indexer.cpp
-ADM_mp4/ADM_atom.cpp
-ADM_mp4/ADM_mp4.cpp
-ADM_mp4/ADM_mp4audio.cpp
-ADM_mp4/ADM_mp4Analyzer.cpp
-ADM_mp4/ADM_infoextractor.cpp
-ADM_mp4/ADM_mp4Leaf.cpp
-ADM_matroska/ADM_mkv.cpp
-ADM_matroska/ADM_mkv_audio.cpp
-ADM_matroska/ebml.cpp
-ADM_matroska/ADM_mkvTrackType.cpp
-ADM_matroska/ADM_mkvEntries.cpp
-ADM_matroska/mkv_tags.cpp
-ADM_matroska/ADM_mkvIndexer.cpp
-ADM_h263/ADM_mp4.cpp
-ADM_h263/ADM_h263.cpp
-ADM_h263/bitsRead.cpp
-ADM_mpegdemuxer/dmx_indexer_mpeg2.cpp
-ADM_mpegdemuxer/dmx_indexer.cpp
-ADM_mpegdemuxer/dmx_demuxerES.cpp
-ADM_mpegdemuxer/dmx_audio.cpp
-ADM_mpegdemuxer/dmx_indexer_h264.cpp
-ADM_mpegdemuxer/dmx_video.cpp
-ADM_mpegdemuxer/dmx_io.cpp
-ADM_mpegdemuxer/dmx_probe.cpp
-ADM_mpegdemuxer/dmx_demuxer.cpp
-ADM_mpegdemuxer/dmx_identify.cpp
-ADM_mpegdemuxer/dmx_demuxerPS.cpp
-ADM_mpegdemuxer/dmx_probeTS.cpp
-ADM_mpegdemuxer/dmx_demuxerTS.cpp
-ADM_mpegdemuxer/dmx_demuxerMSDVR.cpp
-ADM_ogm/ADM_ogm.cpp
-ADM_ogm/ADM_ogmpages.cpp
-ADM_ogm/ADM_ogmAudio.cpp
-ADM_ogm/ADM_ogmreorder.cpp
-ADM_inpics/ADM_pics.cpp
-ADM_nuv/minilzo.c
-ADM_nuv/RTjpeg.c
-ADM_nuv/RTjpegN.cpp
-ADM_nuv/ADM_nuvAudio.cpp
-ADM_nuv/ADM_nuv.cpp
-ADM_nuv/RToldformat.cpp
-ADM_asf/ADM_asfPacket.cpp
-ADM_asf/ADM_asfChunk.cpp
-ADM_asf/ADM_asf.cpp
-ADM_asf/ADM_asf_audio.cpp
-ADM_avsproxy/ADM_avsproxy_net.cpp
-ADM_avsproxy/ADM_avsproxy.cpp
-)
-ADD_LIBRARY(ADM_inputs STATIC ${ADM_inputs_SRCS})
-include_directories(./ )
-
+subdirs (PREORDER ADM_asf)
+subdirs (PREORDER ADM_avsproxy)
+subdirs (PREORDER ADM_h263)
+subdirs (PREORDER ADM_inpics)
+subdirs (PREORDER ADM_matroska)
+subdirs (PREORDER ADM_mp4)
+subdirs (PREORDER ADM_mpegdemuxer)
+subdirs (PREORDER ADM_nuv)
+subdirs (PREORDER ADM_ogm)
+subdirs (PREORDER ADM_openDML)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/CMakeLists.txt	2007-05-29 18:30:54 UTC (rev 3184)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/CMakeLists.txt	2007-05-29 18:54:50 UTC (rev 3185)
@@ -1,22 +1,6 @@
-SET(ADM_outputs_SRCS 
-oplug_avi/op_avisavedual.cpp
-oplug_avi/op_savesmart.cpp
-oplug_avi/avilist.cpp
-oplug_avi/op_avisavecopy_pack.cpp
-oplug_avi/op_avisavecopy.cpp
-oplug_avi/op_aviwrite.cpp
-oplug_avi/op_avisavecopy_unpack.cpp
-oplug_avi/op_saveprocess.cpp
-oplug_avi/op_avisave.cpp
-oplug_mp4/oplug_mp4.cpp
-oplug_ogm/op_ogpage.cpp
-oplug_ogm/op_ogsaveprocess.cpp
-oplug_ogm/op_ogsave.cpp
-oplug_ogm/op_ogaudio.cpp
-oplug_ogm/op_ogsavecopy.cpp
-oplug_mpegFF/oplug_vcdff.cpp
-oplug_mpeg/op_mpegpass.cpp
-)
-ADD_LIBRARY(ADM_outputs STATIC ${ADM_outputs_SRCS})
-include_directories(./ ../ADM_inputs )
+subdirs (PREORDER oplug_avi)
+subdirs (PREORDER oplug_mp4)
+subdirs (PREORDER oplug_mpeg)
+subdirs (PREORDER oplug_mpegFF)
+subdirs (PREORDER oplug_ogm)
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/CMakeLists.txt	2007-05-29 18:30:54 UTC (rev 3184)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/CMakeLists.txt	2007-05-29 18:54:50 UTC (rev 3185)
@@ -3,4 +3,4 @@
 avilist.cpp         op_avisavecopy_pack.cpp    op_avisave.cpp      op_aviwrite.cpp     op_savesmart.cpp
 op_avisavecopy.cpp  op_avisavecopy_unpack.cpp  op_avisavedual.cpp  op_saveprocess.cpp
 )
-ADD_LIBRARY(ADM_oplug_avi STATIC ${ADM_oplug_avi_SRCS})
+ADD_LIBRARY(oplug_avi STATIC ${ADM_oplug_avi_SRCS})

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mp4/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mp4/CMakeLists.txt	2007-05-29 18:30:54 UTC (rev 3184)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mp4/CMakeLists.txt	2007-05-29 18:54:50 UTC (rev 3185)
@@ -1,3 +1,3 @@
 
 SET(ADM_oplug_mp4_SRCS oplug_mp4.cpp)
-ADD_LIBRARY(ADM_oplug_mp4 STATIC ${ADM_oplug_mp4_SRCS})
+ADD_LIBRARY(oplug_mp4 STATIC ${ADM_oplug_mp4_SRCS})

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpeg/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpeg/CMakeLists.txt	2007-05-29 18:30:54 UTC (rev 3184)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpeg/CMakeLists.txt	2007-05-29 18:54:50 UTC (rev 3185)
@@ -2,4 +2,5 @@
 SET(ADM_oplug_mpeg_SRCS 
 op_mpegpass.cpp
 )
-ADD_LIBRARY(ADM_oplug_mpeg STATIC ${ADM_oplug_mpeg_SRCS})
+ADD_LIBRARY(oplug_mpeg STATIC ${ADM_oplug_mpeg_SRCS})
+include_directories(../../ADM_inputs)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpegFF/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpegFF/CMakeLists.txt	2007-05-29 18:30:54 UTC (rev 3184)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mpegFF/CMakeLists.txt	2007-05-29 18:54:50 UTC (rev 3185)
@@ -2,4 +2,4 @@
 SET(ADM_oplug_mpegFF_SRCS 
 oplug_vcdff.cpp
 )
-ADD_LIBRARY(ADM_oplug_mpegFF STATIC ${ADM_oplug_mpegFF_SRCS})
+ADD_LIBRARY(oplug_mpegFF STATIC ${ADM_oplug_mpegFF_SRCS})

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/CMakeLists.txt	2007-05-29 18:30:54 UTC (rev 3184)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/CMakeLists.txt	2007-05-29 18:54:50 UTC (rev 3185)
@@ -2,4 +2,6 @@
 SET(ADM_oplug_ogm_SRCS 
 op_ogaudio.cpp  op_ogpage.cpp  op_ogsavecopy.cpp  op_ogsave.cpp  op_ogsaveprocess.cpp
 )
-ADD_LIBRARY(ADM_oplug_ogm STATIC ${ADM_oplug_ogm_SRCS})
+ADD_LIBRARY(oplug_ogm STATIC ${ADM_oplug_ogm_SRCS})
+include_directories(../../ADM_inputs)
+

Modified: branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2007-05-29 18:30:54 UTC (rev 3184)
+++ branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2007-05-29 18:54:50 UTC (rev 3185)
@@ -43,14 +43,6 @@
 ADM_colorspace 
 ADM_audiodevice
 ADM_ocr  
-
-ADM_outputs
-ADM_inputs
-ADM_encoder
-ADM_codecs
-ADM_requant 
-ADM_toolkit  
-ADM_osSupport  
 )
 
 
@@ -74,8 +66,64 @@
 subdirs (PREORDER ${_current})
 add_libs_all_targets(${_current})
 ENDFOREACH(_current ${ADM_SUBDIR})
+# build trail
+subdirs (PREORDER ADM_osSupport)
+subdirs (PREORDER ADM_encoder)
+subdirs (PREORDER ADM_toolkit)
+subdirs (PREORDER ADM_codecs)
+subdirs (PREORDER ADM_requant)
+subdirs (PREORDER ADM_infoExtractor)
+###########################################
+# Construct ADM_outputs
+###########################################
+subdirs (PREORDER ADM_outputs)
+LINK_DIRECTORIES(ADM_outputs)
+SET(ADM_outputs
+oplug_avi
+oplug_mp4
+oplug_mpeg
+oplug_mpegFF
+oplug_ogm
+)
 
+FOREACH(_current ${ADM_outputs})
+add_libs_all_targets(${_current})
+ENDFOREACH(_current ${ADM_outputs})
 ###########################################
+# Construct ADM_inputs
+###########################################
+subdirs (PREORDER ADM_inputs)
+LINK_DIRECTORIES(ADM_inputs)
+SET(ADM_inputs
+ADM_asf
+ADM_avsproxy
+ADM_h263
+ADM_inpics
+ADM_matroska
+ADM_mp4
+ADM_mpegdemuxer
+ADM_nuv
+ADM_ogm
+ADM_openDML
+)
+
+FOREACH(_current ${ADM_inputs})
+add_libs_all_targets(${_current})
+ENDFOREACH(_current ${ADM_inputs})
+
+#########################################
+# Trails
+#########################################
+
+
+add_libs_all_targets(ADM_toolkit)
+add_libs_all_targets(ADM_osSupport)
+add_libs_all_targets(ADM_encoder)
+add_libs_all_targets(ADM_codecs)
+add_libs_all_targets(ADM_requant)
+add_libs_all_targets(ADM_infoExtractor)
+
+###########################################
 # Construct ADM_libraries
 ###########################################
 subdirs (PREORDER ADM_libraries)



From mean at mail.berlios.de  Tue May 29 20:55:16 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Tue, 29 May 2007 20:55:16 +0200
Subject: [Avidemux-svn-commit] r3186 - branches/avidemux_2.4_branch/avidemux
Message-ID: <200705291855.l4TItG4J000013@sheep.berlios.de>

Author: mean
Date: 2007-05-29 20:55:16 +0200 (Tue, 29 May 2007)
New Revision: 3186

Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_infoextractor.cpp
Log:
removed

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_infoextractor.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_infoextractor.cpp	2007-05-29 18:54:50 UTC (rev 3185)
+++ branches/avidemux_2.4_branch/avidemux/ADM_infoextractor.cpp	2007-05-29 18:55:16 UTC (rev 3186)
@@ -1,476 +0,0 @@
-/***************************************************************************
-                          ADM_infoextractor
-                             -------------------
-           - extract additionnal info from header (mp4/h263)                  
-**************************************************************************/
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include "config.h"
-
-#include <stdio.h>
-#include <stdlib.h>
-
-#include <string.h>
-
-#include "math.h"
-
-#include <ADM_assert.h>
-#include "default.h"
-#include "ADM_editor/ADM_Video.h"
-
-
-#include "fourcc.h"
-#include "ADM_mp4/ADM_mp4.h"
-#include "ADM_toolkit/toolkit.hxx"
-
-#include "ADM_osSupport/ADM_debugID.h"
-#define MODULE_NAME MODULE_3GP
-#include "ADM_osSupport/ADM_debug.h"
-
-extern "C"
-{
-#include "common.h"
-#include "bswap.h"
-#define INT_MAX (0x7FFFFFFF)
-#include "ADM_lavcodec/bitstream.h"
-#include "ADM_lavcodec/golomb.h"
-}
-static void refineH264FrameType(uint8_t *head,uint8_t *tail,uint32_t *flags);
-/*
-    Extract width & height from vol header passed as arg
-
-
-*/
-uint8_t extractMpeg4Info(uint8_t *data,uint32_t dataSize,uint32_t *w,uint32_t *h,uint32_t *time_inc)
-{
-    // Search startcode
-    uint8_t b;
-    uint32_t idx=0;
-    uint32_t mw,mh;
-    uint32_t timeVal;
-    
-    //mixDump(data,dataSize);
-    //printf("\n");
-    while(1)
-    {
-        uint32_t startcode=0xffffffff;
-        while(dataSize>2)
-        {
-            startcode=(startcode<<8)+data[idx];
-            idx++;
-            dataSize--;
-            if((startcode&0xffffff)==1) break;
-        }
-        if(dataSize>2)
-        {
-            //printf("Startcodec:%x\n",data[idx]);
-            if((data[idx]&0xF0)==0x20) //VOL start
-            {
-                dataSize--;
-                idx++;
-#if 0
-                printf("VOL Header:\n");
-
-                if(dataSize<16)
-                {
-                  mixDump(data+idx,dataSize);printf("\n");
-                }
-                else
-                {
-                  mixDump(data+idx,16);printf("\n");
-                }
-#endif
-                // Here we go !
-                GetBitContext s;
-                init_get_bits( &s,data+idx, dataSize*8);
-                //
-                skip_bits1(&s); // Random access
-                skip_bits(&s,8); // Obj type indication
-                if(get_bits(&s,1)) // VO od 
-                {
-                      skip_bits(&s,4); // Ver
-                      skip_bits(&s,3);  // Priority
-                }
-                if(get_bits(&s,4)==15) // custom A/R
-                {
-                      skip_bits(&s,8);
-                      skip_bits(&s,8);
-                }
-                if(get_bits(&s,1)) // Vol control param
-                {
-                      skip_bits(&s,2);   //Chroma
-                      skip_bits(&s,1);   // Low delay
-                      if(get_bits(&s,1)) // VBV Info
-                      {
-                        skip_bits(&s,16);
-                        skip_bits(&s,16);
-                        skip_bits(&s,16);
-                        skip_bits(&s,15);
-                        skip_bits(&s,16);
-                      }
-                  }
-                 skip_bits(&s,2); //  Shape
-                 skip_bits(&s,1); //  Marker
-                 timeVal=get_bits(&s,16); // Time increment
-                 *time_inc = av_log2(timeVal - 1) + 1;
-                 if (*time_inc < 1)
-                    *time_inc = 1;
-                 skip_bits(&s,1); //  Marker
-                 if(get_bits(&s,1)) // Fixed vop rate, compute how much bits needed
-                 {
-                     get_bits(&s, *time_inc);
-                 }
-                  skip_bits(&s,1); //  Marker
-                  mw=get_bits(&s,13);
-                  skip_bits(&s,1); //  Marker
-                  mh=get_bits(&s,13);
-                // /Here we go
-                //printf("%d x %d \n",mw,mh);
-                *h=mh;
-                *w=mw;
-                return 1;;
-                // Free get bits ?
-                // WTF ?
-            }
-            continue;
-        }
-        else
-        {
-            printf("No more startcode\n");
-            // Free get bits ?
-            return 0;
-            
-        }
-    }
-    
-    return 0;
-}
-/**
-    \fn extractVopInfo
-    \brief extract info from vop : Vop type, module time base, time inc
-    
-    Warning this function expects data to start AFTER startcode, contrarily to other functions here!
-*/
-
-uint8_t extractVopInfo(uint8_t *data, uint32_t len,uint32_t timeincbits,uint32_t *vopType,uint32_t *modulo, uint32_t *time_inc,uint32_t *vopcoded)
-{
-   GetBitContext s;
-   int vop;
-   uint32_t vp,tinc;
-           init_get_bits( &s,data, len*8);
-           vop=get_bits(&s,2);
-           switch(vop)
-           {
-             case 0: vp=AVI_KEY_FRAME;break;
-             case 1: vp=0;break;
-             case 2: vp=AVI_B_FRAME;break;
-             case 3: vp=0;break;  // D FRAME ????
-             default:
-                printf("Unknown vop type :%d\n",vop);
-                return 0;
-           }
-           /* Read modulo */
-           int imodulo=0;
-           while (get_bits1(&s) != 0)
-                  imodulo++;
-           if(!get_bits1(&s))
-           {
-              printf("Wrong marker1\n");
-              return 0; 
-           }
-           
-           /* Read time */
-           tinc=get_bits(&s,timeincbits);
-           /* Marker */
-            if(!get_bits1(&s))
-           {
-              printf("Wrong marker2\n");
-              return 0; 
-           }
-           /* Vop coded */
-           *modulo=imodulo;
-           *vopcoded=get_bits1(&s);
-           *vopType=vp;
-           *time_inc=tinc;
-           return 1;
-}
-
-/*
-        Extract H263 width & height from header
-
-*/
-uint8_t extractH263Info(uint8_t *data,uint32_t dataSize,uint32_t *w,uint32_t *h)
-{
-uint32_t val;
-                GetBitContext s;
-                init_get_bits( &s,data, dataSize*8);
-                
-                 mixDump(data,10);
-                 val=get_bits(&s,16);
-                 if(val)
-                 {
-                    printf("incorrect H263 header sync\n");
-                    return 0;
-                 }
-                 val=get_bits(&s,6);
-                 if(val!=0x20)
-                 {
-                    printf("incorrect H263 header sync (2)\n");
-                    return 0;
-                 }
-                 //
-                 skip_bits(&s,8); // timestamps in 30 fps tick
-                 skip_bits(&s,1); // Marker
-                 skip_bits(&s,1); // Id
-                 skip_bits(&s,1); // Split
-                 skip_bits(&s,1); // Document Camera indicator
-                 skip_bits(&s,1); // Full Picture Freeze Release
-                 val=get_bits(&s,3);
-                 switch(val)
-                 {
-                   
-                    case 1: *w=128;*h=96;return 1;break;
-                    case 2: *w=176;*h=144;return 1;break;
-                    case 6:
-                    case 7:
-                            printf("H263+:Todo\n");
-                    default:
-                        printf("Invalid format\n");return 0;break;
-                 }
-                 return 0;
-}
-/**
-    \fn unescapeH264
-    \brief Remove escape stuff
-
-*/
-static uint32_t unescapeH264(uint32_t len,uint8_t *in, uint8_t *out)
-{
-  uint32_t outlen=0;
-  uint8_t *tail=in+len;
-    if(len<3) return 0;
-    while(in<tail-3)
-    {
-      if(!in[0]  && !in[1] && in[2]==3)
-      {
-        out[0]=0;
-        out[1]=0;
-        out+=2;
-        outlen+=2;
-        in+=3; 
-      }
-      *out++=*in++;
-      outlen++;
-    }
-    // copy last bytes
-    uint32_t left=tail-in;
-    memcpy(out,in,left);
-    outlen+=left;
-    return outlen;
-    
-}
-/**
-    \fn extractSPSInfo
-    \brief Extract info from H264 SPS
-    See 7.3.2.1 of 14496-10
-*/
-uint8_t extractSPSInfo(uint8_t *data, uint32_t len,uint32_t *wwidth,uint32_t *hheight)
-{
-   GetBitContext s;
-   
-   uint32_t profile,constraint,level,pic_order_cnt_type,w,h,z;
-   uint8_t buf[len];
-   uint32_t outlen;
-   uint32_t id,dum;
-   
-           outlen=unescapeH264(len,data,buf);
-           init_get_bits( &s,buf, outlen*8);
-            
-           profile=get_bits(&s,8);
-           constraint=get_bits(&s,8)>>5;
-           level=get_bits(&s,8);
-           id=get_ue_golomb(&s); // Seq parameter set id           
-           printf("[H264]Profile : %u, Level :%u, SPSid:%u\n",profile,level,id);
-           if(profile>=100) // ?? Borrowed from H264.C/FFMPEG
-           {
-              printf("[H264]Warning : High profile\n");
-              if(get_ue_golomb(&s) == 3) //chroma_format_idc
-                get_bits1(&s);  //residual_color_transform_flag
-            get_ue_golomb(&s);  //bit_depth_luma_minus8
-            get_ue_golomb(&s);  //bit_depth_chroma_minus8
-            get_bits1(&s);
-            get_bits1(&s); //incomplete FIXME
-           }    // /??
-           
-
-           dum=get_ue_golomb(&s); // log2_max_frame_num_minus4
-           printf("[H264]Log2maxFrame-4:%u\n",dum);
-           pic_order_cnt_type=get_ue_golomb(&s);
-           printf("[H264]Pic Order Cnt Type:%u\n",pic_order_cnt_type);
-           if(!pic_order_cnt_type) // pic_order_cnt_type
-           {
-              dum=get_ue_golomb(&s); //log2_max_pic_order_cnt_lsb_minus4
-              printf("[H264]Log2maxPix-4:%u\n",dum);
-           }else
-           {
-             if(pic_order_cnt_type==1)
-             {
-                 get_bits1(&s);   //delta_pic_order_always_zero_flag
-                 get_se_golomb(&s);   //offset_for_non_ref_pic
-                 get_se_golomb(&s);  // offset_for_top_to_bottom_field
-                 int i=get_ue_golomb(&s);  //num_ref_frames_in_pic_order_cnt_cycle
-
-                 for(int j=0;j<i;j++)
-                 {
-                      get_se_golomb(&s);
-                 }
-             }else 
-             {
-               printf("Error in SPS\n");
-               return 0;
-             }
-           }
-           dum=get_ue_golomb(&s);     //num_ref_frames
-           printf("[H264] # of ref frames : %u\n",dum);
-           get_bits1(&s);         // gaps_in_frame_num_value_allowed_flag
-           w=get_ue_golomb(&s);   //pic_width_in_mbs_minus1
-           h=get_ue_golomb(&s);   //pic_height_in_mbs_minus1
-           z=get_ue_golomb(&s); 
-           printf("[H264] Width in mb -1  :%d\n",w); 
-           printf("[H264] Height in mb -1 :%d\n", h);
-           printf("[H264] z               :%d\n", z);  
-            *wwidth=(w+1)*16;
-            *hheight=(h+1)*16*2; /* Fixme : frame_mbs_only_flag in slice header!! */
-
-           
-           return 1;
-}
-/**
-      \fn extractH264FrameType
-      \brief return frametype in flags (KEY_FRAME or 0). To be used only with  mkv/mp4 nal type (i.e. no startcode)
-      
-*/
-uint8_t extractH264FrameType(uint32_t nalSize,uint8_t *buffer,uint32_t len,uint32_t *flags)
-{
-  uint8_t *head=buffer, *tail=buffer+len;
-  uint8_t stream;
-#define NAL_NON_IDR       1
-#define NAL_IDR           5
-  
-  uint32_t val,hnt;  
-  
-// FIXME :  no startcode only !
-  
-  while(head+4<tail)
-  {
-    
-              uint32_t length=(head[0]<<24) + (head[1]<<16) +(head[2]<<8)+(head[3]);
-              if(length>len||length<6)
-              {
-                printf("Warning , incomplete nal (%u/%u),(%0x/%0x)\n",length,len,length,len);
-                *flags=0;
-                return 0;
-              }
-              head+=4; // Skip nal lenth
-              length-=4;
-              stream=*(head++)&0x1F;
-                switch(stream)
-                {
-                  case NAL_IDR: 
-                                  *flags=AVI_KEY_FRAME;
-                                  
-                                  return 1;
-                                  break; 
-                  case NAL_NON_IDR: 
-                                  refineH264FrameType(head,tail,flags);
-                                  return 1;
-                                  break;
-                  default:
-                          printf("??0x%x\n",stream);
-                          head+=length-5;
-                          continue;
-                }
-  }
-  printf("No stream\n");
-  return 0;
-}
-
-/**
-      \fn extractH264FrameType_startCode
-      \brief return frametype in flags (KEY_FRAME or 0). To be used only with  avi / mpeg TS nal type (i.e. with startcode)
-      
-*/
-uint8_t extractH264FrameType_startCode(uint32_t nalSize,uint8_t *buffer,uint32_t len,uint32_t *flags)
-{
-  uint8_t *head=buffer, *tail=buffer+len;
-  uint8_t stream;
-#define NAL_NON_IDR       1
-#define NAL_IDR           5
-#define NAL_SEI           6
-
-  uint32_t val,hnt;  
-  
-// FIXME :  no startcode only !
-  
-  while(head+4<tail)
-  {
-          // Search startcode
-      
-                hnt=(head[0]<<24) + (head[1]<<16) +(head[2]<<8)+(head[3]);
-                head+=4;
-                while((hnt!=1) && head<tail)
-                {
-
-                        hnt<<=8;
-                        val=*head++;
-                        hnt+=val;
-                }
-                if(head>=tail) break;
-                stream=*(head++) &0x1f;
-                switch(stream)
-                {
-                  case NAL_IDR: 
-                                  *flags=AVI_KEY_FRAME;
-                                 // printf("IDR\n");
-                                  return 1;
-                                  break; 
-                  case NAL_NON_IDR: 
-                                  refineH264FrameType(head,tail,flags);
-                                  return 1;
-                                  break;
-                  default:
-                          printf("??0x%x\n",stream);
-                          continue;
-                }
-  }
-  printf("No stream\n");
-  return 0;
-}
-/**
-    \fn refineH264FrameType
-    \brief Try to detect B slice, warning the stream is not escaped!
-*/
-void refineH264FrameType(uint8_t *head,uint8_t *tail,uint32_t *flags)
-{
-GetBitContext s;
-uint32_t sliceType;
-            *flags=0;
-            init_get_bits(&s,head, (tail-head)*8);
-            get_ue_golomb(&s);
-            sliceType= get_ue_golomb(&s);
-            if(sliceType > 9) 
-            {
-              printf("Weird Slice %d\n",sliceType);
-              return ;
-            }
-            if(sliceType > 4)
-                sliceType -= 5;
-            if(sliceType==3) *flags=AVI_B_FRAME;  
-}
-//EOF



From mean at mail.berlios.de  Wed May 30 08:12:26 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Wed, 30 May 2007 08:12:26 +0200
Subject: [Avidemux-svn-commit] r3187 - in
	branches/avidemux_2.4_branch/avidemux: . ADM_infoExtractor
	ADM_inputs/ADM_mp4
Message-ID: <200705300612.l4U6CQqQ022687@sheep.berlios.de>

Author: mean
Date: 2007-05-30 08:12:26 +0200 (Wed, 30 May 2007)
New Revision: 3187

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_infoExtractor/Makefile.am
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/Makefile.am
   branches/avidemux_2.4_branch/avidemux/Makefile.am
Log:
infoExtractor, automake version

Added: branches/avidemux_2.4_branch/avidemux/ADM_infoExtractor/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_infoExtractor/Makefile.am	2007-05-29 18:55:16 UTC (rev 3186)
+++ branches/avidemux_2.4_branch/avidemux/ADM_infoExtractor/Makefile.am	2007-05-30 06:12:26 UTC (rev 3187)
@@ -0,0 +1,14 @@
+####### kdevelop will overwrite this part!!! (begin)##########
+noinst_LIBRARIES = libADM_infoExtractor.a
+
+INCLUDES = $(all_includes) -I../ADM_libraries -I../ADM_libraries/ADM_utilities -I../ADM_libraries/ADM_lavutil -I../ADM_inputs
+
+libADM_infoExtractor_a_METASOURCES = AUTO
+
+libADM_infoExtractor_a_SOURCES =  ADM_infoextractor.cpp
+
+
+EXTRA_DIST =  
+
+####### kdevelop will overwrite this part!!! (end)############
+noinst_HEADERS = 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/Makefile.am	2007-05-29 18:55:16 UTC (rev 3186)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_mp4/Makefile.am	2007-05-30 06:12:26 UTC (rev 3187)
@@ -3,7 +3,7 @@
 INCLUDES = $(all_includes)  -I../../ADM_libraries -I../../ADM_libraries/ADM_utilities   -I../../ADM_libraries/ADM_lavutil
 
 
-libADM_mp4_a_SOURCES = ADM_mp4.cpp ADM_mp4audio.cpp ADM_atom.cpp ADM_mp4.h ADM_atom.h ADM_infoextractor.cpp \
+libADM_mp4_a_SOURCES = ADM_mp4.cpp ADM_mp4audio.cpp ADM_atom.cpp ADM_mp4.h ADM_atom.h  \
 			ADM_mp4Analyzer.cpp ADM_mp4Leaf.cpp ADM_mp4Indexer.cpp
 
 

Modified: branches/avidemux_2.4_branch/avidemux/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/Makefile.am	2007-05-29 18:55:16 UTC (rev 3186)
+++ branches/avidemux_2.4_branch/avidemux/Makefile.am	2007-05-30 06:12:26 UTC (rev 3187)
@@ -74,7 +74,8 @@
 	ADM_script ADM_ocr \
 	ADM_osSupport \
 	ADM_inputs ADM_outputs \
-	ADM_userInterfaces
+	ADM_userInterfaces \
+	ADM_infoExtractor
 	
 
 
@@ -120,6 +121,7 @@
 ./ADM_inputs/ADM_openDML/libADM_openDML.a		\
 ./ADM_inputs/ADM_avsproxy/libADM_avsproxy.a		\
 ./ADM_inputs/ADM_matroska/libADM_matroska.a		\
+./ADM_infoExtractor/libADM_infoExtractor.a 		\
 ./ADM_libraries/ADM_lavcodec/libpostproc/libpostproc.a	\
 ./ADM_libraries/ADM_mplex/libADM_mplex.a		\
 ./ADM_libraries/ADM_lvemux/libADM_lvemux.a		\



From mean at mail.berlios.de  Wed May 30 20:13:09 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Wed, 30 May 2007 20:13:09 +0200
Subject: [Avidemux-svn-commit] r3188 - in branches/avidemux_2.4_branch:
	avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters
	avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui cmake
Message-ID: <200705301813.l4UID985024604@sheep.berlios.de>

Author: mean
Date: 2007-05-30 20:13:09 +0200 (Wed, 30 May 2007)
New Revision: 3188

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
   branches/avidemux_2.4_branch/cmake/adm_qt4.cmake
Log:
fix qrc generation for qt

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt	2007-05-30 06:12:26 UTC (rev 3187)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt	2007-05-30 18:13:09 UTC (rev 3188)
@@ -14,6 +14,8 @@
 ################################
 include(adm_qt4)
 ################################
+Q_RCC(filter)
+
 ADD_definitions(-DADM_SUBVERSION=0 )
 include_directories(.. ../../../ADM_osSupport ../../../ADM_inputs)
 include_directories(${QT_INCLUDES})

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2007-05-30 06:12:26 UTC (rev 3187)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2007-05-30 18:13:09 UTC (rev 3188)
@@ -17,7 +17,7 @@
 SET(${ADM_LIB}_Q
 gui2
 )
-
+Q_RCC(avidemux)
 #########################################"
 include(adm_qt4)
 ################################

Modified: branches/avidemux_2.4_branch/cmake/adm_qt4.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/adm_qt4.cmake	2007-05-30 06:12:26 UTC (rev 3187)
+++ branches/avidemux_2.4_branch/cmake/adm_qt4.cmake	2007-05-30 18:13:09 UTC (rev 3188)
@@ -16,6 +16,18 @@
    #FILE(APPEND ${CMAKE_CURRENT_SOURCE_DIR}/AQ_${_source}.cpp "#include \"Q_${_source}.moc\" \n" )
 ENDMACRO(Q_UIMOCIFY _source)  
 ##############################################################"
+# FOR 
+# foo.qrc->foo_rsc.cpp
+##############################################################"
+# $(RCC)  $< -o $@   -name filter
+MACRO(Q_RCC _source)                     
+  ADD_CUSTOM_COMMAND(OUTPUT   ${_source}_rsc.cpp
+                     COMMAND  ${QT_RCC_EXECUTABLE} ${_source}.qrc -o ${_source}_rsc.cpp -name ${_source}
+                     DEPENDS  ${_source}.qrc
+                     VERBATIM
+                )
+ENDMACRO(Q_RCC _source)        
+##############################################################"
 # FOR AT
 # T_foo.cpp i => AT_foo.cpp and T_foo.moc
 ##############################################################"



From mean at mail.berlios.de  Wed May 30 21:35:43 2007
From: mean at mail.berlios.de (mean at BerliOS)
Date: Wed, 30 May 2007 21:35:43 +0200
Subject: [Avidemux-svn-commit] r3189 - in branches/avidemux_2.4_branch: .
	addons/tsscan avidemux/ADM_editor avidemux/ADM_osSupport
Message-ID: <200705301935.l4UJZhu9030680@sheep.berlios.de>

Author: mean
Date: 2007-05-30 21:35:42 +0200 (Wed, 30 May 2007)
New Revision: 3189

Modified:
   branches/avidemux_2.4_branch/CMakeLists.txt
   branches/avidemux_2.4_branch/addons/tsscan/tsscan.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_editor/ADMedAVIAUD.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_debug.cpp
Log:
hack for QT4/win32

Modified: branches/avidemux_2.4_branch/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/CMakeLists.txt	2007-05-30 18:13:09 UTC (rev 3188)
+++ branches/avidemux_2.4_branch/CMakeLists.txt	2007-05-30 19:35:42 UTC (rev 3189)
@@ -133,6 +133,13 @@
 MESSAGE(STATUS "<Checking for QT4>")
 MESSAGE(STATUS "<******************************>")
 include(FindQt4)
+if(QT4_FOUND AND MINGW)
+	MESSAGE(STATUS "** MINGW ** OVERRIDING PATH FOR QT4 You may have to edit CMakeLists.txt!!!")
+	SET(QT_QMAKE_EXECUTABLE qmake)
+	SET(QT_UIC_EXECUTABLE uic)
+	SET(QT_MOC_EXECUTABLE moc)
+	SET(QT_RCC_EXECUTABLE rcc)
+endif(QT4_FOUND AND MINGW)
 
 # do config checks
 include(ConfigureChecks.cmake)
@@ -154,4 +161,4 @@
 ###############################
 # Summary
 ###############################
-include(conf_summary)
\ No newline at end of file
+include(conf_summary)

Modified: branches/avidemux_2.4_branch/addons/tsscan/tsscan.cpp
===================================================================
--- branches/avidemux_2.4_branch/addons/tsscan/tsscan.cpp	2007-05-30 18:13:09 UTC (rev 3188)
+++ branches/avidemux_2.4_branch/addons/tsscan/tsscan.cpp	2007-05-30 19:35:42 UTC (rev 3189)
@@ -124,7 +124,7 @@
 int loop=0;
 int pid,adapt,start,len;
 
-	while(loop<50000)
+	while(loop<350000)
 	{
 		loop++;		
 		if(1!=fread(buffer,TS_PACKET,1,fd))

Modified: branches/avidemux_2.4_branch/avidemux/ADM_editor/ADMedAVIAUD.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_editor/ADMedAVIAUD.cpp	2007-05-30 18:13:09 UTC (rev 3188)
+++ branches/avidemux_2.4_branch/avidemux/ADM_editor/ADMedAVIAUD.cpp	2007-05-30 19:35:42 UTC (rev 3189)
@@ -73,9 +73,9 @@
 			return r;		
 		}
 		// could not get the cound, rewind and retry
-		printf("EditorPacket:Read failed; retrying (were at seg %lu"   ,_audioseg);
-                printf("sample %llu\n",_audioSample); // FIXME use proper stuff
-                printf("/ %lld)\n",_segments[_audioseg]._audio_duration);
+		printf("EditorPacket:Read failed; retrying (were at seg %u"   ,_audioseg);
+                printf("sample %u\n",_audioSample); // FIXME use proper stuff
+                printf("/ %d)\n",_segments[_audioseg]._audio_duration);
 		if(_audioseg == (_nb_segment - 1))
 		{		
 			printf("EditorPacket : End of *last* stream\n");
@@ -113,8 +113,8 @@
 	{
 		
 		printf("EditorPacket : End of stream Segment :%u/%u \n",_audioseg,_nb_segment);
-                printf("This sample : %s ",ms2timedisplay(1000*_audioSample/currentVideo->_audiostream->getInfo()->frequency));
-                printf("total :%s\n" ,ms2timedisplay(1000*_segments[_audioseg]._audio_duration/currentVideo->_audiostream->getInfo()->frequency));
+                printf("This sample : %u (%s) ",_audioSample,ms2timedisplay(1000*_audioSample/currentVideo->_audiostream->getInfo()->frequency));
+                printf("total :%u (%s)\n" ,_segments[_audioseg]._audio_duration,ms2timedisplay(1000*_segments[_audioseg]._audio_duration/currentVideo->_audiostream->getInfo()->frequency));
 		return 0;
 	}
 	// switch segment

Modified: branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_debug.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_debug.cpp	2007-05-30 18:13:09 UTC (rev 3188)
+++ branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_debug.cpp	2007-05-30 19:35:42 UTC (rev 3189)
@@ -33,7 +33,7 @@
 
 // put here the module you want to be verbose (MODULE_xxx + MODULE_yyyy+  ....)
 #ifndef masked
-#define masked  (MODULE_3GP*1+ 1*MODULE_MPEG) //+MODULE_3GP) //(MODULE_AUDIO_EDITOR) MODULE_OGM_AUDIO MODULE_REQUANT MODULE_CODEC
+#define masked  (MODULE_3GP*0+ 0*MODULE_MPEG) //+MODULE_3GP) //(MODULE_AUDIO_EDITOR) MODULE_OGM_AUDIO MODULE_REQUANT MODULE_CODEC
 #endif
 
 #ifndef thresholdLevel



