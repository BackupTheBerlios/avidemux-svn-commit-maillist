<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r5240 -	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r5240%20-%0A%09branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters&In-Reply-To=%3C200908121751.n7CHp8j5014325%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002452.html">
   <LINK REL="Next"  HREF="002454.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r5240 -	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r5240%20-%0A%09branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters&In-Reply-To=%3C200908121751.n7CHp8j5014325%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r5240 -	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters">mean at mail.berlios.de
       </A><BR>
    <I>Wed Aug 12 19:51:08 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002452.html">[Avidemux-svn-commit] r5239 - in	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_icons: .	scalable xpm
</A></li>
        <LI>Next message: <A HREF="002454.html">[Avidemux-svn-commit] r5241 - in	branches/avidemux_2.5_branch_gruntster:	avidemux/ADM_audiocodec plugins/ADM_audioDecoders/ADM_ad_ac3	plugins/ADM_audioDecoders/ADM_ad_faad	plugins/ADM_audioDecoders/ADM_ad_mad	plugins/ADM_audioDecoders/ADM_ad_opencore_amrnb	plugins/ADM_audioDecoders/ADM_ad_opencore_amrwb	plugins/ADM_audioDecoders/ADM_ad_vorbis
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2453">[ date ]</a>
              <a href="thread.html#2453">[ thread ]</a>
              <a href="subject.html#2453">[ subject ]</a>
              <a href="author.html#2453">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2009-08-12 19:51:08 +0200 (Wed, 12 Aug 2009)
New Revision: 5240

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp
Log:
[UI/Gtk] Better looking filter dialog by JM

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp	2009-08-12 17:51:06 UTC (rev 5239)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp	2009-08-12 17:51:08 UTC (rev 5240)
@@ -62,24 +62,30 @@
 static gulong row_inserted_id;
 static gulong row_deleted_id;
 
-static void on_treeview0_row_deleted(GtkTreeModel *treemodel, GtkTreePath *arg1, gpointer user_data);
-static void on_treeview0_row_inserted(GtkTreeModel *treemodel, GtkTreePath *arg1, GtkTreeIter *arg2, gpointer user_data);
-static void on_treeview1_size_allocate(GtkWidget *widget, GtkAllocation *allocation, GtkCellRenderer *cell);
+static void on_treeActive_row_deleted(GtkTreeModel *treemodel, GtkTreePath *arg1, gpointer user_data);
+static void on_treeActive_row_inserted(GtkTreeModel *treemodel, GtkTreePath *arg1, GtkTreeIter *arg2, gpointer user_data);
+static void on_tree_size_allocate(GtkWidget *widget, GtkAllocation *allocation, GtkCellRenderer *cell);
 static void on_action (gui_act action);
 static void on_action_double_click (GtkButton * button, gpointer user_data);
 static void on_action_double_click_1 (GtkButton * button, gpointer user_data);
+static void on_action_change_category (GtkWidget *tree, gpointer user_data);
 static void updateFilterList (void);
 static VF_FILTERS getFilterFromSelection (void);
-static void wrapToolButton(GtkWidget * wid, gpointer user_data);
+static void button_clicked(GtkWidget * wid, gpointer user_data);
 //___________________________________________
 #define NB_TREE 9
+const   gint tree_width = 300;
 static  uint32_t max = 0;
-static  GtkWidget *trees[NB_TREE];
+static  GtkListStore *storeCategories;
+static  GtkWidget *treeCategories;
+static  GtkWidget *treeAvailable;
+static  GtkWidget *treeActive;
 static  GtkListStore *stores[NB_TREE];
 static  GtkTreeViewColumn *columns[NB_TREE];
 static  GtkCellRenderer *renderers[NB_TREE];
 static  int startFilter[NB_TREE];
 //___________________________________________
+static GtkWidget *createTree (const gchar *ref);
 static GtkWidget *createFilterDialog (void);
 extern GtkWidget *create_dialog1 (void);
 static GtkWidget *dialog = 0;
@@ -106,10 +112,10 @@
         GdkWMDecoration decorations=(GdkWMDecoration)0;
         gtk_widget_realize(dialog);
         gdk_window_set_decorations(dialog-&gt;window, (GdkWMDecoration)(GDK_DECOR_ALL | GDK_DECOR_MINIMIZE));
-        GdkScreen* screen = gdk_screen_get_default();
+        /*GdkScreen* screen = gdk_screen_get_default();
         gint width = gdk_screen_get_width(screen);
         if(width&gt;=1024)
-            gtk_window_set_default_size(GTK_WINDOW(dialog), 900, 600);
+            gtk_window_set_default_size(GTK_WINDOW(dialog), 900, 600);*/
         updateFilterList ();
         gtk_register_dialog (dialog);
         //gtk_widget_show (dialog);
@@ -131,25 +137,6 @@
     
 }
 
-// gtk_dialog_add_action_widget seems buggy for toolbar button
-// workaround it...
-void
-wrapToolButton(GtkWidget * wid, gpointer user_data)
-{
-        gui_act action;
-#ifdef ADM_CPU_64BIT
-#define TPE long long int
-	long long int dummy;
-#else
-        int dummy;
-#define TPE int
-#endif
-
-        dummy=(TPE)user_data;
-
-        action=(gui_act) dummy;
-        on_action(action);
-}
 //
 // One of the button of the main dialog was pressed
 // Retrieve also the associated filter and handle
@@ -163,7 +150,7 @@
     action_parameter = 0;
     if (nb_active_filter &gt; 1)
         if (getSelectionNumber(nb_active_filter - 1,
-                                WID(treeview0),
+                                WID(treeviewActive),
                                 stores[0],
                                 &amp;action_parameter))
             action_parameter++;
@@ -188,31 +175,31 @@
         videofilters[nb_active_filter].conf = coup;
         nb_active_filter++;
         updateFilterList ();
-        setSelectionNumber(nb_active_filter-1, WID(treeview0), stores[0], nb_active_filter-2);
+        setSelectionNumber(nb_active_filter-1, WID(treeviewActive), stores[0], nb_active_filter-2);
         break;
 
     case A_VCD:
         setVCD ();
         updateFilterList ();
-        setSelectionNumber(nb_active_filter-1, WID(treeview0), stores[0], nb_active_filter-2);
+        setSelectionNumber(nb_active_filter-1, WID(treeviewActive), stores[0], nb_active_filter-2);
         break;
 
     case A_SVCD:
         setSVCD ();
         updateFilterList ();
-        setSelectionNumber(nb_active_filter-1, WID(treeview0), stores[0], nb_active_filter-2);
+        setSelectionNumber(nb_active_filter-1, WID(treeviewActive), stores[0], nb_active_filter-2);
         break;
 
     case A_DVD:
         setDVD ();
         updateFilterList ();
-        setSelectionNumber(nb_active_filter-1, WID(treeview0), stores[0], nb_active_filter-2);
+        setSelectionNumber(nb_active_filter-1, WID(treeviewActive), stores[0], nb_active_filter-2);
         break;
 
     case A_HALFD1:
         setHalfD1 ();
         updateFilterList ();
-        setSelectionNumber(nb_active_filter-1, WID(treeview0), stores[0], nb_active_filter-2);
+        setSelectionNumber(nb_active_filter-1, WID(treeviewActive), stores[0], nb_active_filter-2);
         break;
 
     default:
@@ -227,7 +214,7 @@
         videofilters[action_parameter].conf = couple;
         getFirstVideoFilter ();
         updateFilterList ();
-        setSelectionNumber(nb_active_filter-1, WID(treeview0), stores[0], action_parameter-1);
+        setSelectionNumber(nb_active_filter-1, WID(treeviewActive), stores[0], action_parameter-1);
         break;
 
     case A_PARTIAL:
@@ -255,7 +242,7 @@
 			videofilters[action_parameter].tag = VF_PARTIAL_FILTER;
 			getFirstVideoFilter ();
 			updateFilterList ();
-			setSelectionNumber(nb_active_filter-1, WID(treeview0), stores[0], action_parameter-1);
+			setSelectionNumber(nb_active_filter-1, WID(treeviewActive), stores[0], action_parameter-1);
         }
         else delete replace;
         break;
@@ -272,7 +259,7 @@
         // select action_parameter -1
         updateFilterList ();
         setSelectionNumber (nb_active_filter - 1,
-			      WID(treeview0),
+			      WID(treeviewActive),
 			      stores[0], action_parameter - 2);
         break;
 
@@ -288,7 +275,7 @@
             getFirstVideoFilter ();
             updateFilterList ();
             setSelectionNumber (nb_active_filter - 1,
-			      WID(treeview0),
+			      WID(treeviewActive),
 			      stores[0], action_parameter);
         }
         break;
@@ -317,8 +304,8 @@
 		videofilters[nb_active_filter - 1].filter = NULL;
 		nb_active_filter--;
         updateFilterList ();
-        if(!setSelectionNumber(nb_active_filter-1, WID(treeview0), stores[0], action_parameter-1))
-            setSelectionNumber(nb_active_filter-1, WID(treeview0), stores[0], action_parameter-2);
+        if(!setSelectionNumber(nb_active_filter-1, WID(treeviewActive), stores[0], action_parameter-1))
+            setSelectionNumber(nb_active_filter-1, WID(treeviewActive), stores[0], action_parameter-2);
 		break;
 
     case A_DONE:
@@ -340,7 +327,7 @@
         GUI_FileSelRead (QT_TR_NOOP(&quot;Load set of filters&quot;), filterLoad);
 #endif
         updateFilterList ();
-        setSelectionNumber(nb_active_filter-1, WID(treeview0), stores[0], 0);
+        setSelectionNumber(nb_active_filter-1, WID(treeviewActive), stores[0], 0);
         break;
     case A_CLOSE:
         //gtk_widget_destroy(dialog);
@@ -372,20 +359,42 @@
 */
 VF_FILTERS getFilterFromSelection (void)
 {
-    uint32_t sel = 0;
+    uint32_t sel = 0, category = 0;
 	uint8_t ret = 0;
     VF_FILTERS tag = VF_INVALID;
     // 1- identify the current tab/treeview we are in
-    int page = gtk_notebook_get_current_page(GTK_NOTEBOOK(lookup_widget(dialog,&quot;notebook1&quot;)));
+    ret = getSelectionNumber (VF_MAX+1, treeCategories, storeCategories, &amp;category);
     // then get the selection
-    page++;
-    if ((ret = getSelectionNumber (max, trees[page], stores[page], &amp;sel)))
-	{
-        tag = filterCategories[page-1][sel]-&gt;tag;
-	}
+    category++;
+    if (ret == 1)
+    {
+        if ((ret = getSelectionNumber (max, treeAvailable, stores[category], &amp;sel)))
+        {
+            tag = filterCategories[category-1][sel]-&gt;tag;
+        }
+    }
     return tag;
 }
+
 /**
+ * 	\fn createTree
+ *  \brief Set up a TreeView for the Available and Active Filters list
+ */
+GtkWidget *createTree (const gchar *ref)
+{
+	GtkWidget *tree = lookup_widget (dialog, ref); 
+	GtkCellRenderer *renderer = gtk_cell_renderer_text_new ();
+	GtkTreeViewColumn *column = gtk_tree_view_column_new_with_attributes (&quot;&quot;, renderer, &quot;markup&quot;, (GdkModifierType) 0, NULL);
+	gtk_widget_set_size_request (tree, tree_width, -1);
+	g_object_set (renderer, &quot;ypad&quot;, 6, NULL);
+	g_object_set (renderer, &quot;wrap-width&quot;, tree_width-8, NULL);
+	g_object_set (renderer, &quot;wrap-mode&quot;, PANGO_WRAP_WORD_CHAR, NULL);
+	gtk_tree_view_append_column (GTK_TREE_VIEW(tree), column);
+	g_signal_connect (G_OBJECT(tree), &quot;size-allocate&quot;, G_CALLBACK(on_tree_size_allocate), renderer);
+	return tree;
+}
+
+/**
  * 	\fn createFilterDialog
  *  \brief Create the dialog including list of all filters available on the left.
  * 
@@ -393,114 +402,133 @@
 GtkWidget *
 createFilterDialog (void)
 {
-    dialog = create_dialog1();
+	dialog = create_dialog1();
+	GtkTreeIter iter;
 
-    //connect toolbar
-#define CALLME_TOOLBAR(x,y) gtk_signal_connect(GTK_OBJECT(WID(x)),&quot;clicked&quot;,  GTK_SIGNAL_FUNC(wrapToolButton), (void *) y);
-#define CALLME(x,y) gtk_dialog_add_action_widget (GTK_DIALOG (dialog), WID(x), y)
+	//Connect buttons from the Available and Active Filters list
+	#define CONNECT(button, action) g_signal_connect (G_OBJECT(WID(button)), &quot;clicked&quot;, G_CALLBACK(button_clicked), (void*)action);
 
+	CONNECT (buttonAdd, A_ADD)
+	CONNECT (buttonRemove, A_REMOVE)
+	CONNECT (buttonProperties, A_CONFIGURE)
+	CONNECT (buttonUp, A_UP)
+	CONNECT (buttonDown, A_DOWN)
+	CONNECT (buttonPreview, A_PREVIEW)
+	CONNECT (buttonPartial, A_PARTIAL)
+	CONNECT (buttonVCDRes, A_VCD)
+	CONNECT (buttonSVCDRes, A_SVCD)
+	CONNECT (buttonHalfD1Res, A_HALFD1)
+	CONNECT (buttonDVDRes, A_DVD)
+	CONNECT (buttonOpen, A_LOAD)
+	CONNECT (buttonSave, A_SAVE)
 
-        // Each of these triggers the following message:
-        // Gtk-CRITICAL **: gtk_box_pack_end: assertion `child-&gt;parent == NULL' failed
-        CALLME (buttonRemove,		A_REMOVE);
-        CALLME (buttonProperties,	A_CONFIGURE);
-        CALLME (buttonUp, 		A_UP);
-        CALLME (buttonDown, 		A_DOWN);
-        CALLME (buttonPreview, 		A_PREVIEW);
-        CALLME (buttonPartial, 		A_PARTIAL);
-        CALLME (buttonAdd, 		A_ADD);
-        
-        CALLME_TOOLBAR (toolbuttonHalfD1, 	A_HALFD1);
-        CALLME_TOOLBAR (toolbuttonScript, 	A_SCRIPT);
-        CALLME_TOOLBAR (toolbuttonVCD, 		A_VCD);
-        CALLME_TOOLBAR (toolbuttonSVCD, 	A_SVCD);
-        CALLME_TOOLBAR (toolbuttonDVD, 		A_DVD);
-        CALLME_TOOLBAR (toolbuttonSave, 	A_SAVE);
-        CALLME_TOOLBAR (toolbuttonScript, 	A_SAVE);
-        CALLME_TOOLBAR (toolbuttonOpen, 	A_LOAD);
-        
+	//Create TreeView with the filter categories
+	enum
+	{
+		ICON_COLUMN,
+		CATEGORY_COLUMN,
+		N_COLUMNS
+	};
 
-    //create treeviews
-    // Treeview zero is reserved and does not contain
-    //
-    trees[0]=lookup_widget(dialog,&quot;treeview0&quot;);
-    stores[0]=gtk_list_store_new (3, G_TYPE_STRING, G_TYPE_INT, G_TYPE_POINTER);
-    #define LOOK(x) {trees[x]=lookup_widget(dialog,&quot;treeview&quot;#x);\
-                    stores[x]=gtk_list_store_new (1, G_TYPE_STRING);}
-    LOOK(1);
-    LOOK(2);
-    LOOK(3);
-    LOOK(4);
-    LOOK(5);
-    LOOK(6);
-    LOOK(7);
-    LOOK(8);
+	storeCategories = gtk_list_store_new (N_COLUMNS, GDK_TYPE_PIXBUF, G_TYPE_STRING);
+	GdkPixbuf *pb;
 
-    //load stores with filter names, get start filter for each page
-    char *str=NULL;
-    GtkTreeIter iter;
-    
-    // Dispatch each category to the matching tree
-    for(int current_tree=0;current_tree&lt; VF_MAX;current_tree++)
-    {
-    	 std::vector &lt;FilterDescriptor *&gt; vec=filterCategories[current_tree];
-    	for (uint32_t i = 0; i &lt; vec.size(); i++)
-    	{		
-		 str = g_strconcat(
-				 &quot;&lt;span weight=\&quot;bold\&quot;&gt;&quot;, vec[i]-&gt;name, &quot;&lt;/span&gt;\n&quot;,
-                 &quot;&lt;span size=\&quot;smaller\&quot;&gt;&quot;, vec[i]-&gt;description, &quot;&lt;/span&gt;&quot;, NULL);
-				
-            gtk_list_store_append (stores[current_tree+1], &amp;iter);
-            gtk_list_store_set (stores[current_tree+1], &amp;iter, 0, str ,-1);
-            g_free(str);
-            max++;
-    	}
-    }
+	#define ADD_CATEGORY(icon, category) \
+		gtk_list_store_append (storeCategories, &amp;iter); \
+		pb = create_pixbuf (#icon); \
+		gtk_list_store_set (storeCategories, &amp;iter, ICON_COLUMN, pb, CATEGORY_COLUMN, QT_TR_NOOP(#category), -1);
 
-    //setup treeviews
-    for(int i=0;i&lt;VF_MAX+1;i++)
-    {
-        renderers[i] = gtk_cell_renderer_text_new();
-   		columns[i] = gtk_tree_view_column_new_with_attributes (
-                            &quot;&quot;,
-                            renderers[i],
-                            &quot;markup&quot;, (GdkModifierType) 0,
-                            NULL);
-		gtk_cell_renderer_text_set_fixed_height_from_font
-			(GTK_CELL_RENDERER_TEXT(renderers[i]), 3);
-        g_object_set(renderers[i], &quot;wrap-width&quot;, 0, NULL);
-        gtk_tree_view_append_column(GTK_TREE_VIEW (trees[i]), columns[i]);
-        gtk_tree_view_set_model(GTK_TREE_VIEW(trees[i]),GTK_TREE_MODEL (stores[i]));
+	ADD_CATEGORY (1.png, Transform)
+	ADD_CATEGORY (2.png, Interlacing)
+	ADD_CATEGORY (4.png, Colors)
+	ADD_CATEGORY (5.png, Noise)
+	ADD_CATEGORY (3.png, Sharpness)
+	ADD_CATEGORY (7.png, Subtitles)
+	ADD_CATEGORY (6.png, Miscellaneous)
+	ADD_CATEGORY (film1.xpm, External)
 
-		// Add double click, 0 is active filter tree
-        if(i)
-        	g_signal_connect (G_OBJECT(trees[i]),
-                      &quot;row-activated&quot;,
-                      G_CALLBACK(on_action_double_click),
-                      (void *) dialog);
-  		else
-  		{
-            gtk_tree_view_set_reorderable(GTK_TREE_VIEW(trees[i]), true);
-  			g_signal_connect(G_OBJECT(WID(treeview0)),
-  						&quot;row-activated&quot;,
-        				G_CALLBACK(on_action_double_click_1),
-        				(void *)NULL);
-   			row_inserted_id=g_signal_connect(G_OBJECT(stores[i]),
-  						&quot;row-inserted&quot;,
-        				G_CALLBACK(on_treeview0_row_inserted),
-        				(void *)NULL);
-   			row_deleted_id=g_signal_connect(G_OBJECT(stores[i]),
-  						&quot;row-deleted&quot;,
-        				G_CALLBACK(on_treeview0_row_deleted),
-        				(void *)NULL);
-  		}
-        g_signal_connect(G_OBJECT(trees[i]),
-                      &quot;size-allocate&quot;,
-                      G_CALLBACK(on_treeview1_size_allocate),
-                      renderers[i]);
-    }
+	treeCategories = lookup_widget (dialog, &quot;mainTree&quot;);
+	gtk_tree_view_set_model (GTK_TREE_VIEW(treeCategories), GTK_TREE_MODEL(storeCategories));
+	gtk_tree_view_set_headers_visible (GTK_TREE_VIEW(treeCategories), FALSE);
+
+	GtkCellRenderer *renderer;
+	renderer = gtk_cell_renderer_pixbuf_new();
+
+	GtkTreeViewColumn *column;
+	column = gtk_tree_view_column_new ();
+	gtk_tree_view_append_column (GTK_TREE_VIEW(treeCategories), column);
+	gtk_tree_view_column_pack_start (column, renderer, TRUE);
+	gtk_tree_view_column_add_attribute (column, renderer, &quot;pixbuf&quot;, ICON_COLUMN);
+
+	column = gtk_tree_view_column_new ();
+	gtk_tree_view_append_column (GTK_TREE_VIEW(treeCategories), column);
+
+	renderer = gtk_cell_renderer_text_new ();
+	gtk_tree_view_column_pack_start (column, renderer, TRUE);
+	gtk_tree_view_column_add_attribute (column, renderer, &quot;text&quot;, CATEGORY_COLUMN);
+	g_object_set (renderer, &quot;ypad&quot;, 6, NULL);
+
+	//Create ListStores with filters, store zero is the Active Filters list
+	stores[0]=gtk_list_store_new (3, G_TYPE_STRING, G_TYPE_INT, G_TYPE_POINTER);
+
+	#define CREATE_STORE(x) stores[x] = gtk_list_store_new (1, G_TYPE_STRING);
+
+	CREATE_STORE (1)
+	CREATE_STORE (2)
+	CREATE_STORE (3)
+	CREATE_STORE (4)
+	CREATE_STORE (5)
+	CREATE_STORE (6)
+	CREATE_STORE (7)
+	CREATE_STORE (8)
+
+	//load stores with filter names, get start filter for each page
+	char *str=NULL;
+
+	// Dispatch each category to the matching tree
+	for(int current_tree=0;current_tree&lt; VF_MAX;current_tree++)
+	{
+		std::vector &lt;FilterDescriptor *&gt; vec=filterCategories[current_tree];
+		for (uint32_t i = 0; i &lt; vec.size(); i++)
+		{
+			str = g_strconcat(
+				&quot;&lt;span weight=\&quot;bold\&quot;&gt;&quot;, vec[i]-&gt;name, &quot;&lt;/span&gt;\n&quot;,
+				&quot;&lt;span size=\&quot;smaller\&quot;&gt;&quot;, vec[i]-&gt;description, &quot;&lt;/span&gt;&quot;, NULL);
+
+			gtk_list_store_append (stores[current_tree+1], &amp;iter);
+			gtk_list_store_set (stores[current_tree+1], &amp;iter, 0, str ,-1);
+			g_free(str);
+			max++;
+		}
+	}
+
+	//Create TreeViews with available and active filters
+	treeAvailable = createTree (&quot;treeviewAvailable&quot;);
+	g_signal_connect (G_OBJECT(treeAvailable), &quot;row-activated&quot;, G_CALLBACK(on_action_double_click), (void *) dialog);
+	g_signal_connect (G_OBJECT(treeCategories), &quot;cursor-changed&quot;, G_CALLBACK(on_action_change_category), NULL);
+
+	treeActive = createTree (&quot;treeviewActive&quot;);
+	gtk_tree_view_set_model (GTK_TREE_VIEW(treeActive), GTK_TREE_MODEL(stores[0]));
+	gtk_tree_view_set_reorderable (GTK_TREE_VIEW(treeActive), true);
+	g_signal_connect (G_OBJECT(treeActive), 
+		&quot;row-activated&quot;, G_CALLBACK(on_action_double_click_1), 
+		(void *)NULL);
+	row_inserted_id = g_signal_connect (G_OBJECT(stores[0]), 
+		&quot;row-inserted&quot;, 
+		G_CALLBACK(on_treeActive_row_inserted), 
+		(void *)NULL);
+	row_deleted_id = g_signal_connect (G_OBJECT(stores[0]), 
+		&quot;row-deleted&quot;, 
+		G_CALLBACK(on_treeActive_row_deleted), 
+		(void *)NULL);
+
+	//Select the first category in treeCategories and show its filters in treeAvailable
+	gtk_widget_grab_focus (treeCategories);
+	GtkTreePath *gp = gtk_tree_path_new_first ();
+	gtk_tree_view_set_cursor (GTK_TREE_VIEW(treeCategories), gp, NULL, TRUE);
     return dialog;
 }
+
 /**
  * 	\fn updateFilterList
  *  \brief Update the list of activated filters
@@ -573,21 +601,30 @@
 }
 
 void
+on_action_change_category (GtkWidget * tree, gpointer user_data)
+{
+	GtkAdjustment *adj = gtk_scrolled_window_get_vadjustment (GTK_SCROLLED_WINDOW(WID(scrolledwindowAvailable)));
+	gtk_adjustment_set_value (adj, 0);
+
+	uint32_t number = 0;
+	if (getSelectionNumber (VF_MAX+1, tree, storeCategories, &amp;number))
+		gtk_tree_view_set_model (GTK_TREE_VIEW(treeAvailable), GTK_TREE_MODEL(stores[number+1]));
+}
+
+void
 on_action_double_click_1 (GtkButton * button, gpointer user_data)
 {
     on_action(A_DOUBLECLICK);
 }
 
 void
-on_treeview1_size_allocate(GtkWidget *widget, GtkAllocation *allocation, GtkCellRenderer *cell)
+on_tree_size_allocate(GtkWidget *widget, GtkAllocation *allocation, GtkCellRenderer *cell)
 {
-    g_object_set(cell,
-              &quot;wrap-width&quot;, allocation-&gt;width-8,
-              NULL);
+	g_object_set (cell, &quot;wrap-width&quot;, allocation-&gt;width-8, NULL);
 }
 
 void
-on_treeview0_row_deleted(GtkTreeModel *treemodel, GtkTreePath *arg1, gpointer user_data)
+on_treeActive_row_deleted(GtkTreeModel *treemodel, GtkTreePath *arg1, gpointer user_data)
 {
     GtkTreeIter iter;
     VF_FILTERS				tag;
@@ -614,10 +651,24 @@
     //on_action(A_REORDERED);
 }
 void
-on_treeview0_row_inserted(GtkTreeModel *treemodel, GtkTreePath *arg1, GtkTreeIter *arg2, gpointer user_data)
+on_treeActive_row_inserted(GtkTreeModel *treemodel, GtkTreePath *arg1, GtkTreeIter *arg2, gpointer user_data)
 {
 
 
 }
 
+static void button_clicked(GtkWidget * wid, gpointer user_data)
+{
+	gui_act action;
+#ifdef ADM_CPU_64BIT
+#define TPE long long int
+	long long int dummy;
+#else
+	int dummy;
+#define TPE int
+#endif
+	dummy=(TPE)user_data;
+	action=(gui_act) dummy;
 
+	on_action(action);
+}

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp	2009-08-12 17:51:06 UTC (rev 5239)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp	2009-08-12 17:51:08 UTC (rev 5240)
@@ -17,100 +17,57 @@
 #define GLADE_HOOKUP_OBJECT_NO_REF(component,widget,name) \
   g_object_set_data (G_OBJECT (component), name, widget)
 
-#define GLADE_HOOKUP_OBJECT(component,widget,name) \
-  g_object_set_data_full (G_OBJECT (component), name, \
-    gtk_widget_ref (widget), (GDestroyNotify) gtk_widget_unref)
-
-#define GLADE_HOOKUP_OBJECT_NO_REF(component,widget,name) \
-  g_object_set_data (G_OBJECT (component), name, widget)
-
 GtkWidget*
 create_dialog1 (void)
 {
   GtkWidget *dialog1;
   GtkWidget *dialog_vbox1;
-  GtkWidget *vbox3b;
-  GtkWidget *toolbar1;
-  GtkIconSize tmp_toolbar_icon_size;
-  GtkWidget *toolbuttonOpen;
-  GtkWidget *toolbuttonSave;
+  GtkWidget *vbox1;
+  GtkWidget *vbox2;
   GtkWidget *tmp_image;
-  GtkWidget *toolbuttonScript;
-  GtkWidget *toolbuttonDVD;
-  GtkWidget *toolbuttonHalfD1;
-  GtkWidget *toolbuttonSVCD;
-  GtkWidget *toolbuttonVCD;
-  GtkWidget *hbox11;
-  GtkWidget *frame1;
+  GtkWidget *hbox1;
   GtkWidget *alignment1;
-  GtkWidget *vbox2;
-  GtkWidget *notebook1;
-  GtkWidget *scrolledwindow1;
-  GtkWidget *treeview1;
-  GtkWidget *hbox5;
-  GtkWidget *image1;
-  GtkWidget *label11;
-  GtkWidget *scrolledwindow2;
-  GtkWidget *treeview2;
-  GtkWidget *hbox6;
-  GtkWidget *image2;
-  GtkWidget *label17;
-  GtkWidget *scrolledwindow3;
-  GtkWidget *treeview3;
-  GtkWidget *hbox7;
-  GtkWidget *image3;
-  GtkWidget *label18;
-  GtkWidget *scrolledwindow4;
-  GtkWidget *treeview4;
-  GtkWidget *hbox8;
-  GtkWidget *image4;
-  GtkWidget *label19;
-  GtkWidget *scrolledwindow5;
-  GtkWidget *treeview5;
-  GtkWidget *hbox9;
-  GtkWidget *image5;
-  GtkWidget *label20;
-  GtkWidget *scrolledwindow6;
-  GtkWidget *treeview6;
-  GtkWidget *hbox10;
-  GtkWidget *image6;
-  GtkWidget *label21;
-  GtkWidget *scrolledwindow7;
-  GtkWidget *treeview7;
-  GtkWidget *hbox4;
-  GtkWidget *image7;
-  GtkWidget *label22;
-  GtkWidget *treeview8;
-  GtkWidget *label28;
-  GtkWidget *hbox13;
+  GtkWidget *table1;
+  GtkWidget *vbox3;
+  GtkWidget *table2;
+  GtkWidget *scrolledwindowAvailable;
+  GtkWidget *treeviewAvailable;
+  GtkWidget *buttonVCDRes;
+  GtkWidget *buttonSVCDRes;
+  GtkWidget *buttonHalfD1Res;
+  GtkWidget *hbox2;
+  GtkWidget *label1;
+  GtkWidget *buttonDVDRes;
+  GtkWidget *frame1;
+  GtkWidget *mainTree;
+  GtkWidget *hboxActionAvailable;
   GtkWidget *buttonAdd;
-  GtkWidget *image11;
-  GtkWidget *label23;
-  GtkWidget *frame2;
+  GtkWidget *image1;
+  GtkWidget *labelAvailable;
   GtkWidget *alignment2;
-  GtkWidget *hbox1;
-  GtkWidget *vbox3;
-  GtkWidget *scrolledwindow9;
-  GtkWidget *treeview0;
-  GtkWidget *hbox14;
+  GtkWidget *vbox4;
+  GtkWidget *scrolledwindowActive;
+  GtkWidget *treeviewActive;
+  GtkWidget *hboxActionActive;
   GtkWidget *buttonRemove;
-  GtkWidget *image15;
+  GtkWidget *image2;
   GtkWidget *buttonDown;
-  GtkWidget *image14;
+  GtkWidget *image3;
   GtkWidget *buttonUp;
-  GtkWidget *image13;
+  GtkWidget *image4;
+  GtkWidget *buttonOpen;
+  GtkWidget *buttonSave;
   GtkWidget *buttonPartial;
   GtkWidget *buttonProperties;
-  GtkWidget *alignment4;
-  GtkWidget *hbox16;
-  GtkWidget *label25;
+  GtkWidget *alignment3;
+  GtkWidget *hbox3;
   GtkWidget *label2;
+  GtkWidget *labelActive;
   GtkWidget *dialog_action_area1;
   GtkWidget *buttonPreview;
-  GtkWidget *alignment5;
-  GtkWidget *hbox17;
-  GtkWidget *image17;
-  GtkWidget *label26;
+  GtkWidget *alignment4;
+  GtkWidget *image5;
+  GtkWidget *label3;
   GtkWidget *buttonClose;
   GtkAccelGroup *accel_group;
   GtkTooltips *tooltips;
@@ -129,404 +86,208 @@
   gtk_box_set_spacing (GTK_BOX(dialog_vbox1), 12);
   gtk_widget_show (dialog_vbox1);
 
-  vbox3b = gtk_vbox_new (FALSE, 12);
-  gtk_widget_show (vbox3b);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), vbox3b, TRUE, TRUE, 0);
-  gtk_container_set_border_width (GTK_CONTAINER (vbox3b), 6);
+  hbox1 = gtk_hbox_new (FALSE, 12);
+  gtk_container_set_border_width (GTK_CONTAINER (hbox1), 6);
+  gtk_widget_show (hbox1);
+  gtk_box_pack_start (GTK_BOX (dialog_vbox1), hbox1, TRUE, TRUE, 0);
 
-  toolbar1 = gtk_toolbar_new ();
-  gtk_widget_show (toolbar1);
-  gtk_box_pack_start (GTK_BOX (vbox3b), toolbar1, FALSE, FALSE, 0);
-  gtk_toolbar_set_style (GTK_TOOLBAR (toolbar1), GTK_TOOLBAR_BOTH);
-  tmp_toolbar_icon_size = gtk_toolbar_get_icon_size (GTK_TOOLBAR (toolbar1));
+  vbox1 = gtk_vbox_new (FALSE, 0);
+  gtk_widget_show (vbox1);
+  gtk_box_pack_start (GTK_BOX (hbox1), vbox1, TRUE, TRUE, 0);
 
-  toolbuttonOpen = (GtkWidget*) gtk_tool_button_new_from_stock (&quot;gtk-open&quot;);
-  gtk_widget_show (toolbuttonOpen);
-  gtk_container_add (GTK_CONTAINER (toolbar1), toolbuttonOpen);
-  gtk_tool_item_set_tooltip (GTK_TOOL_ITEM (toolbuttonOpen), tooltips, QT_TR_NOOP(&quot;Open filter list [Ctrl-O]&quot;), NULL);
-  gtk_widget_add_accelerator (toolbuttonOpen, &quot;clicked&quot;, accel_group,
-                              GDK_O, (GdkModifierType) GDK_CONTROL_MASK,
-                              GTK_ACCEL_VISIBLE);
-  gtk_tool_item_set_is_important (GTK_TOOL_ITEM (toolbuttonOpen), TRUE);
+  vbox2 = gtk_vbox_new (FALSE, 0);
+  gtk_widget_show (vbox2);
+  gtk_box_pack_start (GTK_BOX (hbox1), vbox2, TRUE, TRUE, 0);
 
-  toolbuttonSave = (GtkWidget*) gtk_tool_button_new_from_stock (&quot;gtk-save&quot;);
-  gtk_widget_show (toolbuttonSave);
-  gtk_container_add (GTK_CONTAINER (toolbar1), toolbuttonSave);
-  gtk_tool_item_set_tooltip (GTK_TOOL_ITEM (toolbuttonSave), tooltips, QT_TR_NOOP(&quot;Save filter list [Ctrl-S]&quot;), NULL);
-  gtk_widget_add_accelerator (toolbuttonSave, &quot;clicked&quot;, accel_group,
-                              GDK_S, (GdkModifierType) GDK_CONTROL_MASK,
-                              GTK_ACCEL_VISIBLE);
-  gtk_tool_item_set_is_important (GTK_TOOL_ITEM (toolbuttonSave), TRUE);
+  labelAvailable = gtk_label_new (QT_TR_NOOP(&quot;&lt;b&gt;Available Filters&lt;/b&gt;&quot;));
+  gtk_label_set_use_markup (GTK_LABEL (labelAvailable), TRUE);
+  gtk_misc_set_alignment (GTK_MISC (labelAvailable), 0, 0);
+  gtk_box_pack_start (GTK_BOX (vbox1), labelAvailable, FALSE, FALSE, 0);
+  gtk_widget_show (labelAvailable);
 
-  tmp_image = gtk_image_new_from_stock (&quot;gtk-save-as&quot;, tmp_toolbar_icon_size);
-  gtk_widget_show (tmp_image);
-  toolbuttonScript = (GtkWidget*) gtk_tool_button_new (tmp_image, QT_TR_NOOP(&quot;Save Script&quot;));
-  gtk_widget_show (toolbuttonScript);
-  gtk_container_add (GTK_CONTAINER (toolbar1), toolbuttonScript);
-  gtk_tool_item_set_tooltip (GTK_TOOL_ITEM (toolbuttonScript), tooltips, QT_TR_NOOP(&quot;Save as script [Ctrl-J]&quot;), NULL);
-  gtk_widget_add_accelerator (toolbuttonScript, &quot;clicked&quot;, accel_group,
-                              GDK_J, (GdkModifierType) GDK_CONTROL_MASK,
-                              GTK_ACCEL_VISIBLE);
-  gtk_tool_item_set_is_important (GTK_TOOL_ITEM (toolbuttonScript), TRUE);
+  alignment1 = gtk_alignment_new (0, 0, 1, 1);
+  gtk_alignment_set_padding (GTK_ALIGNMENT (alignment1), 6, 0, 18, 0);
+  gtk_box_pack_start (GTK_BOX (vbox1), alignment1, TRUE, TRUE, 0);
+  gtk_widget_show (alignment1);
 
-  tmp_image = gtk_image_new_from_stock (&quot;gtk-cdrom&quot;, tmp_toolbar_icon_size);
-  gtk_widget_show (tmp_image);
-  toolbuttonDVD = (GtkWidget*) gtk_tool_button_new (tmp_image, QT_TR_NOOP(&quot;DVD Res&quot;));
-  gtk_widget_show (toolbuttonDVD);
-  gtk_container_add (GTK_CONTAINER (toolbar1), toolbuttonDVD);
-  gtk_tool_item_set_tooltip (GTK_TOOL_ITEM (toolbuttonDVD), tooltips, QT_TR_NOOP(&quot;DVD resolution [Ctrl-1]&quot;), NULL);
-  gtk_widget_add_accelerator (toolbuttonDVD, &quot;clicked&quot;, accel_group,
-                              GDK_1, (GdkModifierType) GDK_CONTROL_MASK,
-                              GTK_ACCEL_VISIBLE);
-  gtk_tool_item_set_is_important (GTK_TOOL_ITEM (toolbuttonDVD), TRUE);
+  table1 = gtk_table_new (2, 2, FALSE);
+  gtk_table_set_row_spacings (GTK_TABLE (table1), 6);
+  gtk_table_set_col_spacings (GTK_TABLE (table1), 6);
+  gtk_container_add (GTK_CONTAINER (alignment1), table1);
+  gtk_widget_show (table1);
 
-  tmp_image = gtk_image_new_from_stock (&quot;gtk-cdrom&quot;, tmp_toolbar_icon_size);
-  gtk_widget_show (tmp_image);
-  toolbuttonHalfD1 = (GtkWidget*) gtk_tool_button_new (tmp_image, QT_TR_NOOP(&quot;Half D1 Res&quot;));
-  gtk_widget_show (toolbuttonHalfD1);
-  gtk_container_add (GTK_CONTAINER (toolbar1), toolbuttonHalfD1);
-  gtk_tool_item_set_tooltip (GTK_TOOL_ITEM (toolbuttonHalfD1), tooltips, QT_TR_NOOP(&quot;Half D1 resolution [Ctrl-2]&quot;), NULL);
-  gtk_widget_add_accelerator (toolbuttonHalfD1, &quot;clicked&quot;, accel_group,
-                              GDK_2, (GdkModifierType) GDK_CONTROL_MASK,
-                              GTK_ACCEL_VISIBLE);
-  gtk_tool_item_set_is_important (GTK_TOOL_ITEM (toolbuttonHalfD1), TRUE);
+  vbox3 = gtk_vbox_new (FALSE, 6);
+  gtk_table_attach (GTK_TABLE(table1), vbox3, 0, 1, 0, 1, GTK_SHRINK, GTK_FILL, 0, 0);
+  gtk_widget_show (vbox3);
 
-  tmp_image = gtk_image_new_from_stock (&quot;gtk-cdrom&quot;, tmp_toolbar_icon_size);
-  gtk_widget_show (tmp_image);
-  toolbuttonSVCD = (GtkWidget*) gtk_tool_button_new (tmp_image, QT_TR_NOOP(&quot;SVCD Res&quot;));
-  gtk_widget_show (toolbuttonSVCD);
-  gtk_container_add (GTK_CONTAINER (toolbar1), toolbuttonSVCD);
-  gtk_tool_item_set_tooltip (GTK_TOOL_ITEM (toolbuttonSVCD), tooltips, QT_TR_NOOP(&quot;SVCD resolution [Ctrl-3]&quot;), NULL);
-  gtk_widget_add_accelerator (toolbuttonSVCD, &quot;clicked&quot;, accel_group,
-                              GDK_3, (GdkModifierType) GDK_CONTROL_MASK,
-                              GTK_ACCEL_VISIBLE);
-  gtk_tool_item_set_is_important (GTK_TOOL_ITEM (toolbuttonSVCD), TRUE);
-
-  tmp_image = gtk_image_new_from_stock (&quot;gtk-cdrom&quot;, tmp_toolbar_icon_size);
-  gtk_widget_show (tmp_image);
-  toolbuttonVCD = (GtkWidget*) gtk_tool_button_new (tmp_image, QT_TR_NOOP(&quot;VCD Res&quot;));
-  gtk_widget_show (toolbuttonVCD);
-  gtk_container_add (GTK_CONTAINER (toolbar1), toolbuttonVCD);
-  gtk_tool_item_set_tooltip (GTK_TOOL_ITEM (toolbuttonVCD), tooltips, QT_TR_NOOP(&quot;VCD resolution [Ctrl-4]&quot;), NULL);
-  gtk_widget_add_accelerator (toolbuttonVCD, &quot;clicked&quot;, accel_group,
-                              GDK_4, (GdkModifierType) GDK_CONTROL_MASK,
-                              GTK_ACCEL_VISIBLE);
-  gtk_tool_item_set_is_important (GTK_TOOL_ITEM (toolbuttonVCD), TRUE);
-
-  hbox11 = gtk_hbox_new (FALSE, 12);
-  gtk_widget_show (hbox11);
-  gtk_box_pack_start (GTK_BOX (vbox3b), hbox11, TRUE, TRUE, 0);
-
   frame1 = gtk_frame_new (NULL);
+  gtk_frame_set_shadow_type (GTK_FRAME(frame1), GTK_SHADOW_IN);
   gtk_widget_show (frame1);
-  gtk_box_pack_start (GTK_BOX (hbox11), frame1, TRUE, TRUE, 0);
-  gtk_frame_set_shadow_type (GTK_FRAME (frame1), GTK_SHADOW_NONE);
+  gtk_box_pack_start (GTK_BOX (vbox3), frame1, TRUE, TRUE, 0);
 
-  alignment1 = gtk_alignment_new (0.5, 0.5, 1, 1);
-  gtk_widget_show (alignment1);
-  gtk_container_add (GTK_CONTAINER (frame1), alignment1);
-  gtk_alignment_set_padding (GTK_ALIGNMENT (alignment1), 6, 0, 18, 0);
+  mainTree =  gtk_tree_view_new ();
+  gtk_tree_view_set_headers_visible (GTK_TREE_VIEW(mainTree), FALSE);
+  gtk_tree_view_set_enable_search (GTK_TREE_VIEW (mainTree), FALSE);
+  gtk_widget_show (mainTree);
+  gtk_container_add (GTK_CONTAINER (frame1), mainTree);
+  
+  table2 = gtk_table_new (2, 2, TRUE);
+  gtk_table_set_row_spacings (GTK_TABLE(table2), 6);
+  gtk_table_set_col_spacings (GTK_TABLE(table2), 6);
+  gtk_widget_show (table2);
+  gtk_box_pack_start (GTK_BOX (vbox3), table2, FALSE, FALSE, 0);
 
-  vbox2 = gtk_vbox_new (FALSE, 6);
-  gtk_widget_show (vbox2);
-  gtk_container_add (GTK_CONTAINER (alignment1), vbox2);
+  buttonVCDRes = gtk_button_new_with_mnemonic (QT_TR_NOOP(&quot;_VCD&quot;));
+  gtk_tooltips_set_tip (tooltips, buttonVCDRes, QT_TR_NOOP(&quot;VCD resolution&quot;), NULL);
+  gtk_widget_show (buttonVCDRes);
+  gtk_table_attach_defaults (GTK_TABLE(table2), buttonVCDRes, 0, 1, 0, 1);
 
-  notebook1 = gtk_notebook_new ();
-  gtk_widget_show (notebook1);
-  gtk_box_pack_start (GTK_BOX (vbox2), notebook1, TRUE, TRUE, 0);
-  gtk_notebook_set_show_border (GTK_NOTEBOOK (notebook1), FALSE);
-  gtk_notebook_set_tab_pos (GTK_NOTEBOOK (notebook1), GTK_POS_LEFT);
+  buttonSVCDRes = gtk_button_new_with_mnemonic (QT_TR_NOOP(&quot;_SVCD&quot;));
+  gtk_tooltips_set_tip (tooltips, buttonSVCDRes, QT_TR_NOOP(&quot;SVCD resolution&quot;), NULL);
+  gtk_widget_show (buttonSVCDRes);
+  gtk_table_attach_defaults (GTK_TABLE(table2), buttonSVCDRes, 1, 2, 0, 1);
 
-  scrolledwindow1 = gtk_scrolled_window_new (NULL, NULL);
-  gtk_widget_show (scrolledwindow1);
-  gtk_container_add (GTK_CONTAINER (notebook1), scrolledwindow1);
-  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow1), GTK_POLICY_NEVER, GTK_POLICY_AUTOMATIC);
+  buttonHalfD1Res = gtk_button_new ();
+  gtk_tooltips_set_tip (tooltips, buttonHalfD1Res, QT_TR_NOOP(&quot;Half D1 resolution&quot;), NULL);
+  gtk_widget_show (buttonHalfD1Res);
+  hbox2 = gtk_hbox_new (FALSE, 2);
+  gtk_widget_show (hbox2);
+  gtk_container_add (GTK_CONTAINER (buttonHalfD1Res), hbox2);
+  label1 = gtk_label_new_with_mnemonic (QT_TR_NOOP(&quot;&lt;sup&gt;1&lt;/sup&gt;/&lt;sub&gt;2&lt;/sub&gt; D_1&quot;));
+  gtk_label_set_use_markup (GTK_LABEL(label1), TRUE);
+  gtk_widget_show (label1);
+  gtk_box_pack_start (GTK_BOX (hbox2), label1, FALSE, FALSE, 0);
+  gtk_table_attach_defaults (GTK_TABLE(table2), buttonHalfD1Res, 0, 1, 1, 2);
 
-  treeview1 = gtk_tree_view_new ();
-  gtk_widget_show (treeview1);
-  gtk_container_add (GTK_CONTAINER (scrolledwindow1), treeview1);
-  gtk_widget_set_size_request (treeview1, 288, 336);
-  gtk_tree_view_set_headers_visible (GTK_TREE_VIEW (treeview1), FALSE);
-  gtk_tree_view_set_rules_hint (GTK_TREE_VIEW (treeview1), TRUE);
-  gtk_tree_view_set_enable_search (GTK_TREE_VIEW (treeview1), FALSE);
+  buttonDVDRes = gtk_button_new_with_mnemonic (QT_TR_NOOP(&quot;_DVD&quot;));
+  gtk_tooltips_set_tip (tooltips, buttonDVDRes, QT_TR_NOOP(&quot;DVD resolution&quot;), NULL);
+  gtk_widget_show (buttonDVDRes);
+  gtk_table_attach_defaults (GTK_TABLE(table2), buttonDVDRes, 1, 2, 1, 2);
 
-  hbox5 = gtk_hbox_new (FALSE, 0);
-  gtk_widget_show (hbox5);
-  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook1), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook1), 0), hbox5);
+  scrolledwindowAvailable = gtk_scrolled_window_new (NULL, NULL);
+  gtk_table_attach_defaults (GTK_TABLE(table1), scrolledwindowAvailable, 1, 2, 0, 1);
+  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindowAvailable), GTK_POLICY_NEVER, GTK_POLICY_AUTOMATIC);
+  gtk_scrolled_window_set_shadow_type (GTK_SCROLLED_WINDOW (scrolledwindowAvailable), GTK_SHADOW_IN);
+  gtk_widget_show (scrolledwindowAvailable);
 
-  image1 = create_pixmap (dialog1, &quot;1.png&quot;);
-  gtk_widget_show (image1);
-  gtk_box_pack_start (GTK_BOX (hbox5), image1, FALSE, FALSE, 0);
+  treeviewAvailable = gtk_tree_view_new ();
+  gtk_widget_show (treeviewAvailable);
+  gtk_container_add (GTK_CONTAINER (scrolledwindowAvailable), treeviewAvailable);
+  gtk_tree_view_set_headers_visible (GTK_TREE_VIEW (treeviewAvailable), FALSE);
+  gtk_tree_view_set_rules_hint (GTK_TREE_VIEW (treeviewAvailable), TRUE);
+  gtk_tree_view_set_enable_search (GTK_TREE_VIEW (treeviewAvailable), FALSE);
 
-  label11 = gtk_label_new_with_mnemonic (QT_TR_NOOP(&quot;Transform&quot;));
-  gtk_widget_show (label11);
-  gtk_box_pack_start (GTK_BOX (hbox5), label11, FALSE, FALSE, 4);
-  gtk_label_set_use_markup (GTK_LABEL (label11), TRUE);
+  hboxActionAvailable = gtk_hbox_new (FALSE, 6);
+  gtk_widget_show (hboxActionAvailable);
+  gtk_table_attach (GTK_TABLE(table1), hboxActionAvailable, 1, 2, 1, 2, GTK_FILL, GTK_FILL, 0, 0);
 
-  scrolledwindow2 = gtk_scrolled_window_new (NULL, NULL);
-  gtk_widget_show (scrolledwindow2);
-  gtk_container_add (GTK_CONTAINER (notebook1), scrolledwindow2);
-  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow2), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);
-
-  treeview2 = gtk_tree_view_new ();
-  gtk_widget_show (treeview2);
-  gtk_container_add (GTK_CONTAINER (scrolledwindow2), treeview2);
-  gtk_tree_view_set_headers_visible (GTK_TREE_VIEW (treeview2), FALSE);
-  gtk_tree_view_set_rules_hint (GTK_TREE_VIEW (treeview2), TRUE);
-  gtk_tree_view_set_enable_search (GTK_TREE_VIEW (treeview2), FALSE);
-
-  hbox6 = gtk_hbox_new (FALSE, 0);
-  gtk_widget_show (hbox6);
-  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook1), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook1), 1), hbox6);
-
-  image2 = create_pixmap (dialog1, &quot;2.png&quot;);
-  gtk_widget_show (image2);
-  gtk_box_pack_start (GTK_BOX (hbox6), image2, FALSE, FALSE, 0);
-
-  label17 = gtk_label_new_with_mnemonic (QT_TR_NOOP(&quot;Interlacing&quot;));
-  gtk_widget_show (label17);
-  gtk_box_pack_start (GTK_BOX (hbox6), label17, FALSE, FALSE, 4);
-
-  scrolledwindow3 = gtk_scrolled_window_new (NULL, NULL);
-  gtk_widget_show (scrolledwindow3);
-  gtk_container_add (GTK_CONTAINER (notebook1), scrolledwindow3);
-  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow3), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);
-
-  treeview3 = gtk_tree_view_new ();
-  gtk_widget_show (treeview3);
-  gtk_container_add (GTK_CONTAINER (scrolledwindow3), treeview3);
-  gtk_tree_view_set_headers_visible (GTK_TREE_VIEW (treeview3), FALSE);
-  gtk_tree_view_set_rules_hint (GTK_TREE_VIEW (treeview3), TRUE);
-  gtk_tree_view_set_enable_search (GTK_TREE_VIEW (treeview3), FALSE);
-
-  hbox7 = gtk_hbox_new (FALSE, 0);
-  gtk_widget_show (hbox7);
-  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook1), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook1), 2), hbox7);
-
-  image3 = create_pixmap (dialog1, &quot;4.png&quot;);
-  gtk_widget_show (image3);
-  gtk_box_pack_start (GTK_BOX (hbox7), image3, FALSE, FALSE, 0);
-
-  label18 = gtk_label_new_with_mnemonic (QT_TR_NOOP(&quot;Colors&quot;));
-  gtk_widget_show (label18);
-  gtk_box_pack_start (GTK_BOX (hbox7), label18, FALSE, FALSE, 4);
-
-  scrolledwindow4 = gtk_scrolled_window_new (NULL, NULL);
-  gtk_widget_show (scrolledwindow4);
-  gtk_container_add (GTK_CONTAINER (notebook1), scrolledwindow4);
-  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow4), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);
-
-  treeview4 = gtk_tree_view_new ();
-  gtk_widget_show (treeview4);
-  gtk_container_add (GTK_CONTAINER (scrolledwindow4), treeview4);
-  gtk_tree_view_set_headers_visible (GTK_TREE_VIEW (treeview4), FALSE);
-  gtk_tree_view_set_rules_hint (GTK_TREE_VIEW (treeview4), TRUE);
-  gtk_tree_view_set_enable_search (GTK_TREE_VIEW (treeview4), FALSE);
-
-  hbox8 = gtk_hbox_new (FALSE, 0);
-  gtk_widget_show (hbox8);
-  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook1), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook1), 3), hbox8);
-
-  image4 = create_pixmap (dialog1, &quot;5.png&quot;);
-  gtk_widget_show (image4);
-  gtk_box_pack_start (GTK_BOX (hbox8), image4, FALSE, FALSE, 0);
-
-  label19 = gtk_label_new_with_mnemonic (QT_TR_NOOP(&quot;Noise&quot;));
-  gtk_widget_show (label19);
-  gtk_box_pack_start (GTK_BOX (hbox8), label19, FALSE, FALSE, 4);
-
-  scrolledwindow5 = gtk_scrolled_window_new (NULL, NULL);
-  gtk_widget_show (scrolledwindow5);
-  gtk_container_add (GTK_CONTAINER (notebook1), scrolledwindow5);
-  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow5), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);
-
-  treeview5 = gtk_tree_view_new ();
-  gtk_widget_show (treeview5);
-  gtk_container_add (GTK_CONTAINER (scrolledwindow5), treeview5);
-  gtk_tree_view_set_headers_visible (GTK_TREE_VIEW (treeview5), FALSE);
-  gtk_tree_view_set_rules_hint (GTK_TREE_VIEW (treeview5), TRUE);
-  gtk_tree_view_set_enable_search (GTK_TREE_VIEW (treeview5), FALSE);
-
-  hbox9 = gtk_hbox_new (FALSE, 0);
-  gtk_widget_show (hbox9);
-  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook1), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook1), 4), hbox9);
-
-  image5 = create_pixmap (dialog1, &quot;3.png&quot;);
-  gtk_widget_show (image5);
-  gtk_box_pack_start (GTK_BOX (hbox9), image5, FALSE, FALSE, 0);
-
-  label20 = gtk_label_new_with_mnemonic (QT_TR_NOOP(&quot;Sharpness&quot;));
-  gtk_widget_show (label20);
-  gtk_box_pack_start (GTK_BOX (hbox9), label20, FALSE, FALSE, 4);
-
-  scrolledwindow6 = gtk_scrolled_window_new (NULL, NULL);
-  gtk_widget_show (scrolledwindow6);
-  gtk_container_add (GTK_CONTAINER (notebook1), scrolledwindow6);
-  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow6), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);
-
-  treeview6 = gtk_tree_view_new ();
-  gtk_widget_show (treeview6);
-  gtk_container_add (GTK_CONTAINER (scrolledwindow6), treeview6);
-  gtk_tree_view_set_headers_visible (GTK_TREE_VIEW (treeview6), FALSE);
-  gtk_tree_view_set_rules_hint (GTK_TREE_VIEW (treeview6), TRUE);
-  gtk_tree_view_set_enable_search (GTK_TREE_VIEW (treeview6), FALSE);
-
-  hbox10 = gtk_hbox_new (FALSE, 0);
-  gtk_widget_show (hbox10);
-  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook1), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook1), 5), hbox10);
-
-  image6 = create_pixmap (dialog1, &quot;7.png&quot;);
-  gtk_widget_show (image6);
-  gtk_box_pack_start (GTK_BOX (hbox10), image6, FALSE, FALSE, 0);
-
-  label21 = gtk_label_new_with_mnemonic (QT_TR_NOOP(&quot;Subtitles&quot;));
-  gtk_widget_show (label21);
-  gtk_box_pack_start (GTK_BOX (hbox10), label21, FALSE, FALSE, 4);
-
-  scrolledwindow7 = gtk_scrolled_window_new (NULL, NULL);
-  gtk_widget_show (scrolledwindow7);
-  gtk_container_add (GTK_CONTAINER (notebook1), scrolledwindow7);
-  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow7), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);
-
-  treeview7 = gtk_tree_view_new ();
-  gtk_widget_show (treeview7);
-  gtk_container_add (GTK_CONTAINER (scrolledwindow7), treeview7);
-  gtk_tree_view_set_headers_visible (GTK_TREE_VIEW (treeview7), FALSE);
-  gtk_tree_view_set_rules_hint (GTK_TREE_VIEW (treeview7), TRUE);
-  gtk_tree_view_set_enable_search (GTK_TREE_VIEW (treeview7), FALSE);
-
-  hbox4 = gtk_hbox_new (FALSE, 0);
-  gtk_widget_show (hbox4);
-  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook1), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook1), 6), hbox4);
-
-  image7 = create_pixmap (dialog1, &quot;6.png&quot;);
-  gtk_widget_show (image7);
-  gtk_box_pack_start (GTK_BOX (hbox4), image7, FALSE, FALSE, 0);
-
-  label22 = gtk_label_new_with_mnemonic (QT_TR_NOOP(&quot;Misc&quot;));
-  gtk_widget_show (label22);
-  gtk_box_pack_start (GTK_BOX (hbox4), label22, FALSE, FALSE, 4);
-
-  treeview8 = gtk_tree_view_new ();
-  gtk_widget_show (treeview8);
-  gtk_container_add (GTK_CONTAINER (notebook1), treeview8);
-  gtk_tree_view_set_headers_visible (GTK_TREE_VIEW (treeview8), FALSE);
-  gtk_tree_view_set_rules_hint (GTK_TREE_VIEW (treeview8), TRUE);
-  gtk_tree_view_set_enable_search (GTK_TREE_VIEW (treeview8), FALSE);
-
-  label28 = gtk_label_new (QT_TR_NOOP(&quot;External&quot;));
-  gtk_widget_show (label28);
-  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook1), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook1), 7), label28);
-
-  hbox13 = gtk_hbox_new (FALSE, 6);
-  gtk_widget_show (hbox13);
-  gtk_box_pack_start (GTK_BOX (vbox2), hbox13, FALSE, FALSE, 0);
-
   buttonAdd = gtk_button_new ();
   gtk_widget_show (buttonAdd);
-  gtk_box_pack_end (GTK_BOX (hbox13), buttonAdd, FALSE, FALSE, 0);
+  gtk_box_pack_end (GTK_BOX (hboxActionAvailable), buttonAdd, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, buttonAdd, QT_TR_NOOP(&quot;Add selected filter to the Active Filters list&quot;), NULL);
 
-  image11 = gtk_image_new_from_stock (&quot;gtk-add&quot;, GTK_ICON_SIZE_BUTTON);
-  gtk_widget_show (image11);
-  gtk_container_add (GTK_CONTAINER (buttonAdd), image11);
+  image1 = gtk_image_new_from_stock (&quot;gtk-add&quot;, GTK_ICON_SIZE_BUTTON);
+  gtk_widget_show (image1);
+  gtk_container_add (GTK_CONTAINER (buttonAdd), image1);
 
-  label23 = gtk_label_new (QT_TR_NOOP(&quot;&lt;b&gt;Available Filters&lt;/b&gt;&quot;));
-  gtk_widget_show (label23);
-  gtk_frame_set_label_widget (GTK_FRAME (frame1), label23);
-  gtk_label_set_use_markup (GTK_LABEL (label23), TRUE);
-  gtk_misc_set_alignment (GTK_MISC (label23), 1, 1);
+  labelActive = gtk_label_new (QT_TR_NOOP(&quot;&lt;b&gt;Active Filters&lt;/b&gt;&quot;));
+  gtk_label_set_use_markup (GTK_LABEL (labelActive), TRUE);
+  gtk_misc_set_alignment (GTK_MISC (labelActive), 0, 0);
+  gtk_box_pack_start (GTK_BOX (vbox2), labelActive, FALSE, FALSE, 0);
+  gtk_widget_show (labelActive);
 
-  frame2 = gtk_frame_new (NULL);
-  gtk_widget_show (frame2);
-  gtk_box_pack_start (GTK_BOX (hbox11), frame2, TRUE, TRUE, 0);
-  gtk_frame_set_shadow_type (GTK_FRAME (frame2), GTK_SHADOW_NONE);
-
-  alignment2 = gtk_alignment_new (0.5, 0.5, 1, 1);
-  gtk_widget_show (alignment2);
-  gtk_container_add (GTK_CONTAINER (frame2), alignment2);
+  alignment2 = gtk_alignment_new (0, 0, 1, 1);
   gtk_alignment_set_padding (GTK_ALIGNMENT (alignment2), 6, 0, 18, 0);
+  gtk_box_pack_start (GTK_BOX (vbox2), alignment2, TRUE, TRUE, 0);
+  gtk_widget_show (alignment2);
 
-  hbox1 = gtk_hbox_new (FALSE, 0);
-  gtk_widget_show (hbox1);
-  gtk_container_add (GTK_CONTAINER (alignment2), hbox1);
+  vbox4 = gtk_vbox_new (FALSE, 6);
+  gtk_widget_show (vbox4);
+  gtk_container_add (GTK_CONTAINER (alignment2), vbox4);
 
-  vbox3 = gtk_vbox_new (FALSE, 6);
-  gtk_widget_show (vbox3);
-  gtk_box_pack_start (GTK_BOX (hbox1), vbox3, TRUE, TRUE, 0);
+  scrolledwindowActive = gtk_scrolled_window_new (NULL, NULL);
+  gtk_box_pack_start (GTK_BOX (vbox4), scrolledwindowActive, TRUE, TRUE, 0);
+  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindowActive), GTK_POLICY_NEVER, GTK_POLICY_AUTOMATIC);
+  gtk_scrolled_window_set_shadow_type (GTK_SCROLLED_WINDOW (scrolledwindowActive), GTK_SHADOW_IN);
+  gtk_widget_show (scrolledwindowActive);
 
-  scrolledwindow9 = gtk_scrolled_window_new (NULL, NULL);
-  gtk_widget_show (scrolledwindow9);
-  gtk_box_pack_start (GTK_BOX (vbox3), scrolledwindow9, TRUE, TRUE, 0);
-  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow9), GTK_POLICY_NEVER, GTK_POLICY_AUTOMATIC);
-  gtk_scrolled_window_set_shadow_type (GTK_SCROLLED_WINDOW (scrolledwindow9), GTK_SHADOW_OUT);
+  treeviewActive = gtk_tree_view_new ();
+  gtk_widget_show (treeviewActive);
+  gtk_container_add (GTK_CONTAINER (scrolledwindowActive), treeviewActive);
+  gtk_tree_view_set_headers_visible (GTK_TREE_VIEW (treeviewActive), FALSE);
+  gtk_tree_view_set_rules_hint (GTK_TREE_VIEW (treeviewActive), TRUE);
+  gtk_tree_view_set_enable_search (GTK_TREE_VIEW (treeviewActive), FALSE);
 
-  treeview0 = gtk_tree_view_new ();
-  gtk_widget_show (treeview0);
-  gtk_container_add (GTK_CONTAINER (scrolledwindow9), treeview0);
-  gtk_widget_set_size_request (treeview0, 288, 336);
-  gtk_tree_view_set_headers_visible (GTK_TREE_VIEW (treeview0), FALSE);
-  gtk_tree_view_set_rules_hint (GTK_TREE_VIEW (treeview0), TRUE);
-  gtk_tree_view_set_enable_search (GTK_TREE_VIEW (treeview0), FALSE);
+  hboxActionActive = gtk_hbox_new (FALSE, 6);
+  gtk_widget_show (hboxActionActive);
+  gtk_box_pack_start (GTK_BOX (vbox4), hboxActionActive, FALSE, FALSE, 0);
 
-  hbox14 = gtk_hbox_new (FALSE, 6);
-  gtk_widget_show (hbox14);
-  gtk_box_pack_start (GTK_BOX (vbox3), hbox14, FALSE, FALSE, 0);
-
   buttonRemove = gtk_button_new ();
   gtk_widget_show (buttonRemove);
-  gtk_box_pack_end (GTK_BOX (hbox14), buttonRemove, FALSE, FALSE, 0);
+  gtk_box_pack_end (GTK_BOX (hboxActionActive), buttonRemove, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, buttonRemove, QT_TR_NOOP(&quot;Remove filter&quot;), NULL);
 
-  image15 = gtk_image_new_from_stock (&quot;gtk-remove&quot;, GTK_ICON_SIZE_BUTTON);
-  gtk_widget_show (image15);
-  gtk_container_add (GTK_CONTAINER (buttonRemove), image15);
+  image2 = gtk_image_new_from_stock (&quot;gtk-remove&quot;, GTK_ICON_SIZE_BUTTON);
+  gtk_widget_show (image2);
+  gtk_container_add (GTK_CONTAINER (buttonRemove), image2);
 
   buttonDown = gtk_button_new ();
   gtk_widget_show (buttonDown);
-  gtk_box_pack_end (GTK_BOX (hbox14), buttonDown, FALSE, FALSE, 0);
+  gtk_box_pack_end (GTK_BOX (hboxActionActive), buttonDown, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, buttonDown, QT_TR_NOOP(&quot;Move filter down&quot;), NULL);
 
-  image14 = gtk_image_new_from_icon_name (&quot;gtk-go-down&quot;, GTK_ICON_SIZE_BUTTON);
-  gtk_widget_show (image14);
-  gtk_container_add (GTK_CONTAINER (buttonDown), image14);
+  image3 = gtk_image_new_from_icon_name (&quot;gtk-go-down&quot;, GTK_ICON_SIZE_BUTTON);
+  gtk_widget_show (image3);
+  gtk_container_add (GTK_CONTAINER (buttonDown), image3);
 
   buttonUp = gtk_button_new ();
   gtk_widget_show (buttonUp);
-  gtk_box_pack_end (GTK_BOX (hbox14), buttonUp, FALSE, FALSE, 0);
+  gtk_box_pack_end (GTK_BOX (hboxActionActive), buttonUp, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, buttonUp, QT_TR_NOOP(&quot;Move filter up&quot;), NULL);
 
-  image13 = gtk_image_new_from_icon_name (&quot;gtk-go-up&quot;, GTK_ICON_SIZE_BUTTON);
-  gtk_widget_show (image13);
-  gtk_container_add (GTK_CONTAINER (buttonUp), image13);
+  image4 = gtk_image_new_from_icon_name (&quot;gtk-go-up&quot;, GTK_ICON_SIZE_BUTTON);
+  gtk_widget_show (image4);
+  gtk_container_add (GTK_CONTAINER (buttonUp), image4);
 
+  buttonOpen = gtk_button_new ();
+  gtk_widget_show (buttonOpen);
+  gtk_box_pack_end (GTK_BOX (hboxActionActive), buttonOpen, FALSE, FALSE, 0);
+  gtk_tooltips_set_tip (tooltips, buttonOpen, QT_TR_NOOP(&quot;Open filter list&quot;), NULL);
+
+  tmp_image = gtk_image_new_from_icon_name (&quot;gtk-open&quot;, GTK_ICON_SIZE_BUTTON);
+  gtk_widget_show (tmp_image);
+  gtk_container_add (GTK_CONTAINER (buttonOpen), tmp_image);
+
+  buttonSave = gtk_button_new ();
+  gtk_widget_show (buttonSave);
+  gtk_box_pack_end (GTK_BOX (hboxActionActive), buttonSave, FALSE, FALSE, 0);
+  gtk_tooltips_set_tip (tooltips, buttonSave, QT_TR_NOOP(&quot;Save filter list&quot;), NULL);
+
+  tmp_image= gtk_image_new_from_icon_name (&quot;gtk-save&quot;, GTK_ICON_SIZE_BUTTON);
+  gtk_widget_show (tmp_image);
+  gtk_container_add (GTK_CONTAINER (buttonSave), tmp_image);
+
   buttonPartial = gtk_button_new_with_mnemonic (QT_TR_NOOP(&quot;P_artial&quot;));
   gtk_widget_show (buttonPartial);
-  gtk_box_pack_end (GTK_BOX (hbox14), buttonPartial, FALSE, FALSE, 0);
+  gtk_box_pack_end (GTK_BOX (hboxActionActive), buttonPartial, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, buttonPartial, QT_TR_NOOP(&quot;Apply the current filter only to a part of the file&quot;), NULL);
 
   buttonProperties = gtk_button_new ();
   gtk_widget_show (buttonProperties);
-  gtk_box_pack_end (GTK_BOX (hbox14), buttonProperties, FALSE, FALSE, 0);
+  gtk_box_pack_end (GTK_BOX (hboxActionActive), buttonProperties, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, buttonProperties, QT_TR_NOOP(&quot;Configure filter&quot;), NULL);
 
-  alignment4 = gtk_alignment_new (0.5, 0.5, 0, 0);
-  gtk_widget_show (alignment4);
-  gtk_container_add (GTK_CONTAINER (buttonProperties), alignment4);
+  alignment3 = gtk_alignment_new (0.5, 0.5, 0, 0);
+  gtk_widget_show (alignment3);
+  gtk_container_add (GTK_CONTAINER (buttonProperties), alignment3);
 
-  hbox16 = gtk_hbox_new (FALSE, 2);
-  gtk_widget_show (hbox16);
-  gtk_container_add (GTK_CONTAINER (alignment4), hbox16);
+  hbox3 = gtk_hbox_new (FALSE, 2);
+  gtk_widget_show (hbox3);
+  gtk_container_add (GTK_CONTAINER (alignment3), hbox3);
 
-  label25 = gtk_label_new_with_mnemonic (QT_TR_NOOP(&quot;C_onfigure&quot;));
-  gtk_widget_show (label25);
-  gtk_box_pack_start (GTK_BOX (hbox16), label25, FALSE, FALSE, 0);
-
-  label2 = gtk_label_new (QT_TR_NOOP(&quot;&lt;b &gt;Active Filters&lt;/b&gt;&quot;));
+  label2 = gtk_label_new_with_mnemonic (QT_TR_NOOP(&quot;C_onfigure&quot;));
   gtk_widget_show (label2);
-  gtk_frame_set_label_widget (GTK_FRAME (frame2), label2);
-  gtk_label_set_use_markup (GTK_LABEL (label2), TRUE);
-  gtk_misc_set_alignment (GTK_MISC (label2), 1, 1);
+  gtk_box_pack_start (GTK_BOX (hbox3), label2, FALSE, FALSE, 0);
 
   dialog_action_area1 = GTK_DIALOG (dialog1)-&gt;action_area;
   gtk_widget_show (dialog_action_area1);
@@ -537,21 +298,21 @@
   gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), buttonPreview, GTK_RESPONSE_APPLY);
   GTK_WIDGET_SET_FLAGS (buttonPreview, GTK_CAN_DEFAULT);
 
-  alignment5 = gtk_alignment_new (0.5, 0.5, 0, 0);
-  gtk_widget_show (alignment5);
-  gtk_container_add (GTK_CONTAINER (buttonPreview), alignment5);
+  alignment4 = gtk_alignment_new (0.5, 0.5, 0, 0);
+  gtk_widget_show (alignment4);
+  gtk_container_add (GTK_CONTAINER (buttonPreview), alignment4);
 
-  hbox17 = gtk_hbox_new (FALSE, 2);
-  gtk_widget_show (hbox17);
-  gtk_container_add (GTK_CONTAINER (alignment5), hbox17);
+  hbox2 = gtk_hbox_new (FALSE, 2);
+  gtk_widget_show (hbox2);
+  gtk_container_add (GTK_CONTAINER (alignment4), hbox2);
 
-  image17 = create_pixmap (dialog1, &quot;preview-button.png&quot;);
-  gtk_widget_show (image17);
-  gtk_box_pack_start (GTK_BOX (hbox17), image17, FALSE, FALSE, 0);
+  image5 = create_pixmap (dialog1, &quot;preview-button.png&quot;);
+  gtk_widget_show (image5);
+  gtk_box_pack_start (GTK_BOX (hbox2), image5, FALSE, FALSE, 0);
 
-  label26 = gtk_label_new_with_mnemonic (QT_TR_NOOP(&quot;_Preview&quot;));
-  gtk_widget_show (label26);
-  gtk_box_pack_start (GTK_BOX (hbox17), label26, FALSE, FALSE, 0);
+  label3 = gtk_label_new_with_mnemonic (QT_TR_NOOP(&quot;_Preview&quot;));
+  gtk_widget_show (label3);
+  gtk_box_pack_start (GTK_BOX (hbox2), label3, FALSE, FALSE, 0);
 
   buttonClose = gtk_button_new_from_stock (&quot;gtk-close&quot;);
   gtk_widget_show (buttonClose);
@@ -561,86 +322,51 @@
   /* Store pointers to all widgets, for use by lookup_widget(). */
   GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, &quot;dialog1&quot;);
   GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, &quot;dialog_vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, vbox3b, &quot;vbox3b&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, toolbar1, &quot;toolbar1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, toolbuttonOpen, &quot;toolbuttonOpen&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, toolbuttonSave, &quot;toolbuttonSave&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, toolbuttonScript, &quot;toolbuttonScript&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, toolbuttonDVD, &quot;toolbuttonDVD&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, toolbuttonHalfD1, &quot;toolbuttonHalfD1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, toolbuttonSVCD, &quot;toolbuttonSVCD&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, toolbuttonVCD, &quot;toolbuttonVCD&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, hbox11, &quot;hbox11&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, frame1, &quot;frame1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, alignment1, &quot;alignment1&quot;);
+  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, vbox1, &quot;vbox1&quot;);
   GLADE_HOOKUP_OBJECT (dialog1, vbox2, &quot;vbox2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, notebook1, &quot;notebook1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, scrolledwindow1, &quot;scrolledwindow1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, treeview1, &quot;treeview1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, hbox5, &quot;hbox5&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, image1, &quot;image1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label11, &quot;label11&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, scrolledwindow2, &quot;scrolledwindow2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, treeview2, &quot;treeview2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, hbox6, &quot;hbox6&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, image2, &quot;image2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label17, &quot;label17&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, scrolledwindow3, &quot;scrolledwindow3&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, treeview3, &quot;treeview3&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, hbox7, &quot;hbox7&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, image3, &quot;image3&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label18, &quot;label18&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, scrolledwindow4, &quot;scrolledwindow4&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, treeview4, &quot;treeview4&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, hbox8, &quot;hbox8&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, image4, &quot;image4&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label19, &quot;label19&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, scrolledwindow5, &quot;scrolledwindow5&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, treeview5, &quot;treeview5&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, hbox9, &quot;hbox9&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, image5, &quot;image5&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label20, &quot;label20&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, scrolledwindow6, &quot;scrolledwindow6&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, treeview6, &quot;treeview6&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, hbox10, &quot;hbox10&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, image6, &quot;image6&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label21, &quot;label21&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, scrolledwindow7, &quot;scrolledwindow7&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, treeview7, &quot;treeview7&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, hbox4, &quot;hbox4&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, image7, &quot;image7&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label22, &quot;label22&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, treeview8, &quot;treeview8&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label28, &quot;label28&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, hbox13, &quot;hbox13&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, buttonAdd, &quot;buttonAdd&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, image11, &quot;image11&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label23, &quot;label23&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, frame2, &quot;frame2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, alignment2, &quot;alignment2&quot;);
   GLADE_HOOKUP_OBJECT (dialog1, hbox1, &quot;hbox1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, alignment1, &quot;alignment1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, table1, &quot;table1&quot;);
   GLADE_HOOKUP_OBJECT (dialog1, vbox3, &quot;vbox3&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, scrolledwindow9, &quot;scrolledwindow9&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, treeview0, &quot;treeview0&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, hbox14, &quot;hbox14&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, table2, &quot;table2&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, scrolledwindowAvailable, &quot;scrolledwindowAvailable&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, treeviewAvailable, &quot;treeviewAvailable&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, buttonVCDRes, &quot;buttonVCDRes&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, buttonSVCDRes, &quot;buttonSVCDRes&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, buttonHalfD1Res, &quot;buttonHalfD1Res&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, hbox2, &quot;hbox2&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, label1, &quot;label1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, buttonDVDRes, &quot;buttonDVDRes&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, frame1, &quot;frame1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, mainTree, &quot;mainTree&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, hboxActionAvailable, &quot;hboxActionAvailable&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, buttonAdd, &quot;buttonAdd&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, image1, &quot;image1&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, labelAvailable, &quot;labelAvailable&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, alignment2, &quot;alignment2&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, vbox4, &quot;vbox4&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, scrolledwindowActive, &quot;scrolledwindowActive&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, treeviewActive, &quot;treeviewActive&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, hboxActionActive, &quot;hboxActionActive&quot;);
   GLADE_HOOKUP_OBJECT (dialog1, buttonRemove, &quot;buttonRemove&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, image15, &quot;image15&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, image2, &quot;image2&quot;);
   GLADE_HOOKUP_OBJECT (dialog1, buttonDown, &quot;buttonDown&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, image14, &quot;image14&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, image3, &quot;image3&quot;);
   GLADE_HOOKUP_OBJECT (dialog1, buttonUp, &quot;buttonUp&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, image13, &quot;image13&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, image4, &quot;image4&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, buttonOpen, &quot;buttonOpen&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, buttonSave, &quot;buttonSave&quot;);
   GLADE_HOOKUP_OBJECT (dialog1, buttonPartial, &quot;buttonPartial&quot;);
   GLADE_HOOKUP_OBJECT (dialog1, buttonProperties, &quot;buttonProperties&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, alignment4, &quot;alignment4&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, hbox16, &quot;hbox16&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label25, &quot;label25&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, alignment3, &quot;alignment3&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, hbox3, &quot;hbox3&quot;);
   GLADE_HOOKUP_OBJECT (dialog1, label2, &quot;label2&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, labelActive, &quot;labelActive&quot;);
   GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, &quot;dialog_action_area1&quot;);
   GLADE_HOOKUP_OBJECT (dialog1, buttonPreview, &quot;buttonPreview&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, alignment5, &quot;alignment5&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, hbox17, &quot;hbox17&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, image17, &quot;image17&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label26, &quot;label26&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, alignment4, &quot;alignment4&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, image5, &quot;image5&quot;);
+  GLADE_HOOKUP_OBJECT (dialog1, label3, &quot;label3&quot;);
   GLADE_HOOKUP_OBJECT (dialog1, buttonClose, &quot;buttonClose&quot;);
   GLADE_HOOKUP_OBJECT_NO_REF (dialog1, tooltips, &quot;tooltips&quot;);
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002452.html">[Avidemux-svn-commit] r5239 - in	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_icons: .	scalable xpm
</A></li>
	<LI>Next message: <A HREF="002454.html">[Avidemux-svn-commit] r5241 - in	branches/avidemux_2.5_branch_gruntster:	avidemux/ADM_audiocodec plugins/ADM_audioDecoders/ADM_ad_ac3	plugins/ADM_audioDecoders/ADM_ad_faad	plugins/ADM_audioDecoders/ADM_ad_mad	plugins/ADM_audioDecoders/ADM_ad_opencore_amrnb	plugins/ADM_audioDecoders/ADM_ad_opencore_amrwb	plugins/ADM_audioDecoders/ADM_ad_vorbis
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2453">[ date ]</a>
              <a href="thread.html#2453">[ thread ]</a>
              <a href="subject.html#2453">[ subject ]</a>
              <a href="author.html#2453">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
