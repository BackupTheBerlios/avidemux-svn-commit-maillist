<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r2709 - in	branches/avidemux_2.4_branch/avidemux: . ADM_audiofilter	ADM_filter ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_commonUI
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2007-January/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r2709%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20.%20ADM_audiofilter%0A%09ADM_filter%20ADM_userInterfaces/ADM_GTK/ADM_dialog%0A%09ADM_userInterfaces/ADM_commonUI&In-Reply-To=%3C200701121854.l0CIs94V011083%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000036.html">
   <LINK REL="Next"  HREF="000038.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r2709 - in	branches/avidemux_2.4_branch/avidemux: . ADM_audiofilter	ADM_filter ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_commonUI</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r2709%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20.%20ADM_audiofilter%0A%09ADM_filter%20ADM_userInterfaces/ADM_GTK/ADM_dialog%0A%09ADM_userInterfaces/ADM_commonUI&In-Reply-To=%3C200701121854.l0CIs94V011083%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r2709 - in	branches/avidemux_2.4_branch/avidemux: . ADM_audiofilter	ADM_filter ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_commonUI">mean at mail.berlios.de
       </A><BR>
    <I>Fri Jan 12 19:54:09 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000036.html">[Avidemux-svn-commit] r2708 - in	branches/avidemux_2.4_branch/avidemux:	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialog ADM_video ADM_videoFilter
</A></li>
        <LI>Next message: <A HREF="000038.html">[Avidemux-svn-commit] r2710 -	branches/avidemux_2.4_branch/avidemux/ADM_videoFilter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37">[ date ]</a>
              <a href="thread.html#37">[ thread ]</a>
              <a href="subject.html#37">[ subject ]</a>
              <a href="author.html#37">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2007-01-12 19:54:07 +0100 (Fri, 12 Jan 2007)
New Revision: 2709

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp
Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audiocodec.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_builtin.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_d3d.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resizeWiz.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiodeng_buildfilters.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_filter/vidVCD.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_filter/vidVCD.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
   branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
   branches/avidemux_2.4_branch/avidemux/gui_autodrive.cpp
Log:
more dialogFactory + psp full res profile (not working)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiodeng_buildfilters.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiodeng_buildfilters.cpp	2007-01-12 07:15:14 UTC (rev 2708)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audiodeng_buildfilters.cpp	2007-01-12 18:54:07 UTC (rev 2709)
@@ -49,7 +49,6 @@
 
 extern void UI_setAProcessToggleStatus( uint8_t status );
 extern uint8_t DIA_audioCodec( AUDIOENCODER *codec );
-extern int DIA_audioEncoder(int *pmode, int *pbitrate,const char *title);
 extern void UI_setAudioCodec( int i);
 uint32_t audioFilterGetNbEncoder(void);
 const char* audioFilterGetIndexedName(uint32_t i);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_filter/vidVCD.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_filter/vidVCD.cpp	2007-01-12 07:15:14 UTC (rev 2708)
+++ branches/avidemux_2.4_branch/avidemux/ADM_filter/vidVCD.cpp	2007-01-12 18:54:07 UTC (rev 2709)
@@ -72,12 +72,11 @@
 static targetFmt SVCD={480, 720, 576, 480};
 static targetFmt DVD={720, 720, 576, 480};
 static targetFmt DVDHD1={352, 720, 576, 480};
-#if 0
-static targetFmt PSP={368, 368, 208, 208};
-#else
 static targetFmt PSP={320, 320, 240, 240};
-#endif
-targetFmt *allFormats[5]={&amp;VCD,&amp;SVCD,&amp;DVD,&amp;DVDHD1,&amp;PSP};
+static targetFmt PSPH264={480, 480, 272, 272};
+/* Dont forget to update DIA_resizeWiz if you change something here */
+
+targetFmt *allFormats[6]={&amp;VCD,&amp;SVCD,&amp;DVD,&amp;DVDHD1,&amp;PSP,&amp;PSPH264};
 extern AVDMGenericVideoStream *createResampleFps(AVDMGenericVideoStream *in,uint32_t targetfps1000);
 #define ARME(x) format=RESWIZ_##x;
 
@@ -98,25 +97,22 @@
 uint32_t fps1000;
 
     ARME (PSP);
-    r= computeResize();
-    if(!r) return r;
-#if 0 // Not needed with recent firmware
-    // Now change framerate to 29.96
-    info=getLastVideoFilter()-&gt;getInfo();
-    fps1000=info-&gt;fps1000;
-    if(identMovieType(fps1000) != FRAME_NTSC)
-    {
-      CONFcouple *couple;
-      
-      videofilters[nb_active_filter].filter = createResampleFps (getLastVideoFilter (), 29970);
-      videofilters[nb_active_filter].tag = VF_RESAMPLE_FPS;
-      videofilters[nb_active_filter].filter-&gt;getCoupledConf (&amp;couple);
-      videofilters[nb_active_filter].conf = couple;;
-      nb_active_filter++;
-    }
-#endif    
-    return r;
+    return computeResize();
 }
+/**
+    \fn     setPSPFullRes (void)
+    \brief  Setup  video size &amp; fps to be compatible with PSP FULL SCREEN
+*/
+uint8_t setPSPFullRes (void)
+{
+uint8_t r=0;
+ADV_Info *info;
+uint32_t fps1000;
+
+    ARME (PSP_FULLRES);
+    return computeResize();
+}
+
 uint8_t setSVCD (void)
 {
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_filter/vidVCD.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_filter/vidVCD.h	2007-01-12 07:15:14 UTC (rev 2708)
+++ branches/avidemux_2.4_branch/avidemux/ADM_filter/vidVCD.h	2007-01-12 18:54:07 UTC (rev 2709)
@@ -22,6 +22,7 @@
 uint8_t setSVCD( void );
 uint8_t setVCD( void );
 uint8_t setPSP(void);
+uint8_t setPSPFullRes(void);
 uint8_t setDVD( void );
 uint8_t setHalfD1( void );
 

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audiocodec.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audiocodec.cpp	2007-01-12 07:15:14 UTC (rev 2708)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_audiocodec.cpp	2007-01-12 18:54:07 UTC (rev 2709)
@@ -1,203 +0,0 @@
-/*
- * DO NOT EDIT THIS FILE - it is generated by Glade.
- */
-
-#include &quot;config.h&quot;
-
-#include &lt;sys/types.h&gt;
-#include &lt;sys/stat.h&gt;
-#include &lt;unistd.h&gt;
-#include &lt;string.h&gt;
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-
-#include &lt;gdk/gdkkeysyms.h&gt;
-#include &lt;gtk/gtk.h&gt;
-
-#include &lt;ADM_assert.h&gt;
-
-#include &quot;fourcc.h&quot;
-#include &quot;ADM_audio/aviaudio.hxx&quot;
-#include &quot;ADM_audiofilter/audioprocess.hxx&quot;
-#include &quot;ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
-#include &quot;ADM_toolkit_gtk/ADM_gladeSupport.h&quot;
-
-
-#define GLADE_HOOKUP_OBJECT(component,widget,name) \
-  g_object_set_data_full (G_OBJECT (component), name, \
-    gtk_widget_ref (widget), (GDestroyNotify) gtk_widget_unref)
-
-#define GLADE_HOOKUP_OBJECT_NO_REF(component,widget,name) \
-  g_object_set_data (G_OBJECT (component), name, widget)
-
-static GtkWidget	*create_dialog1 (void);
-  
-#define NB_BITRATE (sizeof(BTR)/sizeof(int))
-
-static int BTR[] = {		// see interface.c if you change this !
-		48,
-		56,
-		64,
-		80,
-    		96,
-    		112,
-    		128,
-   		 160,
-    		192,
-   		 224,
-		 384
-};
-int DIA_audioEncoder(int *pmode, int *pbitrate,const char *title)
-{
-GtkWidget *dialog;
-int ret=0;
-
-	UNUSED_ARG(title);
-	dialog=create_dialog1();
-//	gtk_transient(dialog);		
-        gtk_register_dialog(dialog);
-	for(uint32_t i=0;i&lt;NB_BITRATE;i++)
-		if(*pbitrate==BTR[i])
-			{
-				// set 
-				gtk_option_menu_set_history(GTK_OPTION_MENU(lookup_widget(dialog,&quot;optionmenu1&quot;)), i);
-			}	
-			
-			
-	switch(*pmode)
-	{
-		case ADM_STEREO: 
-					gtk_option_menu_set_history(GTK_OPTION_MENU(lookup_widget(dialog,&quot;optionmenu2&quot;)),0);		
-					break;
-		case ADM_JSTEREO: 
-					gtk_option_menu_set_history(GTK_OPTION_MENU(lookup_widget(dialog,&quot;optionmenu2&quot;)),1);		
-					break;					
-	}			
-	if(GTK_RESPONSE_OK==gtk_dialog_run(GTK_DIALOG(dialog)))			
-	{
-					if(getRangeInMenu(lookup_widget(dialog,&quot;optionmenu2&quot;))==1)
-							*pmode=ADM_JSTEREO;
-					else
-							*pmode=ADM_STEREO;
-					*pbitrate=BTR[getRangeInMenu(lookup_widget(dialog,&quot;optionmenu1&quot;))];
-					ret=1;
-																						
-	}
-	gtk_unregister_dialog(dialog);
-	gtk_widget_destroy(dialog);
-	return ret;	    
-
-}
-  
-GtkWidget	*create_dialog1 (void)
-{
-  GtkWidget *dialog1;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *vbox1;
-  GtkWidget *label1;
-  GtkWidget *optionmenu1;
-  GtkWidget *menu2;
- // GtkWidget *_48_khz1;
-  GtkWidget *label2;
-  GtkWidget *optionmenu2;
-  GtkWidget *menu1;
-  GtkWidget *stereo1;
-  GtkWidget *joint_stereo1;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *okbutton1;
-
-  dialog1 = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog1), _(&quot;Audio settings&quot;));
-
-  dialog_vbox1 = GTK_DIALOG (dialog1)-&gt;vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  vbox1 = gtk_vbox_new (FALSE, 0);
-  gtk_widget_show (vbox1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), vbox1, TRUE, TRUE, 0);
-
-  label1 = gtk_label_new (_(&quot;Bitrate&quot;));
-  gtk_widget_show (label1);
-  gtk_box_pack_start (GTK_BOX (vbox1), label1, FALSE, FALSE, 0);
-  gtk_label_set_justify (GTK_LABEL (label1), GTK_JUSTIFY_LEFT);
-
-  optionmenu1 = gtk_option_menu_new ();
-  gtk_widget_show (optionmenu1);
-  gtk_box_pack_start (GTK_BOX (vbox1), optionmenu1, FALSE, FALSE, 0);
-
-  menu2 = gtk_menu_new ();
-/*
-  _48_khz1 = gtk_menu_item_new_with_mnemonic (_(&quot;48 khz&quot;));
-  gtk_widget_show (_48_khz1);
-  gtk_container_add (GTK_CONTAINER (menu2), _48_khz1);
-  
-
-*/
-	GtkWidget **fq=(GtkWidget **)ADM_alloc(sizeof(GtkWidget *)*NB_BITRATE);
-	char string[100];
-	for(unsigned int i=0;i&lt;NB_BITRATE;i++)
-	{
-		sprintf(string,&quot;%d kbits&quot;,BTR[i]);
-		fq[i]=gtk_menu_item_new_with_mnemonic (string);
-		gtk_widget_show (fq[i]);
-		gtk_container_add (GTK_CONTAINER (menu2), fq[i]);
-	}
-  gtk_option_menu_set_menu (GTK_OPTION_MENU (optionmenu1), menu2);
-  
-  label2 = gtk_label_new (_(&quot;Mode (ignored for mono)&quot;));
-  gtk_widget_show (label2);
-  gtk_box_pack_start (GTK_BOX (vbox1), label2, FALSE, FALSE, 0);
-  gtk_label_set_justify (GTK_LABEL (label2), GTK_JUSTIFY_LEFT);
-
-  optionmenu2 = gtk_option_menu_new ();
-  gtk_widget_show (optionmenu2);
-  gtk_box_pack_start (GTK_BOX (vbox1), optionmenu2, FALSE, FALSE, 0);
-
-  menu1 = gtk_menu_new ();
-
-  stereo1 = gtk_menu_item_new_with_mnemonic (_(&quot;Stereo&quot;));
-  gtk_widget_show (stereo1);
-  gtk_container_add (GTK_CONTAINER (menu1), stereo1);
-
-  joint_stereo1 = gtk_menu_item_new_with_mnemonic (_(&quot;Joint Stereo&quot;));
-  gtk_widget_show (joint_stereo1);
-  gtk_container_add (GTK_CONTAINER (menu1), joint_stereo1);
-
-  gtk_option_menu_set_menu (GTK_OPTION_MENU (optionmenu2), menu1);
-
-  dialog_action_area1 = GTK_DIALOG (dialog1)-&gt;action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  cancelbutton1 = gtk_button_new_from_stock (&quot;gtk-cancel&quot;);
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock (&quot;gtk-ok&quot;);
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, &quot;dialog1&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, &quot;dialog_vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, vbox1, &quot;vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label1, &quot;label1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, optionmenu1, &quot;optionmenu1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, menu2, &quot;menu2&quot;);
-  //GLADE_HOOKUP_OBJECT (dialog1, _48_khz1, &quot;_48_khz1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label2, &quot;label2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, optionmenu2, &quot;optionmenu2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, menu1, &quot;menu1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, stereo1, &quot;stereo1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, joint_stereo1, &quot;joint_stereo1&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, &quot;dialog_action_area1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, &quot;cancelbutton1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, okbutton1, &quot;okbutton1&quot;);
-
-  return dialog1;
-}
-

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_builtin.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_builtin.cpp	2007-01-12 07:15:14 UTC (rev 2708)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_builtin.cpp	2007-01-12 18:54:07 UTC (rev 2709)
@@ -1,388 +0,0 @@
-//
-/**/
-/***************************************************************************
-                          DIA_hue
-                             -------------------
-
-                           Ui for hue &amp; sat
-
-    begin                : 08 Apr 2005
-    copyright            : (C) 2004/5 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-
-
-#include &lt;config.h&gt;
-
-
-#include &lt;string.h&gt;
-#include &lt;stdio.h&gt;
-
-#include &lt;gdk/gdkkeysyms.h&gt;
-#include &lt;gtk/gtk.h&gt;
-
-
-#include &lt;gdk/gdkkeysyms.h&gt;
-#include &lt;gtk/gtk.h&gt;
-# include &lt;math.h&gt;
-
-
-#include &quot;default.h&quot;
-#include &quot;ADM_toolkit_gtk/ADM_gladeSupport.h&quot;
-#include &quot;ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;ADM_toolkit_gtk/toolkit_gtk_include.h&quot;
-#include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;default.h&quot;
-#include &quot;ADM_assert.h&quot;
-static GtkWidget *create_dialog1 (void);
-#define CHECK_SET(x) {gtk_toggle_button_set_active( GTK_TOGGLE_BUTTON(WID(x)),1);}
-uint8_t DIA_builtin(void)
-{
-GtkWidget *dialog;
-        dialog=create_dialog1();
-
-#ifdef USE_ALTIVEC
-        CHECK_SET(checkbutton1)
-#endif
-#ifdef USE_MP3
-        CHECK_SET(checkbutton2)
-#endif
-#ifdef USE_AC3
-        CHECK_SET(checkbutton3)
-#endif
-#ifdef USE_XVID_4
-        CHECK_SET(checkbutton4)
-#endif
-#ifdef USE_X264
-        CHECK_SET(checkbutton5)
-#endif
-#ifdef USE_FREETYPE
-        CHECK_SET(checkbutton6)
-#endif
-#ifdef USE_ESD
-        CHECK_SET(checkbutton7)
-#endif
-#ifdef USE_ARTS
-        CHECK_SET(checkbutton8)
-#endif
-#ifdef USE_VORBIS
-        CHECK_SET(checkbutton9)
-#endif
-#ifdef CYG_MANGLING
-        CHECK_SET(checkbutton10)
-#endif
-#ifdef USE_FAAC
-        CHECK_SET(checkbutton11)
-#endif
-#ifdef USE_FAAD
-        CHECK_SET(checkbutton12)
-#endif
-#ifdef USE_LIBDCA
-        CHECK_SET(checkbutton13)
-#endif
-
-
-        gtk_register_dialog(dialog);
-        gtk_dialog_run(GTK_DIALOG(dialog));
-
-        gtk_unregister_dialog(dialog);
-        gtk_widget_destroy(dialog);
-        return 1;
-
-}
-
-GtkWidget*
-create_dialog1 (void)
-{
-  GtkWidget *dialog1;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *vbox1;
-  GtkWidget *vbox2;
-  GtkWidget *label1;
-  GtkWidget *hseparator1;
-  GtkWidget *table2;
-  GtkWidget *label6;
-  GtkWidget *label8;
-  GtkWidget *label9;
-  GtkWidget *label10;
-  GtkWidget *label2;
-  GtkWidget *label3;
-  GtkWidget *label4;
-  GtkWidget *label11;
-  GtkWidget *label7;
-  GtkWidget *label5;
-  GtkWidget *checkbutton1;
-  GtkWidget *checkbutton2;
-  GtkWidget *checkbutton3;
-  GtkWidget *checkbutton4;
-  GtkWidget *checkbutton5;
-  GtkWidget *checkbutton6;
-  GtkWidget *checkbutton7;
-  GtkWidget *checkbutton8;
-  GtkWidget *checkbutton9;
-  GtkWidget *checkbutton10;
-  GtkWidget *label12;
-  GtkWidget *label13;
-  GtkWidget *checkbutton11;
-  GtkWidget *checkbutton12;
-  GtkWidget *label14;
-  GtkWidget *checkbutton13;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *closebutton1;
-
-  dialog1 = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog1), _(&quot;Builtin support for&quot;));
-  gtk_window_set_type_hint (GTK_WINDOW (dialog1), GDK_WINDOW_TYPE_HINT_DIALOG);
-
-  dialog_vbox1 = GTK_DIALOG (dialog1)-&gt;vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  vbox1 = gtk_vbox_new (FALSE, 0);
-  gtk_widget_show (vbox1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), vbox1, TRUE, TRUE, 0);
-
-  vbox2 = gtk_vbox_new (FALSE, 0);
-  gtk_widget_show (vbox2);
-  gtk_box_pack_start (GTK_BOX (vbox1), vbox2, TRUE, TRUE, 0);
-
-  label1 = gtk_label_new (_(&quot;If an option is not checked, it means\nyou must RECOMPILE avidemux to have\nsupport for it!&quot;));
-  gtk_widget_show (label1);
-  gtk_box_pack_start (GTK_BOX (vbox2), label1, FALSE, FALSE, 0);
-  gtk_label_set_justify (GTK_LABEL (label1), GTK_JUSTIFY_FILL);
-
-  hseparator1 = gtk_hseparator_new ();
-  gtk_widget_show (hseparator1);
-  gtk_box_pack_start (GTK_BOX (vbox2), hseparator1, TRUE, TRUE, 0);
-
-  table2 = gtk_table_new (13, 2, FALSE);
-  gtk_widget_show (table2);
-  gtk_box_pack_start (GTK_BOX (vbox1), table2, TRUE, TRUE, 0);
-
-  label6 = gtk_label_new (_(&quot;X264&quot;));
-  gtk_widget_show (label6);
-  gtk_table_attach (GTK_TABLE (table2), label6, 0, 1, 4, 5,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label6), 0, 0.5);
-
-  label8 = gtk_label_new (_(&quot;ESD&quot;));
-  gtk_widget_show (label8);
-  gtk_table_attach (GTK_TABLE (table2), label8, 0, 1, 6, 7,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label8), 0, 0.5);
-
-  label9 = gtk_label_new (_(&quot;Arts&quot;));
-  gtk_widget_show (label9);
-  gtk_table_attach (GTK_TABLE (table2), label9, 0, 1, 7, 8,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label9), 0, 0.5);
-
-  label10 = gtk_label_new (_(&quot;Vorbis&quot;));
-  gtk_widget_show (label10);
-  gtk_table_attach (GTK_TABLE (table2), label10, 0, 1, 8, 9,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label10), 0, 0.5);
-
-  label2 = gtk_label_new (_(&quot;Altivec&quot;));
-  gtk_widget_show (label2);
-  gtk_table_attach (GTK_TABLE (table2), label2, 0, 1, 0, 1,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
-
-  label3 = gtk_label_new (_(&quot;Mad&quot;));
-  gtk_widget_show (label3);
-  gtk_table_attach (GTK_TABLE (table2), label3, 0, 1, 1, 2,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label3), 0, 0.5);
-
-  label4 = gtk_label_new (_(&quot;A52&quot;));
-  gtk_widget_show (label4);
-  gtk_table_attach (GTK_TABLE (table2), label4, 0, 1, 2, 3,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label4), 0, 0.5);
-
-  label11 = gtk_label_new (_(&quot;Win32&quot;));
-  gtk_widget_show (label11);
-  gtk_table_attach (GTK_TABLE (table2), label11, 0, 1, 9, 10,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label11), 0, 0.5);
-
-  label7 = gtk_label_new (_(&quot;Freetype&quot;));
-  gtk_widget_show (label7);
-  gtk_table_attach (GTK_TABLE (table2), label7, 0, 1, 5, 6,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label7), 0, 0.5);
-
-  label5 = gtk_label_new (_(&quot;Xvid&quot;));
-  gtk_widget_show (label5);
-  gtk_table_attach (GTK_TABLE (table2), label5, 0, 1, 3, 4,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label5), 0, 0.5);
-
-  checkbutton1 = gtk_check_button_new_with_mnemonic (&quot;&quot;);
-  gtk_widget_show (checkbutton1);
-  gtk_table_attach (GTK_TABLE (table2), checkbutton1, 1, 2, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  checkbutton2 = gtk_check_button_new_with_mnemonic (&quot;&quot;);
-  gtk_widget_show (checkbutton2);
-  gtk_table_attach (GTK_TABLE (table2), checkbutton2, 1, 2, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  checkbutton3 = gtk_check_button_new_with_mnemonic (&quot;&quot;);
-  gtk_widget_show (checkbutton3);
-  gtk_table_attach (GTK_TABLE (table2), checkbutton3, 1, 2, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  checkbutton4 = gtk_check_button_new_with_mnemonic (&quot;&quot;);
-  gtk_widget_show (checkbutton4);
-  gtk_table_attach (GTK_TABLE (table2), checkbutton4, 1, 2, 3, 4,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  checkbutton5 = gtk_check_button_new_with_mnemonic (&quot;&quot;);
-  gtk_widget_show (checkbutton5);
-  gtk_table_attach (GTK_TABLE (table2), checkbutton5, 1, 2, 4, 5,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  checkbutton6 = gtk_check_button_new_with_mnemonic (&quot;&quot;);
-  gtk_widget_show (checkbutton6);
-  gtk_table_attach (GTK_TABLE (table2), checkbutton6, 1, 2, 5, 6,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  checkbutton7 = gtk_check_button_new_with_mnemonic (&quot;&quot;);
-  gtk_widget_show (checkbutton7);
-  gtk_table_attach (GTK_TABLE (table2), checkbutton7, 1, 2, 6, 7,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  checkbutton8 = gtk_check_button_new_with_mnemonic (&quot;&quot;);
-  gtk_widget_show (checkbutton8);
-  gtk_table_attach (GTK_TABLE (table2), checkbutton8, 1, 2, 7, 8,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  checkbutton9 = gtk_check_button_new_with_mnemonic (&quot;&quot;);
-  gtk_widget_show (checkbutton9);
-  gtk_table_attach (GTK_TABLE (table2), checkbutton9, 1, 2, 8, 9,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  checkbutton10 = gtk_check_button_new_with_mnemonic (&quot;&quot;);
-  gtk_widget_show (checkbutton10);
-  gtk_table_attach (GTK_TABLE (table2), checkbutton10, 1, 2, 9, 10,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  label12 = gtk_label_new (_(&quot;FAAC&quot;));
-  gtk_widget_show (label12);
-  gtk_table_attach (GTK_TABLE (table2), label12, 0, 1, 10, 11,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label12), 0, 0.5);
-
-  label13 = gtk_label_new (_(&quot;FAAD&quot;));
-  gtk_widget_show (label13);
-  gtk_table_attach (GTK_TABLE (table2), label13, 0, 1, 11, 12,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label13), 0, 0.5);
-
-  checkbutton11 = gtk_check_button_new_with_mnemonic (&quot;&quot;);
-  gtk_widget_show (checkbutton11);
-  gtk_table_attach (GTK_TABLE (table2), checkbutton11, 1, 2, 10, 11,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  checkbutton12 = gtk_check_button_new_with_mnemonic (&quot;&quot;);
-  gtk_widget_show (checkbutton12);
-  gtk_table_attach (GTK_TABLE (table2), checkbutton12, 1, 2, 11, 12,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  label14 = gtk_label_new (_(&quot;libDCA/libDTS&quot;));
-  gtk_widget_show (label14);
-  gtk_table_attach (GTK_TABLE (table2), label14, 0, 1, 12, 13,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label14), 0, 0.5);
-
-  checkbutton13 = gtk_check_button_new_with_mnemonic (&quot;&quot;);
-  gtk_widget_show (checkbutton13);
-  gtk_table_attach (GTK_TABLE (table2), checkbutton13, 1, 2, 12, 13,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  dialog_action_area1 = GTK_DIALOG (dialog1)-&gt;action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  closebutton1 = gtk_button_new_from_stock (&quot;gtk-close&quot;);
-  gtk_widget_show (closebutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), closebutton1, GTK_RESPONSE_CLOSE);
-  GTK_WIDGET_SET_FLAGS (closebutton1, GTK_CAN_DEFAULT);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, &quot;dialog1&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, &quot;dialog_vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, vbox1, &quot;vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, vbox2, &quot;vbox2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label1, &quot;label1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, hseparator1, &quot;hseparator1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, table2, &quot;table2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label6, &quot;label6&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label8, &quot;label8&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label9, &quot;label9&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label10, &quot;label10&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label2, &quot;label2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label3, &quot;label3&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label4, &quot;label4&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label11, &quot;label11&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label7, &quot;label7&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label5, &quot;label5&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, checkbutton1, &quot;checkbutton1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, checkbutton2, &quot;checkbutton2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, checkbutton3, &quot;checkbutton3&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, checkbutton4, &quot;checkbutton4&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, checkbutton5, &quot;checkbutton5&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, checkbutton6, &quot;checkbutton6&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, checkbutton7, &quot;checkbutton7&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, checkbutton8, &quot;checkbutton8&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, checkbutton9, &quot;checkbutton9&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, checkbutton10, &quot;checkbutton10&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label12, &quot;label12&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label13, &quot;label13&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, checkbutton11, &quot;checkbutton11&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, checkbutton12, &quot;checkbutton12&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label14, &quot;label14&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, checkbutton13, &quot;checkbutton13&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, &quot;dialog_action_area1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, closebutton1, &quot;closebutton1&quot;);
-
-  return dialog1;
-}
-

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_d3d.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_d3d.cpp	2007-01-12 07:15:14 UTC (rev 2708)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_d3d.cpp	2007-01-12 18:54:07 UTC (rev 2709)
@@ -1,174 +0,0 @@
-
-
-#include &lt;sys/types.h&gt;
-#include &lt;sys/stat.h&gt;
-#include &lt;unistd.h&gt;
-#include &lt;string.h&gt;
-#include &lt;stdio.h&gt;
-
-#include &lt;gdk/gdkkeysyms.h&gt;
-#include &lt;gtk/gtk.h&gt;
-
-
-#include &lt;gdk/gdkkeysyms.h&gt;
-#include &lt;gtk/gtk.h&gt;
-#include &quot;config.h&quot;
-#include &quot;default.h&quot;
-#include &quot;ADM_toolkit_gtk/ADM_gladeSupport.h&quot;
-#include &quot;ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;ADM_toolkit_gtk/toolkit_gtk_include.h&quot;
-
-# include &lt;config.h&gt;
-static GtkWidget	*create_d3doption (void);
-uint8_t DIA_d3d(double *luma,double *chroma,double *temporal);
-uint8_t DIA_d3d(double *luma,double *chroma,double *temporal)
-{
-	GtkWidget *dialog;
-
-	char str[100];
-	uint8_t ret=0;
-
-	gint r;
-
-#define FILL_ENTRY(widget_name,value) 		{sprintf(str,&quot;%f&quot;,*value);r=-1;   \
-gtk_editable_delete_text(GTK_EDITABLE(lookup_widget(dialog,#widget_name)), 0,-1);\
-gtk_editable_insert_text(GTK_EDITABLE(lookup_widget(dialog,#widget_name)), str, strlen(str), &amp;r);}
-
-	dialog=create_d3doption();
-//	gtk_transient(dialog);
-        gtk_register_dialog(dialog);
-
-	FILL_ENTRY(entry1,luma);
-	FILL_ENTRY(entry2,chroma);
-	FILL_ENTRY(entry3,temporal);
-
-
-
-	ret=0;
-	if(gtk_dialog_run(GTK_DIALOG(dialog))==GTK_RESPONSE_OK)
-	{
-
-		gchar *s;
-#define READ_ENTRY(widget_name)   gtk_editable_get_chars(GTK_EDITABLE (lookup_widget(dialog,#widget_name)), 0, -1);
-
-			s=READ_ENTRY(entry1);;
-			*luma=(double)atof(s);
-			s=READ_ENTRY(entry2);;
-			*chroma=(double)atoi(s);
-			s=READ_ENTRY(entry3);;
-			*temporal=(double)atoi(s);
-			ret=1;
-	}
-        gtk_unregister_dialog(dialog);
-	gtk_widget_destroy(dialog);
-
-	return ret;
-
-}
-
-
-
-
-
-
-
-
-
-GtkWidget	*create_d3doption (void)
-{
-  GtkWidget *d3doption;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *table1;
-  GtkWidget *label1;
-  GtkWidget *label2;
-  GtkWidget *label3;
-  GtkWidget *entry1;
-  GtkWidget *entry2;
-  GtkWidget *entry3;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *okbutton1;
-
-  d3doption = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (d3doption), _(&quot;dialog1&quot;));
-
-  dialog_vbox1 = GTK_DIALOG (d3doption)-&gt;vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  table1 = gtk_table_new (3, 2, FALSE);
-  gtk_widget_show (table1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), table1, TRUE, TRUE, 0);
-
-  label1 = gtk_label_new (_(&quot;Spatial Luma Thresh&quot;));
-  gtk_widget_show (label1);
-  gtk_table_attach (GTK_TABLE (table1), label1, 0, 1, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_label_set_justify (GTK_LABEL (label1), GTK_JUSTIFY_LEFT);
-  gtk_misc_set_alignment (GTK_MISC (label1), 0, 0.5);
-
-  label2 = gtk_label_new (_(&quot;Spatial Chroma Thresh&quot;));
-  gtk_widget_show (label2);
-  gtk_table_attach (GTK_TABLE (table1), label2, 0, 1, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_label_set_justify (GTK_LABEL (label2), GTK_JUSTIFY_LEFT);
-  gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
-
-  label3 = gtk_label_new (_(&quot;Temporal Thresh&quot;));
-  gtk_widget_show (label3);
-  gtk_table_attach (GTK_TABLE (table1), label3, 0, 1, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_label_set_justify (GTK_LABEL (label3), GTK_JUSTIFY_LEFT);
-  gtk_misc_set_alignment (GTK_MISC (label3), 0, 0.5);
-
-  entry1 = gtk_entry_new ();
-  gtk_widget_show (entry1);
-  gtk_table_attach (GTK_TABLE (table1), entry1, 1, 2, 0, 1,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  entry2 = gtk_entry_new ();
-  gtk_widget_show (entry2);
-  gtk_table_attach (GTK_TABLE (table1), entry2, 1, 2, 1, 2,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  entry3 = gtk_entry_new ();
-  gtk_widget_show (entry3);
-  gtk_table_attach (GTK_TABLE (table1), entry3, 1, 2, 2, 3,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  dialog_action_area1 = GTK_DIALOG (d3doption)-&gt;action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  cancelbutton1 = gtk_button_new_from_stock (&quot;gtk-cancel&quot;);
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (d3doption), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock (&quot;gtk-ok&quot;);
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (d3doption), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (d3doption, d3doption, &quot;d3doption&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (d3doption, dialog_vbox1, &quot;dialog_vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (d3doption, table1, &quot;table1&quot;);
-  GLADE_HOOKUP_OBJECT (d3doption, label1, &quot;label1&quot;);
-  GLADE_HOOKUP_OBJECT (d3doption, label2, &quot;label2&quot;);
-  GLADE_HOOKUP_OBJECT (d3doption, label3, &quot;label3&quot;);
-  GLADE_HOOKUP_OBJECT (d3doption, entry1, &quot;entry1&quot;);
-  GLADE_HOOKUP_OBJECT (d3doption, entry2, &quot;entry2&quot;);
-  GLADE_HOOKUP_OBJECT (d3doption, entry3, &quot;entry3&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (d3doption, dialog_action_area1, &quot;dialog_action_area1&quot;);
-  GLADE_HOOKUP_OBJECT (d3doption, cancelbutton1, &quot;cancelbutton1&quot;);
-  GLADE_HOOKUP_OBJECT (d3doption, okbutton1, &quot;okbutton1&quot;);
-
-  return d3doption;
-}
-

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resizeWiz.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resizeWiz.cpp	2007-01-12 07:15:14 UTC (rev 2708)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resizeWiz.cpp	2007-01-12 18:54:07 UTC (rev 2709)
@@ -1,186 +0,0 @@
-
-/***************************************************************************
-                         DIA_resizeWiz
-                             -------------------
-
-                           Ui for hue &amp; sat
-    copyright            : (C) 2004/5 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-
-
-#include &lt;config.h&gt;
-#include &lt;math.h&gt;
-#include &lt;string.h&gt;
-#include &lt;stdio.h&gt;
-
-#include &lt;gdk/gdkkeysyms.h&gt;
-#include &lt;gtk/gtk.h&gt;
-#include &lt;gdk/gdkkeysyms.h&gt;
-#include &lt;gtk/gtk.h&gt;
-#include &quot;default.h&quot;
-
-#include &quot;ADM_toolkit_gtk/ADM_gladeSupport.h&quot;
-#include &quot;ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;ADM_toolkit_gtk/toolkit_gtk_include.h&quot;
-#include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_assert.h&quot;
-
-#include &quot;DIA_resizeWiz.h&quot;
-
-static GtkWidget       *create_dialog1 (void);
-
-uint8_t DIA_resizeWiz(RESWIZ_FORMAT *format, RESWIZ_AR *source, RESWIZ_AR *destination)
-{
-uint8_t r=0;
-GtkWidget *dialog=create_dialog1();
-        
-        
-
-        // Initialize
-#define COMBINE(x,y) gtk_combo_box_set_active(GTK_COMBO_BOX(WID(x)),(int)*y)
-
-                COMBINE(comboboxSource,source);
-                COMBINE(comboboxFinal,destination);
-                COMBINE(comboboxTarget,format);
-
-        gtk_register_dialog(dialog);
-        if(gtk_dialog_run(GTK_DIALOG(dialog))==GTK_RESPONSE_OK)
-        {
-                r=1;
-#undef COMBINE
-#define COMBINE(x) gtk_combo_box_get_active(GTK_COMBO_BOX(WID(x)));
-                *format=(RESWIZ_FORMAT) COMBINE(comboboxTarget);
-                *source=(RESWIZ_AR)     COMBINE(comboboxSource);
-                *destination=(RESWIZ_AR)COMBINE(comboboxFinal);
-
-        }
-
-
-        gtk_unregister_dialog(dialog);
-        gtk_widget_destroy(dialog);
-        return r;
-}
-
-
-GtkWidget*
-        create_dialog1 (void)
-{
-    GtkWidget *dialog1;
-    GtkWidget *dialog_vbox1;
-    GtkWidget *table1;
-    GtkWidget *label1;
-    GtkWidget *label2;
-    GtkWidget *comboboxSource;
-    GtkWidget *label3;
-    GtkWidget *comboboxFinal;
-    GtkWidget *comboboxTarget;
-    GtkWidget *dialog_action_area1;
-    GtkWidget *cancelbutton1;
-    GtkWidget *okbutton1;
-
-    dialog1 = gtk_dialog_new ();
-    gtk_window_set_title (GTK_WINDOW (dialog1), _(&quot;Resize for VCD/SVCD/....&quot;));
-    gtk_window_set_type_hint (GTK_WINDOW (dialog1), GDK_WINDOW_TYPE_HINT_DIALOG);
-
-    dialog_vbox1 = GTK_DIALOG (dialog1)-&gt;vbox;
-    gtk_widget_show (dialog_vbox1);
-
-    table1 = gtk_table_new (3, 2, FALSE);
-    gtk_widget_show (table1);
-    gtk_box_pack_start (GTK_BOX (dialog_vbox1), table1, TRUE, TRUE, 0);
-
-    label1 = gtk_label_new (_(&quot;Target type : &quot;));
-    gtk_widget_show (label1);
-    gtk_table_attach (GTK_TABLE (table1), label1, 0, 1, 0, 1,
-                      (GtkAttachOptions) (GTK_FILL),
-                      (GtkAttachOptions) (0), 0, 0);
-    gtk_misc_set_alignment (GTK_MISC (label1), 0, 0.5);
-
-    label2 = gtk_label_new (_(&quot;Source Aspect Ratio :&quot;));
-    gtk_widget_show (label2);
-    gtk_table_attach (GTK_TABLE (table1), label2, 0, 1, 1, 2,
-                      (GtkAttachOptions) (GTK_FILL),
-                      (GtkAttachOptions) (0), 0, 0);
-    gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
-
-    comboboxSource = gtk_combo_box_new_text ();
-    gtk_widget_show (comboboxSource);
-    gtk_table_attach (GTK_TABLE (table1), comboboxSource, 1, 2, 1, 2,
-                      (GtkAttachOptions) (GTK_FILL),
-                      (GtkAttachOptions) (GTK_FILL), 0, 0);
-    gtk_container_set_border_width (GTK_CONTAINER (comboboxSource), 1);
-    gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxSource), _(&quot;1:1&quot;));
-    gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxSource), _(&quot;4:3&quot;));
-    gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxSource), _(&quot;16:9&quot;));
-
-    label3 = gtk_label_new (_(&quot;Destination Aspect Ratio :&quot;));
-    gtk_widget_show (label3);
-    gtk_table_attach (GTK_TABLE (table1), label3, 0, 1, 2, 3,
-                      (GtkAttachOptions) (GTK_FILL),
-                      (GtkAttachOptions) (0), 0, 0);
-    gtk_misc_set_alignment (GTK_MISC (label3), 0, 0.5);
-
-    comboboxFinal = gtk_combo_box_new_text ();
-    gtk_widget_show (comboboxFinal);
-    gtk_table_attach (GTK_TABLE (table1), comboboxFinal, 1, 2, 2, 3,
-                      (GtkAttachOptions) (GTK_FILL),
-                      (GtkAttachOptions) (GTK_FILL), 0, 0);
-    gtk_container_set_border_width (GTK_CONTAINER (comboboxFinal), 1);
-    gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxFinal), _(&quot;1:1&quot;));
-    gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxFinal), _(&quot;4:3&quot;));
-    gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxFinal), _(&quot;16:9&quot;));
-
-    comboboxTarget = gtk_combo_box_new_text ();
-    gtk_widget_show (comboboxTarget);
-    gtk_table_attach (GTK_TABLE (table1), comboboxTarget, 1, 2, 0, 1,
-                      (GtkAttachOptions) (GTK_FILL),
-                      (GtkAttachOptions) (GTK_FILL), 0, 0);
-    gtk_container_set_border_width (GTK_CONTAINER (comboboxTarget), 1);
-    gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxTarget), _(&quot;VCD&quot;));
-    gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxTarget), _(&quot;SVCD&quot;));
-    gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxTarget), _(&quot;DVD&quot;));
-    gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxTarget), _(&quot;DVD, half D1&quot;));
-    gtk_combo_box_append_text (GTK_COMBO_BOX (comboboxTarget), _(&quot;PSP&quot;));
-
-    dialog_action_area1 = GTK_DIALOG (dialog1)-&gt;action_area;
-    gtk_widget_show (dialog_action_area1);
-    gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-    cancelbutton1 = gtk_button_new_from_stock (&quot;gtk-cancel&quot;);
-    gtk_widget_show (cancelbutton1);
-    gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
-    GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-    okbutton1 = gtk_button_new_from_stock (&quot;gtk-ok&quot;);
-    gtk_widget_show (okbutton1);
-    gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
-    GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-    /* Store pointers to all widgets, for use by lookup_widget(). */
-    GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, &quot;dialog1&quot;);
-    GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, &quot;dialog_vbox1&quot;);
-    GLADE_HOOKUP_OBJECT (dialog1, table1, &quot;table1&quot;);
-    GLADE_HOOKUP_OBJECT (dialog1, label1, &quot;label1&quot;);
-    GLADE_HOOKUP_OBJECT (dialog1, label2, &quot;label2&quot;);
-    GLADE_HOOKUP_OBJECT (dialog1, comboboxSource, &quot;comboboxSource&quot;);
-    GLADE_HOOKUP_OBJECT (dialog1, label3, &quot;label3&quot;);
-    GLADE_HOOKUP_OBJECT (dialog1, comboboxFinal, &quot;comboboxFinal&quot;);
-    GLADE_HOOKUP_OBJECT (dialog1, comboboxTarget, &quot;comboboxTarget&quot;);
-    GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, &quot;dialog_action_area1&quot;);
-    GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, &quot;cancelbutton1&quot;);
-    GLADE_HOOKUP_OBJECT (dialog1, okbutton1, &quot;okbutton1&quot;);
-
-    return dialog1;
-}
-

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-01-12 07:15:14 UTC (rev 2708)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-01-12 18:54:07 UTC (rev 2709)
@@ -9,18 +9,18 @@
 libADM_dialog_a_METASOURCES = AUTO
 
 libADM_dialog_a_SOURCES = DIA_audio.cpp DIA_vcodec.cpp DIA_acodec.cpp \
-	DIA_audiocodec.cpp DIA_properties.cpp DIA_mjpeg.cpp DIA_about.cpp DIA_recent.cpp \
+	DIA_properties.cpp DIA_mjpeg.cpp DIA_about.cpp DIA_recent.cpp \
 	DIA_indexer.cpp DIA_resize.cpp DIA_working.cpp \
 	DIA_working.h DIA_busy.cpp DIA_busy.h DIA_exLame.cpp DIA_pipe.cpp DIA_mpeg2opt.cpp \
-	DIA_d3d.cpp DIA_postproc.cpp DIA_enter.cpp DIA_enter.h DIA_xvcd.cpp DIA_muxer.cpp \
+	DIA_postproc.cpp DIA_enter.cpp DIA_enter.h DIA_xvcd.cpp DIA_muxer.cpp \
 	DIA_xvid.cpp DIA_crop.cpp DIA_color.cpp DIA_encoding.cpp DIA_SVCD.cpp DIA_prefs.cpp \
 	DIA_requant.cpp DIA_xvid4.cpp DIA_lavcodec.cpp \
 	DIA_dectel.cpp DIA_decimate.cpp DIA_pause.cpp \
 	DIA_DVDff.cpp DIA_lavdecoder.cpp DIA_lame.cpp DIA_calculator.cpp DIA_equalizer.cpp \
 	DIA_vobsub.cpp DIA_x264.cpp DIA_ocr.cpp  DIA_hue.cpp DIA_eq2.cpp \
 	DIA_asharp.cpp DIA_dmx.cpp DIA_idx_pg.cpp DIA_gototime.cpp \
-	DIA_audioTrack.cpp DIA_cnr2.cpp DIA_resizeWiz.cpp DIA_jobs.cpp DIA_jobs_save.cpp DIA_mosaic.cpp \
-	DIA_deblend.cpp DIA_v2v.cpp DIA_tdeint.cpp DIA_builtin.cpp DIA_mpdelogo.cpp DIA_vorbis.cpp \
+	DIA_audioTrack.cpp DIA_cnr2.cpp DIA_jobs.cpp DIA_jobs_save.cpp DIA_mosaic.cpp \
+	DIA_deblend.cpp DIA_v2v.cpp DIA_tdeint.cpp DIA_mpdelogo.cpp DIA_vorbis.cpp \
         DIA_chromaShift.cpp \
         \
         DIA_preview.cpp \
@@ -40,19 +40,19 @@
 
 EXTRA_DIST =  DIA_enter.cpp     \
 DIA_mcdeint.cpp     DIA_resize.cpp \
-DIA_cnr2.cpp          DIA_enter.h          DIA_mjpeg.cpp       DIA_resizeWiz.cpp \
-DIA_DVDff.cpp        DIA_color.cpp         DIA_eq2.cpp          DIA_mosaic.cpp      DIA_resizeWiz.h \
+DIA_cnr2.cpp          DIA_enter.h          DIA_mjpeg.cpp       \
+DIA_DVDff.cpp        DIA_color.cpp         DIA_eq2.cpp          DIA_mosaic.cpp      \
 DIA_coloryuv.cpp      DIA_equalizer.cpp    DIA_mpdelogo.cpp    DIA_rotate.cpp \
 DIA_SVCD.cpp         DIA_contrast.cpp      DIA_exLame.cpp       DIA_mpeg2opt.cpp    DIA_srt.cpp \
 DIA_about.cpp        DIA_conv.cpp          DIA_tdeint.cpp \
 DIA_acodec.cpp       DIA_crop.cpp          DIA_gototime.cpp     DIA_muxer.cpp       DIA_v2v.cpp \
-DIA_animated.cpp     DIA_d3d.cpp           DIA_hue.cpp          DIA_ocr.cpp         DIA_vcodec.cpp \
+DIA_animated.cpp     DIA_hue.cpp          DIA_ocr.cpp         DIA_vcodec.cpp \
 DIA_asharp.cpp       DIA_deblend.cpp       DIA_idx_pg.cpp       DIA_partial.cpp     DIA_vobsub.cpp \
 DIA_audio.cpp        DIA_decimate.cpp      DIA_idx_pg.h         DIA_pause.cpp       DIA_vorbis.cpp \
 DIA_audioTrack.cpp   DIA_dectel.cpp        DIA_indexer.cpp      DIA_pipe.cpp        DIA_working.cpp \
-DIA_audiocodec.cpp   DIA_defaultAudio.cpp  DIA_jobs.cpp         DIA_postproc.cpp    DIA_working.h \
+DIA_defaultAudio.cpp  DIA_jobs.cpp         DIA_postproc.cpp    DIA_working.h \
 DIA_jobs_save.cpp    DIA_prefs.cpp       DIA_x264.cpp \
-DIA_builtin.cpp      DIA_preview.cpp     DIA_xvcd.cpp \
+DIA_preview.cpp     DIA_xvcd.cpp \
 DIA_busy.cpp         DIA_dmx.cpp           DIA_lame.cpp         DIA_properties.cpp  DIA_xvid.cpp \
 DIA_busy.h           DIA_lavcodec.cpp     DIA_quota.cpp       DIA_xvid4.cpp \
 DIA_calculator.cpp   DIA_encoding.cpp      DIA_lavdecoder.cpp   DIA_recent.cpp \

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp (from rev 2531, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_builtin.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_builtin.cpp	2006-11-01 13:12:19 UTC (rev 2531)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp	2007-01-12 18:54:07 UTC (rev 2709)
@@ -0,0 +1,138 @@
+//
+/**/
+/***************************************************************************
+                          DIA_hue
+                             -------------------
+
+                           Ui for hue &amp; sat
+
+    begin                : 08 Apr 2005
+    copyright            : (C) 2004/5 by mean
+    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+
+
+#include &lt;config.h&gt;
+
+
+#include &lt;string.h&gt;
+#include &lt;stdio.h&gt;
+# include &lt;math.h&gt;
+
+
+#include &quot;default.h&quot;
+#include &quot;default.h&quot;
+#include &quot;ADM_assert.h&quot;
+
+#include &quot;DIA_factory.h&quot;
+#define CHECK_SET(x) {gtk_toggle_button_set_active( GTK_TOGGLE_BUTTON(WID(x)),1);}
+/**
+    \fn DIA_builtin(void)
+    \brief Display component that are built in. They are detected at configure time.
+
+*/
+
+uint8_t DIA_builtin(void)
+{
+  uint32_t altivec=0,mad=0,a52dec=0,xvid4=0,X264=0,freetype=0,esd=0,arts=0,vorbis=0,win32=0;
+  uint32_t faac=0,faad=0,dca=0,aften=0;
+  
+#ifdef USE_ALTIVEC
+        altivec=1;
+#endif
+#ifdef USE_MP3
+        mad=1;
+#endif
+#ifdef USE_AC3
+        a52dec=1;
+#endif
+#ifdef USE_XVID_4
+        xvid4=1;
+#endif
+#ifdef USE_X264
+        X264=1;
+#endif
+#ifdef USE_FREETYPE
+        freetype=1;
+#endif
+#ifdef USE_ESD
+        esd=1;
+#endif
+#ifdef USE_ARTS
+        arts=1;
+#endif
+#ifdef USE_VORBIS
+        vorbis=1;
+#endif
+#ifdef CYG_MANGLING
+        win32=1;
+#endif
+#ifdef USE_FAAC
+        faac=1;
+#endif
+#ifdef USE_FAAD
+        faad=1;
+#endif
+#ifdef USE_LIBDCA
+        dca=1;
+#endif
+
+#ifdef USE_AFTEN
+        aften=1;
+#endif
+
+        
+#define CREATE_TOGGLE(x)  diaElemToggle     t##x(&amp;x,_(&quot;Option &quot;#x));
+    
+    
+    CREATE_TOGGLE(mad)
+    CREATE_TOGGLE(a52dec)
+    CREATE_TOGGLE(xvid4)
+    CREATE_TOGGLE(X264)
+    CREATE_TOGGLE(freetype)
+    CREATE_TOGGLE(esd)
+    CREATE_TOGGLE(arts)
+    CREATE_TOGGLE(vorbis)
+    CREATE_TOGGLE(faac)
+    CREATE_TOGGLE(faad)
+    
+    CREATE_TOGGLE(dca)
+    CREATE_TOGGLE(altivec)
+    CREATE_TOGGLE(win32)
+    CREATE_TOGGLE(aften)
+    
+      diaElem *elems[]={
+#undef CREATE_TOGGLE
+#define CREATE_TOGGLE(x) &amp;(t##x),
+    CREATE_TOGGLE(mad)
+    CREATE_TOGGLE(a52dec)
+    CREATE_TOGGLE(xvid4)
+    CREATE_TOGGLE(X264)
+    CREATE_TOGGLE(freetype)
+    CREATE_TOGGLE(esd)
+    CREATE_TOGGLE(arts)
+    CREATE_TOGGLE(vorbis)
+    CREATE_TOGGLE(faac)
+    CREATE_TOGGLE(faad)
+    
+    CREATE_TOGGLE(aften)
+    CREATE_TOGGLE(dca)
+    CREATE_TOGGLE(altivec)
+    CREATE_TOGGLE(win32)
+      
+      };
+    diaFactoryRun(&quot;Component built in&quot;,sizeof(elems)/sizeof(diaElem *),elems);
+
+    return 1;
+
+}

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp (from rev 2531, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resizeWiz.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resizeWiz.cpp	2006-11-01 13:12:19 UTC (rev 2531)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp	2007-01-12 18:54:07 UTC (rev 2709)
@@ -0,0 +1,74 @@
+
+/***************************************************************************
+                         DIA_resizeWiz
+                             -------------------
+
+                           Ui for hue &amp; sat
+    copyright            : (C) 2004/5 by mean
+    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+
+
+#include &lt;config.h&gt;
+#include &lt;math.h&gt;
+#include &lt;string.h&gt;
+#include &lt;stdio.h&gt;
+
+#include &quot;default.h&quot;
+
+#include &quot;ADM_assert.h&quot;
+
+#include &quot;DIA_resizeWiz.h&quot;
+#include &quot;DIA_factory.h&quot;
+
+
+uint8_t DIA_resizeWiz(RESWIZ_FORMAT *format, RESWIZ_AR *source, RESWIZ_AR *destination)
+{
+uint8_t r=0;
+#define ONELINE(x,y) {RESWIZ_##x,_(y),NULL}
+            diaMenuEntry menuFTarget[6]={
+                             ONELINE(VCD,&quot;VCD&quot;),
+                             ONELINE(SVCD,&quot;SVCD&quot;),
+                             ONELINE(DVD,&quot;DVD&quot;),
+                             ONELINE(DVD_HD1,&quot;DVD Half D1&quot;),
+                             ONELINE(PSP,&quot;PSP&quot;),
+                             ONELINE(PSP_FULLRES,&quot;PSP Full Res&quot;),
+                          };
+             diaMenuEntry menuFAspect[3]={
+               {RESWIZ_AR_1_1,&quot;1:1&quot;,NULL},
+               {RESWIZ_AR_4_3,&quot;4:3&quot;,NULL},
+               {RESWIZ_AR_16_9,&quot;16:9&quot;,NULL}
+                          };
+  
+  
+                          
+    uint32_t tformat=(uint32_t )*format;
+    uint32_t tsource=(uint32_t )*source;
+    uint32_t tdestination=(uint32_t )*destination;
+                          
+    diaElemMenu     menu1(&amp;tformat,_(&quot;Target type&quot;), 6,menuFTarget);
+    diaElemMenu     menu2(&amp;tsource,_(&quot;Source aspect ratio&quot;), 3,menuFAspect);
+    diaElemMenu     menu3(&amp;tdestination,_(&quot;Dest. aspect ratio&quot;), 3,menuFAspect);
+    
+    
+    
+      diaElem *elems[3]={&amp;menu1,&amp;menu2,&amp;menu3};
+    if(diaFactoryRun(&quot;Resize Type&quot;,3,elems))
+    {
+       *format=(RESWIZ_FORMAT) tformat;
+       *source=(RESWIZ_AR) tsource;
+       *destination=(RESWIZ_AR) tdestination;
+      return 1; 
+    }
+    return 0;
+}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.h	2007-01-12 07:15:14 UTC (rev 2708)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.h	2007-01-12 18:54:07 UTC (rev 2709)
@@ -26,8 +26,10 @@
         RESWIZ_SVCD,
         RESWIZ_DVD,
         RESWIZ_DVD_HD1,
-        RESWIZ_PSP
+        RESWIZ_PSP,
+        RESWIZ_PSP_FULLRES,
         
+        
 };
 
 typedef enum RESWIZ_AR

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-01-12 07:15:14 UTC (rev 2708)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-01-12 18:54:07 UTC (rev 2709)
@@ -1,6 +1,6 @@
 noinst_LIBRARIES = libADM_CommonUI.a 
 libADM_CommonUI_a_METASOURCES = AUTO
-libADM_CommonUI_a_SOURCES = GUI_sdlRender.cpp  GUI_xvRender.cpp 
+libADM_CommonUI_a_SOURCES = GUI_sdlRender.cpp  GUI_xvRender.cpp  DIA_resizeWiz.cpp DIA_builtin.cpp
 
 INCLUDES = $(all_includes) $(GTK_CFLAGS) $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \
 		-I./../../ADM_libraries/ADM_utilities \

Modified: branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2007-01-12 07:15:14 UTC (rev 2708)
+++ branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2007-01-12 18:54:07 UTC (rev 2709)
@@ -2074,8 +2074,6 @@
    }
    ADM_dealloc(longname);
 }
-//---------------------
-extern int DIA_audioEncoder(int *pmode, int *pbitrate,const char *title);
 /**---------------------------------------------------
 		Pipe to toolame
 -------------------------------------------------------**/

Modified: branches/avidemux_2.4_branch/avidemux/gui_autodrive.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/gui_autodrive.cpp	2007-01-12 07:15:14 UTC (rev 2708)
+++ branches/avidemux_2.4_branch/avidemux/gui_autodrive.cpp	2007-01-12 18:54:07 UTC (rev 2709)
@@ -59,7 +59,14 @@
                 case ACT_AUTO_PSP:
                 case ACT_AUTO_PSP_H264:
                     // Resize
+                  if(action==ACT_AUTO_PSP_H264)
+                  {
+                    if(!setPSPFullRes()) return 0;
+                  }
+                  else
+                  {
                     if(!setPSP()) return 0;
+                  }
                     // Video codec
                     switch(action)
                     {


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000036.html">[Avidemux-svn-commit] r2708 - in	branches/avidemux_2.4_branch/avidemux:	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialog ADM_video ADM_videoFilter
</A></li>
	<LI>Next message: <A HREF="000038.html">[Avidemux-svn-commit] r2710 -	branches/avidemux_2.4_branch/avidemux/ADM_videoFilter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37">[ date ]</a>
              <a href="thread.html#37">[ thread ]</a>
              <a href="subject.html#37">[ subject ]</a>
              <a href="author.html#37">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
