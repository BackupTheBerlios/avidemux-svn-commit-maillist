<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r2767 - in	branches/avidemux_2.4_branch/avidemux: .	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialog	ADM_userInterfaces/ADM_commonUI
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2007-January/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r2767%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20.%0A%09ADM_userInterfaces/ADM_GTK/ADM_dialog%0A%09ADM_userInterfaces/ADM_NONE/ADM_dialog%0A%09ADM_userInterfaces/ADM_QT4/ADM_dialog%0A%09ADM_userInterfaces/ADM_commonUI&In-Reply-To=%3C200701221941.l0MJf4fP031941%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000092.html">
   <LINK REL="Next"  HREF="000094.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r2767 - in	branches/avidemux_2.4_branch/avidemux: .	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialog	ADM_userInterfaces/ADM_commonUI</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r2767%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20.%0A%09ADM_userInterfaces/ADM_GTK/ADM_dialog%0A%09ADM_userInterfaces/ADM_NONE/ADM_dialog%0A%09ADM_userInterfaces/ADM_QT4/ADM_dialog%0A%09ADM_userInterfaces/ADM_commonUI&In-Reply-To=%3C200701221941.l0MJf4fP031941%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r2767 - in	branches/avidemux_2.4_branch/avidemux: .	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialog	ADM_userInterfaces/ADM_commonUI">mean at mail.berlios.de
       </A><BR>
    <I>Mon Jan 22 20:41:04 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000092.html">[Avidemux-svn-commit] r2766 - in	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:	ADM_GTK/ADM_dialog ADM_NONE/ADM_dialog ADM_QT4/ADM_dialog	ADM_commonUI
</A></li>
        <LI>Next message: <A HREF="000094.html">[Avidemux-svn-commit] r2768 - in	branches/avidemux_2.4_branch/avidemux: ADM_audiofilter	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialog	ADM_userInterfaces/ADM_commonUI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#93">[ date ]</a>
              <a href="thread.html#93">[ thread ]</a>
              <a href="subject.html#93">[ subject ]</a>
              <a href="author.html#93">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2007-01-22 20:41:03 +0100 (Mon, 22 Jan 2007)
New Revision: 2767

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_enter.cpp
Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_enter.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/alert_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/alert_qt4.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
   branches/avidemux_2.4_branch/avidemux/Makefile.am
Log:
dialog factory for DIA_enter

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_enter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_enter.cpp	2007-01-22 19:23:29 UTC (rev 2766)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_enter.cpp	2007-01-22 19:41:03 UTC (rev 2767)
@@ -1,343 +0,0 @@
-#include &lt;sys/types.h&gt;
-#include &lt;sys/stat.h&gt;
-#include &lt;unistd.h&gt;
-#include &lt;string.h&gt;
-#include &lt;stdio.h&gt;
-
-#include &lt;gdk/gdkkeysyms.h&gt;
-#include &lt;gtk/gtk.h&gt;
-
-
-#include &lt;gdk/gdkkeysyms.h&gt;
-#include &lt;gtk/gtk.h&gt;
-# include &lt;math.h&gt;
-# include &quot;config.h&quot;
-#include &quot;default.h&quot;
-#include &quot;ADM_toolkit_gtk/ADM_gladeSupport.h&quot;
-#include &quot;ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;ADM_toolkit_gtk/toolkit_gtk_include.h&quot;
-
-
-#include &quot;DIA_enter.h&quot;
-static GtkWidget        *create_dialog3 (void);
-static GtkWidget	*create_dialog1 (void);
-static GtkWidget	*create_dialog2 (int mmin, int mmax);
-
-uint8_t  		GUI_getIntegerValue(int *valye, int min, int max, const char *title)
-{
-	return DIA_GetIntegerValue(valye,min,max,title,title);
-}
-uint8_t  DIA_GetIntegerValue(int *value, int min, int max, const char *title, const char *legend)
-{
-
-    	int d;
-    	char *str;
-    	char string[250];
-      	char s[250];
-      	sprintf(s,&quot;%s (%d -- %d)&quot;,legend,min,max);
-
-	GtkWidget *dialog;
-	int ret=-1;
-
-	while(ret==-1)
-	{
-		dialog=create_dialog2(min,max);
-		gtk_register_dialog(dialog);
-                gtk_widget_grab_focus (WID(spinbutton1));
-                gtk_widget_grab_default(WID(okbutton1));
-		sprintf(string,&quot;%d&quot;,*value);
-
-        	//gtk_entry_set_text(GTK_ENTRY(lookup_widget(dialog,&quot;entry1&quot;)),string);
-		gtk_window_set_title (GTK_WINDOW (dialog), title);
-		gtk_label_set_text(GTK_LABEL(lookup_widget(dialog,&quot;label1&quot;)),s);
-
-		gtk_spin_button_set_value(GTK_SPIN_BUTTON(WID(spinbutton1)),(gfloat)*value) ;
-		
-		if(gtk_dialog_run(GTK_DIALOG(dialog))==GTK_RESPONSE_OK)
-		{
-			d = (uint32_t) gtk_spin_button_get_value_as_int(
-								GTK_SPIN_BUTTON(WID(spinbutton1)));
-  			if((d&gt;=min) &amp;&amp; ( d&lt;=max))
-     				{
-           	 	 	*value=d;
-              			ret= 1;
-	         		}
-			else
-				ret=-1;
-		}
-		else
-			ret=0;
-                gtk_unregister_dialog(dialog);
-                gtk_widget_destroy(dialog);
-	};
-	return ret;
-}
-
-uint8_t  DIA_GetFloatValue(float *value, float min, float max, const char *title, const char *legend)
-{
-
-
-	float d;
-    	char *str;
-    	char string[250];
-      	char s[250];
-        	sprintf(s,&quot;%s (%f -- %f)&quot;,legend,min,max);
-
-	GtkWidget *dialog;
-	int ret=-1;
-
-	while(ret==-1)
-	{
-		dialog=create_dialog1();
-		gtk_register_dialog(dialog);
-		sprintf(string,&quot;%f&quot;,*value);
-
-        	gtk_entry_set_text(GTK_ENTRY(lookup_widget(dialog,&quot;entry1&quot;)),string);
-		gtk_window_set_title (GTK_WINDOW (dialog), title);
-		gtk_label_set_text(GTK_LABEL(lookup_widget(dialog,&quot;legend&quot;)),s);
-
-		if(gtk_dialog_run(GTK_DIALOG(dialog))==GTK_RESPONSE_OK)
-		{
-
-  			str = gtk_editable_get_chars(GTK_EDITABLE(lookup_widget(dialog,&quot;entry1&quot;)), 0, -1);
-	  		d = atof(str);
-    			if((d&gt;=min) &amp;&amp; ( d&lt;=max))
-     				{
-           	 	 	*value=d;
-              			ret= 1;
-	         		}
-			else
-				ret=-1;
-		}
-		else
-			ret=0;
-	gtk_unregister_dialog(dialog);
-	gtk_widget_destroy(dialog);
-	};
-	return ret;
-}
-
-//***************************************************
-uint8_t  DIA_enterString_HIG(const char *title, const char *second, char **outname)
-{
-        int ret=0;
-        GtkWidget *dialog;
-        
-
-        char *alertstring;
-        *outname=NULL;
-     
-        alertstring = g_strconcat(&quot;&lt;span size=\&quot;larger\&quot; weight=\&quot;bold\&quot;&gt;&quot;, title, &quot;&lt;/span&gt;\n\n&quot;, NULL);
-                
-
-        dialog=create_dialog3();
-        gtk_label_set_text(GTK_LABEL(WID(label1)), alertstring);
-        g_free(alertstring);
-
-        gtk_label_set_text(GTK_LABEL(WID(label2)), second);
-
-        gtk_label_set_use_markup(GTK_LABEL(WID(label1)), TRUE);
-        gtk_register_dialog(dialog);
-
-        if(gtk_dialog_run(GTK_DIALOG(dialog))==GTK_RESPONSE_OK)
-        {
-                ret=1;
-                *outname=ADM_strdup( gtk_editable_get_chars(GTK_EDITABLE ((WID(entry1))), 0, -1));
-        }
-        gtk_unregister_dialog(dialog);
-        gtk_widget_destroy(dialog);
-        UI_purge();
-        return ret;
-}
-//***************************************************
-GtkWidget	*create_dialog1 (void)
-{
-  GtkWidget *dialog1;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *vbox1;
-  GtkWidget *legend;
-  GtkWidget *entry1;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *okbutton1;
-
-  dialog1 = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog1), _(&quot;Title&quot;));
-
-  dialog_vbox1 = GTK_DIALOG (dialog1)-&gt;vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  vbox1 = gtk_vbox_new (FALSE, 0);
-  gtk_widget_show (vbox1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), vbox1, FALSE, FALSE, 0);
-
-  legend = gtk_label_new (_(&quot;label1&quot;));
-  gtk_widget_show (legend);
-  gtk_box_pack_start (GTK_BOX (vbox1), legend, FALSE, FALSE, 0);
-  gtk_label_set_justify (GTK_LABEL (legend), GTK_JUSTIFY_LEFT);
-
-  entry1 = gtk_entry_new ();
-  gtk_widget_show (entry1);
-  gtk_box_pack_start (GTK_BOX (vbox1), entry1, FALSE, FALSE, 0);
-
-  dialog_action_area1 = GTK_DIALOG (dialog1)-&gt;action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  cancelbutton1 = gtk_button_new_from_stock (&quot;gtk-cancel&quot;);
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock (&quot;gtk-ok&quot;);
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, &quot;dialog1&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, &quot;dialog_vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, vbox1, &quot;vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, legend, &quot;legend&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, entry1, &quot;entry1&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, &quot;dialog_action_area1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, &quot;cancelbutton1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, okbutton1, &quot;okbutton1&quot;);
-
-  return dialog1;
-}
-
-GtkWidget	*create_dialog2 (int mmin, int mmax)
-{
-  GtkWidget *dialog1;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *vbox1;
-  GtkWidget *label1;
-  GtkObject *spinbutton1_adj;
-  GtkWidget *spinbutton1;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *okbutton1;
-
-  dialog1 = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog1), _(&quot;dialog1&quot;));
-
-  dialog_vbox1 = GTK_DIALOG (dialog1)-&gt;vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  vbox1 = gtk_vbox_new (FALSE, 0);
-  gtk_widget_show (vbox1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), vbox1, TRUE, TRUE, 0);
-
-  label1 = gtk_label_new (_(&quot;label1&quot;));
-  gtk_widget_show (label1);
-  gtk_box_pack_start (GTK_BOX (vbox1), label1, FALSE, FALSE, 0);
-  gtk_label_set_justify (GTK_LABEL (label1), GTK_JUSTIFY_LEFT);
-
-  spinbutton1_adj = gtk_adjustment_new (1, mmin, mmax, 1, 10, 10);
-  spinbutton1 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton1_adj), 1, 0);
-  gtk_widget_show (spinbutton1);
-  gtk_box_pack_start (GTK_BOX (vbox1), spinbutton1, FALSE, FALSE, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton1), TRUE);
-  GTK_WIDGET_UNSET_FLAGS (spinbutton1, GTK_CAN_DEFAULT);
-
-  dialog_action_area1 = GTK_DIALOG (dialog1)-&gt;action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  cancelbutton1 = gtk_button_new_from_stock (&quot;gtk-cancel&quot;);
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock (&quot;gtk-ok&quot;);
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, &quot;dialog1&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, &quot;dialog_vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, vbox1, &quot;vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label1, &quot;label1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, spinbutton1, &quot;spinbutton1&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, &quot;dialog_action_area1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, &quot;cancelbutton1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, okbutton1, &quot;okbutton1&quot;);
-
-  gtk_widget_grab_focus (okbutton1);
-  gtk_widget_grab_default (okbutton1);
-  return dialog1;
-}
-
-
-GtkWidget *create_dialog3 (void)
-{
-  GtkWidget *dialog3;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *vbox1;
-  GtkWidget *label1;
-  GtkWidget *hbox1;
-  GtkWidget *label2;
-  GtkWidget *entry1;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *okbutton1;
-
-  dialog3 = gtk_dialog_new ();
-  gtk_window_set_type_hint (GTK_WINDOW (dialog3), GDK_WINDOW_TYPE_HINT_DIALOG);
-
-  dialog_vbox1 = GTK_DIALOG (dialog3)-&gt;vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  vbox1 = gtk_vbox_new (FALSE, 0);
-  gtk_widget_show (vbox1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), vbox1, TRUE, TRUE, 0);
-
-  label1 = gtk_label_new (_(&quot;label1&quot;));
-  gtk_widget_show (label1);
-  gtk_box_pack_start (GTK_BOX (vbox1), label1, TRUE, TRUE, 0);
-
-  hbox1 = gtk_hbox_new (FALSE, 0);
-  gtk_widget_show (hbox1);
-  gtk_box_pack_start (GTK_BOX (vbox1), hbox1, TRUE, TRUE, 0);
-
-  label2 = gtk_label_new (_(&quot;label2&quot;));
-  gtk_widget_show (label2);
-  gtk_box_pack_start (GTK_BOX (hbox1), label2, FALSE, FALSE, 0);
-
-  entry1 = gtk_entry_new ();
-  gtk_widget_show (entry1);
-  gtk_box_pack_start (GTK_BOX (hbox1), entry1, TRUE, TRUE, 0);
-  GTK_WIDGET_SET_FLAGS (entry1, GTK_CAN_DEFAULT);
-
-  dialog_action_area1 = GTK_DIALOG (dialog3)-&gt;action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  cancelbutton1 = gtk_button_new_from_stock (&quot;gtk-cancel&quot;);
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog3), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock (&quot;gtk-ok&quot;);
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog3), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog3, dialog3, &quot;dialog3&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog3, dialog_vbox1, &quot;dialog_vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog3, vbox1, &quot;vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog3, label1, &quot;label1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog3, hbox1, &quot;hbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog3, label2, &quot;label2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog3, entry1, &quot;entry1&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog3, dialog_action_area1, &quot;dialog_action_area1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog3, cancelbutton1, &quot;cancelbutton1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog3, okbutton1, &quot;okbutton1&quot;);
-
-  gtk_widget_grab_default (okbutton1);
-  return dialog3;
-}
-

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-01-22 19:23:29 UTC (rev 2766)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-01-22 19:41:03 UTC (rev 2767)
@@ -12,7 +12,7 @@
 	DIA_properties.cpp DIA_mjpeg.cpp DIA_about.cpp DIA_recent.cpp \
 	DIA_indexer.cpp DIA_resize.cpp DIA_working.cpp \
 	DIA_working.h DIA_busy.cpp DIA_busy.h DIA_exLame.cpp DIA_pipe.cpp DIA_mpeg2opt.cpp \
-	DIA_enter.cpp DIA_enter.h DIA_xvcd.cpp DIA_muxer.cpp \
+	DIA_xvcd.cpp DIA_muxer.cpp \
 	DIA_xvid.cpp DIA_crop.cpp DIA_color.cpp DIA_encoding.cpp DIA_SVCD.cpp DIA_prefs.cpp \
 	DIA_requant.cpp DIA_xvid4.cpp DIA_lavcodec.cpp \
 	DIA_pause.cpp \
@@ -38,9 +38,9 @@
 
 
 
-EXTRA_DIST =  DIA_enter.cpp     \
+EXTRA_DIST =  \
 DIA_mcdeint.cpp     DIA_resize.cpp \
-DIA_cnr2.cpp          DIA_enter.h          DIA_mjpeg.cpp       \
+DIA_cnr2.cpp          DIA_mjpeg.cpp       \
 DIA_DVDff.cpp        DIA_color.cpp         DIA_eq2.cpp          \
 DIA_coloryuv.cpp      DIA_equalizer.cpp    DIA_mpdelogo.cpp    DIA_rotate.cpp \
 DIA_SVCD.cpp         DIA_contrast.cpp      DIA_exLame.cpp       DIA_mpeg2opt.cpp    DIA_srt.cpp \

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-01-22 19:23:29 UTC (rev 2766)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-01-22 19:41:03 UTC (rev 2767)
@@ -113,11 +113,7 @@
 int DIA_defaultSettings(ADM_audioEncoderDescriptor *descriptor){return 0;}
 uint8_t getFFCompressParams (COMPRES_PARAMS * incoming) {return 0;}
 uint8_t DIA_quota(char *) {return 0;}
-uint8_t  DIA_GetFloatValue(float *value, float min, float max, const char *title, const char *legend){return 0;}
-uint8_t  DIA_GetIntegerValue(int *value, int min, int max, const char *title, const char *legend){return 0;}
 
-uint8_t  DIA_enterString_HIG(const char *title, const char *second, char **outname){return 0;}
-
 uint8_t  DIA_job_select(char **jobname, char **filename) {return 0;}
 uint8_t DIA_audioTrack(AudioSource *source, uint32_t *track,uint32_t nbTrack, audioInfo *infos){return 0;}
 const char * GUI_getCustomScript(uint32_t nb) {return 0;}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/alert_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/alert_none.cpp	2007-01-22 19:23:29 UTC (rev 2766)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/alert_none.cpp	2007-01-22 19:41:03 UTC (rev 2767)
@@ -242,15 +242,6 @@
   
   return 0; 
 }
-uint8_t  GUI_getIntegerValue(int *valye, int min, int max, const char *title)
-{
- boxStart();
-  boxAdd(&quot;INTEGERVALUE stub&quot;);
-  boxAdd(title);
-  boxEnd();
-  
-  return 0; 
-}
 
 uint8_t		isQuiet(void)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-01-22 19:23:29 UTC (rev 2766)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-01-22 19:41:03 UTC (rev 2767)
@@ -113,11 +113,7 @@
 int DIA_defaultSettings(ADM_audioEncoderDescriptor *descriptor){return 0;}
 uint8_t getFFCompressParams (COMPRES_PARAMS * incoming) {return 0;}
 uint8_t DIA_quota(char *) {return 0;}
-uint8_t  DIA_GetFloatValue(float *value, float min, float max, const char *title, const char *legend){return 0;}
-uint8_t  DIA_GetIntegerValue(int *value, int min, int max, const char *title, const char *legend){return 0;}
 
-uint8_t  DIA_enterString_HIG(const char *title, const char *second, char **outname){return 0;}
-
 uint8_t  DIA_job_select(char **jobname, char **filename) {return 0;}
 uint8_t DIA_audioTrack(AudioSource *source, uint32_t *track,uint32_t nbTrack, audioInfo *infos){return 0;}
 const char * GUI_getCustomScript(uint32_t nb) {return 0;}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/alert_qt4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/alert_qt4.cpp	2007-01-22 19:23:29 UTC (rev 2766)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/alert_qt4.cpp	2007-01-22 19:41:03 UTC (rev 2767)
@@ -228,13 +228,6 @@
   return 0; 
 }
 //****************************************************************************************************
-uint8_t  GUI_getIntegerValue(int *valye, int min, int max, const char *title)
-{
- 
-  
-  return 0; 
-}
-//****************************************************************************************************
 uint8_t		isQuiet(void)
 {
     return beQuiet;

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_enter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_enter.cpp	2007-01-22 19:23:29 UTC (rev 2766)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_enter.cpp	2007-01-22 19:41:03 UTC (rev 2767)
@@ -0,0 +1,79 @@
+/***************************************************************************
+                          DIA_enter.cpp
+  
+  (C) Mean 2007 <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include &quot;config.h&quot;
+#include &lt;sys/types.h&gt;
+#include &lt;sys/stat.h&gt;
+#include &lt;unistd.h&gt;
+#include &lt;string.h&gt;
+#include &lt;stdio.h&gt;
+# include &lt;math.h&gt;
+# include &quot;config.h&quot;
+#include &quot;default.h&quot;
+
+#include &quot;ADM_assert.h&quot;
+
+#include &quot;DIA_enter.h&quot;
+#include &quot;DIA_factory.h&quot;
+
+uint8_t  		GUI_getIntegerValue(int *valye, int min, int max, const char *title)
+{
+	return DIA_GetIntegerValue(valye,min,max,title,title);
+}
+/**
+      \fn DIA_GetIntegerValue( 
+      \brief Popup a window asking for a value between min &amp; max (int)
+      @return 1 on success, 0 on failure
+
+*/
+
+uint8_t  DIA_GetIntegerValue(int *value, int min, int max, const char *title, const char *legend)
+{
+
+    int32_t val=*value;;
+     
+    diaElemInteger     fval(&amp;val,legend,min,max);
+    
+      diaElem *elems[1]={&amp;fval};
+
+   if(diaFactoryRun(title,1,elems))
+  {
+    *value=(int)val;
+    return 1;
+  }
+  return 0;	
+}
+/**
+      \fn DIA_GetFloatValue
+      \brief Popup a window asking for a value between min &amp; max
+      @return 1 on success, 0 on failure
+
+*/
+uint8_t  DIA_GetFloatValue(float *value, float min, float max, const char *title, const char *legend)
+{
+  ELEM_TYPE_FLOAT val=*value;;
+     
+    diaElemFloat     fval(&amp;val,legend,min,max);
+    
+      diaElem *elems[1]={&amp;fval};
+
+   if(diaFactoryRun(title,1,elems))
+  {
+    *value=(float)val;
+    return 1;
+  }
+  return 0;	
+}
+

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-01-22 19:23:29 UTC (rev 2766)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2007-01-22 19:41:03 UTC (rev 2767)
@@ -1,6 +1,6 @@
 noinst_LIBRARIES = libADM_CommonUI.a 
 libADM_CommonUI_a_METASOURCES = AUTO
-libADM_CommonUI_a_SOURCES = GUI_sdlRender.cpp  GUI_xvRender.cpp  DIA_resizeWiz.cpp DIA_builtin.cpp DIA_postproc.cpp
+libADM_CommonUI_a_SOURCES = GUI_sdlRender.cpp  GUI_xvRender.cpp  DIA_resizeWiz.cpp DIA_builtin.cpp DIA_postproc.cpp DIA_enter.cpp
 
 
 INCLUDES = $(all_includes) $(GTK_CFLAGS) $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \

Modified: branches/avidemux_2.4_branch/avidemux/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/Makefile.am	2007-01-22 19:23:29 UTC (rev 2766)
+++ branches/avidemux_2.4_branch/avidemux/Makefile.am	2007-01-22 19:41:03 UTC (rev 2767)
@@ -28,6 +28,7 @@
 user_interface_cli = ./ADM_userInterfaces/ADM_NONE/ADM_gui2/libADM_gui2.a	\
 		./ADM_userInterfaces/ADM_NONE/ADM_dialog/libADM_dialog.a	\
 		./ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/libADM_dialogFactory.a	\
+		./ADM_userInterfaces/ADM_commonUI/libADM_CommonUI.a	\
 		./ADM_userInterfaces/ADM_NONE/ADM_filters/libADM_filters.a 
 		
 		


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000092.html">[Avidemux-svn-commit] r2766 - in	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:	ADM_GTK/ADM_dialog ADM_NONE/ADM_dialog ADM_QT4/ADM_dialog	ADM_commonUI
</A></li>
	<LI>Next message: <A HREF="000094.html">[Avidemux-svn-commit] r2768 - in	branches/avidemux_2.4_branch/avidemux: ADM_audiofilter	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialog	ADM_userInterfaces/ADM_commonUI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#93">[ date ]</a>
              <a href="thread.html#93">[ thread ]</a>
              <a href="subject.html#93">[ subject ]</a>
              <a href="author.html#93">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
