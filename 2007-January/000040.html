<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r2712 - in	branches/avidemux_2.4_branch/avidemux:	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialog ADM_video ADM_videoFilter
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2007-January/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r2712%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%0A%09ADM_userInterfaces/ADM_GTK/ADM_dialog%0A%09ADM_userInterfaces/ADM_NONE/ADM_dialog%0A%09ADM_userInterfaces/ADM_QT4/ADM_dialog%20ADM_video%20ADM_videoFilter&In-Reply-To=%3C200701121923.l0CJNKF7014037%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000039.html">
   <LINK REL="Next"  HREF="000041.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r2712 - in	branches/avidemux_2.4_branch/avidemux:	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialog ADM_video ADM_videoFilter</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r2712%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%0A%09ADM_userInterfaces/ADM_GTK/ADM_dialog%0A%09ADM_userInterfaces/ADM_NONE/ADM_dialog%0A%09ADM_userInterfaces/ADM_QT4/ADM_dialog%20ADM_video%20ADM_videoFilter&In-Reply-To=%3C200701121923.l0CJNKF7014037%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r2712 - in	branches/avidemux_2.4_branch/avidemux:	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_NONE/ADM_dialog	ADM_userInterfaces/ADM_QT4/ADM_dialog ADM_video ADM_videoFilter">mean at mail.berlios.de
       </A><BR>
    <I>Fri Jan 12 20:23:20 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000039.html">[Avidemux-svn-commit] r2711 -	branches/avidemux_2.4_branch/avidemux/ADM_videoFilter
</A></li>
        <LI>Next message: <A HREF="000041.html">[Avidemux-svn-commit] r2713 -	branches/avidemux_2.4_branch/avidemux/ADM_video
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40">[ date ]</a>
              <a href="thread.html#40">[ thread ]</a>
              <a href="subject.html#40">[ subject ]</a>
              <a href="author.html#40">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2007-01-12 20:23:19 +0100 (Fri, 12 Jan 2007)
New Revision: 2712

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval_param.h
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMosaic.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMosaic_param.h
Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_deblend.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mosaic.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidBlendRemoval.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidBlendRemoval_param.h
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidHardIvtcRemoval.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidMosaic.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidMosaic_param.h
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/Makefile.am
Log:
more dialogFactory

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_deblend.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_deblend.cpp	2007-01-12 19:00:30 UTC (rev 2711)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_deblend.cpp	2007-01-12 19:23:19 UTC (rev 2712)
@@ -1,224 +0,0 @@
-#include &lt;sys/types.h&gt;
-#include &lt;sys/stat.h&gt;
-#include &lt;unistd.h&gt;
-#include &lt;string.h&gt;
-#include &lt;stdio.h&gt;
-
-#include &lt;gdk/gdkkeysyms.h&gt;
-#include &lt;gtk/gtk.h&gt;
-
-
-#include &lt;gdk/gdkkeysyms.h&gt;
-#include &lt;gtk/gtk.h&gt;
-# include &lt;math.h&gt;
-# include &quot;config.h&quot;
-#include &quot;default.h&quot;
-#include &quot;ADM_toolkit_gtk/ADM_gladeSupport.h&quot;
-#include &quot;ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;ADM_toolkit_gtk/toolkit_gtk_include.h&quot;
-#include &quot;ADM_toolkit/toolkit.hxx&quot;
-
-#include &quot;ADM_video/ADM_vidBlendRemoval_param.h&quot;
-
-static GtkWidget       *create_dialog1 (void);
-
-#define SPIN_GET(x,y) {mosaic-&gt;y= gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(WID(x))) ;}
-#define SPIN_SET(x,y)  {gtk_spin_button_set_value(GTK_SPIN_BUTTON(WID(x)),(gfloat)mosaic-&gt;y) ;}
-
-
-
-uint8_t  DIA_blendRemoval(BLEND_REMOVER_PARAM *mosaic)
-{
-  GtkWidget *dialog;
-  uint8_t ret=0;
-
-        dialog=create_dialog1();
-        gtk_register_dialog(dialog);
-        
-        SPIN_SET(spinbuttonTreshold,threshold);
-        SPIN_SET(spinbuttonNoise,noise);
-        SPIN_SET(spinbuttonIdentical,identical);
-        gtk_toggle_button_set_active( GTK_TOGGLE_BUTTON(WID(checkbuttonShow)),mosaic-&gt;show);
-
-        if(gtk_dialog_run(GTK_DIALOG(dialog))==GTK_RESPONSE_OK)
-                {
-                        ret=1;
-                        SPIN_GET(spinbuttonTreshold,threshold);
-                        SPIN_GET(spinbuttonNoise,noise);
-                        SPIN_GET(spinbuttonIdentical,identical);
-                        mosaic-&gt;show=gtk_toggle_button_get_active( GTK_TOGGLE_BUTTON(WID(checkbuttonShow)));
-                }
-        gtk_unregister_dialog(dialog);
-        gtk_widget_destroy(dialog);
-        return ret;
-
-}
-
-
-GtkWidget *create_dialog1 (void)
-{
-  GtkWidget *dialog1;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *table1;
-  GtkWidget *label1;
-  GtkWidget *label2;
-  GtkWidget *label3;
-  GtkWidget *label4;
-  GtkWidget *label5;
-  GtkWidget *label6;
-  GtkWidget *label7;
-  GtkWidget *label8;
-  GtkObject *spinbuttonTreshold_adj;
-  GtkWidget *spinbuttonTreshold;
-  GtkObject *spinbuttonNoise_adj;
-  GtkWidget *spinbuttonNoise;
-  GtkObject *spinbuttonIdentical_adj;
-  GtkWidget *spinbuttonIdentical;
-  GtkWidget *checkbuttonShow;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *okbutton1;
-  GtkTooltips *tooltips;
-
-  tooltips = gtk_tooltips_new ();
-
-  dialog1 = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog1), _(&quot;Blend removal / Hard pulldown removal&quot;));
-  gtk_window_set_type_hint (GTK_WINDOW (dialog1), GDK_WINDOW_TYPE_HINT_DIALOG);
-
-  dialog_vbox1 = GTK_DIALOG (dialog1)-&gt;vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  table1 = gtk_table_new (4, 3, FALSE);
-  gtk_widget_show (table1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), table1, TRUE, TRUE, 0);
-
-  label1 = gtk_label_new (_(&quot;%&quot;));
-  gtk_widget_show (label1);
-  gtk_table_attach (GTK_TABLE (table1), label1, 2, 3, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label1), 0, 0.5);
-
-  label2 = gtk_label_new (_(&quot;%&quot;));
-  gtk_widget_show (label2);
-  gtk_table_attach (GTK_TABLE (table1), label2, 2, 3, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
-
-  label3 = gtk_label_new (_(&quot;%&quot;));
-  gtk_widget_show (label3);
-  gtk_table_attach (GTK_TABLE (table1), label3, 2, 3, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label3), 0, 0.5);
-
-  label4 = gtk_label_new (_(&quot; &quot;));
-  gtk_widget_show (label4);
-  gtk_table_attach (GTK_TABLE (table1), label4, 2, 3, 3, 4,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label4), 0, 0.5);
-
-  label5 = gtk_label_new (_(&quot;Threshold :&quot;));
-  gtk_widget_show (label5);
-  gtk_table_attach (GTK_TABLE (table1), label5, 0, 1, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label5), 0, 0.5);
-
-  label6 = gtk_label_new (_(&quot;Noise threshold :&quot;));
-  gtk_widget_show (label6);
-  gtk_table_attach (GTK_TABLE (table1), label6, 0, 1, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label6), 0, 0.5);
-
-  label7 = gtk_label_new (_(&quot;Identical threshold :&quot;));
-  gtk_widget_show (label7);
-  gtk_table_attach (GTK_TABLE (table1), label7, 0, 1, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label7), 0, 0.5);
-
-  label8 = gtk_label_new (_(&quot;Show metrics&quot;));
-  gtk_widget_show (label8);
-  gtk_table_attach (GTK_TABLE (table1), label8, 0, 1, 3, 4,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label8), 0, 0.5);
-
-  spinbuttonTreshold_adj = gtk_adjustment_new (1, 1, 99, 1, 10, 10);
-  spinbuttonTreshold = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonTreshold_adj), 1, 0);
-  gtk_widget_show (spinbuttonTreshold);
-  gtk_table_attach (GTK_TABLE (table1), spinbuttonTreshold, 1, 2, 0, 1,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_tooltips_set_tip (tooltips, spinbuttonTreshold, _(&quot;If the image is closer than treshold, is it considered valid, smaller means more false detection&quot;), NULL);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonTreshold), TRUE);
-
-  spinbuttonNoise_adj = gtk_adjustment_new (1, 1, 99, 1, 10, 10);
-  spinbuttonNoise = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonNoise_adj), 1, 0);
-  gtk_widget_show (spinbuttonNoise);
-  gtk_table_attach (GTK_TABLE (table1), spinbuttonNoise, 1, 2, 1, 2,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_tooltips_set_tip (tooltips, spinbuttonNoise, _(&quot;If pixels are closer than noise threshold, they are considered identical&quot;), NULL);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonNoise), TRUE);
-
-  spinbuttonIdentical_adj = gtk_adjustment_new (1, 1, 99, 1, 10, 10);
-  spinbuttonIdentical = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonIdentical_adj), 1, 0);
-  gtk_widget_show (spinbuttonIdentical);
-  gtk_table_attach (GTK_TABLE (table1), spinbuttonIdentical, 1, 2, 2, 3,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_tooltips_set_tip (tooltips, spinbuttonIdentical, _(&quot;If the picture are less than identical threshold, they are considered identical&quot;), NULL);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonIdentical), TRUE);
-
-  checkbuttonShow = gtk_check_button_new_with_mnemonic (&quot;&quot;);
-  gtk_widget_show (checkbuttonShow);
-  gtk_table_attach (GTK_TABLE (table1), checkbuttonShow, 1, 2, 3, 4,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_tooltips_set_tip (tooltips, checkbuttonShow, _(&quot;Show metrics in picture (debug only)&quot;), NULL);
-
-  dialog_action_area1 = GTK_DIALOG (dialog1)-&gt;action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  cancelbutton1 = gtk_button_new_from_stock (&quot;gtk-cancel&quot;);
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock (&quot;gtk-ok&quot;);
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, &quot;dialog1&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, &quot;dialog_vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, table1, &quot;table1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label1, &quot;label1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label2, &quot;label2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label3, &quot;label3&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label4, &quot;label4&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label5, &quot;label5&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label6, &quot;label6&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label7, &quot;label7&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label8, &quot;label8&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonTreshold, &quot;spinbuttonTreshold&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonNoise, &quot;spinbuttonNoise&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonIdentical, &quot;spinbuttonIdentical&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, checkbuttonShow, &quot;checkbuttonShow&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, &quot;dialog_action_area1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, &quot;cancelbutton1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, okbutton1, &quot;okbutton1&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, tooltips, &quot;tooltips&quot;);
-
-  return dialog1;
-}
-
-

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mosaic.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mosaic.cpp	2007-01-12 19:00:30 UTC (rev 2711)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mosaic.cpp	2007-01-12 19:23:19 UTC (rev 2712)
@@ -1,180 +0,0 @@
-#include &lt;sys/types.h&gt;
-#include &lt;sys/stat.h&gt;
-#include &lt;unistd.h&gt;
-#include &lt;string.h&gt;
-#include &lt;stdio.h&gt;
-
-#include &lt;gdk/gdkkeysyms.h&gt;
-#include &lt;gtk/gtk.h&gt;
-
-
-#include &lt;gdk/gdkkeysyms.h&gt;
-#include &lt;gtk/gtk.h&gt;
-# include &lt;math.h&gt;
-# include &quot;config.h&quot;
-#include &quot;default.h&quot;
-#include &quot;ADM_toolkit_gtk/ADM_gladeSupport.h&quot;
-#include &quot;ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;ADM_toolkit_gtk/toolkit_gtk_include.h&quot;
-#include &quot;ADM_toolkit/toolkit.hxx&quot;
-
-#include &quot;ADM_video/ADM_vidMosaic_param.h&quot;
-
-static GtkWidget       *create_dialog1 (void);
-
-#define SPIN_GET(x,y) {mosaic-&gt;y= gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(WID(x))) ;}
-#define SPIN_SET(x,y)  {gtk_spin_button_set_value(GTK_SPIN_BUTTON(WID(x)),(gfloat)mosaic-&gt;y) ;}
-
-
-
-uint8_t  DIA_mosaic(MOSAIC_PARAMS *mosaic)
-{
-  GtkWidget *dialog;
-  uint8_t ret=0;
-
-        dialog=create_dialog1();
-        gtk_register_dialog(dialog);
-        
-        SPIN_SET(spinbuttonHz,hz);
-        SPIN_SET(spinbuttonVz,vz);
-        SPIN_SET(spinbuttonShrink,shrink);
-        gtk_toggle_button_set_active( GTK_TOGGLE_BUTTON(WID(checkbuttonShow)),mosaic-&gt;show);
-
-        if(gtk_dialog_run(GTK_DIALOG(dialog))==GTK_RESPONSE_OK)
-                {
-                       ret=1;
-                        SPIN_GET(spinbuttonHz,hz);
-                        SPIN_GET(spinbuttonVz,vz);
-                        SPIN_GET(spinbuttonShrink,shrink);
-                        mosaic-&gt;show=gtk_toggle_button_get_active( GTK_TOGGLE_BUTTON(WID(checkbuttonShow)));
-                }
-        gtk_unregister_dialog(dialog);
-        gtk_widget_destroy(dialog);
-        return ret;
-
-}
-
-GtkWidget*
-create_dialog1 (void)
-{
-  GtkWidget *dialog1;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *table1;
-  GtkWidget *label1;
-  GtkWidget *label2;
-  GtkWidget *label3;
-  GtkWidget *label4;
-  GtkObject *spinbuttonHz_adj;
-  GtkWidget *spinbuttonHz;
-  GtkObject *spinbuttonVz_adj;
-  GtkWidget *spinbuttonVz;
-  GtkObject *spinbuttonShrink_adj;
-  GtkWidget *spinbuttonShrink;
-  GtkWidget *checkbuttonShow;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *okbutton1;
-
-  dialog1 = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog1), _(&quot;Mosaic&quot;));
-  gtk_window_set_type_hint (GTK_WINDOW (dialog1), GDK_WINDOW_TYPE_HINT_DIALOG);
-
-  dialog_vbox1 = GTK_DIALOG (dialog1)-&gt;vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  table1 = gtk_table_new (4, 2, FALSE);
-  gtk_widget_show (table1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), table1, TRUE, TRUE, 0);
-
-  label1 = gtk_label_new (_(&quot;Horizontal stacking :&quot;));
-  gtk_widget_show (label1);
-  gtk_table_attach (GTK_TABLE (table1), label1, 0, 1, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label1), 0, 0.5);
-
-  label2 = gtk_label_new (_(&quot;Vertical stacking : &quot;));
-  gtk_widget_show (label2);
-  gtk_table_attach (GTK_TABLE (table1), label2, 0, 1, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
-
-  label3 = gtk_label_new (_(&quot;Shrink factor :&quot;));
-  gtk_widget_show (label3);
-  gtk_table_attach (GTK_TABLE (table1), label3, 0, 1, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label3), 0, 0.5);
-
-  label4 = gtk_label_new (_(&quot;Show frame # :&quot;));
-  gtk_widget_show (label4);
-  gtk_table_attach (GTK_TABLE (table1), label4, 0, 1, 3, 4,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_misc_set_alignment (GTK_MISC (label4), 0, 0.5);
-
-  spinbuttonHz_adj = gtk_adjustment_new (3, 1, 10, 1, 2, 2);
-  spinbuttonHz = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonHz_adj), 1, 0);
-  gtk_widget_show (spinbuttonHz);
-  gtk_table_attach (GTK_TABLE (table1), spinbuttonHz, 1, 2, 0, 1,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonHz), TRUE);
-
-  spinbuttonVz_adj = gtk_adjustment_new (3, 1, 10, 1, 2, 2);
-  spinbuttonVz = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonVz_adj), 1, 0);
-  gtk_widget_show (spinbuttonVz);
-  gtk_table_attach (GTK_TABLE (table1), spinbuttonVz, 1, 2, 1, 2,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonVz), TRUE);
-
-  spinbuttonShrink_adj = gtk_adjustment_new (3, 1, 10, 1, 2, 2);
-  spinbuttonShrink = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonShrink_adj), 1, 0);
-  gtk_widget_show (spinbuttonShrink);
-  gtk_table_attach (GTK_TABLE (table1), spinbuttonShrink, 1, 2, 2, 3,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonShrink), TRUE);
-
-  checkbuttonShow = gtk_check_button_new_with_mnemonic (&quot;&quot;);
-  gtk_widget_show (checkbuttonShow);
-  gtk_table_attach (GTK_TABLE (table1), checkbuttonShow, 1, 2, 3, 4,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  dialog_action_area1 = GTK_DIALOG (dialog1)-&gt;action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  cancelbutton1 = gtk_button_new_from_stock (&quot;gtk-cancel&quot;);
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock (&quot;gtk-ok&quot;);
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog1), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog1, &quot;dialog1&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_vbox1, &quot;dialog_vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, table1, &quot;table1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label1, &quot;label1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label2, &quot;label2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label3, &quot;label3&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, label4, &quot;label4&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonHz, &quot;spinbuttonHz&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonVz, &quot;spinbuttonVz&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, spinbuttonShrink, &quot;spinbuttonShrink&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, checkbuttonShow, &quot;checkbuttonShow&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog1, dialog_action_area1, &quot;dialog_action_area1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, cancelbutton1, &quot;cancelbutton1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog1, okbutton1, &quot;okbutton1&quot;);
-
-  return dialog1;
-}
-
-

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-01-12 19:00:30 UTC (rev 2711)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-01-12 19:23:19 UTC (rev 2712)
@@ -19,8 +19,8 @@
 	DIA_DVDff.cpp DIA_lavdecoder.cpp DIA_lame.cpp DIA_calculator.cpp DIA_equalizer.cpp \
 	DIA_vobsub.cpp DIA_x264.cpp DIA_ocr.cpp  DIA_hue.cpp DIA_eq2.cpp \
 	DIA_asharp.cpp DIA_dmx.cpp DIA_idx_pg.cpp DIA_gototime.cpp \
-	DIA_audioTrack.cpp DIA_cnr2.cpp DIA_jobs.cpp DIA_jobs_save.cpp DIA_mosaic.cpp \
-	DIA_deblend.cpp DIA_v2v.cpp DIA_tdeint.cpp DIA_mpdelogo.cpp DIA_vorbis.cpp \
+	DIA_audioTrack.cpp DIA_cnr2.cpp DIA_jobs.cpp DIA_jobs_save.cpp  \
+	DIA_v2v.cpp DIA_tdeint.cpp DIA_mpdelogo.cpp DIA_vorbis.cpp \
         DIA_chromaShift.cpp \
         \
         DIA_preview.cpp \
@@ -41,13 +41,13 @@
 EXTRA_DIST =  DIA_enter.cpp     \
 DIA_mcdeint.cpp     DIA_resize.cpp \
 DIA_cnr2.cpp          DIA_enter.h          DIA_mjpeg.cpp       \
-DIA_DVDff.cpp        DIA_color.cpp         DIA_eq2.cpp          DIA_mosaic.cpp      \
+DIA_DVDff.cpp        DIA_color.cpp         DIA_eq2.cpp          \
 DIA_coloryuv.cpp      DIA_equalizer.cpp    DIA_mpdelogo.cpp    DIA_rotate.cpp \
 DIA_SVCD.cpp         DIA_contrast.cpp      DIA_exLame.cpp       DIA_mpeg2opt.cpp    DIA_srt.cpp \
 DIA_about.cpp        DIA_conv.cpp          DIA_tdeint.cpp \
 DIA_acodec.cpp       DIA_crop.cpp          DIA_gototime.cpp     DIA_muxer.cpp       DIA_v2v.cpp \
 DIA_animated.cpp     DIA_hue.cpp          DIA_ocr.cpp         DIA_vcodec.cpp \
-DIA_asharp.cpp       DIA_deblend.cpp       DIA_idx_pg.cpp       DIA_partial.cpp     DIA_vobsub.cpp \
+DIA_asharp.cpp       DIA_idx_pg.cpp       DIA_partial.cpp     DIA_vobsub.cpp \
 DIA_audio.cpp        DIA_decimate.cpp      DIA_idx_pg.h         DIA_pause.cpp       DIA_vorbis.cpp \
 DIA_audioTrack.cpp   DIA_dectel.cpp        DIA_indexer.cpp      DIA_pipe.cpp        DIA_working.cpp \
 DIA_defaultAudio.cpp  DIA_jobs.cpp         DIA_postproc.cpp    DIA_working.h \

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-01-12 19:00:30 UTC (rev 2711)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialog/DIA_none.cpp	2007-01-12 19:23:19 UTC (rev 2712)
@@ -38,13 +38,11 @@
 #include &quot;ADM_audiofilter/audiofilter_normalize_param.h&quot;
 #include &quot;ADM_video/ADM_vidCNR2_param.h&quot;
 #include &quot;ADM_video/ADM_vidColorYuv_param.h&quot;
-#include &quot;ADM_video/ADM_vidBlendRemoval_param.h&quot;
 #include &quot;ADM_video/ADM_vidDecDec_param.h&quot;
 #include &quot;ADM_video/ADM_vidDecTel_param.h&quot;
 #include &quot;ADM_audiofilter/audioencoder_lame_param.h&quot;
 #include &quot;ADM_audiofilter/audioencoder_lame_param.h&quot;
 #include &quot;ADM_encoder/adm_encmjpeg_param.h&quot;
-#include &quot;ADM_video/ADM_vidMosaic_param.h&quot;
 #include &quot;ADM_video/ADM_vidMSmooth_param.h&quot;
 #include &quot;ADM_video/ADM_vidPartial_param.h&quot;
 #include &quot;ADM_video/ADM_vidTDeint_param.h&quot;
@@ -91,7 +89,6 @@
 uint8_t DIA_ass(ASSParams *param){return 0;}
 #endif
 uint8_t DIA_rotate(AVDMGenericVideoStream *astream,ROTATE_PARAM *param){return 0;}
-uint8_t  DIA_blendRemoval(BLEND_REMOVER_PARAM *mosaic){return 0;}
 uint8_t DIA_cnr2(CNR2Param *param){return 0;}
 uint8_t DIA_DVDffParam(COMPRES_PARAMS *incoming){return 0;}
 uint8_t DIA_getASharp(ASHARP_PARAM *param, AVDMGenericVideoStream *in){return 0;}
@@ -106,7 +103,6 @@
 uint8_t DIA_getMSmooth(MSMOOTH_PARAM *param){return 0;}
 uint8_t DIA_getPartial(PARTIAL_CONFIG *param,AVDMGenericVideoStream *son,AVDMGenericVideoStream *previous){return 0;}
 uint8_t DIA_mjpegCodecSetting(COMPRES_PARAMS *param){return 0;}
-uint8_t  DIA_mosaic(MOSAIC_PARAMS *mosaic){return 0;}
 uint8_t DIA_pipe(char **cmd,char **param){return 0;}
 uint8_t DIA_requant(COMPRES_PARAMS *incoming){return 0;}
 uint8_t  DIA_setUserMuxParam( int *mode, int *param, int *muxsize){return 0;}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-01-12 19:00:30 UTC (rev 2711)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2007-01-12 19:23:19 UTC (rev 2712)
@@ -38,13 +38,11 @@
 #include &quot;ADM_audiofilter/audiofilter_normalize_param.h&quot;
 #include &quot;ADM_video/ADM_vidCNR2_param.h&quot;
 #include &quot;ADM_video/ADM_vidColorYuv_param.h&quot;
-#include &quot;ADM_video/ADM_vidBlendRemoval_param.h&quot;
 #include &quot;ADM_video/ADM_vidDecDec_param.h&quot;
 #include &quot;ADM_video/ADM_vidDecTel_param.h&quot;
 #include &quot;ADM_audiofilter/audioencoder_lame_param.h&quot;
 #include &quot;ADM_audiofilter/audioencoder_lame_param.h&quot;
 #include &quot;ADM_encoder/adm_encmjpeg_param.h&quot;
-#include &quot;ADM_video/ADM_vidMosaic_param.h&quot;
 #include &quot;ADM_video/ADM_vidMSmooth_param.h&quot;
 #include &quot;ADM_video/ADM_vidPartial_param.h&quot;
 #include &quot;ADM_video/ADM_vidTDeint_param.h&quot;
@@ -91,7 +89,6 @@
 uint8_t DIA_ass(ASSParams *param){return 0;}
 #endif
 uint8_t DIA_rotate(AVDMGenericVideoStream *astream,ROTATE_PARAM *param){return 0;}
-uint8_t  DIA_blendRemoval(BLEND_REMOVER_PARAM *mosaic){return 0;}
 uint8_t DIA_cnr2(CNR2Param *param){return 0;}
 uint8_t DIA_DVDffParam(COMPRES_PARAMS *incoming){return 0;}
 uint8_t DIA_getASharp(ASHARP_PARAM *param, AVDMGenericVideoStream *in){return 0;}
@@ -106,7 +103,6 @@
 uint8_t DIA_getMSmooth(MSMOOTH_PARAM *param){return 0;}
 uint8_t DIA_getPartial(PARTIAL_CONFIG *param,AVDMGenericVideoStream *son,AVDMGenericVideoStream *previous){return 0;}
 uint8_t DIA_mjpegCodecSetting(COMPRES_PARAMS *param){return 0;}
-uint8_t  DIA_mosaic(MOSAIC_PARAMS *mosaic){return 0;}
 uint8_t DIA_pipe(char **cmd,char **param){return 0;}
 uint8_t DIA_requant(COMPRES_PARAMS *incoming){return 0;}
 uint8_t  DIA_setUserMuxParam( int *mode, int *param, int *muxsize){return 0;}

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidBlendRemoval.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidBlendRemoval.cpp	2007-01-12 19:00:30 UTC (rev 2711)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidBlendRemoval.cpp	2007-01-12 19:23:19 UTC (rev 2712)
@@ -1,256 +0,0 @@
-/***************************************************************************
-                         
-        Blending remover
-
-        A B C D E -&gt; A AB B 
-
-    copyright            : (C) 2005 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include &quot;config.h&quot;
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &lt;ADM_assert.h&gt;
-
-#include &quot;config.h&quot;
-#include &quot;fourcc.h&quot;
-#include &quot;avio.hxx&quot;
-#include &quot;default.h&quot;
-#include &quot;math.h&quot;
-
-#include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_editor/ADM_edit.hxx&quot;
-#include &quot;ADM_video/ADM_genvideo.hxx&quot;
-
-#include &quot;ADM_osSupport/ADM_debugID.h&quot;
-#define MODULE_NAME MODULE_FILTER
-#include &quot;ADM_osSupport/ADM_debug.h&quot;
-#include &quot;ADM_video/ADM_cache.h&quot;
-#include &quot;ADM_filter/video_filters.h&quot;
-#include &quot;DIA_enter.h&quot;
-#include &quot;ADM_osSupport/ADM_cpuCap.h&quot;
-
-#include &quot;ADM_vidBlendRemoval_param.h&quot;
-#define MUL 1
-// Set it to 2 for post separate field
-
-
-
-class vidBlendRemoval:public AVDMGenericVideoStream
-{
-
-protected:
-  virtual char *printConf (void);
-  VideoCache *vidCache;
-  BLEND_REMOVER_PARAM *_param;
-  uint32_t              _lastRemoved;
-  ADMImage              *rebuild;
-public:
-
-                        vidBlendRemoval (AVDMGenericVideoStream * in, CONFcouple * setup);
-        virtual         ~vidBlendRemoval ();
-  virtual uint8_t getFrameNumberNoAlloc (uint32_t frame, uint32_t * len,
-                                         ADMImage * data, uint32_t * flags);
-  uint8_t configure (AVDMGenericVideoStream * instream);
-  virtual uint8_t getCoupledConf (CONFcouple ** couples);
-
-};
-
-static FILTER_PARAM field_unblend_template =
-  { 4,&quot;threshold&quot;,&quot;show&quot;,&quot;noise&quot;,&quot;identical&quot;};
-
-BUILD_CREATE (blendremove_create, vidBlendRemoval);
-SCRIPT_CREATE (blendremove_script, vidBlendRemoval, field_unblend_template);
-//*************************************
-uint8_t vidBlendRemoval::configure (AVDMGenericVideoStream * in)
-{
-        if(DIA_blendRemoval(_param))
-        {
-                _lastRemoved=0xFFFFFFF;
-                return 1;
-        }
-        return 0;
-}
-/*************************************/
-char *vidBlendRemoval::printConf (void)
-{
-  static char buf[50];
-  sprintf ((char *) buf, &quot; Blend Removal Thresh:%d Noise:%d Ident:%d&quot;,_param-&gt;threshold,_param-&gt;noise,_param-&gt;identical);
-  return buf;
-}
-
-#define MAX_BLOCKS 50
-/*************************************/
-vidBlendRemoval::vidBlendRemoval (AVDMGenericVideoStream * in, CONFcouple * couples)
-{
-
-  _in = in;
-  memcpy (&amp;_info, _in-&gt;getInfo (), sizeof (_info));
-  _info.encoding = 1;
-  vidCache = new VideoCache (10, in);
-  _uncompressed=new ADMImage(_info.width,_info.height);
-  rebuild=new ADMImage(_info.width,_info.height);
-
- _param=new BLEND_REMOVER_PARAM;
- _lastRemoved=0xFFFF;
- if(couples)
- {
-#undef GET
-#define GET(x) couples-&gt;getCouple(#x,&amp;(_param-&gt;x))
-      GET (threshold);
-      GET (show);
-      GET (noise);
-      GET (identical);
-  }
-  else
-  {
-        _param-&gt;threshold=10;
-        _param-&gt;show=0;
-        _param-&gt;noise=5;
-        _param-&gt;identical=2;
-  }
-}
-//____________________________________________________________________
-vidBlendRemoval::~vidBlendRemoval ()
-{
-
-  delete vidCache;
-  vidCache = NULL;
-  delete _uncompressed;
-  _uncompressed=NULL;
-  delete _param;
-  _param=NULL;
-  delete rebuild;
-  rebuild=NULL;
-}
-
-
-
-
-
-uint8_t vidBlendRemoval::getFrameNumberNoAlloc (uint32_t inframe,
-                                uint32_t * len,
-                                ADMImage * data, uint32_t * flags)
-{
-
-	
-	ADMImage *srcP,*srcN,*src,*final,*display;
-        float distMerged, distN,distP,distM,distR,skip=0;
-        char txt[255];
-
-        
-        if(inframe&lt;1 || inframe&gt;inframe&gt;_info.nb_frames-2 )
-        {
-                skip=1;
-        }
-        if(inframe &amp;&amp; _lastRemoved==inframe-1)
-        {
-                skip=1;
-        }
-        
-        if(skip)
-        {
-                data-&gt;duplicate(vidCache-&gt;getImage(inframe));
-                vidCache-&gt;unlockAll();
-                return 1;
-        }
-        
-        
-
-        srcP=vidCache-&gt;getImage(inframe-1);
-        src=vidCache-&gt;getImage(inframe);
-        srcN=vidCache-&gt;getImage(inframe+1);
-        if(!srcP || !src || !srcN)
-        {
-                data-&gt;duplicate(vidCache-&gt;getImage(inframe));
-                vidCache-&gt;unlockAll();
-                return 1;
-        }
-       
-        rebuild-&gt;merge(srcP,srcN);
-        
-        distP=ADMImage::lumaDiff(src,srcN,_param-&gt;noise);
-        distN=ADMImage::lumaDiff(src,srcP,_param-&gt;noise);
-        distM=ADMImage::lumaDiff(src,rebuild,_param-&gt;noise);
-        
-        
-        
-        
-        double medium;
-
-         if(distN&gt;1&amp;&amp;distP&gt;1)
-        {
-                if(distP&gt;distN) medium=distN;
-                          else  medium=distP;
-                  //medium=min(distM,distR);
-                 
-                 medium/=100;
-                 distN/=medium;
-                 distP/=medium;
-                 distM/=medium;
-         
-         }
-        
-        medium=medium/(_info.width*_info.height);
-        medium*=1000;
-        if(distM&lt;_param-&gt;threshold &amp;&amp; medium&gt;_param-&gt;identical) // medium is how close pictures are, too close, we discard
-        {
-                data-&gt;duplicate(srcP);
-                _lastRemoved=inframe;
-                if(_param-&gt;show )
-                {
-                        sprintf(txt,&quot;Dupe&quot;);
-                        drawString(data,2,5,txt);      
-                }
-        }
-        else
-                data-&gt;duplicate(src);
-        if(_param-&gt;show)
-        {
-                display=data;
-
-                sprintf(txt,&quot; N %02.1f&quot;,distN);
-                drawString(display,2,0,txt);
-
-                sprintf(txt,&quot; P %02.1f&quot;,distP);
-                drawString(display,2,1,txt);
-
-                sprintf(txt,&quot; M %02.1f&quot;,distM);
-                drawString(display,2,2,txt);
-
-                sprintf(txt,&quot; %% %02.1f&quot;,medium);
-                drawString(display,2,3,txt);
-        }
-
-
-          
-        vidCache-&gt;unlockAll();
-	return 1;
-}
-uint8_t vidBlendRemoval::getCoupledConf (CONFcouple ** couples)
-{
-
-  ADM_assert (_param);
-  *couples = new CONFcouple (4);
-#undef CSET
-#define CSET(x)  (*couples)-&gt;setCouple(#x,(_param-&gt;x))
-  CSET (threshold);
-  CSET (show);
-  CSET (noise);
-  CSET (identical);
-  
-  return 1;
-}
-
-
-//EOF

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidBlendRemoval_param.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidBlendRemoval_param.h	2007-01-12 19:00:30 UTC (rev 2711)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidBlendRemoval_param.h	2007-01-12 19:23:19 UTC (rev 2712)
@@ -1,22 +0,0 @@
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-
-#ifndef BLEND_REMOVAL_PARAM_H
-#define BLEND_REMOVAL_PARAM_H
-
-typedef struct BLEND_REMOVER_PARAM
-{
-        uint32_t threshold;
-        uint32_t noise;
-        uint32_t show;
-        uint32_t identical;
-}BLEND_REMOVER_PARAM;
-uint8_t  DIA_blendRemoval(BLEND_REMOVER_PARAM *mosaic);
-#endif

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidHardIvtcRemoval.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidHardIvtcRemoval.cpp	2007-01-12 19:00:30 UTC (rev 2711)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidHardIvtcRemoval.cpp	2007-01-12 19:23:19 UTC (rev 2712)
@@ -1,477 +0,0 @@
-/***************************************************************************
-                         
-        Hard ivtc removal for image
-
-        A B C D E -&gt; A BC CD D E
-
-    copyright            : (C) 2005 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include &quot;config.h&quot;
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &lt;ADM_assert.h&gt;
-
-#include &quot;config.h&quot;
-#include &quot;fourcc.h&quot;
-#include &quot;avio.hxx&quot;
-#include &quot;default.h&quot;
-#include &quot;math.h&quot;
-
-#include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_editor/ADM_edit.hxx&quot;
-#include &quot;ADM_video/ADM_genvideo.hxx&quot;
-
-#include &quot;ADM_osSupport/ADM_debugID.h&quot;
-#define MODULE_NAME MODULE_FILTER
-#include &quot;ADM_osSupport/ADM_debug.h&quot;
-#include &quot;ADM_video/ADM_cache.h&quot;
-#include &quot;ADM_filter/video_filters.h&quot;
-#include &quot;DIA_enter.h&quot;
-#include &quot;ADM_osSupport/ADM_cpuCap.h&quot;
-
-
-#define MUL 1
-// Set it to 2 for post separate field
-
-#include &quot;ADM_vidBlendRemoval_param.h&quot;
-
-#define PROGRESSIVE  0x00000001
-#define MAGIC_NUMBER (0xdeadbeef)
-#define IN_PATTERN   0x00000002
-
-extern uint8_t PutHintingData(unsigned char *video, unsigned int hint);
-
-class vidHardPDRemoval:public AVDMGenericVideoStream
-{
-
-protected:
-  virtual char *printConf (void);
-  VideoCache *vidCache;
-  BLEND_REMOVER_PARAM *_param;
-  uint32_t              _lastRemoved;
-  ADMImage              *cand1,*cand2,*rebuild;
-public:
-
-                        vidHardPDRemoval (AVDMGenericVideoStream * in, CONFcouple * setup);
-        virtual         ~vidHardPDRemoval ();
-  virtual uint8_t getFrameNumberNoAlloc (uint32_t frame, uint32_t * len,
-                                         ADMImage * data, uint32_t * flags);
-  uint8_t configure (AVDMGenericVideoStream * instream);
-  virtual uint8_t getCoupledConf (CONFcouple ** couples);
-
-};
-
-static FILTER_PARAM field_unblend_template =
-  { 4,&quot;threshold&quot;,&quot;show&quot;,&quot;noise&quot;,&quot;identical&quot;};
-
-BUILD_CREATE (hardivtc_create, vidHardPDRemoval);
-SCRIPT_CREATE (hardivtc_script, vidHardPDRemoval, field_unblend_template);
-//*************************************
-uint8_t vidHardPDRemoval::configure (AVDMGenericVideoStream * in)
-{
-        if(DIA_blendRemoval(_param))
-        {
-                _lastRemoved=0xFFFFFFF;
-                return 1;
-        }
-        return 0;
-}
-/*************************************/
-char *vidHardPDRemoval::printConf (void)
-{
-  static char buf[50];
-  sprintf ((char *) buf, &quot; Field Unblend Thresh:%d Noise:%d&quot;,_param-&gt;threshold,_param-&gt;noise);
-  return buf;
-}
-static void hint(ADMImage *img)
-{
-       unsigned int hint;
-
-                 hint= PROGRESSIVE;
-                
-                 hint |= IN_PATTERN;
-                
-                PutHintingData(YPLANE(img), hint);  
-
-}
-#define MAX_BLOCKS 50
-/*************************************/
-vidHardPDRemoval::vidHardPDRemoval (AVDMGenericVideoStream * in, CONFcouple * couples)
-{
-
-  _in = in;
-  memcpy (&amp;_info, _in-&gt;getInfo (), sizeof (_info));
-  _info.encoding = 1;
-  vidCache = new VideoCache (10, in);
-  _uncompressed=new ADMImage(_info.width,_info.height);
-  cand1=new ADMImage(_info.width,_info.height);
-  cand2=new ADMImage(_info.width,_info.height);
-  rebuild=new ADMImage(_info.width,_info.height);
-
- _param=new BLEND_REMOVER_PARAM;
- _lastRemoved=0xFFFFFFF;
- if(couples)
- {
-#undef GET
-#define GET(x) couples-&gt;getCouple(#x,&amp;(_param-&gt;x))
-      GET (threshold);
-      GET (show);
-      GET (noise);
-      GET (identical);
-  }
-  else
-  {
-        _param-&gt;threshold=10;
-        _param-&gt;show=0;
-        _param-&gt;noise=5;
-        _param-&gt;identical=2;
-  }
-}
-//____________________________________________________________________
-vidHardPDRemoval::~vidHardPDRemoval ()
-{
-
-  delete vidCache;
-  vidCache = NULL;
-  delete _uncompressed;
-  _uncompressed=NULL;
-  delete _param;
-  _param=NULL;
-  delete cand1;
-  delete cand2;
-  delete rebuild;
-  cand1=NULL;
-  cand2=NULL;
-  rebuild=NULL;
-}
-
-
-
-
-/*
-
-                src=blend of srcP and R         =&gt; src= 1/2(srcP+R)
-                                                   2*src-srcP=R
-
-                srcN=blend of srcNN and R       =&gt; srcN=1/2 (srcNN+R)
-                                                        2*srcN-srcNN=R
-
-*/
-
-static uint8_t tinyRestore(uint8_t *dst, uint8_t *srcP, uint8_t *src,uint8_t *srcN,uint8_t *srcNN,uint32_t w, uint32_t h)
-{
-
-
-uint8_t *s,*sp,*sn,*snn,*d1;
-int a1,a2,a3,a4,sum,delta;
-
-        sp=srcP;
-        s=src;
-        sn=srcN;
-        snn=srcNN;
-        
-        d1=dst;
-
-          for(int y=0;y&lt;h;y++)
-                for(int x=0;x&lt;w;x++)
-                {
-                        a1=*sp;
-                        a2=*s;
-                        a3=*sn;
-                        a4=*snn;
-
-                        sum=2*a2+2*a3-a1-a4;
-                        sum=sum/2;
-                        
-                        a1=sum;                        
-
-                        if(a1&lt;0) a1=0;
-                        if(a1&gt;255) a1=255;
-                        *d1=a1;
-
-                        s++;
-                        sp++;
-                        sn++;
-                        snn++;
-                        d1++;
-                }
-        return 1;
-}
-#if defined (ARCH_X86 ) || defined (ARCH_X86_64 )
-static uint8_t tinyRestoreMMX(uint8_t *dst, uint8_t *srcP, uint8_t *src,uint8_t *srcN,uint8_t *srcNN,uint32_t w, uint32_t h)
-{
-
-
-uint8_t *s,*sp,*sn,*snn,*d1;
-int a1,a2,a3,a4,sum,delta,l,ll;
-
-        sp=srcP;
-        s=src;
-        sn=srcN;
-        snn=srcNN;
-        
-        d1=dst;
-
-        l=w*h;
-        ll=l&gt;&gt;2;
-#ifdef GCC_2_95_X
-        __asm__(
-                         &quot;pxor %mm7,%mm7&quot;
-                ::
-                 );
-#else
-        __asm__(
-                         &quot;pxor %%mm7,%%mm7&quot;
-                ::
-                 );
-#endif
-        for(int x=0;x&lt;ll;x++)
-                {
-                        __asm__(
-                        &quot;movd           (%0),%%mm0 \n&quot;
-                        &quot;movd           (%1),%%mm1 \n&quot;
-                        &quot;movd           (%2),%%mm2 \n&quot;
-                        &quot;movd           (%3),%%mm3 \n&quot;
-                        &quot;punpcklbw      %%mm7,%%mm0 \n&quot;
-                        &quot;punpcklbw      %%mm7,%%mm1 \n&quot;
-                        &quot;punpcklbw      %%mm7,%%mm2 \n&quot;
-                        &quot;punpcklbw      %%mm7,%%mm3 \n&quot;  //sum=2*m1+2*m2-m0-m3;
-                        
-                        &quot;paddw          %%mm2,%%mm1 \n&quot;
-                        &quot;paddw          %%mm1,%%mm1 \n&quot;
-                        &quot;paddw          %%mm3,%%mm0 \n&quot;
-                        
-                        &quot;psubusw        %%mm0,%%mm1 \n&quot; // mm1=sum
-                        &quot;psraw          $1,%%mm1 \n&quot;    //2 
-                        &quot;packuswb       %%mm1,  %%mm1\n&quot;
-                        &quot;movd           %%mm1,(%4) \n&quot;
-
-                : : &quot;r&quot; (sp),&quot;r&quot; (s),&quot;r&quot;(sn),&quot;r&quot;(snn),&quot;r&quot;(d1)
-                );
-
-                        s+=4;
-                        sp+=4;
-                        sn+=4;
-                        snn+=4;
-                        d1+=4;
-                }
-        if(l&amp;3) tinyRestore(d1, sp, s,sn,snn,l&amp;3, 1);
-        return 1;
-}
-#endif
-
-static uint8_t    restore(ADMImage *tgt,ADMImage *srcP,ADMImage *src,ADMImage *srcN,ADMImage *srcNN)
-{
-int delta;
-uint32_t ww,hh;
-uint8_t *s1,*s2,*d1;
-int a1,a2,t1;
-
-#if defined (ARCH_X86 ) || defined (ARCH_X86_64 )
-        if(CpuCaps::hasMMX())
-        {
-              tinyRestoreMMX(YPLANE(tgt),YPLANE(srcP),YPLANE(src),YPLANE(srcN),YPLANE(srcNN),tgt-&gt;_width,tgt-&gt;_height);
-              tinyRestoreMMX(UPLANE(tgt),UPLANE(srcP),UPLANE(src),UPLANE(srcN),UPLANE(srcNN),tgt-&gt;_width&gt;&gt;1,tgt-&gt;_height&gt;&gt;1);
-              tinyRestoreMMX(VPLANE(tgt),VPLANE(srcP),VPLANE(src),VPLANE(srcN),VPLANE(srcNN),tgt-&gt;_width&gt;&gt;1,tgt-&gt;_height&gt;&gt;1);
-              return 1;
-        }
-#endif
-
-        tinyRestore(YPLANE(tgt),YPLANE(srcP),YPLANE(src),YPLANE(srcN),YPLANE(srcNN),tgt-&gt;_width,tgt-&gt;_height);
-        tinyRestore(UPLANE(tgt),UPLANE(srcP),UPLANE(src),UPLANE(srcN),UPLANE(srcNN),tgt-&gt;_width&gt;&gt;1,tgt-&gt;_height&gt;&gt;1);
-        tinyRestore(VPLANE(tgt),VPLANE(srcP),VPLANE(src),VPLANE(srcN),VPLANE(srcNN),tgt-&gt;_width&gt;&gt;1,tgt-&gt;_height&gt;&gt;1);
-        return 1;
-
-
-}
-
-uint8_t vidHardPDRemoval::getFrameNumberNoAlloc (uint32_t inframe,
-                                uint32_t * len,
-                                ADMImage * data, uint32_t * flags)
-{
-
-	
-	ADMImage *srcP,*srcN,*srcNN,*src,*final,*display;
-        float distMerged, distN,distP,distM,distR,skip=0;
-        char txt[255];
-
-        
-        if(inframe&lt;1 || inframe&gt;inframe&gt;_info.nb_frames-3 )
-        {
-                skip=1;
-        }
-        if(inframe&gt;_lastRemoved+1 &amp;&amp; inframe&lt;_lastRemoved+5 )
-        {
-                skip=1;
-        }
-        
-        if(skip)
-        {
-                data-&gt;duplicate(vidCache-&gt;getImage(inframe));
-                hint(data);
-                vidCache-&gt;unlockAll();
-                return 1;
-        }
-        
-        if(_lastRemoved==inframe-1)
-        {
-                data-&gt;duplicate(rebuild);
-                hint(data);
-                if(_param-&gt;show&amp;&amp;inframe)
-                {
-                        sprintf(txt,&quot; Telecined 2&quot;);
-                        drawString(data,2,4,txt);
-                }
-                
-                return 1;
-        }
-
-        //data-&gt;duplicate(rebuild);
-
-        srcP=vidCache-&gt;getImage(inframe-1);
-        src=vidCache-&gt;getImage(inframe);
-        srcN=vidCache-&gt;getImage(inframe+1);
-        srcNN=vidCache-&gt;getImage(inframe+2);
-
-        if(!src || !srcP || !srcN || !srcNN)
-        {
-                data-&gt;duplicate(vidCache-&gt;getImage(inframe));
-                vidCache-&gt;unlockAll();
-                return 1;
-        }
-        
-        // Let's rebuild the pseudo R, where we have A AR RB B
-        // If then we got R1 very close to R2, and that AR is very close to src
-        // Decide it is hard telecined (frame blending)
-#if 1
-        restore(rebuild,srcP,src,srcN,srcNN);
-#else
-        cand1-&gt;substract(src,srcP);
-        cand2-&gt;substract(srcN,srcNN);
-        rebuild-&gt;merge(cand1,cand2);
-#endif  
-#if 0
-        data-&gt;duplicate(rebuild);
-        vidCache-&gt;unlockAll();
-        return 1;
-#endif
-
-        // And remerge...
-        cand1-&gt;merge(srcP,rebuild);
-        cand2-&gt;merge(srcNN,rebuild);
-        
-        distP=ADMImage::lumaDiff(cand1,src,_param-&gt;noise);
-        distN=ADMImage::lumaDiff(cand2,srcN,_param-&gt;noise);
-        distM=ADMImage::lumaDiff(src,srcP,_param-&gt;noise);
-        distR=ADMImage::lumaDiff(src,srcN,_param-&gt;noise);
-        
-        
-        
-        double medium;
-
-         if(distM&gt;1&amp;&amp;distR&gt;1)
-        {
-                if(distM&gt;distR) medium=distR;
-                          else  medium=distM;
-                  //medium=min(distM,distR);
-                 
-                 medium/=100;
-                 distN/=medium;
-                 distP/=medium;
-                 distR/=medium;
-         
-         }
-
-        medium=medium/(_info.width*_info.height);
-        medium*=1000;
-
-        if(medium&lt;_param-&gt;identical)
-        {
-                 data-&gt;duplicate(src);
-                 vidCache-&gt;unlockAll();
-                if(_param-&gt;show)
-                {
-                        sprintf(txt,&quot; %% %02.1f : Identical&quot;,medium);
-                        drawString(data,2,3,txt);
-
-                }
-                return 1;
-        }
-        double mn;
-
-        if(inframe == _lastRemoved+5)
-        {
-                distN=(distN*7)/10;
-                distP=(distP*7)/10;
-                
-        }
-                //data-&gt;duplicate(src); 
-        if(distN&lt;_param-&gt;threshold &amp;&amp; distP&lt;_param-&gt;threshold)
-        {
-                data-&gt;duplicate(rebuild);
-                hint(data);
-                _lastRemoved=inframe;
-                if(_param-&gt;show &amp;&amp; inframe == _lastRemoved+5)
-                {
-                        sprintf(txt,&quot; Fav&quot;);
-                        drawString(data,2,5,txt);      
-                }
-        }
-        else
-                data-&gt;duplicate(src);
-        if(_param-&gt;show)
-        {
-                display=data;
-
-                sprintf(txt,&quot; N %02.1f&quot;,distN);
-                drawString(display,2,0,txt);
-
-                sprintf(txt,&quot; P %02.1f&quot;,distP);
-                drawString(display,2,1,txt);
-
-                sprintf(txt,&quot; R %02.1f&quot;,distR);
-                drawString(display,2,2,txt);
-
-                sprintf(txt,&quot; %% %02.1f&quot;,medium);
-                drawString(display,2,3,txt);
-
-                if(_lastRemoved==inframe)
-                {
-                        sprintf(txt,&quot; Telecined 1&quot;,distP);
-                        drawString(display,2,4,txt);
-                }
-        }
-
-
-          
-        vidCache-&gt;unlockAll();
-	return 1;
-}
-uint8_t vidHardPDRemoval::getCoupledConf (CONFcouple ** couples)
-{
-
-  ADM_assert (_param);
-  *couples = new CONFcouple (4);
-#undef CSET
-#define CSET(x)  (*couples)-&gt;setCouple(#x,(_param-&gt;x))
-  CSET (threshold);
-  CSET (show);
-  CSET (noise);
-  CSET (identical);
-  
-  return 1;
-}
-
-
-//EOF

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidMosaic.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidMosaic.cpp	2007-01-12 19:00:30 UTC (rev 2711)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidMosaic.cpp	2007-01-12 19:23:19 UTC (rev 2712)
@@ -1,300 +0,0 @@
-/***************************************************************************
-                          
-        Mosaic filter
-                Put x*y images &amp; resize them
-    copyright            : (C) 2005 by mean
-    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-#include &quot;config.h&quot;
-
-#include &lt;stdio.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &lt;math.h&gt;
-#include &lt;ADM_assert.h&gt;
-
-#include &quot;fourcc.h&quot;
-#include &quot;avio.hxx&quot;
-#include &quot;avi_vars.h&quot;
-
-#include &quot;ADM_toolkit/toolkit.hxx&quot;
-#include &quot;ADM_editor/ADM_edit.hxx&quot;
-#include &quot;ADM_video/ADM_genvideo.hxx&quot;
-#include &quot;ADM_video/ADM_vidCommonFilter.h&quot;
-
-
-
-
-#if (defined( ARCH_X86)  || defined(ARCH_X86_64))
-extern &quot;C&quot; {
-#include &quot;ADM_lavcodec/avcodec.h&quot;
-}
-#endif
-
-#include &quot;ADM_lavutil/avutil.h&quot;
-#include &quot;../ADM_libswscale/swscale.h&quot;
-#include &quot;ADM_osSupport/ADM_cpuCap.h&quot;
-#include &quot;ADM_filter/video_filters.h&quot;
-
-#include &quot;ADM_video/ADM_cache.h&quot;
-#include &quot;DIA_enter.h&quot;
-
-#include &quot;ADM_vidMosaic_param.h&quot;
-
-extern uint8_t  DIA_mosaic(MOSAIC_PARAMS *mosaic);
-
-class  ADMVideoMosaic:public AVDMGenericVideoStream
- {
-
- protected:
-                                MOSAIC_PARAMS   *_param;
-                                SwsContext      *_context;
-                                uint8_t         reset(void);
-                                uint8_t         clean( void );
-                                VideoCache     *vidCache;
-                                uint32_t       tinyW,tinyH;
- public:
-
-                                ADMVideoMosaic(  AVDMGenericVideoStream *in,CONFcouple *setup);
-                                ADMVideoMosaic(        AVDMGenericVideoStream *in,uint32_t x,uint32_t y);
-                                virtual                 ~ADMVideoMosaic();
-          virtual               uint8_t getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
-                                                                ADMImage *data,uint32_t *flags);
-                                uint8_t configure( AVDMGenericVideoStream *instream);
-        virtual                 char    *printConf(void) ;
-
-          virtual uint8_t       getCoupledConf( CONFcouple **couples);
-
-
- }     ;
-static FILTER_PARAM mosaicParam={4,{&quot;hz&quot;,&quot;vz&quot;,&quot;shrink&quot;,&quot;show&quot;}};
-
-BUILD_CREATE(mosaic_create,ADMVideoMosaic);
-SCRIPT_CREATE(mosaic_script,ADMVideoMosaic,mosaicParam);
-
-
-
-uint8_t ADMVideoMosaic::configure(AVDMGenericVideoStream * instream)
-{
-    UNUSED_ARG(instream);
-
-    if(  DIA_mosaic(_param)) 
-    {
-        reset();
-        return 1;
-    }
-    return 0;
-
-}
-
-//
-//  
-//
-uint8_t ADMVideoMosaic::clean(void)
-{
-                if(_context)
-                {
-                        sws_freeContext(_context);
-                }
-                _context=NULL;
-                if(_uncompressed) delete _uncompressed;
-                _uncompressed=NULL;
-                if(vidCache) delete vidCache;
-                vidCache=NULL;
-                return 1;
-}
-
-uint8_t ADMVideoMosaic::reset(void)
-{
-SwsFilter                  *srcFilter=NULL;
-SwsFilter                  *dstFilter=NULL;
-int                       flags=0;
-
-                clean();
-                flags=SWS_BICUBIC;
-
-
-#if (defined( ARCH_X86)  || defined(ARCH_X86_64))
-                
-                #define ADD(x,y) if( CpuCaps::has##x()) flags|=SWS_CPU_CAPS_##y;
-                ADD(MMX,MMX);           
-                ADD(3DNOW,3DNOW);
-                ADD(MMXEXT,MMX2);
-#endif  
-        
-        
-
-        memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));
-       
-
-      
-
-        tinyW=_info.width;
-        tinyH=_info.height;
-        
-        tinyW/=_param-&gt;shrink;
-        tinyH/=_param-&gt;shrink;
-
-        if(tinyW&amp;1) tinyW++;
-        if(tinyH&amp;1) tinyH++;
-        
-
-        _info.width=tinyW*_param-&gt;hz;
-        _info.height=tinyH*_param-&gt;vz;
-
-
-        _uncompressed=new ADMImage(_info.width,_info.height);
-        vidCache=new VideoCache(_param-&gt;vz*_param-&gt;hz*2,_in);
-        //_info.nb_frames=_info.nb_frames/(_param-&gt;vz*_param-&gt;hz);
-
-  _context=sws_getContext(
-                        _in-&gt;getInfo()-&gt;width,_in-&gt;getInfo()-&gt;height,
-                        PIX_FMT_YUV420P,
-                        tinyW,
-                        tinyH,
-                        PIX_FMT_YUV420P,
-                        flags, srcFilter, dstFilter,NULL);
-
-        if(!_context) return 0;
-        return 1;
-
-
-}
-char *ADMVideoMosaic::printConf( void )
-{
-        static char buf[50];
-
-        sprintf((char *)buf,&quot; Mosaic : %d hz, %d vz, %d shrink factor&quot;,
-                                _in-&gt;getInfo()-&gt;width,
-                                _param-&gt;hz,_param-&gt;vz,_param-&gt;shrink);
-        return buf;
-}
-//_______________________________________________________________
-ADMVideoMosaic::ADMVideoMosaic(
-                                                                        AVDMGenericVideoStream *in,CONFcouple *couples)
-{
-
-        _in=in;
-        memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));
-        _param=NEW(MOSAIC_PARAMS);
-
-        if(couples)
-        {
-
-                GET(hz);
-                GET(vz);
-                GET(shrink);
-                GET(show);
-        
-        }
-        else
-        {
-                _param-&gt;hz=3;
-                _param-&gt;vz =3;
-                _param-&gt;shrink = 3;
-                _param-&gt;show=1;
-        }
-
-        _context=NULL;
-       vidCache=NULL;
-
-        reset();
-        _info.encoding=1;
-
-}
-
-
-uint8_t ADMVideoMosaic::getCoupledConf( CONFcouple **couples)
-{
-
-                        ADM_assert(_param);
-                        *couples=new CONFcouple(4);
-
-#define CSET(x)  (*couples)-&gt;setCouple((char *)#x,(_param-&gt;x))
-        CSET(hz);
-        CSET(vz);
-        CSET(shrink);
-        CSET(show);
-                        return 1;
-
-}
-// ___ destructor_____________
-ADMVideoMosaic::~ADMVideoMosaic()
-{
-        clean();
-        DELETE(_param);
-
-}
-
-//
-//      Basically ask a uncompressed frame from editor and ask
-//              GUI to decompress it .
-//
-
-uint8_t ADMVideoMosaic::getFrameNumberNoAlloc(uint32_t frame,
-                                uint32_t *len,
-                                ADMImage *data,
-                                uint32_t *flags)
-{
-                        if(frame&gt;=_info.nb_frames) 
-                        {
-                                printf(&quot;Filter : out of bound!\n&quot;);
-                                return 0;
-                        }
-        
-                        ADM_assert(_param);
-
-ADMImage *curImage;
-char txt[256];
-
-                        for(int y=0;y&lt;_param-&gt;vz;y++)
-                          for(int x=0;x&lt;_param-&gt;hz;x++)
-                        {
-                          curImage=vidCache-&gt;getImage(frame+y*_param-&gt;hz+x);
-                          if(!curImage) continue;
-
-                          if(_param-&gt;show)
-                          {
-                                sprintf(txt,&quot; %02d&quot;,frame+x+y*_param-&gt;hz);
-                                drawString(curImage,2,0,txt);
-                          }
-
-                          
-                          uint8_t *src[3];
-                          uint8_t *dst[3];
-                          int ssrc[3];
-                          int ddst[3];
-
-                          uint32_t page;
-
-                          page=_in-&gt;getInfo()-&gt;width*_in-&gt;getInfo()-&gt;height;
-                          src[0]=YPLANE(curImage);
-                          src[1]=UPLANE(curImage);
-                          src[2]=VPLANE(curImage);
-
-                          ssrc[0]=_in-&gt;getInfo()-&gt;width;
-                          ssrc[1]=ssrc[2]=_in-&gt;getInfo()-&gt;width&gt;&gt;1;
-
-                          page=_info.width*tinyH;
-                          
-                          dst[0]=YPLANE(data)+page*y+tinyW*x;
-                          dst[1]=UPLANE(data)+((page*y)/4)+((tinyW*x)/2);
-                          dst[2]=VPLANE(data)+((page*y)/4)+((tinyW*x)/2);
-                          ddst[0]=_info.width;
-                          ddst[1]=ddst[2]=_info.width&gt;&gt;1;
-
-                          sws_scale(_context,src,ssrc,0,_in-&gt;getInfo()-&gt;height,dst,ddst);
-                        }
-                        vidCache-&gt;unlockAll();
-        return 1;
-}
-

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidMosaic_param.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidMosaic_param.h	2007-01-12 19:00:30 UTC (rev 2711)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidMosaic_param.h	2007-01-12 19:23:19 UTC (rev 2712)
@@ -1,12 +0,0 @@
-
-#ifndef MOSAIC_PARAMS_H
-#define MOSAIC_PARAMS_H
-typedef struct MOSAIC_PARAMS
-{
-        uint32_t hz;
-        uint32_t vz;
-        uint32_t shrink;
-        uint32_t show;
-}MOSAIC_PARAMS;
-#endif
-

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/Makefile.am	2007-01-12 19:00:30 UTC (rev 2711)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/Makefile.am	2007-01-12 19:23:19 UTC (rev 2712)
@@ -71,9 +71,6 @@
  ADM_vidCNR2.cpp \
   ADM_vidDelta.cpp \
  ADM_vidUnblend.cpp \
- ADM_vidHardIvtcRemoval.cpp \
-  ADM_vidMosaic.cpp \
- ADM_vidBlendRemoval.cpp \
  ADM_vidTdeint.cpp \
  ADM_vidMPdelogo.cpp \
  ADM_guiCrop.cpp \
@@ -86,7 +83,7 @@
 				
 
 
-EXTRA_DIST =  ADM_cache.cpp  ADM_vidDecDec_param.h ADM_vidMosaic_param.h \
+EXTRA_DIST =  ADM_cache.cpp  ADM_vidDecDec_param.h \
 ADM_cache.h  ADM_vidDecTel_param.h \
 ADM_confCouple.h ADM_vidDecTelecide.cpp  ADM_vidNull.cpp \
 ADM_confCouples.cpp  ADM_vidDecTelecide.h  ADM_vidPalShift.cpp \
@@ -116,9 +113,9 @@
 ADM_vidAsharp.cpp   ADM_vidStabilize.cpp \
 ADM_vidFont.cpp ADM_vidStabilize.h \
 ADM_vidBlend.cpp ADM_vidFont.h ADM_vidSwapFields.cpp \
-ADM_vidBlendRemoval.cpp  ADM_vidSwapFields.h \
-ADM_vidBlendRemoval_param.h  ADM_vidSwapSmart.cpp \
-ADM_vidCNR2.cpp  ADM_vidHardIvtcRemoval.cpp  ADM_vidSwapSmart.h \
+ADM_vidSwapFields.h \
+ADM_vidSwapSmart.cpp \
+ADM_vidCNR2.cpp  ADM_vidSwapSmart.h \
 ADM_vidCNR2_param.h  ADM_vidHue.cpp  ADM_vidTDeint_param.h \
 ADM_vidCached.cpp  ADM_vidHue.h  ADM_vidTdeint.cpp \
 ADM_vidCached.h  ADM_vidIVTC.cpp ADM_vidTelecide.cpp \
@@ -140,7 +137,7 @@
 ADM_vidConvolution.hxx  ADM_vobsubinfo.cpp \
 ADM_vidCrop.cpp  ADM_vidMSmooth_param.h  ADM_vobsubinfo.h \
 ASM_vidDenoise.cpp \
-ADM_vidDecDec.cpp  ADM_vidMosaic.cpp swscale_internal.h \
+ADM_vidDecDec.cpp  swscale_internal.h \
 ADM_vidTdeint_util.txt ADM_vidASS.h ADM_vidASS.cpp \
 ADM_vidAss_Params.h mmx_macros.h
 

Copied: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp (from rev 2530, branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidBlendRemoval.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidBlendRemoval.cpp	2006-11-01 11:17:21 UTC (rev 2530)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp	2007-01-12 19:23:19 UTC (rev 2712)
@@ -0,0 +1,270 @@
+/***************************************************************************
+                         
+        Blending remover
+
+        A B C D E -&gt; A AB B 
+
+    copyright            : (C) 2005 by mean
+    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include &quot;config.h&quot;
+#include &lt;stdio.h&gt;
+#include &lt;stdlib.h&gt;
+#include &lt;string.h&gt;
+#include &lt;ADM_assert.h&gt;
+
+#include &quot;config.h&quot;
+#include &quot;fourcc.h&quot;
+#include &quot;avio.hxx&quot;
+#include &quot;default.h&quot;
+#include &quot;math.h&quot;
+
+#include &quot;ADM_toolkit/toolkit.hxx&quot;
+#include &quot;ADM_editor/ADM_edit.hxx&quot;
+#include &quot;ADM_video/ADM_genvideo.hxx&quot;
+
+#include &quot;ADM_osSupport/ADM_debugID.h&quot;
+#define MODULE_NAME MODULE_FILTER
+#include &quot;ADM_osSupport/ADM_debug.h&quot;
+#include &quot;ADM_video/ADM_cache.h&quot;
+#include &quot;ADM_filter/video_filters.h&quot;
+#include &quot;DIA_enter.h&quot;
+#include &quot;ADM_osSupport/ADM_cpuCap.h&quot;
+#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+#include &quot;ADM_vidBlendRemoval_param.h&quot;
+#define MUL 1
+// Set it to 2 for post separate field
+
+
+
+class vidBlendRemoval:public AVDMGenericVideoStream
+{
+
+protected:
+  virtual char *printConf (void);
+  VideoCache *vidCache;
+  BLEND_REMOVER_PARAM *_param;
+  uint32_t              _lastRemoved;
+  ADMImage              *rebuild;
+public:
+
+                        vidBlendRemoval (AVDMGenericVideoStream * in, CONFcouple * setup);
+        virtual         ~vidBlendRemoval ();
+  virtual uint8_t getFrameNumberNoAlloc (uint32_t frame, uint32_t * len,
+                                         ADMImage * data, uint32_t * flags);
+  uint8_t configure (AVDMGenericVideoStream * instream);
+  virtual uint8_t getCoupledConf (CONFcouple ** couples);
+
+};
+
+static FILTER_PARAM field_unblend_template =
+  { 4,&quot;threshold&quot;,&quot;show&quot;,&quot;noise&quot;,&quot;identical&quot;};
+
+BUILD_CREATE (blendremove_create, vidBlendRemoval);
+SCRIPT_CREATE (blendremove_script, vidBlendRemoval, field_unblend_template);
+//*************************************
+uint8_t vidBlendRemoval::configure (AVDMGenericVideoStream * in)
+{
+  
+   _in=in;
+    
+#define PX(x) &amp;(_param-&gt;x)
+        
+    diaElemUInteger   thresh(PX(threshold),_(&quot;threshold&quot;),0,99,
+        _(&quot;If value is smaller than threshold it is considered valid.&quot;
+            &quot; Smaller value might mean more false positive&quot;));
+    diaElemUInteger   noise(PX(noise),_(&quot;noise&quot;),0,99,_(&quot;If pixel are closer than noise, they are considered to be the same&quot;));
+    diaElemUInteger   identical(PX(identical),_(&quot;identical&quot;),0,99,_(&quot;If metric is less than identical, images are considered identical&quot;));
+    diaElemToggle     show(PX(show),_(&quot;identical&quot;),_(&quot;Show metric in image (debug)&quot;));
+    
+       diaElem *elems[]={&amp;thresh,&amp;noise,&amp;identical,&amp;show};
+  
+   if(  diaFactoryRun(&quot;Blend Removal&quot;,sizeof(elems)/sizeof(diaElem *),elems))
+   {
+        _lastRemoved=0xFFFFFFF;
+        return 1;
+    }
+        return 0;
+}
+/*************************************/
+char *vidBlendRemoval::printConf (void)
+{
+  static char buf[50];
+  sprintf ((char *) buf, &quot; Blend Removal Thresh:%d Noise:%d Ident:%d&quot;,_param-&gt;threshold,_param-&gt;noise,_param-&gt;identical);
+  return buf;
+}
+
+#define MAX_BLOCKS 50
+/*************************************/
+vidBlendRemoval::vidBlendRemoval (AVDMGenericVideoStream * in, CONFcouple * couples)
+{
+
+  _in = in;
+  memcpy (&amp;_info, _in-&gt;getInfo (), sizeof (_info));
+  _info.encoding = 1;
+  vidCache = new VideoCache (10, in);
+  _uncompressed=new ADMImage(_info.width,_info.height);
+  rebuild=new ADMImage(_info.width,_info.height);
+
+ _param=new BLEND_REMOVER_PARAM;
+ _lastRemoved=0xFFFF;
+ if(couples)
+ {
+#undef GET
+#define GET(x) couples-&gt;getCouple(#x,&amp;(_param-&gt;x))
+      GET (threshold);
+      GET (show);
+      GET (noise);
+      GET (identical);
+  }
+  else
+  {
+        _param-&gt;threshold=10;
+        _param-&gt;show=0;
+        _param-&gt;noise=5;
+        _param-&gt;identical=2;
+  }
+}
+//____________________________________________________________________
+vidBlendRemoval::~vidBlendRemoval ()
+{
+
+  delete vidCache;
+  vidCache = NULL;
+  delete _uncompressed;
+  _uncompressed=NULL;
+  delete _param;
+  _param=NULL;
+  delete rebuild;
+  rebuild=NULL;
+}
+
+
+
+
+
+uint8_t vidBlendRemoval::getFrameNumberNoAlloc (uint32_t inframe,
+                                uint32_t * len,
+                                ADMImage * data, uint32_t * flags)
+{
+
+	
+	ADMImage *srcP,*srcN,*src,*final,*display;
+        float distMerged, distN,distP,distM,distR,skip=0;
+        char txt[255];
+
+        
+        if(inframe&lt;1 || inframe&gt;inframe&gt;_info.nb_frames-2 )
+        {
+                skip=1;
+        }
+        if(inframe &amp;&amp; _lastRemoved==inframe-1)
+        {
+                skip=1;
+        }
+        
+        if(skip)
+        {
+                data-&gt;duplicate(vidCache-&gt;getImage(inframe));
+                vidCache-&gt;unlockAll();
+                return 1;
+        }
+        
+        
+
+        srcP=vidCache-&gt;getImage(inframe-1);
+        src=vidCache-&gt;getImage(inframe);
+        srcN=vidCache-&gt;getImage(inframe+1);
+        if(!srcP || !src || !srcN)
+        {
+                data-&gt;duplicate(vidCache-&gt;getImage(inframe));
+                vidCache-&gt;unlockAll();
+                return 1;
+        }
+       
+        rebuild-&gt;merge(srcP,srcN);
+        
+        distP=ADMImage::lumaDiff(src,srcN,_param-&gt;noise);
+        distN=ADMImage::lumaDiff(src,srcP,_param-&gt;noise);
+        distM=ADMImage::lumaDiff(src,rebuild,_param-&gt;noise);
+        
+        
+        
+        
+        double medium;
+
+         if(distN&gt;1&amp;&amp;distP&gt;1)
+        {
+                if(distP&gt;distN) medium=distN;
+                          else  medium=distP;
+                  //medium=min(distM,distR);
+                 
+                 medium/=100;
+                 distN/=medium;
+                 distP/=medium;
+                 distM/=medium;
+         
+         }
+        
+        medium=medium/(_info.width*_info.height);
+        medium*=1000;
+        if(distM&lt;_param-&gt;threshold &amp;&amp; medium&gt;_param-&gt;identical) // medium is how close pictures are, too close, we discard
+        {
+                data-&gt;duplicate(srcP);
+                _lastRemoved=inframe;
+                if(_param-&gt;show )
+                {
+                        sprintf(txt,&quot;Dupe&quot;);
+                        drawString(data,2,5,txt);      
+                }
+        }
+        else
+                data-&gt;duplicate(src);
+        if(_param-&gt;show)
+        {
+                display=data;
+
+                sprintf(txt,&quot; N %02.1f&quot;,distN);
+                drawString(display,2,0,txt);
+
+                sprintf(txt,&quot; P %02.1f&quot;,distP);
+                drawString(display,2,1,txt);
+
+                sprintf(txt,&quot; M %02.1f&quot;,distM);
+                drawString(display,2,2,txt);
+
+                sprintf(txt,&quot; %% %02.1f&quot;,medium);
+                drawString(display,2,3,txt);
+        }
+
+
+          
+        vidCache-&gt;unlockAll();
+	return 1;
+}
+uint8_t vidBlendRemoval::getCoupledConf (CONFcouple ** couples)
+{
+
+  ADM_assert (_param);
+  *couples = new CONFcouple (4);
+#undef CSET
+#define CSET(x)  (*couples)-&gt;setCouple(#x,(_param-&gt;x))
+  CSET (threshold);
+  CSET (show);
+  CSET (noise);
+  CSET (identical);
+  
+  return 1;
+}
+
+
+//EOF

Copied: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidBlendRemoval_param.h (from rev 2489, branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidBlendRemoval_param.h)

Copied: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp (from rev 2530, branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidHardIvtcRemoval.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidHardIvtcRemoval.cpp	2006-11-01 11:17:21 UTC (rev 2530)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp	2007-01-12 19:23:19 UTC (rev 2712)
@@ -0,0 +1,490 @@
+/***************************************************************************
+                         
+        Hard ivtc removal for image
+
+        A B C D E -&gt; A BC CD D E
+
+    copyright            : (C) 2005 by mean
+    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include &quot;config.h&quot;
+#include &lt;stdio.h&gt;
+#include &lt;stdlib.h&gt;
+#include &lt;string.h&gt;
+#include &lt;ADM_assert.h&gt;
+
+#include &quot;config.h&quot;
+#include &quot;fourcc.h&quot;
+#include &quot;avio.hxx&quot;
+#include &quot;default.h&quot;
+#include &quot;math.h&quot;
+
+#include &quot;ADM_toolkit/toolkit.hxx&quot;
+#include &quot;ADM_editor/ADM_edit.hxx&quot;
+#include &quot;ADM_video/ADM_genvideo.hxx&quot;
+
+#include &quot;ADM_osSupport/ADM_debugID.h&quot;
+#define MODULE_NAME MODULE_FILTER
+#include &quot;ADM_osSupport/ADM_debug.h&quot;
+#include &quot;ADM_video/ADM_cache.h&quot;
+#include &quot;ADM_filter/video_filters.h&quot;
+#include &quot;DIA_enter.h&quot;
+#include &quot;ADM_osSupport/ADM_cpuCap.h&quot;
+#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+
+#define MUL 1
+// Set it to 2 for post separate field
+
+#include &quot;ADM_vidBlendRemoval_param.h&quot;
+
+#define PROGRESSIVE  0x00000001
+#define MAGIC_NUMBER (0xdeadbeef)
+#define IN_PATTERN   0x00000002
+
+extern uint8_t PutHintingData(unsigned char *video, unsigned int hint);
+
+class vidHardPDRemoval:public AVDMGenericVideoStream
+{
+
+protected:
+  virtual char *printConf (void);
+  VideoCache *vidCache;
+  BLEND_REMOVER_PARAM *_param;
+  uint32_t              _lastRemoved;
+  ADMImage              *cand1,*cand2,*rebuild;
+public:
+
+                        vidHardPDRemoval (AVDMGenericVideoStream * in, CONFcouple * setup);
+        virtual         ~vidHardPDRemoval ();
+  virtual uint8_t getFrameNumberNoAlloc (uint32_t frame, uint32_t * len,
+                                         ADMImage * data, uint32_t * flags);
+  uint8_t configure (AVDMGenericVideoStream * instream);
+  virtual uint8_t getCoupledConf (CONFcouple ** couples);
+
+};
+
+static FILTER_PARAM field_unblend_template =
+  { 4,&quot;threshold&quot;,&quot;show&quot;,&quot;noise&quot;,&quot;identical&quot;};
+
+BUILD_CREATE (hardivtc_create, vidHardPDRemoval);
+SCRIPT_CREATE (hardivtc_script, vidHardPDRemoval, field_unblend_template);
+//*************************************
+uint8_t vidHardPDRemoval::configure (AVDMGenericVideoStream * in)
+{
+       _in=in;
+    
+#define PX(x) &amp;(_param-&gt;x)
+        
+    diaElemUInteger   thresh(PX(threshold),_(&quot;threshold&quot;),0,99,
+        _(&quot;If value is smaller than threshold it is considered valid.&quot;
+            &quot; Smaller value might mean more false positive&quot;));
+    diaElemUInteger   noise(PX(noise),_(&quot;noise&quot;),0,99,_(&quot;If pixel are closer than noise, they are considered to be the same&quot;));
+    diaElemUInteger   identical(PX(identical),_(&quot;identical&quot;),0,99,_(&quot;If metric is less than identical, images are considered identical&quot;));
+    diaElemToggle     show(PX(show),_(&quot;identical&quot;),_(&quot;Show metric in image (debug)&quot;));
+    
+       diaElem *elems[]={&amp;thresh,&amp;noise,&amp;identical,&amp;show};
+  
+   if(  diaFactoryRun(&quot;Hard ivtc removal&quot;,sizeof(elems)/sizeof(diaElem *),elems))
+   {
+        _lastRemoved=0xFFFFFFF;
+        return 1;
+    }
+        return 0;
+}
+/*************************************/
+char *vidHardPDRemoval::printConf (void)
+{
+  static char buf[50];
+  sprintf ((char *) buf, &quot; Field Unblend Thresh:%d Noise:%d&quot;,_param-&gt;threshold,_param-&gt;noise);
+  return buf;
+}
+static void hint(ADMImage *img)
+{
+       unsigned int hint;
+
+                 hint= PROGRESSIVE;
+                
+                 hint |= IN_PATTERN;
+                
+                PutHintingData(YPLANE(img), hint);  
+
+}
+#define MAX_BLOCKS 50
+/*************************************/
+vidHardPDRemoval::vidHardPDRemoval (AVDMGenericVideoStream * in, CONFcouple * couples)
+{
+
+  _in = in;
+  memcpy (&amp;_info, _in-&gt;getInfo (), sizeof (_info));
+  _info.encoding = 1;
+  vidCache = new VideoCache (10, in);
+  _uncompressed=new ADMImage(_info.width,_info.height);
+  cand1=new ADMImage(_info.width,_info.height);
+  cand2=new ADMImage(_info.width,_info.height);
+  rebuild=new ADMImage(_info.width,_info.height);
+
+ _param=new BLEND_REMOVER_PARAM;
+ _lastRemoved=0xFFFFFFF;
+ if(couples)
+ {
+#undef GET
+#define GET(x) couples-&gt;getCouple(#x,&amp;(_param-&gt;x))
+      GET (threshold);
+      GET (show);
+      GET (noise);
+      GET (identical);
+  }
+  else
+  {
+        _param-&gt;threshold=10;
+        _param-&gt;show=0;
+        _param-&gt;noise=5;
+        _param-&gt;identical=2;
+  }
+}
+//____________________________________________________________________
+vidHardPDRemoval::~vidHardPDRemoval ()
+{
+
+  delete vidCache;
+  vidCache = NULL;
+  delete _uncompressed;
+  _uncompressed=NULL;
+  delete _param;
+  _param=NULL;
+  delete cand1;
+  delete cand2;
+  delete rebuild;
+  cand1=NULL;
+  cand2=NULL;
+  rebuild=NULL;
+}
+
+
+
+
+/*
+
+                src=blend of srcP and R         =&gt; src= 1/2(srcP+R)
+                                                   2*src-srcP=R
+
+                srcN=blend of srcNN and R       =&gt; srcN=1/2 (srcNN+R)
+                                                        2*srcN-srcNN=R
+
+*/
+
+static uint8_t tinyRestore(uint8_t *dst, uint8_t *srcP, uint8_t *src,uint8_t *srcN,uint8_t *srcNN,uint32_t w, uint32_t h)
+{
+
+
+uint8_t *s,*sp,*sn,*snn,*d1;
+int a1,a2,a3,a4,sum,delta;
+
+        sp=srcP;
+        s=src;
+        sn=srcN;
+        snn=srcNN;
+        
+        d1=dst;
+
+          for(int y=0;y&lt;h;y++)
+                for(int x=0;x&lt;w;x++)
+                {
+                        a1=*sp;
+                        a2=*s;
+                        a3=*sn;
+                        a4=*snn;
+
+                        sum=2*a2+2*a3-a1-a4;
+                        sum=sum/2;
+                        
+                        a1=sum;                        
+
+                        if(a1&lt;0) a1=0;
+                        if(a1&gt;255) a1=255;
+                        *d1=a1;
+
+                        s++;
+                        sp++;
+                        sn++;
+                        snn++;
+                        d1++;
+                }
+        return 1;
+}
+#if defined (ARCH_X86 ) || defined (ARCH_X86_64 )
+static uint8_t tinyRestoreMMX(uint8_t *dst, uint8_t *srcP, uint8_t *src,uint8_t *srcN,uint8_t *srcNN,uint32_t w, uint32_t h)
+{
+
+
+uint8_t *s,*sp,*sn,*snn,*d1;
+int a1,a2,a3,a4,sum,delta,l,ll;
+
+        sp=srcP;
+        s=src;
+        sn=srcN;
+        snn=srcNN;
+        
+        d1=dst;
+
+        l=w*h;
+        ll=l&gt;&gt;2;
+#ifdef GCC_2_95_X
+        __asm__(
+                         &quot;pxor %mm7,%mm7&quot;
+                ::
+                 );
+#else
+        __asm__(
+                         &quot;pxor %%mm7,%%mm7&quot;
+                ::
+                 );
+#endif
+        for(int x=0;x&lt;ll;x++)
+                {
+                        __asm__(
+                        &quot;movd           (%0),%%mm0 \n&quot;
+                        &quot;movd           (%1),%%mm1 \n&quot;
+                        &quot;movd           (%2),%%mm2 \n&quot;
+                        &quot;movd           (%3),%%mm3 \n&quot;
+                        &quot;punpcklbw      %%mm7,%%mm0 \n&quot;
+                        &quot;punpcklbw      %%mm7,%%mm1 \n&quot;
+                        &quot;punpcklbw      %%mm7,%%mm2 \n&quot;
+                        &quot;punpcklbw      %%mm7,%%mm3 \n&quot;  //sum=2*m1+2*m2-m0-m3;
+                        
+                        &quot;paddw          %%mm2,%%mm1 \n&quot;
+                        &quot;paddw          %%mm1,%%mm1 \n&quot;
+                        &quot;paddw          %%mm3,%%mm0 \n&quot;
+                        
+                        &quot;psubusw        %%mm0,%%mm1 \n&quot; // mm1=sum
+                        &quot;psraw          $1,%%mm1 \n&quot;    //2 
+                        &quot;packuswb       %%mm1,  %%mm1\n&quot;
+                        &quot;movd           %%mm1,(%4) \n&quot;
+
+                : : &quot;r&quot; (sp),&quot;r&quot; (s),&quot;r&quot;(sn),&quot;r&quot;(snn),&quot;r&quot;(d1)
+                );
+
+                        s+=4;
+                        sp+=4;
+                        sn+=4;
+                        snn+=4;
+                        d1+=4;
+                }
+        if(l&amp;3) tinyRestore(d1, sp, s,sn,snn,l&amp;3, 1);
+        return 1;
+}
+#endif
+
+static uint8_t    restore(ADMImage *tgt,ADMImage *srcP,ADMImage *src,ADMImage *srcN,ADMImage *srcNN)
+{
+int delta;
+uint32_t ww,hh;
+uint8_t *s1,*s2,*d1;
+int a1,a2,t1;
+
+#if defined (ARCH_X86 ) || defined (ARCH_X86_64 )
+        if(CpuCaps::hasMMX())
+        {
+              tinyRestoreMMX(YPLANE(tgt),YPLANE(srcP),YPLANE(src),YPLANE(srcN),YPLANE(srcNN),tgt-&gt;_width,tgt-&gt;_height);
+              tinyRestoreMMX(UPLANE(tgt),UPLANE(srcP),UPLANE(src),UPLANE(srcN),UPLANE(srcNN),tgt-&gt;_width&gt;&gt;1,tgt-&gt;_height&gt;&gt;1);
+              tinyRestoreMMX(VPLANE(tgt),VPLANE(srcP),VPLANE(src),VPLANE(srcN),VPLANE(srcNN),tgt-&gt;_width&gt;&gt;1,tgt-&gt;_height&gt;&gt;1);
+              return 1;
+        }
+#endif
+
+        tinyRestore(YPLANE(tgt),YPLANE(srcP),YPLANE(src),YPLANE(srcN),YPLANE(srcNN),tgt-&gt;_width,tgt-&gt;_height);
+        tinyRestore(UPLANE(tgt),UPLANE(srcP),UPLANE(src),UPLANE(srcN),UPLANE(srcNN),tgt-&gt;_width&gt;&gt;1,tgt-&gt;_height&gt;&gt;1);
+        tinyRestore(VPLANE(tgt),VPLANE(srcP),VPLANE(src),VPLANE(srcN),VPLANE(srcNN),tgt-&gt;_width&gt;&gt;1,tgt-&gt;_height&gt;&gt;1);
+        return 1;
+
+
+}
+
+uint8_t vidHardPDRemoval::getFrameNumberNoAlloc (uint32_t inframe,
+                                uint32_t * len,
+                                ADMImage * data, uint32_t * flags)
+{
+
+	
+	ADMImage *srcP,*srcN,*srcNN,*src,*final,*display;
+        float distMerged, distN,distP,distM,distR,skip=0;
+        char txt[255];
+
+        
+        if(inframe&lt;1 || inframe&gt;inframe&gt;_info.nb_frames-3 )
+        {
+                skip=1;
+        }
+        if(inframe&gt;_lastRemoved+1 &amp;&amp; inframe&lt;_lastRemoved+5 )
+        {
+                skip=1;
+        }
+        
+        if(skip)
+        {
+                data-&gt;duplicate(vidCache-&gt;getImage(inframe));
+                hint(data);
+                vidCache-&gt;unlockAll();
+                return 1;
+        }
+        
+        if(_lastRemoved==inframe-1)
+        {
+                data-&gt;duplicate(rebuild);
+                hint(data);
+                if(_param-&gt;show&amp;&amp;inframe)
+                {
+                        sprintf(txt,&quot; Telecined 2&quot;);
+                        drawString(data,2,4,txt);
+                }
+                
+                return 1;
+        }
+
+        //data-&gt;duplicate(rebuild);
+
+        srcP=vidCache-&gt;getImage(inframe-1);
+        src=vidCache-&gt;getImage(inframe);
+        srcN=vidCache-&gt;getImage(inframe+1);
+        srcNN=vidCache-&gt;getImage(inframe+2);
+
+        if(!src || !srcP || !srcN || !srcNN)
+        {
+                data-&gt;duplicate(vidCache-&gt;getImage(inframe));
+                vidCache-&gt;unlockAll();
+                return 1;
+        }
+        
+        // Let's rebuild the pseudo R, where we have A AR RB B
+        // If then we got R1 very close to R2, and that AR is very close to src
+        // Decide it is hard telecined (frame blending)
+#if 1
+        restore(rebuild,srcP,src,srcN,srcNN);
+#else
+        cand1-&gt;substract(src,srcP);
+        cand2-&gt;substract(srcN,srcNN);
+        rebuild-&gt;merge(cand1,cand2);
+#endif  
+#if 0
+        data-&gt;duplicate(rebuild);
+        vidCache-&gt;unlockAll();
+        return 1;
+#endif
+
+        // And remerge...
+        cand1-&gt;merge(srcP,rebuild);
+        cand2-&gt;merge(srcNN,rebuild);
+        
+        distP=ADMImage::lumaDiff(cand1,src,_param-&gt;noise);
+        distN=ADMImage::lumaDiff(cand2,srcN,_param-&gt;noise);
+        distM=ADMImage::lumaDiff(src,srcP,_param-&gt;noise);
+        distR=ADMImage::lumaDiff(src,srcN,_param-&gt;noise);
+        
+        
+        
+        double medium;
+
+         if(distM&gt;1&amp;&amp;distR&gt;1)
+        {
+                if(distM&gt;distR) medium=distR;
+                          else  medium=distM;
+                  //medium=min(distM,distR);
+                 
+                 medium/=100;
+                 distN/=medium;
+                 distP/=medium;
+                 distR/=medium;
+         
+         }
+
+        medium=medium/(_info.width*_info.height);
+        medium*=1000;
+
+        if(medium&lt;_param-&gt;identical)
+        {
+                 data-&gt;duplicate(src);
+                 vidCache-&gt;unlockAll();
+                if(_param-&gt;show)
+                {
+                        sprintf(txt,&quot; %% %02.1f : Identical&quot;,medium);
+                        drawString(data,2,3,txt);
+
+                }
+                return 1;
+        }
+        double mn;
+
+        if(inframe == _lastRemoved+5)
+        {
+                distN=(distN*7)/10;
+                distP=(distP*7)/10;
+                
+        }
+                //data-&gt;duplicate(src); 
+        if(distN&lt;_param-&gt;threshold &amp;&amp; distP&lt;_param-&gt;threshold)
+        {
+                data-&gt;duplicate(rebuild);
+                hint(data);
+                _lastRemoved=inframe;
+                if(_param-&gt;show &amp;&amp; inframe == _lastRemoved+5)
+                {
+                        sprintf(txt,&quot; Fav&quot;);
+                        drawString(data,2,5,txt);      
+                }
+        }
+        else
+                data-&gt;duplicate(src);
+        if(_param-&gt;show)
+        {
+                display=data;
+
+                sprintf(txt,&quot; N %02.1f&quot;,distN);
+                drawString(display,2,0,txt);
+
+                sprintf(txt,&quot; P %02.1f&quot;,distP);
+                drawString(display,2,1,txt);
+
+                sprintf(txt,&quot; R %02.1f&quot;,distR);
+                drawString(display,2,2,txt);
+
+                sprintf(txt,&quot; %% %02.1f&quot;,medium);
+                drawString(display,2,3,txt);
+
+                if(_lastRemoved==inframe)
+                {
+                        sprintf(txt,&quot; Telecined 1&quot;,distP);
+                        drawString(display,2,4,txt);
+                }
+        }
+
+
+          
+        vidCache-&gt;unlockAll();
+	return 1;
+}
+uint8_t vidHardPDRemoval::getCoupledConf (CONFcouple ** couples)
+{
+
+  ADM_assert (_param);
+  *couples = new CONFcouple (4);
+#undef CSET
+#define CSET(x)  (*couples)-&gt;setCouple(#x,(_param-&gt;x))
+  CSET (threshold);
+  CSET (show);
+  CSET (noise);
+  CSET (identical);
+  
+  return 1;
+}
+
+
+//EOF

Copied: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMosaic.cpp (from rev 2530, branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidMosaic.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidMosaic.cpp	2006-11-01 11:17:21 UTC (rev 2530)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMosaic.cpp	2007-01-12 19:23:19 UTC (rev 2712)
@@ -0,0 +1,310 @@
+/***************************************************************************
+                          
+        Mosaic filter
+                Put x*y images &amp; resize them
+    copyright            : (C) 2005 by mean
+    email                : <A HREF="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">fixounet at free.fr</A>
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+#include &quot;config.h&quot;
+
+#include &lt;stdio.h&gt;
+#include &lt;stdlib.h&gt;
+#include &lt;string.h&gt;
+#include &lt;math.h&gt;
+#include &lt;ADM_assert.h&gt;
+
+#include &quot;fourcc.h&quot;
+#include &quot;avio.hxx&quot;
+#include &quot;avi_vars.h&quot;
+
+#include &quot;ADM_toolkit/toolkit.hxx&quot;
+#include &quot;ADM_editor/ADM_edit.hxx&quot;
+#include &quot;ADM_video/ADM_genvideo.hxx&quot;
+#include &quot;ADM_video/ADM_vidCommonFilter.h&quot;
+
+#include &quot;ADM_userInterfaces/ADM_commonUI/DIA_factory.h&quot;
+
+
+#if (defined( ARCH_X86)  || defined(ARCH_X86_64))
+extern &quot;C&quot; {
+#include &quot;ADM_lavcodec/avcodec.h&quot;
+}
+#endif
+
+#include &quot;ADM_lavutil/avutil.h&quot;
+#include &quot;../ADM_libswscale/swscale.h&quot;
+#include &quot;ADM_osSupport/ADM_cpuCap.h&quot;
+#include &quot;ADM_filter/video_filters.h&quot;
+
+#include &quot;ADM_video/ADM_cache.h&quot;
+#include &quot;DIA_enter.h&quot;
+
+#include &quot;ADM_vidMosaic_param.h&quot;
+
+extern uint8_t  DIA_mosaic(MOSAIC_PARAMS *mosaic);
+
+class  ADMVideoMosaic:public AVDMGenericVideoStream
+ {
+
+ protected:
+                                MOSAIC_PARAMS   *_param;
+                                SwsContext      *_context;
+                                uint8_t         reset(void);
+                                uint8_t         clean( void );
+                                VideoCache     *vidCache;
+                                uint32_t       tinyW,tinyH;
+ public:
+
+                                ADMVideoMosaic(  AVDMGenericVideoStream *in,CONFcouple *setup);
+                                ADMVideoMosaic(        AVDMGenericVideoStream *in,uint32_t x,uint32_t y);
+                                virtual                 ~ADMVideoMosaic();
+          virtual               uint8_t getFrameNumberNoAlloc(uint32_t frame, uint32_t *len,
+                                                                ADMImage *data,uint32_t *flags);
+                                uint8_t configure( AVDMGenericVideoStream *instream);
+        virtual                 char    *printConf(void) ;
+
+          virtual uint8_t       getCoupledConf( CONFcouple **couples);
+
+
+ }     ;
+static FILTER_PARAM mosaicParam={4,{&quot;hz&quot;,&quot;vz&quot;,&quot;shrink&quot;,&quot;show&quot;}};
+
+BUILD_CREATE(mosaic_create,ADMVideoMosaic);
+SCRIPT_CREATE(mosaic_script,ADMVideoMosaic,mosaicParam);
+
+
+
+uint8_t ADMVideoMosaic::configure(AVDMGenericVideoStream * instream)
+{
+    UNUSED_ARG(instream);
+
+#define PX(x) &amp;(_param-&gt;x)
+        
+    diaElemUInteger   hz(PX(hz),_(&quot;Horizontal Stacking&quot;),0,10);
+    diaElemUInteger   vz(PX(vz),_(&quot;Vertical Stacking&quot;),0,10);
+    diaElemUInteger   shrink(PX(shrink),_(&quot;Shrink Factor&quot;),0,10);
+    diaElemToggle     show(PX(show),_(&quot;Show frame&quot;));
+    
+    
+       diaElem *elems[]={&amp;hz,&amp;vz,&amp;shrink,&amp;show};
+  
+   if(  diaFactoryRun(&quot;Mosaic&quot;,sizeof(elems)/sizeof(diaElem *),elems))
+   {
+        reset();
+        return 1;
+    }
+    return 0;
+
+}
+
+//
+//  
+//
+uint8_t ADMVideoMosaic::clean(void)
+{
+                if(_context)
+                {
+                        sws_freeContext(_context);
+                }
+                _context=NULL;
+                if(_uncompressed) delete _uncompressed;
+                _uncompressed=NULL;
+                if(vidCache) delete vidCache;
+                vidCache=NULL;
+                return 1;
+}
+
+uint8_t ADMVideoMosaic::reset(void)
+{
+SwsFilter                  *srcFilter=NULL;
+SwsFilter                  *dstFilter=NULL;
+int                       flags=0;
+
+                clean();
+                flags=SWS_BICUBIC;
+
+
+#if (defined( ARCH_X86)  || defined(ARCH_X86_64))
+                
+                #define ADD(x,y) if( CpuCaps::has##x()) flags|=SWS_CPU_CAPS_##y;
+                ADD(MMX,MMX);           
+                ADD(3DNOW,3DNOW);
+                ADD(MMXEXT,MMX2);
+#endif  
+        
+        
+
+        memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));
+       
+
+      
+
+        tinyW=_info.width;
+        tinyH=_info.height;
+        
+        tinyW/=_param-&gt;shrink;
+        tinyH/=_param-&gt;shrink;
+
+        if(tinyW&amp;1) tinyW++;
+        if(tinyH&amp;1) tinyH++;
+        
+
+        _info.width=tinyW*_param-&gt;hz;
+        _info.height=tinyH*_param-&gt;vz;
+
+
+        _uncompressed=new ADMImage(_info.width,_info.height);
+        vidCache=new VideoCache(_param-&gt;vz*_param-&gt;hz*2,_in);
+        //_info.nb_frames=_info.nb_frames/(_param-&gt;vz*_param-&gt;hz);
+
+  _context=sws_getContext(
+                        _in-&gt;getInfo()-&gt;width,_in-&gt;getInfo()-&gt;height,
+                        PIX_FMT_YUV420P,
+                        tinyW,
+                        tinyH,
+                        PIX_FMT_YUV420P,
+                        flags, srcFilter, dstFilter,NULL);
+
+        if(!_context) return 0;
+        return 1;
+
+
+}
+char *ADMVideoMosaic::printConf( void )
+{
+        static char buf[50];
+
+        sprintf((char *)buf,&quot; Mosaic : %d hz, %d vz, %d shrink factor&quot;,
+                                _in-&gt;getInfo()-&gt;width,
+                                _param-&gt;hz,_param-&gt;vz,_param-&gt;shrink);
+        return buf;
+}
+//_______________________________________________________________
+ADMVideoMosaic::ADMVideoMosaic(
+                                                                        AVDMGenericVideoStream *in,CONFcouple *couples)
+{
+
+        _in=in;
+        memcpy(&amp;_info,_in-&gt;getInfo(),sizeof(_info));
+        _param=NEW(MOSAIC_PARAMS);
+
+        if(couples)
+        {
+
+                GET(hz);
+                GET(vz);
+                GET(shrink);
+                GET(show);
+        
+        }
+        else
+        {
+                _param-&gt;hz=3;
+                _param-&gt;vz =3;
+                _param-&gt;shrink = 3;
+                _param-&gt;show=1;
+        }
+
+        _context=NULL;
+       vidCache=NULL;
+
+        reset();
+        _info.encoding=1;
+
+}
+
+
+uint8_t ADMVideoMosaic::getCoupledConf( CONFcouple **couples)
+{
+
+                        ADM_assert(_param);
+                        *couples=new CONFcouple(4);
+
+#define CSET(x)  (*couples)-&gt;setCouple((char *)#x,(_param-&gt;x))
+        CSET(hz);
+        CSET(vz);
+        CSET(shrink);
+        CSET(show);
+                        return 1;
+
+}
+// ___ destructor_____________
+ADMVideoMosaic::~ADMVideoMosaic()
+{
+        clean();
+        DELETE(_param);
+
+}
+
+//
+//      Basically ask a uncompressed frame from editor and ask
+//              GUI to decompress it .
+//
+
+uint8_t ADMVideoMosaic::getFrameNumberNoAlloc(uint32_t frame,
+                                uint32_t *len,
+                                ADMImage *data,
+                                uint32_t *flags)
+{
+                        if(frame&gt;=_info.nb_frames) 
+                        {
+                                printf(&quot;Filter : out of bound!\n&quot;);
+                                return 0;
+                        }
+        
+                        ADM_assert(_param);
+
+ADMImage *curImage;
+char txt[256];
+
+                        for(int y=0;y&lt;_param-&gt;vz;y++)
+                          for(int x=0;x&lt;_param-&gt;hz;x++)
+                        {
+                          curImage=vidCache-&gt;getImage(frame+y*_param-&gt;hz+x);
+                          if(!curImage) continue;
+
+                          if(_param-&gt;show)
+                          {
+                                sprintf(txt,&quot; %02d&quot;,frame+x+y*_param-&gt;hz);
+                                drawString(curImage,2,0,txt);
+                          }
+
+                          
+                          uint8_t *src[3];
+                          uint8_t *dst[3];
+                          int ssrc[3];
+                          int ddst[3];
+
+                          uint32_t page;
+
+                          page=_in-&gt;getInfo()-&gt;width*_in-&gt;getInfo()-&gt;height;
+                          src[0]=YPLANE(curImage);
+                          src[1]=UPLANE(curImage);
+                          src[2]=VPLANE(curImage);
+
+                          ssrc[0]=_in-&gt;getInfo()-&gt;width;
+                          ssrc[1]=ssrc[2]=_in-&gt;getInfo()-&gt;width&gt;&gt;1;
+
+                          page=_info.width*tinyH;
+                          
+                          dst[0]=YPLANE(data)+page*y+tinyW*x;
+                          dst[1]=UPLANE(data)+((page*y)/4)+((tinyW*x)/2);
+                          dst[2]=VPLANE(data)+((page*y)/4)+((tinyW*x)/2);
+                          ddst[0]=_info.width;
+                          ddst[1]=ddst[2]=_info.width&gt;&gt;1;
+
+                          sws_scale(_context,src,ssrc,0,_in-&gt;getInfo()-&gt;height,dst,ddst);
+                        }
+                        vidCache-&gt;unlockAll();
+        return 1;
+}
+

Copied: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/ADM_vidMosaic_param.h (from rev 2489, branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_vidMosaic_param.h)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/Makefile.am	2007-01-12 19:00:30 UTC (rev 2711)
+++ branches/avidemux_2.4_branch/avidemux/ADM_videoFilter/Makefile.am	2007-01-12 19:23:19 UTC (rev 2712)
@@ -7,6 +7,9 @@
 #INCLUDES = $(all_includes) 
 
 libADM_videoFilter_a_SOURCES =  \
+ ADM_vidMosaic.cpp \
+ ADM_vidBlendRemoval.cpp  \
+ ADM_vidHardIvtcRemoval.cpp \
  ADM_vidDGbob.cpp \
  ADM_vidForcedPP.cpp \
  ADM_vidMSharpen.cpp \


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000039.html">[Avidemux-svn-commit] r2711 -	branches/avidemux_2.4_branch/avidemux/ADM_videoFilter
</A></li>
	<LI>Next message: <A HREF="000041.html">[Avidemux-svn-commit] r2713 -	branches/avidemux_2.4_branch/avidemux/ADM_video
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40">[ date ]</a>
              <a href="thread.html#40">[ thread ]</a>
              <a href="subject.html#40">[ subject ]</a>
              <a href="author.html#40">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
