From gruntster at mail.berlios.de  Tue Sep  2 20:28:08 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Tue, 2 Sep 2008 20:28:08 +0200
Subject: [Avidemux-svn-commit] r4304 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk
Message-ID: <200809021828.m82IS8Tp028577@sheep.berlios.de>

Author: gruntster
Date: 2008-09-02 20:28:00 +0200 (Tue, 02 Sep 2008)
New Revision: 4304

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp
Log:
[UI] always leave main UI as non-modal

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp	2008-08-31 08:30:18 UTC (rev 4303)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp	2008-09-02 18:28:00 UTC (rev 4304)
@@ -67,15 +67,11 @@
         // old one is no longer modal
         if(widgetCount)
         {
-#ifndef ADM_WIN32                
                 gtk_window_set_modal(GTK_WINDOW(widgetStack[widgetCount-1]), 0);
-#endif
                 gtk_window_set_transient_for (GTK_WINDOW(newdialog),GTK_WINDOW(widgetStack[widgetCount-1]));
+				gtk_window_set_modal(GTK_WINDOW(widgetStack[widgetCount]), 1);
         }
-        gtk_window_set_modal(GTK_WINDOW(widgetStack[widgetCount]), 1);
-#ifdef ADM_WIN32
-        gtk_window_set_icon(GTK_WINDOW(widgetStack[widgetCount]), gtk_window_get_icon (GTK_WINDOW(widgetStack[0])));
-#endif
+
         widgetCount++;
 }
 void gtk_unregister_dialog(GtkWidget *newdialog)
@@ -83,15 +79,11 @@
 	ADM_assert(widgetCount);
 	ADM_assert(widgetStack[widgetCount-1]==newdialog);
 	widgetCount--;
-	if(widgetCount)
+	if(widgetCount > 1)
 	{
 		// Reset the old one modal
 		gtk_window_set_modal(GTK_WINDOW(widgetStack[widgetCount-1]), 1);
-#ifdef ADM_WIN32
-		gtk_window_present(GTK_WINDOW(widgetStack[widgetCount-1]));
-#endif
 	}
-
 }
 void		gtk_transient(GtkWidget *widget)
 {



From gruntster at mail.berlios.de  Wed Sep  3 03:05:10 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Wed, 3 Sep 2008 03:05:10 +0200
Subject: [Avidemux-svn-commit] r4305 - branches/avidemux_2.4_branch
Message-ID: <200809030105.m8315ATG002088@sheep.berlios.de>

Author: gruntster
Date: 2008-09-03 03:05:02 +0200 (Wed, 03 Sep 2008)
New Revision: 4305

Modified:
   branches/avidemux_2.4_branch/CMakeLists.txt
Log:
[Qt] require at least version 4.2.0 of Qt

Modified: branches/avidemux_2.4_branch/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/CMakeLists.txt	2008-09-02 18:28:00 UTC (rev 4304)
+++ branches/avidemux_2.4_branch/CMakeLists.txt	2008-09-03 01:05:02 UTC (rev 4305)
@@ -162,6 +162,7 @@
 if(NO_QT4)
 message(status "<disabled per request>")
 else(NO_QT4)
+SET(QT_MIN_VERSION 4.2.0)
 include(FindQt4)
 if(QT4_FOUND AND MINGW)
 if(XMINGW) # Cross compile ?



From gruntster at mail.berlios.de  Wed Sep  3 03:26:28 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Wed, 3 Sep 2008 03:26:28 +0200
Subject: [Avidemux-svn-commit] r4306 - in
	branches/avidemux_2.4_branch/avidemux:
	ADM_userInterfaces/ADM_GTK/ADM_dialog
	ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk
	ADM_userInterfaces/ADM_QT4/ADM_dialog
	ADM_userInterfaces/ADM_QT4/ADM_gui
	ADM_userInterfaces/ADM_commonUI xpm
Message-ID: <200809030126.m831QS6x006079@sheep.berlios.de>

Author: gruntster
Date: 2008-09-03 03:25:58 +0200 (Wed, 03 Sep 2008)
New Revision: 4306

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_tray_gtk.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_tray.cpp
   branches/avidemux_2.4_branch/avidemux/xpm/film1.xpm
   branches/avidemux_2.4_branch/avidemux/xpm/film11.xpm
   branches/avidemux_2.4_branch/avidemux/xpm/film13.xpm
   branches/avidemux_2.4_branch/avidemux/xpm/film15.xpm
   branches/avidemux_2.4_branch/avidemux/xpm/film17.xpm
   branches/avidemux_2.4_branch/avidemux/xpm/film19.xpm
   branches/avidemux_2.4_branch/avidemux/xpm/film21.xpm
   branches/avidemux_2.4_branch/avidemux/xpm/film23.xpm
   branches/avidemux_2.4_branch/avidemux/xpm/film3.xpm
   branches/avidemux_2.4_branch/avidemux/xpm/film5.xpm
   branches/avidemux_2.4_branch/avidemux/xpm/film7.xpm
   branches/avidemux_2.4_branch/avidemux/xpm/film9.xpm
Removed:
   branches/avidemux_2.4_branch/avidemux/xpm/film1.inc
   branches/avidemux_2.4_branch/avidemux/xpm/film11.inc
   branches/avidemux_2.4_branch/avidemux/xpm/film13.inc
   branches/avidemux_2.4_branch/avidemux/xpm/film15.inc
   branches/avidemux_2.4_branch/avidemux/xpm/film17.inc
   branches/avidemux_2.4_branch/avidemux/xpm/film19.inc
   branches/avidemux_2.4_branch/avidemux/xpm/film21.inc
   branches/avidemux_2.4_branch/avidemux/xpm/film23.inc
   branches/avidemux_2.4_branch/avidemux/xpm/film3.inc
   branches/avidemux_2.4_branch/avidemux/xpm/film5.inc
   branches/avidemux_2.4_branch/avidemux/xpm/film7.inc
   branches/avidemux_2.4_branch/avidemux/xpm/film9.inc
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_gladeSupport.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_tray_gtk.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/ADM_tray.h
Log:
[Qt] add system tray support for Qt

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp	2008-09-03 01:25:58 UTC (rev 4306)
@@ -28,6 +28,7 @@
 #include "ADM_toolkit_gtk/toolkit_gtk_include.h"
 #include "ADM_libraries/ADM_utilities/avidemutils.h"
 #include "ADM_userInterfaces/ADM_commonUI/DIA_working.h"
+#include "ADM_toolkit_gtk/ADM_tray_gtk.h"
 
 #include "ADM_assert.h" 
 
@@ -111,7 +112,7 @@
 		{
 			gtk_window_iconify(GTK_WINDOW(dialog));
 			UI_iconify();
-			tray = new ADM_tray(dialog);
+			tray = new ADM_gtktray(dialog);
 		}
 		else
 			tray = NULL;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_gladeSupport.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_gladeSupport.cpp	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_gladeSupport.cpp	2008-09-03 01:25:58 UTC (rev 4306)
@@ -47,18 +47,18 @@
 #include "xpm/preview.inc"
 #include "xpm/output.inc"
 
-#include "xpm/film1.inc"
-#include "xpm/film3.inc"
-#include "xpm/film5.inc"
-#include "xpm/film7.inc"
-#include "xpm/film9.inc"
-#include "xpm/film11.inc"
-#include "xpm/film13.inc"
-#include "xpm/film15.inc"
-#include "xpm/film17.inc"
-#include "xpm/film19.inc"
-#include "xpm/film21.inc"
-#include "xpm/film23.inc"
+#include "xpm/film1.xpm"
+#include "xpm/film3.xpm"
+#include "xpm/film5.xpm"
+#include "xpm/film7.xpm"
+#include "xpm/film9.xpm"
+#include "xpm/film11.xpm"
+#include "xpm/film13.xpm"
+#include "xpm/film15.xpm"
+#include "xpm/film17.xpm"
+#include "xpm/film19.xpm"
+#include "xpm/film21.xpm"
+#include "xpm/film23.xpm"
 #include "xpm/audio-volume-medium.inc"
 #include "xpm/preview-button.inc"
 
@@ -112,7 +112,7 @@
         {A_ICON_PNG,"audio-volume-medium.png",                 (void *)audio_volume_medium},
         {A_ICON_PNG,"preview-button.png",                 (void *)preview_button},
 	// Jakub nice animation
-#define MKFILM(x) 	{A_ICON_PNG,"film"#x".png",                 (void *)film##x},
+#define MKFILM(x) 	{A_ICON_XPM,"film"#x".xpm",                 (void *)xpm_film##x},
 	MKFILM(1)
 	MKFILM(3)
 	MKFILM(5)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_tray_gtk.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_tray_gtk.cpp	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_tray_gtk.cpp	2008-09-03 01:25:58 UTC (rev 4306)
@@ -24,7 +24,7 @@
 
 #include "default.h"
 #include "ADM_toolkit_gtk/toolkit_gtk_include.h"
-#include "ADM_tray.h"
+#include "ADM_toolkit_gtk/ADM_tray_gtk.h"
 #include "ADM_toolkit_gtk/ADM_gladeSupport.h"
 
 extern void UI_deiconify(void);
@@ -33,9 +33,9 @@
 static int lastIcon;
 
 static const char *animated[] = {
-	"film1.png","film3.png","film5.png","film7.png","film9.png",
-	"film11.png","film13.png","film15.png","film17.png","film19.png",
-	"film21.png","film23.png"};
+	"film1.xpm","film3.xpm","film5.xpm","film7.xpm","film9.xpm",
+	"film11.xpm","film13.xpm","film15.xpm","film17.xpm","film19.xpm",
+	"film21.xpm","film23.xpm"};
 
 void tray_icon_on_click(GtkStatusIcon *status_icon, gpointer user_data)
 {
@@ -61,7 +61,7 @@
 	gtk_menu_popup(GTK_MENU(popupMenu), NULL, NULL, gtk_status_icon_position_menu, status_icon, button, activate_time);
 }
 
-ADM_tray::ADM_tray(void* parent)
+ADM_gtktray::ADM_gtktray(void* parent) : ADM_tray(parent)
 {
 	_parent = parent;
 	lastIcon = 0;
@@ -91,7 +91,7 @@
 	gtk_status_icon_set_visible((GtkStatusIcon*)sys, TRUE);
 }
 
-ADM_tray::~ADM_tray()
+ADM_gtktray::~ADM_gtktray()
 {
 	if (sys)
 		gtk_status_icon_set_visible((GtkStatusIcon*)sys, FALSE);
@@ -99,7 +99,7 @@
 	sys = NULL;
 }
 
-uint8_t ADM_tray::setPercent(int percent)
+uint8_t ADM_gtktray::setPercent(int percent)
 {
 	char percentS[40];
 
@@ -120,7 +120,7 @@
 	return 1;
 }
 
-uint8_t ADM_tray::setStatus(int working)
+uint8_t ADM_gtktray::setStatus(int working)
 {
 	return 1;
 }

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_tray_gtk.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_tray_gtk.h	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_tray_gtk.h	2008-09-03 01:25:58 UTC (rev 4306)
@@ -0,0 +1,32 @@
+/***************************************************************************
+                                ADM_qtray.cpp
+                                -------------
+
+    begin                : Tue Sep 2 2008
+    copyright            : (C) 2008 by gruntster
+
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#ifndef ADM_GTKTRAY_H
+#define ADM_GTKTRAY_H
+
+#include "ADM_tray.h"
+
+class ADM_gtktray : public ADM_tray
+{
+public:
+	ADM_gtktray(void *parent);
+	~ADM_gtktray();
+	uint8_t setPercent(int percent);
+	uint8_t setStatus(int working);
+};
+#endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp	2008-09-03 01:25:58 UTC (rev 4306)
@@ -28,7 +28,9 @@
 #include "DIA_encoding.h"
 #include "ADM_toolkit/toolkit.hxx"
 #include "ADM_libraries/ADM_utilities/avidemutils.h"
+#include "ADM_gui/ADM_qtray.h"
 
+extern void UI_iconify(void);
 extern void UI_purge(void);
 static int stopReq=0;
 class encodingWindow : public QDialog
@@ -120,8 +122,10 @@
 static encodingWindow *window=NULL;
 DIA_encoding::DIA_encoding( uint32_t fps1000 )
 {
-uint32_t useTray=0;
+	uint32_t useTray = 0;
 
+	if (!prefs->get(FEATURE_USE_SYSTRAY, &useTray))
+		useTray = 0;
 
         ADM_assert(window==NULL);
         stopReq=0;
@@ -139,8 +143,18 @@
         _total=1000;
 
          window->setModal(TRUE);
-         window->show();
 
+		 if (useTray)
+		 {
+			 window->showMinimized();
+			 UI_iconify();
+			 tray = new ADM_qtray(window);
+		 }
+		 else
+		 {
+			 window->show();
+			 tray = NULL;
+		 }
 }
 /**
     \fn setFps(uint32_t fps)
@@ -388,6 +402,9 @@
             float f=_lastnb*100;
             f=f/_total;
             WIDGET(progressBar)->setValue((int)f);
+
+			if(tray)
+				tray->setPercent((int)(f*100.));
           
         _totalSize=_audioSize+_videoSize;
         setSize(_totalSize>>20);

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.cpp	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.cpp	2008-09-03 01:25:58 UTC (rev 4306)
@@ -0,0 +1,108 @@
+/***************************************************************************
+                               ADM_qtray.cpp
+                               -------------
+
+    begin                : Tue Sep 2 2008
+    copyright            : (C) 2008 by gruntster
+
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include "config.h"
+
+#include <string.h>
+#include <stdio.h>
+#include <QtGui/QMenu>
+#include <QtGui/QSystemTrayIcon>
+
+#include "default.h"
+#include "ADM_qtray.h"
+
+#define guint8 char
+#include "xpm/film1.xpm"
+#include "xpm/film3.xpm"
+#include "xpm/film5.xpm"
+#include "xpm/film7.xpm"
+#include "xpm/film9.xpm"
+#include "xpm/film11.xpm"
+#include "xpm/film13.xpm"
+#include "xpm/film15.xpm"
+#include "xpm/film17.xpm"
+#include "xpm/film19.xpm"
+#include "xpm/film21.xpm"
+#include "xpm/film23.xpm"
+
+ADM_qtray::ADM_qtray(void* parent) : ADM_tray(parent)
+{
+	_parent = parent;
+	lastIcon = 0;
+	maxIcons = 12;
+
+	pixmap = new QIcon[maxIcons];
+	pixmap[0] = QIcon(QPixmap(xpm_film1));
+	pixmap[1] = QIcon(QPixmap(xpm_film3));
+	pixmap[2] = QIcon(QPixmap(xpm_film5));
+	pixmap[3] = QIcon(QPixmap(xpm_film7));
+	pixmap[4] = QIcon(QPixmap(xpm_film9));
+	pixmap[5] = QIcon(QPixmap(xpm_film11));
+	pixmap[6] = QIcon(QPixmap(xpm_film13));
+	pixmap[7] = QIcon(QPixmap(xpm_film15));
+	pixmap[8] = QIcon(QPixmap(xpm_film17));
+	pixmap[9] = QIcon(QPixmap(xpm_film19));
+	pixmap[10] = QIcon(QPixmap(xpm_film21));
+	pixmap[11] = QIcon(QPixmap(xpm_film23));
+
+	signalReceiver = new ADM_qtray_signalReceiver();
+	signalReceiver->parent = (QDialog*)parent;
+	QSystemTrayIcon* trayIcon = new QSystemTrayIcon(pixmap[0], (QObject*)parent);
+
+	sys = trayIcon;
+
+	trayIcon->setToolTip("Avidemux");
+
+	openAction = new QAction(QT_TR_NOOP("Open Avidemux"), (QObject*)parent);
+	QObject::connect(openAction, SIGNAL(triggered()), signalReceiver, SLOT(restore()));
+
+	trayIconMenu = new QMenu((QWidget*)parent);
+	trayIconMenu->addAction(openAction);
+
+	trayIcon->setContextMenu(trayIconMenu);
+	trayIcon->show();
+}
+
+ADM_qtray::~ADM_qtray()
+{
+	delete (QSystemTrayIcon*)sys;
+	delete signalReceiver;
+	delete pixmap;
+}
+
+uint8_t ADM_qtray::setPercent(int percent)
+{
+	char percentS[40];
+
+	sprintf(percentS, "Avidemux [%d%%]", percent);
+
+	lastIcon++;
+
+	if (lastIcon >= maxIcons)
+		lastIcon = 0;
+
+	((QSystemTrayIcon*)sys)->setIcon(pixmap[lastIcon]);
+	((QSystemTrayIcon*)sys)->setToolTip(percentS);
+
+	return 1;
+}
+
+uint8_t ADM_qtray::setStatus(int working)
+{
+	return 1;
+}

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.h	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.h	2008-09-03 01:25:58 UTC (rev 4306)
@@ -0,0 +1,57 @@
+/***************************************************************************
+                                 ADM_qtray.h
+                                 -----------
+
+    begin                : Tue Sep 2 2008
+    copyright            : (C) 2008 by gruntster
+
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#ifndef ADM_QTRAY_H
+#define ADM_QTRAY_H
+
+#include <QtGui/QAction>
+#include <QtGui/QIcon>
+
+#include "ADM_tray.h"
+
+class ADM_qtray_signalReceiver : public QObject
+{
+     Q_OBJECT
+
+public:
+	QDialog *parent;
+/*
+public:
+	void setParent(QDialog *parent);
+*/
+public slots:
+	void restore(void);
+};
+
+class ADM_qtray : public ADM_tray
+{
+protected:
+	QAction *openAction;
+	QMenu *trayIconMenu;
+	QIcon *pixmap;
+	int lastIcon;
+	int maxIcons;
+	ADM_qtray_signalReceiver *signalReceiver;
+
+public:
+	ADM_qtray(void *parent);
+	~ADM_qtray();
+	uint8_t setPercent(int percent);
+	uint8_t setStatus(int working);
+};
+#endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2008-09-03 01:25:58 UTC (rev 4306)
@@ -5,11 +5,12 @@
 SET(ADM_LIB ADM_guiQt4)
 
 SET(${ADM_LIB}_SRCS
-avidemux_rsc.cpp  file_qt4.cpp  gui_none.cpp  ADM_qslider.cpp
+avidemux_rsc.cpp  file_qt4.cpp  gui_none.cpp  ADM_qslider.cpp  ADM_qtray.cpp
 )
 
 
 SET(${ADM_LIB}_T
+tray
 preview
 )
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2008-09-03 01:25:58 UTC (rev 4306)
@@ -820,6 +820,15 @@
 	return success;
 }
 
+void UI_iconify( void )
+{
+	QuiMainWindows->showMinimized();
+}
+void UI_deiconify( void )
+{
+	QuiMainWindows->showNormal();
+}
+
 void UI_purge( void )
 {
 	QCoreApplication::processEvents ();

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_tray.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_tray.cpp	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_tray.cpp	2008-09-03 01:25:58 UTC (rev 4306)
@@ -0,0 +1,18 @@
+#include <QtGui/QDialog>
+
+extern void UI_deiconify(void);
+
+class ADM_qtray_signalReceiver : public QObject
+{
+     Q_OBJECT
+
+public:
+	QDialog *parent;
+
+public slots:
+	void restore(void)
+	{
+		UI_deiconify();
+		parent->showNormal();
+	};
+};
\ No newline at end of file

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui_none.cpp	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui_none.cpp	2008-09-03 01:25:58 UTC (rev 4306)
@@ -15,8 +15,6 @@
 
 void UI_setAProcessToggleStatus( uint8_t status ) {}
 void UI_setVProcessToggleStatus( uint8_t status ) {}
-void UI_iconify( void ) {}
-void UI_deiconify( void ) {}
 void UI_JumpDone(void) {}
 void UI_toogleSide(void) {}
 void UI_toogleMain(void) {}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/ADM_tray.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/ADM_tray.h	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/ADM_tray.h	2008-09-03 01:25:58 UTC (rev 4306)
@@ -24,10 +24,10 @@
         void    *sys;
 		void *_parent;
 public:
-                ADM_tray(void *parent);
-                ~ADM_tray();
-        uint8_t setPercent(int percent);
-        uint8_t setStatus(int working);
+	ADM_tray(void *parent) {};
+	~ADM_tray() {};
+	virtual uint8_t setPercent(int percent) = 0;
+	virtual uint8_t setStatus(int working) = 0;
 
 };
 

Deleted: branches/avidemux_2.4_branch/avidemux/xpm/film1.inc
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film1.inc	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film1.inc	2008-09-03 01:25:58 UTC (rev 4306)
@@ -1,100 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film1)
-#endif
-#ifdef __GNUC__
-static const guint8 film1[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film1[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\241"
-  "\242\255z~\205\212\215\225\202\205\215[_gPS[Z^f\314\317\327\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\246\245\264^bq\223\227\246\207\213\231&*915D\40$2\40$4*.;\340"
-  "\344\363\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\360\361\377$(7\245\250\267\365\370\377\226\232\251 at BQ\202\206\225"
-  ".2\77\0\0\1\0\0\1<\77N\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\224\225\245\0\0\0\256\262\300\233\237\257HLW\225\231"
-  "\241\271\274\313uy\207>AO\0\0\0\0\0\0\303\305\325\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377JL[\0\0\0&(7\307\314\333\305\2644\362"
-  "\307C\275\277\312\251\255\273\7\12\30\0\0\0\0\0\0Z^k\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\345\351\371\0\0\10\0\0\0\234\237\256\377\377"
-  "\377\377\346\1\346\224\0\265\257\263\362\365\377\300\304\322\0\0\0\0"
-  "\0\0\0\0\0\266\272\312\377\377\377\377\377\377\377\377\377\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377LQa\0\0\0vy\211\377"
-  "\377\377\377\377\377\377\334a\271\225J\377\377\377\377\377\377\373\377"
-  "\377\263\266\304\0\0\0\0\0\0\207\213\232\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\366\371\377"
-  "\207\200\234JIY\355\357\376\377\377\377\377\377\377\367\362\345\346\346"
-  "\352\377\377\377\374\377\377\363\366\377\351\355\374.2@\0\0\0\260\264"
-  "\302\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\355\352\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\375\377\377\365\370"
-  "\377\354\357\375\342\346\364\237\242\260\201\202\222\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\364\367\377\366\372"
-  "\377\371\374\377\371\374\377\366\372\377\362\365\377\351\355\374\341"
-  "\345\362\327\333\351\305\310\326\360\365\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\364\367\377\352\357\377\355"
-  "\362\377\355\360\377\354\357\375\347\353\370\337\345\362\327\330\343"
-  "\315\314\325\303\310\327\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\364\343\372\320\217\366\316\213"
-  "\347\331\317\337\341\362\331\334\356\354\320\234\373\323\221\366\314"
-  "\202\375\323\235\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\306\0\377\346\10\377\373k\377\333H\346\301"
-  "\213\356\301C\377\3627\377\366:\377\331\0\377\245\0\377\377\364\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\324\"\377"
-  "\362\0\377\373\0\377\316\0\352\272V\375\312\25\377\366\0\377\376\0\377"
-  "\341\0\377\341z\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"};
-
-

Copied: branches/avidemux_2.4_branch/avidemux/xpm/film1.xpm (from rev 4297, branches/avidemux_2.4_branch/avidemux/xpm/film1.inc)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film1.inc	2008-07-30 21:39:23 UTC (rev 4297)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film1.xpm	2008-09-03 01:25:58 UTC (rev 4306)
@@ -0,0 +1,284 @@
+/* XPM */
+static const char *xpm_film1[] = {
+"24 24 256 3",
+"000 c black",
+"001 c transparent",
+"002 c #000008",
+"003 c #070A18",
+"004 c #202432",
+"005 c #202434",
+"006 c #242837",
+"007 c #262837",
+"008 c #262A39",
+"009 c #2A2E3B",
+"010 c #2E323F",
+"011 c #2E3240",
+"012 c #313544",
+"013 c #3C3F4E",
+"014 c #3E414F",
+"015 c #404251",
+"016 c #484C57",
+"017 c #4A4959",
+"018 c #4A4C5B",
+"019 c #50535B",
+"020 c #4C5161",
+"021 c #5A5E66",
+"022 c #5B5F67",
+"023 c #5A5E6B",
+"024 c #5E6271",
+"025 c #757987",
+"026 c #767989",
+"027 c #7A7E85",
+"028 c #B9954A",
+"029 c #C5B434",
+"030 c #E69400",
+"031 c #FFA500",
+"032 c #EABA56",
+"033 c #FFC600",
+"034 c #FFCE00",
+"035 c #FDCA15",
+"036 c #FFD900",
+"037 c #FFD422",
+"038 c #FFE100",
+"039 c #FFE601",
+"040 c #FFE608",
+"041 c #FFF200",
+"042 c #FFF600",
+"043 c #FFFB00",
+"044 c #FFFE00",
+"045 c #FFF237",
+"046 c #FFF63A",
+"047 c #EEC143",
+"048 c #F2C743",
+"049 c #FFDB48",
+"050 c #FFDC61",
+"051 c #FFE17A",
+"052 c #FFFB6B",
+"053 c #82858D",
+"054 c #818292",
+"055 c #828695",
+"056 c #87809C",
+"057 c #878B99",
+"058 c #878B9A",
+"059 c #8A8D95",
+"060 c #9397A6",
+"061 c #9495A5",
+"062 c #9599A1",
+"063 c #969AA9",
+"064 c #9B9FAF",
+"065 c #9C9FAE",
+"066 c #9FA2B0",
+"067 c #A1A2AD",
+"068 c #A6A5B4",
+"069 c #A5A8B7",
+"070 c #A9ADBB",
+"071 c #B5AFB3",
+"072 c #AEB2C0",
+"073 c #B0B4C2",
+"074 c #B3B6C4",
+"075 c #B6BACA",
+"076 c #B9BCCB",
+"077 c #BDBFCA",
+"078 c #E6C18B",
+"079 c #ECD09C",
+"080 c #F6CC82",
+"081 c #F6CE8B",
+"082 c #FAD08F",
+"083 c #FBD391",
+"084 c #FDD39D",
+"085 c #C0C4D2",
+"086 c #C3C5D5",
+"087 c #C3C8D7",
+"088 c #C5C8D6",
+"089 c #C7CCDB",
+"090 c #CDCCD5",
+"091 c #CCCFD7",
+"092 c #D7D8E3",
+"093 c #D7DBE9",
+"094 c #D9DCEE",
+"095 c #DFE1F2",
+"096 c #DFE5F2",
+"097 c #E7D9CF",
+"098 c #E6E6EA",
+"099 c #E0E4F3",
+"100 c #E1E5F2",
+"101 c #E2E6F4",
+"102 c #E5E9F9",
+"103 c #E7EBF8",
+"104 c #E9EDFC",
+"105 c #EAEFFF",
+"106 c #EDEAFF",
+"107 c #ECEFFD",
+"108 c #EDEFFE",
+"109 c #EDF0FF",
+"110 c #EDF2FF",
+"111 c #F7F2E5",
+"112 c #FFF4E3",
+"113 c #F0F1FF",
+"114 c #F0F5FF",
+"115 c #F2F5FF",
+"116 c #F3F6FF",
+"117 c #F4F7FF",
+"118 c #F5F8FF",
+"119 c #F6F9FF",
+"120 c #F6FAFF",
+"121 c #FFFFF4",
+"122 c #F9FCFF",
+"123 c #FBFFFF",
+"124 c #FCFFFF",
+"125 c #FDFFFF",
+"126 c Gray100",
+"127 c black",
+"128 c black",
+"129 c black",
+"130 c black",
+"131 c black",
+"132 c black",
+"133 c black",
+"134 c black",
+"135 c black",
+"136 c black",
+"137 c black",
+"138 c black",
+"139 c black",
+"140 c black",
+"141 c black",
+"142 c black",
+"143 c black",
+"144 c black",
+"145 c black",
+"146 c black",
+"147 c black",
+"148 c black",
+"149 c black",
+"150 c black",
+"151 c black",
+"152 c black",
+"153 c black",
+"154 c black",
+"155 c black",
+"156 c black",
+"157 c black",
+"158 c black",
+"159 c black",
+"160 c black",
+"161 c black",
+"162 c black",
+"163 c black",
+"164 c black",
+"165 c black",
+"166 c black",
+"167 c black",
+"168 c black",
+"169 c black",
+"170 c black",
+"171 c black",
+"172 c black",
+"173 c black",
+"174 c black",
+"175 c black",
+"176 c black",
+"177 c black",
+"178 c black",
+"179 c black",
+"180 c black",
+"181 c black",
+"182 c black",
+"183 c black",
+"184 c black",
+"185 c black",
+"186 c black",
+"187 c black",
+"188 c black",
+"189 c black",
+"190 c black",
+"191 c black",
+"192 c black",
+"193 c black",
+"194 c black",
+"195 c black",
+"196 c black",
+"197 c black",
+"198 c black",
+"199 c black",
+"200 c black",
+"201 c black",
+"202 c black",
+"203 c black",
+"204 c black",
+"205 c black",
+"206 c black",
+"207 c black",
+"208 c black",
+"209 c black",
+"210 c black",
+"211 c black",
+"212 c black",
+"213 c black",
+"214 c black",
+"215 c black",
+"216 c black",
+"217 c black",
+"218 c black",
+"219 c black",
+"220 c black",
+"221 c black",
+"222 c black",
+"223 c black",
+"224 c black",
+"225 c black",
+"226 c black",
+"227 c black",
+"228 c black",
+"229 c black",
+"230 c black",
+"231 c black",
+"232 c black",
+"233 c black",
+"234 c black",
+"235 c black",
+"236 c black",
+"237 c black",
+"238 c black",
+"239 c black",
+"240 c black",
+"241 c black",
+"242 c black",
+"243 c black",
+"244 c black",
+"245 c black",
+"246 c black",
+"247 c black",
+"248 c black",
+"249 c black",
+"250 c black",
+"251 c black",
+"252 c black",
+"253 c black",
+"254 c black",
+"255 c black",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"000000126126000000000000126126000000000000126126000000000000126126000000",
+"000000126126000000000000126126000000000000126126000000000000126126000000",
+"000000126126000000000000126126000000000000126126000000000000126126000000",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"000000126126126126126126067027059053022019021091126126126126126126000000",
+"000000126126126126126068024060057008012004005009099126126126126126000000",
+"000000126126126126113006069118063015055010001001013126126126126126000000",
+"000000126126126126061000072064016062076025014000000086126126126126000000",
+"000000126126126126018000007089029048077070003000000023126126126126000000",
+"000000126126126102002000065126039030071115085000000000075126126126000000",
+"000000126126126020000026126126050028126126123074000000058126126126000000",
+"000000126126119056017108126126111098126124116104011000073126126126000000",
+"000000126126126126106126126126126126125118107101066054126126126126000000",
+"000000126126126126126117120122122120115104100093088114126126126126000000",
+"000000126126126126126117105110109107103096092090087126126126126126000000",
+"000000126126126126126112082081097095094079083080084126126126126126000000",
+"000000126126126126126033040052049078047045046036031121126126126126000000",
+"000000126126126126126037041043034032035042044038051126126126126126000000",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"000000126126000000000000126126000000000000126126000000000000126126000000",
+"000000126126000000000000126126000000000000126126000000000000126126000000",
+"000000126126000000000000126126000000000000126126000000000000126126000000",
+"000000000000000000000000000000000000000000000000000000000000000000000000"
+};


Property changes on: branches/avidemux_2.4_branch/avidemux/xpm/film1.xpm
___________________________________________________________________
Name: svn:mergeinfo
   + 

Deleted: branches/avidemux_2.4_branch/avidemux/xpm/film11.inc
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film11.inc	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film11.inc	2008-09-03 01:25:58 UTC (rev 4306)
@@ -1,98 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film11)
-#endif
-#ifdef __GNUC__
-static const guint8 film11[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film11[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\233\233\230\34\33\26\32\31\24$\"\34\264\263\261\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\332\332\330UTP\377\377\377\353\351"
-  "\343LKF%$\36\207\207\204\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\274\273\273"
-  "\242\243\235871\40\36\31ONI##\35\24\23\15SSO\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\265\265\265*)%G"
-  "F@\253\252\245MLH##\35\40\40\32rro\352\351\352\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\226\225\223\347"
-  "\347\350\356\355\353\40\37\32\35\34\26\31\30\22||x\376\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\344\344\343\25\24\20\37\36\31\16\15\7uus\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\317"
-  "\317\31722.gf`qplwwv\252\251\247\202\201\177\200}}\246\243\242\215\214"
-  "\211\324\323\321\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\307\307\307\251\251\245\342\342\336WVP\330\325\320\370\367"
-  "\363\201\201z\324\323\316\332\330\324.-'CB<\224\223\221\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377b^]\26\27\20""31,kjd"
-  "cb]db^\266\265\260SRN21+XWR\247\250\245\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377]SS\33\32\25##\34.-'<<5:942/+('\"$#\37"
-  "+)%\265\264\266\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377H\77<\24\22\15\30\27\21\36\35\27$#\35%%\37#\"\34%#\37\33\32\25"
-  "\21\20\13\274\275\275\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\37773/\7\10\1\17\16\10\23\22\14\26\27\20\24\23\15\30\27"
-  "\21\25\23\17\17\15\10\3\2\0\277\277\301\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\273\272\271ZYT\15\14\6\3\2\0\15\14\6"
-  "\15\14\6\13\12\5\20\17\12\2\1\0\0\0\0\275\274\277\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\303\303\303nnl\22\21\13\1\0\0\7\6\1\0\0\0\0\0\0\272\271"
-  "\272\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0"};
-
-

Copied: branches/avidemux_2.4_branch/avidemux/xpm/film11.xpm (from rev 4297, branches/avidemux_2.4_branch/avidemux/xpm/film11.inc)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film11.inc	2008-07-30 21:39:23 UTC (rev 4297)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film11.xpm	2008-09-03 01:25:58 UTC (rev 4306)
@@ -0,0 +1,284 @@
+/* XPM */
+static const char *xpm_film11[] = {
+"24 24 256 3",
+"000 c black",
+"001 c #010000",
+"002 c #020100",
+"003 c #030200",
+"004 c #070601",
+"005 c #070801",
+"006 c #0B0A05",
+"007 c #0D0C06",
+"008 c #0E0D07",
+"009 c #0F0D08",
+"010 c #0F0E08",
+"011 c #100F0A",
+"012 c #11100B",
+"013 c #12110B",
+"014 c #13120C",
+"015 c #14120D",
+"016 c #14130D",
+"017 c #15130F",
+"018 c #151410",
+"019 c #161710",
+"020 c #181711",
+"021 c #191812",
+"022 c #1A1914",
+"023 c #1B1A15",
+"024 c #1C1B16",
+"025 c #1D1C16",
+"026 c #1E1D17",
+"027 c #1F1E19",
+"028 c #201E19",
+"029 c #201F1A",
+"030 c #20201A",
+"031 c #23221C",
+"032 c #23231C",
+"033 c #23231D",
+"034 c #24221C",
+"035 c #24231D",
+"036 c #24231F",
+"037 c #25231F",
+"038 c #25241E",
+"039 c #25251F",
+"040 c #282722",
+"041 c #2A2925",
+"042 c #2B2925",
+"043 c #2E2D27",
+"044 c #322F2B",
+"045 c #32312B",
+"046 c #33312C",
+"047 c #32322E",
+"048 c #37332F",
+"049 c #383731",
+"050 c #3A3934",
+"051 c #3C3C35",
+"052 c #483F3C",
+"053 c #43423C",
+"054 c #474640",
+"055 c #4C4B46",
+"056 c #4D4C48",
+"057 c #4F4E49",
+"058 c #53524E",
+"059 c #53534F",
+"060 c #555450",
+"061 c #575650",
+"062 c #585752",
+"063 c #5D5353",
+"064 c #5A5954",
+"065 c #625E5D",
+"066 c #63625D",
+"067 c #64625E",
+"068 c #676660",
+"069 c #6B6A64",
+"070 c #6E6E6C",
+"071 c #71706C",
+"072 c #72726F",
+"073 c #757573",
+"074 c #777776",
+"075 c #7C7C78",
+"076 c #807D7D",
+"077 c #81817A",
+"078 c #82817F",
+"079 c #878784",
+"080 c #8D8C89",
+"081 c #949391",
+"082 c #969593",
+"083 c #9B9B98",
+"084 c #A2A39D",
+"085 c #A6A3A2",
+"086 c #A7A8A5",
+"087 c #A9A9A5",
+"088 c #AAA9A7",
+"089 c #ABAAA5",
+"090 c #B4B3B1",
+"091 c #B6B5B0",
+"092 c Gray71",
+"093 c #B5B4B6",
+"094 c #BAB9BA",
+"095 c #BBBAB9",
+"096 c #BCBBBB",
+"097 c #BCBDBD",
+"098 c #BDBCBF",
+"099 c #BFBFC1",
+"100 c #C3C3C3",
+"101 c Gray78",
+"102 c Gray81",
+"103 c #D4D3CE",
+"104 c #D4D3D1",
+"105 c #D8D5D0",
+"106 c #DAD8D4",
+"107 c #DADAD8",
+"108 c #E2E2DE",
+"109 c #E4E4E3",
+"110 c #E7E7E8",
+"111 c #EBE9E3",
+"112 c #EAE9EA",
+"113 c #EEEDEB",
+"114 c #F8F7F3",
+"115 c #FEFFFF",
+"116 c Gray100",
+"117 c black",
+"118 c black",
+"119 c black",
+"120 c black",
+"121 c black",
+"122 c black",
+"123 c black",
+"124 c black",
+"125 c black",
+"126 c black",
+"127 c black",
+"128 c black",
+"129 c black",
+"130 c black",
+"131 c black",
+"132 c black",
+"133 c black",
+"134 c black",
+"135 c black",
+"136 c black",
+"137 c black",
+"138 c black",
+"139 c black",
+"140 c black",
+"141 c black",
+"142 c black",
+"143 c black",
+"144 c black",
+"145 c black",
+"146 c black",
+"147 c black",
+"148 c black",
+"149 c black",
+"150 c black",
+"151 c black",
+"152 c black",
+"153 c black",
+"154 c black",
+"155 c black",
+"156 c black",
+"157 c black",
+"158 c black",
+"159 c black",
+"160 c black",
+"161 c black",
+"162 c black",
+"163 c black",
+"164 c black",
+"165 c black",
+"166 c black",
+"167 c black",
+"168 c black",
+"169 c black",
+"170 c black",
+"171 c black",
+"172 c black",
+"173 c black",
+"174 c black",
+"175 c black",
+"176 c black",
+"177 c black",
+"178 c black",
+"179 c black",
+"180 c black",
+"181 c black",
+"182 c black",
+"183 c black",
+"184 c black",
+"185 c black",
+"186 c black",
+"187 c black",
+"188 c black",
+"189 c black",
+"190 c black",
+"191 c black",
+"192 c black",
+"193 c black",
+"194 c black",
+"195 c black",
+"196 c black",
+"197 c black",
+"198 c black",
+"199 c black",
+"200 c black",
+"201 c black",
+"202 c black",
+"203 c black",
+"204 c black",
+"205 c black",
+"206 c black",
+"207 c black",
+"208 c black",
+"209 c black",
+"210 c black",
+"211 c black",
+"212 c black",
+"213 c black",
+"214 c black",
+"215 c black",
+"216 c black",
+"217 c black",
+"218 c black",
+"219 c black",
+"220 c black",
+"221 c black",
+"222 c black",
+"223 c black",
+"224 c black",
+"225 c black",
+"226 c black",
+"227 c black",
+"228 c black",
+"229 c black",
+"230 c black",
+"231 c black",
+"232 c black",
+"233 c black",
+"234 c black",
+"235 c black",
+"236 c black",
+"237 c black",
+"238 c black",
+"239 c black",
+"240 c black",
+"241 c black",
+"242 c black",
+"243 c black",
+"244 c black",
+"245 c black",
+"246 c black",
+"247 c black",
+"248 c black",
+"249 c black",
+"250 c black",
+"251 c black",
+"252 c black",
+"253 c black",
+"254 c black",
+"255 c black",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"116116000000000000116116000000000000116116000000000000116116000000000000",
+"116116000000000000116116000000000000116116000000000000116116000000000000",
+"116116000000000000116116000000000000116116000000000000116116000000000000",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"116116000000000000116116116116116116116116116116083024022034090116116116",
+"116116000000000000116116116116116116116116107060116111055038079116116116",
+"116116000000000000116116116116116116116096084049028057033016059116116116",
+"116116000000000000116116116116116092041054089056033030072112116116116116",
+"116116000000000000116116116116082110113029025021075115116116116116116116",
+"116116000000000000116116116116109018027008073116116116116116116116116116",
+"116116000000000000116116116116102047068071074088078076085080104116116116",
+"116116000000000000116116116116101087108061105114077103106043053081116116",
+"116116000000000000116116116116116065019046069066067091058045062086116116",
+"116116000000000000116116116116116063023032043051050044040036042093116116",
+"116116000000000000116116116116116052015020026035039031037023012097116116",
+"116116000000000000116116116116116048005010014019016020017009003099116116",
+"116116000000000000116116116116116095064007003007007006011002000098116116",
+"116116000000000000116116116116116116116116100070013001004000000094116116",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"116116000000000000116116000000000000116116000000000000116116000000000000",
+"116116000000000000116116000000000000116116000000000000116116000000000000",
+"116116000000000000116116000000000000116116000000000000116116000000000000",
+"000000000000000000000000000000000000000000000000000000000000000000000000"
+};


Property changes on: branches/avidemux_2.4_branch/avidemux/xpm/film11.xpm
___________________________________________________________________
Name: svn:mergeinfo
   + 

Deleted: branches/avidemux_2.4_branch/avidemux/xpm/film13.inc
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film13.inc	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film13.inc	2008-09-03 01:25:58 UTC (rev 4306)
@@ -1,98 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film13)
-#endif
-#ifdef __GNUC__
-static const guint8 film13[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film13[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\233\233\230\34\33\26\32"
-  "\31\24$\"\34\264\263\261\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\332\332\330UTP\377\377\377\353\351\343LKF%$\36\207\207\204\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\274\273\273\242\243\235871\40\36\31ONI##\35\24\23"
-  "\15SSO\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\265\265\265*)%GF@\253\252\245MLH##\35\40\40\32rro\352\351"
-  "\352\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\226\225\223\347\347\350\356\355\353\40\37\32\35\34\26\31"
-  "\30\22||x\376\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\344\344\343\25\24"
-  "\20\37\36\31\16\15\7uus\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\317\317\31722.gf`qplwwv\252\251\247\202\201\177"
-  "\200}}\246\243\242\215\214\211\324\323\321\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\307\307\307\251\251\245\342\342"
-  "\336WVP\330\325\320\370\367\363\201\201z\324\323\316\332\330\324.-'C"
-  "B<\224\223\221\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377b^]\26\27\20""31,kjdcb]db^\266\265\260SRN21+XWR\247\250\245\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377]SS\33\32"
-  "\25##\34.-'<<5:942/+('\"$#\37+)%\265\264\266\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377H\77<\24\22\15\30\27\21\36\35"
-  "\27$#\35%%\37#\"\34%#\37\33\32\25\21\20\13\274\275\275\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\37773/\7\10\1\17\16\10\23"
-  "\22\14\26\27\20\24\23\15\30\27\21\25\23\17\17\15\10\3\2\0\277\277\301"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\273"
-  "\272\271ZYT\15\14\6\3\2\0\15\14\6\15\14\6\13\12\5\20\17\12\2\1\0\0\0"
-  "\0\275\274\277\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\303\303\303nnl\22\21\13"
-  "\1\0\0\7\6\1\0\0\0\0\0\0\272\271\272\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0"};
-
-

Copied: branches/avidemux_2.4_branch/avidemux/xpm/film13.xpm (from rev 4297, branches/avidemux_2.4_branch/avidemux/xpm/film13.inc)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film13.inc	2008-07-30 21:39:23 UTC (rev 4297)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film13.xpm	2008-09-03 01:25:58 UTC (rev 4306)
@@ -0,0 +1,284 @@
+/* XPM */
+static const char *xpm_film13[] = {
+"24 24 256 3",
+"000 c black",
+"001 c #010000",
+"002 c #020100",
+"003 c #030200",
+"004 c #070601",
+"005 c #070801",
+"006 c #0B0A05",
+"007 c #0D0C06",
+"008 c #0E0D07",
+"009 c #0F0D08",
+"010 c #0F0E08",
+"011 c #100F0A",
+"012 c #11100B",
+"013 c #12110B",
+"014 c #13120C",
+"015 c #14120D",
+"016 c #14130D",
+"017 c #15130F",
+"018 c #151410",
+"019 c #161710",
+"020 c #181711",
+"021 c #191812",
+"022 c #1A1914",
+"023 c #1B1A15",
+"024 c #1C1B16",
+"025 c #1D1C16",
+"026 c #1E1D17",
+"027 c #1F1E19",
+"028 c #201E19",
+"029 c #201F1A",
+"030 c #20201A",
+"031 c #23221C",
+"032 c #23231C",
+"033 c #23231D",
+"034 c #24221C",
+"035 c #24231D",
+"036 c #24231F",
+"037 c #25231F",
+"038 c #25241E",
+"039 c #25251F",
+"040 c #282722",
+"041 c #2A2925",
+"042 c #2B2925",
+"043 c #2E2D27",
+"044 c #322F2B",
+"045 c #32312B",
+"046 c #33312C",
+"047 c #32322E",
+"048 c #37332F",
+"049 c #383731",
+"050 c #3A3934",
+"051 c #3C3C35",
+"052 c #483F3C",
+"053 c #43423C",
+"054 c #474640",
+"055 c #4C4B46",
+"056 c #4D4C48",
+"057 c #4F4E49",
+"058 c #53524E",
+"059 c #53534F",
+"060 c #555450",
+"061 c #575650",
+"062 c #585752",
+"063 c #5D5353",
+"064 c #5A5954",
+"065 c #625E5D",
+"066 c #63625D",
+"067 c #64625E",
+"068 c #676660",
+"069 c #6B6A64",
+"070 c #6E6E6C",
+"071 c #71706C",
+"072 c #72726F",
+"073 c #757573",
+"074 c #777776",
+"075 c #7C7C78",
+"076 c #807D7D",
+"077 c #81817A",
+"078 c #82817F",
+"079 c #878784",
+"080 c #8D8C89",
+"081 c #949391",
+"082 c #969593",
+"083 c #9B9B98",
+"084 c #A2A39D",
+"085 c #A6A3A2",
+"086 c #A7A8A5",
+"087 c #A9A9A5",
+"088 c #AAA9A7",
+"089 c #ABAAA5",
+"090 c #B4B3B1",
+"091 c #B6B5B0",
+"092 c Gray71",
+"093 c #B5B4B6",
+"094 c #BAB9BA",
+"095 c #BBBAB9",
+"096 c #BCBBBB",
+"097 c #BCBDBD",
+"098 c #BDBCBF",
+"099 c #BFBFC1",
+"100 c #C3C3C3",
+"101 c Gray78",
+"102 c Gray81",
+"103 c #D4D3CE",
+"104 c #D4D3D1",
+"105 c #D8D5D0",
+"106 c #DAD8D4",
+"107 c #DADAD8",
+"108 c #E2E2DE",
+"109 c #E4E4E3",
+"110 c #E7E7E8",
+"111 c #EBE9E3",
+"112 c #EAE9EA",
+"113 c #EEEDEB",
+"114 c #F8F7F3",
+"115 c #FEFFFF",
+"116 c Gray100",
+"117 c black",
+"118 c black",
+"119 c black",
+"120 c black",
+"121 c black",
+"122 c black",
+"123 c black",
+"124 c black",
+"125 c black",
+"126 c black",
+"127 c black",
+"128 c black",
+"129 c black",
+"130 c black",
+"131 c black",
+"132 c black",
+"133 c black",
+"134 c black",
+"135 c black",
+"136 c black",
+"137 c black",
+"138 c black",
+"139 c black",
+"140 c black",
+"141 c black",
+"142 c black",
+"143 c black",
+"144 c black",
+"145 c black",
+"146 c black",
+"147 c black",
+"148 c black",
+"149 c black",
+"150 c black",
+"151 c black",
+"152 c black",
+"153 c black",
+"154 c black",
+"155 c black",
+"156 c black",
+"157 c black",
+"158 c black",
+"159 c black",
+"160 c black",
+"161 c black",
+"162 c black",
+"163 c black",
+"164 c black",
+"165 c black",
+"166 c black",
+"167 c black",
+"168 c black",
+"169 c black",
+"170 c black",
+"171 c black",
+"172 c black",
+"173 c black",
+"174 c black",
+"175 c black",
+"176 c black",
+"177 c black",
+"178 c black",
+"179 c black",
+"180 c black",
+"181 c black",
+"182 c black",
+"183 c black",
+"184 c black",
+"185 c black",
+"186 c black",
+"187 c black",
+"188 c black",
+"189 c black",
+"190 c black",
+"191 c black",
+"192 c black",
+"193 c black",
+"194 c black",
+"195 c black",
+"196 c black",
+"197 c black",
+"198 c black",
+"199 c black",
+"200 c black",
+"201 c black",
+"202 c black",
+"203 c black",
+"204 c black",
+"205 c black",
+"206 c black",
+"207 c black",
+"208 c black",
+"209 c black",
+"210 c black",
+"211 c black",
+"212 c black",
+"213 c black",
+"214 c black",
+"215 c black",
+"216 c black",
+"217 c black",
+"218 c black",
+"219 c black",
+"220 c black",
+"221 c black",
+"222 c black",
+"223 c black",
+"224 c black",
+"225 c black",
+"226 c black",
+"227 c black",
+"228 c black",
+"229 c black",
+"230 c black",
+"231 c black",
+"232 c black",
+"233 c black",
+"234 c black",
+"235 c black",
+"236 c black",
+"237 c black",
+"238 c black",
+"239 c black",
+"240 c black",
+"241 c black",
+"242 c black",
+"243 c black",
+"244 c black",
+"245 c black",
+"246 c black",
+"247 c black",
+"248 c black",
+"249 c black",
+"250 c black",
+"251 c black",
+"252 c black",
+"253 c black",
+"254 c black",
+"255 c black",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"000000116116000000000000116116000000000000116116000000000000116116000000",
+"000000116116000000000000116116000000000000116116000000000000116116000000",
+"000000116116000000000000116116000000000000116116000000000000116116000000",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"000000116116116116116116116116116116083024022034090116116116116116000000",
+"000000116116116116116116116116107060116111055038079116116116116116000000",
+"000000116116116116116116116096084049028057033016059116116116116116000000",
+"000000116116116116116092041054089056033030072112116116116116116116000000",
+"000000116116116116082110113029025021075115116116116116116116116116000000",
+"000000116116116116109018027008073116116116116116116116116116116116000000",
+"000000116116116116102047068071074088078076085080104116116116116116000000",
+"000000116116116116101087108061105114077103106043053081116116116116000000",
+"000000116116116116116065019046069066067091058045062086116116116116000000",
+"000000116116116116116063023032043051050044040036042093116116116116000000",
+"000000116116116116116052015020026035039031037023012097116116116116000000",
+"000000116116116116116048005010014019016020017009003099116116116116000000",
+"000000116116116116116095064007003007007006011002000098116116116116000000",
+"000000116116116116116116116116100070013001004000000094116116116116000000",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"000000116116000000000000116116000000000000116116000000000000116116000000",
+"000000116116000000000000116116000000000000116116000000000000116116000000",
+"000000116116000000000000116116000000000000116116000000000000116116000000",
+"000000000000000000000000000000000000000000000000000000000000000000000000"
+};


Property changes on: branches/avidemux_2.4_branch/avidemux/xpm/film13.xpm
___________________________________________________________________
Name: svn:mergeinfo
   + 

Deleted: branches/avidemux_2.4_branch/avidemux/xpm/film15.inc
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film15.inc	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film15.inc	2008-09-03 01:25:58 UTC (rev 4306)
@@ -1,98 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film15)
-#endif
-#ifdef __GNUC__
-static const guint8 film15[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film15[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\233\233\230\34\33\26\32\31\24$\"\34\264\263\261\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\332\332\330UTP\377\377\377\353\351\343"
-  "LKF%$\36\207\207\204\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\274\273\273\242"
-  "\243\235871\40\36\31ONI##\35\24\23\15SSO\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\265\265\265*)%GF@\253"
-  "\252\245MLH##\35\40\40\32rro\352\351\352\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\226\225\223\347\347"
-  "\350\356\355\353\40\37\32\35\34\26\31\30\22||x\376\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\344\344\343\25\24\20\37\36\31\16\15\7uus\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\317\317"
-  "\31722.gf`qplwwv\252\251\247\202\201\177\200}}\246\243\242\215\214\211"
-  "\324\323\321\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\307\307\307\251\251\245\342\342\336WVP\330\325\320\370\367\363"
-  "\201\201z\324\323\316\332\330\324.-'CB<\224\223\221\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377b^]\26\27\20""31,kjdcb]d"
-  "b^\266\265\260SRN21+XWR\247\250\245\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377]SS\33\32\25##\34.-'<<5:942/+('\"$#\37+)"
-  "%\265\264\266\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377H\77<\24\22\15\30\27\21\36\35\27$#\35%%\37#\"\34%#\37\33\32\25"
-  "\21\20\13\274\275\275\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\37773/\7\10\1\17\16\10\23\22\14\26\27\20\24\23\15\30\27"
-  "\21\25\23\17\17\15\10\3\2\0\277\277\301\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\273\272\271ZYT\15\14\6\3\2\0\15\14\6"
-  "\15\14\6\13\12\5\20\17\12\2\1\0\0\0\0\275\274\277\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\303\303\303nnl\22\21\13\1\0\0\7\6\1\0\0\0\0\0\0\272\271"
-  "\272\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0"};
-
-

Copied: branches/avidemux_2.4_branch/avidemux/xpm/film15.xpm (from rev 4297, branches/avidemux_2.4_branch/avidemux/xpm/film15.inc)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film15.inc	2008-07-30 21:39:23 UTC (rev 4297)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film15.xpm	2008-09-03 01:25:58 UTC (rev 4306)
@@ -0,0 +1,284 @@
+/* XPM */
+static const char *xpm_film15[] = {
+"24 24 256 3",
+"000 c black",
+"001 c #010000",
+"002 c #020100",
+"003 c #030200",
+"004 c #070601",
+"005 c #070801",
+"006 c #0B0A05",
+"007 c #0D0C06",
+"008 c #0E0D07",
+"009 c #0F0D08",
+"010 c #0F0E08",
+"011 c #100F0A",
+"012 c #11100B",
+"013 c #12110B",
+"014 c #13120C",
+"015 c #14120D",
+"016 c #14130D",
+"017 c #15130F",
+"018 c #151410",
+"019 c #161710",
+"020 c #181711",
+"021 c #191812",
+"022 c #1A1914",
+"023 c #1B1A15",
+"024 c #1C1B16",
+"025 c #1D1C16",
+"026 c #1E1D17",
+"027 c #1F1E19",
+"028 c #201E19",
+"029 c #201F1A",
+"030 c #20201A",
+"031 c #23221C",
+"032 c #23231C",
+"033 c #23231D",
+"034 c #24221C",
+"035 c #24231D",
+"036 c #24231F",
+"037 c #25231F",
+"038 c #25241E",
+"039 c #25251F",
+"040 c #282722",
+"041 c #2A2925",
+"042 c #2B2925",
+"043 c #2E2D27",
+"044 c #322F2B",
+"045 c #32312B",
+"046 c #33312C",
+"047 c #32322E",
+"048 c #37332F",
+"049 c #383731",
+"050 c #3A3934",
+"051 c #3C3C35",
+"052 c #483F3C",
+"053 c #43423C",
+"054 c #474640",
+"055 c #4C4B46",
+"056 c #4D4C48",
+"057 c #4F4E49",
+"058 c #53524E",
+"059 c #53534F",
+"060 c #555450",
+"061 c #575650",
+"062 c #585752",
+"063 c #5D5353",
+"064 c #5A5954",
+"065 c #625E5D",
+"066 c #63625D",
+"067 c #64625E",
+"068 c #676660",
+"069 c #6B6A64",
+"070 c #6E6E6C",
+"071 c #71706C",
+"072 c #72726F",
+"073 c #757573",
+"074 c #777776",
+"075 c #7C7C78",
+"076 c #807D7D",
+"077 c #81817A",
+"078 c #82817F",
+"079 c #878784",
+"080 c #8D8C89",
+"081 c #949391",
+"082 c #969593",
+"083 c #9B9B98",
+"084 c #A2A39D",
+"085 c #A6A3A2",
+"086 c #A7A8A5",
+"087 c #A9A9A5",
+"088 c #AAA9A7",
+"089 c #ABAAA5",
+"090 c #B4B3B1",
+"091 c #B6B5B0",
+"092 c Gray71",
+"093 c #B5B4B6",
+"094 c #BAB9BA",
+"095 c #BBBAB9",
+"096 c #BCBBBB",
+"097 c #BCBDBD",
+"098 c #BDBCBF",
+"099 c #BFBFC1",
+"100 c #C3C3C3",
+"101 c Gray78",
+"102 c Gray81",
+"103 c #D4D3CE",
+"104 c #D4D3D1",
+"105 c #D8D5D0",
+"106 c #DAD8D4",
+"107 c #DADAD8",
+"108 c #E2E2DE",
+"109 c #E4E4E3",
+"110 c #E7E7E8",
+"111 c #EBE9E3",
+"112 c #EAE9EA",
+"113 c #EEEDEB",
+"114 c #F8F7F3",
+"115 c #FEFFFF",
+"116 c Gray100",
+"117 c black",
+"118 c black",
+"119 c black",
+"120 c black",
+"121 c black",
+"122 c black",
+"123 c black",
+"124 c black",
+"125 c black",
+"126 c black",
+"127 c black",
+"128 c black",
+"129 c black",
+"130 c black",
+"131 c black",
+"132 c black",
+"133 c black",
+"134 c black",
+"135 c black",
+"136 c black",
+"137 c black",
+"138 c black",
+"139 c black",
+"140 c black",
+"141 c black",
+"142 c black",
+"143 c black",
+"144 c black",
+"145 c black",
+"146 c black",
+"147 c black",
+"148 c black",
+"149 c black",
+"150 c black",
+"151 c black",
+"152 c black",
+"153 c black",
+"154 c black",
+"155 c black",
+"156 c black",
+"157 c black",
+"158 c black",
+"159 c black",
+"160 c black",
+"161 c black",
+"162 c black",
+"163 c black",
+"164 c black",
+"165 c black",
+"166 c black",
+"167 c black",
+"168 c black",
+"169 c black",
+"170 c black",
+"171 c black",
+"172 c black",
+"173 c black",
+"174 c black",
+"175 c black",
+"176 c black",
+"177 c black",
+"178 c black",
+"179 c black",
+"180 c black",
+"181 c black",
+"182 c black",
+"183 c black",
+"184 c black",
+"185 c black",
+"186 c black",
+"187 c black",
+"188 c black",
+"189 c black",
+"190 c black",
+"191 c black",
+"192 c black",
+"193 c black",
+"194 c black",
+"195 c black",
+"196 c black",
+"197 c black",
+"198 c black",
+"199 c black",
+"200 c black",
+"201 c black",
+"202 c black",
+"203 c black",
+"204 c black",
+"205 c black",
+"206 c black",
+"207 c black",
+"208 c black",
+"209 c black",
+"210 c black",
+"211 c black",
+"212 c black",
+"213 c black",
+"214 c black",
+"215 c black",
+"216 c black",
+"217 c black",
+"218 c black",
+"219 c black",
+"220 c black",
+"221 c black",
+"222 c black",
+"223 c black",
+"224 c black",
+"225 c black",
+"226 c black",
+"227 c black",
+"228 c black",
+"229 c black",
+"230 c black",
+"231 c black",
+"232 c black",
+"233 c black",
+"234 c black",
+"235 c black",
+"236 c black",
+"237 c black",
+"238 c black",
+"239 c black",
+"240 c black",
+"241 c black",
+"242 c black",
+"243 c black",
+"244 c black",
+"245 c black",
+"246 c black",
+"247 c black",
+"248 c black",
+"249 c black",
+"250 c black",
+"251 c black",
+"252 c black",
+"253 c black",
+"254 c black",
+"255 c black",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"000000000000116116000000000000116116000000000000116116000000000000116116",
+"000000000000116116000000000000116116000000000000116116000000000000116116",
+"000000000000116116000000000000116116000000000000116116000000000000116116",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"116116116116116116116116083024022034090116116116116116000000000000116116",
+"116116116116116116107060116111055038079116116116116116000000000000116116",
+"116116116116116096084049028057033016059116116116116116000000000000116116",
+"116116116092041054089056033030072112116116116116116116000000000000116116",
+"116116082110113029025021075115116116116116116116116116000000000000116116",
+"116116109018027008073116116116116116116116116116116116000000000000116116",
+"116116102047068071074088078076085080104116116116116116000000000000116116",
+"116116101087108061105114077103106043053081116116116116000000000000116116",
+"116116116065019046069066067091058045062086116116116116000000000000116116",
+"116116116063023032043051050044040036042093116116116116000000000000116116",
+"116116116052015020026035039031037023012097116116116116000000000000116116",
+"116116116048005010014019016020017009003099116116116116000000000000116116",
+"116116116095064007003007007006011002000098116116116116000000000000116116",
+"116116116116116116100070013001004000000094116116116116000000000000116116",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"000000000000116116000000000000116116000000000000116116000000000000116116",
+"000000000000116116000000000000116116000000000000116116000000000000116116",
+"000000000000116116000000000000116116000000000000116116000000000000116116",
+"000000000000000000000000000000000000000000000000000000000000000000000000"
+};


Property changes on: branches/avidemux_2.4_branch/avidemux/xpm/film15.xpm
___________________________________________________________________
Name: svn:mergeinfo
   + 

Deleted: branches/avidemux_2.4_branch/avidemux/xpm/film17.inc
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film17.inc	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film17.inc	2008-09-03 01:25:58 UTC (rev 4306)
@@ -1,97 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film17)
-#endif
-#ifdef __GNUC__
-static const guint8 film17[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film17[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\233\233\230\34\33\26\32\31\24$\"\34\264"
-  "\263\261\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\332\332\330UTP\377"
-  "\377\377\353\351\343LKF%$\36\207\207\204\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\246\245\264\377\377"
-  "\377\274\273\273\242\243\235871\40\36\31ONI##\35\24\23\15SSO\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\360\361\377"
-  "$(7*)%GF@\253\252\245MLH##\35\40\40\32rro\352\351\352\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\224\225"
-  "\245\0\0\0\356\355\353\40\37\32\35\34\26\31\30\22||x\376\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377JL[\0\0\0\37\36\31\16\15\7uus\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\377\377\377\345\351\371\0\0\10\0\0\0"
-  "gf`qplwwv\252\251\247\202\201\177\200}}\246\243\242\215\214\211\324\323"
-  "\321\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377LQa\0\0\0vy\211"
-  "\342\342\336WVP\330\325\320\370\367\363\201\201z\324\323\316\332\330"
-  "\324.-'CB<\224\223\221\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\366\371\377\207\200"
-  "\234JIY\355\357\376\26\27\20""31,kjdcb]db^\266\265\260SRN21+XWR\247\250"
-  "\245\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\355\352\377"
-  "\377\377\377\33\32\25##\34.-'<<5:942/+('\"$#\37+)%\265\264\266\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\364\367\377"
-  "\24\22\15\30\27\21\36\35\27$#\35%%\37#\"\34%#\37\33\32\25\21\20\13\274"
-  "\275\275\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\364\367\377\7\10\1\17\16\10\23\22\14\26\27\20\24\23\15\30\27\21"
-  "\25\23\17\17\15\10\3\2\0\277\277\301\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\364\343ZYT\15\14\6\3\2\0\15\14\6"
-  "\15\14\6\13\12\5\20\17\12\2\1\0\0\0\0\275\274\277\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\306\0\377\377\377\377"
-  "\377\377\303\303\303nnl\22\21\13\1\0\0\7\6\1\0\0\0\0\0\0\272\271\272"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\324\"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"};
-
-

Copied: branches/avidemux_2.4_branch/avidemux/xpm/film17.xpm (from rev 4297, branches/avidemux_2.4_branch/avidemux/xpm/film17.inc)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film17.inc	2008-07-30 21:39:23 UTC (rev 4297)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film17.xpm	2008-09-03 01:25:58 UTC (rev 4306)
@@ -0,0 +1,284 @@
+/* XPM */
+static const char *xpm_film17[] = {
+"24 24 256 3",
+"000 c black",
+"001 c #010000",
+"002 c #020100",
+"003 c #030200",
+"004 c #070601",
+"005 c #000008",
+"006 c #070801",
+"007 c #0B0A05",
+"008 c #0D0C06",
+"009 c #0E0D07",
+"010 c #0F0D08",
+"011 c #0F0E08",
+"012 c #100F0A",
+"013 c #11100B",
+"014 c #12110B",
+"015 c #13120C",
+"016 c #14120D",
+"017 c #14130D",
+"018 c #15130F",
+"019 c #161710",
+"020 c #181711",
+"021 c #191812",
+"022 c #1A1914",
+"023 c #1B1A15",
+"024 c #1C1B16",
+"025 c #1D1C16",
+"026 c #1E1D17",
+"027 c #1F1E19",
+"028 c #201E19",
+"029 c #201F1A",
+"030 c #20201A",
+"031 c #23221C",
+"032 c #23231C",
+"033 c #23231D",
+"034 c #24221C",
+"035 c #24231D",
+"036 c #24231F",
+"037 c #25231F",
+"038 c #25241E",
+"039 c #25251F",
+"040 c #282722",
+"041 c #2A2925",
+"042 c #2B2925",
+"043 c #2E2D27",
+"044 c #242837",
+"045 c #322F2B",
+"046 c #32312B",
+"047 c #33312C",
+"048 c #383731",
+"049 c #3A3934",
+"050 c #3C3C35",
+"051 c #43423C",
+"052 c #474640",
+"053 c #4C4B46",
+"054 c #4D4C48",
+"055 c #4F4E49",
+"056 c #4A4959",
+"057 c #4A4C5B",
+"058 c #53524E",
+"059 c #53534F",
+"060 c #555450",
+"061 c #575650",
+"062 c #585752",
+"063 c #5A5954",
+"064 c #4C5161",
+"065 c #63625D",
+"066 c #64625E",
+"067 c #676660",
+"068 c #6B6A64",
+"069 c #6E6E6C",
+"070 c #71706C",
+"071 c #72726F",
+"072 c #757573",
+"073 c #777776",
+"074 c #7C7C78",
+"075 c #767989",
+"076 c #807D7D",
+"077 c #81817A",
+"078 c #82817F",
+"079 c #FFC600",
+"080 c #FFD422",
+"081 c #878784",
+"082 c #8D8C89",
+"083 c #87809C",
+"084 c #949391",
+"085 c #9B9B98",
+"086 c #9495A5",
+"087 c #A2A39D",
+"088 c #A6A3A2",
+"089 c #A7A8A5",
+"090 c #AAA9A7",
+"091 c #ABAAA5",
+"092 c #A6A5B4",
+"093 c #B4B3B1",
+"094 c #B6B5B0",
+"095 c #B5B4B6",
+"096 c #BAB9BA",
+"097 c #BCBBBB",
+"098 c #BCBDBD",
+"099 c #BDBCBF",
+"100 c #BFBFC1",
+"101 c #C3C3C3",
+"102 c #D4D3CE",
+"103 c #D4D3D1",
+"104 c #D8D5D0",
+"105 c #DAD8D4",
+"106 c #DADAD8",
+"107 c #E2E2DE",
+"108 c #EBE9E3",
+"109 c #EAE9EA",
+"110 c #EEEDEB",
+"111 c #E5E9F9",
+"112 c #EDEAFF",
+"113 c #EDEFFE",
+"114 c #FFF4E3",
+"115 c #F0F1FF",
+"116 c #F4F7FF",
+"117 c #F6F9FF",
+"118 c #F8F7F3",
+"119 c #FEFFFF",
+"120 c Gray100",
+"121 c black",
+"122 c black",
+"123 c black",
+"124 c black",
+"125 c black",
+"126 c black",
+"127 c black",
+"128 c black",
+"129 c black",
+"130 c black",
+"131 c black",
+"132 c black",
+"133 c black",
+"134 c black",
+"135 c black",
+"136 c black",
+"137 c black",
+"138 c black",
+"139 c black",
+"140 c black",
+"141 c black",
+"142 c black",
+"143 c black",
+"144 c black",
+"145 c black",
+"146 c black",
+"147 c black",
+"148 c black",
+"149 c black",
+"150 c black",
+"151 c black",
+"152 c black",
+"153 c black",
+"154 c black",
+"155 c black",
+"156 c black",
+"157 c black",
+"158 c black",
+"159 c black",
+"160 c black",
+"161 c black",
+"162 c black",
+"163 c black",
+"164 c black",
+"165 c black",
+"166 c black",
+"167 c black",
+"168 c black",
+"169 c black",
+"170 c black",
+"171 c black",
+"172 c black",
+"173 c black",
+"174 c black",
+"175 c black",
+"176 c black",
+"177 c black",
+"178 c black",
+"179 c black",
+"180 c black",
+"181 c black",
+"182 c black",
+"183 c black",
+"184 c black",
+"185 c black",
+"186 c black",
+"187 c black",
+"188 c black",
+"189 c black",
+"190 c black",
+"191 c black",
+"192 c black",
+"193 c black",
+"194 c black",
+"195 c black",
+"196 c black",
+"197 c black",
+"198 c black",
+"199 c black",
+"200 c black",
+"201 c black",
+"202 c black",
+"203 c black",
+"204 c black",
+"205 c black",
+"206 c black",
+"207 c black",
+"208 c black",
+"209 c black",
+"210 c black",
+"211 c black",
+"212 c black",
+"213 c black",
+"214 c black",
+"215 c black",
+"216 c black",
+"217 c black",
+"218 c black",
+"219 c black",
+"220 c black",
+"221 c black",
+"222 c black",
+"223 c black",
+"224 c black",
+"225 c black",
+"226 c black",
+"227 c black",
+"228 c black",
+"229 c black",
+"230 c black",
+"231 c black",
+"232 c black",
+"233 c black",
+"234 c black",
+"235 c black",
+"236 c black",
+"237 c black",
+"238 c black",
+"239 c black",
+"240 c black",
+"241 c black",
+"242 c black",
+"243 c black",
+"244 c black",
+"245 c black",
+"246 c black",
+"247 c black",
+"248 c black",
+"249 c black",
+"250 c black",
+"251 c black",
+"252 c black",
+"253 c black",
+"254 c black",
+"255 c black",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"120120000000000000120120000000000000120120000000000000120120000000000000",
+"120120000000000000120120000000000000120120000000000000120120000000000000",
+"120120000000000000120120000000000000120120000000000000120120000000000000",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"120120120120085024022034093120120120120120000000000000120120120120120120",
+"120120106060120108053038081120120120120120000000000000120120120120120092",
+"120097087048028055033017059120120120120120000000000000120120120120115044",
+"041052091054033030071109120120120120120120000000000000120120120120086000",
+"110029025021074119120120120120120120120120000000000000120120120120057000",
+"027009072120120120120120120120120120120120000000000000120120120111005000",
+"067070073090078076088082103120120120120120000000000000120120120064000075",
+"107061104118077102105043051084120120120120000000000000120120117083056113",
+"019047068065066094058046062089120120120120000000000000120120120120112120",
+"023032043050049045040036042095120120120120000000000000120120120120120116",
+"016020026035039031037023013098120120120120000000000000120120120120120116",
+"006011015019017020018010003100120120120120000000000000120120120120120114",
+"063008003008008007012002000099120120120120000000000000120120120120120079",
+"120120101069014001004000000096120120120120000000000000120120120120120080",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"120120000000000000120120000000000000120120000000000000120120000000000000",
+"120120000000000000120120000000000000120120000000000000120120000000000000",
+"120120000000000000120120000000000000120120000000000000120120000000000000",
+"000000000000000000000000000000000000000000000000000000000000000000000000"
+};


Property changes on: branches/avidemux_2.4_branch/avidemux/xpm/film17.xpm
___________________________________________________________________
Name: svn:mergeinfo
   + 

Deleted: branches/avidemux_2.4_branch/avidemux/xpm/film19.inc
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film19.inc	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film19.inc	2008-09-03 01:25:58 UTC (rev 4306)
@@ -1,99 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film19)
-#endif
-#ifdef __GNUC__
-static const guint8 film19[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film19[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\233\233\230\34\33\26"
-  "\32\31\24$\"\34\264\263\261\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\241\242\255z~\205\212\215"
-  "\225\202\205\215\377\377\377\353\351\343LKF%$\36\207\207\204\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\246\245\264^bq\223\227\246\207\213\231&*9\40\36\31ONI##\35\24\23\15"
-  "SSO\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\360"
-  "\361\377$(7\245\250\267\365\370\377\226\232\251 at BQ##\35\40\40\32rro\352"
-  "\351\352\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\224\225\245\0\0\0\256\262\300\233\237\257HLW\225\231"
-  "\241||x\376\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377JL[\0\0\0&(7\307\314"
-  "\333\305\2644\362\307C\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\345"
-  "\351\371\0\0\10\0\0\0\234\237\256\377\377\377\377\346\1\346\224\0\202"
-  "\201\177\200}}\246\243\242\215\214\211\324\323\321\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\377\377\377LQa\0\0\0vy\211\377\377\377\377\377\377"
-  "\377\334a\271\225J\201\201z\324\323\316\332\330\324.-'CB<\224\223\221"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\366\371\377\207\200\234JIY\355\357\376\377"
-  "\377\377\377\377\377\367\362\345\346\346\352db^\266\265\260SRN21+XWR"
-  "\247\250\245\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\355"
-  "\352\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  ":942/+('\"$#\37+)%\265\264\266\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\364\367\377\366\372\377\371\374\377\371\374"
-  "\377\366\372\377%%\37#\"\34%#\37\33\32\25\21\20\13\274\275\275\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\364\367\377"
-  "\352\357\377\355\362\377\355\360\377\354\357\375\24\23\15\30\27\21\25"
-  "\23\17\17\15\10\3\2\0\277\277\301\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\364\343\372\320\217\366\316\213\347"
-  "\331\317\337\341\362\15\14\6\13\12\5\20\17\12\2\1\0\0\0\0\275\274\277"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\306\0\377\346\10\377\373k\377\333H\346\301\213\22\21\13\1\0\0\7\6\1"
-  "\0\0\0\0\0\0\272\271\272\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\324\"\377\362\0\377\373\0\377\316\0\352\272"
-  "V\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"};
-
-

Copied: branches/avidemux_2.4_branch/avidemux/xpm/film19.xpm (from rev 4297, branches/avidemux_2.4_branch/avidemux/xpm/film19.inc)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film19.inc	2008-07-30 21:39:23 UTC (rev 4297)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film19.xpm	2008-09-03 01:25:58 UTC (rev 4306)
@@ -0,0 +1,284 @@
+/* XPM */
+static const char *xpm_film19[] = {
+"24 24 256 3",
+"000 c black",
+"001 c #010000",
+"002 c #020100",
+"003 c #030200",
+"004 c #070601",
+"005 c #000008",
+"006 c #0B0A05",
+"007 c #0D0C06",
+"008 c #0F0D08",
+"009 c #100F0A",
+"010 c #11100B",
+"011 c #12110B",
+"012 c #14130D",
+"013 c #15130F",
+"014 c #181711",
+"015 c #1A1914",
+"016 c #1B1A15",
+"017 c #1C1B16",
+"018 c #201E19",
+"019 c #20201A",
+"020 c #23221C",
+"021 c #23231D",
+"022 c #24221C",
+"023 c #24231F",
+"024 c #25231F",
+"025 c #25241E",
+"026 c #25251F",
+"027 c #282722",
+"028 c #2B2925",
+"029 c #2E2D27",
+"030 c #242837",
+"031 c #262837",
+"032 c #262A39",
+"033 c #322F2B",
+"034 c #32312B",
+"035 c #3A3934",
+"036 c #43423C",
+"037 c #4C4B46",
+"038 c #4F4E49",
+"039 c #404251",
+"040 c #484C57",
+"041 c #4A4959",
+"042 c #4A4C5B",
+"043 c #53524E",
+"044 c #53534F",
+"045 c #585752",
+"046 c #4C5161",
+"047 c #5E6271",
+"048 c #64625E",
+"049 c #72726F",
+"050 c #7C7C78",
+"051 c #767989",
+"052 c #7A7E85",
+"053 c #807D7D",
+"054 c #81817A",
+"055 c #82817F",
+"056 c #B9954A",
+"057 c #C5B434",
+"058 c #E69400",
+"059 c #EABA56",
+"060 c #FFC600",
+"061 c #FFCE00",
+"062 c #FFD422",
+"063 c #FFE601",
+"064 c #FFE608",
+"065 c #FFF200",
+"066 c #FFFB00",
+"067 c #F2C743",
+"068 c #FFDB48",
+"069 c #FFDC61",
+"070 c #FFFB6B",
+"071 c #878784",
+"072 c #82858D",
+"073 c #8D8C89",
+"074 c #87809C",
+"075 c #878B99",
+"076 c #8A8D95",
+"077 c #949391",
+"078 c #9B9B98",
+"079 c #9397A6",
+"080 c #9495A5",
+"081 c #9599A1",
+"082 c #969AA9",
+"083 c #9B9FAF",
+"084 c #9C9FAE",
+"085 c #A6A3A2",
+"086 c #A1A2AD",
+"087 c #A7A8A5",
+"088 c #A6A5B4",
+"089 c #A5A8B7",
+"090 c #B4B3B1",
+"091 c #B6B5B0",
+"092 c #B5B4B6",
+"093 c #BAB9BA",
+"094 c #BCBDBD",
+"095 c #BDBCBF",
+"096 c #AEB2C0",
+"097 c #BFBFC1",
+"098 c #E6C18B",
+"099 c #F6CE8B",
+"100 c #FAD08F",
+"101 c #C7CCDB",
+"102 c #D4D3CE",
+"103 c #D4D3D1",
+"104 c #DAD8D4",
+"105 c #DFE1F2",
+"106 c #E7D9CF",
+"107 c #E6E6EA",
+"108 c #EBE9E3",
+"109 c #EAE9EA",
+"110 c #E5E9F9",
+"111 c #EAEFFF",
+"112 c #EDEAFF",
+"113 c #ECEFFD",
+"114 c #EDEFFE",
+"115 c #EDF0FF",
+"116 c #EDF2FF",
+"117 c #F7F2E5",
+"118 c #FFF4E3",
+"119 c #F0F1FF",
+"120 c #F4F7FF",
+"121 c #F5F8FF",
+"122 c #F6F9FF",
+"123 c #F6FAFF",
+"124 c #F9FCFF",
+"125 c #FEFFFF",
+"126 c Gray100",
+"127 c black",
+"128 c black",
+"129 c black",
+"130 c black",
+"131 c black",
+"132 c black",
+"133 c black",
+"134 c black",
+"135 c black",
+"136 c black",
+"137 c black",
+"138 c black",
+"139 c black",
+"140 c black",
+"141 c black",
+"142 c black",
+"143 c black",
+"144 c black",
+"145 c black",
+"146 c black",
+"147 c black",
+"148 c black",
+"149 c black",
+"150 c black",
+"151 c black",
+"152 c black",
+"153 c black",
+"154 c black",
+"155 c black",
+"156 c black",
+"157 c black",
+"158 c black",
+"159 c black",
+"160 c black",
+"161 c black",
+"162 c black",
+"163 c black",
+"164 c black",
+"165 c black",
+"166 c black",
+"167 c black",
+"168 c black",
+"169 c black",
+"170 c black",
+"171 c black",
+"172 c black",
+"173 c black",
+"174 c black",
+"175 c black",
+"176 c black",
+"177 c black",
+"178 c black",
+"179 c black",
+"180 c black",
+"181 c black",
+"182 c black",
+"183 c black",
+"184 c black",
+"185 c black",
+"186 c black",
+"187 c black",
+"188 c black",
+"189 c black",
+"190 c black",
+"191 c black",
+"192 c black",
+"193 c black",
+"194 c black",
+"195 c black",
+"196 c black",
+"197 c black",
+"198 c black",
+"199 c black",
+"200 c black",
+"201 c black",
+"202 c black",
+"203 c black",
+"204 c black",
+"205 c black",
+"206 c black",
+"207 c black",
+"208 c black",
+"209 c black",
+"210 c black",
+"211 c black",
+"212 c black",
+"213 c black",
+"214 c black",
+"215 c black",
+"216 c black",
+"217 c black",
+"218 c black",
+"219 c black",
+"220 c black",
+"221 c black",
+"222 c black",
+"223 c black",
+"224 c black",
+"225 c black",
+"226 c black",
+"227 c black",
+"228 c black",
+"229 c black",
+"230 c black",
+"231 c black",
+"232 c black",
+"233 c black",
+"234 c black",
+"235 c black",
+"236 c black",
+"237 c black",
+"238 c black",
+"239 c black",
+"240 c black",
+"241 c black",
+"242 c black",
+"243 c black",
+"244 c black",
+"245 c black",
+"246 c black",
+"247 c black",
+"248 c black",
+"249 c black",
+"250 c black",
+"251 c black",
+"252 c black",
+"253 c black",
+"254 c black",
+"255 c black",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"000000126126000000000000126126000000000000126126000000000000126126000000",
+"000000126126000000000000126126000000000000126126000000000000126126000000",
+"000000126126000000000000126126000000000000126126000000000000126126000000",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"078017015022090126126126126126000000000000126126126126126126086052076072",
+"126108037025071126126126126126000000000000126126126126126088047079075032",
+"018038021012044126126126126126000000000000126126126126119030089121082039",
+"021019049109126126126126126126000000000000126126126126080000096083040081",
+"050125126126126126126126126126000000000000126126126126042000031101057067",
+"126126126126126126126126126126000000000000126126126110005000084126063058",
+"055053085073103126126126126126000000000000126126126046000051126126069056",
+"054102104029036077126126126126000000000000126126122074041114126126117107",
+"048091043034045087126126126126000000000000126126126126112126126126126126",
+"035033027023028092126126126126000000000000126126126126126120123124124123",
+"026020024016010094126126126126000000000000126126126126126120111116115113",
+"012014013008003097126126126126000000000000126126126126126118100099106105",
+"007006009002000095126126126126000000000000126126126126126060064070068098",
+"011001004000000093126126126126000000000000126126126126126062065066061059",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"000000126126000000000000126126000000000000126126000000000000126126000000",
+"000000126126000000000000126126000000000000126126000000000000126126000000",
+"000000126126000000000000126126000000000000126126000000000000126126000000",
+"000000000000000000000000000000000000000000000000000000000000000000000000"
+};


Property changes on: branches/avidemux_2.4_branch/avidemux/xpm/film19.xpm
___________________________________________________________________
Name: svn:mergeinfo
   + 

Deleted: branches/avidemux_2.4_branch/avidemux/xpm/film21.inc
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film21.inc	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film21.inc	2008-09-03 01:25:58 UTC (rev 4306)
@@ -1,101 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film21)
-#endif
-#ifdef __GNUC__
-static const guint8 film21[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film21[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\264\263\261\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\241\242\255z~\205\212\215\225\202\205\215[_gPS[Z^f\314\317"
-  "\327\207\207\204\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\246\245\264^bq\223\227\246\207\213\231&*915"
-  "D\40$2\40$4*.;SSO\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\360\361\377$(7\245\250\267\365\370\377\226\232\251 at BQ\202"
-  "\206\225.2\77\0\0\1\0\0\1\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\224\225\245\0\0\0\256\262\300\233\237"
-  "\257HLW\225\231\241\271\274\313uy\207>AO\0\0\0\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377JL[\0\0\0&(7\307"
-  "\314\333\305\2644\362\307C\275\277\312\251\255\273\7\12\30\0\0\0\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\345\351"
-  "\371\0\0\10\0\0\0\234\237\256\377\377\377\377\346\1\346\224\0\265\257"
-  "\263\362\365\377\300\304\322\0\0\0\324\323\321\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\377\377\377LQa\0\0\0vy\211\377\377\377\377\377\377\377"
-  "\334a\271\225J\377\377\377\377\377\377\373\377\377\263\266\304CB<\224"
-  "\223\221\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\366\371\377\207\200\234JIY\355\357"
-  "\376\377\377\377\377\377\377\367\362\345\346\346\352\377\377\377\374"
-  "\377\377\363\366\377\351\355\374XWR\247\250\245\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\355\352\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\375\377\377\365\370\377\354\357\375"
-  "\342\346\364+)%\265\264\266\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\364\367\377\366\372\377\371\374\377\371\374\377"
-  "\366\372\377\362\365\377\351\355\374\341\345\362\327\333\351\21\20\13"
-  "\274\275\275\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\364\367\377\352\357\377\355\362\377\355\360\377\354\357\375"
-  "\347\353\370\337\345\362\327\330\343\315\314\325\3\2\0\277\277\301\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\364"
-  "\343\372\320\217\366\316\213\347\331\317\337\341\362\331\334\356\354"
-  "\320\234\373\323\221\366\314\202\0\0\0\275\274\277\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\306\0\377\346\10\377"
-  "\373k\377\333H\346\301\213\356\301C\377\3627\377\366:\377\331\0\0\0\0"
-  "\272\271\272\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\324\"\377\362\0\377\373\0\377\316\0\352\272V\375\312\25"
-  "\377\366\0\377\376\0\377\341\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0"};
-
-

Copied: branches/avidemux_2.4_branch/avidemux/xpm/film21.xpm (from rev 4297, branches/avidemux_2.4_branch/avidemux/xpm/film21.inc)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film21.inc	2008-07-30 21:39:23 UTC (rev 4297)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film21.xpm	2008-09-03 01:25:58 UTC (rev 4306)
@@ -0,0 +1,284 @@
+/* XPM */
+static const char *xpm_film21[] = {
+"24 24 256 3",
+"000 c black",
+"001 c transparent",
+"002 c #030200",
+"003 c #000008",
+"004 c #070A18",
+"005 c #11100B",
+"006 c #2B2925",
+"007 c #202432",
+"008 c #202434",
+"009 c #242837",
+"010 c #262837",
+"011 c #262A39",
+"012 c #2A2E3B",
+"013 c #2E323F",
+"014 c #313544",
+"015 c #3E414F",
+"016 c #43423C",
+"017 c #404251",
+"018 c #484C57",
+"019 c #4A4959",
+"020 c #4A4C5B",
+"021 c #53534F",
+"022 c #50535B",
+"023 c #585752",
+"024 c #4C5161",
+"025 c #5A5E66",
+"026 c #5B5F67",
+"027 c #5E6271",
+"028 c #757987",
+"029 c #767989",
+"030 c #7A7E85",
+"031 c #B9954A",
+"032 c #C5B434",
+"033 c #E69400",
+"034 c #EABA56",
+"035 c #FFC600",
+"036 c #FFCE00",
+"037 c #FDCA15",
+"038 c #FFD900",
+"039 c #FFD422",
+"040 c #FFE100",
+"041 c #FFE601",
+"042 c #FFE608",
+"043 c #FFF200",
+"044 c #FFF600",
+"045 c #FFFB00",
+"046 c #FFFE00",
+"047 c #FFF237",
+"048 c #FFF63A",
+"049 c #EEC143",
+"050 c #F2C743",
+"051 c #FFDB48",
+"052 c #FFDC61",
+"053 c #FFFB6B",
+"054 c #878784",
+"055 c #82858D",
+"056 c #828695",
+"057 c #87809C",
+"058 c #878B99",
+"059 c #8A8D95",
+"060 c #949391",
+"061 c #9397A6",
+"062 c #9495A5",
+"063 c #9599A1",
+"064 c #969AA9",
+"065 c #9B9FAF",
+"066 c #9C9FAE",
+"067 c #A1A2AD",
+"068 c #A7A8A5",
+"069 c #A6A5B4",
+"070 c #A5A8B7",
+"071 c #A9ADBB",
+"072 c #B5AFB3",
+"073 c #B4B3B1",
+"074 c #B5B4B6",
+"075 c #BAB9BA",
+"076 c #BCBDBD",
+"077 c #BDBCBF",
+"078 c #AEB2C0",
+"079 c #B3B6C4",
+"080 c #BFBFC1",
+"081 c #B9BCCB",
+"082 c #BDBFCA",
+"083 c #E6C18B",
+"084 c #ECD09C",
+"085 c #F6CC82",
+"086 c #F6CE8B",
+"087 c #FAD08F",
+"088 c #FBD391",
+"089 c #C0C4D2",
+"090 c #C7CCDB",
+"091 c #CDCCD5",
+"092 c #CCCFD7",
+"093 c #D4D3D1",
+"094 c #D7D8E3",
+"095 c #D7DBE9",
+"096 c #D9DCEE",
+"097 c #DFE1F2",
+"098 c #DFE5F2",
+"099 c #E7D9CF",
+"100 c #E6E6EA",
+"101 c #E1E5F2",
+"102 c #E2E6F4",
+"103 c #E5E9F9",
+"104 c #E7EBF8",
+"105 c #E9EDFC",
+"106 c #EAEFFF",
+"107 c #EDEAFF",
+"108 c #ECEFFD",
+"109 c #EDEFFE",
+"110 c #EDF0FF",
+"111 c #EDF2FF",
+"112 c #F7F2E5",
+"113 c #FFF4E3",
+"114 c #F0F1FF",
+"115 c #F2F5FF",
+"116 c #F3F6FF",
+"117 c #F4F7FF",
+"118 c #F5F8FF",
+"119 c #F6F9FF",
+"120 c #F6FAFF",
+"121 c #F9FCFF",
+"122 c #FBFFFF",
+"123 c #FCFFFF",
+"124 c #FDFFFF",
+"125 c Gray100",
+"126 c black",
+"127 c black",
+"128 c black",
+"129 c black",
+"130 c black",
+"131 c black",
+"132 c black",
+"133 c black",
+"134 c black",
+"135 c black",
+"136 c black",
+"137 c black",
+"138 c black",
+"139 c black",
+"140 c black",
+"141 c black",
+"142 c black",
+"143 c black",
+"144 c black",
+"145 c black",
+"146 c black",
+"147 c black",
+"148 c black",
+"149 c black",
+"150 c black",
+"151 c black",
+"152 c black",
+"153 c black",
+"154 c black",
+"155 c black",
+"156 c black",
+"157 c black",
+"158 c black",
+"159 c black",
+"160 c black",
+"161 c black",
+"162 c black",
+"163 c black",
+"164 c black",
+"165 c black",
+"166 c black",
+"167 c black",
+"168 c black",
+"169 c black",
+"170 c black",
+"171 c black",
+"172 c black",
+"173 c black",
+"174 c black",
+"175 c black",
+"176 c black",
+"177 c black",
+"178 c black",
+"179 c black",
+"180 c black",
+"181 c black",
+"182 c black",
+"183 c black",
+"184 c black",
+"185 c black",
+"186 c black",
+"187 c black",
+"188 c black",
+"189 c black",
+"190 c black",
+"191 c black",
+"192 c black",
+"193 c black",
+"194 c black",
+"195 c black",
+"196 c black",
+"197 c black",
+"198 c black",
+"199 c black",
+"200 c black",
+"201 c black",
+"202 c black",
+"203 c black",
+"204 c black",
+"205 c black",
+"206 c black",
+"207 c black",
+"208 c black",
+"209 c black",
+"210 c black",
+"211 c black",
+"212 c black",
+"213 c black",
+"214 c black",
+"215 c black",
+"216 c black",
+"217 c black",
+"218 c black",
+"219 c black",
+"220 c black",
+"221 c black",
+"222 c black",
+"223 c black",
+"224 c black",
+"225 c black",
+"226 c black",
+"227 c black",
+"228 c black",
+"229 c black",
+"230 c black",
+"231 c black",
+"232 c black",
+"233 c black",
+"234 c black",
+"235 c black",
+"236 c black",
+"237 c black",
+"238 c black",
+"239 c black",
+"240 c black",
+"241 c black",
+"242 c black",
+"243 c black",
+"244 c black",
+"245 c black",
+"246 c black",
+"247 c black",
+"248 c black",
+"249 c black",
+"250 c black",
+"251 c black",
+"252 c black",
+"253 c black",
+"254 c black",
+"255 c black",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"000000000000125125000000000000125125000000000000125125000000000000125125",
+"000000000000125125000000000000125125000000000000125125000000000000125125",
+"000000000000125125000000000000125125000000000000125125000000000000125125",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"073125125125125125000000000000125125125125125125067030059055026022025092",
+"054125125125125125000000000000125125125125125069027061058011014007008012",
+"021125125125125125000000000000125125125125114009070118064017056013001001",
+"125125125125125125000000000000125125125125062000078065018063081028015000",
+"125125125125125125000000000000125125125125020000010090032050082071004000",
+"125125125125125125000000000000125125125103003000066125041033072115089000",
+"093125125125125125000000000000125125125024000029125125052031125125122079",
+"016060125125125125000000000000125125119057019109125125112100125123116105",
+"023068125125125125000000000000125125125125107125125125125125124118108102",
+"006074125125125125000000000000125125125125125117120121121120115105101095",
+"005076125125125125000000000000125125125125125117106111110108104098094091",
+"002080125125125125000000000000125125125125125113087086099097096084088085",
+"000077125125125125000000000000125125125125125035042053051083049047048038",
+"000075125125125125000000000000125125125125125039043045036034037044046040",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"000000000000125125000000000000125125000000000000125125000000000000125125",
+"000000000000125125000000000000125125000000000000125125000000000000125125",
+"000000000000125125000000000000125125000000000000125125000000000000125125",
+"000000000000000000000000000000000000000000000000000000000000000000000000"
+};


Property changes on: branches/avidemux_2.4_branch/avidemux/xpm/film21.xpm
___________________________________________________________________
Name: svn:mergeinfo
   + 

Deleted: branches/avidemux_2.4_branch/avidemux/xpm/film23.inc
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film23.inc	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film23.inc	2008-09-03 01:25:58 UTC (rev 4306)
@@ -1,100 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film23)
-#endif
-#ifdef __GNUC__
-static const guint8 film23[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film23[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\241\242\255z~\205\212\215\225\202\205"
-  "\215[_gPS[Z^f\314\317\327\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\246\245\264^bq\223\227\246"
-  "\207\213\231&*915D\40$2\40$4*.;\340\344\363\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\360\361\377$(7\245\250\267\365\370"
-  "\377\226\232\251 at BQ\202\206\225.2\77\0\0\1\0\0\1<\77N\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\224\225\245\0\0\0\256"
-  "\262\300\233\237\257HLW\225\231\241\271\274\313uy\207>AO\0\0\0\0\0\0"
-  "\303\305\325\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377JL[\0"
-  "\0\0&(7\307\314\333\305\2644\362\307C\275\277\312\251\255\273\7\12\30"
-  "\0\0\0\0\0\0Z^k\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\345\351\371\0"
-  "\0\10\0\0\0\234\237\256\377\377\377\377\346\1\346\224\0\265\257\263\362"
-  "\365\377\300\304\322\0\0\0\0\0\0\0\0\0\266\272\312\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377LQa\0\0\0vy\211\377\377\377\377\377\377\377\334a\271\225J\377"
-  "\377\377\377\377\377\373\377\377\263\266\304\0\0\0\0\0\0\207\213\232"
-  "\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\366\371\377\207\200\234JIY\355\357\376\377\377\377\377"
-  "\377\377\367\362\345\346\346\352\377\377\377\374\377\377\363\366\377"
-  "\351\355\374.2@\0\0\0\260\264\302\377\377\377\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\355\352\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\375\377\377\365\370\377\354\357\375\342\346\364\237\242\260"
-  "\201\202\222\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\364\367\377\366\372\377\371\374\377\371\374\377\366\372\377"
-  "\362\365\377\351\355\374\341\345\362\327\333\351\305\310\326\360\365"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\364\367\377\352\357\377\355\362\377\355\360\377\354\357\375\347\353"
-  "\370\337\345\362\327\330\343\315\314\325\303\310\327\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\364"
-  "\343\372\320\217\366\316\213\347\331\317\337\341\362\331\334\356\354"
-  "\320\234\373\323\221\366\314\202\375\323\235\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\306\0\377\346"
-  "\10\377\373k\377\333H\346\301\213\356\301C\377\3627\377\366:\377\331"
-  "\0\377\245\0\377\377\364\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\324\"\377\362\0\377\373\0\377\316\0\352\272"
-  "V\375\312\25\377\366\0\377\376\0\377\341\0\377\341z\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"};
-
-

Copied: branches/avidemux_2.4_branch/avidemux/xpm/film23.xpm (from rev 4297, branches/avidemux_2.4_branch/avidemux/xpm/film23.inc)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film23.inc	2008-07-30 21:39:23 UTC (rev 4297)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film23.xpm	2008-09-03 01:25:58 UTC (rev 4306)
@@ -0,0 +1,284 @@
+/* XPM */
+static const char *xpm_film23[] = {
+"24 24 256 3",
+"000 c black",
+"001 c transparent",
+"002 c #000008",
+"003 c #070A18",
+"004 c #202432",
+"005 c #202434",
+"006 c #242837",
+"007 c #262837",
+"008 c #262A39",
+"009 c #2A2E3B",
+"010 c #2E323F",
+"011 c #2E3240",
+"012 c #313544",
+"013 c #3C3F4E",
+"014 c #3E414F",
+"015 c #404251",
+"016 c #484C57",
+"017 c #4A4959",
+"018 c #4A4C5B",
+"019 c #50535B",
+"020 c #4C5161",
+"021 c #5A5E66",
+"022 c #5B5F67",
+"023 c #5A5E6B",
+"024 c #5E6271",
+"025 c #757987",
+"026 c #767989",
+"027 c #7A7E85",
+"028 c #B9954A",
+"029 c #C5B434",
+"030 c #E69400",
+"031 c #FFA500",
+"032 c #EABA56",
+"033 c #FFC600",
+"034 c #FFCE00",
+"035 c #FDCA15",
+"036 c #FFD900",
+"037 c #FFD422",
+"038 c #FFE100",
+"039 c #FFE601",
+"040 c #FFE608",
+"041 c #FFF200",
+"042 c #FFF600",
+"043 c #FFFB00",
+"044 c #FFFE00",
+"045 c #FFF237",
+"046 c #FFF63A",
+"047 c #EEC143",
+"048 c #F2C743",
+"049 c #FFDB48",
+"050 c #FFDC61",
+"051 c #FFE17A",
+"052 c #FFFB6B",
+"053 c #82858D",
+"054 c #818292",
+"055 c #828695",
+"056 c #87809C",
+"057 c #878B99",
+"058 c #878B9A",
+"059 c #8A8D95",
+"060 c #9397A6",
+"061 c #9495A5",
+"062 c #9599A1",
+"063 c #969AA9",
+"064 c #9B9FAF",
+"065 c #9C9FAE",
+"066 c #9FA2B0",
+"067 c #A1A2AD",
+"068 c #A6A5B4",
+"069 c #A5A8B7",
+"070 c #A9ADBB",
+"071 c #B5AFB3",
+"072 c #AEB2C0",
+"073 c #B0B4C2",
+"074 c #B3B6C4",
+"075 c #B6BACA",
+"076 c #B9BCCB",
+"077 c #BDBFCA",
+"078 c #E6C18B",
+"079 c #ECD09C",
+"080 c #F6CC82",
+"081 c #F6CE8B",
+"082 c #FAD08F",
+"083 c #FBD391",
+"084 c #FDD39D",
+"085 c #C0C4D2",
+"086 c #C3C5D5",
+"087 c #C3C8D7",
+"088 c #C5C8D6",
+"089 c #C7CCDB",
+"090 c #CDCCD5",
+"091 c #CCCFD7",
+"092 c #D7D8E3",
+"093 c #D7DBE9",
+"094 c #D9DCEE",
+"095 c #DFE1F2",
+"096 c #DFE5F2",
+"097 c #E7D9CF",
+"098 c #E6E6EA",
+"099 c #E0E4F3",
+"100 c #E1E5F2",
+"101 c #E2E6F4",
+"102 c #E5E9F9",
+"103 c #E7EBF8",
+"104 c #E9EDFC",
+"105 c #EAEFFF",
+"106 c #EDEAFF",
+"107 c #ECEFFD",
+"108 c #EDEFFE",
+"109 c #EDF0FF",
+"110 c #EDF2FF",
+"111 c #F7F2E5",
+"112 c #FFF4E3",
+"113 c #F0F1FF",
+"114 c #F0F5FF",
+"115 c #F2F5FF",
+"116 c #F3F6FF",
+"117 c #F4F7FF",
+"118 c #F5F8FF",
+"119 c #F6F9FF",
+"120 c #F6FAFF",
+"121 c #FFFFF4",
+"122 c #F9FCFF",
+"123 c #FBFFFF",
+"124 c #FCFFFF",
+"125 c #FDFFFF",
+"126 c Gray100",
+"127 c black",
+"128 c black",
+"129 c black",
+"130 c black",
+"131 c black",
+"132 c black",
+"133 c black",
+"134 c black",
+"135 c black",
+"136 c black",
+"137 c black",
+"138 c black",
+"139 c black",
+"140 c black",
+"141 c black",
+"142 c black",
+"143 c black",
+"144 c black",
+"145 c black",
+"146 c black",
+"147 c black",
+"148 c black",
+"149 c black",
+"150 c black",
+"151 c black",
+"152 c black",
+"153 c black",
+"154 c black",
+"155 c black",
+"156 c black",
+"157 c black",
+"158 c black",
+"159 c black",
+"160 c black",
+"161 c black",
+"162 c black",
+"163 c black",
+"164 c black",
+"165 c black",
+"166 c black",
+"167 c black",
+"168 c black",
+"169 c black",
+"170 c black",
+"171 c black",
+"172 c black",
+"173 c black",
+"174 c black",
+"175 c black",
+"176 c black",
+"177 c black",
+"178 c black",
+"179 c black",
+"180 c black",
+"181 c black",
+"182 c black",
+"183 c black",
+"184 c black",
+"185 c black",
+"186 c black",
+"187 c black",
+"188 c black",
+"189 c black",
+"190 c black",
+"191 c black",
+"192 c black",
+"193 c black",
+"194 c black",
+"195 c black",
+"196 c black",
+"197 c black",
+"198 c black",
+"199 c black",
+"200 c black",
+"201 c black",
+"202 c black",
+"203 c black",
+"204 c black",
+"205 c black",
+"206 c black",
+"207 c black",
+"208 c black",
+"209 c black",
+"210 c black",
+"211 c black",
+"212 c black",
+"213 c black",
+"214 c black",
+"215 c black",
+"216 c black",
+"217 c black",
+"218 c black",
+"219 c black",
+"220 c black",
+"221 c black",
+"222 c black",
+"223 c black",
+"224 c black",
+"225 c black",
+"226 c black",
+"227 c black",
+"228 c black",
+"229 c black",
+"230 c black",
+"231 c black",
+"232 c black",
+"233 c black",
+"234 c black",
+"235 c black",
+"236 c black",
+"237 c black",
+"238 c black",
+"239 c black",
+"240 c black",
+"241 c black",
+"242 c black",
+"243 c black",
+"244 c black",
+"245 c black",
+"246 c black",
+"247 c black",
+"248 c black",
+"249 c black",
+"250 c black",
+"251 c black",
+"252 c black",
+"253 c black",
+"254 c black",
+"255 c black",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"126126000000000000126126000000000000126126000000000000126126000000000000",
+"126126000000000000126126000000000000126126000000000000126126000000000000",
+"126126000000000000126126000000000000126126000000000000126126000000000000",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"126126000000000000126126126126126126067027059053022019021091126126126126",
+"126126000000000000126126126126126068024060057008012004005009099126126126",
+"126126000000000000126126126126113006069118063015055010001001013126126126",
+"126126000000000000126126126126061000072064016062076025014000000086126126",
+"126126000000000000126126126126018000007089029048077070003000000023126126",
+"126126000000000000126126126102002000065126039030071115085000000000075126",
+"126126000000000000126126126020000026126126050028126126123074000000058126",
+"126126000000000000126126119056017108126126111098126124116104011000073126",
+"126126000000000000126126126126106126126126126126125118107101066054126126",
+"126126000000000000126126126126126117120122122120115104100093088114126126",
+"126126000000000000126126126126126117105110109107103096092090087126126126",
+"126126000000000000126126126126126112082081097095094079083080084126126126",
+"126126000000000000126126126126126033040052049078047045046036031121126126",
+"126126000000000000126126126126126037041043034032035042044038051126126126",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"126126000000000000126126000000000000126126000000000000126126000000000000",
+"126126000000000000126126000000000000126126000000000000126126000000000000",
+"126126000000000000126126000000000000126126000000000000126126000000000000",
+"000000000000000000000000000000000000000000000000000000000000000000000000"
+};


Property changes on: branches/avidemux_2.4_branch/avidemux/xpm/film23.xpm
___________________________________________________________________
Name: svn:mergeinfo
   + 

Deleted: branches/avidemux_2.4_branch/avidemux/xpm/film3.inc
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film3.inc	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film3.inc	2008-09-03 01:25:58 UTC (rev 4306)
@@ -1,100 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film3)
-#endif
-#ifdef __GNUC__
-static const guint8 film3[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film3[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\241\242\255z~\205\212\215\225\202\205\215"
-  "[_gPS[Z^f\314\317\327\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\246\245\264^bq\223\227\246\207"
-  "\213\231&*915D\40$2\40$4*.;\340\344\363\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\360\361\377$(7\245\250\267\365\370\377"
-  "\226\232\251 at BQ\202\206\225.2\77\0\0\1\0\0\1<\77N\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\224\225\245\0\0\0\256\262"
-  "\300\233\237\257HLW\225\231\241\271\274\313uy\207>AO\0\0\0\0\0\0\303"
-  "\305\325\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377JL[\0\0\0"
-  "&(7\307\314\333\305\2644\362\307C\275\277\312\251\255\273\7\12\30\0\0"
-  "\0\0\0\0Z^k\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\345\351\371\0\0\10"
-  "\0\0\0\234\237\256\377\377\377\377\346\1\346\224\0\265\257\263\362\365"
-  "\377\300\304\322\0\0\0\0\0\0\0\0\0\266\272\312\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377LQa\0\0\0vy\211\377\377\377\377\377\377\377\334a\271\225J\377\377"
-  "\377\377\377\377\373\377\377\263\266\304\0\0\0\0\0\0\207\213\232\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\366\371\377\207\200\234JIY\355\357\376\377\377\377\377\377"
-  "\377\367\362\345\346\346\352\377\377\377\374\377\377\363\366\377\351"
-  "\355\374.2@\0\0\0\260\264\302\377\377\377\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\355\352\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\375\377\377\365\370\377\354\357\375\342\346\364\237\242\260\201"
-  "\202\222\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\364\367\377\366\372\377\371\374\377\371\374\377\366\372\377\362"
-  "\365\377\351\355\374\341\345\362\327\333\351\305\310\326\360\365\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\364"
-  "\367\377\352\357\377\355\362\377\355\360\377\354\357\375\347\353\370"
-  "\337\345\362\327\330\343\315\314\325\303\310\327\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\364\343"
-  "\372\320\217\366\316\213\347\331\317\337\341\362\331\334\356\354\320"
-  "\234\373\323\221\366\314\202\375\323\235\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\306\0\377\346\10"
-  "\377\373k\377\333H\346\301\213\356\301C\377\3627\377\366:\377\331\0\377"
-  "\245\0\377\377\364\377\377\377\377\377\377\377\377\377\377\377\377\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\324\"\377\362\0\377\373\0\377\316\0\352\272V\375\312"
-  "\25\377\366\0\377\376\0\377\341\0\377\341z\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"};
-
-

Copied: branches/avidemux_2.4_branch/avidemux/xpm/film3.xpm (from rev 4297, branches/avidemux_2.4_branch/avidemux/xpm/film3.inc)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film3.inc	2008-07-30 21:39:23 UTC (rev 4297)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film3.xpm	2008-09-03 01:25:58 UTC (rev 4306)
@@ -0,0 +1,284 @@
+/* XPM */
+static const char *xpm_film3[] = {
+"24 24 256 3",
+"000 c black",
+"001 c transparent",
+"002 c #000008",
+"003 c #070A18",
+"004 c #202432",
+"005 c #202434",
+"006 c #242837",
+"007 c #262837",
+"008 c #262A39",
+"009 c #2A2E3B",
+"010 c #2E323F",
+"011 c #2E3240",
+"012 c #313544",
+"013 c #3C3F4E",
+"014 c #3E414F",
+"015 c #404251",
+"016 c #484C57",
+"017 c #4A4959",
+"018 c #4A4C5B",
+"019 c #50535B",
+"020 c #4C5161",
+"021 c #5A5E66",
+"022 c #5B5F67",
+"023 c #5A5E6B",
+"024 c #5E6271",
+"025 c #757987",
+"026 c #767989",
+"027 c #7A7E85",
+"028 c #B9954A",
+"029 c #C5B434",
+"030 c #E69400",
+"031 c #FFA500",
+"032 c #EABA56",
+"033 c #FFC600",
+"034 c #FFCE00",
+"035 c #FDCA15",
+"036 c #FFD900",
+"037 c #FFD422",
+"038 c #FFE100",
+"039 c #FFE601",
+"040 c #FFE608",
+"041 c #FFF200",
+"042 c #FFF600",
+"043 c #FFFB00",
+"044 c #FFFE00",
+"045 c #FFF237",
+"046 c #FFF63A",
+"047 c #EEC143",
+"048 c #F2C743",
+"049 c #FFDB48",
+"050 c #FFDC61",
+"051 c #FFE17A",
+"052 c #FFFB6B",
+"053 c #82858D",
+"054 c #818292",
+"055 c #828695",
+"056 c #87809C",
+"057 c #878B99",
+"058 c #878B9A",
+"059 c #8A8D95",
+"060 c #9397A6",
+"061 c #9495A5",
+"062 c #9599A1",
+"063 c #969AA9",
+"064 c #9B9FAF",
+"065 c #9C9FAE",
+"066 c #9FA2B0",
+"067 c #A1A2AD",
+"068 c #A6A5B4",
+"069 c #A5A8B7",
+"070 c #A9ADBB",
+"071 c #B5AFB3",
+"072 c #AEB2C0",
+"073 c #B0B4C2",
+"074 c #B3B6C4",
+"075 c #B6BACA",
+"076 c #B9BCCB",
+"077 c #BDBFCA",
+"078 c #E6C18B",
+"079 c #ECD09C",
+"080 c #F6CC82",
+"081 c #F6CE8B",
+"082 c #FAD08F",
+"083 c #FBD391",
+"084 c #FDD39D",
+"085 c #C0C4D2",
+"086 c #C3C5D5",
+"087 c #C3C8D7",
+"088 c #C5C8D6",
+"089 c #C7CCDB",
+"090 c #CDCCD5",
+"091 c #CCCFD7",
+"092 c #D7D8E3",
+"093 c #D7DBE9",
+"094 c #D9DCEE",
+"095 c #DFE1F2",
+"096 c #DFE5F2",
+"097 c #E7D9CF",
+"098 c #E6E6EA",
+"099 c #E0E4F3",
+"100 c #E1E5F2",
+"101 c #E2E6F4",
+"102 c #E5E9F9",
+"103 c #E7EBF8",
+"104 c #E9EDFC",
+"105 c #EAEFFF",
+"106 c #EDEAFF",
+"107 c #ECEFFD",
+"108 c #EDEFFE",
+"109 c #EDF0FF",
+"110 c #EDF2FF",
+"111 c #F7F2E5",
+"112 c #FFF4E3",
+"113 c #F0F1FF",
+"114 c #F0F5FF",
+"115 c #F2F5FF",
+"116 c #F3F6FF",
+"117 c #F4F7FF",
+"118 c #F5F8FF",
+"119 c #F6F9FF",
+"120 c #F6FAFF",
+"121 c #FFFFF4",
+"122 c #F9FCFF",
+"123 c #FBFFFF",
+"124 c #FCFFFF",
+"125 c #FDFFFF",
+"126 c Gray100",
+"127 c black",
+"128 c black",
+"129 c black",
+"130 c black",
+"131 c black",
+"132 c black",
+"133 c black",
+"134 c black",
+"135 c black",
+"136 c black",
+"137 c black",
+"138 c black",
+"139 c black",
+"140 c black",
+"141 c black",
+"142 c black",
+"143 c black",
+"144 c black",
+"145 c black",
+"146 c black",
+"147 c black",
+"148 c black",
+"149 c black",
+"150 c black",
+"151 c black",
+"152 c black",
+"153 c black",
+"154 c black",
+"155 c black",
+"156 c black",
+"157 c black",
+"158 c black",
+"159 c black",
+"160 c black",
+"161 c black",
+"162 c black",
+"163 c black",
+"164 c black",
+"165 c black",
+"166 c black",
+"167 c black",
+"168 c black",
+"169 c black",
+"170 c black",
+"171 c black",
+"172 c black",
+"173 c black",
+"174 c black",
+"175 c black",
+"176 c black",
+"177 c black",
+"178 c black",
+"179 c black",
+"180 c black",
+"181 c black",
+"182 c black",
+"183 c black",
+"184 c black",
+"185 c black",
+"186 c black",
+"187 c black",
+"188 c black",
+"189 c black",
+"190 c black",
+"191 c black",
+"192 c black",
+"193 c black",
+"194 c black",
+"195 c black",
+"196 c black",
+"197 c black",
+"198 c black",
+"199 c black",
+"200 c black",
+"201 c black",
+"202 c black",
+"203 c black",
+"204 c black",
+"205 c black",
+"206 c black",
+"207 c black",
+"208 c black",
+"209 c black",
+"210 c black",
+"211 c black",
+"212 c black",
+"213 c black",
+"214 c black",
+"215 c black",
+"216 c black",
+"217 c black",
+"218 c black",
+"219 c black",
+"220 c black",
+"221 c black",
+"222 c black",
+"223 c black",
+"224 c black",
+"225 c black",
+"226 c black",
+"227 c black",
+"228 c black",
+"229 c black",
+"230 c black",
+"231 c black",
+"232 c black",
+"233 c black",
+"234 c black",
+"235 c black",
+"236 c black",
+"237 c black",
+"238 c black",
+"239 c black",
+"240 c black",
+"241 c black",
+"242 c black",
+"243 c black",
+"244 c black",
+"245 c black",
+"246 c black",
+"247 c black",
+"248 c black",
+"249 c black",
+"250 c black",
+"251 c black",
+"252 c black",
+"253 c black",
+"254 c black",
+"255 c black",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"000000000000126126000000000000126126000000000000126126000000000000126126",
+"000000000000126126000000000000126126000000000000126126000000000000126126",
+"000000000000126126000000000000126126000000000000126126000000000000126126",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"126126126126067027059053022019021091126126126126126126000000000000126126",
+"126126126068024060057008012004005009099126126126126126000000000000126126",
+"126126113006069118063015055010001001013126126126126126000000000000126126",
+"126126061000072064016062076025014000000086126126126126000000000000126126",
+"126126018000007089029048077070003000000023126126126126000000000000126126",
+"126102002000065126039030071115085000000000075126126126000000000000126126",
+"126020000026126126050028126126123074000000058126126126000000000000126126",
+"119056017108126126111098126124116104011000073126126126000000000000126126",
+"126126106126126126126126125118107101066054126126126126000000000000126126",
+"126126126117120122122120115104100093088114126126126126000000000000126126",
+"126126126117105110109107103096092090087126126126126126000000000000126126",
+"126126126112082081097095094079083080084126126126126126000000000000126126",
+"126126126033040052049078047045046036031121126126126126000000000000126126",
+"126126126037041043034032035042044038051126126126126126000000000000126126",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"000000000000126126000000000000126126000000000000126126000000000000126126",
+"000000000000126126000000000000126126000000000000126126000000000000126126",
+"000000000000126126000000000000126126000000000000126126000000000000126126",
+"000000000000000000000000000000000000000000000000000000000000000000000000"
+};


Property changes on: branches/avidemux_2.4_branch/avidemux/xpm/film3.xpm
___________________________________________________________________
Name: svn:mergeinfo
   + 

Deleted: branches/avidemux_2.4_branch/avidemux/xpm/film5.inc
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film5.inc	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film5.inc	2008-09-03 01:25:58 UTC (rev 4306)
@@ -1,101 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film5)
-#endif
-#ifdef __GNUC__
-static const guint8 film5[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film5[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\241\242\255z~\205\212"
-  "\215\225\202\205\215[_gPS[Z^f\314\317\327\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377^bq\223\227\246\207\213\231&*915D\40$2\40$4*.;\340\344\363\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\245\250\267\365\370\377\226\232\251 at BQ\202\206\225.2\77"
-  "\0\0\1\0\0\1<\77N\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\256\262\300\233\237\257HLW\225\231"
-  "\241\271\274\313uy\207>AO\0\0\0\0\0\0\303\305\325\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\265\265\265&(7\307\314\333"
-  "\305\2644\362\307C\275\277\312\251\255\273\7\12\30\0\0\0\0\0\0Z^k\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\226\225\223\347\347"
-  "\350\234\237\256\377\377\377\377\346\1\346\224\0\265\257\263\362\365"
-  "\377\300\304\322\0\0\0\0\0\0\0\0\0\266\272\312\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\344\344\343\25\24\20\377\377\377\377\377\377\377\334"
-  "a\271\225J\377\377\377\377\377\377\373\377\377\263\266\304\0\0\0\0\0"
-  "\0\207\213\232\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\317\317\31722"
-  ".\377\377\377\377\377\377\367\362\345\346\346\352\377\377\377\374\377"
-  "\377\363\366\377\351\355\374.2@\0\0\0\260\264\302\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\307\307\307\251\251\245\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\375\377\377\365\370\377\354\357\375\342\346"
-  "\364\237\242\260\201\202\222\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377b^]\366\372\377\371\374\377\371\374\377\366\372"
-  "\377\362\365\377\351\355\374\341\345\362\327\333\351\305\310\326\360"
-  "\365\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377]SS\352\357\377\355\362\377\355\360\377\354\357\375\347\353\370\337"
-  "\345\362\327\330\343\315\314\325\303\310\327\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377H\77<\372\320\217"
-  "\366\316\213\347\331\317\337\341\362\331\334\356\354\320\234\373\323"
-  "\221\366\314\202\375\323\235\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\37773/\377\346\10\377\373k\377\333H"
-  "\346\301\213\356\301C\377\3627\377\366:\377\331\0\377\245\0\377\377\364"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\273"
-  "\272\271\377\362\0\377\373\0\377\316\0\352\272V\375\312\25\377\366\0"
-  "\377\376\0\377\341\0\377\341z\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0"};
-
-

Copied: branches/avidemux_2.4_branch/avidemux/xpm/film5.xpm (from rev 4297, branches/avidemux_2.4_branch/avidemux/xpm/film5.inc)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film5.inc	2008-07-30 21:39:23 UTC (rev 4297)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film5.xpm	2008-09-03 01:25:58 UTC (rev 4306)
@@ -0,0 +1,284 @@
+/* XPM */
+static const char *xpm_film5[] = {
+"24 24 256 3",
+"000 c black",
+"001 c transparent",
+"002 c #070A18",
+"003 c #151410",
+"004 c #202432",
+"005 c #202434",
+"006 c #262837",
+"007 c #262A39",
+"008 c #2A2E3B",
+"009 c #2E323F",
+"010 c #32322E",
+"011 c #37332F",
+"012 c #2E3240",
+"013 c #313544",
+"014 c #3C3F4E",
+"015 c #3E414F",
+"016 c #483F3C",
+"017 c #404251",
+"018 c #484C57",
+"019 c #50535B",
+"020 c #5D5353",
+"021 c #5A5E66",
+"022 c #5B5F67",
+"023 c #5A5E6B",
+"024 c #5E6271",
+"025 c #625E5D",
+"026 c #757987",
+"027 c #7A7E85",
+"028 c #B9954A",
+"029 c #C5B434",
+"030 c #E69400",
+"031 c #FFA500",
+"032 c #EABA56",
+"033 c #FFCE00",
+"034 c #FDCA15",
+"035 c #FFD900",
+"036 c #FFE100",
+"037 c #FFE601",
+"038 c #FFE608",
+"039 c #FFF200",
+"040 c #FFF600",
+"041 c #FFFB00",
+"042 c #FFFE00",
+"043 c #FFF237",
+"044 c #FFF63A",
+"045 c #EEC143",
+"046 c #F2C743",
+"047 c #FFDB48",
+"048 c #FFDC61",
+"049 c #FFE17A",
+"050 c #FFFB6B",
+"051 c #82858D",
+"052 c #818292",
+"053 c #828695",
+"054 c #878B99",
+"055 c #878B9A",
+"056 c #8A8D95",
+"057 c #969593",
+"058 c #9397A6",
+"059 c #9599A1",
+"060 c #969AA9",
+"061 c #9B9FAF",
+"062 c #9C9FAE",
+"063 c #9FA2B0",
+"064 c #A1A2AD",
+"065 c #A9A9A5",
+"066 c #A5A8B7",
+"067 c #A9ADBB",
+"068 c #B5AFB3",
+"069 c Gray71",
+"070 c #BBBAB9",
+"071 c #AEB2C0",
+"072 c #B0B4C2",
+"073 c #B3B6C4",
+"074 c #B6BACA",
+"075 c #B9BCCB",
+"076 c #BDBFCA",
+"077 c #E6C18B",
+"078 c #ECD09C",
+"079 c #F6CC82",
+"080 c #F6CE8B",
+"081 c #FAD08F",
+"082 c #FBD391",
+"083 c #FDD39D",
+"084 c Gray78",
+"085 c Gray81",
+"086 c #C0C4D2",
+"087 c #C3C5D5",
+"088 c #C3C8D7",
+"089 c #C5C8D6",
+"090 c #C7CCDB",
+"091 c #CDCCD5",
+"092 c #CCCFD7",
+"093 c #D7D8E3",
+"094 c #D7DBE9",
+"095 c #D9DCEE",
+"096 c #DFE1F2",
+"097 c #DFE5F2",
+"098 c #E7D9CF",
+"099 c #E4E4E3",
+"100 c #E7E7E8",
+"101 c #E6E6EA",
+"102 c #E0E4F3",
+"103 c #E1E5F2",
+"104 c #E2E6F4",
+"105 c #E7EBF8",
+"106 c #E9EDFC",
+"107 c #EAEFFF",
+"108 c #ECEFFD",
+"109 c #EDF0FF",
+"110 c #EDF2FF",
+"111 c #F7F2E5",
+"112 c #F0F5FF",
+"113 c #F2F5FF",
+"114 c #F3F6FF",
+"115 c #F5F8FF",
+"116 c #F6FAFF",
+"117 c #FFFFF4",
+"118 c #F9FCFF",
+"119 c #FBFFFF",
+"120 c #FCFFFF",
+"121 c #FDFFFF",
+"122 c Gray100",
+"123 c black",
+"124 c black",
+"125 c black",
+"126 c black",
+"127 c black",
+"128 c black",
+"129 c black",
+"130 c black",
+"131 c black",
+"132 c black",
+"133 c black",
+"134 c black",
+"135 c black",
+"136 c black",
+"137 c black",
+"138 c black",
+"139 c black",
+"140 c black",
+"141 c black",
+"142 c black",
+"143 c black",
+"144 c black",
+"145 c black",
+"146 c black",
+"147 c black",
+"148 c black",
+"149 c black",
+"150 c black",
+"151 c black",
+"152 c black",
+"153 c black",
+"154 c black",
+"155 c black",
+"156 c black",
+"157 c black",
+"158 c black",
+"159 c black",
+"160 c black",
+"161 c black",
+"162 c black",
+"163 c black",
+"164 c black",
+"165 c black",
+"166 c black",
+"167 c black",
+"168 c black",
+"169 c black",
+"170 c black",
+"171 c black",
+"172 c black",
+"173 c black",
+"174 c black",
+"175 c black",
+"176 c black",
+"177 c black",
+"178 c black",
+"179 c black",
+"180 c black",
+"181 c black",
+"182 c black",
+"183 c black",
+"184 c black",
+"185 c black",
+"186 c black",
+"187 c black",
+"188 c black",
+"189 c black",
+"190 c black",
+"191 c black",
+"192 c black",
+"193 c black",
+"194 c black",
+"195 c black",
+"196 c black",
+"197 c black",
+"198 c black",
+"199 c black",
+"200 c black",
+"201 c black",
+"202 c black",
+"203 c black",
+"204 c black",
+"205 c black",
+"206 c black",
+"207 c black",
+"208 c black",
+"209 c black",
+"210 c black",
+"211 c black",
+"212 c black",
+"213 c black",
+"214 c black",
+"215 c black",
+"216 c black",
+"217 c black",
+"218 c black",
+"219 c black",
+"220 c black",
+"221 c black",
+"222 c black",
+"223 c black",
+"224 c black",
+"225 c black",
+"226 c black",
+"227 c black",
+"228 c black",
+"229 c black",
+"230 c black",
+"231 c black",
+"232 c black",
+"233 c black",
+"234 c black",
+"235 c black",
+"236 c black",
+"237 c black",
+"238 c black",
+"239 c black",
+"240 c black",
+"241 c black",
+"242 c black",
+"243 c black",
+"244 c black",
+"245 c black",
+"246 c black",
+"247 c black",
+"248 c black",
+"249 c black",
+"250 c black",
+"251 c black",
+"252 c black",
+"253 c black",
+"254 c black",
+"255 c black",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"122122000000000000122122000000000000122122000000000000122122000000000000",
+"122122000000000000122122000000000000122122000000000000122122000000000000",
+"122122000000000000122122000000000000122122000000000000122122000000000000",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"064027056051022019021092122122122122122122000000000000122122122122122122",
+"024058054007013004005008102122122122122122000000000000122122122122122122",
+"066115060017053009001001014122122122122122000000000000122122122122122122",
+"071061018059075026015000000087122122122122000000000000122122122122122069",
+"006090029046076067002000000023122122122122000000000000122122122122057100",
+"062122037030068113086000000000074122122122000000000000122122122122099003",
+"122122048028122122119073000000055122122122000000000000122122122122085010",
+"122122111101122120114106012000072122122122000000000000122122122122084065",
+"122122122122121115108104063052122122122122000000000000122122122122122025",
+"116118118116113106103094089112122122122122000000000000122122122122122020",
+"107110109108105097093091088122122122122122000000000000122122122122122016",
+"081080098096095078082079083122122122122122000000000000122122122122122011",
+"038050047077045043044035031117122122122122000000000000122122122122122070",
+"039041033032034040042036049122122122122122000000000000122122122122122122",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"122122000000000000122122000000000000122122000000000000122122000000000000",
+"122122000000000000122122000000000000122122000000000000122122000000000000",
+"122122000000000000122122000000000000122122000000000000122122000000000000",
+"000000000000000000000000000000000000000000000000000000000000000000000000"
+};


Property changes on: branches/avidemux_2.4_branch/avidemux/xpm/film5.xpm
___________________________________________________________________
Name: svn:mergeinfo
   + 

Deleted: branches/avidemux_2.4_branch/avidemux/xpm/film7.inc
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film7.inc	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film7.inc	2008-09-03 01:25:58 UTC (rev 4306)
@@ -1,99 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film7)
-#endif
-#ifdef __GNUC__
-static const guint8 film7[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film7[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0[_gPS[Z^f\314\317\327"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\37715D\40$2\40$4*.;\340\344\363\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\332\332\330UTP\202\206\225.2\77\0\0\1\0\0\1<\77N\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\274\273\273\242\243\235871\271\274\313u"
-  "y\207>AO\0\0\0\0\0\0\303\305\325\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\265\265\265*)%GF@\253\252\245MLH\275\277"
-  "\312\251\255\273\7\12\30\0\0\0\0\0\0Z^k\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\226\225\223\347\347\350\356\355\353\40\37\32\35"
-  "\34\26\31\30\22\265\257\263\362\365\377\300\304\322\0\0\0\0\0\0\0\0\0"
-  "\266\272\312\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\344\344\343\25\24"
-  "\20\37\36\31\16\15\7uus\377\377\377\377\377\377\377\377\377\373\377\377"
-  "\263\266\304\0\0\0\0\0\0\207\213\232\377\377\377\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\317\317\31722.gf`qplwwv\252\251\247\377\377\377\374\377\377"
-  "\363\366\377\351\355\374.2@\0\0\0\260\264\302\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\307\307\307\251\251\245\342\342\336WVP\330\325\320\370"
-  "\367\363\375\377\377\365\370\377\354\357\375\342\346\364\237\242\260"
-  "\201\202\222\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377b^]\26\27\20""31,kjdcb]\362\365\377\351\355\374\341\345\362\327"
-  "\333\351\305\310\326\360\365\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377]SS\33\32\25##\34.-'<<5\347\353\370\337\345"
-  "\362\327\330\343\315\314\325\303\310\327\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377H\77<\24\22\15\30\27"
-  "\21\36\35\27$#\35\331\334\356\354\320\234\373\323\221\366\314\202\375"
-  "\323\235\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\37773/\7\10\1\17\16\10\23\22\14\26\27\20\356\301C\377\362"
-  "7\377\366:\377\331\0\377\245\0\377\377\364\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\273\272\271ZYT\15\14\6\3\2\0\15"
-  "\14\6\375\312\25\377\366\0\377\376\0\377\341\0\377\341z\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\303\303\303nnl\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0"};
-
-

Copied: branches/avidemux_2.4_branch/avidemux/xpm/film7.xpm (from rev 4297, branches/avidemux_2.4_branch/avidemux/xpm/film7.inc)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film7.inc	2008-07-30 21:39:23 UTC (rev 4297)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film7.xpm	2008-09-03 01:25:58 UTC (rev 4306)
@@ -0,0 +1,284 @@
+/* XPM */
+static const char *xpm_film7[] = {
+"24 24 256 3",
+"000 c black",
+"001 c transparent",
+"002 c #030200",
+"003 c #070801",
+"004 c #0D0C06",
+"005 c #0E0D07",
+"006 c #0F0E08",
+"007 c #070A18",
+"008 c #13120C",
+"009 c #14120D",
+"010 c #151410",
+"011 c #161710",
+"012 c #181711",
+"013 c #191812",
+"014 c #1B1A15",
+"015 c #1D1C16",
+"016 c #1E1D17",
+"017 c #1F1E19",
+"018 c #201F1A",
+"019 c #23231C",
+"020 c #24231D",
+"021 c #2A2925",
+"022 c #2E2D27",
+"023 c #202432",
+"024 c #202434",
+"025 c #2A2E3B",
+"026 c #2E323F",
+"027 c #33312C",
+"028 c #32322E",
+"029 c #37332F",
+"030 c #383731",
+"031 c #3C3C35",
+"032 c #2E3240",
+"033 c #313544",
+"034 c #3C3F4E",
+"035 c #3E414F",
+"036 c #483F3C",
+"037 c #474640",
+"038 c #4D4C48",
+"039 c #555450",
+"040 c #575650",
+"041 c #50535B",
+"042 c #5D5353",
+"043 c #5A5954",
+"044 c #5A5E66",
+"045 c #5B5F67",
+"046 c #5A5E6B",
+"047 c #625E5D",
+"048 c #63625D",
+"049 c #676660",
+"050 c #6B6A64",
+"051 c #6E6E6C",
+"052 c #71706C",
+"053 c #757573",
+"054 c #777776",
+"055 c #757987",
+"056 c #FFA500",
+"057 c #FDCA15",
+"058 c #FFD900",
+"059 c #FFE100",
+"060 c #FFF600",
+"061 c #FFFE00",
+"062 c #FFF237",
+"063 c #FFF63A",
+"064 c #EEC143",
+"065 c #FFE17A",
+"066 c #818292",
+"067 c #828695",
+"068 c #878B9A",
+"069 c #969593",
+"070 c #9FA2B0",
+"071 c #A2A39D",
+"072 c #A9A9A5",
+"073 c #AAA9A7",
+"074 c #ABAAA5",
+"075 c #A9ADBB",
+"076 c #B5AFB3",
+"077 c Gray71",
+"078 c #BBBAB9",
+"079 c #BCBBBB",
+"080 c #B0B4C2",
+"081 c #B3B6C4",
+"082 c #B6BACA",
+"083 c #B9BCCB",
+"084 c #BDBFCA",
+"085 c #ECD09C",
+"086 c #F6CC82",
+"087 c #FBD391",
+"088 c #FDD39D",
+"089 c #C3C3C3",
+"090 c Gray78",
+"091 c Gray81",
+"092 c #C0C4D2",
+"093 c #C3C5D5",
+"094 c #C3C8D7",
+"095 c #C5C8D6",
+"096 c #CDCCD5",
+"097 c #CCCFD7",
+"098 c #D8D5D0",
+"099 c #DADAD8",
+"100 c #D7D8E3",
+"101 c #D7DBE9",
+"102 c #D9DCEE",
+"103 c #DFE5F2",
+"104 c #E2E2DE",
+"105 c #E4E4E3",
+"106 c #E7E7E8",
+"107 c #EEEDEB",
+"108 c #E0E4F3",
+"109 c #E1E5F2",
+"110 c #E2E6F4",
+"111 c #E7EBF8",
+"112 c #E9EDFC",
+"113 c #ECEFFD",
+"114 c #F0F5FF",
+"115 c #F2F5FF",
+"116 c #F3F6FF",
+"117 c #F5F8FF",
+"118 c #F8F7F3",
+"119 c #FFFFF4",
+"120 c #FBFFFF",
+"121 c #FCFFFF",
+"122 c #FDFFFF",
+"123 c Gray100",
+"124 c black",
+"125 c black",
+"126 c black",
+"127 c black",
+"128 c black",
+"129 c black",
+"130 c black",
+"131 c black",
+"132 c black",
+"133 c black",
+"134 c black",
+"135 c black",
+"136 c black",
+"137 c black",
+"138 c black",
+"139 c black",
+"140 c black",
+"141 c black",
+"142 c black",
+"143 c black",
+"144 c black",
+"145 c black",
+"146 c black",
+"147 c black",
+"148 c black",
+"149 c black",
+"150 c black",
+"151 c black",
+"152 c black",
+"153 c black",
+"154 c black",
+"155 c black",
+"156 c black",
+"157 c black",
+"158 c black",
+"159 c black",
+"160 c black",
+"161 c black",
+"162 c black",
+"163 c black",
+"164 c black",
+"165 c black",
+"166 c black",
+"167 c black",
+"168 c black",
+"169 c black",
+"170 c black",
+"171 c black",
+"172 c black",
+"173 c black",
+"174 c black",
+"175 c black",
+"176 c black",
+"177 c black",
+"178 c black",
+"179 c black",
+"180 c black",
+"181 c black",
+"182 c black",
+"183 c black",
+"184 c black",
+"185 c black",
+"186 c black",
+"187 c black",
+"188 c black",
+"189 c black",
+"190 c black",
+"191 c black",
+"192 c black",
+"193 c black",
+"194 c black",
+"195 c black",
+"196 c black",
+"197 c black",
+"198 c black",
+"199 c black",
+"200 c black",
+"201 c black",
+"202 c black",
+"203 c black",
+"204 c black",
+"205 c black",
+"206 c black",
+"207 c black",
+"208 c black",
+"209 c black",
+"210 c black",
+"211 c black",
+"212 c black",
+"213 c black",
+"214 c black",
+"215 c black",
+"216 c black",
+"217 c black",
+"218 c black",
+"219 c black",
+"220 c black",
+"221 c black",
+"222 c black",
+"223 c black",
+"224 c black",
+"225 c black",
+"226 c black",
+"227 c black",
+"228 c black",
+"229 c black",
+"230 c black",
+"231 c black",
+"232 c black",
+"233 c black",
+"234 c black",
+"235 c black",
+"236 c black",
+"237 c black",
+"238 c black",
+"239 c black",
+"240 c black",
+"241 c black",
+"242 c black",
+"243 c black",
+"244 c black",
+"245 c black",
+"246 c black",
+"247 c black",
+"248 c black",
+"249 c black",
+"250 c black",
+"251 c black",
+"252 c black",
+"253 c black",
+"254 c black",
+"255 c black",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"000000123123000000000000123123000000000000123123000000000000123123000000",
+"000000123123000000000000123123000000000000123123000000000000123123000000",
+"000000123123000000000000123123000000000000123123000000000000123123000000",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"045041044097123123123123123123000000000000123123123123123123123123123123",
+"033023024025108123123123123123000000000000123123123123123123123123099039",
+"067026001001034123123123123123000000000000123123123123123123123079071030",
+"083055035000000093123123123123000000000000123123123123123077021037074038",
+"084075007000000046123123123123000000000000123123123123069106107018015013",
+"076115092000000000082123123123000000000000123123123123105010017005053123",
+"123123120081000000068123123123000000000000123123123123091028049052054073",
+"123121116112032000080123123123000000000000123123123123090072104040098118",
+"122117113110070066123123123123000000000000123123123123123047011027050048",
+"115112109101095114123123123123000000000000123123123123123042014019022031",
+"111103100096094123123123123123000000000000123123123123123036009012016020",
+"102085087086088123123123123123000000000000123123123123123029003006008011",
+"064062063058056119123123123123000000000000123123123123123078043004002004",
+"057060061059065123123123123123000000000000123123123123123123123123089051",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"000000123123000000000000123123000000000000123123000000000000123123000000",
+"000000123123000000000000123123000000000000123123000000000000123123000000",
+"000000123123000000000000123123000000000000123123000000000000123123000000",
+"000000000000000000000000000000000000000000000000000000000000000000000000"
+};


Property changes on: branches/avidemux_2.4_branch/avidemux/xpm/film7.xpm
___________________________________________________________________
Name: svn:mergeinfo
   + 

Deleted: branches/avidemux_2.4_branch/avidemux/xpm/film9.inc
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film9.inc	2008-09-03 01:05:02 UTC (rev 4305)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film9.inc	2008-09-03 01:25:58 UTC (rev 4306)
@@ -1,97 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film9)
-#endif
-#ifdef __GNUC__
-static const guint8 film9[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film9[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\233\233"
-  "\230\34\33\26\32\31\24$\"\34\340\344\363\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\332\332\330UTP\377\377\377\353\351\343LKF%$\36<\77N"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\274\273\273\242\243\235871\40\36\31"
-  "ONI##\35\24\23\15\0\0\0\303\305\325\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\265\265\265*)%GF@\253\252\245MLH##\35\40"
-  "\40\32rro\352\351\352\0\0\0Z^k\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\226\225\223\347\347\350\356\355\353\40\37\32\35\34\26\31"
-  "\30\22||x\376\377\377\377\377\377\377\377\377\0\0\0\0\0\0\266\272\312"
-  "\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\344\344\343\25\24\20\37\36\31"
-  "\16\15\7uus\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\207\213\232\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\317"
-  "\317\31722.gf`qplwwv\252\251\247\202\201\177\200}}\246\243\242\215\214"
-  "\211.2@\0\0\0\260\264\302\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\307"
-  "\307\307\251\251\245\342\342\336WVP\330\325\320\370\367\363\201\201z"
-  "\324\323\316\332\330\324.-'\237\242\260\201\202\222\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377b^]\26\27\20""31,kjdcb]d"
-  "b^\266\265\260SRN21+\305\310\326\360\365\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377]SS\33\32\25##\34.-'<<5:942/"
-  "+('\"$#\37\303\310\327\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377H\77<\24\22\15\30\27\21\36\35\27$#\35%%\37"
-  "#\"\34%#\37\33\32\25\375\323\235\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\37773/\7\10\1\17\16\10\23\22\14"
-  "\26\27\20\24\23\15\30\27\21\25\23\17\17\15\10\377\245\0\377\377\364\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\273\272"
-  "\271ZYT\15\14\6\3\2\0\15\14\6\15\14\6\13\12\5\20\17\12\2\1\0\377\341"
-  "z\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\303\303\303nnl\22\21\13"
-  "\1\0\0\7\6\1\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"};
-
-

Copied: branches/avidemux_2.4_branch/avidemux/xpm/film9.xpm (from rev 4297, branches/avidemux_2.4_branch/avidemux/xpm/film9.inc)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/xpm/film9.inc	2008-07-30 21:39:23 UTC (rev 4297)
+++ branches/avidemux_2.4_branch/avidemux/xpm/film9.xpm	2008-09-03 01:25:58 UTC (rev 4306)
@@ -0,0 +1,284 @@
+/* XPM */
+static const char *xpm_film9[] = {
+"24 24 256 3",
+"000 c black",
+"001 c #010000",
+"002 c #020100",
+"003 c #030200",
+"004 c #070601",
+"005 c #070801",
+"006 c #0B0A05",
+"007 c #0D0C06",
+"008 c #0E0D07",
+"009 c #0F0D08",
+"010 c #0F0E08",
+"011 c #100F0A",
+"012 c #12110B",
+"013 c #13120C",
+"014 c #14120D",
+"015 c #14130D",
+"016 c #15130F",
+"017 c #151410",
+"018 c #161710",
+"019 c #181711",
+"020 c #191812",
+"021 c #1A1914",
+"022 c #1B1A15",
+"023 c #1C1B16",
+"024 c #1D1C16",
+"025 c #1E1D17",
+"026 c #1F1E19",
+"027 c #201E19",
+"028 c #201F1A",
+"029 c #20201A",
+"030 c #23221C",
+"031 c #23231C",
+"032 c #23231D",
+"033 c #24221C",
+"034 c #24231D",
+"035 c #24231F",
+"036 c #25231F",
+"037 c #25241E",
+"038 c #25251F",
+"039 c #282722",
+"040 c #2A2925",
+"041 c #2E2D27",
+"042 c #322F2B",
+"043 c #32312B",
+"044 c #33312C",
+"045 c #32322E",
+"046 c #37332F",
+"047 c #383731",
+"048 c #3A3934",
+"049 c #3C3C35",
+"050 c #2E3240",
+"051 c #3C3F4E",
+"052 c #483F3C",
+"053 c #474640",
+"054 c #4C4B46",
+"055 c #4D4C48",
+"056 c #4F4E49",
+"057 c #53524E",
+"058 c #555450",
+"059 c #575650",
+"060 c #5D5353",
+"061 c #5A5954",
+"062 c #5A5E6B",
+"063 c #625E5D",
+"064 c #63625D",
+"065 c #64625E",
+"066 c #676660",
+"067 c #6B6A64",
+"068 c #6E6E6C",
+"069 c #71706C",
+"070 c #72726F",
+"071 c #757573",
+"072 c #777776",
+"073 c #7C7C78",
+"074 c #807D7D",
+"075 c #81817A",
+"076 c #82817F",
+"077 c #FFA500",
+"078 c #FFE17A",
+"079 c #8D8C89",
+"080 c #818292",
+"081 c #878B9A",
+"082 c #969593",
+"083 c #9B9B98",
+"084 c #9FA2B0",
+"085 c #A2A39D",
+"086 c #A6A3A2",
+"087 c #A9A9A5",
+"088 c #AAA9A7",
+"089 c #ABAAA5",
+"090 c #B6B5B0",
+"091 c Gray71",
+"092 c #BBBAB9",
+"093 c #BCBBBB",
+"094 c #B0B4C2",
+"095 c #B6BACA",
+"096 c #FDD39D",
+"097 c #C3C3C3",
+"098 c Gray78",
+"099 c Gray81",
+"100 c #C3C5D5",
+"101 c #C3C8D7",
+"102 c #C5C8D6",
+"103 c #D4D3CE",
+"104 c #D8D5D0",
+"105 c #DAD8D4",
+"106 c #DADAD8",
+"107 c #E2E2DE",
+"108 c #E4E4E3",
+"109 c #E7E7E8",
+"110 c #EBE9E3",
+"111 c #EAE9EA",
+"112 c #EEEDEB",
+"113 c #E0E4F3",
+"114 c #F0F5FF",
+"115 c #F8F7F3",
+"116 c #FFFFF4",
+"117 c #FEFFFF",
+"118 c Gray100",
+"119 c black",
+"120 c black",
+"121 c black",
+"122 c black",
+"123 c black",
+"124 c black",
+"125 c black",
+"126 c black",
+"127 c black",
+"128 c black",
+"129 c black",
+"130 c black",
+"131 c black",
+"132 c black",
+"133 c black",
+"134 c black",
+"135 c black",
+"136 c black",
+"137 c black",
+"138 c black",
+"139 c black",
+"140 c black",
+"141 c black",
+"142 c black",
+"143 c black",
+"144 c black",
+"145 c black",
+"146 c black",
+"147 c black",
+"148 c black",
+"149 c black",
+"150 c black",
+"151 c black",
+"152 c black",
+"153 c black",
+"154 c black",
+"155 c black",
+"156 c black",
+"157 c black",
+"158 c black",
+"159 c black",
+"160 c black",
+"161 c black",
+"162 c black",
+"163 c black",
+"164 c black",
+"165 c black",
+"166 c black",
+"167 c black",
+"168 c black",
+"169 c black",
+"170 c black",
+"171 c black",
+"172 c black",
+"173 c black",
+"174 c black",
+"175 c black",
+"176 c black",
+"177 c black",
+"178 c black",
+"179 c black",
+"180 c black",
+"181 c black",
+"182 c black",
+"183 c black",
+"184 c black",
+"185 c black",
+"186 c black",
+"187 c black",
+"188 c black",
+"189 c black",
+"190 c black",
+"191 c black",
+"192 c black",
+"193 c black",
+"194 c black",
+"195 c black",
+"196 c black",
+"197 c black",
+"198 c black",
+"199 c black",
+"200 c black",
+"201 c black",
+"202 c black",
+"203 c black",
+"204 c black",
+"205 c black",
+"206 c black",
+"207 c black",
+"208 c black",
+"209 c black",
+"210 c black",
+"211 c black",
+"212 c black",
+"213 c black",
+"214 c black",
+"215 c black",
+"216 c black",
+"217 c black",
+"218 c black",
+"219 c black",
+"220 c black",
+"221 c black",
+"222 c black",
+"223 c black",
+"224 c black",
+"225 c black",
+"226 c black",
+"227 c black",
+"228 c black",
+"229 c black",
+"230 c black",
+"231 c black",
+"232 c black",
+"233 c black",
+"234 c black",
+"235 c black",
+"236 c black",
+"237 c black",
+"238 c black",
+"239 c black",
+"240 c black",
+"241 c black",
+"242 c black",
+"243 c black",
+"244 c black",
+"245 c black",
+"246 c black",
+"247 c black",
+"248 c black",
+"249 c black",
+"250 c black",
+"251 c black",
+"252 c black",
+"253 c black",
+"254 c black",
+"255 c black",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"000000000000118118000000000000118118000000000000118118000000000000118118",
+"000000000000118118000000000000118118000000000000118118000000000000118118",
+"000000000000118118000000000000118118000000000000118118000000000000118118",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"118118118118118118000000000000118118118118118118118118118118083023021033",
+"113118118118118118000000000000118118118118118118118118106058118110054037",
+"051118118118118118000000000000118118118118118118118093085047027056032015",
+"000100118118118118000000000000118118118118118091040053089055032029070111",
+"000062118118118118000000000000118118118118082109112028024020073117118118",
+"000000095118118118000000000000118118118118108017026008071118118118118118",
+"000000081118118118000000000000118118118118099045066069072088076074086079",
+"050000094118118118000000000000118118118118098087107059104115075103105041",
+"084080118118118118000000000000118118118118118063018044067064065090057043",
+"102114118118118118000000000000118118118118118060022031041049048042039035",
+"101118118118118118000000000000118118118118118052014019025034038030036022",
+"096118118118118118000000000000118118118118118046005010013018015019016009",
+"077116118118118118000000000000118118118118118092061007003007007006011002",
+"078118118118118118000000000000118118118118118118118118097068012001004000",
+"000000000000000000000000000000000000000000000000000000000000000000000000",
+"000000000000118118000000000000118118000000000000118118000000000000118118",
+"000000000000118118000000000000118118000000000000118118000000000000118118",
+"000000000000118118000000000000118118000000000000118118000000000000118118",
+"000000000000000000000000000000000000000000000000000000000000000000000000"
+};


Property changes on: branches/avidemux_2.4_branch/avidemux/xpm/film9.xpm
___________________________________________________________________
Name: svn:mergeinfo
   + 



From gruntster at mail.berlios.de  Fri Sep  5 02:39:01 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Fri, 5 Sep 2008 02:39:01 +0200
Subject: [Avidemux-svn-commit] r4307 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4:
	ADM_dialog ADM_gui
Message-ID: <200809050039.m850d1OJ020215@sheep.berlios.de>

Author: gruntster
Date: 2008-09-05 02:38:52 +0200 (Fri, 05 Sep 2008)
New Revision: 4307

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_tray.cpp
Log:
[Qt] system tray tweaks

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp	2008-09-03 01:25:58 UTC (rev 4306)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp	2008-09-05 00:38:52 UTC (rev 4307)
@@ -31,6 +31,7 @@
 #include "ADM_gui/ADM_qtray.h"
 
 extern void UI_iconify(void);
+extern void UI_deiconify(void);
 extern void UI_purge(void);
 static int stopReq=0;
 class encodingWindow : public QDialog
@@ -38,8 +39,37 @@
      Q_OBJECT
 
  public:
-     encodingWindow();
+     encodingWindow(QDialog *parent, bool useTray);
      Ui_encodingDialog ui;
+
+ protected:
+	 void changeEvent(QEvent *event)
+	 {
+		 if (event->type() == QEvent::WindowStateChange)
+		 {
+			 QDialog *parent = (QDialog*)this->parent();
+
+			 if (isMinimized())
+			 {
+				 if (useTray)
+				 {
+					 hide();
+					 UI_iconify();
+				 }
+				 else
+					 parent->showMinimized();
+			 }
+			 else
+			 {
+				 showNormal();
+				 parent->showNormal();
+			 }
+		 }
+	 };
+
+ private:
+	 bool useTray;
+
  public slots:
 	void buttonPressed(void ) { printf("StopReq\n");stopReq=1;}
 
@@ -74,15 +104,12 @@
 		}
 	#endif
 	}
-
-
- private slots:
- private:
 };
 
 
-encodingWindow::encodingWindow()     : QDialog()
+encodingWindow::encodingWindow(QDialog *parent, bool useTray) : QDialog(parent, Qt::WindowTitleHint | Qt::WindowSystemMenuHint | Qt::WindowMinimizeButtonHint)
  {
+	this->useTray = useTray;
 	ui.setupUi(this);
 
 #ifndef ADM_WIN32
@@ -120,6 +147,7 @@
 /*************************************/
 static char string[80];
 static encodingWindow *window=NULL;
+extern QDialog *QuiMainWindows;
 DIA_encoding::DIA_encoding( uint32_t fps1000 )
 {
 	uint32_t useTray = 0;
@@ -134,7 +162,7 @@
         _audioSize=0;
         _videoSize=0;
         _current=0;
-        window=new encodingWindow();
+        window=new encodingWindow(QuiMainWindows, useTray);
         setFps(fps1000);
 		_originalPriority=getpriority(PRIO_PROCESS, 0);
         _lastTime=0;
@@ -143,18 +171,16 @@
         _total=1000;
 
          window->setModal(TRUE);
+		 window->show();
 
 		 if (useTray)
 		 {
-			 window->showMinimized();
+			 window->hide();
 			 UI_iconify();
 			 tray = new ADM_qtray(window);
 		 }
 		 else
-		 {
-			 window->show();
 			 tray = NULL;
-		 }
 }
 /**
     \fn setFps(uint32_t fps)
@@ -185,6 +211,7 @@
 
 	if(window) delete window;
 	window=NULL;
+	UI_deiconify();
 
 	if (shutdownRequired && !stopReq)
 	{
@@ -404,7 +431,7 @@
             WIDGET(progressBar)->setValue((int)f);
 
 			if(tray)
-				tray->setPercent((int)(f*100.));
+				tray->setPercent((int)f);
           
         _totalSize=_audioSize+_videoSize;
         setSize(_totalSize>>20);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.cpp	2008-09-03 01:25:58 UTC (rev 4306)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.cpp	2008-09-05 00:38:52 UTC (rev 4307)
@@ -26,7 +26,6 @@
 #include "default.h"
 #include "ADM_qtray.h"
 
-#define guint8 char
 #include "xpm/film1.xpm"
 #include "xpm/film3.xpm"
 #include "xpm/film5.xpm"
@@ -70,6 +69,7 @@
 
 	openAction = new QAction(QT_TR_NOOP("Open Avidemux"), (QObject*)parent);
 	QObject::connect(openAction, SIGNAL(triggered()), signalReceiver, SLOT(restore()));
+	QObject::connect(trayIcon, SIGNAL(activated(QSystemTrayIcon::ActivationReason)), signalReceiver, SLOT(iconActivated(QSystemTrayIcon::ActivationReason)));
 
 	trayIconMenu = new QMenu((QWidget*)parent);
 	trayIconMenu->addAction(openAction);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.h	2008-09-03 01:25:58 UTC (rev 4306)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.h	2008-09-05 00:38:52 UTC (rev 4307)
@@ -21,6 +21,7 @@
 
 #include <QtGui/QAction>
 #include <QtGui/QIcon>
+#include <QtGui/QSystemTrayIcon>
 
 #include "ADM_tray.h"
 
@@ -30,12 +31,10 @@
 
 public:
 	QDialog *parent;
-/*
-public:
-	void setParent(QDialog *parent);
-*/
+
 public slots:
 	void restore(void);
+	void iconActivated(QSystemTrayIcon::ActivationReason reason);
 };
 
 class ADM_qtray : public ADM_tray

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2008-09-03 01:25:58 UTC (rev 4306)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2008-09-05 00:38:52 UTC (rev 4307)
@@ -822,7 +822,7 @@
 
 void UI_iconify( void )
 {
-	QuiMainWindows->showMinimized();
+	QuiMainWindows->hide();
 }
 void UI_deiconify( void )
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_tray.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_tray.cpp	2008-09-03 01:25:58 UTC (rev 4306)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_tray.cpp	2008-09-05 00:38:52 UTC (rev 4307)
@@ -1,4 +1,5 @@
 #include <QtGui/QDialog>
+#include <QtGui/QSystemTrayIcon>
 
 extern void UI_deiconify(void);
 
@@ -15,4 +16,10 @@
 		UI_deiconify();
 		parent->showNormal();
 	};
-};
\ No newline at end of file
+
+	void iconActivated(QSystemTrayIcon::ActivationReason reason)
+	{
+		if (reason == QSystemTrayIcon::DoubleClick)
+			restore();
+	};
+};



From gruntster at mail.berlios.de  Fri Sep  5 19:01:15 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Fri, 5 Sep 2008 19:01:15 +0200
Subject: [Avidemux-svn-commit] r4308 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200809051701.m85H1FTr001221@sheep.berlios.de>

Author: gruntster
Date: 2008-09-05 19:01:07 +0200 (Fri, 05 Sep 2008)
New Revision: 4308

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui
Log:
[Crop] fix typo and tweak Crop dialog for Qt UI

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui	2008-09-05 00:38:52 UTC (rev 4307)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui	2008-09-05 17:01:07 UTC (rev 4308)
@@ -5,72 +5,156 @@
    <rect>
     <x>0</x>
     <y>0</y>
-    <width>400</width>
+    <width>348</width>
     <height>300</height>
    </rect>
   </property>
   <property name="windowTitle" >
-   <string>Dialog</string>
+   <string>Crop</string>
   </property>
-  <layout class="QGridLayout" >
+  <layout class="QVBoxLayout" >
    <property name="margin" >
     <number>9</number>
    </property>
    <property name="spacing" >
     <number>6</number>
    </property>
-   <item row="2" column="0" colspan="5" >
+   <item>
+    <layout class="QGridLayout" >
+     <property name="margin" >
+      <number>0</number>
+     </property>
+     <property name="spacing" >
+      <number>6</number>
+     </property>
+     <item row="0" column="3" >
+      <widget class="QLabel" name="label_2" >
+       <property name="text" >
+        <string>Right:</string>
+       </property>
+      </widget>
+     </item>
+     <item row="1" column="0" >
+      <widget class="QLabel" name="label_4" >
+       <property name="text" >
+        <string>Top:</string>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="4" >
+      <widget class="QSpinBox" name="spinBoxRight" />
+     </item>
+     <item row="0" column="2" >
+      <spacer>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+       <property name="sizeType" >
+        <enum>QSizePolicy::Fixed</enum>
+       </property>
+       <property name="sizeHint" >
+        <size>
+         <width>26</width>
+         <height>20</height>
+        </size>
+       </property>
+      </spacer>
+     </item>
+     <item row="1" column="5" >
+      <spacer>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+       <property name="sizeHint" >
+        <size>
+         <width>40</width>
+         <height>20</height>
+        </size>
+       </property>
+      </spacer>
+     </item>
+     <item row="1" column="6" >
+      <widget class="QPushButton" name="pushButtonReset" >
+       <property name="text" >
+        <string>Reset</string>
+       </property>
+      </widget>
+     </item>
+     <item row="1" column="1" >
+      <widget class="QSpinBox" name="spinBoxTop" />
+     </item>
+     <item row="1" column="4" >
+      <widget class="QSpinBox" name="spinBoxBottom" />
+     </item>
+     <item row="1" column="3" >
+      <widget class="QLabel" name="label_3" >
+       <property name="text" >
+        <string>Bottom:</string>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="0" >
+      <widget class="QLabel" name="label" >
+       <property name="text" >
+        <string>Left:</string>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="5" >
+      <spacer>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+       <property name="sizeType" >
+        <enum>QSizePolicy::MinimumExpanding</enum>
+       </property>
+       <property name="sizeHint" >
+        <size>
+         <width>40</width>
+         <height>20</height>
+        </size>
+       </property>
+      </spacer>
+     </item>
+     <item row="0" column="1" >
+      <widget class="QSpinBox" name="spinBoxLeft" />
+     </item>
+     <item row="0" column="6" >
+      <widget class="QPushButton" name="pushButtonAutoCrop" >
+       <property name="text" >
+        <string>Auto Crop</string>
+       </property>
+      </widget>
+     </item>
+     <item row="1" column="2" >
+      <spacer>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+       <property name="sizeType" >
+        <enum>QSizePolicy::Fixed</enum>
+       </property>
+       <property name="sizeHint" >
+        <size>
+         <width>26</width>
+         <height>20</height>
+        </size>
+       </property>
+      </spacer>
+     </item>
+    </layout>
+   </item>
+   <item>
     <widget class="QSlider" name="horizontalSlider" >
      <property name="orientation" >
       <enum>Qt::Horizontal</enum>
      </property>
     </widget>
    </item>
-   <item row="3" column="0" colspan="5" >
+   <item>
     <widget class="QGraphicsView" name="graphicsView" />
    </item>
-   <item row="1" column="4" >
-    <widget class="QPushButton" name="pushButtonReset" >
-     <property name="text" >
-      <string>Reset</string>
-     </property>
-    </widget>
-   </item>
-   <item row="0" column="0" >
-    <widget class="QLabel" name="label" >
-     <property name="text" >
-      <string>Left:</string>
-     </property>
-    </widget>
-   </item>
-   <item row="1" column="0" >
-    <widget class="QLabel" name="label_4" >
-     <property name="text" >
-      <string>Top:</string>
-     </property>
-    </widget>
-   </item>
-   <item row="1" column="2" >
-    <widget class="QLabel" name="label_3" >
-     <property name="text" >
-      <string>Bottom:</string>
-     </property>
-    </widget>
-   </item>
-   <item row="1" column="3" >
-    <widget class="QSpinBox" name="spinBoxBottom" />
-   </item>
-   <item row="0" column="2" >
-    <widget class="QLabel" name="label_2" >
-     <property name="text" >
-      <string>Right:</string>
-     </property>
-    </widget>
-   </item>
-   <item row="0" column="3" >
-    <widget class="QSpinBox" name="spinBoxRight" />
-   </item>
-   <item row="4" column="0" colspan="5" >
+   <item>
     <widget class="QDialogButtonBox" name="buttonBox" >
      <property name="orientation" >
       <enum>Qt::Horizontal</enum>
@@ -80,21 +164,19 @@
      </property>
     </widget>
    </item>
-   <item row="0" column="1" >
-    <widget class="QSpinBox" name="spinBoxLeft" />
-   </item>
-   <item row="1" column="1" >
-    <widget class="QSpinBox" name="spinBoxTop" />
-   </item>
-   <item row="0" column="4" >
-    <widget class="QPushButton" name="pushButtonAutoCrop" >
-     <property name="text" >
-      <string>AutCrop</string>
-     </property>
-    </widget>
-   </item>
   </layout>
  </widget>
+ <tabstops>
+  <tabstop>spinBoxLeft</tabstop>
+  <tabstop>spinBoxRight</tabstop>
+  <tabstop>spinBoxTop</tabstop>
+  <tabstop>spinBoxBottom</tabstop>
+  <tabstop>pushButtonAutoCrop</tabstop>
+  <tabstop>pushButtonReset</tabstop>
+  <tabstop>horizontalSlider</tabstop>
+  <tabstop>graphicsView</tabstop>
+  <tabstop>buttonBox</tabstop>
+ </tabstops>
  <resources/>
  <connections>
   <connection>



From gruntster at mail.berlios.de  Sat Sep  6 16:25:55 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 6 Sep 2008 16:25:55 +0200
Subject: [Avidemux-svn-commit] r4309 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4:
	ADM_filters ADM_gui
Message-ID: <200809061425.m86EPt10012476@sheep.berlios.de>

Author: gruntster
Date: 2008-09-06 16:25:47 +0200 (Sat, 06 Sep 2008)
New Revision: 4309

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/seekablePreview.ui
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
Log:
[Qt] filter preview window

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-05 17:01:07 UTC (rev 4308)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-06 14:25:47 UTC (rev 4309)
@@ -69,6 +69,7 @@
 extern const char  *filterGetNameFromTag(VF_FILTERS tag);
 extern ADM_Composer *video_body;
 extern AVDMGenericVideoStream *filterCreateFromTag(VF_FILTERS tag,CONFcouple *conf, AVDMGenericVideoStream *in) ;
+extern uint32_t curframe;
 /*******************************************************/
 class filtermainWindow : public QDialog
 {
@@ -102,7 +103,7 @@
         void allDoubleClick( QListWidgetItem  *item);
 	void filterFamilyClick(QListWidgetItem *item);
 	void filterFamilyClick(int  item);
- private slots:
+		void preview(bool b);
  private:
         int startFilter[NB_TREE];
         int filterSize[NB_TREE];
@@ -110,6 +111,24 @@
         void displayFamily(uint32_t family);
         void setupFilters(void);
 };
+
+void filtermainWindow::preview(bool b)
+{
+	QListWidgetItem *item = activeList->currentItem();
+
+	if (!item)
+	{
+		printf("No selection\n");
+		return;
+	}
+
+	int itag = item->type();
+	ADM_assert(itag > ACTIVE_FILTER_BASE);
+	itag -= ACTIVE_FILTER_BASE;
+
+	DIA_filterPreview(QT_TR_NOOP("Preview"), videofilters[itag].filter, curframe);
+}
+
 /**
         \fn     void setSelected(int sel)
         \brief  Set the sel line as selected in the active filter window
@@ -155,8 +174,8 @@
         videofilters[nb_active_filter].tag = tag;
         videofilters[nb_active_filter].conf = coup;
         nb_active_filter++;
-        setSelected(nb_active_filter);
-        buildActiveFilterList();
+		buildActiveFilterList();
+        setSelected(nb_active_filter - 1);
    }
 
 }
@@ -217,6 +236,7 @@
     call(); \
     getFirstVideoFilter (); \
     buildActiveFilterList ();  \
+	setSelected(nb_active_filter - 1); \
 }
 MAKE_BUTTON(DVD,setDVD)
 MAKE_BUTTON(VCD,setVCD)
@@ -252,6 +272,7 @@
         videofilters[itag].conf = couple;
         getFirstVideoFilter ();
         buildActiveFilterList ();
+		setSelected(nb_active_filter - 1);
 }
 /**
         \fn     up( bool b)
@@ -426,7 +447,8 @@
             videofilters[itag].conf = conf;
             videofilters[itag].tag = VF_PARTIAL;
             getFirstVideoFilter ();
-            buildActiveFilterList ();   
+            buildActiveFilterList ();
+			setSelected(nb_active_filter - 1);
         }
         else delete replace;
 }
@@ -528,9 +550,11 @@
     connect(ui.pushButtonVCD, SIGNAL(clicked(bool)), this, SLOT(VCD(bool)));
     connect(ui.pushButtonSVCD, SIGNAL(clicked(bool)), this, SLOT(SVCD(bool)));
     connect(ui.pushButtonHalfDVD, SIGNAL(clicked(bool)), this, SLOT(halfD1(bool)));
-   
+	connect(ui.pushButtonPreview, SIGNAL(clicked(bool)), this, SLOT(preview(bool)));
+
     displayFamily(0);
-    buildActiveFilterList(); 
+    buildActiveFilterList();
+	setSelected(nb_active_filter - 1);
  }
 /*******************************************************/
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2008-09-05 17:01:07 UTC (rev 4308)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2008-09-06 14:25:47 UTC (rev 4309)
@@ -8,15 +8,16 @@
 avidemux_rsc.cpp  file_qt4.cpp  gui_none.cpp  ADM_qslider.cpp  ADM_qtray.cpp
 )
 
-
 SET(${ADM_LIB}_T
 tray
 preview
 )
 
 SET(${ADM_LIB}_Q
+seekablePreview
 gui2
 )
+
 Q_RCC(avidemux)
 
 include(adm_qt4)

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.cpp	2008-09-05 17:01:07 UTC (rev 4308)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.cpp	2008-09-06 14:25:47 UTC (rev 4309)
@@ -0,0 +1,75 @@
+/***************************************************************************
+                           Q_seekablePreview.cpp
+                           ---------------------
+
+    begin                : Fri Sep 5 2008
+    copyright            : (C) 2008 by gruntster
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include "ui_seekablePreview.h"
+
+#include "default.h"
+#include "ADM_assert.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "DIA_flyDialog.h"
+#include "DIA_flyPreview.h"
+#include "../ADM_dialog/DIA_flyDialogQt4.h"
+
+class Ui_seekablePreviewWindow : public QDialog
+{
+	Q_OBJECT
+
+public:
+	ADM_QCanvas *canvas;
+	flySeekablePreview *seekablePreview;
+	Ui_seekablePreviewDialog ui;
+	Ui_seekablePreviewWindow(AVDMGenericVideoStream *videoStream, uint32_t defaultFrame = 0);
+	~Ui_seekablePreviewWindow();
+
+public slots:
+	void closeWindow();
+	void sliderChanged(int value);
+};
+
+Ui_seekablePreviewWindow::Ui_seekablePreviewWindow(AVDMGenericVideoStream *videoStream, uint32_t defaultFrame) : QDialog()
+{
+	ui.setupUi(this);
+
+	uint32_t canvasWidth = videoStream->getInfo()->width;
+	uint32_t canvasHeight = videoStream->getInfo()->height;
+
+	canvas = new ADM_QCanvas(ui.frame, canvasWidth, canvasHeight);
+	seekablePreview = new flySeekablePreview(canvasWidth, canvasHeight, videoStream, canvas, ui.horizontalSlider);
+
+	seekablePreview->process();
+	seekablePreview->sliderSet(defaultFrame);
+	seekablePreview->sliderChanged();
+
+	connect(ui.okButton, SIGNAL(clicked(bool)), this, SLOT(closeWindow()));
+	connect(ui.horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(sliderChanged(int)));
+}
+
+Ui_seekablePreviewWindow::~Ui_seekablePreviewWindow()
+{
+	delete seekablePreview;
+	delete canvas;
+}
+
+void Ui_seekablePreviewWindow::closeWindow()
+{
+	close();
+}
+
+void Ui_seekablePreviewWindow::sliderChanged(int value)
+{
+	seekablePreview->sliderChanged();
+}
\ No newline at end of file

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.h	2008-09-05 17:01:07 UTC (rev 4308)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.h	2008-09-06 14:25:47 UTC (rev 4309)
@@ -0,0 +1,41 @@
+/***************************************************************************
+                            Q_seekablePreview.h
+                            -------------------
+
+    begin                : Fri Sep 5 2008
+    copyright            : (C) 2008 by gruntster
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include "ui_seekablePreview.h"
+
+#include "default.h"
+#include "ADM_assert.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "DIA_flyDialog.h"
+#include "DIA_flyPreview.h"
+#include "../ADM_dialog/DIA_flyDialogQt4.h"
+
+class Ui_seekablePreviewWindow : public QDialog
+{
+	Q_OBJECT
+
+public:
+	ADM_QCanvas *canvas;
+	flySeekablePreview *seekablePreview;
+	Ui_seekablePreviewDialog ui;
+	Ui_seekablePreviewWindow(AVDMGenericVideoStream *videoStream, uint32_t defaultFrame = 0);
+	~Ui_seekablePreviewWindow();
+
+public slots:
+	void closeWindow();
+	void sliderChanged(int value);
+};

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-05 17:01:07 UTC (rev 4308)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-06 14:25:47 UTC (rev 4309)
@@ -40,16 +40,13 @@
 #elif !defined(ADM_WIN32)
 #include <QX11Info>
 #endif
-#include "avio.hxx"
 
-#include "ADM_colorspace/ADM_rgb.h"
+#include "default.h"
 #include "GUI_render.h"
 #include "GUI_accelRender.h"
-#include "prefs.h"
-#include "ADM_assert.h"
-#include "ui_gui2.h"
-    
-void UI_QT4VideoWidget(QFrame *host);
+#include "ADM_video/ADM_genvideo.hxx"
+#include "Q_seekablePreview.h"
+
 static QFrame *hostFrame=NULL;
 static AccelRender *accelRender=NULL;
 static uint8_t *lastImage=NULL;
@@ -61,8 +58,17 @@
 uint8_t DIA_previewUpdate(uint8_t *data) {return 1;}
 void DIA_previewEnd(void) {}
 uint8_t DIA_previewStillAlive(void) {return 1;}
-uint8_t	DIA_filterPreview(const char *captionText, AVDMGenericVideoStream *videoStream, uint32_t frame) {}
 
+uint8_t	DIA_filterPreview(const char *captionText, AVDMGenericVideoStream *videoStream, uint32_t frame)
+{
+	ADM_assert(frame <= videoStream->getInfo()->nb_frames);
+
+	printf("** DIA_filterPreview %i **\n", frame);
+	Ui_seekablePreviewWindow previewDialog(videoStream, frame);
+
+	previewDialog.exec();
+}
+
 //****************************************************************************************************
 /*
   Function to display
@@ -72,6 +78,7 @@
 */
 static uint8_t *rgbDataBuffer=NULL;
 static uint32_t displayW=0,displayH=0;
+
 //****************************************************************************************************
 /*
   This is the class that will display the video images.
@@ -80,43 +87,38 @@
 */
 class  ADM_Qvideo : public QWidget
 {
-     Q_OBJECT
+	Q_OBJECT
     
-  signals:
-        
-        
-   public slots:
-        
-  public:
-        ADM_Qvideo(QWidget *z) : QWidget(z) 
-        {
-          
-        }
-        ~ADM_Qvideo() {};
-        /**
-            \fn paintEvent( QPaintEvent *ev))
-            \brief Repaint our "video" widget, ignore when accelRender is on
-        */
-        void paintEvent(QPaintEvent *ev)
-        {
-          if(!displayW || !displayH || !rgbDataBuffer || accelRender)
-            return ;
+public:
+	ADM_Qvideo(QWidget *z) : QWidget(z) {};
+	~ADM_Qvideo() {};
 
-          if(accelRender) 
-          {
-            if(lastImage)
-            {
-              accelRender->display(lastImage,displayW,displayH);
-            }
-          }else
-          {
-            QImage image(rgbDataBuffer,displayW,displayH,QImage::Format_RGB32);
-              QPainter painter(this);
-              painter.drawImage(QPoint(0,0),image);
-              painter.end();
-          }
-        }
+	/**
+		\fn paintEvent( QPaintEvent *ev))
+		\brief Repaint our "video" widget, ignore when accelRender is on
+	*/
+	void paintEvent(QPaintEvent *ev)
+	{
+		if(!displayW || !displayH || !rgbDataBuffer || accelRender)
+			return ;
+
+		if(accelRender) 
+		{
+			if(lastImage)
+			{
+				accelRender->display(lastImage,displayW,displayH);
+			}
+		}
+		else
+		{
+			QImage image(rgbDataBuffer,displayW,displayH,QImage::Format_RGB32);
+			QPainter painter(this);
+			painter.drawImage(QPoint(0,0),image);
+			painter.end();
+		}
+	}
 };
+
 ADM_Qvideo *videoWindow=NULL;
 //****************************************************************************************************
 void UI_QT4VideoWidget(QFrame *host)

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/seekablePreview.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/seekablePreview.ui	2008-09-05 17:01:07 UTC (rev 4308)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/seekablePreview.ui	2008-09-06 14:25:47 UTC (rev 4309)
@@ -0,0 +1,79 @@
+<ui version="4.0" >
+ <class>seekablePreviewDialog</class>
+ <widget class="QDialog" name="seekablePreviewDialog" >
+  <property name="geometry" >
+   <rect>
+    <x>0</x>
+    <y>0</y>
+    <width>400</width>
+    <height>300</height>
+   </rect>
+  </property>
+  <property name="windowTitle" >
+   <string>Preview</string>
+  </property>
+  <property name="modal" >
+   <bool>true</bool>
+  </property>
+  <layout class="QVBoxLayout" >
+   <property name="margin" >
+    <number>9</number>
+   </property>
+   <property name="spacing" >
+    <number>6</number>
+   </property>
+   <item>
+    <widget class="QFrame" name="frame" >
+     <property name="frameShape" >
+      <enum>QFrame::StyledPanel</enum>
+     </property>
+     <property name="frameShadow" >
+      <enum>QFrame::Raised</enum>
+     </property>
+    </widget>
+   </item>
+   <item>
+    <widget class="QSlider" name="horizontalSlider" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+    </widget>
+   </item>
+   <item>
+    <layout class="QHBoxLayout" >
+     <property name="margin" >
+      <number>0</number>
+     </property>
+     <property name="spacing" >
+      <number>6</number>
+     </property>
+     <item>
+      <spacer>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+       <property name="sizeHint" >
+        <size>
+         <width>40</width>
+         <height>20</height>
+        </size>
+       </property>
+      </spacer>
+     </item>
+     <item>
+      <widget class="QPushButton" name="okButton" >
+       <property name="text" >
+        <string>OK</string>
+       </property>
+       <property name="default" >
+        <bool>true</bool>
+       </property>
+      </widget>
+     </item>
+    </layout>
+   </item>
+  </layout>
+ </widget>
+ <resources/>
+ <connections/>
+</ui>



From gruntster at mail.berlios.de  Sat Sep  6 23:09:03 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 6 Sep 2008 23:09:03 +0200
Subject: [Avidemux-svn-commit] r4310 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters
Message-ID: <200809062109.m86L93TY032485@sheep.berlios.de>

Author: gruntster
Date: 2008-09-06 23:08:57 +0200 (Sat, 06 Sep 2008)
New Revision: 4310

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui
Log:
[Qt] spruce up the filter manager window

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-06 14:25:47 UTC (rev 4309)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-06 21:08:57 UTC (rev 4310)
@@ -29,12 +29,12 @@
 #include <sys/stat.h>
 #include <unistd.h>
 #include <vector>
+#include <QtGui>
 
 #define Ui_Dialog Ui_mainFilterDialog
 #include "ui_mainfilter.h"
 #undef Ui_Dialog
-#include "QStringListModel" 
-#include "QColor" 
+
 #include "default.h"
 #include "ADM_toolkit/filesel.h"
 
@@ -71,6 +71,76 @@
 extern AVDMGenericVideoStream *filterCreateFromTag(VF_FILTERS tag,CONFcouple *conf, AVDMGenericVideoStream *in) ;
 extern uint32_t curframe;
 /*******************************************************/
+
+class FilterItemEventFilter : public QObject
+{
+	Q_OBJECT
+
+protected:
+	bool eventFilter(QObject *object, QEvent *event) 
+	{
+		QAbstractItemView *view = qobject_cast<QAbstractItemView*>(parent());
+
+		if (event->type() == QEvent::KeyPress || event->type() == QEvent::MouseButtonPress)
+		{
+			QCoreApplication::sendEvent(view, event);
+
+			return true;
+		}
+		else if (event->type() == QEvent::FocusIn)
+		{
+			view->setFocus();
+
+			return true;
+		}
+		else
+			return QObject::eventFilter(object, event);
+	};
+
+public:
+	FilterItemEventFilter(QWidget *parent = 0) : QObject(parent) {};
+};
+
+class FilterItemDelegate : public QItemDelegate
+{
+	Q_OBJECT
+
+private:
+	FilterItemEventFilter *filter;
+
+public:
+	FilterItemDelegate(QWidget *parent = 0) : QItemDelegate(parent)
+	{
+		filter = new FilterItemEventFilter(parent);
+	};
+
+	void paint(QPainter *painter, const QStyleOptionViewItem &option, const QModelIndex &index) const
+	{
+		QAbstractItemView *view = qobject_cast<QAbstractItemView*>(parent());
+		QLabel *label;
+
+		if (view->indexWidget(index) == 0)
+		{
+			label = new QLabel();
+
+			label->installEventFilter(filter);
+			label->setAutoFillBackground(true);
+			label->setFocusPolicy(Qt::TabFocus);
+			view->setIndexWidget(index, label);
+		}
+
+		label = (QLabel*)view->indexWidget(index);
+
+		if (option.state & QStyle::State_Selected)
+			if (option.state & QStyle::State_HasFocus)
+				label->setBackgroundRole(QPalette::Highlight);
+			else
+				label->setBackgroundRole(QPalette::Window);
+		else
+			label->setBackgroundRole(QPalette::Base);
+	};
+};
+
 class filtermainWindow : public QDialog
 {
      Q_OBJECT
@@ -272,7 +342,7 @@
         videofilters[itag].conf = couple;
         getFirstVideoFilter ();
         buildActiveFilterList ();
-		setSelected(nb_active_filter - 1);
+		setSelected(itag);
 }
 /**
         \fn     up( bool b)
@@ -359,9 +429,6 @@
   printf("Family :%u\n",family);
   
   availableList->clear();
-  QColor colorgrey;
-  colorgrey.setRgb(myBg,myBg,myBg);
-  QBrush brush(colorgrey);
   QSize sz;
   
   for (uint32_t i = 0; i < filterSize[family]; i++)
@@ -370,8 +437,7 @@
 
       if (allfilters[r].viewable==1)
         {
-          QString str; //="<b>";
-          str+=allfilters[r].name;
+          QString str = QString("<b>") + allfilters[r].name + QString("</b><br>\n<small>") + allfilters[r].description + QString("</small>");
          
           QListWidgetItem *item;
           if(family==NB_TREE-1)
@@ -379,12 +445,12 @@
           else
                 item=new QListWidgetItem(str,availableList,ALL_FILTER_BASE+r);
           item->setToolTip(allfilters[r].description);
-          if(i&1) item->setBackground(brush);
           availableList->addItem(item);
-          
         }
      }
-   
+
+  if (filterSize[family])
+	  availableList->setCurrentRow(0);
 }
 
 /**
@@ -448,7 +514,7 @@
             videofilters[itag].tag = VF_PARTIAL;
             getFirstVideoFilter ();
             buildActiveFilterList ();
-			setSelected(nb_active_filter - 1);
+			setSelected(itag);
         }
         else delete replace;
 }
@@ -494,30 +560,28 @@
 */
 void filtermainWindow::buildActiveFilterList(void)
 {
-  VF_FILTERS fil;
-  
-  
-  activeList->clear();
-  QColor colorGrey,colorWhite;
-  colorGrey.setRgb(myBg,myBg,myBg);
-  colorWhite.setRgb(myFg,myFg,myFg);
-  QBrush brush(colorGrey);
-  QBrush brushW(colorWhite);
+	activeList->clear();
 
-  for (uint32_t i = 1; i < nb_active_filter; i++)
-    {
-                QString str;
-                fil=videofilters[i].tag;
+	for (uint32_t i = 1; i < nb_active_filter; i++)
+	{
+		const char *name = filterGetNameFromTag(videofilters[i].tag);
+		const char *conf = videofilters[i].filter->printConf ();
+		int namelen = strlen (name);
+
+		while (*conf == ' ')
+			++conf;
+
+		if (strncasecmp (name, conf, namelen) == 0)
+		{
+			conf += namelen;
+			while (*conf == ' ' || *conf == ':')
+				++conf;
+		}
 
-                 str =filterGetNameFromTag(fil);
-                 str+= videofilters[i].filter->printConf ();
-                 QListWidgetItem *item=new QListWidgetItem(str,activeList,ACTIVE_FILTER_BASE+i);
-                 if(i&1) item->setBackground(brush);
-                        else item->setBackground(brushW);
-                 activeList->addItem(item);
-    }
-    
-
+		QString str = QString("<b>") + name + QString("</b><br>\n<small>") + conf + QString("</small>");
+		QListWidgetItem *item=new QListWidgetItem(str,activeList,ACTIVE_FILTER_BASE+i);
+		activeList->addItem(item);
+	}
 }
   /**
   */
@@ -552,6 +616,9 @@
     connect(ui.pushButtonHalfDVD, SIGNAL(clicked(bool)), this, SLOT(halfD1(bool)));
 	connect(ui.pushButtonPreview, SIGNAL(clicked(bool)), this, SLOT(preview(bool)));
 
+	activeList->setItemDelegate(new FilterItemDelegate(activeList));
+	availableList->setItemDelegate(new FilterItemDelegate(availableList));
+
     displayFamily(0);
     buildActiveFilterList();
 	setSelected(nb_active_filter - 1);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui	2008-09-06 14:25:47 UTC (rev 4309)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui	2008-09-06 21:08:57 UTC (rev 4310)
@@ -155,12 +155,9 @@
          <height>0</height>
         </size>
        </property>
-       <property name="cursor" >
-        <cursor>13</cursor>
+       <property name="spacing" >
+        <number>2</number>
        </property>
-       <property name="alternatingRowColors" >
-        <bool>true</bool>
-       </property>
       </widget>
      </item>
      <item rowspan="3" row="1" column="0" colspan="2" >
@@ -179,24 +176,6 @@
          <height>340</height>
         </size>
        </property>
-       <property name="cursor" >
-        <cursor>13</cursor>
-       </property>
-       <property name="mouseTracking" >
-        <bool>false</bool>
-       </property>
-       <property name="autoFillBackground" >
-        <bool>false</bool>
-       </property>
-       <property name="styleSheet" >
-        <string/>
-       </property>
-       <property name="alternatingRowColors" >
-        <bool>false</bool>
-       </property>
-       <property name="selectionMode" >
-        <enum>QAbstractItemView::SingleSelection</enum>
-       </property>
        <property name="selectionBehavior" >
         <enum>QAbstractItemView::SelectRows</enum>
        </property>
@@ -206,39 +185,15 @@
          <height>24</height>
         </size>
        </property>
-       <property name="textElideMode" >
-        <enum>Qt::ElideRight</enum>
-       </property>
-       <property name="movement" >
-        <enum>QListView::Static</enum>
-       </property>
-       <property name="flow" >
-        <enum>QListView::TopToBottom</enum>
-       </property>
-       <property name="isWrapping" stdset="0" >
-        <bool>false</bool>
-       </property>
        <property name="resizeMode" >
         <enum>QListView::Adjust</enum>
        </property>
-       <property name="layoutMode" >
-        <enum>QListView::SinglePass</enum>
-       </property>
        <property name="spacing" >
         <number>3</number>
        </property>
-       <property name="viewMode" >
-        <enum>QListView::ListMode</enum>
-       </property>
-       <property name="modelColumn" >
+       <property name="currentRow" >
         <number>0</number>
        </property>
-       <property name="uniformItemSizes" >
-        <bool>false</bool>
-       </property>
-       <property name="batchSize" >
-        <number>100</number>
-       </property>
        <item>
         <property name="text" >
          <string>Transform</string>
@@ -352,12 +307,9 @@
          <height>0</height>
         </size>
        </property>
-       <property name="cursor" >
-        <cursor>13</cursor>
+       <property name="spacing" >
+        <number>2</number>
        </property>
-       <property name="alternatingRowColors" >
-        <bool>true</bool>
-       </property>
       </widget>
      </item>
      <item row="5" column="5" colspan="11" >
@@ -593,6 +545,26 @@
    </item>
   </layout>
  </widget>
+ <tabstops>
+  <tabstop>listFilterCategory</tabstop>
+  <tabstop>listWidgetAvailable</tabstop>
+  <tabstop>listWidgetActive</tabstop>
+  <tabstop>pushButtonDVD</tabstop>
+  <tabstop>pushButtonSVCD</tabstop>
+  <tabstop>pushButtonHalfDVD</tabstop>
+  <tabstop>pushButtonVCD</tabstop>
+  <tabstop>toolButtonAdd</tabstop>
+  <tabstop>toolButtonConfigure</tabstop>
+  <tabstop>toolButtonPartial</tabstop>
+  <tabstop>toolButtonLoad</tabstop>
+  <tabstop>toolButtonSave</tabstop>
+  <tabstop>toolButtonSaveScript</tabstop>
+  <tabstop>toolButtonDown</tabstop>
+  <tabstop>toolButtonUp</tabstop>
+  <tabstop>pushButtonRemove</tabstop>
+  <tabstop>pushButtonPreview</tabstop>
+  <tabstop>buttonClose</tabstop>
+ </tabstops>
  <resources>
   <include location="filter.qrc" />
  </resources>



From gruntster at mail.berlios.de  Sat Sep  6 23:37:52 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 6 Sep 2008 23:37:52 +0200
Subject: [Avidemux-svn-commit] r4311 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters
Message-ID: <200809062137.m86LbqgQ003012@sheep.berlios.de>

Author: gruntster
Date: 2008-09-06 23:37:45 +0200 (Sat, 06 Sep 2008)
New Revision: 4311

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
Log:
[Qt] filter manager fix for older Qt versions

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-06 21:08:57 UTC (rev 4310)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-06 21:37:45 UTC (rev 4311)
@@ -77,24 +77,24 @@
 	Q_OBJECT
 
 protected:
-	bool eventFilter(QObject *object, QEvent *event) 
-	{
-		QAbstractItemView *view = qobject_cast<QAbstractItemView*>(parent());
-
-		if (event->type() == QEvent::KeyPress || event->type() == QEvent::MouseButtonPress)
-		{
-			QCoreApplication::sendEvent(view, event);
-
-			return true;
-		}
-		else if (event->type() == QEvent::FocusIn)
-		{
-			view->setFocus();
-
-			return true;
-		}
-		else
-			return QObject::eventFilter(object, event);
+	bool eventFilter(QObject *object, QEvent *event) 
+	{
+		QAbstractItemView *view = qobject_cast<QAbstractItemView*>(parent());
+
+		if (event->type() == QEvent::KeyPress || event->type() == QEvent::MouseButtonPress)
+		{
+			QCoreApplication::sendEvent(view, event);
+
+			return true;
+		}
+		else if (event->type() == QEvent::FocusIn)
+		{
+			view->setFocus();
+
+			return true;
+		}
+		else
+			return QObject::eventFilter(object, event);
 	};
 
 public:
@@ -116,28 +116,29 @@
 
 	void paint(QPainter *painter, const QStyleOptionViewItem &option, const QModelIndex &index) const
 	{
-		QAbstractItemView *view = qobject_cast<QAbstractItemView*>(parent());
-		QLabel *label;
-
-		if (view->indexWidget(index) == 0)
-		{
-			label = new QLabel();
-
-			label->installEventFilter(filter);
-			label->setAutoFillBackground(true);
-			label->setFocusPolicy(Qt::TabFocus);
-			view->setIndexWidget(index, label);
+		QAbstractItemView *view = qobject_cast<QAbstractItemView*>(parent());
+		QLabel *label;
+
+		if (view->indexWidget(index) == 0)
+		{
+			label = new QLabel();
+
+			label->installEventFilter(filter);
+			label->setAutoFillBackground(true);
+			label->setFocusPolicy(Qt::TabFocus);
+			label->setText(index.data().toString());
+			view->setIndexWidget(index, label);
 		}
 
 		label = (QLabel*)view->indexWidget(index);
 
-		if (option.state & QStyle::State_Selected)
-			if (option.state & QStyle::State_HasFocus)
-				label->setBackgroundRole(QPalette::Highlight);
-			else
-				label->setBackgroundRole(QPalette::Window);
-		else
-			label->setBackgroundRole(QPalette::Base);
+		if (option.state & QStyle::State_Selected)
+			if (option.state & QStyle::State_HasFocus)
+				label->setBackgroundRole(QPalette::Highlight);
+			else
+				label->setBackgroundRole(QPalette::Window);
+		else
+			label->setBackgroundRole(QPalette::Base);
 	};
 };
 
@@ -564,18 +565,18 @@
 
 	for (uint32_t i = 1; i < nb_active_filter; i++)
 	{
-		const char *name = filterGetNameFromTag(videofilters[i].tag);
-		const char *conf = videofilters[i].filter->printConf ();
-		int namelen = strlen (name);
-
-		while (*conf == ' ')
-			++conf;
-
-		if (strncasecmp (name, conf, namelen) == 0)
-		{
-			conf += namelen;
-			while (*conf == ' ' || *conf == ':')
-				++conf;
+		const char *name = filterGetNameFromTag(videofilters[i].tag);
+		const char *conf = videofilters[i].filter->printConf ();
+		int namelen = strlen (name);
+
+		while (*conf == ' ')
+			++conf;
+
+		if (strncasecmp (name, conf, namelen) == 0)
+		{
+			conf += namelen;
+			while (*conf == ' ' || *conf == ':')
+				++conf;
 		}
 
 		QString str = QString("<b>") + name + QString("</b><br>\n<small>") + conf + QString("</small>");



From gruntster at mail.berlios.de  Sat Sep  6 23:39:55 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 6 Sep 2008 23:39:55 +0200
Subject: [Avidemux-svn-commit] r4312 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200809062139.m86Ldtaj003191@sheep.berlios.de>

Author: gruntster
Date: 2008-09-06 23:39:50 +0200 (Sat, 06 Sep 2008)
New Revision: 4312

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui
Log:
[Qt] remove dimension restrictions on Crop window

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui	2008-09-06 21:37:45 UTC (rev 4311)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui	2008-09-06 21:39:50 UTC (rev 4312)
@@ -42,7 +42,11 @@
       </widget>
      </item>
      <item row="0" column="4" >
-      <widget class="QSpinBox" name="spinBoxRight" />
+      <widget class="QSpinBox" name="spinBoxRight" >
+       <property name="maximum" >
+        <number>2147483647</number>
+       </property>
+      </widget>
      </item>
      <item row="0" column="2" >
       <spacer>
@@ -81,7 +85,11 @@
       </widget>
      </item>
      <item row="1" column="1" >
-      <widget class="QSpinBox" name="spinBoxTop" />
+      <widget class="QSpinBox" name="spinBoxTop" >
+       <property name="maximum" >
+        <number>2147483647</number>
+       </property>
+      </widget>
      </item>
      <item row="1" column="4" >
       <widget class="QSpinBox" name="spinBoxBottom" />
@@ -117,7 +125,11 @@
       </spacer>
      </item>
      <item row="0" column="1" >
-      <widget class="QSpinBox" name="spinBoxLeft" />
+      <widget class="QSpinBox" name="spinBoxLeft" >
+       <property name="maximum" >
+        <number>2147483647</number>
+       </property>
+      </widget>
      </item>
      <item row="0" column="6" >
       <widget class="QPushButton" name="pushButtonAutoCrop" >



From gruntster at mail.berlios.de  Mon Sep  8 04:22:41 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 8 Sep 2008 04:22:41 +0200
Subject: [Avidemux-svn-commit] r4313 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200809080222.m882MfxP000577@sheep.berlios.de>

Author: gruntster
Date: 2008-09-08 04:22:32 +0200 (Mon, 08 Sep 2008)
New Revision: 4313

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui
Log:
[Qt] rework resize filter window

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp	2008-09-06 21:39:50 UTC (rev 4312)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp	2008-09-08 02:22:32 UTC (rev 4313)
@@ -25,11 +25,15 @@
 #include "avidemutils.h"
 #include "avi_vars.h"
 #include "ADM_osSupport/ADM_misc.h"
+#include "ADM_toolkit/toolkit.hxx"
+
 static double aspectRatio[2][3]={
                               {1.,0.888888,1.19}, // NTSC 1:1 4:3 16:9
                               {1.,1.066667,1.43} // PAL  1:1 4:3 16:9
                             };
-#define aprintf printf
+
+#define aprintf
+
 typedef struct resParam
 {
     uint32_t width,height;
@@ -37,38 +41,58 @@
     uint32_t fps1000;
     uint32_t algo;
     uint32_t pal;
-}resParam;
+} resParam;
 
 class resizeWindow : public QDialog
- {
-     Q_OBJECT
- protected : 
-      resParam *_param;
- public:
-     resizeWindow(resParam *param);
-     Ui_resizeDialog ui;
- public slots:
-      void gather(void);
-      void update(int i);
- private slots:
-   
+{
+	Q_OBJECT
 
- private:
-     
- };
+private:
+	int lastPercentage;
+	void updateWidthHeightSpinners(bool useHeightAsRef = false);
+	void updateSlider();
+	void connectDimensionControls();
+	void disconnectDimensionControls();
+	void roundUp(int xx, int yy);
 
+protected:
+	resParam *_param;
 
-resizeWindow::resizeWindow(resParam *param)     : QDialog()
+public:
+	resizeWindow(resParam *param);
+	Ui_resizeDialog ui;
+
+public slots:
+	void gather(void);
+	void okButtonClicked();
+	void sliderChanged(int value);
+	void percentageSpinBoxChanged(int value);
+	void widthSpinBoxChanged(int value);
+	void heightSpinBoxChanged(int value);
+	void lockArToggled(bool toggled);
+	void roundupToggled(bool toggled);
+	void aspectRatioChanged(int index);
+};
+
+resizeWindow::resizeWindow(resParam *param) : QDialog()
  {
      ui.setupUi(this);
+	 lastPercentage = 100;
      _param=param;
      ui.spinBoxWidth->setValue(_param->width);
      ui.spinBoxHeight->setValue(_param->height);
      ui.horizontalSlider->setValue(100);
-     update(0);
-     connect( ui.horizontalSlider,SIGNAL(valueChanged(int)),this,SLOT(update(int)));
- 
+     updateWidthHeightSpinners();
+
+	 connect(ui.comboBoxSource, SIGNAL(currentIndexChanged(int)), this, SLOT(aspectRatioChanged(int)));
+	 connect(ui.comboBoxDestination, SIGNAL(currentIndexChanged(int)), this, SLOT(aspectRatioChanged(int)));
+	 connect(ui.checkBoxRoundup, SIGNAL(toggled(bool)), this, SLOT(roundupToggled(bool)));
+	 connect(ui.lockArCheckBox, SIGNAL(toggled(bool)), this, SLOT(lockArToggled(bool)));
+	 connect(ui.buttonBox, SIGNAL(accepted()), this, SLOT(okButtonClicked()));
+
+	 connectDimensionControls();
  }
+
  void resizeWindow::gather(void)
  {
     _param->width=ui.spinBoxWidth->value();
@@ -76,84 +100,203 @@
     _param->algo=ui.comboBoxAlgo->currentIndex();
  }
  
- void resizeWindow::update(int foo)
- {
+ void resizeWindow::sliderChanged(int value)
+{
+	disconnectDimensionControls();
 
-  double percent;
-  float x,y;
-  float sr_mul,dst_mul;
+	percentageSpinBoxChanged(value);
 
- int32_t xx,yy;
- float erx,ery;
-  int sar,dar;
+	connectDimensionControls();
+}
 
-  percent = ui.horizontalSlider->value();;
-  sar=ui.comboBoxSource->currentIndex();
-  dar=ui.comboBoxDestination->currentIndex();
-  if(percent<10.0) percent=10.;
+void resizeWindow::percentageSpinBoxChanged(int value)
+{
+	disconnectDimensionControls();
 
-  aprintf("drag called : %f \n",percent);
-  x=_param->originalWidth;
-  y=_param->originalHeight;
-  erx=0;
-  ery=0;
-  sr_mul=1.;
-  if(sar)
-  	{  // source is 4/3 or 16/9
-			sr_mul=aspectRatio[_param->pal][sar];
+	if (ui.checkBoxRoundup->isChecked())
+	{
+		if (lastPercentage > value)
+			ui.spinBoxWidth->setValue(ui.spinBoxWidth->value() - 16);
+		else
+			ui.spinBoxWidth->setValue(ui.spinBoxWidth->value() + 16);
+	}
+	else
+	{
+		float width = _param->originalWidth;
 
+		width /= 100.;
+		width *= value;
+
+		ui.spinBoxWidth->setValue(floor(width + 0.5));
 	}
 
-  dst_mul=1.;
-  if(dar)
-        {  // dst is 4/3 or 16/9
-  
-                        dst_mul=1/aspectRatio[_param->pal][dar];
-        }
-        aprintf("source mul %02.2f , dst mul : %02.2f\n",sr_mul,dst_mul);
-        x=x*sr_mul*dst_mul;
-        y=y;
-  
-        // normalize it to recover 100% width
-        y=y/(x/_param->originalWidth);
-        x=_param->originalWidth;
-  
-        aprintf("AR:x,y  : %03f %03f \n",x,y);
-  
-        percent/=100.;
-        x=x*percent;
-        y=y*percent;
-  
-  
-        aprintf("AR x,y  : %03f %03f \n",x,y);
-        xx=(uint32_t)floor(x+0.5);
-        yy=(uint32_t)floor(y+0.5);
-  
-        if(xx&1) xx--;
-        if(yy&1) yy--;
-  
-  
-        if(ui.checkBoxRoundup->checkState())
-        {
-                int32_t ox=xx,oy=yy;
-                xx=(xx +7) & 0xfffff0;
-                yy=(yy +7) & 0xfffff0;
-  
-                erx=(xx-ox);
-                erx=erx/xx;
-                ery=(yy-oy);
-                ery=ery/yy;
-  
-                aprintf("x: %d -> %d : err %f\n",ox,xx,erx);
-                aprintf("y: %d -> %d : err %f\n",oy,yy,ery);
-        }
-  
-        //
-        ui.spinBoxWidth->setValue(xx);
-        ui.spinBoxHeight->setValue(yy);
+	updateWidthHeightSpinners(false);
 
-   
+	lastPercentage = ui.percentageSpinBox->value();
+
+	connectDimensionControls();
 }
+
+void resizeWindow::widthSpinBoxChanged(int value)
+{
+	disconnectDimensionControls();
+
+	if (ui.lockArCheckBox->isChecked())
+		updateWidthHeightSpinners(false);
+
+	connectDimensionControls();
+}
+
+void resizeWindow::heightSpinBoxChanged(int value)
+{
+	disconnectDimensionControls();
+
+	if (ui.lockArCheckBox->isChecked())
+		updateWidthHeightSpinners(true);
+
+	connectDimensionControls();
+}
+
+void resizeWindow::aspectRatioChanged(int index)
+{
+	disconnectDimensionControls();
+
+	if (ui.lockArCheckBox->isChecked())
+		updateWidthHeightSpinners();
+
+	connectDimensionControls();
+}
+
+void resizeWindow::disconnectDimensionControls()
+{
+	disconnect(ui.spinBoxHeight, SIGNAL(valueChanged(int)), this, SLOT(heightSpinBoxChanged(int)));
+	disconnect(ui.spinBoxWidth, SIGNAL(valueChanged(int)), this, SLOT(widthSpinBoxChanged(int)));
+	disconnect(ui.horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(sliderChanged(int)));
+	disconnect(ui.percentageSpinBox, SIGNAL(valueChanged(int)), this, SLOT(percentageSpinBoxChanged(int)));
+}
+
+void resizeWindow::connectDimensionControls()
+{
+	connect(ui.spinBoxHeight, SIGNAL(valueChanged(int)), this, SLOT(heightSpinBoxChanged(int)));
+	connect(ui.spinBoxWidth, SIGNAL(valueChanged(int)), this, SLOT(widthSpinBoxChanged(int)));
+	connect(ui.horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(sliderChanged(int)));
+	connect(ui.percentageSpinBox, SIGNAL(valueChanged(int)), this, SLOT(percentageSpinBoxChanged(int)));
+}
+
+void resizeWindow::updateWidthHeightSpinners(bool useHeightAsRef)
+{
+	int sar = ui.comboBoxSource->currentIndex();
+	int dar = ui.comboBoxDestination->currentIndex();
+	float x = ui.spinBoxWidth->value();
+	float y = ui.spinBoxHeight->value();
+	float sr_mul = 1.;
+	float dst_mul = 1.;
+	float ar = 1.;
+
+	if (sar)
+	{  // source is 4/3 or 16/9
+		sr_mul = aspectRatio[_param->pal][sar];
+	}
+
+	if (dar)
+	{  // dst is 4/3 or 16/9
+		dst_mul = 1 / aspectRatio[_param->pal][dar];
+	}
+
+	aprintf("source mul %02.2f , dst mul: %02.2f\n", sr_mul, dst_mul);
+
+	ar = _param->originalWidth / (_param->originalHeight / (sr_mul * dst_mul));
+
+	if (useHeightAsRef)
+		x = y * ar;
+	else
+		y = x / ar;
+
+	aprintf("x, y: %03f, %03f\n", x, y);
+
+	int xx = floor(x + 0.5);
+	int yy = floor(y + 0.5);
+
+	if (xx & 1)
+		xx--;
+
+	if (yy & 1)
+		yy--;
+
+	roundUp(xx, yy);
+	updateSlider();
+}
+
+void resizeWindow::updateSlider()
+{
+	float percent = (((float)ui.spinBoxWidth->value() / (float)_param->originalWidth) * 100.) + 0.5;
+
+	ui.horizontalSlider->setValue(percent);
+	ui.percentageSpinBox->setValue(percent);
+}
+
+void resizeWindow::roundUp(int xx, int yy)
+{
+	float erx = 0.;
+	float ery = 0.;
+
+	if (ui.checkBoxRoundup->checkState())
+	{
+		int ox = xx, oy = yy;
+
+		xx = (xx + 7) & 0xfffff0;
+		yy = (yy + 7) & 0xfffff0;
+
+		erx = xx - ox;
+		erx = erx / xx;
+		ery = yy - oy;
+		ery = ery / yy;
+
+		aprintf("x: %d -> %d : err %f\n", ox, xx, erx);
+		aprintf("y: %d -> %d : err %f\n", oy, yy, ery);
+	}
+
+	ui.spinBoxWidth->setValue(xx);
+	ui.spinBoxHeight->setValue(yy);
+
+	ui.labelErrorXY->setText(QString("%1").arg(erx * 100., 0, 'f', 2) + " / " + QString("%1").arg(ery * 100., 0, 'f', 2));
+}
+
+void resizeWindow::lockArToggled(bool toggled)
+{
+	if (ui.lockArCheckBox->isChecked())
+		widthSpinBoxChanged(0);
+	else
+		ui.checkBoxRoundup->setChecked(false);
+}
+
+void resizeWindow::roundupToggled(bool toggled)
+{
+	if (toggled)
+	{
+		disconnectDimensionControls();
+
+		ui.spinBoxWidth->setSingleStep(16);
+		ui.spinBoxHeight->setSingleStep(16);
+		widthSpinBoxChanged(0);
+
+		connectDimensionControls();
+	}
+	else
+	{
+		ui.spinBoxWidth->setSingleStep(2);
+		ui.spinBoxHeight->setSingleStep(2);
+	}
+}
+
+void resizeWindow::okButtonClicked()
+{
+	if (ui.spinBoxWidth->value() & 1 || ui.spinBoxHeight->value() & 1)
+		GUI_Error_HIG(QT_TR_NOOP("Width and height cannot be odd"), NULL);
+	else
+		accept();
+}
+
 /**
     \fn DIA_resize
     \brief Handle resize dialo

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui	2008-09-06 21:39:50 UTC (rev 4312)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui	2008-09-08 02:22:32 UTC (rev 4313)
@@ -92,7 +92,11 @@
       </widget>
      </item>
      <item row="1" column="4" >
-      <widget class="QSpinBox" name="spinBoxBottom" />
+      <widget class="QSpinBox" name="spinBoxBottom" >
+       <property name="maximum" >
+        <number>2147483647</number>
+       </property>
+      </widget>
      </item>
      <item row="1" column="3" >
       <widget class="QLabel" name="label_3" >

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui	2008-09-06 21:39:50 UTC (rev 4312)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui	2008-09-08 02:22:32 UTC (rev 4313)
@@ -5,285 +5,720 @@
    <rect>
     <x>0</x>
     <y>0</y>
-    <width>405</width>
-    <height>210</height>
+    <width>350</width>
+    <height>342</height>
    </rect>
   </property>
   <property name="windowTitle" >
    <string>Resize</string>
   </property>
-  <widget class="QWidget" name="" >
-   <property name="geometry" >
-    <rect>
-     <x>10</x>
-     <y>12</y>
-     <width>355</width>
-     <height>169</height>
-    </rect>
+  <layout class="QVBoxLayout" >
+   <property name="margin" >
+    <number>9</number>
    </property>
-   <layout class="QGridLayout" >
-    <property name="margin" >
-     <number>0</number>
-    </property>
-    <property name="spacing" >
-     <number>6</number>
-    </property>
-    <item row="1" column="3" >
+   <property name="spacing" >
+    <number>6</number>
+   </property>
+   <item>
+    <widget class="QGroupBox" name="groupBox_2" >
+     <property name="title" >
+      <string>Aspect Ratio</string>
+     </property>
      <layout class="QVBoxLayout" >
       <property name="margin" >
-       <number>0</number>
+       <number>9</number>
       </property>
       <property name="spacing" >
        <number>6</number>
       </property>
       <item>
-       <widget class="QLabel" name="labelErrorX" >
+       <widget class="QCheckBox" name="lockArCheckBox" >
         <property name="text" >
-         <string>Error X : 0.00</string>
+         <string>Lock Aspect Ratio</string>
         </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QLabel" name="labelErrorY" >
-        <property name="text" >
-         <string>Error Y: 0.00</string>
+        <property name="checked" >
+         <bool>true</bool>
         </property>
        </widget>
       </item>
-     </layout>
-    </item>
-    <item row="0" column="1" >
-     <layout class="QVBoxLayout" >
-      <property name="margin" >
-       <number>0</number>
-      </property>
-      <property name="spacing" >
-       <number>6</number>
-      </property>
       <item>
-       <widget class="QSpinBox" name="spinBoxWidth" >
-        <property name="maximum" >
-         <number>2900</number>
+       <layout class="QHBoxLayout" >
+        <property name="margin" >
+         <number>0</number>
         </property>
-        <property name="minimum" >
-         <number>1</number>
+        <property name="spacing" >
+         <number>6</number>
         </property>
-       </widget>
+        <item>
+         <widget class="QLabel" name="label_4" >
+          <property name="text" >
+           <string>Source:</string>
+          </property>
+         </widget>
+        </item>
+        <item>
+         <widget class="QComboBox" name="comboBoxSource" >
+          <item>
+           <property name="text" >
+            <string>1:1</string>
+           </property>
+          </item>
+          <item>
+           <property name="text" >
+            <string>4:3</string>
+           </property>
+          </item>
+          <item>
+           <property name="text" >
+            <string>16:9</string>
+           </property>
+          </item>
+         </widget>
+        </item>
+        <item>
+         <spacer>
+          <property name="orientation" >
+           <enum>Qt::Horizontal</enum>
+          </property>
+          <property name="sizeType" >
+           <enum>QSizePolicy::Fixed</enum>
+          </property>
+          <property name="sizeHint" >
+           <size>
+            <width>30</width>
+            <height>20</height>
+           </size>
+          </property>
+         </spacer>
+        </item>
+        <item>
+         <widget class="QLabel" name="label_3" >
+          <property name="text" >
+           <string>Destination:</string>
+          </property>
+         </widget>
+        </item>
+        <item>
+         <widget class="QComboBox" name="comboBoxDestination" >
+          <item>
+           <property name="text" >
+            <string>1:1</string>
+           </property>
+          </item>
+          <item>
+           <property name="text" >
+            <string>4:3</string>
+           </property>
+          </item>
+          <item>
+           <property name="text" >
+            <string>16:9</string>
+           </property>
+          </item>
+         </widget>
+        </item>
+        <item>
+         <spacer>
+          <property name="orientation" >
+           <enum>Qt::Horizontal</enum>
+          </property>
+          <property name="sizeHint" >
+           <size>
+            <width>40</width>
+            <height>20</height>
+           </size>
+          </property>
+         </spacer>
+        </item>
+       </layout>
       </item>
-      <item>
-       <widget class="QSpinBox" name="spinBoxHeight" >
-        <property name="maximum" >
-         <number>2000</number>
-        </property>
-        <property name="minimum" >
-         <number>1</number>
-        </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QCheckBox" name="checkBoxRoundup" >
-        <property name="text" >
-         <string>16 round up</string>
-        </property>
-       </widget>
-      </item>
      </layout>
-    </item>
-    <item row="0" column="0" >
+    </widget>
+   </item>
+   <item>
+    <widget class="QGroupBox" name="groupBox" >
+     <property name="title" >
+      <string>Resize Dimensions</string>
+     </property>
      <layout class="QVBoxLayout" >
       <property name="margin" >
-       <number>0</number>
+       <number>9</number>
       </property>
       <property name="spacing" >
        <number>6</number>
       </property>
       <item>
-       <widget class="QLabel" name="label" >
-        <property name="text" >
-         <string>Width</string>
+       <layout class="QHBoxLayout" >
+        <property name="margin" >
+         <number>0</number>
         </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QLabel" name="label_2" >
-        <property name="text" >
-         <string>Height</string>
+        <property name="spacing" >
+         <number>6</number>
         </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QLabel" name="label_7" >
-        <property name="text" >
-         <string/>
-        </property>
-       </widget>
-      </item>
-     </layout>
-    </item>
-    <item row="1" column="1" colspan="2" >
-     <widget class="QSlider" name="horizontalSlider" >
-      <property name="minimum" >
-       <number>10</number>
-      </property>
-      <property name="maximum" >
-       <number>150</number>
-      </property>
-      <property name="orientation" >
-       <enum>Qt::Horizontal</enum>
-      </property>
-     </widget>
-    </item>
-    <item row="0" column="2" >
-     <layout class="QVBoxLayout" >
-      <property name="margin" >
-       <number>0</number>
-      </property>
-      <property name="spacing" >
-       <number>6</number>
-      </property>
-      <item>
-       <widget class="QLabel" name="label_4" >
-        <property name="text" >
-         <string>Source A:R</string>
-        </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QLabel" name="label_3" >
-        <property name="text" >
-         <string>Destination A/R</string>
-        </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QLabel" name="label_6" >
-        <property name="text" >
-         <string>Resize Method</string>
-        </property>
-       </widget>
-      </item>
-     </layout>
-    </item>
-    <item row="1" column="0" >
-     <widget class="QLabel" name="label_5" >
-      <property name="text" >
-       <string>Percent</string>
-      </property>
-     </widget>
-    </item>
-    <item row="0" column="3" >
-     <layout class="QVBoxLayout" >
-      <property name="margin" >
-       <number>0</number>
-      </property>
-      <property name="spacing" >
-       <number>6</number>
-      </property>
-      <item>
-       <widget class="QComboBox" name="comboBoxSource" >
         <item>
-         <property name="text" >
-          <string>1:1</string>
-         </property>
+         <widget class="QLabel" name="label" >
+          <property name="text" >
+           <string>Width:</string>
+          </property>
+         </widget>
         </item>
         <item>
-         <property name="text" >
-          <string>4:3</string>
-         </property>
+         <widget class="QSpinBox" name="spinBoxWidth" >
+          <property name="maximum" >
+           <number>2900</number>
+          </property>
+          <property name="minimum" >
+           <number>16</number>
+          </property>
+          <property name="singleStep" >
+           <number>2</number>
+          </property>
+         </widget>
         </item>
         <item>
-         <property name="text" >
-          <string>16:9</string>
-         </property>
+         <spacer>
+          <property name="orientation" >
+           <enum>Qt::Horizontal</enum>
+          </property>
+          <property name="sizeType" >
+           <enum>QSizePolicy::Fixed</enum>
+          </property>
+          <property name="sizeHint" >
+           <size>
+            <width>30</width>
+            <height>20</height>
+           </size>
+          </property>
+         </spacer>
         </item>
-       </widget>
-      </item>
-      <item>
-       <widget class="QComboBox" name="comboBoxDestination" >
         <item>
-         <property name="text" >
-          <string>1:1</string>
-         </property>
+         <widget class="QLabel" name="label_2" >
+          <property name="text" >
+           <string>Height:</string>
+          </property>
+         </widget>
         </item>
         <item>
-         <property name="text" >
-          <string>4:3</string>
-         </property>
+         <widget class="QSpinBox" name="spinBoxHeight" >
+          <property name="maximum" >
+           <number>2000</number>
+          </property>
+          <property name="minimum" >
+           <number>16</number>
+          </property>
+          <property name="singleStep" >
+           <number>2</number>
+          </property>
+         </widget>
         </item>
         <item>
-         <property name="text" >
-          <string>16:9</string>
-         </property>
+         <spacer>
+          <property name="orientation" >
+           <enum>Qt::Horizontal</enum>
+          </property>
+          <property name="sizeHint" >
+           <size>
+            <width>40</width>
+            <height>20</height>
+           </size>
+          </property>
+         </spacer>
         </item>
+       </layout>
+      </item>
+      <item>
+       <widget class="QCheckBox" name="checkBoxRoundup" >
+        <property name="text" >
+         <string>Round to the Nearest Multiple of 16</string>
+        </property>
        </widget>
       </item>
       <item>
-       <widget class="QComboBox" name="comboBoxAlgo" >
+       <spacer>
+        <property name="orientation" >
+         <enum>Qt::Vertical</enum>
+        </property>
+        <property name="sizeType" >
+         <enum>QSizePolicy::Fixed</enum>
+        </property>
+        <property name="sizeHint" >
+         <size>
+          <width>312</width>
+          <height>4</height>
+         </size>
+        </property>
+       </spacer>
+      </item>
+      <item>
+       <layout class="QVBoxLayout" >
+        <property name="margin" >
+         <number>0</number>
+        </property>
+        <property name="spacing" >
+         <number>6</number>
+        </property>
         <item>
-         <property name="text" >
-          <string>Bilinear</string>
-         </property>
+         <layout class="QHBoxLayout" >
+          <property name="margin" >
+           <number>0</number>
+          </property>
+          <property name="spacing" >
+           <number>12</number>
+          </property>
+          <item>
+           <layout class="QVBoxLayout" >
+            <property name="margin" >
+             <number>0</number>
+            </property>
+            <property name="spacing" >
+             <number>6</number>
+            </property>
+            <item>
+             <layout class="QHBoxLayout" >
+              <property name="margin" >
+               <number>0</number>
+              </property>
+              <property name="spacing" >
+               <number>6</number>
+              </property>
+              <item>
+               <widget class="QLabel" name="label_8" >
+                <property name="text" >
+                 <string>1%</string>
+                </property>
+               </widget>
+              </item>
+              <item>
+               <spacer>
+                <property name="orientation" >
+                 <enum>Qt::Horizontal</enum>
+                </property>
+                <property name="sizeHint" >
+                 <size>
+                  <width>40</width>
+                  <height>20</height>
+                 </size>
+                </property>
+               </spacer>
+              </item>
+              <item>
+               <widget class="QLabel" name="label_5" >
+                <property name="text" >
+                 <string>Percent</string>
+                </property>
+               </widget>
+              </item>
+              <item>
+               <spacer>
+                <property name="orientation" >
+                 <enum>Qt::Horizontal</enum>
+                </property>
+                <property name="sizeHint" >
+                 <size>
+                  <width>40</width>
+                  <height>20</height>
+                 </size>
+                </property>
+               </spacer>
+              </item>
+              <item>
+               <widget class="QLabel" name="label_9" >
+                <property name="text" >
+                 <string>200%</string>
+                </property>
+               </widget>
+              </item>
+             </layout>
+            </item>
+            <item>
+             <widget class="QSlider" name="horizontalSlider" >
+              <property name="minimum" >
+               <number>1</number>
+              </property>
+              <property name="maximum" >
+               <number>200</number>
+              </property>
+              <property name="value" >
+               <number>100</number>
+              </property>
+              <property name="orientation" >
+               <enum>Qt::Horizontal</enum>
+              </property>
+             </widget>
+            </item>
+           </layout>
+          </item>
+          <item>
+           <widget class="QSpinBox" name="percentageSpinBox" >
+            <property name="maximum" >
+             <number>200</number>
+            </property>
+            <property name="minimum" >
+             <number>1</number>
+            </property>
+            <property name="value" >
+             <number>100</number>
+            </property>
+           </widget>
+          </item>
+         </layout>
         </item>
         <item>
-         <property name="text" >
-          <string>Bicubic</string>
-         </property>
+         <layout class="QHBoxLayout" >
+          <property name="margin" >
+           <number>0</number>
+          </property>
+          <property name="spacing" >
+           <number>6</number>
+          </property>
+          <item>
+           <widget class="QLabel" name="label_10" >
+            <property name="text" >
+             <string>Error X / Y:</string>
+            </property>
+           </widget>
+          </item>
+          <item>
+           <widget class="QLabel" name="labelErrorXY" >
+            <property name="text" >
+             <string>0.00 / 0.00</string>
+            </property>
+           </widget>
+          </item>
+          <item>
+           <spacer>
+            <property name="orientation" >
+             <enum>Qt::Horizontal</enum>
+            </property>
+            <property name="sizeHint" >
+             <size>
+              <width>40</width>
+              <height>20</height>
+             </size>
+            </property>
+           </spacer>
+          </item>
+         </layout>
         </item>
-        <item>
-         <property name="text" >
-          <string>Lanzcos3</string>
-         </property>
-        </item>
-       </widget>
+       </layout>
       </item>
      </layout>
-    </item>
-    <item row="2" column="0" colspan="4" >
-     <widget class="QDialogButtonBox" name="buttonBox" >
-      <property name="orientation" >
-       <enum>Qt::Horizontal</enum>
-      </property>
-      <property name="standardButtons" >
-       <set>QDialogButtonBox::Cancel|QDialogButtonBox::NoButton|QDialogButtonBox::Ok</set>
-      </property>
-     </widget>
-    </item>
-   </layout>
-  </widget>
+    </widget>
+   </item>
+   <item>
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Vertical</enum>
+     </property>
+     <property name="sizeType" >
+      <enum>QSizePolicy::Fixed</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>332</width>
+       <height>6</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+   <item>
+    <layout class="QHBoxLayout" >
+     <property name="margin" >
+      <number>0</number>
+     </property>
+     <property name="spacing" >
+      <number>6</number>
+     </property>
+     <item>
+      <widget class="QLabel" name="label_6" >
+       <property name="text" >
+        <string>Resize Method:</string>
+       </property>
+      </widget>
+     </item>
+     <item>
+      <widget class="QComboBox" name="comboBoxAlgo" >
+       <item>
+        <property name="text" >
+         <string>Bilinear</string>
+        </property>
+       </item>
+       <item>
+        <property name="text" >
+         <string>Bicubic</string>
+        </property>
+       </item>
+       <item>
+        <property name="text" >
+         <string>Lanzcos3</string>
+        </property>
+       </item>
+      </widget>
+     </item>
+     <item>
+      <spacer>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+       <property name="sizeHint" >
+        <size>
+         <width>40</width>
+         <height>20</height>
+        </size>
+       </property>
+      </spacer>
+     </item>
+    </layout>
+   </item>
+   <item>
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Vertical</enum>
+     </property>
+     <property name="sizeType" >
+      <enum>QSizePolicy::MinimumExpanding</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>20</width>
+       <height>16</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+   <item>
+    <widget class="QDialogButtonBox" name="buttonBox" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="standardButtons" >
+      <set>QDialogButtonBox::Cancel|QDialogButtonBox::NoButton|QDialogButtonBox::Ok</set>
+     </property>
+    </widget>
+   </item>
+  </layout>
  </widget>
+ <tabstops>
+  <tabstop>lockArCheckBox</tabstop>
+  <tabstop>comboBoxSource</tabstop>
+  <tabstop>comboBoxDestination</tabstop>
+  <tabstop>spinBoxWidth</tabstop>
+  <tabstop>spinBoxHeight</tabstop>
+  <tabstop>checkBoxRoundup</tabstop>
+  <tabstop>horizontalSlider</tabstop>
+  <tabstop>percentageSpinBox</tabstop>
+  <tabstop>comboBoxAlgo</tabstop>
+  <tabstop>buttonBox</tabstop>
+ </tabstops>
  <resources/>
  <connections>
   <connection>
    <sender>buttonBox</sender>
-   <signal>accepted()</signal>
+   <signal>rejected()</signal>
    <receiver>Dialog</receiver>
-   <slot>accept()</slot>
+   <slot>reject()</slot>
    <hints>
     <hint type="sourcelabel" >
-     <x>248</x>
-     <y>254</y>
+     <x>316</x>
+     <y>260</y>
     </hint>
     <hint type="destinationlabel" >
-     <x>157</x>
+     <x>286</x>
      <y>274</y>
     </hint>
    </hints>
   </connection>
   <connection>
-   <sender>buttonBox</sender>
-   <signal>rejected()</signal>
-   <receiver>Dialog</receiver>
-   <slot>reject()</slot>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_8</receiver>
+   <slot>setEnabled(bool)</slot>
    <hints>
     <hint type="sourcelabel" >
-     <x>316</x>
-     <y>260</y>
+     <x>184</x>
+     <y>117</y>
     </hint>
     <hint type="destinationlabel" >
-     <x>286</x>
-     <y>274</y>
+     <x>39</x>
+     <y>148</y>
     </hint>
    </hints>
   </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_5</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>184</x>
+     <y>117</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>150</x>
+     <y>148</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_9</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>184</x>
+     <y>117</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>267</x>
+     <y>148</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>horizontalSlider</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>184</x>
+     <y>117</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>156</x>
+     <y>164</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>percentageSpinBox</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>184</x>
+     <y>117</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>317</x>
+     <y>155</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>checkBoxRoundup</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>184</x>
+     <y>95</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>184</x>
+     <y>117</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_10</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>182</x>
+     <y>155</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>55</x>
+     <y>251</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>labelErrorXY</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>182</x>
+     <y>155</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>114</x>
+     <y>251</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_4</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>182</x>
+     <y>69</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>46</x>
+     <y>95</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>comboBoxSource</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>182</x>
+     <y>69</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>94</x>
+     <y>95</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_3</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>182</x>
+     <y>69</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>188</x>
+     <y>95</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>comboBoxDestination</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>182</x>
+     <y>69</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>247</x>
+     <y>95</y>
+    </hint>
+   </hints>
+  </connection>
  </connections>
 </ui>



From gruntster at mail.berlios.de  Mon Sep  8 16:48:33 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 8 Sep 2008 16:48:33 +0200
Subject: [Avidemux-svn-commit] r4314 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK/ADM_filters ADM_NONE/ADM_gui2 ADM_QT4/ADM_filters
	ADM_QT4/ADM_gui
Message-ID: <200809081448.m88EmXcD018283@sheep.berlios.de>

Author: gruntster
Date: 2008-09-08 16:48:20 +0200 (Mon, 08 Sep 2008)
New Revision: 4314

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/seekablePreview.ui
Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/seekablePreview.ui
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/preview_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
Log:
[Qt] make filter preview window non-modal

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp	2008-09-08 02:22:32 UTC (rev 4313)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp	2008-09-08 14:48:20 UTC (rev 4314)
@@ -52,6 +52,7 @@
 						    AVDMGenericVideoStream *
 						    in);
 extern const char  *filterGetNameFromTag(VF_FILTERS tag);
+extern uint8_t DIA_filterPreview(const char *captionText, AVDMGenericVideoStream *videoStream, uint32_t frame);
 //___________________________________________
 extern FILTER videofilters[MAX_FILTER];
 extern uint32_t nb_active_filter;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/preview_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/preview_none.cpp	2008-09-08 02:22:32 UTC (rev 4313)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/preview_none.cpp	2008-09-08 14:48:20 UTC (rev 4314)
@@ -24,4 +24,3 @@
 uint8_t DIA_previewUpdate(uint8_t *buffer) {return 1;}
 void DIA_previewEnd(void) {}
 uint8_t DIA_previewStillAlive(void) {return 1;}
-uint8_t DIA_filterPreview(const char *captionText, AVDMGenericVideoStream *videoStream, uint32_t frame) {}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt	2008-09-08 02:22:32 UTC (rev 4313)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt	2008-09-08 14:48:20 UTC (rev 4314)
@@ -9,6 +9,7 @@
 )
 SET(${ADM_LIB}_Q
 mainfilter
+seekablePreview
 )
 
 SET_SOURCE_FILES_PROPERTIES(filter_rsc.cpp PROPERTIES GENERATED TRUE)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-08 02:22:32 UTC (rev 4313)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-08 14:48:20 UTC (rev 4314)
@@ -35,6 +35,8 @@
 #include "ui_mainfilter.h"
 #undef Ui_Dialog
 
+#include "Q_seekablePreview.h"
+
 #include "default.h"
 #include "ADM_toolkit/filesel.h"
 
@@ -148,7 +150,7 @@
 
  public:
      filtermainWindow();
- //    virtual ~filtermainWindow();
+	 ~filtermainWindow();
      void             buildActiveFilterList(void);
      Ui_mainFilterDialog ui;
      
@@ -171,16 +173,22 @@
         void configure(bool b);
         void partial(bool b);
         void activeDoubleClick( QListWidgetItem  *item);
+		void activeItemChanged(QListWidgetItem *current, QListWidgetItem *previous);
         void allDoubleClick( QListWidgetItem  *item);
 	void filterFamilyClick(QListWidgetItem *item);
 	void filterFamilyClick(int  item);
 		void preview(bool b);
  private:
+		uint32_t previewFrameIndex;
+		int previewDialogX, previewDialogY;
+		Ui_seekablePreviewWindow *previewDialog;
+
         int startFilter[NB_TREE];
         int filterSize[NB_TREE];
         void setSelected(int sel);
         void displayFamily(uint32_t family);
         void setupFilters(void);
+		void closePreview();
 };
 
 void filtermainWindow::preview(bool b)
@@ -197,9 +205,32 @@
 	ADM_assert(itag > ACTIVE_FILTER_BASE);
 	itag -= ACTIVE_FILTER_BASE;
 
-	DIA_filterPreview(QT_TR_NOOP("Preview"), videofilters[itag].filter, curframe);
+	if (previewDialog)
+		previewDialog->resetVideoStream(videofilters[itag].filter);
+	else
+	{
+		previewDialog = new Ui_seekablePreviewWindow(this, videofilters[itag].filter, previewFrameIndex);
+
+		if (previewDialogX != INT_MIN)
+			previewDialog->move(previewDialogX, previewDialogY);
+	}
+
+	previewDialog->show();
 }
 
+void filtermainWindow::closePreview()
+{
+	if (previewDialog)
+	{
+		previewFrameIndex = previewDialog->frameIndex();
+		previewDialogX = previewDialog->x();
+		previewDialogY = previewDialog->y();
+
+		delete previewDialog;
+		previewDialog = NULL;
+	}
+}
+
 /**
         \fn     void setSelected(int sel)
         \brief  Set the sel line as selected in the active filter window
@@ -241,12 +272,19 @@
             delete videofilters[nb_active_filter].filter;
             return;
         }
+
+		bool previewDialogOpen = (previewDialog != NULL);
+
+		closePreview();
         videofilters[nb_active_filter].filter->getCoupledConf (&coup);
         videofilters[nb_active_filter].tag = tag;
         videofilters[nb_active_filter].conf = coup;
         nb_active_filter++;
 		buildActiveFilterList();
         setSelected(nb_active_filter - 1);
+
+		if (previewDialogOpen)
+			preview(true);
    }
 
 }
@@ -264,7 +302,11 @@
       printf("No selection\n");
       return;
    }
-    
+
+   bool previewDialogOpen = (previewDialog != NULL);
+
+   closePreview();
+
      int itag=item->type();
      ADM_assert(itag>ACTIVE_FILTER_BASE);
      itag-=ACTIVE_FILTER_BASE;
@@ -299,15 +341,25 @@
               else
                   setSelected(nb_active_filter-1);
             }
-  
+
+			if (previewDialogOpen)
+				preview(true);
 }
 #define MAKE_BUTTON(button,call) \
 void filtermainWindow::button( bool b) \
 { \
-    call(); \
-    getFirstVideoFilter (); \
-    buildActiveFilterList ();  \
-	setSelected(nb_active_filter - 1); \
+    if (call()) \
+	{ \
+		bool previewDialogOpen = (previewDialog != NULL); \
+\
+		closePreview(); \
+		getFirstVideoFilter (); \
+		buildActiveFilterList ();  \
+		setSelected(nb_active_filter - 1); \
+\
+		if (previewDialogOpen) \
+			preview(true); \
+	} \
 }
 MAKE_BUTTON(DVD,setDVD)
 MAKE_BUTTON(VCD,setVCD)
@@ -337,6 +389,11 @@
      /**/
      
         if(!videofilters[itag].filter->configure (videofilters[itag - 1].filter)) return;
+
+		bool previewDialogOpen = (previewDialog != NULL);
+
+		closePreview();
+
         /* Recreate chain if needed , config has changed */
         CONFcouple *couple;
         videofilters[itag].filter->getCoupledConf (&couple);
@@ -344,6 +401,9 @@
         getFirstVideoFilter ();
         buildActiveFilterList ();
 		setSelected(itag);
+
+		if (previewDialogOpen)
+			preview(true);
 }
 /**
         \fn     up( bool b)
@@ -366,6 +426,11 @@
      ADM_assert(itag);
      
      if (itag < 2) return;
+
+	 bool previewDialogOpen = (previewDialog != NULL);
+
+	 closePreview();
+
         // swap action parameter & action parameter -1
         FILTER tmp;
         memcpy (&tmp, &videofilters[itag - 1], sizeof (FILTER));
@@ -375,6 +440,9 @@
         getFirstVideoFilter ();
         buildActiveFilterList ();
         setSelected(itag-1);
+
+		if (previewDialogOpen)
+			preview(true);
 }
 /**
         \fn     down( bool b)
@@ -398,6 +466,10 @@
      
     if (((int) itag < (int) (nb_active_filter - 1)) && (itag))
         {
+			bool previewDialogOpen = (previewDialog != NULL);
+
+			closePreview();
+
             // swap action parameter & action parameter -1
             FILTER tmp;
             memcpy (&tmp, &videofilters[itag + 1], sizeof (FILTER));
@@ -407,6 +479,9 @@
             getFirstVideoFilter ();
             buildActiveFilterList ();
             setSelected(itag+1);
+
+			if (previewDialogOpen)
+				preview(true);
         }
 }
 /**
@@ -454,6 +529,19 @@
 	  availableList->setCurrentRow(0);
 }
 
+void filtermainWindow::activeItemChanged(QListWidgetItem *current, QListWidgetItem *previous)
+{
+	if (previewDialog && previewDialog->isVisible())
+	{
+		int itag = current->type();
+
+		ADM_assert(itag > ACTIVE_FILTER_BASE);
+		itag -= ACTIVE_FILTER_BASE;
+
+		previewDialog->resetVideoStream(videofilters[itag].filter);
+	}
+}
+
 /**
         \fn     filtermainWindow::activeDoubleClick( QListWidgetItem  *item)
         \brief  One of the active window has been double clicked, call configure
@@ -507,6 +595,10 @@
                                       conf);
         if(replace->configure (videofilters[itag - 1].filter))
         {
+			bool previewDialogOpen = (previewDialog != NULL);
+
+			closePreview();
+
             delete videofilters[itag].filter;
             if (conf) delete conf;
             videofilters[itag].filter = replace;
@@ -516,6 +608,9 @@
             getFirstVideoFilter ();
             buildActiveFilterList ();
 			setSelected(itag);
+
+			if (previewDialogOpen)
+				preview(true);
         }
         else delete replace;
 }
@@ -592,8 +687,13 @@
         memset( filterSize,0,sizeof(int)*NB_TREE);
  
     ui.setupUi(this);
-    setupFilters();  
-      
+    setupFilters();
+
+	previewDialog = NULL;
+	previewDialogX = INT_MIN;
+	previewDialogY = INT_MIN;
+	previewFrameIndex = curframe;
+
     availableList=ui.listWidgetAvailable;
     activeList=ui.listWidgetActive;
     connect(ui.listFilterCategory,SIGNAL(itemDoubleClicked(QListWidgetItem *)),
@@ -602,8 +702,9 @@
                 this,SLOT(filterFamilyClick(QListWidgetItem *)));
 
     connect(activeList,SIGNAL(itemDoubleClicked(QListWidgetItem *)),this,SLOT(activeDoubleClick(QListWidgetItem *)));
+	connect(activeList, SIGNAL(currentItemChanged(QListWidgetItem*, QListWidgetItem*)), this, SLOT(activeItemChanged(QListWidgetItem*, QListWidgetItem*)));
     connect(availableList,SIGNAL(itemDoubleClicked(QListWidgetItem *)),this,SLOT(allDoubleClick(QListWidgetItem *)));
-    
+
     connect((ui.toolButtonConfigure),SIGNAL(clicked(bool)),this,SLOT(configure(bool)));
     connect((ui.toolButtonAdd),SIGNAL(clicked(bool)),this,SLOT(add(bool)));
     connect((ui.pushButtonRemove),SIGNAL(clicked(bool)),this,SLOT(remove(bool)));
@@ -624,6 +725,12 @@
     buildActiveFilterList();
 	setSelected(nb_active_filter - 1);
  }
+
+filtermainWindow::~filtermainWindow()
+{
+	if (previewDialog)
+		delete previewDialog;
+}
 /*******************************************************/
 
 int GUI_handleVFilter(void);

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.cpp (from rev 4309, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.cpp	2008-09-06 14:25:47 UTC (rev 4309)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.cpp	2008-09-08 14:48:20 UTC (rev 4314)
@@ -0,0 +1,91 @@
+/***************************************************************************
+                           Q_seekablePreview.cpp
+                           ---------------------
+
+    begin                : Fri Sep 5 2008
+    copyright            : (C) 2008 by gruntster
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include "ui_seekablePreview.h"
+
+#include "default.h"
+#include "ADM_assert.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "DIA_flyDialog.h"
+#include "DIA_flyPreview.h"
+#include "../ADM_dialog/DIA_flyDialogQt4.h"
+
+class Ui_seekablePreviewWindow : public QDialog
+{
+	Q_OBJECT
+
+public:
+	ADM_QCanvas *canvas;
+	flySeekablePreview *seekablePreview;
+	Ui_seekablePreviewDialog ui;
+	Ui_seekablePreviewWindow(QWidget *parent, AVDMGenericVideoStream *videoStream, uint32_t defaultFrame = 0);
+	~Ui_seekablePreviewWindow();
+	void resetVideoStream(AVDMGenericVideoStream *videoStream);
+	uint32_t frameIndex();
+
+public slots:
+	void sliderChanged(int value);
+};
+
+Ui_seekablePreviewWindow::Ui_seekablePreviewWindow(QWidget *parent, AVDMGenericVideoStream *videoStream, uint32_t defaultFrame) : QDialog(parent)
+{
+	ui.setupUi(this);
+
+	seekablePreview = NULL;
+	canvas = NULL;
+
+	resetVideoStream(videoStream);
+	seekablePreview->sliderSet(defaultFrame);
+	seekablePreview->sliderChanged();
+
+	connect(ui.horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(sliderChanged(int)));
+}
+
+Ui_seekablePreviewWindow::~Ui_seekablePreviewWindow()
+{
+	delete seekablePreview;
+	delete canvas;
+}
+
+void Ui_seekablePreviewWindow::resetVideoStream(AVDMGenericVideoStream *videoStream)
+{
+	if (seekablePreview)
+		delete seekablePreview;
+
+	if (canvas)
+		delete canvas;
+
+	uint32_t canvasWidth = videoStream->getInfo()->width;
+	uint32_t canvasHeight = videoStream->getInfo()->height;
+
+	canvas = new ADM_QCanvas(ui.frame, canvasWidth, canvasHeight);
+	canvas->show();
+	seekablePreview = new flySeekablePreview(canvasWidth, canvasHeight, videoStream, canvas, ui.horizontalSlider);	
+
+	seekablePreview->process();
+	seekablePreview->sliderChanged();
+}
+
+void Ui_seekablePreviewWindow::sliderChanged(int value)
+{
+	seekablePreview->sliderChanged();
+}
+
+uint32_t Ui_seekablePreviewWindow::frameIndex()
+{
+	return seekablePreview->sliderGet();
+}
\ No newline at end of file


Property changes on: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.cpp
___________________________________________________________________
Name: svn:mergeinfo
   + 

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.h (from rev 4309, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.h)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.h	2008-09-06 14:25:47 UTC (rev 4309)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.h	2008-09-08 14:48:20 UTC (rev 4314)
@@ -0,0 +1,43 @@
+/***************************************************************************
+                            Q_seekablePreview.h
+                            -------------------
+
+    begin                : Fri Sep 5 2008
+    copyright            : (C) 2008 by gruntster
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include <QtGui>
+#include "ui_seekablePreview.h"
+
+#include "default.h"
+#include "ADM_assert.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "DIA_flyDialog.h"
+#include "DIA_flyPreview.h"
+#include "../ADM_dialog/DIA_flyDialogQt4.h"
+
+class Ui_seekablePreviewWindow : public QDialog
+{
+	Q_OBJECT
+
+public:
+	ADM_QCanvas *canvas;
+	flySeekablePreview *seekablePreview;
+	Ui_seekablePreviewDialog ui;
+	Ui_seekablePreviewWindow(QWidget *parent, AVDMGenericVideoStream *videoStream, uint32_t defaultFrame = 0);
+	~Ui_seekablePreviewWindow();
+	void resetVideoStream(AVDMGenericVideoStream *videoStream);
+	uint32_t frameIndex();
+
+public slots:
+	void sliderChanged(int value);
+};


Property changes on: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.h
___________________________________________________________________
Name: svn:mergeinfo
   + 

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/seekablePreview.ui (from rev 4309, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/seekablePreview.ui)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/seekablePreview.ui	2008-09-06 14:25:47 UTC (rev 4309)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/seekablePreview.ui	2008-09-08 14:48:20 UTC (rev 4314)
@@ -0,0 +1,70 @@
+<ui version="4.0" >
+ <class>seekablePreviewDialog</class>
+ <widget class="QDialog" name="seekablePreviewDialog" >
+  <property name="geometry" >
+   <rect>
+    <x>0</x>
+    <y>0</y>
+    <width>400</width>
+    <height>300</height>
+   </rect>
+  </property>
+  <property name="windowTitle" >
+   <string>Preview</string>
+  </property>
+  <layout class="QVBoxLayout" >
+   <property name="margin" >
+    <number>9</number>
+   </property>
+   <property name="spacing" >
+    <number>6</number>
+   </property>
+   <item>
+    <widget class="QFrame" name="frame" >
+     <property name="frameShape" >
+      <enum>QFrame::StyledPanel</enum>
+     </property>
+     <property name="frameShadow" >
+      <enum>QFrame::Raised</enum>
+     </property>
+    </widget>
+   </item>
+   <item>
+    <widget class="QSlider" name="horizontalSlider" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+    </widget>
+   </item>
+   <item>
+    <widget class="QDialogButtonBox" name="buttonBox" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="standardButtons" >
+      <set>QDialogButtonBox::Ok</set>
+     </property>
+    </widget>
+   </item>
+  </layout>
+ </widget>
+ <resources/>
+ <connections>
+  <connection>
+   <sender>buttonBox</sender>
+   <signal>accepted()</signal>
+   <receiver>seekablePreviewDialog</receiver>
+   <slot>accept()</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>207</x>
+     <y>306</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>207</x>
+     <y>177</y>
+    </hint>
+   </hints>
+  </connection>
+ </connections>
+</ui>


Property changes on: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/seekablePreview.ui
___________________________________________________________________
Name: svn:mergeinfo
   + 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2008-09-08 02:22:32 UTC (rev 4313)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2008-09-08 14:48:20 UTC (rev 4314)
@@ -14,7 +14,6 @@
 )
 
 SET(${ADM_LIB}_Q
-seekablePreview
 gui2
 )
 

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.cpp	2008-09-08 02:22:32 UTC (rev 4313)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.cpp	2008-09-08 14:48:20 UTC (rev 4314)
@@ -1,75 +0,0 @@
-/***************************************************************************
-                           Q_seekablePreview.cpp
-                           ---------------------
-
-    begin                : Fri Sep 5 2008
-    copyright            : (C) 2008 by gruntster
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include "ui_seekablePreview.h"
-
-#include "default.h"
-#include "ADM_assert.h"
-#include "ADM_video/ADM_genvideo.hxx"
-#include "DIA_flyDialog.h"
-#include "DIA_flyPreview.h"
-#include "../ADM_dialog/DIA_flyDialogQt4.h"
-
-class Ui_seekablePreviewWindow : public QDialog
-{
-	Q_OBJECT
-
-public:
-	ADM_QCanvas *canvas;
-	flySeekablePreview *seekablePreview;
-	Ui_seekablePreviewDialog ui;
-	Ui_seekablePreviewWindow(AVDMGenericVideoStream *videoStream, uint32_t defaultFrame = 0);
-	~Ui_seekablePreviewWindow();
-
-public slots:
-	void closeWindow();
-	void sliderChanged(int value);
-};
-
-Ui_seekablePreviewWindow::Ui_seekablePreviewWindow(AVDMGenericVideoStream *videoStream, uint32_t defaultFrame) : QDialog()
-{
-	ui.setupUi(this);
-
-	uint32_t canvasWidth = videoStream->getInfo()->width;
-	uint32_t canvasHeight = videoStream->getInfo()->height;
-
-	canvas = new ADM_QCanvas(ui.frame, canvasWidth, canvasHeight);
-	seekablePreview = new flySeekablePreview(canvasWidth, canvasHeight, videoStream, canvas, ui.horizontalSlider);
-
-	seekablePreview->process();
-	seekablePreview->sliderSet(defaultFrame);
-	seekablePreview->sliderChanged();
-
-	connect(ui.okButton, SIGNAL(clicked(bool)), this, SLOT(closeWindow()));
-	connect(ui.horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(sliderChanged(int)));
-}
-
-Ui_seekablePreviewWindow::~Ui_seekablePreviewWindow()
-{
-	delete seekablePreview;
-	delete canvas;
-}
-
-void Ui_seekablePreviewWindow::closeWindow()
-{
-	close();
-}
-
-void Ui_seekablePreviewWindow::sliderChanged(int value)
-{
-	seekablePreview->sliderChanged();
-}
\ No newline at end of file

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.h	2008-09-08 02:22:32 UTC (rev 4313)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.h	2008-09-08 14:48:20 UTC (rev 4314)
@@ -1,41 +0,0 @@
-/***************************************************************************
-                            Q_seekablePreview.h
-                            -------------------
-
-    begin                : Fri Sep 5 2008
-    copyright            : (C) 2008 by gruntster
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include "ui_seekablePreview.h"
-
-#include "default.h"
-#include "ADM_assert.h"
-#include "ADM_video/ADM_genvideo.hxx"
-#include "DIA_flyDialog.h"
-#include "DIA_flyPreview.h"
-#include "../ADM_dialog/DIA_flyDialogQt4.h"
-
-class Ui_seekablePreviewWindow : public QDialog
-{
-	Q_OBJECT
-
-public:
-	ADM_QCanvas *canvas;
-	flySeekablePreview *seekablePreview;
-	Ui_seekablePreviewDialog ui;
-	Ui_seekablePreviewWindow(AVDMGenericVideoStream *videoStream, uint32_t defaultFrame = 0);
-	~Ui_seekablePreviewWindow();
-
-public slots:
-	void closeWindow();
-	void sliderChanged(int value);
-};

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-08 02:22:32 UTC (rev 4313)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-08 14:48:20 UTC (rev 4314)
@@ -24,16 +24,8 @@
 #include <time.h>
 #include <sys/time.h>
 
-#include <QtCore/QVariant>
-#include <QtGui/QAction>
-#include <QtGui/QApplication>
-#include <QtGui/QButtonGroup>
-#include <QtGui/QFrame>
-#include <QtGui/QGraphicsView>
-#include <QtGui/QSlider>
-#include <QMessageBox>
-#include <QPainter>
-#include <QImage>
+#include <QtGui>
+
 /* Probably on unix/X11 ..*/
 #ifdef __APPLE__
 #include <Carbon/Carbon.h>
@@ -45,7 +37,6 @@
 #include "GUI_render.h"
 #include "GUI_accelRender.h"
 #include "ADM_video/ADM_genvideo.hxx"
-#include "Q_seekablePreview.h"
 
 static QFrame *hostFrame=NULL;
 static AccelRender *accelRender=NULL;
@@ -59,16 +50,6 @@
 void DIA_previewEnd(void) {}
 uint8_t DIA_previewStillAlive(void) {return 1;}
 
-uint8_t	DIA_filterPreview(const char *captionText, AVDMGenericVideoStream *videoStream, uint32_t frame)
-{
-	ADM_assert(frame <= videoStream->getInfo()->nb_frames);
-
-	printf("** DIA_filterPreview %i **\n", frame);
-	Ui_seekablePreviewWindow previewDialog(videoStream, frame);
-
-	previewDialog.exec();
-}
-
 //****************************************************************************************************
 /*
   Function to display

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/seekablePreview.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/seekablePreview.ui	2008-09-08 02:22:32 UTC (rev 4313)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/seekablePreview.ui	2008-09-08 14:48:20 UTC (rev 4314)
@@ -1,79 +0,0 @@
-<ui version="4.0" >
- <class>seekablePreviewDialog</class>
- <widget class="QDialog" name="seekablePreviewDialog" >
-  <property name="geometry" >
-   <rect>
-    <x>0</x>
-    <y>0</y>
-    <width>400</width>
-    <height>300</height>
-   </rect>
-  </property>
-  <property name="windowTitle" >
-   <string>Preview</string>
-  </property>
-  <property name="modal" >
-   <bool>true</bool>
-  </property>
-  <layout class="QVBoxLayout" >
-   <property name="margin" >
-    <number>9</number>
-   </property>
-   <property name="spacing" >
-    <number>6</number>
-   </property>
-   <item>
-    <widget class="QFrame" name="frame" >
-     <property name="frameShape" >
-      <enum>QFrame::StyledPanel</enum>
-     </property>
-     <property name="frameShadow" >
-      <enum>QFrame::Raised</enum>
-     </property>
-    </widget>
-   </item>
-   <item>
-    <widget class="QSlider" name="horizontalSlider" >
-     <property name="orientation" >
-      <enum>Qt::Horizontal</enum>
-     </property>
-    </widget>
-   </item>
-   <item>
-    <layout class="QHBoxLayout" >
-     <property name="margin" >
-      <number>0</number>
-     </property>
-     <property name="spacing" >
-      <number>6</number>
-     </property>
-     <item>
-      <spacer>
-       <property name="orientation" >
-        <enum>Qt::Horizontal</enum>
-       </property>
-       <property name="sizeHint" >
-        <size>
-         <width>40</width>
-         <height>20</height>
-        </size>
-       </property>
-      </spacer>
-     </item>
-     <item>
-      <widget class="QPushButton" name="okButton" >
-       <property name="text" >
-        <string>OK</string>
-       </property>
-       <property name="default" >
-        <bool>true</bool>
-       </property>
-      </widget>
-     </item>
-    </layout>
-   </item>
-  </layout>
- </widget>
- <resources/>
- <connections/>
-</ui>



From gruntster at mail.berlios.de  Mon Sep  8 17:20:37 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 8 Sep 2008 17:20:37 +0200
Subject: [Avidemux-svn-commit] r4315 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4:
	ADM_dialog ADM_gui
Message-ID: <200809081520.m88FKbMj020628@sheep.berlios.de>

Author: gruntster
Date: 2008-09-08 17:20:28 +0200 (Mon, 08 Sep 2008)
New Revision: 4315

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/preview.ui
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
Log:
[Qt] separate mode preview window for main UI

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp	2008-09-08 14:48:20 UTC (rev 4314)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp	2008-09-08 15:20:28 UTC (rev 4315)
@@ -27,11 +27,12 @@
 {
 	QWidget *graphicsView = ((ADM_QCanvas*)_canvas)->parentWidget();
 	QSlider  *slider=(QSlider *)_slider;
-	
+
 	graphicsView->setMinimumSize(_w, _h);
 	graphicsView->resize(_w, _h);
-	uint32_t nbFrames=_in->getInfo()->nb_frames; 
-	slider->setMaximum(nbFrames);
+
+	if (slider)
+		slider->setMaximum(_in->getInfo()->nb_frames);
 }
 
 float ADM_flyDialog::calcZoomFactor(void) {return 1;}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2008-09-08 14:48:20 UTC (rev 4314)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2008-09-08 15:20:28 UTC (rev 4315)
@@ -15,6 +15,7 @@
 
 SET(${ADM_LIB}_Q
 gui2
+preview
 )
 
 Q_RCC(avidemux)

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.cpp	2008-09-08 14:48:20 UTC (rev 4314)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.cpp	2008-09-08 15:20:28 UTC (rev 4315)
@@ -0,0 +1,58 @@
+/***************************************************************************
+                                Q_preview.cpp
+                                -------------
+
+    begin                : Mon Sep 8 2008
+    copyright            : (C) 2008 by gruntster
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include "ui_preview.h"
+
+#include "default.h"
+#include "ADM_assert.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "DIA_flyDialog.h"
+#include "DIA_flyPreview.h"
+#include "../ADM_dialog/DIA_flyDialogQt4.h"
+
+class Ui_previewWindow : public QDialog
+{
+	Q_OBJECT
+
+public:
+	ADM_QCanvas *canvas;
+	flyPreview *preview;
+	Ui_previewDialog ui;
+	Ui_previewWindow(QWidget *parent, int width, int height);
+	~Ui_previewWindow();
+	void update(uint8_t *buffer);
+};
+
+Ui_previewWindow::Ui_previewWindow(QWidget *parent, int width, int height) : QDialog(parent, Qt::WindowTitleHint)
+{
+	ui.setupUi(this);
+
+	canvas = new ADM_QCanvas(ui.frame, width, height);
+	preview = new flyPreview(width, height, canvas);
+}
+
+Ui_previewWindow::~Ui_previewWindow()
+{
+	delete preview;
+	delete canvas;
+}
+
+void Ui_previewWindow::update(uint8_t *buffer)
+{
+	preview->setData(buffer);
+	preview->display();
+}

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.h	2008-09-08 14:48:20 UTC (rev 4314)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.h	2008-09-08 15:20:28 UTC (rev 4315)
@@ -0,0 +1,38 @@
+/***************************************************************************
+                                Q_preview.h
+                                -----------
+
+    begin                : Mon Sep 8 2008
+    copyright            : (C) 2008 by gruntster
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include "ui_preview.h"
+
+#include "default.h"
+#include "ADM_assert.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "DIA_flyDialog.h"
+#include "DIA_flyPreview.h"
+#include "../ADM_dialog/DIA_flyDialogQt4.h"
+
+class Ui_previewWindow : public QDialog
+{
+	Q_OBJECT
+
+public:
+	ADM_QCanvas *canvas;
+	flyPreview *preview;
+	Ui_previewDialog ui;
+	Ui_previewWindow(QWidget *parent, int width, int height);
+	~Ui_previewWindow();
+	void update(uint8_t *buffer);
+};

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-08 14:48:20 UTC (rev 4314)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-08 15:20:28 UTC (rev 4315)
@@ -37,6 +37,7 @@
 #include "GUI_render.h"
 #include "GUI_accelRender.h"
 #include "ADM_video/ADM_genvideo.hxx"
+#include "Q_preview.h"
 
 static QFrame *hostFrame=NULL;
 static AccelRender *accelRender=NULL;
@@ -45,11 +46,41 @@
  ColYuvRgb rgbConverter(640,480,1);
 extern void UI_purge( void );
 
-void DIA_previewInit(uint32_t width, uint32_t height) {}
-uint8_t DIA_previewUpdate(uint8_t *data) {return 1;}
-void DIA_previewEnd(void) {}
-uint8_t DIA_previewStillAlive(void) {return 1;}
+static Ui_previewWindow *previewWindow = NULL;
+
+void DIA_previewInit(uint32_t width, uint32_t height)
+{
+	previewWindow = new Ui_previewWindow(QuiMainWindows, width, height);
+	previewWindow->show();
+}
+
+uint8_t DIA_previewStillAlive(void)
+{
+	return (previewWindow != NULL);
+}
+
+uint8_t DIA_previewUpdate(uint8_t *buffer)
+{
+	if (previewWindow)
+	{
+		previewWindow->update(buffer);
+
+		return 1;
+	}
+
+	return 0;
+}
+
+void DIA_previewEnd(void)
+{
+	if (previewWindow)
+	{
+		delete previewWindow;
+		previewWindow = NULL;
+	}
+}
 
+
 //****************************************************************************************************
 /*
   Function to display

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/preview.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/preview.ui	2008-09-08 14:48:20 UTC (rev 4314)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/preview.ui	2008-09-08 15:20:28 UTC (rev 4315)
@@ -0,0 +1,36 @@
+<ui version="4.0" >
+ <class>previewDialog</class>
+ <widget class="QDialog" name="previewDialog" >
+  <property name="geometry" >
+   <rect>
+    <x>0</x>
+    <y>0</y>
+    <width>400</width>
+    <height>300</height>
+   </rect>
+  </property>
+  <property name="windowTitle" >
+   <string>Preview</string>
+  </property>
+  <layout class="QVBoxLayout" >
+   <property name="margin" >
+    <number>9</number>
+   </property>
+   <property name="spacing" >
+    <number>6</number>
+   </property>
+   <item>
+    <widget class="QFrame" name="frame" >
+     <property name="frameShape" >
+      <enum>QFrame::StyledPanel</enum>
+     </property>
+     <property name="frameShadow" >
+      <enum>QFrame::Raised</enum>
+     </property>
+    </widget>
+   </item>
+  </layout>
+ </widget>
+ <resources/>
+ <connections/>
+</ui>



From gruntster at mail.berlios.de  Mon Sep  8 18:10:35 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 8 Sep 2008 18:10:35 +0200
Subject: [Avidemux-svn-commit] r4316 - in
	branches/avidemux_2.4_branch/platforms/windows:
	build_scripts/avidemux_2.4 installer
Message-ID: <200809081610.m88GAZDC027427@sheep.berlios.de>

Author: gruntster
Date: 2008-09-08 18:10:29 +0200 (Mon, 08 Sep 2008)
New Revision: 4316

Modified:
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Package Notes.xml
   branches/avidemux_2.4_branch/platforms/windows/installer/avidemux.nsi
Log:
[Win32] update installer script for GTK+ 2.14

Modified: branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Package Notes.xml
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Package Notes.xml	2008-09-08 15:20:28 UTC (rev 4315)
+++ branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Package Notes.xml	2008-09-08 16:10:29 UTC (rev 4316)
@@ -1,11 +1,29 @@
 <?xml version="1.0"?>
 <log>
+  <buildentry revision="4304" date="2008-09-02">
+    <comment>Updated Qt to version 4.4.1.</comment>
+    <comment>Updated x264 to r956 (patched).</comment>
+  </buildentry>
+  <buildentry revision="4297" date="2008-07-31">
+    <comment>Updated x264 to r927 (patched).</comment>
+  </buildentry>
+  <buildentry revision="4281" date="2008-07-25">
+    <comment>Updated x264 to r918 (patched).</comment>
+  </buildentry>
+  <buildentry revision="4276 [2.4.3 Final]" date="2008-07-24">
+  </buildentry>
+  <buildentry revision="4269" date="2008-07-21">
+    <comment>Updated GLib to version 2.16.5.</comment>
+    <comment>Updated x264 to r915 (patched).</comment>
+  </buildentry>
+  <buildentry revision="4219" date="2008-07-16">
+  </buildentry>
   <buildentry revision="4211" date="2008-07-13">
     <comment>Updated GLib to version 2.16.4.</comment>
     <comment>Updated GTK+ to version 2.12.11.</comment>
     <comment>Updated Pango to version 1.20.5.</comment>
     <comment>Updated x264 to r912 (patched).</comment>
-  </buildentry>  
+  </buildentry>
   <buildentry revision="4195 [2.4.2 Final]" date="2008-07-06">
     <comment>Updated LAME to version 3.98.</comment>
     <comment>Updated x264 to r899 (patched).</comment>

Modified: branches/avidemux_2.4_branch/platforms/windows/installer/avidemux.nsi
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/installer/avidemux.nsi	2008-09-08 15:20:28 UTC (rev 4315)
+++ branches/avidemux_2.4_branch/platforms/windows/installer/avidemux.nsi	2008-09-08 16:10:29 UTC (rev 4316)
@@ -7,7 +7,7 @@
 !include revision.nsh
 !include builddir.nsh
 
-Name "Avidemux 2.4.2 r${REVISION}"
+Name "Avidemux 2.4.3 r${REVISION}"
 
 SetCompressor /SOLID lzma
 SetCompressorDictSize 96
@@ -18,7 +18,7 @@
 !define INTERNALNAME "Avidemux 2.4"
 !define REGKEY "SOFTWARE\${INTERNALNAME}"
 !define UNINST_REGKEY "SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\${INTERNALNAME}"
-!define VERSION 2.4.2.${REVISION}
+!define VERSION 2.4.3.${REVISION}
 !define COMPANY "Free Software Foundation"
 !define URL "http://www.avidemux.org"
 
@@ -94,7 +94,7 @@
 CRCCheck on
 XPStyle on
 ShowInstDetails nevershow
-VIProductVersion 2.4.2.${REVISION}
+VIProductVersion 2.4.3.${REVISION}
 VIAddVersionKey ProductName Avidemux
 VIAddVersionKey ProductVersion "${VERSION}"
 VIAddVersionKey FileVersion ""
@@ -176,10 +176,9 @@
     File ${BUILDDIR}\libfaac.dll
     File ${BUILDDIR}\libfaad2.dll
     File ${BUILDDIR}\libfontconfig-1.dll
-    File ${BUILDDIR}\libglib-2.0-0.dll
     File ${BUILDDIR}\libmp3lame-0.dll
     File ${BUILDDIR}\libpng12-0.dll
-    File ${BUILDDIR}\libx264.dll
+    File ${BUILDDIR}\libx264-*.dll
     File ${BUILDDIR}\libxml2.dll
     File ${BUILDDIR}\ogg.dll
     File ${BUILDDIR}\pthreadGC2.dll
@@ -228,6 +227,8 @@
         File ${BUILDDIR}\libcairo-2.dll
         File ${BUILDDIR}\libgdk_pixbuf-2.0-0.dll
         File ${BUILDDIR}\libgdk-win32-2.0-0.dll
+        File ${BUILDDIR}\libgio-2.0-0.dll
+        File ${BUILDDIR}\libglib-2.0-0.dll
         File ${BUILDDIR}\libgmodule-2.0-0.dll
         File ${BUILDDIR}\libgobject-2.0-0.dll
         File ${BUILDDIR}\libgthread-2.0-0.dll
@@ -470,6 +471,8 @@
     Delete /REBOOTOK $INSTDIR\libpangowin32-1.0-0.dll
     Delete /REBOOTOK $INSTDIR\libpangocairo-1.0-0.dll
     Delete /REBOOTOK $INSTDIR\libpango-1.0-0.dll
+    Delete /REBOOTOK $INSTDIR\libgio-2.0-0.dll
+    Delete /REBOOTOK $INSTDIR\libglib-2.0-0.dll
     Delete /REBOOTOK $INSTDIR\libgtk-win32-2.0-0.dll
     Delete /REBOOTOK $INSTDIR\libgthread-2.0-0.dll
     Delete /REBOOTOK $INSTDIR\libgobject-2.0-0.dll
@@ -509,10 +512,9 @@
     Delete /REBOOTOK $INSTDIR\pthreadGC2.dll
     Delete /REBOOTOK $INSTDIR\ogg.dll
     Delete /REBOOTOK $INSTDIR\libxml2.dll
-    Delete /REBOOTOK $INSTDIR\libx264.dll
+    Delete /REBOOTOK $INSTDIR\libx264-*.dll
     Delete /REBOOTOK $INSTDIR\libpng12-0.dll
     Delete /REBOOTOK $INSTDIR\libmp3lame-0.dll
-    Delete /REBOOTOK $INSTDIR\libglib-2.0-0.dll
     Delete /REBOOTOK $INSTDIR\libfontconfig-1.dll
     Delete /REBOOTOK $INSTDIR\libfaad2.dll
     Delete /REBOOTOK $INSTDIR\libfaac.dll



From gruntster at mail.berlios.de  Tue Sep  9 02:30:17 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Tue, 9 Sep 2008 02:30:17 +0200
Subject: [Avidemux-svn-commit] r4319 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters
Message-ID: <200809090030.m890UHm5031026@sheep.berlios.de>

Author: gruntster
Date: 2008-09-09 02:30:07 +0200 (Tue, 09 Sep 2008)
New Revision: 4319

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui
Log:
[Qt] implement script buttons on filter manager window

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-08 23:37:03 UTC (rev 4318)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-09 00:30:07 UTC (rev 4319)
@@ -173,6 +173,8 @@
         void remove(bool b);
         void configure(bool b);
         void partial(bool b);
+		void loadScript(bool b);
+		void saveScript(bool b);
         void activeDoubleClick( QListWidgetItem  *item);
 		void activeItemChanged(QListWidgetItem *current, QListWidgetItem *previous);
         void allDoubleClick( QListWidgetItem  *item);
@@ -611,6 +613,41 @@
         }
         else delete replace;
 }
+
+void filtermainWindow::loadScript(bool)
+{
+	bool previewDialogOpen = (previewDialog != NULL);
+
+	closePreview();
+
+#ifdef USE_LIBXML2
+	GUI_FileSelRead (QT_TR_NOOP("Load set of filters"), filterLoadXml);
+#else
+	GUI_FileSelRead (QT_TR_NOOP("Load set of filters"), filterLoad);
+#endif
+
+	getFirstVideoFilter ();
+	buildActiveFilterList ();
+	setSelected(nb_active_filter - 1);
+
+	if (previewDialogOpen)
+		preview(true);
+}
+
+void filtermainWindow::saveScript(bool)
+{
+	if (nb_active_filter < 2)
+	{
+		GUI_Error_HIG (QT_TR_NOOP("Nothing to save"), NULL);
+	}
+	else
+#ifdef USE_LIBXML2
+		GUI_FileSelWrite(QT_TR_NOOP("Save set of filters"), filterSaveXml);
+#else
+		GUI_FileSelWrite(QT_TR_NOOP("Save set of filters"), filterSave);
+#endif
+}
+
 /**
         \fn setup
         \brief Prepare 
@@ -694,6 +731,9 @@
     availableList=ui.listWidgetAvailable;
     activeList=ui.listWidgetActive;
 
+	ui.buttonBox->button(QDialogButtonBox::Close)->setDefault(true);
+	ui.buttonBox->addButton(ui.pushButtonPreview, QDialogButtonBox::ActionRole);
+
 	connect(ui.listFilterCategory, SIGNAL(currentItemChanged(QListWidgetItem*, QListWidgetItem*)), this, SLOT(filterFamilyItemChanged(QListWidgetItem*, QListWidgetItem *)));
 
     connect(activeList,SIGNAL(itemDoubleClicked(QListWidgetItem *)),this,SLOT(activeDoubleClick(QListWidgetItem *)));
@@ -706,6 +746,10 @@
     connect((ui.toolButtonUp),SIGNAL(clicked(bool)),this,SLOT(up(bool)));
     connect((ui.toolButtonDown),SIGNAL(clicked(bool)),this,SLOT(down(bool)));
     connect((ui.toolButtonPartial),SIGNAL(clicked(bool)),this,SLOT(partial(bool)));
+
+	connect(ui.toolButtonLoad, SIGNAL(clicked(bool)), this, SLOT(loadScript(bool)));
+	connect(ui.toolButtonSaveScript, SIGNAL(clicked(bool)), this, SLOT(saveScript(bool)));
+
     connect(ui.pushButtonDVD, SIGNAL(clicked(bool)), this, SLOT(DVD(bool)));
     connect(ui.pushButtonVCD, SIGNAL(clicked(bool)), this, SLOT(VCD(bool)));
     connect(ui.pushButtonSVCD, SIGNAL(clicked(bool)), this, SLOT(SVCD(bool)));

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui	2008-09-08 23:37:03 UTC (rev 4318)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui	2008-09-09 00:30:07 UTC (rev 4319)
@@ -365,6 +365,9 @@
        </item>
        <item>
         <widget class="QToolButton" name="toolButtonLoad" >
+         <property name="toolTip" >
+          <string>Open Script</string>
+         </property>
          <property name="text" >
           <string>Load</string>
          </property>
@@ -374,17 +377,10 @@
         </widget>
        </item>
        <item>
-        <widget class="QToolButton" name="toolButtonSave" >
-         <property name="text" >
-          <string>Save</string>
+        <widget class="QToolButton" name="toolButtonSaveScript" >
+         <property name="toolTip" >
+          <string>Save Script As</string>
          </property>
-         <property name="icon" >
-          <iconset resource="filter.qrc" >:/new/prefix1/icons/filesave.png</iconset>
-         </property>
-        </widget>
-       </item>
-       <item>
-        <widget class="QToolButton" name="toolButtonSaveScript" >
          <property name="text" >
           <string>Save Script</string>
          </property>
@@ -395,6 +391,9 @@
        </item>
        <item>
         <widget class="QToolButton" name="toolButtonDown" >
+         <property name="toolTip" >
+          <string>Move Filter Down</string>
+         </property>
          <property name="text" >
           <string>Down</string>
          </property>
@@ -405,6 +404,9 @@
        </item>
        <item>
         <widget class="QToolButton" name="toolButtonUp" >
+         <property name="toolTip" >
+          <string>Move Filter Up</string>
+         </property>
          <property name="text" >
           <string>Up</string>
          </property>
@@ -415,6 +417,9 @@
        </item>
        <item>
         <widget class="QToolButton" name="pushButtonRemove" >
+         <property name="toolTip" >
+          <string>Remove Filter</string>
+         </property>
          <property name="text" >
           <string>Remove</string>
          </property>
@@ -448,6 +453,9 @@
        </item>
        <item>
         <widget class="QToolButton" name="toolButtonAdd" >
+         <property name="toolTip" >
+          <string>Add Filter</string>
+         </property>
          <property name="text" >
           <string>Add</string>
          </property>
@@ -562,7 +570,6 @@
   <tabstop>toolButtonConfigure</tabstop>
   <tabstop>toolButtonPartial</tabstop>
   <tabstop>toolButtonLoad</tabstop>
-  <tabstop>toolButtonSave</tabstop>
   <tabstop>toolButtonSaveScript</tabstop>
   <tabstop>toolButtonDown</tabstop>
   <tabstop>toolButtonUp</tabstop>



From gruntster at mail.berlios.de  Tue Sep  9 01:28:49 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Tue, 9 Sep 2008 01:28:49 +0200
Subject: [Avidemux-svn-commit] r4317 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters
Message-ID: <200809082328.m88NSn5a015866@sheep.berlios.de>

Author: gruntster
Date: 2008-09-09 01:28:08 +0200 (Tue, 09 Sep 2008)
New Revision: 4317

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
Log:
[Qt] respond to keyboard for filter family listview on filter manager window

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-08 16:10:29 UTC (rev 4316)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-08 23:28:08 UTC (rev 4317)
@@ -64,6 +64,7 @@
 #define EXTERNAL_FILTER_BASE  2000
 #define ACTIVE_FILTER_BASE    3000
 /******************************************************/
+extern QWidget *QuiMainWindows;
 extern FILTER videofilters[MAX_FILTER];
 extern uint32_t nb_active_filter;
 extern std::vector <FILTER_ENTRY> allfilters;
@@ -149,7 +150,7 @@
      Q_OBJECT
 
  public:
-     filtermainWindow();
+     filtermainWindow(QWidget *parent);
 	 ~filtermainWindow();
      void             buildActiveFilterList(void);
      Ui_mainFilterDialog ui;
@@ -175,8 +176,7 @@
         void activeDoubleClick( QListWidgetItem  *item);
 		void activeItemChanged(QListWidgetItem *current, QListWidgetItem *previous);
         void allDoubleClick( QListWidgetItem  *item);
-	void filterFamilyClick(QListWidgetItem *item);
-	void filterFamilyClick(int  item);
+		void filterFamilyItemChanged(QListWidgetItem *current, QListWidgetItem *previous);
 		void preview(bool b);
  private:
 		uint32_t previewFrameIndex;
@@ -489,17 +489,14 @@
         \brief  Select family among color etc... 
 */
 
-void filtermainWindow::filterFamilyClick(QListWidgetItem *item)
+void filtermainWindow::filterFamilyItemChanged(QListWidgetItem *current, QListWidgetItem *previous)
 {
-    int family= ui.listFilterCategory->currentRow();
-    if(family>=0)
-        displayFamily(family);
+	int family = ui.listFilterCategory->currentRow();
+
+	if(family >= 0)
+		displayFamily(family);
 }
-void filtermainWindow::filterFamilyClick(int  m)
-{
-        if(m>=0)
-                displayFamily(m);
-}
+
 void filtermainWindow::displayFamily(uint32_t family)
 {
   printf("Family :%u\n",family);
@@ -681,7 +678,7 @@
 }
   /**
   */
-filtermainWindow::filtermainWindow()     : QDialog()
+filtermainWindow::filtermainWindow(QWidget* parent) : QDialog(parent)
  {
         memset( startFilter,0,sizeof(int)*NB_TREE);
         memset( filterSize,0,sizeof(int)*NB_TREE);
@@ -696,11 +693,9 @@
 
     availableList=ui.listWidgetAvailable;
     activeList=ui.listWidgetActive;
-    connect(ui.listFilterCategory,SIGNAL(itemDoubleClicked(QListWidgetItem *)),
-                this,SLOT(filterFamilyClick(QListWidgetItem *)));
-    connect(ui.listFilterCategory,SIGNAL(itemClicked(QListWidgetItem *)),
-                this,SLOT(filterFamilyClick(QListWidgetItem *)));
 
+	connect(ui.listFilterCategory, SIGNAL(currentItemChanged(QListWidgetItem*, QListWidgetItem*)), this, SLOT(filterFamilyItemChanged(QListWidgetItem*, QListWidgetItem *)));
+
     connect(activeList,SIGNAL(itemDoubleClicked(QListWidgetItem *)),this,SLOT(activeDoubleClick(QListWidgetItem *)));
 	connect(activeList, SIGNAL(currentItemChanged(QListWidgetItem*, QListWidgetItem*)), this, SLOT(activeItemChanged(QListWidgetItem*, QListWidgetItem*)));
     connect(availableList,SIGNAL(itemDoubleClicked(QListWidgetItem *)),this,SLOT(allDoubleClick(QListWidgetItem *)));
@@ -744,10 +739,10 @@
 */
 int GUI_handleVFilter(void)
 {
-        filtermainWindow dialog;
-        if(QDialog::Accepted==dialog.exec())
-        {
-        }
+	filtermainWindow dialog(QuiMainWindows);
+
+	dialog.exec();
+
 	return 0;
 }
 /** 



From gruntster at mail.berlios.de  Tue Sep  9 01:37:41 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Tue, 9 Sep 2008 01:37:41 +0200
Subject: [Avidemux-svn-commit] r4318 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters
Message-ID: <200809082337.m88NbfUH019096@sheep.berlios.de>

Author: gruntster
Date: 2008-09-09 01:37:03 +0200 (Tue, 09 Sep 2008)
New Revision: 4318

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui
Log:
[Qt] use buttonbox on filter manager window

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-08 23:28:08 UTC (rev 4317)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-08 23:37:03 UTC (rev 4318)
@@ -706,7 +706,6 @@
     connect((ui.toolButtonUp),SIGNAL(clicked(bool)),this,SLOT(up(bool)));
     connect((ui.toolButtonDown),SIGNAL(clicked(bool)),this,SLOT(down(bool)));
     connect((ui.toolButtonPartial),SIGNAL(clicked(bool)),this,SLOT(partial(bool)));
-    connect(ui.buttonClose, SIGNAL(clicked(bool)), this, SLOT(accept()));
     connect(ui.pushButtonDVD, SIGNAL(clicked(bool)), this, SLOT(DVD(bool)));
     connect(ui.pushButtonVCD, SIGNAL(clicked(bool)), this, SLOT(VCD(bool)));
     connect(ui.pushButtonSVCD, SIGNAL(clicked(bool)), this, SLOT(SVCD(bool)));

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui	2008-09-08 23:28:08 UTC (rev 4317)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui	2008-09-08 23:37:03 UTC (rev 4318)
@@ -58,7 +58,7 @@
           </size>
          </property>
          <property name="text" >
-          <string>&amp;SVCD res</string>
+          <string>&amp;SVCD Res</string>
          </property>
          <property name="icon" >
           <iconset resource="filter.qrc" >:/new/prefix1/icons/cd.png</iconset>
@@ -70,7 +70,7 @@
          <property name="sizePolicy" >
           <sizepolicy>
            <hsizetype>5</hsizetype>
-           <vsizetype>0</vsizetype>
+           <vsizetype>5</vsizetype>
            <horstretch>0</horstretch>
            <verstretch>0</verstretch>
           </sizepolicy>
@@ -82,7 +82,7 @@
           </size>
          </property>
          <property name="text" >
-          <string>&amp;VCD res</string>
+          <string>&amp;VCD Res</string>
          </property>
          <property name="icon" >
           <iconset resource="filter.qrc" >:/new/prefix1/icons/cd.png</iconset>
@@ -93,8 +93,8 @@
         <widget class="QPushButton" name="pushButtonHalfDVD" >
          <property name="sizePolicy" >
           <sizepolicy>
-           <hsizetype>7</hsizetype>
-           <vsizetype>5</vsizetype>
+           <hsizetype>5</hsizetype>
+           <vsizetype>0</vsizetype>
            <horstretch>0</horstretch>
            <verstretch>0</verstretch>
           </sizepolicy>
@@ -106,7 +106,7 @@
           </size>
          </property>
          <property name="text" >
-          <string>&amp;Half D1 res</string>
+          <string>&amp;Half D1 Res</string>
          </property>
          <property name="icon" >
           <iconset resource="filter.qrc" >:/new/prefix1/icons/cd.png</iconset>
@@ -130,7 +130,7 @@
           </size>
          </property>
          <property name="text" >
-          <string>&amp;DVD res</string>
+          <string>&amp;DVD Res</string>
          </property>
          <property name="icon" >
           <iconset resource="filter.qrc" >:/new/prefix1/icons/cd.png</iconset>
@@ -524,20 +524,25 @@
         <string>&amp;Preview</string>
        </property>
        <property name="icon" >
-        <iconset resource="filter.qrc" >:/new/prefix1/icons/thumbnail.png</iconset>
+        <iconset/>
        </property>
       </widget>
      </item>
      <item>
-      <widget class="QPushButton" name="buttonClose" >
-       <property name="text" >
-        <string>&amp;Close</string>
+      <widget class="QDialogButtonBox" name="buttonBox" >
+       <property name="sizePolicy" >
+        <sizepolicy>
+         <hsizetype>0</hsizetype>
+         <vsizetype>0</vsizetype>
+         <horstretch>0</horstretch>
+         <verstretch>0</verstretch>
+        </sizepolicy>
        </property>
-       <property name="icon" >
-        <iconset resource="filter.qrc" >:/new/prefix1/icons/close.png</iconset>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
        </property>
-       <property name="default" >
-        <bool>true</bool>
+       <property name="standardButtons" >
+        <set>QDialogButtonBox::Close</set>
        </property>
       </widget>
      </item>
@@ -563,10 +568,26 @@
   <tabstop>toolButtonUp</tabstop>
   <tabstop>pushButtonRemove</tabstop>
   <tabstop>pushButtonPreview</tabstop>
-  <tabstop>buttonClose</tabstop>
  </tabstops>
  <resources>
   <include location="filter.qrc" />
  </resources>
- <connections/>
+ <connections>
+  <connection>
+   <sender>buttonBox</sender>
+   <signal>rejected()</signal>
+   <receiver>Dialog</receiver>
+   <slot>close()</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>872</x>
+     <y>550</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>464</x>
+     <y>300</y>
+    </hint>
+   </hints>
+  </connection>
+ </connections>
 </ui>



From gruntster at mail.berlios.de  Tue Sep  9 03:00:27 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Tue, 9 Sep 2008 03:00:27 +0200
Subject: [Avidemux-svn-commit] r4320 - in
	branches/avidemux_2.4_branch/avidemux:
	ADM_userInterfaces/ADM_QT4/ADM_dialogFactory ADM_video
Message-ID: <200809090100.m8910Rjc005163@sheep.berlios.de>

Author: gruntster
Date: 2008-09-09 03:00:20 +0200 (Tue, 09 Sep 2008)
New Revision: 4320

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_genvideo.hxx
Log:
[Qt] correctly align buttonBox on dialogFactory windows

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp	2008-09-09 00:30:07 UTC (rev 4319)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp	2008-09-09 01:00:20 UTC (rev 4320)
@@ -32,25 +32,8 @@
 #include "ADM_commonUI/DIA_factory.h"
 #include "ADM_assert.h"
 
-class factoryWindow : public QDialog
-{
-     Q_OBJECT
-
- public:
-     factoryWindow();
- public slots:
- private slots:
- private:
-};
-
 static void insertTab(uint32_t index, diaElemTabs *tab, QTabWidget *wtab);
-factoryWindow::factoryWindow()     : QDialog()
- {
-//     ui.setupUi(this);
-     //connect( (ui.pushButton),SIGNAL(pressed()),this,SLOT(buttonPressed()));
- }
 
-
 /**
     \fn diaFactoryRun(const char *title,uint32_t nb,diaElem **elems)
     \brief  Run a dialog made of nb elems, each elem being described in the **elems
@@ -59,7 +42,7 @@
 
 uint8_t diaFactoryRun(const char *title,uint32_t nb,diaElem **elems)
 {
-  factoryWindow dialog;
+  QDialog dialog;
   
   ADM_assert(title);
   ADM_assert(nb);
@@ -67,16 +50,11 @@
   
   dialog.setWindowTitle(QString::fromUtf8(title));
   
-  QGridLayout layout(&dialog);
+  QVBoxLayout vboxLayout;
+  QGridLayout layout;
   
-  /* First compute the size of our window */
-  int vsize=0;
-  for(int i=0;i<nb;i++)
-  {
-    ADM_assert(elems[i]);
-     vsize+=elems[i]->getSize(); 
-  }
-
+  vboxLayout.addLayout(&layout);
+  
  int  v=0;
   for(int i=0;i<nb;i++)
   {
@@ -90,15 +68,17 @@
     ADM_assert(elems[i]);
      elems[i]->finalize(); 
   }
+
   // Add buttons
-   QDialogButtonBox buttonBox((QWidget *)&dialog);
-    buttonBox.setStandardButtons(QDialogButtonBox::Ok
-                            | QDialogButtonBox::Cancel);
+   QDialogButtonBox buttonBox(&dialog);
+    buttonBox.setStandardButtons(QDialogButtonBox::Ok | QDialogButtonBox::Cancel);
      QObject::connect(&buttonBox, SIGNAL(accepted()), &dialog, SLOT(accept()));
      QObject::connect(&buttonBox, SIGNAL(rejected()), &dialog, SLOT(reject()));
-     layout.addWidget(&buttonBox,vsize,0);
+     vboxLayout.addWidget(&buttonBox);
+	 //layout.addWidget(&buttonBox);
   // run
-  dialog.setLayout(&layout);
+	 dialog.setLayout(&vboxLayout);
+	 //dialog.setLayout(&layout);
   if(dialog.exec()==QDialog::Accepted)
   {
      for(int i=0;i<nb;i++)
@@ -127,7 +107,7 @@
 }
 uint8_t diaFactoryRunTabs(const char *title,uint32_t nb,diaElemTabs **tabs)
 {
-    factoryWindow dialog;
+    QDialog dialog;
   
   ADM_assert(title);
   ADM_assert(nb);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_genvideo.hxx
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_genvideo.hxx	2008-09-09 00:30:07 UTC (rev 4319)
+++ branches/avidemux_2.4_branch/avidemux/ADM_video/ADM_genvideo.hxx	2008-09-09 01:00:20 UTC (rev 4320)
@@ -124,7 +124,6 @@
 uint8_t  DIA_previewUpdate(uint8_t *data);
 void 	 DIA_previewEnd(void);
 uint8_t  DIA_previewStillAlive(void);
-uint8_t	 DIA_filterPreview(const char *captionText, AVDMGenericVideoStream *videoStream, uint32_t frame);
 
  // Pseudo class used to register filters automagically
  // Does not work atm



From gruntster at mail.berlios.de  Wed Sep 10 22:32:07 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Wed, 10 Sep 2008 22:32:07 +0200
Subject: [Avidemux-svn-commit] r4321 - in
	branches/avidemux_2.4_branch/avidemux: . ADM_osSupport
Message-ID: <200809102032.m8AKW7kc027981@sheep.berlios.de>

Author: gruntster
Date: 2008-09-10 22:31:58 +0200 (Wed, 10 Sep 2008)
New Revision: 4321

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_assert.h
   branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_fileio.cpp
Log:
[Win32] support deletion of files with unicode chars in name

Modified: branches/avidemux_2.4_branch/avidemux/ADM_assert.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_assert.h	2008-09-09 01:00:20 UTC (rev 4320)
+++ branches/avidemux_2.4_branch/avidemux/ADM_assert.h	2008-09-10 20:31:58 UTC (rev 4321)
@@ -18,6 +18,7 @@
 size_t ADM_fwrite (void *ptr, size_t size, size_t n, FILE *sstream);
 FILE  *ADM_fopen (const char *file, const char *mode);
 int    ADM_fclose (FILE *file);
+int    ADM_unlink(const char *filename);
 
 extern void *ADM_alloc(size_t size);
 extern void *ADM_calloc(size_t nbElm,size_t elSize);
@@ -38,6 +39,7 @@
 #define fwrite  ADM_fwrite
 #define fopen   ADM_fopen
 #define fclose  ADM_fclose
+#define unlink  ADM_unlink
 
 #ifndef __APPLE__
 #ifndef ADM_LEGACY_PROGGY

Modified: branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_fileio.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_fileio.cpp	2008-09-09 01:00:20 UTC (rev 4320)
+++ branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_fileio.cpp	2008-09-10 20:31:58 UTC (rev 4321)
@@ -175,7 +175,23 @@
 {
   return fclose(file); 
 }
-//*****************************
+
+int ADM_unlink(const char *filename)
+{
+DIR *dir=NULL;
+
+#ifdef __WIN32
+	int filenameLength = utf8StringToWideChar(filename, -1, NULL);
+	wchar_t wcFilename[filenameLength];
+
+	utf8StringToWideChar(filename, -1, wcFilename);
+
+	return _wunlink(wcFilename);
+#else
+	return unlink(filename);
+#endif
+}
+
 static char basedir[1024]={0};
 static char jobdir[1024]={0};
 static char customdir[1024]={0};



From gruntster at mail.berlios.de  Wed Sep 10 23:11:01 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Wed, 10 Sep 2008 23:11:01 +0200
Subject: [Avidemux-svn-commit] r4322 -
	branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat
Message-ID: <200809102111.m8ALB1bg001078@sheep.berlios.de>

Author: gruntster
Date: 2008-09-10 23:10:43 +0200 (Wed, 10 Sep 2008)
New Revision: 4322

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/file.c
Log:
[MinGW] tweaks required for latest MinGW w32api

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp	2008-09-10 20:31:58 UTC (rev 4321)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp	2008-09-10 21:10:43 UTC (rev 4322)
@@ -19,6 +19,7 @@
  ***************************************************************************/
 
 #include "config.h"
+#include "default.h"
 #define WIN32_CLASH
 #include <stdio.h>
 #include <stdlib.h>
@@ -35,7 +36,7 @@
 #undef realloc
 #undef free
 #include <ADM_assert.h>
-#include "default.h"
+
 #include "ADM_toolkit/toolkit.hxx"
 
 #include "ADM_audiofilter/audioprocess.hxx"

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/file.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/file.c	2008-09-10 20:31:58 UTC (rev 4321)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/file.c	2008-09-10 21:10:43 UTC (rev 4322)
@@ -18,11 +18,11 @@
  * License along with FFmpeg; if not, write to the Free Software
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
  */
-#include "avformat.h"
-#include "avstring.h"
 #include <fcntl.h>
 #include <unistd.h>
 #include <sys/time.h>
+#include "avformat.h"
+#include "avstring.h"
 
 // GRUNTSTER start
 #ifdef __WIN32



From gruntster at mail.berlios.de  Thu Sep 11 00:13:15 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Thu, 11 Sep 2008 00:13:15 +0200
Subject: [Avidemux-svn-commit] r4323 - in
	branches/avidemux_2.4_branch/avidemux: . ADM_osSupport
Message-ID: <200809102213.m8AMDFlc008482@sheep.berlios.de>

Author: gruntster
Date: 2008-09-11 00:13:07 +0200 (Thu, 11 Sep 2008)
New Revision: 4323

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_assert.h
   branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_fileio.cpp
Log:
[Win32] use wide char version of access()

Modified: branches/avidemux_2.4_branch/avidemux/ADM_assert.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_assert.h	2008-09-10 21:10:43 UTC (rev 4322)
+++ branches/avidemux_2.4_branch/avidemux/ADM_assert.h	2008-09-10 22:13:07 UTC (rev 4323)
@@ -19,6 +19,7 @@
 FILE  *ADM_fopen (const char *file, const char *mode);
 int    ADM_fclose (FILE *file);
 int    ADM_unlink(const char *filename);
+int ADM_access(const char *path, int mode);
 
 extern void *ADM_alloc(size_t size);
 extern void *ADM_calloc(size_t nbElm,size_t elSize);
@@ -40,6 +41,7 @@
 #define fopen   ADM_fopen
 #define fclose  ADM_fclose
 #define unlink  ADM_unlink
+#define access  ADM_access
 
 #ifndef __APPLE__
 #ifndef ADM_LEGACY_PROGGY

Modified: branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_fileio.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_fileio.cpp	2008-09-10 21:10:43 UTC (rev 4322)
+++ branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_fileio.cpp	2008-09-10 22:13:07 UTC (rev 4323)
@@ -178,8 +178,6 @@
 
 int ADM_unlink(const char *filename)
 {
-DIR *dir=NULL;
-
 #ifdef __WIN32
 	int filenameLength = utf8StringToWideChar(filename, -1, NULL);
 	wchar_t wcFilename[filenameLength];
@@ -192,6 +190,20 @@
 #endif
 }
 
+int ADM_access(const char *path, int mode)
+{
+#ifdef __WIN32
+	int pathLength = utf8StringToWideChar(path, -1, NULL);
+	wchar_t wcPath[pathLength];
+
+	utf8StringToWideChar(path, -1, wcPath);
+
+	return _waccess(wcPath, mode);
+#else
+	return access(path, mode);
+#endif
+}
+
 static char basedir[1024]={0};
 static char jobdir[1024]={0};
 static char customdir[1024]={0};



From gruntster at mail.berlios.de  Thu Sep 11 01:52:03 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Thu, 11 Sep 2008 01:52:03 +0200
Subject: [Avidemux-svn-commit] r4324 - branches/avidemux_2.4_branch/avidemux
Message-ID: <200809102352.m8ANq34m009054@sheep.berlios.de>

Author: gruntster
Date: 2008-09-11 01:51:58 +0200 (Thu, 11 Sep 2008)
New Revision: 4324

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_assert.h
Log:
[Win32] r4321 and r4323 broke Linux

Modified: branches/avidemux_2.4_branch/avidemux/ADM_assert.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_assert.h	2008-09-10 22:13:07 UTC (rev 4323)
+++ branches/avidemux_2.4_branch/avidemux/ADM_assert.h	2008-09-10 23:51:58 UTC (rev 4324)
@@ -40,8 +40,10 @@
 #define fwrite  ADM_fwrite
 #define fopen   ADM_fopen
 #define fclose  ADM_fclose
+#ifdef __WIN32
 #define unlink  ADM_unlink
 #define access  ADM_access
+#endif
 
 #ifndef __APPLE__
 #ifndef ADM_LEGACY_PROGGY



From gruntster at mail.berlios.de  Thu Sep 11 02:08:45 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Thu, 11 Sep 2008 02:08:45 +0200
Subject: [Avidemux-svn-commit] r4325 -
	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreAudio/src
Message-ID: <200809110008.m8B08jaI011978@sheep.berlios.de>

Author: gruntster
Date: 2008-09-11 02:08:37 +0200 (Thu, 11 Sep 2008)
New Revision: 4325

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreAudio/src/CMakeLists.txt
Log:
[CMake] correctly escape quotes for CoreAudio definitions

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreAudio/src/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreAudio/src/CMakeLists.txt	2008-09-10 23:51:58 UTC (rev 4324)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreAudio/src/CMakeLists.txt	2008-09-11 00:08:37 UTC (rev 4325)
@@ -14,8 +14,8 @@
 ADD_DEFINITIONS( "-DHAVE_LRINT -DHAVE_LRINTF ")
 ADD_DEFINITIONS( "-DCPU_CLIPS_POSITIVE=0 -DCPU_CLIPS_NEGATIVE=0")
 ADD_DEFINITIONS( "-I${CMAKE_CURRENT_SOURCE_DIR} ")
-ADD_DEFINITIONS( "-DPACKAGE=`"SRC`"")
-ADD_DEFINITIONS( "-DVERSION=`"0.1.4`"")
+ADD_DEFINITIONS( '-DPACKAGE="SRC"')
+ADD_DEFINITIONS( '-DVERSION="0.1.4"')
 #*************************************************
 ADD_LIBRARY(ADM_coreAudio SHARED ${ADMaudioCore_SRCS})
 INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/avidemux/ADM_coreAudio/include)



From gruntster at mail.berlios.de  Sat Sep 13 16:06:32 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 13 Sep 2008 16:06:32 +0200
Subject: [Avidemux-svn-commit] r4326 - in
	branches/avidemux_2.4_branch/avidemux: ADM_codecs ADM_osSupport
Message-ID: <200809131406.m8DE6WqC028968@sheep.berlios.de>

Author: gruntster
Date: 2008-09-13 16:06:25 +0200 (Sat, 13 Sep 2008)
New Revision: 4326

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_xvid4.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_xvid4.h
   branches/avidemux_2.4_branch/avidemux/ADM_osSupport/win32.cpp
Log:
[Win32] use a safe path for x264 and Xvid stat file

Modified: branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264.cpp	2008-09-11 00:08:37 UTC (rev 4325)
+++ branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264.cpp	2008-09-13 14:06:25 UTC (rev 4326)
@@ -36,6 +36,9 @@
 #define HANDLE ((x264_t *)_handle)
 #define PICS ((x264_picture_t *)_pic)
 
+#ifdef __WIN32
+extern void convertPathToAnsi(const char *path, char **ansiPath);
+#endif
 
 typedef struct avcc		// for avcc atom
 {
@@ -436,14 +439,26 @@
   param.rc.b_stat_write = 1;
   param.rc.b_stat_read = 0;
   if (!zparam->logfile)
-    param.rc.psz_stat_out = "/tmp/x264_log.tmp";
+    param.rc.psz_stat_out = ADM_strdup("/tmp/x264_log.tmp");
   else
-    param.rc.psz_stat_out = zparam->logfile;
+  {
+#ifdef __WIN32
+	char *logFile;
+
+	convertPathToAnsi(zparam->logfile, &logFile);
+	param.rc.psz_stat_out = logFile;
+#else
+	param.rc.psz_stat_out = ADM_strdup(zparam->logfile);
+#endif
+  }
+
   printf ("[x264] codec using %s as statfile\n", param.rc.psz_stat_out);
   return preamble (fps1000, &admParam);
 }
 X264EncoderPass1::~X264EncoderPass1 ()
 {
+	delete param.rc.psz_stat_out;
+	param.rc.psz_stat_out = NULL;
   stopEncoder ();
 }
 //*********************Pass1***************
@@ -470,17 +485,28 @@
   param.rc.b_stat_write = 0;
   param.rc.b_stat_read = 1;
 
-
   if (!zparam->logfile)
-    param.rc.psz_stat_in = "/tmp/x264_log.tmp";
+    param.rc.psz_stat_in = ADM_strdup("/tmp/x264_log.tmp");
   else
-    param.rc.psz_stat_in = zparam->logfile;
+  {
+#ifdef __WIN32
+	char *logFile;
+
+	convertPathToAnsi(zparam->logfile, &logFile);
+	param.rc.psz_stat_in = logFile;
+#else
+	param.rc.psz_stat_in = ADM_strdup(zparam->logfile);
+#endif
+  }
+
   printf ("[x264] using %s as statfile\n", param.rc.psz_stat_in);
 
   return preamble (fps1000, &admParam);
 }
 X264EncoderPass2::~X264EncoderPass2 ()
 {
+	delete param.rc.psz_stat_in;
+	param.rc.psz_stat_in = NULL;
   stopEncoder ();
 }
   // Create avcc atom as extradata

Modified: branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_xvid4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_xvid4.cpp	2008-09-11 00:08:37 UTC (rev 4325)
+++ branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_xvid4.cpp	2008-09-13 14:06:25 UTC (rev 4326)
@@ -37,6 +37,10 @@
 #include "ADM_editor/ADM_edit.hxx"
 extern ADM_Composer *video_body;
 
+#ifdef __WIN32
+extern void convertPathToAnsi(const char *path, char **ansiPath);
+#endif
+
 static const int motion_presets[] = {
   0,
   0,
@@ -655,8 +659,16 @@
 
 
   pass1.version = XVID_VERSION;
-  pass1.filename = (char *) _param.logName;
 
+#ifdef __WIN32
+	char *logFile;
+
+	convertPathToAnsi(_param.logName, &logFile);
+	pass1.filename = logFile;
+#else
+	pass1.filename = ADM_strdup(_param.logName);
+#endif
+
   xvid_enc_create.plugins = plugins;
   xvid_enc_create.num_plugins = 1;
 
@@ -682,8 +694,12 @@
   return 1;
 }
 
+xvid4EncoderPass1::~xvid4EncoderPass1()
+{
+	delete pass1.filename;
+	pass1.filename = NULL;
+}
 
-
 // *************************************************
 // *************************************************
 //              Pass2
@@ -717,8 +733,16 @@
   plugins[1].param = NULL;
 
   pass2.version = XVID_VERSION;
-  pass2.filename = (char *) _param.logName;
 
+#ifdef __WIN32
+	char *logFile;
+
+	convertPathToAnsi(_param.logName, &logFile);
+	pass2.filename = logFile;
+#else
+	pass2.filename = ADM_strdup(_param.logName);
+#endif
+
   pass2.bitrate = br;		// Average bitrate
 #define CPY(x) pass2.x=_param.x;printf("[xvid] "#x"=%d\n",pass2.x);
 
@@ -758,5 +782,9 @@
   return 1;
 }
 
-
+xvid4EncoderPass2::~xvid4EncoderPass2()
+{
+	delete pass2.filename;
+	pass2.filename = NULL;
+}
 #endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_xvid4.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_xvid4.h	2008-09-11 00:08:37 UTC (rev 4325)
+++ branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_xvid4.h	2008-09-13 14:06:25 UTC (rev 4326)
@@ -112,6 +112,7 @@
 
   virtual uint8_t init (uint32_t val, uint32_t fps1000,
 			xvid4EncParam * param);
+  ~xvid4EncoderPass1();
   
 };
 class xvid4EncoderPass2:public xvid4Encoder
@@ -126,7 +127,7 @@
 
   virtual uint8_t init (uint32_t val, uint32_t fps1000,
 			xvid4EncParam * param);
-  
+  ~xvid4EncoderPass2();
 };
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_osSupport/win32.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_osSupport/win32.cpp	2008-09-11 00:08:37 UTC (rev 4325)
+++ branches/avidemux_2.4_branch/avidemux/ADM_osSupport/win32.cpp	2008-09-13 14:06:25 UTC (rev 4326)
@@ -2,12 +2,17 @@
 
 #ifdef ADM_WIN32
 #define WIN32_CLASH
+#define WINVER 0x500
+
 #include <stdio.h>
 #include <stdlib.h>
+#include <windows.h>
+#include <algorithm>
+#include <string>
 
 #include "default.h" 
 #include "ADM_misc.h"
-#include "windows.h"
+
 #include "io.h"
 #include "winsock2.h"
 #include "ADM_assert.h" 
@@ -499,4 +504,101 @@
 
 	return multiByteStringLen;
 }
+
+// Convert string from Wide Char to ANSI code page
+int wideCharStringToAnsi(const wchar_t *wideCharString, int wideCharStringLength, char *ansiString, const char *filler)
+{
+	int flags = WC_COMPOSITECHECK;
+
+	if (filler)
+		flags |= WC_NO_BEST_FIT_CHARS | WC_DEFAULTCHAR;
+
+	int ansiStringLen = WideCharToMultiByte(CP_ACP, flags, wideCharString, wideCharStringLength, NULL, 0, filler, NULL);
+
+	if (ansiString)
+		WideCharToMultiByte(CP_ACP, flags, wideCharString, wideCharStringLength, ansiString, ansiStringLen, filler, NULL);
+
+	return ansiStringLen;
+}
+
+// Convert UTF-8 file path to an ANSI path with short 8.3 directories
+void convertPathToAnsi(const char *path, char **ansiPath)
+{
+	const char *filename = GetFileName(path);
+	bool statFile = false;
+	int filenameLength = strlen(filename);
+	int directoryLength = filename - path;
+
+	// Clip off .stat extension and tack it on later
+	if (filenameLength >= 5 && strcmp(filename + filenameLength - 5, ".stat") == 0)
+	{
+		statFile = true;
+		filenameLength -= 5;
+	}
+
+	// Convert directory to wide char
+	int wcDirLength = utf8StringToWideChar(path, directoryLength, NULL) + 1;
+	int wcFileLength = utf8StringToWideChar(filename, filenameLength, NULL) + 1;
+	wchar_t *wcDirectory = new wchar_t[wcDirLength];
+
+	memset(wcDirectory, 0, wcDirLength * sizeof(wchar_t));
+	utf8StringToWideChar(path, directoryLength, wcDirectory);
+
+	// Get short directory
+	int shortDirLength = GetShortPathNameW(wcDirectory, NULL, 0);
+	wchar_t *wcShortDir = new wchar_t[shortDirLength + wcFileLength];
+
+	memset(wcShortDir, 0, (shortDirLength + wcFileLength) * sizeof(wchar_t));
+	GetShortPathNameW(wcDirectory, wcShortDir, shortDirLength);
+	delete [] wcDirectory;
+
+	// Append filename to directory
+	utf8StringToWideChar(filename, filenameLength, wcShortDir + (shortDirLength - 1));
+
+	// Convert path to ANSI
+	int dirtyAnsiPathLength = wideCharStringToAnsi(wcShortDir, -1, NULL, "?");
+	char *dirtyAnsiPath = new char[dirtyAnsiPathLength];
+
+	wideCharStringToAnsi(wcShortDir, -1, dirtyAnsiPath, "?");
+
+	// Clean converted path
+	std::string cleanPath = std::string(dirtyAnsiPath);
+	std::string::iterator lastPos = std::remove(cleanPath.begin(), cleanPath.end(), '?');
+
+	cleanPath.erase(lastPos, cleanPath.end());
+	delete [] dirtyAnsiPath;
+
+	// Make sure we have a filename, otherwise use "avidemux" as default
+	if (filenameLength || statFile)
+	{
+		filename = GetFileName(cleanPath.c_str());
+
+		int filenameStart = filename - cleanPath.c_str();
+
+		if (filenameStart)
+		{
+			int filenameEnd = cleanPath.length();
+
+			// Ignore extension if it exists
+			int extensionIndex = cleanPath.rfind(".", filenameEnd);
+
+			if (extensionIndex != std::string::npos)
+				filenameEnd = extensionIndex;
+
+			// Create a filename if one doesn't exist
+			if (filenameEnd - filenameStart == 0)
+				cleanPath.insert(filenameStart, "avidemux");
+		}
+		else
+			cleanPath.append("avidemux");
+
+		if (statFile)
+			cleanPath.append(".stat");
+	}
+
+	*ansiPath = new char[cleanPath.length() + 1];
+	strcpy(*ansiPath, cleanPath.c_str());
+
+	delete [] wcShortDir;
+}
 #endif



From gruntster at mail.berlios.de  Sat Sep 13 17:01:45 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 13 Sep 2008 17:01:45 +0200
Subject: [Avidemux-svn-commit] r4327 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK:
	ADM_dialog ADM_dialogFactory ADM_gui2 glade
Message-ID: <200809131501.m8DF1jA0004851@sheep.berlios.de>

Author: gruntster
Date: 2008-09-13 17:01:08 +0200 (Sat, 13 Sep 2008)
New Revision: 4327

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_equalizer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_threadCount.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/contrast2.glade
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/prefs.glade
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/project_x264.glade
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/threshold.glade
Log:
[GTK] set page size of Adjustment controls to 0

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp	2008-09-13 15:01:08 UTC (rev 4327)
@@ -229,7 +229,7 @@
   gtk_label_set_justify (GTK_LABEL (label4), GTK_JUSTIFY_LEFT);
   gtk_misc_set_alignment (GTK_MISC (label4), 0, 0.5);
 
-  spinbuttonT_adj = gtk_adjustment_new (1, -1, 100, 0.5, 0.1, 0.1);
+  spinbuttonT_adj = gtk_adjustment_new (1, -1, 100, 0.5, 0.1, 0);
   spinbuttonT = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonT_adj), 1, 1);
   gtk_widget_show (spinbuttonT);
   gtk_table_attach (GTK_TABLE (table1), spinbuttonT, 1, 2, 0, 1,
@@ -237,7 +237,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonT), TRUE);
 
-  spinbuttonD_adj = gtk_adjustment_new (1, -1, 100, 0.5, 0.1, 0.1);
+  spinbuttonD_adj = gtk_adjustment_new (1, -1, 100, 0.5, 0.1, 0);
   spinbuttonD = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonD_adj), 1, 1);
   gtk_widget_show (spinbuttonD);
   gtk_table_attach (GTK_TABLE (table1), spinbuttonD, 1, 2, 1, 2,
@@ -245,7 +245,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonD), TRUE);
 
-  spinbuttonB_adj = gtk_adjustment_new (1, -1, 100, 0.5, 0.1, 0.1);
+  spinbuttonB_adj = gtk_adjustment_new (1, -1, 100, 0.5, 0.1, 0);
   spinbuttonB = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonB_adj), 1, 1);
   gtk_widget_show (spinbuttonB);
   gtk_table_attach (GTK_TABLE (table1), spinbuttonB, 1, 2, 2, 3,
@@ -259,7 +259,7 @@
                     (GtkAttachOptions) (GTK_FILL),
                     (GtkAttachOptions) (0), 0, 0);
 
-  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 100, 1, 1, 1)));
+  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 100, 1, 1, 0)));
   gtk_widget_show (hscale1);
   gtk_box_pack_start (GTK_BOX (vbox1), hscale1, TRUE, TRUE, 0);
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp	2008-09-13 15:01:08 UTC (rev 4327)
@@ -214,7 +214,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
 
-  spinbutton_U_adj = gtk_adjustment_new (0, -32, 32, 1, 10, 10);
+  spinbutton_U_adj = gtk_adjustment_new (0, -32, 32, 1, 10, 0);
   spinbutton_U = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_U_adj), 1, 0);
   gtk_widget_show (spinbutton_U);
   gtk_table_attach (GTK_TABLE (table1), spinbutton_U, 1, 2, 0, 1,
@@ -222,7 +222,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton_U), TRUE);
 
-  spinbutton_V_adj = gtk_adjustment_new (0, -32, 32, 1, 10, 10);
+  spinbutton_V_adj = gtk_adjustment_new (0, -32, 32, 1, 10, 0);
   spinbutton_V = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_V_adj), 1, 0);
   gtk_widget_show (spinbutton_V);
   gtk_table_attach (GTK_TABLE (table1), spinbutton_V, 1, 2, 1, 2,
@@ -230,7 +230,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton_V), TRUE);
 
-  hscale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 100, 1, 1, 1)));
+  hscale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 100, 1, 1, 0)));
   gtk_widget_show (hscale);
   gtk_box_pack_start (GTK_BOX (vbox1), hscale, FALSE, FALSE, 0);
   gtk_scale_set_digits (GTK_SCALE (hscale), 0);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp	2008-09-13 15:01:08 UTC (rev 4327)
@@ -229,7 +229,7 @@
                       (GtkAttachOptions) (0), 0, 0);
     gtk_misc_set_alignment (GTK_MISC (label8), 0, 0.5);
 
-    spinbuttonUC_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 1);
+    spinbuttonUC_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 0);
     spinbuttonUC = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonUC_adj), 1, 0);
     gtk_widget_show (spinbuttonUC);
     gtk_table_attach (GTK_TABLE (table1), spinbuttonUC, 1, 2, 2, 3,
@@ -237,7 +237,7 @@
                       (GtkAttachOptions) (0), 0, 0);
     gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonUC), TRUE);
 
-    spinbuttonVC_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 1);
+    spinbuttonVC_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 0);
     spinbuttonVC = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonVC_adj), 1, 0);
     gtk_widget_show (spinbuttonVC);
     gtk_table_attach (GTK_TABLE (table1), spinbuttonVC, 1, 2, 3, 4,
@@ -245,7 +245,7 @@
                       (GtkAttachOptions) (0), 0, 0);
     gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonVC), TRUE);
 
-    spinbuttonLB_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 1);
+    spinbuttonLB_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 0);
     spinbuttonLB = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonLB_adj), 1, 0);
     gtk_widget_show (spinbuttonLB);
     gtk_table_attach (GTK_TABLE (table1), spinbuttonLB, 2, 3, 1, 2,
@@ -253,7 +253,7 @@
                       (GtkAttachOptions) (0), 0, 0);
     gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonLB), TRUE);
 
-    spinbuttonUB_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 1);
+    spinbuttonUB_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 0);
     spinbuttonUB = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonUB_adj), 1, 0);
     gtk_widget_show (spinbuttonUB);
     gtk_table_attach (GTK_TABLE (table1), spinbuttonUB, 2, 3, 2, 3,
@@ -261,7 +261,7 @@
                       (GtkAttachOptions) (0), 0, 0);
     gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonUB), TRUE);
 
-    spinbuttonVB_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 1);
+    spinbuttonVB_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 0);
     spinbuttonVB = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonVB_adj), 1, 0);
     gtk_widget_show (spinbuttonVB);
     gtk_table_attach (GTK_TABLE (table1), spinbuttonVB, 2, 3, 3, 4,
@@ -269,7 +269,7 @@
                       (GtkAttachOptions) (0), 0, 0);
     gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonVB), TRUE);
 
-    spinbuttonUG_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 1);
+    spinbuttonUG_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 0);
     spinbuttonUG = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonUG_adj), 1, 0);
     gtk_widget_show (spinbuttonUG);
     gtk_table_attach (GTK_TABLE (table1), spinbuttonUG, 3, 4, 2, 3,
@@ -277,7 +277,7 @@
                       (GtkAttachOptions) (0), 0, 0);
     gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonUG), TRUE);
 
-    spinbuttonVG_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 1);
+    spinbuttonVG_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 0);
     spinbuttonVG = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonVG_adj), 1, 0);
     gtk_widget_show (spinbuttonVG);
     gtk_table_attach (GTK_TABLE (table1), spinbuttonVG, 3, 4, 3, 4,
@@ -285,7 +285,7 @@
                       (GtkAttachOptions) (0), 0, 0);
     gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonVG), TRUE);
 
-    spinbuttonLN_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 1);
+    spinbuttonLN_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 0);
     spinbuttonLN = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonLN_adj), 1, 0);
     gtk_widget_show (spinbuttonLN);
     gtk_table_attach (GTK_TABLE (table1), spinbuttonLN, 4, 5, 1, 2,
@@ -293,7 +293,7 @@
                       (GtkAttachOptions) (0), 0, 0);
     gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonLN), TRUE);
 
-    spinbuttonUN_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 1);
+    spinbuttonUN_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 0);
     spinbuttonUN = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonUN_adj), 1, 0);
     gtk_widget_show (spinbuttonUN);
     gtk_table_attach (GTK_TABLE (table1), spinbuttonUN, 4, 5, 2, 3,
@@ -301,7 +301,7 @@
                       (GtkAttachOptions) (0), 0, 0);
     gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonUN), TRUE);
 
-    spinbuttonVN_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 1);
+    spinbuttonVN_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 0);
     spinbuttonVN = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonVN_adj), 1, 0);
     gtk_widget_show (spinbuttonVN);
     gtk_table_attach (GTK_TABLE (table1), spinbuttonVN, 4, 5, 3, 4,
@@ -309,7 +309,7 @@
                       (GtkAttachOptions) (0), 0, 0);
     gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonVN), TRUE);
 
-    spinbutton23_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 1);
+    spinbutton23_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 0);
     spinbutton23 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton23_adj), 1, 0);
     gtk_widget_show (spinbutton23);
     gtk_table_attach (GTK_TABLE (table1), spinbutton23, 1, 2, 1, 2,
@@ -317,7 +317,7 @@
                       (GtkAttachOptions) (0), 0, 0);
     gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton23), TRUE);
 
-    spinbutton24_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 1);
+    spinbutton24_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 0);
     spinbutton24 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton24_adj), 1, 0);
     gtk_widget_show (spinbutton24);
     gtk_table_attach (GTK_TABLE (table1), spinbutton24, 3, 4, 1, 2,

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp	2008-09-13 15:01:08 UTC (rev 4327)
@@ -248,7 +248,7 @@
   gtk_widget_show (checkbuttonV);
   gtk_box_pack_start (GTK_BOX (vbox2), checkbuttonV, FALSE, FALSE, 0);
 
-  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 99, 1, 1, 1)));
+  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 99, 1, 1, 0)));
   gtk_widget_show (hscale1);
   gtk_box_pack_start (GTK_BOX (vbox1), hscale1, TRUE, TRUE, 0);
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp	2008-09-13 15:01:08 UTC (rev 4327)
@@ -302,28 +302,28 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (label4), 0, 0.5);
 
-  spinbuttonRight_adj = gtk_adjustment_new (1, 0, 1000, 1, 10, 10);
+  spinbuttonRight_adj = gtk_adjustment_new (1, 0, 1000, 1, 10, 0);
   spinbuttonRight = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonRight_adj), 1, 0);
   gtk_widget_show (spinbuttonRight);
   gtk_table_attach (GTK_TABLE (table1), spinbuttonRight, 1, 2, 1, 2,
                     (GtkAttachOptions) (GTK_FILL),
                     (GtkAttachOptions) (0), 0, 0);
 
-  spinbuttonLeft_adj = gtk_adjustment_new (1, 0, 1000, 1, 10, 10);
+  spinbuttonLeft_adj = gtk_adjustment_new (1, 0, 1000, 1, 10, 0);
   spinbuttonLeft = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonLeft_adj), 1, 0);
   gtk_widget_show (spinbuttonLeft);
   gtk_table_attach (GTK_TABLE (table1), spinbuttonLeft, 1, 2, 0, 1,
                     (GtkAttachOptions) (GTK_FILL),
                     (GtkAttachOptions) (0), 0, 0);
 
-  spinbuttonBottom_adj = gtk_adjustment_new (1, 0, 1000, 1, 10, 10);
+  spinbuttonBottom_adj = gtk_adjustment_new (1, 0, 1000, 1, 10, 0);
   spinbuttonBottom = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBottom_adj), 1, 0);
   gtk_widget_show (spinbuttonBottom);
   gtk_table_attach (GTK_TABLE (table1), spinbuttonBottom, 3, 4, 1, 2,
                     (GtkAttachOptions) (GTK_FILL),
                     (GtkAttachOptions) (0), 0, 0);
 
-  spinbuttonTop_adj = gtk_adjustment_new (1, 0, 1000, 1, 10, 10);
+  spinbuttonTop_adj = gtk_adjustment_new (1, 0, 1000, 1, 10, 0);
   spinbuttonTop = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonTop_adj), 1, 0);
   gtk_widget_show (spinbuttonTop);
   gtk_table_attach (GTK_TABLE (table1), spinbuttonTop, 3, 4, 0, 1,

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_equalizer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_equalizer.cpp	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_equalizer.cpp	2008-09-13 15:01:08 UTC (rev 4327)
@@ -461,7 +461,7 @@
   gtk_widget_show (drawingarea1);
   gtk_box_pack_start (GTK_BOX (vbox1), drawingarea1, TRUE, TRUE, 0);
 
-  gui_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 100, 1, 10, 10)));
+  gui_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 100, 1, 10, 0)));
   gtk_widget_show (gui_scale);
   gtk_box_pack_start (GTK_BOX (vbox1), gui_scale, TRUE, TRUE, 0);
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp	2008-09-13 15:01:08 UTC (rev 4327)
@@ -202,19 +202,19 @@
   gtk_label_set_use_markup (GTK_LABEL (label2), TRUE);
   gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
 
-  hscaleHue = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, -90, 90, 1, 1, 1)));
+  hscaleHue = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, -90, 90, 1, 1, 0)));
   gtk_widget_show (hscaleHue);
   gtk_table_attach (GTK_TABLE (table1), hscaleHue, 1, 2, 0, 1,
                     (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                     (GtkAttachOptions) (GTK_FILL), 0, 0);
 
-  hscaleSaturation = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, -10, 10, 1, 1, 1)));
+  hscaleSaturation = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, -10, 10, 1, 1, 0)));
   gtk_widget_show (hscaleSaturation);
   gtk_table_attach (GTK_TABLE (table1), hscaleSaturation, 1, 2, 1, 2,
                     (GtkAttachOptions) (GTK_FILL),
                     (GtkAttachOptions) (GTK_FILL), 0, 0);
 
-  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 100, 1, 1, 1)));
+  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 100, 1, 1, 0)));
   gtk_widget_show (hscale1);
   gtk_box_pack_start (GTK_BOX (vbox1), hscale1, TRUE, TRUE, 0);
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp	2008-09-13 15:01:08 UTC (rev 4327)
@@ -435,28 +435,28 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (label7), 0, 0.5);
 
-  spinbuttonX_adj = gtk_adjustment_new (1, 0, 2000, 1, 10, 10);
+  spinbuttonX_adj = gtk_adjustment_new (1, 0, 2000, 1, 10, 0);
   spinbuttonX = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonX_adj), 1, 0);
   gtk_widget_show (spinbuttonX);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonX, 1, 2, 0, 1,
                     (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                     (GtkAttachOptions) (0), 0, 0);
 
-  spinbuttonY_adj = gtk_adjustment_new (1, 0, 2000, 1, 10, 10);
+  spinbuttonY_adj = gtk_adjustment_new (1, 0, 2000, 1, 10, 0);
   spinbuttonY = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonY_adj), 1, 0);
   gtk_widget_show (spinbuttonY);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonY, 1, 2, 1, 2,
                     (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                     (GtkAttachOptions) (0), 0, 0);
 
-  spinbuttonW_adj = gtk_adjustment_new (1, 0, 2000, 1, 10, 10);
+  spinbuttonW_adj = gtk_adjustment_new (1, 0, 2000, 1, 10, 0);
   spinbuttonW = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonW_adj), 1, 0);
   gtk_widget_show (spinbuttonW);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonW, 3, 4, 0, 1,
                     (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                     (GtkAttachOptions) (0), 0, 0);
 
-  spinbuttonH_adj = gtk_adjustment_new (1, 0, 2000, 1, 10, 10);
+  spinbuttonH_adj = gtk_adjustment_new (1, 0, 2000, 1, 10, 0);
   spinbuttonH = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonH_adj), 1, 0);
   gtk_widget_show (spinbuttonH);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonH, 3, 4, 1, 2,
@@ -475,7 +475,7 @@
                     (GtkAttachOptions) (GTK_FILL),
                     (GtkAttachOptions) (GTK_FILL), 0, 0);
 
-  spinbuttonBand_adj = gtk_adjustment_new (1, 0, 100, 1, 10, 10);
+  spinbuttonBand_adj = gtk_adjustment_new (1, 0, 100, 1, 10, 0);
   spinbuttonBand = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBand_adj), 1, 0);
   gtk_widget_show (spinbuttonBand);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonBand, 1, 2, 2, 3,

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp	2008-09-13 15:01:08 UTC (rev 4327)
@@ -153,7 +153,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
 
-  spinbuttonStart_adj = gtk_adjustment_new (1, 0, 1000000, 1, 10, 10);
+  spinbuttonStart_adj = gtk_adjustment_new (1, 0, 1000000, 1, 10, 0);
   spinbuttonStart = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonStart_adj), 1, 0);
   gtk_widget_show (spinbuttonStart);
   gtk_table_attach (GTK_TABLE (table1), spinbuttonStart, 1, 2, 0, 1,
@@ -161,7 +161,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonStart), TRUE);
 
-  spinbuttonSize_adj = gtk_adjustment_new (1, 0, 1000000, 1, 10, 10);
+  spinbuttonSize_adj = gtk_adjustment_new (1, 0, 1000000, 1, 10, 0);
   spinbuttonSize = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonSize_adj), 1, 0);
   gtk_widget_show (spinbuttonSize);
   gtk_table_attach (GTK_TABLE (table1), spinbuttonSize, 1, 2, 1, 2,

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp	2008-09-13 15:01:08 UTC (rev 4327)
@@ -50,7 +50,7 @@
 
 	dialog = create_dialog1();
 	
-	scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 110, 1, 10, 10)));
+	scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 110, 1, 10, 0)));
 	gtk_widget_show (scale);
 	gtk_box_pack_start (GTK_BOX(WID(vbox1)), scale, FALSE, TRUE, 0);
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp	2008-09-13 15:01:08 UTC (rev 4327)
@@ -344,7 +344,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
 
-  spinbutton_width_adj = gtk_adjustment_new (2, 0, 3000, 1, 10, 10);
+  spinbutton_width_adj = gtk_adjustment_new (2, 0, 3000, 1, 10, 0);
   spinbutton_width = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_width_adj), 1, 0);
   gtk_widget_show (spinbutton_width);
   gtk_table_attach (GTK_TABLE (table2), spinbutton_width, 1, 2, 0, 1,
@@ -352,7 +352,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton_width), TRUE);
 
-  spinbutton_height_adj = gtk_adjustment_new (1, 0, 3000, 1, 10, 10);
+  spinbutton_height_adj = gtk_adjustment_new (1, 0, 3000, 1, 10, 0);
   spinbutton_height = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_height_adj), 1, 0);
   gtk_widget_show (spinbutton_height);
   gtk_table_attach (GTK_TABLE (table2), spinbutton_height, 1, 2, 1, 2,

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp	2008-09-13 15:01:08 UTC (rev 4327)
@@ -243,13 +243,13 @@
   gtk_widget_show (label1);
   gtk_box_pack_start (GTK_BOX (hbox1), label1, FALSE, FALSE, 0);
 
-  spinbutton1_adj = gtk_adjustment_new (1, 6, 99, 1, 10, 10);
+  spinbutton1_adj = gtk_adjustment_new (1, 6, 99, 1, 10, 0);
   spinbutton1 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton1_adj), 1, 2);
   gtk_widget_show (spinbutton1);
   gtk_box_pack_start (GTK_BOX (hbox1), spinbutton1, FALSE, FALSE, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton1), TRUE);
 
-  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 99, 1, 1, 1)));
+  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 99, 1, 1, 0)));
   gtk_widget_show (hscale1);
   gtk_box_pack_start (GTK_BOX (vbox1), hscale1, FALSE, FALSE, 0);
 
@@ -261,7 +261,7 @@
   gtk_widget_show (drawingarea1);
   gtk_box_pack_start (GTK_BOX (hbox2), drawingarea1, TRUE, TRUE, 0);
 
-  vscale1 = gtk_vscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 100, 1, 1, 1, 1)));
+  vscale1 = gtk_vscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 100, 1, 1, 1, 0)));
   gtk_widget_show (vscale1);
   gtk_box_pack_start (GTK_BOX (hbox2), vscale1, FALSE, FALSE, 0);
   gtk_scale_set_digits (GTK_SCALE (vscale1), 0);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp	2008-09-13 15:01:08 UTC (rev 4327)
@@ -449,7 +449,7 @@
   gtk_scale_set_digits (GTK_SCALE (minValueSlider), 0);
 
 #ifdef ORIGINAL_CODE_GENERATED_BY_GLADE
-  minValueSpinner_adj = gtk_adjustment_new (0, 0, 255, 1, 10, 10);
+  minValueSpinner_adj = gtk_adjustment_new (0, 0, 255, 1, 10, 0);
 #endif
   minValueSpinner = gtk_spin_button_new (GTK_ADJUSTMENT (minValueSpinner_adj), 1, 0);
   gtk_widget_show (minValueSpinner);
@@ -480,7 +480,7 @@
   gtk_scale_set_digits (GTK_SCALE (maxValueSlider), 0);
 
 #ifdef ORIGINAL_CODE_GENERATED_BY_GLADE
-  maxValueSpinner_adj = gtk_adjustment_new (255, 0, 255, 1, 10, 10);
+  maxValueSpinner_adj = gtk_adjustment_new (255, 0, 255, 1, 10, 0);
 #endif
   maxValueSpinner = gtk_spin_button_new (GTK_ADJUSTMENT (maxValueSpinner_adj), 1, 0);
   gtk_widget_show (maxValueSpinner);
@@ -508,7 +508,7 @@
   gtk_widget_show (debugLabel);
   gtk_box_pack_start (GTK_BOX (debugHbox), debugLabel, FALSE, FALSE, 0);
 
-  debugSpinButton_adj = gtk_adjustment_new (0, 0, 16777215, 1, 10, 10);
+  debugSpinButton_adj = gtk_adjustment_new (0, 0, 16777215, 1, 10, 0);
   debugSpinButton = gtk_spin_button_new (GTK_ADJUSTMENT (debugSpinButton_adj), 1, 0);
   gtk_widget_show (debugSpinButton);
   gtk_box_pack_start (GTK_BOX (debugHbox), debugSpinButton, TRUE, TRUE, 0);
@@ -534,7 +534,7 @@
   gtk_widget_show (previewOutputMenu);
   gtk_box_pack_start (GTK_BOX (previewControlHbox), previewOutputMenu, FALSE, TRUE, 0);
 
-  previewSlider = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 99, 1, 1, 1)));
+  previewSlider = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 99, 1, 1, 0)));
   gtk_widget_show (previewSlider);
   gtk_box_pack_start (GTK_BOX (previewControlHbox), previewSlider, TRUE, TRUE, 0);
   gtk_scale_set_digits (GTK_SCALE (previewSlider), 0);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp	2008-09-13 15:01:08 UTC (rev 4327)
@@ -265,7 +265,7 @@
   gtk_label_set_justify (GTK_LABEL (label6), GTK_JUSTIFY_LEFT);
   gtk_misc_set_alignment (GTK_MISC (label6), 0, 0.5);
 
-  spinbutton1_adj = gtk_adjustment_new (1, 1, 2, 0.1, 0.2, 0.2);
+  spinbutton1_adj = gtk_adjustment_new (1, 1, 2, 0.1, 0.2, 0);
   spinbutton1 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton1_adj), 1, 0);
   gtk_widget_show (spinbutton1);
   gtk_table_attach (GTK_TABLE (table2), spinbutton1, 1, 2, 0, 1,

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp	2008-09-13 15:01:08 UTC (rev 4327)
@@ -641,7 +641,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (labelTarget), 0, 0.5);
 
-  spinbuttonQuantizer_adj = gtk_adjustment_new (4, 0, 51, 1, 10, 10);
+  spinbuttonQuantizer_adj = gtk_adjustment_new (4, 0, 51, 1, 10, 0);
   spinbuttonQuantizer = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonQuantizer_adj), 1, 0);
   gtk_widget_show (spinbuttonQuantizer);
   gtk_table_attach (GTK_TABLE (tableBitrate), spinbuttonQuantizer, 1, 2, 2, 3,
@@ -761,7 +761,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (labelRange), 0, 0.5);
 
-  spinbuttonRange_adj = gtk_adjustment_new (17, 0, 64, 1, 10, 10);
+  spinbuttonRange_adj = gtk_adjustment_new (17, 0, 64, 1, 10, 0);
   spinbuttonRange = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonRange_adj), 1, 0);
   gtk_widget_show (spinbuttonRange);
   gtk_table_attach (GTK_TABLE (table11), spinbuttonRange, 1, 2, 0, 1,
@@ -770,7 +770,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonRange, QT_TR_NOOP("Define how many pixels are analysed for motion estimation. The higher the range the more accurate the analysis but the slower the encoding time."), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonRange), TRUE);
 
-  spinbuttonMaxRefFrames_adj = gtk_adjustment_new (1, 0, 16, 1, 10, 10);
+  spinbuttonMaxRefFrames_adj = gtk_adjustment_new (1, 0, 16, 1, 10, 0);
   spinbuttonMaxRefFrames = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonMaxRefFrames_adj), 1, 0);
   gtk_widget_show (spinbuttonMaxRefFrames);
   gtk_table_attach (GTK_TABLE (table11), spinbuttonMaxRefFrames, 1, 2, 1, 2,
@@ -940,7 +940,7 @@
   gtk_box_pack_start (GTK_BOX (hbox7), labelTrellis, FALSE, FALSE, 0);
   gtk_misc_set_alignment (GTK_MISC (labelTrellis), 0, 0.5);
 
-  spinbuttonTrellis_adj = gtk_adjustment_new (0, 0, 2, 1, 10, 10);
+  spinbuttonTrellis_adj = gtk_adjustment_new (0, 0, 2, 1, 10, 0);
   spinbuttonTrellis = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonTrellis_adj), 1, 0);
   gtk_widget_show (spinbuttonTrellis);
   gtk_box_pack_start (GTK_BOX (hbox7), spinbuttonTrellis, FALSE, FALSE, 0);
@@ -956,7 +956,7 @@
   gtk_box_pack_start (GTK_BOX (hbox11), labelNoiseReduction, FALSE, FALSE, 0);
   gtk_misc_set_alignment (GTK_MISC (labelNoiseReduction), 0, 0.5);
 
-  spinbuttonNoiseReduction_adj = gtk_adjustment_new (0, 0, 1000000000, 1, 10, 10);
+  spinbuttonNoiseReduction_adj = gtk_adjustment_new (0, 0, 1000000000, 1, 10, 0);
   spinbuttonNoiseReduction = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonNoiseReduction_adj), 1, 0);
   gtk_widget_show (spinbuttonNoiseReduction);
   gtk_box_pack_start (GTK_BOX (hbox11), spinbuttonNoiseReduction, FALSE, FALSE, 0);
@@ -995,7 +995,7 @@
   gtk_label_set_use_markup (GTK_LABEL (labelStrength), TRUE);
   gtk_misc_set_alignment (GTK_MISC (labelStrength), 0, 0.5);
 
-  spinbuttonThreshold_adj = gtk_adjustment_new (0, -6, 6, 1, 10, 10);
+  spinbuttonThreshold_adj = gtk_adjustment_new (0, -6, 6, 1, 10, 0);
   spinbuttonThreshold = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonThreshold_adj), 1, 0);
   gtk_widget_show (spinbuttonThreshold);
   gtk_table_attach (GTK_TABLE (table8), spinbuttonThreshold, 1, 2, 1, 2,
@@ -1004,7 +1004,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonThreshold, QT_TR_NOOP("Threshold for block detection. Positive values will detect more blocks, negative values will detect less."), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonThreshold), TRUE);
 
-  spinbuttonStrength_adj = gtk_adjustment_new (0, -6, 6, 1, 10, 10);
+  spinbuttonStrength_adj = gtk_adjustment_new (0, -6, 6, 1, 10, 0);
   spinbuttonStrength = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonStrength_adj), 1, 0);
   gtk_widget_show (spinbuttonStrength);
   gtk_table_attach (GTK_TABLE (table8), spinbuttonStrength, 1, 2, 0, 1,
@@ -1117,7 +1117,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (labelMaxConsecutive), 0, 0.5);
 
-  spinbuttonBias_adj = gtk_adjustment_new (0, -100, 100, 1, 10, 10);
+  spinbuttonBias_adj = gtk_adjustment_new (0, -100, 100, 1, 10, 0);
   spinbuttonBias = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBias_adj), 1, 0);
   gtk_widget_show (spinbuttonBias);
   gtk_table_attach (GTK_TABLE (table5), spinbuttonBias, 1, 2, 1, 2,
@@ -1126,7 +1126,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonBias, QT_TR_NOOP("Increase / decrease probability for how often B-frames are used. It will not violate the maximum consecutive frame limit."), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonBias), TRUE);
 
-  spinbuttonMaxBFrame_adj = gtk_adjustment_new (3, 0, 15, 1, 10, 10);
+  spinbuttonMaxBFrame_adj = gtk_adjustment_new (3, 0, 15, 1, 10, 0);
   spinbuttonMaxBFrame = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonMaxBFrame_adj), 1, 0);
   gtk_widget_show (spinbuttonMaxBFrame);
   gtk_table_attach (GTK_TABLE (table5), spinbuttonMaxBFrame, 1, 2, 0, 1,
@@ -1226,7 +1226,7 @@
   gtk_table_set_row_spacings (GTK_TABLE (table2), 3);
   gtk_table_set_col_spacings (GTK_TABLE (table2), 10);
 
-  spinbuttonKeyframeBoost_adj = gtk_adjustment_new (40, 0, 100, 1, 10, 10);
+  spinbuttonKeyframeBoost_adj = gtk_adjustment_new (40, 0, 100, 1, 10, 0);
   spinbuttonKeyframeBoost = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonKeyframeBoost_adj), 1, 0);
   gtk_widget_show (spinbuttonKeyframeBoost);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonKeyframeBoost, 1, 2, 0, 1,
@@ -1236,7 +1236,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonKeyframeBoost, QT_TR_NOOP("Set how much \"bitrate bonus\" a keyframe can get"), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonKeyframeBoost), TRUE);
 
-  spinbuttonBframeReduction_adj = gtk_adjustment_new (30, 0, 100, 1, 10, 10);
+  spinbuttonBframeReduction_adj = gtk_adjustment_new (30, 0, 100, 1, 10, 0);
   spinbuttonBframeReduction = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBframeReduction_adj), 1, 0);
   gtk_widget_show (spinbuttonBframeReduction);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonBframeReduction, 1, 2, 1, 2,
@@ -1245,7 +1245,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonBframeReduction, QT_TR_NOOP("Set how much bitrate is deducted from a B-frame as compared to the previous P-frame"), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonBframeReduction), TRUE);
 
-  spinbuttonBitrateVariability_adj = gtk_adjustment_new (60, 0, 100, 1, 10, 10);
+  spinbuttonBitrateVariability_adj = gtk_adjustment_new (60, 0, 100, 1, 10, 0);
   spinbuttonBitrateVariability = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBitrateVariability_adj), 1, 0);
   gtk_widget_show (spinbuttonBitrateVariability);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonBitrateVariability, 1, 2, 2, 3,
@@ -1316,7 +1316,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (label15), 0, 0.5);
 
-  spinbuttonMinQp_adj = gtk_adjustment_new (10, 10, 51, 1, 10, 10);
+  spinbuttonMinQp_adj = gtk_adjustment_new (10, 10, 51, 1, 10, 0);
   spinbuttonMinQp = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonMinQp_adj), 1, 0);
   gtk_widget_show (spinbuttonMinQp);
   gtk_table_attach (GTK_TABLE (table3), spinbuttonMinQp, 1, 2, 0, 1,
@@ -1326,7 +1326,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonMinQp, QT_TR_NOOP("Enforce a minimum quantizer level"), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonMinQp), TRUE);
 
-  spinbuttonMaxQp_adj = gtk_adjustment_new (51, 10, 51, 1, 10, 10);
+  spinbuttonMaxQp_adj = gtk_adjustment_new (51, 10, 51, 1, 10, 0);
   spinbuttonMaxQp = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonMaxQp_adj), 1, 0);
   gtk_widget_show (spinbuttonMaxQp);
   gtk_table_attach (GTK_TABLE (table3), spinbuttonMaxQp, 1, 2, 1, 2,
@@ -1335,7 +1335,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonMaxQp, QT_TR_NOOP("Enforce a maximum quantizer level"), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonMaxQp), TRUE);
 
-  spinbuttonQpStep_adj = gtk_adjustment_new (4, 0, 10, 1, 10, 10);
+  spinbuttonQpStep_adj = gtk_adjustment_new (4, 0, 10, 1, 10, 0);
   spinbuttonQpStep = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonQpStep_adj), 1, 0);
   gtk_widget_show (spinbuttonQpStep);
   gtk_table_attach (GTK_TABLE (table3), spinbuttonQpStep, 1, 2, 2, 3,
@@ -1364,7 +1364,7 @@
   gtk_table_set_row_spacings (GTK_TABLE (table4), 3);
   gtk_table_set_col_spacings (GTK_TABLE (table4), 10);
 
-  spinbuttonSceneCut_adj = gtk_adjustment_new (40, 0, 100, 1, 10, 10);
+  spinbuttonSceneCut_adj = gtk_adjustment_new (40, 0, 100, 1, 10, 0);
   spinbuttonSceneCut = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonSceneCut_adj), 1, 0);
   gtk_widget_show (spinbuttonSceneCut);
   gtk_table_attach (GTK_TABLE (table4), spinbuttonSceneCut, 1, 2, 0, 1,
@@ -1388,7 +1388,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (label17), 0, 0.5);
 
-  spinbuttonMinIdr_adj = gtk_adjustment_new (25, 0, 100, 1, 10, 10);
+  spinbuttonMinIdr_adj = gtk_adjustment_new (25, 0, 100, 1, 10, 0);
   spinbuttonMinIdr = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonMinIdr_adj), 1, 0);
   gtk_widget_show (spinbuttonMinIdr);
   gtk_table_attach (GTK_TABLE (table4), spinbuttonMinIdr, 1, 2, 1, 2,
@@ -1397,7 +1397,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonMinIdr, QT_TR_NOOP("Set minimum frame interval between IDR frames. Defines the minimum amount a frame can be reused and referenced by other frames before a new IDR frame is established."), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonMinIdr), TRUE);
 
-  spinbuttonMaxIdr_adj = gtk_adjustment_new (250, 1, 1000, 1, 10, 10);
+  spinbuttonMaxIdr_adj = gtk_adjustment_new (250, 1, 1000, 1, 10, 0);
   spinbuttonMaxIdr = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonMaxIdr_adj), 1, 0);
   gtk_widget_show (spinbuttonMaxIdr);
   gtk_table_attach (GTK_TABLE (table4), spinbuttonMaxIdr, 1, 2, 2, 3,
@@ -1454,7 +1454,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (labelVBVMaximumBitrate), 0, 0.5);
 
-  spinbuttonvbv_max_bitrate_adj = gtk_adjustment_new (0, 0, 99999, 1, 10, 10);
+  spinbuttonvbv_max_bitrate_adj = gtk_adjustment_new (0, 0, 99999, 1, 10, 0);
   spinbuttonvbv_max_bitrate = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonvbv_max_bitrate_adj), 1, 0);
   gtk_widget_show (spinbuttonvbv_max_bitrate);
   gtk_table_attach (GTK_TABLE (table12), spinbuttonvbv_max_bitrate, 1, 2, 0, 1,
@@ -1462,7 +1462,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonvbv_max_bitrate), TRUE);
 
-  spinbuttonvbv_buffer_size_adj = gtk_adjustment_new (0, 0, 99999, 1, 10, 10);
+  spinbuttonvbv_buffer_size_adj = gtk_adjustment_new (0, 0, 99999, 1, 10, 0);
   spinbuttonvbv_buffer_size = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonvbv_buffer_size_adj), 1, 0);
   gtk_widget_show (spinbuttonvbv_buffer_size);
   gtk_table_attach (GTK_TABLE (table12), spinbuttonvbv_buffer_size, 1, 2, 1, 2,
@@ -1470,7 +1470,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonvbv_buffer_size), TRUE);
 
-  spinbuttonvbv_buffer_init_adj = gtk_adjustment_new (90, 0, 100, 1, 10, 10);
+  spinbuttonvbv_buffer_init_adj = gtk_adjustment_new (90, 0, 100, 1, 10, 0);
   spinbuttonvbv_buffer_init = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonvbv_buffer_init_adj), 1, 0);
   gtk_widget_show (spinbuttonvbv_buffer_init);
   gtk_table_attach (GTK_TABLE (table12), spinbuttonvbv_buffer_init, 1, 2, 2, 3,
@@ -1518,7 +1518,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (labelBitrateVariance), 0, 0.5);
 
-  spinbuttonBitrateVariance_adj = gtk_adjustment_new (1, 0, 1, 0.10000000149, 10, 10);
+  spinbuttonBitrateVariance_adj = gtk_adjustment_new (1, 0, 1, 0.10000000149, 10, 0);
   spinbuttonBitrateVariance = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBitrateVariance_adj), 0.10000000149, 1);
   gtk_widget_show (spinbuttonBitrateVariance);
   gtk_table_attach (GTK_TABLE (table15), spinbuttonBitrateVariance, 1, 2, 0, 1,
@@ -1527,7 +1527,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonBitrateVariance, QT_TR_NOOP("Allowed variance of average bitrate. Lower values mean less variance. Higher values mean more variance."), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonBitrateVariance), TRUE);
 
-  spinbuttonQuantizerCompression_adj = gtk_adjustment_new (0.600000023842, 0, 1, 0.10000000149, 10, 10);
+  spinbuttonQuantizerCompression_adj = gtk_adjustment_new (0.600000023842, 0, 1, 0.10000000149, 10, 0);
   spinbuttonQuantizerCompression = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonQuantizerCompression_adj), 0.10000000149, 1);
   gtk_widget_show (spinbuttonQuantizerCompression);
   gtk_table_attach (GTK_TABLE (table15), spinbuttonQuantizerCompression, 1, 2, 1, 2,
@@ -1536,7 +1536,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonQuantizerCompression, QT_TR_NOOP("Allowed variance of average quantizer or quality. Lower values mean less variance. Higher values mean more variance. Note that 0 means constant quality while 1 means constant fluctuation. Recommended 0.6."), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonQuantizerCompression), TRUE);
 
-  spinbuttonTempBlurFrame_adj = gtk_adjustment_new (20, 0, 999, 1, 10, 10);
+  spinbuttonTempBlurFrame_adj = gtk_adjustment_new (20, 0, 999, 1, 10, 0);
   spinbuttonTempBlurFrame = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonTempBlurFrame_adj), 1, 0);
   gtk_widget_show (spinbuttonTempBlurFrame);
   gtk_table_attach (GTK_TABLE (table15), spinbuttonTempBlurFrame, 1, 2, 2, 3,
@@ -1545,7 +1545,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonTempBlurFrame, QT_TR_NOOP("Reduced fluctuations in Quantizer (before curve compression)"), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonTempBlurFrame), TRUE);
 
-  spinbuttonTempBlurQuant_adj = gtk_adjustment_new (0.5, 0, 1, 0.5, 10, 10);
+  spinbuttonTempBlurQuant_adj = gtk_adjustment_new (0.5, 0, 1, 0.5, 10, 0);
   spinbuttonTempBlurQuant = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonTempBlurQuant_adj), 0.5, 1);
   gtk_widget_show (spinbuttonTempBlurQuant);
   gtk_table_attach (GTK_TABLE (table15), spinbuttonTempBlurQuant, 1, 2, 3, 4,
@@ -1594,7 +1594,7 @@
   gtk_table_set_row_spacings (GTK_TABLE (table16), 3);
   gtk_table_set_col_spacings (GTK_TABLE (table16), 10);
 
-  spinbutton8_adj = gtk_adjustment_new (1.39999997616, 1, 10, 0.10000000149, 10, 10);
+  spinbutton8_adj = gtk_adjustment_new (1.39999997616, 1, 10, 0.10000000149, 10, 0);
   spinbutton8 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton8_adj), 0.10000000149, 1);
   gtk_widget_show (spinbutton8);
   gtk_table_attach (GTK_TABLE (table16), spinbutton8, 1, 2, 0, 1,
@@ -1603,7 +1603,7 @@
   gtk_tooltips_set_tip (tooltips, spinbutton8, QT_TR_NOOP("Quantization factors used between I and P-frames"), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton8), TRUE);
 
-  spinbutton9_adj = gtk_adjustment_new (1.29999995232, 1, 10, 0.10000000149, 10, 10);
+  spinbutton9_adj = gtk_adjustment_new (1.29999995232, 1, 10, 0.10000000149, 10, 0);
   spinbutton9 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton9_adj), 0.10000000149, 1);
   gtk_widget_show (spinbutton9);
   gtk_table_attach (GTK_TABLE (table16), spinbutton9, 1, 2, 1, 2,
@@ -1612,7 +1612,7 @@
   gtk_tooltips_set_tip (tooltips, spinbutton9, QT_TR_NOOP("Quantization used between P and B-frames"), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton9), TRUE);
 
-  spinbuttonChromaQPOffset_adj = gtk_adjustment_new (0, -12, 12, 1, 10, 10);
+  spinbuttonChromaQPOffset_adj = gtk_adjustment_new (0, -12, 12, 1, 10, 0);
   spinbuttonChromaQPOffset = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonChromaQPOffset_adj), 1, 0);
   gtk_widget_show (spinbuttonChromaQPOffset);
   gtk_table_attach (GTK_TABLE (table16), spinbuttonChromaQPOffset, 1, 2, 2, 3,

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp	2008-09-13 15:01:08 UTC (rev 4327)
@@ -326,7 +326,7 @@
   gtk_label_set_justify (GTK_LABEL (label7), GTK_JUSTIFY_LEFT);
   gtk_misc_set_alignment (GTK_MISC (label7), 0, 0.5);
 
-  spinbuttonMaxIFrame_adj = gtk_adjustment_new (300, 0, 600, 1, 10, 10);
+  spinbuttonMaxIFrame_adj = gtk_adjustment_new (300, 0, 600, 1, 10, 0);
   spinbuttonMaxIFrame = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonMaxIFrame_adj), 1, 0);
   gtk_widget_show (spinbuttonMaxIFrame);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonMaxIFrame, 1, 2, 2, 3,
@@ -342,7 +342,7 @@
   gtk_label_set_justify (GTK_LABEL (label8), GTK_JUSTIFY_LEFT);
   gtk_misc_set_alignment (GTK_MISC (label8), 0, 0.5);
 
-  spinbuttonMinIFrame_adj = gtk_adjustment_new (1, 0, 600, 1, 10, 10);
+  spinbuttonMinIFrame_adj = gtk_adjustment_new (1, 0, 600, 1, 10, 0);
   spinbuttonMinIFrame = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonMinIFrame_adj), 1, 0);
   gtk_widget_show (spinbuttonMinIFrame);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonMinIFrame, 1, 2, 3, 4,
@@ -449,7 +449,7 @@
   gtk_label_set_justify (GTK_LABEL (label12), GTK_JUSTIFY_LEFT);
   gtk_misc_set_alignment (GTK_MISC (label12), 0, 0.5);
 
-  spinImin_adj = gtk_adjustment_new (2, 2, 31, 1, 10, 10);
+  spinImin_adj = gtk_adjustment_new (2, 2, 31, 1, 10, 0);
   spinImin = gtk_spin_button_new (GTK_ADJUSTMENT (spinImin_adj), 1, 0);
   gtk_widget_show (spinImin);
   gtk_table_attach (GTK_TABLE (table3), spinImin, 1, 2, 0, 1,
@@ -457,7 +457,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinImin), TRUE);
 
-  spinImax_adj = gtk_adjustment_new (2, 2, 31, 1, 10, 10);
+  spinImax_adj = gtk_adjustment_new (2, 2, 31, 1, 10, 0);
   spinImax = gtk_spin_button_new (GTK_ADJUSTMENT (spinImax_adj), 1, 0);
   gtk_widget_show (spinImax);
   gtk_table_attach (GTK_TABLE (table3), spinImax, 1, 2, 1, 2,
@@ -465,7 +465,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinImax), TRUE);
 
-  spinPmin_adj = gtk_adjustment_new (2, 2, 31, 1, 10, 10);
+  spinPmin_adj = gtk_adjustment_new (2, 2, 31, 1, 10, 0);
   spinPmin = gtk_spin_button_new (GTK_ADJUSTMENT (spinPmin_adj), 1, 0);
   gtk_widget_show (spinPmin);
   gtk_table_attach (GTK_TABLE (table3), spinPmin, 1, 2, 2, 3,
@@ -473,7 +473,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinPmin), TRUE);
 
-  spinPmax_adj = gtk_adjustment_new (2, 2, 31, 1, 10, 10);
+  spinPmax_adj = gtk_adjustment_new (2, 2, 31, 1, 10, 0);
   spinPmax = gtk_spin_button_new (GTK_ADJUSTMENT (spinPmax_adj), 1, 0);
   gtk_widget_show (spinPmax);
   gtk_table_attach (GTK_TABLE (table3), spinPmax, 1, 2, 3, 4,

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp	2008-09-13 15:01:08 UTC (rev 4327)
@@ -448,7 +448,7 @@
       {  //Intra
           col=i%8;
           row=i>>3;
-          spinbutton1_adj = gtk_adjustment_new (intra[i], 8, 255, 1, 10, 10);
+          spinbutton1_adj = gtk_adjustment_new (intra[i], 8, 255, 1, 10, 0);
           intraCell[i]=spinbutton1 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton1_adj), 1, 0);
      //     gtk_widget_show (spinbutton1);
           gtk_table_attach (GTK_TABLE (WID(tableIntra)), spinbutton1, col, col+1, row, row+1,
@@ -461,7 +461,7 @@
       {  //Inter
           col=i%8;
           row=i>>3;
-          spinbutton1_adj = gtk_adjustment_new (inter[i], 1, 255, 1, 10, 10);
+          spinbutton1_adj = gtk_adjustment_new (inter[i], 1, 255, 1, 10, 0);
           interCell[i]=spinbutton1 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton1_adj), 1, 0);
       //    gtk_widget_show (spinbutton1);
           gtk_table_attach (GTK_TABLE (WID(tableInter)), spinbutton1, col, col+1, row, row+1,
@@ -792,7 +792,7 @@
   gtk_tooltips_set_tip (tooltips, entryEntry, QT_TR_NOOP("Target video bitrate"), NULL);
   gtk_entry_set_width_chars (GTK_ENTRY (entryEntry), 10);
 
-  spinbuttonQuant_adj = gtk_adjustment_new (4, 1, 31, 1, 10, 10);
+  spinbuttonQuant_adj = gtk_adjustment_new (4, 1, 31, 1, 10, 0);
   spinbuttonQuant = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonQuant_adj), 1, 0);
   gtk_widget_show (spinbuttonQuant);
   gtk_box_pack_start (GTK_BOX (vbox22), spinbuttonQuant, FALSE, FALSE, 0);
@@ -974,7 +974,7 @@
   gtk_widget_show (labelIFrameIntervalMin);
   gtk_box_pack_start (GTK_BOX (hbox9), labelIFrameIntervalMin, FALSE, FALSE, 0);
 
-  spinbuttonIMinPeriod_adj = gtk_adjustment_new (1, 1, 9, 1, 10, 10);
+  spinbuttonIMinPeriod_adj = gtk_adjustment_new (1, 1, 9, 1, 10, 0);
   spinbuttonIMinPeriod = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonIMinPeriod_adj), 1, 0);
   gtk_widget_show (spinbuttonIMinPeriod);
   gtk_box_pack_start (GTK_BOX (hbox9), spinbuttonIMinPeriod, FALSE, FALSE, 0);
@@ -984,7 +984,7 @@
   gtk_widget_show (labelIFrameIntervalMax);
   gtk_box_pack_start (GTK_BOX (hbox9), labelIFrameIntervalMax, FALSE, FALSE, 0);
 
-  spinbuttonIMaxPeriod_adj = gtk_adjustment_new (250, 1, 500, 1, 10, 10);
+  spinbuttonIMaxPeriod_adj = gtk_adjustment_new (250, 1, 500, 1, 10, 0);
   spinbuttonIMaxPeriod = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonIMaxPeriod_adj), 1, 0);
   gtk_widget_show (spinbuttonIMaxPeriod);
   gtk_box_pack_start (GTK_BOX (hbox9), spinbuttonIMaxPeriod, FALSE, FALSE, 0);
@@ -1007,7 +1007,7 @@
   gtk_widget_show (labelNumberOfBFrames);
   gtk_box_pack_start (GTK_BOX (hbox11), labelNumberOfBFrames, FALSE, FALSE, 0);
 
-  spinbuttonBFrame_adj = gtk_adjustment_new (1, 0, 3, 1, 1, 1);
+  spinbuttonBFrame_adj = gtk_adjustment_new (1, 0, 3, 1, 1, 0);
   spinbuttonBFrame = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBFrame_adj), 1, 0);
   gtk_widget_show (spinbuttonBFrame);
   gtk_box_pack_start (GTK_BOX (hbox11), spinbuttonBFrame, FALSE, FALSE, 0);
@@ -1049,7 +1049,7 @@
   gtk_box_pack_start (GTK_BOX (hbox_par1), checkbutton_par_asinput, FALSE, FALSE, 10);
   gtk_tooltips_set_tip (tooltips, checkbutton_par_asinput, QT_TR_NOOP("Get PAR from input video file"), NULL);
 
-  spinbutton_par_width_adj = gtk_adjustment_new (1, 1, 255, 1, 1, 1);
+  spinbutton_par_width_adj = gtk_adjustment_new (1, 1, 255, 1, 1, 0);
   spinbutton_par_width = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_par_width_adj), 1, 0);
   gtk_widget_show (spinbutton_par_width);
   gtk_box_pack_start (GTK_BOX (hbox_par1), spinbutton_par_width, FALSE, FALSE, 0);
@@ -1060,7 +1060,7 @@
   gtk_box_pack_start (GTK_BOX (hbox_par1), label_par1, FALSE, FALSE, 2);
   gtk_label_set_justify (GTK_LABEL (label_par1), GTK_JUSTIFY_CENTER);
 
-  spinbutton_par_height_adj = gtk_adjustment_new (1, 1, 255, 1, 1, 1);
+  spinbutton_par_height_adj = gtk_adjustment_new (1, 1, 255, 1, 1, 0);
   spinbutton_par_height = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_par_height_adj), 1, 0);
   gtk_widget_show (spinbutton_par_height);
   gtk_box_pack_start (GTK_BOX (hbox_par1), spinbutton_par_height, FALSE, FALSE, 0);
@@ -1176,19 +1176,19 @@
   gtk_widget_show (vbox12);
   gtk_box_pack_start (GTK_BOX (hbox14), vbox12, FALSE, FALSE, 0);
 
-  spinbuttonIMin_adj = gtk_adjustment_new (2, 1, 31, 1, 10, 10);
+  spinbuttonIMin_adj = gtk_adjustment_new (2, 1, 31, 1, 10, 0);
   spinbuttonIMin = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonIMin_adj), 1, 0);
   gtk_widget_show (spinbuttonIMin);
   gtk_box_pack_start (GTK_BOX (vbox12), spinbuttonIMin, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, spinbuttonIMin, QT_TR_NOOP("Minimum quantizer allowed for I-frames"), NULL);
 
-  spinbuttonPMin_adj = gtk_adjustment_new (2, 1, 31, 1, 10, 10);
+  spinbuttonPMin_adj = gtk_adjustment_new (2, 1, 31, 1, 10, 0);
   spinbuttonPMin = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonPMin_adj), 1, 0);
   gtk_widget_show (spinbuttonPMin);
   gtk_box_pack_start (GTK_BOX (vbox12), spinbuttonPMin, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, spinbuttonPMin, QT_TR_NOOP("Minimum quantizer allowed for P-frames"), NULL);
 
-  spinbuttonBMin_adj = gtk_adjustment_new (2, 1, 31, 1, 10, 10);
+  spinbuttonBMin_adj = gtk_adjustment_new (2, 1, 31, 1, 10, 0);
   spinbuttonBMin = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBMin_adj), 1, 0);
   gtk_widget_show (spinbuttonBMin);
   gtk_box_pack_start (GTK_BOX (vbox12), spinbuttonBMin, FALSE, FALSE, 0);
@@ -1217,19 +1217,19 @@
   gtk_widget_show (vbox14);
   gtk_box_pack_start (GTK_BOX (hbox14), vbox14, FALSE, FALSE, 0);
 
-  spinbuttonIMax_adj = gtk_adjustment_new (31, 1, 31, 1, 10, 10);
+  spinbuttonIMax_adj = gtk_adjustment_new (31, 1, 31, 1, 10, 0);
   spinbuttonIMax = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonIMax_adj), 1, 0);
   gtk_widget_show (spinbuttonIMax);
   gtk_box_pack_start (GTK_BOX (vbox14), spinbuttonIMax, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, spinbuttonIMax, QT_TR_NOOP("Maximum quantizer allowed for I-frames"), NULL);
 
-  spinbuttonPMax_adj = gtk_adjustment_new (31, 1, 31, 1, 10, 10);
+  spinbuttonPMax_adj = gtk_adjustment_new (31, 1, 31, 1, 10, 0);
   spinbuttonPMax = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonPMax_adj), 1, 0);
   gtk_widget_show (spinbuttonPMax);
   gtk_box_pack_start (GTK_BOX (vbox14), spinbuttonPMax, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, spinbuttonPMax, QT_TR_NOOP("Maximum quantizer allowed for P-frames"), NULL);
 
-  spinbuttonBMax_adj = gtk_adjustment_new (31, 1, 31, 1, 10, 10);
+  spinbuttonBMax_adj = gtk_adjustment_new (31, 1, 31, 1, 10, 0);
   spinbuttonBMax = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBMax_adj), 1, 0);
   gtk_widget_show (spinbuttonBMax);
   gtk_box_pack_start (GTK_BOX (vbox14), spinbuttonBMax, FALSE, FALSE, 0);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_threadCount.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_threadCount.cpp	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_threadCount.cpp	2008-09-13 15:01:08 UTC (rev 4327)
@@ -88,7 +88,7 @@
 	gtk_widget_show (radiobutton3);
 	gtk_box_pack_start (GTK_BOX (hbox2), radiobutton3, TRUE, TRUE, 0);
 
-	spinbutton1_adj = gtk_adjustment_new (2, 2, 32, 1, 10, 10);
+	spinbutton1_adj = gtk_adjustment_new (2, 2, 32, 1, 10, 0);
 	spinbutton1 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton1_adj), 1, 0);
 	gtk_widget_show (spinbutton1);
 	gtk_box_pack_start (GTK_BOX (hbox2), spinbutton1, TRUE, TRUE, 0);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp	2008-09-13 15:01:08 UTC (rev 4327)
@@ -1032,7 +1032,7 @@
   gtk_widget_show (toolitem14);
   gtk_container_add (GTK_CONTAINER (toolbar2), toolitem14);
 
-  hscalVolume = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (99, 0, 100, 1, 1, 1)));
+  hscalVolume = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (99, 0, 100, 1, 1, 0)));
   gtk_widget_show (hscalVolume);
   gtk_container_add (GTK_CONTAINER (toolitem14), hscalVolume);
   gtk_widget_set_size_request (hscalVolume, 100, -1);
@@ -1157,7 +1157,7 @@
   gtk_box_pack_start (GTK_BOX (hbox19), CheckButtonTimeshift, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, CheckButtonTimeshift, QT_TR_NOOP("Enable time shift"), NULL);
 
-  spinbuttonTimeShift_adj = gtk_adjustment_new (0, -99999, 99999, 1, 10, 10);
+  spinbuttonTimeShift_adj = gtk_adjustment_new (0, -99999, 99999, 1, 10, 0);
   spinbuttonTimeShift = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonTimeShift_adj), 1, 0);
   gtk_widget_show (spinbuttonTimeShift);
   gtk_box_pack_start (GTK_BOX (hbox19), spinbuttonTimeShift, TRUE, TRUE, 0);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/contrast2.glade
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/contrast2.glade	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/contrast2.glade	2008-09-13 15:01:08 UTC (rev 4327)
@@ -262,7 +262,7 @@
 	      <property name="digits">1</property>
 	      <property name="update_policy">GTK_UPDATE_CONTINUOUS</property>
 	      <property name="inverted">False</property>
-	      <property name="adjustment">0 0 99 1 1 1</property>
+	      <property name="adjustment">0 0 99 1 1 0</property>
 	    </widget>
 	    <packing>
 	      <property name="padding">0</property>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade	2008-09-13 15:01:08 UTC (rev 4327)
@@ -1417,7 +1417,7 @@
 		  <property name="digits">0</property>
 		  <property name="update_policy">GTK_UPDATE_CONTINUOUS</property>
 		  <property name="inverted">False</property>
-		  <property name="adjustment">99 0 100 1 1 1</property>
+		  <property name="adjustment">99 0 100 1 1 0</property>
 		</widget>
 	      </child>
 	    </widget>
@@ -1760,7 +1760,7 @@
 					  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 					  <property name="snap_to_ticks">False</property>
 					  <property name="wrap">False</property>
-					  <property name="adjustment">0 -99999 99999 1 10 10</property>
+					  <property name="adjustment">0 -99999 99999 1 10 0</property>
 					</widget>
 					<packing>
 					  <property name="padding">0</property>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/prefs.glade
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/prefs.glade	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/prefs.glade	2008-09-13 15:01:08 UTC (rev 4327)
@@ -369,7 +369,7 @@
 		      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 		      <property name="snap_to_ticks">False</property>
 		      <property name="wrap">False</property>
-		      <property name="adjustment">790 400 5000 1 10 10</property>
+		      <property name="adjustment">790 400 5000 1 10 0</property>
 		    </widget>
 		    <packing>
 		      <property name="padding">0</property>
@@ -859,7 +859,7 @@
 		  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 		  <property name="snap_to_ticks">False</property>
 		  <property name="wrap">False</property>
-		  <property name="adjustment">0 0 4 1 10 10</property>
+		  <property name="adjustment">0 0 4 1 10 0</property>
 		</widget>
 		<packing>
 		  <property name="padding">0</property>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/project_x264.glade
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/project_x264.glade	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/project_x264.glade	2008-09-13 15:01:08 UTC (rev 4327)
@@ -203,7 +203,7 @@
 		      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 		      <property name="snap_to_ticks">False</property>
 		      <property name="wrap">False</property>
-		      <property name="adjustment">4 0 51 1 10 10</property>
+		      <property name="adjustment">4 0 51 1 10 0</property>
 		    </widget>
 		    <packing>
 		      <property name="left_attach">1</property>
@@ -528,7 +528,7 @@
 				      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				      <property name="snap_to_ticks">False</property>
 				      <property name="wrap">False</property>
-				      <property name="adjustment">17 0 64 1 10 10</property>
+				      <property name="adjustment">17 0 64 1 10 0</property>
 				    </widget>
 				    <packing>
 				      <property name="left_attach">1</property>
@@ -551,7 +551,7 @@
 				      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				      <property name="snap_to_ticks">False</property>
 				      <property name="wrap">False</property>
-				      <property name="adjustment">1 0 16 1 10 10</property>
+				      <property name="adjustment">1 0 16 1 10 0</property>
 				    </widget>
 				    <packing>
 				      <property name="left_attach">1</property>
@@ -1088,7 +1088,7 @@
 					      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 					      <property name="snap_to_ticks">False</property>
 					      <property name="wrap">False</property>
-					      <property name="adjustment">0 0 2 1 10 10</property>
+					      <property name="adjustment">0 0 2 1 10 0</property>
 					    </widget>
 					    <packing>
 					      <property name="padding">0</property>
@@ -1146,7 +1146,7 @@
 					      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 					      <property name="snap_to_ticks">False</property>
 					      <property name="wrap">False</property>
-					      <property name="adjustment">0 0 1000000000 1 10 10</property>
+					      <property name="adjustment">0 0 1000000000 1 10 0</property>
 					    </widget>
 					    <packing>
 					      <property name="padding">0</property>
@@ -1273,7 +1273,7 @@
 					  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 					  <property name="snap_to_ticks">False</property>
 					  <property name="wrap">False</property>
-					  <property name="adjustment">0 -6 6 1 10 10</property>
+					  <property name="adjustment">0 -6 6 1 10 0</property>
 					</widget>
 					<packing>
 					  <property name="left_attach">1</property>
@@ -1296,7 +1296,7 @@
 					  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 					  <property name="snap_to_ticks">False</property>
 					  <property name="wrap">False</property>
-					  <property name="adjustment">0 -6 6 1 10 10</property>
+					  <property name="adjustment">0 -6 6 1 10 0</property>
 					</widget>
 					<packing>
 					  <property name="left_attach">1</property>
@@ -1685,7 +1685,7 @@
 				      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				      <property name="snap_to_ticks">False</property>
 				      <property name="wrap">False</property>
-				      <property name="adjustment">0 -100 100 1 10 10</property>
+				      <property name="adjustment">0 -100 100 1 10 0</property>
 				    </widget>
 				    <packing>
 				      <property name="left_attach">1</property>
@@ -1708,7 +1708,7 @@
 				      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				      <property name="snap_to_ticks">False</property>
 				      <property name="wrap">False</property>
-				      <property name="adjustment">3 0 15 1 10 10</property>
+				      <property name="adjustment">3 0 15 1 10 0</property>
 				    </widget>
 				    <packing>
 				      <property name="left_attach">1</property>
@@ -2028,7 +2028,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">40 0 100 1 10 10</property>
+				  <property name="adjustment">40 0 100 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2051,7 +2051,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">30 0 100 1 10 10</property>
+				  <property name="adjustment">30 0 100 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2074,7 +2074,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">60 0 100 1 10 10</property>
+				  <property name="adjustment">60 0 100 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2328,7 +2328,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">10 10 51 1 10 10</property>
+				  <property name="adjustment">10 10 51 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2351,7 +2351,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">51 10 51 1 10 10</property>
+				  <property name="adjustment">51 10 51 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2374,7 +2374,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">4 0 10 1 10 10</property>
+				  <property name="adjustment">4 0 10 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2460,7 +2460,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">40 0 100 1 10 10</property>
+				  <property name="adjustment">40 0 100 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2539,7 +2539,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">25 0 100 1 10 10</property>
+				  <property name="adjustment">25 0 100 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2562,7 +2562,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">250 1 1000 1 10 10</property>
+				  <property name="adjustment">250 1 1000 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2758,7 +2758,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">0 0 99999 1 10 10</property>
+				  <property name="adjustment">0 0 99999 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2780,7 +2780,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">0 0 99999 1 10 10</property>
+				  <property name="adjustment">0 0 99999 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2802,7 +2802,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">90 0 100 1 10 10</property>
+				  <property name="adjustment">90 0 100 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2964,7 +2964,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">1 0 1 0.10000000149 10 10</property>
+				  <property name="adjustment">1 0 1 0.10000000149 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2987,7 +2987,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">0.600000023842 0 1 0.10000000149 10 10</property>
+				  <property name="adjustment">0.600000023842 0 1 0.10000000149 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -3010,7 +3010,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">20 0 999 1 10 10</property>
+				  <property name="adjustment">20 0 999 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -3032,7 +3032,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">0.5 0 1 0.5 10 10</property>
+				  <property name="adjustment">0.5 0 1 0.5 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -3201,7 +3201,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">1.39999997616 1 10 0.10000000149 10 10</property>
+				  <property name="adjustment">1.39999997616 1 10 0.10000000149 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -3224,7 +3224,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">1.29999995232 1 10 0.10000000149 10 10</property>
+				  <property name="adjustment">1.29999995232 1 10 0.10000000149 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -3247,7 +3247,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">0 -12 12 1 10 10</property>
+				  <property name="adjustment">0 -12 12 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/threshold.glade
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/threshold.glade	2008-09-13 14:06:25 UTC (rev 4326)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/threshold.glade	2008-09-13 15:01:08 UTC (rev 4327)
@@ -148,7 +148,7 @@
 			      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 			      <property name="snap_to_ticks">False</property>
 			      <property name="wrap">False</property>
-			      <property name="adjustment">0 0 255 1 10 10</property>
+			      <property name="adjustment">0 0 255 1 10 0</property>
 			    </widget>
 			    <packing>
 			      <property name="padding">0</property>
@@ -236,7 +236,7 @@
 			      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 			      <property name="snap_to_ticks">False</property>
 			      <property name="wrap">False</property>
-			      <property name="adjustment">255 0 255 1 10 10</property>
+			      <property name="adjustment">255 0 255 1 10 0</property>
 			    </widget>
 			    <packing>
 			      <property name="padding">0</property>
@@ -353,7 +353,7 @@
 			  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 			  <property name="snap_to_ticks">False</property>
 			  <property name="wrap">False</property>
-			  <property name="adjustment">0 0 16777215 1 10 10</property>
+			  <property name="adjustment">0 0 16777215 1 10 0</property>
 			</widget>
 			<packing>
 			  <property name="padding">0</property>
@@ -436,7 +436,7 @@
 			      <property name="digits">0</property>
 			      <property name="update_policy">GTK_UPDATE_CONTINUOUS</property>
 			      <property name="inverted">False</property>
-			      <property name="adjustment">0 0 99 1 1 1</property>
+			      <property name="adjustment">0 0 99 1 1 0</property>
 			    </widget>
 			    <packing>
 			      <property name="padding">0</property>



From gruntster at mail.berlios.de  Sat Sep 13 18:10:25 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 13 Sep 2008 18:10:25 +0200
Subject: [Avidemux-svn-commit] r4328 - in
	branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264:
	. qt4 xml
Message-ID: <200809131610.m8DGAPZT011964@sheep.berlios.de>

Author: gruntster
Date: 2008-09-13 18:10:15 +0200 (Sat, 13 Sep 2008)
New Revision: 4328

Modified:
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/encoder.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.h
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/qt4/x264ConfigDialog.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/qt4/x264ConfigDialog.ui
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/x264Param.xsd
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/xml/PlayStation Portable.xml
Log:
[x264] remove rate control equation

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/encoder.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/encoder.cpp	2008-09-13 15:01:08 UTC (rev 4327)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/encoder.cpp	2008-09-13 16:10:15 UTC (rev 4328)
@@ -80,9 +80,6 @@
 	if (_buffer)
 		delete [] _buffer;
 
-	if (_param.rc.psz_rc_eq)
-		delete [] _param.rc.psz_rc_eq;
-
 	if (_param.rc.zones)
 		delete [] _param.rc.zones;
 }
@@ -620,7 +617,6 @@
 	printf("[x264] rc.i_vbv_buffer_size = %d\n", x264Param->rc.i_vbv_buffer_size);
 	printf("[x264] rc.f_vbv_buffer_init = %f\n", x264Param->rc.f_vbv_buffer_init);
 	printf("[x264] rc.i_zones = %d\n", x264Param->rc.i_zones);
-	printf("[x264] rc.psz_rc_eq = %s\n", x264Param->rc.psz_rc_eq);
 
 	printf("[x264] i_level_idc = %d\n", x264Param->i_level_idc);
 	printf("[x264] i_sps_id = %d\n", x264Param->i_sps_id);

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.cpp	2008-09-13 15:01:08 UTC (rev 4327)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.cpp	2008-09-13 16:10:15 UTC (rev 4328)
@@ -45,12 +45,6 @@
 
 void x264Options::cleanUp(void)
 {
-	if (_param.rc.psz_rc_eq)
-	{
-		free(_param.rc.psz_rc_eq);
-		_param.rc.psz_rc_eq = NULL;
-	}
-
 	if (_configurationName)
 	{
 		free(_configurationName);
@@ -65,7 +59,6 @@
 	cleanUp();
 
 	x264_param_default(&_param);
-	_param.rc.psz_rc_eq = strdup(_param.rc.psz_rc_eq);
 	_param.vui.i_sar_height = 1;
 	_param.vui.i_sar_width = 1;
 	_param.i_threads = 0;	// set to auto-detect; default is disabled
@@ -80,7 +73,6 @@
 	x264_param_t *param = new x264_param_t;
 
 	memcpy(param, &_param, sizeof(x264_param_t));
-	param->rc.psz_rc_eq = strdup(_param.rc.psz_rc_eq);
 	param->rc.i_zones = getZoneCount();
 
 	if (param->rc.i_zones)
@@ -893,19 +885,6 @@
 }
 #endif
 
-char* x264Options::getRateControlEquation(void)
-{
-	return _param.rc.psz_rc_eq;
-}
-
-void x264Options::setRateControlEquation(const char *rateControlEquation)
-{
-	if (_param.rc.psz_rc_eq)
-		free(_param.rc.psz_rc_eq);
-
-	_param.rc.psz_rc_eq = strdup(rateControlEquation);
-}
-
 float x264Options::getQuantiserCurveCompression(void)
 {
 	return _param.rc.f_qcompress;
@@ -1412,7 +1391,6 @@
 	xmlNewChild(xmlNodeChild, NULL, (xmlChar*)"adaptiveQuantiserMode", xmlBuffer);
 	xmlNewChild(xmlNodeChild, NULL, (xmlChar*)"adaptiveQuantiserStrength", number2String(xmlBuffer, bufferSize, getAdaptiveQuantiserStrength()));
 #endif
-	xmlNewChild(xmlNodeChild, NULL, (xmlChar*)"rateControlEquation", (xmlChar*)getRateControlEquation());
 	xmlNewChild(xmlNodeChild, NULL, (xmlChar*)"quantiserCurveCompression", number2String(xmlBuffer, bufferSize, getQuantiserCurveCompression()));
 	xmlNewChild(xmlNodeChild, NULL, (xmlChar*)"reduceFluxBeforeCurveCompression", number2String(xmlBuffer, bufferSize, getReduceFluxBeforeCurveCompression()));
 	xmlNewChild(xmlNodeChild, NULL, (xmlChar*)"reduceFluxAfterCurveCompression", number2String(xmlBuffer, bufferSize, getReduceFluxAfterCurveCompression()));
@@ -1958,8 +1936,6 @@
 			else if (strcmp((char*)xmlChild->name, "adaptiveQuantiserStrength") == 0)
 				setAdaptiveQuantiserStrength(atof(content));
 #endif
-			else if (strcmp((char*)xmlChild->name, "rateControlEquation") == 0)
-				setRateControlEquation(content);
 			else if (strcmp((char*)xmlChild->name, "quantiserCurveCompression") == 0)
 				setQuantiserCurveCompression(atof(content));
 			else if (strcmp((char*)xmlChild->name, "reduceFluxBeforeCurveCompression") == 0)

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.h	2008-09-13 15:01:08 UTC (rev 4327)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.h	2008-09-13 16:10:15 UTC (rev 4328)
@@ -299,9 +299,6 @@
 	void setAdaptiveQuantiserStrength(float adaptiveQuantiserStrength);
 #endif
 
-	char* getRateControlEquation(void);
-	void setRateControlEquation(const char *rateControlEquation);
-
 	float getQuantiserCurveCompression(void);
 	void setQuantiserCurveCompression(float quantiserCurveCompression);
 

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/qt4/x264ConfigDialog.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/qt4/x264ConfigDialog.cpp	2008-09-13 15:01:08 UTC (rev 4327)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/qt4/x264ConfigDialog.cpp	2008-09-13 16:10:15 UTC (rev 4328)
@@ -723,8 +723,6 @@
 		delete [] zoneOptions;
 	}
 
-	ui.rateControlEqLineEdit->setText(options->getRateControlEquation());
-
 	// Output tab
 	if (!options->getIdcLevel())
 		options->setIdcLevel(51);
@@ -926,8 +924,6 @@
 	for (int zone = 0; zone < zoneOptions.count(); zone++)
 		options->addZone(zoneOptions[zone]);
 
-	options->setRateControlEquation(ui.rateControlEqLineEdit->text().toUtf8().constData());
-
 	// Output tab
 	options->setIdcLevel(idcLevel[ui.idcLevelComboBox->currentIndex()]);
 	options->setSpsIdentifier(ui.spsiComboBox->currentText().toInt());

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/qt4/x264ConfigDialog.ui
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/qt4/x264ConfigDialog.ui	2008-09-13 15:01:08 UTC (rev 4327)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/qt4/x264ConfigDialog.ui	2008-09-13 16:10:15 UTC (rev 4328)
@@ -1,7 +1,5 @@
 <ui version="4.0" >
  <author>(C) 2008 by gruntster</author>
- <comment></comment>
- <exportmacro></exportmacro>
  <class>x264ConfigDialog</class>
  <widget class="QDialog" name="x264ConfigDialog" >
   <property name="geometry" >
@@ -2511,16 +2509,16 @@
                  <number>1</number>
                 </property>
                 <property name="maximum" >
-                 <double>10</double>
+                 <double>10.000000000000000</double>
                 </property>
                 <property name="minimum" >
-                 <double>1</double>
+                 <double>1.000000000000000</double>
                 </property>
                 <property name="singleStep" >
-                 <double>0.1</double>
+                 <double>0.100000000000000</double>
                 </property>
                 <property name="value" >
-                 <double>1.3</double>
+                 <double>1.300000000000000</double>
                 </property>
                </widget>
               </item>
@@ -2700,16 +2698,16 @@
                  <number>1</number>
                 </property>
                 <property name="maximum" >
-                 <double>10</double>
+                 <double>10.000000000000000</double>
                 </property>
                 <property name="minimum" >
-                 <double>1</double>
+                 <double>1.000000000000000</double>
                 </property>
                 <property name="singleStep" >
-                 <double>0.1</double>
+                 <double>0.100000000000000</double>
                 </property>
                 <property name="value" >
-                 <double>1.4</double>
+                 <double>1.400000000000000</double>
                 </property>
                </widget>
               </item>
@@ -2831,10 +2829,10 @@
                  <number>1</number>
                 </property>
                 <property name="maximum" >
-                 <double>999</double>
+                 <double>999.000000000000000</double>
                 </property>
                 <property name="value" >
-                 <double>20</double>
+                 <double>20.000000000000000</double>
                 </property>
                </widget>
               </item>
@@ -2867,13 +2865,13 @@
                  <number>1</number>
                 </property>
                 <property name="maximum" >
-                 <double>1</double>
+                 <double>1.000000000000000</double>
                 </property>
                 <property name="singleStep" >
-                 <double>0.1</double>
+                 <double>0.100000000000000</double>
                 </property>
                 <property name="value" >
-                 <double>0.5</double>
+                 <double>0.500000000000000</double>
                 </property>
                </widget>
               </item>
@@ -2930,13 +2928,13 @@
                <number>1</number>
               </property>
               <property name="maximum" >
-               <double>1.5</double>
+               <double>1.500000000000000</double>
               </property>
               <property name="minimum" >
-               <double>0.5</double>
+               <double>0.500000000000000</double>
               </property>
               <property name="singleStep" >
-               <double>0.1</double>
+               <double>0.100000000000000</double>
               </property>
              </widget>
             </item>
@@ -3389,35 +3387,6 @@
          </layout>
         </widget>
        </item>
-       <item>
-        <widget class="QGroupBox" name="groupBox_20" >
-         <property name="title" >
-          <string>Advanced</string>
-         </property>
-         <layout class="QHBoxLayout" >
-          <property name="margin" >
-           <number>9</number>
-          </property>
-          <property name="spacing" >
-           <number>6</number>
-          </property>
-          <item>
-           <widget class="QLabel" name="label_33" >
-            <property name="text" >
-             <string>Rate Control Equation:</string>
-            </property>
-           </widget>
-          </item>
-          <item>
-           <widget class="QLineEdit" name="rateControlEqLineEdit" >
-            <property name="text" >
-             <string/>
-            </property>
-           </widget>
-          </item>
-         </layout>
-        </widget>
-       </item>
       </layout>
      </widget>
      <widget class="QWidget" name="tab_8" >
@@ -4168,7 +4137,6 @@
    </item>
   </layout>
  </widget>
- <pixmapfunction></pixmapfunction>
  <tabstops>
   <tabstop>tabWidget</tabstop>
   <tabstop>encodingModeComboBox</tabstop>
@@ -4233,7 +4201,6 @@
   <tabstop>zoneAddButton</tabstop>
   <tabstop>zoneEditButton</tabstop>
   <tabstop>zoneDeleteButton</tabstop>
-  <tabstop>rateControlEqLineEdit</tabstop>
   <tabstop>idcLevelComboBox</tabstop>
   <tabstop>spsiComboBox</tabstop>
   <tabstop>repeatabilityCheckBox</tabstop>

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/x264Param.xsd
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/x264Param.xsd	2008-09-13 15:01:08 UTC (rev 4327)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/x264Param.xsd	2008-09-13 16:10:15 UTC (rev 4328)
@@ -465,7 +465,6 @@
                       </xs:simpleType>
                     </xs:element>
                     <xs:element name="adaptiveQuantiserStrength" type="xs:float" minOccurs="0"/>
-                    <xs:element name="rateControlEquation" type="xs:string"/>
                     <xs:element name="quantiserCurveCompression">
                       <xs:simpleType>
                         <xs:restriction base="xs:float">

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/xml/PlayStation Portable.xml
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/xml/PlayStation Portable.xml	2008-09-13 15:01:08 UTC (rev 4327)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/xml/PlayStation Portable.xml	2008-09-13 16:10:15 UTC (rev 4328)
@@ -278,7 +278,6 @@
       <pbFrameQuantiser>1.300000</pbFrameQuantiser>
       <adaptiveQuantiserMode>global</adaptiveQuantiserMode>
       <adaptiveQuantiserStrength>1.000000</adaptiveQuantiserStrength>
-      <rateControlEquation>blurCplx^(1-qComp)</rateControlEquation>
       <quantiserCurveCompression>0.600000</quantiserCurveCompression>
       <reduceFluxBeforeCurveCompression>20.000000</reduceFluxBeforeCurveCompression>
       <reduceFluxAfterCurveCompression>0.500000</reduceFluxAfterCurveCompression>



From gruntster at mail.berlios.de  Sat Sep 13 18:28:07 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 13 Sep 2008 18:28:07 +0200
Subject: [Avidemux-svn-commit] r4329 - in
	branches/avidemux_2.5_branch_gruntster/avidemux:
	ADM_infoExtractor ADM_inputs/ADM_mp4 ADM_inputs/ADM_mpegdemuxer
Message-ID: <200809131628.m8DGS7IG012867@sheep.berlios.de>

Author: gruntster
Date: 2008-09-13 18:27:58 +0200 (Sat, 13 Sep 2008)
New Revision: 4329

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_infoExtractor/ADM_h264_tag.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_infoExtractor/ADM_infoextractor.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_demuxerTS.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_h264.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_internal.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_mpeg2.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_io.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_io.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probeTS.cpp
Log:
[Merge] integrate changes from 2.4 branch (r4297)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_infoExtractor/ADM_h264_tag.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_infoExtractor/ADM_h264_tag.h	2008-09-13 16:10:15 UTC (rev 4328)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_infoExtractor/ADM_h264_tag.h	2008-09-13 16:27:58 UTC (rev 4329)
@@ -19,5 +19,30 @@
 #define NAL_PPS           8
 #define NAL_AU_DELIMITER  9
 #define NAL_FILLER        12
+
+typedef struct AspectRatio {
+    int num;
+    int den;
+} AspectRatio;
+
+const AspectRatio pixel_aspect[17] = {
+	{0, 1},
+	{1, 1},
+	{12, 11},
+	{10, 11},
+	{16, 11},
+	{40, 33},
+	{24, 11},
+	{20, 11},
+	{32, 11},
+	{80, 33},
+	{18, 11},
+	{15, 11},
+	{64, 33},
+	{160,99},
+	{4, 3},
+	{3, 2},
+	{2, 1},
+};
 #endif
 //EOF

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_infoExtractor/ADM_infoextractor.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_infoExtractor/ADM_infoextractor.cpp	2008-09-13 16:10:15 UTC (rev 4328)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_infoExtractor/ADM_infoextractor.cpp	2008-09-13 16:27:58 UTC (rev 4329)
@@ -325,9 +325,9 @@
     
 }
 
-static uint8_t extractVUIInfo(GetBitContext *s, uint32_t *fps1000)
+static uint8_t extractVUIInfo(GetBitContext *s, uint32_t *fps1000, uint32_t *darNum, uint32_t *darDen)
 {
-	*fps1000 = 0;
+	*fps1000 = *darNum = *darDen = 0;
 
 	if (get_bits1(s))
 	{
@@ -335,9 +335,14 @@
 
 		if (aspect_ratio_information == 255)
 		{
-			get_bits(s, 16);
-			get_bits(s, 16);
+			*darNum = get_bits_long(s, 16);
+			*darDen = get_bits_long(s, 16);
 		}
+		else if (aspect_ratio_information < sizeof(pixel_aspect) / sizeof(*pixel_aspect))
+		{
+			*darNum = pixel_aspect[aspect_ratio_information].num;
+			*darDen = pixel_aspect[aspect_ratio_information].den;
+		}
 	}
 
 	if (get_bits1(s))	// overscan
@@ -382,7 +387,7 @@
     \brief Extract info from H264 SPS
     See 7.3.2.1 of 14496-10
 */
-uint8_t extractSPSInfo(uint8_t *data, uint32_t len,uint32_t *wwidth,uint32_t *hheight, uint32_t *fps1000)
+uint8_t extractSPSInfo(uint8_t *data, uint32_t len,uint32_t *wwidth,uint32_t *hheight, uint32_t *fps1000, uint32_t *darNum, uint32_t *darDen)
 {
    GetBitContext s;
    
@@ -468,7 +473,7 @@
 		   }
 
 		   if(get_bits1(&s))
-			   extractVUIInfo(&s, fps1000);
+			   extractVUIInfo(&s, fps1000, darNum, darDen);
 
            return 1;
 }

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2008-09-13 16:10:15 UTC (rev 4328)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp	2008-09-13 16:27:58 UTC (rev 4329)
@@ -562,8 +562,11 @@
                                 son.skipBytes(32-1-u32);
                                 left-=32;
                                 //
-                                son.read32();
-                                left-=4; //Depth & color Id
+                                if(left>=4)
+                                {
+                                    son.read32();
+                                    left-=4; //Depth & color Id
+                                }else left=0;
                                 //
                                 printf("LEFT:%d\n",left);
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_demuxerTS.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_demuxerTS.cpp	2008-09-13 16:10:15 UTC (rev 4328)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_demuxerTS.cpp	2008-09-13 16:27:58 UTC (rev 4329)
@@ -552,8 +552,12 @@
         pid=parser->read16i();
         if((pid>>8) & TS_UNIT_START) payloadunit=1;
         pid&=0x1fff; // remove flags
+
+#ifdef TS_VERBOSE
         if(discarded)
                 printf("Ts: Discontinuity of %lu at %"LLX" pid:%lx\n",discarded,abs,pid);
+#endif
+
         // Start of packet..
         left=TS_PacketSize-3;
         if(_probeSize)
@@ -778,28 +782,15 @@
 */
 uint8_t         dmx_demuxerTS::syncH264( uint8_t *stream,uint64_t *abs,uint64_t *r,uint64_t *pts,uint64_t *dts)
 {
-uint32_t val,hnt;
+uint32_t hnt;
 retry:
          *r=0;
 
-                val=0;
-                hnt=0;
+		 hnt = (read8i() << 16) | (read8i() << 8) | read8i();
 
-                // preload
-                hnt=(read8i()<<24) + (read8i()<<16) +(read8i()<<8)+(read8i());
-                if(_lastErr)
+                while (hnt >> 8 != 1)
                 {
-                        _lastErr=0;
-                        printf("\n io error , aborting sync\n");
-                        return 0;       
-                }
-
-                while((hnt!=1))
-                {
-
-                        hnt<<=8;
-                        val=read8i();
-                        hnt+=val;
+					hnt = (hnt << 8) | read8i();
  
                         if(_lastErr)
                         {
@@ -807,10 +798,10 @@
                             printf("\n io error , aborting sync\n");
                             return 0;
                          }
-
                 }
 
-                *stream=read8i();
+				*stream = hnt;
+
                 // Case 1 : assume we are still in the same packet
                 if(_pesBufferIndex>=5)
                 {
@@ -827,7 +818,7 @@
                                  { // previous Packet which len is very shoty
                                    // Ignore
                                    _pesBufferIndex=0;
-                                   printf("Ignoring too short packet");
+                                   printf("Ignoring too short packet\n");
                                    goto retry;
                                  }
                                  left=_oldPesLen-left;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp	2008-09-13 16:10:15 UTC (rev 4328)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp	2008-09-13 16:27:58 UTC (rev 4329)
@@ -235,15 +235,10 @@
               
         printf("*********Indexing Ended (%d audio tracks)***********\n",nbTracks);
 
-         switch(run.imageAR)
-         {
-           case 1: 	qfprintf(out,"# Video Aspect Ratio : %s\n", "1:1" );break;
-           case 2: 	qfprintf(out,"# Video Aspect Ratio : %s\n", "4:3" );break;
-           case 3: 	qfprintf(out,"# Video Aspect Ratio : %s\n", "16:9" );break;
-           default:
-              printf("imageAR=%u\n",run.imageAR);
-              GUI_Error_HIG(QT_TR_NOOP("Can't determine aspect ratio"),NULL);
-	}
+		if (run.imageDarNum == 0 || run.imageDarDen == 0)
+			GUI_Error_HIG(QT_TR_NOOP("Can't determine aspect ratio"),NULL);
+		else
+			qfprintf(out,"# Video Aspect Ratio : %d:%d\n", run.imageDarNum, run.imageDarDen);
 
         /* Now update......... */
           fseeko(out,0,SEEK_SET);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_h264.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_h264.cpp	2008-09-13 16:10:15 UTC (rev 4328)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_h264.cpp	2008-09-13 16:27:58 UTC (rev 4329)
@@ -47,7 +47,7 @@
 static const char Type[5]={'X','I','P','B','P'};
 
 
-extern uint8_t extractSPSInfo(uint8_t *data, uint32_t len,uint32_t *wwidth,uint32_t *hheight, uint32_t *fps1000);
+extern uint8_t extractSPSInfo(uint8_t *data, uint32_t len,uint32_t *wwidth,uint32_t *hheight, uint32_t *fps1000, uint32_t *darNum, uint32_t *darDen);
 
 dmx_videoIndexerH264::dmx_videoIndexerH264(dmx_runData *run) : dmx_videoIndexer(run)
 {
@@ -143,13 +143,11 @@
               {
                     // Our firt frame is here
                     // Important to initialize the mpeg decoder !
-                    _run->imageAR = 1;	// 1:1 to suppress warning
-
                       uint8_t buffer[60] ; // should be enough
                       uint64_t xA,xR;
                       _run->demuxer->getPos(&xA,&xR);
                       _run->demuxer->read(buffer,60);
-                      if(extractSPSInfo(buffer,60,&( _run->imageW),&( _run->imageH),&(_run->imageFPS)))
+                      if(extractSPSInfo(buffer,60,&( _run->imageW),&( _run->imageH),&(_run->imageFPS),&(_run->imageDarNum),&(_run->imageDarDen)))
                       {
                             seq_found=1;
                             startFrame(1,syncAbs,syncRel);
@@ -385,4 +383,4 @@
 /********************************************************************************************/
 /********************************************************************************************/
 
-//
+//
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_internal.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_internal.h	2008-09-13 16:10:15 UTC (rev 4328)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_internal.h	2008-09-13 16:27:58 UTC (rev 4329)
@@ -47,7 +47,7 @@
       uint32_t nbImage;
       uint32_t nbPushed,nbGop;      
       uint32_t nbTrack;
-      uint32_t imageW,imageH,imageFPS,imageAR;
+      uint32_t imageW,imageH,imageFPS, imageDarNum, imageDarDen;
       TimeStamp firstStamp,lastStamp; /* Time code hh:mm:ss */
       
 }dmx_runData;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_mpeg2.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_mpeg2.cpp	2008-09-13 16:10:15 UTC (rev 4328)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer_mpeg2.cpp	2008-09-13 16:27:58 UTC (rev 4329)
@@ -99,7 +99,7 @@
 uint8_t streamid;   
 uint32_t temporal_ref,ftype,val;
 uint64_t pts,dts;
-
+uint32_t imageAR;
       
 
       while(1)
@@ -139,7 +139,29 @@
                               _run->imageW=val>>20;
                               _run->imageW=((_run->imageW+15)&~15);
                               _run->imageH= (((val>>8) & 0xfff)+15)& ~15;
-                              _run->imageAR=(val>>4)&0xf;
+
+							  imageAR = (val >> 4) & 0xf;
+
+							  switch (imageAR)
+							  {
+								  case 1:
+									  _run->imageDarNum = 1;
+									  _run->imageDarDen = 1;
+									  break;
+								  case 2:
+									  _run->imageDarNum = 4;
+									  _run->imageDarDen = 3;
+									  break;
+								  case 3:
+									  _run->imageDarNum = 16;
+									  _run->imageDarDen = 9;
+									  break;
+								  default:
+									  _run->imageDarNum = 0;
+									  _run->imageDarDen = 0;
+									  printf("imageAR = %u\n", imageAR);
+							  }
+
                               _run->imageFPS= FPS[val & 0xf];
                               demuxer->forward(4);
                               break;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_io.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_io.cpp	2008-09-13 16:10:15 UTC (rev 4328)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_io.cpp	2008-09-13 16:27:58 UTC (rev 4329)
@@ -505,3 +505,40 @@
         return r;
 }
 #endif
+
+void fileParser::hexDump(uint8_t *buf, int size)
+{
+	int len, i, j, c;
+
+	for(i=0;i<size;i+=16)
+	{
+		len = size - i;
+
+		if (len > 16)
+			len = 16;
+
+		printf("%08x ", i);
+
+		for(j=0;j<16;j++)
+		{
+			if (j < len)
+				printf(" %02x", buf[i+j]);
+			else
+				printf("   ");
+		}
+
+		printf(" ");
+
+		for(j=0;j<len;j++)
+		{
+			c = buf[i+j];
+
+			if (c < ' ' || c > '~')
+				c = '.';
+
+			printf("%c", c);
+		}
+
+		printf("\n");
+	}
+}

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_io.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_io.h	2008-09-13 16:10:15 UTC (rev 4328)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_io.h	2008-09-13 16:27:58 UTC (rev 4329)
@@ -58,6 +58,7 @@
                         uint64_t getSize( void ) ;
                         uint32_t read32(uint32_t l, uint8_t *buffer);
                         uint8_t  end(void) { return _off==_size-1;};
+						void hexDump(uint8_t *buf, int size);
 #ifdef NO_INLINE_FP
                         uint32_t read32i(void );
                         uint16_t read16i(void );

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probeTS.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probeTS.cpp	2008-09-13 16:10:15 UTC (rev 4328)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_probeTS.cpp	2008-09-13 16:27:58 UTC (rev 4329)
@@ -42,51 +42,48 @@
 
 
 
-#define MAX_PROBE (10*1024*1024LL) // Scans the 4 first meg
+#define MAX_PROBE 2000000 // Scans the first 2 meg
 #define MIN_DETECT (10*1024) // Need this to say the stream is present
 #define MAX_NB_PMT 50
+#define MAX_NB_TRACK 50
 
 //#define PROBE_TS_VERBOSE
 
-//****************************************************************************************
 typedef struct MPEG_PMT
 {
-   uint32_t         programNumber;
-   uint32_t         tid;
-}MPEG_PMT;
-//****************************************************************************************
+	uint16_t programNumber;
+	uint16_t tid;
+} MPEG_PMT;
 
 uint8_t dmx_probeTS(const char *file,  uint32_t *nbTracks,MPEG_TRACK **tracks,DMX_TYPE t);
-//****************************************************************************************
+
 static uint8_t dmx_probeTSBruteForce(const char *file,  uint32_t *nbTracks,MPEG_TRACK **tracks,DMX_TYPE type);
-static uint8_t dmx_probeTSPat(const char *file, uint32_t *nbTracks,MPEG_TRACK **tracks,DMX_TYPE type);
-static uint8_t dmx_probePat(dmx_demuxerTS *demuxer, uint32_t *nbPmt,MPEG_PMT *pmts,uint32_t maxPmt);
-static uint8_t dmx_probePMT(dmx_demuxerTS *demuxer, uint32_t pmtId,MPEG_TRACK *pmts,uint32_t *cur, uint32_t max);
-
+static uint8_t dmx_probeTsPatPmt(const char *file, uint32_t *nbTracks, MPEG_TRACK **tracks, DMX_TYPE type);
+static int dmx_parsePat(dmx_demuxerTS *demuxer, int *nbPmt, MPEG_PMT *pmts, int maxPmt);
+static int dmx_parsePmt(dmx_demuxerTS *demuxer, int pid, MPEG_TRACK *pmts, int *cur, int max);
+static int parseProgramDescriptors(uint8_t *progDescBuffer, int progDescLength, int *esType);
+static const char *dmx_streamType(uint32_t type,ADM_STREAM_TYPE *streamType);
 static const char *dmx_streamTypeAsString(ADM_STREAM_TYPE st);
  
 extern uint32_t mpegTsCRC(uint8_t *data, uint32_t len);
-//*********************************************************
+
 uint8_t runProbe(const char *file)
 {
   uint32_t nb;
   MPEG_TRACK *t;
-  return  dmx_probeTSPat(file, &nb,&t,DMX_MPG_TS);
-  
+  return dmx_probeTsPatPmt(file, &nb,&t,DMX_MPG_TS);
 }
 
 uint8_t dmx_probeTS(const char *file,  uint32_t *nbTracks,MPEG_TRACK **tracks,DMX_TYPE type)
 {
-  
-    // Try through PMT/PAT first
-      if( type==DMX_MPG_TS2 || !dmx_probeTSPat(file,nbTracks,tracks,type))
-      //if( !dmx_probeTSPat(file,nbTracks,tracks,type))
-      {
-        
-        printf("PAT/PMT Failed, using brute force\n");
-        return dmx_probeTSBruteForce(file,nbTracks,tracks,type);
-      }
-      return 1;
+	// Try through PMT/PAT first
+	if (!dmx_probeTsPatPmt(file, nbTracks, tracks, type))
+	{
+		printf("PAT/PMT Failed, using brute force\n");
+		return dmx_probeTSBruteForce(file,nbTracks,tracks,type);
+	}
+
+	return 1;
 }
 /**************************************
 ****************************************************************
@@ -131,8 +128,8 @@
         {
           return 0;
         }
-    // Set probe to 10 Meg
-      demuxer.setProbeSize(10*1024*1024L);
+
+      demuxer.setProbeSize(MAX_PROBE);
       parser=demuxer.getParser();
       // And run
 
@@ -259,216 +256,193 @@
       @param **tracks : contains info about the tracks found (out)
 
 */
-uint8_t dmx_probeTSPat(const char *file, uint32_t *nbTracks,MPEG_TRACK **tracks,DMX_TYPE type)
+uint8_t dmx_probeTsPatPmt(const char *file, uint32_t *nbTracks, MPEG_TRACK **tracks, DMX_TYPE type)
 {
-MPEG_TRACK dummy[TS_ALL_PID];
-fileParser *parser;
-uint32_t   foundPid=0;
-myPid      allPid[MAX_FOUND_PID];
-uint8_t    buffer[BUFFER_SIZE];
-MpegAudioInfo mpegInfo; 
-#define MAX_STREAM 50
-#define MAX_NB_TRACK 50
-    dummy[0].pid=0x00; // should no be in use
-    dummy[0].pes=0xE0;
+	MPEG_TRACK dummy[TS_ALL_PID];
+	fileParser *parser;
+	uint32_t pid, left, cc, isPayloadStart;
+	uint64_t abso;
+	int nbPmt = 0, cur = 0;
+	MPEG_PMT pmts[MAX_NB_PMT];
+	MPEG_TRACK xtracks[MAX_NB_TRACK];
 
-        dmx_demuxerTS demuxer(1,dummy,1,type);
-        if(!demuxer.open(file))
-        {
-          return 0;
-        }
-    // Set probe to 10 Meg
-      demuxer.setProbeSize(10*1024*1024L);
-      uint32_t nbPmt;
-      MPEG_PMT pmts[MAX_NB_PMT];
-      MPEG_TRACK xtracks[MAX_NB_TRACK];
-      
-      if(!dmx_probePat(&demuxer,&nbPmt,pmts,MAX_NB_PMT))
-      {
-        aprintf("[PSI Probe]Cannot find Pat\n"); 
-        parser=NULL;
-        return 0;
-      }
-      printf("Found %d PMT..\n",nbPmt);
-      demuxer.setProbeSize(40*1024*1024L); // We can can increase the probe size
-      uint32_t cur=0;
-      for(int i=0;i<nbPmt;i++)
-      {
-         dmx_probePMT(&demuxer, pmts[i].tid,xtracks,&cur,MAX_NB_TRACK);
-      }
-      printf("***********************\n");
-      printf("***********************\n");
-      printf("Summary of stream found\n");
-      printf("***********************\n");
-      printf("***********************\n");
-      for(int i=0;i<cur;i++)
-      {
-        printf("Tid : %04x Type :%d %s\n", xtracks[i].pid,xtracks[i].streamType,
-               dmx_streamTypeAsString(xtracks[i].streamType));
-      }
-      printf("******************************\n");
-      printf("******************************\n");
-      printf("End of summary of stream found\n");
-      printf("******************************\n");
-      printf("******************************\n");
-      
-      if(!cur)        return 0;
-      
-      // Search first video track
-      *tracks=new MPEG_TRACK[cur];
-      int found=-1;
-      for(int j=0;j<cur;j++)
-      {
-        ADM_STREAM_TYPE type=xtracks[j].streamType;
-        if(type==ADM_STREAM_MPEG_VIDEO ||  type==ADM_STREAM_MPEG4 || type==ADM_STREAM_H264)
-        {
-          found=j;
-          break;  
-        }
-      }
-      if(found<0)
-      {
-        printf("No video track\n");
-        delete [] *tracks;
-        return 0; 
-      }
-      memcpy(*tracks,&(xtracks[found]),sizeof(MPEG_TRACK));
-      *nbTracks=1;
-      // Now do audio
-      for(int j=0;j<cur;j++)
-      {
-         MPEG_TRACK *t=&(xtracks[j]);
-         ADM_STREAM_TYPE type=t->streamType;
-          if(type!=ADM_STREAM_MPEG_AUDIO && type!=ADM_STREAM_AC3
-            &&type!=ADM_STREAM_AAC) continue; // Only mpega & AC3 for now
-          switch(type)
-          {
-            case ADM_STREAM_AAC:
-                  t->pes=0xb0;
-            case ADM_STREAM_MPEG_AUDIO:
-            case ADM_STREAM_AC3:
-            
-              memcpy(&((*tracks)[*nbTracks]),t,sizeof(MPEG_TRACK));
-              ADM_assert(*nbTracks<cur);
-              (*nbTracks)++;
-              break;
-            
-            default: ADM_assert(0); 
-          }
-      }
-      printf("Found %u tracks\n",*nbTracks);
-      //
-      return 1;
-      
+	dummy[0].pid=0x00; // should not be in use
+	dummy[0].pes=0xE0;
+
+	dmx_demuxerTS demuxer(TS_ALL_PID, dummy, 1, type);
+
+	if (!demuxer.open(file))
+		return 0;
+
+	demuxer.setProbeSize(MAX_PROBE);
+
+	parser = demuxer.getParser();
+
+	while (demuxer.readPacket(&pid, &left, &isPayloadStart, &abso, &cc))
+	{
+		if (!isPayloadStart || left <= (9 + 4))
+		{
+			parser->forward(left);
+			continue;
+		}
+
+		if (pid == 0)
+		{
+			aprintf("[TS] parse PAT: (pid: %d)\n", pid);
+			dmx_parsePat(&demuxer, &nbPmt, pmts, MAX_NB_PMT);
+		}
+		else
+		{
+			aprintf("[TS] PMT found (pid: %d)\n", pid);
+
+			for (int i = 0; i < nbPmt; i++)
+			{
+				if (pmts[i].tid == pid)
+				{
+					aprintf("[TS] parse PMT (pid: %d)\n", pid);
+					dmx_parsePmt(&demuxer, pid, xtracks, &cur, MAX_NB_TRACK);
+
+					break;
+				}
+			}
+		}
+	}
+
+	if (!cur)
+		return 0;
+
+	for(int i = 0; i < cur; i++)
+		printf("Tid: %04x Type: %d (%s)\n", xtracks[i].pid, xtracks[i].streamType, dmx_streamTypeAsString(xtracks[i].streamType));
+
+	// Search first video track
+	*tracks = new MPEG_TRACK[cur];
+	int found = -1;
+
+	for(int j = 0; j < cur; j++)
+	{
+		ADM_STREAM_TYPE type = xtracks[j].streamType;
+
+		if(type == ADM_STREAM_MPEG_VIDEO || type==ADM_STREAM_MPEG4 || type==ADM_STREAM_H264)
+		{
+			found = j;
+			break;
+		}
+	}
+
+	if (found < 0)
+	{
+		printf("No video track\n");
+		delete [] *tracks;
+
+		return 0; 
+	}
+
+	memcpy(*tracks, &(xtracks[found]), sizeof(MPEG_TRACK));
+	*nbTracks = 1;
+
+	// Now do audio
+	for (int j = 0; j < cur; j++)
+	{
+		MPEG_TRACK *t = &(xtracks[j]);
+		ADM_STREAM_TYPE type = t->streamType;
+
+		if (type != ADM_STREAM_MPEG_AUDIO && type != ADM_STREAM_AC3 && type != ADM_STREAM_AAC)
+			continue; // Only mpega & AC3 for now
+
+		switch(type)
+		{
+			case ADM_STREAM_AAC:
+				t->pes = 0xb0;
+			case ADM_STREAM_MPEG_AUDIO:
+			case ADM_STREAM_AC3:
+				memcpy(&((*tracks)[*nbTracks]), t, sizeof(MPEG_TRACK));
+				ADM_assert(*nbTracks < cur);
+				(*nbTracks)++;
+
+				break;
+			default:
+				ADM_assert(0); 
+		}
+	}
+
+	printf("Found %u tracks\n", *nbTracks);
+
+	return 1;
 }
+
 /**
-      \fn     dmx_searchAndSkipHeader
-      \brief  Search for a given PSI and skip header
+      \fn     dmx_probePat(dmx_demuxerTS *demuxer, uint32_t *nbPmt,MPEG_PMT *pmts,uint32_t maxPMT)
+      \brief  Search for PAT and returns PMT info if found
       @return 1 on success, 0 on failure
-      @param myPid : Pid of the looked for psi
-      @param demuxer: mpegTS demuxer *(input)
-      @param *currentSec : current section (output)
-      @param *maxSec : #of sections (output)
-      @param *leftbyte : Total #of bytes left in the packet
-      @param *payloadSize : #of bytes of usable payload
+      @param demuxer: mpegTS demuxer (input)
+      @param *nbPmt : number of PMTS found (output)
+      @param *pmts : contains info about the PMT found (out but must be allocated by caller)
+      @param maxPMT : Maximum # of PMT we accept in pmts (in)
 
 */
-uint8_t dmx_searchAndSkipHeader(uint32_t myPid,dmx_demuxerTS *demuxer,uint32_t *currentSec, uint32_t *maxSec,
-                                    uint32_t *leftbyte,uint32_t *payloadSize)
+int dmx_parsePat(dmx_demuxerTS *demuxer, int *nbPmt, MPEG_PMT *pmts, int maxPmt)
 {
-  
-  uint8_t packet[TS_PACKET_SIZE*2];
-  uint32_t tableId;
-  uint32_t misc;
-  uint32_t sectionLength;
-  uint32_t tId,pid,left,cc,nbPmt;
-  uint32_t version,isPayloadStart;
-  uint32_t sectionNumber;
-  uint32_t lastSectionNumber;
-  uint32_t programInfoLength;
-  uint32_t crc,crccomputed;
-  uint64_t startPos,endPos,abso;
-  fileParser *parser;
-      demuxer->changePid(myPid,myPid); // Search PAT
-      parser=demuxer->getParser();
-      
-        while(demuxer->readPacket(&pid,&left, &isPayloadStart,&abso,&cc))
-        {
-          if(pid!=myPid)
-          {
-            printf("Wrong Pid %x/%x\n",pid,myPid);
-            parser->forward(left);
-            continue;
-          }
-          if(!isPayloadStart || left <= (9+4))
-          {
-            parser->forward(left);
-            continue;
-          }
+	uint8_t tableId, sectionNumber, lastSectionNumber;
+	uint16_t sectionLength, progId;
+	uint64_t startPos;
+	fileParser *parser = demuxer->getParser();
+	int entries;
 
-          /* Found something that looks good...*/
-            
-            /* Decode PSI header */
-            parser->read8i(); /* Pointer field, can be ignored (?) */
-              
-              parser->getpos(&startPos); /* Memorize beginning */
-              tableId=parser->read8i();
-              misc=parser->read16i(); // +3
-              tId=parser->read16i();  
-              version=parser->read8i(); // +6
-              sectionNumber=parser->read8i();
-              lastSectionNumber=parser->read8i(); // +8
-              
-              sectionLength=misc&0xFFF;
-              
-              if(sectionLength<=9 || sectionLength > (left-4) || left<9)
-              {
-                printf("SectionLength too short :%d,left %d\n", sectionLength,left);
-                 parser->setpos(startPos-1+left); // skip packet
-                 continue;
-              }
-              
-#ifdef PROBE_TS_VERBOSE
-              printf("******************************************\n");
-              printf("tableId        : %d\n",tableId);
-              
-              printf("sectionLength  : %d\n",sectionLength);
-              printf("0              : %x\n",misc&0x40);
-              printf("section syntax : %x\n",misc&0x80);
-              printf("Transport ID   : 0x%x\n",tId);
-              printf("Version Number : 0x%x\n",(version>>1)&0x1F);
-              printf("CurrentNext    : 0x%x\n",version&1);
-              
-              printf("Section        : %d\n",sectionNumber);
-              printf("LastSection    : %d\n",lastSectionNumber);
-              
-#endif
-              // Check for error FIXME TODO
-              
-              // Check CRC
-              parser->getpos(&endPos); // Here payload begins
-              parser->setpos(startPos);
-              parser->read32(sectionLength-1,packet); // Go back & Read Whole packet +3 for header -4 CRC
-              crc=parser->read32i();
-              crccomputed=mpegTsCRC(packet,sectionLength-1);
-              if(crc!=crccomputed) // Bad CRC, skip packet
-              {
-                aprintf("Bad CRC\n");
-                parser->setpos( startPos+left-1); // skip
-                continue;
-              }
-              // CRC is ok, go back to interesting place
-              aprintf("CRC OK\n");
-              parser->setpos(endPos);
-              *currentSec=sectionNumber;
-              *maxSec=lastSectionNumber;
-              
-              *leftbyte=left-9;               // Total bytes left in packet
-              *payloadSize=sectionLength-9; // No CRC, No header
-              return 1;
-          } // /while
-      return 0;
+	parser->getpos(&startPos);
+
+	// Decode PSI header
+	parser->read8i();	// Pointer field, can be ignored (?)
+
+	tableId = parser->read8i();	// 0
+
+	if (tableId != 0)
+	{
+		parser->setpos(startPos);
+		return 0;
+	}
+
+	sectionLength = ((parser->read8i() & 0x03) << 8 ) | parser->read8i();	// 1 & 2
+	parser->read16i();	// 3 & 4
+	parser->read8i(); // 5
+	sectionNumber = parser->read8i();	// 6
+	lastSectionNumber = parser->read8i(); // 7	
+
+	aprintf("[TS] parsePat: sectionLength: %d, section %d/%d @ %"LLU"\n", sectionLength, sectionNumber, lastSectionNumber, startPos);
+
+	entries = (int)(sectionLength - 9) / 4;	// entries per section
+	*nbPmt = 0;
+
+	for (int i = 0; i < entries; i++)
+	{
+		bool foundProg = false;
+
+		progId = (parser->read8i() << 8) | parser->read8i();
+
+		for (int j = 0; j < *nbPmt; j++)
+		{
+			if (pmts[j].programNumber == progId)
+			{
+				foundProg = true;
+				break;
+			}
+		}
+
+		if (!foundProg && *nbPmt < maxPmt)
+		{
+			pmts[*nbPmt].programNumber = progId;
+			pmts[*nbPmt].tid = ((parser->read8i() & 0x1F) << 8) | parser->read8i();
+
+			aprintf("[TS] parsePat: programNumber: %d (%d/%d), PMT: %d\n", pmts[*nbPmt].programNumber, i + 1, entries, pmts[*nbPmt].tid);
+
+			(*nbPmt)++;
+		}
+	}
+
+	parser->setpos(startPos);
+
+	return 1;
 }
+
 /**
       \fn     dmx_probePat(dmx_demuxerTS *demuxer, uint32_t *nbPmt,MPEG_PMT *pmts,uint32_t maxPMT)
       \brief  Search for PAT and returns PMT info if found
@@ -479,36 +453,153 @@
       @param maxPMT : Maximum # of PMT we accept in pmts (in)
 
 */
-uint8_t dmx_probePat(dmx_demuxerTS *demuxer, uint32_t *nbPmt,MPEG_PMT *pmts,uint32_t maxPmt)
+int dmx_parsePmt(dmx_demuxerTS *demuxer, int pid, MPEG_TRACK *pmts, int *cur, int max)
 {
-  
-  fileParser *parser;
-  uint32_t curSection,maxSection;
-  uint32_t left,toScan;
-  
-      parser=demuxer->getParser();
-      *nbPmt=0;
-      if(dmx_searchAndSkipHeader(0,demuxer,&curSection, &maxSection,&left,&toScan))
-      {
-        
-              while(toScan >=4 && left>=8)
-              {
-                  printf("**\n");
-                  pmts[*nbPmt].programNumber=parser->read16i()&0xFFFF;
-                  pmts[*nbPmt].tid=parser->read16i()&0x1FFF;
-                  aprintf(" [PAT]Program Number :%03x\n",pmts[*nbPmt].programNumber);
-                  aprintf(" [PAT]PID for this   :%03x\n",pmts[*nbPmt].tid);
-                  aprintf(" toScan :%u left :%u\n",toScan,left);
-                  if((*nbPmt)<maxPmt)
-                      (*nbPmt)++;
-                  left-=4;
-                  toScan-=4;
-              }
-              return 1;
-        
-      }
-      return 0;
+	uint8_t tableId, sectionNumber, lastSectionNumber;
+	uint16_t sectionLength, progId, progDescLength;
+	int32_t sectionBytes;
+	uint64_t startPos;
+	fileParser *parser = demuxer->getParser();
+	int entries;
+
+	parser->getpos(&startPos);
+
+	// Decode PSI header
+	parser->read8i();	// Pointer field, can be ignored (?)
+
+	tableId = parser->read8i();	// 0
+
+	if (tableId != 2)
+	{
+		parser->setpos(startPos);
+		return 0;
+	}
+
+	sectionLength = ((parser->read8i() & 0xf) << 8 ) | parser->read8i();	// 1 & 2
+	parser->read16i();	// 3 & 4
+	parser->read8i(); // 5
+	sectionNumber = parser->read8i();	// 6
+	lastSectionNumber = parser->read8i(); // 7
+	parser->read16i(); // 8 & 9
+	progDescLength = ((parser->read8i() & 0xf) << 8 ) | parser->read8i();	// 10 & 11
+
+	if (progDescLength > sectionLength - 9)
+	{
+		printf("[TS] parsePmt: Invalid progDesc length (%d/%d)\n", progDescLength, sectionLength - 9);
+		parser->setpos(startPos);
+
+		return 0;
+	}
+
+	parser->forward(progDescLength);
+
+	sectionBytes = sectionLength - 13 - progDescLength;	
+
+	while (sectionBytes >= 5)
+	{
+		int esType, esPid, esDescLength;
+		const char *idString;
+		ADM_STREAM_TYPE streamType;
+		bool streamFound = false;
+
+		esType = parser->read8i();
+		esPid = ((parser->read8i() & 0x1f) << 8) | parser->read8i();
+		esDescLength = ((parser->read8i() & 0xf) << 8) | parser->read8i();
+
+		if (esDescLength > sectionBytes - 5)
+		{
+			printf("[TS] parsePmt: esDescLength too large %d > %d\n", esDescLength, sectionBytes - 5);
+			return 0;
+		}
+
+		for (int i = 0; i < *cur; i++)
+		{
+			if (pmts[i].pid == esPid)
+			{
+				streamFound = true;
+				break;
+			}
+		}
+
+		if (esDescLength)
+		{
+			uint8_t esProgDesc[esDescLength];
+
+			parser->read32(esDescLength, esProgDesc);
+			parseProgramDescriptors(esProgDesc, esDescLength, &esType);
+		}
+
+		idString = dmx_streamType(esType, &streamType);
+
+		if (!streamFound && *cur < max)
+		{
+			pmts[*cur].pid = esPid;
+			pmts[*cur].streamType = streamType;
+
+			if (streamType == ADM_STREAM_MPEG_AUDIO)
+				pmts[*cur].pes = 0xC0;
+			else if(streamType == ADM_STREAM_MPEG_VIDEO)
+				pmts[*cur].pes = 0xE0;
+			else
+				pmts[*cur].pes = 0;
+
+			(*cur)++;
+		}
+
+		sectionBytes -= 5 + esDescLength;
+
+		aprintf("[TS] parsePmt: esPid: %d, esType: 0x%x (%s), esDescLength: %d, bytes left: %d\n", esPid, esType, idString, esDescLength, sectionBytes);
+	}
+
+	parser->setpos(startPos);
+
+	return 1;
 }
+
+int parseProgramDescriptors(uint8_t *progDescBuffer, int progDescLength, int *esType)
+{
+	int i, descLen, len;
+
+	i = 0;
+	len = progDescLength;
+
+	while (len > 2)
+	{
+		descLen = progDescBuffer[i + 1];
+		aprintf("[TS]\tdescriptor id: 0x%x, len = %d (bytes left: %d)\n", progDescBuffer[i], descLen, len);
+
+		if (descLen > len)
+		{
+			printf("[TS] Invalid descriptor length for id %02x: %d (bytes left: %d)\n", progDescBuffer[i], descLen, len);
+			return 0;
+		}
+
+		if ((progDescBuffer[i] == 0x6a || progDescBuffer[i] == 0x7a) && *esType == 0x6)	// AC3
+			*esType = 0x81;
+		//else if (progDescBuffer[i] == 0x7b && *esType == 0x6)	// DTS
+		else if (progDescBuffer[i] == 0x5)
+		{
+			if (descLen < 4)
+				printf("[TS] Registration descriptor too short: %d\n", descLen);
+			else
+			{
+				uint8_t *d = &progDescBuffer[i + 2];
+
+				if (d[0] == 'A' && d[1] == 'C' && d[2] == '-' && d[3] == '3')	// AC3
+					*esType = 0x81;
+				//else if (d[0] == 'D' && d[1] == 'T' && d[2] == 'S' && d[3] == '1')	// DTS
+				//else if (d[0] == 'D' && d[1] == 'T' && d[2] == 'S' && d[3] == '2')	// DTS
+				//else if (d[0] == 'V' && d[1] == 'C' && d[2] == '-' && d[3] == '1')	// VC-1
+			}
+		}
+
+		len -= 2 + descLen;
+		i += 2 + descLen;
+	}
+
+	return 1;
+}
+
 const char *dmx_streamType(uint32_t type,ADM_STREAM_TYPE *streamType)
 {
  switch(type)
@@ -523,76 +614,7 @@
  *streamType=ADM_STREAM_UNKNOWN;
   return "???";
 }
-/**
-      \fn     dmx_probePat(dmx_demuxerTS *demuxer, uint32_t *nbPmt,MPEG_PMT *pmts,uint32_t maxPMT)
-      \brief  Search for PAT and returns PMT info if found
-      @return 1 on success, 0 on failure
-      @param demuxer: mpegTS demuxer (input)
-      @param *nbPmt : number of PMTS found (output)
-      @param *pmts : contains info about the PMT found (out but must be allocated by caller)
-      @param maxPMT : Maximum # of PMT we accept in pmts (in)
 
-*/
-uint8_t dmx_probePMT(dmx_demuxerTS *demuxer, uint32_t pmtId,MPEG_TRACK *pmts,uint32_t *cur, uint32_t max)
-{
-  
-  fileParser *parser;
-  uint32_t curSection,maxSection;
-  uint32_t left=0,toScan,programInfo=0;
-  
-      printf("Searching for PMT, pid=0x%x\n",pmtId);
-      demuxer->changePid(pmtId,pmtId); // change pid as setPos will seek for them
-      demuxer->setPos(0,0);
-      parser=demuxer->getParser();
-      if(dmx_searchAndSkipHeader(pmtId,demuxer,&curSection, &maxSection,&left,&toScan))
-      {
-          uint16_t alpha;
-               alpha=parser->read16i();
-               aprintf("[PMT]PCR for it    :x%x\n",alpha&0x1FFF);
-               programInfo=parser->read16i() & 0x0FFF;
-               aprintf("[PMT]Program Info  :%d\n",programInfo);
-               if( (programInfo+2 > left) || (programInfo+2>toScan))
-               {
-                 printf("Program Info too big :%u\n",programInfo);
-                 return 0;
-               }
-               parser->forward(programInfo);
-               toScan-=(2+programInfo);
-               left-=(2+programInfo);
-               while(toScan >=5 )
-              {
-                  uint8_t stream;
-                  uint32_t pid,esDescLen;
-                  const char *idString;
-                  ADM_STREAM_TYPE streamType;
-                  aprintf("**\n");
-                  stream    =parser->read8i();
-                  pid       =parser->read16i()&0x1FFF;
-                  esDescLen =parser->read16i()&0x0FFF;
-                  idString=dmx_streamType(stream,&streamType);
-                  aprintf("[PMT]Stream Type :0x%x (%s)\n",stream,idString);
-                  aprintf("[PMT]Pid         :0x%x\n",pid);
-                  aprintf("[PMT]ES Len      :%d\n",esDescLen);
-                  
-                  parser->forward(esDescLen);
-                  left-=(5+esDescLen);
-                  toScan-=(5+esDescLen);
-                  if(*cur<max)
-                  {
-                    pmts[*cur].pid=pid;
-                    pmts[*cur].streamType=streamType;
-                    pmts[*cur].pes=0x0;
-                    if(streamType==ADM_STREAM_MPEG_AUDIO) pmts[*cur].pes=0xC0;
-                    if(streamType==ADM_STREAM_MPEG_VIDEO) pmts[*cur].pes=0xE0;
-                    
-                    (*cur)++;
-                  }
-                  aprintf("[PMT]left %u toscan %u\n",left,toScan);
-              }
-              
-      }
-      return 0;
-}
 /**
       \fn dmx_streamTypeAsSTring
       \brief returns stream type as a printable string



From gruntster at mail.berlios.de  Sat Sep 13 19:47:39 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 13 Sep 2008 19:47:39 +0200
Subject: [Avidemux-svn-commit] r4330 - in
	branches/avidemux_2.5_branch_gruntster: . avidemux
	avidemux/ADM_UIs/ADM_GTK/src
	avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog
	avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk
	avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
	avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui
	avidemux/ADM_userInterfaces/ADM_commonUI avidemux/xpm cmake po
Message-ID: <200809131747.m8DHldt0009012@sheep.berlios.de>

Author: gruntster
Date: 2008-09-13 19:47:05 +0200 (Sat, 13 Sep 2008)
New Revision: 4330

Added:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_tray_gtk.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.h
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film1.xpm
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film11.xpm
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film13.xpm
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film15.xpm
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film17.xpm
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film19.xpm
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film21.xpm
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film23.xpm
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film3.xpm
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film5.xpm
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film7.xpm
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film9.xpm
   branches/avidemux_2.5_branch_gruntster/avidemux2-gtk.desktop
Removed:
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film1.inc
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film11.inc
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film13.inc
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film15.inc
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film17.inc
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film19.inc
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film21.inc
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film23.inc
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film3.inc
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film5.inc
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film7.inc
   branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film9.inc
Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/toolkit_dialog.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_icons.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_tray_gtk.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui_none.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/ADM_tray.h
   branches/avidemux_2.5_branch_gruntster/avidemux/gui_navigate.cpp
   branches/avidemux_2.5_branch_gruntster/cmake/admCheckMiscLibs.cmake
   branches/avidemux_2.5_branch_gruntster/cmake/admCheckQt4.cmake
   branches/avidemux_2.5_branch_gruntster/po/ca.po
Log:
[Merge] integrate changes from 2.4 branch (r4307)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/toolkit_dialog.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/toolkit_dialog.cpp	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/toolkit_dialog.cpp	2008-09-13 17:47:05 UTC (rev 4330)
@@ -47,15 +47,11 @@
         // old one is no longer modal
         if(widgetCount)
         {
-#ifndef __WIN32                
                 gtk_window_set_modal(GTK_WINDOW(widgetStack[widgetCount-1]), 0);
-#endif
                 gtk_window_set_transient_for (GTK_WINDOW(newdialog),GTK_WINDOW(widgetStack[widgetCount-1]));
+				gtk_window_set_modal(GTK_WINDOW(widgetStack[widgetCount]), 1);
         }
-        gtk_window_set_modal(GTK_WINDOW(widgetStack[widgetCount]), 1);
-#ifdef __WIN32
-        gtk_window_set_icon(GTK_WINDOW(widgetStack[widgetCount]), gtk_window_get_icon (GTK_WINDOW(widgetStack[0])));
-#endif
+
         widgetCount++;
 }
 void gtk_unregister_dialog(GtkWidget *newdialog)
@@ -63,15 +59,11 @@
 	ADM_assert(widgetCount);
 	ADM_assert(widgetStack[widgetCount-1]==newdialog);
 	widgetCount--;
-	if(widgetCount)
+	if(widgetCount > 1)
 	{
 		// Reset the old one modal
 		gtk_window_set_modal(GTK_WINDOW(widgetStack[widgetCount-1]), 1);
-#ifdef __WIN32
-		gtk_window_present(GTK_WINDOW(widgetStack[widgetCount-1]));
-#endif
 	}
-
 }
 void		gtk_transient(GtkWidget *widget)
 {

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp	2008-09-13 17:47:05 UTC (rev 4330)
@@ -17,6 +17,7 @@
 #include "ADM_userInterfaces/ADM_commonUI/DIA_working.h"
 #include "DIA_encoding.h"
 #include "ADM_video/ADM_vidMisc.h"
+#include "../ADM_toolkit_gtk/ADM_tray_gtk.h"
 
 static GtkWidget *dialog=NULL;
 static GtkWidget	*create_dialog1 (void);
@@ -96,7 +97,7 @@
 		{
 			gtk_window_iconify(GTK_WINDOW(dialog));
 			UI_iconify();
-			tray = new ADM_tray(dialog);
+			tray = new ADM_gtktray(dialog);
 		}
 		else
 			tray = NULL;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_icons.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_icons.cpp	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_icons.cpp	2008-09-13 17:47:05 UTC (rev 4330)
@@ -48,18 +48,18 @@
 #include "xpm/preview.inc"
 #include "xpm/output.inc"
 
-#include "xpm/film1.inc"
-#include "xpm/film3.inc"
-#include "xpm/film5.inc"
-#include "xpm/film7.inc"
-#include "xpm/film9.inc"
-#include "xpm/film11.inc"
-#include "xpm/film13.inc"
-#include "xpm/film15.inc"
-#include "xpm/film17.inc"
-#include "xpm/film19.inc"
-#include "xpm/film21.inc"
-#include "xpm/film23.inc"
+#include "xpm/film1.xpm"
+#include "xpm/film3.xpm"
+#include "xpm/film5.xpm"
+#include "xpm/film7.xpm"
+#include "xpm/film9.xpm"
+#include "xpm/film11.xpm"
+#include "xpm/film13.xpm"
+#include "xpm/film15.xpm"
+#include "xpm/film17.xpm"
+#include "xpm/film19.xpm"
+#include "xpm/film21.xpm"
+#include "xpm/film23.xpm"
 #include "xpm/audio-volume-medium.inc"
 #include "xpm/preview-button.inc"
 
@@ -113,7 +113,7 @@
         {A_ICON_PNG,"audio-volume-medium.png",                 (void *)audio_volume_medium},
         {A_ICON_PNG,"preview-button.png",                 (void *)preview_button},
 	// Jakub nice animation
-#define MKFILM(x) 	{A_ICON_PNG,"film"#x".png",                 (void *)film##x},
+#define MKFILM(x) 	{A_ICON_XPM,"film"#x".xpm",                 (void *)xpm_film##x},
 	MKFILM(1)
 	MKFILM(3)
 	MKFILM(5)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_tray_gtk.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_tray_gtk.cpp	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_tray_gtk.cpp	2008-09-13 17:47:05 UTC (rev 4330)
@@ -23,7 +23,7 @@
 #include <stdio.h>
 
 #include "ADM_toolkitGtk.h"
-#include "ADM_tray.h"
+#include "ADM_tray_gtk.h"
 
 extern void UI_deiconify(void);
 
@@ -31,9 +31,9 @@
 static int lastIcon;
 
 static const char *animated[] = {
-	"film1.png","film3.png","film5.png","film7.png","film9.png",
-	"film11.png","film13.png","film15.png","film17.png","film19.png",
-	"film21.png","film23.png"};
+	"film1.xpm","film3.xpm","film5.xpm","film7.xpm","film9.xpm",
+	"film11.xpm","film13.xpm","film15.xpm","film17.xpm","film19.xpm",
+	"film21.xpm","film23.xpm"};
 
 void tray_icon_on_click(GtkStatusIcon *status_icon, gpointer user_data)
 {
@@ -59,7 +59,7 @@
 	gtk_menu_popup(GTK_MENU(popupMenu), NULL, NULL, gtk_status_icon_position_menu, status_icon, button, activate_time);
 }
 
-ADM_tray::ADM_tray(void* parent)
+ADM_gtktray::ADM_gtktray(void* parent) : ADM_tray(parent)
 {
 	_parent = parent;
 	lastIcon = 0;
@@ -89,7 +89,7 @@
 	gtk_status_icon_set_visible((GtkStatusIcon*)sys, TRUE);
 }
 
-ADM_tray::~ADM_tray()
+ADM_gtktray::~ADM_gtktray()
 {
 	if (sys)
 		gtk_status_icon_set_visible((GtkStatusIcon*)sys, FALSE);
@@ -97,7 +97,7 @@
 	sys = NULL;
 }
 
-uint8_t ADM_tray::setPercent(int percent)
+uint8_t ADM_gtktray::setPercent(int percent)
 {
 	char percentS[40];
 
@@ -118,7 +118,7 @@
 	return 1;
 }
 
-uint8_t ADM_tray::setStatus(int working)
+uint8_t ADM_gtktray::setStatus(int working)
 {
 	return 1;
 }

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_tray_gtk.h (from rev 4307, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_tray_gtk.h)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp	2008-09-13 17:47:05 UTC (rev 4330)
@@ -20,12 +20,16 @@
 #include "DIA_coreToolkit.h"
 #include "ADM_libraries/ADM_utilities/avidemutils.h"
 #include "ADM_video/ADM_vidMisc.h"
+#include "../ADM_gui/ADM_qtray.h"
 
+extern void UI_iconify(void);
+extern void UI_deiconify(void);
 extern void UI_purge(void);
 static int stopReq=0;
 
-encodingWindow::encodingWindow() : QDialog()
+encodingWindow::encodingWindow(QDialog *parent, bool useTray) : QDialog(parent, Qt::WindowTitleHint | Qt::WindowSystemMenuHint | Qt::WindowMinimizeButtonHint)
  {
+	this->useTray = useTray;
 	ui.setupUi(this);
 
 #ifndef __WIN32
@@ -57,6 +61,30 @@
 #endif
  }
 
+void encodingWindow::changeEvent(QEvent *event)
+{
+	if (event->type() == QEvent::WindowStateChange)
+	{
+		QDialog *parent = (QDialog*)this->parent();
+
+		if (isMinimized())
+		{
+			if (useTray)
+			{
+				hide();
+				UI_iconify();
+			}
+			else
+				parent->showMinimized();
+		}
+		else
+		{
+			showNormal();
+			parent->showNormal();
+		}
+	}
+}
+
 void encodingWindow::buttonPressed(void)
 {
 	printf("StopReq\n");
@@ -102,10 +130,13 @@
 /*************************************/
 static char string[80];
 static encodingWindow *window=NULL;
+extern QDialog *QuiMainWindows;
 DIA_encoding::DIA_encoding( uint32_t fps1000 )
 {
-uint32_t useTray=0;
+	uint32_t useTray = 0;
 
+	if (!prefs->get(FEATURE_USE_SYSTRAY, &useTray))
+		useTray = 0;
 
         ADM_assert(window==NULL);
         stopReq=0;
@@ -114,7 +145,7 @@
         _audioSize=0;
         _videoSize=0;
         _current=0;
-        window=new encodingWindow();
+        window=new encodingWindow(QuiMainWindows, useTray);
         setFps(fps1000);
 		_originalPriority=getpriority(PRIO_PROCESS, 0);
         _lastTime=0;
@@ -123,8 +154,16 @@
         _total=1000;
 
          window->setModal(TRUE);
-         window->show();
+		 window->show();
 
+		 if (useTray)
+		 {
+			 window->hide();
+			 UI_iconify();
+			 tray = new ADM_qtray(window);
+		 }
+		 else
+			 tray = NULL;
 }
 /**
     \fn setFps(uint32_t fps)
@@ -155,6 +194,7 @@
 
 	if(window) delete window;
 	window=NULL;
+	UI_deiconify();
 
 	if (shutdownRequired && !stopReq)
 	{
@@ -372,6 +412,9 @@
             float f=_lastnb*100;
             f=f/_total;
             WIDGET(progressBar)->setValue((int)f);
+
+			if(tray)
+				tray->setPercent((int)f);
           
         _totalSize=_audioSize+_videoSize;
         setSize(_totalSize>>20);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.h	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.h	2008-09-13 17:47:05 UTC (rev 4330)
@@ -7,8 +7,14 @@
 {
      Q_OBJECT
 
+ private:
+	 bool useTray;
+
+ protected:
+	void changeEvent(QEvent *event);
+
  public:
-     encodingWindow();
+     encodingWindow(QDialog *parent, bool useTray);
      Ui_encodingDialog ui;
 
  public slots:

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.cpp (from rev 4307, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.cpp	2008-09-05 00:38:52 UTC (rev 4307)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.cpp	2008-09-13 17:47:05 UTC (rev 4330)
@@ -0,0 +1,122 @@
+/***************************************************************************
+                               ADM_qtray.cpp
+                               -------------
+
+    begin                : Tue Sep 2 2008
+    copyright            : (C) 2008 by gruntster
+
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include "config.h"
+
+#include <string.h>
+#include <stdio.h>
+#include <QtGui/QDialog>
+#include <QtGui/QMenu>
+
+#include "ADM_default.h"
+#include "ADM_qtray.h"
+
+#include "xpm/film1.xpm"
+#include "xpm/film3.xpm"
+#include "xpm/film5.xpm"
+#include "xpm/film7.xpm"
+#include "xpm/film9.xpm"
+#include "xpm/film11.xpm"
+#include "xpm/film13.xpm"
+#include "xpm/film15.xpm"
+#include "xpm/film17.xpm"
+#include "xpm/film19.xpm"
+#include "xpm/film21.xpm"
+#include "xpm/film23.xpm"
+
+extern void UI_deiconify(void);
+
+void ADM_qtray_signalReceiver::restore(void)
+{
+	UI_deiconify();
+	parent->showNormal();
+}
+
+void ADM_qtray_signalReceiver::iconActivated(QSystemTrayIcon::ActivationReason reason)
+{
+	if (reason == QSystemTrayIcon::DoubleClick)
+		restore();
+}
+
+ADM_qtray::ADM_qtray(void* parent) : ADM_tray(parent)
+{
+	_parent = parent;
+	lastIcon = 0;
+	maxIcons = 12;
+
+	pixmap = new QIcon[maxIcons];
+	pixmap[0] = QIcon(QPixmap(xpm_film1));
+	pixmap[1] = QIcon(QPixmap(xpm_film3));
+	pixmap[2] = QIcon(QPixmap(xpm_film5));
+	pixmap[3] = QIcon(QPixmap(xpm_film7));
+	pixmap[4] = QIcon(QPixmap(xpm_film9));
+	pixmap[5] = QIcon(QPixmap(xpm_film11));
+	pixmap[6] = QIcon(QPixmap(xpm_film13));
+	pixmap[7] = QIcon(QPixmap(xpm_film15));
+	pixmap[8] = QIcon(QPixmap(xpm_film17));
+	pixmap[9] = QIcon(QPixmap(xpm_film19));
+	pixmap[10] = QIcon(QPixmap(xpm_film21));
+	pixmap[11] = QIcon(QPixmap(xpm_film23));
+
+	signalReceiver = new ADM_qtray_signalReceiver();
+	signalReceiver->parent = (QDialog*)parent;
+	QSystemTrayIcon* trayIcon = new QSystemTrayIcon(pixmap[0], (QObject*)parent);
+
+	sys = trayIcon;
+
+	trayIcon->setToolTip("Avidemux");
+
+	openAction = new QAction(QT_TR_NOOP("Open Avidemux"), (QObject*)parent);
+	QObject::connect(openAction, SIGNAL(triggered()), signalReceiver, SLOT(restore()));
+	QObject::connect(trayIcon, SIGNAL(activated(QSystemTrayIcon::ActivationReason)), signalReceiver, SLOT(iconActivated(QSystemTrayIcon::ActivationReason)));
+
+	trayIconMenu = new QMenu((QWidget*)parent);
+	trayIconMenu->addAction(openAction);
+
+	trayIcon->setContextMenu(trayIconMenu);
+	trayIcon->show();
+}
+
+ADM_qtray::~ADM_qtray()
+{
+	delete (QSystemTrayIcon*)sys;
+	delete signalReceiver;
+	delete pixmap;
+}
+
+uint8_t ADM_qtray::setPercent(int percent)
+{
+	char percentS[40];
+
+	sprintf(percentS, "Avidemux [%d%%]", percent);
+
+	lastIcon++;
+
+	if (lastIcon >= maxIcons)
+		lastIcon = 0;
+
+	((QSystemTrayIcon*)sys)->setIcon(pixmap[lastIcon]);
+	((QSystemTrayIcon*)sys)->setToolTip(percentS);
+
+	return 1;
+}
+
+uint8_t ADM_qtray::setStatus(int working)
+{
+	return 1;
+}

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.h (from rev 4307, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qtray.h)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2008-09-13 17:47:05 UTC (rev 4330)
@@ -1,11 +1,11 @@
 SET(ADM_LIB ADM_guiQt4)
 
 QT4_WRAP_UI(${ADM_LIB}_header  gui2.ui)
-QT4_WRAP_CPP(${ADM_LIB}_source  Q_gui2.h  T_preview.h)
+QT4_WRAP_CPP(${ADM_LIB}_source  Q_gui2.h  T_preview.h  ADM_qtray.h)
 QT4_ADD_RESOURCES(${ADM_LIB}_resource  avidemux.qrc)
 
 SET(${ADM_LIB}_SRCS
-	Q_gui2.cpp  T_preview.cpp  file_qt4.cpp  gui_none.cpp  ADM_qslider.cpp
+	Q_gui2.cpp  T_preview.cpp  file_qt4.cpp  gui_none.cpp  ADM_qslider.cpp  ADM_qtray.cpp
 	${${ADM_LIB}_header}  ${${ADM_LIB}_source}  ${${ADM_LIB}_resource})
 
 INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR}  ${CMAKE_CURRENT_SOURCE_DIR})

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2008-09-13 17:47:05 UTC (rev 4330)
@@ -793,6 +793,15 @@
 	return success;
 }
 
+void UI_iconify( void )
+{
+	QuiMainWindows->hide();
+}
+void UI_deiconify( void )
+{
+	QuiMainWindows->showNormal();
+}
+
 void UI_purge( void )
 {
 	QCoreApplication::processEvents ();

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui_none.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui_none.cpp	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui_none.cpp	2008-09-13 17:47:05 UTC (rev 4330)
@@ -15,8 +15,6 @@
 
 void UI_setAProcessToggleStatus( uint8_t status ) {}
 void UI_setVProcessToggleStatus( uint8_t status ) {}
-void UI_iconify( void ) {}
-void UI_deiconify( void ) {}
 void UI_JumpDone(void) {}
 void UI_toogleSide(void) {}
 void UI_toogleMain(void) {}

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/ADM_tray.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/ADM_tray.h	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/ADM_tray.h	2008-09-13 17:47:05 UTC (rev 4330)
@@ -24,10 +24,10 @@
         void    *sys;
 		void *_parent;
 public:
-                ADM_tray(void *parent);
-                ~ADM_tray();
-        uint8_t setPercent(int percent);
-        uint8_t setStatus(int working);
+	ADM_tray(void *parent) {};
+	~ADM_tray() {};
+	virtual uint8_t setPercent(int percent) = 0;
+	virtual uint8_t setStatus(int working) = 0;
 
 };
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/gui_navigate.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/gui_navigate.cpp	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/gui_navigate.cpp	2008-09-13 17:47:05 UTC (rev 4330)
@@ -239,7 +239,7 @@
    orgFrame=curframe;
    int total;
     // Avoid it being 0
-    if(dir=1) total=avifileinfo->nb_frames-curframe+1;
+    if(dir==1) total=avifileinfo->nb_frames-curframe+1;
         else total=curframe+1;
    while(1)
    {

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film1.inc
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film1.inc	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film1.inc	2008-09-13 17:47:05 UTC (rev 4330)
@@ -1,100 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film1)
-#endif
-#ifdef __GNUC__
-static const guint8 film1[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film1[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\241"
-  "\242\255z~\205\212\215\225\202\205\215[_gPS[Z^f\314\317\327\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\246\245\264^bq\223\227\246\207\213\231&*915D\40$2\40$4*.;\340"
-  "\344\363\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\360\361\377$(7\245\250\267\365\370\377\226\232\251 at BQ\202\206\225"
-  ".2\77\0\0\1\0\0\1<\77N\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\224\225\245\0\0\0\256\262\300\233\237\257HLW\225\231"
-  "\241\271\274\313uy\207>AO\0\0\0\0\0\0\303\305\325\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377JL[\0\0\0&(7\307\314\333\305\2644\362"
-  "\307C\275\277\312\251\255\273\7\12\30\0\0\0\0\0\0Z^k\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\345\351\371\0\0\10\0\0\0\234\237\256\377\377"
-  "\377\377\346\1\346\224\0\265\257\263\362\365\377\300\304\322\0\0\0\0"
-  "\0\0\0\0\0\266\272\312\377\377\377\377\377\377\377\377\377\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377LQa\0\0\0vy\211\377"
-  "\377\377\377\377\377\377\334a\271\225J\377\377\377\377\377\377\373\377"
-  "\377\263\266\304\0\0\0\0\0\0\207\213\232\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\366\371\377"
-  "\207\200\234JIY\355\357\376\377\377\377\377\377\377\367\362\345\346\346"
-  "\352\377\377\377\374\377\377\363\366\377\351\355\374.2@\0\0\0\260\264"
-  "\302\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\355\352\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\375\377\377\365\370"
-  "\377\354\357\375\342\346\364\237\242\260\201\202\222\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\364\367\377\366\372"
-  "\377\371\374\377\371\374\377\366\372\377\362\365\377\351\355\374\341"
-  "\345\362\327\333\351\305\310\326\360\365\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\364\367\377\352\357\377\355"
-  "\362\377\355\360\377\354\357\375\347\353\370\337\345\362\327\330\343"
-  "\315\314\325\303\310\327\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\364\343\372\320\217\366\316\213"
-  "\347\331\317\337\341\362\331\334\356\354\320\234\373\323\221\366\314"
-  "\202\375\323\235\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\306\0\377\346\10\377\373k\377\333H\346\301"
-  "\213\356\301C\377\3627\377\366:\377\331\0\377\245\0\377\377\364\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\324\"\377"
-  "\362\0\377\373\0\377\316\0\352\272V\375\312\25\377\366\0\377\376\0\377"
-  "\341\0\377\341z\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"};
-
-

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film1.xpm (from rev 4307, branches/avidemux_2.4_branch/avidemux/xpm/film1.xpm)

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film11.inc
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film11.inc	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film11.inc	2008-09-13 17:47:05 UTC (rev 4330)
@@ -1,98 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film11)
-#endif
-#ifdef __GNUC__
-static const guint8 film11[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film11[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\233\233\230\34\33\26\32\31\24$\"\34\264\263\261\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\332\332\330UTP\377\377\377\353\351"
-  "\343LKF%$\36\207\207\204\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\274\273\273"
-  "\242\243\235871\40\36\31ONI##\35\24\23\15SSO\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\265\265\265*)%G"
-  "F@\253\252\245MLH##\35\40\40\32rro\352\351\352\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\226\225\223\347"
-  "\347\350\356\355\353\40\37\32\35\34\26\31\30\22||x\376\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\344\344\343\25\24\20\37\36\31\16\15\7uus\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\317"
-  "\317\31722.gf`qplwwv\252\251\247\202\201\177\200}}\246\243\242\215\214"
-  "\211\324\323\321\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\307\307\307\251\251\245\342\342\336WVP\330\325\320\370\367"
-  "\363\201\201z\324\323\316\332\330\324.-'CB<\224\223\221\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377b^]\26\27\20""31,kjd"
-  "cb]db^\266\265\260SRN21+XWR\247\250\245\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377]SS\33\32\25##\34.-'<<5:942/+('\"$#\37"
-  "+)%\265\264\266\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377H\77<\24\22\15\30\27\21\36\35\27$#\35%%\37#\"\34%#\37\33\32\25"
-  "\21\20\13\274\275\275\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\37773/\7\10\1\17\16\10\23\22\14\26\27\20\24\23\15\30\27"
-  "\21\25\23\17\17\15\10\3\2\0\277\277\301\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\273\272\271ZYT\15\14\6\3\2\0\15\14\6"
-  "\15\14\6\13\12\5\20\17\12\2\1\0\0\0\0\275\274\277\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\303\303\303nnl\22\21\13\1\0\0\7\6\1\0\0\0\0\0\0\272\271"
-  "\272\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0"};
-
-

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film11.xpm (from rev 4307, branches/avidemux_2.4_branch/avidemux/xpm/film11.xpm)

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film13.inc
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film13.inc	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film13.inc	2008-09-13 17:47:05 UTC (rev 4330)
@@ -1,98 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film13)
-#endif
-#ifdef __GNUC__
-static const guint8 film13[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film13[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\233\233\230\34\33\26\32"
-  "\31\24$\"\34\264\263\261\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\332\332\330UTP\377\377\377\353\351\343LKF%$\36\207\207\204\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\274\273\273\242\243\235871\40\36\31ONI##\35\24\23"
-  "\15SSO\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\265\265\265*)%GF@\253\252\245MLH##\35\40\40\32rro\352\351"
-  "\352\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\226\225\223\347\347\350\356\355\353\40\37\32\35\34\26\31"
-  "\30\22||x\376\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\344\344\343\25\24"
-  "\20\37\36\31\16\15\7uus\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\317\317\31722.gf`qplwwv\252\251\247\202\201\177"
-  "\200}}\246\243\242\215\214\211\324\323\321\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\307\307\307\251\251\245\342\342"
-  "\336WVP\330\325\320\370\367\363\201\201z\324\323\316\332\330\324.-'C"
-  "B<\224\223\221\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377b^]\26\27\20""31,kjdcb]db^\266\265\260SRN21+XWR\247\250\245\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377]SS\33\32"
-  "\25##\34.-'<<5:942/+('\"$#\37+)%\265\264\266\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377H\77<\24\22\15\30\27\21\36\35"
-  "\27$#\35%%\37#\"\34%#\37\33\32\25\21\20\13\274\275\275\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\37773/\7\10\1\17\16\10\23"
-  "\22\14\26\27\20\24\23\15\30\27\21\25\23\17\17\15\10\3\2\0\277\277\301"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\273"
-  "\272\271ZYT\15\14\6\3\2\0\15\14\6\15\14\6\13\12\5\20\17\12\2\1\0\0\0"
-  "\0\275\274\277\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\303\303\303nnl\22\21\13"
-  "\1\0\0\7\6\1\0\0\0\0\0\0\272\271\272\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0"};
-
-

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film13.xpm (from rev 4307, branches/avidemux_2.4_branch/avidemux/xpm/film13.xpm)

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film15.inc
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film15.inc	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film15.inc	2008-09-13 17:47:05 UTC (rev 4330)
@@ -1,98 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film15)
-#endif
-#ifdef __GNUC__
-static const guint8 film15[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film15[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\233\233\230\34\33\26\32\31\24$\"\34\264\263\261\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\332\332\330UTP\377\377\377\353\351\343"
-  "LKF%$\36\207\207\204\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\274\273\273\242"
-  "\243\235871\40\36\31ONI##\35\24\23\15SSO\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\265\265\265*)%GF@\253"
-  "\252\245MLH##\35\40\40\32rro\352\351\352\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\226\225\223\347\347"
-  "\350\356\355\353\40\37\32\35\34\26\31\30\22||x\376\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\344\344\343\25\24\20\37\36\31\16\15\7uus\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\317\317"
-  "\31722.gf`qplwwv\252\251\247\202\201\177\200}}\246\243\242\215\214\211"
-  "\324\323\321\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\307\307\307\251\251\245\342\342\336WVP\330\325\320\370\367\363"
-  "\201\201z\324\323\316\332\330\324.-'CB<\224\223\221\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377b^]\26\27\20""31,kjdcb]d"
-  "b^\266\265\260SRN21+XWR\247\250\245\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377]SS\33\32\25##\34.-'<<5:942/+('\"$#\37+)"
-  "%\265\264\266\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377H\77<\24\22\15\30\27\21\36\35\27$#\35%%\37#\"\34%#\37\33\32\25"
-  "\21\20\13\274\275\275\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\37773/\7\10\1\17\16\10\23\22\14\26\27\20\24\23\15\30\27"
-  "\21\25\23\17\17\15\10\3\2\0\277\277\301\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\273\272\271ZYT\15\14\6\3\2\0\15\14\6"
-  "\15\14\6\13\12\5\20\17\12\2\1\0\0\0\0\275\274\277\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\303\303\303nnl\22\21\13\1\0\0\7\6\1\0\0\0\0\0\0\272\271"
-  "\272\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0"};
-
-

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film15.xpm (from rev 4307, branches/avidemux_2.4_branch/avidemux/xpm/film15.xpm)

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film17.inc
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film17.inc	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film17.inc	2008-09-13 17:47:05 UTC (rev 4330)
@@ -1,97 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film17)
-#endif
-#ifdef __GNUC__
-static const guint8 film17[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film17[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\233\233\230\34\33\26\32\31\24$\"\34\264"
-  "\263\261\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\332\332\330UTP\377"
-  "\377\377\353\351\343LKF%$\36\207\207\204\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\246\245\264\377\377"
-  "\377\274\273\273\242\243\235871\40\36\31ONI##\35\24\23\15SSO\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\360\361\377"
-  "$(7*)%GF@\253\252\245MLH##\35\40\40\32rro\352\351\352\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\224\225"
-  "\245\0\0\0\356\355\353\40\37\32\35\34\26\31\30\22||x\376\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377JL[\0\0\0\37\36\31\16\15\7uus\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\377\377\377\345\351\371\0\0\10\0\0\0"
-  "gf`qplwwv\252\251\247\202\201\177\200}}\246\243\242\215\214\211\324\323"
-  "\321\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377LQa\0\0\0vy\211"
-  "\342\342\336WVP\330\325\320\370\367\363\201\201z\324\323\316\332\330"
-  "\324.-'CB<\224\223\221\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\366\371\377\207\200"
-  "\234JIY\355\357\376\26\27\20""31,kjdcb]db^\266\265\260SRN21+XWR\247\250"
-  "\245\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\355\352\377"
-  "\377\377\377\33\32\25##\34.-'<<5:942/+('\"$#\37+)%\265\264\266\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\364\367\377"
-  "\24\22\15\30\27\21\36\35\27$#\35%%\37#\"\34%#\37\33\32\25\21\20\13\274"
-  "\275\275\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\364\367\377\7\10\1\17\16\10\23\22\14\26\27\20\24\23\15\30\27\21"
-  "\25\23\17\17\15\10\3\2\0\277\277\301\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\364\343ZYT\15\14\6\3\2\0\15\14\6"
-  "\15\14\6\13\12\5\20\17\12\2\1\0\0\0\0\275\274\277\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\306\0\377\377\377\377"
-  "\377\377\303\303\303nnl\22\21\13\1\0\0\7\6\1\0\0\0\0\0\0\272\271\272"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\324\"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"};
-
-

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film17.xpm (from rev 4307, branches/avidemux_2.4_branch/avidemux/xpm/film17.xpm)

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film19.inc
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film19.inc	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film19.inc	2008-09-13 17:47:05 UTC (rev 4330)
@@ -1,99 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film19)
-#endif
-#ifdef __GNUC__
-static const guint8 film19[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film19[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\233\233\230\34\33\26"
-  "\32\31\24$\"\34\264\263\261\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\241\242\255z~\205\212\215"
-  "\225\202\205\215\377\377\377\353\351\343LKF%$\36\207\207\204\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\246\245\264^bq\223\227\246\207\213\231&*9\40\36\31ONI##\35\24\23\15"
-  "SSO\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\360"
-  "\361\377$(7\245\250\267\365\370\377\226\232\251 at BQ##\35\40\40\32rro\352"
-  "\351\352\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\224\225\245\0\0\0\256\262\300\233\237\257HLW\225\231"
-  "\241||x\376\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377JL[\0\0\0&(7\307\314"
-  "\333\305\2644\362\307C\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\345"
-  "\351\371\0\0\10\0\0\0\234\237\256\377\377\377\377\346\1\346\224\0\202"
-  "\201\177\200}}\246\243\242\215\214\211\324\323\321\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\377\377\377LQa\0\0\0vy\211\377\377\377\377\377\377"
-  "\377\334a\271\225J\201\201z\324\323\316\332\330\324.-'CB<\224\223\221"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\366\371\377\207\200\234JIY\355\357\376\377"
-  "\377\377\377\377\377\367\362\345\346\346\352db^\266\265\260SRN21+XWR"
-  "\247\250\245\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\355"
-  "\352\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  ":942/+('\"$#\37+)%\265\264\266\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\364\367\377\366\372\377\371\374\377\371\374"
-  "\377\366\372\377%%\37#\"\34%#\37\33\32\25\21\20\13\274\275\275\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\364\367\377"
-  "\352\357\377\355\362\377\355\360\377\354\357\375\24\23\15\30\27\21\25"
-  "\23\17\17\15\10\3\2\0\277\277\301\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\364\343\372\320\217\366\316\213\347"
-  "\331\317\337\341\362\15\14\6\13\12\5\20\17\12\2\1\0\0\0\0\275\274\277"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\306\0\377\346\10\377\373k\377\333H\346\301\213\22\21\13\1\0\0\7\6\1"
-  "\0\0\0\0\0\0\272\271\272\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\324\"\377\362\0\377\373\0\377\316\0\352\272"
-  "V\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"};
-
-

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film19.xpm (from rev 4307, branches/avidemux_2.4_branch/avidemux/xpm/film19.xpm)

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film21.inc
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film21.inc	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film21.inc	2008-09-13 17:47:05 UTC (rev 4330)
@@ -1,101 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film21)
-#endif
-#ifdef __GNUC__
-static const guint8 film21[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film21[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\264\263\261\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\241\242\255z~\205\212\215\225\202\205\215[_gPS[Z^f\314\317"
-  "\327\207\207\204\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\246\245\264^bq\223\227\246\207\213\231&*915"
-  "D\40$2\40$4*.;SSO\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\360\361\377$(7\245\250\267\365\370\377\226\232\251 at BQ\202"
-  "\206\225.2\77\0\0\1\0\0\1\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\224\225\245\0\0\0\256\262\300\233\237"
-  "\257HLW\225\231\241\271\274\313uy\207>AO\0\0\0\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377JL[\0\0\0&(7\307"
-  "\314\333\305\2644\362\307C\275\277\312\251\255\273\7\12\30\0\0\0\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\345\351"
-  "\371\0\0\10\0\0\0\234\237\256\377\377\377\377\346\1\346\224\0\265\257"
-  "\263\362\365\377\300\304\322\0\0\0\324\323\321\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\377\377\377LQa\0\0\0vy\211\377\377\377\377\377\377\377"
-  "\334a\271\225J\377\377\377\377\377\377\373\377\377\263\266\304CB<\224"
-  "\223\221\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\366\371\377\207\200\234JIY\355\357"
-  "\376\377\377\377\377\377\377\367\362\345\346\346\352\377\377\377\374"
-  "\377\377\363\366\377\351\355\374XWR\247\250\245\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\355\352\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\375\377\377\365\370\377\354\357\375"
-  "\342\346\364+)%\265\264\266\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\364\367\377\366\372\377\371\374\377\371\374\377"
-  "\366\372\377\362\365\377\351\355\374\341\345\362\327\333\351\21\20\13"
-  "\274\275\275\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\364\367\377\352\357\377\355\362\377\355\360\377\354\357\375"
-  "\347\353\370\337\345\362\327\330\343\315\314\325\3\2\0\277\277\301\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\364"
-  "\343\372\320\217\366\316\213\347\331\317\337\341\362\331\334\356\354"
-  "\320\234\373\323\221\366\314\202\0\0\0\275\274\277\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\306\0\377\346\10\377"
-  "\373k\377\333H\346\301\213\356\301C\377\3627\377\366:\377\331\0\0\0\0"
-  "\272\271\272\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\324\"\377\362\0\377\373\0\377\316\0\352\272V\375\312\25"
-  "\377\366\0\377\376\0\377\341\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0"};
-
-

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film21.xpm (from rev 4307, branches/avidemux_2.4_branch/avidemux/xpm/film21.xpm)

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film23.inc
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film23.inc	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film23.inc	2008-09-13 17:47:05 UTC (rev 4330)
@@ -1,100 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film23)
-#endif
-#ifdef __GNUC__
-static const guint8 film23[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film23[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\241\242\255z~\205\212\215\225\202\205"
-  "\215[_gPS[Z^f\314\317\327\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\246\245\264^bq\223\227\246"
-  "\207\213\231&*915D\40$2\40$4*.;\340\344\363\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\360\361\377$(7\245\250\267\365\370"
-  "\377\226\232\251 at BQ\202\206\225.2\77\0\0\1\0\0\1<\77N\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\224\225\245\0\0\0\256"
-  "\262\300\233\237\257HLW\225\231\241\271\274\313uy\207>AO\0\0\0\0\0\0"
-  "\303\305\325\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377JL[\0"
-  "\0\0&(7\307\314\333\305\2644\362\307C\275\277\312\251\255\273\7\12\30"
-  "\0\0\0\0\0\0Z^k\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\345\351\371\0"
-  "\0\10\0\0\0\234\237\256\377\377\377\377\346\1\346\224\0\265\257\263\362"
-  "\365\377\300\304\322\0\0\0\0\0\0\0\0\0\266\272\312\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377LQa\0\0\0vy\211\377\377\377\377\377\377\377\334a\271\225J\377"
-  "\377\377\377\377\377\373\377\377\263\266\304\0\0\0\0\0\0\207\213\232"
-  "\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\366\371\377\207\200\234JIY\355\357\376\377\377\377\377"
-  "\377\377\367\362\345\346\346\352\377\377\377\374\377\377\363\366\377"
-  "\351\355\374.2@\0\0\0\260\264\302\377\377\377\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\355\352\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\375\377\377\365\370\377\354\357\375\342\346\364\237\242\260"
-  "\201\202\222\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\364\367\377\366\372\377\371\374\377\371\374\377\366\372\377"
-  "\362\365\377\351\355\374\341\345\362\327\333\351\305\310\326\360\365"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\364\367\377\352\357\377\355\362\377\355\360\377\354\357\375\347\353"
-  "\370\337\345\362\327\330\343\315\314\325\303\310\327\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\364"
-  "\343\372\320\217\366\316\213\347\331\317\337\341\362\331\334\356\354"
-  "\320\234\373\323\221\366\314\202\375\323\235\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\306\0\377\346"
-  "\10\377\373k\377\333H\346\301\213\356\301C\377\3627\377\366:\377\331"
-  "\0\377\245\0\377\377\364\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\324\"\377\362\0\377\373\0\377\316\0\352\272"
-  "V\375\312\25\377\366\0\377\376\0\377\341\0\377\341z\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"};
-
-

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film23.xpm (from rev 4307, branches/avidemux_2.4_branch/avidemux/xpm/film23.xpm)

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film3.inc
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film3.inc	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film3.inc	2008-09-13 17:47:05 UTC (rev 4330)
@@ -1,100 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film3)
-#endif
-#ifdef __GNUC__
-static const guint8 film3[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film3[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\241\242\255z~\205\212\215\225\202\205\215"
-  "[_gPS[Z^f\314\317\327\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\246\245\264^bq\223\227\246\207"
-  "\213\231&*915D\40$2\40$4*.;\340\344\363\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\360\361\377$(7\245\250\267\365\370\377"
-  "\226\232\251 at BQ\202\206\225.2\77\0\0\1\0\0\1<\77N\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\224\225\245\0\0\0\256\262"
-  "\300\233\237\257HLW\225\231\241\271\274\313uy\207>AO\0\0\0\0\0\0\303"
-  "\305\325\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377JL[\0\0\0"
-  "&(7\307\314\333\305\2644\362\307C\275\277\312\251\255\273\7\12\30\0\0"
-  "\0\0\0\0Z^k\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\345\351\371\0\0\10"
-  "\0\0\0\234\237\256\377\377\377\377\346\1\346\224\0\265\257\263\362\365"
-  "\377\300\304\322\0\0\0\0\0\0\0\0\0\266\272\312\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377LQa\0\0\0vy\211\377\377\377\377\377\377\377\334a\271\225J\377\377"
-  "\377\377\377\377\373\377\377\263\266\304\0\0\0\0\0\0\207\213\232\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\366\371\377\207\200\234JIY\355\357\376\377\377\377\377\377"
-  "\377\367\362\345\346\346\352\377\377\377\374\377\377\363\366\377\351"
-  "\355\374.2@\0\0\0\260\264\302\377\377\377\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\355\352\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\375\377\377\365\370\377\354\357\375\342\346\364\237\242\260\201"
-  "\202\222\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\364\367\377\366\372\377\371\374\377\371\374\377\366\372\377\362"
-  "\365\377\351\355\374\341\345\362\327\333\351\305\310\326\360\365\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\364"
-  "\367\377\352\357\377\355\362\377\355\360\377\354\357\375\347\353\370"
-  "\337\345\362\327\330\343\315\314\325\303\310\327\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\364\343"
-  "\372\320\217\366\316\213\347\331\317\337\341\362\331\334\356\354\320"
-  "\234\373\323\221\366\314\202\375\323\235\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\306\0\377\346\10"
-  "\377\373k\377\333H\346\301\213\356\301C\377\3627\377\366:\377\331\0\377"
-  "\245\0\377\377\364\377\377\377\377\377\377\377\377\377\377\377\377\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\324\"\377\362\0\377\373\0\377\316\0\352\272V\375\312"
-  "\25\377\366\0\377\376\0\377\341\0\377\341z\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"};
-
-

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film3.xpm (from rev 4307, branches/avidemux_2.4_branch/avidemux/xpm/film3.xpm)

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film5.inc
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film5.inc	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film5.inc	2008-09-13 17:47:05 UTC (rev 4330)
@@ -1,101 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film5)
-#endif
-#ifdef __GNUC__
-static const guint8 film5[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film5[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\241\242\255z~\205\212"
-  "\215\225\202\205\215[_gPS[Z^f\314\317\327\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377^bq\223\227\246\207\213\231&*915D\40$2\40$4*.;\340\344\363\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\245\250\267\365\370\377\226\232\251 at BQ\202\206\225.2\77"
-  "\0\0\1\0\0\1<\77N\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\256\262\300\233\237\257HLW\225\231"
-  "\241\271\274\313uy\207>AO\0\0\0\0\0\0\303\305\325\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\265\265\265&(7\307\314\333"
-  "\305\2644\362\307C\275\277\312\251\255\273\7\12\30\0\0\0\0\0\0Z^k\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\226\225\223\347\347"
-  "\350\234\237\256\377\377\377\377\346\1\346\224\0\265\257\263\362\365"
-  "\377\300\304\322\0\0\0\0\0\0\0\0\0\266\272\312\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\344\344\343\25\24\20\377\377\377\377\377\377\377\334"
-  "a\271\225J\377\377\377\377\377\377\373\377\377\263\266\304\0\0\0\0\0"
-  "\0\207\213\232\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\317\317\31722"
-  ".\377\377\377\377\377\377\367\362\345\346\346\352\377\377\377\374\377"
-  "\377\363\366\377\351\355\374.2@\0\0\0\260\264\302\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\307\307\307\251\251\245\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\375\377\377\365\370\377\354\357\375\342\346"
-  "\364\237\242\260\201\202\222\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377b^]\366\372\377\371\374\377\371\374\377\366\372"
-  "\377\362\365\377\351\355\374\341\345\362\327\333\351\305\310\326\360"
-  "\365\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377]SS\352\357\377\355\362\377\355\360\377\354\357\375\347\353\370\337"
-  "\345\362\327\330\343\315\314\325\303\310\327\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377H\77<\372\320\217"
-  "\366\316\213\347\331\317\337\341\362\331\334\356\354\320\234\373\323"
-  "\221\366\314\202\375\323\235\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\37773/\377\346\10\377\373k\377\333H"
-  "\346\301\213\356\301C\377\3627\377\366:\377\331\0\377\245\0\377\377\364"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\273"
-  "\272\271\377\362\0\377\373\0\377\316\0\352\272V\375\312\25\377\366\0"
-  "\377\376\0\377\341\0\377\341z\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0"};
-
-

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film5.xpm (from rev 4307, branches/avidemux_2.4_branch/avidemux/xpm/film5.xpm)

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film7.inc
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film7.inc	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film7.inc	2008-09-13 17:47:05 UTC (rev 4330)
@@ -1,99 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film7)
-#endif
-#ifdef __GNUC__
-static const guint8 film7[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film7[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0[_gPS[Z^f\314\317\327"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\37715D\40$2\40$4*.;\340\344\363\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\332\332\330UTP\202\206\225.2\77\0\0\1\0\0\1<\77N\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\274\273\273\242\243\235871\271\274\313u"
-  "y\207>AO\0\0\0\0\0\0\303\305\325\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\265\265\265*)%GF@\253\252\245MLH\275\277"
-  "\312\251\255\273\7\12\30\0\0\0\0\0\0Z^k\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\226\225\223\347\347\350\356\355\353\40\37\32\35"
-  "\34\26\31\30\22\265\257\263\362\365\377\300\304\322\0\0\0\0\0\0\0\0\0"
-  "\266\272\312\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\377\377\377\377\377\377\344\344\343\25\24"
-  "\20\37\36\31\16\15\7uus\377\377\377\377\377\377\377\377\377\373\377\377"
-  "\263\266\304\0\0\0\0\0\0\207\213\232\377\377\377\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\317\317\31722.gf`qplwwv\252\251\247\377\377\377\374\377\377"
-  "\363\366\377\351\355\374.2@\0\0\0\260\264\302\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\307\307\307\251\251\245\342\342\336WVP\330\325\320\370"
-  "\367\363\375\377\377\365\370\377\354\357\375\342\346\364\237\242\260"
-  "\201\202\222\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377b^]\26\27\20""31,kjdcb]\362\365\377\351\355\374\341\345\362\327"
-  "\333\351\305\310\326\360\365\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377]SS\33\32\25##\34.-'<<5\347\353\370\337\345"
-  "\362\327\330\343\315\314\325\303\310\327\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377H\77<\24\22\15\30\27"
-  "\21\36\35\27$#\35\331\334\356\354\320\234\373\323\221\366\314\202\375"
-  "\323\235\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\37773/\7\10\1\17\16\10\23\22\14\26\27\20\356\301C\377\362"
-  "7\377\366:\377\331\0\377\245\0\377\377\364\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\273\272\271ZYT\15\14\6\3\2\0\15"
-  "\14\6\375\312\25\377\366\0\377\376\0\377\341\0\377\341z\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\303\303\303nnl\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0"};
-
-

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film7.xpm (from rev 4307, branches/avidemux_2.4_branch/avidemux/xpm/film7.xpm)

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film9.inc
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film9.inc	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film9.inc	2008-09-13 17:47:05 UTC (rev 4330)
@@ -1,97 +0,0 @@
-/* GdkPixbuf RGB C-Source image dump */
-
-#ifdef __SUNPRO_C
-#pragma align 4 (film9)
-#endif
-#ifdef __GNUC__
-static const guint8 film9[] __attribute__ ((__aligned__ (4))) = 
-#else
-static const guint8 film9[] = 
-#endif
-{ ""
-  /* Pixbuf magic (0x47646b50) */
-  "GdkP"
-  /* length: header (24) + pixel_data (1728) */
-  "\0\0\6\330"
-  /* pixdata_type (0x1010001) */
-  "\1\1\0\1"
-  /* rowstride (72) */
-  "\0\0\0H"
-  /* width (24) */
-  "\0\0\0\30"
-  /* height (24) */
-  "\0\0\0\30"
-  /* pixel_data: */
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\233\233"
-  "\230\34\33\26\32\31\24$\"\34\340\344\363\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\332\332\330UTP\377\377\377\353\351\343LKF%$\36<\77N"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\274\273\273\242\243\235871\40\36\31"
-  "ONI##\35\24\23\15\0\0\0\303\305\325\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\265\265\265*)%GF@\253\252\245MLH##\35\40"
-  "\40\32rro\352\351\352\0\0\0Z^k\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\226\225\223\347\347\350\356\355\353\40\37\32\35\34\26\31"
-  "\30\22||x\376\377\377\377\377\377\377\377\377\0\0\0\0\0\0\266\272\312"
-  "\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\344\344\343\25\24\20\37\36\31"
-  "\16\15\7uus\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\207\213\232\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\317"
-  "\317\31722.gf`qplwwv\252\251\247\202\201\177\200}}\246\243\242\215\214"
-  "\211.2@\0\0\0\260\264\302\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\307"
-  "\307\307\251\251\245\342\342\336WVP\330\325\320\370\367\363\201\201z"
-  "\324\323\316\332\330\324.-'\237\242\260\201\202\222\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377b^]\26\27\20""31,kjdcb]d"
-  "b^\266\265\260SRN21+\305\310\326\360\365\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377]SS\33\32\25##\34.-'<<5:942/"
-  "+('\"$#\37\303\310\327\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377H\77<\24\22\15\30\27\21\36\35\27$#\35%%\37"
-  "#\"\34%#\37\33\32\25\375\323\235\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\37773/\7\10\1\17\16\10\23\22\14"
-  "\26\27\20\24\23\15\30\27\21\25\23\17\17\15\10\377\245\0\377\377\364\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\273\272"
-  "\271ZYT\15\14\6\3\2\0\15\14\6\15\14\6\13\12\5\20\17\12\2\1\0\377\341"
-  "z\377\377\377\377\377\377\377\377\377\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\377\377\377\377\377\377\377"
-  "\377\377\377\377\377\377\377\377\377\377\377\303\303\303nnl\22\21\13"
-  "\1\0\0\7\6\1\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377"
-  "\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377"
-  "\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377"
-  "\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\377\377\377\377\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377"
-  "\377\377\0\0\0\0\0\0\0\0\0\0\0\0\377\377\377\377\377\377\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
-  "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"};
-
-

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/xpm/film9.xpm (from rev 4307, branches/avidemux_2.4_branch/avidemux/xpm/film9.xpm)

Copied: branches/avidemux_2.5_branch_gruntster/avidemux2-gtk.desktop (from rev 4307, branches/avidemux_2.4_branch/avidemux2-gtk.desktop)

Modified: branches/avidemux_2.5_branch_gruntster/cmake/admCheckMiscLibs.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/admCheckMiscLibs.cmake	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/cmake/admCheckMiscLibs.cmake	2008-09-13 17:47:05 UTC (rev 4330)
@@ -5,7 +5,9 @@
 
 checkGettext()
 
-SET(ADM_LOCALE "${CMAKE_INSTALL_PREFIX}/share/locale")
+IF (NOT ADMLOCALE)
+	SET(ADM_LOCALE "${CMAKE_INSTALL_PREFIX}/share/locale")
+ENDIF (NOT ADMLOCALE)
 
 ########################################
 # SDL

Modified: branches/avidemux_2.5_branch_gruntster/cmake/admCheckQt4.cmake
===================================================================
--- branches/avidemux_2.5_branch_gruntster/cmake/admCheckQt4.cmake	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/cmake/admCheckQt4.cmake	2008-09-13 17:47:05 UTC (rev 4330)
@@ -6,6 +6,7 @@
 		MESSAGE(STATUS "*****************")
 
 		IF (QT4)
+			SET(QT_MIN_VERSION 4.2.0)
 			FIND_PACKAGE(Qt4)	
 			STRING(REGEX REPLACE "[\\]" "/" QT_INCLUDES "${QT_INCLUDES}")	# backslashes aren't taken care of properly on Windows
 			PRINT_LIBRARY_INFO("Qt 4" QT4_FOUND "${QT_INCLUDES} ${QT_DEFINITIONS}" "${QT_QTCORE_LIBRARY} ${QT_QTGUI_LIBRARY}")

Modified: branches/avidemux_2.5_branch_gruntster/po/ca.po
===================================================================
--- branches/avidemux_2.5_branch_gruntster/po/ca.po	2008-09-13 16:27:58 UTC (rev 4329)
+++ branches/avidemux_2.5_branch_gruntster/po/ca.po	2008-09-13 17:47:05 UTC (rev 4330)
@@ -1,24 +1,24 @@
-# translation of ca.po to catal?
-# Joan Farrerons <jfarrerons at economistes.com>, 2007.
+# translation of ca.po to catala
+# Joan Farrerons <jfarrerons at economistes.com>, 2007, 2008.
 msgid ""
 msgstr ""
 "Project-Id-Version: ca\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-09-26 14:47+0100\n"
-"PO-Revision-Date: 2008-01-31 13:34+0100\n"
+"POT-Creation-Date: 2008-07-31 00:24+0100\n"
+"PO-Revision-Date: 2008-08-27 23:11+0200\n"
 "Last-Translator: Joan Farrerons <jfarrerons at economistes.com>\n"
-"Language-Team: catal? <ca at li.org>\n"
+"Language-Team: catala <ca at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
 "X-Poedit-Language: Catalan\n"
 "X-Poedit-Country: SPAIN\n"
-"X-Poedit-SourceCharset: iso-8859-1\n"
 "X-Generator: KBabel 1.11.4\n"
 "Plural-Forms: nplurals = 2; plural = (n != 1);\n"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:42
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:511
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:369
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:515
 msgid "AVI"
 msgstr "AVI"
 
@@ -47,23 +47,30 @@
 msgstr "V?deo MPEG"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:49
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:493
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:131
 msgid "MP4"
 msgstr "MP4"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:50
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:515
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:119
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:519
 msgid "OGM"
 msgstr "OGM"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:51
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:130
 msgid "PSP"
 msgstr "PSP"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:52
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:188
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:277
 msgid "FLV"
 msgstr "FLV"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:53
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:132
 msgid "MKV"
 msgstr "MKY"
 
@@ -71,21 +78,171 @@
 msgid "DUMMY"
 msgstr "DUMMY"
 
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:13
+msgid "YV12 (raw)"
+msgstr "YV12 (raw)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:111
+msgid "H.263 (lavc)"
+msgstr "H.263 (lavc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:127
+msgid "H.263+ (lavc)"
+msgstr "H.263+ (lavc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:143
+msgid "MPEG-4 ASP (lavc)"
+msgstr "MPEG-4 ASP (lavc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:159
+msgid "DV (lavc)"
+msgstr "DV (lavc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:175
+msgid "FLV1 (lavc)"
+msgstr "FLV1 (lavc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:191
+msgid "Snow (lavc)"
+msgstr "Snow (lavc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:207
+msgid "FF Huffyuv (lavc)"
+msgstr "FF Huffyuv (lavc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:223
+msgid "Huffyuv (lavc)"
+msgstr "Huffyuv (lavc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:239
+msgid "FFV1 (lavc)"
+msgstr "FFV1 (lavc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:257
+msgid "MJPEG (lavc)"
+msgstr "MJPEG (lavc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:272
+msgid "Y800 (lavc)"
+msgstr "Y800 (lavc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:332
+msgid "VCD (lavc)"
+msgstr "VCD (lavc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:392
+msgid "DVD (lavc)"
+msgstr "DVD (lavc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:452
+msgid "SVCD (lavc)"
+msgstr "SVCD (lavc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:479
+msgid "VCD (mpeg2enc)"
+msgstr "VCD (mpeg2enc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:511
+msgid "SVCD (mpeg2enc)"
+msgstr "SVCD (mpeg2enc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:530
+msgid "MPEG-2 requant"
+msgstr "MPEG-2 requant"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:557
+msgid "DVD (mpeg2enc)"
+msgstr "DVD (mpeg2enc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:689
+msgid "MPEG-4 ASP (Xvid4)"
+msgstr "MPEG-4 ASP (Xvid4)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:830
+msgid "MPEG-4 AVC (x264)"
+msgstr "MPEG-4 AVC (x264)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:847
+msgid "dummy"
+msgstr "dummy"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:850
+#: avidemux/ADM_encoder/adm_encCopy.cpp:91
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:271
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:367
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:143
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:195
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:191
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:259
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:280
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:166
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:280
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:301
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:221
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:225
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:379
+#: avidemux/ADM_outputs/oplug_ogm/op_ogaudio.cpp:90
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsavecopy.cpp:69
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1081
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1121
+msgid "Copy"
+msgstr "Copiat"
+
+#: avidemux/ADM_encoder/adm_encdivx.h:52
+msgid "DivX"
+msgstr "DivX"
+
+#: avidemux/ADM_encoder/adm_encffmpeg.h:47
+msgid "LavCodec"
+msgstr "LavCodec"
+
+#: avidemux/ADM_encoder/adm_encmjpeg.h:60
+msgid "MJPEG"
+msgstr "MJPEG"
+
+#: avidemux/ADM_encoder/adm_encmpeg2enc.h:57
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:61
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:523
+msgid "MPEG"
+msgstr "MPEG"
+
+#: avidemux/ADM_encoder/adm_encx264.h:67
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:130
+msgid "x264"
+msgstr "x264"
+
+#: avidemux/ADM_encoder/adm_encxvid.h:61
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:129
+msgid "Xvid"
+msgstr "Xvid"
+
+#: avidemux/ADM_encoder/adm_encXvid4.h:62
+msgid "Xvid4"
+msgstr "Xvid4"
+
+#: avidemux/ADM_encoder/adm_ency800.h:57
+msgid "Y800"
+msgstr "Y800"
+
+#: avidemux/ADM_encoder/adm_encyv12.h:69
+msgid "YV12"
+msgstr "YV12"
+
 #: avidemux/ADM_audio/audiotimeline.cpp:85
 #: avidemux/ADM_audio/audiotimeline.cpp:96
 msgid "Building VBR map"
 msgstr "S'est? construint el mapa de VBR"
 
-#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:75
-#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:183
+#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:88
+#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:200
 msgid "Internal error"
 msgstr "S'ha produ?t un error intern"
 
-#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:75
+#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:88
 msgid "Cannot open WMA2 codec."
 msgstr "No es pot obrir el c?dec WMA2."
 
-#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:183
+#: avidemux/ADM_audiocodec/ADM_codecwma.cpp:200
 msgid "Cannot open AMR codec."
 msgstr "No es pot obrir el c?dec AMR."
 
@@ -99,8 +256,8 @@
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:220
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:104
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:296
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:110
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:297
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:103
 msgid "Stereo"
 msgstr "Est?reo"
 
@@ -110,7 +267,7 @@
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:222
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:103
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:107
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:100
 msgid "Mono"
 msgstr "Mono"
 
@@ -136,21 +293,25 @@
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:246
 #: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:288
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioconfig.cpp:59
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioconfig.cpp:52
 msgid "_Bitrate:"
 msgstr "Taxa _bits: "
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:251
 #: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:290
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_mjpeg.cpp:40
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_mjpeg.cpp:36
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:204
 msgid "_Quality:"
 msgstr "_Qualitat: "
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:252
 msgid "_Disable reservoir:"
-msgstr "_Desactiva reserva taxa bits: "
+msgstr "_Desactiva reserva taxa bits:"
 
+#: avidemux/ADM_audiofilter/audioencoder_lame.cpp:256
+msgid "LAME Configuration"
+msgstr "Configuraci? LAME"
+
 #: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:271
 msgid "VBR"
 msgstr "VBR"
@@ -162,47 +323,52 @@
 #: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:274
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:203
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:91
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:113
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:181
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:111
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:179
 msgid "_Mode:"
 msgstr "_Mode:"
 
+#: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:297
+msgid "Vorbis Configuration"
+msgstr "Configuraci? Vorbis "
+
 #: avidemux/ADM_audiofilter/audiofilter_buildchain.cpp:322
-#: avidemux/gui_autodrive.cpp:78
-#: avidemux/gui_autodrive.cpp:93
-#: avidemux/gui_autodrive.cpp:120
-#: avidemux/gui_autodrive.cpp:154
+#: avidemux/gui_autodrive.cpp:62 avidemux/gui_autodrive.cpp:72
+#: avidemux/gui_autodrive.cpp:113 avidemux/gui_autodrive.cpp:128
+#: avidemux/gui_autodrive.cpp:155 avidemux/gui_autodrive.cpp:189
 msgid "Codec Error"
-msgstr "S'ha produ?t un error de c?dec."
+msgstr "S'ha produ?t un error de c?dec"
 
 #: avidemux/ADM_audiofilter/audiofilter_buildchain.cpp:322
 msgid ""
-"The number of channels is greater than what the selected audio codec can do.\n"
+"The number of channels is greater than what the selected audio codec can "
+"do.\n"
 "Either change codec or use the mixer filter to have less channels."
 msgstr ""
-"El nombre de canals ?s m?s gran que el que pot tractar el c?dec d'?udio seleccionat.\n"
+"El nombre de canals ?s m?s gran que el que pot tractar el c?dec d'?udio "
+"seleccionat.\n"
 "Canvieu el c?dec o utilitzeu el filtre mesclador per tenir menys canals."
 
+#: avidemux/ADM_audiofilter/audiofilter_buildchain.cpp:417
+msgid "Encoder initialization failed"
+msgstr "S'ha produ?t un error en inicialitzar el codificador"
+
+#: avidemux/ADM_audiofilter/audiofilter_buildchain.cpp:417
+msgid "Not activated."
+msgstr "No est? activat."
+
 #: avidemux/ADM_codecs/ADM_ffmp43.cpp:45
-msgid "Internal error finding codec"
+msgid "Internal error finding codec '"
 msgstr "S'ha produ?t un error intern en la cerca del c?dec"
 
-#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:48
+#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:49
 msgid "Internal error opening codec"
 msgstr "S'ha produ?t un error intern en l'obertura del c?dec"
 
-#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:50
+#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:51
 msgid "Internal error with context for  codec"
 msgstr "S'ha produ?t un error intern amb el context per al c?dec"
 
-#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:50
-msgid ""
-".\n"
-" Did you use too low / too high target for 2 pass ?"
-msgstr ""
-".\n"
-" Heu especificat una taxa de bits massa baixa/alta per a la 2a passada?"
-
 #: avidemux/ADM_editor/ADM_edFrameType.cpp:58
 msgid "No video loaded"
 msgstr "No hi ha cap v?deo carregat"
@@ -223,9 +389,23 @@
 msgid "Aborted"
 msgstr "S'ha cancel?lat"
 
+#: avidemux/ADM_editor/ADM_edit.cpp:82
+msgid ""
+"Avidemux detected VBR MP3 audio in this file. For keeping audio/video in "
+"sync, time map is needed. Build it now?\n"
+"\n"
+"You can do it later with \"Audio -> Build VBR Time Map\"."
+msgstr ""
+"L'Avidemux ha detectat ?udio MP3 VBR en aquest fitxer. Per mantenir la sincronitzaci? "
+"entre ?udio i v?deo, es necessita un mapa de temps. El construeixo ara?\n"
+"\n"
+"El podeu construir m?s tard amb \"?udio -> Construeix mapa de temps VBR\"."
+
 #: avidemux/ADM_editor/ADM_edit.cpp:407
 msgid "File type identified but no loader support detected..."
-msgstr "S'ha identificar el tipus de fitxer per? no se n'ha detectat suport de carregador..."
+msgstr ""
+"S'ha identificat el tipus de fitxer per? no se n'ha detectat suport de "
+"carregador..."
 
 #: avidemux/ADM_editor/ADM_edit.cpp:408
 msgid "May be related to an old index file."
@@ -238,81 +418,89 @@
 
 #: avidemux/ADM_editor/ADM_edit.cpp:439
 msgid ""
-"You cannot mix different video dimensions yet. Using the partial video filter later, will not work around this problem. The workaround is:\n"
-"1.) \"resize\" / \"add border\" / \"crop\" each stream to the same resolution\n"
+"You cannot mix different video dimensions yet. Using the partial video "
+"filter later, will not work around this problem. The workaround is:\n"
+"1.) \"resize\" / \"add border\" / \"crop\" each stream to the same "
+"resolution\n"
 "2.) concatinate them together"
 msgstr ""
-"Encara no es poden barrejar diferents mides de v?deo. L'?s posterior del filtre parcial de v?deo no evitar? aquest problema. El remei ?s:\n"
-"1.) \"redimensionar\" / \"afegir vora\" / \"retallar\" cada flux a la mateixa resoluci?\n"
+"Encara no es poden barrejar diferents mides de v?deo. L'?s posterior del "
+"filtre parcial de v?deo no evitar? pas aquest problema. El remei ?s:\n"
+"1.) \"redimensionar\" / \"afegir vora\" / \"retallar\" cada flux a la "
+"mateixa resoluci?\n"
 "2.) concatenar-los"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:551
 msgid "Build Time Map"
-msgstr "Construeix mapa temps"
+msgstr "Construeix mapa de temps"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:551
 msgid "Build VBR time map?"
 msgstr "Voleu construir el mapa de temps VBR?"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:585
-msgid "Use that mode"
-msgstr "Utilitzeu aquell mode"
+msgid "Use safe mode"
+msgstr "Usa el mode segur"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:585
-msgid "H264 detected"
-msgstr "Detectat H264"
+msgid "H.264 detected"
+msgstr "S'ha detectat un H.264"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:585
 msgid ""
-"If the file is using bframe as reference, it can lead to crash or stutteting.\n"
-"Avidemux can use another mode which is safed but <b>YOU WILL LOOSE FRAME ACCURACY</b>.\n"
-"Do you want to use that mode ?"
+"If the file is using B-frames as reference it can lead to a crash or "
+"stuttering.\n"
+"Avidemux can use another mode which is safe but YOU WILL LOSE FRAME "
+"ACCURACY.\n"
+"Do you want to use that mode?"
 msgstr ""
-"El fet que el fitxer utilitzi fotogrames-B com a refer?ncia pot ocasionar una penjada o b? una tremolor.\n"
-"L'Avidemux pot usar un altre mode m?s segur, per? <b>PERDREU PRECISI? DE FOTOGRAMA</b>.\n"
+"El fet que el fitxer utilitzi fotogrames-B com a refer?ncia pot ocasionar "
+"una fallada o b? una tremolor.\n"
+"L'Avidemux pot usar un altre m?tode m?s segur, per? <b>PERDREU "
+"PRECISI? DE FOTOGRAMA</b>.\n"
 "Voleu utilitzar aquell m?tode ?"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:712
+#: avidemux/ADM_editor/ADM_edit.cpp:715
 msgid "Packed Bitstream detected"
 msgstr "S'ha detectat un flux de bits empaquetat"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:713
+#: avidemux/ADM_editor/ADM_edit.cpp:716
 msgid "Do you want me to unpack it ?"
 msgstr "Voleu que el desempaqueti?"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:733
+#: avidemux/ADM_editor/ADM_edit.cpp:736
 msgid "Could not unpack the video"
 msgstr "No s'ha pogut desempaquetar el v?deo"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:733
+#: avidemux/ADM_editor/ADM_edit.cpp:736
 msgid "Using backup decoder - not frame accurate."
 msgstr "S'est? usant 'backup decoder' - no ?s acurat pel que fa als fotogrames."
 
-#: avidemux/ADM_editor/ADM_edit.cpp:738
+#: avidemux/ADM_editor/ADM_edit.cpp:741
 msgid "Weird"
 msgstr "?s estrany"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:738
+#: avidemux/ADM_editor/ADM_edit.cpp:741
 msgid "The unpacking succeedeed but the index is still not up to date."
 msgstr "El desempaquetat ha anat b? per? l'?ndex encara no est? actualitzat."
 
-#: avidemux/ADM_editor/ADM_edit.cpp:744
+#: avidemux/ADM_editor/ADM_edit.cpp:747
 msgid "Troubles ahead"
 msgstr "Hi ha problemes a la vista"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:744
+#: avidemux/ADM_editor/ADM_edit.cpp:747
 msgid "This a VOP packed AVI."
 msgstr "?s un AVI empaquetat com a VOP."
 
-#: avidemux/ADM_editor/ADM_edit.cpp:755
+#: avidemux/ADM_editor/ADM_edit.cpp:758
 msgid "Index is not up to date"
 msgstr "L'?ndex no est? actualitzat"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:755
+#: avidemux/ADM_editor/ADM_edit.cpp:758
 msgid "You should use Tool->Rebuild frame. Do it now ?"
 msgstr "Heu d'usar \"Eines -> Reconstrueix fotogrames\". Ho voleu fer ara?"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:1510
+#: avidemux/ADM_editor/ADM_edit.cpp:1520
 msgid ""
 "This looks like mpeg\n"
 " Do you want to index it?"
@@ -320,19 +508,19 @@
 "Sembla que sigui del tipus MPEG\n"
 " Voleu indexar-lo?"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:1562
+#: avidemux/ADM_editor/ADM_edit.cpp:1572
 msgid "Indexing failed"
 msgstr "Ha fallat la indexaci?"
 
-#: avidemux/ADM_editor/ADM_edLoadSave.cpp:75
+#: avidemux/ADM_editor/ADM_edLoadSave.cpp:74
 msgid "Unsupported"
 msgstr "No est? suportat"
 
-#: avidemux/ADM_editor/ADM_edLoadSave.cpp:301
+#: avidemux/ADM_editor/ADM_edLoadSave.cpp:300
 msgid "Old format project file"
 msgstr "Format de projecte antic"
 
-#: avidemux/ADM_editor/ADM_edLoadSave.cpp:301
+#: avidemux/ADM_editor/ADM_edLoadSave.cpp:300
 msgid "No more supported."
 msgstr "Ja no est? suportat/da."
 
@@ -346,17 +534,17 @@
 
 #: avidemux/ADM_encoder/adm_encConfig.cpp:197
 msgid "Wrong video codec"
-msgstr "El c?dec de v?deo ?s erroni."
+msgstr "El c?dec de v?deo ?s erroni"
 
 #: avidemux/ADM_encoder/adm_encConfig.cpp:198
 msgid "Select DVD as the video codec for MPEG TS output."
 msgstr "Seleccioneu \"DVD\" com a c?dec de v?deo per a la sortida de MPEG TS."
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:718
+#: avidemux/ADM_encoder/adm_encConfig.cpp:719
 msgid "Only QCIF and subQCIF are allowed for H.263"
 msgstr "Nom?s es permet QCIF i subQCIF per a l'H.263."
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:910
+#: avidemux/ADM_encoder/adm_encConfig.cpp:911
 msgid "Fatal error"
 msgstr "S'ha produ?t un error fatal."
 
@@ -368,9 +556,670 @@
 msgid "At the moment, the DV codec only accepts 720*576 at 25"
 msgstr "Per ara, el c?dec DV nom?s accepta 720*576 at 25."
 
+#: avidemux/ADM_encoder/adm_encRequant.cpp:98
+msgid "Requant"
+msgstr "Requant"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:54
+msgid "Crop"
+msgstr "Talla"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:54
+msgid "Remove lines from top/bottom/left/right."
+msgstr "Elimina l?nies de dalt/baix/esquerra/dreta."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:55
+msgid "MPlayer resize"
+msgstr "Redimensionador MPlayer"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:55
+msgid "Change image size. Faster than Avisynth's Resize."
+msgstr "Canvia la mida de la imatge. M?s r?pid que el de l'Avisynth."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:56
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:319
+msgid "Resize"
+msgstr "Redimensiona"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:56
+msgid "Picture resizer ported from Avisynth."
+msgstr "Redimensionador d'imatges portat de l'Avisynth."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:57
+msgid "Add black borders"
+msgstr "Afegeix vores negres"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:57
+msgid "Add pure black border(s). Enlarges the picture."
+msgstr "Afegeix vores totalment negres. Eixampla la imatge."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:58
+msgid "Blacken borders"
+msgstr "Ennegreix les vores"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:58
+msgid "Fill borders with pure black. Doesn't alter size."
+msgstr "Omple les vores amb color negre. No altera la mida."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:59
+msgid "Vertical flip"
+msgstr "Trabuca verticalment"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:59
+msgid "Vertically flip the picture."
+msgstr "Capgira la imatge verticalment."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:60
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:269
+msgid "Rotate"
+msgstr "Rota"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:60
+msgid "Rotate the picture by 90, 180 or 270 degrees."
+msgstr "Rota la imatge 90, 180 o 270 graus."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:62
+#: avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp:90
+msgid "Resample fps"
+msgstr "Remostreja fps"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:62
+msgid "Change framerate while keeping duration."
+msgstr "Canvia la taxa de fotogrames sense alterar la durada."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:63
+msgid "Reverse"
+msgstr "Posa de l'inrev?s"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:63
+msgid "Play video backward."
+msgstr "Reprodueix el v?deo a l'inrev?s."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:64
+#: avidemux/ADM_videoFilter/ADM_vidFade.cpp:78
+msgid "Fade"
+msgstr "Efecte de fusi?"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:64
+msgid "Fade in/out."
+msgstr "Fusi? entrant/sortint "
+
+#: avidemux/ADM_filter/filter_declaration.cpp:70
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:184
+msgid "yadif"
+msgstr "yadif"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:70
+msgid "Yet Another DeInterlacer. Ported from MPlayer."
+msgstr "Un desentrella?ador m?s. Portat de l'MPlayer."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:71
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:117
+msgid "mcDeinterlace"
+msgstr "mcDeinterlace"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:71
+msgid "Motion compensation deinterlacer. Ported from MPlayer."
+msgstr "Desentrella?ador per motion compensation. Portat de l'MPlayer."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:72
+msgid "Deinterlace"
+msgstr "Deinterlace"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:72
+msgid "Mask interlacing artifacts. Port of Smart deinterlace."
+msgstr "Amaga els artefactes d'entrella?at. Portat de l'Smart deinterlace."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:73
+#: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:100
+msgid "KernelDeint"
+msgstr "KernelDeint"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:73
+msgid "Kernel deinterlacer by Donald Graft."
+msgstr "Desentrella?ador Kernel de Donald Graft."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:74
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:121
+msgid "TDeint"
+msgstr "TDeint"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:74
+msgid "Motion adaptative deinterlacer by Tritical."
+msgstr "Desentrella?ador per motion adaptation de Tritical."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:75
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:119
+msgid "libavcodec deinterlacer"
+msgstr "libavcodec deinterlacer"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:75
+msgid "All FFmpeg deinterlace filters (bicubic, median, ...)."
+msgstr "Tots els filtres de desentrella?at de l'FFmpeg (bicubic, median,...)."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:76
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:131
+msgid "Decomb Telecide"
+msgstr "Decomb Telecide"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:76
+msgid "Great deinterlacing package including IVTC."
+msgstr "Gran paquet de desentrella?at que inclou IVTC."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:77
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:211
+msgid "Decomb Decimate"
+msgstr "Decomb Decimate"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:77
+msgid "Useful to remove dupes left by Telecide."
+msgstr "?til per eliminar duplicats deixats pel Telecide."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:78
+msgid "Pulldown"
+msgstr "Pulldown"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:78
+msgid "Convert 24 fps to 30 fps by repeating fields."
+msgstr "Converteix de 24 fps a 30 fps repetint camps."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:80
+msgid "Bobber - convert each field into a full sized frame."
+msgstr "Bobber - converteix cada camp en un fotograma sencer."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:82
+msgid "PAL field shift"
+msgstr "PAL field shift"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:82
+msgid "Shift fields by one. Useful for some PAL movies."
+msgstr "Desfasa els camps en un. ?til per a algunes pel?l?cules en PAL."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:83
+msgid "PAL smart"
+msgstr "PAL smart"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:83
+msgid "Smartly revert non constant PAL field shift."
+msgstr "Anul?la intel?ligentment els desfasaments no constants de camp PAL."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:88
+msgid "Drop"
+msgstr "Drop"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:88
+msgid "Drop damaged fields (e.g. from VHS capture)."
+msgstr "Salta els camps danyats (per ex., de captures d'VHS)."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:89
+msgid "Swap fields"
+msgstr "Swap fields"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:89
+msgid "Swap top and bottom fields."
+msgstr "Intercanvia els camps superior i inferior."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:90
+msgid "Smart swap fields"
+msgstr "Smart swap fields"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:90
+msgid "Smartly swap fields. Needed when field order changes."
+msgstr "Intercanvia intel?ligentment els camps. ?s necessari quan canvia l'ordre dels camps."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:92
+msgid "Keep even fields"
+msgstr "Keep even fields"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:92
+msgid "Keep top fields. Gives a half height picture."
+msgstr "Mant? els camps superiors. D?na una imatge la meitat d'alta."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:93
+msgid "Keep odd fields"
+msgstr "Keep odd fields"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:93
+msgid "Keep bottom fileds. Gives a half height picture."
+msgstr "Mant? els camps inferiors. D?na una imatge la meitat d'alta."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:94
+msgid "Separate fields"
+msgstr "Separate fields"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:94
+msgid "Each field becomes full picture, half sized."
+msgstr "Cada camp esdev? una imatge sencera, la meitat d'alta."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:95
+msgid "Merge fields"
+msgstr "Merge fields"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:95
+msgid "Merge two pictures as if they were two fields."
+msgstr "Combina dues imatges com si fossin dos camps."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:98
+msgid "Hz Stack fields"
+msgstr "Hz Stack fields"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:98
+msgid "Put botj fields side by side."
+msgstr "Posa els dos camps costat per costat."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:101
+msgid "Stack fields"
+msgstr "Stack fields"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:101
+msgid "Put two fields on top of one another."
+msgstr "Posa un camp damunt de l'altre."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:102
+msgid "Unstack fields"
+msgstr "Unstack fields"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:102
+msgid "Interleave top and bottom part of the picture."
+msgstr "Entrella?a els camps parell i senar de la imatge."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:106
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:209
+msgid "MPlayer eq2"
+msgstr "MPlayer eq2"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:106
+msgid "Adjust contrast, brightness, saturation and gamma."
+msgstr "Ajusta el contrast, la lluminositat, la saturaci? i la gamma."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:107
+msgid "MPlayer hue"
+msgstr "MPlayer hue"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:107
+msgid "Adjust hue and saturation."
+msgstr "Ajusta el mat?s i la saturaci?."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:108
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:183
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:76
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:198
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:216
+msgid "Contrast"
+msgstr "Contrast"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:108
+msgid "Adjust contrast, brightness and colors."
+msgstr "Ajusta el contrast, la lluminositat i els colors."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:109
+msgid "Luma equalizer"
+msgstr "Luma equalizer"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:109
+msgid "Luma correction filter with histogram."
+msgstr "Filtre de correcci? de la lumin?ncia amb histograma."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:111
+msgid "Swap U and V"
+msgstr "Swap U and V"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:111
+msgid "Invert chroma U and chroma V."
+msgstr "Inverteix la cromin?ncia en U i V."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:112
+msgid "Chroma shift"
+msgstr "Chroma shift"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:112
+msgid "Shift chroma U/V to fix badly synced luma/chroma."
+msgstr "Despla?a la cromin?ncia en U i V per reparar una lumin?ncia/cromin?ncia mal sincronitzada."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:114
+msgid "Luma only"
+msgstr "Luma only"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:114
+msgid "Convert picture to greyscale (black and white)."
+msgstr "Converteix la imatge a escala de grisos (blanc i negre)."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:115
+msgid "Chroma U only"
+msgstr "Chroma U only"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:115
+msgid "Convert picture to grey, keeping only chroma U."
+msgstr "Converteix la imatge al gris, mantenint nom?s la cromin?ncia en U"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:116
+msgid "Chroma V only"
+msgstr "Chroma V only"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:116
+msgid "Convert picture to grey, keeping only chroma V."
+msgstr "Converteix la imatge al gris, mantenint nom?s la cromin?ncia en V"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:118
+msgid "Luma delta"
+msgstr "Luma delta"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:118
+msgid "Difference between current and previous picture."
+msgstr "Difer?ncia entre la imatge actual i la precedent."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:119
+msgid "Avisynth ColorYUV"
+msgstr "Avisynth ColorYUV"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:119
+msgid "Alter colors (auto white balance etc...). Ported from Avisynth."
+msgstr "Modifica els colors (equilibri autom?tic dels blancs, etc.). Portat de l'Avisynth."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:129
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:78
+msgid "MPlayer denoise3d"
+msgstr "MPlayer denoise3d"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:129
+msgid "Reduce noise, smooth image, increase compressibility."
+msgstr "Redueix el soroll, suavitza la imatge, augmenta la compressibilitat."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:130
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:78
+msgid "MPlayer hqdn3d"
+msgstr "MPlayer hqdn3d"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:130
+msgid "High quality version of denoise3d. Slower but more precise."
+msgstr "Versi? del denoise3d d'alta qualitat. M?s lent per? m?s prec?s."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:131
+#: avidemux/ADM_videoFilter/ADM_vidFlux.cpp:139
+msgid "FluxSmooth"
+msgstr "FluxSmooth"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:131
+msgid "Spatio-temporal cleaner by Ross Thomas."
+msgstr "Netejador espai-temporal de Ross Thomas."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:133
+#: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:104
+msgid "Temporal Cleaner"
+msgstr "Temporal Cleaner"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:133
+msgid "Vlad59's Avisynth port of Jim Casaburi's denoiser."
+msgstr "Eliminador de soroll de Jim Casaburi, portat de l'Avisynth per Vlad59. "
+
+#: avidemux/ADM_filter/filter_declaration.cpp:135
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:173
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:395
+msgid "Denoise"
+msgstr "Denoise"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:135
+msgid "Port of Transcode DNR."
+msgstr "Port del Transcode DNR."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:136
+#: avidemux/ADM_videoFilter/ADM_vidStabilize.cpp:64
+msgid "Stabilize"
+msgstr "Stabilize"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:136
+msgid "Light denoiser."
+msgstr "Eliminador de soroll lleuger."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:138
+msgid "Cnr2"
+msgstr "Cnr2"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:138
+msgid "Chroma noise reduction filter by MarcFD/Tritical."
+msgstr "Filtre de reducci? del soroll de la cromin?ncia de MarcFD/Tritical."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:140
+msgid "MSmooth by Donald Graft"
+msgstr "MSmooth by Donald Graft"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:140
+msgid "Smooth the image, don't blur edges. Useful on anime."
+msgstr "Suavitza la imatge per? no desdibuixa els contorns. ?til per als dibuixos animats."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:141
+#: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:74
+msgid "Soften"
+msgstr "Soften"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:141
+msgid "A variant of stabilize."
+msgstr "Una variant de l'stabilize."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:146
+msgid "Sharpen"
+msgstr "Sharpen"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:146
+msgid "Enhance difference between near pixels."
+msgstr "Millora la difer?ncia entre p?xels propers."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:147
+#: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:172
+msgid "MSharpen"
+msgstr "MSharpen"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:147
+msgid "Sharpen edges without amplifying noise. By Donald Graft."
+msgstr "Aguditza els contorns sense amplificar el soroll. Per Donald Graft."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:148
+msgid "asharp"
+msgstr "asharp"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:148
+msgid "Adaptative sharpener by MarcFD."
+msgstr "Adaptative sharpener de MarcFD."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:150
+msgid "Gauss smooth"
+msgstr "Gauss smooth"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:150
+msgid "Gaussian smooth. Blur the picture."
+msgstr "Suavitzat gaussi?. Desdibuixa la imatge."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:151
+msgid "Mean"
+msgstr "Mean"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:151
+msgid "Mean (blur) kernel."
+msgstr "Mean kernel (desdibuixament)."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:152
+msgid "Median"
+msgstr "Median"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:152
+msgid "Median kernel 3x3. Remove high frequency noise."
+msgstr "Median kernel 3x3. Elimina el soroll de freq??ncies altes."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:153
+msgid "Median (5x5)"
+msgstr "Median (5x5)"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:153
+msgid "Median kernel 5x5. Good for reducing chroma noise."
+msgstr "Median kernel 5x5. Bo per reduir el soroll de la cromin?ncia."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:154
+msgid "Forced postprocessing"
+msgstr "Postprocessament for?at"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:154
+msgid "Apply blind postprocessing."
+msgstr "Aplica un postprocessament cec."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:159
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:122
+msgid "Subtitler"
+msgstr "Subtitler"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:159
+msgid "Add srt/sub subtitles to the picture."
+msgstr "Afegeix subt?tols en SRT/SUB a la imatge."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:160
+#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:95
+msgid "ASS"
+msgstr "ASS"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:160
+msgid "Add ASS/SSA subtitles to the picture."
+msgstr "Afegeix subt?tols en ASS/SSA a la imatge."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:163
+msgid "VobSub"
+msgstr "VobSub"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:163
+msgid "Embed VobSub subtitles into picture."
+msgstr "Incrusta subt?tols VobSub a la imatge."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:165
+msgid "DVB sub"
+msgstr "DVB sub"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:165
+msgid "Embed DVB-T subtitle."
+msgstr "Incrusta subt?tols DVB-T a la imatge."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:176
+msgid "Blend remover"
+msgstr "Blend remover"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:176
+msgid "Remove blend between previous and next picture."
+msgstr "Elimina el vincle entre la imatge anterior i la seg?ent."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:177
+msgid "Hard pulldown removal"
+msgstr "Hard pulldown removal"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:177
+msgid "Remove IVTC that has been analog captured or resized."
+msgstr "Elimina l'Inverse Telecine que ha estat capturat o redimensionat en anal?gic."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:178
+msgid "Whirl"
+msgstr "Whirl"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:178
+msgid "Useless whirlwind effect."
+msgstr "Efecte de remol? in?til."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:179
+#: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:98
+msgid "Mosaic"
+msgstr "Mosaic"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:179
+msgid "Split the picture into tiny thumbnails."
+msgstr "Separa la imatge en vinyetes menudes."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:180
+msgid "MPlayer delogo"
+msgstr "MPlayer delogo"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:180
+msgid "Blend a logo by interpolating its surrounding box."
+msgstr "Torna transparent un logo interpolant una caixa circumdant."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:181
+#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:94
+msgid "Logo"
+msgstr "Logo"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:181
+msgid "Add a png as logo."
+msgstr "Afegeix un PNG com a logo."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:182
+msgid "Animated Menu"
+msgstr "Animated Menu"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:183
+msgid "Create a video made of 6 mini windows, very useful to do DVD menus."
+msgstr "Crea un v?deo format per 6 finestretes, molt ?til per a men?s de DVD."
+
+#: avidemux/ADM_filter/filter_declaration.cpp:185
+msgid "Compute Average"
+msgstr "Compute Average"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:185
+msgid ""
+"Compute average luma value for each pixel throughout all frames, and save to "
+"file"
+msgstr ""
+"Calcula el valor mitj? de la lumin?ncia per a cada pixel a trav?s de totes les "
+"imatges, i el desa en un fitxer"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:186
+msgid "Eraser"
+msgstr "Eraser"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:186
+msgid "\"Erase\" arbitrary areas of each frame"
+msgstr "Esborra arbitr?riament ?rees de cada fotograma"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:187
+msgid "Swiss Army Knife"
+msgstr "Swiss Army Knife"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:187
+msgid ""
+"Apply operation like P'=P*A, P-A, P+A, etc. using a convolution, rolling "
+"average, image from file, or constant"
+msgstr ""
+"Aplica una operaci? de la forma P'=P*A, P-A, P+A, etc., usant una circumvoluci?, una "
+"mitjana m?bil, una imatge des d'un fitxer, o una constant"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:188
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:407
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:982
+msgid "Threshold"
+msgstr "Threshold"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:188
+msgid "Force too-bright/too-dim pixels to 0 and the rest to 255 or vice-versa"
+msgstr "For?a els p?xels massa clars/foscos a 0 i la resta a 255 o viceversa"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:189
+msgid "Particle List"
+msgstr "Particle List"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:189
+msgid "Identify 'particles' (groups of pixels)"
+msgstr "Identifica 'part?cules' (grups de p?xels)"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:190
+msgid "Add Framenumber"
+msgstr "Add Framenumber"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:190
+msgid "Print frame number directly in image"
+msgstr "Imprimeix el n?mero de fotograma directament a la imatge"
+
+#: avidemux/ADM_filter/filter_declaration.cpp:195
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:128
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:144
+msgid "Partial"
+msgstr "Partial"
+
 #: avidemux/ADM_filter/filter_saveload.cpp:155
 msgid "Problem reading XML filters"
-msgstr "Hi ha hagut un problema en llegir filtres d'XML."
+msgstr "Hi ha hagut un problema en llegir filtres d'XML"
 
 #: avidemux/ADM_filter/filter_saveload.cpp:163
 msgid "No filter found"
@@ -382,7 +1231,7 @@
 
 #: avidemux/ADM_filter/filter_saveload.cpp:207
 msgid "No tag found"
-msgstr "No s'ha trobat l'etiqueta (tag)."
+msgstr "No s'ha trobat l'etiqueta (tag)"
 
 #: avidemux/ADM_filter/filter_saveload.cpp:287
 msgid "Node not found"
@@ -390,23 +1239,23 @@
 
 #: avidemux/ADM_inputs/ADM_h263/ADM_h263.cpp:258
 msgid "Size is not (s)QCIF"
-msgstr "La mida no ?s (s)QCIF."
+msgstr "La mida no ?s (s)QCIF"
 
-#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp:583
+#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp:631
 msgid "Problem reading SVQ3 headers"
-msgstr "Hi ha hagut un problema en la lectura d'encap?alaments d'SVQ3."
+msgstr "Hi ha hagut un problema en la lectura d'encap?alaments d'SVQ3"
 
-#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp:346
+#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp:345
 msgid "No stts table"
-msgstr "No hi ha taula stts."
+msgstr "No hi ha taula stts"
 
 #: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:149
 msgid "There is several mpeg file, append them ?"
 msgstr "Hi ha diversos fitxers de MPEG. Els voleu afegir?"
 
-#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:250
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:244
 msgid "Can't determine aspect ratio"
-msgstr "No es pot determinar la relaci? d'aspecte."
+msgstr "No es pot determinar la relaci? d'aspecte"
 
 #: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_video.cpp:355
 msgid "Out of memory"
@@ -414,7 +1263,7 @@
 
 #: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_video.cpp:370
 msgid "Opening MPEG"
-msgstr "S'est? obrint el fitxer d'MPEG."
+msgstr "S'est? obrint el fitxer d'MPEG"
 
 #: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_video.cpp:539
 msgid "MPEG renumbering error"
@@ -423,7 +1272,7 @@
 #: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:542
 #: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:571
 msgid "Opening Nuppel video"
-msgstr "S'est? obrint el fitxer de v?deo Nuppel."
+msgstr "S'est? obrint el fitxer de v?deo Nuppel"
 
 #: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:547
 msgid "Sure you want to abort ?"
@@ -431,7 +1280,7 @@
 
 #: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:758
 msgid "Size mismatch"
-msgstr "La mida no correspon."
+msgstr "La mida no correspon"
 
 #: avidemux/ADM_inputs/ADM_nuv/ADM_nuv.cpp:758
 msgid "Expect a crash."
@@ -463,7 +1312,7 @@
 msgid "Indexing"
 msgstr "S'est? indexant."
 
-#: avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp:373
+#: avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp:376
 msgid "Incompatible frame rate"
 msgstr "La velocitat d'imatge ?s incompatible."
 
@@ -481,16 +1330,16 @@
 msgid "lvemux init failed"
 msgstr "Ha fallat la inicialitzaci? del lvemux."
 
-#: avidemux/ADM_libraries/ADM_utilities/ADM_gettext.cpp:37
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:290
+#: avidemux/ADM_libraries/ADM_utilities/ADM_gettext.cpp:52
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:291
 msgid "_File"
 msgstr "_Fitxer"
 
-#: avidemux/ADM_libraries/ADM_utilities/ADM_imageLoader.cpp:191
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageLoader.cpp:193
 msgid "Wrong Colorspace"
 msgstr "El colorspace ?s incompatible"
 
-#: avidemux/ADM_libraries/ADM_utilities/ADM_imageLoader.cpp:191
+#: avidemux/ADM_libraries/ADM_utilities/ADM_imageLoader.cpp:193
 msgid "Only YV12/I420 or YUY2/I422 JPegs are supported"
 msgstr "Nom?s es permeten els JPEG YV12/I420 o b? YUY2/I422"
 
@@ -503,7 +1352,7 @@
 msgstr "S'ha produ?t un error en la conversi? a BMP."
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:417
-#: avidemux/gtk_gui.cpp:1920
+#: avidemux/gtk_gui.cpp:1930
 msgid "Something bad happened"
 msgstr "Alguna cosa no ha funcionat"
 
@@ -513,56 +1362,55 @@
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
 #: avidemux/ADM_ocr/adm_glyph.cpp:221
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:590
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:366
 #: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:115
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:120
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:127
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:136
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:233
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:239
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:246
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:255
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:328
-#: avidemux/gtk_gui.cpp:896
-#: avidemux/gtk_gui.cpp:1498
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:107
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:112
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:119
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:128
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:225
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:231
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:238
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:247
+#: avidemux/gtk_gui.cpp:921 avidemux/gtk_gui.cpp:1508
 msgid "File error"
 msgstr "S'ha produ?t un error de fitxer"
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:366
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
-#: avidemux/gtk_gui.cpp:1498
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112 avidemux/gtk_gui.cpp:1508
 #, c-format
 msgid "Cannot open \"%s\" for writing."
 msgstr "No es pot obrir  \"%s\" per a lectura."
 
-#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:324
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:327
 msgid "NTSC 4:3"
 msgstr "NTSC 4:3"
 
-#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:325
-#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:326
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:328
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:329
 msgid "NTSC 16:9"
 msgstr "NTSC 16:9"
 
-#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:327
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:330
 msgid "PAL 4:3"
 msgstr "PAL 4:3"
 
-#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:328
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:331
 msgid "PAL 16:9"
 msgstr "PAL 16:9"
 
-#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:329
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:376
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:398
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:332
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:43
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:383
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:405
 msgid "1:1"
 msgstr "1:1"
 
-#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:331
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:598
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:795
+#: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:334
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:599
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:796
 msgid "Unknown"
 msgstr "Desconegut"
 
@@ -575,19 +1423,36 @@
 msgid "Could not read \"%s\"."
 msgstr "No es pot llegir \"%s\" ."
 
-#: avidemux/ADM_ocr/ADM_ocrEngine.cpp:87
+#: avidemux/ADM_ocr/ADM_ocrEngine.cpp:78
 msgid "Output file error"
 msgstr "S'ha produ?t un error en el fitxer de sortida"
 
-#: avidemux/ADM_ocr/ADM_ocrEngine.cpp:87
+#: avidemux/ADM_ocr/ADM_ocrEngine.cpp:78
 #, c-format
 msgid "Could not open \"%s\" for writing."
-msgstr "No es pot obrir el fitxer \"%s\" per a escriptura"
+msgstr "No es pot obrir el fitxer \"%s\" per a escriptura."
 
-#: avidemux/ADM_ocr/ADM_ocrEngine.cpp:105
+#: avidemux/ADM_ocr/ADM_ocrEngine.cpp:86
+#: avidemux/ADM_ocr/ADM_ocrEngine.cpp:92
+msgid "Input file error"
+msgstr "S'ha produ?t un error en el fitxer d'entrada"
+
+#: avidemux/ADM_ocr/ADM_ocrEngine.cpp:86
+msgid "Unknown source type"
+msgstr "La font ?s d'un tipus desconegut"
+
+#: avidemux/ADM_ocr/ADM_ocrEngine.cpp:92
+msgid "Bitmap source failed"
+msgstr "Ha fallat la font de BMP"
+
+#: avidemux/ADM_ocr/ADM_ocrEngine.cpp:100
 msgid "Problem loading sub"
 msgstr "S'ha produ?t un problema en carregar el fitxer de SUB"
 
+#: avidemux/ADM_ocr/ADM_ocrEngine.cpp:100
+msgid "No subs"
+msgstr "No hi ha subt?tols"
+
 #: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:254
 msgid "Ifo error"
 msgstr "S'ha produ?t un error de fitxer IFO"
@@ -622,11 +1487,13 @@
 msgid ""
 "A fatal error has occurred.\n"
 "\n"
-"Click OK to generate debug information. This may take a few minutes to complete."
+"Click OK to generate debug information. This may take a few minutes to "
+"complete."
 msgstr ""
 "S'ha produ?t un error fatal.\n"
 "\n"
-"Cliqueu \"Accepta\" per generar la informaci? de debug. Aix? trigar? uns minuts en portar-se a terme."
+"Cliqueu \"Accepta\" per generar la informaci? de debug. Aix? trigar? uns "
+"minuts en portar-se a terme."
 
 #: avidemux/ADM_osSupport/ADM_crashdump.cpp:437
 msgid "Load it"
@@ -646,37 +1513,66 @@
 "El voleu carregar?\n"
 "(Sigui com sigui s'esborrar?, i si el voleu conservar l'haureu de desar)."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:102
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:126
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:146
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:153
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:164
-#: avidemux/GUI_jobs.cpp:37
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:211
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:235
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:264
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:277
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:290 avidemux/GUI_jobs.cpp:37
 msgid "Oops"
-msgstr "Oops"
+msgstr "Caram!"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:102
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:211
 #, c-format
 msgid "can't create custom directory (%s)."
-msgstr "No es pot crear el directori personal (%s)."
+msgstr "no es pot crear el directori personal (%s)."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:126
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:235
 #, c-format
 msgid "can't create job directory (%s)."
-msgstr "No es pot crear el directori de treball (%s)."
+msgstr "no es pot crear el directori de treball (%s)."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:146
-msgid "can't determine $USERPROFILE."
-msgstr "No es pot determinar $USERPROFILE."
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:264
+msgid "Can't determine the Application Data folder."
+msgstr "No es pot determinar la relaci? d'aspecte."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:153
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:277
 msgid "can't determine $HOME."
-msgstr "No es pot determinar $HOME."
+msgstr "no es pot determinar $HOME."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:164
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:290
 msgid "Cannot create the .avidemux directory"
 msgstr "No es pot crear el directori .avidemux."
 
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:590 avidemux/gtk_gui.cpp:918
+#, c-format
+msgid "Cannot open \"%s\"."
+msgstr "No es pot obrir \"%s\"."
+
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:603
+#, c-format
+msgid ""
+"%s already exists.\n"
+"\n"
+"Do you want to replace it?"
+msgstr ""
+"%s ja existeix.\n"
+"\n"
+"El voleu substituir?"
+
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:630
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:644
+msgid "It is possible that you are trying to overwrite an input file!"
+msgstr "Podria ser que intent?ssiu sobreescriure un fitxer d'entrada!"
+
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:655
+msgid "Cannot write the file"
+msgstr "No es pot escriure el fitxer"
+
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:655
+#, c-format
+msgid "No write access to \"%s\"."
+msgstr "No teniu acc?s d'escriptura a \"%s\"."
+
 #: avidemux/ADM_osSupport/ADM_misc.cpp:215
 #, c-format
 msgid "%lu minutes"
@@ -698,18 +1594,18 @@
 msgstr "%lu segons"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:74
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:243
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:845
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:244
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:846
 msgid "Normal"
 msgstr "Normal"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:75
 msgid "Mux every N video frames"
-msgstr "Mult. cada N fotogrames"
+msgstr "Multiplexa cada n fotogrames"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:76
 msgid "Mux by packet size"
-msgstr "Mult. per mida paquet"
+msgstr "Multiplexa per mida de paquet"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:79
 msgid "Muxing _type:"
@@ -717,7 +1613,7 @@
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:80
 msgid "_Split every MB:"
-msgstr "_Divideix cada n MBytes: "
+msgstr "_Divideix cada n MB: "
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:82
 msgid "Mux _every x video frames:"
@@ -733,12 +1629,38 @@
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:188
 msgid "Error initalizing audio filters"
-msgstr "S'ha produ?t un error en inicialitzar els filtres d'?udio."
+msgstr "S'ha produ?t un error en inicialitzar els filtres d'?udio"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:197
 msgid "Error initalizing video filters"
-msgstr "S'ha produ?t un error en inicialitzar els filtres de v?deo."
+msgstr "S'ha produ?t un error en inicialitzar els filtres de v?deo"
 
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:256
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:141
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:189
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:263
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:164
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:284
+#: avidemux/ADM_outputs/oplug_ogm/op_ogaudio.cpp:70
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:80
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:89
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:51
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:333
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:377
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:385
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:393
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:554
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:569
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:584
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:225
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1191
+#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:105
+#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:101
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:262 avidemux/gtk_gui.cpp:2008
+#: avidemux/gtk_gui.cpp:2107
+msgid "None"
+msgstr "Cap"
+
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:446
 #: avidemux/ADM_outputs/oplug_avi/op_avisavecopy.cpp:96
 #: avidemux/ADM_outputs/oplug_avi/op_avisavecopy_pack.cpp:121
@@ -746,6 +1668,78 @@
 msgid "Cannot initiate save"
 msgstr "No es pot iniciar el desament"
 
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:485
+msgid "DTS"
+msgstr "DTS"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:486
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:289
+msgid "PCM"
+msgstr "PCM"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:487
+msgid "MP2"
+msgstr "MP2"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:488
+msgid "MP3"
+msgstr "MP3"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:489
+msgid "WMA"
+msgstr "WMA"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:490
+msgid "LPCM"
+msgstr "LPCM"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:491
+msgid "AC3"
+msgstr "AC3"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:492
+msgid "Ogg Vorbis"
+msgstr "Ogg Vorbis"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:494
+msgid "AAC"
+msgstr "AAC"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:495
+msgid "QDM2"
+msgstr "QDM2"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:496
+msgid "AMR-NB"
+msgstr "AMR-NB"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:497
+msgid "MSADPCM"
+msgstr "MSADPCM"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:498
+msgid "ULAW"
+msgstr "ULAW"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:499
+msgid "IMA ADPCM"
+msgstr "IMA ADPCM"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:500
+msgid "8-bit PCM"
+msgstr "8-bit PCM"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:502
+msgid "Unknown codec"
+msgstr "C?dec desconegut"
+
+#: avidemux/ADM_outputs/oplug_avi/op_avisavecopy.cpp:109
+#: avidemux/ADM_outputs/oplug_avi/op_avisavecopy_pack.cpp:134
+#: avidemux/ADM_outputs/oplug_avi/op_avisavecopy_unpack.cpp:111
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:223
+msgid "Saving"
+msgstr "S'est? desant"
+
 #: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:73
 msgid ""
 "Width is not a multiple of 8\n"
@@ -756,14 +1750,14 @@
 
 #: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:93
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:149
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:203
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:174
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:197
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:176
 #: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:76
 msgid "Filter init failed"
-msgstr "Ha fallat la inicialitzaci? del filtre."
+msgstr "Ha fallat la inicialitzaci? del filtre"
 
 #: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:127
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:399
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:417
 #: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:100
 msgid ""
 "\n"
@@ -772,37 +1766,64 @@
 "\n"
 "Voleu reutilitzar el fitxer de bit?cola existent?"
 
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:136
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:426
+msgid "1st Pass"
+msgstr "Primera passada"
+
 #: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:152
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:435
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:453
 msgid "Aborting"
 msgstr "S'est? cancel?lant"
 
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:246
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:153
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:201
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:188
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:373
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:143
+msgid "Encoding"
+msgstr "S'est? codificant"
+
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:250
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:483
+msgid "2nd Pass"
+msgstr "Segona passada"
+
+#: avidemux/ADM_outputs/oplug_avi/op_savesmart.cpp:107
+msgid "Smart Copy"
+msgstr "C?pia intel?ligent"
+
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:135
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:189
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:183
 #: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:156
 msgid "Cannot initialize the video stream"
-msgstr "No es pot inicialitzar el flux de v?deo."
+msgstr "No es pot inicialitzar el flux de v?deo"
 
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:140
+msgid "Dummy"
+msgstr "Dummy"
+
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:179
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:215
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:233
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:332
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:212
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:335
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:419
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:227
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:326
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:214
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:353
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:437
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:352
 msgid "Error while encoding"
-msgstr "S'ha produ?t un error en codificar."
+msgstr "S'ha produ?t un error en codificar"
 
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:190
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:244
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:224
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:238
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:226
 msgid "KeyFrame error"
 msgstr "S'ha produ?t un error en el fotograma clau"
 
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:190
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:244
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:224
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:238
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:226
 msgid ""
 "The beginning frame is not a key frame.\n"
 "Please move the A marker."
@@ -810,35 +1831,49 @@
 "El fotograma d'inici no ?s un fotograma clau.\n"
 "Canvieu el marcador A."
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:151
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:145
 msgid "Unsupported video"
 msgstr "Aquest v?deo no es permet"
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:151
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:145
 msgid "Only FLV1 and VP6 video are supported"
 msgstr "Nom?s es permeten els v?deos FLV1 i VP6"
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:173
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:178
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:167
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:172
 msgid "Unsupported audio"
 msgstr "Aquest ?udio no es permet"
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:173
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:167
 msgid "Audio must be mp3 for flv output."
 msgstr "L'?udio ha de ser mp3 per a la sortida flv."
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:178
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:172
 msgid "Frequency must be 44100, 22050 or 11025 Hz."
 msgstr "La freq??ncia ha de ser 44100, 22050 o b? 11025 Hz."
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:254
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:251
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:248
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:253
 msgid "Cannot initialize the audio stream"
 msgstr "No es pot inicialitzar el flux d'?udio"
 
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:271
+msgid "Invalid audio stream detected"
+msgstr "S'ha detectat un flux d'?udio no v?lid"
+
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:271
+msgid ""
+"The audio stream may be invalid for this container.\n"
+"\n"
+"Continue anyway?"
+msgstr ""
+"El flux d'?udio podria no ser v?lid per a aquest contenidor.\n"
+"\n"
+"Voleu continuar de totes formes?"
+
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:89
 msgid "This is not MPEG compatible"
-msgstr "No ?s compatible amb MPEG."
+msgstr "No ?s compatible amb MPEG"
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:89
 msgid "You can't use the Copy codec."
@@ -848,20 +1883,22 @@
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:142
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:153
 msgid "There is no audio track"
-msgstr "No hi ha pista d'?udio."
+msgstr "No hi ha pista d'?udio"
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:101
 msgid "The first frame is not intra frame"
-msgstr "El primer fotograma no ?s un fotograma-I."
+msgstr "El primer fotograma no ?s un fotograma-I"
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:101
 msgid "Use the &lt;&lt; and the &gt;&gt; buttons to move using Intra frames."
-msgstr "Useu els botons de &lt;&lt; i els de &gt;&gt; per moure-us a trav?s de fotogrames-I."
+msgstr ""
+"Useu els botons de &lt;&lt; i els de &gt;&gt; per moure-us a trav?s de "
+"fotogrames-I."
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:113
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:163
 msgid "Audio track is not suitable"
-msgstr "La pista d'?udio no ?st? disponible."
+msgstr "La pista d'?udio no ?st? disponible"
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:153
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:173
@@ -870,32 +1907,110 @@
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:182
 msgid "For DVD, audio must be 48 kHz MP2(stereo), AC3, DTS or LPCM (stereo)."
-msgstr "Per a DVD l'?udio ha de ser 48 kHz MP2 (est?reo), AC3, DTS o b? LPCM (est?reo)."
+msgstr ""
+"Per a DVD l'?udio ha de ser 48 kHz MP2 (est?reo), AC3, DTS o b? LPCM "
+"(est?reo)."
 
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:222
+msgid "---"
+msgstr "---"
+
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:230
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:287
+msgid "MPEG TS"
+msgstr "MPEG TS"
+
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:231
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:288
+msgid "MPEG VCD"
+msgstr "MPEG VCD"
+
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:232
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:289
+msgid "MPEG SVCD"
+msgstr "MPEG SVCD"
+
+#: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:233
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:290
+msgid "MPEG DVD"
+msgstr "MPEG DVD"
+
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:193
 msgid "For DVD, audio must be 48 kHz MP2, AC3 or LPCM."
 msgstr "Per a DVD l'?udio ha de ser 48 kHz MP2, AC3 o b? LPCM."
 
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:260
+msgid "libmpeg2enc VCD"
+msgstr "libmpeg2enc VCD"
+
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:263
+msgid "libmpeg2enc SVCD"
+msgstr "libmpeg2enc SVCD"
+
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:266
+msgid "libmpeg2enc DVD"
+msgstr "libmpeg2enc DVD"
+
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:269
+msgid "FFmpeg MPEG-1 VBR"
+msgstr "FFmpeg MPEG-1 VBR"
+
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:272
+msgid "FFmpeg MPEG-2 SVCD VBR"
+msgstr "FFmpeg MPEG-2 SVCD VBR"
+
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:275
+msgid "FFmpeg MPEG-2 DVD VBR"
+msgstr "FFmpeg MPEG-2 DVD VBR"
+
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:278
+msgid "MPEG Requantizer"
+msgstr "Requantificador MPEG"
+
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:286
+msgid "MPEG ES"
+msgstr "MPEG ES"
+
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:305
 msgid "Reuse log file ?"
-msgstr "Voleu reutilitzar el fitxer de bit?cola?"
+msgstr "Voleu reutilitzar el fitxer de registre?"
 
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:311
+msgid "Pass 1/2"
+msgstr "Passada 1/2"
+
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:320
 msgid "Error in pass 1"
 msgstr "S'ha produ?t un error en la passada 1."
 
+#: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:371
+msgid "Pass 2/2"
+msgstr "Passada 2/2"
+
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:463
 msgid "Error in pass 2"
 msgstr "S'ha produ?t un error en la passada 2."
 
 #: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:126
 msgid "Could not initialize video"
-msgstr "No es pot inicialitzar el v?deo."
+msgstr "No es pot inicialitzar el v?deo"
 
 #: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:134
 msgid "Could not initialize audio"
-msgstr "No es pot inicialitzar l'?udio."
+msgstr "No es pot inicialitzar l'?udio"
 
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsavecopy.cpp:70
+msgid "Saving..."
+msgstr "S'esta desant..."
+
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:111
+msgid "Pass one"
+msgstr "Passada 1"
+
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:139
+msgid "Pass 2"
+msgstr "Passada 2"
+
 #: avidemux/ADM_script/ADM_JSFunctions.cpp:238
 msgid "Select a directory"
 msgstr "Seleccioneu un directori"
@@ -904,6 +2019,10 @@
 msgid "Uinteger"
 msgstr "Uinteger"
 
+#: avidemux/ADM_script/ADM_JSFunctions.cpp:507
+msgid "Test uinteger"
+msgstr "Test uinteger"
+
 #: avidemux/ADM_script/ADM_JSFunctions.cpp:519
 msgid "Float"
 msgstr "Float"
@@ -937,6 +2056,10 @@
 msgid "_Background Image:"
 msgstr "_Imatge de fons: "
 
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_animated.cpp:36
+msgid "Select background image"
+msgstr "Seleccioneu una imatge de fons"
+
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_animated.cpp:37
 msgid "_NTSC(default is Pal):"
 msgstr "_NTSC (PAL ?s el predet.): "
@@ -957,13 +2080,22 @@
 msgid "Timecode:"
 msgstr "Temps reprod.: "
 
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_animated.cpp:53
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:70
+msgid "MPEG-2 Configuration"
+msgstr "Configuraci? de l'MPEG-2"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioconfig.cpp:56
+msgid "Audio Configuration"
+msgstr "Configuraci? de l'?udio"
+
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:62
 msgid "_Dynamic range compression"
-msgstr "Compressi? _din?mica de rang"
+msgstr "Corba de compressi? _din?mica"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:64
 msgid "_Time shift (ms):"
-msgstr "Despl. _temps (ms): "
+msgstr "Despl. _temps (ms):"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:64
 msgid "Time shift value (ms)"
@@ -971,31 +2103,12 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:72
 msgid "R_esampling (Hz):"
-msgstr "R_emostreig (Hz): "
+msgstr "R_emostreig (Hz):"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:72
 msgid "Resampling frequency (Hz)"
 msgstr "Freq??ncia remostreig (Hz)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:80
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:89
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:51
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:373
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:381
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:389
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:553
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:568
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:583
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:219
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1124
-#: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:105
-#: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:101
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:264
-#: avidemux/gtk_gui.cpp:1998
-#: avidemux/gtk_gui.cpp:2097
-msgid "None"
-msgstr "Cap"
-
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:81
 msgid "Film to PAL"
 msgstr "Film a PAL"
@@ -1025,7 +2138,7 @@
 msgstr "Valor gu_any: "
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:97
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:200
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:204
 msgid "Gain"
 msgstr "Guany"
 
@@ -1035,19 +2148,19 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:105
 msgid "Stereo+surround"
-msgstr "Est?reo+Surround"
+msgstr "Stereo+surround"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:106
 msgid "Stereo+center"
-msgstr "Est?reo+center"
+msgstr "Stereo+center"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:107
 msgid "Stereo+center+surround"
-msgstr "Est?reo+center+surround"
+msgstr "Stereo+center+surround"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:108
 msgid "Stereo front+stereo rear"
-msgstr "Est?reo front+est?reo rear"
+msgstr "Stereo front+stereo rear"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:109
 msgid "5 channels"
@@ -1078,6 +2191,30 @@
 msgid "No data"
 msgstr "No hi ha dades"
 
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:214
+msgid "Max. bitrate:"
+msgstr "Taxa de bits m?_x.:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:215
+msgid "Average bitrate:"
+msgstr "Taxa de bits mitjana:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:216
+msgid "Number of I frames:"
+msgstr "Nombre de fotogrames-I:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:217
+msgid "Number of P frames:"
+msgstr "Nombre de fotogrames-P:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:218
+msgid "Number of B frames:"
+msgstr "Nombre de fotogrames-B:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:219
+msgid "Max. B frames:"
+msgstr "M?x. fotogrames-B:"
+
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:232
 msgid "Bitrate Histogram"
 msgstr "Histograma taxa de bits"
@@ -1086,14 +2223,6 @@
 msgid "Video Codecs"
 msgstr "C?decs de v?deo"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:129
-msgid "Xvid"
-msgstr "Xvid"
-
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:130
-msgid "x264"
-msgstr "x264"
-
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:135
 msgid "Audio Codecs"
 msgstr "C?decs d'?udio"
@@ -1135,10 +2264,12 @@
 msgstr "Vorbis"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:156
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:309
 msgid "aRts"
 msgstr "aRts"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:157
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:315
 msgid "ESD"
 msgstr "ESD"
 
@@ -1151,18 +2282,21 @@
 msgstr "FreeType 2"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:160
-msgid "gettext"
-msgstr "gettext"
+msgid "Gettext"
+msgstr "Gettext"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:161
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:306
 msgid "ALSA"
 msgstr "ALSA"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:162
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:321
 msgid "OSS"
 msgstr "OSS"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:163
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:328
 msgid "SDL"
 msgstr "SDL"
 
@@ -1195,7 +2329,7 @@
 msgstr "Biblioteques"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:178
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:406
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:410
 msgid "CPU"
 msgstr "CPU"
 
@@ -1203,99 +2337,121 @@
 msgid "Built-in Support"
 msgstr "Suport incorporat"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:52
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:48
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:44
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:42
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:380
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:402
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:387
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:409
 msgid "4:3"
 msgstr "4:3"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:53
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:49
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:45
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:43
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:384
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:406
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:391
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:413
 msgid "16:9"
 msgstr "16:9"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:55
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:51
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:45
 msgid "Default"
 msgstr "Predetermin."
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:56
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:52
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:46
 msgid "TMPGEnc"
 msgstr "TMPGEnc"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:57
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:53
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:47
 msgid "Anime"
 msgstr "Anim?"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:58
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:54
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:48
 msgid "KVCD"
 msgstr "KVCD"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:61
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:57
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:51
 msgid "Progressive"
 msgstr "Progressiu"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:62
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:58
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:52
 msgid "Interlaced TFF"
 msgstr "Entrella?at TFF"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:63
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:59
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:53
 msgid "Interlaced BFF"
 msgstr "Entrella?at BFF"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:74
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:63
+msgid "VCD 40 kB"
+msgstr "VCD 40 kB"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:64
+msgid "SVCD 112 kB"
+msgstr "SVCD 112 kB"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:65
+msgid "DVD 224 kB"
+msgstr "DVD 224 kB"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:70
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:60
 msgid "Ma_x. bitrate:"
-msgstr "Taxa bits m?_x.: "
+msgstr "Taxa de bits m?_x.: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:75
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:71
 msgid "Mi_n. bitrate:"
-msgstr "Taxa bits m?_n.: "
+msgstr "Taxa de bits m?_n.: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:76
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:72
 msgid "_Use Xvid rate control"
 msgstr "_Usa el control de taxa de l'Xvid"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:78
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:74
 msgid "_Buffer size:"
 msgstr "Mida _buffer: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:80
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:76
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:57
 msgid "Aspect _ratio:"
 msgstr "_Rel. aspecte:  "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:81
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:77
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:58
 msgid "_Matrices:"
 msgstr "_Matrius: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:82
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:78
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flv1.cpp:45
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:59
 msgid "_GOP size:"
 msgstr "Mida _GOP: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:88
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:84
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:66
 msgid "_Interlacing:"
 msgstr "_Entrella?at: "
 
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:88
+msgid "libavcodec MPEG-2 Configuration"
+msgstr "Configuraci? del libavcodec d'MPEG-2"
+
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flv1.cpp:44
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:109
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:268
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:116
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:275
 msgid "_Bitrate (kb/s):"
 msgstr "_Taxa de bits (kb/s):"
 
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flv1.cpp:49
+msgid "FLV1 Configuration"
+msgstr "Configuraci? FLV1"
+
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:27
 msgid "_Hours:"
 msgstr "_Hores: "
@@ -1308,6 +2464,26 @@
 msgid "_Seconds:"
 msgstr "_Segons: "
 
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:32
+msgid "Go to Time"
+msgstr "Salta al temps"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_jobs_save.cpp:6
+msgid "_Job name:"
+msgstr "Nom de la _tasca: "
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_jobs_save.cpp:7
+msgid "Output _File:"
+msgstr "_Fitxer de sortida:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_jobs_save.cpp:7
+msgid "Select Video To Write"
+msgstr "Seleccioneu el fitxer de v?deo per escriure"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_jobs_save.cpp:10
+msgid "Save Job"
+msgstr "Desa la tasca"
+
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:52
 msgid "Full"
 msgstr "Full"
@@ -1332,11 +2508,6 @@
 msgid "H.263"
 msgstr "H.263"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:61
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:519
-msgid "MPEG"
-msgstr "MPEG"
-
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:65
 msgid "MB comparison"
 msgstr "Comparaci? de MB"
@@ -1367,10 +2538,10 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:78
 msgid "4_MV"
-msgstr "x _MV"
+msgstr "4_MV"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:79
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1235
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1242
 msgid "_Trellis quantization"
 msgstr "Quantificaci? de _Trellis"
 
@@ -1379,7 +2550,7 @@
 msgstr "_Quart de p?xel"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:82
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1018
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1025
 msgid "_GMC"
 msgstr "_GMC (compensaci? global de moviment)"
 
@@ -1408,12 +2579,12 @@
 msgstr "Quantific. _desenfocam.: "
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:98
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:374
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:378
 msgid "User Interface"
 msgstr "Interf?cie d'usuari"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:101
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1028
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1035
 msgid "Advanced Simple Profile"
 msgstr "Perfil simple avan?at"
 
@@ -1422,13 +2593,13 @@
 msgstr "Estimac. moviment"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:112
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:309
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1240
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:313
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1247
 msgid "Quantization"
 msgstr "Quantificaci?"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:117
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1403
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1486
 msgid "Rate Control"
 msgstr "Control taxa"
 
@@ -1436,93 +2607,123 @@
 msgid "libavcodec MPEG-4 configuration"
 msgstr "Configuraci? del libavcodec d'MPEG-4"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp:45
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp:26
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:41
 msgid "_Swap U and V"
 msgstr "_Interc. U & V"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp:46
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp:27
 msgid "Show motion _vectors"
 msgstr "Mostra _vectors moviment"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp:48
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp:29
 msgid "Decoder Options"
 msgstr "Opcions descodificador"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_mjpeg.cpp:41
-msgid "_Swap U&V:"
-msgstr "_Intercanvia U&V: "
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_mjpeg.cpp:37
+msgid "_Swap U&V"
+msgstr "_Intercanvia U&V:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:92
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_mjpeg.cpp:39
+msgid "MJPEG Configuration"
+msgstr "Configuraci? MJPEG "
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:85
 msgid "Select idx file:"
 msgstr "Seleccioneu el fitxer d'IDX: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:93
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:210
-msgid "Use glyphset (optional):"
-msgstr "Usa glifset (opcional): "
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:86
+msgid "Use GlyphSet (optional):"
+msgstr "Usa glifset (opcional):"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:94
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:211
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:86
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:202
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:373
+msgid "Select GlyphSet file"
+msgstr "Seleccioneu un fitxer de glifset"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:87
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:203
 msgid "Output SRT file"
 msgstr "Fitxer de sortida d'SRT"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:105
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:222
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:87
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:203
+msgid "Save SRT file"
+msgstr "Desa el fitxer SRT"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:97
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:214
 msgid "Select input and ouput files"
-msgstr "Seleccioneu un fitxer d'entrada i un de sortida."
+msgstr "Seleccioneu un fitxer d'entrada i un de sortida"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:115
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:127
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:246
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:107
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:119
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:238
 msgid "The idx/sub file does not exist."
 msgstr "El fitxer seleccionat d'IDX o de SUB no existeix."
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:120
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:239
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:112
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:231
 msgid "Please Select a valid output SRT file."
 msgstr "Seleccioneu un nom v?lid de fitxer d'SRT de sortida."
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:136
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:255
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:128
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:247
 msgid "Cannot load the glyphset file."
 msgstr "No es pot carregar el fitxer de glifset."
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:156
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:276
-msgid "Glyphset filename"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:147
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:268
+msgid "GlyphSet filename"
 msgstr "Nom de fitxer de glifset"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:158
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:278
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:147
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:268
+msgid "Save GlyphSet file"
+msgstr "Desa el fitxer de glifset"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:149
 msgid "Save Glyph"
-msgstr "Desa glif"
+msgstr "Desa el glif"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:208
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:200
 msgid "Input TS:"
 msgstr "TS d'entrada:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:209
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:200
+msgid "Select TS file"
+msgstr "Seleccioneu el fitxer de TS"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:201
 msgid "Subtitle PID:"
-msgstr "PID Subtitle: "
+msgstr "PID pista subt?tols:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:233
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:202
+msgid "Use glyphset (optional):"
+msgstr "Usa glifset (opcional):"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:225
 msgid "Please Select a valid TS file."
 msgstr "Seleccioneu un fitxer de TS v?lid."
 
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:270
+msgid "Save GlyphSet"
+msgstr "Desa el glifset"
+
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:40
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:60
 msgid "_Filter strength:"
-msgstr "_For?a filtre:"
+msgstr "_For?a del filtre:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:51
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:346
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:350
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:72
 msgid "_Horizontal deblocking"
 msgstr "Desbloqueig _horitzontal"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:52
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:347
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:351
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:73
 msgid "_Vertical deblocking"
 msgstr "Desbloqueig _vertical"
@@ -1532,287 +2733,304 @@
 msgid "_Deringing"
 msgstr "Eliminac. _oscil?lac. par?sit."
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:188
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:189
 msgid "_Use systray while encoding"
 msgstr "_Usa la safata de sistema en codificar"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:189
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:190
 msgid "_Accept non-standard audio frequency for DVD"
 msgstr "_Permet freq. d'?udio no est?ndard per a DVD"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:190
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:191
 msgid "_Use libavcodec MPEG-2 decoder"
 msgstr "_Usa el descodificador d'MPEG-2 libavcodec"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:191
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:192
 msgid "Create _OpenDML files"
 msgstr "Crea fitxers d'_OpenDML"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:192
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:193
 msgid "Automatically _index MPEG files"
 msgstr "_Indexa autom?ticament els fitxers d'MPEG"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:193
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:194
 msgid "Automatically _swap A and B if A>B"
 msgstr "Inter_canvia autom?ticament A i B si A > B"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:194
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:195
 msgid "_Disable NUV audio sync"
 msgstr "_Desactiva la sincronitzaci? d'?udio NUV"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:196
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:197
 msgid "Automatically _build VBR map"
 msgstr "Construeix autom?ticament el _mapa VBR"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:197
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:198
 msgid "Automatically _rebuild index"
 msgstr "_Reconstrueix l'?ndex autom?ticament"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:198
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:199
 msgid "Automatically remove _packed bitstream"
 msgstr "_Treu autom?ticament el flux de bits empaquetat"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:200
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:201
 msgid "SIMD"
 msgstr "SIMD"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:202
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:203
 msgid "Enable all SIMD"
 msgstr "Habilita totes les SIMD"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:203
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:204
 msgid "Enable MMX"
 msgstr "Habilita MMX"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:204
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:205
 msgid "Enable MMXEXT"
 msgstr "Habilita MMEXT"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:205
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:206
 msgid "Enable 3DNOW"
 msgstr "Habilita 3DNOW"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:206
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:207
 msgid "Enable 3DNOWEXT"
 msgstr "Habilita 3DNOWEXT"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:207
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:208
 msgid "Enable SSE"
 msgstr "Habilita SSE"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:208
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:209
 msgid "Enable SSE2"
 msgstr "Habilita SSE2"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:209
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:210
 msgid "Enable SSE3"
 msgstr "Habilita SSE3"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:210
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:211
 msgid "Enable SSSE3"
 msgstr "Habilita SSSE3"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:231
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:232
 msgid "_lavc threads:"
 msgstr "Fils _lavc: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:232
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:233
 msgid "_x264 threads:"
 msgstr "Fils _x264: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:233
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:234
 msgid "X_vid threads:"
 msgstr "Fils X_vid: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:235
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:236
 msgid "Multi-threading"
 msgstr "Multi-fil"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:241
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:843
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:242
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:844
 msgid "High"
 msgstr "Alta"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:242
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:243
 msgid "Above normal"
 msgstr "Per sobre del normal"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:244
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:245
 msgid "Below normal"
 msgstr "Per sota del normal"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:245
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:847
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:246
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:848
 msgid "Low"
 msgstr "Baixa"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:247
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:248
 msgid "_Encoding priority:"
 msgstr "Prioritat de _codificaci?: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:248
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:249
 msgid "_Indexing/unpacking priority:"
 msgstr "Prioritat _indexaci?/desempaquet.:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:249
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:250
 msgid "_Playback priority:"
 msgstr "_Prioritat de playback: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:251
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:252
 msgid "Prioritisation"
 msgstr "Prioritzaci?"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:256
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:257
 msgid "_Split MPEG files every (MB):"
 msgstr "_Divideix els fitxers d'MPEG cada n MB: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:258
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:259
 msgid "_Use alternative tag for MP3 in .mp4"
-msgstr "_Usa etiqueta (tag) alternativa per a MP3 en .mp4."
+msgstr "_Usa etiqueta (tag) alternativa per a MP3 en MP4"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:261
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:262
 msgid "GTK+ (slow)"
 msgstr "Gtk (lenta)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:263
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:264
 msgid "XVideo (best)"
 msgstr "Xv (millor)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:267
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:268
 msgid "SDL (GDI)"
 msgstr "SDL (bona)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:268
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:269
 msgid "SDL (DirectX)"
 msgstr "SDL (DirectX)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:270
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:271
 msgid "SDL (good)"
 msgstr "SDL (bona)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:274
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:275
 msgid "Video _display:"
 msgstr "_Visualitzaci? v?deo: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:279
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:280
 msgid "No alerts"
 msgstr "No mostris cap av?s"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:280
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:281
 msgid "Display only error alerts"
 msgstr "Mostra nom?s els avisos d'error"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:281
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:282
 msgid "Display all alerts"
 msgstr "Mostra tots els avisos"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:283
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:284
 msgid "_Message level:"
 msgstr "_Missatges a mostrar"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:288
-msgid "PCM"
-msgstr "PCM"
-
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:289
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:290
 msgid "Master"
 msgstr "Master"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:290
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:291
 msgid "_Volume control:"
 msgstr "_Control de volum: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:295
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:296
 msgid "No downmixing"
 msgstr "Sense reduir pistes"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:297
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:298
 msgid "Pro Logic"
 msgstr "Pro Logic"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:298
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:299
 msgid "Pro Logic II"
 msgstr "Pro Logic II"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:300
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:301
 msgid "_Local playback downmixing:"
 msgstr "_Reduc. pistes en reproduc. local: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:332
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:312
+msgid "Core Audio"
+msgstr "Core audio"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:318
+msgid "JACK"
+msgstr "JACK"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:324
+msgid "Pulse Audio"
+msgstr "Pulse Audio"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:331
+msgid "Win32"
+msgstr "Win32"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:336
 msgid "_Audio output:"
 msgstr "Sortida d'_?udio:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:335
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:339
 msgid "ALSA _device:"
 msgstr "_Dispositiu ALSA: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:348
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:352
 msgid "De_ringing"
 msgstr "_Eliminaci? oscil?lacions par?sites"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:349
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:353
 #: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:167
+#: avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp:197
 msgid "_Strength:"
 msgstr "_For?a: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:350
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:354
 msgid "Default Postprocessing"
 msgstr "Postprocessament predeterminat"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:364
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:368
 msgid "_Filter directory:"
 msgstr "Directori dels _filtres: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:365
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:368
+msgid "Select filter directory"
+msgstr "Seleccioneu el directori dels filtres"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:369
 msgid "_Load external filters"
 msgstr "_Carrega filtres externs"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:368
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:372
 msgid "Use _Global GlyphSet"
 msgstr "Usa un Glifset _global"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:369
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:373
 msgid "Gl_yphSet:"
 msgstr "Gl_ifset: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:378
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:382
 msgid "Automation"
 msgstr "Automatitzaci?"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:382
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:430
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:386
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:539
 msgid "Input"
 msgstr "L'entrada"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:386
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:431
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:390
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:540
 msgid "Output"
 msgstr "La sortida"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:391
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:394
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:397
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:395
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:398
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:401
 msgid "Audio"
 msgstr "?udio"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:402
-#: avidemux/gtk_gui.cpp:1997
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:406
+#: avidemux/gtk_gui.cpp:2007
 msgid "Video"
 msgstr "V?deo"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:410
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:414
 msgid "Threading"
 msgstr "Multiprocessament"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:414
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:418
 msgid "Global GlyphSet"
 msgstr "Glifset global"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:418
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:422
 msgid "External Filters"
 msgstr "Filtres externs"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:422
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:426
 msgid "Preferences"
 msgstr "Prefer?ncies"
 
@@ -1820,72 +3038,161 @@
 msgid "_Shrink Factor:"
 msgstr "_Factor reducci?: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:59
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_requant.cpp:51
+msgid "Requant Configuration"
+msgstr "Configuraci? requantif."
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:33
+msgid "VCD"
+msgstr "VCD"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:34
+msgid "SVCD"
+msgstr "SVCD"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:35
+msgid "DVD"
+msgstr "DVD"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:36
+msgid "DVD half D1"
+msgstr "DVD half D1"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:37
+msgid "PSP 480*272"
+msgstr "PSP 480*272"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:38
+msgid "PSP full res (720*480"
+msgstr "PSP full res (720*480)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:54
 msgid "_Target type:"
-msgstr "_Tipus a obtenir: "
+msgstr "_Tipus a obtenir:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:60
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:55
 msgid "_Source aspect ratio:"
-msgstr "Relac. a_specte origen: "
+msgstr "Relac. a_specte origen:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:61
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:56
 msgid "_Destination aspect ratio:"
 msgstr "Relac. aspecte a _obtenir: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:88
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:61
+msgid "Auto Wizard"
+msgstr "Configuraci? autom?tica"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:51
+msgid "Arabic"
+msgstr "Arabic"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:52
+msgid "Baltic"
+msgstr "Baltic"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:53
+msgid "Chinese Simplified (GB2312)"
+msgstr "Chinese Simplified (GB2312)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:54
+msgid "Chinese Traditional (Big5)"
+msgstr "Chinese Traditional (Big5)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:55
+msgid "Cyrillic"
+msgstr "Cyrillic"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:56
+msgid "Latin-1 (Western European)"
+msgstr "Latin-1 (Western European)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:57
+msgid "Latin-2 (Central European)"
+msgstr "Latin-2 (Central European)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:58
+msgid "Greek"
+msgstr "Greek"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:59
+msgid "Hebrew"
+msgstr "Hebrew"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:60
+msgid "Slovene"
+msgstr "Slovene"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:61
+msgid "Turkish"
+msgstr "Turkish"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:62
+msgid "UTF-8"
+msgstr "UTF-8"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:63
+msgid "UTF-16"
+msgstr "UTF-16"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:98
 msgid "_Subtitle file:"
-msgstr "Fitxer de _subt?tols: "
+msgstr "Fitxer de _subt?tols:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:89
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:98
+#: avidemux/ADM_videoFilter/ADM_vidASS.cpp:87
+msgid "Select Subtitle file"
+msgstr "Seleccioneu el fitxer de subt?tols"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:99
 msgid "_Font (TTF):"
-msgstr "_Lletra (TTF)"
+msgstr "_Lletra (TTF):"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:104
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:99
+msgid "Select TTF file"
+msgstr "Seleccioneu el fitxer de TTF"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:114
 msgid "_Encoding:"
-msgstr "_Codificaci?: "
+msgstr "_Codificaci?:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:106
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:116
 msgid "S_elect C_olor"
 msgstr "Selecciona _color"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:107
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:117
 msgid "Set Size and _Position"
-msgstr "Estableix mida i posici?"
+msgstr "Estableix mida i _posici?"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:108
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:118
 msgid "_Auto split"
 msgstr "_Autodivisi?"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:109
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:119
 msgid "_Delay (ms):"
-msgstr "_Retard (ms): "
+msgstr "_Retard (ms):"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:112
-msgid "Subtitler"
-msgstr "Subtitler"
-
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:45
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:51
 msgid "Auto (might not work)"
 msgstr "Auto (potser no funcionar?)"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:46
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:178
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:176
 msgid "Top field first"
-msgstr "Marc alt abans"
+msgstr "Camp parell abans"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:47
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:177
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:175
 msgid "Bottom field first"
-msgstr "Marc baix abans"
+msgstr "Camp senar abans"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:52
 msgid "Bottom field (keep top)"
-msgstr "Marc baix (deixa amunt)"
+msgstr "Camp senar (deixa'l amunt)"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:53
 msgid "Top field (keep bottom)"
-msgstr "Marc alt (deixa avall)"
+msgstr "Camp parell (deixa'l avall)"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:58
 msgid "Cubic interpolation"
@@ -1905,19 +3212,19 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:66
 msgid "4 fields check"
-msgstr "Controla 4 marcs"
+msgstr "Controla 4 camps"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:67
 msgid "5 fields check"
-msgstr "Controla 5 marcs"
+msgstr "Controla 5 camps"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:68
 msgid "4 fields check (no avg)"
-msgstr "Controla 4 marcs (sense mitjana)"
+msgstr "Controla 4 camps (sense mitjana)"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:69
 msgid "5 fields check (no avg)"
-msgstr "Controla 5 marcs (sense mitjana)"
+msgstr "Controla 5 camps (sense mitjana)"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:75
 msgid "No link"
@@ -1936,27 +3243,27 @@
 msgstr "UV a Y"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:82
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:632
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:648
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:664
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:694
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:661
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:668
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:675
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:788
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:636
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:652
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:668
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:698
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:662
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:669
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:676
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:789
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:166
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:206
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:79
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:93
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:419
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:433
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1431
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:426
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:440
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1213
 msgid "0"
 msgstr "0"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:83
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:793
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:805
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:847
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:858
 msgid "1"
 msgstr "1"
 
@@ -1969,31 +3276,31 @@
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:90
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:92
 msgid "_Field order:"
-msgstr "_Ordre marcs: "
+msgstr "_Ordre camps"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:92
 msgid "_Interpolate:"
-msgstr "_Interpola: "
+msgstr "_Interpola:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:94
 msgid "_Type:"
-msgstr "_Tipus: "
+msgstr "_Tipus:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:95
 msgid "_MntMode:"
-msgstr "_MntMode: "
+msgstr "_MntMode:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:96
 msgid "_Link:"
-msgstr "_Enlla?: "
+msgstr "_Enlla?:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:97
 msgid "_AP type:"
-msgstr "Tipus _AP: "
+msgstr "Tipus _AP:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:100
 msgid "Use ch_roma to evalute"
-msgstr "Usa c_roma per avaluar"
+msgstr "Usa la c_romin?ncia per avaluar"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:101
 msgid "Try _weave"
@@ -2010,15 +3317,15 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:104
 msgid "_Evalute all frames"
-msgstr "_Avalua TOTS fotogr."
+msgstr "_Avalua tots els fotogr."
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:107
 msgid "Motion threshold, l_uma:"
-msgstr "Llindar movim., _luma: "
+msgstr "Llindar movim., _lumin?ncia:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:108
 msgid "Motion threshold, c_hroma:"
-msgstr "Llindar movim., _croma: "
+msgstr "Llindar movim., _cromin?ncia:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:109
 msgid "Area com_bing threshold:"
@@ -2030,55 +3337,58 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:111
 msgid "Artefact _protection threshold:"
-msgstr "Llindar protecci? fen?mens: "
+msgstr "Llindar protecci? artefactes: "
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:112
 msgid "Debug:"
 msgstr "Debug: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:121
-msgid "TDeint"
-msgstr "TDeint"
-
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:41
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:34
 msgid "_VOB file(s):"
 msgstr "Fitxer(s) _VOB: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:42
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:34
+msgid "Select VOB file(s)"
+msgstr "Seleccioneu el(s) fitxer(s) VOB"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:35
 msgid "_IFO file:"
 msgstr "Fitxer _IFO: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:43
-msgid "Vob_Sub file:"
-msgstr "Fitxer Vob_Sub: "
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:35
+msgid "Select IFO file"
+msgstr "Seleccioneu el fitxer d'IFO"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:48
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:36
+msgid "VobSub file:"
+msgstr "Fitxer VobSub:"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:36
+msgid "Select VobSub file"
+msgstr "Seleccioneu el fitxer de VobSub"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:41
 msgid "VOB to VobSub"
 msgstr "VOB a VobSub"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:52
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:57
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:45
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:50
 msgid "The selected vobfile does not exist"
 msgstr "El fitxer de VOB selecionat no existeix."
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:62
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_v2v.cpp:55
 msgid "Please select a correct VobSub path/dir"
 msgstr "Seleccioneu un cam? o directori v?lid d'un fitxer VobSub"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:66
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:273
-msgid "Avidemux"
-msgstr "Avidemux"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:46
+msgid "and all the others."
+msgstr "i tots els altres."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:67
-msgid "? 2001-2007 Mean"
-msgstr "? 2001-2007 Mean"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:68
-msgid "Multiplatform video editor"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:69
+msgid "Multi-platform Video Editor"
 msgstr "Editor de v?deo multiplataforma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:69
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:70
 msgid ""
 "Avidemux is free software; you can redistribute it and/or modify it\n"
 "under the terms of the GNU General Public License version 2\n"
@@ -2088,7 +3398,8 @@
 "\t\t       Version 2, June 1991\n"
 "\n"
 " Copyright (C) 1989, 1991 Free Software Foundation, Inc.\n"
-"                       51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n"
+"                       51 Franklin St, Fifth Floor, Boston, MA  02110-1301  "
+"USA\n"
 " Everyone is permitted to copy and distribute verbatim copies\n"
 " of this license document, but changing it is not allowed.\n"
 "\n"
@@ -2223,7 +3534,8 @@
 "\n"
 "    a) Accompany it with the complete corresponding machine-readable\n"
 "    source code, which must be distributed under the terms of Sections\n"
-"    1 and 2 above on a medium customarily used for software interchange; or,\n"
+"    1 and 2 above on a medium customarily used for software interchange; "
+"or,\n"
 "\n"
 "    b) Accompany it with a written offer, valid for at least three\n"
 "    years, to give any third party, for a charge no more than your\n"
@@ -2330,7 +3642,8 @@
 "later version\", you have the option of following the terms and conditions\n"
 "either of that version or of any later version published by the Free\n"
 "Software Foundation.  If the Program does not specify a version number of\n"
-"this License, you may choose any version ever published by the Free Software\n"
+"this License, you may choose any version ever published by the Free "
+"Software\n"
 "Foundation.\n"
 "\n"
 "  10. If you wish to incorporate parts of the Program into other free\n"
@@ -2346,7 +3659,8 @@
 "  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\n"
 "FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\n"
 "OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\n"
-"PROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\n"
+"PROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER "
+"EXPRESSED\n"
 "OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n"
 "MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\n"
 "TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\n"
@@ -2391,7 +3705,8 @@
 "\n"
 "    You should have received a copy of the GNU General Public License\n"
 "    along with this program; if not, write to the Free Software\n"
-"    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n"
+"    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  "
+"USA\n"
 "\n"
 "\n"
 "Also add information on how to contact you by electronic and paper mail.\n"
@@ -2400,7 +3715,8 @@
 "when it starts in an interactive mode:\n"
 "\n"
 "    Gnomovision version 69, Copyright (C) year name of author\n"
-"    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\n"
+"    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show "
+"w'.\n"
 "    This is free software, and you are welcome to redistribute it\n"
 "    under certain conditions; type `show c' for details.\n"
 "\n"
@@ -2427,13 +3743,14 @@
 msgstr ""
 "L'Avidemux ?s programari lliure; podeu redistribuir-lo i/o modificar-lo\n"
 "sota les condicions de la GNU General Public License, versi? 2\n"
-"publicada per la Free Software Foundation.\n"
+"tal com l'ha publicada la Free Software Foundation.\n"
 "\n"
 "\t\t    GNU GENERAL PUBLIC LICENSE\n"
 "\t\t       Version 2, June 1991\n"
 "\n"
 " Copyright (C) 1989, 1991 Free Software Foundation, Inc.\n"
-"                       51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n"
+"                       51 Franklin St, Fifth Floor, Boston, MA  02110-1301  "
+"USA\n"
 " Everyone is permitted to copy and distribute verbatim copies\n"
 " of this license document, but changing it is not allowed.\n"
 "\n"
@@ -2568,7 +3885,8 @@
 "\n"
 "    a) Accompany it with the complete corresponding machine-readable\n"
 "    source code, which must be distributed under the terms of Sections\n"
-"    1 and 2 above on a medium customarily used for software interchange; or,\n"
+"    1 and 2 above on a medium customarily used for software interchange; "
+"or,\n"
 "\n"
 "    b) Accompany it with a written offer, valid for at least three\n"
 "    years, to give any third party, for a charge no more than your\n"
@@ -2675,7 +3993,8 @@
 "later version\", you have the option of following the terms and conditions\n"
 "either of that version or of any later version published by the Free\n"
 "Software Foundation.  If the Program does not specify a version number of\n"
-"this License, you may choose any version ever published by the Free Software\n"
+"this License, you may choose any version ever published by the Free "
+"Software\n"
 "Foundation.\n"
 "\n"
 "  10. If you wish to incorporate parts of the Program into other free\n"
@@ -2691,7 +4010,8 @@
 "  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\n"
 "FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\n"
 "OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\n"
-"PROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\n"
+"PROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER "
+"EXPRESSED\n"
 "OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n"
 "MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\n"
 "TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\n"
@@ -2736,7 +4056,8 @@
 "\n"
 "    You should have received a copy of the GNU General Public License\n"
 "    along with this program; if not, write to the Free Software\n"
-"    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n"
+"    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  "
+"USA\n"
 "\n"
 "\n"
 "Also add information on how to contact you by electronic and paper mail.\n"
@@ -2745,7 +4066,8 @@
 "when it starts in an interactive mode:\n"
 "\n"
 "    Gnomovision version 69, Copyright (C) year name of author\n"
-"    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\n"
+"    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show "
+"w'.\n"
 "    This is free software, and you are welcome to redistribute it\n"
 "    under certain conditions; type `show c' for details.\n"
 "\n"
@@ -2770,54 +4092,48 @@
 "library.  If this is what you want to do, use the GNU Library General\n"
 "Public License instead of this License."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:71
-msgid "http://www.avidemux.org"
-msgstr "http://www.avidemux.org"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:74
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:75
 msgid "translator-credits"
 msgstr ""
 "Joan Farrerons i Herrero.\n"
 "<jfarrerons at economistes.com>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp:138
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp:141
 msgid "AudioCodec"
-msgstr "C?dec ?udio"
+msgstr "C?dec ?udio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp:163
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp:166
 msgid "Configure codec"
-msgstr "Configura C?dec"
+msgstr "Configura c?dec"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:71
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:67
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:72
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:75
 msgid "ASHARP"
 msgstr "ASHARP"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:183
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:187
 msgid "ASharp by MarcFD"
-msgstr "ASharp per MarcFD"
+msgstr "ASharp de MarcFD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:196
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:200
 msgid "Threshold :"
 msgstr "Llindar:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:204
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:208
 msgid "Strength :"
-msgstr "For?a: "
+msgstr "For?a:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:212
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:216
 msgid "Block Adaptative :"
-msgstr "Adaptativa bloc:"
+msgstr "Bloc adaptatiu:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:220
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:224
 msgid "Unknown flag :"
-msgstr "Indicador desc.:"
+msgstr "Indicador descon.:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:252
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:256
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:161
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:262
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:283
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:255
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:276
 msgid " "
 msgstr " "
 
@@ -2825,467 +4141,460 @@
 msgid "Busy"
 msgstr "Ocupat"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:401
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:994
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:405
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:999
 msgid "Calculator"
 msgstr "Calculadora"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:414
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:418
 msgid "<b>Target</b>"
 msgstr "<b>Objectiu</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:441
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:445
 msgid "Duration:"
 msgstr "Durada:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:447
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:802
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:451
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:803
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:198
 msgid "00:00:00"
 msgstr "00:00:00"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:461
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:465
 msgid "_Medium:"
 msgstr "_Medi:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:472
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:476
 msgid "_Format:"
 msgstr "_Format:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:483
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:541
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:487
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:545
 msgid "Total size (custom)"
 msgstr "Mida total (person.)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:493
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:497
 msgid "_Custom size (MB):"
-msgstr "_Mida person. (MB): "
+msgstr "_Mida person. (MB):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:507
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:511
 msgid "Output container format"
 msgstr "Format del contenidor de sortida"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:534
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:538
 msgid "Total size"
 msgstr "Mida total"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:538
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:542
 msgid "1x 80 min. CD"
 msgstr "CD 1x 80 min."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:543
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:547
 msgid "2x 80 min. CD"
 msgstr "CD 2x 80 min."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:547
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:551
 msgid "1x 74 min. CD"
 msgstr "CD 1x 74 min."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:551
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:555
 msgid "2x 74 min. CD"
 msgstr "CD 2x 74 min."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:555
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:559
 msgid "DVD5"
 msgstr "DVD5"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:559
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:808
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:563
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:861
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_threadCount.cpp:87
 msgid "Custom"
-msgstr "Personal."
+msgstr "Personalitzat"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:571
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:575
 msgid "Track _1:"
-msgstr "Pista _1: "
+msgstr "Pista _1:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:579
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:583
 msgid "Audio bitrate in kb/s for track 1 (0 for no audio)"
-msgstr "Taxa de bits d'?udio en kb/s per a la pista 1. El valor 0 indica que no hi ha ?udio."
+msgstr ""
+"Taxa de bits d'?udio en kb/s per a la pista 1. El valor 0 indica que no hi "
+"ha ?udio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:586
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:590
 msgid "Track _2: "
-msgstr "Pista _2: "
+msgstr "Pista _2:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:594
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:598
 msgid "Audio bitrate in kb/s for track 2 (optional)"
-msgstr "Taxa de bits d'?udio en kb/s per a la pista 2 (opcional)."
+msgstr "Taxa de bits d'?udio en kb/s per a la pista 2 (opcional)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:598
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:602
 msgid "<b>Audio Bitrate</b>"
 msgstr "<b>Taxa bits ?udio</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:624
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:628
 msgid "Audio size (MB):"
 msgstr "Mida ?udio (MB):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:640
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:644
 msgid "Video size (MB):"
 msgstr "Mida v?deo (MB):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:656
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:660
 msgid "Total size (MB):"
 msgstr "Mida total (MB):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:678
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:682
 msgid "Video bitrate:"
 msgstr "Taxa bits v?deo:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:686
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:690
 msgid "Bits per pixel:"
 msgstr "Bits per p?xel:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:702
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:706
 msgid "0.0"
 msgstr "0.0"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:710
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:714
 msgid "<b>Result</b>"
 msgstr "<b>Resultat</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:184
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:72
+msgid "Chroma Shift"
+msgstr "Despla?ament cromin?ncia"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:189
 msgid "ChromaShift"
-msgstr "Despla?ament Croma"
+msgstr "Despla?ament cromin?ncia"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:198
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:203
 msgid "U Shift :"
-msgstr "Despl. U:"
+msgstr "Despl. en U:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:205
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:210
 msgid "V Shift :"
-msgstr "Despl. V:"
+msgstr "Despl. en V:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:247
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:252
 msgid "<b>Preview</b>"
 msgstr "<b>Vista pr?via</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:137
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:141
 msgid "Chroma Noise Reduction 2"
-msgstr "Chroma Noise Reduction 2"
+msgstr "Reduc. soroll cromin?ncia 2"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:162
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:166
 msgid "<b>Scene change Treshold</b>"
 msgstr "<b>Llindar canvi escena</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:181
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:185
 msgid "Sensibility"
 msgstr "Sensibilitat"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:189
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:193
 msgid "Max"
 msgstr "m?x."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:204
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:208
 msgid "Luma :"
-msgstr "Luma :"
+msgstr "Lumin?ncia:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:211
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:215
 msgid "Chroma U :"
-msgstr "Croma U :"
+msgstr "Cromin?ncia en U:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:218
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:222
 msgid "Chroma V :"
-msgstr "Croma V :"
+msgstr "Cromin?ncia en V:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:261
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:265
 msgid "Narrow"
-msgstr "Estreta"
+msgstr "Narrow"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:286
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:290
 msgid "<b>Settings</b>"
 msgstr "<b>Configuraci?</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:305
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:309
 msgid "Use also chroma to detect scene change"
-msgstr "Usa tamb? croma per detectar un canvi d'escena"
+msgstr "Usa tamb? la cromin?ncia per detectar un canvi d'escena"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:309
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:313
 msgid "<b>Mode</b>"
 msgstr "<b>Mode</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:155
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:159
 msgid "ColorYuv (From avisynth)"
-msgstr "ColorYuv (d'avisynth)"
+msgstr "ColorYuv (de l'avisynth)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:179
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:194
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:212
-msgid "Contrast"
-msgstr "Contrast"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:186
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:221
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:190
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:225
 msgid "Brightness"
 msgstr "Lluminositat"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:193
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:197
 msgid "Gamma"
 msgstr "Gamma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:207
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:211
 msgid "Luma Y"
-msgstr "Luma Y"
+msgstr "Lumin?ncia en Y"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:214
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:239
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:218
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:243
 msgid "Chroma U"
-msgstr "Croma U"
+msgstr "Cromin?ncia en U"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:221
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:225
 msgid "Chroma V"
-msgstr "Croma V"
+msgstr "Cromin?ncia en V"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:324
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:328
 msgid "<b>Color Correction Matrix</b>"
 msgstr "<b>Matriu correcci? color</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:347
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:351
 msgid "Matrix"
 msgstr "Matriu"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:354
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:358
 msgid "Opt"
 msgstr "Opt"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:361
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:365
 msgid "Level"
 msgstr "Nivell"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:374
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:378
 msgid "Rec.709"
 msgstr "Rec.709"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:382
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:386
 msgid "Coring"
 msgstr "Coring"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:390
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:394
 msgid "TV->PC"
 msgstr "TV->PC"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:391
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:395
 msgid "PC->TV"
 msgstr "PC->TV"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:392
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:396
 msgid "PC->TV.Y"
 msgstr "PC->TV.Y"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:398
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:402
 msgid ""
 "<b>Matrix Warning :</b>\n"
 "all above values are normalized to 256!"
 msgstr ""
 "<b>Av?s sobre la matriu:</b>\n"
-"tots els valors m?s alts es normalitzaran a 256"
+"tots els valors m?s alts es normalitzaran a 256!"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:404
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:408
 msgid "AutoGain"
-msgstr "Guany autom. "
+msgstr "Guany autom?tic"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:408
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:412
 msgid "Display Stats"
-msgstr "Mostra estad. "
+msgstr "Mostra estad?stiques"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:412
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:416
 msgid "AutoWhite"
-msgstr "Blanc autom. "
+msgstr "Equilibri autom. dels blancs"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:416
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:420
 msgid "<b>frame2</b>"
 msgstr "<b>Fotog. 2</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:235
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:239
 msgid "Luma"
-msgstr "Luma"
+msgstr "Lumin?ncia"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:243
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:247
 msgid "Chroma v"
-msgstr "Croma v"
+msgstr "Cromin?ncia en V"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:258
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:252
+#: avidemux/ADM_videoFilter/ADM_vidCrop.cpp:193
 msgid "Crop Settings"
-msgstr "Configs. tall"
+msgstr "Configuraci? del tall"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:292
-msgid "AutoCrop"
-msgstr "Tall autom."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:277
+msgid "Crop Left:"
+msgstr "Tall esquerra:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:314
-msgid "Reset"
-msgstr "Reinicia"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:284
+msgid "Crop Right:"
+msgstr "Tall dreta:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:323
-msgid "Crop Left :"
-msgstr "Tall Esq.:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:331
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:291
 msgid "Crop Top:"
-msgstr "Tall Amunt:"
+msgstr "Tall amunt:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:339
-msgid "Crop Right:"
-msgstr "Tall Dreta:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:347
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:298
 msgid "Crop Bottom:"
-msgstr "Tall Avall:"
+msgstr "Tall avall:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:161
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:183
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:341
+msgid "Auto Crop"
+msgstr "Tall autom?tic"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:162
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:184
 msgid "Privileges Required"
 msgstr "Calen privilegis"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:161
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:183
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:162
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:184
 msgid "Root privileges are required to perform this operation."
 msgstr "Calen privilegis de root per realitzar aquesta operaci?."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:204
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:205
 msgid "Shutting down"
 msgstr "En proc?s d'apagada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:381
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:382
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:150
 #, c-format
 msgid "%d%%"
 msgstr "%d%%"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:404
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:411
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:418
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:405
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:412
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:419
 #, c-format
 msgid "%lu MB"
 msgstr "%lu MB"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:514
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:515
 msgid "Encoding..."
 msgstr "S'est? codificant..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:545
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:546
 msgid "<b>Phase:</b>"
 msgstr "<b>Fase: </b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:560
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:561
 msgid "<b>Video Codec:</b>"
 msgstr "<b>C?dec de v?deo:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:575
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:576
 msgid "<b>Audio Codec:</b>"
 msgstr "<b>C?dec d'?udio:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:590
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:591
 msgid "<b>Container:</b>"
 msgstr "<b>Contenidor:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:622
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:623
 msgid "<b>Processed Frames:</b>"
 msgstr "<b>Fotogrames processats: </b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:630
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:631
 msgid "<b>Total Frames:</b>"
 msgstr "<b>Total fotogrames: </b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:638
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:639
 msgid "<b>Quantiser:</b>"
 msgstr "<b>Quantificador: </b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:646
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:647
 msgid "<b>Average Bitrate:</b>"
 msgstr "<b>Taxa bits mitjana: </b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:654
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:655
 msgid "0 kB/s"
 msgstr "0 kB/s"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:699
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:700
 msgid "<b>Video Size:</b>"
 msgstr "<b>Mida v?deo:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:707
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:708
 msgid "<b>Audio Size:</b>"
 msgstr "<b>Mida ?udio:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:715
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:716
 msgid "<b>Total Size:</b>"
 msgstr "<b>Mida total:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:723
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:731
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:739
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:724
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:732
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:740
 msgid "0 MB"
 msgstr "0 MB"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:764
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:765
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:244
 msgid "<b>Elapsed:</b>"
 msgstr "<b>Transcorregut:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:772
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:773
 msgid "<b>Time Remaining:</b>"
 msgstr "<b>Temps restant: </b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:780
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:781
 msgid "<b>Frames/sec:</b>"
 msgstr "<b>Fotogr./s: </b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:826
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:827
 msgid "Shut down computer when finished"
 msgstr "Apaga l'ordinador en acabar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:834
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:835
 msgid "Priority:"
 msgstr "Prioritat: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:844
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:845
 msgid "Above Normal"
 msgstr "Per sobre del normal"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:846
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:847
 msgid "Below Normal"
 msgstr "Per sota del normal"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:884
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:885
 msgid "Pause / Abort"
 msgstr "Atura / Cancel?la"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:205
-msgid "MPlayer eq2"
-msgstr "MPlayer eq2"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:231
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:235
 msgid "Brigh_tness:"
 msgstr "Lluminosi_tat: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:239
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:243
 msgid "_Saturation:"
 msgstr "_Saturaci?: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:274
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:278
 msgid "_Contrast:"
 msgstr "_Contrast: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:300
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:304
 msgid "_Initial:"
 msgstr "_Inicial: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:326
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:330
 msgid "_Red:"
 msgstr "_Roig: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:343
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:347
 msgid "_Green:"
 msgstr "_Verd: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:351
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:355
 msgid "_Blue:"
 msgstr "_Blau: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:359
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:363
 msgid "_Weight:"
 msgstr "_Ponderaci?: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:385
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:389
 msgid "<b>Gamma</b>"
 msgstr "<b>Gamma</b>"
 
@@ -3295,25 +4604,25 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_exLame.cpp:80
 msgid "Lame command"
-msgstr "Ordre Lame"
+msgstr "Ordre del lame"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_exLame.cpp:89
 msgid "Enter parameters (i.e. -b 192 -m s ...)"
 msgstr "Introdu?u par?metres (i.e. -b 192 -m s ...)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:74
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:78
 msgid "Hue"
 msgstr "Mat?s"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:171
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:175
 msgid "Hue/Saturation"
 msgstr "Mat?s/Saturaci?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:185
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:189
 msgid "<b>Hue:</b>"
 msgstr "<b>Mat?s:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:193
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:197
 msgid "<b>Saturation:</b>"
 msgstr "<b>Saturaci?:</b>"
 
@@ -3335,7 +4644,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:174
 msgid "Time left :"
-msgstr "Temps restant: "
+msgstr "Temps restant:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:182
 msgid "Timecode :"
@@ -3343,7 +4652,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:190
 msgid "Nb pictures seen :"
-msgstr "# Quadres vistos: "
+msgstr "Nombre quadres vistos:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:214
 msgid "Indexing :"
@@ -3362,7 +4671,7 @@
 msgstr "Ha tingut ?xit"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:25
-#: avidemux/gtk_gui.cpp:2275
+#: avidemux/gtk_gui.cpp:2285
 msgid "Failed"
 msgstr "Ha fallat"
 
@@ -3374,135 +4683,85 @@
 msgid "Running"
 msgstr "Processant"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:98
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:104
 msgid "  Job Name  "
 msgstr "Nom de la tasca"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:103
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:109
 msgid "Started at"
 msgstr "Comen?at a"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:107
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:113
 msgid "Finished at"
 msgstr "Acabat a"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:134
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:172
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:140
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:178
 msgid "Sure!"
 msgstr "?s clar!"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:134
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:140
 msgid "Delete ALL jobs"
 msgstr "Esborra TOTES les tasques"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:134
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:140
 msgid "Are you sure you want to delete all jobs ?"
 msgstr "Esteu segur que voleu esborrar totes les tasques?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:172
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:178
 msgid "Delete job"
 msgstr "Esborra tasca"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:172
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:178
 #, c-format
 msgid "Are you sure you want to delete %s job ?"
 msgstr "Esteu segur que voleu esborrar la tasca %s ?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:181
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:187
 msgid "Unknown event"
 msgstr "Esdeveniment desconegut"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:261
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:268
 msgid "Jobs"
 msgstr "Tasques"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:287
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:294
 msgid "Delete All Jobs"
 msgstr "Esborra totes les tasques"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:292
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:299
 msgid "Delete Job"
 msgstr "Esborra tasca"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:297
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:304
 msgid "Run all jobs"
 msgstr "Executa totes les tasques"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:302
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:309
 msgid "Run Job"
 msgstr "Executa tasca"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:49
-msgid "Select Video to Write"
-msgstr "Seleccioneu el fitxer de v?deo per escriure."
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:63
-msgid "Invalid filename"
-msgstr "El nom de fitxer no ?s v?lid"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:63
-msgid "Please select or enter a valid filename."
-msgstr "Seleccioneu o introdu?u un nom v?lid de fitxer."
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:69
-msgid "Invalid jobname"
-msgstr "El nom de la tasca no ?s v?lid"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:69
-msgid "Please select or enter a valid jobname."
-msgstr "Seleccioneu o introdu?u un nom v?lid de tasca."
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:110
-msgid "Save Job"
-msgstr "Desa la tasca"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:131
-msgid "Select the output file"
-msgstr "Seleccioneu el fitxer de sortida."
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:145
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp:93
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp:245
-msgid "_Browse..."
-msgstr "_Navega..."
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:154
-msgid "Job name displayed in the job list and used as the script filename"
-msgstr "Nom de tasca que es mostra en la llista de tasques i que s'usa tamb? com a nom del fitxer d'script"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:163
-msgid "Filename of the audio/video output"
-msgstr "Nom del fitxer d'?udio o de v?deo de sortida"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:166
-msgid "_Job name:"
-msgstr "Nom de la _tasca: "
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs_save.cpp:173
-msgid "Output _file:"
-msgstr "_Fitxer de sortida:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:379
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:385
 msgid "Mplayer Delogo"
-msgstr "Delogo Mplayer"
+msgstr "Mplayer Delogo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:397
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:403
 msgid "X"
 msgstr "X"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:404
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:410
 msgid "Y"
 msgstr "Y"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:411
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:417
 msgid "W"
 msgstr "W"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:418
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:424
 msgid "H"
 msgstr "H"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:425
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:431
 msgid "Band"
 msgstr "Banda"
 
@@ -3516,7 +4775,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:100
 msgid "# of lines"
-msgstr "# L?nies: "
+msgstr "# de l?nies"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:108
 msgid "TimeCode:"
@@ -3524,7 +4783,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:116
 msgid "# of Glyphs :"
-msgstr "# Glifos:"
+msgstr "#de glifos:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:124
 msgid "<b>Stats</b>"
@@ -3578,28 +4837,27 @@
 msgid "<b>Bitmap</b>"
 msgstr "<b>Bitmap</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:123
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:144
-msgid "Partial"
-msgstr "Parcial"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:137
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:142
 msgid "Start frame for partial :"
-msgstr "Fotogr. inicial per a parcial: "
+msgstr "Fotogr. inicial per a parcial:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:144
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:149
 msgid "End frame for partial :"
-msgstr "Fotogr. final per a parcial: "
+msgstr "Fotogr. final per a parcial:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:167
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:172
 msgid "Configure partialized filter"
 msgstr "Configura filtre parcial"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:93
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_particle.cpp:274
+msgid "Particle Analysis Configuration"
+msgstr "Config. de l'an?lisi de les part?cules"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:98
 msgid "Paused"
-msgstr "Atura"
+msgstr "En pausa"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:109
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:114
 msgid ""
 "<b>Encoding is paused.</b>\n"
 "\n"
@@ -3609,11 +4867,11 @@
 "\n"
 "Podeu reprendre-la o b? cancel?lar-la."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:136
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:141
 msgid "Abort"
 msgstr "Cancel?la"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:158
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:163
 msgid "Resume"
 msgstr "Repr?n"
 
@@ -3630,136 +4888,137 @@
 msgstr "L?nia param. sencera"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp:180
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:548
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:336
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:150
 msgid "Preview"
 msgstr "Previsualitza"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:47
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:40
 msgid "No"
 msgstr "No"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:47
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:40
 msgid "Yes"
 msgstr "S?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:67
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:60
 #, c-format
 msgid "%lu x %lu"
 msgstr "%lu x %lu"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:70
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:63
 #, c-format
 msgid "%2.3f fps"
 msgstr "%2.3f fps"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:73
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:66
 #, c-format
 msgid "%ld frames"
 msgstr "%ld fotogrames"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:83
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:133
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:76
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:126
 #, c-format
 msgid "%02d:%02d:%02d.%03d"
 msgstr "%02d:%02d:%02d.%03d"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:96
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:89
 #, c-format
 msgid "%s (%u:%u)"
 msgstr "%s (%u:%u)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:118
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:111
 #, c-format
 msgid "%lu Hz"
 msgstr "%lu Hz"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:120
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:113
 #, c-format
 msgid "%lu Bps / %lu kbps"
 msgstr "%lu Bps / %lu kbps"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:136
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:129
 #, c-format
 msgid "%.2f MB"
 msgstr "%.2f MB"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:205
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:198
 msgid "Properties"
 msgstr "Propietats"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:234
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:227
 msgid "Frame Rate:"
 msgstr "Veloc. imatge: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:241
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:234
 msgid "Frame Count:"
 msgstr "Nombre fotog.: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:248
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:426
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:241
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:419
 msgid "Total Duration:"
 msgstr "Durada total: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:269
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:262
 msgid "Image Size:"
 msgstr "Mida imatge: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:290
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:283
 msgid "Codec 4CC:"
 msgstr "C?dec 4CC: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:304
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:297
 msgid "Aspect Ratio:"
 msgstr "Rel. aspecte: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:318
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1058
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:311
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1063
 msgid "<b>Video</b>"
 msgstr "<b>V?deo</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:337
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:330
 msgid "Global Motion Compensation:"
 msgstr "Compensaci? global de moviment: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:351
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:344
 msgid "Packed Bitstream:"
 msgstr "Flux de bits empaquetat: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:365
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:358
 msgid "Quarter Pixel:"
 msgstr "Quart de p?xel:  "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:379
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:372
 msgid "<b>Extra Video Properties</b>"
 msgstr "<b>Altres propietats del v?deo</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:398
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:391
 msgid "Codec:"
 msgstr "C?dec:  "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:405
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:398
 msgid "Channels:"
 msgstr "Canals: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:412
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:405
 msgid "Bitrate:"
 msgstr "Taxa de bits: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:419
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:412
 msgid "Frequency:"
 msgstr "Freq??ncia:  "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:468
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:461
 msgid "File Size:"
-msgstr "Mida fitxer: "
+msgstr "Mida del fitxer: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:482
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:475
 msgid "Variable Bitrate:"
 msgstr "Taxa bits variable: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:496
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1098
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:489
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1103
 msgid "<b>Audio</b>"
 msgstr "<b>?udio</b>"
 
@@ -3775,102 +5034,144 @@
 msgid "Retry"
 msgstr "Reintenta"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_recent.cpp:96
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_recent.cpp:102
 msgid "Recent files"
 msgstr "Fitxers recents"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:312
-msgid "Resize"
-msgstr "Redimensiona"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:326
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:333
 msgid " Width "
-msgstr "Amplada: "
+msgstr " Amplada "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:333
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:340
 msgid " Height "
-msgstr "Al??ria: "
+msgstr " Al??ria "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:356
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:363
 msgid "Source :"
-msgstr "Origen: "
+msgstr "Origen:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:362
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:369
 msgid "Destination"
-msgstr "Destinaci?: "
+msgstr " Destinaci?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:412
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:419
 msgid " Error X:"
-msgstr "Error X: "
+msgstr "Error en X: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:426
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:433
 msgid " Error Y:"
-msgstr "Error Y: "
+msgstr "Error en Y: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:440
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:447
 msgid "16 round up"
 msgstr "16 round up"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:454
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:461
 msgid "Bilinear"
 msgstr "Bilinear"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:458
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:465
 msgid "Bicubic"
 msgstr "Bicubic"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:462
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:469
 msgid "Lanczos3"
 msgstr "Lanczos3"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:91
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:222
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:97
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:228
 msgid "Subtitle Size and Position"
 msgstr "Mida i posici? subt?tols"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:236
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:242
 msgid "Font Size:"
 msgstr "Mida lletra: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:104
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_SwissArmyKnife.cpp:511
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:388
+msgid "Swiss Army Knife Configuration"
+msgstr "Config. de la navalla su?ssa"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:206
+#: avidemux/ADM_videoFilter/ADM_vidThreshold.cpp:163
+msgid "Threshold Configuration"
+msgstr "Configuraci? del llindar"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:429
+msgid "Minimum value to be in-range:"
+msgstr "Valor m?_nim per ser a l'interval:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:462
+msgid "Maximum value to be in-range:"
+msgstr "Valor m?_xim per ser a l'interval:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:493
+msgid "Output values:   "
+msgstr "Valors sortida:   "
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:500
+msgid "In-range values go black, out-of-range values go white"
+msgstr "Els valors interiors de l'interval esdevenen negres, els exteriors, blancs"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:501
+msgid "In-range values go white, out-of-range values go black"
+msgstr "Els valors interiors de l'interval esdevenen blancs, els exteriors, negres"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:507
+msgid "Debugging settings (bits):   "
+msgstr "Configs. _debug (bits):   "
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:109
 msgid "Video encoder"
 msgstr "Codificador v?deo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:118
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1078
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1118
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:123
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1083
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1123
 msgid "Configure"
 msgstr "Configura"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:98
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:95
+msgid "none"
+msgstr "cap"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:104
 msgid "Select .idx file"
 msgstr "Seleccioneu el fitxer .IDX"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:196
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:115
+msgid "Wrong VobSub parametering"
+msgstr "Els par?metres del VobSub s?n erronis"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:115
+msgid "The idx/sub file does not set."
+msgstr "El fitxer d'idx/sub no est? definit."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:202
 msgid "VobSub Settings"
 msgstr "Configs. VobSub"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:213
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:219
 msgid "Select .idx"
 msgstr "Seleccioneu .IDX"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:227
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:233
 msgid "Select Language :"
-msgstr "Seleccioneu l'idioma"
+msgstr "Seleccioneu l'idioma:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:241
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:247
 msgid "Select Sub"
-msgstr "Selecciona Sub"
+msgstr "Seleccioneu els subt?tols"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:254
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:260
 msgid "Extra Shrink Factor :"
-msgstr "Factor reducc. extra: "
+msgstr "Factor reducc. extra:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:269
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:275
 msgid "Shift (ms) :"
 msgstr "Despl. (ms):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:283
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:289
 msgid "Extra Settings"
 msgstr "Altres Configs."
 
@@ -3882,1191 +5183,1350 @@
 msgid "<b>Time remaining:</b>"
 msgstr "<b>Temps restant:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:560
-msgid "X264 configuration"
-msgstr "Configuraci? X264"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:116
+msgid "Hadamard Exhaustive Search"
+msgstr "Cerca exhaustiva Hadamard"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:575
-msgid "Encoding Mode:"
-msgstr "Mode de codificaci?: "
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:602
+msgid "x264 Configuration"
+msgstr "Configuraci? x264"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:587
-msgid "Entry input for target file size or bitrate"
-msgstr "Dades d'entrada per a fitxer destinaci? o taxa de bits"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:623
+msgid "Encoding Mode"
+msgstr "Mode de codificaci?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:589
-msgid "Quantizer (0-51):"
-msgstr "Quantificador (0-51):"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:630
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:484
+msgid "Quantizer"
+msgstr "Quantificador"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:602
-msgid "Constant Quantizer - Each frame will the same compression. Low numbers equal higher quality while high numbers equal lower quality"
-msgstr "Quantificador constant - Cada fotograma tindr? la mateixa compressi?. Nombres baixos comporten qualitat m?s alta mentre que nombres alts comporten qualitat m?s baixa"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:637
+msgid "Target Size"
+msgstr "Mida a obtenir"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:612
-msgid "Target Size:"
-msgstr "Mida a obtenir:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:650
+msgid ""
+"Constant Quantizer - Each frame will have the same compression. Low numbers "
+"equal higher quality while high numbers equal lower quality."
+msgstr ""
+"Quantificador constant - Cada fotograma tindr? la mateixa compressi?. "
+"Nombres baixos comporten qualitat m?s alta mentre que nombres alts "
+"comporten qualitat m?s baixa"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:624
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:658
+msgid "Target bitrate or file size"
+msgstr "Taxa bits / mida del fitxer de sortida"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:666
 msgid "Single Pass - Quality Quantizer (Average)"
-msgstr "1 Pass. - Quantificador qualitat (mitjana)"
+msgstr "1 Passada - Quantif. qualitat (mitjana)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:625
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:667
 msgid "Single Pass - Quality Quantizer (Constant)"
-msgstr "1 Pass. - Quantificador qualitat (constant)"
+msgstr "1 Passada - Quantif. qualitat (constant)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:626
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:668
 msgid "Single Pass - Bitrate (Average)"
-msgstr "1 Pass. - Taxa de bits (mitjana)"
+msgstr "1 Passada - Taxa de bits (mitjana)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:627
-msgid "Two Pass - File Size"
-msgstr "2 Passades - Mida del fitxer"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:669
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:775
+msgid "Two Pass - Video Size"
+msgstr "2 Passades - Mida del v?deo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:628
-msgid "Two Pass - Average bitrate"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:670
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:779
+msgid "Two Pass - Average Bitrate"
 msgstr "2 Passades - Taxa de bits mitjana"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:630
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:672
 msgid "Bitrate"
-msgstr "Taxa bits"
+msgstr "Taxa de bits"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:656
-msgid "Partition decision"
-msgstr "Decisi? de partici?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:705
+msgid "Partition Decision"
+msgstr "Decisi? sobre partici?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:663
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:712
 msgid "Method"
 msgstr "M?tode"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:675
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:724
 msgid "1  - Extremely Low (Fastest)"
 msgstr "1  - Extremadament baixa (m?s r?pid)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:676
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:725
 msgid "2  - Very Low"
 msgstr "2  - Molt baixa"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:677
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:726
 msgid "3  - Low"
 msgstr "3  - Baixa"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:678
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:727
 msgid "4  - Medium"
 msgstr "4  - Mitjana"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:679
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:728
 msgid "5  - High (Default)"
 msgstr "5  - Alta (predeterminat)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:680
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:729
 msgid "6  - Very High"
 msgstr "6  - Molt alta"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:681
-msgid "6B - Very High (RDO on Bframes)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:730
+msgid "6B - Very High (RDO on B-frames)"
 msgstr "6B - Molt alta (RDO sobre fotog-B)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:682
-msgid "7 - Ultra High"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:731
+msgid "7  - Ultra High"
 msgstr "7 - Ultra alta"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:683
-msgid "7B - Ultra High (RDO on Bframes)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:732
+msgid "7B - Ultra High (RDO on B-frames)"
 msgstr "7B - Ultra alta (RDO sobre fotog-B)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:690
-msgid "Diamond search"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:739
+msgid "Diamond Search"
 msgstr "Cerca en diamant"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:691
-msgid "Hexagonal search"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:740
+msgid "Hexagonal Search"
 msgstr "Cerca hexagonal"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:692
-msgid "Uneven multi hexagon"
-msgstr "Multi hex?gon irregular"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:741
+msgid "Uneven Multi-hexagon"
+msgstr "Multi-hex?gon irregular"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:693
-msgid "Exhaustive search"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:742
+msgid "Exhaustive Search"
 msgstr "Cerca exhaustiva"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:705
-msgid "Set how many previous frames can be referenced by a P/B-frame. Numbers above 5 do not seem to improve quality greatly. Numbers are 3 to 5 are recommended"
-msgstr "Estableix quants fotogrames previs es poden referenciar per un fotograma-P/B. Els valors superiors a 5 no semblen millorar molt la qualitat. Es recomanen els valors de 3 a 5"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:750
+msgid "Max. Ref. Frames"
+msgstr "M?x. fotog. de refer."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:708
-msgid "Max. Ref. frames"
-msgstr "M?x. fotog. de ref."
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:715
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:757
 msgid "Range"
 msgstr "Rang"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:728
-msgid "Define how many pixels are analysised. The higher the range the more accurate the analysis but the slower the encoding time"
-msgstr "Defineix quans p?xels s'analitzen. Com m?s alt ?s el rang, m?s acurada ?s l'an?lisi, per? m?s lenta ?s la codificaci?."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:770
+msgid ""
+"Define how many pixels are analysed for motion estimation. The higher the "
+"range the more accurate the analysis but the slower the encoding time."
+msgstr ""
+"Defineix quants p?xels s'analitzen per a l'estimaci? del moviment. Com m?s "
+"alt ?s el rang, m?s acurada ?s l'an?lisi, per? m?s lenta ?s la codificaci?."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:731
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:779
+msgid ""
+"Set how many previous frames can be referenced by a P/B-frame. Numbers above "
+"5 do not seem to improve quality greatly. Numbers 3 to 5 are recommended."
+msgstr ""
+"Estableix quants fotogrames previs pot referenciar un fotograma-P/B. Els valors "
+"per sobre de 5 no semblen millorar molt la qualitat. Es recomanen valors de 3 a 5."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:782
 msgid "Chroma ME"
-msgstr "EM Croma"
+msgstr "Chroma ME"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:736
-msgid "Uses chroma (color) components for motion for compression and helps the quality"
-msgstr "Utilitza els components croma (color) per al moviment en la compressi?, tot afavorint aix? la qualitat."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:787
+msgid "Use color information for detecting motion to improve quality"
+msgstr "Usa la informaci? del color per detectar el moviment per tal de millorar la qualitat"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:739
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:790
 msgid "Mixed Refs"
-msgstr "Refs. m?ltiples"
+msgstr "Mixed Refs"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:744
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:795
 msgid "Calculate referencing individually based on each partition"
 msgstr "Calcula les refer?ncies individualment per a cada partici?."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:750
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:801
 msgid "Fast P-Skip"
 msgstr "Fast P-Skip"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:753
-msgid "Uncheck to enable fast p-skip"
-msgstr "Desmarqueu per habilitar fast p-skip."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:804
+msgid ""
+"Early skip detection on P-frames to speedup encoding. Quality will be "
+"slightly reduced."
+msgstr ""
+"Detecci? anticipada del salt en els fotogrames-P per tal d'accelerar la "
+"codificaci?. La qualitat es veur? lleugerament redu?da."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:756
-msgid "DCT decimate"
-msgstr "DCT decimate"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:807
+msgid "DCT Decimate"
+msgstr "DCT Decimate"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:760
-msgid "Interlace"
-msgstr "Entrella?a"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:812
+msgid "Interlaced"
+msgstr "Entrella?at"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:763
-msgid "Encode interlaced"
-msgstr "Codif. entrella?ada"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:815
+msgid "Input video is interlaced"
+msgstr "El v?deo d'entrada est? entrella?at"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:765
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:817
 msgid "<b>Motion Estimation</b>"
-msgstr "<b>Estimaci? movim.</b>"
+msgstr "<b>Estimaci? del moviment</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:792
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:804
-msgid "Enforce the size of a decoded pixel decoded to a certain value. Leave this at 1:1 for non-anamorphic video"
-msgstr "For?a un valor per a la mida d'un determinat p?xel descodificat. Deixeu aquest valor a 1:1 per a v?deo \"no anam?rfic\"."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:846
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:857
+msgid ""
+"Enforce the size of a decoded pixel decoded to a certain value. Set this to "
+"1:1 for non-anamorphic video."
+msgstr ""
+"For?a un valor per a la mida d'un determinat p?xel descodificat. Deixeu "
+"aquest valor a 1:1 per als v?deos no anam?rfics."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:796
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1051
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:850
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1058
 msgid ":"
 msgstr ":"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:813
-msgid "Set a custom aspect ratio. Default 1:1 is recommended for most video."
-msgstr "Estableix una relaci? d'aspecte personalitzada. El valor predeterminat (1:1) ?s el que es recomana per a  la majoria dels v?deos."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:866
+msgid "Set a custom aspect ratio. The default 1:1 is recommended for most video."
+msgstr ""
+"Estableix una relaci? d'aspecte personalitzada. El valor predeterminat (1:1) "
+"?s el que es recomana per a la majoria dels v?deos."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:818
-msgid "Predefined Aspect Ratios"
-msgstr "Relac. aspecte predefin. "
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:871
+msgid "Predefined Aspect Ratio"
+msgstr "Relac. aspecte predeterminada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:823
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:876
 msgid "Set a common predefined aspect ratio"
 msgstr "Estableix una relaci? d'aspecte predefinida."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:827
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1040
-msgid "As input"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:880
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1047
+msgid "As Input"
 msgstr "Com a l'entrada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:832
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1043
-msgid "Get PAR from input video file"
-msgstr "Obt? lal PAR (relaci? d'aspecte de p?xel) a partir d'un fitxer d'entrada de v?deo."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:901
+msgid "<b>Sample Aspect Ratio</b>"
+msgstr "<b>Relac. aspecte de mostra</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:856
-msgid "<b>Sample Aspect Ratio (A/R)</b>"
-msgstr "<b>Relac. aspecte mostra</b>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:878
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:928
 msgid "CABAC"
 msgstr "CABAC"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:881
-msgid "Lossless compression method which usually improves the bitrate usage by 15% (especially on high bitrate). Helps the quality a lot but is slower. "
-msgstr "M?tode de compressi? sense p?rdua que generalment millora l'?s de la taxa de bits en un 15% (especialment en cas de taxa de bits alta). Afavoreix molt la qualitat, per? ?s m?s lent."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:931
+msgid ""
+"Lossless compression technique that reduces bitrate by approximately 10%. "
+"Increases encoding and decoding time."
+msgstr ""
+"T?cnica de compressi? sense p?rdua que redueix la taxa de bits m?s o menys "
+"en un 10%. Augmenta els temps de codificaci? i de descodificaci?."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:884
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:938
 msgid "Trellis"
 msgstr "Trellis"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:893
-msgid "Use rate distortion quantization to find optimal encoding for each block. Level 0 equals disabled, level 1 equals normal and level 2 equals high"
-msgstr "Utilitza la quantificaci? de l'alteraci? de la taxa per trobar la codificaci? ?ptima per a cada bloc. El nivell 0 significa deshabilitat, el nivell 1 significa normal i el nivell 2 significa alt."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:947
+msgid ""
+"Use Trellis Rate Distortion Optimisation to find optimal encoding for each "
+"block. Level 0 equals disabled, level 1 equals normal and level 2 equals "
+"high."
+msgstr ""
+"Utilitza una optimitzaci? de la distorsi? de la taxa de Trellis per trobar la "
+"codificaci? ?ptima per a cada bloc. El nivell 0 significa deshabilitat, el "
+"nivell 1 significa normal i el nivell 2 significa alt."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:900
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:954
 msgid "Noise Reduction"
-msgstr "Reducci? soroll"
+msgstr "Noise Reduction"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:909
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:963
 msgid "Set the amount of noise reduction"
-msgstr "Estableix el nivell de reducci? de soroll."
+msgstr "Estableix el nivell de reducci? de soroll"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:916
-msgid "Deblocking Filter :"
-msgstr "Filtre desbloqueig:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:970
+msgid "Deblocking Filter"
+msgstr "Deblocking Filter"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:919
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:973
 msgid "Enable in-loop deblocking to filter the video"
-msgstr "Permet el desbloqueig \"in-loop\" per filtrar el v?deo."
+msgstr "Habilita el filtre antiblocs in-loop per al v?deo."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:932
-msgid "Set the amount of blurring to use for block edges when they are found"
-msgstr "Estableix el nivell de desenfocament que s'utilitzar? en les vores dels blocs quan es trobin."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:990
+msgid "Strength"
+msgstr "For?a"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:941
-msgid "Define the level for when deblocking is applied"
-msgstr "Defineix el nivell per al qual s'aplica el desbloqueig."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1004
+msgid ""
+"Threshold for block detection. Positive values will detect more blocks, "
+"negative values will detect less."
+msgstr ""
+"Llindar per a la detecci? de blocs. Els valors positius detectaran m?s "
+"blocs, els negatius en detectaran menys."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:944
-msgid "<i>Threshold</i>"
-msgstr "<i>Llindar</i>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1013
+msgid "Positive values will soften the video, negative values will sharpen"
+msgstr "Els valors positius suavitzaran el v?deo, els negatius l'aguditzaran."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:952
-msgid "<i>Strength</i>"
-msgstr "<i>For?a</i>"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:960
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1016
 msgid "<b>Misc. Options</b>"
 msgstr "<b>Opcions diverses</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:965
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1066
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1021
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1073
 msgid "Motion & Misc"
 msgstr "Moviment i altres"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:986
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1047
 msgid "8x8 Transform"
 msgstr "Transformaci? 8x8"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:989
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1050
 msgid "General block breakdown transformation"
-msgstr "Transformaci? per an?lisi general de bloc."
+msgstr "Transformaci? per an?lisi general de bloc"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:992
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1053
 msgid "8x8, 8x16 and 16x8 P-frame search"
 msgstr "Cerca fotog-P 8x8, 8x16 i 16x8"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:995
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1056
 msgid "Improve the P-frame quality"
-msgstr "Millora la qualitat del fotograma-P."
+msgstr "Millora la qualitat del fotograma-P"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:998
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1059
 msgid "8x8, 8x16 and 16x8 B-frame search"
 msgstr "Cerca fotog-B 8x8, 8x16 i 16x8"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1001
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1062
 msgid "Improve the B-frame quality"
-msgstr "Millora la qualitat del fotograma-B."
+msgstr "Millora la qualitat del fotograma-B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1004
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1065
 msgid "4x4, 4x8 and 8x4 P-frame search"
 msgstr "Cerca fotog-P 4x4, 4x8 i 8x4"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1007
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1068
 msgid "Further improve the P-frame quality"
-msgstr "Millora encara m?s la qualitat del fotograma-P."
+msgstr "Millora encara m?s la qualitat del fotograma-P"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1009
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1070
 msgid "8x8 Intra search"
 msgstr "Cerca fotog-I 8x8"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1012
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1073
 msgid "Enable DCT Intra block search to improve quality"
-msgstr "Habilita la cerca de fotogrames-I per DCT per tal de millorar la qualitat."
+msgstr "Habilita la cerca Intra block DCT per tal de millorar la qualitat."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1015
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1076
 msgid "4x4 Intra search"
 msgstr "Cerca fotog-I 4x4"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1018
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1079
 msgid "Further enable DCT Intra block search to improve quality"
-msgstr "Habilitaci? addicional de la cerca de fotogrames-I per DCT per tal de millorar encara m?s la qualitat."
+msgstr ""
+"Habilitaci? addicional de la cerca Intra block DCT per tal de "
+"millorar encara m?s la qualitat"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1021
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1082
 msgid "<b>Partition Macroblocks</b>"
-msgstr "<b>Macroblocs de partici?</b>"
+msgstr "<b>Partici? de macroblocs</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1043
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1106
 msgid "Bias"
 msgstr "Polaritzaci?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1056
-msgid "Increase / decrease probability for how often B-frames are used. Will not violate the maximum consecutive frame limit"
-msgstr "Augmenta / disminueix la probabilitat d'?s freq?ent dels fotogrames-B. No vulnerar? el l?mit m?xim de fotogrames consecutius."
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1065
-msgid "Set the maximum number of consecutive B-frames. This defines how many duplicate frames can be droped. Numbers 2 to 5 are recommended. This greatly improves the use of bitrate and quality"
-msgstr "Estableix el nombre m?xim de fotogrames-B consecutius. Defineix quants fotogrames duplicats es poden descartar. Es recomanen els valors de 2 a 5. Millora enormement tant l'?s de la taxa de bits com la qualitat."
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1068
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1113
 msgid "Max Consecutive"
 msgstr "M?x. consecutius"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1079
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1126
+msgid ""
+"Increase / decrease probability for how often B-frames are used. It will not "
+"violate the maximum consecutive frame limit."
+msgstr ""
+"Augmenta / disminueix la probabilitat d'?s freq?ent dels fotogrames-B. No "
+"vulnerar? el l?mit m?xim de fotogrames consecutius."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1135
+msgid ""
+"Set the maximum number of consecutive B-frames. This defines how many "
+"duplicate frames can be dropped. Numbers 2 to 5 are recommended. This "
+"greatly improves the use of bitrate and quality."
+msgstr ""
+"Estableix el nombre m?xim de fotogrames-B consecutius. Defineix quants "
+"fotogrames duplicats es poden descartar. Es recomanen els valors de 2 a 5. "
+"Millora enormement tant l'?s de la taxa de bits com la qualitat."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1149
 msgid "Bidirectional ME"
 msgstr "EM bidireccional"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1084
-msgid "Jointly optimize both Motion Vector's in B-frames. This will improve quality but take more time for encoding"
-msgstr "Optimitza tamb? el vector de moviment en fotogrames-B. Aix? probablement millorar? la qualitat, per? requerir? m?s temps per a la codificaci?."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1154
+msgid ""
+"Optimise both motion vectors in B-frames. This will improve quality but take "
+"more time for encoding."
+msgstr ""
+"Optimitza ambd?s vectors de moviment en fotogrames-B. Aix? millorar? "
+"la qualitat, per? requerir? m?s temps per a la codificaci?."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1086
-msgid "Weighted biprediction"
-msgstr "Predicci? ponderada"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1156
+msgid "Weighted Biprediction"
+msgstr "Weighted Biprediction"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1091
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1161
 msgid "Enables weighting of B-frames to help fades"
-msgstr "Habilita la ponderaci? de fotogrames-B per facilitar les fusions (\"fades\")."
+msgstr "Habilita la ponderaci? de fotogrames-B per facilitar els efectes de fusi? (fades)."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1094
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1164
 msgid "Adaptative DCT"
 msgstr "DCT adaptativa"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1099
-msgid "Use fewer B-frame if needed. This is always recommended. If not enabled, the codec will always use the maximum number of consecutive B-frames"
-msgstr "Usa menys fotogrames-B si cal. Aix? sempre ?s recomanable. Si no s'habilita, el c?dec sempre usar? el m?xim nombre de fotogrames-B consecutius."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1169
+msgid ""
+"Use fewer B-frames if needed. This is always recommended. If not enabled, "
+"the codec will always use the maximum number of consecutive B-frames."
+msgstr ""
+"Usa menys fotogrames-B. Aix? sempre ?s recomanable. Si no s'habilita, "
+"el c?dec sempre usar? el m?xim nombre de fotogrames-B consecutius."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1102
-msgid "Use as reference"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1172
+msgid "Use as Reference"
 msgstr "Usa com a refer?ncia"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1107
-msgid "Allow B-frames to make references non-linearly to another B-frame (instead of creating a duplicate copy)"
-msgstr "Permet als fotogrames-B fer refer?ncies no linealment a un altre fotograma-B (en comptes de crear-ne un duplicat)."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1177
+msgid ""
+"Allow B-frames to make references non-linearly to another B-frame (instead "
+"of creating a duplicate copy)"
+msgstr ""
+"Permet als fotogrames-B fer refer?ncies no linealment a un altre fotograma-B "
+"(en comptes de crear-ne un duplicat)."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1113
-msgid "B-Frame Direct Mode:  "
-msgstr "Mode adre?ament fotog-B:  "
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1183
+msgid "B-Frame Direct Mode"
+msgstr "B-Frame Direct Mode"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1121
-msgid "Auto"
-msgstr "Auto"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1192
+msgid "Spatial"
+msgstr "Espacial"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1122
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1193
 msgid "Temporal"
 msgstr "Temporal"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1123
-msgid "Spatial"
-msgstr "Espacial"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1194
+msgid "Auto"
+msgstr "Auto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1126
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1196
 msgid "<b>B-Frames</b>"
-msgstr "<b>Fotogr.-B</b>"
+msgstr "<b>Fotogrames-B</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1131
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1201
 msgid "Partitions & Frames"
-msgstr "Particions i fotogr."
+msgstr "Particions i fotogrames"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1159
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1236
 msgid "Set how much \"bitrate bonus\" a keyframe can get"
 msgstr "Estableix quants \"bons de taxa de bits\" pot obtenir un fotograma clau."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1162
-msgid "Keyframe boost (%)"
-msgstr "Millora fotog. clau (%) "
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1245
+msgid ""
+"Set how much bitrate is deducted from a B-frame as compared to the previous "
+"P-frame"
+msgstr ""
+"Estableix quina taxa de bits es resta d'un fotograma-B amb comparaci? amb el "
+"fotograma-P anterior."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1169
-msgid "B-frame reduction (%)"
-msgstr "Reducci? fotog-B (%)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1254
+msgid ""
+"Define how much the bitrate can fluctuate over the entire video. 0% results "
+"in a constant bitrate stream, while 100% results in a pure quality based "
+"bitrate stream."
+msgstr ""
+"Defineix en quina mesura la taxa de bits pot fluctuar al llarg de tot el v?deo. "
+"Un 0% suposa un flux constant, mentre que un 100% suposa una taxa de "
+"bits basada ?nicament en la qualitat."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1176
-msgid "Bitrate variability (%)"
-msgstr "Variabilitat taxa bits (%)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1257
+msgid "Keyframe Boost (%)"
+msgstr "Millora fotogrames clau (%)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1189
-msgid "Set how much bitrate is deducted from a B-frame as compared to the previous P-frame"
-msgstr "Estableix quina taxa de bits es resta d'un fotograma-B amb comparaci? amb el fotograma-P anterior."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1264
+msgid "B-frame Reduction (%)"
+msgstr "Reducci? fotogrames-B (%)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1198
-msgid "Define how much the bitrate can fluctuate over the entire video. 0% results in a constant bitrate stream, while 100% results in a pure quality based bitrate stream"
-msgstr "Defineix en quina mesura la taxa de bits pot fluctuar al llarg de tot el v?deo. Un 0% suposa un flux constant, mentre que un 100% suposa una taxa de bits basada ?nicament en la qualitat."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1271
+msgid "Bitrate Variability (%)"
+msgstr "Variabilitat taxa bits (%)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1201
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1278
 msgid "<b>Bitrate</b>"
 msgstr "<b>Taxa de bits</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1219
-msgid "Min Qp"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1298
+msgid "Min QP"
 msgstr "QP m?n."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1226
-msgid "Max Qp"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1305
+msgid "Max QP"
 msgstr "QP m?x."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1233
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1312
 msgid "Max QP Step"
 msgstr "Salt m?x. QP"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1247
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1326
 msgid "Enforce a minimum quantizer level"
-msgstr "For?a un nivell m?nim de quantificador."
+msgstr "For?a un nivell m?nim de quantificador"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1256
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1335
 msgid "Enforce a maximum quantizer level"
-msgstr "For?a un nivell m?xim de quantificador."
+msgstr "For?a un nivell m?xim de quantificador"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1265
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1344
 msgid "Define how much the quantizer rate can change between two consecutive frames"
-msgstr "Defineix en quina mesura la taxa del quantificador pot canviar entre dos fotogrames consecutius."
+msgstr ""
+"Defineix en quina mesura la taxa del quantificador pot canviar entre dos "
+"fotogrames consecutius."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1268
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1347
 msgid "<b>Quantization Limits</b>"
 msgstr "<b>L?mits quantificaci?</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1286
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1374
+msgid ""
+"Increase / decrease sensitivity for detecting scene changes. Improves I-"
+"frame usage and quality."
+msgstr ""
+"?s l'increment o decrement de la sensibilitat per detectar canvis d'escena. "
+"Millora l'?s dels fotogrames-I i afavoreix la qualitat."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1377
 msgid "Scene Cut Threshold"
 msgstr "Llindar tall escena"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1300
-msgid "Increase / decrease sensitivity for detecting Scene Changes to compensate for. Improves I-frame usage and helps quality"
-msgstr "?s l'increment o decrement de la sensibilitat per detectar canvis d'escena a compensar. Millora l'?s dels fotogrames-I i afavoreix la qualitat."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1384
+msgid "Min IDR Frame Interval"
+msgstr "Interval m?n. fotog.-IDR"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1303
-msgid "Min IDR frame interval"
-msgstr "Interval m?n. fotog. IDR"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1397
+msgid ""
+"Set minimum frame interval between IDR frames. Defines the minimum amount a "
+"frame can be reused and referenced by other frames before a new IDR frame is "
+"established."
+msgstr ""
+"Estableix l'interval m?nim entre els fotogrames-IDR. Defineix el m?nim de "
+"cops que es pot reutilitzar i referenciar un fotograma per altres fotogrames "
+"abans que s'estableixi un nou fotograma-IDR."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1316
-msgid "Set minimum frame interval between IDR frames. Defines the minimum amount a frame can be reused and referenced by other frames before a new clean one is established"
-msgstr "Estableix l'interval m?nim entre els fotogrames IDR. Defineix el m?nim de cops que es pot reutilitzar i referenciar un fotograma per altres fotogrames abans que se n'estableixi un de nou."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1406
+msgid ""
+"Set maximum frame interval between IDR frames. Defines the maximum amount a "
+"frame can be reused and referenced by other frames before a new IDR frame is "
+"established."
+msgstr ""
+"Estableix l'interval m?xim entre fotogrames-IDR. Defineix el m?xim nombre de "
+"cops que es pot reusar i referenciar un fotograma per altres fotogrames "
+"abans que s'estableixi un nou fotograma-IDR."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1325
-msgid "Set maximum frame interval between IDR frames. Defines the maximum amount a frame can be reused and referenced by other frames before a new clean one is established"
-msgstr "Estableix l'interval m?xim entre fotogrames IDR. Defineix el m?xim nombre de cops que es pot reusar i referenciar un fotograma per altres fotogrames abans que se n'estableixi un altre de nou."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1409
+msgid "Max IDR Frame Interval"
+msgstr "Interval m?x. fotog.-IDR"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1328
-msgid "Max IDR frame interval"
-msgstr "Interval m?x. fotog. IDR"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1335
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1416
 msgid "<b>More Rate Settings</b>"
 msgstr "<b>M?s configs. taxa</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1353
-msgid "VBV buffer size"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1436
+msgid "VBV Buffer Size"
 msgstr "Mida buffer VBV"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1360
-msgid "Initial VBV buffer (%)"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1443
+msgid "Initial VBV Buffer (%)"
 msgstr "Buffer VBV inicial (%)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1367
-msgid "Maximum local bitrate"
-msgstr "Taxa de bits local m?x. "
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1450
+msgid "Maximum Local Bitrate"
+msgstr "Taxa de bits local m?x."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1398
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1481
 msgid "<b>Video Buffer Verifier</b>"
-msgstr "<b>Verific. mida v?deo:</b>"
+msgstr "<b>Verificador de la mida del v?deo</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1430
-msgid "Allowed variance of average bitrate. Lower values mean less variance. Higher values mean more variance."
-msgstr "Vari?ncia permesa de la mitjana de la taxa de bits. Els valors baixos suposen menys vari?ncia, i els alts suposen m?s vari?ncia."
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1433
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1514
 msgid "Bitrate Variance"
 msgstr "Vari?ncia taxa bits "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1446
-msgid "Allowed variance of average quantizer or quality. Lower values mean less variance. Higher values mean more variance. Note that 0 means constant quality while 1 means constant fluctuation. Recommended 0.6."
-msgstr "Vari?ncia permesa de la mitjana del quantificador o de la qualitat. Els valors baixos suposen menys vari?ncia, i els alts m?s vari?ncia. Noteu que 0 suposa una qualitat constant, mentre que 1 suposa fluctuaci? constant. El valor recomanat ?s 0.6."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1527
+msgid ""
+"Allowed variance of average bitrate. Lower values mean less variance. Higher "
+"values mean more variance."
+msgstr ""
+"Vari?ncia permesa de la mitjana de la taxa de bits. Els valors baixos "
+"suposen menys vari?ncia, i els alts suposen m?s vari?ncia."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1455
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1536
+msgid ""
+"Allowed variance of average quantizer or quality. Lower values mean less "
+"variance. Higher values mean more variance. Note that 0 means constant "
+"quality while 1 means constant fluctuation. Recommended 0.6."
+msgstr ""
+"Vari?ncia permesa de la mitjana del quantificador o de la qualitat. Els "
+"valors baixos suposen menys vari?ncia, i els alts m?s vari?ncia. Noteu que 0 "
+"suposa una qualitat constant, mentre que 1 suposa fluctuaci? constant. El "
+"valor recomanat ?s 0.6."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1545
 msgid "Reduced fluctuations in Quantizer (before curve compression)"
 msgstr "Fluctuacions redu?des en el quantificador (abans de la corba de compressi?)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1464
-msgid "Reduce fluctuations in QP (after curve compression)"
-msgstr "Fluctuacions redu?des en el QP (despr?s de la corba de compressi?)."
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1467
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1556
 msgid "Quantizer Compression"
 msgstr "Compressi? quantificador "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1474
-msgid "Temp. Blur of est Frame Complexity"
-msgstr "Fluctuac. temp. complexitat fotog. est."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1563
+msgid "Temp. Blur of Est. Frame Complexity"
+msgstr "Temp. Blur of Est. Frame Complexity"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1481
-msgid "Temp. Blur of Quant after CC"
-msgstr "Fluctuac. temp. del quantif. despr?s CC "
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1570
+msgid "Temp. Blur of Quant. after CC"
+msgstr "Temp. Blur of Quant. after CC"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1488
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1577
 msgid "<b>Misc</b>"
 msgstr "<b>Diverses</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1512
-msgid "Quantization factors used between I- and P- frames"
-msgstr "Factors de quantificaci? usats entre fotog-I i fotog-P."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1603
+msgid "Quantization factors used between I and P-frames"
+msgstr "Factors de quantificaci? usats entre fotog-I i fotog-P"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1521
-msgid "Quantization used between P- and B- frames"
-msgstr "Quantificaci? usada entre fotog-P i B"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1612
+msgid "Quantization used between P and B-frames"
+msgstr "Quantificaci? usada entre fotogrames-P i B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1530
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1621
 msgid "Quantization difference between chroma (color) and luma (brightness)"
-msgstr "Difer?ncia de quantificaci? entre croma (color) i luma (lluminositat). "
+msgstr "Difer?ncia de quantificaci? entre cromin?ncia (color) i lumin?ncia (lluminositat)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1533
-msgid "Factor between I and P frame Quants"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1624
+msgid "Factor between I and P-frame Quants"
 msgstr "Factor entre quantifics. fotog-I i P"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1540
-msgid "Factor between P and B frame Quants"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1631
+msgid "Factor between P and B-frame Quants"
 msgstr "Factor entre quantifics. fotog-P i B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1547
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1638
 msgid "Chroma QP Offset"
-msgstr "Despla?. QP croma "
+msgstr "Despla?. QP cromin?ncia"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1554
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1645
 msgid "<b>Quantizers</b>"
 msgstr "<b>Quantificadors</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1572
-msgid "Custom matrix"
-msgstr "Matriu personal."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1663
+msgid "Flat Matrix"
+msgstr "Matriu plana"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1581
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1128
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1670
+msgid "JVT Matrix"
+msgstr "Matriu JVT"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1680
+msgid "Custom Matrix"
+msgstr "Matriu personalitzada"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1690
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1135
 msgid "Open CQM file"
 msgstr "Obre fitxer de CQM"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1587
-msgid "JVT matrix"
-msgstr "Matriu JVT"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1595
-msgid "Flat matrix"
-msgstr "Matriu plana "
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1604
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1136
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1568
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1698
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1143
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1575
 msgid "Edit Custom Matrix"
 msgstr "Edita matriu personalitzada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1609
-msgid "Edit a loaded custom quantization matrix file"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1701
+msgid "Edit loaded custom quantization matrix file"
 msgstr "Edita un fitxer de matriu de quantificaci? personalitzada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1617
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1703
 msgid "<b>Quantization Matrices</b>"
 msgstr "<b>Matrius quantificaci?</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1622
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1708
 msgid "More"
 msgstr "M?s"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1630
-msgid "Defaults"
-msgstr "Valors predet."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1716
+msgid "_Defaults"
+msgstr "Valors _predeterm."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:237
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:241
 msgid "Xvid Encoder"
 msgstr "Codificador Xvid"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:250
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:254
 msgid "Constant Quantizer"
 msgstr "Quantificador constant"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:258
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:262
 msgid "Constant Bitrate (kbps)"
 msgstr "Taxa bits constant (kbps)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:266
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:270
 msgid "Dual pass (MBytes)"
 msgstr "2 Passades (MBytes)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:292
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:296
 msgid "Basic"
 msgstr "B?sica"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:301
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:305
 msgid "Motion Search"
 msgstr "Cerca moviment"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:317
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:321
 msgid "Max I frame interval "
 msgstr "M?x. interval fotog-I"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:333
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:337
 msgid "Min I frame interval"
-msgstr "Min. interval fotog-I"
+msgstr "M?n. interval fotog-I"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:357
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:884
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:361
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:891
 msgid "0 - None"
 msgstr "0 - Cap"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:361
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:365
 msgid "1- Very low"
 msgstr "1- Molt baixa"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:365
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:369
 msgid "2- Low"
 msgstr "2- Baixa"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:369
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:373
 msgid "3- Medium"
 msgstr "3- Mitjana"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:373
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:377
 msgid "4- High"
 msgstr "4- Alta"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:377
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:381
 msgid "5- Very High"
 msgstr "5- Molt alta"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:381
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:385
 msgid "6- Ultra High"
 msgstr "6- Ultra alta"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:395
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:399
 msgid "H263 Quantizer"
 msgstr "Quantificador H263"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:400
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:404
 msgid "MPEG Quantizer"
 msgstr "Quantificador MPEG"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:407
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:411
 msgid "Advanced"
 msgstr "Avan?at"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:416
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:420
 msgid "Min I Frame Qzer"
-msgstr "M?n. qfic. fotog-I"
+msgstr "M?n. quantif. fotog-I"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:424
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:428
 msgid "Max I Frame Qzer"
-msgstr "M?x. qfic. fotog-I"
+msgstr "M?x. quantif. fotog-I"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:432
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:436
 msgid "Min P Frame Qzer"
-msgstr "M?n. qfic. fotog-P"
+msgstr "M?n. quantif. fotog-P"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:440
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:444
 msgid "Max P Frame Qzer"
-msgstr "M?x. qfic. fotog-P"
+msgstr "M?x. quantif. fotog-P"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:480
-msgid "Quantizer"
-msgstr "Quantificador"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:485
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:489
 msgid "Not Yet!"
 msgstr "Encara no!"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:490
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:494
 msgid "B Frames"
 msgstr "Fotogrames-B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:109
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:114
 msgid "Select Xvid matrix file to load"
-msgstr "Seleccioneu la matriu d'Xvid per carregar."
+msgstr "Seleccioneu la matriu d'Xvid per carregar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:121
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:126
 msgid "Error Loading"
-msgstr "S'ha produ?t un error en la c?rrega."
+msgstr "S'ha produ?t un error en la c?rrega"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:121
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:126
 msgid "Error loadind the custom matrix file."
 msgstr "S'ha produ?t un error en carregar el fitxer de la matriu personalitzada."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:139
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:144
 msgid "Matrix Loaded"
-msgstr "S'ha carregat la matriu."
+msgstr "S'ha carregat la matriu"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:139
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:144
 msgid "The custom matrix file has been successfully loaded."
 msgstr "El fitxer de matriu personalitzada s'ha carregat satisfact?riament."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:179
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:181
 msgid "Size (MBytes):"
 msgstr "Mida (MBytes): "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:185
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:369
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:187
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:371
 msgid "Average bitrate (kb/s):"
 msgstr "Taxa bits mitjana (kb/s): "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:354
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:356
 msgid "Target bitrate (kb/s):"
 msgstr "Taxa bits sortida (kbps): "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:362
-msgid "Target size (MBytes):"
-msgstr "Mida sortida (MBytes): "
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:364
+msgid "Target video size (MB):"
+msgstr "Mida v?deo sortida (MBytes):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:479
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:486
 msgid "Select Custom Matrix File to write"
-msgstr "Seleccioneu el fitxer de matriu personalitzada per escriure."
+msgstr "Seleccioneu el fitxer de matriu personalitzada per escriure"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:484
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:491
 msgid "Error Writing"
-msgstr "S'ha produ?t un error d'escriptura."
+msgstr "S'ha produ?t un error d'escriptura"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:484
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:491
 msgid "Error writing the custom matrix file."
-msgstr "S'ha produ?t un error en escriure el fitxer de matriu personalitzada."
+msgstr "S'ha produ?t un error en escriure el fitxer de matriu personalitzada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:700
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:707
 msgid "XviD encoding options"
 msgstr "Opcions de codificaci? de l'XviD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:734
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:741
 msgid "Encoding type:"
 msgstr "Tipus de codificaci?: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:739
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:746
 msgid "Bitrate (kb/s):"
 msgstr "Taxa de bits (kb/s): "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:744
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:751
 msgid "Quantizer:"
 msgstr "Quantificador: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:756
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:763
 msgid "Select 1-pass or 2-pass encoding"
 msgstr "Seleccioneu codificaci? en 1 o en 2 passades"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:760
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:123
-msgid "Single pass - bitrate"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:767
+msgid "Single Pass - Bitrate"
 msgstr "Passada ?nica - taxa de bits"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:764
-msgid "Single pass - quantizer"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:771
+msgid "Single Pass - Quantizer"
 msgstr "Passada ?nica - quantificador"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:768
-msgid "Two pass, final size"
-msgstr "2 Passades - mida final"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:772
-msgid "Two pass, average bitrate"
-msgstr "2 Passades - taxa de bits mitjana"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:776
-msgid "Same Qz as input"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:783
+msgid "Same Quantizer as Input"
 msgstr "Mateix quantificador que l'entrada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:785
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:792
 msgid "Target video bitrate"
 msgstr "Taxa bits v?deo sortida"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:792
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:799
 msgid "Constant quantizer - each frame will get the same compression"
 msgstr "Quantificador constant - cada fotograma se sotmetr? a la mateixa compressi?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:794
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:801
 msgid "Variable bitrate mode"
 msgstr "Mode taxa de bits variable"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:806
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:813
 msgid "_Interlaced"
-msgstr "Entrella?at"
+msgstr "_Entrella?at"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:809
-msgid "Enables interlaced frame support - use only if your source contains interlacing artifacts (i.e. fields instead of progressive frames)"
-msgstr "Habilita el suport de fotograma entrella?at. Utilitzeu-lo nom?s si la font cont? entrella?aments (com per ex.,  marcs en comptes de fotogrames progressius)."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:816
+msgid ""
+"Enables interlaced frame support - use only if your source contains "
+"interlacing artifacts (i.e. fields instead of progressive frames)"
+msgstr ""
+"Habilita el suport de fotograma entrella?at. Utilitzeu-lo nom?s si la font "
+"cont? entrella?aments (com per ex., camps en comptes de fotogrames "
+"progressius)."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:811
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:818
 msgid "_Greyscale"
-msgstr "Escala de grisos"
+msgstr "E_scala de grisos"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:814
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:821
 msgid "Encode in black & white"
 msgstr "Codifica en blanc i negre"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:820
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:827
 msgid "Ca_rtoon mode"
-msgstr "Mode dibuixos animats "
+msgstr "Mode _dibuixos animats "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:823
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:830
 msgid "Enables special motion estimation features for cartoons/anime"
-msgstr "Habilita les caracter?stiques especials d'estimaci? de moviment per a caricatures/animacions."
+msgstr ""
+"Habilita les caracter?stiques especials d'estimaci? de moviment per a "
+"caricatures/animacions."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:825
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:832
 msgid "C_hroma optimizer"
-msgstr "Optimitzador de croma"
+msgstr "Optimitzador de cromin?ncia"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:828
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:835
 msgid "Enables a chroma optimizer prefilter"
-msgstr "Habilita un prefiltre optimitzador croma"
+msgstr "Habilita un prefiltre optimitzador de cromin?ncia"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:834
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:841
 msgid "Turbo Mode"
 msgstr "Mode turbo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:837
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:844
 msgid "Enables fast 1st pass encoding"
 msgstr "Habilita la codificaci? r?pida en la primera passada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:839
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:846
 msgid "Packed bitstream"
 msgstr "Flux bits empaquetat"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:842
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:849
 msgid "Enables Divx like packed vop, DO NOT SET, it is ugly"
-msgstr "Habilita el vop empaquetat com a Divx. No seleccioneu aquesta opci?: queda lleig."
+msgstr ""
+"Habilita el vop empaquetat com a Divx. "
+"No seleccioneu aquesta opci?: queda lleig."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:844
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:851
 msgid "Main"
 msgstr "Principals"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:863
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:870
 msgid "Motion search precision:"
 msgstr "Precisi? de cerca de moviment:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:867
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:874
 msgid "VHQ mode:"
 msgstr "Mode VHQ:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:880
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:887
 msgid "Higher settings give higher quality results, at the cost of slower encoding"
-msgstr "Uns valors m?s elevats donen millor qualitat, per? a canvi d'una descodificaci? m?s lenta."
+msgstr ""
+"Uns valors m?s elevats donen millor qualitat, per? a canvi d'una "
+"descodificaci? m?s lenta."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:888
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:895
 msgid "1 - Very low"
 msgstr "1 - Molt baixa"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:892
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:899
 msgid "2 - Low"
 msgstr "2 - Baixa"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:896
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:903
 msgid "3 - Medium"
 msgstr "3 - Mitjana"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:900
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:907
 msgid "4 - High"
 msgstr "4 - Alta"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:904
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:911
 msgid "5 - Very high"
 msgstr "5 - Molt alta"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:908
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:915
 msgid "6 - Ultra high"
 msgstr "6 - Ultra alta"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:917
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:924
 msgid "VHQ enables an additional search process to increase quality"
 msgstr "El VHQ habilita un proc?s de cerca addicional per augmentar la qualitat."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:921
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:928
 msgid "0 - Off"
 msgstr "0 - Deshabilitat"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:925
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:932
 msgid "1 - Mode decision"
 msgstr "1 - Mode decisi?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:929
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:936
 msgid "2 - Limited search"
 msgstr "2 - Cerca limitada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:933
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:940
 msgid "3 - Medium search"
 msgstr "3 - Cerca mitjana"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:937
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:944
 msgid "4 - Wide search"
 msgstr "4 - Cerca ?mplia"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:947
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:954
 msgid "C_hroma motion"
-msgstr "Moviment c_roma"
+msgstr "C_hroma motion"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:950
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:957
 msgid "Use chroma information to estimate motion"
-msgstr "Usa la informaci? de croma per estimar el moviment"
+msgstr "Usa la informaci? de cromin?ncia per estimar el moviment"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:952
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:959
 msgid "_4MV"
-msgstr "x _MV"
+msgstr "_4MV"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:955
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:962
 msgid "Use 4 motion vectors per macroblock, might give better compression"
-msgstr "Usa vectors de moviment per macrobloc, pot ser que doni millor compressi?"
+msgstr "Usa 4 vectors de moviment per macrobloc, pot ser que doni millor compressi?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:957
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:964
 msgid "HQ _AC"
 msgstr "HQ _AC"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:960
-msgid "Enable a better prediction of AC component. Turns on Lumi masking - applies more compression to dark/light areas that the eye cannot notice easily"
-msgstr "Permet una predicci? m?s acurada dels components AC. Activa la m?scara Lumi - aplica m?s compressi? als sectors clarobscurs que l'ull no pot apreciar f?cilment."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:967
+msgid ""
+"Enable a better prediction of AC component. Turns on Lumi masking - applies "
+"more compression to dark/light areas that the eye cannot notice easily"
+msgstr ""
+"Permet una predicci? m?s acurada dels components AC. Activa la m?scara Lumi "
+"- aplica m?s compressi? als sectors clarobscurs que l'ull no pot apreciar "
+"f?cilment."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:966
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:973
 msgid "I-frame interval - Min:"
-msgstr "Interval Fotog-I - m?n:"
+msgstr "Interval fotog-I - m?n.:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:974
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:981
 msgid "Minimum space between I-frames, 1 will disable forced I-frame spacing"
-msgstr "M?nim espai entre fotogrames-I. El valor 1 deshabilitar? l'espaiat for?at de fotograma-I."
+msgstr ""
+"M?nim espai entre fotogrames-I. El valor 1 deshabilitar? l'espaiat for?at de "
+"fotograma-I."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:976
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1194
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1199
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1204
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:983
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1201
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1206
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1211
 msgid "Max:"
 msgstr "m?x.:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:984
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:991
 msgid "Maximum number of frames allowed between I-frames"
 msgstr "M?xim nombre de fotogrames perm?s entre fotogrames-I."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:999
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1006
 msgid "Number of B-frames:"
 msgstr "Nombre de fotog-B:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1007
-msgid "Maximum number of sequential B-frames (when set to 0, the original I/P encoder is used)"
-msgstr "M?xim nombre de fotogrames-B seq?encials. Quan es fixa a 0, s'utilitza el codificador original d'I/P."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1014
+msgid ""
+"Maximum number of sequential B-frames (when set to 0, the original I/P "
+"encoder is used)"
+msgstr ""
+"M?xim nombre de fotogrames-B seq?encials. Quan es fixa a 0, s'utilitza el "
+"codificador original d'I/P."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1013
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1020
 msgid "_Qpel"
 msgstr "_Qpel"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1016
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1023
 msgid "Use Quarter pixel resolution for a more precise motion estimation"
-msgstr "Usa la resoluci? de quart de p?xel per a una estimaci? del moviment m?s precisa."
+msgstr ""
+"Usa la resoluci? de quart de p?xel per a una estimaci? del moviment m?s "
+"precisa."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1021
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1028
 msgid "Global Motion Compensation can save bits on camera pans, zooming and rotation"
-msgstr "La Compensaci? Global de Moviment pot estalviar bits en panor?miques de c?mera, zooming i rotaci?."
+msgstr ""
+"La Compensaci? Global de Moviment pot estalviar bits en panor?miques de "
+"c?mera, zooming i rotaci?."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1023
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1030
 msgid "_BVHQ"
 msgstr "_BVHQ"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1026
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1033
 msgid "Produces nicer-looking B-frames"
 msgstr "Produeix fotogrames-B m?s vistosos."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1049
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1050
+msgid "Get PAR from input video file"
+msgstr ""
+"Obt? la PAR (relaci? d'aspecte de p?xel) a partir d'un fitxer d'entrada de "
+"v?deo."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1056
 msgid "Pixel Width"
 msgstr "Amplada p?xel"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1060
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1067
 msgid "Pixel Height"
 msgstr "Al??ria p?xel"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1061
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1068
 msgid "Pixel Aspect Ratio"
 msgstr "Relaci? aspecte p?xel"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1079
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1086
 msgid "Quantization type:"
 msgstr "Tipus quantificaci?: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1083
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1090
 msgid "_H.263"
 msgstr "_H.263"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1086
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1093
 msgid "H.263 quantizers smooth the picture (useful at lower bitrates)"
-msgstr "Els quantificadors d'H.263 suavitzen el quadre. S?n ?tils en els sup?sits de les taxes de bit m?s baixes."
+msgstr ""
+"Els quantificadors d'H.263 suavitzen la imatge. S?n ?tils en els sup?sits de "
+"les taxes de bit m?s baixes."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1090
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1097
 msgid "_MPEG"
 msgstr "_MPEG"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1093
-msgid "MPEG quantizers (slightly slower) produce sharper picture (useful at higher bitrates)"
-msgstr "Quantificadors MPEG: (lleugerament m?s lents) produeixen un quadre m?s n?tid. S?n ?tils quan les taxes de bits s?n m?s altes."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1100
+msgid ""
+"MPEG quantizers (slightly slower) produce sharper picture (useful at higher "
+"bitrates)"
+msgstr ""
+"Quantificadors MPEG: (lleugerament m?s lents) produeixen una imatge m?s "
+"n?tida. S?n ?tils quan les taxes de bits s?n m?s altes."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1097
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1104
 msgid "_Custom Matrix"
 msgstr "_Matriu personalitzada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1107
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1114
 msgid "Load Custom Matrix:  "
-msgstr "Carrega matriu personalitzada: "
+msgstr "Carrega matriu personalitzada:  "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1153
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1160
 msgid "I-frame quantizer - Min:"
 msgstr "Quantificador fotog-I - m?n.:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1158
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1165
 msgid "P-frame quantizer - Min:"
 msgstr "Quantificador fotog-P - m?n.:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1163
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1170
 msgid "B-frame quantizer - Min:"
 msgstr "Quantificador fotog-B - m?n.:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1176
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1183
 msgid "Minimum quantizer allowed for I-frames"
 msgstr "Quantificador m?nim perm?s per a fotog-I"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1182
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1189
 msgid "Minimum quantizer allowed for P-frames"
 msgstr "Quantificador m?nim perm?s per a fotog-P"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1188
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1195
 msgid "Minimum quantizer allowed for B-frames"
 msgstr "Quantificador m?nim perm?s per a fotog-B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1217
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1224
 msgid "Maximum quantizer allowed for I-frames"
 msgstr "Quantificador m?xim perm?s per a fotog-I"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1223
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1230
 msgid "Maximum quantizer allowed for P-frames"
 msgstr "Quantificador m?xim perm?s per a fotog-P"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1229
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1236
 msgid "Maximum quantizer allowed for B-frames"
 msgstr "Quantificador m?xim perm?s per a fotog-B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1231
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1238
 msgid "Quantizer restrictions"
 msgstr "Restriccions quantificador"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1238
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1245
 msgid "Rate distortion quantization, will find optimal encoding for each block"
-msgstr "Quantificaci? de l'alteraci? de la taxa. Trobar? la codificaci? ?ptima per a cada bloc."
+msgstr ""
+"Quantificaci? de l'alteraci? de la taxa. Trobar? la codificaci? ?ptima per a "
+"cada bloc."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1268
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1275
 msgid "I-frame boost (%):"
 msgstr "Millora fotogrames-I (%): "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1273
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1280
 msgid "I-frames closer than ... frames..."
 msgstr "Es consid. consecutius els fotog-I m?s propers que: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1278
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1285
 msgid "...are reduced by (%):"
 msgstr "... i es reduiran en un (%):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1283
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1290
 msgid "Max overflow improvement (%):"
 msgstr "Millora desbordament m?xim (%):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1288
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1295
 msgid "Max overflow degradation (%):"
 msgstr "Degradaci? desbordament m?x. (%):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1300
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1307
 #, c-format
 msgid "A value of 20 will give 20% more bits to every I-frame"
 msgstr "Un valor de 20 aportar? un 20% m?s de bits a cada fotograma-I."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1306
-msgid "I-frames appearing in the range below this value will be treated as consecutive keyframes"
-msgstr "Els fotogrames-I que apareguin en el rang per sota d'aquest valor es tractaran com a fotogrames clau consecutius."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1313
+msgid ""
+"I-frames appearing in the range below this value will be treated as "
+"consecutive keyframes"
+msgstr ""
+"Els fotogrames-I que apareguin en el rang per sota d'aquest valor es "
+"tractaran com a fotogrames clau consecutius."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1311
-msgid "Reduction of bitrate for the first consecutive I-frames. The last I-frame will get treated normally"
-msgstr "Reducci? de la taxa de bits per als primers fotogrames-I consecutius. L'?ltim fotograma-I es tractar? normalment."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1318
+msgid ""
+"Reduction of bitrate for the first consecutive I-frames. The last I-frame "
+"will get treated normally"
+msgstr ""
+"Reducci? de la taxa de bits per als primers fotogrames-I consecutius. "
+"L'?ltim fotograma-I es tractar? normalment."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1316
-msgid "How much of the overflow the codec can eat into during undersized sections - larger values will bridge the gap faster"
-msgstr "Valor del desbordament que el c?dec pot tractar en les seccions sotadimensionades. Els valors m?s elevats tancaran l'escletxa m?s r?pidament."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1323
+msgid ""
+"How much of the overflow the codec can eat into during undersized sections - "
+"larger values will bridge the gap faster"
+msgstr ""
+"Valor del desbordament que el c?dec pot tractar en les seccions "
+"sotadimensionades. Els valors m?s elevats tancaran l'escletxa m?s r?pidament."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1321
-msgid "How much of the overflow the codec can eat into during oversized sections - larger values will bridge the gap faster"
-msgstr "Valor del desbordament que el c?dec pot tractar en les seccions sobredimensionades. Els valors m?s elevats tancaran l'escletxa m?s r?pidament."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1328
+msgid ""
+"How much of the overflow the codec can eat into during oversized sections - "
+"larger values will bridge the gap faster"
+msgstr ""
+"Valor del desbordament que el c?dec pot tractar en les seccions "
+"sobredimensionades. Els valors m?s elevats tancaran l'escletxa m?s "
+"r?pidament."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1323
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1330
 msgid "Two pass tuning"
 msgstr "Personalitzaci? segona passada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1340
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1347
 msgid "High bitrate scenes (%):"
 msgstr "Escenes taxa bits alta (%):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1345
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1352
 msgid "Low bitrate scenes (%):"
 msgstr "Escenes taxa bits baixa (%):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1350
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1357
 msgid "Overflow control strength (%):"
 msgstr "Poder control desbordament (%): "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1362
-msgid "The higher this value, the more bits get taken from frames larger than the average size, and redistributed to others"
-msgstr "Com m?s alt sigui aquest valor, m?s bits es prendran dels fotogrames amb mida superior a la mitjana i es distribuiran cap als altres."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1369
+msgid ""
+"The higher this value, the more bits get taken from frames larger than the "
+"average size, and redistributed to others"
+msgstr ""
+"Com m?s alt sigui aquest valor, m?s bits es prendran dels fotogrames amb "
+"mida superior a la mitjana i es distribuiran cap als altres."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1367
-msgid "The higher this value, the more bits get assigned to frames below the average frame size"
-msgstr "Com m?s alt sigui aquest valor, m?s bits s'assignaran als fotogrames amb mida inferior a la mitjana."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1374
+msgid ""
+"The higher this value, the more bits get assigned to frames below the "
+"average frame size"
+msgstr ""
+"Com m?s alt sigui aquest valor, m?s bits s'assignaran als fotogrames amb "
+"mida inferior a la mitjana."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1372
-msgid "0 = default from core (let XviD decide), else overflow payback percent per frame"
-msgstr "El valor 0 (predeterminat) suposa deixar que l'XviD decideixi. Altrament, aquest valor ?s el del percentatge de desbordament per fotograma."
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1379
+msgid ""
+"0 = default from core (let XviD decide), else overflow payback percent per "
+"frame"
+msgstr ""
+"El valor 0 (predeterminat) suposa deixar que l'XviD decideixi. Altrament, "
+"aquest valor ?s el del percentatge de desbordament per fotograma."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1374
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1381
 msgid "Curve compression"
-msgstr "Corba compressi?"
+msgstr "Corba de compressi?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1378
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1385
 msgid "Second Pass"
 msgstr "Segona passada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1591
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1598
 msgid "<b>Intra Matrix</b>"
 msgstr "<b>Matriu Intra</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1609
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1616
 msgid "<b>Inter Matrix</b>"
 msgstr "<b>Matriu Inter</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_color.cpp:71
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_color.cpp:70
 msgid "Select Color"
 msgstr "Selecciona color"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:99
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp:90
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp:245
+msgid "_Browse..."
+msgstr "_Navega..."
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:106
 msgid "_Encoding mode:"
 msgstr "Mode de _codificaci?: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:125
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:130
+msgid "Single pass - bitrate"
+msgstr "Passada ?nica - taxa de bits"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:132
 msgid "Single pass - constant quality"
-msgstr "Pas ?nic - qualitat constant"
+msgstr "Passada ?nica - qualitat constant"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:127
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:134
 msgid "Single pass - same qz as input"
-msgstr "Pas ?nic - mateix quantif. entrada"
+msgstr "Passada ?nica - mateix quant. entrada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:129
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:136
 msgid "Single pass - Average quantizer"
-msgstr "Pas ?nic - quantificador mitj?"
+msgstr "Passada ?nica - quantificador mitj?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:132
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:139
 msgid "Two pass - video size"
-msgstr "Dues passades - m?da v?deo"
+msgstr "Dues passades - mida v?deo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:134
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:141
 msgid "Two pass - average bitrate"
 msgstr "Dues passades - taxa bits mitjana"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:273
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:280
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:61
 msgid "_Quantizer:"
 msgstr "_Quantificador:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:278
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:285
 msgid "A_vg Quantizer:"
 msgstr "Quantific. mitj?: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:283
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:290
 msgid "_Video size (MB):"
 msgstr "_Mida v?deo (MB): "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:288
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:295
 msgid "_Average bitrate (kb/s):"
 msgstr "_Taxa bits mitjana (kb/s): "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:293
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:300
 msgid "-"
 msgstr "-"
 
@@ -5106,13 +6566,9 @@
 msgid "Colors"
 msgstr "Colors"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:173
-msgid "Denoise"
-msgstr "Filtra soroll"
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:198
 msgid "Sharpen/Blur"
-msgstr "Enfoca/Desenfoca"
+msgstr "Aguditza/Suavitza"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:223
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:381
@@ -5130,7 +6586,7 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:342
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:344
 msgid "Load set of filters"
-msgstr "Carrega grup de filtres"
+msgstr "Carrega un grup de filtres"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:357
 msgid "Nothing to save"
@@ -5139,23 +6595,23 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:361
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:363
 msgid "Save set of filters"
-msgstr "Desa grup de filtres"
+msgstr "Desa el grup de filtres"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:123
 msgid "Video Filter Manager"
-msgstr "Gestor de Filtres de V?deo"
+msgstr "Gestor de filtres de v?deo"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:145
 msgid "Open filter list [Ctrl-O]"
-msgstr "Obre llista filtres [Ctrl-O]"
+msgstr "Obre una llista de filtres [Ctrl-O]"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:154
 msgid "Save filter list [Ctrl-S]"
-msgstr "Desa llista filtres [Ctrl-S]"
+msgstr "Desa la llista de filtres [Ctrl-S]"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:162
 msgid "Save Script"
-msgstr "Desa script"
+msgstr "Desa l'script"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager_dialog.cpp:165
 msgid "Save as script [Ctrl-J]"
@@ -5281,522 +6737,525 @@
 msgid "Save as script"
 msgstr "Desa-ho com a script"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:432
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:541
 msgid "Side"
-msgstr "Una al costat de..."
+msgstr "Al costat"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:433
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:542
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:90
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:81
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:87
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:109
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:107
 msgid "Top"
-msgstr "Una al damunt de..."
+msgstr "Al damunt"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:434
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:543
 msgid "Separate"
 msgstr "Separades"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:608
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:728
 #, c-format
 msgid "Frame:%c(%02d)"
 msgstr "Fotogr.: %c(%02d)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:297
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:274
+msgid "Avidemux"
+msgstr "Avidemux"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:298
 msgid "_Open..."
 msgstr "_Obre"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:308
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:309
 msgid "_Append..."
 msgstr "_Afegeix"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:319
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:320
 msgid "_Save"
 msgstr "_Desa"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:330
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:331
 msgid "Save _Video..."
-msgstr "Desa _v?deo"
+msgstr "Desa el _v?deo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:342
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:343
 msgid "Save _BMP Image..."
 msgstr "Desa com a imatge _BMP"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:346
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:347
 msgid "Save _JPEG Image..."
 msgstr "Desa com a imatge _JPEG"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:350
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:351
 msgid "Save _Selection as JPEG Images..."
-msgstr "Desa _selecci? com a imatges JPEG"
+msgstr "Desa la _selecci? com a imatges JPEG"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:363
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:364
 msgid "Save _Project"
-msgstr "Desa p_rojecte"
+msgstr "Desa el p_rojecte"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:371
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:372
 msgid "Save P_roject As..."
-msgstr "Desa projecte _com"
+msgstr "Desa el projecte _com"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:379
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:380
 msgid "_Load/Run Project..."
 msgstr "_Carrega / Executa projecte"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:387
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:388
 msgid "A_dd to Joblist..."
 msgstr "Afegeix a _tasques"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:391
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:392
 msgid "Show _Joblist"
 msgstr "_Mostra tasques"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:403
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:404
 msgid "Co_nnect to avsproxy"
 msgstr "Con_necta a l'avsproxy"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:412
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:413
 msgid "Proper_ties"
 msgstr "_Propietats"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:423
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:424
 msgid "AVI _Muxer Options"
 msgstr "Opcions multiplexor A_VI"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:432
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:433
 msgid "_Quit"
 msgstr "_Surt"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:443
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:444
 msgid "_Edit"
 msgstr "_Edita"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:450
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:451
 msgid "_Reset Edits"
 msgstr "_Reinicia edici?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:463
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:464
 msgid "Cu_t"
 msgstr "_Talla"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:474
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:475
 msgid "_Copy"
 msgstr "_Copia"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:485
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:486
 msgid "_Paste"
 msgstr "_Enganxa"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:496
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:497
 msgid "_Delete"
 msgstr "Es_borra"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:512
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:513
 msgid "Set Marker _A"
 msgstr "Posa marcador _A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:519
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:520
 msgid "Set Marker _B"
 msgstr "Posa marcador _B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:531
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:532
 msgid "Pre_ferences"
 msgstr "_Prefer?ncies"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:539
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:540
 msgid "_View"
 msgstr "Visua_litza"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:546
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:547
 msgid "_Main Toolbar"
 msgstr "_Barra principal"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:551
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:552
 msgid "_A/V Sidebar"
 msgstr "Barra _lateral d'A/V"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:561
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:562
 msgid "_Zoom 1:4"
 msgstr "_Zoom 1:4"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:568
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:569
 msgid "Z_oom 1:2"
 msgstr "Z_oom 1:2"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:575
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:576
 msgid "Zoom _1:1"
 msgstr "Zoom _1:1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:582
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:583
 msgid "Zoom _2:1"
 msgstr "Zoom _2:1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:589
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:590
 msgid "Vi_deo"
 msgstr "_V?deo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:596
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:597
 msgid "_Decoder Options"
 msgstr "_Opcions descodificador"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:603
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:604
 msgid "_Postprocessing"
 msgstr "_Postprocessament"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:606
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:607
 msgid "Select postprocessing level"
 msgstr "Seleccioneu el nivell de postprocessament."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:616
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:617
 msgid "P_review"
 msgstr "P_revisualitzaci?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:623
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:624
 msgid "Display _Output"
 msgstr "_Mostra sortida"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:635
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:636
 msgid "_Frame Rate"
 msgstr "_Velocitat d'imatge"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:639
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:688
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:640
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:689
 msgid "_Encoder"
 msgstr "_Codificador"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:646
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:647
 msgid "Fil_ters"
 msgstr "_Filtres"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:653
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:654
 msgid "_Audio"
 msgstr "_?udio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:660
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:661
 msgid "_Main Track"
 msgstr "_Pista principal"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:664
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:665
 msgid "_Second Track"
 msgstr "_Segona pista"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:668
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:669
 msgid "_Build VBR Time Map"
 msgstr "Construeix _mapa temps VBR"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:677
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:678
 msgid "S_ave..."
 msgstr "_Desa"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:695
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:696
 msgid "_Filters"
 msgstr "_Filtres"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:699
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:700
 msgid "_Tools"
 msgstr "E_ines"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:706
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:707
 msgid "_Calculator"
 msgstr "_Calculadora"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:722
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:723
 msgid "_Rebuild Frames (I & B)"
 msgstr "_Reconstrueix fotogrames (I & B)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:726
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:727
 msgid "C_heck Frames (slow)"
 msgstr "C_omprova fotogrames (lent)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:730
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:731
 msgid "_Bitrate Histogram"
 msgstr "_Histograma taxa de bits"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:734
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:735
 msgid "_Scan for Black Frames..."
 msgstr "Cerca fotogrames _negres"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:743
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:744
 msgid "_VOB -> VobSub"
 msgstr "_VOB -> VobSub"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:747
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:748
 msgid "_OCR (VobSub -> srt)"
 msgstr "_OCR (VobSub -> srt)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:751
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:752
 msgid "OCR (TS->srt)"
 msgstr "OCR (TS->srt)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:755
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:756
 msgid "_Edit Glyph"
 msgstr "_Edita glif"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:764
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:765
 msgid "_Frame Hex Dump"
 msgstr "_Bolcat hexadecimal fotograma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:768
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:769
 msgid "A_uto"
 msgstr "Au_to"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:775
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:776
 msgid "_VCD"
 msgstr "_VCD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:779
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:780
 msgid "_SVCD"
 msgstr "_SVCD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:783
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:784
 msgid "_DVD"
 msgstr "_DVD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:787
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:788
 msgid "_PSP"
 msgstr "_PSP"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:791
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:792
 msgid "PSP (_H.264)"
 msgstr "PSP (_H.264)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:795
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:796
 msgid "F_LV"
 msgstr "F_LV"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:799
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:800
+msgid "IPOD (mpeg4)"
+msgstr "IPOD (mpeg4)"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:804
 msgid "_Go"
 msgstr "Ve_s"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:806
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:811
 msgid "_Play/Stop"
 msgstr "_Reprodueix / Atura"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:817
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:822
 msgid "P_revious Frame"
 msgstr "Fotograma _anterior"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:828
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:833
 msgid "_Next Frame"
 msgstr "Fotograma _seg?ent"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:839
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:844
 msgid "Pr_evious Intra Frame"
 msgstr "Fotog. _clau anterior"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:850
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:855
 msgid "Next _Intra Frame"
 msgstr "Fotog. clau s_eg?ent"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:861
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:866
 msgid "Previou_s Black Frame"
 msgstr "Fotogr. _negre anterior"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:865
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:870
 msgid "Ne_xt Black Frame"
 msgstr "Fotogr. negre seg_?ent"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:869
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:874
 msgid "_First Frame"
 msgstr "_Primer fotograma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:880
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:885
 msgid "_Last Frame"
 msgstr "_Darrer fotograma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:896
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:901
 msgid "Go to Marker _A"
 msgstr "Ves al marcador _A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:903
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:908
 msgid "Go to Marker _B"
 msgstr "Ves al marcador _B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:915
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:920
 msgid "Go to Fra_me..."
 msgstr "Salta al _fotograma..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:926
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:931
 msgid "Go to _Time..."
 msgstr "Salta al _temps..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:937
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:942
 msgid "_Custom"
 msgstr "_Personal."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:941
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:946
 msgid "_Help"
 msgstr "Aj_uda"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:948
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:953
 msgid "_Built-in Support"
 msgstr "_Mostra suport incorporat"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:952
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:957
 msgid "_About"
 msgstr "_Pel que fa a l'Avidemux"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:970
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:975
 msgid "Open a file"
 msgstr "Obre un fitxer"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:980
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:985
 msgid "Save the file"
 msgstr "Desa el fitxer"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:986
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:991
 msgid "Audio/video file information"
 msgstr "Informaci? sobre el fitxer d'?udio o v?deo."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:997
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1002
 msgid "Bitrate/size calculator"
 msgstr "Calculadora de la taxa de bits o de la mida."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1076
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1116
-msgid "Copy"
-msgstr "Copiat"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1081
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1086
 msgid "Configure video encoder"
 msgstr "Configura el codificador de v?deo."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1086
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1142
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1091
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1147
 msgid "Filters"
 msgstr "Filtres"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1089
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1094
 msgid "Video filters"
 msgstr "Filtres de v?deo."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1121
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1126
 msgid "Configure audio encoder"
 msgstr "Configura el codificador d'?udio."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1129
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1134
 msgid "Audio filters"
 msgstr "Filtres d'?udio."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1150
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1155
 msgid "Shift:"
 msgstr "Despl.:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1153
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1158
 msgid "Enable time shift"
 msgstr "Habilita el despla?ament de temps."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1159
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1164
 msgid "Audio/video time shift (ms)"
 msgstr "Despla?ament de temps ?udio/v?deo (ms)."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1166
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1171
 msgid "<b>Format</b>"
 msgstr "<b>Format</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1199
-msgid "<b>Selection</b>"
-msgstr "<b>Selecci?</b>"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1204
+msgid "Frame: "
+msgstr "Fotogr.: "
 
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1211
+msgid "Current frame"
+msgstr "Fotogr. actual"
+
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1216
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1224
-msgid " 0000000"
-msgstr " 0000000"
+msgid "/ 0000000"
+msgstr "/ 0000000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1232
-msgid "A:"
-msgstr "A:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1223
+msgid "Time: "
+msgstr "Temps:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1239
-msgid "Go to marker A"
-msgstr "Ves al marcador A"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1230
+msgid "Current time"
+msgstr "Temps actual"
 
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1231
+msgid "00:00:00.000"
+msgstr "00:00:00.000"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1234
+msgid "/ 00:00:00,000"
+msgstr "/ 00:00:00,000"
+
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1241
-msgid "B:"
-msgstr "B:"
+msgid "Frame: ?"
+msgstr "Fotogr.: ?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1248
-msgid "Go to marker B"
-msgstr "Ves al marcador B"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1260
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1265
 msgid "Play"
 msgstr "Reprodueix"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1274
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1279
 msgid "Stop"
 msgstr "Atura"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1286
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1291
 msgid "Previous frame"
 msgstr "Fotogr. anterior"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1301
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1306
 msgid "Next frame"
 msgstr "Fotogr. seg?ent"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1316
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1321
 msgid "Previous keyframe"
 msgstr "Fotog. clau anterior"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1331
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1336
 msgid "Next keyframe"
 msgstr "Fotog. clau seg?ent"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1345
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1350
 msgid "Selection: start"
 msgstr "Selecci?: inici"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1356
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1361
 msgid "Selection: end"
 msgstr "Selecci?: final"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1367
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1372
 msgid "Previous black frame"
 msgstr "Fotogr. negre anterior"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1378
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1383
 msgid "Next black frame"
 msgstr "Fotogr. negre seg?ent"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1389
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1394
 msgid "First frame"
 msgstr "Primer fotograma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1400
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1405
 msgid "Last frame"
 msgstr "?ltim fotograma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1422
-msgid "Frame: "
-msgstr "Fotogr.: "
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1419
+msgid "<b>Selection</b>"
+msgstr "<b>Selecci?</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1429
-msgid "Current frame"
-msgstr "Fotogr. actual"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1436
+msgid "B:"
+msgstr "B:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1434
-msgid "/ 0000000"
-msgstr "/ 0000000"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1443
+msgid "Go to marker B"
+msgstr "Ves al marcador B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1441
-msgid "Time: "
-msgstr "Temps:"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1445
+msgid "A:"
+msgstr "A:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1448
-msgid "Current time"
-msgstr "Temps actual"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1449
-msgid "00:00:00.000"
-msgstr "00:00:00.000"
-
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1452
-msgid "/ 00:00:00,000"
-msgstr "/ 00:00:00,000"
+msgid "Go to marker A"
+msgstr "Ves al marcador A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1459
-msgid "Frame: ?"
-msgstr "Fotogr.: ?"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1454
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1462
+msgid " 0000000"
+msgstr " 0000000"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/adm_editglyph.cpp:53
 msgid "Select GlyphFile to edit"
@@ -5847,53 +7306,33 @@
 msgid "Couldn't find pixmap file: %s"
 msgstr "No s'ha pogut trobar el fitxer de pixmap: %s"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:103
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:204
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:467
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_tray_gtk.cpp:55
+msgid "Open Avidemux"
+msgstr "Obre l'Avidemux"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:106
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:213
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:400
 msgid "Cannot open directory as a file"
 msgstr "No es pot obrir un directori com un fitxer"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:328
-#: avidemux/gtk_gui.cpp:893
-#, c-format
-msgid "Cannot open \"%s\"."
-msgstr "No es pot obrir \"%s\"."
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:338
-msgid "Overwrite file ?"
-msgstr "Voleu sobreescriure el fitxer?"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:363
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:377
-msgid "It could be possible that you try to overwrite an input file!"
-msgstr "Podria ser que intent?ssiu sobreescriure un fitxer d'entrada"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:388
-msgid "Cannot write the file"
-msgstr "No es pot escriure el fitxer"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:388
-#, c-format
-msgid "No write access to \"%s\"."
-msgstr "No teniu acc?s d'escriptura a \"%s\"."
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:522
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:455
 msgid "Images"
 msgstr "Imatges"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:534
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:467
 msgid "All"
 msgstr "Tot tipus"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:585
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:657
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:719
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:779
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:842
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:582
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:660
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:728
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:788
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:851
 msgid "label1"
 msgstr "etiqueta1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:706
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:715
 msgid "Alert"
 msgstr "Av?s"
 
@@ -5937,19 +7376,53 @@
 
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:114
 msgid "_Deinterlacing:"
-msgstr "_Desentrella?at: "
+msgstr "_Desentrella?at:"
 
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:115
 msgid "_Autolevel"
 msgstr "Niv. _auto:"
 
+#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:222
+#: avidemux/ADM_videoFilter/ADM_vidBSmear.cpp:200
+msgid "_Left border:"
+msgstr "Vora _esquerra:"
+
+#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:223
+#: avidemux/ADM_videoFilter/ADM_vidBSmear.cpp:201
+msgid "_Right border:"
+msgstr "Vora _dreta:"
+
+#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:224
+#: avidemux/ADM_videoFilter/ADM_vidBSmear.cpp:202
+msgid "_Top border:"
+msgstr "Vora _superior:"
+
+#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:225
+#: avidemux/ADM_videoFilter/ADM_vidBSmear.cpp:203
+msgid "_Bottom border:"
+msgstr "Vora _inferior:"
+
+#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:228
+msgid "Add Borders"
+msgstr "Afegeix vores"
+
+#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:232
+#: avidemux/ADM_videoFilter/ADM_vidBSmear.cpp:211
+msgid "Incorrect parameters"
+msgstr "Els par?metres s?n incorrectes"
+
+#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:232
+#: avidemux/ADM_videoFilter/ADM_vidBSmear.cpp:211
+msgid "All parameters must be even and within range."
+msgstr "Tots els par?metres han de ser parells i dins del rang."
+
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:87
 msgid "_Subtitle file (ASS/SSA):"
-msgstr "Fitxer de _subt?tols (ASS/SSA): "
+msgstr "Fitxer de _subt?tols (ASS/SSA):"
 
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:88
 msgid "_Line spacing:"
-msgstr "_Espaiat l?nia: "
+msgstr "_Espaiat l?nia:"
 
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:89
 msgid "_Font scale:"
@@ -5957,28 +7430,33 @@
 
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:90
 msgid "_Top margin:"
-msgstr "Marge _super."
+msgstr "Marge _superior:"
 
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:91
 msgid "Botto_m margin"
-msgstr "Marge _infer."
+msgstr "Marge _inferior:"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:82
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:92
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:87
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:93
 #: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:166
+#: avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp:196
 msgid "_Threshold:"
 msgstr "_Llindar: "
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:83
-msgid "If value is smaller than threshold it is considered valid.Smaller value might mean more false positive."
-msgstr "Si el valor ?s m?s petit que el llindar es considera v?lid. Valors m?s baixos del llindar suposen m?s deteccions falses."
+msgid ""
+"If value is smaller than threshold it is considered valid.Smaller value "
+"might mean more false positive."
+msgstr ""
+"Si el valor ?s m?s petit que el llindar es considera v?lid. Valors m?s "
+"baixos del llindar suposen m?s deteccions falses."
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:85
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:90
 msgid "_Noise:"
-msgstr "Soroll _(N):"
+msgstr "_Soroll:"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:85
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:90
@@ -5992,7 +7470,9 @@
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:86
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:91
 msgid "If metric is less than identical, images are considered identical"
-msgstr "Si els mesuraments difereixen menys que el llindar d'identitat, els fotogrames es consideren id?ntics"
+msgstr ""
+"Si els mesuraments difereixen menys que el llindar d'identitat, els "
+"fotogrames es consideren id?ntics"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:87
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:92
@@ -6002,41 +7482,59 @@
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:87
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:92
 msgid "Show metric in image (debug)"
-msgstr "Mostra mesuraments en imatge (debug)"
+msgstr "Mostra els mesuraments en imatge (debug)"
 
-#: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:187
+#: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:91
+msgid "Blend Removal"
+msgstr "Blend Removal"
+
+#: avidemux/ADM_videoFilter/ADM_vidBSmear.cpp:206
+msgid "Blacken Borders"
+msgstr "Blacken Borders"
+
+#: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:181
 msgid "_Start Frame (first frame # to include in average):"
 msgstr "Fotog. _inicial (1r # fotog. a incloure en mitjana):"
 
-#: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:191
+#: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:185
 msgid "_End Frame (last frame # to include), -1 = last:"
 msgstr "Fotog. _final (?ltim # fotog. a incloure; -1=el darrer):"
 
-#: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:195
-#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:160
+#: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:189
+#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:191
 msgid "_Output File:"
 msgstr "Fitxer _sortida: "
 
-#: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:198
+#: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:189
+msgid "Select output file"
+msgstr "Seleccioneu el fitxer de sortida"
+
+#: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:192
 msgid "_Bias (only for display; use 0 for average, 128 for frame minus average):"
-msgstr "_Polaritzaci? (nom?s per visualitzaci?; usa 0 per mitjana, 128 per fotograma menys mitjana): "
+msgstr ""
+"_Polaritzaci? (nom?s per visualitzaci?; usa 0 per mitjana, 128 per fotograma "
+"menys mitjana):"
 
-#: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:202
+#: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:196
 msgid "Current frame minus average so far"
 msgstr "Fotog. actual menys mitjana fins a aquest punt"
 
-#: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:203
+#: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:197
 msgid "Average so far"
 msgstr "Mitjana fins a aquest punt"
 
-#: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:205
+#: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:199
 msgid "Display nothing (fast for batch processing)"
 msgstr "Sense visualitzar (r?pid per a processament en lots)"
 
-#: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:209
+#: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:203
 msgid "Display _Mode:"
 msgstr "_Mode de visualitzaci?: "
 
+#: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:208
+msgid "ComputeAverage"
+msgstr "ComputeAverage"
+
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:190
 msgid "Discard closer"
 msgstr "Descarta proper"
@@ -6059,7 +7557,7 @@
 
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:197
 msgid "Fast (partial luma and chroma)"
-msgstr "R?pida (luma i croma parcials)"
+msgstr "R?pida (luma i chroma parcials)"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:198
 msgid "Medium (full luma, no chroma)"
@@ -6067,7 +7565,7 @@
 
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:199
 msgid "Slow (full luma and chroma)"
-msgstr "Lenta (luma i croma complets)"
+msgstr "Lenta (luma i chroma complets)"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:205
 msgid "_Threshold 1:"
@@ -6077,6 +7575,10 @@
 msgid "T_hreshold 2:"
 msgstr "Llindar _2: "
 
+#: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:207
+msgid "C_ycle:"
+msgstr "C_icle:"
+
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:83
 msgid "No strategy"
 msgstr "Sense estrat?gia"
@@ -6092,7 +7594,7 @@
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:91
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:82
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:88
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:110
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:108
 msgid "Bottom"
 msgstr "Baix"
 
@@ -6122,11 +7624,11 @@
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:105
 msgid "Process image (not fields)"
-msgstr "Processa fotog. (no marcs)"
+msgstr "Processa fotograma (no camps)"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:106
 msgid "Process image (not fields), debug"
-msgstr "Processa fotogrames, no marcs (debug)"
+msgstr "Processa fotograma, (no camps), debug"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:110
 msgid "_Strategy:"
@@ -6172,23 +7674,23 @@
 msgid "Bl_end"
 msgstr "Fus_iona"
 
-#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:386
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:384
 msgid "_Luma lock:"
-msgstr "Bloqueig _luma:"
+msgstr "Bloqueig _lumin?ncia:"
 
-#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:387
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:385
 msgid "C_hroma lock:"
-msgstr "Bloqueig _croma:"
+msgstr "Bloqueig _cromin?ncia:"
 
-#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:388
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:386
 msgid "L_uma threshold:"
-msgstr "Llindar _luma:"
+msgstr "Llindar _lumin?ncia:"
 
-#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:389
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:387
 msgid "Ch_roma threshold:"
-msgstr "Llindar _croma:"
+msgstr "Llindar _cromin?ncia:"
 
-#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:391
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:389
 msgid "_Scene change:"
 msgstr "Canvi e_scena:"
 
@@ -6212,13 +7714,92 @@
 msgid "Extra check, avoid using it"
 msgstr "Compr. extra (s'ha d'evitar el seu ?s) "
 
-#: avidemux/ADM_videoFilter/ADM_vidDropOut.cpp:63
+#: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:96
+msgid "DGBob"
+msgstr "DGBob"
+
+#: avidemux/ADM_videoFilter/ADM_vidDropOut.cpp:61
 msgid "DropOut Threshold"
 msgstr "Llindar p?rdua "
 
+#: avidemux/ADM_videoFilter/ADM_vidDropOut.cpp:64
+msgid "Drop Out"
+msgstr "P?rdua"
+
+#: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:191
+msgid "Erase"
+msgstr "Esborra"
+
+#: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:192
+msgid "Un-Erase"
+msgstr "Desf?s esborra"
+
+#: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:196
+msgid "1x1"
+msgstr "1x1"
+
+#: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:197
+msgid "3x3"
+msgstr "3x3"
+
+#: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:198
+msgid "5x5"
+msgstr "5x5"
+
+#: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:199
+msgid "7x7"
+msgstr "7x7"
+
+#: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:200
+msgid "9x9"
+msgstr "9x9"
+
+#: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:201
+msgid "11x11"
+msgstr "11x11"
+
+#: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:202
+msgid "15x15"
+msgstr "15x15"
+
+#: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:203
+msgid "21x21"
+msgstr "21x21"
+
+#: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:207
+msgid "Brush _Mode:"
+msgstr "Mode _brotxa:"
+
+#: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:211
+msgid "Brush _Size:"
+msgstr "_Mida brotxa:"
+
+#: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:244
+msgid "Output \"_Color\" for all masked pixels:"
+msgstr "_Color dels p?xels emmascarats:"
+
+#: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:250
+msgid "Eraser _Data File:"
+msgstr "Fitxer de _dades de l'esborrador:"
+
+#: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:250
+msgid "Select data file"
+msgstr "Seleccioneu el fitxer de dades "
+
+#: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:255
+#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:196
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:378
+#: avidemux/ADM_videoFilter/ADM_vidThreshold.cpp:159
+msgid "_Debugging settings (bits):"
+msgstr "Configs. _debug (bits):"
+
+#: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:261
+msgid "Eraser Configuration"
+msgstr "Configuraci? de l'esborrador"
+
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
 msgid "Out"
-msgstr "Out"
+msgstr "Sortint"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
 msgid "Fade out"
@@ -6226,7 +7807,7 @@
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
 msgid "In"
-msgstr "In"
+msgstr "Entrant"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
 msgid "Fade in"
@@ -6234,15 +7815,15 @@
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:71
 msgid "_Fade type:"
-msgstr "Tipus _fusi?: "
+msgstr "Tipus _fusi?:"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:72
 msgid "_Start frame:"
-msgstr "Fotogr. _inicial: "
+msgstr "Fotogr. _inicial:"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:73
 msgid "_End frame:"
-msgstr "Fotogr. _final: "
+msgstr "Fotogr. _final:"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:74
 msgid "Fade to _black"
@@ -6256,21 +7837,68 @@
 msgid "Start must be before end, and both within video # of frames."
 msgstr "L'inici ha d'estar abans del final, i ambd?s dins del # de fotogr. del v?deo."
 
+#: avidemux/ADM_videoFilter/ADM_vidFastConvolution.cpp:467
+#: avidemux/ADM_videoFilter/ADM_vidLargeMedian.cpp:304
+msgid "_Process luma"
+msgstr "Processament _lumin?ncia"
+
+#: avidemux/ADM_videoFilter/ADM_vidFastConvolution.cpp:467
+#: avidemux/ADM_videoFilter/ADM_vidLargeMedian.cpp:304
+msgid "Process luma plane"
+msgstr "Process luma plane"
+
+#: avidemux/ADM_videoFilter/ADM_vidFastConvolution.cpp:468
+#: avidemux/ADM_videoFilter/ADM_vidLargeMedian.cpp:305
+msgid "P_rocess chroma"
+msgstr "Processament _cromin?ncia"
+
+#: avidemux/ADM_videoFilter/ADM_vidFastConvolution.cpp:472
+msgid "Fast Convolution"
+msgstr "Fast Convolution"
+
+#: avidemux/ADM_videoFilter/ADM_vidFields.cpp:229
+msgid "Motion Threshold"
+msgstr "Motion Threshold"
+
+#: avidemux/ADM_videoFilter/ADM_vidFields.cpp:231
+msgid "Blend Threshold"
+msgstr "Blend Threshold"
+
+#: avidemux/ADM_videoFilter/ADM_vidFlux.cpp:134
+msgid "_Temporal threshold:"
+msgstr "Llindar _temporal:"
+
+#: avidemux/ADM_videoFilter/ADM_vidFlux.cpp:135
+msgid "_Spatial threshold:"
+msgstr "Llindar _espacial:"
+
+#: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:81
+msgid "Forced Postprocessing"
+msgstr "Postprocessament for?at"
+
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:88
-msgid "If value is smaller than threshold it is considered valid. Smaller value might mean more false positive"
-msgstr "Si el valor ?s m?s petit que el llindar es considera v?lid. Valors m?s baixos del llindar suposen m?s deteccions falses."
+msgid ""
+"If value is smaller than threshold it is considered valid. Smaller value "
+"might mean more false positive"
+msgstr ""
+"Si el valor ?s m?s petit que el llindar es considera v?lid. Valors m?s "
+"baixos del llindar suposen m?s deteccions falses."
 
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:91
 msgid "_Identical:"
 msgstr "_Id?ntic:"
 
+#: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:96
+msgid "Hard IVTC Removal"
+msgstr "Hard IVTC Removal"
+
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:93
 msgid "Smaller means more deinterlacing"
 msgstr "M?s petit suposa m?s desentrella?ament"
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:94
 msgid "_Sharper engine:"
-msgstr "Nitidejador: "
+msgstr "_Sharper engine:"
 
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:95
 msgid "T_woway"
@@ -6288,43 +7916,51 @@
 msgid "Show interlaced areas (for test!)"
 msgstr "Mostra ?rees entrella?ades (nom?s prova!)"
 
-#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:88
+#: avidemux/ADM_videoFilter/ADM_vidLargeMedian.cpp:309
+msgid "Large Median 5x5"
+msgstr "Large Median 5x5"
+
+#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:87
 msgid "_Logo (jpg file):"
 msgstr "_Logo (fitxer JPG):"
 
-#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:89
+#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:87
+msgid "Select JPEG file"
+msgstr "Seleccioneu el fitxer de JPEG"
+
+#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:88
 msgid "_X Position:"
 msgstr "Posici? _X: "
 
-#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:90
+#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:89
 msgid "_Y Position:"
 msgstr "Posici? _Y: "
 
-#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:91
+#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:90
 msgid "_Alpha:"
 msgstr "_Alfa: "
 
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:104
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:102
 msgid "Fast"
 msgstr "R?pid"
 
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:105
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:103
 msgid "Medium"
 msgstr "Mitj?"
 
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:106
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:104
 msgid "Slow iterative motion search"
 msgstr "Lent, estimaci? iterativa movim."
 
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:107
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:105
 msgid "Extra slow (same as 3+multiple reference frames)"
 msgstr "Extra lent (com [3] + fotogr. refer?n. m?ltiple)"
 
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:114
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:112
 msgid "_Field dominance:"
-msgstr "_Domin?ncia marc: "
+msgstr "_Domin?ncia camp:"
 
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:115
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:113
 msgid "_Qp:"
 msgstr "_QP:"
 
@@ -6344,18 +7980,18 @@
 msgid "Show _frame"
 msgstr "Mostra _fotogr."
 
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:74
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:74
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:72
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:72
 msgid "_Spatial luma strength:"
-msgstr "For?a e_spacial luma:"
+msgstr "For?a e_spacial lumin?ncia:"
 
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:75
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:75
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:73
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:73
 msgid "S_patial chroma strength:"
-msgstr "For?a e_spacial croma:"
+msgstr "For?a e_spacial cromin?ncia:"
 
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:76
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:76
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:74
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:74
 msgid "_Temporal strength:"
 msgstr "For?a _temporal:"
 
@@ -6367,56 +8003,80 @@
 msgid "_High Q"
 msgstr "_High Q"
 
-#: avidemux/ADM_videoFilter/ADM_vidPalShift.cpp:76
+#: avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp:194
+msgid "_High quality"
+msgstr "_Alta qualitat "
+
+#: avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp:195
+msgid "Show _mask"
+msgstr "Mostra _m?scara"
+
+#: avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp:201
+msgid "MSmooth"
+msgstr "MSmooth"
+
+#: avidemux/ADM_videoFilter/ADM_vidPalShift.cpp:74
 msgid "_Try reverse"
 msgstr "In_tenta reversi?"
 
-#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:129
+#: avidemux/ADM_videoFilter/ADM_vidPalShift.cpp:78
+msgid "Pal Field Shift"
+msgstr "Pal Field Shift"
+
+#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:135
+msgid "New format, preferred, good for Tracker3D"
+msgstr "Nou format, preferit, bo per al Tracker3D"
+
+#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:137
+msgid "DG at UWA format (includes shape info & bounding box)"
+msgstr "DG at UWA format (includes shape info & bounding box)"
+
+#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:139
+msgid "AB at ODU format (includes shape info)"
+msgstr "AB at ODU format (includes shape info)"
+
+#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:141
+msgid "Old format that Tracker3D can't read directly"
+msgstr "Antic format que el Tracker3D no pot llegir directament"
+
+#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:145
+msgid "Output _Format:"
+msgstr "Format _sortida:"
+
+#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:170
 msgid "Mi_nimum area for a particle to be detected:"
 msgstr "?rea m?_nima per a la individualitzaci? d'una part?cula:"
 
-#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:132
+#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:173
 msgid "Ma_ximum area for a particle to be detected:"
 msgstr "?rea m?_xima per a la individualitzaci? d'una part?cula:"
 
-#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:136
+#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:177
 msgid "_Left side crop (ignore particles in):"
 msgstr "Retall later. _esquerre (se n'ignoren les part?cules):"
 
-#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:139
+#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:180
 msgid "_Right side crop (ignore particles in):"
 msgstr "Retall later. _dret (se n'ignoren les part?cules):"
 
-#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:142
+#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:183
 msgid "_Top crop (ignore particles in):"
 msgstr "Retall _superior (se n'ignoren les part?cules):"
 
-#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:145
+#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:186
 msgid "_Bottom crop (ignore particles in):"
 msgstr "Retall _inferior (se n'ignoren les part?cules):"
 
-#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:149
-msgid "New format, preferred, good for Tracker3D"
-msgstr "Nou format, preferit, bo per al Tracker3D"
+#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:191
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:324
+#: avidemux/gtk_gui.cpp:2019 avidemux/gtk_gui.cpp:2116
+msgid "Select file"
+msgstr "Seleccioneu el fitxer"
 
-#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:151
-msgid "Old format that Tracker3D can't read directly"
-msgstr "Antic format que el Tracker3D no pot llegir directament"
-
-#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:155
-msgid "_Output Format:"
-msgstr "Format _sortida:"
-
-#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:163
+#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:194
 msgid "_Camera number:"
 msgstr "N?m. de _c?mera:"
 
-#: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:165
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:343
-#: avidemux/ADM_videoFilter/ADM_vidThreshold.cpp:147
-msgid "_Debugging settings (bits):"
-msgstr "Configs. _debug (bits):"
-
 #: avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp:85
 msgid "_New frame rate:"
 msgstr "_Nova veloc. imatge:"
@@ -6425,135 +8085,131 @@
 msgid "_Blend"
 msgstr "_Fusiona "
 
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:265
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:263
 msgid "90 degrees"
 msgstr "90 graus"
 
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:265
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:263
 msgid "90?"
 msgstr "90?"
 
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:266
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:264
 msgid "180 degrees"
 msgstr "180 graus"
 
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:266
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:264
 msgid "180?"
 msgstr "180?"
 
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:267
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:265
 msgid "270 degrees"
 msgstr "270 graus"
 
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:267
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:265
 msgid "270?"
 msgstr "270?"
 
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:269
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:267
 msgid "_Angle:"
 msgstr "_Angle: "
 
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:271
-msgid "Rotate"
-msgstr "Rota"
-
 #: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:68
 msgid "_Luma threshold:"
-msgstr "Llindar _Luma:"
+msgstr "Llindar _limin?ncia:"
 
 #: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:69
 msgid "C_hroma threshold:"
-msgstr "Llindar _Croma:"
+msgstr "Llindar _cromin?ncia:"
 
 #: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:70
 msgid "_Radius:"
 msgstr "_Radi:"
 
-#: avidemux/ADM_videoFilter/ADM_vidSRT.cpp:214
+#: avidemux/ADM_videoFilter/ADM_vidSRT.cpp:208
 msgid "Could not open subtitle file"
 msgstr "No es pot obrir el fitxer de subt?tols"
 
-#: avidemux/ADM_videoFilter/ADM_vidSRT.cpp:234
+#: avidemux/ADM_videoFilter/ADM_vidSRT.cpp:228
 msgid "Cannot identify subtitle format"
 msgstr "No es pot identificar el format de subt?tol"
 
-#: avidemux/ADM_videoFilter/ADM_vidStabilize.cpp:63
+#: avidemux/ADM_videoFilter/ADM_vidStabilize.cpp:61
 msgid "Stabilize Threshold"
 msgstr "Estabilitza llindar"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:260
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:261
 msgid "P' = A"
 msgstr "P' = A"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:261
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:262
 msgid "P' = P"
 msgstr "P' = P"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:262
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:263
 msgid "P' = P - A"
 msgstr "P' = P - A"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:263
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:264
 msgid "P' = A - P"
 msgstr "P' = A - P"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:264
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:265
 msgid "P' = P + A"
 msgstr "P' = P + A"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:265
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:266
 msgid "P' = P * A"
 msgstr "P' = P * A"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:266
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:267
 msgid "P' = P / A"
 msgstr "P' = P / A"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:267
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:268
 msgid "P' = A / P"
 msgstr "P' = A / P"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:268
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:269
 msgid "P' = min (P, A)"
 msgstr "P' = m?n (P, A)"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:269
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:270
 msgid "P' = max (P, A)"
 msgstr "P' = m?x (P, A)"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:274
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:275
 msgid "A = convolve(P); Load convolution kernel from file"
 msgstr "A = convoluciona(P); Carrega nucli de convoluci? des d'un fitxer"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:276
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:277
 msgid "A = pixel from image file as float; Load image from file"
 msgstr "A = p?xel de fitxer d'imatge com a float; Carrega imatge de fitxer"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:278
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:279
 msgid "A = pixel from image file as integer; Load image from file"
 msgstr "A = p?xel de fitxer d'imatge com a enter; Carrega imatge de fitxer"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:280
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:281
 msgid "A = floating point constant value"
 msgstr "A = valor constant de coma plotant"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:282
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:283
 msgid "A = rolling average of pixel: A = A*(1-alpha)+(P*alpha)"
 msgstr "A = mitjana m?bil de p?xel: A = A*(1-alfa)+(P*alfa)"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:287
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:288
 msgid "Select _Operation on each pixel P and input A:"
 msgstr "Tria _operaci? sobre cada p?xel P i entrada A: "
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:291
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:293
 msgid "Input _Type:"
 msgstr "Tipus _entrada:"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:296
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:324
 msgid "Input _File (image or convolution kernel):"
 msgstr "_Fitxer d'entrada (imatge o nucli de convoluci?): "
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:299
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:327
 msgid ""
 "_Load Bias (added to each pixel\n"
 "in file image when loaded):"
@@ -6561,7 +8217,7 @@
 "_Carrega polaritzaci? (quan es carrega\n"
 "s'afegeix a cada p?xel de la imatge): "
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:304
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:332
 msgid ""
 "Load _Multiplier (each pixel in\n"
 "file image mult. by this when loaded):"
@@ -6569,111 +8225,120 @@
 "Carrega _multiplicador (quan se'l carrega\n"
 "s'hi multiplica cada p?xel del fitxer d'imatge): "
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:310
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:338
 msgid "Input _Constant:"
 msgstr "_Constant entrada:"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:314
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:342
 msgid ""
-"Denominator of memory constant _alpha\n"
-"(where A = (1-alpha)*A + alpha*curr_frame):"
+"Memory constant _alpha\n"
+"(where A = (1-alpha)*A + alpha*(curr_frame + lookahead)):"
 msgstr ""
-"Denominador de constant de mem?ria _alfa\n"
-"(on A = (1-alfa)*A + alfa*fotog_actual):"
+"Constant de mem?ria _alfa\n"
+"(on A = (1-alfa)*A + alfa*fotog_actual+lookahead)):"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:319
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:347
+msgid "Look ahead _N frames:"
+msgstr "Look ahead _N fotogrames:"
+
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:351
 msgid "Init _Start Frame (first frame # to use for head start):"
 msgstr "Init. fogr. _inicial (1r # fotog. a usar com a head start):"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:323
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:355
 msgid "Init _End Frame (last frame # to use for head start):"
 msgstr "Init. fogr. _final (?ltim # fotog. a usar com a head start):"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:327
-msgid "Init By _Rolling (compute head start using a rolling average rather than a straight average)"
-msgstr "Init. per _mitjana m?bil (calcula el head start usant una mitjana m?bil en lloc d'una mitjana \"directa\")"
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:359
+msgid ""
+"Init By _Rolling (compute head start using a rolling average rather than a "
+"straight average)"
+msgstr ""
+"Init. per _mitjana m?bil (calcula el head start usant una mitjana m?bil en "
+"lloc d'una mitjana \"directa\")"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:332
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:364
 msgid "_Bias (will be added to result):"
 msgstr "_Polaritzaci? (s'afegir? al resultat): "
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:335
-msgid "Mi_nimum value (will be scaled to 0):"
-msgstr "Valor m?_nim (s'escalar? a 0): "
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:367
+msgid "_Result Bias (added to each result pixel):"
+msgstr "_Polaritzaci? resultant (afegida a cada p?xel resultant):"
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:338
-msgid "Ma_ximum value (will be scaled to 255):"
-msgstr "Valor m?_xim (s'escalar? a 255): "
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:371
+msgid ""
+"Result _Multiplier (each result pixel\n"
+"multiplied by this):"
+msgstr ""
+"_Multiplicador resultant (cada p?xel \n"
+"resultant es multiplicar? per ell): "
 
-#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:341
+#: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:376
 msgid "_Histogram every N frames (0 to disable):"
 msgstr "_Histograma cada N fotogr. (0: deshabilita):"
 
-#: avidemux/ADM_videoFilter/ADM_vidThreshold.cpp:134
+#: avidemux/ADM_videoFilter/ADM_vidThreshold.cpp:146
 msgid "Mi_nimum value to be in-range:"
 msgstr "Valor m?_nim de l'interval: "
 
-#: avidemux/ADM_videoFilter/ADM_vidThreshold.cpp:135
+#: avidemux/ADM_videoFilter/ADM_vidThreshold.cpp:147
 msgid "Ma_ximum value to be in-range:"
 msgstr "Valor m?_xim de l'interval: "
 
-#: avidemux/ADM_videoFilter/ADM_vidThreshold.cpp:138
+#: avidemux/ADM_videoFilter/ADM_vidThreshold.cpp:150
 msgid "In-range values go white, out-of-range go black"
 msgstr "Els valors interiors de l'interval esdevenen blancs, els exteriors, negres"
 
-#: avidemux/ADM_videoFilter/ADM_vidThreshold.cpp:139
+#: avidemux/ADM_videoFilter/ADM_vidThreshold.cpp:151
 msgid "In-range values go black, out-of-range go white"
 msgstr "Els valors interiors de l'interval esdevenen negres, els exteriors, blancs"
 
-#: avidemux/ADM_videoFilter/ADM_vidThreshold.cpp:144
+#: avidemux/ADM_videoFilter/ADM_vidThreshold.cpp:156
 msgid "Output values:"
 msgstr "Valors sortida: "
 
-#: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:101
+#: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:99
 msgid "_Luma temporal threshold:"
 msgstr "Llindar temporal _luma: "
 
-#: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:102
+#: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:100
 msgid "Ch_roma temporal threshold:"
 msgstr "Llindar temporal c_roma: "
 
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:171
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:169
 msgid "Temporal & spatial check"
 msgstr "Comprov. temp. i espacial"
 
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:172
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:170
 msgid "Bob, temporal & spatial check"
 msgstr "Bob, comprov. temp. i espacial "
 
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:173
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:171
 msgid "Skip spatial temporal check"
 msgstr "Salta compr. temp. espacial "
 
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:174
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:172
 msgid "Bob, skip spatial temporal check"
 msgstr "Bob, salta compr. temp. espac."
 
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:182
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:180
 msgid "_Order:"
-msgstr "_Ordre: "
+msgstr "_Ordre:"
 
-#: avidemux/gtk_gui.cpp:251
+#: avidemux/gtk_gui.cpp:250
 msgid "Select ECMAScript to Run"
 msgstr "Seleccioneu un ECMAScript per executar."
 
-#: avidemux/gtk_gui.cpp:298
-#: avidemux/gtk_gui.cpp:337
+#: avidemux/gtk_gui.cpp:297 avidemux/gtk_gui.cpp:336
 msgid "Obsolete"
 msgstr "?s obsolet"
 
-#: avidemux/gtk_gui.cpp:365
+#: avidemux/gtk_gui.cpp:364
 msgid "Not coded in this version"
 msgstr "No s'ha codificat en aquesta versi?"
 
-#: avidemux/gtk_gui.cpp:380
-#: avidemux/gtk_gui.cpp:385
-#: avidemux/gtk_gui.cpp:507
-#: avidemux/gtk_gui.cpp:510
+#: avidemux/gtk_gui.cpp:379 avidemux/gtk_gui.cpp:384 avidemux/gtk_gui.cpp:505
+#: avidemux/gtk_gui.cpp:508
 msgid "Select AVI File..."
 msgstr "Selecciona fitxer AVI"
 
@@ -6693,58 +8358,63 @@
 msgid "Select OGM File to Write"
 msgstr "Seleccioneu un fitxer d'OGM per escriure."
 
-#: avidemux/gtk_gui.cpp:453
-#: avidemux/gtk_gui.cpp:465
+#: avidemux/gtk_gui.cpp:453 avidemux/gtk_gui.cpp:465
 msgid "Select Workbench to Save"
 msgstr "Seleccioneu una tasca per desar."
 
-#: avidemux/gtk_gui.cpp:497
+#: avidemux/gtk_gui.cpp:495
 msgid "Select Raw File to Save"
 msgstr "Seleccioneu un fitxer de \"cru\" per desar."
 
-#: avidemux/gtk_gui.cpp:513
+#: avidemux/gtk_gui.cpp:511
 msgid "Select AVI File to Append..."
 msgstr "Seleccioneu un fitxer d'AVI per afegir."
 
-#: avidemux/gtk_gui.cpp:517
+#: avidemux/gtk_gui.cpp:515
 msgid "Select File to Save Audio"
 msgstr "Seleccioneu un fitxer per desar l'?udio."
 
-#: avidemux/gtk_gui.cpp:551
+#: avidemux/gtk_gui.cpp:549
 msgid "Select JPEG Sequence to Save"
 msgstr "Seleccioneu un seguit de fitxers de JPEG per desar."
 
-#: avidemux/gtk_gui.cpp:554
+#: avidemux/gtk_gui.cpp:552
 msgid "Select BMP to Save"
 msgstr "Seleccioneu un fitxer de BMP per desar."
 
-#: avidemux/gtk_gui.cpp:558
+#: avidemux/gtk_gui.cpp:556
 msgid "Select JPEG to Save"
 msgstr "Seleccioneu un fitxer de JPEG per desar."
 
-#: avidemux/gtk_gui.cpp:611
-#: avidemux/gtk_gui.cpp:715
+#: avidemux/gtk_gui.cpp:609 avidemux/gtk_gui.cpp:715
 msgid "Select File to Save"
 msgstr "Seleccioneu un fitxer per desar."
 
-#: avidemux/gtk_gui.cpp:655
+#: avidemux/gtk_gui.cpp:661
 msgid "Select MP3 to Load"
 msgstr "Seleccioneu un fitxer d'MP3 per carregar."
 
-#: avidemux/gtk_gui.cpp:658
+#: avidemux/gtk_gui.cpp:664
 msgid "Select AC3 to Load"
 msgstr "Seleccioneu un fitxer d'AC3 per carregar."
 
-#: avidemux/gtk_gui.cpp:661
+#: avidemux/gtk_gui.cpp:667
 msgid "Select WAV to Load"
 msgstr "Seleccioneu un fitxer de WAV per carregar."
 
-#: avidemux/gtk_gui.cpp:709
+#: avidemux/gtk_gui.cpp:705
+msgid "Go to Frame"
+msgstr "Salta al fotograma..."
+
+#: avidemux/gtk_gui.cpp:705
+msgid "_Go to frame:"
+msgstr "Salta al _fotograma..."
+
+#: avidemux/gtk_gui.cpp:710
 msgid "Out of bounds"
 msgstr "S'ha produ?t una sortida dels l?mits"
 
-#: avidemux/gtk_gui.cpp:720
-#: avidemux/gtk_gui.cpp:1908
+#: avidemux/gtk_gui.cpp:720 avidemux/gtk_gui.cpp:1918
 msgid "Marker A > B"
 msgstr "Marcador A > B"
 
@@ -6760,52 +8430,76 @@
 msgid "Are you sure?"
 msgstr "N'esteu segur?"
 
-#: avidemux/gtk_gui.cpp:801
+#: avidemux/gtk_gui.cpp:805
+msgid "Use custom value"
+msgstr "Usa un valor personalitzat"
+
+#: avidemux/gtk_gui.cpp:806
 msgid "Frame Rate"
 msgstr "Veloc. imatge "
 
-#: avidemux/gtk_gui.cpp:801
-msgid "_Frames per second:"
-msgstr "_Fotogr. per segon: "
+#: avidemux/gtk_gui.cpp:806
+msgid "_Frames per second"
+msgstr "_Fotogr. per segon"
 
-#: avidemux/gtk_gui.cpp:824
+#: avidemux/gtk_gui.cpp:809
+msgid "PAL - 25 FPS"
+msgstr "PAL - 25 FPS"
+
+#: avidemux/gtk_gui.cpp:810
+msgid "FILM- 24 FPS"
+msgstr "FILM- 24 FPS"
+
+#: avidemux/gtk_gui.cpp:811
+msgid "NTSC- 30 FPS"
+msgstr "NTSC- 30 FPS"
+
+#: avidemux/gtk_gui.cpp:813
+msgid "Standard FrameRate:"
+msgstr "Veloc. imatge est?ndard: "
+
+#: avidemux/gtk_gui.cpp:819
+msgid "Change FrameRate"
+msgstr "Canvia veloc. imatge"
+
+#: avidemux/gtk_gui.cpp:850
 msgid "Width is not a multiple of 8"
 msgstr "L'amplada no ?s un m?ltiple de 8"
 
-#: avidemux/gtk_gui.cpp:825
+#: avidemux/gtk_gui.cpp:851
 msgid "This will make trouble for AVI files."
 msgstr "Aix? suposar? un problema per al fitxers d'AVI."
 
-#: avidemux/gtk_gui.cpp:835
+#: avidemux/gtk_gui.cpp:861
 msgid "Rebuild all Keyframes?"
 msgstr "Voleu reconstruir tots els fotogrames clau?"
 
-#: avidemux/gtk_gui.cpp:893
+#: avidemux/gtk_gui.cpp:918
 msgid "Permission error"
 msgstr "S'ha produ?t un error sobre permisos"
 
-#: avidemux/gtk_gui.cpp:896
+#: avidemux/gtk_gui.cpp:921
 #, c-format
 msgid "\"%s\" does not exist."
 msgstr "\"%s\" no existeix."
 
-#: avidemux/gtk_gui.cpp:938
+#: avidemux/gtk_gui.cpp:960
 msgid "Cannot open project using the video loader."
 msgstr "No es pot obrir el projecte utilitzant el carregador de v?deo."
 
-#: avidemux/gtk_gui.cpp:939
+#: avidemux/gtk_gui.cpp:961
 msgid "Try 'File' -> 'Load/Run Project...'"
 msgstr "Proveu amb  'Fitxer' -> 'Carr/Exec Projecte...'"
 
-#: avidemux/gtk_gui.cpp:941
+#: avidemux/gtk_gui.cpp:963
 msgid "Could not open the file"
 msgstr "No s'ha pogut obrir el fitxer."
 
-#: avidemux/gtk_gui.cpp:976
+#: avidemux/gtk_gui.cpp:997
 msgid "Multiple Audio Tracks"
 msgstr "Pistes d'?udio m?ltiples"
 
-#: avidemux/gtk_gui.cpp:976
+#: avidemux/gtk_gui.cpp:997
 msgid ""
 "The file you just loaded contains several audio tracks.\n"
 "Go to Audio->MainTrack to select the active one."
@@ -6813,300 +8507,287 @@
 "El fitxer que acabeu de carregar cont? diverses pistes d'?udio.\n"
 "Aneu a \"?udio -> Pista Principal\" per seleccionar la pista activa."
 
-#: avidemux/gtk_gui.cpp:1039
+#: avidemux/gtk_gui.cpp:1051
 msgid "No audio decoder found for this file"
 msgstr "No s'ha trobat descodificador d'?udio per a aquest fitxer."
 
-#: avidemux/gtk_gui.cpp:1040
+#: avidemux/gtk_gui.cpp:1052
 msgid "Save (A+V) will generate bad AVI. Save audio will work."
 msgstr "El desament de (A+V) generar? un AVI defectu?s. El desament d'?udio anir? b?."
 
-#: avidemux/gtk_gui.cpp:1099
+#: avidemux/gtk_gui.cpp:1111
 msgid "Something failed when appending"
 msgstr "Alguna cosa ha fallat en afegir."
 
-#: avidemux/gtk_gui.cpp:1108
-#: avidemux/gtk_gui.cpp:1927
+#: avidemux/gtk_gui.cpp:1120 avidemux/gtk_gui.cpp:1937
 msgid "Something bad happened (II)"
 msgstr "Alguna cosa ha falalt (II)."
 
-#: avidemux/gtk_gui.cpp:1172
+#: avidemux/gtk_gui.cpp:1184
 msgid "Cannot save the audio in copy mode"
 msgstr "No es pot desar l'?udio en mode de \"Copiat\"."
 
-#: avidemux/gtk_gui.cpp:1172
+#: avidemux/gtk_gui.cpp:1184
 msgid "Select WAV PCM as the audio codec, otherwise the audio file would be raw PCM."
-msgstr "Seleccioneu WAV PCM com a c?dec d'?udio. Altrament el fitxer d'?udio ser? de PCM cru."
+msgstr ""
+"Seleccioneu WAV PCM com a c?dec d'?udio. Altrament el fitxer d'?udio ser? de "
+"PCM cru."
 
-#: avidemux/gtk_gui.cpp:1180
-#: avidemux/gtk_gui.cpp:1537
+#: avidemux/gtk_gui.cpp:1192 avidemux/gtk_gui.cpp:1547
 msgid "Saving audio"
 msgstr "S'est? desant l'?udio."
 
-#: avidemux/gtk_gui.cpp:1257
+#: avidemux/gtk_gui.cpp:1269
 msgid "Get Frame"
 msgstr "Obt? fotograma"
 
-#: avidemux/gtk_gui.cpp:1257
+#: avidemux/gtk_gui.cpp:1269
 msgid "Cannot get this frame to save"
 msgstr "No es pot obtenir aquest fotograma per desar."
 
-#: avidemux/gtk_gui.cpp:1294
+#: avidemux/gtk_gui.cpp:1307
 msgid "Mark A > B"
-msgstr "Marca A > B"
+msgstr "Marcador A > B"
 
-#: avidemux/gtk_gui.cpp:1294
+#: avidemux/gtk_gui.cpp:1307
 msgid "Set your markers correctly."
 msgstr "Fixeu els marcadors correctament."
 
-#: avidemux/gtk_gui.cpp:1303
+#: avidemux/gtk_gui.cpp:1316
 msgid "Saving as set of jpegs"
 msgstr "S'estan desant com a grup de JPEG."
 
-#: avidemux/gtk_gui.cpp:1309
+#: avidemux/gtk_gui.cpp:1322
 msgid "Cannot decode frame"
 msgstr "No es pot descodificar el fotograma."
 
-#: avidemux/gtk_gui.cpp:1309
+#: avidemux/gtk_gui.cpp:1322
 msgid "Aborting."
 msgstr "S'est? cancel?lant."
 
-#: avidemux/gtk_gui.cpp:1320
-#: avidemux/gtk_gui.cpp:1339
-#: avidemux/gtk_gui.cpp:2271
+#: avidemux/gtk_gui.cpp:1333 avidemux/gtk_gui.cpp:1352
+#: avidemux/gtk_gui.cpp:2281
 msgid "Done"
 msgstr "Fet"
 
-#: avidemux/gtk_gui.cpp:1320
+#: avidemux/gtk_gui.cpp:1333
 #, c-format
 msgid "Saved %d images."
 msgstr "S'han desat %d imatges."
 
-#: avidemux/gtk_gui.cpp:1322
+#: avidemux/gtk_gui.cpp:1335
 msgid "Error"
 msgstr "Error"
 
-#: avidemux/gtk_gui.cpp:1322
+#: avidemux/gtk_gui.cpp:1335
 msgid "Could not save all images."
 msgstr "No s'han pogut desar totes les imatges."
 
-#: avidemux/gtk_gui.cpp:1339
+#: avidemux/gtk_gui.cpp:1352
 #, c-format
 msgid "Saved \"%s\"."
 msgstr "S'ha desat el fitxer \"%s\"."
 
-#: avidemux/gtk_gui.cpp:1341
+#: avidemux/gtk_gui.cpp:1354
 msgid "BMP op failed"
 msgstr "Ha fallat l'operaci? de BMP."
 
-#: avidemux/gtk_gui.cpp:1341
+#: avidemux/gtk_gui.cpp:1354
 #, c-format
 msgid "Saving %s as a BMP file failed."
 msgstr "El desament de %s com a fitxer de BMP ha fallat."
 
-#: avidemux/gtk_gui.cpp:1361
-#: avidemux/gtk_gui.cpp:1427
+#: avidemux/gtk_gui.cpp:1374 avidemux/gtk_gui.cpp:1431
 msgid "Failed to open the file"
 msgstr "Ha fallat l'obertura del fitxer."
 
-#: avidemux/gtk_gui.cpp:1361
-#: avidemux/gtk_gui.cpp:1427
+#: avidemux/gtk_gui.cpp:1374 avidemux/gtk_gui.cpp:1431
 msgid "Not a WAV file?"
 msgstr "No ?s un fitxer de WAV?"
 
-#: avidemux/gtk_gui.cpp:1362
+#: avidemux/gtk_gui.cpp:1375
 msgid "WAV open file failed..."
 msgstr "Ha fallat l'obertura del fitxer de WAV."
 
-#: avidemux/gtk_gui.cpp:1491
+#: avidemux/gtk_gui.cpp:1501
 msgid "Cannot decompress audio frame"
 msgstr "No es pot descomprimir el segment sonor."
 
-#: avidemux/gtk_gui.cpp:1505
+#: avidemux/gtk_gui.cpp:1515
 msgid "Memory Error"
 msgstr "S'ha produ?t un error de mem?ria"
 
-#: avidemux/gtk_gui.cpp:1558
+#: avidemux/gtk_gui.cpp:1568
 msgid "No frames to encode"
 msgstr "No hi ha fotogrames per codificar"
 
-#: avidemux/gtk_gui.cpp:1558
+#: avidemux/gtk_gui.cpp:1568
 msgid "Please check markers. Is \"A>\" == \">B\"?"
 msgstr "Comproveu els marcadors. ?s \"A>\" == \">B\"?"
 
-#: avidemux/gtk_gui.cpp:1697
+#: avidemux/gtk_gui.cpp:1707
 msgid "Saving raw video stream"
 msgstr "S'est? desant el flux de v?deo cru."
 
-#: avidemux/gtk_gui.cpp:1843
+#: avidemux/gtk_gui.cpp:1853
 msgid "Checking video"
 msgstr "S'est? comprovant el v?deo."
 
-#: avidemux/gtk_gui.cpp:1859
+#: avidemux/gtk_gui.cpp:1869
 msgid "No error found"
 msgstr "No s'ha trobat cap error"
 
-#: avidemux/gtk_gui.cpp:1863
+#: avidemux/gtk_gui.cpp:1873
 #, c-format
 msgid "Errors found in %u frames"
 msgstr "S'han trobat errors en %u fotogrames."
 
-#: avidemux/gtk_gui.cpp:1881
+#: avidemux/gtk_gui.cpp:1891
 msgid "Cannot decompress the audio stream"
 msgstr "No podeu descomprimir el flux d'?udio."
 
-#: avidemux/gtk_gui.cpp:1881
+#: avidemux/gtk_gui.cpp:1891
 msgid "Switch audio codec to Copy."
 msgstr "Canvieu el c?dec d'?udio a \"Copiat\"."
 
-#: avidemux/gtk_gui.cpp:1908
+#: avidemux/gtk_gui.cpp:1918
 msgid "Cannot delete the selection."
 msgstr "No podeu esborrar la selecci?"
 
-#: avidemux/gtk_gui.cpp:1913
+#: avidemux/gtk_gui.cpp:1923
 msgid "You can't remove all frames"
 msgstr "No podeu esborrar tots els fotogrames."
 
-#: avidemux/gtk_gui.cpp:1989
+#: avidemux/gtk_gui.cpp:1999
 msgid "Could not get tracks info"
 msgstr "No s'ha pogut obtenir informaci? sobre les pistes."
 
-#: avidemux/gtk_gui.cpp:1997
+#: avidemux/gtk_gui.cpp:2007
 msgid "Take audio from video file"
 msgstr "Pren l'?udio del fitxer de v?deo"
 
-#: avidemux/gtk_gui.cpp:1998
-#: avidemux/gtk_gui.cpp:2097
+#: avidemux/gtk_gui.cpp:2008 avidemux/gtk_gui.cpp:2107
 msgid "No audio"
 msgstr "No hi ha ?udio"
 
-#: avidemux/gtk_gui.cpp:1999
-#: avidemux/gtk_gui.cpp:2098
+#: avidemux/gtk_gui.cpp:2009 avidemux/gtk_gui.cpp:2108
 msgid "External AC3"
 msgstr "AC3 extern"
 
-#: avidemux/gtk_gui.cpp:1999
-#: avidemux/gtk_gui.cpp:2098
+#: avidemux/gtk_gui.cpp:2009 avidemux/gtk_gui.cpp:2108
 msgid "Take audio from external AC3 file"
 msgstr "Pren l'?udio de fitxer d'AC3 extern."
 
-#: avidemux/gtk_gui.cpp:2000
-#: avidemux/gtk_gui.cpp:2099
+#: avidemux/gtk_gui.cpp:2010 avidemux/gtk_gui.cpp:2109
 msgid "External MP3"
 msgstr "MP3 extern"
 
-#: avidemux/gtk_gui.cpp:2000
-#: avidemux/gtk_gui.cpp:2099
+#: avidemux/gtk_gui.cpp:2010 avidemux/gtk_gui.cpp:2109
 msgid "Take audio from external MP3 file"
 msgstr "Pren l'?udio de fitxer d'MP3 extern."
 
-#: avidemux/gtk_gui.cpp:2001
-#: avidemux/gtk_gui.cpp:2100
+#: avidemux/gtk_gui.cpp:2011 avidemux/gtk_gui.cpp:2110
 msgid "External WAV"
 msgstr "WAV extern"
 
-#: avidemux/gtk_gui.cpp:2001
-#: avidemux/gtk_gui.cpp:2100
+#: avidemux/gtk_gui.cpp:2011 avidemux/gtk_gui.cpp:2110
 msgid "Take audio from external WAV file"
 msgstr "Pren l'?udio de fitxer de WAV extern."
 
-#: avidemux/gtk_gui.cpp:2005
-#: avidemux/gtk_gui.cpp:2105
+#: avidemux/gtk_gui.cpp:2015 avidemux/gtk_gui.cpp:2115
 msgid "_Audio source:"
 msgstr "Font d'_?udio: "
 
-#: avidemux/gtk_gui.cpp:2009
-#: avidemux/gtk_gui.cpp:2106
+#: avidemux/gtk_gui.cpp:2019 avidemux/gtk_gui.cpp:2116
 msgid "_External file:"
 msgstr "Nom del fitxer _extern: "
 
-#: avidemux/gtk_gui.cpp:2024
+#: avidemux/gtk_gui.cpp:2034
 msgid "_Track from video:"
 msgstr "_Pista des del v?deo: "
 
-#: avidemux/gtk_gui.cpp:2034
+#: avidemux/gtk_gui.cpp:2044
 msgid "Main Audio Track"
 msgstr "Pista principal d'?udio"
 
-#: avidemux/gtk_gui.cpp:2040
-#: avidemux/gtk_gui.cpp:2118
+#: avidemux/gtk_gui.cpp:2050 avidemux/gtk_gui.cpp:2128
 msgid "Cannot load"
 msgstr "No es pot carregar."
 
-#: avidemux/gtk_gui.cpp:2040
-#: avidemux/gtk_gui.cpp:2118
+#: avidemux/gtk_gui.cpp:2050 avidemux/gtk_gui.cpp:2128
 msgid "The selected audio file does not exist."
 msgstr "El fitxer d'?udio seleccionat no existeix."
 
-#: avidemux/gtk_gui.cpp:2115
+#: avidemux/gtk_gui.cpp:2125
 msgid "Second Audio Track"
 msgstr "Pista secund?ria d'?udio"
 
-#: avidemux/gtk_gui.cpp:2147
+#: avidemux/gtk_gui.cpp:2157
 msgid "Error loading the MP3 file"
 msgstr "S'ha produ?t un error en carregar el fitxer de MP3."
 
-#: avidemux/gtk_gui.cpp:2156
-#: avidemux/gtk_gui.cpp:2178
-#: avidemux/gtk_gui.cpp:2200
+#: avidemux/gtk_gui.cpp:2166 avidemux/gtk_gui.cpp:2188
+#: avidemux/gtk_gui.cpp:2210
 msgid "Second track loaded"
 msgstr "S'ha carregat la segona pista."
 
-#: avidemux/gtk_gui.cpp:2170
+#: avidemux/gtk_gui.cpp:2180
 msgid "Error loading the AC3 file"
 msgstr "S'ha produ?t un error en carregar el fitxer d'AC3."
 
-#: avidemux/gtk_gui.cpp:2192
+#: avidemux/gtk_gui.cpp:2202
 msgid "Error loading the WAV file"
 msgstr "S'ha produ?t un error en carregar el fitxer de WAV."
 
-#: avidemux/gtk_gui.cpp:2259
+#: avidemux/gtk_gui.cpp:2269
 msgid "Saving failed"
 msgstr "Ha fallat el desament."
 
-#: avidemux/gtk_gui.cpp:2259
+#: avidemux/gtk_gui.cpp:2269
 msgid "Saving the job failed. Maybe you have permission issue with ~/.avidemux"
-msgstr "S'est? desant la tasca fallida. Potser teniu un problema de permisos amb ~/.avidemux "
+msgstr ""
+"S'est? desant la tasca fallida. Potser teniu un problema de permisos amb ~/."
+"avidemux "
 
-#: avidemux/gtk_gui.cpp:2271
+#: avidemux/gtk_gui.cpp:2281
 #, c-format
 msgid "File %s has been successfully saved."
 msgstr "El fitxer %s s'ha desat satisfact?riament."
 
-#: avidemux/gtk_gui.cpp:2275
+#: avidemux/gtk_gui.cpp:2285
 #, c-format
 msgid "File %s was NOT saved correctly."
 msgstr "El fitxer %s no s'ha desat correctament."
 
-#: avidemux/gtk_gui.cpp:2438
+#: avidemux/gtk_gui.cpp:2451
 msgid "AvsProxy"
 msgstr "AvsProxy"
 
-#: avidemux/gtk_gui.cpp:2438
+#: avidemux/gtk_gui.cpp:2451
 msgid ""
 "Failed to connect to avsproxy.\n"
 "Is it running ?"
 msgstr ""
-"Ha fallar la connexi? a l'avsproxy.\n"
+"Ha fallat la connexi? amb l'avsproxy.\n"
 "Segur que est? funcionant?"
 
-#: avidemux/gtk_gui.cpp:2443
+#: avidemux/gtk_gui.cpp:2456
 msgid "avsproxy"
 msgstr "avsproxy"
 
-#: avidemux/gtk_gui.cpp:2471
+#: avidemux/gtk_gui.cpp:2484
 msgid "Frame type:"
 msgstr "Tipus fotograma: "
 
-#: avidemux/gtk_gui.cpp:2472
+#: avidemux/gtk_gui.cpp:2485
 msgid "Frame size:"
 msgstr "Mida fotograma: "
 
-#: avidemux/gtk_gui.cpp:2474
+#: avidemux/gtk_gui.cpp:2487
 msgid "Frame Hex Dump"
 msgstr "Bolcat hexadecimal fotograma"
 
-#: avidemux/guiplay.cpp:361
+#: avidemux/guiplay.cpp:359
 msgid "Trouble initializing audio device"
 msgstr "S'ha produ?t un problema en inicialitzar el dispositiu d'?udio"
 
@@ -7118,21 +8799,29 @@
 msgid "An audio track is necessary to create such file"
 msgstr "Cal una pista d'?udio per crear un fitxer com aquest"
 
-#: avidemux/gui_autodrive.cpp:79
+#: avidemux/gui_autodrive.cpp:63
+msgid "Xvid4 and FAAC support is required for the iPod profile."
+msgstr "Es requereix el suport de Xvid4 i de FAAC per al perfil d'iPod."
+
+#: avidemux/gui_autodrive.cpp:72
+msgid "Cannot select the MPEG-4 SP codec."
+msgstr "No es pot seleccionar el c?dec MPEG-4 SP."
+
+#: avidemux/gui_autodrive.cpp:114
 msgid ""
 "You don't have LAME!.\n"
 "It is needed to create FLV  video."
 msgstr "No teniu el LAME.Es necessita per crear el v?deo FLV."
 
-#: avidemux/gui_autodrive.cpp:93
+#: avidemux/gui_autodrive.cpp:128
 msgid "Cannot select FLV1  codec."
 msgstr "No es pot seleccionar el c?dec FLV1"
 
-#: avidemux/gui_autodrive.cpp:120
+#: avidemux/gui_autodrive.cpp:155
 msgid "Cannot select mpeg4 sp codec."
-msgstr "No es pot seleccionar el c?dec\"'mpeg4 sp\"."
+msgstr "No es pot seleccionar el c?dec MPEG-4 SP."
 
-#: avidemux/gui_autodrive.cpp:155
+#: avidemux/gui_autodrive.cpp:190
 msgid ""
 "You don't have FAAC!.\n"
 "It is needed to create PSP compatible video."
@@ -7148,19 +8837,16 @@
 msgid "There are no jobs stored"
 msgstr "No hi ha cap tasca desada"
 
-#: avidemux/gui_navigate.cpp:76
-#: avidemux/gui_navigate.cpp:114
-#: avidemux/gui_navigate.cpp:390
-#: avidemux/gui_navigate.cpp:426
+#: avidemux/gui_navigate.cpp:73 avidemux/gui_navigate.cpp:111
+#: avidemux/gui_navigate.cpp:393 avidemux/gui_navigate.cpp:429
 msgid "Decompressing error"
 msgstr "S'ha produ?t un error en descomprimir"
 
-#: avidemux/gui_navigate.cpp:76
+#: avidemux/gui_navigate.cpp:73
 msgid "Cannot decode next frame."
 msgstr "No es pot descodificar el seg?ent fotograma"
 
-#: avidemux/gui_navigate.cpp:114
-#: avidemux/gui_navigate.cpp:426
+#: avidemux/gui_navigate.cpp:111 avidemux/gui_navigate.cpp:429
 msgid "Cannot decode keyframe."
 msgstr "No es pot descodificar el seg?ent fotograma clau"
 
@@ -7168,11 +8854,11 @@
 msgid "Seeking"
 msgstr "S'est? cercant"
 
-#: avidemux/gui_navigate.cpp:315
+#: avidemux/gui_navigate.cpp:318
 msgid "Finding black frames"
 msgstr "S'estan cercant fotogrames negres"
 
-#: avidemux/gui_navigate.cpp:390
+#: avidemux/gui_navigate.cpp:393
 msgid "Cannot decode the frame."
 msgstr "No es pot descodificar el fotograma"
 
@@ -7184,8 +8870,7 @@
 msgid "Select Copy as the video codec."
 msgstr "Seleccioneu \"Copiat\" com a c?dec de v?deo."
 
-#: avidemux/gui_savenew.cpp:207
-#: avidemux/gui_savenew.cpp:223
+#: avidemux/gui_savenew.cpp:207 avidemux/gui_savenew.cpp:223
 #: avidemux/gui_savenew.cpp:236
 msgid "Incompatible output format"
 msgstr "El format de sortida ?s incompatible"
@@ -7202,13 +8887,11 @@
 msgid "Select dual audio AVI to write"
 msgstr "Seleccioneu ?udio dual AVI per escriure."
 
-#: avidemux/gui_savenew.cpp:280
-#: avidemux/gui_savenew.cpp:298
+#: avidemux/gui_savenew.cpp:280 avidemux/gui_savenew.cpp:298
 msgid "This cannot have packed VOP"
 msgstr "No pot ser que tingui empaquetat un VOP"
 
-#: avidemux/gui_savenew.cpp:280
-#: avidemux/gui_savenew.cpp:298
+#: avidemux/gui_savenew.cpp:280 avidemux/gui_savenew.cpp:298
 msgid "It is not MPEG-4 video. File will not be saved."
 msgstr "No ?s un v?deo MPEG-4. El fitxer no es pot desar."
 
@@ -7220,899 +8903,3 @@
 "Pot ser que necessiteu una c?pia intel?ligent.\n"
 "La voleu habilitar?"
 
-#~ msgid "Zoom _4:1"
-#~ msgstr "Zoom _4:1"
-#~ msgid "Calibrate"
-#~ msgstr "Calibra"
-#~ msgid "Skip all"
-#~ msgstr "Salta-ho tot"
-#~ msgid "Ignore glyph"
-#~ msgstr "Ignora glif"
-#~ msgid "? 2001-2006 Mean"
-#~ msgstr "? 2001-2006 Mean"
-#~ msgid ""
-#~ "Avidemux is free software; you can redistribute it and/or modify it \n"
-#~ "under the terms of the GNU General Public License version 2 \n"
-#~ "as published by the Free Software Foundation.\n"
-#~ "\n"
-#~ "\t\t    GNU GENERAL PUBLIC LICENSE\n"
-#~ "\t\t       Version 2, June 1991\n"
-#~ "\n"
-#~ " Copyright (C) 1989, 1991 Free Software Foundation, Inc.\n"
-#~ "                       51 Franklin St, Fifth Floor, Boston, MA  02110-"
-#~ "1301  USA\n"
-#~ " Everyone is permitted to copy and distribute verbatim copies\n"
-#~ " of this license document, but changing it is not allowed.\n"
-#~ "\n"
-#~ "\t\t\t    Preamble\n"
-#~ "\n"
-#~ "  The licenses for most software are designed to take away your\n"
-#~ "freedom to share and change it.  By contrast, the GNU General Public\n"
-#~ "License is intended to guarantee your freedom to share and change free\n"
-#~ "software--to make sure the software is free for all its users.  This\n"
-#~ "General Public License applies to most of the Free Software\n"
-#~ "Foundation's software and to any other program whose authors commit to\n"
-#~ "using it.  (Some other Free Software Foundation software is covered by\n"
-#~ "the GNU Library General Public License instead.)  You can apply it to\n"
-#~ "your programs, too.\n"
-#~ "\n"
-#~ "  When we speak of free software, we are referring to freedom, not\n"
-#~ "price.  Our General Public Licenses are designed to make sure that you\n"
-#~ "have the freedom to distribute copies of free software (and charge for\n"
-#~ "this service if you wish), that you receive source code or can get it\n"
-#~ "if you want it, that you can change the software or use pieces of it\n"
-#~ "in new free programs; and that you know you can do these things.\n"
-#~ "\n"
-#~ "  To protect your rights, we need to make restrictions that forbid\n"
-#~ "anyone to deny you these rights or to ask you to surrender the rights.\n"
-#~ "These restrictions translate to certain responsibilities for you if you\n"
-#~ "distribute copies of the software, or if you modify it.\n"
-#~ "\n"
-#~ "  For example, if you distribute copies of such a program, whether\n"
-#~ "gratis or for a fee, you must give the recipients all the rights that\n"
-#~ "you have.  You must make sure that they, too, receive or can get the\n"
-#~ "source code.  And you must show them these terms so they know their\n"
-#~ "rights.\n"
-#~ "\n"
-#~ "  We protect your rights with two steps: (1) copyright the software, and\n"
-#~ "(2) offer you this license which gives you legal permission to copy,\n"
-#~ "distribute and/or modify the software.\n"
-#~ "\n"
-#~ "  Also, for each author's protection and ours, we want to make certain\n"
-#~ "that everyone understands that there is no warranty for this free\n"
-#~ "software.  If the software is modified by someone else and passed on, we\n"
-#~ "want its recipients to know that what they have is not the original, so\n"
-#~ "that any problems introduced by others will not reflect on the original\n"
-#~ "authors' reputations.\n"
-#~ "\n"
-#~ "  Finally, any free program is threatened constantly by software\n"
-#~ "patents.  We wish to avoid the danger that redistributors of a free\n"
-#~ "program will individually obtain patent licenses, in effect making the\n"
-#~ "program proprietary.  To prevent this, we have made it clear that any\n"
-#~ "patent must be licensed for everyone's free use or not licensed at all.\n"
-#~ "\n"
-#~ "  The precise terms and conditions for copying, distribution and\n"
-#~ "modification follow.\n"
-#~ "\n"
-#~ "\t\t    GNU GENERAL PUBLIC LICENSE\n"
-#~ "   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n"
-#~ "\n"
-#~ "  0. This License applies to any program or other work which contains\n"
-#~ "a notice placed by the copyright holder saying it may be distributed\n"
-#~ "under the terms of this General Public License.  The \"Program\", below,\n"
-#~ "refers to any such program or work, and a \"work based on the Program\"\n"
-#~ "means either the Program or any derivative work under copyright law:\n"
-#~ "that is to say, a work containing the Program or a portion of it,\n"
-#~ "either verbatim or with modifications and/or translated into another\n"
-#~ "language.  (Hereinafter, translation is included without limitation in\n"
-#~ "the term \"modification\".)  Each licensee is addressed as \"you\".\n"
-#~ "\n"
-#~ "Activities other than copying, distribution and modification are not\n"
-#~ "covered by this License; they are outside its scope.  The act of\n"
-#~ "running the Program is not restricted, and the output from the Program\n"
-#~ "is covered only if its contents constitute a work based on the\n"
-#~ "Program (independent of having been made by running the Program).\n"
-#~ "Whether that is true depends on what the Program does.\n"
-#~ "\n"
-#~ "  1. You may copy and distribute verbatim copies of the Program's\n"
-#~ "source code as you receive it, in any medium, provided that you\n"
-#~ "conspicuously and appropriately publish on each copy an appropriate\n"
-#~ "copyright notice and disclaimer of warranty; keep intact all the\n"
-#~ "notices that refer to this License and to the absence of any warranty;\n"
-#~ "and give any other recipients of the Program a copy of this License\n"
-#~ "along with the Program.\n"
-#~ "\n"
-#~ "You may charge a fee for the physical act of transferring a copy, and\n"
-#~ "you may at your option offer warranty protection in exchange for a fee.\n"
-#~ "\n"
-#~ "  2. You may modify your copy or copies of the Program or any portion\n"
-#~ "of it, thus forming a work based on the Program, and copy and\n"
-#~ "distribute such modifications or work under the terms of Section 1\n"
-#~ "above, provided that you also meet all of these conditions:\n"
-#~ "\n"
-#~ "    a) You must cause the modified files to carry prominent notices\n"
-#~ "    stating that you changed the files and the date of any change.\n"
-#~ "\n"
-#~ "    b) You must cause any work that you distribute or publish, that in\n"
-#~ "    whole or in part contains or is derived from the Program or any\n"
-#~ "    part thereof, to be licensed as a whole at no charge to all third\n"
-#~ "    parties under the terms of this License.\n"
-#~ "\n"
-#~ "    c) If the modified program normally reads commands interactively\n"
-#~ "    when run, you must cause it, when started running for such\n"
-#~ "    interactive use in the most ordinary way, to print or display an\n"
-#~ "    announcement including an appropriate copyright notice and a\n"
-#~ "    notice that there is no warranty (or else, saying that you provide\n"
-#~ "    a warranty) and that users may redistribute the program under\n"
-#~ "    these conditions, and telling the user how to view a copy of this\n"
-#~ "    License.  (Exception: if the Program itself is interactive but\n"
-#~ "    does not normally print such an announcement, your work based on\n"
-#~ "    the Program is not required to print an announcement.)\n"
-#~ "\n"
-#~ "These requirements apply to the modified work as a whole.  If\n"
-#~ "identifiable sections of that work are not derived from the Program,\n"
-#~ "and can be reasonably considered independent and separate works in\n"
-#~ "themselves, then this License, and its terms, do not apply to those\n"
-#~ "sections when you distribute them as separate works.  But when you\n"
-#~ "distribute the same sections as part of a whole which is a work based\n"
-#~ "on the Program, the distribution of the whole must be on the terms of\n"
-#~ "this License, whose permissions for other licensees extend to the\n"
-#~ "entire whole, and thus to each and every part regardless of who wrote "
-#~ "it.\n"
-#~ "\n"
-#~ "Thus, it is not the intent of this section to claim rights or contest\n"
-#~ "your rights to work written entirely by you; rather, the intent is to\n"
-#~ "exercise the right to control the distribution of derivative or\n"
-#~ "collective works based on the Program.\n"
-#~ "\n"
-#~ "In addition, mere aggregation of another work not based on the Program\n"
-#~ "with the Program (or with a work based on the Program) on a volume of\n"
-#~ "a storage or distribution medium does not bring the other work under\n"
-#~ "the scope of this License.\n"
-#~ "\n"
-#~ "  3. You may copy and distribute the Program (or a work based on it,\n"
-#~ "under Section 2) in object code or executable form under the terms of\n"
-#~ "Sections 1 and 2 above provided that you also do one of the following:\n"
-#~ "\n"
-#~ "    a) Accompany it with the complete corresponding machine-readable\n"
-#~ "    source code, which must be distributed under the terms of Sections\n"
-#~ "    1 and 2 above on a medium customarily used for software interchange; "
-#~ "or,\n"
-#~ "\n"
-#~ "    b) Accompany it with a written offer, valid for at least three\n"
-#~ "    years, to give any third party, for a charge no more than your\n"
-#~ "    cost of physically performing source distribution, a complete\n"
-#~ "    machine-readable copy of the corresponding source code, to be\n"
-#~ "    distributed under the terms of Sections 1 and 2 above on a medium\n"
-#~ "    customarily used for software interchange; or,\n"
-#~ "\n"
-#~ "    c) Accompany it with the information you received as to the offer\n"
-#~ "    to distribute corresponding source code.  (This alternative is\n"
-#~ "    allowed only for noncommercial distribution and only if you\n"
-#~ "    received the program in object code or executable form with such\n"
-#~ "    an offer, in accord with Subsection b above.)\n"
-#~ "\n"
-#~ "The source code for a work means the preferred form of the work for\n"
-#~ "making modifications to it.  For an executable work, complete source\n"
-#~ "code means all the source code for all modules it contains, plus any\n"
-#~ "associated interface definition files, plus the scripts used to\n"
-#~ "control compilation and installation of the executable.  However, as a\n"
-#~ "special exception, the source code distributed need not include\n"
-#~ "anything that is normally distributed (in either source or binary\n"
-#~ "form) with the major components (compiler, kernel, and so on) of the\n"
-#~ "operating system on which the executable runs, unless that component\n"
-#~ "itself accompanies the executable.\n"
-#~ "\n"
-#~ "If distribution of executable or object code is made by offering\n"
-#~ "access to copy from a designated place, then offering equivalent\n"
-#~ "access to copy the source code from the same place counts as\n"
-#~ "distribution of the source code, even though third parties are not\n"
-#~ "compelled to copy the source along with the object code.\n"
-#~ "\n"
-#~ "  4. You may not copy, modify, sublicense, or distribute the Program\n"
-#~ "except as expressly provided under this License.  Any attempt\n"
-#~ "otherwise to copy, modify, sublicense or distribute the Program is\n"
-#~ "void, and will automatically terminate your rights under this License.\n"
-#~ "However, parties who have received copies, or rights, from you under\n"
-#~ "this License will not have their licenses terminated so long as such\n"
-#~ "parties remain in full compliance.\n"
-#~ "\n"
-#~ "  5. You are not required to accept this License, since you have not\n"
-#~ "signed it.  However, nothing else grants you permission to modify or\n"
-#~ "distribute the Program or its derivative works.  These actions are\n"
-#~ "prohibited by law if you do not accept this License.  Therefore, by\n"
-#~ "modifying or distributing the Program (or any work based on the\n"
-#~ "Program), you indicate your acceptance of this License to do so, and\n"
-#~ "all its terms and conditions for copying, distributing or modifying\n"
-#~ "the Program or works based on it.\n"
-#~ "\n"
-#~ "  6. Each time you redistribute the Program (or any work based on the\n"
-#~ "Program), the recipient automatically receives a license from the\n"
-#~ "original licensor to copy, distribute or modify the Program subject to\n"
-#~ "these terms and conditions.  You may not impose any further\n"
-#~ "restrictions on the recipients' exercise of the rights granted herein.\n"
-#~ "You are not responsible for enforcing compliance by third parties to\n"
-#~ "this License.\n"
-#~ "\n"
-#~ "  7. If, as a consequence of a court judgment or allegation of patent\n"
-#~ "infringement or for any other reason (not limited to patent issues),\n"
-#~ "conditions are imposed on you (whether by court order, agreement or\n"
-#~ "otherwise) that contradict the conditions of this License, they do not\n"
-#~ "excuse you from the conditions of this License.  If you cannot\n"
-#~ "distribute so as to satisfy simultaneously your obligations under this\n"
-#~ "License and any other pertinent obligations, then as a consequence you\n"
-#~ "may not distribute the Program at all.  For example, if a patent\n"
-#~ "license would not permit royalty-free redistribution of the Program by\n"
-#~ "all those who receive copies directly or indirectly through you, then\n"
-#~ "the only way you could satisfy both it and this License would be to\n"
-#~ "refrain entirely from distribution of the Program.\n"
-#~ "\n"
-#~ "If any portion of this section is held invalid or unenforceable under\n"
-#~ "any particular circumstance, the balance of the section is intended to\n"
-#~ "apply and the section as a whole is intended to apply in other\n"
-#~ "circumstances.\n"
-#~ "\n"
-#~ "It is not the purpose of this section to induce you to infringe any\n"
-#~ "patents or other property right claims or to contest validity of any\n"
-#~ "such claims; this section has the sole purpose of protecting the\n"
-#~ "integrity of the free software distribution system, which is\n"
-#~ "implemented by public license practices.  Many people have made\n"
-#~ "generous contributions to the wide range of software distributed\n"
-#~ "through that system in reliance on consistent application of that\n"
-#~ "system; it is up to the author/donor to decide if he or she is willing\n"
-#~ "to distribute software through any other system and a licensee cannot\n"
-#~ "impose that choice.\n"
-#~ "\n"
-#~ "This section is intended to make thoroughly clear what is believed to\n"
-#~ "be a consequence of the rest of this License.\n"
-#~ "\n"
-#~ "  8. If the distribution and/or use of the Program is restricted in\n"
-#~ "certain countries either by patents or by copyrighted interfaces, the\n"
-#~ "original copyright holder who places the Program under this License\n"
-#~ "may add an explicit geographical distribution limitation excluding\n"
-#~ "those countries, so that distribution is permitted only in or among\n"
-#~ "countries not thus excluded.  In such case, this License incorporates\n"
-#~ "the limitation as if written in the body of this License.\n"
-#~ "\n"
-#~ "  9. The Free Software Foundation may publish revised and/or new "
-#~ "versions\n"
-#~ "of the General Public License from time to time.  Such new versions will\n"
-#~ "be similar in spirit to the present version, but may differ in detail to\n"
-#~ "address new problems or concerns.\n"
-#~ "\n"
-#~ "Each version is given a distinguishing version number.  If the Program\n"
-#~ "specifies a version number of this License which applies to it and \"any\n"
-#~ "later version\", you have the option of following the terms and "
-#~ "conditions\n"
-#~ "either of that version or of any later version published by the Free\n"
-#~ "Software Foundation.  If the Program does not specify a version number "
-#~ "of\n"
-#~ "this License, you may choose any version ever published by the Free "
-#~ "Software\n"
-#~ "Foundation.\n"
-#~ "\n"
-#~ "  10. If you wish to incorporate parts of the Program into other free\n"
-#~ "programs whose distribution conditions are different, write to the "
-#~ "author\n"
-#~ "to ask for permission.  For software which is copyrighted by the Free\n"
-#~ "Software Foundation, write to the Free Software Foundation; we sometimes\n"
-#~ "make exceptions for this.  Our decision will be guided by the two goals\n"
-#~ "of preserving the free status of all derivatives of our free software "
-#~ "and\n"
-#~ "of promoting the sharing and reuse of software generally.\n"
-#~ "\n"
-#~ "\t\t\t    NO WARRANTY\n"
-#~ "\n"
-#~ "  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO "
-#~ "WARRANTY\n"
-#~ "FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\n"
-#~ "OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\n"
-#~ "PROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER "
-#~ "EXPRESSED\n"
-#~ "OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n"
-#~ "MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK "
-#~ "AS\n"
-#~ "TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\n"
-#~ "PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\n"
-#~ "REPAIR OR CORRECTION.\n"
-#~ "\n"
-#~ "  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN "
-#~ "WRITING\n"
-#~ "WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\n"
-#~ "REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR "
-#~ "DAMAGES,\n"
-#~ "INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES "
-#~ "ARISING\n"
-#~ "OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT "
-#~ "LIMITED\n"
-#~ "TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\n"
-#~ "YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY "
-#~ "OTHER\n"
-#~ "PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\n"
-#~ "POSSIBILITY OF SUCH DAMAGES.\n"
-#~ "\n"
-#~ "\t\t     END OF TERMS AND CONDITIONS\n"
-#~ "\n"
-#~ "\t    How to Apply These Terms to Your New Programs\n"
-#~ "\n"
-#~ "  If you develop a new program, and you want it to be of the greatest\n"
-#~ "possible use to the public, the best way to achieve this is to make it\n"
-#~ "free software which everyone can redistribute and change under these "
-#~ "terms.\n"
-#~ "\n"
-#~ "  To do so, attach the following notices to the program.  It is safest\n"
-#~ "to attach them to the start of each source file to most effectively\n"
-#~ "convey the exclusion of warranty; and each file should have at least\n"
-#~ "the \"copyright\" line and a pointer to where the full notice is found.\n"
-#~ "\n"
-#~ "    <one line to give the program's name and a brief idea of what it does."
-#~ ">\n"
-#~ "    Copyright (C) <year>  <name of author>\n"
-#~ "\n"
-#~ "    This program is free software; you can redistribute it and/or modify\n"
-#~ "    it under the terms of the GNU General Public License as published by\n"
-#~ "    the Free Software Foundation; either version 2 of the License, or\n"
-#~ "    (at your option) any later version.\n"
-#~ "\n"
-#~ "    This program is distributed in the hope that it will be useful,\n"
-#~ "    but WITHOUT ANY WARRANTY; without even the implied warranty of\n"
-#~ "    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n"
-#~ "    GNU General Public License for more details.\n"
-#~ "\n"
-#~ "    You should have received a copy of the GNU General Public License\n"
-#~ "    along with this program; if not, write to the Free Software\n"
-#~ "    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-"
-#~ "1301  USA\n"
-#~ "\n"
-#~ "\n"
-#~ "Also add information on how to contact you by electronic and paper mail.\n"
-#~ "\n"
-#~ "If the program is interactive, make it output a short notice like this\n"
-#~ "when it starts in an interactive mode:\n"
-#~ "\n"
-#~ "    Gnomovision version 69, Copyright (C) year name of author\n"
-#~ "    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show "
-#~ "w'.\n"
-#~ "    This is free software, and you are welcome to redistribute it\n"
-#~ "    under certain conditions; type `show c' for details.\n"
-#~ "\n"
-#~ "The hypothetical commands `show w' and `show c' should show the "
-#~ "appropriate\n"
-#~ "parts of the General Public License.  Of course, the commands you use "
-#~ "may\n"
-#~ "be called something other than `show w' and `show c'; they could even be\n"
-#~ "mouse-clicks or menu items--whatever suits your program.\n"
-#~ "\n"
-#~ "You should also get your employer (if you work as a programmer) or your\n"
-#~ "school, if any, to sign a \"copyright disclaimer\" for the program, if\n"
-#~ "necessary.  Here is a sample; alter the names:\n"
-#~ "\n"
-#~ "  Yoyodyne, Inc., hereby disclaims all copyright interest in the program\n"
-#~ "  `Gnomovision' (which makes passes at compilers) written by James "
-#~ "Hacker.\n"
-#~ "\n"
-#~ "  <signature of Ty Coon>, 1 April 1989\n"
-#~ "  Ty Coon, President of Vice\n"
-#~ "\n"
-#~ "This General Public License does not permit incorporating your program "
-#~ "into\n"
-#~ "proprietary programs.  If your program is a subroutine library, you may\n"
-#~ "consider it more useful to permit linking proprietary applications with "
-#~ "the\n"
-#~ "library.  If this is what you want to do, use the GNU Library General\n"
-#~ "Public License instead of this License."
-#~ msgstr ""
-#~ "L'Avidemux ?s un programa lliure; podeu distribuir-lo i/o modificar-lo \n"
-#~ "sota les condicions de la GNU General Public License, versi? 2, \n"
-#~ "publicada per la Free Software Foundation.\n"
-#~ "\n"
-#~ "\t\t    GNU GENERAL PUBLIC LICENSE\n"
-#~ "\t\t       Version 2, June 1991\n"
-#~ "\n"
-#~ " Copyright (C) 1989, 1991 Free Software Foundation, Inc.\n"
-#~ "                       51 Franklin St, Fifth Floor, Boston, MA  02110-"
-#~ "1301  USA\n"
-#~ " Everyone is permitted to copy and distribute verbatim copies\n"
-#~ " of this license document, but changing it is not allowed.\n"
-#~ "\n"
-#~ "\t\t\t    Preamble\n"
-#~ "\n"
-#~ "  The licenses for most software are designed to take away your\n"
-#~ "freedom to share and change it.  By contrast, the GNU General Public\n"
-#~ "License is intended to guarantee your freedom to share and change free\n"
-#~ "software--to make sure the software is free for all its users.  This\n"
-#~ "General Public License applies to most of the Free Software\n"
-#~ "Foundation's software and to any other program whose authors commit to\n"
-#~ "using it.  (Some other Free Software Foundation software is covered by\n"
-#~ "the GNU Library General Public License instead.)  You can apply it to\n"
-#~ "your programs, too.\n"
-#~ "\n"
-#~ "  When we speak of free software, we are referring to freedom, not\n"
-#~ "price.  Our General Public Licenses are designed to make sure that you\n"
-#~ "have the freedom to distribute copies of free software (and charge for\n"
-#~ "this service if you wish), that you receive source code or can get it\n"
-#~ "if you want it, that you can change the software or use pieces of it\n"
-#~ "in new free programs; and that you know you can do these things.\n"
-#~ "\n"
-#~ "  To protect your rights, we need to make restrictions that forbid\n"
-#~ "anyone to deny you these rights or to ask you to surrender the rights.\n"
-#~ "These restrictions translate to certain responsibilities for you if you\n"
-#~ "distribute copies of the software, or if you modify it.\n"
-#~ "\n"
-#~ "  For example, if you distribute copies of such a program, whether\n"
-#~ "gratis or for a fee, you must give the recipients all the rights that\n"
-#~ "you have.  You must make sure that they, too, receive or can get the\n"
-#~ "source code.  And you must show them these terms so they know their\n"
-#~ "rights.\n"
-#~ "\n"
-#~ "  We protect your rights with two steps: (1) copyright the software, and\n"
-#~ "(2) offer you this license which gives you legal permission to copy,\n"
-#~ "distribute and/or modify the software.\n"
-#~ "\n"
-#~ "  Also, for each author's protection and ours, we want to make certain\n"
-#~ "that everyone understands that there is no warranty for this free\n"
-#~ "software.  If the software is modified by someone else and passed on, we\n"
-#~ "want its recipients to know that what they have is not the original, so\n"
-#~ "that any problems introduced by others will not reflect on the original\n"
-#~ "authors' reputations.\n"
-#~ "\n"
-#~ "  Finally, any free program is threatened constantly by software\n"
-#~ "patents.  We wish to avoid the danger that redistributors of a free\n"
-#~ "program will individually obtain patent licenses, in effect making the\n"
-#~ "program proprietary.  To prevent this, we have made it clear that any\n"
-#~ "patent must be licensed for everyone's free use or not licensed at all.\n"
-#~ "\n"
-#~ "  The precise terms and conditions for copying, distribution and\n"
-#~ "modification follow.\n"
-#~ "\n"
-#~ "\t\t    GNU GENERAL PUBLIC LICENSE\n"
-#~ "   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n"
-#~ "\n"
-#~ "  0. This License applies to any program or other work which contains\n"
-#~ "a notice placed by the copyright holder saying it may be distributed\n"
-#~ "under the terms of this General Public License.  The \"Program\", below,\n"
-#~ "refers to any such program or work, and a \"work based on the Program\"\n"
-#~ "means either the Program or any derivative work under copyright law:\n"
-#~ "that is to say, a work containing the Program or a portion of it,\n"
-#~ "either verbatim or with modifications and/or translated into another\n"
-#~ "language.  (Hereinafter, translation is included without limitation in\n"
-#~ "the term \"modification\".)  Each licensee is addressed as \"you\".\n"
-#~ "\n"
-#~ "Activities other than copying, distribution and modification are not\n"
-#~ "covered by this License; they are outside its scope.  The act of\n"
-#~ "running the Program is not restricted, and the output from the Program\n"
-#~ "is covered only if its contents constitute a work based on the\n"
-#~ "Program (independent of having been made by running the Program).\n"
-#~ "Whether that is true depends on what the Program does.\n"
-#~ "\n"
-#~ "  1. You may copy and distribute verbatim copies of the Program's\n"
-#~ "source code as you receive it, in any medium, provided that you\n"
-#~ "conspicuously and appropriately publish on each copy an appropriate\n"
-#~ "copyright notice and disclaimer of warranty; keep intact all the\n"
-#~ "notices that refer to this License and to the absence of any warranty;\n"
-#~ "and give any other recipients of the Program a copy of this License\n"
-#~ "along with the Program.\n"
-#~ "\n"
-#~ "You may charge a fee for the physical act of transferring a copy, and\n"
-#~ "you may at your option offer warranty protection in exchange for a fee.\n"
-#~ "\n"
-#~ "  2. You may modify your copy or copies of the Program or any portion\n"
-#~ "of it, thus forming a work based on the Program, and copy and\n"
-#~ "distribute such modifications or work under the terms of Section 1\n"
-#~ "above, provided that you also meet all of these conditions:\n"
-#~ "\n"
-#~ "    a) You must cause the modified files to carry prominent notices\n"
-#~ "    stating that you changed the files and the date of any change.\n"
-#~ "\n"
-#~ "    b) You must cause any work that you distribute or publish, that in\n"
-#~ "    whole or in part contains or is derived from the Program or any\n"
-#~ "    part thereof, to be licensed as a whole at no charge to all third\n"
-#~ "    parties under the terms of this License.\n"
-#~ "\n"
-#~ "    c) If the modified program normally reads commands interactively\n"
-#~ "    when run, you must cause it, when started running for such\n"
-#~ "    interactive use in the most ordinary way, to print or display an\n"
-#~ "    announcement including an appropriate copyright notice and a\n"
-#~ "    notice that there is no warranty (or else, saying that you provide\n"
-#~ "    a warranty) and that users may redistribute the program under\n"
-#~ "    these conditions, and telling the user how to view a copy of this\n"
-#~ "    License.  (Exception: if the Program itself is interactive but\n"
-#~ "    does not normally print such an announcement, your work based on\n"
-#~ "    the Program is not required to print an announcement.)\n"
-#~ "\n"
-#~ "These requirements apply to the modified work as a whole.  If\n"
-#~ "identifiable sections of that work are not derived from the Program,\n"
-#~ "and can be reasonably considered independent and separate works in\n"
-#~ "themselves, then this License, and its terms, do not apply to those\n"
-#~ "sections when you distribute them as separate works.  But when you\n"
-#~ "distribute the same sections as part of a whole which is a work based\n"
-#~ "on the Program, the distribution of the whole must be on the terms of\n"
-#~ "this License, whose permissions for other licensees extend to the\n"
-#~ "entire whole, and thus to each and every part regardless of who wrote "
-#~ "it.\n"
-#~ "\n"
-#~ "Thus, it is not the intent of this section to claim rights or contest\n"
-#~ "your rights to work written entirely by you; rather, the intent is to\n"
-#~ "exercise the right to control the distribution of derivative or\n"
-#~ "collective works based on the Program.\n"
-#~ "\n"
-#~ "In addition, mere aggregation of another work not based on the Program\n"
-#~ "with the Program (or with a work based on the Program) on a volume of\n"
-#~ "a storage or distribution medium does not bring the other work under\n"
-#~ "the scope of this License.\n"
-#~ "\n"
-#~ "  3. You may copy and distribute the Program (or a work based on it,\n"
-#~ "under Section 2) in object code or executable form under the terms of\n"
-#~ "Sections 1 and 2 above provided that you also do one of the following:\n"
-#~ "\n"
-#~ "    a) Accompany it with the complete corresponding machine-readable\n"
-#~ "    source code, which must be distributed under the terms of Sections\n"
-#~ "    1 and 2 above on a medium customarily used for software interchange; "
-#~ "or,\n"
-#~ "\n"
-#~ "    b) Accompany it with a written offer, valid for at least three\n"
-#~ "    years, to give any third party, for a charge no more than your\n"
-#~ "    cost of physically performing source distribution, a complete\n"
-#~ "    machine-readable copy of the corresponding source code, to be\n"
-#~ "    distributed under the terms of Sections 1 and 2 above on a medium\n"
-#~ "    customarily used for software interchange; or,\n"
-#~ "\n"
-#~ "    c) Accompany it with the information you received as to the offer\n"
-#~ "    to distribute corresponding source code.  (This alternative is\n"
-#~ "    allowed only for noncommercial distribution and only if you\n"
-#~ "    received the program in object code or executable form with such\n"
-#~ "    an offer, in accord with Subsection b above.)\n"
-#~ "\n"
-#~ "The source code for a work means the preferred form of the work for\n"
-#~ "making modifications to it.  For an executable work, complete source\n"
-#~ "code means all the source code for all modules it contains, plus any\n"
-#~ "associated interface definition files, plus the scripts used to\n"
-#~ "control compilation and installation of the executable.  However, as a\n"
-#~ "special exception, the source code distributed need not include\n"
-#~ "anything that is normally distributed (in either source or binary\n"
-#~ "form) with the major components (compiler, kernel, and so on) of the\n"
-#~ "operating system on which the executable runs, unless that component\n"
-#~ "itself accompanies the executable.\n"
-#~ "\n"
-#~ "If distribution of executable or object code is made by offering\n"
-#~ "access to copy from a designated place, then offering equivalent\n"
-#~ "access to copy the source code from the same place counts as\n"
-#~ "distribution of the source code, even though third parties are not\n"
-#~ "compelled to copy the source along with the object code.\n"
-#~ "\n"
-#~ "  4. You may not copy, modify, sublicense, or distribute the Program\n"
-#~ "except as expressly provided under this License.  Any attempt\n"
-#~ "otherwise to copy, modify, sublicense or distribute the Program is\n"
-#~ "void, and will automatically terminate your rights under this License.\n"
-#~ "However, parties who have received copies, or rights, from you under\n"
-#~ "this License will not have their licenses terminated so long as such\n"
-#~ "parties remain in full compliance.\n"
-#~ "\n"
-#~ "  5. You are not required to accept this License, since you have not\n"
-#~ "signed it.  However, nothing else grants you permission to modify or\n"
-#~ "distribute the Program or its derivative works.  These actions are\n"
-#~ "prohibited by law if you do not accept this License.  Therefore, by\n"
-#~ "modifying or distributing the Program (or any work based on the\n"
-#~ "Program), you indicate your acceptance of this License to do so, and\n"
-#~ "all its terms and conditions for copying, distributing or modifying\n"
-#~ "the Program or works based on it.\n"
-#~ "\n"
-#~ "  6. Each time you redistribute the Program (or any work based on the\n"
-#~ "Program), the recipient automatically receives a license from the\n"
-#~ "original licensor to copy, distribute or modify the Program subject to\n"
-#~ "these terms and conditions.  You may not impose any further\n"
-#~ "restrictions on the recipients' exercise of the rights granted herein.\n"
-#~ "You are not responsible for enforcing compliance by third parties to\n"
-#~ "this License.\n"
-#~ "\n"
-#~ "  7. If, as a consequence of a court judgment or allegation of patent\n"
-#~ "infringement or for any other reason (not limited to patent issues),\n"
-#~ "conditions are imposed on you (whether by court order, agreement or\n"
-#~ "otherwise) that contradict the conditions of this License, they do not\n"
-#~ "excuse you from the conditions of this License.  If you cannot\n"
-#~ "distribute so as to satisfy simultaneously your obligations under this\n"
-#~ "License and any other pertinent obligations, then as a consequence you\n"
-#~ "may not distribute the Program at all.  For example, if a patent\n"
-#~ "license would not permit royalty-free redistribution of the Program by\n"
-#~ "all those who receive copies directly or indirectly through you, then\n"
-#~ "the only way you could satisfy both it and this License would be to\n"
-#~ "refrain entirely from distribution of the Program.\n"
-#~ "\n"
-#~ "If any portion of this section is held invalid or unenforceable under\n"
-#~ "any particular circumstance, the balance of the section is intended to\n"
-#~ "apply and the section as a whole is intended to apply in other\n"
-#~ "circumstances.\n"
-#~ "\n"
-#~ "It is not the purpose of this section to induce you to infringe any\n"
-#~ "patents or other property right claims or to contest validity of any\n"
-#~ "such claims; this section has the sole purpose of protecting the\n"
-#~ "integrity of the free software distribution system, which is\n"
-#~ "implemented by public license practices.  Many people have made\n"
-#~ "generous contributions to the wide range of software distributed\n"
-#~ "through that system in reliance on consistent application of that\n"
-#~ "system; it is up to the author/donor to decide if he or she is willing\n"
-#~ "to distribute software through any other system and a licensee cannot\n"
-#~ "impose that choice.\n"
-#~ "\n"
-#~ "This section is intended to make thoroughly clear what is believed to\n"
-#~ "be a consequence of the rest of this License.\n"
-#~ "\n"
-#~ "  8. If the distribution and/or use of the Program is restricted in\n"
-#~ "certain countries either by patents or by copyrighted interfaces, the\n"
-#~ "original copyright holder who places the Program under this License\n"
-#~ "may add an explicit geographical distribution limitation excluding\n"
-#~ "those countries, so that distribution is permitted only in or among\n"
-#~ "countries not thus excluded.  In such case, this License incorporates\n"
-#~ "the limitation as if written in the body of this License.\n"
-#~ "\n"
-#~ "  9. The Free Software Foundation may publish revised and/or new "
-#~ "versions\n"
-#~ "of the General Public License from time to time.  Such new versions will\n"
-#~ "be similar in spirit to the present version, but may differ in detail to\n"
-#~ "address new problems or concerns.\n"
-#~ "\n"
-#~ "Each version is given a distinguishing version number.  If the Program\n"
-#~ "specifies a version number of this License which applies to it and \"any\n"
-#~ "later version\", you have the option of following the terms and "
-#~ "conditions\n"
-#~ "either of that version or of any later version published by the Free\n"
-#~ "Software Foundation.  If the Program does not specify a version number "
-#~ "of\n"
-#~ "this License, you may choose any version ever published by the Free "
-#~ "Software\n"
-#~ "Foundation.\n"
-#~ "\n"
-#~ "  10. If you wish to incorporate parts of the Program into other free\n"
-#~ "programs whose distribution conditions are different, write to the "
-#~ "author\n"
-#~ "to ask for permission.  For software which is copyrighted by the Free\n"
-#~ "Software Foundation, write to the Free Software Foundation; we sometimes\n"
-#~ "make exceptions for this.  Our decision will be guided by the two goals\n"
-#~ "of preserving the free status of all derivatives of our free software "
-#~ "and\n"
-#~ "of promoting the sharing and reuse of software generally.\n"
-#~ "\n"
-#~ "\t\t\t    NO WARRANTY\n"
-#~ "\n"
-#~ "  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO "
-#~ "WARRANTY\n"
-#~ "FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\n"
-#~ "OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\n"
-#~ "PROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER "
-#~ "EXPRESSED\n"
-#~ "OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n"
-#~ "MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK "
-#~ "AS\n"
-#~ "TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\n"
-#~ "PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\n"
-#~ "REPAIR OR CORRECTION.\n"
-#~ "\n"
-#~ "  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN "
-#~ "WRITING\n"
-#~ "WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\n"
-#~ "REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR "
-#~ "DAMAGES,\n"
-#~ "INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES "
-#~ "ARISING\n"
-#~ "OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT "
-#~ "LIMITED\n"
-#~ "TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\n"
-#~ "YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY "
-#~ "OTHER\n"
-#~ "PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\n"
-#~ "POSSIBILITY OF SUCH DAMAGES.\n"
-#~ "\n"
-#~ "\t\t     END OF TERMS AND CONDITIONS\n"
-#~ "\n"
-#~ "\t    How to Apply These Terms to Your New Programs\n"
-#~ "\n"
-#~ "  If you develop a new program, and you want it to be of the greatest\n"
-#~ "possible use to the public, the best way to achieve this is to make it\n"
-#~ "free software which everyone can redistribute and change under these "
-#~ "terms.\n"
-#~ "\n"
-#~ "  To do so, attach the following notices to the program.  It is safest\n"
-#~ "to attach them to the start of each source file to most effectively\n"
-#~ "convey the exclusion of warranty; and each file should have at least\n"
-#~ "the \"copyright\" line and a pointer to where the full notice is found.\n"
-#~ "\n"
-#~ "    <one line to give the program's name and a brief idea of what it does."
-#~ ">\n"
-#~ "    Copyright (C) <year>  <name of author>\n"
-#~ "\n"
-#~ "    This program is free software; you can redistribute it and/or modify\n"
-#~ "    it under the terms of the GNU General Public License as published by\n"
-#~ "    the Free Software Foundation; either version 2 of the License, or\n"
-#~ "    (at your option) any later version.\n"
-#~ "\n"
-#~ "    This program is distributed in the hope that it will be useful,\n"
-#~ "    but WITHOUT ANY WARRANTY; without even the implied warranty of\n"
-#~ "    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n"
-#~ "    GNU General Public License for more details.\n"
-#~ "\n"
-#~ "    You should have received a copy of the GNU General Public License\n"
-#~ "    along with this program; if not, write to the Free Software\n"
-#~ "    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-"
-#~ "1301  USA\n"
-#~ "\n"
-#~ "\n"
-#~ "Also add information on how to contact you by electronic and paper mail.\n"
-#~ "\n"
-#~ "If the program is interactive, make it output a short notice like this\n"
-#~ "when it starts in an interactive mode:\n"
-#~ "\n"
-#~ "    Gnomovision version 69, Copyright (C) year name of author\n"
-#~ "    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show "
-#~ "w'.\n"
-#~ "    This is free software, and you are welcome to redistribute it\n"
-#~ "    under certain conditions; type `show c' for details.\n"
-#~ "\n"
-#~ "The hypothetical commands `show w' and `show c' should show the "
-#~ "appropriate\n"
-#~ "parts of the General Public License.  Of course, the commands you use "
-#~ "may\n"
-#~ "be called something other than `show w' and `show c'; they could even be\n"
-#~ "mouse-clicks or menu items--whatever suits your program.\n"
-#~ "\n"
-#~ "You should also get your employer (if you work as a programmer) or your\n"
-#~ "school, if any, to sign a \"copyright disclaimer\" for the program, if\n"
-#~ "necessary.  Here is a sample; alter the names:\n"
-#~ "\n"
-#~ "  Yoyodyne, Inc., hereby disclaims all copyright interest in the program\n"
-#~ "  `Gnomovision' (which makes passes at compilers) written by James "
-#~ "Hacker.\n"
-#~ "\n"
-#~ "  <signature of Ty Coon>, 1 April 1989\n"
-#~ "  Ty Coon, President of Vice\n"
-#~ "\n"
-#~ "This General Public License does not permit incorporating your program "
-#~ "into\n"
-#~ "proprietary programs.  If your program is a subroutine library, you may\n"
-#~ "consider it more useful to permit linking proprietary applications with "
-#~ "the\n"
-#~ "library.  If this is what you want to do, use the GNU Library General\n"
-#~ "Public License instead of this License."
-#~ msgid "Select Glyphfile to save to"
-#~ msgstr "Seleccioneu un fitxer de glif per desar."
-#~ msgid "_Number of threads:"
-#~ msgstr "_Nombre de camins: "
-#~ msgid "Use _Global GlyphSet:"
-#~ msgstr "Usa un glifset _global: "
-#~ msgid "Global Glyphset"
-#~ msgstr "Glifset global"
-#~ msgid "Partition Decision"
-#~ msgstr "Decisi? de partici?"
-#~ msgid "VHQ Mode"
-#~ msgstr "Mode VHQ"
-#~ msgid "Max Ref Frames"
-#~ msgstr "M?x. fotogs. de ref."
-#~ msgid "Max B Frames"
-#~ msgstr "M?x. fotogrames-B"
-#~ msgid "Fast P Skip"
-#~ msgstr "Fast P Skip"
-#~ msgid "DCT Decimate"
-#~ msgstr "DCT Decimate"
-#~ msgid "Interlaced"
-#~ msgstr "Entrella?at"
-#~ msgid "Disabled"
-#~ msgstr "Desactivat"
-#~ msgid "Deblocking Filter"
-#~ msgstr "Filtre desbloqueig"
-#~ msgid "Strength"
-#~ msgstr "For?a "
-#~ msgid "Threshold"
-#~ msgstr "Llindar"
-#~ msgid "8x8P Transform"
-#~ msgstr "Transformaci? 8x8P"
-#~ msgid "8x8B Transform"
-#~ msgstr "Transformaci? 8x8B"
-#~ msgid "_4x4 Transform"
-#~ msgstr "Transformaci? _4x4"
-#~ msgid "_8x8I Transform"
-#~ msgstr "Transformaci? _8x8I"
-#~ msgid "_4x4I Transform"
-#~ msgstr "Transformaci? 4_x4I"
-#~ msgid "X264 Configuration"
-#~ msgstr "Configuraci? de l'X264"
-#~ msgid "Job Name"
-#~ msgstr " Nom de la tasca"
-#~ msgid "Status"
-#~ msgstr "Estat"
-#~ msgid "Start Time"
-#~ msgstr "Temps d'inici"
-#~ msgid "End Time"
-#~ msgstr "Temps de final"
-#~ msgid "Delete *all* job"
-#~ msgstr "Esborra totes les tasques"
-#~ msgid "Are you sure you want to delete ALL jobs ?"
-#~ msgstr "Esteu segur que voleu esborrar TOTES les tasques?"
-#~ msgid "Already done"
-#~ msgstr "Ja s'ha fet"
-#~ msgid "This script has already been successfully executed."
-#~ msgstr "El fitxer d'script s'ha executat satisfact?riament."
-#~ msgid "Very Low"
-#~ msgstr "Molt baixa"
-#~ msgid "Very High"
-#~ msgstr "Molt alta"
-#~ msgid "Ultra High"
-#~ msgstr "Ultra alta"
-#~ msgid "Motion Search Precision"
-#~ msgstr "Precisi? de cerca de moviment"
-#~ msgid "Off"
-#~ msgstr "Sense"
-#~ msgid "Mode Decision"
-#~ msgstr "Mode decisi?"
-#~ msgid "Limited Search"
-#~ msgstr "Cerca limitada"
-#~ msgid "Medium Search"
-#~ msgstr "Cerca mitjana"
-#~ msgid "Wide Search"
-#~ msgstr "Cerca ?mplia"
-#~ msgid "Quarter Pixel"
-#~ msgstr "Quart de p?xel "
-#~ msgid "GMC"
-#~ msgstr "GMC"
-#~ msgid "BVHQ"
-#~ msgstr "BVHQ"
-#~ msgid "4MV"
-#~ msgstr "MV"
-#~ msgid "HQ AC"
-#~ msgstr "HQ AC"
-#~ msgid "More Search"
-#~ msgstr "M?s cerca"
-#~ msgid "Min Gop Size"
-#~ msgstr "Mida GOP m?n. "
-#~ msgid "Max Gop Size"
-#~ msgstr "Mida GOP m?x."
-#~ msgid "GOP Size"
-#~ msgstr "Mida GOP"
-#~ msgid "H263"
-#~ msgstr "H263"
-#~ msgid "Mpeg"
-#~ msgstr "Mpeg"
-#~ msgid "Quantization Matrix"
-#~ msgstr "Matriu de quantificaci? "
-#~ msgid "Trellis Quantization"
-#~ msgstr "Quantificaci? de Trellis"
-#~ msgid "Two Pass Tuning"
-#~ msgstr "Personalitzaci? 2 passades"
-#~ msgid "Curve Compression"
-#~ msgstr "Corba de compressi?"
-#~ msgid "Xvid4 Configuration"
-#~ msgstr "Configuraci? de l'Xvid4"
-#~ msgid "# Images :%0lu"
-#~ msgstr "# Fotogr.: %0lu"
-#~ msgid "Time Left :%02d:%02d:%02d"
-#~ msgstr "Temps rest. est.: %02d:%02d:%02d"
-#~ msgid "Partial Start Frame:"
-#~ msgstr "Fotogr. inicial del parcial: "
-#~ msgid "Partial End Frame:"
-#~ msgstr "Fotogr. final del parcial: "
-#~ msgid "Configure child"
-#~ msgstr "Configura fill"
-#~ msgid "Partial Video Filter"
-#~ msgstr "Filtre parcial de v?deo"
-#~ msgid "Select File to Read"
-#~ msgstr "Seleccioneu un fitxer per llegir."
-#~ msgid "Select File to Write"
-#~ msgstr "Seleccioneu un fitxer per escriure."
-#~ msgid "Select Directory"
-#~ msgstr "Selecciona directori"
-#~ msgid "Discard Closer"
-#~ msgstr "Descarta proper"
-#~ msgid "PullDown dupe removal"
-#~ msgstr "Elim. duplic. pulldown"
-#~ msgid "Fast (parial luma and chroma)"
-#~ msgstr "R?pida (luma i croma parcials)"
-#~ msgid "Medium (full luma no chroma)"
-#~ msgstr "Mitjana (luma complet, sense chroma)"
-#~ msgid "Mode"
-#~ msgstr "Mode"
-#~ msgid "Quality"
-#~ msgstr "Qualitat"
-#~ msgid "Threshold 1"
-#~ msgstr "Llindar 1"
-#~ msgid "Threshold 2"
-#~ msgstr "Llindar 2"
-
-



From gruntster at mail.berlios.de  Sat Sep 13 23:03:37 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 13 Sep 2008 23:03:37 +0200
Subject: [Avidemux-svn-commit] r4331 - in
	branches/avidemux_2.5_branch_gruntster:
	avidemux/ADM_userInterfaces/ADM_QT4
	avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
	avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters
	avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui
	plugins/ADM_videoFilters/Crop/qt4
Message-ID: <200809132103.m8DL3bdv026600@sheep.berlios.de>

Author: gruntster
Date: 2008-09-13 23:03:26 +0200 (Sat, 13 Sep 2008)
New Revision: 4331

Added:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_flyPreview.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/seekablePreview.ui
Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Crop/qt4/crop.ui
Log:
[Merge] integrate changes from 2.4 branch (r4312)

Added: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_flyPreview.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_flyPreview.h	2008-09-13 17:47:05 UTC (rev 4330)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_flyPreview.h	2008-09-13 21:03:26 UTC (rev 4331)
@@ -0,0 +1,29 @@
+#ifndef FLY_PREVIEW_H
+#define FLY_PREVIEW_H
+class flyPreview : public ADM_flyDialogQt4
+{
+public:
+	uint8_t process(void) {return 1;}
+	uint8_t download(void) {return 1;}
+	uint8_t upload(void) {return 1;}
+	uint8_t cleanup(void) {return 1;}
+	uint8_t setData(uint8_t *buffer) {_rgb->scale(buffer, _rgbBufferOut); return 1;}
+
+	flyPreview(uint32_t width, uint32_t height, void *canvas) : 
+	  ADM_flyDialogQt4(width, height, NULL, canvas, NULL, 0, RESIZE_NONE) {delete[] _rgbBuffer; _rgbBuffer = NULL;};
+	virtual ~flyPreview(void) {_rgbBuffer = NULL;};
+};
+
+class flySeekablePreview : public ADM_flyDialogQt4
+{
+public:
+	uint8_t process(void) {_rgbBufferOut = _rgbBuffer; return 1;}
+	uint8_t download(void) {return 1;}
+	uint8_t upload(void) {return 1;}
+	uint8_t cleanup(void) {return 1;}
+
+	flySeekablePreview(uint32_t width, uint32_t height, AVDMGenericVideoStream *videoStream, void *canvas, void *slider) : 
+	  ADM_flyDialogQt4(width, height, videoStream, canvas, slider, 0, RESIZE_AUTO) {delete[] _rgbBufferOut; _rgbBufferOut = NULL;};
+	virtual ~flySeekablePreview(void) {_rgbBufferOut = NULL;};
+};
+#endif

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-13 17:47:05 UTC (rev 4330)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-13 21:03:26 UTC (rev 4331)
@@ -61,8 +61,80 @@
 extern const char  *filterGetNameFromTag(VF_FILTERS tag);
 extern ADM_Composer *video_body;
 extern AVDMGenericVideoStream *filterCreateFromTag(VF_FILTERS tag,CONFcouple *conf, AVDMGenericVideoStream *in) ;
+extern uint32_t curframe;
 /*******************************************************/
 
+FilterItemEventFilter::FilterItemEventFilter(QWidget *parent) : QObject(parent) {}
+
+bool FilterItemEventFilter::eventFilter(QObject *object, QEvent *event) 
+{
+	QAbstractItemView *view = qobject_cast<QAbstractItemView*>(parent());
+
+	if (event->type() == QEvent::KeyPress || event->type() == QEvent::MouseButtonPress)
+	{
+		QCoreApplication::sendEvent(view, event);
+
+		return true;
+	}
+	else if (event->type() == QEvent::FocusIn)
+	{
+		view->setFocus();
+
+		return true;
+	}
+	else
+		return QObject::eventFilter(object, event);
+}
+
+FilterItemDelegate::FilterItemDelegate(QWidget *parent) : QItemDelegate(parent)
+{
+	filter = new FilterItemEventFilter(parent);
+}
+
+void FilterItemDelegate::paint(QPainter *painter, const QStyleOptionViewItem &option, const QModelIndex &index) const
+{
+	QAbstractItemView *view = qobject_cast<QAbstractItemView*>(parent());
+	QLabel *label;
+
+	if (view->indexWidget(index) == 0)
+	{
+		label = new QLabel();
+
+		label->installEventFilter(filter);
+		label->setAutoFillBackground(true);
+		label->setFocusPolicy(Qt::TabFocus);
+		label->setText(index.data().toString());
+		view->setIndexWidget(index, label);
+	}
+
+	label = (QLabel*)view->indexWidget(index);
+
+	if (option.state & QStyle::State_Selected)
+		if (option.state & QStyle::State_HasFocus)
+			label->setBackgroundRole(QPalette::Highlight);
+		else
+			label->setBackgroundRole(QPalette::Window);
+	else
+		label->setBackgroundRole(QPalette::Base);
+}
+
+void filtermainWindow::preview(bool b)
+{
+	QListWidgetItem *item = activeList->currentItem();
+
+	if (!item)
+	{
+		printf("No selection\n");
+		return;
+	}
+
+	int itag = item->type();
+	ADM_assert(itag > ACTIVE_FILTER_BASE);
+	itag -= ACTIVE_FILTER_BASE;
+
+	DIA_filterPreview(QT_TR_NOOP("Preview"), videofilters[itag].filter, curframe);
+}
+
 /**
         \fn     void setSelected(int sel)
         \brief  Set the sel line as selected in the active filter window
@@ -113,8 +185,8 @@
         videofilters[nb_active_filter].tag = tag;
         videofilters[nb_active_filter].conf = coup;
         nb_active_filter++;
-        setSelected(nb_active_filter);
-        buildActiveFilterList();
+		buildActiveFilterList();
+        setSelected(nb_active_filter - 1);
    }
 
 }
@@ -177,6 +249,7 @@
     call(); \
     getFirstVideoFilter (); \
     buildActiveFilterList ();  \
+	setSelected(nb_active_filter - 1); \
 }
 MAKE_BUTTON(DVD,setDVD)
 MAKE_BUTTON(VCD,setVCD)
@@ -212,6 +285,7 @@
         videofilters[itag].conf = couple;
         getFirstVideoFilter ();
         buildActiveFilterList ();
+		setSelected(itag);
 }
 /**
         \fn     up( bool b)
@@ -299,23 +373,20 @@
   ADM_assert(family<VF_MAX);
   std::vector <FilterDescriptor *> vec=filterCategories[family];
   availableList->clear();
-  QColor colorgrey;
-  colorgrey.setRgb(myBg,myBg,myBg);
-  QBrush brush(colorgrey);
   QSize sz;
   
   for (uint32_t i = 0; i < vec.size(); i++)
     {
-          QString str; //="<b>";
-          str+=vec[i]->name;
+          QString str = QString("<b>") + vec[i]->name + QString("</b><br>\n<small>") + vec[i]->description + QString("</small>");
          
           QListWidgetItem *item;
           item=new QListWidgetItem(str,availableList,ALL_FILTER_BASE+i+family*100);
           item->setToolTip(vec[i]->description);
-          if(i&1) item->setBackground(brush);
           availableList->addItem(item);
      }
-   
+
+  if (vec.size())
+	  availableList->setCurrentRow(0);
 }
 
 /**
@@ -380,7 +451,8 @@
             videofilters[itag].conf = conf;
             videofilters[itag].tag = VF_PARTIAL_FILTER;
             getFirstVideoFilter ();
-            buildActiveFilterList ();   
+            buildActiveFilterList ();
+			setSelected(itag);
         }
         else delete replace;
 }
@@ -399,30 +471,28 @@
 */
 void filtermainWindow::buildActiveFilterList(void)
 {
-  VF_FILTERS fil;
-  
-  
-  activeList->clear();
-  QColor colorGrey,colorWhite;
-  colorGrey.setRgb(myBg,myBg,myBg);
-  colorWhite.setRgb(myFg,myFg,myFg);
-  QBrush brush(colorGrey);
-  QBrush brushW(colorWhite);
+	activeList->clear();
 
-  for (uint32_t i = 1; i < nb_active_filter; i++)
-    {
-                QString str;
-                fil=videofilters[i].tag;
+	for (uint32_t i = 1; i < nb_active_filter; i++)
+	{
+		const char *name = filterGetNameFromTag(videofilters[i].tag);
+		const char *conf = videofilters[i].filter->printConf ();
+		int namelen = strlen (name);
 
-                 str =filterGetNameFromTag(fil);
-                 str+= videofilters[i].filter->printConf ();
-                 QListWidgetItem *item=new QListWidgetItem(str,activeList,ACTIVE_FILTER_BASE+i);
-                 if(i&1) item->setBackground(brush);
-                        else item->setBackground(brushW);
-                 activeList->addItem(item);
-    }
-    
+		while (*conf == ' ')
+			++conf;
 
+		if (strncasecmp (name, conf, namelen) == 0)
+		{
+			conf += namelen;
+			while (*conf == ' ' || *conf == ':')
+				++conf;
+		}
+
+		QString str = QString("<b>") + name + QString("</b><br>\n<small>") + conf + QString("</small>");
+		QListWidgetItem *item=new QListWidgetItem(str,activeList,ACTIVE_FILTER_BASE+i);
+		activeList->addItem(item);
+	}
 }
   /**
   */
@@ -453,9 +523,14 @@
     connect(ui.pushButtonVCD, SIGNAL(clicked(bool)), this, SLOT(VCD(bool)));
     connect(ui.pushButtonSVCD, SIGNAL(clicked(bool)), this, SLOT(SVCD(bool)));
     connect(ui.pushButtonHalfDVD, SIGNAL(clicked(bool)), this, SLOT(halfD1(bool)));
-   
+	connect(ui.pushButtonPreview, SIGNAL(clicked(bool)), this, SLOT(preview(bool)));
+
+	activeList->setItemDelegate(new FilterItemDelegate(activeList));
+	availableList->setItemDelegate(new FilterItemDelegate(availableList));
+
     displayFamily(0);
-    buildActiveFilterList(); 
+    buildActiveFilterList();
+	setSelected(nb_active_filter - 1);
  }
 /*******************************************************/
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.h	2008-09-13 17:47:05 UTC (rev 4330)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.h	2008-09-13 21:03:26 UTC (rev 4331)
@@ -1,8 +1,32 @@
 #ifndef Q_mainfilter_h
 #define Q_mainfilter_h
 
+#include <QtGui/QItemDelegate>
 #include "ui_mainfilter.h"
 
+class FilterItemEventFilter : public QObject
+{
+	Q_OBJECT
+
+protected:
+	bool eventFilter(QObject *object, QEvent *event);
+
+public:
+	FilterItemEventFilter(QWidget *parent = 0);
+};
+
+class FilterItemDelegate : public QItemDelegate
+{
+	Q_OBJECT
+
+private:
+	FilterItemEventFilter *filter;
+
+public:
+	FilterItemDelegate(QWidget *parent = 0);
+	void paint(QPainter *painter, const QStyleOptionViewItem &option, const QModelIndex &index) const;
+};
+
 class filtermainWindow : public QDialog
 {
 	Q_OBJECT
@@ -30,6 +54,7 @@
 	void allDoubleClick( QListWidgetItem  *item);
 	void filterFamilyClick(QListWidgetItem *item);
 	void filterFamilyClick(int  item);
+	void preview(bool b);
 
 private:
 	void setSelected(int sel);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui	2008-09-13 17:47:05 UTC (rev 4330)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui	2008-09-13 21:03:26 UTC (rev 4331)
@@ -19,65 +19,34 @@
    <string>Video Filter Manager</string>
   </property>
   <layout class="QVBoxLayout" >
+   <property name="margin" >
+    <number>9</number>
+   </property>
    <property name="spacing" >
     <number>6</number>
    </property>
-   <property name="leftMargin" >
-    <number>9</number>
-   </property>
-   <property name="topMargin" >
-    <number>9</number>
-   </property>
-   <property name="rightMargin" >
-    <number>9</number>
-   </property>
-   <property name="bottomMargin" >
-    <number>9</number>
-   </property>
    <item>
     <layout class="QGridLayout" >
-     <property name="leftMargin" >
+     <property name="margin" >
       <number>0</number>
      </property>
-     <property name="topMargin" >
-      <number>0</number>
-     </property>
-     <property name="rightMargin" >
-      <number>0</number>
-     </property>
-     <property name="bottomMargin" >
-      <number>0</number>
-     </property>
-     <property name="horizontalSpacing" >
+     <property name="spacing" >
       <number>6</number>
      </property>
-     <property name="verticalSpacing" >
-      <number>6</number>
-     </property>
      <item row="4" column="0" colspan="2" >
       <layout class="QGridLayout" >
-       <property name="leftMargin" >
+       <property name="margin" >
         <number>0</number>
        </property>
-       <property name="topMargin" >
-        <number>0</number>
-       </property>
-       <property name="rightMargin" >
-        <number>0</number>
-       </property>
-       <property name="bottomMargin" >
-        <number>0</number>
-       </property>
-       <property name="horizontalSpacing" >
+       <property name="spacing" >
         <number>6</number>
        </property>
-       <property name="verticalSpacing" >
-        <number>6</number>
-       </property>
        <item row="0" column="1" >
         <widget class="QPushButton" name="pushButtonSVCD" >
          <property name="sizePolicy" >
-          <sizepolicy vsizetype="Fixed" hsizetype="Preferred" >
+          <sizepolicy>
+           <hsizetype>5</hsizetype>
+           <vsizetype>0</vsizetype>
            <horstretch>0</horstretch>
            <verstretch>0</verstretch>
           </sizepolicy>
@@ -99,7 +68,9 @@
        <item row="1" column="1" >
         <widget class="QPushButton" name="pushButtonVCD" >
          <property name="sizePolicy" >
-          <sizepolicy vsizetype="Fixed" hsizetype="Preferred" >
+          <sizepolicy>
+           <hsizetype>5</hsizetype>
+           <vsizetype>0</vsizetype>
            <horstretch>0</horstretch>
            <verstretch>0</verstretch>
           </sizepolicy>
@@ -121,7 +92,9 @@
        <item row="1" column="0" >
         <widget class="QPushButton" name="pushButtonHalfDVD" >
          <property name="sizePolicy" >
-          <sizepolicy vsizetype="Preferred" hsizetype="Expanding" >
+          <sizepolicy>
+           <hsizetype>7</hsizetype>
+           <vsizetype>5</vsizetype>
            <horstretch>0</horstretch>
            <verstretch>0</verstretch>
           </sizepolicy>
@@ -143,7 +116,9 @@
        <item row="0" column="0" >
         <widget class="QPushButton" name="pushButtonDVD" >
          <property name="sizePolicy" >
-          <sizepolicy vsizetype="Fixed" hsizetype="Preferred" >
+          <sizepolicy>
+           <hsizetype>5</hsizetype>
+           <vsizetype>0</vsizetype>
            <horstretch>0</horstretch>
            <verstretch>0</verstretch>
           </sizepolicy>
@@ -167,7 +142,9 @@
      <item rowspan="4" row="1" column="2" colspan="2" >
       <widget class="QListWidget" name="listWidgetAvailable" >
        <property name="sizePolicy" >
-        <sizepolicy vsizetype="Expanding" hsizetype="Expanding" >
+        <sizepolicy>
+         <hsizetype>7</hsizetype>
+         <vsizetype>7</vsizetype>
          <horstretch>0</horstretch>
          <verstretch>0</verstretch>
         </sizepolicy>
@@ -178,18 +155,17 @@
          <height>0</height>
         </size>
        </property>
-       <property name="cursor" stdset="0" >
-        <cursorShape>PointingHandCursor</cursorShape>
+       <property name="spacing" >
+        <number>2</number>
        </property>
-       <property name="alternatingRowColors" >
-        <bool>true</bool>
-       </property>
       </widget>
      </item>
      <item rowspan="3" row="1" column="0" colspan="2" >
       <widget class="QListWidget" name="listFilterCategory" >
        <property name="sizePolicy" >
-        <sizepolicy vsizetype="Expanding" hsizetype="Fixed" >
+        <sizepolicy>
+         <hsizetype>0</hsizetype>
+         <vsizetype>7</vsizetype>
          <horstretch>0</horstretch>
          <verstretch>0</verstretch>
         </sizepolicy>
@@ -200,24 +176,6 @@
          <height>340</height>
         </size>
        </property>
-       <property name="cursor" stdset="0" >
-        <cursorShape>PointingHandCursor</cursorShape>
-       </property>
-       <property name="mouseTracking" >
-        <bool>false</bool>
-       </property>
-       <property name="autoFillBackground" >
-        <bool>false</bool>
-       </property>
-       <property name="styleSheet" >
-        <string/>
-       </property>
-       <property name="alternatingRowColors" >
-        <bool>false</bool>
-       </property>
-       <property name="selectionMode" >
-        <enum>QAbstractItemView::SingleSelection</enum>
-       </property>
        <property name="selectionBehavior" >
         <enum>QAbstractItemView::SelectRows</enum>
        </property>
@@ -227,39 +185,15 @@
          <height>24</height>
         </size>
        </property>
-       <property name="textElideMode" >
-        <enum>Qt::ElideRight</enum>
-       </property>
-       <property name="movement" >
-        <enum>QListView::Static</enum>
-       </property>
-       <property name="flow" >
-        <enum>QListView::TopToBottom</enum>
-       </property>
-       <property name="isWrapping" stdset="0" >
-        <bool>false</bool>
-       </property>
        <property name="resizeMode" >
         <enum>QListView::Adjust</enum>
        </property>
-       <property name="layoutMode" >
-        <enum>QListView::SinglePass</enum>
-       </property>
        <property name="spacing" >
         <number>3</number>
        </property>
-       <property name="viewMode" >
-        <enum>QListView::ListMode</enum>
-       </property>
-       <property name="modelColumn" >
+       <property name="currentRow" >
         <number>0</number>
        </property>
-       <property name="uniformItemSizes" >
-        <bool>false</bool>
-       </property>
-       <property name="batchSize" >
-        <number>100</number>
-       </property>
        <item>
         <property name="text" >
          <string>Transform</string>
@@ -345,7 +279,9 @@
      <item row="0" column="5" >
       <widget class="QLabel" name="label_2" >
        <property name="sizePolicy" >
-        <sizepolicy vsizetype="Maximum" hsizetype="Preferred" >
+        <sizepolicy>
+         <hsizetype>5</hsizetype>
+         <vsizetype>4</vsizetype>
          <horstretch>0</horstretch>
          <verstretch>0</verstretch>
         </sizepolicy>
@@ -358,7 +294,9 @@
      <item rowspan="4" row="1" column="5" colspan="11" >
       <widget class="QListWidget" name="listWidgetActive" >
        <property name="sizePolicy" >
-        <sizepolicy vsizetype="Expanding" hsizetype="Expanding" >
+        <sizepolicy>
+         <hsizetype>7</hsizetype>
+         <vsizetype>7</vsizetype>
          <horstretch>0</horstretch>
          <verstretch>0</verstretch>
         </sizepolicy>
@@ -369,31 +307,19 @@
          <height>0</height>
         </size>
        </property>
-       <property name="cursor" stdset="0" >
-        <cursorShape>PointingHandCursor</cursorShape>
+       <property name="spacing" >
+        <number>2</number>
        </property>
-       <property name="alternatingRowColors" >
-        <bool>true</bool>
-       </property>
       </widget>
      </item>
      <item row="5" column="5" colspan="11" >
       <layout class="QHBoxLayout" >
+       <property name="margin" >
+        <number>0</number>
+       </property>
        <property name="spacing" >
         <number>6</number>
        </property>
-       <property name="leftMargin" >
-        <number>0</number>
-       </property>
-       <property name="topMargin" >
-        <number>0</number>
-       </property>
-       <property name="rightMargin" >
-        <number>0</number>
-       </property>
-       <property name="bottomMargin" >
-        <number>0</number>
-       </property>
        <item>
         <spacer>
          <property name="orientation" >
@@ -410,7 +336,9 @@
        <item>
         <widget class="QToolButton" name="toolButtonConfigure" >
          <property name="sizePolicy" >
-          <sizepolicy vsizetype="Preferred" hsizetype="Fixed" >
+          <sizepolicy>
+           <hsizetype>0</hsizetype>
+           <vsizetype>5</vsizetype>
            <horstretch>0</horstretch>
            <verstretch>0</verstretch>
           </sizepolicy>
@@ -423,7 +351,9 @@
        <item>
         <widget class="QToolButton" name="toolButtonPartial" >
          <property name="sizePolicy" >
-          <sizepolicy vsizetype="Preferred" hsizetype="Fixed" >
+          <sizepolicy>
+           <hsizetype>0</hsizetype>
+           <vsizetype>5</vsizetype>
            <horstretch>0</horstretch>
            <verstretch>0</verstretch>
           </sizepolicy>
@@ -497,21 +427,12 @@
      </item>
      <item row="5" column="2" colspan="2" >
       <layout class="QHBoxLayout" >
+       <property name="margin" >
+        <number>0</number>
+       </property>
        <property name="spacing" >
         <number>6</number>
        </property>
-       <property name="leftMargin" >
-        <number>0</number>
-       </property>
-       <property name="topMargin" >
-        <number>0</number>
-       </property>
-       <property name="rightMargin" >
-        <number>0</number>
-       </property>
-       <property name="bottomMargin" >
-        <number>0</number>
-       </property>
        <item>
         <spacer>
          <property name="orientation" >
@@ -543,7 +464,9 @@
      <item row="0" column="2" >
       <widget class="QLabel" name="label" >
        <property name="sizePolicy" >
-        <sizepolicy vsizetype="Maximum" hsizetype="Preferred" >
+        <sizepolicy>
+         <hsizetype>5</hsizetype>
+         <vsizetype>4</vsizetype>
          <horstretch>0</horstretch>
          <verstretch>0</verstretch>
         </sizepolicy>
@@ -576,21 +499,12 @@
    </item>
    <item>
     <layout class="QHBoxLayout" >
+     <property name="margin" >
+      <number>0</number>
+     </property>
      <property name="spacing" >
       <number>6</number>
      </property>
-     <property name="leftMargin" >
-      <number>0</number>
-     </property>
-     <property name="topMargin" >
-      <number>0</number>
-     </property>
-     <property name="rightMargin" >
-      <number>0</number>
-     </property>
-     <property name="bottomMargin" >
-      <number>0</number>
-     </property>
      <item>
       <spacer>
        <property name="orientation" >
@@ -631,6 +545,26 @@
    </item>
   </layout>
  </widget>
+ <tabstops>
+  <tabstop>listFilterCategory</tabstop>
+  <tabstop>listWidgetAvailable</tabstop>
+  <tabstop>listWidgetActive</tabstop>
+  <tabstop>pushButtonDVD</tabstop>
+  <tabstop>pushButtonSVCD</tabstop>
+  <tabstop>pushButtonHalfDVD</tabstop>
+  <tabstop>pushButtonVCD</tabstop>
+  <tabstop>toolButtonAdd</tabstop>
+  <tabstop>toolButtonConfigure</tabstop>
+  <tabstop>toolButtonPartial</tabstop>
+  <tabstop>toolButtonLoad</tabstop>
+  <tabstop>toolButtonSave</tabstop>
+  <tabstop>toolButtonSaveScript</tabstop>
+  <tabstop>toolButtonDown</tabstop>
+  <tabstop>toolButtonUp</tabstop>
+  <tabstop>pushButtonRemove</tabstop>
+  <tabstop>pushButtonPreview</tabstop>
+  <tabstop>buttonClose</tabstop>
+ </tabstops>
  <resources>
   <include location="filter.qrc" />
  </resources>

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2008-09-13 17:47:05 UTC (rev 4330)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2008-09-13 21:03:26 UTC (rev 4331)
@@ -1,11 +1,11 @@
 SET(ADM_LIB ADM_guiQt4)
 
-QT4_WRAP_UI(${ADM_LIB}_header  gui2.ui)
-QT4_WRAP_CPP(${ADM_LIB}_source  Q_gui2.h  T_preview.h  ADM_qtray.h)
+QT4_WRAP_UI(${ADM_LIB}_header  gui2.ui  seekablePreview.ui)
+QT4_WRAP_CPP(${ADM_LIB}_source  Q_gui2.h  T_preview.h  ADM_qtray.h  Q_seekablePreview.h)
 QT4_ADD_RESOURCES(${ADM_LIB}_resource  avidemux.qrc)
 
 SET(${ADM_LIB}_SRCS
-	Q_gui2.cpp  T_preview.cpp  file_qt4.cpp  gui_none.cpp  ADM_qslider.cpp  ADM_qtray.cpp
+	Q_gui2.cpp  T_preview.cpp  file_qt4.cpp  gui_none.cpp  ADM_qslider.cpp  ADM_qtray.cpp  Q_seekablePreview.cpp
 	${${ADM_LIB}_header}  ${${ADM_LIB}_source}  ${${ADM_LIB}_resource})
 
 INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR}  ${CMAKE_CURRENT_SOURCE_DIR})

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.cpp (from rev 4311, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.cpp	2008-09-06 21:37:45 UTC (rev 4311)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.cpp	2008-09-13 21:03:26 UTC (rev 4331)
@@ -0,0 +1,52 @@
+/***************************************************************************
+                           Q_seekablePreview.cpp
+                           ---------------------
+
+    begin                : Fri Sep 5 2008
+    copyright            : (C) 2008 by gruntster
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include "Q_seekablePreview.h"
+
+Ui_seekablePreviewWindow::Ui_seekablePreviewWindow(AVDMGenericVideoStream *videoStream, uint32_t defaultFrame) : QDialog()
+{
+	ui.setupUi(this);
+
+	uint32_t canvasWidth = videoStream->getInfo()->width;
+	uint32_t canvasHeight = videoStream->getInfo()->height;
+
+	canvas = new ADM_QCanvas(ui.frame, canvasWidth, canvasHeight);
+	seekablePreview = new flySeekablePreview(canvasWidth, canvasHeight, videoStream, canvas, ui.horizontalSlider);
+
+	seekablePreview->process();
+	seekablePreview->sliderSet(defaultFrame);
+	seekablePreview->sliderChanged();
+
+	connect(ui.okButton, SIGNAL(clicked(bool)), this, SLOT(closeWindow()));
+	connect(ui.horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(sliderChanged(int)));
+}
+
+Ui_seekablePreviewWindow::~Ui_seekablePreviewWindow()
+{
+	delete seekablePreview;
+	delete canvas;
+}
+
+void Ui_seekablePreviewWindow::closeWindow()
+{
+	close();
+}
+
+void Ui_seekablePreviewWindow::sliderChanged(int value)
+{
+	seekablePreview->sliderChanged();
+}
\ No newline at end of file

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.h (from rev 4311, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.h)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.h	2008-09-06 21:37:45 UTC (rev 4311)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.h	2008-09-13 21:03:26 UTC (rev 4331)
@@ -0,0 +1,39 @@
+/***************************************************************************
+                            Q_seekablePreview.h
+                            -------------------
+
+    begin                : Fri Sep 5 2008
+    copyright            : (C) 2008 by gruntster
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include "ui_seekablePreview.h"
+
+#include "ADM_assert.h"
+#include "ADM_videoFilter.h"
+#include "DIA_flyDialog.h"
+#include "../ADM_dialog/DIA_flyPreview.h"
+
+class Ui_seekablePreviewWindow : public QDialog
+{
+	Q_OBJECT
+
+public:
+	ADM_QCanvas *canvas;
+	flySeekablePreview *seekablePreview;
+	Ui_seekablePreviewDialog ui;
+	Ui_seekablePreviewWindow(AVDMGenericVideoStream *videoStream, uint32_t defaultFrame = 0);
+	~Ui_seekablePreviewWindow();
+
+public slots:
+	void closeWindow();
+	void sliderChanged(int value);
+};

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-13 17:47:05 UTC (rev 4330)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-13 21:03:26 UTC (rev 4331)
@@ -27,11 +27,9 @@
 #endif
 
 #include "T_preview.h"
-#include "ADM_colorspace.h"
+#include "Q_seekablePreview.h"
 #include "../ADM_render/GUI_render.h"
 #include "../ADM_render/GUI_accelRender.h"
-#include "prefs.h"
-#include "ADM_assert.h"
     
 void UI_QT4VideoWidget(QFrame *host);
 static QFrame *hostFrame=NULL;
@@ -45,8 +43,17 @@
 uint8_t DIA_previewUpdate(uint8_t *data) {return 1;}
 void DIA_previewEnd(void) {}
 uint8_t DIA_previewStillAlive(void) {return 1;}
-uint8_t	DIA_filterPreview(const char *captionText, AVDMGenericVideoStream *videoStream, uint32_t frame) {}
 
+uint8_t	DIA_filterPreview(const char *captionText, AVDMGenericVideoStream *videoStream, uint32_t frame)
+{
+	ADM_assert(frame <= videoStream->getInfo()->nb_frames);
+
+	printf("** DIA_filterPreview %i **\n", frame);
+	Ui_seekablePreviewWindow previewDialog(videoStream, frame);
+
+	previewDialog.exec();
+}
+
 //****************************************************************************************************
 /*
   Function to display
@@ -56,6 +63,7 @@
 */
 static uint8_t *rgbDataBuffer=NULL;
 static uint32_t displayW=0,displayH=0;
+
 //****************************************************************************************************
 /*
   This is the class that will display the video images.

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/seekablePreview.ui (from rev 4311, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/seekablePreview.ui)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/CMakeLists.txt	2008-09-13 17:47:05 UTC (rev 4330)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/CMakeLists.txt	2008-09-13 21:03:26 UTC (rev 4331)
@@ -2,7 +2,7 @@
 SET(${ADM_LIB}_SRCS ui_support.cpp)
 
 ADD_ADM_LIB_QT4_TARGET(${ADM_LIB} ${${ADM_LIB}_SRCS})
-INCLUDE_DIRECTORIES(${QT_INCLUDE_DIR})
+INCLUDE_DIRECTORIES(${QT_INCLUDE_DIR}  ${CMAKE_CURRENT_SOURCE_DIR}/../../ADM_UIs/ADM_QT4/include)
 
 ADD_SUBDIRECTORY(ADM_dialog)
 ADD_SUBDIRECTORY(ADM_filters)

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Crop/qt4/crop.ui
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Crop/qt4/crop.ui	2008-09-13 17:47:05 UTC (rev 4330)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Crop/qt4/crop.ui	2008-09-13 21:03:26 UTC (rev 4331)
@@ -5,84 +5,172 @@
    <rect>
     <x>0</x>
     <y>0</y>
-    <width>400</width>
+    <width>348</width>
     <height>300</height>
    </rect>
   </property>
   <property name="windowTitle" >
-   <string>Dialog</string>
+   <string>Crop</string>
   </property>
-  <layout class="QGridLayout" >
-   <property name="leftMargin" >
+  <layout class="QVBoxLayout" >
+   <property name="margin" >
     <number>9</number>
    </property>
-   <property name="topMargin" >
-    <number>9</number>
-   </property>
-   <property name="rightMargin" >
-    <number>9</number>
-   </property>
-   <property name="bottomMargin" >
-    <number>9</number>
-   </property>
-   <property name="horizontalSpacing" >
+   <property name="spacing" >
     <number>6</number>
    </property>
-   <property name="verticalSpacing" >
-    <number>6</number>
-   </property>
-   <item row="2" column="0" colspan="5" >
+   <item>
+    <layout class="QGridLayout" >
+     <property name="margin" >
+      <number>0</number>
+     </property>
+     <property name="spacing" >
+      <number>6</number>
+     </property>
+     <item row="0" column="3" >
+      <widget class="QLabel" name="label_2" >
+       <property name="text" >
+        <string>Right:</string>
+       </property>
+      </widget>
+     </item>
+     <item row="1" column="0" >
+      <widget class="QLabel" name="label_4" >
+       <property name="text" >
+        <string>Top:</string>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="4" >
+      <widget class="QSpinBox" name="spinBoxRight" >
+       <property name="maximum" >
+        <number>2147483647</number>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="2" >
+      <spacer>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+       <property name="sizeType" >
+        <enum>QSizePolicy::Fixed</enum>
+       </property>
+       <property name="sizeHint" >
+        <size>
+         <width>26</width>
+         <height>20</height>
+        </size>
+       </property>
+      </spacer>
+     </item>
+     <item row="1" column="5" >
+      <spacer>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+       <property name="sizeHint" >
+        <size>
+         <width>40</width>
+         <height>20</height>
+        </size>
+       </property>
+      </spacer>
+     </item>
+     <item row="1" column="6" >
+      <widget class="QPushButton" name="pushButtonReset" >
+       <property name="text" >
+        <string>Reset</string>
+       </property>
+      </widget>
+     </item>
+     <item row="1" column="1" >
+      <widget class="QSpinBox" name="spinBoxTop" >
+       <property name="maximum" >
+        <number>2147483647</number>
+       </property>
+      </widget>
+     </item>
+     <item row="1" column="4" >
+      <widget class="QSpinBox" name="spinBoxBottom" >
+       <property name="maximum" >
+        <number>2147483647</number>
+       </property>
+      </widget>
+     </item>
+     <item row="1" column="3" >
+      <widget class="QLabel" name="label_3" >
+       <property name="text" >
+        <string>Bottom:</string>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="0" >
+      <widget class="QLabel" name="label" >
+       <property name="text" >
+        <string>Left:</string>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="5" >
+      <spacer>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+       <property name="sizeType" >
+        <enum>QSizePolicy::MinimumExpanding</enum>
+       </property>
+       <property name="sizeHint" >
+        <size>
+         <width>40</width>
+         <height>20</height>
+        </size>
+       </property>
+      </spacer>
+     </item>
+     <item row="0" column="1" >
+      <widget class="QSpinBox" name="spinBoxLeft" >
+       <property name="maximum" >
+        <number>2147483647</number>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="6" >
+      <widget class="QPushButton" name="pushButtonAutoCrop" >
+       <property name="text" >
+        <string>Auto Crop</string>
+       </property>
+      </widget>
+     </item>
+     <item row="1" column="2" >
+      <spacer>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+       <property name="sizeType" >
+        <enum>QSizePolicy::Fixed</enum>
+       </property>
+       <property name="sizeHint" >
+        <size>
+         <width>26</width>
+         <height>20</height>
+        </size>
+       </property>
+      </spacer>
+     </item>
+    </layout>
+   </item>
+   <item>
     <widget class="QSlider" name="horizontalSlider" >
      <property name="orientation" >
       <enum>Qt::Horizontal</enum>
      </property>
     </widget>
    </item>
-   <item row="3" column="0" colspan="5" >
+   <item>
     <widget class="QGraphicsView" name="graphicsView" />
    </item>
-   <item row="1" column="4" >
-    <widget class="QPushButton" name="pushButtonReset" >
-     <property name="text" >
-      <string>Reset</string>
-     </property>
-    </widget>
-   </item>
-   <item row="0" column="0" >
-    <widget class="QLabel" name="label" >
-     <property name="text" >
-      <string>Left:</string>
-     </property>
-    </widget>
-   </item>
-   <item row="1" column="0" >
-    <widget class="QLabel" name="label_4" >
-     <property name="text" >
-      <string>Top:</string>
-     </property>
-    </widget>
-   </item>
-   <item row="1" column="2" >
-    <widget class="QLabel" name="label_3" >
-     <property name="text" >
-      <string>Bottom:</string>
-     </property>
-    </widget>
-   </item>
-   <item row="1" column="3" >
-    <widget class="QSpinBox" name="spinBoxBottom" />
-   </item>
-   <item row="0" column="2" >
-    <widget class="QLabel" name="label_2" >
-     <property name="text" >
-      <string>Right:</string>
-     </property>
-    </widget>
-   </item>
-   <item row="0" column="3" >
-    <widget class="QSpinBox" name="spinBoxRight" />
-   </item>
-   <item row="4" column="0" colspan="5" >
+   <item>
     <widget class="QDialogButtonBox" name="buttonBox" >
      <property name="orientation" >
       <enum>Qt::Horizontal</enum>
@@ -92,21 +180,19 @@
      </property>
     </widget>
    </item>
-   <item row="0" column="1" >
-    <widget class="QSpinBox" name="spinBoxLeft" />
-   </item>
-   <item row="1" column="1" >
-    <widget class="QSpinBox" name="spinBoxTop" />
-   </item>
-   <item row="0" column="4" >
-    <widget class="QPushButton" name="pushButtonAutoCrop" >
-     <property name="text" >
-      <string>AutCrop</string>
-     </property>
-    </widget>
-   </item>
   </layout>
  </widget>
+ <tabstops>
+  <tabstop>spinBoxLeft</tabstop>
+  <tabstop>spinBoxRight</tabstop>
+  <tabstop>spinBoxTop</tabstop>
+  <tabstop>spinBoxBottom</tabstop>
+  <tabstop>pushButtonAutoCrop</tabstop>
+  <tabstop>pushButtonReset</tabstop>
+  <tabstop>horizontalSlider</tabstop>
+  <tabstop>graphicsView</tabstop>
+  <tabstop>buttonBox</tabstop>
+ </tabstops>
  <resources/>
  <connections>
   <connection>



From gruntster at mail.berlios.de  Sat Sep 13 23:20:36 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 13 Sep 2008 23:20:36 +0200
Subject: [Avidemux-svn-commit] r4332 - in
	branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters:
	AvisynthResize/qt4 MplayerResize/qt4
Message-ID: <200809132120.m8DLKaru028078@sheep.berlios.de>

Author: gruntster
Date: 2008-09-13 23:20:26 +0200 (Sat, 13 Sep 2008)
New Revision: 4332

Modified:
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.h
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/AvisynthResize/qt4/resizing.ui
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.h
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MplayerResize/qt4/resizing.ui
Log:
[Merge] integrate changes from 2.4 branch (r4313)

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.cpp	2008-09-13 21:03:26 UTC (rev 4331)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.cpp	2008-09-13 21:20:26 UTC (rev 4332)
@@ -15,24 +15,33 @@
 #include <math.h>
 
 #include "Q_resize.h"
+#include "DIA_coreToolkit.h"
 
 static double aspectRatio[2][3]={
                               {1.,0.888888,1.19}, // NTSC 1:1 4:3 16:9
                               {1.,1.066667,1.43} // PAL  1:1 4:3 16:9
                             };
-#define aprintf printf
+#define aprintf
 
-resizeWindow::resizeWindow(resParam *param)     : QDialog()
+resizeWindow::resizeWindow(resParam *param) : QDialog()
  {
      ui.setupUi(this);
+	 lastPercentage = 100;
      _param=param;
      ui.spinBoxWidth->setValue(_param->width);
      ui.spinBoxHeight->setValue(_param->height);
      ui.horizontalSlider->setValue(100);
-     update(0);
-     connect( ui.horizontalSlider,SIGNAL(valueChanged(int)),this,SLOT(update(int)));
- 
+     updateWidthHeightSpinners();
+
+	 connect(ui.comboBoxSource, SIGNAL(currentIndexChanged(int)), this, SLOT(aspectRatioChanged(int)));
+	 connect(ui.comboBoxDestination, SIGNAL(currentIndexChanged(int)), this, SLOT(aspectRatioChanged(int)));
+	 connect(ui.checkBoxRoundup, SIGNAL(toggled(bool)), this, SLOT(roundupToggled(bool)));
+	 connect(ui.lockArCheckBox, SIGNAL(toggled(bool)), this, SLOT(lockArToggled(bool)));
+	 connect(ui.buttonBox, SIGNAL(accepted()), this, SLOT(okButtonClicked()));
+
+	 connectDimensionControls();
  }
+
  void resizeWindow::gather(void)
  {
     _param->width=ui.spinBoxWidth->value();
@@ -40,84 +49,203 @@
     _param->algo=ui.comboBoxAlgo->currentIndex();
  }
  
- void resizeWindow::update(int foo)
- {
+ void resizeWindow::sliderChanged(int value)
+{
+	disconnectDimensionControls();
 
-  double percent;
-  float x,y;
-  float sr_mul,dst_mul;
+	percentageSpinBoxChanged(value);
 
- int32_t xx,yy;
- float erx,ery;
-  int sar,dar;
+	connectDimensionControls();
+}
 
-  percent = ui.horizontalSlider->value();;
-  sar=ui.comboBoxSource->currentIndex();
-  dar=ui.comboBoxDestination->currentIndex();
-  if(percent<10.0) percent=10.;
+void resizeWindow::percentageSpinBoxChanged(int value)
+{
+	disconnectDimensionControls();
 
-  aprintf("drag called : %f \n",percent);
-  x=_param->originalWidth;
-  y=_param->originalHeight;
-  erx=0;
-  ery=0;
-  sr_mul=1.;
-  if(sar)
-  	{  // source is 4/3 or 16/9
-			sr_mul=aspectRatio[_param->pal][sar];
+	if (ui.checkBoxRoundup->isChecked())
+	{
+		if (lastPercentage > value)
+			ui.spinBoxWidth->setValue(ui.spinBoxWidth->value() - 16);
+		else
+			ui.spinBoxWidth->setValue(ui.spinBoxWidth->value() + 16);
+	}
+	else
+	{
+		float width = _param->originalWidth;
 
+		width /= 100.;
+		width *= value;
+
+		ui.spinBoxWidth->setValue(floor(width + 0.5));
 	}
 
-  dst_mul=1.;
-  if(dar)
-        {  // dst is 4/3 or 16/9
-  
-                        dst_mul=1/aspectRatio[_param->pal][dar];
-        }
-        aprintf("source mul %02.2f , dst mul : %02.2f\n",sr_mul,dst_mul);
-        x=x*sr_mul*dst_mul;
-        y=y;
-  
-        // normalize it to recover 100% width
-        y=y/(x/_param->originalWidth);
-        x=_param->originalWidth;
-  
-        aprintf("AR:x,y  : %03f %03f \n",x,y);
-  
-        percent/=100.;
-        x=x*percent;
-        y=y*percent;
-  
-  
-        aprintf("AR x,y  : %03f %03f \n",x,y);
-        xx=(uint32_t)floor(x+0.5);
-        yy=(uint32_t)floor(y+0.5);
-  
-        if(xx&1) xx--;
-        if(yy&1) yy--;
-  
-  
-        if(ui.checkBoxRoundup->checkState())
-        {
-                int32_t ox=xx,oy=yy;
-                xx=(xx +7) & 0xfffff0;
-                yy=(yy +7) & 0xfffff0;
-  
-                erx=(xx-ox);
-                erx=erx/xx;
-                ery=(yy-oy);
-                ery=ery/yy;
-  
-                aprintf("x: %d -> %d : err %f\n",ox,xx,erx);
-                aprintf("y: %d -> %d : err %f\n",oy,yy,ery);
-        }
-  
-        //
-        ui.spinBoxWidth->setValue(xx);
-        ui.spinBoxHeight->setValue(yy);
+	updateWidthHeightSpinners(false);
 
-   
+	lastPercentage = ui.percentageSpinBox->value();
+
+	connectDimensionControls();
 }
+
+void resizeWindow::widthSpinBoxChanged(int value)
+{
+	disconnectDimensionControls();
+
+	if (ui.lockArCheckBox->isChecked())
+		updateWidthHeightSpinners(false);
+
+	connectDimensionControls();
+}
+
+void resizeWindow::heightSpinBoxChanged(int value)
+{
+	disconnectDimensionControls();
+
+	if (ui.lockArCheckBox->isChecked())
+		updateWidthHeightSpinners(true);
+
+	connectDimensionControls();
+}
+
+void resizeWindow::aspectRatioChanged(int index)
+{
+	disconnectDimensionControls();
+
+	if (ui.lockArCheckBox->isChecked())
+		updateWidthHeightSpinners();
+
+	connectDimensionControls();
+}
+
+void resizeWindow::disconnectDimensionControls()
+{
+	disconnect(ui.spinBoxHeight, SIGNAL(valueChanged(int)), this, SLOT(heightSpinBoxChanged(int)));
+	disconnect(ui.spinBoxWidth, SIGNAL(valueChanged(int)), this, SLOT(widthSpinBoxChanged(int)));
+	disconnect(ui.horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(sliderChanged(int)));
+	disconnect(ui.percentageSpinBox, SIGNAL(valueChanged(int)), this, SLOT(percentageSpinBoxChanged(int)));
+}
+
+void resizeWindow::connectDimensionControls()
+{
+	connect(ui.spinBoxHeight, SIGNAL(valueChanged(int)), this, SLOT(heightSpinBoxChanged(int)));
+	connect(ui.spinBoxWidth, SIGNAL(valueChanged(int)), this, SLOT(widthSpinBoxChanged(int)));
+	connect(ui.horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(sliderChanged(int)));
+	connect(ui.percentageSpinBox, SIGNAL(valueChanged(int)), this, SLOT(percentageSpinBoxChanged(int)));
+}
+
+void resizeWindow::updateWidthHeightSpinners(bool useHeightAsRef)
+{
+	int sar = ui.comboBoxSource->currentIndex();
+	int dar = ui.comboBoxDestination->currentIndex();
+	float x = ui.spinBoxWidth->value();
+	float y = ui.spinBoxHeight->value();
+	float sr_mul = 1.;
+	float dst_mul = 1.;
+	float ar = 1.;
+
+	if (sar)
+	{  // source is 4/3 or 16/9
+		sr_mul = aspectRatio[_param->pal][sar];
+	}
+
+	if (dar)
+	{  // dst is 4/3 or 16/9
+		dst_mul = 1 / aspectRatio[_param->pal][dar];
+	}
+
+	aprintf("source mul %02.2f , dst mul: %02.2f\n", sr_mul, dst_mul);
+
+	ar = _param->originalWidth / (_param->originalHeight / (sr_mul * dst_mul));
+
+	if (useHeightAsRef)
+		x = y * ar;
+	else
+		y = x / ar;
+
+	aprintf("x, y: %03f, %03f\n", x, y);
+
+	int xx = floor(x + 0.5);
+	int yy = floor(y + 0.5);
+
+	if (xx & 1)
+		xx--;
+
+	if (yy & 1)
+		yy--;
+
+	roundUp(xx, yy);
+	updateSlider();
+}
+
+void resizeWindow::updateSlider()
+{
+	float percent = (((float)ui.spinBoxWidth->value() / (float)_param->originalWidth) * 100.) + 0.5;
+
+	ui.horizontalSlider->setValue(percent);
+	ui.percentageSpinBox->setValue(percent);
+}
+
+void resizeWindow::roundUp(int xx, int yy)
+{
+	float erx = 0.;
+	float ery = 0.;
+
+	if (ui.checkBoxRoundup->checkState())
+	{
+		int ox = xx, oy = yy;
+
+		xx = (xx + 7) & 0xfffff0;
+		yy = (yy + 7) & 0xfffff0;
+
+		erx = xx - ox;
+		erx = erx / xx;
+		ery = yy - oy;
+		ery = ery / yy;
+
+		aprintf("x: %d -> %d : err %f\n", ox, xx, erx);
+		aprintf("y: %d -> %d : err %f\n", oy, yy, ery);
+	}
+
+	ui.spinBoxWidth->setValue(xx);
+	ui.spinBoxHeight->setValue(yy);
+
+	ui.labelErrorXY->setText(QString("%1").arg(erx * 100., 0, 'f', 2) + " / " + QString("%1").arg(ery * 100., 0, 'f', 2));
+}
+
+void resizeWindow::lockArToggled(bool toggled)
+{
+	if (ui.lockArCheckBox->isChecked())
+		widthSpinBoxChanged(0);
+	else
+		ui.checkBoxRoundup->setChecked(false);
+}
+
+void resizeWindow::roundupToggled(bool toggled)
+{
+	if (toggled)
+	{
+		disconnectDimensionControls();
+
+		ui.spinBoxWidth->setSingleStep(16);
+		ui.spinBoxHeight->setSingleStep(16);
+		widthSpinBoxChanged(0);
+
+		connectDimensionControls();
+	}
+	else
+	{
+		ui.spinBoxWidth->setSingleStep(2);
+		ui.spinBoxHeight->setSingleStep(2);
+	}
+}
+
+void resizeWindow::okButtonClicked()
+{
+	if (ui.spinBoxWidth->value() & 1 || ui.spinBoxHeight->value() & 1)
+		GUI_Error_HIG(QT_TR_NOOP("Width and height cannot be odd"), NULL);
+	else
+		accept();
+}
+
 /**
     \fn DIA_resize
     \brief Handle resize dialo

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.h	2008-09-13 21:03:26 UTC (rev 4331)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/AvisynthResize/qt4/Q_resize.h	2008-09-13 21:20:26 UTC (rev 4332)
@@ -16,7 +16,15 @@
 {
 	Q_OBJECT
 
-protected: 
+private:
+	int lastPercentage;
+	void updateWidthHeightSpinners(bool useHeightAsRef = false);
+	void updateSlider();
+	void connectDimensionControls();
+	void disconnectDimensionControls();
+	void roundUp(int xx, int yy);
+
+protected:
 	resParam *_param;
 
 public:
@@ -25,6 +33,13 @@
 
 public slots:
 	void gather(void);
-	void update(int i);
+	void okButtonClicked();
+	void sliderChanged(int value);
+	void percentageSpinBoxChanged(int value);
+	void widthSpinBoxChanged(int value);
+	void heightSpinBoxChanged(int value);
+	void lockArToggled(bool toggled);
+	void roundupToggled(bool toggled);
+	void aspectRatioChanged(int index);
 };
 #endif	// Q_resizing_h

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/AvisynthResize/qt4/resizing.ui
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/AvisynthResize/qt4/resizing.ui	2008-09-13 21:03:26 UTC (rev 4331)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/AvisynthResize/qt4/resizing.ui	2008-09-13 21:20:26 UTC (rev 4332)
@@ -5,342 +5,720 @@
    <rect>
     <x>0</x>
     <y>0</y>
-    <width>405</width>
-    <height>210</height>
+    <width>350</width>
+    <height>342</height>
    </rect>
   </property>
   <property name="windowTitle" >
    <string>Resize</string>
   </property>
-  <widget class="QWidget" name="layoutWidget" >
-   <property name="geometry" >
-    <rect>
-     <x>10</x>
-     <y>12</y>
-     <width>355</width>
-     <height>169</height>
-    </rect>
+  <layout class="QVBoxLayout" >
+   <property name="margin" >
+    <number>9</number>
    </property>
-   <layout class="QGridLayout" >
-    <property name="leftMargin" >
-     <number>0</number>
-    </property>
-    <property name="topMargin" >
-     <number>0</number>
-    </property>
-    <property name="rightMargin" >
-     <number>0</number>
-    </property>
-    <property name="bottomMargin" >
-     <number>0</number>
-    </property>
-    <property name="horizontalSpacing" >
-     <number>6</number>
-    </property>
-    <property name="verticalSpacing" >
-     <number>6</number>
-    </property>
-    <item row="1" column="3" >
+   <property name="spacing" >
+    <number>6</number>
+   </property>
+   <item>
+    <widget class="QGroupBox" name="groupBox_2" >
+     <property name="title" >
+      <string>Aspect Ratio</string>
+     </property>
      <layout class="QVBoxLayout" >
+      <property name="margin" >
+       <number>9</number>
+      </property>
       <property name="spacing" >
        <number>6</number>
       </property>
-      <property name="leftMargin" >
-       <number>0</number>
-      </property>
-      <property name="topMargin" >
-       <number>0</number>
-      </property>
-      <property name="rightMargin" >
-       <number>0</number>
-      </property>
-      <property name="bottomMargin" >
-       <number>0</number>
-      </property>
       <item>
-       <widget class="QLabel" name="labelErrorX" >
+       <widget class="QCheckBox" name="lockArCheckBox" >
         <property name="text" >
-         <string>Error X : 0.00</string>
+         <string>Lock Aspect Ratio</string>
         </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QLabel" name="labelErrorY" >
-        <property name="text" >
-         <string>Error Y: 0.00</string>
+        <property name="checked" >
+         <bool>true</bool>
         </property>
        </widget>
       </item>
-     </layout>
-    </item>
-    <item row="0" column="1" >
-     <layout class="QVBoxLayout" >
-      <property name="spacing" >
-       <number>6</number>
-      </property>
-      <property name="leftMargin" >
-       <number>0</number>
-      </property>
-      <property name="topMargin" >
-       <number>0</number>
-      </property>
-      <property name="rightMargin" >
-       <number>0</number>
-      </property>
-      <property name="bottomMargin" >
-       <number>0</number>
-      </property>
       <item>
-       <widget class="QSpinBox" name="spinBoxWidth" >
-        <property name="minimum" >
-         <number>1</number>
+       <layout class="QHBoxLayout" >
+        <property name="margin" >
+         <number>0</number>
         </property>
-        <property name="maximum" >
-         <number>2900</number>
+        <property name="spacing" >
+         <number>6</number>
         </property>
-       </widget>
+        <item>
+         <widget class="QLabel" name="label_4" >
+          <property name="text" >
+           <string>Source:</string>
+          </property>
+         </widget>
+        </item>
+        <item>
+         <widget class="QComboBox" name="comboBoxSource" >
+          <item>
+           <property name="text" >
+            <string>1:1</string>
+           </property>
+          </item>
+          <item>
+           <property name="text" >
+            <string>4:3</string>
+           </property>
+          </item>
+          <item>
+           <property name="text" >
+            <string>16:9</string>
+           </property>
+          </item>
+         </widget>
+        </item>
+        <item>
+         <spacer>
+          <property name="orientation" >
+           <enum>Qt::Horizontal</enum>
+          </property>
+          <property name="sizeType" >
+           <enum>QSizePolicy::Fixed</enum>
+          </property>
+          <property name="sizeHint" >
+           <size>
+            <width>30</width>
+            <height>20</height>
+           </size>
+          </property>
+         </spacer>
+        </item>
+        <item>
+         <widget class="QLabel" name="label_3" >
+          <property name="text" >
+           <string>Destination:</string>
+          </property>
+         </widget>
+        </item>
+        <item>
+         <widget class="QComboBox" name="comboBoxDestination" >
+          <item>
+           <property name="text" >
+            <string>1:1</string>
+           </property>
+          </item>
+          <item>
+           <property name="text" >
+            <string>4:3</string>
+           </property>
+          </item>
+          <item>
+           <property name="text" >
+            <string>16:9</string>
+           </property>
+          </item>
+         </widget>
+        </item>
+        <item>
+         <spacer>
+          <property name="orientation" >
+           <enum>Qt::Horizontal</enum>
+          </property>
+          <property name="sizeHint" >
+           <size>
+            <width>40</width>
+            <height>20</height>
+           </size>
+          </property>
+         </spacer>
+        </item>
+       </layout>
       </item>
-      <item>
-       <widget class="QSpinBox" name="spinBoxHeight" >
-        <property name="minimum" >
-         <number>1</number>
-        </property>
-        <property name="maximum" >
-         <number>2000</number>
-        </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QCheckBox" name="checkBoxRoundup" >
-        <property name="text" >
-         <string>16 round up</string>
-        </property>
-       </widget>
-      </item>
      </layout>
-    </item>
-    <item row="0" column="0" >
+    </widget>
+   </item>
+   <item>
+    <widget class="QGroupBox" name="groupBox" >
+     <property name="title" >
+      <string>Resize Dimensions</string>
+     </property>
      <layout class="QVBoxLayout" >
-      <property name="spacing" >
-       <number>6</number>
+      <property name="margin" >
+       <number>9</number>
       </property>
-      <property name="leftMargin" >
-       <number>0</number>
-      </property>
-      <property name="topMargin" >
-       <number>0</number>
-      </property>
-      <property name="rightMargin" >
-       <number>0</number>
-      </property>
-      <property name="bottomMargin" >
-       <number>0</number>
-      </property>
-      <item>
-       <widget class="QLabel" name="label" >
-        <property name="text" >
-         <string>Width</string>
-        </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QLabel" name="label_2" >
-        <property name="text" >
-         <string>Height</string>
-        </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QLabel" name="label_7" >
-        <property name="text" >
-         <string/>
-        </property>
-       </widget>
-      </item>
-     </layout>
-    </item>
-    <item row="1" column="1" colspan="2" >
-     <widget class="QSlider" name="horizontalSlider" >
-      <property name="minimum" >
-       <number>10</number>
-      </property>
-      <property name="maximum" >
-       <number>150</number>
-      </property>
-      <property name="orientation" >
-       <enum>Qt::Horizontal</enum>
-      </property>
-     </widget>
-    </item>
-    <item row="0" column="2" >
-     <layout class="QVBoxLayout" >
       <property name="spacing" >
        <number>6</number>
       </property>
-      <property name="leftMargin" >
-       <number>0</number>
-      </property>
-      <property name="topMargin" >
-       <number>0</number>
-      </property>
-      <property name="rightMargin" >
-       <number>0</number>
-      </property>
-      <property name="bottomMargin" >
-       <number>0</number>
-      </property>
       <item>
-       <widget class="QLabel" name="label_4" >
-        <property name="text" >
-         <string>Source A:R</string>
+       <layout class="QHBoxLayout" >
+        <property name="margin" >
+         <number>0</number>
         </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QLabel" name="label_3" >
-        <property name="text" >
-         <string>Destination A/R</string>
+        <property name="spacing" >
+         <number>6</number>
         </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QLabel" name="label_6" >
-        <property name="text" >
-         <string>Resize Method</string>
-        </property>
-       </widget>
-      </item>
-     </layout>
-    </item>
-    <item row="1" column="0" >
-     <widget class="QLabel" name="label_5" >
-      <property name="text" >
-       <string>Percent</string>
-      </property>
-     </widget>
-    </item>
-    <item row="0" column="3" >
-     <layout class="QVBoxLayout" >
-      <property name="spacing" >
-       <number>6</number>
-      </property>
-      <property name="leftMargin" >
-       <number>0</number>
-      </property>
-      <property name="topMargin" >
-       <number>0</number>
-      </property>
-      <property name="rightMargin" >
-       <number>0</number>
-      </property>
-      <property name="bottomMargin" >
-       <number>0</number>
-      </property>
-      <item>
-       <widget class="QComboBox" name="comboBoxSource" >
         <item>
-         <property name="text" >
-          <string>1:1</string>
-         </property>
+         <widget class="QLabel" name="label" >
+          <property name="text" >
+           <string>Width:</string>
+          </property>
+         </widget>
         </item>
         <item>
-         <property name="text" >
-          <string>4:3</string>
-         </property>
+         <widget class="QSpinBox" name="spinBoxWidth" >
+          <property name="maximum" >
+           <number>2900</number>
+          </property>
+          <property name="minimum" >
+           <number>16</number>
+          </property>
+          <property name="singleStep" >
+           <number>2</number>
+          </property>
+         </widget>
         </item>
         <item>
-         <property name="text" >
-          <string>16:9</string>
-         </property>
+         <spacer>
+          <property name="orientation" >
+           <enum>Qt::Horizontal</enum>
+          </property>
+          <property name="sizeType" >
+           <enum>QSizePolicy::Fixed</enum>
+          </property>
+          <property name="sizeHint" >
+           <size>
+            <width>30</width>
+            <height>20</height>
+           </size>
+          </property>
+         </spacer>
         </item>
-       </widget>
-      </item>
-      <item>
-       <widget class="QComboBox" name="comboBoxDestination" >
         <item>
-         <property name="text" >
-          <string>1:1</string>
-         </property>
+         <widget class="QLabel" name="label_2" >
+          <property name="text" >
+           <string>Height:</string>
+          </property>
+         </widget>
         </item>
         <item>
-         <property name="text" >
-          <string>4:3</string>
-         </property>
+         <widget class="QSpinBox" name="spinBoxHeight" >
+          <property name="maximum" >
+           <number>2000</number>
+          </property>
+          <property name="minimum" >
+           <number>16</number>
+          </property>
+          <property name="singleStep" >
+           <number>2</number>
+          </property>
+         </widget>
         </item>
         <item>
-         <property name="text" >
-          <string>16:9</string>
-         </property>
+         <spacer>
+          <property name="orientation" >
+           <enum>Qt::Horizontal</enum>
+          </property>
+          <property name="sizeHint" >
+           <size>
+            <width>40</width>
+            <height>20</height>
+           </size>
+          </property>
+         </spacer>
         </item>
+       </layout>
+      </item>
+      <item>
+       <widget class="QCheckBox" name="checkBoxRoundup" >
+        <property name="text" >
+         <string>Round to the Nearest Multiple of 16</string>
+        </property>
        </widget>
       </item>
       <item>
-       <widget class="QComboBox" name="comboBoxAlgo" >
+       <spacer>
+        <property name="orientation" >
+         <enum>Qt::Vertical</enum>
+        </property>
+        <property name="sizeType" >
+         <enum>QSizePolicy::Fixed</enum>
+        </property>
+        <property name="sizeHint" >
+         <size>
+          <width>312</width>
+          <height>4</height>
+         </size>
+        </property>
+       </spacer>
+      </item>
+      <item>
+       <layout class="QVBoxLayout" >
+        <property name="margin" >
+         <number>0</number>
+        </property>
+        <property name="spacing" >
+         <number>6</number>
+        </property>
         <item>
-         <property name="text" >
-          <string>Bilinear</string>
-         </property>
+         <layout class="QHBoxLayout" >
+          <property name="margin" >
+           <number>0</number>
+          </property>
+          <property name="spacing" >
+           <number>12</number>
+          </property>
+          <item>
+           <layout class="QVBoxLayout" >
+            <property name="margin" >
+             <number>0</number>
+            </property>
+            <property name="spacing" >
+             <number>6</number>
+            </property>
+            <item>
+             <layout class="QHBoxLayout" >
+              <property name="margin" >
+               <number>0</number>
+              </property>
+              <property name="spacing" >
+               <number>6</number>
+              </property>
+              <item>
+               <widget class="QLabel" name="label_8" >
+                <property name="text" >
+                 <string>1%</string>
+                </property>
+               </widget>
+              </item>
+              <item>
+               <spacer>
+                <property name="orientation" >
+                 <enum>Qt::Horizontal</enum>
+                </property>
+                <property name="sizeHint" >
+                 <size>
+                  <width>40</width>
+                  <height>20</height>
+                 </size>
+                </property>
+               </spacer>
+              </item>
+              <item>
+               <widget class="QLabel" name="label_5" >
+                <property name="text" >
+                 <string>Percent</string>
+                </property>
+               </widget>
+              </item>
+              <item>
+               <spacer>
+                <property name="orientation" >
+                 <enum>Qt::Horizontal</enum>
+                </property>
+                <property name="sizeHint" >
+                 <size>
+                  <width>40</width>
+                  <height>20</height>
+                 </size>
+                </property>
+               </spacer>
+              </item>
+              <item>
+               <widget class="QLabel" name="label_9" >
+                <property name="text" >
+                 <string>200%</string>
+                </property>
+               </widget>
+              </item>
+             </layout>
+            </item>
+            <item>
+             <widget class="QSlider" name="horizontalSlider" >
+              <property name="minimum" >
+               <number>1</number>
+              </property>
+              <property name="maximum" >
+               <number>200</number>
+              </property>
+              <property name="value" >
+               <number>100</number>
+              </property>
+              <property name="orientation" >
+               <enum>Qt::Horizontal</enum>
+              </property>
+             </widget>
+            </item>
+           </layout>
+          </item>
+          <item>
+           <widget class="QSpinBox" name="percentageSpinBox" >
+            <property name="maximum" >
+             <number>200</number>
+            </property>
+            <property name="minimum" >
+             <number>1</number>
+            </property>
+            <property name="value" >
+             <number>100</number>
+            </property>
+           </widget>
+          </item>
+         </layout>
         </item>
         <item>
-         <property name="text" >
-          <string>Bicubic</string>
-         </property>
+         <layout class="QHBoxLayout" >
+          <property name="margin" >
+           <number>0</number>
+          </property>
+          <property name="spacing" >
+           <number>6</number>
+          </property>
+          <item>
+           <widget class="QLabel" name="label_10" >
+            <property name="text" >
+             <string>Error X / Y:</string>
+            </property>
+           </widget>
+          </item>
+          <item>
+           <widget class="QLabel" name="labelErrorXY" >
+            <property name="text" >
+             <string>0.00 / 0.00</string>
+            </property>
+           </widget>
+          </item>
+          <item>
+           <spacer>
+            <property name="orientation" >
+             <enum>Qt::Horizontal</enum>
+            </property>
+            <property name="sizeHint" >
+             <size>
+              <width>40</width>
+              <height>20</height>
+             </size>
+            </property>
+           </spacer>
+          </item>
+         </layout>
         </item>
-        <item>
-         <property name="text" >
-          <string>Lanzcos3</string>
-         </property>
-        </item>
-       </widget>
+       </layout>
       </item>
      </layout>
-    </item>
-    <item row="2" column="0" colspan="4" >
-     <widget class="QDialogButtonBox" name="buttonBox" >
-      <property name="orientation" >
-       <enum>Qt::Horizontal</enum>
-      </property>
-      <property name="standardButtons" >
-       <set>QDialogButtonBox::Cancel|QDialogButtonBox::NoButton|QDialogButtonBox::Ok</set>
-      </property>
-     </widget>
-    </item>
-   </layout>
-  </widget>
+    </widget>
+   </item>
+   <item>
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Vertical</enum>
+     </property>
+     <property name="sizeType" >
+      <enum>QSizePolicy::Fixed</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>332</width>
+       <height>6</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+   <item>
+    <layout class="QHBoxLayout" >
+     <property name="margin" >
+      <number>0</number>
+     </property>
+     <property name="spacing" >
+      <number>6</number>
+     </property>
+     <item>
+      <widget class="QLabel" name="label_6" >
+       <property name="text" >
+        <string>Resize Method:</string>
+       </property>
+      </widget>
+     </item>
+     <item>
+      <widget class="QComboBox" name="comboBoxAlgo" >
+       <item>
+        <property name="text" >
+         <string>Bilinear</string>
+        </property>
+       </item>
+       <item>
+        <property name="text" >
+         <string>Bicubic</string>
+        </property>
+       </item>
+       <item>
+        <property name="text" >
+         <string>Lanzcos3</string>
+        </property>
+       </item>
+      </widget>
+     </item>
+     <item>
+      <spacer>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+       <property name="sizeHint" >
+        <size>
+         <width>40</width>
+         <height>20</height>
+        </size>
+       </property>
+      </spacer>
+     </item>
+    </layout>
+   </item>
+   <item>
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Vertical</enum>
+     </property>
+     <property name="sizeType" >
+      <enum>QSizePolicy::MinimumExpanding</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>20</width>
+       <height>16</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+   <item>
+    <widget class="QDialogButtonBox" name="buttonBox" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="standardButtons" >
+      <set>QDialogButtonBox::Cancel|QDialogButtonBox::NoButton|QDialogButtonBox::Ok</set>
+     </property>
+    </widget>
+   </item>
+  </layout>
  </widget>
+ <tabstops>
+  <tabstop>lockArCheckBox</tabstop>
+  <tabstop>comboBoxSource</tabstop>
+  <tabstop>comboBoxDestination</tabstop>
+  <tabstop>spinBoxWidth</tabstop>
+  <tabstop>spinBoxHeight</tabstop>
+  <tabstop>checkBoxRoundup</tabstop>
+  <tabstop>horizontalSlider</tabstop>
+  <tabstop>percentageSpinBox</tabstop>
+  <tabstop>comboBoxAlgo</tabstop>
+  <tabstop>buttonBox</tabstop>
+ </tabstops>
  <resources/>
  <connections>
   <connection>
    <sender>buttonBox</sender>
-   <signal>accepted()</signal>
+   <signal>rejected()</signal>
    <receiver>resizeDialog</receiver>
-   <slot>accept()</slot>
+   <slot>reject()</slot>
    <hints>
     <hint type="sourcelabel" >
-     <x>248</x>
-     <y>254</y>
+     <x>316</x>
+     <y>260</y>
     </hint>
     <hint type="destinationlabel" >
-     <x>157</x>
+     <x>286</x>
      <y>274</y>
     </hint>
    </hints>
   </connection>
   <connection>
-   <sender>buttonBox</sender>
-   <signal>rejected()</signal>
-   <receiver>resizeDialog</receiver>
-   <slot>reject()</slot>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_8</receiver>
+   <slot>setEnabled(bool)</slot>
    <hints>
     <hint type="sourcelabel" >
-     <x>316</x>
-     <y>260</y>
+     <x>184</x>
+     <y>117</y>
     </hint>
     <hint type="destinationlabel" >
-     <x>286</x>
-     <y>274</y>
+     <x>39</x>
+     <y>148</y>
     </hint>
    </hints>
   </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_5</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>184</x>
+     <y>117</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>150</x>
+     <y>148</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_9</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>184</x>
+     <y>117</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>267</x>
+     <y>148</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>horizontalSlider</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>184</x>
+     <y>117</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>156</x>
+     <y>164</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>percentageSpinBox</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>184</x>
+     <y>117</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>317</x>
+     <y>155</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>checkBoxRoundup</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>184</x>
+     <y>95</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>184</x>
+     <y>117</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_10</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>182</x>
+     <y>155</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>55</x>
+     <y>251</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>labelErrorXY</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>182</x>
+     <y>155</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>114</x>
+     <y>251</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_4</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>182</x>
+     <y>69</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>46</x>
+     <y>95</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>comboBoxSource</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>182</x>
+     <y>69</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>94</x>
+     <y>95</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_3</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>182</x>
+     <y>69</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>188</x>
+     <y>95</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>comboBoxDestination</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>182</x>
+     <y>69</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>247</x>
+     <y>95</y>
+    </hint>
+   </hints>
+  </connection>
  </connections>
 </ui>

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.cpp	2008-09-13 21:03:26 UTC (rev 4331)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.cpp	2008-09-13 21:20:26 UTC (rev 4332)
@@ -15,27 +15,33 @@
 #include <math.h>
 
 #include "Q_resize.h"
+#include "DIA_coreToolkit.h"
 
 static double aspectRatio[2][3]={
                               {1.,0.888888,1.19}, // NTSC 1:1 4:3 16:9
                               {1.,1.066667,1.43} // PAL  1:1 4:3 16:9
                             };
-#define aprintf printf
-resizeWindow::~resizeWindow()
-  {
-    
-  }
-resizeWindow::resizeWindow(resParam *param)     : QDialog()
+#define aprintf
+
+resizeWindow::resizeWindow(resParam *param) : QDialog()
  {
      ui.setupUi(this);
+	 lastPercentage = 100;
      _param=param;
      ui.spinBoxWidth->setValue(_param->width);
      ui.spinBoxHeight->setValue(_param->height);
      ui.horizontalSlider->setValue(100);
-     update(0);
-     connect( ui.horizontalSlider,SIGNAL(valueChanged(int)),this,SLOT(update(int)));
- 
+     updateWidthHeightSpinners();
+
+	 connect(ui.comboBoxSource, SIGNAL(currentIndexChanged(int)), this, SLOT(aspectRatioChanged(int)));
+	 connect(ui.comboBoxDestination, SIGNAL(currentIndexChanged(int)), this, SLOT(aspectRatioChanged(int)));
+	 connect(ui.checkBoxRoundup, SIGNAL(toggled(bool)), this, SLOT(roundupToggled(bool)));
+	 connect(ui.lockArCheckBox, SIGNAL(toggled(bool)), this, SLOT(lockArToggled(bool)));
+	 connect(ui.buttonBox, SIGNAL(accepted()), this, SLOT(okButtonClicked()));
+
+	 connectDimensionControls();
  }
+
  void resizeWindow::gather(void)
  {
     _param->width=ui.spinBoxWidth->value();
@@ -43,84 +49,203 @@
     _param->algo=ui.comboBoxAlgo->currentIndex();
  }
  
- void resizeWindow::update(int foo)
- {
+ void resizeWindow::sliderChanged(int value)
+{
+	disconnectDimensionControls();
 
-  double percent;
-  float x,y;
-  float sr_mul,dst_mul;
+	percentageSpinBoxChanged(value);
 
- int32_t xx,yy;
- float erx,ery;
-  int sar,dar;
+	connectDimensionControls();
+}
 
-  percent = ui.horizontalSlider->value();;
-  sar=ui.comboBoxSource->currentIndex();
-  dar=ui.comboBoxDestination->currentIndex();
-  if(percent<10.0) percent=10.;
+void resizeWindow::percentageSpinBoxChanged(int value)
+{
+	disconnectDimensionControls();
 
-  aprintf("drag called : %f \n",percent);
-  x=_param->originalWidth;
-  y=_param->originalHeight;
-  erx=0;
-  ery=0;
-  sr_mul=1.;
-  if(sar)
-  	{  // source is 4/3 or 16/9
-			sr_mul=aspectRatio[_param->pal][sar];
+	if (ui.checkBoxRoundup->isChecked())
+	{
+		if (lastPercentage > value)
+			ui.spinBoxWidth->setValue(ui.spinBoxWidth->value() - 16);
+		else
+			ui.spinBoxWidth->setValue(ui.spinBoxWidth->value() + 16);
+	}
+	else
+	{
+		float width = _param->originalWidth;
 
+		width /= 100.;
+		width *= value;
+
+		ui.spinBoxWidth->setValue(floor(width + 0.5));
 	}
 
-  dst_mul=1.;
-  if(dar)
-        {  // dst is 4/3 or 16/9
-  
-                        dst_mul=1/aspectRatio[_param->pal][dar];
-        }
-        aprintf("source mul %02.2f , dst mul : %02.2f\n",sr_mul,dst_mul);
-        x=x*sr_mul*dst_mul;
-        y=y;
-  
-        // normalize it to recover 100% width
-        y=y/(x/_param->originalWidth);
-        x=_param->originalWidth;
-  
-        aprintf("AR:x,y  : %03f %03f \n",x,y);
-  
-        percent/=100.;
-        x=x*percent;
-        y=y*percent;
-  
-  
-        aprintf("AR x,y  : %03f %03f \n",x,y);
-        xx=(uint32_t)floor(x+0.5);
-        yy=(uint32_t)floor(y+0.5);
-  
-        if(xx&1) xx--;
-        if(yy&1) yy--;
-  
-  
-        if(ui.checkBoxRoundup->checkState())
-        {
-                int32_t ox=xx,oy=yy;
-                xx=(xx +7) & 0xfffff0;
-                yy=(yy +7) & 0xfffff0;
-  
-                erx=(xx-ox);
-                erx=erx/xx;
-                ery=(yy-oy);
-                ery=ery/yy;
-  
-                aprintf("x: %d -> %d : err %f\n",ox,xx,erx);
-                aprintf("y: %d -> %d : err %f\n",oy,yy,ery);
-        }
-  
-        //
-        ui.spinBoxWidth->setValue(xx);
-        ui.spinBoxHeight->setValue(yy);
+	updateWidthHeightSpinners(false);
 
-   
+	lastPercentage = ui.percentageSpinBox->value();
+
+	connectDimensionControls();
 }
+
+void resizeWindow::widthSpinBoxChanged(int value)
+{
+	disconnectDimensionControls();
+
+	if (ui.lockArCheckBox->isChecked())
+		updateWidthHeightSpinners(false);
+
+	connectDimensionControls();
+}
+
+void resizeWindow::heightSpinBoxChanged(int value)
+{
+	disconnectDimensionControls();
+
+	if (ui.lockArCheckBox->isChecked())
+		updateWidthHeightSpinners(true);
+
+	connectDimensionControls();
+}
+
+void resizeWindow::aspectRatioChanged(int index)
+{
+	disconnectDimensionControls();
+
+	if (ui.lockArCheckBox->isChecked())
+		updateWidthHeightSpinners();
+
+	connectDimensionControls();
+}
+
+void resizeWindow::disconnectDimensionControls()
+{
+	disconnect(ui.spinBoxHeight, SIGNAL(valueChanged(int)), this, SLOT(heightSpinBoxChanged(int)));
+	disconnect(ui.spinBoxWidth, SIGNAL(valueChanged(int)), this, SLOT(widthSpinBoxChanged(int)));
+	disconnect(ui.horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(sliderChanged(int)));
+	disconnect(ui.percentageSpinBox, SIGNAL(valueChanged(int)), this, SLOT(percentageSpinBoxChanged(int)));
+}
+
+void resizeWindow::connectDimensionControls()
+{
+	connect(ui.spinBoxHeight, SIGNAL(valueChanged(int)), this, SLOT(heightSpinBoxChanged(int)));
+	connect(ui.spinBoxWidth, SIGNAL(valueChanged(int)), this, SLOT(widthSpinBoxChanged(int)));
+	connect(ui.horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(sliderChanged(int)));
+	connect(ui.percentageSpinBox, SIGNAL(valueChanged(int)), this, SLOT(percentageSpinBoxChanged(int)));
+}
+
+void resizeWindow::updateWidthHeightSpinners(bool useHeightAsRef)
+{
+	int sar = ui.comboBoxSource->currentIndex();
+	int dar = ui.comboBoxDestination->currentIndex();
+	float x = ui.spinBoxWidth->value();
+	float y = ui.spinBoxHeight->value();
+	float sr_mul = 1.;
+	float dst_mul = 1.;
+	float ar = 1.;
+
+	if (sar)
+	{  // source is 4/3 or 16/9
+		sr_mul = aspectRatio[_param->pal][sar];
+	}
+
+	if (dar)
+	{  // dst is 4/3 or 16/9
+		dst_mul = 1 / aspectRatio[_param->pal][dar];
+	}
+
+	aprintf("source mul %02.2f , dst mul: %02.2f\n", sr_mul, dst_mul);
+
+	ar = _param->originalWidth / (_param->originalHeight / (sr_mul * dst_mul));
+
+	if (useHeightAsRef)
+		x = y * ar;
+	else
+		y = x / ar;
+
+	aprintf("x, y: %03f, %03f\n", x, y);
+
+	int xx = floor(x + 0.5);
+	int yy = floor(y + 0.5);
+
+	if (xx & 1)
+		xx--;
+
+	if (yy & 1)
+		yy--;
+
+	roundUp(xx, yy);
+	updateSlider();
+}
+
+void resizeWindow::updateSlider()
+{
+	float percent = (((float)ui.spinBoxWidth->value() / (float)_param->originalWidth) * 100.) + 0.5;
+
+	ui.horizontalSlider->setValue(percent);
+	ui.percentageSpinBox->setValue(percent);
+}
+
+void resizeWindow::roundUp(int xx, int yy)
+{
+	float erx = 0.;
+	float ery = 0.;
+
+	if (ui.checkBoxRoundup->checkState())
+	{
+		int ox = xx, oy = yy;
+
+		xx = (xx + 7) & 0xfffff0;
+		yy = (yy + 7) & 0xfffff0;
+
+		erx = xx - ox;
+		erx = erx / xx;
+		ery = yy - oy;
+		ery = ery / yy;
+
+		aprintf("x: %d -> %d : err %f\n", ox, xx, erx);
+		aprintf("y: %d -> %d : err %f\n", oy, yy, ery);
+	}
+
+	ui.spinBoxWidth->setValue(xx);
+	ui.spinBoxHeight->setValue(yy);
+
+	ui.labelErrorXY->setText(QString("%1").arg(erx * 100., 0, 'f', 2) + " / " + QString("%1").arg(ery * 100., 0, 'f', 2));
+}
+
+void resizeWindow::lockArToggled(bool toggled)
+{
+	if (ui.lockArCheckBox->isChecked())
+		widthSpinBoxChanged(0);
+	else
+		ui.checkBoxRoundup->setChecked(false);
+}
+
+void resizeWindow::roundupToggled(bool toggled)
+{
+	if (toggled)
+	{
+		disconnectDimensionControls();
+
+		ui.spinBoxWidth->setSingleStep(16);
+		ui.spinBoxHeight->setSingleStep(16);
+		widthSpinBoxChanged(0);
+
+		connectDimensionControls();
+	}
+	else
+	{
+		ui.spinBoxWidth->setSingleStep(2);
+		ui.spinBoxHeight->setSingleStep(2);
+	}
+}
+
+void resizeWindow::okButtonClicked()
+{
+	if (ui.spinBoxWidth->value() & 1 || ui.spinBoxHeight->value() & 1)
+		GUI_Error_HIG(QT_TR_NOOP("Width and height cannot be odd"), NULL);
+	else
+		accept();
+}
+
 /**
     \fn DIA_resize
     \brief Handle resize dialo

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.h	2008-09-13 21:03:26 UTC (rev 4331)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MplayerResize/qt4/Q_resize.h	2008-09-13 21:20:26 UTC (rev 4332)
@@ -16,16 +16,30 @@
 {
 	Q_OBJECT
 
-protected: 
+private:
+	int lastPercentage;
+	void updateWidthHeightSpinners(bool useHeightAsRef = false);
+	void updateSlider();
+	void connectDimensionControls();
+	void disconnectDimensionControls();
+	void roundUp(int xx, int yy);
+
+protected:
 	resParam *_param;
 
 public:
-	resizeWindow(resParam *param);
-	~resizeWindow();
+	resizeWindow(resParam *param);
 	Ui_resizeDialog ui;
 
 public slots:
 	void gather(void);
-	void update(int i);
+	void okButtonClicked();
+	void sliderChanged(int value);
+	void percentageSpinBoxChanged(int value);
+	void widthSpinBoxChanged(int value);
+	void heightSpinBoxChanged(int value);
+	void lockArToggled(bool toggled);
+	void roundupToggled(bool toggled);
+	void aspectRatioChanged(int index);
 };
 #endif	// Q_resizing_h

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MplayerResize/qt4/resizing.ui
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MplayerResize/qt4/resizing.ui	2008-09-13 21:03:26 UTC (rev 4331)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MplayerResize/qt4/resizing.ui	2008-09-13 21:20:26 UTC (rev 4332)
@@ -5,342 +5,720 @@
    <rect>
     <x>0</x>
     <y>0</y>
-    <width>405</width>
-    <height>210</height>
+    <width>350</width>
+    <height>342</height>
    </rect>
   </property>
   <property name="windowTitle" >
    <string>Resize</string>
   </property>
-  <widget class="QWidget" name="layoutWidget" >
-   <property name="geometry" >
-    <rect>
-     <x>10</x>
-     <y>12</y>
-     <width>355</width>
-     <height>169</height>
-    </rect>
+  <layout class="QVBoxLayout" >
+   <property name="margin" >
+    <number>9</number>
    </property>
-   <layout class="QGridLayout" >
-    <property name="leftMargin" >
-     <number>0</number>
-    </property>
-    <property name="topMargin" >
-     <number>0</number>
-    </property>
-    <property name="rightMargin" >
-     <number>0</number>
-    </property>
-    <property name="bottomMargin" >
-     <number>0</number>
-    </property>
-    <property name="horizontalSpacing" >
-     <number>6</number>
-    </property>
-    <property name="verticalSpacing" >
-     <number>6</number>
-    </property>
-    <item row="1" column="3" >
+   <property name="spacing" >
+    <number>6</number>
+   </property>
+   <item>
+    <widget class="QGroupBox" name="groupBox_2" >
+     <property name="title" >
+      <string>Aspect Ratio</string>
+     </property>
      <layout class="QVBoxLayout" >
+      <property name="margin" >
+       <number>9</number>
+      </property>
       <property name="spacing" >
        <number>6</number>
       </property>
-      <property name="leftMargin" >
-       <number>0</number>
-      </property>
-      <property name="topMargin" >
-       <number>0</number>
-      </property>
-      <property name="rightMargin" >
-       <number>0</number>
-      </property>
-      <property name="bottomMargin" >
-       <number>0</number>
-      </property>
       <item>
-       <widget class="QLabel" name="labelErrorX" >
+       <widget class="QCheckBox" name="lockArCheckBox" >
         <property name="text" >
-         <string>Error X : 0.00</string>
+         <string>Lock Aspect Ratio</string>
         </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QLabel" name="labelErrorY" >
-        <property name="text" >
-         <string>Error Y: 0.00</string>
+        <property name="checked" >
+         <bool>true</bool>
         </property>
        </widget>
       </item>
-     </layout>
-    </item>
-    <item row="0" column="1" >
-     <layout class="QVBoxLayout" >
-      <property name="spacing" >
-       <number>6</number>
-      </property>
-      <property name="leftMargin" >
-       <number>0</number>
-      </property>
-      <property name="topMargin" >
-       <number>0</number>
-      </property>
-      <property name="rightMargin" >
-       <number>0</number>
-      </property>
-      <property name="bottomMargin" >
-       <number>0</number>
-      </property>
       <item>
-       <widget class="QSpinBox" name="spinBoxWidth" >
-        <property name="minimum" >
-         <number>1</number>
+       <layout class="QHBoxLayout" >
+        <property name="margin" >
+         <number>0</number>
         </property>
-        <property name="maximum" >
-         <number>2900</number>
+        <property name="spacing" >
+         <number>6</number>
         </property>
-       </widget>
+        <item>
+         <widget class="QLabel" name="label_4" >
+          <property name="text" >
+           <string>Source:</string>
+          </property>
+         </widget>
+        </item>
+        <item>
+         <widget class="QComboBox" name="comboBoxSource" >
+          <item>
+           <property name="text" >
+            <string>1:1</string>
+           </property>
+          </item>
+          <item>
+           <property name="text" >
+            <string>4:3</string>
+           </property>
+          </item>
+          <item>
+           <property name="text" >
+            <string>16:9</string>
+           </property>
+          </item>
+         </widget>
+        </item>
+        <item>
+         <spacer>
+          <property name="orientation" >
+           <enum>Qt::Horizontal</enum>
+          </property>
+          <property name="sizeType" >
+           <enum>QSizePolicy::Fixed</enum>
+          </property>
+          <property name="sizeHint" >
+           <size>
+            <width>30</width>
+            <height>20</height>
+           </size>
+          </property>
+         </spacer>
+        </item>
+        <item>
+         <widget class="QLabel" name="label_3" >
+          <property name="text" >
+           <string>Destination:</string>
+          </property>
+         </widget>
+        </item>
+        <item>
+         <widget class="QComboBox" name="comboBoxDestination" >
+          <item>
+           <property name="text" >
+            <string>1:1</string>
+           </property>
+          </item>
+          <item>
+           <property name="text" >
+            <string>4:3</string>
+           </property>
+          </item>
+          <item>
+           <property name="text" >
+            <string>16:9</string>
+           </property>
+          </item>
+         </widget>
+        </item>
+        <item>
+         <spacer>
+          <property name="orientation" >
+           <enum>Qt::Horizontal</enum>
+          </property>
+          <property name="sizeHint" >
+           <size>
+            <width>40</width>
+            <height>20</height>
+           </size>
+          </property>
+         </spacer>
+        </item>
+       </layout>
       </item>
-      <item>
-       <widget class="QSpinBox" name="spinBoxHeight" >
-        <property name="minimum" >
-         <number>1</number>
-        </property>
-        <property name="maximum" >
-         <number>2000</number>
-        </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QCheckBox" name="checkBoxRoundup" >
-        <property name="text" >
-         <string>16 round up</string>
-        </property>
-       </widget>
-      </item>
      </layout>
-    </item>
-    <item row="0" column="0" >
+    </widget>
+   </item>
+   <item>
+    <widget class="QGroupBox" name="groupBox" >
+     <property name="title" >
+      <string>Resize Dimensions</string>
+     </property>
      <layout class="QVBoxLayout" >
-      <property name="spacing" >
-       <number>6</number>
+      <property name="margin" >
+       <number>9</number>
       </property>
-      <property name="leftMargin" >
-       <number>0</number>
-      </property>
-      <property name="topMargin" >
-       <number>0</number>
-      </property>
-      <property name="rightMargin" >
-       <number>0</number>
-      </property>
-      <property name="bottomMargin" >
-       <number>0</number>
-      </property>
-      <item>
-       <widget class="QLabel" name="label" >
-        <property name="text" >
-         <string>Width</string>
-        </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QLabel" name="label_2" >
-        <property name="text" >
-         <string>Height</string>
-        </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QLabel" name="label_7" >
-        <property name="text" >
-         <string/>
-        </property>
-       </widget>
-      </item>
-     </layout>
-    </item>
-    <item row="1" column="1" colspan="2" >
-     <widget class="QSlider" name="horizontalSlider" >
-      <property name="minimum" >
-       <number>10</number>
-      </property>
-      <property name="maximum" >
-       <number>150</number>
-      </property>
-      <property name="orientation" >
-       <enum>Qt::Horizontal</enum>
-      </property>
-     </widget>
-    </item>
-    <item row="0" column="2" >
-     <layout class="QVBoxLayout" >
       <property name="spacing" >
        <number>6</number>
       </property>
-      <property name="leftMargin" >
-       <number>0</number>
-      </property>
-      <property name="topMargin" >
-       <number>0</number>
-      </property>
-      <property name="rightMargin" >
-       <number>0</number>
-      </property>
-      <property name="bottomMargin" >
-       <number>0</number>
-      </property>
       <item>
-       <widget class="QLabel" name="label_4" >
-        <property name="text" >
-         <string>Source A:R</string>
+       <layout class="QHBoxLayout" >
+        <property name="margin" >
+         <number>0</number>
         </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QLabel" name="label_3" >
-        <property name="text" >
-         <string>Destination A/R</string>
+        <property name="spacing" >
+         <number>6</number>
         </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QLabel" name="label_6" >
-        <property name="text" >
-         <string>Resize Method</string>
-        </property>
-       </widget>
-      </item>
-     </layout>
-    </item>
-    <item row="1" column="0" >
-     <widget class="QLabel" name="label_5" >
-      <property name="text" >
-       <string>Percent</string>
-      </property>
-     </widget>
-    </item>
-    <item row="0" column="3" >
-     <layout class="QVBoxLayout" >
-      <property name="spacing" >
-       <number>6</number>
-      </property>
-      <property name="leftMargin" >
-       <number>0</number>
-      </property>
-      <property name="topMargin" >
-       <number>0</number>
-      </property>
-      <property name="rightMargin" >
-       <number>0</number>
-      </property>
-      <property name="bottomMargin" >
-       <number>0</number>
-      </property>
-      <item>
-       <widget class="QComboBox" name="comboBoxSource" >
         <item>
-         <property name="text" >
-          <string>1:1</string>
-         </property>
+         <widget class="QLabel" name="label" >
+          <property name="text" >
+           <string>Width:</string>
+          </property>
+         </widget>
         </item>
         <item>
-         <property name="text" >
-          <string>4:3</string>
-         </property>
+         <widget class="QSpinBox" name="spinBoxWidth" >
+          <property name="maximum" >
+           <number>2900</number>
+          </property>
+          <property name="minimum" >
+           <number>16</number>
+          </property>
+          <property name="singleStep" >
+           <number>2</number>
+          </property>
+         </widget>
         </item>
         <item>
-         <property name="text" >
-          <string>16:9</string>
-         </property>
+         <spacer>
+          <property name="orientation" >
+           <enum>Qt::Horizontal</enum>
+          </property>
+          <property name="sizeType" >
+           <enum>QSizePolicy::Fixed</enum>
+          </property>
+          <property name="sizeHint" >
+           <size>
+            <width>30</width>
+            <height>20</height>
+           </size>
+          </property>
+         </spacer>
         </item>
-       </widget>
-      </item>
-      <item>
-       <widget class="QComboBox" name="comboBoxDestination" >
         <item>
-         <property name="text" >
-          <string>1:1</string>
-         </property>
+         <widget class="QLabel" name="label_2" >
+          <property name="text" >
+           <string>Height:</string>
+          </property>
+         </widget>
         </item>
         <item>
-         <property name="text" >
-          <string>4:3</string>
-         </property>
+         <widget class="QSpinBox" name="spinBoxHeight" >
+          <property name="maximum" >
+           <number>2000</number>
+          </property>
+          <property name="minimum" >
+           <number>16</number>
+          </property>
+          <property name="singleStep" >
+           <number>2</number>
+          </property>
+         </widget>
         </item>
         <item>
-         <property name="text" >
-          <string>16:9</string>
-         </property>
+         <spacer>
+          <property name="orientation" >
+           <enum>Qt::Horizontal</enum>
+          </property>
+          <property name="sizeHint" >
+           <size>
+            <width>40</width>
+            <height>20</height>
+           </size>
+          </property>
+         </spacer>
         </item>
+       </layout>
+      </item>
+      <item>
+       <widget class="QCheckBox" name="checkBoxRoundup" >
+        <property name="text" >
+         <string>Round to the Nearest Multiple of 16</string>
+        </property>
        </widget>
       </item>
       <item>
-       <widget class="QComboBox" name="comboBoxAlgo" >
+       <spacer>
+        <property name="orientation" >
+         <enum>Qt::Vertical</enum>
+        </property>
+        <property name="sizeType" >
+         <enum>QSizePolicy::Fixed</enum>
+        </property>
+        <property name="sizeHint" >
+         <size>
+          <width>312</width>
+          <height>4</height>
+         </size>
+        </property>
+       </spacer>
+      </item>
+      <item>
+       <layout class="QVBoxLayout" >
+        <property name="margin" >
+         <number>0</number>
+        </property>
+        <property name="spacing" >
+         <number>6</number>
+        </property>
         <item>
-         <property name="text" >
-          <string>Bilinear</string>
-         </property>
+         <layout class="QHBoxLayout" >
+          <property name="margin" >
+           <number>0</number>
+          </property>
+          <property name="spacing" >
+           <number>12</number>
+          </property>
+          <item>
+           <layout class="QVBoxLayout" >
+            <property name="margin" >
+             <number>0</number>
+            </property>
+            <property name="spacing" >
+             <number>6</number>
+            </property>
+            <item>
+             <layout class="QHBoxLayout" >
+              <property name="margin" >
+               <number>0</number>
+              </property>
+              <property name="spacing" >
+               <number>6</number>
+              </property>
+              <item>
+               <widget class="QLabel" name="label_8" >
+                <property name="text" >
+                 <string>1%</string>
+                </property>
+               </widget>
+              </item>
+              <item>
+               <spacer>
+                <property name="orientation" >
+                 <enum>Qt::Horizontal</enum>
+                </property>
+                <property name="sizeHint" >
+                 <size>
+                  <width>40</width>
+                  <height>20</height>
+                 </size>
+                </property>
+               </spacer>
+              </item>
+              <item>
+               <widget class="QLabel" name="label_5" >
+                <property name="text" >
+                 <string>Percent</string>
+                </property>
+               </widget>
+              </item>
+              <item>
+               <spacer>
+                <property name="orientation" >
+                 <enum>Qt::Horizontal</enum>
+                </property>
+                <property name="sizeHint" >
+                 <size>
+                  <width>40</width>
+                  <height>20</height>
+                 </size>
+                </property>
+               </spacer>
+              </item>
+              <item>
+               <widget class="QLabel" name="label_9" >
+                <property name="text" >
+                 <string>200%</string>
+                </property>
+               </widget>
+              </item>
+             </layout>
+            </item>
+            <item>
+             <widget class="QSlider" name="horizontalSlider" >
+              <property name="minimum" >
+               <number>1</number>
+              </property>
+              <property name="maximum" >
+               <number>200</number>
+              </property>
+              <property name="value" >
+               <number>100</number>
+              </property>
+              <property name="orientation" >
+               <enum>Qt::Horizontal</enum>
+              </property>
+             </widget>
+            </item>
+           </layout>
+          </item>
+          <item>
+           <widget class="QSpinBox" name="percentageSpinBox" >
+            <property name="maximum" >
+             <number>200</number>
+            </property>
+            <property name="minimum" >
+             <number>1</number>
+            </property>
+            <property name="value" >
+             <number>100</number>
+            </property>
+           </widget>
+          </item>
+         </layout>
         </item>
         <item>
-         <property name="text" >
-          <string>Bicubic</string>
-         </property>
+         <layout class="QHBoxLayout" >
+          <property name="margin" >
+           <number>0</number>
+          </property>
+          <property name="spacing" >
+           <number>6</number>
+          </property>
+          <item>
+           <widget class="QLabel" name="label_10" >
+            <property name="text" >
+             <string>Error X / Y:</string>
+            </property>
+           </widget>
+          </item>
+          <item>
+           <widget class="QLabel" name="labelErrorXY" >
+            <property name="text" >
+             <string>0.00 / 0.00</string>
+            </property>
+           </widget>
+          </item>
+          <item>
+           <spacer>
+            <property name="orientation" >
+             <enum>Qt::Horizontal</enum>
+            </property>
+            <property name="sizeHint" >
+             <size>
+              <width>40</width>
+              <height>20</height>
+             </size>
+            </property>
+           </spacer>
+          </item>
+         </layout>
         </item>
-        <item>
-         <property name="text" >
-          <string>Lanzcos3</string>
-         </property>
-        </item>
-       </widget>
+       </layout>
       </item>
      </layout>
-    </item>
-    <item row="2" column="0" colspan="4" >
-     <widget class="QDialogButtonBox" name="buttonBox" >
-      <property name="orientation" >
-       <enum>Qt::Horizontal</enum>
-      </property>
-      <property name="standardButtons" >
-       <set>QDialogButtonBox::Cancel|QDialogButtonBox::NoButton|QDialogButtonBox::Ok</set>
-      </property>
-     </widget>
-    </item>
-   </layout>
-  </widget>
+    </widget>
+   </item>
+   <item>
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Vertical</enum>
+     </property>
+     <property name="sizeType" >
+      <enum>QSizePolicy::Fixed</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>332</width>
+       <height>6</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+   <item>
+    <layout class="QHBoxLayout" >
+     <property name="margin" >
+      <number>0</number>
+     </property>
+     <property name="spacing" >
+      <number>6</number>
+     </property>
+     <item>
+      <widget class="QLabel" name="label_6" >
+       <property name="text" >
+        <string>Resize Method:</string>
+       </property>
+      </widget>
+     </item>
+     <item>
+      <widget class="QComboBox" name="comboBoxAlgo" >
+       <item>
+        <property name="text" >
+         <string>Bilinear</string>
+        </property>
+       </item>
+       <item>
+        <property name="text" >
+         <string>Bicubic</string>
+        </property>
+       </item>
+       <item>
+        <property name="text" >
+         <string>Lanzcos3</string>
+        </property>
+       </item>
+      </widget>
+     </item>
+     <item>
+      <spacer>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+       <property name="sizeHint" >
+        <size>
+         <width>40</width>
+         <height>20</height>
+        </size>
+       </property>
+      </spacer>
+     </item>
+    </layout>
+   </item>
+   <item>
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Vertical</enum>
+     </property>
+     <property name="sizeType" >
+      <enum>QSizePolicy::MinimumExpanding</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>20</width>
+       <height>16</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+   <item>
+    <widget class="QDialogButtonBox" name="buttonBox" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="standardButtons" >
+      <set>QDialogButtonBox::Cancel|QDialogButtonBox::NoButton|QDialogButtonBox::Ok</set>
+     </property>
+    </widget>
+   </item>
+  </layout>
  </widget>
+ <tabstops>
+  <tabstop>lockArCheckBox</tabstop>
+  <tabstop>comboBoxSource</tabstop>
+  <tabstop>comboBoxDestination</tabstop>
+  <tabstop>spinBoxWidth</tabstop>
+  <tabstop>spinBoxHeight</tabstop>
+  <tabstop>checkBoxRoundup</tabstop>
+  <tabstop>horizontalSlider</tabstop>
+  <tabstop>percentageSpinBox</tabstop>
+  <tabstop>comboBoxAlgo</tabstop>
+  <tabstop>buttonBox</tabstop>
+ </tabstops>
  <resources/>
  <connections>
   <connection>
    <sender>buttonBox</sender>
-   <signal>accepted()</signal>
+   <signal>rejected()</signal>
    <receiver>resizeDialog</receiver>
-   <slot>accept()</slot>
+   <slot>reject()</slot>
    <hints>
     <hint type="sourcelabel" >
-     <x>248</x>
-     <y>254</y>
+     <x>316</x>
+     <y>260</y>
     </hint>
     <hint type="destinationlabel" >
-     <x>157</x>
+     <x>286</x>
      <y>274</y>
     </hint>
    </hints>
   </connection>
   <connection>
-   <sender>buttonBox</sender>
-   <signal>rejected()</signal>
-   <receiver>resizeDialog</receiver>
-   <slot>reject()</slot>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_8</receiver>
+   <slot>setEnabled(bool)</slot>
    <hints>
     <hint type="sourcelabel" >
-     <x>316</x>
-     <y>260</y>
+     <x>184</x>
+     <y>117</y>
     </hint>
     <hint type="destinationlabel" >
-     <x>286</x>
-     <y>274</y>
+     <x>39</x>
+     <y>148</y>
     </hint>
    </hints>
   </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_5</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>184</x>
+     <y>117</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>150</x>
+     <y>148</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_9</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>184</x>
+     <y>117</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>267</x>
+     <y>148</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>horizontalSlider</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>184</x>
+     <y>117</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>156</x>
+     <y>164</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>percentageSpinBox</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>184</x>
+     <y>117</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>317</x>
+     <y>155</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>checkBoxRoundup</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>184</x>
+     <y>95</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>184</x>
+     <y>117</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_10</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>182</x>
+     <y>155</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>55</x>
+     <y>251</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>labelErrorXY</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>182</x>
+     <y>155</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>114</x>
+     <y>251</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_4</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>182</x>
+     <y>69</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>46</x>
+     <y>95</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>comboBoxSource</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>182</x>
+     <y>69</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>94</x>
+     <y>95</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_3</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>182</x>
+     <y>69</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>188</x>
+     <y>95</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>lockArCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>comboBoxDestination</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>182</x>
+     <y>69</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>247</x>
+     <y>95</y>
+    </hint>
+   </hints>
+  </connection>
  </connections>
 </ui>



From gruntster at mail.berlios.de  Sun Sep 14 01:13:09 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sun, 14 Sep 2008 01:13:09 +0200
Subject: [Avidemux-svn-commit] r4333 - in
	branches/avidemux_2.5_branch_gruntster/avidemux:
	ADM_UIs/ADM_QT4/src ADM_coreImage/include
	ADM_userInterfaces/ADM_GTK/ADM_filters
	ADM_userInterfaces/ADM_NONE/ADM_gui2
	ADM_userInterfaces/ADM_QT4/ADM_filters
	ADM_userInterfaces/ADM_QT4/ADM_gui
Message-ID: <200809132313.m8DND9bQ026890@sheep.berlios.de>

Author: gruntster
Date: 2008-09-14 01:12:54 +0200 (Sun, 14 Sep 2008)
New Revision: 4333

Added:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/seekablePreview.ui
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/preview.ui
Removed:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/seekablePreview.ui
Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/T_dialogFactory.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/T_flyDialogQt4.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreImage/include/ADM_videoFilter.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/preview_none.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
Log:
[Merge] integrate changes from 2.4 branch (r4320)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/T_dialogFactory.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/T_dialogFactory.cpp	2008-09-13 21:20:26 UTC (rev 4332)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/T_dialogFactory.cpp	2008-09-13 23:12:54 UTC (rev 4333)
@@ -24,13 +24,7 @@
 #include "DIA_coreUI_internal.h"
 
 static void insertTab(uint32_t index, diaElemTabs *tab, QTabWidget *wtab);
-factoryWindow::factoryWindow()     : QDialog()
- {
-//     ui.setupUi(this);
-     //connect( (ui.pushButton),SIGNAL(pressed()),this,SLOT(buttonPressed()));
- }
 
-
 /**
     \fn qt4DiaFactoryRun(const char *title,uint32_t nb,diaElem **elems)
     \brief  Run a dialog made of nb elems, each elem being described in the **elems
@@ -39,7 +33,7 @@
 
 uint8_t qt4DiaFactoryRun(const char *title,uint32_t nb,diaElem **elems)
 {
-  factoryWindow dialog;
+  QDialog dialog;
   
   ADM_assert(title);
   ADM_assert(nb);
@@ -47,16 +41,11 @@
   
   dialog.setWindowTitle(QString::fromUtf8(title));
   
-  QGridLayout layout(&dialog);
+  QVBoxLayout vboxLayout;
+  QGridLayout layout;
   
-  /* First compute the size of our window */
-  int vsize=0;
-  for(int i=0;i<nb;i++)
-  {
-    ADM_assert(elems[i]);
-     vsize+=elems[i]->getSize(); 
-  }
-
+  vboxLayout.addLayout(&layout);
+  
  int  v=0;
   for(int i=0;i<nb;i++)
   {
@@ -70,15 +59,15 @@
     ADM_assert(elems[i]);
      elems[i]->finalize(); 
   }
+
   // Add buttons
-   QDialogButtonBox buttonBox((QWidget *)&dialog);
-    buttonBox.setStandardButtons(QDialogButtonBox::Ok
-                            | QDialogButtonBox::Cancel);
+   QDialogButtonBox buttonBox(&dialog);
+    buttonBox.setStandardButtons(QDialogButtonBox::Ok | QDialogButtonBox::Cancel);
      QObject::connect(&buttonBox, SIGNAL(accepted()), &dialog, SLOT(accept()));
      QObject::connect(&buttonBox, SIGNAL(rejected()), &dialog, SLOT(reject()));
-     layout.addWidget(&buttonBox,vsize,0);
-  // run
-  dialog.setLayout(&layout);
+     vboxLayout.addWidget(&buttonBox);
+	 dialog.setLayout(&vboxLayout);
+
   if(dialog.exec()==QDialog::Accepted)
   {
      for(int i=0;i<nb;i++)
@@ -110,7 +99,7 @@
  */
 uint8_t qt4DiaFactoryRunTabs(const char *title,uint32_t nb,diaElemTabs **tabs)
 {
-    factoryWindow dialog;
+    QDialog dialog;
   
   ADM_assert(title);
   ADM_assert(nb);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/T_flyDialogQt4.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/T_flyDialogQt4.cpp	2008-09-13 21:20:26 UTC (rev 4332)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/T_flyDialogQt4.cpp	2008-09-13 23:12:54 UTC (rev 4333)
@@ -32,11 +32,12 @@
 {
 	QWidget *graphicsView = ((ADM_QCanvas*)_canvas)->parentWidget();
 	QSlider  *slider=(QSlider *)_slider;
-	
+
 	graphicsView->setMinimumSize(_w, _h);
 	graphicsView->resize(_w, _h);
-	uint32_t nbFrames=_in->getInfo()->nb_frames; 
-	slider->setMaximum(nbFrames);
+
+	if (slider)
+		slider->setMaximum(_in->getInfo()->nb_frames);
 }
 
 float ADM_flyDialogQt4::calcZoomFactor(void) {return 1;}

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreImage/include/ADM_videoFilter.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreImage/include/ADM_videoFilter.h	2008-09-13 21:20:26 UTC (rev 4332)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreImage/include/ADM_videoFilter.h	2008-09-13 23:12:54 UTC (rev 4333)
@@ -135,7 +135,6 @@
 uint8_t  DIA_previewUpdate(uint8_t *data);
 void 	 DIA_previewEnd(void);
 uint8_t  DIA_previewStillAlive(void);
-uint8_t	 DIA_filterPreview(const char *captionText, AVDMGenericVideoStream *videoStream, uint32_t frame);
 
  // Pseudo class used to register filters automagically
  // Does not work atm

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp	2008-09-13 21:20:26 UTC (rev 4332)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp	2008-09-13 23:12:54 UTC (rev 4333)
@@ -49,6 +49,7 @@
 						    AVDMGenericVideoStream *
 						    in);
 extern const char  *filterGetNameFromTag(VF_FILTERS tag);
+extern uint8_t DIA_filterPreview(const char *captionText, AVDMGenericVideoStream *videoStream, uint32_t frame);
 //___________________________________________
 extern FILTER videofilters[VF_MAX_FILTER];
 extern uint32_t nb_active_filter;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/preview_none.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/preview_none.cpp	2008-09-13 21:20:26 UTC (rev 4332)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ADM_gui2/preview_none.cpp	2008-09-13 23:12:54 UTC (rev 4333)
@@ -23,4 +23,3 @@
 uint8_t DIA_previewUpdate(uint8_t *buffer) {return 1;}
 void DIA_previewEnd(void) {}
 uint8_t DIA_previewStillAlive(void) {return 1;}
-uint8_t DIA_filterPreview(const char *captionText, AVDMGenericVideoStream *videoStream, uint32_t frame) {}

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt	2008-09-13 21:20:26 UTC (rev 4332)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/CMakeLists.txt	2008-09-13 23:12:54 UTC (rev 4333)
@@ -1,11 +1,11 @@
 SET(ADM_LIB ADM_filtersQt4)
 
-QT4_WRAP_UI(${ADM_LIB}_header  mainfilter.ui)
-QT4_WRAP_CPP(${ADM_LIB}_source  Q_mainfilter.h)
+QT4_WRAP_UI(${ADM_LIB}_header  mainfilter.ui  seekablePreview.ui)
+QT4_WRAP_CPP(${ADM_LIB}_source  Q_mainfilter.h  Q_seekablePreview.h)
 QT4_ADD_RESOURCES(${ADM_LIB}_resource  filter.qrc)
 
 SET(${ADM_LIB}_SRCS
-	filter_none.cpp  Q_mainfilter.cpp  ${${ADM_LIB}_header}  ${${ADM_LIB}_source}  ${${ADM_LIB}_resource})
+	filter_none.cpp  Q_mainfilter.cpp  Q_seekablePreview.cpp ${${ADM_LIB}_header}  ${${ADM_LIB}_source}  ${${ADM_LIB}_resource})
 
 INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR})
 ADD_ADM_LIB_QT4_TARGET(${ADM_LIB} ${${ADM_LIB}_SRCS})
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-13 21:20:26 UTC (rev 4332)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-13 23:12:54 UTC (rev 4333)
@@ -52,6 +52,7 @@
 #define EXTERNAL_FILTER_BASE  2000
 #define ACTIVE_FILTER_BASE    3000
 /******************************************************/
+extern QWidget *QuiMainWindows;
 extern FILTER videofilters[VF_MAX_FILTER];
 extern uint32_t nb_active_filter;
 extern std::vector <FilterDescriptor *> allfilters;
@@ -132,9 +133,32 @@
 	ADM_assert(itag > ACTIVE_FILTER_BASE);
 	itag -= ACTIVE_FILTER_BASE;
 
-	DIA_filterPreview(QT_TR_NOOP("Preview"), videofilters[itag].filter, curframe);
+	if (previewDialog)
+		previewDialog->resetVideoStream(videofilters[itag].filter);
+	else
+	{
+		previewDialog = new Ui_seekablePreviewWindow(this, videofilters[itag].filter, previewFrameIndex);
+
+		if (previewDialogX != INT_MIN)
+			previewDialog->move(previewDialogX, previewDialogY);
+	}
+
+	previewDialog->show();
 }
 
+void filtermainWindow::closePreview()
+{
+	if (previewDialog)
+	{
+		previewFrameIndex = previewDialog->frameIndex();
+		previewDialogX = previewDialog->x();
+		previewDialogY = previewDialog->y();
+
+		delete previewDialog;
+		previewDialog = NULL;
+	}
+}
+
 /**
         \fn     void setSelected(int sel)
         \brief  Set the sel line as selected in the active filter window
@@ -181,12 +205,19 @@
             delete videofilters[nb_active_filter].filter;
             return;
         }
+
+		bool previewDialogOpen = (previewDialog != NULL);
+
+		closePreview();
         videofilters[nb_active_filter].filter->getCoupledConf (&coup);
         videofilters[nb_active_filter].tag = tag;
         videofilters[nb_active_filter].conf = coup;
         nb_active_filter++;
 		buildActiveFilterList();
         setSelected(nb_active_filter - 1);
+
+		if (previewDialogOpen)
+			preview(true);
    }
 
 }
@@ -204,7 +235,11 @@
       printf("No selection\n");
       return;
    }
-    
+
+   bool previewDialogOpen = (previewDialog != NULL);
+
+   closePreview();
+
      int itag=item->type();
      ADM_assert(itag>ACTIVE_FILTER_BASE);
      itag-=ACTIVE_FILTER_BASE;
@@ -241,15 +276,25 @@
               else
                   setSelected(nb_active_filter-1);
             }
-  
+
+			if (previewDialogOpen)
+				preview(true);
 }
 #define MAKE_BUTTON(button,call) \
 void filtermainWindow::button( bool b) \
 { \
-    call(); \
-    getFirstVideoFilter (); \
-    buildActiveFilterList ();  \
-	setSelected(nb_active_filter - 1); \
+    if (call()) \
+	{ \
+		bool previewDialogOpen = (previewDialog != NULL); \
+\
+		closePreview(); \
+		getFirstVideoFilter (); \
+		buildActiveFilterList ();  \
+		setSelected(nb_active_filter - 1); \
+\
+		if (previewDialogOpen) \
+			preview(true); \
+	} \
 }
 MAKE_BUTTON(DVD,setDVD)
 MAKE_BUTTON(VCD,setVCD)
@@ -279,6 +324,11 @@
      /**/
      
         if(!videofilters[itag].filter->configure (videofilters[itag - 1].filter)) return;
+
+		bool previewDialogOpen = (previewDialog != NULL);
+
+		closePreview();
+
         /* Recreate chain if needed , config has changed */
         CONFcouple *couple;
         videofilters[itag].filter->getCoupledConf (&couple);
@@ -286,6 +336,9 @@
         getFirstVideoFilter ();
         buildActiveFilterList ();
 		setSelected(itag);
+
+		if (previewDialogOpen)
+			preview(true);
 }
 /**
         \fn     up( bool b)
@@ -308,6 +361,11 @@
      ADM_assert(itag);
      
      if (itag < 2) return;
+
+	 bool previewDialogOpen = (previewDialog != NULL);
+
+	 closePreview();
+
         // swap action parameter & action parameter -1
         FILTER tmp;
         memcpy (&tmp, &videofilters[itag - 1], sizeof (FILTER));
@@ -317,6 +375,9 @@
         getFirstVideoFilter ();
         buildActiveFilterList ();
         setSelected(itag-1);
+
+		if (previewDialogOpen)
+			preview(true);
 }
 /**
         \fn     down( bool b)
@@ -340,6 +401,10 @@
      
     if (((int) itag < (int) (nb_active_filter - 1)) && (itag))
         {
+			bool previewDialogOpen = (previewDialog != NULL);
+
+			closePreview();
+
             // swap action parameter & action parameter -1
             FILTER tmp;
             memcpy (&tmp, &videofilters[itag + 1], sizeof (FILTER));
@@ -349,6 +414,9 @@
             getFirstVideoFilter ();
             buildActiveFilterList ();
             setSelected(itag+1);
+
+			if (previewDialogOpen)
+				preview(true);
         }
 }
 /**
@@ -356,17 +424,14 @@
         \brief  Select family among color etc... 
 */
 
-void filtermainWindow::filterFamilyClick(QListWidgetItem *item)
+void filtermainWindow::filterFamilyItemChanged(QListWidgetItem *current, QListWidgetItem *previous)
 {
-    int family= ui.listFilterCategory->currentRow();
-    if(family>=0)
-        displayFamily(family);
+	int family = ui.listFilterCategory->currentRow();
+
+	if(family >= 0)
+		displayFamily(family);
 }
-void filtermainWindow::filterFamilyClick(int  m)
-{
-        if(m>=0)
-                displayFamily(m);
-}
+
 void filtermainWindow::displayFamily(uint32_t family)
 {
   printf("Family :%u\n",family);
@@ -389,6 +454,19 @@
 	  availableList->setCurrentRow(0);
 }
 
+void filtermainWindow::activeItemChanged(QListWidgetItem *current, QListWidgetItem *previous)
+{
+	if (previewDialog && previewDialog->isVisible())
+	{
+		int itag = current->type();
+
+		ADM_assert(itag > ACTIVE_FILTER_BASE);
+		itag -= ACTIVE_FILTER_BASE;
+
+		previewDialog->resetVideoStream(videofilters[itag].filter);
+	}
+}
+
 /**
         \fn     filtermainWindow::activeDoubleClick( QListWidgetItem  *item)
         \brief  One of the active window has been double clicked, call configure
@@ -444,6 +522,10 @@
         
         if(replace->configure (videofilters[itag - 1].filter))
         {
+			bool previewDialogOpen = (previewDialog != NULL);
+
+			closePreview();
+
             delete videofilters[itag].filter;
             if (conf) delete conf;
             videofilters[itag].filter = replace;
@@ -453,9 +535,47 @@
             getFirstVideoFilter ();
             buildActiveFilterList ();
 			setSelected(itag);
+
+			if (previewDialogOpen)
+				preview(true);
         }
         else delete replace;
 }
+
+void filtermainWindow::loadScript(bool)
+{
+	bool previewDialogOpen = (previewDialog != NULL);
+
+	closePreview();
+
+#ifdef USE_LIBXML2
+	GUI_FileSelRead (QT_TR_NOOP("Load set of filters"), filterLoadXml);
+#else
+	GUI_FileSelRead (QT_TR_NOOP("Load set of filters"), filterLoad);
+#endif
+
+	getFirstVideoFilter ();
+	buildActiveFilterList ();
+	setSelected(nb_active_filter - 1);
+
+	if (previewDialogOpen)
+		preview(true);
+}
+
+void filtermainWindow::saveScript(bool)
+{
+	if (nb_active_filter < 2)
+	{
+		GUI_Error_HIG (QT_TR_NOOP("Nothing to save"), NULL);
+	}
+	else
+#ifdef USE_LIBXML2
+		GUI_FileSelWrite(QT_TR_NOOP("Save set of filters"), filterSaveXml);
+#else
+		GUI_FileSelWrite(QT_TR_NOOP("Save set of filters"), filterSave);
+#endif
+}
+
 /**
         \fn setup
         \brief Prepare 
@@ -496,29 +616,39 @@
 }
   /**
   */
-filtermainWindow::filtermainWindow()     : QDialog()
+filtermainWindow::filtermainWindow(QWidget* parent) : QDialog(parent)
  {
         
     ui.setupUi(this);
-    setupFilters();  
-      
+    setupFilters();
+
+	previewDialog = NULL;
+	previewDialogX = INT_MIN;
+	previewDialogY = INT_MIN;
+	previewFrameIndex = curframe;
+
     availableList=ui.listWidgetAvailable;
     activeList=ui.listWidgetActive;
-    connect(ui.listFilterCategory,SIGNAL(itemDoubleClicked(QListWidgetItem *)),
-                this,SLOT(filterFamilyClick(QListWidgetItem *)));
-    connect(ui.listFilterCategory,SIGNAL(itemClicked(QListWidgetItem *)),
-                this,SLOT(filterFamilyClick(QListWidgetItem *)));
 
+	ui.buttonBox->button(QDialogButtonBox::Close)->setDefault(true);
+	ui.buttonBox->addButton(ui.pushButtonPreview, QDialogButtonBox::ActionRole);
+
+	connect(ui.listFilterCategory, SIGNAL(currentItemChanged(QListWidgetItem*, QListWidgetItem*)), this, SLOT(filterFamilyItemChanged(QListWidgetItem*, QListWidgetItem *)));
+
     connect(activeList,SIGNAL(itemDoubleClicked(QListWidgetItem *)),this,SLOT(activeDoubleClick(QListWidgetItem *)));
+	connect(activeList, SIGNAL(currentItemChanged(QListWidgetItem*, QListWidgetItem*)), this, SLOT(activeItemChanged(QListWidgetItem*, QListWidgetItem*)));
     connect(availableList,SIGNAL(itemDoubleClicked(QListWidgetItem *)),this,SLOT(allDoubleClick(QListWidgetItem *)));
-    
+
     connect((ui.toolButtonConfigure),SIGNAL(clicked(bool)),this,SLOT(configure(bool)));
     connect((ui.toolButtonAdd),SIGNAL(clicked(bool)),this,SLOT(add(bool)));
     connect((ui.pushButtonRemove),SIGNAL(clicked(bool)),this,SLOT(remove(bool)));
     connect((ui.toolButtonUp),SIGNAL(clicked(bool)),this,SLOT(up(bool)));
     connect((ui.toolButtonDown),SIGNAL(clicked(bool)),this,SLOT(down(bool)));
     connect((ui.toolButtonPartial),SIGNAL(clicked(bool)),this,SLOT(partial(bool)));
-    connect(ui.buttonClose, SIGNAL(clicked(bool)), this, SLOT(accept()));
+
+	connect(ui.toolButtonLoad, SIGNAL(clicked(bool)), this, SLOT(loadScript(bool)));
+	connect(ui.toolButtonSaveScript, SIGNAL(clicked(bool)), this, SLOT(saveScript(bool)));
+
     connect(ui.pushButtonDVD, SIGNAL(clicked(bool)), this, SLOT(DVD(bool)));
     connect(ui.pushButtonVCD, SIGNAL(clicked(bool)), this, SLOT(VCD(bool)));
     connect(ui.pushButtonSVCD, SIGNAL(clicked(bool)), this, SLOT(SVCD(bool)));
@@ -532,6 +662,12 @@
     buildActiveFilterList();
 	setSelected(nb_active_filter - 1);
  }
+
+filtermainWindow::~filtermainWindow()
+{
+	if (previewDialog)
+		delete previewDialog;
+}
 /*******************************************************/
 
 int GUI_handleVFilter(void);
@@ -545,10 +681,10 @@
 */
 int GUI_handleVFilter(void)
 {
-        filtermainWindow dialog;
-        if(QDialog::Accepted==dialog.exec())
-        {
-        }
+	filtermainWindow dialog(QuiMainWindows);
+
+	dialog.exec();
+
 	return 0;
 }
 /** 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.h	2008-09-13 21:20:26 UTC (rev 4332)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.h	2008-09-13 23:12:54 UTC (rev 4333)
@@ -3,6 +3,7 @@
 
 #include <QtGui/QItemDelegate>
 #include "ui_mainfilter.h"
+#include "Q_seekablePreview.h"
 
 class FilterItemEventFilter : public QObject
 {
@@ -32,7 +33,8 @@
 	Q_OBJECT
 
 public:
-	filtermainWindow();
+	filtermainWindow(QWidget *parent);
+	~filtermainWindow();
 	void buildActiveFilterList(void);
 
 	Ui_mainFilterDialog ui;
@@ -50,15 +52,22 @@
 	void remove(bool b);
 	void configure(bool b);
 	void partial(bool b);
+	void loadScript(bool b);
+	void saveScript(bool b);
 	void activeDoubleClick( QListWidgetItem  *item);
+	void activeItemChanged(QListWidgetItem *current, QListWidgetItem *previous);
 	void allDoubleClick( QListWidgetItem  *item);
-	void filterFamilyClick(QListWidgetItem *item);
-	void filterFamilyClick(int  item);
+	void filterFamilyItemChanged(QListWidgetItem *current, QListWidgetItem *previous);
 	void preview(bool b);
 
 private:
+	uint32_t previewFrameIndex;
+	int previewDialogX, previewDialogY;
+	Ui_seekablePreviewWindow *previewDialog;
+
 	void setSelected(int sel);
 	void displayFamily(uint32_t family);
 	void setupFilters(void);
+	void closePreview();
 };
 #endif	// Q_mainfilter_h

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.cpp (from rev 4320, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.cpp	2008-09-09 01:00:20 UTC (rev 4320)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.cpp	2008-09-13 23:12:54 UTC (rev 4333)
@@ -0,0 +1,67 @@
+/***************************************************************************
+                           Q_seekablePreview.cpp
+                           ---------------------
+
+    begin                : Fri Sep 5 2008
+    copyright            : (C) 2008 by gruntster
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include "Q_seekablePreview.h"
+
+Ui_seekablePreviewWindow::Ui_seekablePreviewWindow(QWidget *parent, AVDMGenericVideoStream *videoStream, uint32_t defaultFrame) : QDialog(parent)
+{
+	ui.setupUi(this);
+
+	seekablePreview = NULL;
+	canvas = NULL;
+
+	resetVideoStream(videoStream);
+	seekablePreview->sliderSet(defaultFrame);
+	seekablePreview->sliderChanged();
+
+	connect(ui.horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(sliderChanged(int)));
+}
+
+Ui_seekablePreviewWindow::~Ui_seekablePreviewWindow()
+{
+	delete seekablePreview;
+	delete canvas;
+}
+
+void Ui_seekablePreviewWindow::resetVideoStream(AVDMGenericVideoStream *videoStream)
+{
+	if (seekablePreview)
+		delete seekablePreview;
+
+	if (canvas)
+		delete canvas;
+
+	uint32_t canvasWidth = videoStream->getInfo()->width;
+	uint32_t canvasHeight = videoStream->getInfo()->height;
+
+	canvas = new ADM_QCanvas(ui.frame, canvasWidth, canvasHeight);
+	canvas->show();
+	seekablePreview = new flySeekablePreview(canvasWidth, canvasHeight, videoStream, canvas, ui.horizontalSlider);	
+
+	seekablePreview->process();
+	seekablePreview->sliderChanged();
+}
+
+void Ui_seekablePreviewWindow::sliderChanged(int value)
+{
+	seekablePreview->sliderChanged();
+}
+
+uint32_t Ui_seekablePreviewWindow::frameIndex()
+{
+	return seekablePreview->sliderGet();
+}
\ No newline at end of file

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.h (from rev 4320, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.h)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.h	2008-09-09 01:00:20 UTC (rev 4320)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.h	2008-09-13 23:12:54 UTC (rev 4333)
@@ -0,0 +1,40 @@
+/***************************************************************************
+                            Q_seekablePreview.h
+                            -------------------
+
+    begin                : Fri Sep 5 2008
+    copyright            : (C) 2008 by gruntster
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include "ui_seekablePreview.h"
+
+#include "ADM_assert.h"
+#include "ADM_videofilter.h"
+#include "DIA_flyDialog.h"
+#include "../ADM_dialog/DIA_flyPreview.h"
+
+class Ui_seekablePreviewWindow : public QDialog
+{
+	Q_OBJECT
+
+public:
+	ADM_QCanvas *canvas;
+	flySeekablePreview *seekablePreview;
+	Ui_seekablePreviewDialog ui;
+	Ui_seekablePreviewWindow(QWidget *parent, AVDMGenericVideoStream *videoStream, uint32_t defaultFrame = 0);
+	~Ui_seekablePreviewWindow();
+	void resetVideoStream(AVDMGenericVideoStream *videoStream);
+	uint32_t frameIndex();
+
+public slots:
+	void sliderChanged(int value);
+};

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui	2008-09-13 21:20:26 UTC (rev 4332)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui	2008-09-13 23:12:54 UTC (rev 4333)
@@ -58,7 +58,7 @@
           </size>
          </property>
          <property name="text" >
-          <string>&amp;SVCD res</string>
+          <string>&amp;SVCD Res</string>
          </property>
          <property name="icon" >
           <iconset resource="filter.qrc" >:/new/prefix1/icons/cd.png</iconset>
@@ -70,7 +70,7 @@
          <property name="sizePolicy" >
           <sizepolicy>
            <hsizetype>5</hsizetype>
-           <vsizetype>0</vsizetype>
+           <vsizetype>5</vsizetype>
            <horstretch>0</horstretch>
            <verstretch>0</verstretch>
           </sizepolicy>
@@ -82,7 +82,7 @@
           </size>
          </property>
          <property name="text" >
-          <string>&amp;VCD res</string>
+          <string>&amp;VCD Res</string>
          </property>
          <property name="icon" >
           <iconset resource="filter.qrc" >:/new/prefix1/icons/cd.png</iconset>
@@ -93,8 +93,8 @@
         <widget class="QPushButton" name="pushButtonHalfDVD" >
          <property name="sizePolicy" >
           <sizepolicy>
-           <hsizetype>7</hsizetype>
-           <vsizetype>5</vsizetype>
+           <hsizetype>5</hsizetype>
+           <vsizetype>0</vsizetype>
            <horstretch>0</horstretch>
            <verstretch>0</verstretch>
           </sizepolicy>
@@ -106,7 +106,7 @@
           </size>
          </property>
          <property name="text" >
-          <string>&amp;Half D1 res</string>
+          <string>&amp;Half D1 Res</string>
          </property>
          <property name="icon" >
           <iconset resource="filter.qrc" >:/new/prefix1/icons/cd.png</iconset>
@@ -130,7 +130,7 @@
           </size>
          </property>
          <property name="text" >
-          <string>&amp;DVD res</string>
+          <string>&amp;DVD Res</string>
          </property>
          <property name="icon" >
           <iconset resource="filter.qrc" >:/new/prefix1/icons/cd.png</iconset>
@@ -365,6 +365,9 @@
        </item>
        <item>
         <widget class="QToolButton" name="toolButtonLoad" >
+         <property name="toolTip" >
+          <string>Open Script</string>
+         </property>
          <property name="text" >
           <string>Load</string>
          </property>
@@ -374,17 +377,10 @@
         </widget>
        </item>
        <item>
-        <widget class="QToolButton" name="toolButtonSave" >
-         <property name="text" >
-          <string>Save</string>
+        <widget class="QToolButton" name="toolButtonSaveScript" >
+         <property name="toolTip" >
+          <string>Save Script As</string>
          </property>
-         <property name="icon" >
-          <iconset resource="filter.qrc" >:/new/prefix1/icons/filesave.png</iconset>
-         </property>
-        </widget>
-       </item>
-       <item>
-        <widget class="QToolButton" name="toolButtonSaveScript" >
          <property name="text" >
           <string>Save Script</string>
          </property>
@@ -395,6 +391,9 @@
        </item>
        <item>
         <widget class="QToolButton" name="toolButtonDown" >
+         <property name="toolTip" >
+          <string>Move Filter Down</string>
+         </property>
          <property name="text" >
           <string>Down</string>
          </property>
@@ -405,6 +404,9 @@
        </item>
        <item>
         <widget class="QToolButton" name="toolButtonUp" >
+         <property name="toolTip" >
+          <string>Move Filter Up</string>
+         </property>
          <property name="text" >
           <string>Up</string>
          </property>
@@ -415,6 +417,9 @@
        </item>
        <item>
         <widget class="QToolButton" name="pushButtonRemove" >
+         <property name="toolTip" >
+          <string>Remove Filter</string>
+         </property>
          <property name="text" >
           <string>Remove</string>
          </property>
@@ -448,6 +453,9 @@
        </item>
        <item>
         <widget class="QToolButton" name="toolButtonAdd" >
+         <property name="toolTip" >
+          <string>Add Filter</string>
+         </property>
          <property name="text" >
           <string>Add</string>
          </property>
@@ -524,20 +532,25 @@
         <string>&amp;Preview</string>
        </property>
        <property name="icon" >
-        <iconset resource="filter.qrc" >:/new/prefix1/icons/thumbnail.png</iconset>
+        <iconset/>
        </property>
       </widget>
      </item>
      <item>
-      <widget class="QPushButton" name="buttonClose" >
-       <property name="text" >
-        <string>&amp;Close</string>
+      <widget class="QDialogButtonBox" name="buttonBox" >
+       <property name="sizePolicy" >
+        <sizepolicy>
+         <hsizetype>0</hsizetype>
+         <vsizetype>0</vsizetype>
+         <horstretch>0</horstretch>
+         <verstretch>0</verstretch>
+        </sizepolicy>
        </property>
-       <property name="icon" >
-        <iconset resource="filter.qrc" >:/new/prefix1/icons/close.png</iconset>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
        </property>
-       <property name="default" >
-        <bool>true</bool>
+       <property name="standardButtons" >
+        <set>QDialogButtonBox::Close</set>
        </property>
       </widget>
      </item>
@@ -557,16 +570,31 @@
   <tabstop>toolButtonConfigure</tabstop>
   <tabstop>toolButtonPartial</tabstop>
   <tabstop>toolButtonLoad</tabstop>
-  <tabstop>toolButtonSave</tabstop>
   <tabstop>toolButtonSaveScript</tabstop>
   <tabstop>toolButtonDown</tabstop>
   <tabstop>toolButtonUp</tabstop>
   <tabstop>pushButtonRemove</tabstop>
   <tabstop>pushButtonPreview</tabstop>
-  <tabstop>buttonClose</tabstop>
  </tabstops>
  <resources>
   <include location="filter.qrc" />
  </resources>
- <connections/>
+ <connections>
+  <connection>
+   <sender>buttonBox</sender>
+   <signal>rejected()</signal>
+   <receiver>mainFilterDialog</receiver>
+   <slot>close()</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>872</x>
+     <y>550</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>464</x>
+     <y>300</y>
+    </hint>
+   </hints>
+  </connection>
+ </connections>
 </ui>

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/seekablePreview.ui (from rev 4320, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/seekablePreview.ui)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2008-09-13 21:20:26 UTC (rev 4332)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/CMakeLists.txt	2008-09-13 23:12:54 UTC (rev 4333)
@@ -1,11 +1,11 @@
 SET(ADM_LIB ADM_guiQt4)
 
-QT4_WRAP_UI(${ADM_LIB}_header  gui2.ui  seekablePreview.ui)
-QT4_WRAP_CPP(${ADM_LIB}_source  Q_gui2.h  T_preview.h  ADM_qtray.h  Q_seekablePreview.h)
+QT4_WRAP_UI(${ADM_LIB}_header  gui2.ui  preview.ui)
+QT4_WRAP_CPP(${ADM_LIB}_source  Q_gui2.h  T_preview.h  ADM_qtray.h  Q_preview.h)
 QT4_ADD_RESOURCES(${ADM_LIB}_resource  avidemux.qrc)
 
 SET(${ADM_LIB}_SRCS
-	Q_gui2.cpp  T_preview.cpp  file_qt4.cpp  gui_none.cpp  ADM_qslider.cpp  ADM_qtray.cpp  Q_seekablePreview.cpp
+	Q_gui2.cpp  T_preview.cpp  file_qt4.cpp  gui_none.cpp  ADM_qslider.cpp  ADM_qtray.cpp  Q_preview.cpp
 	${${ADM_LIB}_header}  ${${ADM_LIB}_source}  ${${ADM_LIB}_resource})
 
 INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR}  ${CMAKE_CURRENT_SOURCE_DIR})

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.cpp (from rev 4320, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.cpp	2008-09-09 01:00:20 UTC (rev 4320)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.cpp	2008-09-13 23:12:54 UTC (rev 4333)
@@ -0,0 +1,38 @@
+/***************************************************************************
+                                Q_preview.cpp
+                                -------------
+
+    begin                : Mon Sep 8 2008
+    copyright            : (C) 2008 by gruntster
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include "Q_preview.h"
+
+Ui_previewWindow::Ui_previewWindow(QWidget *parent, int width, int height) : QDialog(parent, Qt::WindowTitleHint)
+{
+	ui.setupUi(this);
+
+	canvas = new ADM_QCanvas(ui.frame, width, height);
+	preview = new flyPreview(width, height, canvas);
+}
+
+Ui_previewWindow::~Ui_previewWindow()
+{
+	delete preview;
+	delete canvas;
+}
+
+void Ui_previewWindow::update(uint8_t *buffer)
+{
+	preview->setData(buffer);
+	preview->display();
+}

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.h (from rev 4320, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.h)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.h	2008-09-09 01:00:20 UTC (rev 4320)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.h	2008-09-13 23:12:54 UTC (rev 4333)
@@ -0,0 +1,34 @@
+/***************************************************************************
+                                Q_preview.h
+                                -----------
+
+    begin                : Mon Sep 8 2008
+    copyright            : (C) 2008 by gruntster
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include "ui_preview.h"
+
+#include "DIA_flyDialog.h"
+#include "../ADM_dialog/DIA_flyPreview.h"
+
+class Ui_previewWindow : public QDialog
+{
+	Q_OBJECT
+
+public:
+	ADM_QCanvas *canvas;
+	flyPreview *preview;
+	Ui_previewDialog ui;
+	Ui_previewWindow(QWidget *parent, int width, int height);
+	~Ui_previewWindow();
+	void update(uint8_t *buffer);
+};

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.cpp	2008-09-13 21:20:26 UTC (rev 4332)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.cpp	2008-09-13 23:12:54 UTC (rev 4333)
@@ -1,52 +0,0 @@
-/***************************************************************************
-                           Q_seekablePreview.cpp
-                           ---------------------
-
-    begin                : Fri Sep 5 2008
-    copyright            : (C) 2008 by gruntster
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include "Q_seekablePreview.h"
-
-Ui_seekablePreviewWindow::Ui_seekablePreviewWindow(AVDMGenericVideoStream *videoStream, uint32_t defaultFrame) : QDialog()
-{
-	ui.setupUi(this);
-
-	uint32_t canvasWidth = videoStream->getInfo()->width;
-	uint32_t canvasHeight = videoStream->getInfo()->height;
-
-	canvas = new ADM_QCanvas(ui.frame, canvasWidth, canvasHeight);
-	seekablePreview = new flySeekablePreview(canvasWidth, canvasHeight, videoStream, canvas, ui.horizontalSlider);
-
-	seekablePreview->process();
-	seekablePreview->sliderSet(defaultFrame);
-	seekablePreview->sliderChanged();
-
-	connect(ui.okButton, SIGNAL(clicked(bool)), this, SLOT(closeWindow()));
-	connect(ui.horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(sliderChanged(int)));
-}
-
-Ui_seekablePreviewWindow::~Ui_seekablePreviewWindow()
-{
-	delete seekablePreview;
-	delete canvas;
-}
-
-void Ui_seekablePreviewWindow::closeWindow()
-{
-	close();
-}
-
-void Ui_seekablePreviewWindow::sliderChanged(int value)
-{
-	seekablePreview->sliderChanged();
-}
\ No newline at end of file

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.h	2008-09-13 21:20:26 UTC (rev 4332)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_seekablePreview.h	2008-09-13 23:12:54 UTC (rev 4333)
@@ -1,39 +0,0 @@
-/***************************************************************************
-                            Q_seekablePreview.h
-                            -------------------
-
-    begin                : Fri Sep 5 2008
-    copyright            : (C) 2008 by gruntster
- ***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include "ui_seekablePreview.h"
-
-#include "ADM_assert.h"
-#include "ADM_videoFilter.h"
-#include "DIA_flyDialog.h"
-#include "../ADM_dialog/DIA_flyPreview.h"
-
-class Ui_seekablePreviewWindow : public QDialog
-{
-	Q_OBJECT
-
-public:
-	ADM_QCanvas *canvas;
-	flySeekablePreview *seekablePreview;
-	Ui_seekablePreviewDialog ui;
-	Ui_seekablePreviewWindow(AVDMGenericVideoStream *videoStream, uint32_t defaultFrame = 0);
-	~Ui_seekablePreviewWindow();
-
-public slots:
-	void closeWindow();
-	void sliderChanged(int value);
-};

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-13 21:20:26 UTC (rev 4332)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-13 23:12:54 UTC (rev 4333)
@@ -15,8 +15,6 @@
  *                                                                         *
  ***************************************************************************/
 
-#include <QtGui/QFrame>
-#include <QtGui/QImage>
 #include <QtGui/QPainter>
 
 /* Probably on unix/X11 ..*/
@@ -27,7 +25,7 @@
 #endif
 
 #include "T_preview.h"
-#include "Q_seekablePreview.h"
+#include "Q_preview.h"
 #include "../ADM_render/GUI_render.h"
 #include "../ADM_render/GUI_accelRender.h"
     
@@ -39,21 +37,41 @@
  
 extern void UI_purge( void );
 
-void DIA_previewInit(uint32_t width, uint32_t height) {}
-uint8_t DIA_previewUpdate(uint8_t *data) {return 1;}
-void DIA_previewEnd(void) {}
-uint8_t DIA_previewStillAlive(void) {return 1;}
+static Ui_previewWindow *previewWindow = NULL;
 
-uint8_t	DIA_filterPreview(const char *captionText, AVDMGenericVideoStream *videoStream, uint32_t frame)
+void DIA_previewInit(uint32_t width, uint32_t height)
 {
-	ADM_assert(frame <= videoStream->getInfo()->nb_frames);
+	previewWindow = new Ui_previewWindow(QuiMainWindows, width, height);
+	previewWindow->show();
+}
 
-	printf("** DIA_filterPreview %i **\n", frame);
-	Ui_seekablePreviewWindow previewDialog(videoStream, frame);
+uint8_t DIA_previewStillAlive(void)
+{
+	return (previewWindow != NULL);
+}
 
-	previewDialog.exec();
+uint8_t DIA_previewUpdate(uint8_t *buffer)
+{
+	if (previewWindow)
+	{
+		previewWindow->update(buffer);
+
+		return 1;
+	}
+
+	return 0;
 }
 
+void DIA_previewEnd(void)
+{
+	if (previewWindow)
+	{
+		delete previewWindow;
+		previewWindow = NULL;
+	}
+}
+
+
 //****************************************************************************************************
 /*
   Function to display

Copied: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/preview.ui (from rev 4320, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/preview.ui)

Deleted: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/seekablePreview.ui
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/seekablePreview.ui	2008-09-13 21:20:26 UTC (rev 4332)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/seekablePreview.ui	2008-09-13 23:12:54 UTC (rev 4333)
@@ -1,79 +0,0 @@
-<ui version="4.0" >
- <class>seekablePreviewDialog</class>
- <widget class="QDialog" name="seekablePreviewDialog" >
-  <property name="geometry" >
-   <rect>
-    <x>0</x>
-    <y>0</y>
-    <width>400</width>
-    <height>300</height>
-   </rect>
-  </property>
-  <property name="windowTitle" >
-   <string>Preview</string>
-  </property>
-  <property name="modal" >
-   <bool>true</bool>
-  </property>
-  <layout class="QVBoxLayout" >
-   <property name="margin" >
-    <number>9</number>
-   </property>
-   <property name="spacing" >
-    <number>6</number>
-   </property>
-   <item>
-    <widget class="QFrame" name="frame" >
-     <property name="frameShape" >
-      <enum>QFrame::StyledPanel</enum>
-     </property>
-     <property name="frameShadow" >
-      <enum>QFrame::Raised</enum>
-     </property>
-    </widget>
-   </item>
-   <item>
-    <widget class="QSlider" name="horizontalSlider" >
-     <property name="orientation" >
-      <enum>Qt::Horizontal</enum>
-     </property>
-    </widget>
-   </item>
-   <item>
-    <layout class="QHBoxLayout" >
-     <property name="margin" >
-      <number>0</number>
-     </property>
-     <property name="spacing" >
-      <number>6</number>
-     </property>
-     <item>
-      <spacer>
-       <property name="orientation" >
-        <enum>Qt::Horizontal</enum>
-       </property>
-       <property name="sizeHint" >
-        <size>
-         <width>40</width>
-         <height>20</height>
-        </size>
-       </property>
-      </spacer>
-     </item>
-     <item>
-      <widget class="QPushButton" name="okButton" >
-       <property name="text" >
-        <string>OK</string>
-       </property>
-       <property name="default" >
-        <bool>true</bool>
-       </property>
-      </widget>
-     </item>
-    </layout>
-   </item>
-  </layout>
- </widget>
- <resources/>
- <connections/>
-</ui>



From gruntster at mail.berlios.de  Sun Sep 14 01:32:21 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sun, 14 Sep 2008 01:32:21 +0200
Subject: [Avidemux-svn-commit] r4334 - in
	branches/avidemux_2.5_branch_gruntster: avidemux/ADM_codecs
	avidemux/ADM_core/include avidemux/ADM_core/src
	plugins/ADM_videoEncoder/ADM_vidEnc_x264
Message-ID: <200809132332.m8DNWLEV022729@sheep.berlios.de>

Author: gruntster
Date: 2008-09-14 01:32:09 +0200 (Sun, 14 Sep 2008)
New Revision: 4334

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_xvid4.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_xvid4.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/include/ADM_assert.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_fileio.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_win32.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/encoder.cpp
Log:
[Merge] integrate changes from 2.4 branch (r4326)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_xvid4.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_xvid4.cpp	2008-09-13 23:12:54 UTC (rev 4333)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_xvid4.cpp	2008-09-13 23:32:09 UTC (rev 4334)
@@ -37,6 +37,10 @@
 #include "ADM_editor/ADM_edit.hxx"
 extern ADM_Composer *video_body;
 
+#ifdef __WIN32
+extern void convertPathToAnsi(const char *path, char **ansiPath);
+#endif
+
 static const int motion_presets[] = {
   0,
   0,
@@ -655,8 +659,16 @@
 
 
   pass1.version = XVID_VERSION;
-  pass1.filename = (char *) _param.logName;
 
+#ifdef __WIN32
+	char *logFile;
+
+	convertPathToAnsi(_param.logName, &logFile);
+	pass1.filename = logFile;
+#else
+	pass1.filename = ADM_strdup(_param.logName);
+#endif
+
   xvid_enc_create.plugins = plugins;
   xvid_enc_create.num_plugins = 1;
 
@@ -682,8 +694,12 @@
   return 1;
 }
 
+xvid4EncoderPass1::~xvid4EncoderPass1()
+{
+	delete pass1.filename;
+	pass1.filename = NULL;
+}
 
-
 // *************************************************
 // *************************************************
 //              Pass2
@@ -717,8 +733,16 @@
   plugins[1].param = NULL;
 
   pass2.version = XVID_VERSION;
-  pass2.filename = (char *) _param.logName;
 
+#ifdef __WIN32
+	char *logFile;
+
+	convertPathToAnsi(_param.logName, &logFile);
+	pass2.filename = logFile;
+#else
+	pass2.filename = ADM_strdup(_param.logName);
+#endif
+
   pass2.bitrate = br;		// Average bitrate
 #define CPY(x) pass2.x=_param.x;printf("[xvid] "#x"=%d\n",pass2.x);
 
@@ -758,5 +782,9 @@
   return 1;
 }
 
-
+xvid4EncoderPass2::~xvid4EncoderPass2()
+{
+	delete pass2.filename;
+	pass2.filename = NULL;
+}
 #endif

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_xvid4.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_xvid4.h	2008-09-13 23:12:54 UTC (rev 4333)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_xvid4.h	2008-09-13 23:32:09 UTC (rev 4334)
@@ -112,6 +112,7 @@
 
   virtual uint8_t init (uint32_t val, uint32_t fps1000,
 			xvid4EncParam * param);
+  ~xvid4EncoderPass1();
   
 };
 class xvid4EncoderPass2:public xvid4Encoder
@@ -126,7 +127,7 @@
 
   virtual uint8_t init (uint32_t val, uint32_t fps1000,
 			xvid4EncParam * param);
-  
+  ~xvid4EncoderPass2();
 };
 
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/include/ADM_assert.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/include/ADM_assert.h	2008-09-13 23:12:54 UTC (rev 4333)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/include/ADM_assert.h	2008-09-13 23:32:09 UTC (rev 4334)
@@ -38,6 +38,9 @@
 size_t          ADM_fwrite (void *ptr, size_t size, size_t n, FILE *sstream);
 FILE            *ADM_fopen (const char *file, const char *mode);
 int             ADM_fclose (FILE *file);
+int				ADM_unlink(const char *filename);
+int				ADM_access(const char *path, int mode);
+
 uint8_t         ADM_fileExist(char *name);
 uint8_t         ADM_mkdir(const char *name);
 
@@ -70,6 +73,10 @@
 #define fwrite  ADM_fwrite
 #define fopen   ADM_fopen
 #define fclose  ADM_fclose
+#ifdef __WIN32
+#define unlink	ADM_unlink
+#define access	ADM_access
+#endif
 
 #ifndef __APPLE__
 #ifndef ADM_LEGACY_PROGGY

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_fileio.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_fileio.cpp	2008-09-13 23:12:54 UTC (rev 4333)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_fileio.cpp	2008-09-13 23:32:09 UTC (rev 4334)
@@ -184,6 +184,34 @@
 	return fclose(file); 
 }
 
+int ADM_unlink(const char *filename)
+{
+#ifdef __WIN32
+	int filenameLength = utf8StringToWideChar(filename, -1, NULL);
+	wchar_t wcFilename[filenameLength];
+
+	utf8StringToWideChar(filename, -1, wcFilename);
+
+	return _wunlink(wcFilename);
+#else
+	return unlink(filename);
+#endif
+}
+
+int ADM_access(const char *path, int mode)
+{
+#ifdef __WIN32
+	int pathLength = utf8StringToWideChar(path, -1, NULL);
+	wchar_t wcPath[pathLength];
+
+	utf8StringToWideChar(path, -1, wcPath);
+
+	return _waccess(wcPath, mode);
+#else
+	return access(path, mode);
+#endif
+}
+
 /*
       Get the  directory where jobs are stored
 ******************************************************/

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_win32.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_win32.cpp	2008-09-13 23:12:54 UTC (rev 4333)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_win32.cpp	2008-09-13 23:32:09 UTC (rev 4334)
@@ -1,4 +1,5 @@
 #ifdef __WIN32
+#define WINVER 0x500
 #include <stdio.h>
 #include <stdlib.h>
 #include <windows.h>
@@ -7,6 +8,9 @@
 #include <winsock2.h>
 #endif
 
+#include <algorithm>
+#include <string>
+
 #include "ADM_default.h" 
 
 extern char *ADM_getBaseDir(void);
@@ -498,4 +502,101 @@
 
 	return multiByteStringLen;
 }
+
+// Convert string from Wide Char to ANSI code page
+int wideCharStringToAnsi(const wchar_t *wideCharString, int wideCharStringLength, char *ansiString, const char *filler)
+{
+	int flags = WC_COMPOSITECHECK;
+
+	if (filler)
+		flags |= WC_NO_BEST_FIT_CHARS | WC_DEFAULTCHAR;
+
+	int ansiStringLen = WideCharToMultiByte(CP_ACP, flags, wideCharString, wideCharStringLength, NULL, 0, filler, NULL);
+
+	if (ansiString)
+		WideCharToMultiByte(CP_ACP, flags, wideCharString, wideCharStringLength, ansiString, ansiStringLen, filler, NULL);
+
+	return ansiStringLen;
+}
+
+// Convert UTF-8 file path to an ANSI path with short 8.3 directories
+void convertPathToAnsi(const char *path, char **ansiPath)
+{
+	const char *filename = ADM_GetFileName(path);
+	bool statFile = false;
+	int filenameLength = strlen(filename);
+	int directoryLength = filename - path;
+
+	// Clip off .stat extension and tack it on later
+	if (filenameLength >= 5 && strcmp(filename + filenameLength - 5, ".stat") == 0)
+	{
+		statFile = true;
+		filenameLength -= 5;
+	}
+
+	// Convert directory to wide char
+	int wcDirLength = utf8StringToWideChar(path, directoryLength, NULL) + 1;
+	int wcFileLength = utf8StringToWideChar(filename, filenameLength, NULL) + 1;
+	wchar_t *wcDirectory = new wchar_t[wcDirLength];
+
+	memset(wcDirectory, 0, wcDirLength * sizeof(wchar_t));
+	utf8StringToWideChar(path, directoryLength, wcDirectory);
+
+	// Get short directory
+	int shortDirLength = GetShortPathNameW(wcDirectory, NULL, 0);
+	wchar_t *wcShortDir = new wchar_t[shortDirLength + wcFileLength];
+
+	memset(wcShortDir, 0, (shortDirLength + wcFileLength) * sizeof(wchar_t));
+	GetShortPathNameW(wcDirectory, wcShortDir, shortDirLength);
+	delete [] wcDirectory;
+
+	// Append filename to directory
+	utf8StringToWideChar(filename, filenameLength, wcShortDir + (shortDirLength - 1));
+
+	// Convert path to ANSI
+	int dirtyAnsiPathLength = wideCharStringToAnsi(wcShortDir, -1, NULL, "?");
+	char *dirtyAnsiPath = new char[dirtyAnsiPathLength];
+
+	wideCharStringToAnsi(wcShortDir, -1, dirtyAnsiPath, "?");
+
+	// Clean converted path
+	std::string cleanPath = std::string(dirtyAnsiPath);
+	std::string::iterator lastPos = std::remove(cleanPath.begin(), cleanPath.end(), '?');
+
+	cleanPath.erase(lastPos, cleanPath.end());
+	delete [] dirtyAnsiPath;
+
+	// Make sure we have a filename, otherwise use "avidemux" as default
+	if (filenameLength || statFile)
+	{
+		filename = ADM_GetFileName(cleanPath.c_str());
+
+		int filenameStart = filename - cleanPath.c_str();
+
+		if (filenameStart)
+		{
+			int filenameEnd = cleanPath.length();
+
+			// Ignore extension if it exists
+			int extensionIndex = cleanPath.rfind(".", filenameEnd);
+
+			if (extensionIndex != std::string::npos)
+				filenameEnd = extensionIndex;
+
+			// Create a filename if one doesn't exist
+			if (filenameEnd - filenameStart == 0)
+				cleanPath.insert(filenameStart, "avidemux");
+		}
+		else
+			cleanPath.append("avidemux");
+
+		if (statFile)
+			cleanPath.append(".stat");
+	}
+
+	*ansiPath = new char[cleanPath.length() + 1];
+	strcpy(*ansiPath, cleanPath.c_str());
+
+	delete [] wcShortDir;
+}
 #endif	// __WIN32

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/encoder.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/encoder.cpp	2008-09-13 23:12:54 UTC (rev 4333)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/encoder.cpp	2008-09-13 23:32:09 UTC (rev 4334)
@@ -41,6 +41,8 @@
 	void x264Encoder_close(void) { encoder.close(); }
 }
 
+extern void convertPathToAnsi(const char *path, char **ansiPath);
+
 x264Encoder::x264Encoder(void)
 {
 	_loader = NULL;
@@ -190,8 +192,12 @@
 	if (_logFileName)
 		delete [] _logFileName;
 
+#ifdef __WIN32
+	convertPathToAnsi(properties->logFileName, &_logFileName);
+#else
 	_logFileName = new char[strlen(properties->logFileName) + 1];
 	strcpy(_logFileName, properties->logFileName);
+#endif
 
 	updateEncodeParameters(&_properties);
 



From gruntster at mail.berlios.de  Sun Sep 14 01:41:36 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sun, 14 Sep 2008 01:41:36 +0200
Subject: [Avidemux-svn-commit] r4335 - in
	branches/avidemux_2.5_branch_gruntster: avidemux/ADM_UIs/ADM_GTK/src
	avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog
	avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2
	avidemux/ADM_userInterfaces/ADM_GTK/glade
	plugins/ADM_videoEncoder/ADM_vidEnc_x264/gtk
	plugins/ADM_videoEncoder/ADM_vidEnc_xvid/gtk
	plugins/ADM_videoFilters/ASharp/gtk
	plugins/ADM_videoFilters/AvisynthResize/gtk
	plugins/ADM_videoFilters/ChromaShift/gtk
	plugins/ADM_videoFilters/Contrast/gtk
	plugins/ADM_videoFilters/Equalizer/gtk
	plugins/ADM_videoFilters/Hue/gtk
	plugins/ADM_videoFilters/MPDelogo/gtk
	plugins/ADM_videoFilters/MplayerResize/gtk
	plugins/ADM_videoFilters/Srt/gtk
	plugins/ADM_videoFilters/colorYUV/gtk
Message-ID: <200809132341.m8DNfaJQ003764@sheep.berlios.de>

Author: gruntster
Date: 2008-09-14 01:41:13 +0200 (Sun, 14 Sep 2008)
New Revision: 4335

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/FAC_threadCount.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/contrast2.glade
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/prefs.glade
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/project_x264.glade
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/threshold.glade
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/gtk/x264ConfigDialog.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_xvid/gtk/xvidConfigDialog.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ASharp/gtk/DIA_asharp.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/AvisynthResize/gtk/gtk_resize.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ChromaShift/gtk/DIA_chromaShift.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Contrast/gtk/DIA_contrast.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Equalizer/gtk/DIA_equalizer.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Hue/gtk/DIA_hue.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MPDelogo/gtk/DIA_mpdelogo.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MplayerResize/gtk/gtk_resize.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Srt/gtk/DIA_srt.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/colorYUV/gtk/DIA_coloryuv.cpp
Log:
[Merge] integrate changes from 2.4 branch (r4327)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/FAC_threadCount.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/FAC_threadCount.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/FAC_threadCount.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -99,7 +99,7 @@
 	gtk_widget_show (radiobutton3);
 	gtk_box_pack_start (GTK_BOX (hbox2), radiobutton3, TRUE, TRUE, 0);
 
-	spinbutton1_adj = gtk_adjustment_new (2, 2, 32, 1, 10, 10);
+	spinbutton1_adj = gtk_adjustment_new (2, 2, 32, 1, 10, 0);
 	spinbutton1 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton1_adj), 1, 0);
 	gtk_widget_show (spinbutton1);
 	gtk_box_pack_start (GTK_BOX (hbox2), spinbutton1, TRUE, TRUE, 0);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -135,7 +135,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
 
-  spinbuttonStart_adj = gtk_adjustment_new (1, 0, 1000000, 1, 10, 10);
+  spinbuttonStart_adj = gtk_adjustment_new (1, 0, 1000000, 1, 10, 0);
   spinbuttonStart = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonStart_adj), 1, 0);
   gtk_widget_show (spinbuttonStart);
   gtk_table_attach (GTK_TABLE (table1), spinbuttonStart, 1, 2, 0, 1,
@@ -143,7 +143,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonStart), TRUE);
 
-  spinbuttonSize_adj = gtk_adjustment_new (1, 0, 1000000, 1, 10, 10);
+  spinbuttonSize_adj = gtk_adjustment_new (1, 0, 1000000, 1, 10, 0);
   spinbuttonSize = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonSize_adj), 1, 0);
   gtk_widget_show (spinbuttonSize);
   gtk_table_attach (GTK_TABLE (table1), spinbuttonSize, 1, 2, 1, 2,

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -45,7 +45,7 @@
 
 	dialog = create_dialog1();
 	
-	scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 110, 1, 10, 10)));
+	scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 110, 1, 10, 0)));
 	gtk_widget_show (scale);
 	gtk_box_pack_start (GTK_BOX(WID(vbox1)), scale, FALSE, TRUE, 0);
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -329,7 +329,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
 
-  spinbutton_width_adj = gtk_adjustment_new (2, 0, 3000, 1, 10, 10);
+  spinbutton_width_adj = gtk_adjustment_new (2, 0, 3000, 1, 10, 0);
   spinbutton_width = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_width_adj), 1, 0);
   gtk_widget_show (spinbutton_width);
   gtk_table_attach (GTK_TABLE (table2), spinbutton_width, 1, 2, 0, 1,
@@ -337,7 +337,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton_width), TRUE);
 
-  spinbutton_height_adj = gtk_adjustment_new (1, 0, 3000, 1, 10, 10);
+  spinbutton_height_adj = gtk_adjustment_new (1, 0, 3000, 1, 10, 0);
   spinbutton_height = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_height_adj), 1, 0);
   gtk_widget_show (spinbutton_height);
   gtk_table_attach (GTK_TABLE (table2), spinbutton_height, 1, 2, 1, 2,

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -437,7 +437,7 @@
   gtk_scale_set_digits (GTK_SCALE (minValueSlider), 0);
 
 #ifdef ORIGINAL_CODE_GENERATED_BY_GLADE
-  minValueSpinner_adj = gtk_adjustment_new (0, 0, 255, 1, 10, 10);
+  minValueSpinner_adj = gtk_adjustment_new (0, 0, 255, 1, 10, 0);
 #endif
   minValueSpinner = gtk_spin_button_new (GTK_ADJUSTMENT (minValueSpinner_adj), 1, 0);
   gtk_widget_show (minValueSpinner);
@@ -468,7 +468,7 @@
   gtk_scale_set_digits (GTK_SCALE (maxValueSlider), 0);
 
 #ifdef ORIGINAL_CODE_GENERATED_BY_GLADE
-  maxValueSpinner_adj = gtk_adjustment_new (255, 0, 255, 1, 10, 10);
+  maxValueSpinner_adj = gtk_adjustment_new (255, 0, 255, 1, 10, 0);
 #endif
   maxValueSpinner = gtk_spin_button_new (GTK_ADJUSTMENT (maxValueSpinner_adj), 1, 0);
   gtk_widget_show (maxValueSpinner);
@@ -496,7 +496,7 @@
   gtk_widget_show (debugLabel);
   gtk_box_pack_start (GTK_BOX (debugHbox), debugLabel, FALSE, FALSE, 0);
 
-  debugSpinButton_adj = gtk_adjustment_new (0, 0, 16777215, 1, 10, 10);
+  debugSpinButton_adj = gtk_adjustment_new (0, 0, 16777215, 1, 10, 0);
   debugSpinButton = gtk_spin_button_new (GTK_ADJUSTMENT (debugSpinButton_adj), 1, 0);
   gtk_widget_show (debugSpinButton);
   gtk_box_pack_start (GTK_BOX (debugHbox), debugSpinButton, TRUE, TRUE, 0);
@@ -522,7 +522,7 @@
   gtk_widget_show (previewOutputMenu);
   gtk_box_pack_start (GTK_BOX (previewControlHbox), previewOutputMenu, FALSE, TRUE, 0);
 
-  previewSlider = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 99, 1, 1, 1)));
+  previewSlider = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 99, 1, 1, 0)));
   gtk_widget_show (previewSlider);
   gtk_box_pack_start (GTK_BOX (previewControlHbox), previewSlider, TRUE, TRUE, 0);
   gtk_scale_set_digits (GTK_SCALE (previewSlider), 0);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -251,7 +251,7 @@
   gtk_label_set_justify (GTK_LABEL (label6), GTK_JUSTIFY_LEFT);
   gtk_misc_set_alignment (GTK_MISC (label6), 0, 0.5);
 
-  spinbutton1_adj = gtk_adjustment_new (1, 1, 2, 0.1, 0.2, 0.2);
+  spinbutton1_adj = gtk_adjustment_new (1, 1, 2, 0.1, 0.2, 0);
   spinbutton1 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton1_adj), 1, 0);
   gtk_widget_show (spinbutton1);
   gtk_table_attach (GTK_TABLE (table2), spinbutton1, 1, 2, 0, 1,

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -307,7 +307,7 @@
   gtk_label_set_justify (GTK_LABEL (label7), GTK_JUSTIFY_LEFT);
   gtk_misc_set_alignment (GTK_MISC (label7), 0, 0.5);
 
-  spinbuttonMaxIFrame_adj = gtk_adjustment_new (300, 0, 600, 1, 10, 10);
+  spinbuttonMaxIFrame_adj = gtk_adjustment_new (300, 0, 600, 1, 10, 0);
   spinbuttonMaxIFrame = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonMaxIFrame_adj), 1, 0);
   gtk_widget_show (spinbuttonMaxIFrame);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonMaxIFrame, 1, 2, 2, 3,
@@ -323,7 +323,7 @@
   gtk_label_set_justify (GTK_LABEL (label8), GTK_JUSTIFY_LEFT);
   gtk_misc_set_alignment (GTK_MISC (label8), 0, 0.5);
 
-  spinbuttonMinIFrame_adj = gtk_adjustment_new (1, 0, 600, 1, 10, 10);
+  spinbuttonMinIFrame_adj = gtk_adjustment_new (1, 0, 600, 1, 10, 0);
   spinbuttonMinIFrame = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonMinIFrame_adj), 1, 0);
   gtk_widget_show (spinbuttonMinIFrame);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonMinIFrame, 1, 2, 3, 4,
@@ -430,7 +430,7 @@
   gtk_label_set_justify (GTK_LABEL (label12), GTK_JUSTIFY_LEFT);
   gtk_misc_set_alignment (GTK_MISC (label12), 0, 0.5);
 
-  spinImin_adj = gtk_adjustment_new (2, 2, 31, 1, 10, 10);
+  spinImin_adj = gtk_adjustment_new (2, 2, 31, 1, 10, 0);
   spinImin = gtk_spin_button_new (GTK_ADJUSTMENT (spinImin_adj), 1, 0);
   gtk_widget_show (spinImin);
   gtk_table_attach (GTK_TABLE (table3), spinImin, 1, 2, 0, 1,
@@ -438,7 +438,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinImin), TRUE);
 
-  spinImax_adj = gtk_adjustment_new (2, 2, 31, 1, 10, 10);
+  spinImax_adj = gtk_adjustment_new (2, 2, 31, 1, 10, 0);
   spinImax = gtk_spin_button_new (GTK_ADJUSTMENT (spinImax_adj), 1, 0);
   gtk_widget_show (spinImax);
   gtk_table_attach (GTK_TABLE (table3), spinImax, 1, 2, 1, 2,
@@ -446,7 +446,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinImax), TRUE);
 
-  spinPmin_adj = gtk_adjustment_new (2, 2, 31, 1, 10, 10);
+  spinPmin_adj = gtk_adjustment_new (2, 2, 31, 1, 10, 0);
   spinPmin = gtk_spin_button_new (GTK_ADJUSTMENT (spinPmin_adj), 1, 0);
   gtk_widget_show (spinPmin);
   gtk_table_attach (GTK_TABLE (table3), spinPmin, 1, 2, 2, 3,
@@ -454,7 +454,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinPmin), TRUE);
 
-  spinPmax_adj = gtk_adjustment_new (2, 2, 31, 1, 10, 10);
+  spinPmax_adj = gtk_adjustment_new (2, 2, 31, 1, 10, 0);
   spinPmax = gtk_spin_button_new (GTK_ADJUSTMENT (spinPmax_adj), 1, 0);
   gtk_widget_show (spinPmax);
   gtk_table_attach (GTK_TABLE (table3), spinPmax, 1, 2, 3, 4,

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -426,7 +426,7 @@
       {  //Intra
           col=i%8;
           row=i>>3;
-          spinbutton1_adj = gtk_adjustment_new (intra[i], 8, 255, 1, 10, 10);
+          spinbutton1_adj = gtk_adjustment_new (intra[i], 8, 255, 1, 10, 0);
           intraCell[i]=spinbutton1 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton1_adj), 1, 0);
      //     gtk_widget_show (spinbutton1);
           gtk_table_attach (GTK_TABLE (WID(tableIntra)), spinbutton1, col, col+1, row, row+1,
@@ -439,7 +439,7 @@
       {  //Inter
           col=i%8;
           row=i>>3;
-          spinbutton1_adj = gtk_adjustment_new (inter[i], 1, 255, 1, 10, 10);
+          spinbutton1_adj = gtk_adjustment_new (inter[i], 1, 255, 1, 10, 0);
           interCell[i]=spinbutton1 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton1_adj), 1, 0);
       //    gtk_widget_show (spinbutton1);
           gtk_table_attach (GTK_TABLE (WID(tableInter)), spinbutton1, col, col+1, row, row+1,
@@ -770,7 +770,7 @@
   gtk_tooltips_set_tip (tooltips, entryEntry, QT_TR_NOOP("Target video bitrate"), NULL);
   gtk_entry_set_width_chars (GTK_ENTRY (entryEntry), 10);
 
-  spinbuttonQuant_adj = gtk_adjustment_new (4, 1, 31, 1, 10, 10);
+  spinbuttonQuant_adj = gtk_adjustment_new (4, 1, 31, 1, 10, 0);
   spinbuttonQuant = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonQuant_adj), 1, 0);
   gtk_widget_show (spinbuttonQuant);
   gtk_box_pack_start (GTK_BOX (vbox22), spinbuttonQuant, FALSE, FALSE, 0);
@@ -952,7 +952,7 @@
   gtk_widget_show (labelIFrameIntervalMin);
   gtk_box_pack_start (GTK_BOX (hbox9), labelIFrameIntervalMin, FALSE, FALSE, 0);
 
-  spinbuttonIMinPeriod_adj = gtk_adjustment_new (1, 1, 9, 1, 10, 10);
+  spinbuttonIMinPeriod_adj = gtk_adjustment_new (1, 1, 9, 1, 10, 0);
   spinbuttonIMinPeriod = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonIMinPeriod_adj), 1, 0);
   gtk_widget_show (spinbuttonIMinPeriod);
   gtk_box_pack_start (GTK_BOX (hbox9), spinbuttonIMinPeriod, FALSE, FALSE, 0);
@@ -962,7 +962,7 @@
   gtk_widget_show (labelIFrameIntervalMax);
   gtk_box_pack_start (GTK_BOX (hbox9), labelIFrameIntervalMax, FALSE, FALSE, 0);
 
-  spinbuttonIMaxPeriod_adj = gtk_adjustment_new (250, 1, 500, 1, 10, 10);
+  spinbuttonIMaxPeriod_adj = gtk_adjustment_new (250, 1, 500, 1, 10, 0);
   spinbuttonIMaxPeriod = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonIMaxPeriod_adj), 1, 0);
   gtk_widget_show (spinbuttonIMaxPeriod);
   gtk_box_pack_start (GTK_BOX (hbox9), spinbuttonIMaxPeriod, FALSE, FALSE, 0);
@@ -985,7 +985,7 @@
   gtk_widget_show (labelNumberOfBFrames);
   gtk_box_pack_start (GTK_BOX (hbox11), labelNumberOfBFrames, FALSE, FALSE, 0);
 
-  spinbuttonBFrame_adj = gtk_adjustment_new (1, 0, 3, 1, 1, 1);
+  spinbuttonBFrame_adj = gtk_adjustment_new (1, 0, 3, 1, 1, 0);
   spinbuttonBFrame = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBFrame_adj), 1, 0);
   gtk_widget_show (spinbuttonBFrame);
   gtk_box_pack_start (GTK_BOX (hbox11), spinbuttonBFrame, FALSE, FALSE, 0);
@@ -1027,7 +1027,7 @@
   gtk_box_pack_start (GTK_BOX (hbox_par1), checkbutton_par_asinput, FALSE, FALSE, 10);
   gtk_tooltips_set_tip (tooltips, checkbutton_par_asinput, QT_TR_NOOP("Get PAR from input video file"), NULL);
 
-  spinbutton_par_width_adj = gtk_adjustment_new (1, 1, 255, 1, 1, 1);
+  spinbutton_par_width_adj = gtk_adjustment_new (1, 1, 255, 1, 1, 0);
   spinbutton_par_width = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_par_width_adj), 1, 0);
   gtk_widget_show (spinbutton_par_width);
   gtk_box_pack_start (GTK_BOX (hbox_par1), spinbutton_par_width, FALSE, FALSE, 0);
@@ -1038,7 +1038,7 @@
   gtk_box_pack_start (GTK_BOX (hbox_par1), label_par1, FALSE, FALSE, 2);
   gtk_label_set_justify (GTK_LABEL (label_par1), GTK_JUSTIFY_CENTER);
 
-  spinbutton_par_height_adj = gtk_adjustment_new (1, 1, 255, 1, 1, 1);
+  spinbutton_par_height_adj = gtk_adjustment_new (1, 1, 255, 1, 1, 0);
   spinbutton_par_height = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_par_height_adj), 1, 0);
   gtk_widget_show (spinbutton_par_height);
   gtk_box_pack_start (GTK_BOX (hbox_par1), spinbutton_par_height, FALSE, FALSE, 0);
@@ -1154,19 +1154,19 @@
   gtk_widget_show (vbox12);
   gtk_box_pack_start (GTK_BOX (hbox14), vbox12, FALSE, FALSE, 0);
 
-  spinbuttonIMin_adj = gtk_adjustment_new (2, 1, 31, 1, 10, 10);
+  spinbuttonIMin_adj = gtk_adjustment_new (2, 1, 31, 1, 10, 0);
   spinbuttonIMin = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonIMin_adj), 1, 0);
   gtk_widget_show (spinbuttonIMin);
   gtk_box_pack_start (GTK_BOX (vbox12), spinbuttonIMin, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, spinbuttonIMin, QT_TR_NOOP("Minimum quantizer allowed for I-frames"), NULL);
 
-  spinbuttonPMin_adj = gtk_adjustment_new (2, 1, 31, 1, 10, 10);
+  spinbuttonPMin_adj = gtk_adjustment_new (2, 1, 31, 1, 10, 0);
   spinbuttonPMin = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonPMin_adj), 1, 0);
   gtk_widget_show (spinbuttonPMin);
   gtk_box_pack_start (GTK_BOX (vbox12), spinbuttonPMin, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, spinbuttonPMin, QT_TR_NOOP("Minimum quantizer allowed for P-frames"), NULL);
 
-  spinbuttonBMin_adj = gtk_adjustment_new (2, 1, 31, 1, 10, 10);
+  spinbuttonBMin_adj = gtk_adjustment_new (2, 1, 31, 1, 10, 0);
   spinbuttonBMin = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBMin_adj), 1, 0);
   gtk_widget_show (spinbuttonBMin);
   gtk_box_pack_start (GTK_BOX (vbox12), spinbuttonBMin, FALSE, FALSE, 0);
@@ -1195,19 +1195,19 @@
   gtk_widget_show (vbox14);
   gtk_box_pack_start (GTK_BOX (hbox14), vbox14, FALSE, FALSE, 0);
 
-  spinbuttonIMax_adj = gtk_adjustment_new (31, 1, 31, 1, 10, 10);
+  spinbuttonIMax_adj = gtk_adjustment_new (31, 1, 31, 1, 10, 0);
   spinbuttonIMax = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonIMax_adj), 1, 0);
   gtk_widget_show (spinbuttonIMax);
   gtk_box_pack_start (GTK_BOX (vbox14), spinbuttonIMax, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, spinbuttonIMax, QT_TR_NOOP("Maximum quantizer allowed for I-frames"), NULL);
 
-  spinbuttonPMax_adj = gtk_adjustment_new (31, 1, 31, 1, 10, 10);
+  spinbuttonPMax_adj = gtk_adjustment_new (31, 1, 31, 1, 10, 0);
   spinbuttonPMax = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonPMax_adj), 1, 0);
   gtk_widget_show (spinbuttonPMax);
   gtk_box_pack_start (GTK_BOX (vbox14), spinbuttonPMax, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, spinbuttonPMax, QT_TR_NOOP("Maximum quantizer allowed for P-frames"), NULL);
 
-  spinbuttonBMax_adj = gtk_adjustment_new (31, 1, 31, 1, 10, 10);
+  spinbuttonBMax_adj = gtk_adjustment_new (31, 1, 31, 1, 10, 0);
   spinbuttonBMax = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBMax_adj), 1, 0);
   gtk_widget_show (spinbuttonBMax);
   gtk_box_pack_start (GTK_BOX (vbox14), spinbuttonBMax, FALSE, FALSE, 0);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -1034,7 +1034,7 @@
   gtk_widget_show (toolitem14);
   gtk_container_add (GTK_CONTAINER (toolbar2), toolitem14);
 
-  hscalVolume = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (99, 0, 100, 1, 1, 1)));
+  hscalVolume = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (99, 0, 100, 1, 1, 0)));
   gtk_widget_show (hscalVolume);
   gtk_container_add (GTK_CONTAINER (toolitem14), hscalVolume);
   gtk_widget_set_size_request (hscalVolume, 100, -1);
@@ -1159,7 +1159,7 @@
   gtk_box_pack_start (GTK_BOX (hbox19), CheckButtonTimeshift, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, CheckButtonTimeshift, QT_TR_NOOP("Enable time shift"), NULL);
 
-  spinbuttonTimeShift_adj = gtk_adjustment_new (0, -99999, 99999, 1, 10, 10);
+  spinbuttonTimeShift_adj = gtk_adjustment_new (0, -99999, 99999, 1, 10, 0);
   spinbuttonTimeShift = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonTimeShift_adj), 1, 0);
   gtk_widget_show (spinbuttonTimeShift);
   gtk_box_pack_start (GTK_BOX (hbox19), spinbuttonTimeShift, TRUE, TRUE, 0);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/contrast2.glade
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/contrast2.glade	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/contrast2.glade	2008-09-13 23:41:13 UTC (rev 4335)
@@ -262,7 +262,7 @@
 	      <property name="digits">1</property>
 	      <property name="update_policy">GTK_UPDATE_CONTINUOUS</property>
 	      <property name="inverted">False</property>
-	      <property name="adjustment">0 0 99 1 1 1</property>
+	      <property name="adjustment">0 0 99 1 1 0</property>
 	    </widget>
 	    <packing>
 	      <property name="padding">0</property>

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade	2008-09-13 23:41:13 UTC (rev 4335)
@@ -1426,7 +1426,7 @@
 		  <property name="digits">0</property>
 		  <property name="update_policy">GTK_UPDATE_CONTINUOUS</property>
 		  <property name="inverted">False</property>
-		  <property name="adjustment">99 0 100 1 1 1</property>
+		  <property name="adjustment">99 0 100 1 1 0</property>
 		</widget>
 	      </child>
 	    </widget>
@@ -1769,7 +1769,7 @@
 					  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 					  <property name="snap_to_ticks">False</property>
 					  <property name="wrap">False</property>
-					  <property name="adjustment">0 -99999 99999 1 10 10</property>
+					  <property name="adjustment">0 -99999 99999 1 10 0</property>
 					</widget>
 					<packing>
 					  <property name="padding">0</property>

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/prefs.glade
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/prefs.glade	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/prefs.glade	2008-09-13 23:41:13 UTC (rev 4335)
@@ -369,7 +369,7 @@
 		      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 		      <property name="snap_to_ticks">False</property>
 		      <property name="wrap">False</property>
-		      <property name="adjustment">790 400 5000 1 10 10</property>
+		      <property name="adjustment">790 400 5000 1 10 0</property>
 		    </widget>
 		    <packing>
 		      <property name="padding">0</property>
@@ -859,7 +859,7 @@
 		  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 		  <property name="snap_to_ticks">False</property>
 		  <property name="wrap">False</property>
-		  <property name="adjustment">0 0 4 1 10 10</property>
+		  <property name="adjustment">0 0 4 1 10 0</property>
 		</widget>
 		<packing>
 		  <property name="padding">0</property>

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/project_x264.glade
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/project_x264.glade	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/project_x264.glade	2008-09-13 23:41:13 UTC (rev 4335)
@@ -203,7 +203,7 @@
 		      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 		      <property name="snap_to_ticks">False</property>
 		      <property name="wrap">False</property>
-		      <property name="adjustment">4 0 51 1 10 10</property>
+		      <property name="adjustment">4 0 51 1 10 0</property>
 		    </widget>
 		    <packing>
 		      <property name="left_attach">1</property>
@@ -528,7 +528,7 @@
 				      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				      <property name="snap_to_ticks">False</property>
 				      <property name="wrap">False</property>
-				      <property name="adjustment">17 0 64 1 10 10</property>
+				      <property name="adjustment">17 0 64 1 10 0</property>
 				    </widget>
 				    <packing>
 				      <property name="left_attach">1</property>
@@ -551,7 +551,7 @@
 				      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				      <property name="snap_to_ticks">False</property>
 				      <property name="wrap">False</property>
-				      <property name="adjustment">1 0 16 1 10 10</property>
+				      <property name="adjustment">1 0 16 1 10 0</property>
 				    </widget>
 				    <packing>
 				      <property name="left_attach">1</property>
@@ -1088,7 +1088,7 @@
 					      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 					      <property name="snap_to_ticks">False</property>
 					      <property name="wrap">False</property>
-					      <property name="adjustment">0 0 2 1 10 10</property>
+					      <property name="adjustment">0 0 2 1 10 0</property>
 					    </widget>
 					    <packing>
 					      <property name="padding">0</property>
@@ -1146,7 +1146,7 @@
 					      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 					      <property name="snap_to_ticks">False</property>
 					      <property name="wrap">False</property>
-					      <property name="adjustment">0 0 1000000000 1 10 10</property>
+					      <property name="adjustment">0 0 1000000000 1 10 0</property>
 					    </widget>
 					    <packing>
 					      <property name="padding">0</property>
@@ -1273,7 +1273,7 @@
 					  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 					  <property name="snap_to_ticks">False</property>
 					  <property name="wrap">False</property>
-					  <property name="adjustment">0 -6 6 1 10 10</property>
+					  <property name="adjustment">0 -6 6 1 10 0</property>
 					</widget>
 					<packing>
 					  <property name="left_attach">1</property>
@@ -1296,7 +1296,7 @@
 					  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 					  <property name="snap_to_ticks">False</property>
 					  <property name="wrap">False</property>
-					  <property name="adjustment">0 -6 6 1 10 10</property>
+					  <property name="adjustment">0 -6 6 1 10 0</property>
 					</widget>
 					<packing>
 					  <property name="left_attach">1</property>
@@ -1685,7 +1685,7 @@
 				      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				      <property name="snap_to_ticks">False</property>
 				      <property name="wrap">False</property>
-				      <property name="adjustment">0 -100 100 1 10 10</property>
+				      <property name="adjustment">0 -100 100 1 10 0</property>
 				    </widget>
 				    <packing>
 				      <property name="left_attach">1</property>
@@ -1708,7 +1708,7 @@
 				      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				      <property name="snap_to_ticks">False</property>
 				      <property name="wrap">False</property>
-				      <property name="adjustment">3 0 15 1 10 10</property>
+				      <property name="adjustment">3 0 15 1 10 0</property>
 				    </widget>
 				    <packing>
 				      <property name="left_attach">1</property>
@@ -2028,7 +2028,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">40 0 100 1 10 10</property>
+				  <property name="adjustment">40 0 100 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2051,7 +2051,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">30 0 100 1 10 10</property>
+				  <property name="adjustment">30 0 100 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2074,7 +2074,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">60 0 100 1 10 10</property>
+				  <property name="adjustment">60 0 100 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2328,7 +2328,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">10 10 51 1 10 10</property>
+				  <property name="adjustment">10 10 51 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2351,7 +2351,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">51 10 51 1 10 10</property>
+				  <property name="adjustment">51 10 51 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2374,7 +2374,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">4 0 10 1 10 10</property>
+				  <property name="adjustment">4 0 10 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2460,7 +2460,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">40 0 100 1 10 10</property>
+				  <property name="adjustment">40 0 100 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2539,7 +2539,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">25 0 100 1 10 10</property>
+				  <property name="adjustment">25 0 100 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2562,7 +2562,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">250 1 1000 1 10 10</property>
+				  <property name="adjustment">250 1 1000 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2758,7 +2758,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">0 0 99999 1 10 10</property>
+				  <property name="adjustment">0 0 99999 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2780,7 +2780,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">0 0 99999 1 10 10</property>
+				  <property name="adjustment">0 0 99999 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2802,7 +2802,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">90 0 100 1 10 10</property>
+				  <property name="adjustment">90 0 100 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2964,7 +2964,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">1 0 1 0.10000000149 10 10</property>
+				  <property name="adjustment">1 0 1 0.10000000149 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -2987,7 +2987,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">0.600000023842 0 1 0.10000000149 10 10</property>
+				  <property name="adjustment">0.600000023842 0 1 0.10000000149 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -3010,7 +3010,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">20 0 999 1 10 10</property>
+				  <property name="adjustment">20 0 999 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -3032,7 +3032,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">0.5 0 1 0.5 10 10</property>
+				  <property name="adjustment">0.5 0 1 0.5 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -3201,7 +3201,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">1.39999997616 1 10 0.10000000149 10 10</property>
+				  <property name="adjustment">1.39999997616 1 10 0.10000000149 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -3224,7 +3224,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">1.29999995232 1 10 0.10000000149 10 10</property>
+				  <property name="adjustment">1.29999995232 1 10 0.10000000149 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>
@@ -3247,7 +3247,7 @@
 				  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 				  <property name="snap_to_ticks">False</property>
 				  <property name="wrap">False</property>
-				  <property name="adjustment">0 -12 12 1 10 10</property>
+				  <property name="adjustment">0 -12 12 1 10 0</property>
 				</widget>
 				<packing>
 				  <property name="left_attach">1</property>

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/threshold.glade
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/threshold.glade	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/threshold.glade	2008-09-13 23:41:13 UTC (rev 4335)
@@ -148,7 +148,7 @@
 			      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 			      <property name="snap_to_ticks">False</property>
 			      <property name="wrap">False</property>
-			      <property name="adjustment">0 0 255 1 10 10</property>
+			      <property name="adjustment">0 0 255 1 10 0</property>
 			    </widget>
 			    <packing>
 			      <property name="padding">0</property>
@@ -236,7 +236,7 @@
 			      <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 			      <property name="snap_to_ticks">False</property>
 			      <property name="wrap">False</property>
-			      <property name="adjustment">255 0 255 1 10 10</property>
+			      <property name="adjustment">255 0 255 1 10 0</property>
 			    </widget>
 			    <packing>
 			      <property name="padding">0</property>
@@ -353,7 +353,7 @@
 			  <property name="update_policy">GTK_UPDATE_ALWAYS</property>
 			  <property name="snap_to_ticks">False</property>
 			  <property name="wrap">False</property>
-			  <property name="adjustment">0 0 16777215 1 10 10</property>
+			  <property name="adjustment">0 0 16777215 1 10 0</property>
 			</widget>
 			<packing>
 			  <property name="padding">0</property>
@@ -436,7 +436,7 @@
 			      <property name="digits">0</property>
 			      <property name="update_policy">GTK_UPDATE_CONTINUOUS</property>
 			      <property name="inverted">False</property>
-			      <property name="adjustment">0 0 99 1 1 1</property>
+			      <property name="adjustment">0 0 99 1 1 0</property>
 			    </widget>
 			    <packing>
 			      <property name="padding">0</property>

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/gtk/x264ConfigDialog.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/gtk/x264ConfigDialog.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/gtk/x264ConfigDialog.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -685,7 +685,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (labelTarget), 0, 0.5);
 
-  spinbuttonQuantizer_adj = gtk_adjustment_new (4, 0, 51, 1, 10, 10);
+  spinbuttonQuantizer_adj = gtk_adjustment_new (4, 0, 51, 1, 10, 0);
   spinbuttonQuantizer = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonQuantizer_adj), 1, 0);
   gtk_widget_show (spinbuttonQuantizer);
   gtk_table_attach (GTK_TABLE (tableBitrate), spinbuttonQuantizer, 1, 2, 2, 3,
@@ -805,7 +805,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (labelRange), 0, 0.5);
 
-  spinbuttonRange_adj = gtk_adjustment_new (17, 0, 64, 1, 10, 10);
+  spinbuttonRange_adj = gtk_adjustment_new (17, 0, 64, 1, 10, 0);
   spinbuttonRange = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonRange_adj), 1, 0);
   gtk_widget_show (spinbuttonRange);
   gtk_table_attach (GTK_TABLE (table11), spinbuttonRange, 1, 2, 0, 1,
@@ -814,7 +814,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonRange, _("Define how many pixels are analysed for motion estimation. The higher the range the more accurate the analysis but the slower the encoding time."), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonRange), TRUE);
 
-  spinbuttonMaxRefFrames_adj = gtk_adjustment_new (1, 1, 16, 1, 10, 10);
+  spinbuttonMaxRefFrames_adj = gtk_adjustment_new (1, 1, 16, 1, 10, 0);
   spinbuttonMaxRefFrames = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonMaxRefFrames_adj), 1, 0);
   gtk_widget_show (spinbuttonMaxRefFrames);
   gtk_table_attach (GTK_TABLE (table11), spinbuttonMaxRefFrames, 1, 2, 1, 2,
@@ -984,7 +984,7 @@
   gtk_box_pack_start (GTK_BOX (hbox7), labelTrellis, FALSE, FALSE, 0);
   gtk_misc_set_alignment (GTK_MISC (labelTrellis), 0, 0.5);
 
-  spinbuttonTrellis_adj = gtk_adjustment_new (0, 0, 2, 1, 10, 10);
+  spinbuttonTrellis_adj = gtk_adjustment_new (0, 0, 2, 1, 10, 0);
   spinbuttonTrellis = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonTrellis_adj), 1, 0);
   gtk_widget_show (spinbuttonTrellis);
   gtk_box_pack_start (GTK_BOX (hbox7), spinbuttonTrellis, FALSE, FALSE, 0);
@@ -1000,7 +1000,7 @@
   gtk_box_pack_start (GTK_BOX (hbox11), labelNoiseReduction, FALSE, FALSE, 0);
   gtk_misc_set_alignment (GTK_MISC (labelNoiseReduction), 0, 0.5);
 
-  spinbuttonNoiseReduction_adj = gtk_adjustment_new (0, 0, 1000000000, 1, 10, 10);
+  spinbuttonNoiseReduction_adj = gtk_adjustment_new (0, 0, 1000000000, 1, 10, 0);
   spinbuttonNoiseReduction = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonNoiseReduction_adj), 1, 0);
   gtk_widget_show (spinbuttonNoiseReduction);
   gtk_box_pack_start (GTK_BOX (hbox11), spinbuttonNoiseReduction, FALSE, FALSE, 0);
@@ -1039,7 +1039,7 @@
   gtk_label_set_use_markup (GTK_LABEL (labelStrength), TRUE);
   gtk_misc_set_alignment (GTK_MISC (labelStrength), 0, 0.5);
 
-  spinbuttonThreshold_adj = gtk_adjustment_new (0, -6, 6, 1, 10, 10);
+  spinbuttonThreshold_adj = gtk_adjustment_new (0, -6, 6, 1, 10, 0);
   spinbuttonThreshold = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonThreshold_adj), 1, 0);
   gtk_widget_show (spinbuttonThreshold);
   gtk_table_attach (GTK_TABLE (table8), spinbuttonThreshold, 1, 2, 1, 2,
@@ -1048,7 +1048,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonThreshold, _("Threshold for block detection. Positive values will detect more blocks, negative values will detect less."), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonThreshold), TRUE);
 
-  spinbuttonStrength_adj = gtk_adjustment_new (0, -6, 6, 1, 10, 10);
+  spinbuttonStrength_adj = gtk_adjustment_new (0, -6, 6, 1, 10, 0);
   spinbuttonStrength = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonStrength_adj), 1, 0);
   gtk_widget_show (spinbuttonStrength);
   gtk_table_attach (GTK_TABLE (table8), spinbuttonStrength, 1, 2, 0, 1,
@@ -1161,7 +1161,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (labelMaxConsecutive), 0, 0.5);
 
-  spinbuttonBias_adj = gtk_adjustment_new (0, -100, 100, 1, 10, 10);
+  spinbuttonBias_adj = gtk_adjustment_new (0, -100, 100, 1, 10, 0);
   spinbuttonBias = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBias_adj), 1, 0);
   gtk_widget_show (spinbuttonBias);
   gtk_table_attach (GTK_TABLE (table5), spinbuttonBias, 1, 2, 1, 2,
@@ -1170,7 +1170,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonBias, _("Increase / decrease probability for how often B-frames are used. It will not violate the maximum consecutive frame limit."), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonBias), TRUE);
 
-  spinbuttonMaxBFrame_adj = gtk_adjustment_new (3, 0, 16, 1, 10, 10);
+  spinbuttonMaxBFrame_adj = gtk_adjustment_new (3, 0, 16, 1, 10, 0);
   spinbuttonMaxBFrame = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonMaxBFrame_adj), 1, 0);
   gtk_widget_show (spinbuttonMaxBFrame);
   gtk_table_attach (GTK_TABLE (table5), spinbuttonMaxBFrame, 1, 2, 0, 1,
@@ -1270,7 +1270,7 @@
   gtk_table_set_row_spacings (GTK_TABLE (table2), 3);
   gtk_table_set_col_spacings (GTK_TABLE (table2), 10);
 
-  spinbuttonKeyframeBoost_adj = gtk_adjustment_new (40, 0, 100, 1, 10, 10);
+  spinbuttonKeyframeBoost_adj = gtk_adjustment_new (40, 0, 100, 1, 10, 0);
   spinbuttonKeyframeBoost = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonKeyframeBoost_adj), 1, 0);
   gtk_widget_show (spinbuttonKeyframeBoost);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonKeyframeBoost, 1, 2, 0, 1,
@@ -1280,7 +1280,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonKeyframeBoost, _("Set how much \"bitrate bonus\" a keyframe can get"), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonKeyframeBoost), TRUE);
 
-  spinbuttonBframeReduction_adj = gtk_adjustment_new (30, 0, 100, 1, 10, 10);
+  spinbuttonBframeReduction_adj = gtk_adjustment_new (30, 0, 100, 1, 10, 0);
   spinbuttonBframeReduction = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBframeReduction_adj), 1, 0);
   gtk_widget_show (spinbuttonBframeReduction);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonBframeReduction, 1, 2, 1, 2,
@@ -1289,7 +1289,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonBframeReduction, _("Set how much bitrate is deducted from a B-frame as compared to the previous P-frame"), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonBframeReduction), TRUE);
 
-  spinbuttonBitrateVariability_adj = gtk_adjustment_new (60, 0, 100, 1, 10, 10);
+  spinbuttonBitrateVariability_adj = gtk_adjustment_new (60, 0, 100, 1, 10, 0);
   spinbuttonBitrateVariability = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBitrateVariability_adj), 1, 0);
   gtk_widget_show (spinbuttonBitrateVariability);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonBitrateVariability, 1, 2, 2, 3,
@@ -1360,7 +1360,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (label15), 0, 0.5);
 
-  spinbuttonMinQp_adj = gtk_adjustment_new (10, 10, 51, 1, 10, 10);
+  spinbuttonMinQp_adj = gtk_adjustment_new (10, 10, 51, 1, 10, 0);
   spinbuttonMinQp = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonMinQp_adj), 1, 0);
   gtk_widget_show (spinbuttonMinQp);
   gtk_table_attach (GTK_TABLE (table3), spinbuttonMinQp, 1, 2, 0, 1,
@@ -1370,7 +1370,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonMinQp, _("Enforce a minimum quantizer level"), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonMinQp), TRUE);
 
-  spinbuttonMaxQp_adj = gtk_adjustment_new (51, 10, 51, 1, 10, 10);
+  spinbuttonMaxQp_adj = gtk_adjustment_new (51, 10, 51, 1, 10, 0);
   spinbuttonMaxQp = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonMaxQp_adj), 1, 0);
   gtk_widget_show (spinbuttonMaxQp);
   gtk_table_attach (GTK_TABLE (table3), spinbuttonMaxQp, 1, 2, 1, 2,
@@ -1379,7 +1379,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonMaxQp, _("Enforce a maximum quantizer level"), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonMaxQp), TRUE);
 
-  spinbuttonQpStep_adj = gtk_adjustment_new (4, 0, 10, 1, 10, 10);
+  spinbuttonQpStep_adj = gtk_adjustment_new (4, 0, 10, 1, 10, 0);
   spinbuttonQpStep = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonQpStep_adj), 1, 0);
   gtk_widget_show (spinbuttonQpStep);
   gtk_table_attach (GTK_TABLE (table3), spinbuttonQpStep, 1, 2, 2, 3,
@@ -1408,7 +1408,7 @@
   gtk_table_set_row_spacings (GTK_TABLE (table4), 3);
   gtk_table_set_col_spacings (GTK_TABLE (table4), 10);
 
-  spinbuttonSceneCut_adj = gtk_adjustment_new (40, 0, 100, 1, 10, 10);
+  spinbuttonSceneCut_adj = gtk_adjustment_new (40, 0, 100, 1, 10, 0);
   spinbuttonSceneCut = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonSceneCut_adj), 1, 0);
   gtk_widget_show (spinbuttonSceneCut);
   gtk_table_attach (GTK_TABLE (table4), spinbuttonSceneCut, 1, 2, 0, 1,
@@ -1432,7 +1432,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (label17), 0, 0.5);
 
-  spinbuttonMinIdr_adj = gtk_adjustment_new (25, 0, 100, 1, 10, 10);
+  spinbuttonMinIdr_adj = gtk_adjustment_new (25, 0, 100, 1, 10, 0);
   spinbuttonMinIdr = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonMinIdr_adj), 1, 0);
   gtk_widget_show (spinbuttonMinIdr);
   gtk_table_attach (GTK_TABLE (table4), spinbuttonMinIdr, 1, 2, 1, 2,
@@ -1441,7 +1441,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonMinIdr, _("Set minimum frame interval between IDR frames. Defines the minimum amount a frame can be reused and referenced by other frames before a new IDR frame is established."), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonMinIdr), TRUE);
 
-  spinbuttonMaxIdr_adj = gtk_adjustment_new (250, 1, 1000, 1, 10, 10);
+  spinbuttonMaxIdr_adj = gtk_adjustment_new (250, 1, 1000, 1, 10, 0);
   spinbuttonMaxIdr = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonMaxIdr_adj), 1, 0);
   gtk_widget_show (spinbuttonMaxIdr);
   gtk_table_attach (GTK_TABLE (table4), spinbuttonMaxIdr, 1, 2, 2, 3,
@@ -1498,7 +1498,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (labelVBVMaximumBitrate), 0, 0.5);
 
-  spinbuttonvbv_max_bitrate_adj = gtk_adjustment_new (0, 0, 99999, 1, 10, 10);
+  spinbuttonvbv_max_bitrate_adj = gtk_adjustment_new (0, 0, 99999, 1, 10, 0);
   spinbuttonvbv_max_bitrate = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonvbv_max_bitrate_adj), 1, 0);
   gtk_widget_show (spinbuttonvbv_max_bitrate);
   gtk_table_attach (GTK_TABLE (table12), spinbuttonvbv_max_bitrate, 1, 2, 0, 1,
@@ -1506,7 +1506,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonvbv_max_bitrate), TRUE);
 
-  spinbuttonvbv_buffer_size_adj = gtk_adjustment_new (0, 0, 99999, 1, 10, 10);
+  spinbuttonvbv_buffer_size_adj = gtk_adjustment_new (0, 0, 99999, 1, 10, 0);
   spinbuttonvbv_buffer_size = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonvbv_buffer_size_adj), 1, 0);
   gtk_widget_show (spinbuttonvbv_buffer_size);
   gtk_table_attach (GTK_TABLE (table12), spinbuttonvbv_buffer_size, 1, 2, 1, 2,
@@ -1514,7 +1514,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonvbv_buffer_size), TRUE);
 
-  spinbuttonvbv_buffer_init_adj = gtk_adjustment_new (90, 0, 100, 1, 10, 10);
+  spinbuttonvbv_buffer_init_adj = gtk_adjustment_new (90, 0, 100, 1, 10, 0);
   spinbuttonvbv_buffer_init = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonvbv_buffer_init_adj), 1, 0);
   gtk_widget_show (spinbuttonvbv_buffer_init);
   gtk_table_attach (GTK_TABLE (table12), spinbuttonvbv_buffer_init, 1, 2, 2, 3,
@@ -1562,7 +1562,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (labelBitrateVariance), 0, 0.5);
 
-  spinbuttonBitrateVariance_adj = gtk_adjustment_new (1, 0, 1, 0.10000000149, 10, 10);
+  spinbuttonBitrateVariance_adj = gtk_adjustment_new (1, 0, 1, 0.10000000149, 10, 0);
   spinbuttonBitrateVariance = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBitrateVariance_adj), 0.10000000149, 1);
   gtk_widget_show (spinbuttonBitrateVariance);
   gtk_table_attach (GTK_TABLE (table15), spinbuttonBitrateVariance, 1, 2, 0, 1,
@@ -1571,7 +1571,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonBitrateVariance, _("Allowed variance of average bitrate. Lower values mean less variance. Higher values mean more variance."), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonBitrateVariance), TRUE);
 
-  spinbuttonQuantizerCompression_adj = gtk_adjustment_new (0.600000023842, 0, 1, 0.10000000149, 10, 10);
+  spinbuttonQuantizerCompression_adj = gtk_adjustment_new (0.600000023842, 0, 1, 0.10000000149, 10, 0);
   spinbuttonQuantizerCompression = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonQuantizerCompression_adj), 0.10000000149, 1);
   gtk_widget_show (spinbuttonQuantizerCompression);
   gtk_table_attach (GTK_TABLE (table15), spinbuttonQuantizerCompression, 1, 2, 1, 2,
@@ -1580,7 +1580,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonQuantizerCompression, _("Allowed variance of average quantizer or quality. Lower values mean less variance. Higher values mean more variance. Note that 0 means constant quality while 1 means constant fluctuation. Recommended 0.6."), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonQuantizerCompression), TRUE);
 
-  spinbuttonTempBlurFrame_adj = gtk_adjustment_new (20, 0, 999, 1, 10, 10);
+  spinbuttonTempBlurFrame_adj = gtk_adjustment_new (20, 0, 999, 1, 10, 0);
   spinbuttonTempBlurFrame = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonTempBlurFrame_adj), 1, 0);
   gtk_widget_show (spinbuttonTempBlurFrame);
   gtk_table_attach (GTK_TABLE (table15), spinbuttonTempBlurFrame, 1, 2, 2, 3,
@@ -1589,7 +1589,7 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonTempBlurFrame, _("Reduced fluctuations in Quantizer (before curve compression)"), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonTempBlurFrame), TRUE);
 
-  spinbuttonTempBlurQuant_adj = gtk_adjustment_new (0.5, 0, 1, 0.5, 10, 10);
+  spinbuttonTempBlurQuant_adj = gtk_adjustment_new (0.5, 0, 1, 0.5, 10, 0);
   spinbuttonTempBlurQuant = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonTempBlurQuant_adj), 0.5, 1);
   gtk_widget_show (spinbuttonTempBlurQuant);
   gtk_table_attach (GTK_TABLE (table15), spinbuttonTempBlurQuant, 1, 2, 3, 4,
@@ -1638,7 +1638,7 @@
   gtk_table_set_row_spacings (GTK_TABLE (table16), 3);
   gtk_table_set_col_spacings (GTK_TABLE (table16), 10);
 
-  spinbutton8_adj = gtk_adjustment_new (1.39999997616, 1, 10, 0.10000000149, 10, 10);
+  spinbutton8_adj = gtk_adjustment_new (1.39999997616, 1, 10, 0.10000000149, 10, 0);
   spinbutton8 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton8_adj), 0.10000000149, 1);
   gtk_widget_show (spinbutton8);
   gtk_table_attach (GTK_TABLE (table16), spinbutton8, 1, 2, 0, 1,
@@ -1647,7 +1647,7 @@
   gtk_tooltips_set_tip (tooltips, spinbutton8, _("Quantization factors used between I and P-frames"), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton8), TRUE);
 
-  spinbutton9_adj = gtk_adjustment_new (1.29999995232, 1, 10, 0.10000000149, 10, 10);
+  spinbutton9_adj = gtk_adjustment_new (1.29999995232, 1, 10, 0.10000000149, 10, 0);
   spinbutton9 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton9_adj), 0.10000000149, 1);
   gtk_widget_show (spinbutton9);
   gtk_table_attach (GTK_TABLE (table16), spinbutton9, 1, 2, 1, 2,
@@ -1656,7 +1656,7 @@
   gtk_tooltips_set_tip (tooltips, spinbutton9, _("Quantization used between P and B-frames"), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton9), TRUE);
 
-  spinbuttonChromaQPOffset_adj = gtk_adjustment_new (0, -12, 12, 1, 10, 10);
+  spinbuttonChromaQPOffset_adj = gtk_adjustment_new (0, -12, 12, 1, 10, 0);
   spinbuttonChromaQPOffset = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonChromaQPOffset_adj), 1, 0);
   gtk_widget_show (spinbuttonChromaQPOffset);
   gtk_table_attach (GTK_TABLE (table16), spinbuttonChromaQPOffset, 1, 2, 2, 3,

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_xvid/gtk/xvidConfigDialog.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_xvid/gtk/xvidConfigDialog.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_xvid/gtk/xvidConfigDialog.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -445,7 +445,7 @@
 	{  //Intra
 		col=i%8;
 		row=i>>3;
-		spinbutton1_adj = gtk_adjustment_new (intra[i], 8, 255, 1, 10, 10);
+		spinbutton1_adj = gtk_adjustment_new (intra[i], 8, 255, 1, 10, 0);
 		intraCell[i]=spinbutton1 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton1_adj), 1, 0);
 		//     gtk_widget_show (spinbutton1);
 		gtk_table_attach (GTK_TABLE (WID(tableIntra)), spinbutton1, col, col+1, row, row+1,
@@ -459,7 +459,7 @@
 	{  //Inter
 		col=i%8;
 		row=i>>3;
-		spinbutton1_adj = gtk_adjustment_new (inter[i], 1, 255, 1, 10, 10);
+		spinbutton1_adj = gtk_adjustment_new (inter[i], 1, 255, 1, 10, 0);
 		interCell[i]=spinbutton1 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton1_adj), 1, 0);
 		//    gtk_widget_show (spinbutton1);
 		gtk_table_attach (GTK_TABLE (WID(tableInter)), spinbutton1, col, col+1, row, row+1,
@@ -786,7 +786,7 @@
   gtk_tooltips_set_tip (tooltips, entryEntry, _("Target video bitrate"), NULL);
   gtk_entry_set_width_chars (GTK_ENTRY (entryEntry), 10);
 
-  spinbuttonQuant_adj = gtk_adjustment_new (4, 1, 31, 0.1, 10, 10);
+  spinbuttonQuant_adj = gtk_adjustment_new (4, 1, 31, 0.1, 10, 0);
   spinbuttonQuant = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonQuant_adj), 1, 1);
   gtk_widget_show (spinbuttonQuant);
   gtk_box_pack_start (GTK_BOX (vbox22), spinbuttonQuant, FALSE, FALSE, 0);
@@ -968,7 +968,7 @@
   gtk_widget_show (labelIFrameIntervalMin);
   gtk_box_pack_start (GTK_BOX (hbox9), labelIFrameIntervalMin, FALSE, FALSE, 0);
 
-  spinbuttonIMinPeriod_adj = gtk_adjustment_new (1, 1, 9, 1, 10, 10);
+  spinbuttonIMinPeriod_adj = gtk_adjustment_new (1, 1, 9, 1, 10, 0);
   spinbuttonIMinPeriod = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonIMinPeriod_adj), 1, 0);
   gtk_widget_show (spinbuttonIMinPeriod);
   gtk_box_pack_start (GTK_BOX (hbox9), spinbuttonIMinPeriod, FALSE, FALSE, 0);
@@ -978,7 +978,7 @@
   gtk_widget_show (labelIFrameIntervalMax);
   gtk_box_pack_start (GTK_BOX (hbox9), labelIFrameIntervalMax, FALSE, FALSE, 0);
 
-  spinbuttonIMaxPeriod_adj = gtk_adjustment_new (250, 1, 500, 1, 10, 10);
+  spinbuttonIMaxPeriod_adj = gtk_adjustment_new (250, 1, 500, 1, 10, 0);
   spinbuttonIMaxPeriod = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonIMaxPeriod_adj), 1, 0);
   gtk_widget_show (spinbuttonIMaxPeriod);
   gtk_box_pack_start (GTK_BOX (hbox9), spinbuttonIMaxPeriod, FALSE, FALSE, 0);
@@ -1001,7 +1001,7 @@
   gtk_widget_show (labelNumberOfBFrames);
   gtk_box_pack_start (GTK_BOX (hbox11), labelNumberOfBFrames, FALSE, FALSE, 0);
 
-  spinbuttonBFrame_adj = gtk_adjustment_new (1, 0, 3, 1, 1, 1);
+  spinbuttonBFrame_adj = gtk_adjustment_new (1, 0, 3, 1, 1, 0);
   spinbuttonBFrame = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBFrame_adj), 1, 0);
   gtk_widget_show (spinbuttonBFrame);
   gtk_box_pack_start (GTK_BOX (hbox11), spinbuttonBFrame, FALSE, FALSE, 0);
@@ -1043,7 +1043,7 @@
   gtk_box_pack_start (GTK_BOX (hbox_par1), checkbutton_par_asinput, FALSE, FALSE, 10);
   gtk_tooltips_set_tip (tooltips, checkbutton_par_asinput, _("Get PAR from input video file"), NULL);
 
-  spinbutton_par_width_adj = gtk_adjustment_new (1, 1, 255, 1, 1, 1);
+  spinbutton_par_width_adj = gtk_adjustment_new (1, 1, 255, 1, 1, 0);
   spinbutton_par_width = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_par_width_adj), 1, 0);
   gtk_widget_show (spinbutton_par_width);
   gtk_box_pack_start (GTK_BOX (hbox_par1), spinbutton_par_width, FALSE, FALSE, 0);
@@ -1054,7 +1054,7 @@
   gtk_box_pack_start (GTK_BOX (hbox_par1), label_par1, FALSE, FALSE, 2);
   gtk_label_set_justify (GTK_LABEL (label_par1), GTK_JUSTIFY_CENTER);
 
-  spinbutton_par_height_adj = gtk_adjustment_new (1, 1, 255, 1, 1, 1);
+  spinbutton_par_height_adj = gtk_adjustment_new (1, 1, 255, 1, 1, 0);
   spinbutton_par_height = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_par_height_adj), 1, 0);
   gtk_widget_show (spinbutton_par_height);
   gtk_box_pack_start (GTK_BOX (hbox_par1), spinbutton_par_height, FALSE, FALSE, 0);
@@ -1170,19 +1170,19 @@
   gtk_widget_show (vbox12);
   gtk_box_pack_start (GTK_BOX (hbox14), vbox12, FALSE, FALSE, 0);
 
-  spinbuttonIMin_adj = gtk_adjustment_new (2, 1, 31, 1, 10, 10);
+  spinbuttonIMin_adj = gtk_adjustment_new (2, 1, 31, 1, 10, 0);
   spinbuttonIMin = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonIMin_adj), 1, 0);
   gtk_widget_show (spinbuttonIMin);
   gtk_box_pack_start (GTK_BOX (vbox12), spinbuttonIMin, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, spinbuttonIMin, _("Minimum quantizer allowed for I-frames"), NULL);
 
-  spinbuttonPMin_adj = gtk_adjustment_new (2, 1, 31, 1, 10, 10);
+  spinbuttonPMin_adj = gtk_adjustment_new (2, 1, 31, 1, 10, 0);
   spinbuttonPMin = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonPMin_adj), 1, 0);
   gtk_widget_show (spinbuttonPMin);
   gtk_box_pack_start (GTK_BOX (vbox12), spinbuttonPMin, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, spinbuttonPMin, _("Minimum quantizer allowed for P-frames"), NULL);
 
-  spinbuttonBMin_adj = gtk_adjustment_new (2, 1, 31, 1, 10, 10);
+  spinbuttonBMin_adj = gtk_adjustment_new (2, 1, 31, 1, 10, 0);
   spinbuttonBMin = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBMin_adj), 1, 0);
   gtk_widget_show (spinbuttonBMin);
   gtk_box_pack_start (GTK_BOX (vbox12), spinbuttonBMin, FALSE, FALSE, 0);
@@ -1211,19 +1211,19 @@
   gtk_widget_show (vbox14);
   gtk_box_pack_start (GTK_BOX (hbox14), vbox14, FALSE, FALSE, 0);
 
-  spinbuttonIMax_adj = gtk_adjustment_new (31, 1, 31, 1, 10, 10);
+  spinbuttonIMax_adj = gtk_adjustment_new (31, 1, 31, 1, 10, 0);
   spinbuttonIMax = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonIMax_adj), 1, 0);
   gtk_widget_show (spinbuttonIMax);
   gtk_box_pack_start (GTK_BOX (vbox14), spinbuttonIMax, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, spinbuttonIMax, _("Maximum quantizer allowed for I-frames"), NULL);
 
-  spinbuttonPMax_adj = gtk_adjustment_new (31, 1, 31, 1, 10, 10);
+  spinbuttonPMax_adj = gtk_adjustment_new (31, 1, 31, 1, 10, 0);
   spinbuttonPMax = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonPMax_adj), 1, 0);
   gtk_widget_show (spinbuttonPMax);
   gtk_box_pack_start (GTK_BOX (vbox14), spinbuttonPMax, FALSE, FALSE, 0);
   gtk_tooltips_set_tip (tooltips, spinbuttonPMax, _("Maximum quantizer allowed for P-frames"), NULL);
 
-  spinbuttonBMax_adj = gtk_adjustment_new (31, 1, 31, 1, 10, 10);
+  spinbuttonBMax_adj = gtk_adjustment_new (31, 1, 31, 1, 10, 0);
   spinbuttonBMax = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBMax_adj), 1, 0);
   gtk_widget_show (spinbuttonBMax);
   gtk_box_pack_start (GTK_BOX (vbox14), spinbuttonBMax, FALSE, FALSE, 0);

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ASharp/gtk/DIA_asharp.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ASharp/gtk/DIA_asharp.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ASharp/gtk/DIA_asharp.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -219,7 +219,7 @@
   gtk_label_set_justify (GTK_LABEL (label4), GTK_JUSTIFY_LEFT);
   gtk_misc_set_alignment (GTK_MISC (label4), 0, 0.5);
 
-  spinbuttonT_adj = gtk_adjustment_new (1, -1, 100, 0.5, 0.1, 0.1);
+  spinbuttonT_adj = gtk_adjustment_new (1, -1, 100, 0.5, 0.1, 0);
   spinbuttonT = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonT_adj), 1, 1);
   gtk_widget_show (spinbuttonT);
   gtk_table_attach (GTK_TABLE (table1), spinbuttonT, 1, 2, 0, 1,
@@ -227,7 +227,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonT), TRUE);
 
-  spinbuttonD_adj = gtk_adjustment_new (1, -1, 100, 0.5, 0.1, 0.1);
+  spinbuttonD_adj = gtk_adjustment_new (1, -1, 100, 0.5, 0.1, 0);
   spinbuttonD = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonD_adj), 1, 1);
   gtk_widget_show (spinbuttonD);
   gtk_table_attach (GTK_TABLE (table1), spinbuttonD, 1, 2, 1, 2,
@@ -235,7 +235,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonD), TRUE);
 
-  spinbuttonB_adj = gtk_adjustment_new (1, -1, 100, 0.5, 0.1, 0.1);
+  spinbuttonB_adj = gtk_adjustment_new (1, -1, 100, 0.5, 0.1, 0);
   spinbuttonB = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonB_adj), 1, 1);
   gtk_widget_show (spinbuttonB);
   gtk_table_attach (GTK_TABLE (table1), spinbuttonB, 1, 2, 2, 3,
@@ -249,7 +249,7 @@
                     (GtkAttachOptions) (GTK_FILL),
                     (GtkAttachOptions) (0), 0, 0);
 
-  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 100, 1, 1, 1)));
+  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 100, 1, 1, 0)));
   gtk_widget_show (hscale1);
   gtk_box_pack_start (GTK_BOX (vbox1), hscale1, TRUE, TRUE, 0);
 

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/AvisynthResize/gtk/gtk_resize.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/AvisynthResize/gtk/gtk_resize.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/AvisynthResize/gtk/gtk_resize.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -326,7 +326,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
 
-  spinbutton_width_adj = gtk_adjustment_new (2, 0, 3000, 1, 10, 10);
+  spinbutton_width_adj = gtk_adjustment_new (2, 0, 3000, 1, 10, 0);
   spinbutton_width = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_width_adj), 1, 0);
   gtk_widget_show (spinbutton_width);
   gtk_table_attach (GTK_TABLE (table2), spinbutton_width, 1, 2, 0, 1,
@@ -334,7 +334,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton_width), TRUE);
 
-  spinbutton_height_adj = gtk_adjustment_new (1, 0, 3000, 1, 10, 10);
+  spinbutton_height_adj = gtk_adjustment_new (1, 0, 3000, 1, 10, 0);
   spinbutton_height = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_height_adj), 1, 0);
   gtk_widget_show (spinbutton_height);
   gtk_table_attach (GTK_TABLE (table2), spinbutton_height, 1, 2, 1, 2,

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ChromaShift/gtk/DIA_chromaShift.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ChromaShift/gtk/DIA_chromaShift.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ChromaShift/gtk/DIA_chromaShift.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -205,7 +205,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
 
-  spinbutton_U_adj = gtk_adjustment_new (0, -32, 32, 1, 10, 10);
+  spinbutton_U_adj = gtk_adjustment_new (0, -32, 32, 1, 10, 0);
   spinbutton_U = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_U_adj), 1, 0);
   gtk_widget_show (spinbutton_U);
   gtk_table_attach (GTK_TABLE (table1), spinbutton_U, 1, 2, 0, 1,
@@ -213,7 +213,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton_U), TRUE);
 
-  spinbutton_V_adj = gtk_adjustment_new (0, -32, 32, 1, 10, 10);
+  spinbutton_V_adj = gtk_adjustment_new (0, -32, 32, 1, 10, 0);
   spinbutton_V = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_V_adj), 1, 0);
   gtk_widget_show (spinbutton_V);
   gtk_table_attach (GTK_TABLE (table1), spinbutton_V, 1, 2, 1, 2,
@@ -221,7 +221,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton_V), TRUE);
 
-  hscale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 100, 1, 1, 1)));
+  hscale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 100, 1, 1, 0)));
   gtk_widget_show (hscale);
   gtk_box_pack_start (GTK_BOX (vbox1), hscale, FALSE, FALSE, 0);
   gtk_scale_set_digits (GTK_SCALE (hscale), 0);

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Contrast/gtk/DIA_contrast.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Contrast/gtk/DIA_contrast.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Contrast/gtk/DIA_contrast.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -225,7 +225,7 @@
   gtk_widget_show (checkbuttonV);
   gtk_box_pack_start (GTK_BOX (vbox2), checkbuttonV, FALSE, FALSE, 0);
 
-  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 99, 1, 1, 1)));
+  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 99, 1, 1, 0)));
   gtk_widget_show (hscale1);
   gtk_box_pack_start (GTK_BOX (vbox1), hscale1, TRUE, TRUE, 0);
 

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Equalizer/gtk/DIA_equalizer.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Equalizer/gtk/DIA_equalizer.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Equalizer/gtk/DIA_equalizer.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -447,7 +447,7 @@
   gtk_widget_show (drawingarea1);
   gtk_box_pack_start (GTK_BOX (vbox1), drawingarea1, TRUE, TRUE, 0);
 
-  gui_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 100, 1, 10, 10)));
+  gui_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 100, 1, 10, 0)));
   gtk_widget_show (gui_scale);
   gtk_box_pack_start (GTK_BOX (vbox1), gui_scale, TRUE, TRUE, 0);
 

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Hue/gtk/DIA_hue.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Hue/gtk/DIA_hue.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Hue/gtk/DIA_hue.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -186,19 +186,19 @@
   gtk_label_set_use_markup (GTK_LABEL (label2), TRUE);
   gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
 
-  hscaleHue = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, -90, 90, 1, 1, 1)));
+  hscaleHue = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, -90, 90, 1, 1, 0)));
   gtk_widget_show (hscaleHue);
   gtk_table_attach (GTK_TABLE (table1), hscaleHue, 1, 2, 0, 1,
                     (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                     (GtkAttachOptions) (GTK_FILL), 0, 0);
 
-  hscaleSaturation = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, -10, 10, 1, 1, 1)));
+  hscaleSaturation = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, -10, 10, 1, 1, 0)));
   gtk_widget_show (hscaleSaturation);
   gtk_table_attach (GTK_TABLE (table1), hscaleSaturation, 1, 2, 1, 2,
                     (GtkAttachOptions) (GTK_FILL),
                     (GtkAttachOptions) (GTK_FILL), 0, 0);
 
-  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 100, 1, 1, 1)));
+  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 100, 1, 1, 0)));
   gtk_widget_show (hscale1);
   gtk_box_pack_start (GTK_BOX (vbox1), hscale1, TRUE, TRUE, 0);
 

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MPDelogo/gtk/DIA_mpdelogo.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MPDelogo/gtk/DIA_mpdelogo.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MPDelogo/gtk/DIA_mpdelogo.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -423,28 +423,28 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (label7), 0, 0.5);
 
-  spinbuttonX_adj = gtk_adjustment_new (1, 0, 2000, 1, 10, 10);
+  spinbuttonX_adj = gtk_adjustment_new (1, 0, 2000, 1, 10, 0);
   spinbuttonX = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonX_adj), 1, 0);
   gtk_widget_show (spinbuttonX);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonX, 1, 2, 0, 1,
                     (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                     (GtkAttachOptions) (0), 0, 0);
 
-  spinbuttonY_adj = gtk_adjustment_new (1, 0, 2000, 1, 10, 10);
+  spinbuttonY_adj = gtk_adjustment_new (1, 0, 2000, 1, 10, 0);
   spinbuttonY = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonY_adj), 1, 0);
   gtk_widget_show (spinbuttonY);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonY, 1, 2, 1, 2,
                     (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                     (GtkAttachOptions) (0), 0, 0);
 
-  spinbuttonW_adj = gtk_adjustment_new (1, 0, 2000, 1, 10, 10);
+  spinbuttonW_adj = gtk_adjustment_new (1, 0, 2000, 1, 10, 0);
   spinbuttonW = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonW_adj), 1, 0);
   gtk_widget_show (spinbuttonW);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonW, 3, 4, 0, 1,
                     (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                     (GtkAttachOptions) (0), 0, 0);
 
-  spinbuttonH_adj = gtk_adjustment_new (1, 0, 2000, 1, 10, 10);
+  spinbuttonH_adj = gtk_adjustment_new (1, 0, 2000, 1, 10, 0);
   spinbuttonH = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonH_adj), 1, 0);
   gtk_widget_show (spinbuttonH);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonH, 3, 4, 1, 2,
@@ -463,7 +463,7 @@
                     (GtkAttachOptions) (GTK_FILL),
                     (GtkAttachOptions) (GTK_FILL), 0, 0);
 
-  spinbuttonBand_adj = gtk_adjustment_new (1, 0, 100, 1, 10, 10);
+  spinbuttonBand_adj = gtk_adjustment_new (1, 0, 100, 1, 10, 0);
   spinbuttonBand = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonBand_adj), 1, 0);
   gtk_widget_show (spinbuttonBand);
   gtk_table_attach (GTK_TABLE (table2), spinbuttonBand, 1, 2, 2, 3,

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MplayerResize/gtk/gtk_resize.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MplayerResize/gtk/gtk_resize.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/MplayerResize/gtk/gtk_resize.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -326,7 +326,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
 
-  spinbutton_width_adj = gtk_adjustment_new (2, 0, 3000, 1, 10, 10);
+  spinbutton_width_adj = gtk_adjustment_new (2, 0, 3000, 1, 10, 0);
   spinbutton_width = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_width_adj), 1, 0);
   gtk_widget_show (spinbutton_width);
   gtk_table_attach (GTK_TABLE (table2), spinbutton_width, 1, 2, 0, 1,
@@ -334,7 +334,7 @@
                     (GtkAttachOptions) (0), 0, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton_width), TRUE);
 
-  spinbutton_height_adj = gtk_adjustment_new (1, 0, 3000, 1, 10, 10);
+  spinbutton_height_adj = gtk_adjustment_new (1, 0, 3000, 1, 10, 0);
   spinbutton_height = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_height_adj), 1, 0);
   gtk_widget_show (spinbutton_height);
   gtk_table_attach (GTK_TABLE (table2), spinbutton_height, 1, 2, 1, 2,

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Srt/gtk/DIA_srt.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Srt/gtk/DIA_srt.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/Srt/gtk/DIA_srt.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -211,13 +211,13 @@
   gtk_widget_show (label1);
   gtk_box_pack_start (GTK_BOX (hbox1), label1, FALSE, FALSE, 0);
 
-  spinbutton1_adj = gtk_adjustment_new (1, 6, 99, 1, 10, 10);
+  spinbutton1_adj = gtk_adjustment_new (1, 6, 99, 1, 10, 0);
   spinbutton1 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton1_adj), 1, 2);
   gtk_widget_show (spinbutton1);
   gtk_box_pack_start (GTK_BOX (hbox1), spinbutton1, FALSE, FALSE, 0);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton1), TRUE);
 
-  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 99, 1, 1, 1)));
+  hscale1 = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 99, 1, 1, 0)));
   gtk_widget_show (hscale1);
   gtk_box_pack_start (GTK_BOX (vbox1), hscale1, FALSE, FALSE, 0);
 
@@ -229,7 +229,7 @@
   gtk_widget_show (drawingarea1);
   gtk_box_pack_start (GTK_BOX (hbox2), drawingarea1, TRUE, TRUE, 0);
 
-  vscale1 = gtk_vscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 100, 1, 1, 1, 1)));
+  vscale1 = gtk_vscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 100, 1, 1, 1, 0)));
   gtk_widget_show (vscale1);
   gtk_box_pack_start (GTK_BOX (hbox2), vscale1, FALSE, FALSE, 0);
   gtk_scale_set_digits (GTK_SCALE (vscale1), 0);

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/colorYUV/gtk/DIA_coloryuv.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/colorYUV/gtk/DIA_coloryuv.cpp	2008-09-13 23:32:09 UTC (rev 4334)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/colorYUV/gtk/DIA_coloryuv.cpp	2008-09-13 23:41:13 UTC (rev 4335)
@@ -208,7 +208,7 @@
                       (GtkAttachOptions) (0), 0, 0);
     gtk_misc_set_alignment (GTK_MISC (label8), 0, 0.5);
 
-    spinbuttonUC_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 1);
+    spinbuttonUC_adj = gtk_adjustment_new (0, -10000, 10000, 1, 1, 0);
     spinbuttonUC = gtk_spin_button_new (GTK_ADJUSTMENT (spinbuttonUC_adj), 1, 0);
     gtk_widget_show (spinbuttonUC);
     gtk_table_attach (GTK_TABLE (table1), spinbuttonUC, 1, 2, 2, 3,



From gruntster at mail.berlios.de  Sun Sep 14 02:07:47 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sun, 14 Sep 2008 02:07:47 +0200
Subject: [Avidemux-svn-commit] r4336 -
	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters
Message-ID: <200809140007.m8E07lxW005889@sheep.berlios.de>

Author: gruntster
Date: 2008-09-14 02:07:40 +0200 (Sun, 14 Sep 2008)
New Revision: 4336

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.h
Log:
[Merge] correct case for header filename

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.h	2008-09-13 23:41:13 UTC (rev 4335)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_seekablePreview.h	2008-09-14 00:07:40 UTC (rev 4336)
@@ -18,7 +18,7 @@
 #include "ui_seekablePreview.h"
 
 #include "ADM_assert.h"
-#include "ADM_videofilter.h"
+#include "ADM_videoFilter.h"
 #include "DIA_flyDialog.h"
 #include "../ADM_dialog/DIA_flyPreview.h"
 



From gruntster at mail.berlios.de  Sun Sep 14 03:20:14 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sun, 14 Sep 2008 03:20:14 +0200
Subject: [Avidemux-svn-commit] r4337 - in
	branches/avidemux_2.5_branch_gruntster/avidemux:
	ADM_UIs/ADM_GTK/include ADM_UIs/ADM_GTK/src
	ADM_UIs/ADM_QT4/include ADM_UIs/ADM_QT4/src ADM_coreImage/include
Message-ID: <200809140120.m8E1KEvE013116@sheep.berlios.de>

Author: gruntster
Date: 2008-09-14 03:19:29 +0200 (Sun, 14 Sep 2008)
New Revision: 4337

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/include/DIA_flyDialogGtk.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/DIA_flyDialogGtk.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/include/DIA_flyDialogQt4.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/T_flyDialogQt4.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreImage/include/DIA_flyDialog.h
Log:
[flyDialog] fix flyDialog so it works again

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/include/DIA_flyDialogGtk.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/include/DIA_flyDialogGtk.h	2008-09-14 00:07:40 UTC (rev 4336)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/include/DIA_flyDialogGtk.h	2008-09-14 01:19:29 UTC (rev 4337)
@@ -37,7 +37,6 @@
   virtual uint32_t sliderGet(void);
   virtual uint8_t  sliderSet(uint32_t value);
   virtual void    postInit(uint8_t reInit);
-  virtual uint8_t    sliderChanged(void) {return 0;};
-  };
+};
 
 #endif

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/DIA_flyDialogGtk.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/DIA_flyDialogGtk.cpp	2008-09-14 00:07:40 UTC (rev 4336)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_GTK/src/DIA_flyDialogGtk.cpp	2008-09-14 01:19:29 UTC (rev 4337)
@@ -38,7 +38,7 @@
                               void *canvas, void *slider, int yuv, ResizeMethod resizeMethod):
                                 ADM_flyDialog(width,height,in,canvas,slider,yuv,resizeMethod)
   {
-  
+		EndConstructor();
   }
 void ADM_flyDialogGtk::postInit(uint8_t reInit)
 {

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/include/DIA_flyDialogQt4.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/include/DIA_flyDialogQt4.h	2008-09-14 00:07:40 UTC (rev 4336)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/include/DIA_flyDialogQt4.h	2008-09-14 01:19:29 UTC (rev 4337)
@@ -32,8 +32,6 @@
   virtual uint32_t sliderGet(void);
   virtual uint8_t  sliderSet(uint32_t value);
   virtual void    postInit(uint8_t reInit);
-  virtual uint8_t    sliderChanged(void){return 0;};
-            
 };
 
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/T_flyDialogQt4.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/T_flyDialogQt4.cpp	2008-09-14 00:07:40 UTC (rev 4336)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/T_flyDialogQt4.cpp	2008-09-14 01:19:29 UTC (rev 4337)
@@ -33,8 +33,8 @@
 	QWidget *graphicsView = ((ADM_QCanvas*)_canvas)->parentWidget();
 	QSlider  *slider=(QSlider *)_slider;
 
-	graphicsView->setMinimumSize(_w, _h);
-	graphicsView->resize(_w, _h);
+	graphicsView->setMinimumSize(_zoomW, _zoomH);
+	graphicsView->resize(_zoomW, _zoomH);
 
 	if (slider)
 		slider->setMaximum(_in->getInfo()->nb_frames);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreImage/include/DIA_flyDialog.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreImage/include/DIA_flyDialog.h	2008-09-14 00:07:40 UTC (rev 4336)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_coreImage/include/DIA_flyDialog.h	2008-09-14 01:19:29 UTC (rev 4337)
@@ -122,10 +122,9 @@
   virtual uint32_t sliderGet(void)=0;
   virtual uint8_t  sliderSet(uint32_t value) =0;
   virtual void    postInit(uint8_t reInit)=0;
-  virtual uint8_t    sliderChanged(void)=0;
-  
-  
-};          
+  virtual uint8_t sliderChanged(void);
+};
+
 #ifdef ADM_UI_TYPE_BUILD
 #if ADM_UI_TYPE_BUILD == ADM_UI_QT4
   #include "DIA_flyDialogQt4.h"



From gruntster at mail.berlios.de  Sun Sep 14 03:36:31 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sun, 14 Sep 2008 03:36:31 +0200
Subject: [Avidemux-svn-commit] r4338 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK/ADM_gui2 ADM_GTK/glade ADM_QT4/ADM_gui
Message-ID: <200809140136.m8E1aVXK014127@sheep.berlios.de>

Author: gruntster
Date: 2008-09-14 03:36:24 +0200 (Sun, 14 Sep 2008)
New Revision: 4338

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
Log:
[UI] display unit for audio shift on main UIs (FS#364)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp	2008-09-14 01:19:29 UTC (rev 4337)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp	2008-09-14 01:36:24 UTC (rev 4338)
@@ -214,6 +214,7 @@
   GtkWidget *CheckButtonTimeshift;
   GtkObject *spinbuttonTimeShift_adj;
   GtkWidget *spinbuttonTimeShift;
+  GtkWidget *label23;
   GtkWidget *vbox13;
   GtkWidget *label20;
   GtkWidget *alignment14;
@@ -1164,6 +1165,10 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonTimeShift, QT_TR_NOOP("Audio/video time shift (ms)"), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonTimeShift), TRUE);
 
+  label23 = gtk_label_new (QT_TR_NOOP("ms"));
+  gtk_widget_show (label23);
+  gtk_box_pack_start (GTK_BOX (hbox19), label23, FALSE, FALSE, 0);
+
   vbox13 = gtk_vbox_new (FALSE, 0);
   gtk_widget_show (vbox13);
   gtk_box_pack_start (GTK_BOX (vbox9), vbox13, FALSE, FALSE, 0);
@@ -1657,6 +1662,7 @@
   GLADE_HOOKUP_OBJECT (mainWindow, hbox19, "hbox19");
   GLADE_HOOKUP_OBJECT (mainWindow, CheckButtonTimeshift, "CheckButtonTimeshift");
   GLADE_HOOKUP_OBJECT (mainWindow, spinbuttonTimeShift, "spinbuttonTimeShift");
+  GLADE_HOOKUP_OBJECT (mainWindow, label23, "label23");
   GLADE_HOOKUP_OBJECT (mainWindow, vbox13, "vbox13");
   GLADE_HOOKUP_OBJECT (mainWindow, label20, "label20");
   GLADE_HOOKUP_OBJECT (mainWindow, alignment14, "alignment14");
@@ -1712,4 +1718,3 @@
 
   return mainWindow;
 }
-

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade	2008-09-14 01:19:29 UTC (rev 4337)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade	2008-09-14 01:36:24 UTC (rev 4338)
@@ -18,7 +18,6 @@
   <property name="type_hint">GDK_WINDOW_TYPE_HINT_NORMAL</property>
   <property name="gravity">GDK_GRAVITY_NORTH_WEST</property>
   <property name="focus_on_map">True</property>
-  <property name="urgency_hint">False</property>
 
   <child>
     <widget class="GtkVBox" id="vbox1">
@@ -30,8 +29,6 @@
 	<widget class="GtkMenuBar" id="menuBar">
 	  <property name="visible">True</property>
 	  <property name="can_focus">True</property>
-	  <property name="pack_direction">GTK_PACK_DIRECTION_LTR</property>
-	  <property name="child_pack_direction">GTK_PACK_DIRECTION_LTR</property>
 
 	  <child>
 	    <widget class="GtkMenuItem" id="menuitem1">
@@ -1768,6 +1765,31 @@
 					  <property name="fill">True</property>
 					</packing>
 				      </child>
+
+				      <child>
+					<widget class="GtkLabel" id="label23">
+					  <property name="visible">True</property>
+					  <property name="label" translatable="yes">ms</property>
+					  <property name="use_underline">False</property>
+					  <property name="use_markup">False</property>
+					  <property name="justify">GTK_JUSTIFY_LEFT</property>
+					  <property name="wrap">False</property>
+					  <property name="selectable">False</property>
+					  <property name="xalign">0.5</property>
+					  <property name="yalign">0.5</property>
+					  <property name="xpad">0</property>
+					  <property name="ypad">0</property>
+					  <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+					  <property name="width_chars">-1</property>
+					  <property name="single_line_mode">False</property>
+					  <property name="angle">0</property>
+					</widget>
+					<packing>
+					  <property name="padding">0</property>
+					  <property name="expand">False</property>
+					  <property name="fill">False</property>
+					</packing>
+				      </child>
 				    </widget>
 				    <packing>
 				      <property name="padding">0</property>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2008-09-14 01:19:29 UTC (rev 4337)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2008-09-14 01:36:24 UTC (rev 4338)
@@ -415,8 +415,12 @@
                   <property name="minimum" >
                    <number>-99999</number>
                   </property>
-                  <property name="maximum" >
-                   <number>99999</number>
+                 </widget>
+                </item>
+                <item>
+                 <widget class="QLabel" name="label_9" >
+                  <property name="text" >
+                   <string>ms</string>
                   </property>
                  </widget>
                 </item>



From gruntster at mail.berlios.de  Sun Sep 14 03:42:34 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sun, 14 Sep 2008 03:42:34 +0200
Subject: [Avidemux-svn-commit] r4339 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui
Message-ID: <200809140142.m8E1gY3E014404@sheep.berlios.de>

Author: gruntster
Date: 2008-09-14 03:42:29 +0200 (Sun, 14 Sep 2008)
New Revision: 4339

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
Log:
[Qt] increase maximum audio shift on main UI

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2008-09-14 01:36:24 UTC (rev 4338)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2008-09-14 01:42:29 UTC (rev 4339)
@@ -412,6 +412,9 @@
                     <verstretch>0</verstretch>
                    </sizepolicy>
                   </property>
+                  <property name="maximum" >
+                   <number>99999</number>
+                  </property>
                   <property name="minimum" >
                    <number>-99999</number>
                   </property>



From gruntster at mail.berlios.de  Sun Sep 14 04:02:35 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sun, 14 Sep 2008 04:02:35 +0200
Subject: [Avidemux-svn-commit] r4340 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory
Message-ID: <200809140202.m8E22Zu3016789@sheep.berlios.de>

Author: gruntster
Date: 2008-09-14 04:02:29 +0200 (Sun, 14 Sep 2008)
New Revision: 4340

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_frame.cpp
Log:
[Qt] make dialogFactory's diaElemFrame play nice with extra layouts

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_frame.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_frame.cpp	2008-09-14 01:42:29 UTC (rev 4339)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_frame.cpp	2008-09-14 02:02:29 UTC (rev 4340)
@@ -58,11 +58,9 @@
 }
 void diaElemFrame::setMe(void *dialog, void *opaque,uint32_t line)
 {
-  
    QGridLayout *layout=(QGridLayout*) opaque;  
-   QGridLayout *layout2;
-   
-   layout2=new QGridLayout((QWidget *)dialog);
+   QGridLayout *layout2 = new QGridLayout();
+
    myWidget=(void *)layout2; 
 
     QLabel *text=new QLabel( (QWidget *)dialog);
@@ -78,7 +76,6 @@
     elems[i]->setMe(dialog,layout2,v); 
     v+=elems[i]->getSize();
   }
-  myWidget=(void *)layout2;
 }
 //*****************************
 void diaElemFrame::getMe(void)



From gruntster at mail.berlios.de  Sun Sep 14 04:14:19 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sun, 14 Sep 2008 04:14:19 +0200
Subject: [Avidemux-svn-commit] r4341 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory
Message-ID: <200809140214.m8E2EJwu021805@sheep.berlios.de>

Author: gruntster
Date: 2008-09-14 04:14:10 +0200 (Sun, 14 Sep 2008)
New Revision: 4341

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp
Log:
[Qt] add spacer above buttonBox on dialogFactory windows

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp	2008-09-14 02:02:29 UTC (rev 4340)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp	2008-09-14 02:14:10 UTC (rev 4341)
@@ -50,11 +50,11 @@
   
   dialog.setWindowTitle(QString::fromUtf8(title));
   
+  QSpacerItem spacer(20, 16, QSizePolicy::Minimum, QSizePolicy::Fixed);
+  QDialogButtonBox buttonBox;
   QVBoxLayout vboxLayout;
   QGridLayout layout;
-  
-  vboxLayout.addLayout(&layout);
-  
+
  int  v=0;
   for(int i=0;i<nb;i++)
   {
@@ -70,15 +70,17 @@
   }
 
   // Add buttons
-   QDialogButtonBox buttonBox(&dialog);
-    buttonBox.setStandardButtons(QDialogButtonBox::Ok | QDialogButtonBox::Cancel);
-     QObject::connect(&buttonBox, SIGNAL(accepted()), &dialog, SLOT(accept()));
-     QObject::connect(&buttonBox, SIGNAL(rejected()), &dialog, SLOT(reject()));
-     vboxLayout.addWidget(&buttonBox);
-	 //layout.addWidget(&buttonBox);
-  // run
-	 dialog.setLayout(&vboxLayout);
-	 //dialog.setLayout(&layout);
+   buttonBox.setStandardButtons(QDialogButtonBox::Ok | QDialogButtonBox::Cancel);
+
+   QObject::connect(&buttonBox, SIGNAL(accepted()), &dialog, SLOT(accept()));
+   QObject::connect(&buttonBox, SIGNAL(rejected()), &dialog, SLOT(reject()));
+
+   vboxLayout.addLayout(&layout);
+   vboxLayout.addItem(&spacer);
+   vboxLayout.addWidget(&buttonBox);
+
+   dialog.setLayout(&vboxLayout);
+
   if(dialog.exec()==QDialog::Accepted)
   {
      for(int i=0;i<nb;i++)
@@ -114,29 +116,31 @@
   ADM_assert(tabs);
   
   dialog.setWindowTitle(QString::fromUtf8(title));
-  
-  QGridLayout layout(&dialog);
 
-  // Add tabs
-  QTabWidget wtabs((QWidget *)&dialog);
-  // Add buttons
-   QDialogButtonBox buttonBox((QWidget *)&dialog);
-    buttonBox.setStandardButtons(QDialogButtonBox::Ok
-                            | QDialogButtonBox::Cancel);
+  QVBoxLayout vboxLayout;
+  QGridLayout layout;  
+  QSpacerItem spacer(20, 16, QSizePolicy::Minimum, QSizePolicy::Fixed);
+  QTabWidget wtabs;
+  QDialogButtonBox buttonBox;
+
+    buttonBox.setStandardButtons(QDialogButtonBox::Ok | QDialogButtonBox::Cancel);
+
      QObject::connect(&buttonBox, SIGNAL(accepted()), &dialog, SLOT(accept()));
      QObject::connect(&buttonBox, SIGNAL(rejected()), &dialog, SLOT(reject()));
-     
+
      for(int i=0;i<nb;i++)
      {
         ADM_assert(tabs[i]);
-        insertTab(i,tabs[i],&wtabs); 
-    
+        insertTab(i,tabs[i],&wtabs);
       }
-     
-     layout.addWidget(&wtabs,0,0);
-     layout.addWidget(&buttonBox,1,0);
-  // run
-  dialog.setLayout(&layout);
+
+	 vboxLayout.addLayout(&layout);
+     vboxLayout.addWidget(&wtabs,0,0);
+	 vboxLayout.addItem(&spacer);
+     vboxLayout.addWidget(&buttonBox,1,0);
+
+	 dialog.setLayout(&vboxLayout);
+
   if(dialog.exec()==QDialog::Accepted)
   {
       // Read tabs



From gruntster at mail.berlios.de  Sun Sep 14 05:36:56 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sun, 14 Sep 2008 05:36:56 +0200
Subject: [Avidemux-svn-commit] r4342 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI
Message-ID: <200809140336.m8E3au2F001497@sheep.berlios.de>

Author: gruntster
Date: 2008-09-14 05:36:47 +0200 (Sun, 14 Sep 2008)
New Revision: 4342

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp
Log:
[UI] fix crash on postprocessing window

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp	2008-09-14 02:14:10 UTC (rev 4341)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp	2008-09-14 03:36:47 UTC (rev 4342)
@@ -12,60 +12,40 @@
 //
 //
 
-#include <stdio.h>
-#include <stdlib.h>
-#include <string.h>
-#include <ADM_assert.h>
-#include <math.h>
-#include <math.h>
-#include <iconv.h>
 #include "config.h"
-
-
-#include "fourcc.h"
-#include "avio.hxx"
-
-#include "avi_vars.h"
-
-#include "ADM_toolkit/toolkit.hxx"
-
+#include "default.h"
 #include "ADM_userInterfaces/ADM_commonUI/DIA_factory.h"
 
 int DIA_getMPParams( uint32_t *pplevel, uint32_t *ppstrength,uint32_t *swap)
 {
-        
+	diaElemUInteger   postProcStrength(ppstrength,QT_TR_NOOP("_Filter strength:"),0,5);
+	diaElemToggle     swapuv(swap, QT_TR_NOOP("_Swap U and V"));
 
-#define PX(x) x
-        
-    diaElemUInteger   postProcStrength(PX(ppstrength),QT_TR_NOOP("_Filter strength:"),0,5);
-    diaElemToggle     swapuv(PX(swap),QT_TR_NOOP("_Swap U and V"));
-    
-    uint32_t hzd,vzd,dring;
-    
+	uint32_t hzd,vzd,dring;
+
 #define DOME(x,y) if(*pplevel & x) y=1;else y=0;
-    
-    DOME(1,hzd);
-    DOME(2,vzd);
-    DOME(4,dring);
-    
-     diaElemToggle     fhzd(&hzd,QT_TR_NOOP("_Horizontal deblocking"));
-     diaElemToggle     fvzd(&vzd,QT_TR_NOOP("_Vertical deblocking"));
-     diaElemToggle     fdring(&dring,QT_TR_NOOP("_Deringing"));
-    
-    
-    
-      diaElem *elems[5]={&postProcStrength,&swapuv,&fhzd
-                        ,&fvzd,&fdring};
 
-   if(diaFactoryRun("Postprocessing",5,elems))
-  {
+	DOME(1,hzd);
+	DOME(2,vzd);
+	DOME(4,dring);
+
+	diaElemToggle     fhzd(&hzd,QT_TR_NOOP("_Horizontal deblocking"));
+	diaElemToggle     fvzd(&vzd,QT_TR_NOOP("_Vertical deblocking"));
+	diaElemToggle     fdring(&dring,QT_TR_NOOP("_Deringing"));
+
+	diaElem *elems[5]={&postProcStrength,&swapuv,&fhzd,&fvzd,&fdring};
+
+	if(diaFactoryRun(QT_TR_NOOP("Postprocessing"),5,elems))
+	{
 #undef DOME
 #define DOME(x,y) if(y) *pplevel |=x;
-    *pplevel=0;
-    DOME(1,hzd);
-    DOME(2,vzd);
-    DOME(4,dring);
-    return 1;
-  }
-  return 0;	
+
+		*pplevel=0;
+		DOME(1,hzd);
+		DOME(2,vzd);
+		DOME(4,dring);
+
+		return 1;
+	}
+	return 0;	
 }



From gruntster at mail.berlios.de  Sun Sep 14 13:44:56 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sun, 14 Sep 2008 13:44:56 +0200
Subject: [Avidemux-svn-commit] r4343 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory
Message-ID: <200809141144.m8EBiuNY021738@sheep.berlios.de>

Author: gruntster
Date: 2008-09-14 13:44:50 +0200 (Sun, 14 Sep 2008)
New Revision: 4343

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp
Log:
[Qt] allocate objects using heap rather than stack for dialogFactory windows

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp	2008-09-14 03:36:47 UTC (rev 4342)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp	2008-09-14 11:44:50 UTC (rev 4343)
@@ -50,16 +50,16 @@
   
   dialog.setWindowTitle(QString::fromUtf8(title));
   
-  QSpacerItem spacer(20, 16, QSizePolicy::Minimum, QSizePolicy::Fixed);
-  QDialogButtonBox buttonBox;
-  QVBoxLayout vboxLayout;
-  QGridLayout layout;
+  QSpacerItem *spacer = new QSpacerItem(20, 16, QSizePolicy::Minimum, QSizePolicy::Fixed);
+  QDialogButtonBox *buttonBox = new QDialogButtonBox();
+  QVBoxLayout *vboxLayout = new QVBoxLayout();
+  QGridLayout *layout = new QGridLayout();
 
  int  v=0;
   for(int i=0;i<nb;i++)
   {
     ADM_assert(elems[i]);
-     elems[i]->setMe( (void *)&dialog,&layout,v); 
+     elems[i]->setMe( (void *)&dialog,layout,v); 
      v+=elems[i]->getSize();
     
   }
@@ -70,16 +70,16 @@
   }
 
   // Add buttons
-   buttonBox.setStandardButtons(QDialogButtonBox::Ok | QDialogButtonBox::Cancel);
+   buttonBox->setStandardButtons(QDialogButtonBox::Ok | QDialogButtonBox::Cancel);
 
-   QObject::connect(&buttonBox, SIGNAL(accepted()), &dialog, SLOT(accept()));
-   QObject::connect(&buttonBox, SIGNAL(rejected()), &dialog, SLOT(reject()));
+   QObject::connect(buttonBox, SIGNAL(accepted()), &dialog, SLOT(accept()));
+   QObject::connect(buttonBox, SIGNAL(rejected()), &dialog, SLOT(reject()));
 
-   vboxLayout.addLayout(&layout);
-   vboxLayout.addItem(&spacer);
-   vboxLayout.addWidget(&buttonBox);
+   vboxLayout->addLayout(layout);
+   vboxLayout->addItem(spacer);
+   vboxLayout->addWidget(buttonBox);
 
-   dialog.setLayout(&vboxLayout);
+   dialog.setLayout(vboxLayout);
 
   if(dialog.exec()==QDialog::Accepted)
   {
@@ -117,29 +117,29 @@
   
   dialog.setWindowTitle(QString::fromUtf8(title));
 
-  QVBoxLayout vboxLayout;
-  QGridLayout layout;  
-  QSpacerItem spacer(20, 16, QSizePolicy::Minimum, QSizePolicy::Fixed);
-  QTabWidget wtabs;
-  QDialogButtonBox buttonBox;
+  QVBoxLayout *vboxLayout = new QVBoxLayout();
+  QGridLayout *layout = new QGridLayout();
+  QSpacerItem *spacer = new QSpacerItem(20, 16, QSizePolicy::Minimum, QSizePolicy::Fixed);
+  QTabWidget *wtabs = new QTabWidget();
+  QDialogButtonBox *buttonBox = new QDialogButtonBox();
 
-    buttonBox.setStandardButtons(QDialogButtonBox::Ok | QDialogButtonBox::Cancel);
+    buttonBox->setStandardButtons(QDialogButtonBox::Ok | QDialogButtonBox::Cancel);
 
-     QObject::connect(&buttonBox, SIGNAL(accepted()), &dialog, SLOT(accept()));
-     QObject::connect(&buttonBox, SIGNAL(rejected()), &dialog, SLOT(reject()));
+     QObject::connect(buttonBox, SIGNAL(accepted()), &dialog, SLOT(accept()));
+     QObject::connect(buttonBox, SIGNAL(rejected()), &dialog, SLOT(reject()));
 
      for(int i=0;i<nb;i++)
      {
         ADM_assert(tabs[i]);
-        insertTab(i,tabs[i],&wtabs);
+        insertTab(i,tabs[i],wtabs);
       }
 
-	 vboxLayout.addLayout(&layout);
-     vboxLayout.addWidget(&wtabs,0,0);
-	 vboxLayout.addItem(&spacer);
-     vboxLayout.addWidget(&buttonBox,1,0);
+	 vboxLayout->addLayout(layout);
+     vboxLayout->addWidget(wtabs,0,0);
+	 vboxLayout->addItem(spacer);
+     vboxLayout->addWidget(buttonBox,1,0);
 
-	 dialog.setLayout(&vboxLayout);
+	 dialog.setLayout(vboxLayout);
 
   if(dialog.exec()==QDialog::Accepted)
   {



From gruntster at mail.berlios.de  Sun Sep 14 13:52:56 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sun, 14 Sep 2008 13:52:56 +0200
Subject: [Avidemux-svn-commit] r4344 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200809141152.m8EBquQO022457@sheep.berlios.de>

Author: gruntster
Date: 2008-09-14 13:52:51 +0200 (Sun, 14 Sep 2008)
New Revision: 4344

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp
Log:
[Qt] hook up spinboxes to preview on asharp filter window

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp	2008-09-14 11:44:50 UTC (rev 4343)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp	2008-09-14 11:52:51 UTC (rev 4344)
@@ -61,6 +61,7 @@
  private slots:
    void sliderUpdate(int foo);
    void valueChanged(int foo);
+   void valueChanged(double foo);
 
  private:
      
@@ -84,7 +85,7 @@
 
 
         connect( ui.horizontalSlider,SIGNAL(valueChanged(int)),this,SLOT(sliderUpdate(int)));
-#define SPINNER(x) connect( ui.doubleSpinBox##x,SIGNAL(valueChanged(int)),this,SLOT(valueChanged(int))); 
+#define SPINNER(x) connect( ui.doubleSpinBox##x,SIGNAL(valueChanged(double)),this,SLOT(valueChanged(double))); 
           SPINNER(Treshold);
           SPINNER(Strength);
           SPINNER(Block);
@@ -116,6 +117,14 @@
   lock--;
 }
 
+void Ui_asharpWindow::valueChanged( double f )
+{
+  if(lock) return;
+  lock++;
+  myCrop->update();
+  lock--;
+}
+
 #define MYSPIN(x) w->doubleSpinBox##x
 //************************
 uint8_t flyASharp::upload(void)



From gruntster at mail.berlios.de  Sun Sep 14 13:58:29 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sun, 14 Sep 2008 13:58:29 +0200
Subject: [Avidemux-svn-commit] r4345 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui
Message-ID: <200809141158.m8EBwT4G022966@sheep.berlios.de>

Author: gruntster
Date: 2008-09-14 13:58:23 +0200 (Sun, 14 Sep 2008)
New Revision: 4345

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
Log:
[Qt] enable/disable audio shift on main UI

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2008-09-14 11:52:51 UTC (rev 4344)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2008-09-14 11:58:23 UTC (rev 4345)
@@ -406,6 +406,9 @@
                 </item>
                 <item>
                  <widget class="QSpinBox" name="spinBox_TimeValue" >
+                  <property name="enabled" >
+                   <bool>false</bool>
+                  </property>
                   <property name="sizePolicy" >
                    <sizepolicy vsizetype="Fixed" hsizetype="Minimum" >
                     <horstretch>0</horstretch>
@@ -422,6 +425,9 @@
                 </item>
                 <item>
                  <widget class="QLabel" name="label_9" >
+                  <property name="enabled" >
+                   <bool>false</bool>
+                  </property>
                   <property name="text" >
                    <string>ms</string>
                   </property>
@@ -2522,5 +2528,38 @@
  <resources>
   <include location="avidemux.qrc" />
  </resources>
- <connections/>
+ <connections>
+  <connection>
+   <sender>checkBox_TimeShift</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>spinBox_TimeValue</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>59</x>
+     <y>321</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>119</x>
+     <y>321</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>checkBox_TimeShift</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_9</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>59</x>
+     <y>321</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>160</x>
+     <y>321</y>
+    </hint>
+   </hints>
+  </connection>
+ </connections>
 </ui>



From gruntster at mail.berlios.de  Sun Sep 14 14:16:49 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sun, 14 Sep 2008 14:16:49 +0200
Subject: [Avidemux-svn-commit] r4346 - in
	branches/avidemux_2.4_branch/platforms/windows:
	build_scripts/avidemux_2.4 installer
Message-ID: <200809141216.m8ECGnQi024758@sheep.berlios.de>

Author: gruntster
Date: 2008-09-14 14:16:43 +0200 (Sun, 14 Sep 2008)
New Revision: 4346

Modified:
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Package Notes.xml
   branches/avidemux_2.4_branch/platforms/windows/installer/avidemux.nsi
Log:
[Win32] insatll Qt by default and display beta for SVN builds

Modified: branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Package Notes.xml
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Package Notes.xml	2008-09-14 11:58:23 UTC (rev 4345)
+++ branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Package Notes.xml	2008-09-14 12:16:43 UTC (rev 4346)
@@ -1,5 +1,13 @@
 <?xml version="1.0"?>
 <log>
+  <buildentry revision="4324" date="2008-09-11">
+    <comment>Patched GTK+ 2.14.1 to fix incorrect spin button ranges.</comment>
+  </buildentry>
+  <buildentry revision="4316" date="2008-09-08">
+    <comment>Updated GLib to version 2.18.0-2.</comment>
+    <comment>Updated GTK+ to version 2.14.1-1.</comment>
+    <comment>Updated x264 to r965 (patched).</comment>
+  </buildentry>
   <buildentry revision="4304" date="2008-09-02">
     <comment>Updated Qt to version 4.4.1.</comment>
     <comment>Updated x264 to r956 (patched).</comment>

Modified: branches/avidemux_2.4_branch/platforms/windows/installer/avidemux.nsi
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/installer/avidemux.nsi	2008-09-14 11:58:23 UTC (rev 4345)
+++ branches/avidemux_2.4_branch/platforms/windows/installer/avidemux.nsi	2008-09-14 12:16:43 UTC (rev 4346)
@@ -7,7 +7,7 @@
 !include revision.nsh
 !include builddir.nsh
 
-Name "Avidemux 2.4.3 r${REVISION}"
+Name "Avidemux 2.4.3 beta r${REVISION}"
 
 SetCompressor /SOLID lzma
 SetCompressorDictSize 96
@@ -96,7 +96,7 @@
 ShowInstDetails nevershow
 VIProductVersion 2.4.3.${REVISION}
 VIAddVersionKey ProductName Avidemux
-VIAddVersionKey ProductVersion "${VERSION}"
+VIAddVersionKey ProductVersion "${VERSION} (beta)"
 VIAddVersionKey FileVersion ""
 VIAddVersionKey FileDescription ""
 VIAddVersionKey LegalCopyright ""
@@ -240,7 +240,7 @@
     SectionEnd
     
     Section Qt4 SecUiQt4
-        SectionIn 2
+        SectionIn 1 2
         SetOutPath $INSTDIR
         SetOverwrite on
         File ${BUILDDIR}\QtGui4.dll



From gruntster at mail.berlios.de  Sun Sep 14 16:52:16 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sun, 14 Sep 2008 16:52:16 +0200
Subject: [Avidemux-svn-commit] r4347 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory
Message-ID: <200809141452.m8EEqG4O015265@sheep.berlios.de>

Author: gruntster
Date: 2008-09-14 16:52:11 +0200 (Sun, 14 Sep 2008)
New Revision: 4347

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_frame.cpp
Log:
[Qt] use a groupbox for dialogFactory's frame

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_frame.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_frame.cpp	2008-09-14 12:16:43 UTC (rev 4346)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_frame.cpp	2008-09-14 14:52:11 UTC (rev 4347)
@@ -1,6 +1,6 @@
 /***************************************************************************
-  FAC_toggle.cpp
-  Handle dialog factory element : Toggle
+  FAC_frame.cpp
+  Handle dialog factory element : Frame
   (C) 2006 Mean Fixounet at free.fr 
 ***************************************************************************/
 
@@ -13,9 +13,8 @@
  *                                                                         *
  ***************************************************************************/
 
-#include <config.h>
+#include "config.h"
 
-
 #include <string.h>
 #include <stdio.h>
 #include <stdlib.h>
@@ -26,6 +25,7 @@
 #include <QGridLayout>
 #include <QCheckBox>
 #include <QLabel>
+#include <QGroupBox>
 
 #include "default.h"
 #include "ADM_commonUI/DIA_factory.h"
@@ -56,27 +56,23 @@
   if(paramTitle)
     delete paramTitle;
 }
+
 void diaElemFrame::setMe(void *dialog, void *opaque,uint32_t line)
 {
-   QGridLayout *layout=(QGridLayout*) opaque;  
-   QGridLayout *layout2 = new QGridLayout();
+	QGridLayout *layout = (QGridLayout*)opaque;
+	QGroupBox *groupBox = new QGroupBox(QString::fromUtf8(paramTitle));
+	QGridLayout *layout2 = new QGridLayout(groupBox);
+	int v = 0;
 
-   myWidget=(void *)layout2; 
+	for (int i = 0; i < nbElems; i++)
+	{
+		elems[i]->setMe(groupBox, layout2, v); 
+		v += elems[i]->getSize();
+	}
 
-    QLabel *text=new QLabel( (QWidget *)dialog);
-    QString string = QString::fromUtf8(paramTitle);
-    
-    string="<b>"+string+"</b>";
-    text->setText(string);
- layout->addWidget(text,line,0);
- layout->addLayout(layout2,line+1,0);
- int  v=0;
-  for(int i=0;i<nbElems;i++)
-  {
-    elems[i]->setMe(dialog,layout2,v); 
-    v+=elems[i]->getSize();
-  }
+	layout->addWidget(groupBox, line, 0);
 }
+
 //*****************************
 void diaElemFrame::getMe(void)
 {



From gruntster at mail.berlios.de  Mon Sep 15 15:07:15 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 15 Sep 2008 15:07:15 +0200
Subject: [Avidemux-svn-commit] r4348 - in
	branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264:
	. qt4 xml
Message-ID: <200809151307.m8FD7Fo8027339@sheep.berlios.de>

Author: gruntster
Date: 2008-09-15 15:07:06 +0200 (Mon, 15 Sep 2008)
New Revision: 4348

Modified:
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.h
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/qt4/x264ConfigDialog.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/qt4/x264ConfigDialog.ui
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/x264Param.xsd
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/xml/PlayStation Portable.xml
Log:
[x264] update AQ modes

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.cpp	2008-09-14 14:52:11 UTC (rev 4347)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.cpp	2008-09-15 13:07:06 UTC (rev 4348)
@@ -862,7 +862,7 @@
 		_param.rc.f_pb_factor = pbFrameQuantiser;
 }
 
-#if X264_BUILD >= 59
+#if X264_BUILD >= 62
 unsigned int x264Options::getAdaptiveQuantiserMode(void)
 {
 	return _param.rc.i_aq_mode;
@@ -870,7 +870,7 @@
 
 void x264Options::setAdaptiveQuantiserMode(unsigned int adaptiveQuantiserMode)
 {
-	if (adaptiveQuantiserMode <= 2)
+	if (adaptiveQuantiserMode <= 1)
 		_param.rc.i_aq_mode = adaptiveQuantiserMode;
 }
 
@@ -1374,18 +1374,15 @@
 	xmlNewChild(xmlNodeChild, NULL, (xmlChar*)"ipFrameQuantiser", number2String(xmlBuffer, bufferSize, getIpFrameQuantiser()));
 	xmlNewChild(xmlNodeChild, NULL, (xmlChar*)"pbFrameQuantiser", number2String(xmlBuffer, bufferSize, getPbFrameQuantiser()));
 
-#if X264_BUILD >= 59
+#if X264_BUILD >= 62
 	switch (getAdaptiveQuantiserMode())
 	{
 		case X264_AQ_NONE:
 			strcpy((char*)xmlBuffer, "none");
 			break;
-		case X264_AQ_LOCAL:
-			strcpy((char*)xmlBuffer, "local");
+		case X264_AQ_VARIANCE:
+			strcpy((char*)xmlBuffer, "variance");
 			break;
-		case X264_AQ_GLOBAL:
-			strcpy((char*)xmlBuffer, "global");
-			break;
 	}
 
 	xmlNewChild(xmlNodeChild, NULL, (xmlChar*)"adaptiveQuantiserMode", xmlBuffer);
@@ -1919,17 +1916,15 @@
 				setIpFrameQuantiser(atof(content));
 			else if (strcmp((char*)xmlChild->name, "pbFrameQuantiser") == 0)
 				setPbFrameQuantiser(atof(content));
-#if X264_BUILD >= 59
+#if X264_BUILD >= 62
 			else if (strcmp((char*)xmlChild->name, "adaptiveQuantiserMode") == 0)
 			{
-				int adaptiveQuantiserMode = 0;
+				int adaptiveQuantiserMode = X264_AQ_VARIANCE;
 
 				if (strcmp(content, "none") == 0)
 					adaptiveQuantiserMode = X264_AQ_NONE;
-				else if (strcmp(content, "local") == 0)
-					adaptiveQuantiserMode = X264_AQ_LOCAL;
-				else if (strcmp(content, "global") == 0)
-					adaptiveQuantiserMode = X264_AQ_GLOBAL;
+				else if (strcmp(content, "variance") == 0)
+					adaptiveQuantiserMode = X264_AQ_VARIANCE;
 
 				setAdaptiveQuantiserMode(adaptiveQuantiserMode);
 			}

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.h	2008-09-14 14:52:11 UTC (rev 4347)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.h	2008-09-15 13:07:06 UTC (rev 4348)
@@ -291,7 +291,7 @@
 	float getPbFrameQuantiser(void);
 	void setPbFrameQuantiser(float pbFrameQuantiser);
 
-#if X264_BUILD >= 59
+#if X264_BUILD >= 62
 	unsigned int getAdaptiveQuantiserMode(void);
 	void setAdaptiveQuantiserMode(unsigned int adaptiveQuantiserMode);
 

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/qt4/x264ConfigDialog.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/qt4/x264ConfigDialog.cpp	2008-09-14 14:52:11 UTC (rev 4347)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/qt4/x264ConfigDialog.cpp	2008-09-15 13:07:06 UTC (rev 4348)
@@ -688,22 +688,10 @@
 	ui.quantiserBeforeCompressSpinBox->setValue(options->getReduceFluxBeforeCurveCompression());
 	ui.quantiserAfterCompressSpinBox->setValue(options->getReduceFluxAfterCurveCompression());
 
-#if X264_BUILD >= 59
-	switch (options->getAdaptiveQuantiserMode())
-	{
-		case X264_AQ_NONE:
-			ui.aqModeComboBox->setCurrentIndex(0);
-			break;
-		case X264_AQ_LOCAL:
-			ui.aqModeComboBox->setCurrentIndex(1);
-			break;
-		case X264_AQ_GLOBAL:
-			ui.aqModeComboBox->setCurrentIndex(2);
-			break;
-	}
-
+#if X264_BUILD >= 62
+	ui.aqVarianceCheckBox->setChecked(options->getAdaptiveQuantiserMode() == X264_AQ_VARIANCE);
 	ui.aqStrengthSpinBox->setValue(options->getAdaptiveQuantiserStrength());
-#endif	// X264_BUILD >= 59
+#endif	// X264_BUILD >= 62
 
 	// Advanced tab
 	ui.vbvMaxBitrateSpinBox->setValue(options->getVbvMaximumBitrate());
@@ -895,22 +883,14 @@
 	options->setReduceFluxBeforeCurveCompression(ui.quantiserBeforeCompressSpinBox->value());
 	options->setReduceFluxAfterCurveCompression(ui.quantiserAfterCompressSpinBox->value());
 
-#if X264_BUILD >= 59
-	switch (ui.aqModeComboBox->currentIndex())
-	{
-		case 0:
-			options->setAdaptiveQuantiserMode(X264_AQ_NONE);
-			break;
-		case 1:
-			options->setAdaptiveQuantiserMode(X264_AQ_LOCAL);
-			break;
-		case 2:
-			options->setAdaptiveQuantiserMode(X264_AQ_GLOBAL);
-			break;
-	}
+#if X264_BUILD >= 62
+	if (ui.aqVarianceCheckBox->isChecked())
+		options->setAdaptiveQuantiserMode(X264_AQ_VARIANCE);
+	else
+		options->setAdaptiveQuantiserMode(X264_AQ_NONE);
 
 	options->setAdaptiveQuantiserStrength(ui.aqStrengthSpinBox->value());
-#endif	// X264_BUILD >= 59
+#endif	// X264_BUILD >= 62
 
 	// Advanced tab
 	options->setVbvMaximumBitrate(ui.vbvMaxBitrateSpinBox->value());

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/qt4/x264ConfigDialog.ui
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/qt4/x264ConfigDialog.ui	2008-09-14 14:52:11 UTC (rev 4347)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/qt4/x264ConfigDialog.ui	2008-09-15 13:07:06 UTC (rev 4348)
@@ -101,7 +101,7 @@
      <property name="sizeHint" >
       <size>
        <width>491</width>
-       <height>10</height>
+       <height>16</height>
       </size>
      </property>
     </spacer>
@@ -1532,6 +1532,9 @@
                 </property>
                 <item>
                  <widget class="QLabel" name="alphaC0Label" >
+                  <property name="enabled" >
+                   <bool>false</bool>
+                  </property>
                   <property name="text" >
                    <string>Strength:</string>
                   </property>
@@ -1539,6 +1542,9 @@
                 </item>
                 <item>
                  <widget class="QSpinBox" name="alphaC0SpinBox" >
+                  <property name="enabled" >
+                   <bool>false</bool>
+                  </property>
                   <property name="maximum" >
                    <number>6</number>
                   </property>
@@ -1565,6 +1571,9 @@
                 </item>
                 <item>
                  <widget class="QLabel" name="betaLabel" >
+                  <property name="enabled" >
+                   <bool>false</bool>
+                  </property>
                   <property name="text" >
                    <string>Threshold:</string>
                   </property>
@@ -1572,6 +1581,9 @@
                 </item>
                 <item>
                  <widget class="QSpinBox" name="betaSpinBox" >
+                  <property name="enabled" >
+                   <bool>false</bool>
+                  </property>
                   <property name="maximum" >
                    <number>6</number>
                   </property>
@@ -2907,14 +2919,14 @@
          <property name="title" >
           <string>Adaptive Quantisation</string>
          </property>
-         <layout class="QGridLayout" >
+         <layout class="QVBoxLayout" >
           <property name="margin" >
            <number>9</number>
           </property>
           <property name="spacing" >
            <number>6</number>
           </property>
-          <item row="1" column="1" >
+          <item>
            <layout class="QHBoxLayout" >
             <property name="margin" >
              <number>0</number>
@@ -2923,19 +2935,10 @@
              <number>6</number>
             </property>
             <item>
-             <widget class="QDoubleSpinBox" name="aqStrengthSpinBox" >
-              <property name="decimals" >
-               <number>1</number>
+             <widget class="QCheckBox" name="aqVarianceCheckBox" >
+              <property name="text" >
+               <string>Variance AQ</string>
               </property>
-              <property name="maximum" >
-               <double>1.500000000000000</double>
-              </property>
-              <property name="minimum" >
-               <double>0.500000000000000</double>
-              </property>
-              <property name="singleStep" >
-               <double>0.100000000000000</double>
-              </property>
              </widget>
             </item>
             <item>
@@ -2943,54 +2946,47 @@
               <property name="orientation" >
                <enum>Qt::Horizontal</enum>
               </property>
+              <property name="sizeType" >
+               <enum>QSizePolicy::Fixed</enum>
+              </property>
               <property name="sizeHint" >
                <size>
-                <width>40</width>
+                <width>20</width>
                 <height>20</height>
                </size>
               </property>
              </spacer>
             </item>
-           </layout>
-          </item>
-          <item row="1" column="0" >
-           <widget class="QLabel" name="aqStrengthLabel" >
-            <property name="text" >
-             <string>AQ Strength:</string>
-            </property>
-           </widget>
-          </item>
-          <item row="0" column="1" >
-           <layout class="QHBoxLayout" >
-            <property name="margin" >
-             <number>0</number>
-            </property>
-            <property name="spacing" >
-             <number>6</number>
-            </property>
             <item>
-             <widget class="QComboBox" name="aqModeComboBox" >
-              <property name="currentIndex" >
-               <number>2</number>
+             <widget class="QLabel" name="aqStrengthLabel" >
+              <property name="enabled" >
+               <bool>false</bool>
               </property>
-              <item>
-               <property name="text" >
-                <string>Disabled</string>
-               </property>
-              </item>
-              <item>
-               <property name="text" >
-                <string>Avoid Moving Bits Between Frames</string>
-               </property>
-              </item>
-              <item>
-               <property name="text" >
-                <string>Move Bits Between Frames</string>
-               </property>
-              </item>
+              <property name="text" >
+               <string>Strength:</string>
+              </property>
              </widget>
             </item>
             <item>
+             <widget class="QDoubleSpinBox" name="aqStrengthSpinBox" >
+              <property name="enabled" >
+               <bool>false</bool>
+              </property>
+              <property name="decimals" >
+               <number>1</number>
+              </property>
+              <property name="maximum" >
+               <double>1.500000000000000</double>
+              </property>
+              <property name="minimum" >
+               <double>0.500000000000000</double>
+              </property>
+              <property name="singleStep" >
+               <double>0.100000000000000</double>
+              </property>
+             </widget>
+            </item>
+            <item>
              <spacer>
               <property name="orientation" >
                <enum>Qt::Horizontal</enum>
@@ -3005,13 +3001,6 @@
             </item>
            </layout>
           </item>
-          <item row="0" column="0" >
-           <widget class="QLabel" name="aqModeLabel" >
-            <property name="text" >
-             <string>AQ Mode:</string>
-            </property>
-           </widget>
-          </item>
          </layout>
         </widget>
        </item>
@@ -4505,5 +4494,37 @@
     </hint>
    </hints>
   </connection>
+  <connection>
+   <sender>aqVarianceCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>aqStrengthLabel</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>79</x>
+     <y>471</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>175</x>
+     <y>471</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>aqVarianceCheckBox</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>aqStrengthSpinBox</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>79</x>
+     <y>471</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>226</x>
+     <y>471</y>
+    </hint>
+   </hints>
+  </connection>
  </connections>
 </ui>

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/x264Param.xsd
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/x264Param.xsd	2008-09-14 14:52:11 UTC (rev 4347)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/x264Param.xsd	2008-09-15 13:07:06 UTC (rev 4348)
@@ -459,8 +459,7 @@
                       <xs:simpleType>
                         <xs:restriction base="xs:string">
                           <xs:enumeration value="none"/>
-                          <xs:enumeration value="local"/>
-                          <xs:enumeration value="global"/>
+                          <xs:enumeration value="variance"/>
                         </xs:restriction>
                       </xs:simpleType>
                     </xs:element>

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/xml/PlayStation Portable.xml
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/xml/PlayStation Portable.xml	2008-09-14 14:52:11 UTC (rev 4347)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/xml/PlayStation Portable.xml	2008-09-15 13:07:06 UTC (rev 4348)
@@ -276,7 +276,7 @@
       <vbvInitialOccupancy>0.900000</vbvInitialOccupancy>
       <ipFrameQuantiser>1.400000</ipFrameQuantiser>
       <pbFrameQuantiser>1.300000</pbFrameQuantiser>
-      <adaptiveQuantiserMode>global</adaptiveQuantiserMode>
+      <adaptiveQuantiserMode>variance</adaptiveQuantiserMode>
       <adaptiveQuantiserStrength>1.000000</adaptiveQuantiserStrength>
       <quantiserCurveCompression>0.600000</quantiserCurveCompression>
       <reduceFluxBeforeCurveCompression>20.000000</reduceFluxBeforeCurveCompression>



From gruntster at mail.berlios.de  Mon Sep 15 17:11:10 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 15 Sep 2008 17:11:10 +0200
Subject: [Avidemux-svn-commit] r4349 -
	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_mplex
Message-ID: <200809151511.m8FFBAB6006999@sheep.berlios.de>

Author: gruntster
Date: 2008-09-15 17:11:03 +0200 (Mon, 15 Sep 2008)
New Revision: 4349

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_mplex/CMakeLists.txt
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_mplex/cpu_accel.c
Log:
[Win64] mplex compilation fixes for Win64

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_mplex/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_mplex/CMakeLists.txt	2008-09-15 13:07:06 UTC (rev 4348)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_mplex/CMakeLists.txt	2008-09-15 15:11:03 UTC (rev 4349)
@@ -15,6 +15,10 @@
 
 IF (ADM_CPU_X86)
     ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} "-DHAVE_X86CPU")
+    
+    IF (ADM_CPU_X86_64)
+		ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} "-DHAVE_X86_64CPU")
+    ENDIF (ADM_CPU_X86_64)
 ELSEIF (ADM_CPU_ALTIVEC)
     ADD_CFLAGS_ALL_TARGETS(${ADM_LIB} "-DHAVE_ALTIVEC")
 ENDIF (ADM_CPU_X86)
\ No newline at end of file

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_mplex/cpu_accel.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_mplex/cpu_accel.c	2008-09-15 13:07:06 UTC (rev 4348)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_mplex/cpu_accel.c	2008-09-15 15:11:03 UTC (rev 4349)
@@ -108,14 +108,14 @@
 
 static int x86_accel (void)
 {
-    long eax, ebx, ecx, edx;
+    intptr_t eax, ebx, ecx, edx;
     int32_t AMD;
     int32_t caps;
 
 	/* Slightly weirdified cpuid that preserves the ebx and edi required
 	   by gcc for PIC offset table and frame pointer */
 
-#ifdef __LP64__
+#ifdef HAVE_X86_64CPU
 #  define REG_b "rbx"
 #  define REG_S "rsi"
 #else



From gruntster at mail.berlios.de  Mon Sep 15 17:41:20 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 15 Sep 2008 17:41:20 +0200
Subject: [Avidemux-svn-commit] r4350 -
	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libmpeg2enc
Message-ID: <200809151541.m8FFfKWq009383@sheep.berlios.de>

Author: gruntster
Date: 2008-09-15 17:41:14 +0200 (Mon, 15 Sep 2008)
New Revision: 4350

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libmpeg2enc/readpic.cc
Log:
[Win64] mpeg2enc compilation fixes

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libmpeg2enc/readpic.cc
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libmpeg2enc/readpic.cc	2008-09-15 15:11:03 UTC (rev 4349)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_libmpeg2enc/readpic.cc	2008-09-15 15:41:14 UTC (rev 4350)
@@ -128,16 +128,11 @@
 static int pix_sum16_mmx(uint8_t * pix, int line_size)
 {
     const int h=16;
-#ifdef HAVE_X86_64_CPU
-    long int rline_size=line_size;
-    long int sum;
-    long int index= -line_size*h;
-#else    
-    int rline_size=line_size;
-    int sum;
-    int index= -line_size*h;
-#endif
 
+    intptr_t rline_size=line_size;
+    intptr_t sum;
+    intptr_t index= -line_size*h;
+
     __asm __volatile(
                 "pxor %%mm7, %%mm7		\n\t"
                 "pxor %%mm6, %%mm6		\n\t"



From gruntster at mail.berlios.de  Mon Sep 15 17:57:58 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 15 Sep 2008 17:57:58 +0200
Subject: [Avidemux-svn-commit] r4351 -
	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv
Message-ID: <200809151557.m8FFvwSq010735@sheep.berlios.de>

Author: gruntster
Date: 2008-09-15 17:57:53 +0200 (Mon, 15 Sep 2008)
New Revision: 4351

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/RTjpeg.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/RTjpegN.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/minilzo.c
Log:
[Win64] nuppel video compilation fixes

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/RTjpeg.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/RTjpeg.c	2008-09-15 15:41:14 UTC (rev 4350)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/RTjpeg.c	2008-09-15 15:57:53 UTC (rev 4351)
@@ -2718,9 +2718,9 @@
 
 void RTjpeg_init_data(void)
 {
- unsigned long dptr;
+ uintptr_t dptr;
  
- dptr=(unsigned long)&(RTjpeg_alldata[0]);
+ dptr=(uintptr_t)&(RTjpeg_alldata[0]);
  dptr+=32;
  dptr=dptr>>5;
  dptr=dptr<<5; /* cache align data */
@@ -3134,12 +3134,12 @@
 
 void RTjpeg_init_mcompress(void)
 {
- unsigned long tmp;
+ uintptr_t tmp;
 
  if(!RTjpeg_old)
  {
   RTjpeg_old=ADM_alloc((4*RTjpeg_width*RTjpeg_height)+32);
-  tmp=(unsigned long)RTjpeg_old;
+  tmp=(uintptr_t)RTjpeg_old;
   tmp+=32;
   tmp=tmp>>5;
   RTjpeg_old=(__s16 *)(tmp<<5);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/RTjpegN.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/RTjpegN.cpp	2008-09-15 15:41:14 UTC (rev 4350)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/RTjpegN.cpp	2008-09-15 15:57:53 UTC (rev 4351)
@@ -2740,12 +2740,12 @@
 
     if (key_rate > 0)
     {
-        unsigned long tmp;
+        uintptr_t tmp;
         if (old)
             delete [] old_start;
         old_start = new int16_t[((4*width*height)+32)];
 
-	tmp = (unsigned long)old_start;
+	tmp = (uintptr_t)old_start;
         tmp += 32;
         tmp = tmp>>5;
 	
@@ -2762,7 +2762,7 @@
 
 int RTjpeg::SetIntra(int *key, int *lm, int *cm)
 {
-    unsigned long tmp;
+    uintptr_t tmp;
  
     if (*key < 0) 
         *key = 0;
@@ -2790,7 +2790,7 @@
     if (old) 
         delete [] old_start;
     old_start = new int16_t[((4*width*height)+32)];
-    tmp = (unsigned long)old_start;
+    tmp = (uintptr_t)old_start;
     tmp += 32;
     tmp = tmp >> 5;
     old = (int16_t *)(tmp << 5);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/minilzo.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/minilzo.c	2008-09-15 15:41:14 UTC (rev 4350)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_inputs/ADM_nuv/minilzo.c	2008-09-15 15:57:53 UTC (rev 4351)
@@ -34,6 +34,8 @@
  *   http://wildsau.idv.uni-linz.ac.at/mfx/lzo.html
  */
 
+#include "ADM_inttype.h"
+
 #define __LZO_IN_MINILZO
 #include "config.h"
 #ifdef MINILZO_HAVE_CONFIG_H
@@ -354,40 +356,9 @@
 #  endif
 #endif
 #if !defined(__LZO_HAVE_PTR_T)
-#  if defined(SIZEOF_CHAR_P) && defined(SIZEOF_UNSIGNED_LONG)
-#    if (SIZEOF_CHAR_P == SIZEOF_UNSIGNED_LONG)
-       typedef unsigned long    lzo_ptr_t;
-       typedef long             lzo_sptr_t;
-#      define __LZO_HAVE_PTR_T
-#    endif
-#  endif
-#endif
-#if !defined(__LZO_HAVE_PTR_T)
-#  if defined(SIZEOF_CHAR_P) && defined(SIZEOF_UNSIGNED)
-#    if (SIZEOF_CHAR_P == SIZEOF_UNSIGNED)
-       typedef unsigned int     lzo_ptr_t;
-       typedef int              lzo_sptr_t;
-#      define __LZO_HAVE_PTR_T
-#    endif
-#  endif
-#endif
-#if !defined(__LZO_HAVE_PTR_T)
-#  if defined(SIZEOF_CHAR_P) && defined(SIZEOF_UNSIGNED_SHORT)
-#    if (SIZEOF_CHAR_P == SIZEOF_UNSIGNED_SHORT)
-       typedef unsigned short   lzo_ptr_t;
-       typedef short            lzo_sptr_t;
-#      define __LZO_HAVE_PTR_T
-#    endif
-#  endif
-#endif
-#if !defined(__LZO_HAVE_PTR_T)
-#  if defined(LZO_HAVE_CONFIG_H) || defined(SIZEOF_CHAR_P)
-#    error "no suitable type for lzo_ptr_t"
-#  else
-     typedef unsigned long      lzo_ptr_t;
-     typedef long               lzo_sptr_t;
+     typedef uintptr_t    lzo_ptr_t;
+     typedef intptr_t     lzo_sptr_t;
 #    define __LZO_HAVE_PTR_T
-#  endif
 #endif
 
 #if defined(__LZO_DOS16) || defined(__LZO_WIN16)



From gruntster at mail.berlios.de  Mon Sep 15 18:24:46 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 15 Sep 2008 18:24:46 +0200
Subject: [Avidemux-svn-commit] r4352 - in
	branches/avidemux_2.5_branch_gruntster/avidemux:
	ADM_libraries/ADM_smjs ADM_script
Message-ID: <200809151624.m8FGOkoe013052@sheep.berlios.de>

Author: gruntster
Date: 2008-09-15 18:24:40 +0200 (Mon, 15 Sep 2008)
New Revision: 4352

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_smjs/jsautocfg.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_smjs/jstypes.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_script/CMakeLists.txt
Log:
[Win64] spidermonkey compilation fixes

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_smjs/jsautocfg.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_smjs/jsautocfg.h	2008-09-15 15:57:53 UTC (rev 4351)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_smjs/jsautocfg.h	2008-09-15 16:24:40 UTC (rev 4352)
@@ -23,13 +23,22 @@
 #define JS_BYTES_PER_DWORD  8L
 
 #ifdef ADM_CPU_64BIT
+#ifdef __WIN32
+#define JS_BYTES_PER_LONG   4L
+#define JS_BITS_PER_LONG    32L
+#define JS_BITS_PER_LONG_LOG2   5L
+#define JS_ALIGN_OF_LONG    4L
+#else
 #define JS_BYTES_PER_LONG   8L
+#define JS_BITS_PER_LONG    64L
+#define JS_BITS_PER_LONG_LOG2   6L
+#define JS_ALIGN_OF_LONG    8L
+#endif	// __WIN32
+
 #define JS_BYTES_PER_WORD   8L
-#define JS_BITS_PER_LONG    64L
 #define JS_BITS_PER_WORD    64L
-#define JS_BITS_PER_LONG_LOG2   6L
 #define JS_BITS_PER_WORD_LOG2   6L
-#define JS_ALIGN_OF_LONG    8L
+
 #define JS_ALIGN_OF_INT64   8L
 #define JS_ALIGN_OF_DOUBLE  8L
 #define JS_ALIGN_OF_POINTER 8L
@@ -70,9 +79,15 @@
 #define JS_ALIGN_OF_INT     4L
 #define JS_ALIGN_OF_FLOAT   4L
 
+#if defined(ADM_CPU_64BIT) && defined(__WIN32)
+#define JS_BYTES_PER_WORD_LOG2   3L
+#define JS_BYTES_PER_DWORD_LOG2  3L
+#define JS_WORDS_PER_DWORD_LOG2  0L
+#else
 #define JS_BYTES_PER_WORD_LOG2   2L
 #define JS_BYTES_PER_DWORD_LOG2  3L
 #define JS_WORDS_PER_DWORD_LOG2  1L
+#endif
 
 #define JS_STACK_GROWTH_DIRECTION (-1)
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_smjs/jstypes.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_smjs/jstypes.h	2008-09-15 15:57:53 UTC (rev 4351)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_smjs/jstypes.h	2008-09-15 16:24:40 UTC (rev 4352)
@@ -362,7 +362,11 @@
 **  A type for pointer difference. Variables of this type are suitable
 **      for storing a pointer or pointer sutraction.
 ************************************************************************/
+#if JS_BYTES_PER_WORD == 8 && JS_BYTES_PER_LONG != 8
+typedef JSUint64 JSUptrdiff;
+#else
 typedef unsigned long JSUptrdiff;
+#endif
 
 /************************************************************************
 ** TYPES:       JSBool
@@ -387,8 +391,13 @@
 /*
 ** A JSWord is an integer that is the same size as a void*
 */
+#if JS_BYTES_PER_WORD == 8 && JS_BYTES_PER_LONG != 8
+typedef JSInt64 JSWord;
+typedef JSUint64 JSUword;
+#else
 typedef long JSWord;
 typedef unsigned long JSUword;
+#endif
 
 #include "jsotypes.h"
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_script/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_script/CMakeLists.txt	2008-09-15 15:57:53 UTC (rev 4351)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_script/CMakeLists.txt	2008-09-15 16:24:40 UTC (rev 4352)
@@ -3,4 +3,9 @@
 	ADM_Avidemux.cpp       ADM_JSAvidemuxAudio.cpp  ADM_JSAvidemuxVideo.cpp  ADM_JSFunctions.cpp        DirectorySearch.cpp)
 
 ADD_ADM_LIB_ALL_TARGETS(ADM_script ${ADM_script_SRCS})
-ADD_CFLAGS_ALL_TARGETS(ADM_script "-DJS_THREADSAFE -DXP_UNIX")
\ No newline at end of file
+
+IF (WIN32)
+	ADD_CFLAGS_ALL_TARGETS(ADM_script "-DJS_THREADSAFE -DXP_WIN")
+ELSE (WIN32)
+	ADD_CFLAGS_ALL_TARGETS(ADM_script "-DJS_THREADSAFE -DXP_UNIX")
+ENDIF (WIN32)
\ No newline at end of file



From gruntster at mail.berlios.de  Mon Sep 15 18:46:08 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 15 Sep 2008 18:46:08 +0200
Subject: [Avidemux-svn-commit] r4353 -
	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src
Message-ID: <200809151646.m8FGk80n031728@sheep.berlios.de>

Author: gruntster
Date: 2008-09-15 18:45:22 +0200 (Mon, 15 Sep 2008)
New Revision: 4353

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_crashdump.cpp
Log:
[Win64] update backtrace for Win64

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_crashdump.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_crashdump.cpp	2008-09-15 16:24:40 UTC (rev 4352)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_crashdump.cpp	2008-09-15 16:45:22 UTC (rev 4353)
@@ -73,10 +73,16 @@
 
 static void dumpFrame(void* processId, void* frameAddr)
 {
+#ifdef ADM_CPU_X86_64
+#define ARCH_DWORD DWORD64
+#else
+#define ARCH_DWORD DWORD
+#endif
+
 	MEMORY_BASIC_INFORMATION mbi;
 	char moduleName[MAX_PATH];
 	HMODULE moduleAddr;
-	DWORD symDisplacement;
+	ARCH_DWORD symDisplacement;
 	IMAGEHLP_SYMBOL* pSymbol;
 
 	if (VirtualQuery(frameAddr, &mbi, sizeof(mbi)))
@@ -88,12 +94,12 @@
 
 		printf("%s(", moduleName);
 
-		if (SymGetSymFromAddr(processId, (uint32_t)frameAddr, &symDisplacement, pSymbol))
+		if (SymGetSymFromAddr(processId, (ARCH_DWORD)frameAddr, &symDisplacement, pSymbol))
 			printf("%s", pSymbol->Name);
 		else
 			printf("<unknown>");
 
-		printf("+0x%X) [0x%08X]\n", (uint32_t)frameAddr - (uint32_t)moduleAddr, frameAddr);
+		printf("+0x%X) [0x%08X]\n", (ARCH_DWORD)frameAddr - (ARCH_DWORD)moduleAddr, frameAddr);
 
 		fflush(stdout);
 	}
@@ -103,8 +109,14 @@
 {
 	printf("\n*********** EXCEPTION **************\n");
 	printf("Registers:\n");
+#ifdef ADM_CPU_X86_64
+	printf("RAX: %08X  RBX: %08X  RCX: %08X  RDX: %08X  RSI: %08X  RDI: %08X  RSP: %08X  RBP: %08X\n", pContextRecord->Rax, pContextRecord->Rbx, pContextRecord->Rcx, pContextRecord->Rdx, pContextRecord->Rsi, pContextRecord->Rdi, pContextRecord->Rsp, pContextRecord->Rbp);
+	printf("R8: %08X  R9: %08X  R10: %08X  R11: %08X  R12: %08X  R13: %08X  R14: %08X  R15: %08X\n", pContextRecord->R8, pContextRecord->R9, pContextRecord->R10, pContextRecord->R11, pContextRecord->R12, pContextRecord->R13, pContextRecord->R14, pContextRecord->R15);
+	printf("RIP: %08X  EFlags: %08X\n\n", pContextRecord->Rip, pContextRecord->EFlags);
+#else
 	printf("EAX: %08X  EBX: %08X  ECX: %08X  EDX: %08X  ESI: %08X\n", pContextRecord->Eax, pContextRecord->Ebx, pContextRecord->Ecx, pContextRecord->Edx, pContextRecord->Esi);
 	printf("EDI: %08X  ESP: %08X  EBP: %08X  EIP: %08X  EFlags: %08X\n\n", pContextRecord->Edi, pContextRecord->Esp, pContextRecord->Ebp, pContextRecord->Eip, pContextRecord->EFlags);
+#endif
 
 	printf("Exception Code: ");
 
@@ -178,7 +190,13 @@
 	printf("Exception Flags: %08X\n", pExceptionRec->ExceptionFlags);
 
 	printf("\nOrigin:\n");
+
+#ifdef ADM_CPU_X86_64
+	dumpFrame(processId, (void*)pContextRecord->Rip);
+#else
 	dumpFrame(processId, (void*)pContextRecord->Eip);
+#endif
+
 	printf("*********** EXCEPTION **************\n");
 	fflush(stdout);
 }



From gruntster at mail.berlios.de  Mon Sep 15 19:04:07 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 15 Sep 2008 19:04:07 +0200
Subject: [Avidemux-svn-commit] r4354 -
	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src
Message-ID: <200809151704.m8FH47oE020966@sheep.berlios.de>

Author: gruntster
Date: 2008-09-15 19:03:51 +0200 (Mon, 15 Sep 2008)
New Revision: 4354

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_cpuCap.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_memcpy.cpp
Log:
[Win64] adm_core compilation fixes

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_cpuCap.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_cpuCap.cpp	2008-09-15 16:45:22 UTC (rev 4353)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_cpuCap.cpp	2008-09-15 17:03:51 UTC (rev 4354)
@@ -66,7 +66,7 @@
 int rval = 0;
  int eax, ebx, ecx, edx;
  int max_std_level, max_ext_level, std_caps=0, ext_caps=0;
- long a, c;
+ intptr_t a, c;
 
  __asm__ __volatile__ (
                        /* See if CPUID instruction is supported ... */

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_memcpy.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_memcpy.cpp	2008-09-15 16:45:22 UTC (rev 4353)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_core/src/ADM_memcpy.cpp	2008-09-15 17:03:51 UTC (rev 4354)
@@ -140,7 +140,7 @@
     "movsb\n"
     "2:"
     : "=&c" (d0), "=&D" (d1), "=&S" (d2)
-    :"0" (n/4), "q" (n),"1" ((long) to),"2" ((long) from)
+    :"0" (n/4), "q" (n),"1" ((intptr_t) to),"2" ((intptr_t) from)
     : "memory");
 
   return (to);
@@ -181,7 +181,7 @@
   {
     register unsigned long int delta;
     /* Align destinition to MMREG_SIZE -boundary */
-    delta = ((unsigned long int)uto)&(SSE_MMREG_SIZE-1);
+    delta = ((intptr_t)uto)&(SSE_MMREG_SIZE-1);
     if(delta)
     {
       delta=SSE_MMREG_SIZE-delta;
@@ -190,7 +190,7 @@
     }
     i = len >> 6; /* len/64 */
     len&=63;
-    if(((unsigned long)ufrom) & 15)
+    if(((intptr_t)ufrom) & 15)
       /* if SRC is misaligned */
       for(; i>0; i--)
       {
@@ -257,7 +257,7 @@
   {
     register unsigned long int delta;
     /* Align destinition to MMREG_SIZE -boundary */
-    delta = ((unsigned long int)uto)&(MMX_MMREG_SIZE-1);
+    delta = ((intptr_t)uto)&(MMX_MMREG_SIZE-1);
     if(delta)
     {
       delta=MMX_MMREG_SIZE-delta;
@@ -324,7 +324,7 @@
   {
     register unsigned long int delta;
     /* Align destinition to MMREG_SIZE -boundary */
-    delta = ((unsigned long int)uto)&(MMX_MMREG_SIZE-1);
+    delta = ((intptr_t)uto)&(MMX_MMREG_SIZE-1);
     if(delta)
     {
       delta=MMX_MMREG_SIZE-delta;



From gruntster at mail.berlios.de  Mon Sep 15 19:39:14 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 15 Sep 2008 19:39:14 +0200
Subject: [Avidemux-svn-commit] r4355 - in
	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg:
	. ADM_lavcodec ADM_lavcodec/i386 ADM_lavformat
	ADM_libpostproc ADM_libswscale
Message-ID: <200809151739.m8FHdE12010026@sheep.berlios.de>

Author: gruntster
Date: 2008-09-15 19:38:48 +0200 (Mon, 15 Sep 2008)
New Revision: 4355

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/cabac.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/h263.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/cavsdsp_mmx.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_h264_template_mmx.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_mmx.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_mmx_avg.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_mmx_qns.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_mmx_rnd.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputilenc_mmx.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/fft_3dn.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/fft_3dn2.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/fft_sse.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/flacdsp_mmx.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/h264dsp_mmx.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/motion_est_mmx.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/mpegvideo_mmx.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/mpegvideo_mmx_template.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/snowdsp_mmx.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/vc1dsp_mmx.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavformat/avc.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libpostproc/postprocess_template.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/rgb2rgb.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/rgb2rgb.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/rgb2rgb_template.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/swscale_template.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/yuv2rgb_template.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/CMakeLists.txt
Log:
[Win64] ffmpeg compilation fixes

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/cabac.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/cabac.h	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/cabac.h	2008-09-15 17:38:48 UTC (rev 4355)
@@ -741,7 +741,7 @@
 static int decode_significance_8x8_x86(CABACContext *c, uint8_t *significant_coeff_ctx_base, int *index, const uint8_t *sig_off){
     int minusindex= 4-(int)index;
     int coeff_count;
-    long last=0;
+    intptr_t last=0;
     asm volatile(
         "movl "RANGE    "(%3), %%esi            \n\t"
         "movl "LOW      "(%3), %%ebx            \n\t"

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/h263.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/h263.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/h263.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -3056,7 +3056,7 @@
     uint8_t *start= pbBufPtr(&s->pb);
     uint8_t *end= s->pb.buf_end;
     int size= end - start;
-    int pb_size = (((long)start + size/3)&(~3)) - (long)start;
+    int pb_size = (((intptr_t)start + size/3)&(~3)) - (intptr_t)start;
     int tex_size= (size - 2*pb_size)&(~3);
 
     set_put_bits_buffer_size(&s->pb, pb_size);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/cavsdsp_mmx.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/cavsdsp_mmx.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/cavsdsp_mmx.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -301,7 +301,7 @@
         VOP(%%mm1, %%mm2, %%mm3, %%mm4, %%mm5, %%mm0, OP)\
         \
         : "+a"(src), "+c"(dst)\
-        : "S"((long)srcStride), "D"((long)dstStride), "m"(ADD), "m"(MUL1), "m"(MUL2)\
+        : "S"((intptr_t)srcStride), "D"((intptr_t)dstStride), "m"(ADD), "m"(MUL1), "m"(MUL2)\
         : "memory"\
      );\
      if(h==16){\
@@ -316,7 +316,7 @@
             VOP(%%mm3, %%mm4, %%mm5, %%mm0, %%mm1, %%mm2, OP)\
             \
            : "+a"(src), "+c"(dst)\
-           : "S"((long)srcStride), "D"((long)dstStride), "m"(ADD),  "m"(MUL1), "m"(MUL2)\
+           : "S"((intptr_t)srcStride), "D"((intptr_t)dstStride), "m"(ADD),  "m"(MUL1), "m"(MUL2)\
            : "memory"\
         );\
      }\
@@ -367,7 +367,7 @@
         "decl %2                    \n\t"\
         " jnz 1b                    \n\t"\
         : "+a"(src), "+c"(dst), "+m"(h)\
-        : "d"((long)srcStride), "S"((long)dstStride), "m"(ff_pw_5), "m"(ff_pw_4)\
+        : "d"((intptr_t)srcStride), "S"((intptr_t)dstStride), "m"(ff_pw_5), "m"(ff_pw_4)\
         : "memory"\
     );\
 }\

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_h264_template_mmx.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_h264_template_mmx.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_h264_template_mmx.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -250,7 +250,7 @@
         "sub $2, %2                 \n\t"
         "jnz 1b                     \n\t"
         : "+r"(dst), "+r"(src), "+r"(h)
-        : "r"((long)stride), "m"(ff_pw_32), "m"(x), "m"(y)
+        : "r"((intptr_t)stride), "m"(ff_pw_32), "m"(x), "m"(y)
     );
 }
 
@@ -301,7 +301,7 @@
         "sub $1, %2\n\t"
         "jnz 1b\n\t"
         : "+r" (dst), "+r"(src), "+r"(h)
-        : "m" (ff_pw_32), "r"((long)stride)
+        : "m" (ff_pw_32), "r"((intptr_t)stride)
         : "%esi");
 
 }

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_mmx.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_mmx.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_mmx.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -241,7 +241,7 @@
                 "movq   %%mm2, (%0, %1)         \n\t"
                 "movq   %%mm4, (%0, %1, 2)      \n\t"
                 "movq   %%mm6, (%0, %2)         \n\t"
-                ::"r" (pix), "r" ((long)line_size), "r" ((long)line_size*3), "m"(*p)
+                ::"r" (pix), "r" ((intptr_t)line_size), "r" ((intptr_t)line_size*3), "m"(*p)
                 :"memory");
         pix += line_size*4;
         p += 32;
@@ -266,7 +266,7 @@
             "movq       %%mm2, (%0, %1)         \n\t"
             "movq       %%mm4, (%0, %1, 2)      \n\t"
             "movq       %%mm6, (%0, %2)         \n\t"
-            ::"r" (pix), "r" ((long)line_size), "r" ((long)line_size*3), "r"(p)
+            ::"r" (pix), "r" ((intptr_t)line_size), "r" ((intptr_t)line_size*3), "r"(p)
             :"memory");
 }
 
@@ -350,7 +350,7 @@
          "subl $4, %0                   \n\t"
          "jnz 1b                        \n\t"
          : "+g"(h), "+r" (pixels),  "+r" (block)
-         : "r"((long)line_size)
+         : "r"((intptr_t)line_size)
          : "%"REG_a, "memory"
         );
 }
@@ -376,7 +376,7 @@
          "subl $4, %0                   \n\t"
          "jnz 1b                        \n\t"
          : "+g"(h), "+r" (pixels),  "+r" (block)
-         : "r"((long)line_size)
+         : "r"((intptr_t)line_size)
          : "%"REG_a, "memory"
         );
 }
@@ -410,7 +410,7 @@
          "subl $4, %0                   \n\t"
          "jnz 1b                        \n\t"
          : "+g"(h), "+r" (pixels),  "+r" (block)
-         : "r"((long)line_size)
+         : "r"((intptr_t)line_size)
          : "%"REG_a, "memory"
         );
 }
@@ -432,7 +432,7 @@
          "lea (%2,%3,4), %2             \n\t"
          "jnz 1b                        \n\t"
          : "+g"(h), "+r" (pixels),  "+r" (block)
-         : "r"((long)line_size), "r"(3L*line_size)
+         : "r"((intptr_t)line_size), "r"(3*(intptr_t)line_size)
          : "memory"
         );
 }
@@ -458,7 +458,7 @@
          "lea (%2,%3,4), %2             \n\t"
          "jnz 1b                        \n\t"
          : "+g"(h), "+r" (pixels),  "+r" (block)
-         : "r"((long)line_size), "r"(3L*line_size)
+         : "r"((intptr_t)line_size), "r"(3*(intptr_t)line_size)
          : "memory"
         );
 }
@@ -481,7 +481,7 @@
 }
 
 static void add_bytes_mmx(uint8_t *dst, uint8_t *src, int w){
-    long i=0;
+    intptr_t i=0;
     asm volatile(
         "1:                             \n\t"
         "movq  (%1, %0), %%mm0          \n\t"
@@ -496,14 +496,14 @@
         "cmp %3, %0                     \n\t"
         " jb 1b                         \n\t"
         : "+r" (i)
-        : "r"(src), "r"(dst), "r"((long)w-15)
+        : "r"(src), "r"(dst), "r"((intptr_t)w-15)
     );
     for(; i<w; i++)
         dst[i+0] += src[i+0];
 }
 
 static void add_bytes_l2_mmx(uint8_t *dst, uint8_t *src1, uint8_t *src2, int w){
-    long i=0;
+    intptr_t i=0;
     asm volatile(
         "1:                             \n\t"
         "movq   (%2, %0), %%mm0         \n\t"
@@ -516,7 +516,7 @@
         "cmp %4, %0                     \n\t"
         " jb 1b                         \n\t"
         : "+r" (i)
-        : "r"(dst), "r"(src1), "r"(src2), "r"((long)w-15)
+        : "r"(dst), "r"(src1), "r"(src2), "r"((intptr_t)w-15)
     );
     for(; i<w; i++)
         dst[i] = src1[i] + src2[i];
@@ -690,8 +690,8 @@
         "movd %%mm6, (%1,%3)            \n\t"
         :: "r" (src),
            "r" (src + 4*stride),
-           "r" ((long)   stride ),
-           "r" ((long)(3*stride))
+           "r" ((intptr_t)   stride ),
+           "r" ((intptr_t)(3*stride))
     );
     }
 }
@@ -724,7 +724,7 @@
                 "cmp %3, %0                     \n\t"
                 " jb 1b                         \n\t"
                 : "+r" (ptr)
-                : "r" ((long)wrap), "r" ((long)width), "r" (ptr + wrap*height)
+                : "r" ((intptr_t)wrap), "r" ((intptr_t)width), "r" (ptr + wrap*height)
         );
     }
     else
@@ -747,7 +747,7 @@
                 "cmp %3, %0                     \n\t"
                 " jb 1b                         \n\t"
                 : "+r" (ptr)
-                : "r" ((long)wrap), "r" ((long)width), "r" (ptr + wrap*height)
+                : "r" ((intptr_t)wrap), "r" ((intptr_t)width), "r" (ptr + wrap*height)
         );
     }
 
@@ -765,7 +765,7 @@
                 "cmp %4, %0                     \n\t"
                 " jb 1b                         \n\t"
                 : "+r" (ptr)
-                : "r" ((long)buf - (long)ptr - w), "r" ((long)-wrap), "r" ((long)-wrap*3), "r" (ptr+width+2*w)
+                : "r" ((intptr_t)buf - (intptr_t)ptr - w), "r" ((intptr_t)-wrap), "r" ((intptr_t)-wrap*3), "r" (ptr+width+2*w)
         );
         ptr= last_line + (i + 1) * wrap - w;
         asm volatile(
@@ -779,7 +779,7 @@
                 "cmp %4, %0                     \n\t"
                 " jb 1b                         \n\t"
                 : "+r" (ptr)
-                : "r" ((long)last_line - (long)ptr - w), "r" ((long)wrap), "r" ((long)wrap*3), "r" (ptr+width+2*w)
+                : "r" ((intptr_t)last_line - (intptr_t)ptr - w), "r" ((intptr_t)wrap), "r" ((intptr_t)wrap*3), "r" (ptr+width+2*w)
         );
     }
 }
@@ -787,8 +787,8 @@
 #define PAETH(cpu, abs3)\
 void add_png_paeth_prediction_##cpu(uint8_t *dst, uint8_t *src, uint8_t *top, int w, int bpp)\
 {\
-    long i = -bpp;\
-    long end = w-3;\
+    intptr_t i = -bpp;\
+    intptr_t end = w-3;\
     asm volatile(\
         "pxor      %%mm7, %%mm7 \n"\
         "movd    (%1,%0), %%mm0 \n"\
@@ -831,7 +831,7 @@
         "cmp       %5, %0 \n"\
         "jle 1b \n"\
         :"+r"(i)\
-        :"r"(dst), "r"(top), "r"(src), "r"((long)bpp), "g"(end),\
+        :"r"(dst), "r"(top), "r"(src), "r"((intptr_t)bpp), "g"(end),\
          "m"(ff_pw_255)\
         :"memory"\
     );\
@@ -995,7 +995,7 @@
         "decl %2                          \n\t"\
         " jnz 1b                          \n\t"\
         : "+a"(src), "+c"(dst), "+g"(h)\
-        : "d"((long)srcStride), "S"((long)dstStride), /*"m"(ff_pw_20), "m"(ff_pw_3),*/ "m"(temp), "m"(ROUNDER)\
+        : "d"((intptr_t)srcStride), "S"((intptr_t)dstStride), /*"m"(ff_pw_20), "m"(ff_pw_3),*/ "m"(temp), "m"(ROUNDER)\
         : "memory"\
     );\
 }\
@@ -1108,7 +1108,7 @@
         "decl %2                          \n\t"\
         " jnz 1b                          \n\t"\
         : "+a"(src), "+c"(dst), "+g"(h)\
-        : "S"((long)srcStride), "D"((long)dstStride), /*"m"(ff_pw_20), "m"(ff_pw_3),*/ "m"(temp), "m"(ROUNDER)\
+        : "S"((intptr_t)srcStride), "D"((intptr_t)dstStride), /*"m"(ff_pw_20), "m"(ff_pw_3),*/ "m"(temp), "m"(ROUNDER)\
         : "memory"\
     );\
 }\
@@ -1172,7 +1172,7 @@
         "decl %2                        \n\t"\
         " jnz 1b                        \n\t"\
         : "+r" (src), "+r" (temp_ptr), "+r"(count)\
-        : "r" ((long)srcStride)\
+        : "r" ((intptr_t)srcStride)\
         : "memory"\
     );\
     \
@@ -1219,7 +1219,7 @@
         " jnz 1b                        \n\t"\
         \
         : "+r"(temp_ptr), "+r"(dst), "+g"(count)\
-        : "r"((long)dstStride), "r"(2*(long)dstStride), /*"m"(ff_pw_20), "m"(ff_pw_3),*/ "m"(ROUNDER), "g"(4-14*(long)dstStride)\
+        : "r"((intptr_t)dstStride), "r"(2*(intptr_t)dstStride), /*"m"(ff_pw_20), "m"(ff_pw_3),*/ "m"(ROUNDER), "g"(4-14*(intptr_t)dstStride)\
         :"memory"\
     );\
 }\
@@ -1244,7 +1244,7 @@
         "decl %2                        \n\t"\
         " jnz 1b                        \n\t"\
         : "+r" (src), "+r" (temp_ptr), "+r"(count)\
-        : "r" ((long)srcStride)\
+        : "r" ((intptr_t)srcStride)\
         : "memory"\
     );\
     \
@@ -1279,7 +1279,7 @@
         " jnz 1b                        \n\t"\
          \
         : "+r"(temp_ptr), "+r"(dst), "+g"(count)\
-        : "r"((long)dstStride), "r"(2*(long)dstStride), /*"m"(ff_pw_20), "m"(ff_pw_3),*/ "m"(ROUNDER), "g"(4-6*(long)dstStride)\
+        : "r"((intptr_t)dstStride), "r"(2*(intptr_t)dstStride), /*"m"(ff_pw_20), "m"(ff_pw_3),*/ "m"(ROUNDER), "g"(4-6*(intptr_t)dstStride)\
         : "memory"\
    );\
 }\
@@ -1841,7 +1841,7 @@
 }
 
 static void vector_fmul_3dnow(float *dst, const float *src, int len){
-    long i = (len-4)*4;
+    intptr_t i = (len-4)*4;
     asm volatile(
         "1: \n\t"
         "movq    (%1,%0), %%mm0 \n\t"
@@ -1859,7 +1859,7 @@
     );
 }
 static void vector_fmul_sse(float *dst, const float *src, int len){
-    long i = (len-8)*4;
+    intptr_t i = (len-8)*4;
     asm volatile(
         "1: \n\t"
         "movaps    (%1,%0), %%xmm0 \n\t"
@@ -1877,7 +1877,7 @@
 }
 
 static void vector_fmul_reverse_3dnow2(float *dst, const float *src0, const float *src1, int len){
-    long i = len*4-16;
+    intptr_t i = len*4-16;
     asm volatile(
         "1: \n\t"
         "pswapd   8(%1), %%mm0 \n\t"
@@ -1895,7 +1895,7 @@
     asm volatile("femms");
 }
 static void vector_fmul_reverse_sse(float *dst, const float *src0, const float *src1, int len){
-    long i = len*4-32;
+    intptr_t i = len*4-32;
     asm volatile(
         "1: \n\t"
         "movaps        16(%1), %%xmm0 \n\t"
@@ -1916,7 +1916,7 @@
 
 static void vector_fmul_add_add_3dnow(float *dst, const float *src0, const float *src1,
                                       const float *src2, int src3, int len, int step){
-    long i = (len-4)*4;
+    intptr_t i = (len-4)*4;
     if(step == 2 && src3 == 0){
         dst += (len-4)*2;
         asm volatile(
@@ -1965,7 +1965,7 @@
 }
 static void vector_fmul_add_add_sse(float *dst, const float *src0, const float *src1,
                                     const float *src2, int src3, int len, int step){
-    long i = (len-8)*4;
+    intptr_t i = (len-8)*4;
     if(step == 2 && src3 == 0){
         dst += (len-8)*2;
         asm volatile(

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_mmx_avg.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_mmx_avg.h	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_mmx_avg.h	2008-09-15 17:38:48 UTC (rev 4355)
@@ -55,7 +55,7 @@
         "subl $4, %0                    \n\t"
         "jnz 1b                         \n\t"
         :"+g"(h), "+S"(pixels), "+D"(block)
-        :"r" ((long)line_size)
+        :"r" ((intptr_t)line_size)
         :"%"REG_a, "memory");
 }
 
@@ -105,7 +105,7 @@
 #else
         :"+b"(h), "+a"(src1), "+c"(src2), "+d"(dst)
 #endif
-        :"S"((long)src1Stride), "D"((long)dstStride)
+        :"S"((intptr_t)src1Stride), "D"((intptr_t)dstStride)
         :"memory");
 }
 
@@ -152,7 +152,7 @@
 #else
         :"+b"(h), "+a"(src1), "+c"(src2), "+d"(dst)
 #endif
-        :"S"((long)src1Stride), "D"((long)dstStride)
+        :"S"((intptr_t)src1Stride), "D"((intptr_t)dstStride)
         :"memory");
 //the following should be used, though better not with gcc ...
 /*        :"+g"(h), "+r"(src1), "+r"(src2), "+r"(dst)
@@ -222,7 +222,7 @@
 #else
         :"+b"(h), "+a"(src1), "+c"(src2), "+d"(dst)
 #endif
-        :"S"((long)src1Stride), "D"((long)dstStride)
+        :"S"((intptr_t)src1Stride), "D"((intptr_t)dstStride)
         :"memory");
 //the following should be used, though better not with gcc ...
 /*        :"+g"(h), "+r"(src1), "+r"(src2), "+r"(dst)
@@ -277,7 +277,7 @@
 #else
         :"+b"(h), "+a"(src1), "+c"(src2), "+d"(dst)
 #endif
-        :"S"((long)src1Stride), "D"((long)dstStride)
+        :"S"((intptr_t)src1Stride), "D"((intptr_t)dstStride)
         :"memory");
 }
 
@@ -329,7 +329,7 @@
 #else
         :"+b"(h), "+a"(src1), "+c"(src2), "+d"(dst)
 #endif
-        :"S"((long)src1Stride), "D"((long)dstStride)
+        :"S"((intptr_t)src1Stride), "D"((intptr_t)dstStride)
         :"memory");
 //the following should be used, though better not with gcc ...
 /*        :"+g"(h), "+r"(src1), "+r"(src2), "+r"(dst)
@@ -373,7 +373,7 @@
         "subl $4, %0                    \n\t"
         "jnz 1b                         \n\t"
         :"+g"(h), "+S"(pixels), "+D"(block)
-        :"r" ((long)line_size)
+        :"r" ((intptr_t)line_size)
         :"%"REG_a, "memory");
 }
 
@@ -417,7 +417,7 @@
 #else
         :"+b"(h), "+a"(src1), "+c"(src2), "+d"(dst)
 #endif
-        :"S"((long)src1Stride), "D"((long)dstStride)
+        :"S"((intptr_t)src1Stride), "D"((intptr_t)dstStride)
         :"memory");
 //the following should be used, though better not with gcc ...
 /*        :"+g"(h), "+r"(src1), "+r"(src2), "+r"(dst)
@@ -471,7 +471,7 @@
 #else
         :"+b"(h), "+a"(src1), "+c"(src2), "+d"(dst)
 #endif
-        :"S"((long)src1Stride), "D"((long)dstStride)
+        :"S"((intptr_t)src1Stride), "D"((intptr_t)dstStride)
         :"memory");
 //the following should be used, though better not with gcc ...
 /*        :"+g"(h), "+r"(src1), "+r"(src2), "+r"(dst)
@@ -544,7 +544,7 @@
 #else
         :"+b"(h), "+a"(src1), "+c"(src2), "+d"(dst)
 #endif
-        :"S"((long)src1Stride), "D"((long)dstStride)
+        :"S"((intptr_t)src1Stride), "D"((intptr_t)dstStride)
         :"memory");
 //the following should be used, though better not with gcc ...
 /*        :"+g"(h), "+r"(src1), "+r"(src2), "+r"(dst)
@@ -586,7 +586,7 @@
         "subl $4, %0                    \n\t"
         "jnz 1b                         \n\t"
         :"+g"(h), "+S"(pixels), "+D"(block)
-        :"r" ((long)line_size)
+        :"r" ((intptr_t)line_size)
         :"%"REG_a, "memory");
 }
 
@@ -616,7 +616,7 @@
         "subl $4, %0                    \n\t"
         "jnz 1b                         \n\t"
         :"+g"(h), "+S"(pixels), "+D" (block)
-        :"r" ((long)line_size)
+        :"r" ((intptr_t)line_size)
         :"%"REG_a, "memory");
 }
 
@@ -650,7 +650,7 @@
         "subl $4, %0                    \n\t"
         "jnz 1b                         \n\t"
         :"+g"(h), "+S"(pixels), "+D" (block)
-        :"r" ((long)line_size)
+        :"r" ((intptr_t)line_size)
         :"%"REG_a, "memory");
 }
 
@@ -678,7 +678,7 @@
         "subl $4, %0                    \n\t"
         "jnz 1b                         \n\t"
         :"+g"(h), "+S"(pixels), "+D"(block)
-        :"r" ((long)line_size)
+        :"r" ((intptr_t)line_size)
         :"%"REG_a, "memory");
 }
 
@@ -710,7 +710,7 @@
         "subl $4, %0                    \n\t"
         "jnz 1b                         \n\t"
         :"+g"(h), "+S"(pixels), "+D"(block)
-        :"r" ((long)line_size)
+        :"r" ((intptr_t)line_size)
         :"%"REG_a, "memory");
 }
 
@@ -748,7 +748,7 @@
         "subl $4, %0                    \n\t"
         "jnz 1b                         \n\t"
         :"+g"(h), "+S"(pixels), "+D"(block)
-        :"r" ((long)line_size)
+        :"r" ((intptr_t)line_size)
         :"%"REG_a, "memory");
 }
 
@@ -791,7 +791,7 @@
         "subl $4, %0                    \n\t"
         "jnz 1b                         \n\t"
         :"+g"(h), "+S"(pixels), "+D"(block)
-        :"r" ((long)line_size)
+        :"r" ((intptr_t)line_size)
         :"%"REG_a,  "memory");
 }
 
@@ -812,7 +812,7 @@
             "movd %%mm2, (%1, %2, 2)        \n\t"
             "movd %%mm3, (%1, %3)           \n\t"
             ::"S"(pixels), "D"(block),
-             "r" ((long)line_size), "r"(3L*line_size)
+             "r" ((intptr_t)line_size), "r"(3*(intptr_t)line_size)
             :"memory");
         block += 4*line_size;
         pixels += 4*line_size;
@@ -868,8 +868,8 @@
         "decl  %0              \n\t"\
         "jnz   1b              \n\t"\
         :"+g"(h), "+r"(src)\
-        :"r"((long)off1), "r"((long)off2),\
-         "r"((long)(dst-src)), "r"((long)stride)\
+        :"r"((intptr_t)off1), "r"((intptr_t)off2),\
+         "r"((intptr_t)(dst-src)), "r"((intptr_t)stride)\
         :"memory"\
     );\
 }\
@@ -885,8 +885,8 @@
         "decl  %0              \n\t"\
         "jnz   1b              \n\t"\
         :"+g"(h), "+r"(src)\
-        :"r"((long)off1), "r"((long)off2),\
-         "r"((long)(dst-src)), "r"((long)stride)\
+        :"r"((intptr_t)off1), "r"((intptr_t)off2),\
+         "r"((intptr_t)(dst-src)), "r"((intptr_t)stride)\
         :"memory"\
     );\
 }

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_mmx_qns.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_mmx_qns.h	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_mmx_qns.h	2008-09-15 17:38:48 UTC (rev 4355)
@@ -30,7 +30,7 @@
 
 static int DEF(try_8x8basis)(int16_t rem[64], int16_t weight[64], int16_t basis[64], int scale)
 {
-    long i=0;
+    intptr_t i=0;
 
     assert(FFABS(scale) < MAX_ABS);
     scale<<= 16 + SCALE_OFFSET - BASIS_SHIFT + RECON_SHIFT;
@@ -72,7 +72,7 @@
 
 static void DEF(add_8x8basis)(int16_t rem[64], int16_t basis[64], int scale)
 {
-    long i=0;
+    intptr_t i=0;
 
     if(FFABS(scale) < MAX_ABS){
         scale<<= 16 + SCALE_OFFSET - BASIS_SHIFT + RECON_SHIFT;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_mmx_rnd.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_mmx_rnd.h	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputil_mmx_rnd.h	2008-09-15 17:38:48 UTC (rev 4355)
@@ -57,7 +57,7 @@
         "subl   $4, %0                  \n\t"
         "jnz    1b                      \n\t"
         :"+g"(h), "+S"(pixels), "+D"(block)
-        :"r"((long)line_size)
+        :"r"((intptr_t)line_size)
         :REG_a, "memory");
 }
 
@@ -107,7 +107,7 @@
 #else
         :"+b"(h), "+a"(src1), "+c"(src2), "+d"(dst)
 #endif
-        :"S"((long)src1Stride), "D"((long)dstStride)
+        :"S"((intptr_t)src1Stride), "D"((intptr_t)dstStride)
         :"memory");
 }
 
@@ -153,7 +153,7 @@
         "subl   $4, %0                  \n\t"
         "jnz    1b                      \n\t"
         :"+g"(h), "+S"(pixels), "+D"(block)
-        :"r"((long)line_size)
+        :"r"((intptr_t)line_size)
         :REG_a, "memory");
 }
 
@@ -202,7 +202,7 @@
 #else
         :"+b"(h), "+a"(src1), "+c"(src2), "+d"(dst)
 #endif
-        :"S"((long)src1Stride), "D"((long)dstStride)
+        :"S"((intptr_t)src1Stride), "D"((intptr_t)dstStride)
         :"memory");
 }
 
@@ -231,7 +231,7 @@
         "subl   $4, %0                  \n\t"
         "jnz    1b                      \n\t"
         :"+g"(h), "+S"(pixels), "+D"(block)
-        :"r"((long)line_size)
+        :"r"((intptr_t)line_size)
         :REG_a, "memory");
 }
 
@@ -297,7 +297,7 @@
         "subl   $2, %0                  \n\t"
         "jnz    1b                      \n\t"
         :"+g"(h), "+S"(pixels)
-        :"D"(block), "r"((long)line_size)
+        :"D"(block), "r"((intptr_t)line_size)
         :REG_a, "memory");
 }
 
@@ -493,7 +493,7 @@
         "subl   $4, %0                  \n\t"
         "jnz    1b                      \n\t"
         :"+g"(h), "+S"(pixels), "+D"(block)
-        :"r"((long)line_size)
+        :"r"((intptr_t)line_size)
         :REG_a, "memory");
 }
 
@@ -568,7 +568,7 @@
         "subl   $2, %0                  \n\t"
         "jnz    1b                      \n\t"
         :"+g"(h), "+S"(pixels)
-        :"D"(block), "r"((long)line_size)
+        :"D"(block), "r"((intptr_t)line_size)
         :REG_a, "memory");
 }
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputilenc_mmx.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputilenc_mmx.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/dsputilenc_mmx.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -51,7 +51,7 @@
         "add $32, %%"REG_a"             \n\t"
         "js 1b                          \n\t"
         : "+r" (pixels)
-        : "r" (block+64), "r" ((long)line_size), "r" ((long)line_size*2)
+        : "r" (block+64), "r" ((intptr_t)line_size), "r" ((intptr_t)line_size*2)
         : "%"REG_a
     );
 }
@@ -80,7 +80,7 @@
         "add $16, %%"REG_a"             \n\t"
         "jnz 1b                         \n\t"
         : "+r" (s1), "+r" (s2)
-        : "r" (block+64), "r" ((long)stride)
+        : "r" (block+64), "r" ((intptr_t)stride)
         : "%"REG_a
     );
 }
@@ -88,7 +88,7 @@
 static int pix_sum16_mmx(uint8_t * pix, int line_size){
     const int h=16;
     int sum;
-    long index= -line_size*h;
+    intptr_t index= -line_size*h;
 
     asm volatile(
                 "pxor %%mm7, %%mm7              \n\t"
@@ -117,7 +117,7 @@
                 "movd %%mm6, %0                 \n\t"
                 "andl $0xFFFF, %0               \n\t"
                 : "=&r" (sum), "+r" (index)
-                : "r" (pix - index), "r" ((long)line_size)
+                : "r" (pix - index), "r" ((intptr_t)line_size)
         );
 
         return sum;
@@ -162,7 +162,7 @@
       "psrlq $32, %%mm7\n"      /* shift hi dword to lo */
       "paddd %%mm7,%%mm1\n"
       "movd %%mm1,%1\n"
-      : "+r" (pix), "=r"(tmp) : "r" ((long)line_size) : "%ecx" );
+      : "+r" (pix), "=r"(tmp) : "r" ((intptr_t)line_size) : "%ecx" );
     return tmp;
 }
 
@@ -222,7 +222,7 @@
       "paddd %%mm7,%%mm1\n"
       "movd %%mm1,%2\n"
       : "+r" (pix1), "+r" (pix2), "=r"(tmp)
-      : "r" ((long)line_size) , "m" (h)
+      : "r" ((intptr_t)line_size) , "m" (h)
       : "%ecx");
     return tmp;
 }
@@ -282,7 +282,7 @@
       "paddd %%mm7,%%mm1\n"
       "movd %%mm1,%2\n"
       : "+r" (pix1), "+r" (pix2), "=r"(tmp)
-      : "r" ((long)line_size) , "m" (h)
+      : "r" ((intptr_t)line_size) , "m" (h)
       : "%ecx");
     return tmp;
 }
@@ -345,7 +345,7 @@
       "paddd %%xmm1,%%xmm7\n"
       "movd %%xmm7,%3\n"
       : "+r" (pix1), "+r" (pix2), "+r"(h), "=r"(tmp)
-      : "r" ((long)line_size));
+      : "r" ((intptr_t)line_size));
     return tmp;
 }
 
@@ -469,7 +469,7 @@
       "paddd %%mm6,%%mm0\n"
       "movd %%mm0,%1\n"
       : "+r" (pix1), "=r"(tmp)
-      : "r" ((long)line_size) , "g" (h-2)
+      : "r" ((intptr_t)line_size) , "g" (h-2)
       : "%ecx");
       return tmp;
 }
@@ -583,7 +583,7 @@
       "paddd %%mm6,%%mm0\n"
       "movd %%mm0,%1\n"
       : "+r" (pix1), "=r"(tmp)
-      : "r" ((long)line_size) , "g" (h-2)
+      : "r" ((intptr_t)line_size) , "g" (h-2)
       : "%ecx");
       return tmp + hf_noise8_mmx(pix+8, line_size, h);
 }
@@ -665,7 +665,7 @@
       "paddw %%mm6,%%mm0\n"
       "movd %%mm0,%1\n"
       : "+r" (pix), "=r"(tmp)
-      : "r" ((long)line_size) , "m" (h)
+      : "r" ((intptr_t)line_size) , "m" (h)
       : "%ecx");
     return tmp & 0xFFFF;
 }
@@ -706,7 +706,7 @@
 
       "movd %%mm6,%1\n"
       : "+r" (pix), "=r"(tmp)
-      : "r" ((long)line_size) , "m" (h)
+      : "r" ((intptr_t)line_size) , "m" (h)
       : "%ecx");
     return tmp;
 }
@@ -785,7 +785,7 @@
       "paddw %%mm6,%%mm0\n"
       "movd %%mm0,%2\n"
       : "+r" (pix1), "+r" (pix2), "=r"(tmp)
-      : "r" ((long)line_size) , "m" (h)
+      : "r" ((intptr_t)line_size) , "m" (h)
       : "%ecx");
     return tmp & 0x7FFF;
 }
@@ -843,14 +843,14 @@
 
       "movd %%mm6,%2\n"
       : "+r" (pix1), "+r" (pix2), "=r"(tmp)
-      : "r" ((long)line_size) , "m" (h)
+      : "r" ((intptr_t)line_size) , "m" (h)
       : "%ecx");
     return tmp;
 }
 #undef SUM
 
 static void diff_bytes_mmx(uint8_t *dst, uint8_t *src1, uint8_t *src2, int w){
-    long i=0;
+    intptr_t i=0;
     asm volatile(
         "1:                             \n\t"
         "movq  (%2, %0), %%mm0          \n\t"
@@ -865,14 +865,14 @@
         "cmp %4, %0                     \n\t"
         " jb 1b                         \n\t"
         : "+r" (i)
-        : "r"(src1), "r"(src2), "r"(dst), "r"((long)w-15)
+        : "r"(src1), "r"(src2), "r"(dst), "r"((intptr_t)w-15)
     );
     for(; i<w; i++)
         dst[i+0] = src1[i+0]-src2[i+0];
 }
 
 static void sub_hfyu_median_prediction_mmx2(uint8_t *dst, uint8_t *src1, uint8_t *src2, int w, int *left, int *left_top){
-    long i=0;
+    intptr_t i=0;
     uint8_t l, lt;
 
     asm volatile(
@@ -895,7 +895,7 @@
         "cmp %4, %0                     \n\t"
         " jb 1b                         \n\t"
         : "+r" (i)
-        : "r"(src1), "r"(src2), "r"(dst), "r"((long)w)
+        : "r"(src1), "r"(src2), "r"(dst), "r"((intptr_t)w)
     );
 
     l= *left;
@@ -930,7 +930,7 @@
         DIFF_PIXELS_1(m0, mm##7, mm##0, (%1,%3,4), (%2,%3,4))\
         "mov"#m1" %0, "#mm"0          \n\t"\
         : "+m"(temp), "+r"(p1b), "+r"(p2b)\
-        : "r"((long)stride), "r"((long)stride*3)\
+        : "r"((intptr_t)stride), "r"((intptr_t)stride*3)\
     );\
 }
     //the "+m"(temp) is needed as gcc 2.95 sometimes fails to compile "=m"(temp)
@@ -1237,7 +1237,7 @@
 
 static int ssd_int8_vs_int16_mmx(const int8_t *pix1, const int16_t *pix2, int size){
     int sum;
-    long i=size;
+    intptr_t i=size;
     asm volatile(
         "pxor %%mm4, %%mm4 \n"
         "1: \n"

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/fft_3dn.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/fft_3dn.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/fft_3dn.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -30,8 +30,8 @@
 void ff_fft_calc_3dn(FFTContext *s, FFTComplex *z)
 {
     int ln = s->nbits;
-    long i, j;
-    long nblocks, nloops;
+    intptr_t i, j;
+    intptr_t nblocks, nloops;
     FFTComplex *p, *cptr;
 
     asm volatile(

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/fft_3dn2.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/fft_3dn2.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/fft_3dn2.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -30,8 +30,8 @@
 void ff_fft_calc_3dn2(FFTContext *s, FFTComplex *z)
 {
     int ln = s->nbits;
-    long i, j;
-    long nblocks, nloops;
+    intptr_t i, j;
+    intptr_t nblocks, nloops;
     FFTComplex *p, *cptr;
 
     asm volatile(
@@ -124,7 +124,7 @@
 void ff_imdct_calc_3dn2(MDCTContext *s, FFTSample *output,
                         const FFTSample *input, FFTSample *tmp)
 {
-    long k, n8, n4, n2, n;
+    intptr_t k, n8, n4, n2, n;
     const uint16_t *revtab = s->fft.revtab;
     const FFTSample *tcos = s->tcos;
     const FFTSample *tsin = s->tsin;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/fft_sse.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/fft_sse.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/fft_sse.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -48,8 +48,8 @@
 void ff_fft_calc_sse(FFTContext *s, FFTComplex *z)
 {
     int ln = s->nbits;
-    long i, j;
-    long nblocks, nloops;
+    intptr_t i, j;
+    intptr_t nblocks, nloops;
     FFTComplex *p, *cptr;
 
     asm volatile(
@@ -142,7 +142,7 @@
 void ff_imdct_calc_sse(MDCTContext *s, FFTSample *output,
                        const FFTSample *input, FFTSample *tmp)
 {
-    long k, n8, n4, n2, n;
+    intptr_t k, n8, n4, n2, n;
     const uint16_t *revtab = s->fft.revtab;
     const FFTSample *tcos = s->tcos;
     const FFTSample *tsin = s->tsin;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/flacdsp_mmx.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/flacdsp_mmx.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/flacdsp_mmx.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -25,8 +25,8 @@
 {
     double c = 2.0 / (len-1.0);
     int n2 = len>>1;
-    long i = -n2*sizeof(int32_t);
-    long j =  n2*sizeof(int32_t);
+    intptr_t i = -n2*sizeof(int32_t);
+    intptr_t j =  n2*sizeof(int32_t);
     asm volatile(
         "movsd   %0,     %%xmm7 \n\t"
         "movapd  %1,     %%xmm6 \n\t"
@@ -71,7 +71,7 @@
     double *data1 = tmp + lag;
     int j;
 
-    if((long)data1 & 15)
+    if((intptr_t)data1 & 15)
         data1++;
 
     apply_welch_window_sse2(data, len, data1);
@@ -81,7 +81,7 @@
     data1[len] = 0.0;
 
     for(j=0; j<lag; j+=2){
-        long i = -len*sizeof(double);
+        intptr_t i = -len*sizeof(double);
         if(j == lag-2) {
             asm volatile(
                 "movsd     %6,     %%xmm0 \n\t"

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/h264dsp_mmx.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/h264dsp_mmx.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/h264dsp_mmx.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -86,7 +86,7 @@
         "add %1, %0             \n\t"
     STORE_DIFF_4P( %%mm4, %%mm1, %%mm7)
         : "+r"(dst)
-        : "r" ((long)stride)
+        : "r" ((intptr_t)stride)
     );
 }
 
@@ -294,7 +294,7 @@
         STORE_DIFF_8P(%%xmm0, (%0,%2,2), %%xmm6, %%xmm7)
         STORE_DIFF_8P(%%xmm1, (%0,%3),   %%xmm6, %%xmm7)
         :"+r"(dst)
-        :"r"(block), "r"((long)stride), "r"(3L*stride), "m"(ff_pw_32)
+        :"r"(block), "r"((intptr_t)stride), "r"(3*(intptr_t)stride), "m"(ff_pw_32)
     );
 }
 
@@ -503,7 +503,7 @@
         "movq      %%mm2, (%2)      \n\t"
 
         : "=m"(*tmp0)
-        : "r"(pix-3*stride), "r"(pix), "r"((long)stride),
+        : "r"(pix-3*stride), "r"(pix), "r"((intptr_t)stride),
           "m"(*tmp0/*unused*/), "m"(*(uint32_t*)tc0), "m"(alpha1), "m"(beta1),
           "m"(ff_bone)
     );
@@ -550,7 +550,7 @@
         "movq      %%mm1, (%0,%2)   \n\t"
         "movq      %%mm2, (%1)      \n\t"
 
-        :: "r"(pix-2*stride), "r"(pix), "r"((long)stride),
+        :: "r"(pix-2*stride), "r"(pix), "r"((intptr_t)stride),
            "r"(*(uint32_t*)tc0),
            "m"(alpha1), "m"(beta1), "m"(ff_bone), "m"(ff_pb_3F)
     );
@@ -601,7 +601,7 @@
         "paddb   %%mm6,   %%mm2     \n\t"
         "movq    %%mm1,   (%0,%2)   \n\t"
         "movq    %%mm2,   (%1)      \n\t"
-        :: "r"(pix-2*stride), "r"(pix), "r"((long)stride),
+        :: "r"(pix-2*stride), "r"(pix), "r"((intptr_t)stride),
            "m"(alpha1), "m"(beta1), "m"(ff_bone)
     );
 }
@@ -797,7 +797,7 @@
         "decl %2                    \n\t"\
         " jnz 1b                    \n\t"\
         : "+a"(src), "+c"(dst), "+g"(h)\
-        : "d"((long)srcStride), "S"((long)dstStride), "m"(ff_pw_5), "m"(ff_pw_16)\
+        : "d"((intptr_t)srcStride), "S"((intptr_t)dstStride), "m"(ff_pw_5), "m"(ff_pw_16)\
         : "memory"\
     );\
 }\
@@ -840,7 +840,7 @@
         "add %4, %1                 \n\t"\
         "add %3, %2                 \n\t"\
         : "+a"(src), "+c"(dst), "+d"(src2)\
-        : "D"((long)src2Stride), "S"((long)dstStride)\
+        : "D"((intptr_t)src2Stride), "S"((intptr_t)dstStride)\
         : "memory"\
     );\
     }while(--h);\
@@ -870,7 +870,7 @@
         QPEL_H264V(%%mm3, %%mm4, %%mm5, %%mm0, %%mm1, %%mm2, OP)\
          \
         : "+a"(src), "+c"(dst)\
-        : "S"((long)srcStride), "D"((long)dstStride), "m"(ff_pw_5), "m"(ff_pw_16)\
+        : "S"((intptr_t)srcStride), "D"((intptr_t)dstStride), "m"(ff_pw_5), "m"(ff_pw_16)\
         : "memory"\
     );\
 }\
@@ -902,7 +902,7 @@
             QPEL_H264HV(%%mm3, %%mm4, %%mm5, %%mm0, %%mm1, %%mm2, 3*8*3)\
              \
             : "+a"(src)\
-            : "c"(tmp), "S"((long)srcStride), "m"(ff_pw_5), "m"(ff_pw_16)\
+            : "c"(tmp), "S"((intptr_t)srcStride), "m"(ff_pw_5), "m"(ff_pw_16)\
             : "memory"\
         );\
         tmp += 4;\
@@ -931,7 +931,7 @@
         "decl %2                    \n\t"\
         " jnz 1b                    \n\t"\
         : "+a"(tmp), "+c"(dst), "+g"(h)\
-        : "S"((long)dstStride)\
+        : "S"((intptr_t)dstStride)\
         : "memory"\
     );\
 }\
@@ -988,7 +988,7 @@
         "decl %2                    \n\t"\
         " jnz 1b                    \n\t"\
         : "+a"(src), "+c"(dst), "+g"(h)\
-        : "d"((long)srcStride), "S"((long)dstStride), "m"(ff_pw_5), "m"(ff_pw_16)\
+        : "d"((intptr_t)srcStride), "S"((intptr_t)dstStride), "m"(ff_pw_5), "m"(ff_pw_16)\
         : "memory"\
     );\
 }\
@@ -1049,7 +1049,7 @@
         "add %4, %1                 \n\t"\
         "add %3, %2                 \n\t"\
         : "+a"(src), "+c"(dst), "+d"(src2)\
-        : "D"((long)src2Stride), "S"((long)dstStride),\
+        : "D"((intptr_t)src2Stride), "S"((intptr_t)dstStride),\
           "m"(ff_pw_16)\
         : "memory"\
     );\
@@ -1088,7 +1088,7 @@
         QPEL_H264V(%%mm1, %%mm2, %%mm3, %%mm4, %%mm5, %%mm0, OP)\
          \
         : "+a"(src), "+c"(dst)\
-        : "S"((long)srcStride), "D"((long)dstStride), "m"(ff_pw_5), "m"(ff_pw_16)\
+        : "S"((intptr_t)srcStride), "D"((intptr_t)dstStride), "m"(ff_pw_5), "m"(ff_pw_16)\
         : "memory"\
      );\
      if(h==16){\
@@ -1103,7 +1103,7 @@
             QPEL_H264V(%%mm3, %%mm4, %%mm5, %%mm0, %%mm1, %%mm2, OP)\
             \
            : "+a"(src), "+c"(dst)\
-           : "S"((long)srcStride), "D"((long)dstStride), "m"(ff_pw_5), "m"(ff_pw_16)\
+           : "S"((intptr_t)srcStride), "D"((intptr_t)dstStride), "m"(ff_pw_5), "m"(ff_pw_16)\
            : "memory"\
         );\
      }\
@@ -1141,7 +1141,7 @@
             QPEL_H264HV(%%mm0, %%mm1, %%mm2, %%mm3, %%mm4, %%mm5, 6*48)\
             QPEL_H264HV(%%mm1, %%mm2, %%mm3, %%mm4, %%mm5, %%mm0, 7*48)\
             : "+a"(src)\
-            : "c"(tmp), "S"((long)srcStride), "m"(ff_pw_5), "m"(ff_pw_16)\
+            : "c"(tmp), "S"((intptr_t)srcStride), "m"(ff_pw_5), "m"(ff_pw_16)\
             : "memory"\
         );\
         if(size==16){\
@@ -1155,7 +1155,7 @@
                 QPEL_H264HV(%%mm2, %%mm3, %%mm4, %%mm5, %%mm0, %%mm1, 14*48)\
                 QPEL_H264HV(%%mm3, %%mm4, %%mm5, %%mm0, %%mm1, %%mm2, 15*48)\
                 : "+a"(src)\
-                : "c"(tmp), "S"((long)srcStride), "m"(ff_pw_5), "m"(ff_pw_16)\
+                : "c"(tmp), "S"((intptr_t)srcStride), "m"(ff_pw_5), "m"(ff_pw_16)\
                 : "memory"\
             );\
         }\
@@ -1202,7 +1202,7 @@
         "decl %2                    \n\t"\
         " jnz 1b                    \n\t"\
         : "+a"(tmp), "+c"(dst), "+g"(h)\
-        : "S"((long)dstStride)\
+        : "S"((intptr_t)dstStride)\
         : "memory"\
     );\
     tmp += 8 - size*24;\
@@ -1275,7 +1275,7 @@
         OP(%%mm0, (%2),    %%mm4, d)\
         OP(%%mm1, (%2,%4), %%mm5, d)\
         :"+a"(src8), "+c"(src16), "+d"(dst)\
-        :"S"((long)src8Stride), "D"((long)dstStride)\
+        :"S"((intptr_t)src8Stride), "D"((intptr_t)dstStride)\
         :"memory");\
 }\
 static av_noinline void OPNAME ## pixels8_l2_shift5_ ## MMX(uint8_t *dst, int16_t *src16, uint8_t *src8, int dstStride, int src8Stride, int h)\
@@ -1297,7 +1297,7 @@
         OP(%%mm0, (%2), %%mm5, q)\
         OP(%%mm2, (%2,%4), %%mm5, q)\
         ::"a"(src8), "c"(src16), "d"(dst),\
-          "r"((long)src8Stride), "r"((long)dstStride)\
+          "r"((intptr_t)src8Stride), "r"((intptr_t)dstStride)\
         :"memory");\
         src8 += 2L*src8Stride;\
         src16 += 48;\
@@ -1372,7 +1372,7 @@
         "decl %3                    \n\t"\
         "jg 1b                      \n\t"\
         : "+a"(src), "+c"(dst), "+d"(src2), "+g"(h)\
-        : "D"((long)src2Stride), "S"((long)dstStride),\
+        : "D"((intptr_t)src2Stride), "S"((intptr_t)dstStride),\
           "m"(ff_pw_5), "m"(ff_pw_16)\
         : "memory"\
     );\
@@ -1430,7 +1430,7 @@
         "add %4, %1                 \n\t"\
         "add %3, %2                 \n\t"\
         : "+a"(src), "+c"(dst), "+d"(src2)\
-        : "D"((long)src2Stride), "S"((long)dstStride),\
+        : "D"((intptr_t)src2Stride), "S"((intptr_t)dstStride),\
           "m"(ff_pw_16)\
         : "memory"\
     );\
@@ -1473,7 +1473,7 @@
         "decl %2                    \n\t"\
         " jnz 1b                    \n\t"\
         : "+a"(src), "+c"(dst), "+g"(h)\
-        : "D"((long)srcStride), "S"((long)dstStride),\
+        : "D"((intptr_t)srcStride), "S"((intptr_t)dstStride),\
           "m"(ff_pw_5), "m"(ff_pw_16)\
         : "memory"\
     );\
@@ -1518,7 +1518,7 @@
         QPEL_H264V_XMM(%%xmm1, %%xmm2, %%xmm3, %%xmm4, %%xmm5, %%xmm0, OP)\
          \
         : "+a"(src), "+c"(dst)\
-        : "S"((long)srcStride), "D"((long)dstStride), "m"(ff_pw_5), "m"(ff_pw_16)\
+        : "S"((intptr_t)srcStride), "D"((intptr_t)dstStride), "m"(ff_pw_5), "m"(ff_pw_16)\
         : "memory"\
     );\
     if(h==16){\
@@ -1533,7 +1533,7 @@
             QPEL_H264V_XMM(%%xmm3, %%xmm4, %%xmm5, %%xmm0, %%xmm1, %%xmm2, OP)\
             \
             : "+a"(src), "+c"(dst)\
-            : "S"((long)srcStride), "D"((long)dstStride), "m"(ff_pw_5), "m"(ff_pw_16)\
+            : "S"((intptr_t)srcStride), "D"((intptr_t)dstStride), "m"(ff_pw_5), "m"(ff_pw_16)\
             : "memory"\
         );\
     }\
@@ -1576,7 +1576,7 @@
             QPEL_H264HV_XMM(%%xmm0, %%xmm1, %%xmm2, %%xmm3, %%xmm4, %%xmm5, 6*48)
             QPEL_H264HV_XMM(%%xmm1, %%xmm2, %%xmm3, %%xmm4, %%xmm5, %%xmm0, 7*48)
             : "+a"(src)
-            : "c"(tmp), "S"((long)srcStride), "m"(ff_pw_5), "m"(ff_pw_16)
+            : "c"(tmp), "S"((intptr_t)srcStride), "m"(ff_pw_5), "m"(ff_pw_16)
             : "memory"
         );
         if(size==16){
@@ -1590,7 +1590,7 @@
                 QPEL_H264HV_XMM(%%xmm2, %%xmm3, %%xmm4, %%xmm5, %%xmm0, %%xmm1, 14*48)
                 QPEL_H264HV_XMM(%%xmm3, %%xmm4, %%xmm5, %%xmm0, %%xmm1, %%xmm2, 15*48)
                 : "+a"(src)
-                : "c"(tmp), "S"((long)srcStride), "m"(ff_pw_5), "m"(ff_pw_16)
+                : "c"(tmp), "S"((intptr_t)srcStride), "m"(ff_pw_5), "m"(ff_pw_16)
                 : "memory"
             );
         }
@@ -1654,7 +1654,7 @@
             "decl %2                    \n\t"\
             " jnz 1b                    \n\t"\
             : "+a"(tmp), "+c"(dst), "+g"(h)\
-            : "S"((long)dstStride)\
+            : "S"((intptr_t)dstStride)\
             : "memory"\
         );\
     }else{\
@@ -1688,7 +1688,7 @@
             "decl %2                    \n\t"\
             " jnz 1b                    \n\t"\
             : "+a"(tmp), "+c"(dst), "+g"(h)\
-            : "S"((long)dstStride)\
+            : "S"((intptr_t)dstStride)\
             : "memory"\
         );\
     }\

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/motion_est_mmx.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/motion_est_mmx.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/motion_est_mmx.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -34,7 +34,7 @@
 
 static inline void sad8_1_mmx(uint8_t *blk1, uint8_t *blk2, int stride, int h)
 {
-    long len= -(stride*h);
+    intptr_t len= -(stride*h);
     asm volatile(
         ASMALIGN(4)
         "1:                             \n\t"
@@ -64,7 +64,7 @@
         "add %3, %%"REG_a"              \n\t"
         " js 1b                         \n\t"
         : "+a" (len)
-        : "r" (blk1 - len), "r" (blk2 - len), "r" ((long)stride)
+        : "r" (blk1 - len), "r" (blk2 - len), "r" ((intptr_t)stride)
     );
 }
 
@@ -84,7 +84,7 @@
         "sub $2, %0                     \n\t"
         " jg 1b                         \n\t"
         : "+r" (h), "+r" (blk1), "+r" (blk2)
-        : "r" ((long)stride)
+        : "r" ((intptr_t)stride)
     );
 }
 
@@ -106,7 +106,7 @@
         "sub $2, %0                     \n\t"
         " jg 1b                         \n\t"
         : "+r" (h), "+r" (blk1), "+r" (blk2)
-        : "r" ((long)stride)
+        : "r" ((intptr_t)stride)
     );
     asm volatile(
         "movhlps %%xmm6, %%xmm0         \n\t"
@@ -135,7 +135,7 @@
         "sub $2, %0                     \n\t"
         " jg 1b                         \n\t"
         : "+r" (h), "+r" (blk1), "+r" (blk2)
-        : "r" ((long)stride)
+        : "r" ((intptr_t)stride)
     );
 }
 
@@ -160,7 +160,7 @@
         "sub $2, %0                     \n\t"
         " jg 1b                         \n\t"
         : "+r" (h), "+r" (blk1), "+r" (blk2)
-        : "r" ((long)stride)
+        : "r" ((intptr_t)stride)
     );
 }
 
@@ -190,13 +190,13 @@
         "sub $2, %0                     \n\t"
         " jg 1b                         \n\t"
         : "+r" (h), "+r" (blk1), "+r" (blk2)
-        : "r" ((long)stride)
+        : "r" ((intptr_t)stride)
     );
 }
 
 static inline void sad8_2_mmx(uint8_t *blk1a, uint8_t *blk1b, uint8_t *blk2, int stride, int h)
 {
-    long len= -(stride*h);
+    intptr_t len= -(stride*h);
     asm volatile(
         ASMALIGN(4)
         "1:                             \n\t"
@@ -228,13 +228,13 @@
         "add %4, %%"REG_a"              \n\t"
         " js 1b                         \n\t"
         : "+a" (len)
-        : "r" (blk1a - len), "r" (blk1b -len), "r" (blk2 - len), "r" ((long)stride)
+        : "r" (blk1a - len), "r" (blk1b -len), "r" (blk2 - len), "r" ((intptr_t)stride)
     );
 }
 
 static inline void sad8_4_mmx(uint8_t *blk1, uint8_t *blk2, int stride, int h)
 {
-    long len= -(stride*h);
+    intptr_t len= -(stride*h);
     asm volatile(
         "movq (%1, %%"REG_a"), %%mm0    \n\t"
         "movq 1(%1, %%"REG_a"), %%mm2   \n\t"
@@ -281,7 +281,7 @@
         "add %4, %%"REG_a"              \n\t"
         " js 1b                         \n\t"
         : "+a" (len)
-        : "r" (blk1 - len), "r" (blk1 -len + stride), "r" (blk2 - len), "r" ((long)stride)
+        : "r" (blk1 - len), "r" (blk1 -len + stride), "r" (blk2 - len), "r" ((intptr_t)stride)
     );
 }
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/mpegvideo_mmx.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/mpegvideo_mmx.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/mpegvideo_mmx.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -34,7 +34,7 @@
 static void dct_unquantize_h263_intra_mmx(MpegEncContext *s,
                                   DCTELEM *block, int n, int qscale)
 {
-    long level, qmul, qadd, nCoeffs;
+    intptr_t level, qmul, qadd, nCoeffs;
 
     qmul = qscale << 1;
 
@@ -109,7 +109,7 @@
 static void dct_unquantize_h263_inter_mmx(MpegEncContext *s,
                                   DCTELEM *block, int n, int qscale)
 {
-    long qmul, qadd, nCoeffs;
+    intptr_t qmul, qadd, nCoeffs;
 
     qmul = qscale << 1;
     qadd = (qscale - 1) | 1;
@@ -200,7 +200,7 @@
 static void dct_unquantize_mpeg1_intra_mmx(MpegEncContext *s,
                                      DCTELEM *block, int n, int qscale)
 {
-    long nCoeffs;
+    intptr_t nCoeffs;
     const uint16_t *quant_matrix;
     int block0;
 
@@ -269,7 +269,7 @@
 static void dct_unquantize_mpeg1_inter_mmx(MpegEncContext *s,
                                      DCTELEM *block, int n, int qscale)
 {
-    long nCoeffs;
+    intptr_t nCoeffs;
     const uint16_t *quant_matrix;
 
     assert(s->block_last_index[n]>=0);
@@ -335,7 +335,7 @@
 static void dct_unquantize_mpeg2_intra_mmx(MpegEncContext *s,
                                      DCTELEM *block, int n, int qscale)
 {
-    long nCoeffs;
+    intptr_t nCoeffs;
     const uint16_t *quant_matrix;
     int block0;
 
@@ -401,7 +401,7 @@
 static void dct_unquantize_mpeg2_inter_mmx(MpegEncContext *s,
                                      DCTELEM *block, int n, int qscale)
 {
-    long nCoeffs;
+    intptr_t nCoeffs;
     const uint16_t *quant_matrix;
 
     assert(s->block_last_index[n]>=0);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/mpegvideo_mmx_template.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/mpegvideo_mmx_template.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/mpegvideo_mmx_template.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -95,7 +95,7 @@
                             DCTELEM *block, int n,
                             int qscale, int *overflow)
 {
-    long last_non_zero_p1;
+    intptr_t last_non_zero_p1;
     int level=0, q; //=0 is cuz gcc says uninitialized ...
     const uint16_t *qmat, *bias;
     DECLARE_ALIGNED_16(int16_t, temp_block[64]);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/snowdsp_mmx.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/snowdsp_mmx.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/snowdsp_mmx.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -73,7 +73,7 @@
         IDWTELEM * const dst = b+w2;
 
         i = 0;
-        for(; (((long)&dst[i]) & 0x1F) && i<w_r; i++){
+        for(; (((intptr_t)&dst[i]) & 0x1F) && i<w_r; i++){
             dst[i] = dst[i] - (b[i] + b[i + 1]);
         }
         for(; i<w_r-15; i+=16){
@@ -146,7 +146,7 @@
         IDWTELEM * const src = b+w2;
 
         i = 0;
-        for(; (((long)&temp[i]) & 0x1F) && i<w_r; i++){
+        for(; (((intptr_t)&temp[i]) & 0x1F) && i<w_r; i++){
             temp[i] = src[i] - ((-W_AM*(b[i] + b[i+1]))>>W_AS);
         }
         for(; i<w_r-7; i+=8){
@@ -436,7 +436,7 @@
         "movdqa %%"s3", %%"t3" \n\t"
 
 void ff_snow_vertical_compose97i_sse2(IDWTELEM *b0, IDWTELEM *b1, IDWTELEM *b2, IDWTELEM *b3, IDWTELEM *b4, IDWTELEM *b5, int width){
-    long i = width;
+    intptr_t i = width;
 
     while(i & 0x1F)
     {
@@ -534,7 +534,7 @@
 
 
 void ff_snow_vertical_compose97i_mmx(IDWTELEM *b0, IDWTELEM *b1, IDWTELEM *b2, IDWTELEM *b3, IDWTELEM *b4, IDWTELEM *b5, int width){
-    long i = width;
+    intptr_t i = width;
     while(i & 15)
     {
         i--;
@@ -605,7 +605,7 @@
 
 #define snow_inner_add_yblock_sse2_header \
     IDWTELEM * * dst_array = sb->line + src_y;\
-    long tmp;\
+    intptr_t tmp;\
     asm volatile(\
              "mov  %7, %%"REG_c"             \n\t"\
              "mov  %6, %2                    \n\t"\
@@ -667,7 +667,7 @@
              "jnz 1b                         \n\t"\
              :"+m"(dst8),"+m"(dst_array),"=&r"(tmp)\
              :\
-             "rm"((long)(src_x<<1)),"m"(obmc),"a"(block),"m"((long)b_h),"m"((long)src_stride):\
+             "rm"((intptr_t)(src_x<<1)),"m"(obmc),"a"(block),"m"((intptr_t)b_h),"m"((intptr_t)src_stride):\
              "%"REG_c"","%"REG_S"","%"REG_D"","%"REG_d"");
 
 #define snow_inner_add_yblock_sse2_end_8\
@@ -684,8 +684,8 @@
              "dec %2                         \n\t"\
              snow_inner_add_yblock_sse2_end_common2
 
-static void inner_add_yblock_bw_8_obmc_16_bh_even_sse2(const uint8_t *obmc, const long obmc_stride, uint8_t * * block, int b_w, long b_h,
-                      int src_x, int src_y, long src_stride, slice_buffer * sb, int add, uint8_t * dst8){
+static void inner_add_yblock_bw_8_obmc_16_bh_even_sse2(const uint8_t *obmc, const intptr_t obmc_stride, uint8_t * * block, int b_w, intptr_t b_h,
+                      int src_x, int src_y, intptr_t src_stride, slice_buffer * sb, int add, uint8_t * dst8){
 snow_inner_add_yblock_sse2_header
 snow_inner_add_yblock_sse2_start_8("xmm1", "xmm5", "3", "0")
 snow_inner_add_yblock_sse2_accum_8("2", "8")
@@ -732,8 +732,8 @@
 snow_inner_add_yblock_sse2_end_8
 }
 
-static void inner_add_yblock_bw_16_obmc_32_sse2(const uint8_t *obmc, const long obmc_stride, uint8_t * * block, int b_w, long b_h,
-                      int src_x, int src_y, long src_stride, slice_buffer * sb, int add, uint8_t * dst8){
+static void inner_add_yblock_bw_16_obmc_32_sse2(const uint8_t *obmc, const intptr_t obmc_stride, uint8_t * * block, int b_w, intptr_t b_h,
+                      int src_x, int src_y, intptr_t src_stride, slice_buffer * sb, int add, uint8_t * dst8){
 snow_inner_add_yblock_sse2_header
 snow_inner_add_yblock_sse2_start_16("xmm1", "xmm5", "3", "0")
 snow_inner_add_yblock_sse2_accum_16("2", "16")
@@ -758,7 +758,7 @@
 
 #define snow_inner_add_yblock_mmx_header \
     IDWTELEM * * dst_array = sb->line + src_y;\
-    long tmp;\
+    intptr_t tmp;\
     asm volatile(\
              "mov  %7, %%"REG_c"             \n\t"\
              "mov  %6, %2                    \n\t"\
@@ -815,11 +815,11 @@
              "jnz 1b                         \n\t"\
              :"+m"(dst8),"+m"(dst_array),"=&r"(tmp)\
              :\
-             "rm"((long)(src_x<<1)),"m"(obmc),"a"(block),"m"((long)b_h),"m"((long)src_stride):\
+             "rm"((intptr_t)(src_x<<1)),"m"(obmc),"a"(block),"m"((intptr_t)b_h),"m"((intptr_t)src_stride):\
              "%"REG_c"","%"REG_S"","%"REG_D"","%"REG_d"");
 
-static void inner_add_yblock_bw_8_obmc_16_mmx(const uint8_t *obmc, const long obmc_stride, uint8_t * * block, int b_w, long b_h,
-                      int src_x, int src_y, long src_stride, slice_buffer * sb, int add, uint8_t * dst8){
+static void inner_add_yblock_bw_8_obmc_16_mmx(const uint8_t *obmc, const intptr_t obmc_stride, uint8_t * * block, int b_w, intptr_t b_h,
+                      int src_x, int src_y, intptr_t src_stride, slice_buffer * sb, int add, uint8_t * dst8){
 snow_inner_add_yblock_mmx_header
 snow_inner_add_yblock_mmx_start("mm1", "mm5", "3", "0", "0")
 snow_inner_add_yblock_mmx_accum("2", "8", "0")
@@ -829,8 +829,8 @@
 snow_inner_add_yblock_mmx_end("16")
 }
 
-static void inner_add_yblock_bw_16_obmc_32_mmx(const uint8_t *obmc, const long obmc_stride, uint8_t * * block, int b_w, long b_h,
-                      int src_x, int src_y, long src_stride, slice_buffer * sb, int add, uint8_t * dst8){
+static void inner_add_yblock_bw_16_obmc_32_mmx(const uint8_t *obmc, const intptr_t obmc_stride, uint8_t * * block, int b_w, intptr_t b_h,
+                      int src_x, int src_y, intptr_t src_stride, slice_buffer * sb, int add, uint8_t * dst8){
 snow_inner_add_yblock_mmx_header
 snow_inner_add_yblock_mmx_start("mm1", "mm5", "3", "0", "0")
 snow_inner_add_yblock_mmx_accum("2", "16", "0")

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/vc1dsp_mmx.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/vc1dsp_mmx.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/i386/vc1dsp_mmx.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -71,7 +71,7 @@
 
 /** Sacrifying mm6 allows to pipeline loads from src */
 static void vc1_put_ver_16b_shift2_mmx(int16_t *dst,
-                                       const uint8_t *src, long int stride,
+                                       const uint8_t *src, intptr_t stride,
                                        int rnd, int64_t shift)
 {
     asm volatile(
@@ -107,7 +107,7 @@
  * Data is already unpacked, so some operations can directly be made from
  * memory.
  */
-static void vc1_put_hor_16b_shift2_mmx(uint8_t *dst, long int stride,
+static void vc1_put_hor_16b_shift2_mmx(uint8_t *dst, intptr_t stride,
                                        const int16_t *src, int rnd)
 {
     int h = 8;
@@ -152,7 +152,7 @@
  * Sacrify mm6 for *9 factor.
  */
 static void vc1_put_shift2_mmx(uint8_t *dst, const uint8_t *src,
-                               long int stride, int rnd, long int offset)
+                               intptr_t stride, int rnd, intptr_t offset)
 {
     rnd = 8-rnd;
     asm volatile(
@@ -259,7 +259,7 @@
 #define MSPEL_FILTER13_VER_16B(NAME, A1, A2, A3, A4)                    \
 static void                                                             \
 vc1_put_ver_16b_ ## NAME ## _mmx(int16_t *dst, const uint8_t *src,      \
-                                 long int src_stride,                   \
+                                 intptr_t src_stride,                   \
                                  int rnd, int64_t shift)                \
 {                                                                       \
     int h = 8;                                                          \
@@ -314,7 +314,7 @@
  */
 #define MSPEL_FILTER13_HOR_16B(NAME, A1, A2, A3, A4)                    \
 static void                                                             \
-vc1_put_hor_16b_ ## NAME ## _mmx(uint8_t *dst, long int stride,         \
+vc1_put_hor_16b_ ## NAME ## _mmx(uint8_t *dst, intptr_t stride,         \
                                  const int16_t *src, int rnd)           \
 {                                                                       \
     int h = 8;                                                          \
@@ -353,7 +353,7 @@
 #define MSPEL_FILTER13_8B(NAME, A1, A2, A3, A4)                         \
 static void                                                             \
 vc1_put_## NAME ## _mmx(uint8_t *dst, const uint8_t *src,               \
-                        long int stride, int rnd, long int offset)      \
+                        intptr_t stride, int rnd, intptr_t offset)      \
 {                                                                       \
     int h = 8;                                                          \
     src -= offset;                                                      \
@@ -387,9 +387,9 @@
 MSPEL_FILTER13_VER_16B(shift3, "0(%1     )", "0(%1,%3  )", "0(%1,%3,2)", "0(%1,%4  )")
 MSPEL_FILTER13_HOR_16B(shift3, "2*0(%1)", "2*1(%1)", "2*2(%1)", "2*3(%1)")
 
-typedef void (*vc1_mspel_mc_filter_ver_16bits)(int16_t *dst, const uint8_t *src, long int src_stride, int rnd, int64_t shift);
-typedef void (*vc1_mspel_mc_filter_hor_16bits)(uint8_t *dst, long int dst_stride, const int16_t *src, int rnd);
-typedef void (*vc1_mspel_mc_filter_8bits)(uint8_t *dst, const uint8_t *src, long int stride, int rnd, long int offset);
+typedef void (*vc1_mspel_mc_filter_ver_16bits)(int16_t *dst, const uint8_t *src, intptr_t src_stride, int rnd, int64_t shift);
+typedef void (*vc1_mspel_mc_filter_hor_16bits)(uint8_t *dst, intptr_t dst_stride, const int16_t *src, int rnd);
+typedef void (*vc1_mspel_mc_filter_8bits)(uint8_t *dst, const uint8_t *src, intptr_t stride, int rnd, intptr_t offset);
 
 /**
  * Interpolates fractional pel values by applying proper vertical then

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavformat/avc.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavformat/avc.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavformat/avc.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -23,7 +23,7 @@
 
 const uint8_t *ff_avc_find_startcode(const uint8_t *p, const uint8_t *end)
 {
-    const uint8_t *a = p + 4 - ((long)p & 3);
+    const uint8_t *a = p + 4 - ((intptr_t)p & 3);
 
     for( end -= 3; p < a && p < end; p++ ) {
         if( p[0] == 0 && p[1] == 0 && p[2] == 1 )

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libpostproc/postprocess_template.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libpostproc/postprocess_template.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libpostproc/postprocess_template.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -182,7 +182,7 @@
                 "movd %%mm4, %1                         \n\t"
 
                 : "=r" (numEq), "=r" (dcOk)
-                : "r" (src), "r" ((long)stride), "m" (c->pQPb)
+                : "r" (src), "r" ((intptr_t)stride), "m" (c->pQPb)
                 : "%"REG_a
                 );
 
@@ -327,7 +327,7 @@
                 "sub %1, %0                             \n\t"
 
                 :
-                : "r" (src), "r" ((long)stride), "m" (c->pQPb)
+                : "r" (src), "r" ((intptr_t)stride), "m" (c->pQPb)
                 : "%"REG_a, "%"REG_c
         );
 #else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
@@ -448,7 +448,7 @@
                 "movq %%mm2, (%%"REG_c", %1)            \n\t"
 
                 :
-                : "r" (src), "r" ((long)stride)
+                : "r" (src), "r" ((intptr_t)stride)
                 : "%"REG_a, "%"REG_c
         );
 #else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
@@ -573,7 +573,7 @@
                 "movq %%mm0, (%%"REG_c", %1, 2)         \n\t" // line 7
 
                 :
-                : "r" (src), "r" ((long)stride), "m" (co->pQPb)
+                : "r" (src), "r" ((intptr_t)stride), "m" (co->pQPb)
                 : "%"REG_a, "%"REG_c
         );
 #else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
@@ -841,7 +841,7 @@
                 "movq %%mm2, (%0, %1, 4)                \n\t"
 
                 :
-                : "r" (src), "r" ((long)stride), "m" (c->pQPb)
+                : "r" (src), "r" ((intptr_t)stride), "m" (c->pQPb)
                 : "%"REG_a, "%"REG_c
         );
 
@@ -1138,7 +1138,7 @@
                 "movq %%mm0, (%0, %1)                   \n\t"
 
                 : "+r" (src)
-                : "r" ((long)stride), "m" (c->pQPb)
+                : "r" ((intptr_t)stride), "m" (c->pQPb)
                 : "%"REG_a, "%"REG_c
         );
 #else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
@@ -1419,7 +1419,7 @@
 DERING_CORE((%0, %1, 8)    ,(%%REGd, %1, 4),%%mm2,%%mm4,%%mm0,%%mm3,%%mm5,%%mm1,%%mm6,%%mm7)
 
                 "1:                        \n\t"
-                : : "r" (src), "r" ((long)stride), "m" (c->pQPb), "m"(c->pQPb2)
+                : : "r" (src), "r" ((intptr_t)stride), "m" (c->pQPb), "m"(c->pQPb2)
                 : "%"REG_a, "%"REG_d, "%"REG_c
         );
 #else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
@@ -1586,7 +1586,7 @@
                 PAVGB(%%mm0, %%mm1)
                 "movq %%mm1, (%%"REG_c", %1, 2)         \n\t"
 
-                : : "r" (src), "r" ((long)stride)
+                : : "r" (src), "r" ((intptr_t)stride)
                 : "%"REG_a, "%"REG_c
         );
 #else
@@ -1656,7 +1656,7 @@
 DEINT_CUBIC((%0, %1, 4) , (%%REGd, %1), (%%REGd, %1, 2), (%0, %1, 8) , (%%REGc))
 DEINT_CUBIC((%%REGd, %1), (%0, %1, 8) , (%%REGd, %1, 4), (%%REGc)    , (%%REGc, %1, 2))
 
-                : : "r" (src), "r" ((long)stride)
+                : : "r" (src), "r" ((intptr_t)stride)
                 : "%"REG_a, "%"REG_d, "%"REG_c
         );
 #else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
@@ -1728,7 +1728,7 @@
 DEINT_FF((%%REGd, %1), (%%REGd, %1, 2), (%0, %1, 8) , (%%REGd, %1, 4))
 
                 "movq %%mm0, (%2)                       \n\t"
-                : : "r" (src), "r" ((long)stride), "r"(tmp)
+                : : "r" (src), "r" ((intptr_t)stride), "r"(tmp)
                 : "%"REG_a, "%"REG_d
         );
 #else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
@@ -1819,7 +1819,7 @@
 
                 "movq %%mm0, (%2)                       \n\t"
                 "movq %%mm1, (%3)                       \n\t"
-                : : "r" (src), "r" ((long)stride), "r"(tmp), "r"(tmp2)
+                : : "r" (src), "r" ((intptr_t)stride), "r"(tmp), "r"(tmp2)
                 : "%"REG_a, "%"REG_d
         );
 #else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
@@ -1908,7 +1908,7 @@
                 "movq %%mm2, (%%"REG_d", %1, 2)         \n\t"
                 "movq %%mm1, (%2)                       \n\t"
 
-                : : "r" (src), "r" ((long)stride), "r" (tmp)
+                : : "r" (src), "r" ((intptr_t)stride), "r" (tmp)
                 : "%"REG_a, "%"REG_d
         );
 #else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
@@ -2012,7 +2012,7 @@
                 "movq %%mm2, (%%"REG_d", %1, 2)         \n\t"
 
 
-                : : "r" (src), "r" ((long)stride)
+                : : "r" (src), "r" ((intptr_t)stride)
                 : "%"REG_a, "%"REG_d
         );
 
@@ -2054,7 +2054,7 @@
 MEDIAN((%0, %1, 4) , (%%REGd)       , (%%REGd, %1))
 MEDIAN((%%REGd, %1), (%%REGd, %1, 2), (%0, %1, 8))
 
-                : : "r" (src), "r" ((long)stride)
+                : : "r" (src), "r" ((intptr_t)stride)
                 : "%"REG_a, "%"REG_d
         );
 #endif //HAVE_MMX2
@@ -2163,7 +2163,7 @@
                 "movd %%mm1, 116(%3)                    \n\t"
 
 
-        :: "r" (src), "r" ((long)srcStride), "r" (dst1), "r" (dst2)
+        :: "r" (src), "r" ((intptr_t)srcStride), "r" (dst1), "r" (dst2)
         : "%"REG_a
         );
 }
@@ -2243,7 +2243,7 @@
                 "psrlq $32, %%mm1                       \n\t"
                 "movd %%mm1, 4(%%"REG_d", %1, 2)        \n\t"
 
-        :: "r" (dst), "r" ((long)dstStride), "r" (src)
+        :: "r" (dst), "r" ((intptr_t)dstStride), "r" (src)
         : "%"REG_a, "%"REG_d
         );
 }
@@ -2546,7 +2546,7 @@
 
                 "4:                                     \n\t"
 
-                :: "r" (src), "r" (tempBlured), "r"((long)stride), "m" (tempBluredPast)
+                :: "r" (src), "r" (tempBlured), "r"((intptr_t)stride), "m" (tempBluredPast)
                 : "%"REG_a, "%"REG_d, "%"REG_c, "memory"
                 );
 #else //defined (HAVE_MMX2) || defined (HAVE_3DNOW)
@@ -2765,14 +2765,14 @@
                 "movq %%mm6, %0                         \n\t"
 
                 : "=m" (eq_mask), "=m" (dc_mask)
-                : "r" (src), "r" ((long)step), "m" (c->pQPb), "m"(c->ppMode.flatnessThreshold)
+                : "r" (src), "r" ((intptr_t)step), "m" (c->pQPb), "m"(c->ppMode.flatnessThreshold)
                 : "%"REG_a
                 );
 
         both_masks = dc_mask & eq_mask;
 
         if(both_masks){
-                long offset= -8*step;
+                intptr_t offset= -8*step;
                 int64_t *temp_sums= sums;
 
                 asm volatile(
@@ -2909,7 +2909,7 @@
                 "mov %4, %0                             \n\t" //FIXME
 
                 : "+&r"(src)
-                : "r" ((long)step), "m" (c->pQPb), "r"(sums), "g"(src)
+                : "r" ((intptr_t)step), "m" (c->pQPb), "r"(sums), "g"(src)
                 );
 
                 src+= step; // src points to begin of the 8x8 Block
@@ -2946,7 +2946,7 @@
                 " js 1b                                 \n\t"
 
                 : "+r"(offset), "+r"(temp_sums)
-                : "r" ((long)step), "r"(src - offset), "m"(both_masks)
+                : "r" ((intptr_t)step), "r"(src - offset), "m"(both_masks)
                 );
         }else
                 src+= step; // src points to begin of the 8x8 Block
@@ -3181,7 +3181,7 @@
                 "movq %%mm0, (%0, %1)                   \n\t"
 
                 : "+r" (temp_src)
-                : "r" ((long)step), "m" (c->pQPb), "m"(eq_mask)
+                : "r" ((intptr_t)step), "m" (c->pQPb), "m"(eq_mask)
                 : "%"REG_a, "%"REG_c
                 );
         }
@@ -3287,8 +3287,8 @@
                         : "0" (packedOffsetAndScale),
                         "r"(src),
                         "r"(dst),
-                        "r" ((long)srcStride),
-                        "r" ((long)dstStride)
+                        "r" ((intptr_t)srcStride),
+                        "r" ((intptr_t)dstStride)
                         : "%"REG_d
                                         );
 #else //HAVE_MMX
@@ -3322,8 +3322,8 @@
 
                 : : "r" (src),
                 "r" (dst),
-                "r" ((long)srcStride),
-                "r" ((long)dstStride)
+                "r" ((intptr_t)srcStride),
+                "r" ((intptr_t)dstStride)
                 : "%"REG_a, "%"REG_d
         );
 #else //HAVE_MMX
@@ -3347,7 +3347,7 @@
                 "movq %%mm0, (%0, %1)           \n\t"
                 "movq %%mm0, (%0, %1, 2)        \n\t"
                 : "+r" (src)
-                : "r" ((long)-stride)
+                : "r" ((intptr_t)-stride)
         );
 #else
         int i;
@@ -3510,8 +3510,8 @@
                                 "add %3, %%"REG_d"              \n\t"
                                 "prefetchnta 32(%%"REG_a", %0)  \n\t"
                                 "prefetcht0 32(%%"REG_d", %2)   \n\t"
-                        :: "r" (srcBlock), "r" ((long)srcStride), "r" (dstBlock), "r" ((long)dstStride),
-                        "g" ((long)x), "g" ((long)copyAhead)
+                        :: "r" (srcBlock), "r" ((intptr_t)srcStride), "r" (dstBlock), "r" ((intptr_t)dstStride),
+                        "g" ((intptr_t)x), "g" ((intptr_t)copyAhead)
                         : "%"REG_a, "%"REG_d
                         );
 
@@ -3654,8 +3654,8 @@
                                 "add %3, %%"REG_d"              \n\t"
                                 "prefetchnta 32(%%"REG_a", %0)  \n\t"
                                 "prefetcht0 32(%%"REG_d", %2)   \n\t"
-                        :: "r" (srcBlock), "r" ((long)srcStride), "r" (dstBlock), "r" ((long)dstStride),
-                         "g" ((long)x), "g" ((long)copyAhead)
+                        :: "r" (srcBlock), "r" ((intptr_t)srcStride), "r" (dstBlock), "r" ((intptr_t)dstStride),
+                         "g" ((intptr_t)x), "g" ((intptr_t)copyAhead)
                         : "%"REG_a, "%"REG_d
                         );
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/rgb2rgb.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/rgb2rgb.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/rgb2rgb.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -40,57 +40,57 @@
 
 #define FAST_BGR2YV12 // use 7 bit coeffs instead of 15bit
 
-void (*rgb24to32)(const uint8_t *src, uint8_t *dst, long src_size);
-void (*rgb24to16)(const uint8_t *src, uint8_t *dst, long src_size);
-void (*rgb24to15)(const uint8_t *src, uint8_t *dst, long src_size);
-void (*rgb32to24)(const uint8_t *src, uint8_t *dst, long src_size);
-void (*rgb32to16)(const uint8_t *src, uint8_t *dst, long src_size);
-void (*rgb32to15)(const uint8_t *src, uint8_t *dst, long src_size);
-void (*rgb15to16)(const uint8_t *src, uint8_t *dst, long src_size);
-void (*rgb15to24)(const uint8_t *src, uint8_t *dst, long src_size);
-void (*rgb15to32)(const uint8_t *src, uint8_t *dst, long src_size);
-void (*rgb16to15)(const uint8_t *src, uint8_t *dst, long src_size);
-void (*rgb16to24)(const uint8_t *src, uint8_t *dst, long src_size);
-void (*rgb16to32)(const uint8_t *src, uint8_t *dst, long src_size);
-//void (*rgb24tobgr32)(const uint8_t *src, uint8_t *dst, long src_size);
-void (*rgb24tobgr24)(const uint8_t *src, uint8_t *dst, long src_size);
-void (*rgb24tobgr16)(const uint8_t *src, uint8_t *dst, long src_size);
-void (*rgb24tobgr15)(const uint8_t *src, uint8_t *dst, long src_size);
-void (*rgb32tobgr32)(const uint8_t *src, uint8_t *dst, long src_size);
-//void (*rgb32tobgr24)(const uint8_t *src, uint8_t *dst, long src_size);
-void (*rgb32tobgr16)(const uint8_t *src, uint8_t *dst, long src_size);
-void (*rgb32tobgr15)(const uint8_t *src, uint8_t *dst, long src_size);
+void (*rgb24to32)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+void (*rgb24to16)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+void (*rgb24to15)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+void (*rgb32to24)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+void (*rgb32to16)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+void (*rgb32to15)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+void (*rgb15to16)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+void (*rgb15to24)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+void (*rgb15to32)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+void (*rgb16to15)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+void (*rgb16to24)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+void (*rgb16to32)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+//void (*rgb24tobgr32)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+void (*rgb24tobgr24)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+void (*rgb24tobgr16)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+void (*rgb24tobgr15)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+void (*rgb32tobgr32)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+//void (*rgb32tobgr24)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+void (*rgb32tobgr16)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+void (*rgb32tobgr15)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
 
 void (*yv12toyuy2)(const uint8_t *ysrc, const uint8_t *usrc, const uint8_t *vsrc, uint8_t *dst,
-                   long width, long height,
-                   long lumStride, long chromStride, long dstStride);
+                   intptr_t width, intptr_t height,
+                   intptr_t lumStride, intptr_t chromStride, intptr_t dstStride);
 void (*yv12touyvy)(const uint8_t *ysrc, const uint8_t *usrc, const uint8_t *vsrc, uint8_t *dst,
-                   long width, long height,
-                   long lumStride, long chromStride, long dstStride);
+                   intptr_t width, intptr_t height,
+                   intptr_t lumStride, intptr_t chromStride, intptr_t dstStride);
 void (*yuv422ptoyuy2)(const uint8_t *ysrc, const uint8_t *usrc, const uint8_t *vsrc, uint8_t *dst,
-                      long width, long height,
-                      long lumStride, long chromStride, long dstStride);
+                      intptr_t width, intptr_t height,
+                      intptr_t lumStride, intptr_t chromStride, intptr_t dstStride);
 void (*yuy2toyv12)(const uint8_t *src, uint8_t *ydst, uint8_t *udst, uint8_t *vdst,
-                   long width, long height,
-                   long lumStride, long chromStride, long srcStride);
+                   intptr_t width, intptr_t height,
+                   intptr_t lumStride, intptr_t chromStride, intptr_t srcStride);
 void (*rgb24toyv12)(const uint8_t *src, uint8_t *ydst, uint8_t *udst, uint8_t *vdst,
-                    long width, long height,
-                    long lumStride, long chromStride, long srcStride);
-void (*planar2x)(const uint8_t *src, uint8_t *dst, long width, long height,
-                 long srcStride, long dstStride);
+                    intptr_t width, intptr_t height,
+                    intptr_t lumStride, intptr_t chromStride, intptr_t srcStride);
+void (*planar2x)(const uint8_t *src, uint8_t *dst, intptr_t width, intptr_t height,
+                 intptr_t srcStride, intptr_t dstStride);
 void (*interleaveBytes)(uint8_t *src1, uint8_t *src2, uint8_t *dst,
-                        long width, long height, long src1Stride,
-                        long src2Stride, long dstStride);
+                        intptr_t width, intptr_t height, intptr_t src1Stride,
+                        intptr_t src2Stride, intptr_t dstStride);
 void (*vu9_to_vu12)(const uint8_t *src1, const uint8_t *src2,
                     uint8_t *dst1, uint8_t *dst2,
-                    long width, long height,
-                    long srcStride1, long srcStride2,
-                    long dstStride1, long dstStride2);
+                    intptr_t width, intptr_t height,
+                    intptr_t srcStride1, intptr_t srcStride2,
+                    intptr_t dstStride1, intptr_t dstStride2);
 void (*yvu9_to_yuy2)(const uint8_t *src1, const uint8_t *src2, const uint8_t *src3,
                      uint8_t *dst,
-                     long width, long height,
-                     long srcStride1, long srcStride2,
-                     long srcStride3, long dstStride);
+                     intptr_t width, intptr_t height,
+                     intptr_t srcStride1, intptr_t srcStride2,
+                     intptr_t srcStride3, intptr_t dstStride);
 
 #if defined(ARCH_X86) && defined(CONFIG_GPL)
 DECLARE_ASM_CONST(8, uint64_t, mmx_null)     = 0x0000000000000000ULL;
@@ -217,9 +217,9 @@
 /**
  * Palette is assumed to contain BGR32.
  */
-void palette8torgb32(const uint8_t *src, uint8_t *dst, long num_pixels, const uint8_t *palette)
+void palette8torgb32(const uint8_t *src, uint8_t *dst, intptr_t num_pixels, const uint8_t *palette)
 {
-    long i;
+    intptr_t i;
 
 /*
     for (i=0; i<num_pixels; i++)
@@ -243,9 +243,9 @@
     }
 }
 
-void palette8tobgr32(const uint8_t *src, uint8_t *dst, long num_pixels, const uint8_t *palette)
+void palette8tobgr32(const uint8_t *src, uint8_t *dst, intptr_t num_pixels, const uint8_t *palette)
 {
-    long i;
+    intptr_t i;
     for (i=0; i<num_pixels; i++)
     {
         #ifdef WORDS_BIGENDIAN
@@ -267,9 +267,9 @@
 /**
  * Palette is assumed to contain BGR32.
  */
-void palette8torgb24(const uint8_t *src, uint8_t *dst, long num_pixels, const uint8_t *palette)
+void palette8torgb24(const uint8_t *src, uint8_t *dst, intptr_t num_pixels, const uint8_t *palette)
 {
-    long i;
+    intptr_t i;
 /*
     writes 1 byte o much and might cause alignment issues on some architectures?
     for (i=0; i<num_pixels; i++)
@@ -285,9 +285,9 @@
     }
 }
 
-void palette8tobgr24(const uint8_t *src, uint8_t *dst, long num_pixels, const uint8_t *palette)
+void palette8tobgr24(const uint8_t *src, uint8_t *dst, intptr_t num_pixels, const uint8_t *palette)
 {
-    long i;
+    intptr_t i;
 /*
     writes 1 byte o much and might cause alignment issues on some architectures?
     for (i=0; i<num_pixels; i++)
@@ -306,15 +306,15 @@
 /**
  * Palette is assumed to contain bgr16, see rgb32to16 to convert the palette
  */
-void palette8torgb16(const uint8_t *src, uint8_t *dst, long num_pixels, const uint8_t *palette)
+void palette8torgb16(const uint8_t *src, uint8_t *dst, intptr_t num_pixels, const uint8_t *palette)
 {
-    long i;
+    intptr_t i;
     for (i=0; i<num_pixels; i++)
         ((uint16_t *)dst)[i] = ((uint16_t *)palette)[src[i]];
 }
-void palette8tobgr16(const uint8_t *src, uint8_t *dst, long num_pixels, const uint8_t *palette)
+void palette8tobgr16(const uint8_t *src, uint8_t *dst, intptr_t num_pixels, const uint8_t *palette)
 {
-    long i;
+    intptr_t i;
     for (i=0; i<num_pixels; i++)
         ((uint16_t *)dst)[i] = bswap_16(((uint16_t *)palette)[src[i]]);
 }
@@ -322,23 +322,23 @@
 /**
  * Palette is assumed to contain BGR15, see rgb32to15 to convert the palette.
  */
-void palette8torgb15(const uint8_t *src, uint8_t *dst, long num_pixels, const uint8_t *palette)
+void palette8torgb15(const uint8_t *src, uint8_t *dst, intptr_t num_pixels, const uint8_t *palette)
 {
-    long i;
+    intptr_t i;
     for (i=0; i<num_pixels; i++)
         ((uint16_t *)dst)[i] = ((uint16_t *)palette)[src[i]];
 }
-void palette8tobgr15(const uint8_t *src, uint8_t *dst, long num_pixels, const uint8_t *palette)
+void palette8tobgr15(const uint8_t *src, uint8_t *dst, intptr_t num_pixels, const uint8_t *palette)
 {
-    long i;
+    intptr_t i;
     for (i=0; i<num_pixels; i++)
         ((uint16_t *)dst)[i] = bswap_16(((uint16_t *)palette)[src[i]]);
 }
 
-void rgb32tobgr24(const uint8_t *src, uint8_t *dst, long src_size)
+void rgb32tobgr24(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
-    long i;
-    long num_pixels = src_size >> 2;
+    intptr_t i;
+    intptr_t num_pixels = src_size >> 2;
     for (i=0; i<num_pixels; i++)
     {
         #ifdef WORDS_BIGENDIAN
@@ -354,9 +354,9 @@
     }
 }
 
-void rgb24tobgr32(const uint8_t *src, uint8_t *dst, long src_size)
+void rgb24tobgr32(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
-    long i;
+    intptr_t i;
     for (i=0; 3*i<src_size; i++)
     {
         #ifdef WORDS_BIGENDIAN
@@ -374,7 +374,7 @@
     }
 }
 
-void rgb16tobgr32(const uint8_t *src, uint8_t *dst, long src_size)
+void rgb16tobgr32(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     const uint16_t *end;
     uint8_t *d = (uint8_t *)dst;
@@ -398,7 +398,7 @@
     }
 }
 
-void rgb16tobgr24(const uint8_t *src, uint8_t *dst, long src_size)
+void rgb16tobgr24(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     const uint16_t *end;
     uint8_t *d = (uint8_t *)dst;
@@ -414,10 +414,10 @@
     }
 }
 
-void rgb16tobgr16(const uint8_t *src, uint8_t *dst, long src_size)
+void rgb16tobgr16(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
-    long i;
-    long num_pixels = src_size >> 1;
+    intptr_t i;
+    intptr_t num_pixels = src_size >> 1;
 
     for (i=0; i<num_pixels; i++)
     {
@@ -431,10 +431,10 @@
     }
 }
 
-void rgb16tobgr15(const uint8_t *src, uint8_t *dst, long src_size)
+void rgb16tobgr15(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
-    long i;
-    long num_pixels = src_size >> 1;
+    intptr_t i;
+    intptr_t num_pixels = src_size >> 1;
 
     for (i=0; i<num_pixels; i++)
     {
@@ -448,7 +448,7 @@
     }
 }
 
-void rgb15tobgr32(const uint8_t *src, uint8_t *dst, long src_size)
+void rgb15tobgr32(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     const uint16_t *end;
     uint8_t *d = (uint8_t *)dst;
@@ -472,7 +472,7 @@
     }
 }
 
-void rgb15tobgr24(const uint8_t *src, uint8_t *dst, long src_size)
+void rgb15tobgr24(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     const uint16_t *end;
     uint8_t *d = (uint8_t *)dst;
@@ -488,10 +488,10 @@
     }
 }
 
-void rgb15tobgr16(const uint8_t *src, uint8_t *dst, long src_size)
+void rgb15tobgr16(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
-    long i;
-    long num_pixels = src_size >> 1;
+    intptr_t i;
+    intptr_t num_pixels = src_size >> 1;
 
     for (i=0; i<num_pixels; i++)
     {
@@ -505,10 +505,10 @@
     }
 }
 
-void rgb15tobgr15(const uint8_t *src, uint8_t *dst, long src_size)
+void rgb15tobgr15(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
-    long i;
-    long num_pixels = src_size >> 1;
+    intptr_t i;
+    intptr_t num_pixels = src_size >> 1;
 
     for (i=0; i<num_pixels; i++)
     {
@@ -522,10 +522,10 @@
     }
 }
 
-void rgb8tobgr8(const uint8_t *src, uint8_t *dst, long src_size)
+void rgb8tobgr8(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
-    long i;
-    long num_pixels = src_size;
+    intptr_t i;
+    intptr_t num_pixels = src_size;
     for (i=0; i<num_pixels; i++)
     {
         unsigned b,g,r;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/rgb2rgb.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/rgb2rgb.h	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/rgb2rgb.h	2008-09-15 17:38:48 UTC (rev 4355)
@@ -29,46 +29,46 @@
 #include <inttypes.h>
 
 /* A full collection of rgb to rgb(bgr) convertors */
-extern void (*rgb24to32)   (const uint8_t *src, uint8_t *dst, long src_size);
-extern void (*rgb24to16)   (const uint8_t *src, uint8_t *dst, long src_size);
-extern void (*rgb24to15)   (const uint8_t *src, uint8_t *dst, long src_size);
-extern void (*rgb32to24)   (const uint8_t *src, uint8_t *dst, long src_size);
-extern void (*rgb32to16)   (const uint8_t *src, uint8_t *dst, long src_size);
-extern void (*rgb32to15)   (const uint8_t *src, uint8_t *dst, long src_size);
-extern void (*rgb15to16)   (const uint8_t *src, uint8_t *dst, long src_size);
-extern void (*rgb15to24)   (const uint8_t *src, uint8_t *dst, long src_size);
-extern void (*rgb15to32)   (const uint8_t *src, uint8_t *dst, long src_size);
-extern void (*rgb16to15)   (const uint8_t *src, uint8_t *dst, long src_size);
-extern void (*rgb16to24)   (const uint8_t *src, uint8_t *dst, long src_size);
-extern void (*rgb16to32)   (const uint8_t *src, uint8_t *dst, long src_size);
-extern void (*rgb24tobgr24)(const uint8_t *src, uint8_t *dst, long src_size);
-extern void (*rgb24tobgr16)(const uint8_t *src, uint8_t *dst, long src_size);
-extern void (*rgb24tobgr15)(const uint8_t *src, uint8_t *dst, long src_size);
-extern void (*rgb32tobgr32)(const uint8_t *src, uint8_t *dst, long src_size);
-extern void (*rgb32tobgr16)(const uint8_t *src, uint8_t *dst, long src_size);
-extern void (*rgb32tobgr15)(const uint8_t *src, uint8_t *dst, long src_size);
+extern void (*rgb24to32)   (const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void (*rgb24to16)   (const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void (*rgb24to15)   (const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void (*rgb32to24)   (const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void (*rgb32to16)   (const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void (*rgb32to15)   (const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void (*rgb15to16)   (const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void (*rgb15to24)   (const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void (*rgb15to32)   (const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void (*rgb16to15)   (const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void (*rgb16to24)   (const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void (*rgb16to32)   (const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void (*rgb24tobgr24)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void (*rgb24tobgr16)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void (*rgb24tobgr15)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void (*rgb32tobgr32)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void (*rgb32tobgr16)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void (*rgb32tobgr15)(const uint8_t *src, uint8_t *dst, intptr_t src_size);
 
-extern void rgb24tobgr32(const uint8_t *src, uint8_t *dst, long src_size);
-extern void rgb32tobgr24(const uint8_t *src, uint8_t *dst, long src_size);
-extern void rgb16tobgr32(const uint8_t *src, uint8_t *dst, long src_size);
-extern void rgb16tobgr24(const uint8_t *src, uint8_t *dst, long src_size);
-extern void rgb16tobgr16(const uint8_t *src, uint8_t *dst, long src_size);
-extern void rgb16tobgr15(const uint8_t *src, uint8_t *dst, long src_size);
-extern void rgb15tobgr32(const uint8_t *src, uint8_t *dst, long src_size);
-extern void rgb15tobgr24(const uint8_t *src, uint8_t *dst, long src_size);
-extern void rgb15tobgr16(const uint8_t *src, uint8_t *dst, long src_size);
-extern void rgb15tobgr15(const uint8_t *src, uint8_t *dst, long src_size);
-extern void rgb8tobgr8  (const uint8_t *src, uint8_t *dst, long src_size);
+extern void rgb24tobgr32(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void rgb32tobgr24(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void rgb16tobgr32(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void rgb16tobgr24(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void rgb16tobgr16(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void rgb16tobgr15(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void rgb15tobgr32(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void rgb15tobgr24(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void rgb15tobgr16(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void rgb15tobgr15(const uint8_t *src, uint8_t *dst, intptr_t src_size);
+extern void rgb8tobgr8  (const uint8_t *src, uint8_t *dst, intptr_t src_size);
 
 
-extern void palette8torgb32(const uint8_t *src, uint8_t *dst, long num_pixels, const uint8_t *palette);
-extern void palette8tobgr32(const uint8_t *src, uint8_t *dst, long num_pixels, const uint8_t *palette);
-extern void palette8torgb24(const uint8_t *src, uint8_t *dst, long num_pixels, const uint8_t *palette);
-extern void palette8tobgr24(const uint8_t *src, uint8_t *dst, long num_pixels, const uint8_t *palette);
-extern void palette8torgb16(const uint8_t *src, uint8_t *dst, long num_pixels, const uint8_t *palette);
-extern void palette8tobgr16(const uint8_t *src, uint8_t *dst, long num_pixels, const uint8_t *palette);
-extern void palette8torgb15(const uint8_t *src, uint8_t *dst, long num_pixels, const uint8_t *palette);
-extern void palette8tobgr15(const uint8_t *src, uint8_t *dst, long num_pixels, const uint8_t *palette);
+extern void palette8torgb32(const uint8_t *src, uint8_t *dst, intptr_t num_pixels, const uint8_t *palette);
+extern void palette8tobgr32(const uint8_t *src, uint8_t *dst, intptr_t num_pixels, const uint8_t *palette);
+extern void palette8torgb24(const uint8_t *src, uint8_t *dst, intptr_t num_pixels, const uint8_t *palette);
+extern void palette8tobgr24(const uint8_t *src, uint8_t *dst, intptr_t num_pixels, const uint8_t *palette);
+extern void palette8torgb16(const uint8_t *src, uint8_t *dst, intptr_t num_pixels, const uint8_t *palette);
+extern void palette8tobgr16(const uint8_t *src, uint8_t *dst, intptr_t num_pixels, const uint8_t *palette);
+extern void palette8torgb15(const uint8_t *src, uint8_t *dst, intptr_t num_pixels, const uint8_t *palette);
+extern void palette8tobgr15(const uint8_t *src, uint8_t *dst, intptr_t num_pixels, const uint8_t *palette);
 
 /**
  *
@@ -84,16 +84,16 @@
  * problem for anyone then tell me, and ill fix it)
  */
 extern void (*yv12toyuy2)(const uint8_t *ysrc, const uint8_t *usrc, const uint8_t *vsrc, uint8_t *dst,
-                          long width, long height,
-                          long lumStride, long chromStride, long dstStride);
+                          intptr_t width, intptr_t height,
+                          intptr_t lumStride, intptr_t chromStride, intptr_t dstStride);
 
 /**
  *
  * width should be a multiple of 16
  */
 extern void (*yuv422ptoyuy2)(const uint8_t *ysrc, const uint8_t *usrc, const uint8_t *vsrc, uint8_t *dst,
-                             long width, long height,
-                             long lumStride, long chromStride, long dstStride);
+                             intptr_t width, intptr_t height,
+                             intptr_t lumStride, intptr_t chromStride, intptr_t dstStride);
 
 /**
  *
@@ -101,8 +101,8 @@
  * problem for anyone then tell me, and ill fix it)
  */
 extern void (*yuy2toyv12)(const uint8_t *src, uint8_t *ydst, uint8_t *udst, uint8_t *vdst,
-                          long width, long height,
-                          long lumStride, long chromStride, long srcStride);
+                          intptr_t width, intptr_t height,
+                          intptr_t lumStride, intptr_t chromStride, intptr_t srcStride);
 
 /**
  *
@@ -110,8 +110,8 @@
  * problem for anyone then tell me, and ill fix it)
  */
 extern void (*yv12touyvy)(const uint8_t *ysrc, const uint8_t *usrc, const uint8_t *vsrc, uint8_t *dst,
-                          long width, long height,
-                          long lumStride, long chromStride, long dstStride);
+                          intptr_t width, intptr_t height,
+                          intptr_t lumStride, intptr_t chromStride, intptr_t dstStride);
 
 /**
  *
@@ -120,26 +120,26 @@
  * chrominance data is only taken from every secound line others are ignored FIXME write HQ version
  */
 extern void (*rgb24toyv12)(const uint8_t *src, uint8_t *ydst, uint8_t *udst, uint8_t *vdst,
-                           long width, long height,
-                           long lumStride, long chromStride, long srcStride);
-extern void (*planar2x)(const uint8_t *src, uint8_t *dst, long width, long height,
-                        long srcStride, long dstStride);
+                           intptr_t width, intptr_t height,
+                           intptr_t lumStride, intptr_t chromStride, intptr_t srcStride);
+extern void (*planar2x)(const uint8_t *src, uint8_t *dst, intptr_t width, intptr_t height,
+                        intptr_t srcStride, intptr_t dstStride);
 
 extern void (*interleaveBytes)(uint8_t *src1, uint8_t *src2, uint8_t *dst,
-                               long width, long height, long src1Stride,
-                               long src2Stride, long dstStride);
+                               intptr_t width, intptr_t height, intptr_t src1Stride,
+                               intptr_t src2Stride, intptr_t dstStride);
 
 extern void (*vu9_to_vu12)(const uint8_t *src1, const uint8_t *src2,
                            uint8_t *dst1, uint8_t *dst2,
-                           long width, long height,
-                           long srcStride1, long srcStride2,
-                           long dstStride1, long dstStride2);
+                           intptr_t width, intptr_t height,
+                           intptr_t srcStride1, intptr_t srcStride2,
+                           intptr_t dstStride1, intptr_t dstStride2);
 
 extern void (*yvu9_to_yuy2)(const uint8_t *src1, const uint8_t *src2, const uint8_t *src3,
                             uint8_t *dst,
-                            long width, long height,
-                            long srcStride1, long srcStride2,
-                            long srcStride3, long dstStride);
+                            intptr_t width, intptr_t height,
+                            intptr_t srcStride1, intptr_t srcStride2,
+                            intptr_t srcStride3, intptr_t dstStride);
 
 void sws_rgb2rgb_init(int flags);
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/rgb2rgb_template.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/rgb2rgb_template.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/rgb2rgb_template.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -82,7 +82,7 @@
 #define SFENCE " # nop"
 #endif
 
-static inline void RENAME(rgb24to32)(const uint8_t *src, uint8_t *dst, long src_size)
+static inline void RENAME(rgb24to32)(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     uint8_t *dest = dst;
     const uint8_t *s = src;
@@ -142,7 +142,7 @@
     }
 }
 
-static inline void RENAME(rgb32to24)(const uint8_t *src, uint8_t *dst, long src_size)
+static inline void RENAME(rgb32to24)(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     uint8_t *dest = dst;
     const uint8_t *s = src;
@@ -234,7 +234,7 @@
  MMX2, 3DNOW optimization by Nick Kurshev
  32 bit C version, and and&add trick by Michael Niedermayer
 */
-static inline void RENAME(rgb15to16)(const uint8_t *src, uint8_t *dst, long src_size)
+static inline void RENAME(rgb15to16)(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     register const uint8_t* s=src;
     register uint8_t* d=dst;
@@ -283,7 +283,7 @@
     }
 }
 
-static inline void RENAME(rgb16to15)(const uint8_t *src, uint8_t *dst, long src_size)
+static inline void RENAME(rgb16to15)(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     register const uint8_t* s=src;
     register uint8_t* d=dst;
@@ -339,7 +339,7 @@
     }
 }
 
-static inline void RENAME(rgb32to16)(const uint8_t *src, uint8_t *dst, long src_size)
+static inline void RENAME(rgb32to16)(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     const uint8_t *s = src;
     const uint8_t *end;
@@ -437,7 +437,7 @@
     }
 }
 
-static inline void RENAME(rgb32tobgr16)(const uint8_t *src, uint8_t *dst, long src_size)
+static inline void RENAME(rgb32tobgr16)(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     const uint8_t *s = src;
     const uint8_t *end;
@@ -498,7 +498,7 @@
     }
 }
 
-static inline void RENAME(rgb32to15)(const uint8_t *src, uint8_t *dst, long src_size)
+static inline void RENAME(rgb32to15)(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     const uint8_t *s = src;
     const uint8_t *end;
@@ -596,7 +596,7 @@
     }
 }
 
-static inline void RENAME(rgb32tobgr15)(const uint8_t *src, uint8_t *dst, long src_size)
+static inline void RENAME(rgb32tobgr15)(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     const uint8_t *s = src;
     const uint8_t *end;
@@ -657,7 +657,7 @@
     }
 }
 
-static inline void RENAME(rgb24to16)(const uint8_t *src, uint8_t *dst, long src_size)
+static inline void RENAME(rgb24to16)(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     const uint8_t *s = src;
     const uint8_t *end;
@@ -720,7 +720,7 @@
     }
 }
 
-static inline void RENAME(rgb24tobgr16)(const uint8_t *src, uint8_t *dst, long src_size)
+static inline void RENAME(rgb24tobgr16)(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     const uint8_t *s = src;
     const uint8_t *end;
@@ -783,7 +783,7 @@
     }
 }
 
-static inline void RENAME(rgb24to15)(const uint8_t *src, uint8_t *dst, long src_size)
+static inline void RENAME(rgb24to15)(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     const uint8_t *s = src;
     const uint8_t *end;
@@ -846,7 +846,7 @@
     }
 }
 
-static inline void RENAME(rgb24tobgr15)(const uint8_t *src, uint8_t *dst, long src_size)
+static inline void RENAME(rgb24tobgr15)(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     const uint8_t *s = src;
     const uint8_t *end;
@@ -930,7 +930,7 @@
        |
    Original Bits
 */
-static inline void RENAME(rgb15to24)(const uint8_t *src, uint8_t *dst, long src_size)
+static inline void RENAME(rgb15to24)(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     const uint16_t *end;
 #ifdef HAVE_MMX
@@ -1072,7 +1072,7 @@
     }
 }
 
-static inline void RENAME(rgb16to24)(const uint8_t *src, uint8_t *dst, long src_size)
+static inline void RENAME(rgb16to24)(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     const uint16_t *end;
 #ifdef HAVE_MMX
@@ -1213,7 +1213,7 @@
     }
 }
 
-static inline void RENAME(rgb15to32)(const uint8_t *src, uint8_t *dst, long src_size)
+static inline void RENAME(rgb15to32)(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     const uint16_t *end;
 #ifdef HAVE_MMX
@@ -1291,7 +1291,7 @@
     }
 }
 
-static inline void RENAME(rgb16to32)(const uint8_t *src, uint8_t *dst, long src_size)
+static inline void RENAME(rgb16to32)(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     const uint16_t *end;
 #ifdef HAVE_MMX
@@ -1363,9 +1363,9 @@
     }
 }
 
-static inline void RENAME(rgb32tobgr32)(const uint8_t *src, uint8_t *dst, long src_size)
+static inline void RENAME(rgb32tobgr32)(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
-    long idx = 15 - src_size;
+    intptr_t idx = 15 - src_size;
     uint8_t *s = (uint8_t *) src-idx, *d = dst-idx;
 #ifdef HAVE_MMX
     asm volatile(
@@ -1426,11 +1426,11 @@
     }
 }
 
-static inline void RENAME(rgb24tobgr24)(const uint8_t *src, uint8_t *dst, long src_size)
+static inline void RENAME(rgb24tobgr24)(const uint8_t *src, uint8_t *dst, intptr_t src_size)
 {
     unsigned i;
 #ifdef HAVE_MMX
-    long mmx_size= 23 - src_size;
+    intptr_t mmx_size= 23 - src_size;
     asm volatile (
     "test             %%"REG_a", %%"REG_a"          \n\t"
     "jns                     2f                     \n\t"
@@ -1497,11 +1497,11 @@
 }
 
 static inline void RENAME(yuvPlanartoyuy2)(const uint8_t *ysrc, const uint8_t *usrc, const uint8_t *vsrc, uint8_t *dst,
-                                           long width, long height,
-                                           long lumStride, long chromStride, long dstStride, long vertLumPerChroma)
+                                           intptr_t width, intptr_t height,
+                                           intptr_t lumStride, intptr_t chromStride, intptr_t dstStride, intptr_t vertLumPerChroma)
 {
-    long y;
-    const long chromWidth= width>>1;
+    intptr_t y;
+    const intptr_t chromWidth= width>>1;
     for (y=0; y<height; y++)
     {
 #ifdef HAVE_MMX
@@ -1641,19 +1641,19 @@
  * this is a problem for anyone then tell me, and I will fix it).
  */
 static inline void RENAME(yv12toyuy2)(const uint8_t *ysrc, const uint8_t *usrc, const uint8_t *vsrc, uint8_t *dst,
-                                      long width, long height,
-                                      long lumStride, long chromStride, long dstStride)
+                                      intptr_t width, intptr_t height,
+                                      intptr_t lumStride, intptr_t chromStride, intptr_t dstStride)
 {
     //FIXME interpolate chroma
     RENAME(yuvPlanartoyuy2)(ysrc, usrc, vsrc, dst, width, height, lumStride, chromStride, dstStride, 2);
 }
 
 static inline void RENAME(yuvPlanartouyvy)(const uint8_t *ysrc, const uint8_t *usrc, const uint8_t *vsrc, uint8_t *dst,
-                                           long width, long height,
-                                           long lumStride, long chromStride, long dstStride, long vertLumPerChroma)
+                                           intptr_t width, intptr_t height,
+                                           intptr_t lumStride, intptr_t chromStride, intptr_t dstStride, intptr_t vertLumPerChroma)
 {
-    long y;
-    const long chromWidth= width>>1;
+    intptr_t y;
+    const intptr_t chromWidth= width>>1;
     for (y=0; y<height; y++)
     {
 #ifdef HAVE_MMX
@@ -1747,8 +1747,8 @@
  * this is a problem for anyone then tell me, and I will fix it).
  */
 static inline void RENAME(yv12touyvy)(const uint8_t *ysrc, const uint8_t *usrc, const uint8_t *vsrc, uint8_t *dst,
-                                      long width, long height,
-                                      long lumStride, long chromStride, long dstStride)
+                                      intptr_t width, intptr_t height,
+                                      intptr_t lumStride, intptr_t chromStride, intptr_t dstStride)
 {
     //FIXME interpolate chroma
     RENAME(yuvPlanartouyvy)(ysrc, usrc, vsrc, dst, width, height, lumStride, chromStride, dstStride, 2);
@@ -1758,8 +1758,8 @@
  * Width should be a multiple of 16.
  */
 static inline void RENAME(yuv422ptoyuy2)(const uint8_t *ysrc, const uint8_t *usrc, const uint8_t *vsrc, uint8_t *dst,
-                                         long width, long height,
-                                         long lumStride, long chromStride, long dstStride)
+                                         intptr_t width, intptr_t height,
+                                         intptr_t lumStride, intptr_t chromStride, intptr_t dstStride)
 {
     RENAME(yuvPlanartoyuy2)(ysrc, usrc, vsrc, dst, width, height, lumStride, chromStride, dstStride, 1);
 }
@@ -1769,11 +1769,11 @@
  * this is a problem for anyone then tell me, and I will fix it).
  */
 static inline void RENAME(yuy2toyv12)(const uint8_t *src, uint8_t *ydst, uint8_t *udst, uint8_t *vdst,
-                                      long width, long height,
-                                      long lumStride, long chromStride, long srcStride)
+                                      intptr_t width, intptr_t height,
+                                      intptr_t lumStride, intptr_t chromStride, intptr_t srcStride)
 {
-    long y;
-    const long chromWidth= width>>1;
+    intptr_t y;
+    const intptr_t chromWidth= width>>1;
     for (y=0; y<height; y+=2)
     {
 #ifdef HAVE_MMX
@@ -1859,7 +1859,7 @@
         : "memory", "%"REG_a
         );
 #else
-        long i;
+        intptr_t i;
         for (i=0; i<chromWidth; i++)
         {
             ydst[2*i+0]     = src[4*i+0];
@@ -1890,7 +1890,7 @@
 
 static inline void RENAME(yvu9toyv12)(const uint8_t *ysrc, const uint8_t *usrc, const uint8_t *vsrc,
                                       uint8_t *ydst, uint8_t *udst, uint8_t *vdst,
-                                      long width, long height, long lumStride, long chromStride)
+                                      intptr_t width, intptr_t height, intptr_t lumStride, intptr_t chromStride)
 {
     /* Y Plane */
     memcpy(ydst, ysrc, width*height);
@@ -1898,9 +1898,9 @@
     /* XXX: implement upscaling for U,V */
 }
 
-static inline void RENAME(planar2x)(const uint8_t *src, uint8_t *dst, long srcWidth, long srcHeight, long srcStride, long dstStride)
+static inline void RENAME(planar2x)(const uint8_t *src, uint8_t *dst, intptr_t srcWidth, intptr_t srcHeight, intptr_t srcStride, intptr_t dstStride)
 {
-    long x,y;
+    intptr_t x,y;
 
     dst[0]= src[0];
 
@@ -1915,7 +1915,7 @@
 
     for (y=1; y<srcHeight; y++){
 #if defined (HAVE_MMX2) || defined (HAVE_3DNOW)
-        const long mmxSize= srcWidth&~15;
+        const intptr_t mmxSize= srcWidth&~15;
         asm volatile(
         "mov           %4, %%"REG_a"            \n\t"
         "1:                                     \n\t"
@@ -1959,7 +1959,7 @@
 
         );
 #else
-        const long mmxSize=1;
+        const intptr_t mmxSize=1;
 #endif
         dst[0        ]= (3*src[0] +   src[srcStride])>>2;
         dst[dstStride]= (  src[0] + 3*src[srcStride])>>2;
@@ -2007,11 +2007,11 @@
  * FIXME: Write HQ version.
  */
 static inline void RENAME(uyvytoyv12)(const uint8_t *src, uint8_t *ydst, uint8_t *udst, uint8_t *vdst,
-                                      long width, long height,
-                                      long lumStride, long chromStride, long srcStride)
+                                      intptr_t width, intptr_t height,
+                                      intptr_t lumStride, intptr_t chromStride, intptr_t srcStride)
 {
-    long y;
-    const long chromWidth= width>>1;
+    intptr_t y;
+    const intptr_t chromWidth= width>>1;
     for (y=0; y<height; y+=2)
     {
 #ifdef HAVE_MMX
@@ -2097,7 +2097,7 @@
         : "memory", "%eax"
         );
 #else
-        long i;
+        intptr_t i;
         for (i=0; i<chromWidth; i++)
         {
             udst[i]     = src[4*i+0];
@@ -2134,15 +2134,15 @@
  * FIXME: Write HQ version.
  */
 static inline void RENAME(rgb24toyv12)(const uint8_t *src, uint8_t *ydst, uint8_t *udst, uint8_t *vdst,
-                                       long width, long height,
-                                       long lumStride, long chromStride, long srcStride)
+                                       intptr_t width, intptr_t height,
+                                       intptr_t lumStride, intptr_t chromStride, intptr_t srcStride)
 {
-    long y;
-    const long chromWidth= width>>1;
+    intptr_t y;
+    const intptr_t chromWidth= width>>1;
 #ifdef HAVE_MMX
     for (y=0; y<height-2; y+=2)
     {
-        long i;
+        intptr_t i;
         for (i=0; i<2; i++)
         {
             asm volatile(
@@ -2380,7 +2380,7 @@
 #endif
     for (; y<height; y+=2)
     {
-        long i;
+        intptr_t i;
         for (i=0; i<chromWidth; i++)
         {
             unsigned int b = src[6*i+0];
@@ -2430,13 +2430,13 @@
 }
 
 void RENAME(interleaveBytes)(uint8_t *src1, uint8_t *src2, uint8_t *dest,
-                             long width, long height, long src1Stride,
-                             long src2Stride, long dstStride){
-    long h;
+                             intptr_t width, intptr_t height, intptr_t src1Stride,
+                             intptr_t src2Stride, intptr_t dstStride){
+    intptr_t h;
 
     for (h=0; h < height; h++)
     {
-        long w;
+        intptr_t w;
 
 #ifdef HAVE_MMX
 #ifdef HAVE_SSE2
@@ -2512,11 +2512,11 @@
 
 static inline void RENAME(vu9_to_vu12)(const uint8_t *src1, const uint8_t *src2,
                                        uint8_t *dst1, uint8_t *dst2,
-                                       long width, long height,
-                                       long srcStride1, long srcStride2,
-                                       long dstStride1, long dstStride2)
+                                       intptr_t width, intptr_t height,
+                                       intptr_t srcStride1, intptr_t srcStride2,
+                                       intptr_t dstStride1, intptr_t dstStride2)
 {
-    long y,x,w,h;
+    intptr_t y,x,w,h;
     w=width/2; h=height/2;
 #ifdef HAVE_MMX
     asm volatile(
@@ -2615,11 +2615,11 @@
 
 static inline void RENAME(yvu9_to_yuy2)(const uint8_t *src1, const uint8_t *src2, const uint8_t *src3,
                                         uint8_t *dst,
-                                        long width, long height,
-                                        long srcStride1, long srcStride2,
-                                        long srcStride3, long dstStride)
+                                        intptr_t width, intptr_t height,
+                                        intptr_t srcStride1, intptr_t srcStride2,
+                                        intptr_t srcStride3, intptr_t dstStride)
 {
-    long y,x,w,h;
+    intptr_t y,x,w,h;
     w=width/2; h=height;
     for (y=0;y<h;y++){
     const uint8_t* yp=src1+srcStride1*y;
@@ -2684,7 +2684,7 @@
 #endif
     for (; x<w; x++)
     {
-        const long x2 = x<<2;
+        const intptr_t x2 = x<<2;
         d[8*x+0] = yp[x2];
         d[8*x+1] = up[x];
         d[8*x+2] = yp[x2+1];

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/swscale_template.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/swscale_template.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/swscale_template.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -929,7 +929,7 @@
 
 static inline void RENAME(yuv2yuvX)(SwsContext *c, int16_t *lumFilter, int16_t **lumSrc, int lumFilterSize,
                                     int16_t *chrFilter, int16_t **chrSrc, int chrFilterSize,
-                                    uint8_t *dest, uint8_t *uDest, uint8_t *vDest, long dstW, long chrDstW)
+                                    uint8_t *dest, uint8_t *uDest, uint8_t *vDest, intptr_t dstW, intptr_t chrDstW)
 {
 #ifdef HAVE_MMX
     if (c->flags & SWS_ACCURATE_RND){
@@ -970,7 +970,7 @@
 }
 
 static inline void RENAME(yuv2yuv1)(int16_t *lumSrc, int16_t *chrSrc,
-                                    uint8_t *dest, uint8_t *uDest, uint8_t *vDest, long dstW, long chrDstW)
+                                    uint8_t *dest, uint8_t *uDest, uint8_t *vDest, intptr_t dstW, intptr_t chrDstW)
 {
 #ifdef HAVE_MMX
     if (uDest)
@@ -1035,10 +1035,10 @@
  */
 static inline void RENAME(yuv2packedX)(SwsContext *c, int16_t *lumFilter, int16_t **lumSrc, int lumFilterSize,
                                        int16_t *chrFilter, int16_t **chrSrc, int chrFilterSize,
-                                       uint8_t *dest, long dstW, long dstY)
+                                       uint8_t *dest, intptr_t dstW, intptr_t dstY)
 {
 #ifdef HAVE_MMX
-    long dummy=0;
+    intptr_t dummy=0;
     if (c->flags & SWS_ACCURATE_RND){
         switch(c->dstFormat){
         case PIX_FMT_RGB32:
@@ -1213,7 +1213,7 @@
             "cmp %5, %%"REG_a"  \n\t"
             " jb 1b             \n\t"
 
-            :: "r" (buf0), "r" (buf1), "r" (uvbuf0), "r" (uvbuf1), "r" (dest), "m" ((long)dstW),
+            :: "r" (buf0), "r" (buf1), "r" (uvbuf0), "r" (uvbuf1), "r" (dest), "m" ((intptr_t)dstW),
             "m" (yalpha1), "m" (uvalpha1)
             : "%"REG_a
             );
@@ -1702,7 +1702,7 @@
 
 //FIXME yuy2* can read upto 7 samples to much
 
-static inline void RENAME(yuy2ToY)(uint8_t *dst, uint8_t *src, long width)
+static inline void RENAME(yuy2ToY)(uint8_t *dst, uint8_t *src, intptr_t width)
 {
 #ifdef HAVE_MMX
     asm volatile(
@@ -1727,7 +1727,7 @@
 #endif
 }
 
-static inline void RENAME(yuy2ToUV)(uint8_t *dstU, uint8_t *dstV, uint8_t *src1, uint8_t *src2, long width)
+static inline void RENAME(yuy2ToUV)(uint8_t *dstU, uint8_t *dstV, uint8_t *src1, uint8_t *src2, intptr_t width)
 {
 #ifdef HAVE_MMX
     asm volatile(
@@ -1763,7 +1763,7 @@
 }
 
 //this is allmost identical to the previous, end exists only cuz yuy2ToY/UV)(dst, src+1, ...) would have 100% unaligned accesses
-static inline void RENAME(uyvyToY)(uint8_t *dst, uint8_t *src, long width)
+static inline void RENAME(uyvyToY)(uint8_t *dst, uint8_t *src, intptr_t width)
 {
 #ifdef HAVE_MMX
     asm volatile(
@@ -1787,7 +1787,7 @@
 #endif
 }
 
-static inline void RENAME(uyvyToUV)(uint8_t *dstU, uint8_t *dstV, uint8_t *src1, uint8_t *src2, long width)
+static inline void RENAME(uyvyToUV)(uint8_t *dstU, uint8_t *dstV, uint8_t *src1, uint8_t *src2, intptr_t width)
 {
 #ifdef HAVE_MMX
     asm volatile(
@@ -1854,7 +1854,7 @@
     }
 }
 
-static inline void RENAME(bgr24ToY)(uint8_t *dst, uint8_t *src, long width)
+static inline void RENAME(bgr24ToY)(uint8_t *dst, uint8_t *src, intptr_t width)
 {
 #ifdef HAVE_MMX
     asm volatile(
@@ -1939,7 +1939,7 @@
 #endif /* HAVE_MMX */
 }
 
-static inline void RENAME(bgr24ToUV)(uint8_t *dstU, uint8_t *dstV, uint8_t *src1, uint8_t *src2, long width)
+static inline void RENAME(bgr24ToUV)(uint8_t *dstU, uint8_t *dstV, uint8_t *src1, uint8_t *src2, intptr_t width)
 {
 #ifdef HAVE_MMX
     asm volatile(
@@ -2298,13 +2298,13 @@
 
 // Bilinear / Bicubic scaling
 static inline void RENAME(hScale)(int16_t *dst, int dstW, uint8_t *src, int srcW, int xInc,
-                                  int16_t *filter, int16_t *filterPos, long filterSize)
+                                  int16_t *filter, int16_t *filterPos, intptr_t filterSize)
 {
 #ifdef HAVE_MMX
     assert(filterSize % 4 == 0 && filterSize>0);
     if (filterSize==4) // Always true for upscaling, sometimes for down, too.
     {
-        long counter= -2*dstW;
+        intptr_t counter= -2*dstW;
         filter-= counter*2;
         filterPos-= counter/2;
         dst-= counter/2;
@@ -2350,7 +2350,7 @@
     }
     else if (filterSize==8)
     {
-        long counter= -2*dstW;
+        intptr_t counter= -2*dstW;
         filter-= counter*4;
         filterPos-= counter/2;
         dst-= counter/2;
@@ -2409,7 +2409,7 @@
     else
     {
         uint8_t *offset = src+filterSize;
-        long counter= -2*dstW;
+        intptr_t counter= -2*dstW;
         //filter-= counter*filterSize/2;
         filterPos-= counter/2;
         dst-= counter/2;
@@ -2480,7 +2480,7 @@
 #endif /* HAVE_MMX */
 }
       // *** horizontal scale Y line to temp buffer
-static inline void RENAME(hyscale)(uint16_t *dst, long dstWidth, uint8_t *src, int srcW, int xInc,
+static inline void RENAME(hyscale)(uint16_t *dst, intptr_t dstWidth, uint8_t *src, int srcW, int xInc,
                                    int flags, int canMMX2BeUsed, int16_t *hLumFilter,
                                    int16_t *hLumFilterPos, int hLumFilterSize, void *funnyYCode,
                                    int srcFormat, uint8_t *formatConvBuffer, int16_t *mmx2Filter,
@@ -2623,7 +2623,7 @@
         else
         {
 #endif /* HAVE_MMX2 */
-        long xInc_shr16 = xInc >> 16;
+        intptr_t xInc_shr16 = xInc >> 16;
         uint16_t xInc_mask = xInc & 0xffff;
         //NO MMX just normal asm ...
         asm volatile(
@@ -2682,7 +2682,7 @@
     }
 }
 
-inline static void RENAME(hcscale)(uint16_t *dst, long dstWidth, uint8_t *src1, uint8_t *src2,
+inline static void RENAME(hcscale)(uint16_t *dst, intptr_t dstWidth, uint8_t *src1, uint8_t *src2,
                                    int srcW, int xInc, int flags, int canMMX2BeUsed, int16_t *hChrFilter,
                                    int16_t *hChrFilterPos, int hChrFilterSize, void *funnyUVCode,
                                    int srcFormat, uint8_t *formatConvBuffer, int16_t *mmx2Filter,
@@ -2854,7 +2854,7 @@
         else
         {
 #endif /* HAVE_MMX2 */
-            long xInc_shr16 = (long) (xInc >> 16);
+            intptr_t xInc_shr16 = (intptr_t) (xInc >> 16);
             uint16_t xInc_mask = xInc & 0xffff;
             asm volatile(
             "xor %%"REG_a", %%"REG_a"               \n\t" // i
@@ -2892,9 +2892,9 @@
 /* GCC-3.3 makes MPlayer crash on IA-32 machines when using "g" operand here,
    which is needed to support GCC-4.0 */
 #if defined(ARCH_X86_64) && ((__GNUC__ > 3) || (__GNUC__ == 3 && __GNUC_MINOR__ >= 4))
-            :: "m" (src1), "m" (dst), "g" ((long)dstWidth), "m" (xInc_shr16), "m" (xInc_mask),
+            :: "m" (src1), "m" (dst), "g" ((intptr_t)dstWidth), "m" (xInc_shr16), "m" (xInc_mask),
 #else
-            :: "m" (src1), "m" (dst), "m" ((long)dstWidth), "m" (xInc_shr16), "m" (xInc_mask),
+            :: "m" (src1), "m" (dst), "m" ((intptr_t)dstWidth), "m" (xInc_shr16), "m" (xInc_mask),
 #endif
             "r" (src2)
             : "%"REG_a, "%"REG_d, "%ecx", "%"REG_D, "%esi"

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/yuv2rgb_template.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/yuv2rgb_template.c	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_libswscale/yuv2rgb_template.c	2008-09-15 17:38:48 UTC (rev 4355)
@@ -141,7 +141,7 @@
         uint8_t *py = src[0] + y*srcStride[0];
         uint8_t *pu = src[1] + (y>>1)*srcStride[1];
         uint8_t *pv = src[2] + (y>>1)*srcStride[2];
-        long index= -h_size/2;
+        intptr_t index= -h_size/2;
 
         b5Dither= ff_dither8[y&1];
         g6Dither= ff_dither4[y&1];
@@ -236,7 +236,7 @@
         uint8_t *py = src[0] + y*srcStride[0];
         uint8_t *pu = src[1] + (y>>1)*srcStride[1];
         uint8_t *pv = src[2] + (y>>1)*srcStride[2];
-        long index= -h_size/2;
+        intptr_t index= -h_size/2;
 
         b5Dither= ff_dither8[y&1];
         g6Dither= ff_dither4[y&1];
@@ -324,7 +324,7 @@
         uint8_t *py = src[0] + y*srcStride[0];
         uint8_t *pu = src[1] + (y>>1)*srcStride[1];
         uint8_t *pv = src[2] + (y>>1)*srcStride[2];
-        long index= -h_size/2;
+        intptr_t index= -h_size/2;
 
         /* this mmx assembly code deals with SINGLE scan line at a time, it convert 8
            pixels in each iteration */
@@ -470,7 +470,7 @@
         uint8_t *py = src[0] + y*srcStride[0];
         uint8_t *pu = src[1] + (y>>1)*srcStride[1];
         uint8_t *pv = src[2] + (y>>1)*srcStride[2];
-        long index= -h_size/2;
+        intptr_t index= -h_size/2;
 
         /* this mmx assembly code deals with SINGLE scan line at a time, it convert 8
            pixels in each iteration */

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/CMakeLists.txt
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/CMakeLists.txt	2008-09-15 17:03:51 UTC (rev 4354)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/CMakeLists.txt	2008-09-15 17:38:48 UTC (rev 4355)
@@ -10,7 +10,9 @@
 ENDIF (UNIX)
 
 IF (ADM_CPU_X86_64 OR ADM_CPU_PPC)
-	ADD_DEFINITIONS(-fPIC -DPIC)
+	IF (NOT WIN32)
+		ADD_DEFINITIONS(-fPIC -DPIC)
+	ENDIF (NOT WIN32)
 ELSEIF (APPLE)
 	ADD_DEFINITIONS(-mdynamic-no-pic)
 ENDIF (ADM_CPU_X86_64 OR ADM_CPU_PPC)



From gruntster at mail.berlios.de  Mon Sep 15 19:54:25 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 15 Sep 2008 19:54:25 +0200
Subject: [Avidemux-svn-commit] r4356 - in
	branches/avidemux_2.5_branch_gruntster/avidemux: ADM_encoder
	ADM_plugin ADM_userInterfaces/ADM_GTK
	ADM_userInterfaces/ADM_GTK/ADM_gui2
	ADM_userInterfaces/ADM_NONE ADM_userInterfaces/ADM_QT4
Message-ID: <200809151754.m8FHsPpk012126@sheep.berlios.de>

Author: gruntster
Date: 2008-09-15 19:54:13 +0200 (Mon, 15 Sep 2008)
New Revision: 4356

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encConfig.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_plugin/ADM_vidEnc_plugin.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ui_support.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ui_support.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp
Log:
[Win64] UI compilation fixes

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encConfig.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encConfig.cpp	2008-09-15 17:38:48 UTC (rev 4355)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encConfig.cpp	2008-09-15 17:54:13 UTC (rev 4356)
@@ -38,7 +38,7 @@
 extern int AllVideoCodecCount;
 extern uint8_t DIA_videoCodec(int *codecIndex);
 extern void UI_setVideoCodec(int i);
-extern void getMainWindowHandles(long int *handle, long int *nativeHandle);
+extern void getMainWindowHandles(intptr_t *handle, intptr_t *nativeHandle);
 
 // Some static stuff
 void setVideoEncoderSettings(COMPRESSION_MODE mode, uint32_t param, uint32_t extraConf, uint8_t *extraData);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_plugin/ADM_vidEnc_plugin.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_plugin/ADM_vidEnc_plugin.h	2008-09-15 17:38:48 UTC (rev 4355)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_plugin/ADM_vidEnc_plugin.h	2008-09-15 17:54:13 UTC (rev 4356)
@@ -85,8 +85,8 @@
 typedef struct
 {
 	int structSize;
-	long int parent;
-	long int parentNative;
+	intptr_t parent;
+	intptr_t parentNative;
 } vidEncConfigParameters;
 
 int vidEncGetEncoders(int uiType, int **encoderIds);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp	2008-09-15 17:38:48 UTC (rev 4355)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp	2008-09-15 17:54:13 UTC (rev 4356)
@@ -862,10 +862,10 @@
 	// return focus to window once Enter has been pressed
 	UNUSED_ARG(menuitem);
     Action act;
-    uint32_t aint;
+    intptr_t aint;
     if(update_ui) return; // no event sent
 
-    aint = (long int) user_data;
+    aint = (intptr_t) user_data;
     act = (Action) aint;
 
 	HandleAction(act);
@@ -928,10 +928,10 @@
 {
     UNUSED_ARG(menuitem);
     Action act;
-    uint32_t aint;
+    intptr_t aint;
     if(update_ui) return; // no event sent
 
-    aint = (long int) user_data;
+    aint = (intptr_t) user_data;
     act = (Action) aint;
     if(act==ACT_Scale)
     {

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ui_support.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ui_support.cpp	2008-09-15 17:38:48 UTC (rev 4355)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ui_support.cpp	2008-09-15 17:54:13 UTC (rev 4356)
@@ -49,15 +49,15 @@
   return ADM_UI_GTK;
 }
 
-void getMainWindowHandles(long int *handle,long int *nativeHandle)
+void getMainWindowHandles(intptr_t *handle, intptr_t *nativeHandle)
 {
-	*handle = (long int)guiRootWindow;
+	*handle = (intptr_t)guiRootWindow;
 
 #ifdef __WIN32
-	*nativeHandle = (long int)guiRootWindow->window;
+	*nativeHandle = (intptr_t)guiRootWindow->window;
 #elif defined(__APPLE__)
-	*nativeHandle = (long int)getMainNSWindow();
+	*nativeHandle = (intptr_t)getMainNSWindow();
 #else
-	*nativeHandle = (long int)guiRootWindow->window;
+	*nativeHandle = (intptr_t)guiRootWindow->window;
 #endif
 }

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ui_support.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ui_support.cpp	2008-09-15 17:38:48 UTC (rev 4355)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_NONE/ui_support.cpp	2008-09-15 17:54:13 UTC (rev 4356)
@@ -39,7 +39,7 @@
   return ADM_UI_CLI;
 }
 
-void getMainWindowHandles(long int *handle, long int *nativeHandle)
+void getMainWindowHandles(intptr_t *handle, intptr_t *nativeHandle)
 {
 	*handle = 0;
 	*nativeHandle = 0;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp	2008-09-15 17:38:48 UTC (rev 4355)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp	2008-09-15 17:54:13 UTC (rev 4356)
@@ -73,13 +73,13 @@
   return ADM_UI_QT4;
 }
 
-void getMainWindowHandles(long int *handle, long int *nativeHandle)
+void getMainWindowHandles(intptr_t *handle, intptr_t *nativeHandle)
 {
-	*handle = (long int)QuiMainWindows;
+	*handle = (intptr_t)QuiMainWindows;
 
 #if defined(__APPLE__)
-	*nativeHandle = (long int)HIViewGetWindow(HIViewRef(QuiMainWindows->winId()));
+	*nativeHandle = (intptr_t)HIViewGetWindow(HIViewRef(QuiMainWindows->winId()));
 #else
-	*nativeHandle = (long int)QuiMainWindows->winId();
+	*nativeHandle = (intptr_t)QuiMainWindows->winId();
 #endif
 }



From gruntster at mail.berlios.de  Tue Sep 16 13:42:00 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Tue, 16 Sep 2008 13:42:00 +0200
Subject: [Avidemux-svn-commit] r4357 -
	branches/avidemux_2.4_branch/avidemux/ADM_codecs
Message-ID: <200809161142.m8GBg0YF016276@sheep.berlios.de>

Author: gruntster
Date: 2008-09-16 13:41:55 +0200 (Tue, 16 Sep 2008)
New Revision: 4357

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264.cpp
Log:
[x264] build fix for libx264 core 63

Modified: branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264.cpp	2008-09-15 17:54:13 UTC (rev 4356)
+++ branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264.cpp	2008-09-16 11:41:55 UTC (rev 4357)
@@ -113,7 +113,12 @@
   MKPARAM(i_bframe_bias,Bias);
   MKPARAM( b_bframe_pyramid,BasReference );
   MKPARAM(analyse. b_bidir_me,BidirME );
+
+#if X264_BUILD >= 63
+  MKPARAM( i_bframe_adaptive, Adaptative);
+#else
   MKPARAM( b_bframe_adaptive, Adaptative);
+#endif
   MKPARAM( analyse.b_weighted_bipred, Weighted);
   MKPARAM( b_cabac , CABAC);
   MKPARAM( analyse.i_trellis, Trellis);



From gruntster at mail.berlios.de  Thu Sep 18 15:33:52 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Thu, 18 Sep 2008 15:33:52 +0200
Subject: [Avidemux-svn-commit] r4358 -
	branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi
Message-ID: <200809181333.m8IDXqK0004842@sheep.berlios.de>

Author: gruntster
Date: 2008-09-18 15:33:46 +0200 (Thu, 18 Sep 2008)
New Revision: 4358

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.h
Log:
[avi] perform an encoder delay if necessary like the other muxers

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp	2008-09-16 11:41:55 UTC (rev 4357)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp	2008-09-18 13:33:46 UTC (rev 4358)
@@ -58,6 +58,7 @@
 	_incoming=NULL;
 	_encode=NULL;
 	_videoProcess=1;
+	_prefill=0;
 };
 
 uint8_t
@@ -116,6 +117,7 @@
       uint32_t len, flag;
       FILE *tmp;
 	uint8_t reuse=0;
+	int prefill = 0, r;
 
  	aprintf("\n** Dual pass encoding**\n");
 
@@ -139,12 +141,32 @@
 		    _incoming->getInfo ()->height * 3];
 
       	_encode->startPass1 ();
+
+        bitstream.bufferSize = _incoming->getInfo()->width * _incoming->getInfo()->height * 3;
+        bitstream.data=buffer;
+
+preFilling:
+		bitstream.cleanup(0);
+
+		if(!_encode->encode(prefill, &bitstream))
+		{
+			printf("AVI: First frame error\n");
+			GUI_Error_HIG(QT_TR_NOOP("Error while encoding"), NULL);
+			return 0;
+		}
+
+		if (!bitstream.len)
+		{
+			prefill++;
+			goto preFilling;
+		}
+
+		printf("Prefill: %u\n", prefill);
+
       //__________________________________
       //   now go to main loop.....
       //__________________________________
-        bitstream.bufferSize=_incoming->getInfo ()->width *   _incoming->getInfo ()->height * 3;
-        bitstream.data=buffer;
-        for (uint32_t cf = 0; cf < frametogo; cf++)
+        for (uint32_t cf = 1; cf < frametogo; cf++)
         {
           if (guiUpdate (cf, frametogo))
             {
@@ -155,11 +177,18 @@
             }
             
             bitstream.cleanup(cf);
-            if (!_encode->encode (cf, &bitstream))
-                {
-                        printf("\n Encoding of frame %lu failed !\n",cf);
-                        goto abt;
-                }
+
+			if (!prefill || cf + prefill < frametogo)
+				r = _encode->encode(prefill + cf, &bitstream);
+			else
+				r = _encode->encode(frametogo - 1, &bitstream);
+
+			if (!r)
+			{
+				printf("Encoding of frame %lu failed!\n", cf);
+				goto abt;
+			}
+
            encoding_gui->setFrame(cf,bitstream.len,bitstream.out_quantizer,frametogo);
     
         }
@@ -236,7 +265,7 @@
 uint8_t
 GenericAviSaveProcess::writeVideoChunk (uint32_t frame)
 {
-  uint8_t    	ret1;
+  uint8_t    	r;
   // CBR or CQ
   if (frame == 0)
   {
@@ -251,11 +280,28 @@
         }
   }
   // first read
-  bitstream.cleanup(frame);
-  ret1 = _encode->encode ( frame,&bitstream);// &len1, vbuffer, &_videoFlag);
+
+preFilling:
+  bitstream.cleanup(0);
+
+  if (!_prefill || frame + _prefill < frametogo) 
+	  r = _encode->encode(_prefill + frame, &bitstream);
+  else
+	  r = _encode->encode(frametogo - 1, &bitstream);
+
+  if (!r)
+	  return 0;
+
+  if (!bitstream.len && frame == 0)
+  {
+	  _prefill++;
+	  goto preFilling;
+  }
+  else if (frame == 0)
+	  printf("Prefill: %u\n", _prefill);
+
   _videoFlag=bitstream.flags;
-  if (!ret1)
-    return 0;
+
   // check for split
      // check for auto split
       // if so, we re-write the last I frame

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.h	2008-09-16 11:41:55 UTC (rev 4357)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.h	2008-09-18 13:33:46 UTC (rev 4358)
@@ -26,6 +26,7 @@
 					    
 			Encoder 	*_encode;
 			uint8_t		_notnull;
+			int _prefill;
                        	char 		*TwoPassLogFile;
                         ADMBitstream    bitstream;
 



From gruntster at mail.berlios.de  Thu Sep 18 15:38:16 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Thu, 18 Sep 2008 15:38:16 +0200
Subject: [Avidemux-svn-commit] r4359 -
	branches/avidemux_2.4_branch/avidemux/ADM_encoder
Message-ID: <200809181338.m8IDcG8N005231@sheep.berlios.de>

Author: gruntster
Date: 2008-09-18 15:38:09 +0200 (Thu, 18 Sep 2008)
New Revision: 4359

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.h
Log:
[x264] remove unnecessary delay mechanism as it is handled by the muxer

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp	2008-09-18 13:33:46 UTC (rev 4358)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp	2008-09-18 13:38:09 UTC (rev 4359)
@@ -93,7 +93,6 @@
   _in = instream;
   _fps1000 = info->fps1000;
   _availableFrames = instream->getInfo()->nb_frames;
-  _delayed = 0;
 
   switch (_param.mode)
     {
@@ -200,54 +199,27 @@
 	ADM_assert (_in);
 
 	uint32_t l, f;
-	bool firstFrame = !frame;
-	bool success = false;
-	int maxDelay = _codecParam.MaxRefFrames + _codecParam.MaxBFrame;
 
-	if (maxDelay < 7)
-		maxDelay = 7;
+	if (!_in->getFrameNumberNoAlloc(frame, &l, _vbuffer, &f))
+	{
+		printf ("\n[x264] Error: Cannot read incoming frame!");
+		return 0;
+	}
 
-	frame += _delayed;
-
-	while (!success)
+	switch (_state)
 	{
-		if (frame >= _availableFrames)
-		{
-			frame = _availableFrames - 1;
-			printf("[x264] Repeating last frame %u (delay=%u)\n",frame,_delayed);
-		}
-		//printf("[x264] Getting frame :%u delay :%u\n",frame,_delayed);
-		if (!_in->getFrameNumberNoAlloc(frame, &l, _vbuffer, &f))
-		{
-			printf ("\n[x264] Error: Cannot read incoming frame!");
-			return 0;
-		}
+		case enc_CBR:
+		case enc_CQ:
+		case enc_Pass1:
+		case enc_Pass2:
+			return _codec->encode(_vbuffer, out);
 
-		switch (_state)
-		{
-			case enc_CBR:
-			case enc_CQ:
-			case enc_Pass1:
-			case enc_Pass2:
-				if (_codec->encode(_vbuffer, out))
-				{
-					if (out->len == 0 && _delayed < maxDelay && firstFrame)
-					{
-						_delayed++;
-						frame++;
-						printf("[x264] Delay so far :%u\n",_delayed);
-					}
-					else
-						success = true;
-				}
-
-				break;
-			default:
-				ADM_assert(0);
-		}
+			break;
+		default:
+			ADM_assert(0);
 	}
 
-	return 1;
+	return 0;
 }
 
 //_______________________________
@@ -271,7 +243,6 @@
 {
   uint32_t    bitrate;
 
-  _delayed = 0;
   ADM_assert (_state == enc_Pass1);
   printf ("\n[x264] Starting pass 2 (%d x %d)\n", _w, _h);
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.h	2008-09-18 13:33:46 UTC (rev 4358)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.h	2008-09-18 13:38:09 UTC (rev 4359)
@@ -36,7 +36,6 @@
 
   X264Encoder * _codec;
   char *_logfile;
-  uint32_t _delayed;
   uint32_t _availableFrames;
   uint32_t _q;
   uint32_t _pass1Done;



From gruntster at mail.berlios.de  Thu Sep 18 16:21:09 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Thu, 18 Sep 2008 16:21:09 +0200
Subject: [Avidemux-svn-commit] r4360 - in branches/avidemux_2.4_branch: .
	avidemux/ADM_libraries/ADM_lavformat cmake
Message-ID: <200809181421.m8IEL9Jv009519@sheep.berlios.de>

Author: gruntster
Date: 2008-09-18 16:21:01 +0200 (Thu, 18 Sep 2008)
New Revision: 4360

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/avc.c
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/avc.h
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/movenc.c
   branches/avidemux_2.4_branch/cmake/lavcodec.cmake
   branches/avidemux_2.4_branch/config.h.cmake
Log:
[mp4] update mp4 muxer (ffmpeg r15276)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/CMakeLists.txt	2008-09-18 13:38:09 UTC (rev 4359)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/CMakeLists.txt	2008-09-18 14:21:01 UTC (rev 4360)
@@ -8,7 +8,7 @@
  mpeg.c utils.c avio.c ADM_lavformat.cpp 
 aviobuf.c cutils.c img2.c file.c mpegtsenc.c ADM_muxts.cpp movenc.c 
 avienc.c wav.c mov.c matroska.c isom.c isom.h riff.c
-flvenc.c matroskaenc.c
+flvenc.c matroskaenc.c avc.c
 )
 ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
 ADD_ADM_LIB(${ADM_LIB} ADM_libraries)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/Makefile.am	2008-09-18 13:38:09 UTC (rev 4359)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/Makefile.am	2008-09-18 14:21:01 UTC (rev 4360)
@@ -7,7 +7,7 @@
 libADM_lavformat_a_SOURCES =  mpeg.c utils.c avio.c ADM_lavformat.cpp \
 aviobuf.c cutils.c img2.c file.c mpegtsenc.c ADM_muxts.cpp movenc.c \
 avienc.c wav.c mov.c matroska.c isom.c isom.h riff.c flvenc.c \
-matroskaenc.c
+matroskaenc.c avc.c
 
 
 EXTRA_DIST = ADM_lavformat.cpp  ADM_muxts.cpp  avformat.h  avio.h   \

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/avc.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/avc.c	2008-09-18 13:38:09 UTC (rev 4359)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/avc.c	2008-09-18 14:21:01 UTC (rev 4360)
@@ -0,0 +1,135 @@
+/*
+ * AVC helper functions for muxers
+ * Copyright (c) 2006 Baptiste Coudurier <baptiste.coudurier at smartjog.com>
+ *
+ * This file is part of FFmpeg.
+ *
+ * FFmpeg is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU Lesser General Public
+ * License as published by the Free Software Foundation; either
+ * version 2.1 of the License, or (at your option) any later version.
+ *
+ * FFmpeg is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ * Lesser General Public License for more details.
+ *
+ * You should have received a copy of the GNU Lesser General Public
+ * License along with FFmpeg; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
+ */
+#include "avformat.h"
+#include "avio.h"
+
+const uint8_t *ff_avc_find_startcode(const uint8_t *p, const uint8_t *end)
+{
+    const uint8_t *a = p + 4 - ((long)p & 3);
+
+    for( end -= 3; p < a && p < end; p++ ) {
+        if( p[0] == 0 && p[1] == 0 && p[2] == 1 )
+            return p;
+    }
+
+    for( end -= 3; p < end; p += 4 ) {
+        uint32_t x = *(const uint32_t*)p;
+//      if( (x - 0x01000100) & (~x) & 0x80008000 ) // little endian
+//      if( (x - 0x00010001) & (~x) & 0x00800080 ) // big endian
+        if( (x - 0x01010101) & (~x) & 0x80808080 ) { // generic
+            if( p[1] == 0 ) {
+                if( p[0] == 0 && p[2] == 1 )
+                    return p-1;
+                if( p[2] == 0 && p[3] == 1 )
+                    return p;
+            }
+            if( p[3] == 0 ) {
+                if( p[2] == 0 && p[4] == 1 )
+                    return p+1;
+                if( p[4] == 0 && p[5] == 1 )
+                    return p+2;
+            }
+        }
+    }
+
+    for( end += 3; p < end; p++ ) {
+        if( p[0] == 0 && p[1] == 0 && p[2] == 1 )
+            return p;
+    }
+
+    return end + 3;
+}
+
+int ff_avc_parse_nal_units(const uint8_t *buf_in, uint8_t **buf, int *size)
+{
+    ByteIOContext pb;
+    const uint8_t *p = buf_in;
+    const uint8_t *end = p + *size;
+    const uint8_t *nal_start, *nal_end;
+    int ret = url_open_dyn_buf(&pb);
+    if(ret < 0)
+        return ret;
+
+    nal_start = ff_avc_find_startcode(p, end);
+    while (nal_start < end) {
+        while(!*(nal_start++));
+        nal_end = ff_avc_find_startcode(nal_start, end);
+        put_be32(&pb, nal_end - nal_start);
+        put_buffer(&pb, nal_start, nal_end - nal_start);
+        nal_start = nal_end;
+    }
+    av_freep(buf);
+    *size = url_close_dyn_buf(&pb, buf);
+    return 0;
+}
+
+int ff_isom_write_avcc(ByteIOContext *pb, const uint8_t *data, int len)
+{
+    if (len > 6) {
+        /* check for h264 start code */
+        if (AV_RB32(data) == 0x00000001) {
+            uint8_t *buf=NULL, *end, *start;
+            uint32_t sps_size=0, pps_size=0;
+            uint8_t *sps=0, *pps=0;
+
+            int ret = ff_avc_parse_nal_units(data, &buf, &len);
+            if (ret < 0)
+                return ret;
+            start = buf;
+            end = buf + len;
+
+            /* look for sps and pps */
+            while (buf < end) {
+                unsigned int size;
+                uint8_t nal_type;
+                size = AV_RB32(buf);
+                nal_type = buf[4] & 0x1f;
+                if (nal_type == 7) { /* SPS */
+                    sps = buf + 4;
+                    sps_size = size;
+                } else if (nal_type == 8) { /* PPS */
+                    pps = buf + 4;
+                    pps_size = size;
+                }
+                buf += size + 4;
+            }
+            assert(sps);
+            assert(pps);
+
+            put_byte(pb, 1); /* version */
+            put_byte(pb, sps[1]); /* profile */
+            put_byte(pb, sps[2]); /* profile compat */
+            put_byte(pb, sps[3]); /* level */
+            put_byte(pb, 0xff); /* 6 bits reserved (111111) + 2 bits nal size length - 1 (11) */
+            put_byte(pb, 0xe1); /* 3 bits reserved (111) + 5 bits number of sps (00001) */
+
+            put_be16(pb, sps_size);
+            put_buffer(pb, sps, sps_size);
+            put_byte(pb, 1); /* number of pps */
+            put_be16(pb, pps_size);
+            put_buffer(pb, pps, pps_size);
+            av_free(start);
+        } else {
+            put_buffer(pb, data, len);
+        }
+    }
+    return 0;
+}

Added: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/avc.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/avc.h	2008-09-18 13:38:09 UTC (rev 4359)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/avc.h	2008-09-18 14:21:01 UTC (rev 4360)
@@ -0,0 +1,32 @@
+/*
+ * AVC helper functions for muxers
+ * Copyright (c) 2008 Aurelien Jacobs <aurel at gnuage.org>
+ *
+ * This file is part of FFmpeg.
+ *
+ * FFmpeg is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU Lesser General Public
+ * License as published by the Free Software Foundation; either
+ * version 2.1 of the License, or (at your option) any later version.
+ *
+ * FFmpeg is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ * Lesser General Public License for more details.
+ *
+ * You should have received a copy of the GNU Lesser General Public
+ * License along with FFmpeg; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
+ */
+
+#ifndef AVFORMAT_AVC_H
+#define AVFORMAT_AVC_H
+
+#include <stdint.h>
+#include "avio.h"
+
+int ff_avc_parse_nal_units(const uint8_t *buf_in, uint8_t **buf, int *size);
+int ff_isom_write_avcc(ByteIOContext *pb, const uint8_t *data, int len);
+const uint8_t *ff_avc_find_startcode(const uint8_t *p, const uint8_t *end);
+
+#endif /* AVFORMAT_AVC_H */

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/movenc.c
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/movenc.c	2008-09-18 13:38:09 UTC (rev 4359)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/movenc.c	2008-09-18 14:21:01 UTC (rev 4360)
@@ -23,6 +23,8 @@
 #include "riff.h"
 #include "avio.h"
 #include "isom.h"
+#include "avc.h"
+#include "bitstream.h"
 
 #undef NDEBUG
 #include <assert.h>
@@ -30,12 +32,13 @@
 #define MOV_INDEX_CLUSTER_SIZE 16384
 #define globalTimescale 1000
 
-#define MODE_MP4 0
-#define MODE_MOV 1
-#define MODE_3GP 2
-#define MODE_PSP 3 // example working PSP command line:
+#define MODE_MP4  0x01
+#define MODE_MOV  0x02
+#define MODE_3GP  0x04
+#define MODE_PSP  0x08 // example working PSP command line:
 // ffmpeg -i testinput.avi  -f psp -r 14.985 -s 320x240 -b 768 -ar 24000 -ab 32 M4V00001.MP4
-#define MODE_3G2 4
+#define MODE_3G2  0x10
+#define MODE_IPOD 0x20
 
 // MEANX
 extern int ADM_useAlternateTagging(void);
@@ -65,7 +68,7 @@
     int         hasBframes;
     int         language;
     int         trackID;
-    int         tag;
+    int         tag; ///< stsd fourcc
     AVCodecContext *enc;
 
     int         vosLen;
@@ -85,7 +88,7 @@
 } MOVContext;
 
 //FIXME support 64 bit variant with wide placeholders
-static offset_t updateSize (ByteIOContext *pb, offset_t pos)
+static offset_t updateSize(ByteIOContext *pb, offset_t pos)
 {
     offset_t curpos = url_ftell(pb);
     url_fseek(pb, pos, SEEK_SET);
@@ -96,7 +99,7 @@
 }
 
 /* Chunk offset atom */
-static int mov_write_stco_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_stco_tag(ByteIOContext *pb, MOVTrack *track)
 {
     int i;
     int mode64 = 0; //   use 32 bit size variant if possible
@@ -115,11 +118,11 @@
         else
             put_be32(pb, track->cluster[i].pos);
     }
-    return updateSize (pb, pos);
+    return updateSize(pb, pos);
 }
 
 /* Sample size atom */
-static int mov_write_stsz_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_stsz_tag(ByteIOContext *pb, MOVTrack *track)
 {
     int equalChunks = 1;
     int i, j, entries = 0, tst = -1, oldtst = -1;
@@ -146,17 +149,17 @@
         put_be32(pb, 0); // sample size
         put_be32(pb, entries); // sample count
         for (i=0; i<track->entry; i++) {
-            for ( j=0; j<track->cluster[i].entries; j++) {
+            for (j=0; j<track->cluster[i].entries; j++) {
                 put_be32(pb, track->cluster[i].size /
                          track->cluster[i].entries);
             }
         }
     }
-    return updateSize (pb, pos);
+    return updateSize(pb, pos);
 }
 
 /* Sample to chunk atom */
-static int mov_write_stsc_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_stsc_tag(ByteIOContext *pb, MOVTrack *track)
 {
     int index = 0, oldval = -1, i;
     offset_t entryPos, curpos;
@@ -182,11 +185,11 @@
     put_be32(pb, index); // rewrite size
     url_fseek(pb, curpos, SEEK_SET);
 
-    return updateSize (pb, pos);
+    return updateSize(pb, pos);
 }
 
 /* Sync sample atom */
-static int mov_write_stss_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_stss_tag(ByteIOContext *pb, MOVTrack *track)
 {
     offset_t curpos, entryPos;
     int i, index = 0;
@@ -206,7 +209,7 @@
     url_fseek(pb, entryPos, SEEK_SET);
     put_be32(pb, index); // rewrite size
     url_fseek(pb, curpos, SEEK_SET);
-    return updateSize (pb, pos);
+    return updateSize(pb, pos);
 }
 
 static int mov_write_amr_tag(ByteIOContext *pb, MOVTrack *track)
@@ -223,6 +226,60 @@
     return 0x11;
 }
 
+static int mov_write_ac3_tag(ByteIOContext *pb, MOVTrack *track)
+{
+    GetBitContext gbc;
+    PutBitContext pbc;
+    uint8_t buf[3];
+    int fscod, bsid, bsmod, acmod, lfeon, frmsizecod;
+
+    if (track->vosLen < 7)
+        return -1;
+
+    put_be32(pb, 11);
+    put_tag(pb, "dac3");
+
+    init_get_bits(&gbc, track->vosData+4, track->vosLen-4);
+    fscod      = get_bits(&gbc, 2);
+    frmsizecod = get_bits(&gbc, 6);
+    bsid       = get_bits(&gbc, 5);
+    bsmod      = get_bits(&gbc, 3);
+    acmod      = get_bits(&gbc, 3);
+    if (acmod == 2) {
+        skip_bits(&gbc, 2); // dsurmod
+    } else {
+        if ((acmod & 1) && acmod != 1)
+            skip_bits(&gbc, 2); // cmixlev
+        if (acmod & 4)
+            skip_bits(&gbc, 2); // surmixlev
+    }
+    lfeon = get_bits1(&gbc);
+
+    init_put_bits(&pbc, buf, sizeof(buf));
+    put_bits(&pbc, 2, fscod);
+    put_bits(&pbc, 5, bsid);
+    put_bits(&pbc, 3, bsmod);
+    put_bits(&pbc, 3, acmod);
+    put_bits(&pbc, 1, lfeon);
+    put_bits(&pbc, 5, frmsizecod>>1); // bit_rate_code
+    put_bits(&pbc, 5, 0); // reserved
+
+    flush_put_bits(&pbc);
+    put_buffer(pb, buf, sizeof(buf));
+
+    return 11;
+}
+
+/**
+ * This function writes extradata "as is".
+ * Extradata must be formated like a valid atom (with size and tag)
+ */
+static int mov_write_extradata_tag(ByteIOContext *pb, MOVTrack *track)
+{
+    put_buffer(pb, track->enc->extradata, track->enc->extradata_size);
+    return track->enc->extradata_size;
+}
+
 static int mov_write_enda_tag(ByteIOContext *pb)
 {
     put_be32(pb, 10);
@@ -247,64 +304,61 @@
     put_byte(pb, size & 0x7F);
 }
 
-static int mov_write_esds_tag(ByteIOContext *pb, MOVTrack* track) // Basic
+static int mov_write_esds_tag(ByteIOContext *pb, MOVTrack *track) // Basic
 {
-int codec_id; // MEANX
     offset_t pos = url_ftell(pb);
     int decoderSpecificInfoLen = track->vosLen ? descrLength(track->vosLen):0;
 
-    put_be32(pb, 0);               // size
+    put_be32(pb, 0); // size
     put_tag(pb, "esds");
-    put_be32(pb, 0);               // Version
+    put_be32(pb, 0); // Version
 
     // ES descriptor
     putDescr(pb, 0x03, 3 + descrLength(13 + decoderSpecificInfoLen) +
              descrLength(1));
     put_be16(pb, track->trackID);
-    put_byte(pb, 0x00);            // flags (= no flags)
+    put_byte(pb, 0x00); // flags (= no flags)
 
     // DecoderConfig descriptor
     putDescr(pb, 0x04, 13 + decoderSpecificInfoLen);
 
     // Object type indication
-  //MEANX  put_byte(pb, codec_get_tag(ff_mp4_obj_type, track->enc->codec_id));
- // MEANX
-    codec_id=track->enc->codec_id;
-    if(ADM_useAlternateTagging() && codec_id==CODEC_ID_MP3) codec_id=CODEC_ID_MP2;
-    put_byte(pb, codec_get_tag(ff_mp4_obj_type, codec_id));
-    // /MEANX
+    if ((track->enc->codec_id == CODEC_ID_MP2 ||
+         track->enc->codec_id == CODEC_ID_MP3) &&
+        track->enc->sample_rate > 24000)
+        put_byte(pb, 0x6B); // 11172-3
+    else
+        put_byte(pb, codec_get_tag(ff_mp4_obj_type, track->enc->codec_id));
 
     // the following fields is made of 6 bits to identify the streamtype (4 for video, 5 for audio)
     // plus 1 bit to indicate upstream and 1 bit set to 1 (reserved)
     if(track->enc->codec_type == CODEC_TYPE_AUDIO)
-        put_byte(pb, 0x15);            // flags (= Audiostream)
+        put_byte(pb, 0x15); // flags (= Audiostream)
     else
-        put_byte(pb, 0x11);            // flags (= Visualstream)
+        put_byte(pb, 0x11); // flags (= Visualstream)
 
-    put_byte(pb,  track->enc->rc_buffer_size>>(3+16));             // Buffersize DB (24 bits)
-    put_be16(pb, (track->enc->rc_buffer_size>>3)&0xFFFF);          // Buffersize DB
+    put_byte(pb,  track->enc->rc_buffer_size>>(3+16));    // Buffersize DB (24 bits)
+    put_be16(pb, (track->enc->rc_buffer_size>>3)&0xFFFF); // Buffersize DB
 
-    put_be32(pb, FFMAX(track->enc->bit_rate, track->enc->rc_max_rate));     // maxbitrate  (FIXME should be max rate in any 1 sec window)
+    put_be32(pb, FFMAX(track->enc->bit_rate, track->enc->rc_max_rate)); // maxbitrate (FIXME should be max rate in any 1 sec window)
     if(track->enc->rc_max_rate != track->enc->rc_min_rate || track->enc->rc_min_rate==0)
-        put_be32(pb, 0);     // vbr
+        put_be32(pb, 0); // vbr
     else
-        put_be32(pb, track->enc->rc_max_rate);     // avg bitrate
+        put_be32(pb, track->enc->rc_max_rate); // avg bitrate
 
-    if (track->vosLen)
-    {
+    if (track->vosLen) {
         // DecoderSpecific info descriptor
         putDescr(pb, 0x05, track->vosLen);
         put_buffer(pb, track->vosData, track->vosLen);
     }
 
-
     // SL descriptor
     putDescr(pb, 0x06, 1);
     put_byte(pb, 0x02);
-    return updateSize (pb, pos);
+    return updateSize(pb, pos);
 }
 
-static int mov_write_wave_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_wave_tag(ByteIOContext *pb, MOVTrack *track)
 {
     offset_t pos = url_ftell(pb);
 
@@ -326,16 +380,28 @@
         mov_write_enda_tag(pb);
     } else if (track->enc->codec_id == CODEC_ID_AMR_NB) {
         mov_write_amr_tag(pb, track);
+    } else if (track->enc->codec_id == CODEC_ID_AC3) {
+        mov_write_ac3_tag(pb, track);
+    } else if (track->enc->codec_id == CODEC_ID_ALAC) {
+        mov_write_extradata_tag(pb, track);
     }
 
     put_be32(pb, 8);     /* size */
     put_be32(pb, 0);     /* null tag */
 
-    return updateSize (pb, pos);
+    return updateSize(pb, pos);
 }
 
-static int mov_write_audio_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_glbl_tag(ByteIOContext *pb, MOVTrack *track)
 {
+    put_be32(pb, track->vosLen+8);
+    put_tag(pb, "glbl");
+    put_buffer(pb, track->vosData, track->vosLen);
+    return 8+track->vosLen;
+}
+
+static int mov_write_audio_tag(ByteIOContext *pb, MOVTrack *track)
+{
     offset_t pos = url_ftell(pb);
     int version = track->mode == MODE_MOV &&
         (track->audio_vbr ||
@@ -380,18 +446,24 @@
 
     if(track->mode == MODE_MOV &&
        (track->enc->codec_id == CODEC_ID_AAC ||
+        track->enc->codec_id == CODEC_ID_AC3 ||
         track->enc->codec_id == CODEC_ID_AMR_NB ||
         track->enc->codec_id == CODEC_ID_PCM_S24LE ||
-        track->enc->codec_id == CODEC_ID_PCM_S32LE))
+        track->enc->codec_id == CODEC_ID_PCM_S32LE ||
+        track->enc->codec_id == CODEC_ID_ALAC))
         mov_write_wave_tag(pb, track);
-    else if(track->enc->codec_id == CODEC_ID_AAC // MEANX)
-       || track->enc->codec_id == CODEC_ID_MP3
-	   || track->enc->codec_id == CODEC_ID_MP2) // MEANX
+    else if(track->tag == MKTAG('m','p','4','a'))
         mov_write_esds_tag(pb, track);
     else if(track->enc->codec_id == CODEC_ID_AMR_NB)
         mov_write_amr_tag(pb, track);
+    else if(track->enc->codec_id == CODEC_ID_AC3)
+        mov_write_ac3_tag(pb, track);
+    else if(track->enc->codec_id == CODEC_ID_ALAC)
+        mov_write_extradata_tag(pb, track);
+    else if(track->vosLen > 0)
+        mov_write_glbl_tag(pb, track);
 
-    return updateSize (pb, pos);
+    return updateSize(pb, pos);
 }
 
 static int mov_write_d263_tag(ByteIOContext *pb)
@@ -419,174 +491,165 @@
     return 0x15;
 }
 
-static uint8_t *avc_find_startcode( uint8_t *p, uint8_t *end )
+static int mov_write_avcc_tag(ByteIOContext *pb, MOVTrack *track)
 {
-    uint8_t *a = p + 4 - ((long)p & 3);
+    offset_t pos = url_ftell(pb);
 
-    for( end -= 3; p < a && p < end; p++ ) {
-        if( p[0] == 0 && p[1] == 0 && p[2] == 1 )
-            return p;
-    }
-
-    for( end -= 3; p < end; p += 4 ) {
-        uint32_t x = *(uint32_t*)p;
-//      if( (x - 0x01000100) & (~x) & 0x80008000 ) // little endian
-//      if( (x - 0x00010001) & (~x) & 0x00800080 ) // big endian
-        if( (x - 0x01010101) & (~x) & 0x80808080 ) { // generic
-            if( p[1] == 0 ) {
-                if( p[0] == 0 && p[2] == 1 )
-                    return p-1;
-                if( p[2] == 0 && p[3] == 1 )
-                    return p;
-            }
-            if( p[3] == 0 ) {
-                if( p[2] == 0 && p[4] == 1 )
-                    return p+1;
-                if( p[4] == 0 && p[5] == 1 )
-                    return p+2;
-            }
-        }
-    }
-
-    for( end += 3; p < end; p++ ) {
-        if( p[0] == 0 && p[1] == 0 && p[2] == 1 )
-            return p;
-    }
-
-    return end + 3;
+    put_be32(pb, 0);
+    put_tag(pb, "avcC");
+    ff_isom_write_avcc(pb, track->vosData, track->vosLen);
+    return updateSize(pb, pos);
 }
 
-static void avc_parse_nal_units(uint8_t **buf, int *size)
+/* also used by all avid codecs (dv, imx, meridien) and their variants */
+static int mov_write_avid_tag(ByteIOContext *pb, MOVTrack *track)
 {
-    ByteIOContext pb;
-    uint8_t *p = *buf;
-    uint8_t *end = p + *size;
-    uint8_t *nal_start, *nal_end;
+    int i;
+    put_be32(pb, 24); /* size */
+    put_tag(pb, "ACLR");
+    put_tag(pb, "ACLR");
+    put_tag(pb, "0001");
+    put_be32(pb, 1); /* yuv 1 / rgb 2 ? */
+    put_be32(pb, 0); /* unknown */
 
-    url_open_dyn_buf(&pb);
-    nal_start = avc_find_startcode(p, end);
-    while (nal_start < end) {
-        while(!*(nal_start++));
-        nal_end = avc_find_startcode(nal_start, end);
-        put_be32(&pb, nal_end - nal_start);
-        put_buffer(&pb, nal_start, nal_end - nal_start);
-        nal_start = nal_end;
+    put_be32(pb, 24); /* size */
+    put_tag(pb, "APRG");
+    put_tag(pb, "APRG");
+    put_tag(pb, "0001");
+    put_be32(pb, 1); /* unknown */
+    put_be32(pb, 0); /* unknown */
+
+    put_be32(pb, 120); /* size */
+    put_tag(pb, "ARES");
+    put_tag(pb, "ARES");
+    put_tag(pb, "0001");
+    put_be32(pb, AV_RB32(track->vosData + 0x28)); /* dnxhd cid, some id ? */
+    put_be32(pb, track->enc->width);
+    /* values below are based on samples created with quicktime and avid codecs */
+    if (track->vosData[5] & 2) { // interlaced
+        put_be32(pb, track->enc->height/2);
+        put_be32(pb, 2); /* unknown */
+        put_be32(pb, 0); /* unknown */
+        put_be32(pb, 4); /* unknown */
+    } else {
+        put_be32(pb, track->enc->height);
+        put_be32(pb, 1); /* unknown */
+        put_be32(pb, 0); /* unknown */
+        if (track->enc->height == 1080)
+            put_be32(pb, 5); /* unknown */
+        else
+            put_be32(pb, 6); /* unknown */
     }
-    av_freep(buf);
-    *size = url_close_dyn_buf(&pb, buf);
-}
+    /* padding */
+    for (i = 0; i < 10; i++)
+        put_be64(pb, 0);
 
-static int mov_write_avcc_tag(ByteIOContext *pb, MOVTrack *track)
-{
-    offset_t pos = url_ftell(pb);
-
+    /* extra padding for stsd needed */
     put_be32(pb, 0);
-    put_tag(pb, "avcC");
-    if (track->vosLen > 6) {
-        /* check for h264 start code */
-        if (AV_RB32(track->vosData) == 0x00000001) {
-            uint8_t *buf, *end;
-            uint32_t sps_size=0, pps_size=0;
-            uint8_t *sps=0, *pps=0;
+    return 0;
+}
 
-            avc_parse_nal_units(&track->vosData, &track->vosLen);
-            buf = track->vosData;
-            end = track->vosData + track->vosLen;
+static const AVCodecTag codec_3gp_tags[] = {
+    { CODEC_ID_H263,   MKTAG('s','2','6','3') },
+    { CODEC_ID_H264,   MKTAG('a','v','c','1') },
+    { CODEC_ID_MPEG4,  MKTAG('m','p','4','v') },
+    { CODEC_ID_AAC,    MKTAG('m','p','4','a') },
+    { CODEC_ID_AMR_NB, MKTAG('s','a','m','r') },
+    { CODEC_ID_AMR_WB, MKTAG('s','a','w','b') },
+    { CODEC_ID_NONE, 0 },
+};
 
-            /* look for sps and pps */
-            while (buf < end) {
-                unsigned int size;
-                uint8_t nal_type;
-                size = AV_RB32(buf);
-                nal_type = buf[4] & 0x1f;
-                if (nal_type == 7) { /* SPS */
-                    sps = buf + 4;
-                    sps_size = size;
-                } else if (nal_type == 8) { /* PPS */
-                    pps = buf + 4;
-                    pps_size = size;
-                }
-                buf += size + 4;
-            }
-            assert(sps);
-            assert(pps);
+static const AVCodecTag mov_pix_fmt_tags[] = {
+    { PIX_FMT_YUYV422, MKTAG('y','u','v','s') },
+    { PIX_FMT_UYVY422, MKTAG('2','v','u','y') },
+    { PIX_FMT_BGR555,  MKTAG('r','a','w',' ') },
+    { PIX_FMT_RGB24,   MKTAG('r','a','w',' ') },
+    { PIX_FMT_BGR32_1, MKTAG('r','a','w',' ') },
+};
 
-            put_byte(pb, 1); /* version */
-            put_byte(pb, sps[1]); /* profile */
-            put_byte(pb, sps[2]); /* profile compat */
-            put_byte(pb, sps[3]); /* level */
-            put_byte(pb, 0xff); /* 6 bits reserved (111111) + 2 bits nal size length - 1 (11) */
-            put_byte(pb, 0xe1); /* 3 bits reserved (111) + 5 bits number of sps (00001) */
+static const AVCodecTag codec_ipod_tags[] = {
+    { CODEC_ID_H264,   MKTAG('a','v','c','1') },
+    { CODEC_ID_MPEG4,  MKTAG('m','p','4','v') },
+    { CODEC_ID_AAC,    MKTAG('m','p','4','a') },
+    { CODEC_ID_ALAC,   MKTAG('a','l','a','c') },
+    { CODEC_ID_AC3,    MKTAG('a','c','-','3') },
+    { CODEC_ID_NONE, 0 },
+};
 
-            put_be16(pb, sps_size);
-            put_buffer(pb, sps, sps_size);
-            put_byte(pb, 1); /* number of pps */
-            put_be16(pb, pps_size);
-            put_buffer(pb, pps, pps_size);
-        } else {
-            put_buffer(pb, track->vosData, track->vosLen);
-        }
-    }
-    return updateSize(pb, pos);
-}
-
-static int mov_find_video_codec_tag(AVFormatContext *s, MOVTrack *track)
+static int mov_find_codec_tag(AVFormatContext *s, MOVTrack *track)
 {
     int tag = track->enc->codec_tag;
-    if (!tag) {
+    if (track->mode == MODE_MP4 || track->mode == MODE_PSP) {
+        if (!codec_get_tag(ff_mp4_obj_type, track->enc->codec_id))
+            return 0;
+        if      (track->enc->codec_id == CODEC_ID_H264)      tag = MKTAG('a','v','c','1');
+        else if (track->enc->codec_id == CODEC_ID_AC3)       tag = MKTAG('a','c','-','3');
+        else if (track->enc->codec_id == CODEC_ID_DIRAC)     tag = MKTAG('d','r','a','c');
+        else if (track->enc->codec_type == CODEC_TYPE_VIDEO) tag = MKTAG('m','p','4','v');
+        else if (track->enc->codec_type == CODEC_TYPE_AUDIO) tag = MKTAG('m','p','4','a');
+    } else if (track->mode == MODE_IPOD) {
+        tag = codec_get_tag(codec_ipod_tags, track->enc->codec_id);
+        if (!match_ext(s->filename, "m4a") && !match_ext(s->filename, "m4v"))
+            av_log(s, AV_LOG_WARNING, "Warning, extension is not .m4a nor .m4v "
+                   "Quicktime/Ipod might not play the file\n");
+    } else if (track->mode & MODE_3GP) {
+        tag = codec_get_tag(codec_3gp_tags, track->enc->codec_id);
+    } else if (!tag || (track->enc->strict_std_compliance >= FF_COMPLIANCE_NORMAL &&
+                        (tag == MKTAG('d','v','c','p') ||
+                         track->enc->codec_id == CODEC_ID_RAWVIDEO))) {
         if (track->enc->codec_id == CODEC_ID_DVVIDEO) {
-            if (track->enc->height == 480) { /* NTSC */
-                if (track->enc->pix_fmt == PIX_FMT_YUV422P)
-                    tag = MKTAG('d', 'v', '5', 'n');
-                else
-                    tag = MKTAG('d', 'v', 'c', ' ');
-            } else { /* assume PAL */
-                if (track->enc->pix_fmt == PIX_FMT_YUV422P)
-                    tag = MKTAG('d', 'v', '5', 'p');
-                else if (track->enc->pix_fmt == PIX_FMT_YUV420P)
-                    tag = MKTAG('d', 'v', 'c', 'p');
-                else
-                    tag = MKTAG('d', 'v', 'p', 'p');
+            if (track->enc->height == 480) /* NTSC */
+                if  (track->enc->pix_fmt == PIX_FMT_YUV422P) tag = MKTAG('d','v','5','n');
+                else                                         tag = MKTAG('d','v','c',' ');
+            else if (track->enc->pix_fmt == PIX_FMT_YUV422P) tag = MKTAG('d','v','5','p');
+            else if (track->enc->pix_fmt == PIX_FMT_YUV420P) tag = MKTAG('d','v','c','p');
+            else                                             tag = MKTAG('d','v','p','p');
+        } else if (track->enc->codec_id == CODEC_ID_RAWVIDEO) {
+            tag = codec_get_tag(mov_pix_fmt_tags, track->enc->pix_fmt);
+            if (!tag) // restore tag
+                tag = track->enc->codec_tag;
+        } else {
+            if (track->enc->codec_type == CODEC_TYPE_VIDEO) {
+                tag = codec_get_tag(codec_movvideo_tags, track->enc->codec_id);
+                if (!tag) { // if no mac fcc found, try with Microsoft tags
+                    tag = codec_get_tag(codec_bmp_tags, track->enc->codec_id);
+                    if (tag)
+                        av_log(s, AV_LOG_INFO, "Warning, using MS style video codec tag, "
+                               "the file may be unplayable!\n");
+                }
+            } else if (track->enc->codec_type == CODEC_TYPE_AUDIO) {
+                tag = codec_get_tag(codec_movaudio_tags, track->enc->codec_id);
+                if (!tag) { // if no mac fcc found, try with Microsoft tags
+                    int ms_tag = codec_get_tag(codec_wav_tags, track->enc->codec_id);
+                    if (ms_tag) {
+                        tag = MKTAG('m', 's', ((ms_tag >> 8) & 0xff), (ms_tag & 0xff));
+                        av_log(s, AV_LOG_INFO, "Warning, using MS style audio codec tag, "
+                               "the file may be unplayable!\n");
+                    }
+                }
             }
-        } else if (track->enc->codec_id == CODEC_ID_H263) {
-            if (track->mode == MODE_MOV)
-                tag = MKTAG('h', '2', '6', '3');
-            else
-                tag = MKTAG('s', '2', '6', '3');
-        } else {
-            tag = codec_get_tag(codec_movvideo_tags, track->enc->codec_id);
         }
     }
-    // if no mac fcc found, try with Microsoft tags
-    if (!tag) {
-        tag = codec_get_tag(codec_bmp_tags, track->enc->codec_id);
-        if (tag) {
-            av_log(s, AV_LOG_INFO, "Warning, using MS style video codec tag, the file may be unplayable!\n");
-        }
-    }
-    assert(tag);
     return tag;
 }
 
-static int mov_find_audio_codec_tag(AVFormatContext *s, MOVTrack *track)
+/** Write uuid atom.
+ * Needed to make file play in iPods running newest firmware
+ * goes after avcC atom in moov.trak.mdia.minf.stbl.stsd.avc1
+ */
+static int mov_write_uuid_tag_ipod(ByteIOContext *pb)
 {
-    int tag = track->enc->codec_tag;
-    if (!tag) {
-        tag = codec_get_tag(codec_movaudio_tags, track->enc->codec_id);
-    }
-    // if no mac fcc found, try with Microsoft tags
-    if (!tag) {
-        int ms_tag = codec_get_tag(codec_wav_tags, track->enc->codec_id);
-        if (ms_tag) {
-            tag = MKTAG('m', 's', ((ms_tag >> 8) & 0xff), (ms_tag & 0xff));
-            av_log(s, AV_LOG_INFO, "Warning, using MS style audio codec tag, the file may be unplayable!\n");
-        }
-    }
-    assert(tag);
-    return tag;
+    put_be32(pb, 28);
+    put_tag(pb, "uuid");
+    put_be32(pb, 0x6b6840f2);
+    put_be32(pb, 0x5f244fc5);
+    put_be32(pb, 0xba39a51b);
+    put_be32(pb, 0xcf0323f3);
+    put_be32(pb, 0x0);
+    return 28;
 }
 
-static int mov_write_video_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_video_tag(ByteIOContext *pb, MOVTrack *track)
 {
     offset_t pos = url_ftell(pb);
     char compressor_name[32];
@@ -627,21 +690,30 @@
     put_byte(pb, strlen(compressor_name));
     put_buffer(pb, compressor_name, 31);
 
-    put_be16(pb, 0x18); /* Reserved */
+    if (track->mode == MODE_MOV && track->enc->bits_per_sample)
+        put_be16(pb, track->enc->bits_per_sample);
+    else
+        put_be16(pb, 0x18); /* Reserved */
     put_be16(pb, 0xffff); /* Reserved */
-    if(track->enc->codec_id == CODEC_ID_MPEG4)
+    if(track->tag == MKTAG('m','p','4','v'))
         mov_write_esds_tag(pb, track);
     else if(track->enc->codec_id == CODEC_ID_H263)
         mov_write_d263_tag(pb);
     else if(track->enc->codec_id == CODEC_ID_SVQ3)
         mov_write_svq3_tag(pb);
-    else if(track->enc->codec_id == CODEC_ID_H264)
+    else if(track->enc->codec_id == CODEC_ID_DNXHD)
+        mov_write_avid_tag(pb, track);
+    else if(track->enc->codec_id == CODEC_ID_H264) {
         mov_write_avcc_tag(pb, track);
+        if(track->mode == MODE_IPOD)
+            mov_write_uuid_tag_ipod(pb);
+    } else if(track->vosLen > 0)
+        mov_write_glbl_tag(pb, track);
 
-    return updateSize (pb, pos);
+    return updateSize(pb, pos);
 }
 
-static int mov_write_stsd_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_stsd_tag(ByteIOContext *pb, MOVTrack *track)
 {
     offset_t pos = url_ftell(pb);
     put_be32(pb, 0); /* size */
@@ -655,7 +727,7 @@
     return updateSize(pb, pos);
 }
 
-static int mov_write_ctts_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_ctts_tag(ByteIOContext *pb, MOVTrack *track)
 {
     MOV_stts_t *ctts_entries;
     uint32_t entries = 0;
@@ -689,7 +761,7 @@
 }
 
 /* Time to sample atom */
-static int mov_write_stts_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_stts_tag(ByteIOContext *pb, MOVTrack *track)
 {
     MOV_stts_t *stts_entries;
     uint32_t entries = -1;
@@ -744,7 +816,7 @@
     return 28;
 }
 
-static int mov_write_stbl_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_stbl_tag(ByteIOContext *pb, MOVTrack *track)
 {
     offset_t pos = url_ftell(pb);
     put_be32(pb, 0); /* size */
@@ -752,7 +824,7 @@
     mov_write_stsd_tag(pb, track);
     mov_write_stts_tag(pb, track);
     if (track->enc->codec_type == CODEC_TYPE_VIDEO &&
-        track->hasKeyframes < track->entry)
+        track->hasKeyframes && track->hasKeyframes < track->entry)
         mov_write_stss_tag(pb, track);
     if (track->enc->codec_type == CODEC_TYPE_VIDEO &&
         track->hasBframes)
@@ -791,7 +863,7 @@
     return 0x14;
 }
 
-static int mov_write_hdlr_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_hdlr_tag(ByteIOContext *pb, MOVTrack *track)
 {
     const char *descr, *hdlr, *hdlr_type;
     offset_t pos = url_ftell(pb);
@@ -824,7 +896,7 @@
     return updateSize(pb, pos);
 }
 
-static int mov_write_minf_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_minf_tag(ByteIOContext *pb, MOVTrack *track)
 {
     offset_t pos = url_ftell(pb);
     put_be32(pb, 0); /* size */
@@ -840,7 +912,7 @@
     return updateSize(pb, pos);
 }
 
-static int mov_write_mdhd_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_mdhd_tag(ByteIOContext *pb, MOVTrack *track)
 {
     int version = track->trackDuration < INT32_MAX ? 0 : 1;
 
@@ -870,7 +942,7 @@
     return 32;
 }
 
-static int mov_write_mdia_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_mdia_tag(ByteIOContext *pb, MOVTrack *track)
 {
     offset_t pos = url_ftell(pb);
     put_be32(pb, 0); /* size */
@@ -881,7 +953,7 @@
     return updateSize(pb, pos);
 }
 
-static int mov_write_tkhd_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_tkhd_tag(ByteIOContext *pb, MOVTrack *track, AVStream *st)
 {
     int64_t duration = av_rescale_rnd(track->trackDuration, globalTimescale, track->timescale, AV_ROUND_UP);
     int version = duration < INT32_MAX ? 0 : 1;
@@ -925,7 +997,7 @@
     /* Track width and height, for visual only */
     if(track->enc->codec_type == CODEC_TYPE_VIDEO) {
         double sample_aspect_ratio = av_q2d(track->enc->sample_aspect_ratio);
-        if( !sample_aspect_ratio ) sample_aspect_ratio = 1;
+        if(!sample_aspect_ratio) sample_aspect_ratio = 1;
         put_be32(pb, sample_aspect_ratio * track->enc->width*0x10000);
         put_be32(pb, track->enc->height*0x10000);
     }
@@ -948,12 +1020,8 @@
 
     put_be32(pb, av_rescale_rnd(track->trackDuration, globalTimescale, track->timescale, AV_ROUND_UP)); /* duration   ... doesn't seem to effect psp */
 
-    // MEANX : NO put_be32(pb, track->cluster[0].cts); /* first pts is cts since dts is 0 */
-      put_be32(pb, 0x00000000);
-    // /MEANX
-
-
-    put_be32(pb, 0x0001); // MEANX put_be32(pb, 0x00010000);
+    put_be32(pb, track->cluster[0].cts); /* first pts is cts since dts is 0 */
+    put_be32(pb, 0x00010000);
     return 0x24;
 }
 
@@ -976,12 +1044,12 @@
     return 0x34;
 }
 
-static int mov_write_trak_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_trak_tag(ByteIOContext *pb, MOVTrack *track, AVStream *st)
 {
     offset_t pos = url_ftell(pb);
     put_be32(pb, 0); /* size */
     put_tag(pb, "trak");
-    mov_write_tkhd_tag(pb, track);
+    mov_write_tkhd_tag(pb, track, st);
     if (track->mode == MODE_PSP || track->hasBframes)
         mov_write_edts_tag(pb, track);  // PSP Movies require edts box
     mov_write_mdia_tag(pb, track);
@@ -1064,7 +1132,7 @@
     return 0x6c;
 }
 
-static int mov_write_itunes_hdlr_tag(ByteIOContext *pb, MOVContext* mov,
+static int mov_write_itunes_hdlr_tag(ByteIOContext *pb, MOVContext *mov,
                                      AVFormatContext *s)
 {
     offset_t pos = url_ftell(pb);
@@ -1101,7 +1169,7 @@
 
 static int mov_write_string_tag(ByteIOContext *pb, const char *name, const char *value, int long_style){
     int size = 0;
-    if ( value && value[0] ) {
+    if (value && value[0]) {
         offset_t pos = url_ftell(pb);
         put_be32(pb, 0); /* size */
         put_tag(pb, name);
@@ -1123,11 +1191,11 @@
 }
 
 /* iTunes track number */
-static int mov_write_trkn_tag(ByteIOContext *pb, MOVContext* mov,
+static int mov_write_trkn_tag(ByteIOContext *pb, MOVContext *mov,
                               AVFormatContext *s)
 {
     int size = 0;
-    if ( s->track ) {
+    if (s->track) {
         offset_t pos = url_ftell(pb);
         put_be32(pb, 0); /* size */
         put_tag(pb, "trkn");
@@ -1149,7 +1217,7 @@
 }
 
 /* iTunes meta data list */
-static int mov_write_ilst_tag(ByteIOContext *pb, MOVContext* mov,
+static int mov_write_ilst_tag(ByteIOContext *pb, MOVContext *mov,
                               AVFormatContext *s)
 {
     offset_t pos = url_ftell(pb);
@@ -1160,23 +1228,23 @@
     mov_write_string_tag(pb, "\251wrt", s->author        , 1);
     mov_write_string_tag(pb, "\251alb", s->album         , 1);
     mov_write_day_tag(pb, s->year ,1);
-    if(mov->tracks[0].enc && !(mov->tracks[0].enc->flags & CODEC_FLAG_BITEXACT))
-        mov_write_string_tag(pb, "\251too", LIBAVFORMAT_IDENT, 1);
+    mov_write_string_tag(pb, "\251too", LIBAVFORMAT_IDENT, 1);
     mov_write_string_tag(pb, "\251cmt", s->comment       , 1);
     mov_write_string_tag(pb, "\251gen", s->genre         , 1);
+    mov_write_string_tag(pb, "\251cpy", s->copyright     , 1);
     mov_write_trkn_tag(pb, mov, s);
     return updateSize(pb, pos);
 }
 
 /* iTunes meta data tag */
-static int mov_write_meta_tag(ByteIOContext *pb, MOVContext* mov,
+static int mov_write_meta_tag(ByteIOContext *pb, MOVContext *mov,
                               AVFormatContext *s)
 {
     int size = 0;
 
     // only save meta tag if required
-    if ( s->title[0] || s->author[0] || s->album[0] || s->year ||
-         s->comment[0] || s->genre[0] || s->track ) {
+    if (s->title[0] || s->author[0] || s->album[0] || s->year ||
+        s->comment[0] || s->genre[0] || s->track) {
         offset_t pos = url_ftell(pb);
         put_be32(pb, 0); /* size */
         put_tag(pb, "meta");
@@ -1188,43 +1256,8 @@
     return size;
 }
 
-static int mov_write_udta_tag(ByteIOContext *pb, MOVContext* mov,
-                              AVFormatContext *s)
+static int utf8len(const uint8_t *b)
 {
-    offset_t pos = url_ftell(pb);
-    int i;
-
-    put_be32(pb, 0); /* size */
-    put_tag(pb, "udta");
-
-    /* iTunes meta data */
-    mov_write_meta_tag(pb, mov, s);
-
-  if(mov->mode == MODE_MOV){ // the title field breaks gtkpod with mp4 and my suspicion is that stuff is not valid in mp4
-    /* Requirements */
-    for (i=0; i<mov->nb_streams; i++) {
-        if(mov->tracks[i].entry <= 0) continue;
-        if (mov->tracks[i].enc->codec_id == CODEC_ID_AAC ||
-            mov->tracks[i].enc->codec_id == CODEC_ID_MPEG4) {
-            mov_write_string_tag(pb, "\251req", "QuickTime 6.0 or greater", 0);
-            break;
-        }
-    }
-
-    mov_write_string_tag(pb, "\251nam", s->title         , 0);
-    mov_write_string_tag(pb, "\251aut", s->author        , 0);
-    mov_write_string_tag(pb, "\251alb", s->album         , 0);
-    mov_write_day_tag(pb, s->year, 0);
-    if(mov->tracks[0].enc && !(mov->tracks[0].enc->flags & CODEC_FLAG_BITEXACT))
-        mov_write_string_tag(pb, "\251enc", LIBAVFORMAT_IDENT, 0);
-    mov_write_string_tag(pb, "\251des", s->comment       , 0);
-    mov_write_string_tag(pb, "\251gen", s->genre         , 0);
-  }
-
-    return updateSize(pb, pos);
-}
-
-static int utf8len(uint8_t *b){
     int len=0;
     int val;
     while(*b){
@@ -1234,7 +1267,7 @@
     return len;
 }
 
-static int ascii_to_wc (ByteIOContext *pb, uint8_t *b)
+static int ascii_to_wc(ByteIOContext *pb, const uint8_t *b)
 {
     int val;
     while(*b){
@@ -1245,31 +1278,107 @@
     return 0;
 }
 
-static uint16_t language_code (const char *str)
+static uint16_t language_code(const char *str)
 {
-    return ((((str[0]-0x60) & 0x1F)<<10) + (((str[1]-0x60) & 0x1F)<<5) + ((str[2]-0x60) & 0x1F));
+    return (((str[0]-0x60) & 0x1F) << 10) + (((str[1]-0x60) & 0x1F) << 5) + ((str[2]-0x60) & 0x1F);
 }
 
-static int mov_write_uuidusmt_tag (ByteIOContext *pb, AVFormatContext *s)
+static int mov_write_3gp_udta_tag(ByteIOContext *pb, AVFormatContext *s,
+                                  const char *tag, const char *str)
 {
-    size_t len, size;
-    offset_t pos, curpos;
+    offset_t pos = url_ftell(pb);
+    if (!utf8len(str))
+        return 0;
+    put_be32(pb, 0);   /* size */
+    put_tag (pb, tag); /* type */
+    put_be32(pb, 0);   /* version + flags */
+    if (!strcmp(tag, "yrrc"))
+        put_be16(pb, s->year);
+    else {
+        put_be16(pb, language_code("eng")); /* language */
+        ascii_to_wc(pb, str);
+        if (!strcmp(tag, "albm") && s->year)
+            put_byte(pb, s->year);
+    }
+    return updateSize(pb, pos);
+}
 
-    size = 0;
+static int mov_write_udta_tag(ByteIOContext *pb, MOVContext *mov,
+                              AVFormatContext *s)
+{
+    int i;
+    int bitexact = 0;
+
+    for (i = 0; i < s->nb_streams; i++)
+        if (mov->tracks[i].enc->flags & CODEC_FLAG_BITEXACT) {
+            bitexact = 1;
+            break;
+        }
+
+    if (!bitexact && (s->title[0] || s->author[0] || s->album[0] || s->year ||
+                      s->comment[0] || s->genre[0]  || s->track)) {
+        offset_t pos = url_ftell(pb);
+
+        put_be32(pb, 0); /* size */
+        put_tag(pb, "udta");
+
+        if (mov->mode & MODE_3GP) {
+            mov_write_3gp_udta_tag(pb, s, "titl", s->title);
+            mov_write_3gp_udta_tag(pb, s, "auth", s->author);
+            mov_write_3gp_udta_tag(pb, s, "gnre", s->genre);
+            mov_write_3gp_udta_tag(pb, s, "dscp", s->comment);
+            mov_write_3gp_udta_tag(pb, s, "albm", s->album);
+            mov_write_3gp_udta_tag(pb, s, "cprt", s->copyright);
+            mov_write_3gp_udta_tag(pb, s, "yrrc", "nil");
+        } else if (mov->mode == MODE_MOV) { // the title field breaks gtkpod with mp4 and my suspicion is that stuff is not valid in mp4
+            mov_write_string_tag(pb, "\251nam", s->title         , 0);
+            mov_write_string_tag(pb, "\251aut", s->author        , 0);
+            mov_write_string_tag(pb, "\251alb", s->album         , 0);
+            mov_write_day_tag(pb, s->year, 0);
+            mov_write_string_tag(pb, "\251enc", LIBAVFORMAT_IDENT, 0);
+            mov_write_string_tag(pb, "\251des", s->comment       , 0);
+            mov_write_string_tag(pb, "\251gen", s->genre         , 0);
+            mov_write_string_tag(pb, "\251cpy", s->copyright     , 0);
+        } else {
+            /* iTunes meta data */
+            mov_write_meta_tag(pb, mov, s);
+        }
+        return updateSize(pb, pos);
+    }
+
+    return 0;
+}
+
+static void mov_write_psp_udta_tag(ByteIOContext *pb,
+                                  const char *str, const char *lang, int type)
+{
+    int len = utf8len(str)+1;
+    if(len<=0)
+        return;
+    put_be16(pb, len*2+10);            /* size */
+    put_be32(pb, type);                /* type */
+    put_be16(pb, language_code(lang)); /* language */
+    put_be16(pb, 0x01);                /* ? */
+    ascii_to_wc(pb, str);
+}
+
+static int mov_write_uuidusmt_tag(ByteIOContext *pb, AVFormatContext *s)
+{
+    offset_t pos, pos2;
+
     if (s->title[0]) {
         pos = url_ftell(pb);
         put_be32(pb, 0); /* size placeholder*/
         put_tag(pb, "uuid");
         put_tag(pb, "USMT");
-        put_be32(pb, 0x21d24fce ); /* 96 bit UUID */
-        put_be32(pb, 0xbb88695c );
-        put_be32(pb, 0xfac9c740 );
-        size += 24;
+        put_be32(pb, 0x21d24fce); /* 96 bit UUID */
+        put_be32(pb, 0xbb88695c);
+        put_be32(pb, 0xfac9c740);
 
+        pos2 = url_ftell(pb);
         put_be32(pb, 0); /* size placeholder*/
         put_tag(pb, "MTDT");
         put_be16(pb, 4);
-        size += 10;
 
         // ?
         put_be16(pb, 0x0C);                 /* size */
@@ -1277,55 +1386,17 @@
         put_be16(pb, language_code("und")); /* language */
         put_be16(pb, 0x0);                  /* ? */
         put_be16(pb, 0x021C);               /* data */
-        size += 12;
 
-        // Encoder
-        len = utf8len(LIBAVCODEC_IDENT)+1;
-        if(len<=0)
-            goto not_utf8;
-        put_be16(pb, len*2+10);             /* size */
-        put_be32(pb, 0x04);                 /* type */
-        put_be16(pb, language_code("eng")); /* language */
-        put_be16(pb, 0x01);                 /* ? */
-        ascii_to_wc(pb, LIBAVCODEC_IDENT);
-        size += len*2+10;
-
-        // Title
-        len = utf8len(s->title)+1;
-        if(len<=0)
-            goto not_utf8;
-        put_be16(pb, len*2+10);             /* size */
-        put_be32(pb, 0x01);                 /* type */
-        put_be16(pb, language_code("eng")); /* language */
-        put_be16(pb, 0x01);                 /* ? */
-        ascii_to_wc (pb, s->title);
-        size += len*2+10;
-
-        // Date
+        mov_write_psp_udta_tag(pb, LIBAVCODEC_IDENT,      "eng", 0x04);
+        mov_write_psp_udta_tag(pb, s->title,              "eng", 0x01);
 //        snprintf(dt,32,"%04d/%02d/%02d %02d:%02d:%02d",t_st->tm_year+1900,t_st->tm_mon+1,t_st->tm_mday,t_st->tm_hour,t_st->tm_min,t_st->tm_sec);
-        len = utf8len("2006/04/01 11:11:11")+1;
-        if(len<=0)
-            goto not_utf8;
-        put_be16(pb, len*2+10);    /* size */
-        put_be32(pb, 0x03);        /* type */
-        put_be16(pb, language_code("und")); /* language */
-        put_be16(pb, 0x01);        /* ? */
-        ascii_to_wc (pb, "2006/04/01 11:11:11");
-        size += len*2+10;
+        mov_write_psp_udta_tag(pb, "2006/04/01 11:11:11", "und", 0x03);
 
-        // size
-        curpos = url_ftell(pb);
-        url_fseek(pb, pos, SEEK_SET);
-        put_be32(pb, size);
-        url_fseek(pb, pos+24, SEEK_SET);
-        put_be32(pb, size-24);
-        url_fseek(pb, curpos, SEEK_SET);
+        updateSize(pb, pos2);
+        return updateSize(pb, pos);
     }
 
-    return size;
-not_utf8:
-    av_log(s, AV_LOG_ERROR, "not utf8\n");
-    return -1;
+    return 0;
 }
 
 static int mov_write_moov_tag(ByteIOContext *pb, MOVContext *mov,
@@ -1348,7 +1419,7 @@
     //mov_write_iods_tag(pb, mov);
     for (i=0; i<mov->nb_streams; i++) {
         if(mov->tracks[i].entry > 0) {
-            mov_write_trak_tag(pb, &(mov->tracks[i]));
+            mov_write_trak_tag(pb, &(mov->tracks[i]), s->streams[i]);
         }
     }
 
@@ -1360,7 +1431,7 @@
     return updateSize(pb, pos);
 }
 
-static int mov_write_mdat_tag(ByteIOContext *pb, MOVContext* mov)
+static int mov_write_mdat_tag(ByteIOContext *pb, MOVContext *mov)
 {
     put_be32(pb, 8);    // placeholder for extended size field (64 bit)
     put_tag(pb, mov->mode == MODE_MOV ? "wide" : "free");
@@ -1372,36 +1443,60 @@
 }
 
 /* TODO: This needs to be more general */
-static void mov_write_ftyp_tag (ByteIOContext *pb, AVFormatContext *s)
+static int mov_write_ftyp_tag(ByteIOContext *pb, AVFormatContext *s)
 {
     MOVContext *mov = s->priv_data;
+    offset_t pos = url_ftell(pb);
+    int has_h264 = 0, has_video = 0;
+    int minor = 0x200;
+    int i;
 
-    put_be32(pb, 0x14 ); /* size */
+    for (i = 0; i < s->nb_streams; i++) {
+        AVStream *st = s->streams[i];
+        if (st->codec->codec_type == CODEC_TYPE_VIDEO)
+            has_video = 1;
+        if (st->codec->codec_id == CODEC_ID_H264)
+            has_h264 = 1;
+    }
+
+    put_be32(pb, 0); /* size */
     put_tag(pb, "ftyp");
 
-    if ( mov->mode == MODE_3GP )
-        put_tag(pb, "3gp4");
-    else if ( mov->mode == MODE_3G2 )
-        put_tag(pb, "3g2a");
-    else if ( mov->mode == MODE_PSP )
+    if (mov->mode == MODE_3GP) {
+        put_tag(pb, has_h264 ? "3gp6"  : "3gp4");
+        minor =     has_h264 ?   0x100 :   0x200;
+    } else if (mov->mode & MODE_3G2) {
+        put_tag(pb, has_h264 ? "3g2b"  : "3g2a");
+        minor =     has_h264 ? 0x20000 : 0x10000;
+    }else if (mov->mode == MODE_PSP)
         put_tag(pb, "MSNV");
-    else if ( mov->mode == MODE_MP4 )
+    else if (mov->mode == MODE_MP4)
         put_tag(pb, "isom");
+    else if (mov->mode == MODE_IPOD)
+        put_tag(pb, has_video ? "M4V ":"M4A ");
     else
         put_tag(pb, "qt  ");
 
-    put_be32(pb, 0x200 );
+    put_be32(pb, minor);
 
-    if ( mov->mode == MODE_3GP )
-        put_tag(pb, "3gp4");
-    else if ( mov->mode == MODE_3G2 )
-        put_tag(pb, "3g2a");
-    else if ( mov->mode == MODE_PSP )
+    if(mov->mode == MODE_MOV)
+        put_tag(pb, "qt  ");
+    else{
+        put_tag(pb, "isom");
+        put_tag(pb, "iso2");
+        if(has_h264)
+            put_tag(pb, "avc1");
+    }
+
+    if (mov->mode == MODE_3GP)
+        put_tag(pb, has_h264 ? "3gp6":"3gp4");
+    else if (mov->mode & MODE_3G2)
+        put_tag(pb, has_h264 ? "3g2b":"3g2a");
+    else if (mov->mode == MODE_PSP)
         put_tag(pb, "MSNV");
-    else if ( mov->mode == MODE_MP4 )
+    else if (mov->mode == MODE_MP4)
         put_tag(pb, "mp41");
-    else
-        put_tag(pb, "qt  ");
+    return updateSize(pb, pos);
 }
 
 static void mov_write_uuidprof_tag(ByteIOContext *pb, AVFormatContext *s)
@@ -1413,49 +1508,49 @@
     int audio_kbitrate= AudioCodec->bit_rate / 1000;
     int video_kbitrate= FFMIN(VideoCodec->bit_rate / 1000, 800 - audio_kbitrate);
 
-    put_be32(pb, 0x94 ); /* size */
+    put_be32(pb, 0x94); /* size */
     put_tag(pb, "uuid");
     put_tag(pb, "PROF");
 
-    put_be32(pb, 0x21d24fce ); /* 96 bit UUID */
-    put_be32(pb, 0xbb88695c );
-    put_be32(pb, 0xfac9c740 );
+    put_be32(pb, 0x21d24fce); /* 96 bit UUID */
+    put_be32(pb, 0xbb88695c);
+    put_be32(pb, 0xfac9c740);
 
-    put_be32(pb, 0x0 );  /* ? */
-    put_be32(pb, 0x3 );  /* 3 sections ? */
+    put_be32(pb, 0x0);  /* ? */
+    put_be32(pb, 0x3);  /* 3 sections ? */
 
-    put_be32(pb, 0x14 ); /* size */
+    put_be32(pb, 0x14); /* size */
     put_tag(pb, "FPRF");
-    put_be32(pb, 0x0 );  /* ? */
-    put_be32(pb, 0x0 );  /* ? */
-    put_be32(pb, 0x0 );  /* ? */
+    put_be32(pb, 0x0);  /* ? */
+    put_be32(pb, 0x0);  /* ? */
+    put_be32(pb, 0x0);  /* ? */
 
-    put_be32(pb, 0x2c );  /* size */
+    put_be32(pb, 0x2c);  /* size */
     put_tag(pb, "APRF");   /* audio */
-    put_be32(pb, 0x0 );
-    put_be32(pb, 0x2 );   /* TrackID */
+    put_be32(pb, 0x0);
+    put_be32(pb, 0x2);   /* TrackID */
     put_tag(pb, "mp4a");
-    put_be32(pb, 0x20f );
-    put_be32(pb, 0x0 );
+    put_be32(pb, 0x20f);
+    put_be32(pb, 0x0);
     put_be32(pb, audio_kbitrate);
     put_be32(pb, audio_kbitrate);
-    put_be32(pb, AudioRate );
-    put_be32(pb, AudioCodec->channels );
+    put_be32(pb, AudioRate);
+    put_be32(pb, AudioCodec->channels);
 
-    put_be32(pb, 0x34 );  /* size */
+    put_be32(pb, 0x34);  /* size */
     put_tag(pb, "VPRF");   /* video */
-    put_be32(pb, 0x0 );
-    put_be32(pb, 0x1 );    /* TrackID */
+    put_be32(pb, 0x0);
+    put_be32(pb, 0x1);    /* TrackID */
     if (VideoCodec->codec_id == CODEC_ID_H264) {
         put_tag(pb, "avc1");
-        put_be16(pb, 0x014D );
-        put_be16(pb, 0x0015 );
+        put_be16(pb, 0x014D);
+        put_be16(pb, 0x0015);
     } else {
         put_tag(pb, "mp4v");
-        put_be16(pb, 0x0000 );
-        put_be16(pb, 0x0103 );
+        put_be16(pb, 0x0000);
+        put_be16(pb, 0x0103);
     }
-    put_be32(pb, 0x0 );
+    put_be32(pb, 0x0);
     put_be32(pb, video_kbitrate);
     put_be32(pb, video_kbitrate);
     put_be32(pb, FrameRate);
@@ -1481,13 +1576,14 @@
 
     if (s->oformat != NULL) {
         if (!strcmp("3gp", s->oformat->name)) mov->mode = MODE_3GP;
-        else if (!strcmp("3g2", s->oformat->name)) mov->mode = MODE_3G2;
+        else if (!strcmp("3g2", s->oformat->name)) mov->mode = MODE_3GP|MODE_3G2;
         else if (!strcmp("mov", s->oformat->name)) mov->mode = MODE_MOV;
         else if (!strcmp("psp", s->oformat->name)) mov->mode = MODE_PSP;
+        else if (!strcmp("ipod",s->oformat->name)) mov->mode = MODE_IPOD;
 
         mov_write_ftyp_tag(pb,s);
-        if ( mov->mode == MODE_PSP ) {
-            if ( s->nb_streams != 2 ) {
+        if (mov->mode == MODE_PSP) {
+            if (s->nb_streams != 2) {
                 av_log(s, AV_LOG_ERROR, "PSP mode need one video and one audio stream\n");
                 return -1;
             }
@@ -1502,27 +1598,38 @@
         track->enc = st->codec;
         track->language = ff_mov_iso639_to_lang(st->language, mov->mode != MODE_MOV);
         track->mode = mov->mode;
+        track->tag = mov_find_codec_tag(s, track);
+        if (!track->tag) {
+            av_log(s, AV_LOG_ERROR, "track %d: could not find tag, "
+                   "codec not currently supported in container\n", i);
+            return -1;
+        }
         if(st->codec->codec_type == CODEC_TYPE_VIDEO){
-            track->tag = mov_find_video_codec_tag(s, track);
             track->timescale = st->codec->time_base.den;
             av_set_pts_info(st, 64, 1, st->codec->time_base.den);
-            if (track->timescale > 100000)
-                av_log(NULL, AV_LOG_WARNING,
+            if (track->mode == MODE_MOV && track->timescale > 100000)
+                av_log(s, AV_LOG_WARNING,
                        "WARNING codec timebase is very high. If duration is too long,\n"
                        "file may not be playable by quicktime. Specify a shorter timebase\n"
                        "or choose different container.\n");
         }else if(st->codec->codec_type == CODEC_TYPE_AUDIO){
-            track->tag = mov_find_audio_codec_tag(s, track);
             track->timescale = st->codec->sample_rate;
             av_set_pts_info(st, 64, 1, st->codec->sample_rate);
-            if(!st->codec->frame_size){
+            if(!st->codec->frame_size && !av_get_bits_per_sample(st->codec->codec_id)) {
                 av_log(s, AV_LOG_ERROR, "track %d: codec frame size is not set\n", i);
                 return -1;
             }else if(st->codec->frame_size > 1){ /* assume compressed audio */
                 track->audio_vbr = 1;
             }else{
+                st->codec->frame_size = 1;
                 track->sampleSize = (av_get_bits_per_sample(st->codec->codec_id) >> 3) * st->codec->channels;
             }
+            if(track->mode != MODE_MOV &&
+               track->enc->codec_id == CODEC_ID_MP3 && track->enc->sample_rate < 16000){
+                av_log(s, AV_LOG_ERROR, "track %d: muxing mp3 at %dhz is not supported\n",
+                       i, track->enc->sample_rate);
+                return -1;
+            }
         }
     }
 
@@ -1558,7 +1665,7 @@
             samplesInChunk++;
         }
         if(samplesInChunk > 1){
-            av_log(s, AV_LOG_ERROR, "fatal error, input is not a single packet, inplement a AVParser for it\n");
+            av_log(s, AV_LOG_ERROR, "fatal error, input is not a single packet, implement a AVParser for it\n");
             return -1;
         }
     } else if (trk->sampleSize)
@@ -1576,9 +1683,19 @@
     if (enc->codec_id == CODEC_ID_H264 && trk->vosLen > 0 && *(uint8_t *)trk->vosData != 1) {
         /* from x264 or from bytestream h264 */
         /* nal reformating needed */
-        avc_parse_nal_units(&pkt->data, &pkt->size);
+        int ret = ff_avc_parse_nal_units(pkt->data, &pkt->data, &pkt->size);
+        if (ret < 0)
+            return ret;
         assert(pkt->size);
         size = pkt->size;
+    } else if ((enc->codec_id == CODEC_ID_DNXHD ||
+                enc->codec_id == CODEC_ID_AC3) && !trk->vosLen) {
+        /* copy frame to create needed atoms */
+        trk->vosLen = size;
+        trk->vosData = av_malloc(size);
+        if (!trk->vosData)
+            return AVERROR(ENOMEM);
+        memcpy(trk->vosData, pkt->data, size);
     }
 
     if (!(trk->entry % MOV_INDEX_CLUSTER_SIZE)) {
@@ -1594,14 +1711,16 @@
     trk->cluster[trk->entry].dts = pkt->dts;
     trk->trackDuration = pkt->dts - trk->cluster[0].dts + pkt->duration;
 
-    if(enc->codec_type == CODEC_TYPE_VIDEO) {
-        if (pkt->dts != pkt->pts)
-            trk->hasBframes = 1;
-        trk->cluster[trk->entry].cts = pkt->pts - pkt->dts;
-        trk->cluster[trk->entry].key_frame = !!(pkt->flags & PKT_FLAG_KEY);
-        if(trk->cluster[trk->entry].key_frame)
-            trk->hasKeyframes++;
+    if (pkt->pts == AV_NOPTS_VALUE) {
+        av_log(s, AV_LOG_WARNING, "pts has no value\n");
+        pkt->pts = pkt->dts;
     }
+    if (pkt->dts != pkt->pts)
+        trk->hasBframes = 1;
+    trk->cluster[trk->entry].cts = pkt->pts - pkt->dts;
+    trk->cluster[trk->entry].key_frame = !!(pkt->flags & PKT_FLAG_KEY);
+    if(trk->cluster[trk->entry].key_frame)
+        trk->hasKeyframes++;
     trk->entry++;
     trk->sampleCount += samplesInChunk;
     mov->mdat_size += size;
@@ -1639,7 +1758,7 @@
     for (i=0; i<mov->nb_streams; i++) {
         av_freep(&mov->tracks[i].cluster);
 
-        if( mov->tracks[i].vosLen ) av_free( mov->tracks[i].vosData );
+        if(mov->tracks[i].vosLen) av_free(mov->tracks[i].vosData);
 
     }
 
@@ -1683,7 +1802,7 @@
     "mp4",
     "mp4 format",
     "application/mp4",
-    "mp4,m4a",
+    "mp4",
     sizeof(MOVContext),
     CODEC_ID_AAC,
     CODEC_ID_MPEG4,
@@ -1723,6 +1842,22 @@
     .flags = AVFMT_GLOBALHEADER,
 };
 #endif
+#ifdef CONFIG_IPOD_MUXER
+AVOutputFormat ipod_muxer = {
+    "ipod",
+	"iPod H.264 MP4 format",
+    "application/mp4",
+    "m4v,m4a",
+    sizeof(MOVContext),
+    CODEC_ID_AAC,
+    CODEC_ID_H264,
+    mov_write_header,
+    mov_write_packet,
+    mov_write_trailer,
+    .flags = AVFMT_GLOBALHEADER,
+};
+#endif
+
 /* MEANX */
 int movenc_init(void)
 {
@@ -1731,6 +1866,7 @@
     av_register_output_format(&mp4_muxer);
     av_register_output_format(&psp_muxer);
     av_register_output_format(&tg2_muxer);
+	av_register_output_format(&ipod_muxer);
     return 0;
 }
 /* MEANX */

Modified: branches/avidemux_2.4_branch/cmake/lavcodec.cmake
===================================================================
--- branches/avidemux_2.4_branch/cmake/lavcodec.cmake	2008-09-18 13:38:09 UTC (rev 4359)
+++ branches/avidemux_2.4_branch/cmake/lavcodec.cmake	2008-09-18 14:21:01 UTC (rev 4360)
@@ -14,6 +14,7 @@
 	SET(CONFIG_ZLIB 1)
 
 	SET(CONFIG_MUXERS 1)
+	SET(CONFIG_IPOD_MUXER 1)
 	SET(CONFIG_MOV_MUXER 1)
 	SET(CONFIG_MP4_MUXER 1)
 	SET(CONFIG_PSP_MUXER 1)

Modified: branches/avidemux_2.4_branch/config.h.cmake
===================================================================
--- branches/avidemux_2.4_branch/config.h.cmake	2008-09-18 13:38:09 UTC (rev 4359)
+++ branches/avidemux_2.4_branch/config.h.cmake	2008-09-18 14:21:01 UTC (rev 4360)
@@ -64,6 +64,7 @@
 #cmakedefine CONFIG_ZLIB
 
 #cmakedefine CONFIG_MUXERS
+#cmakedefine CONFIG_IPOD_MUXER
 #cmakedefine CONFIG_MOV_MUXER
 #cmakedefine CONFIG_MP4_MUXER
 #cmakedefine CONFIG_PSP_MUXER



From gruntster at mail.berlios.de  Thu Sep 18 16:30:18 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Thu, 18 Sep 2008 16:30:18 +0200
Subject: [Avidemux-svn-commit] r4361 -
	branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec
Message-ID: <200809181430.m8IEUIKZ010422@sheep.berlios.de>

Author: gruntster
Date: 2008-09-18 16:30:12 +0200 (Thu, 18 Sep 2008)
New Revision: 4361

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/avcodec.h
Log:
[mp4] missing update for mp4 muxer 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/avcodec.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/avcodec.h	2008-09-18 14:21:01 UTC (rev 4360)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/avcodec.h	2008-09-18 14:30:12 UTC (rev 4361)
@@ -260,6 +260,7 @@
     CODEC_ID_GSM_MS, /* as found in WAV */
     CODEC_ID_ATRAC3,
     CODEC_ID_NELLYMOSER, // MEANX BACKPORT
+	CODEC_ID_DIRAC, // MEANX BACKPORT
 
     /* subtitle codecs */
     CODEC_ID_DVD_SUBTITLE= 0x17000,



From gruntster at mail.berlios.de  Thu Sep 18 16:35:56 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Thu, 18 Sep 2008 16:35:56 +0200
Subject: [Avidemux-svn-commit] r4362 -
	branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat
Message-ID: <200809181435.m8IEZus7010869@sheep.berlios.de>

Author: gruntster
Date: 2008-09-18 16:35:50 +0200 (Thu, 18 Sep 2008)
New Revision: 4362

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp
Log:
[muxer] remove the use of doubles in the libavformat muxer wrapper when calculating video PTS & DTS as it causes rounding issues

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp	2008-09-18 14:30:12 UTC (rev 4361)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp	2008-09-18 14:35:50 UTC (rev 4362)
@@ -605,54 +605,33 @@
 //___________________________________________________________________________
 uint8_t lavMuxer::writeVideoPacket(ADMBitstream *bitstream)
 {
-int ret;
+	int ret;
+	AVPacket pkt;
+	AVRational fps = {1, 1000000};
 
-double p,d;
-  	AVPacket pkt;
-            av_init_packet(&pkt);
+	av_init_packet(&pkt);
 
-        p=bitstream->ptsFrame+1;      // Pts           // Time p/fps1000=out/den  out=p*den*1000/fps1000
-        p=(p*1000*1000*1000);
-        p=p/_fps1000;                  // in us
+	_curDTS = av_rescale_q(bitstream->dtsFrame, video_st->codec->time_base, fps);
 
-        d=bitstream->dtsFrame;		// dts
-	d=(d*1000*1000*1000);
-	d=d/_fps1000;
+	switch (_type)
+	{
+		case MUXER_FLV:
+		case MUXER_MATROSKA:
+		{
+			fps.den = 1000;
+			break;
+		}
+		default:
+		{
+			fps.den = video_st->codec->time_base.den;
+			break;
+		}
+	}
 
+	pkt.pts = av_rescale_q(bitstream->ptsFrame + 1, video_st->codec->time_base, fps);
+	pkt.dts = av_rescale_q(bitstream->dtsFrame, video_st->codec->time_base, fps);
+	pkt.stream_index = 0;
 
-	_curDTS=(int64_t)floor(d);
-    aprintf("Adm video unscaled dts=:%u\n",(uint32_t)d);
-        // Rescale
-#define RESCALE(x) x=x*1000.;\
-                   x=x/_fps1000;
-
-        p=bitstream->ptsFrame+1;
-        RESCALE(p);
-// MP4/ TS
-        d=bitstream->dtsFrame;  // p & d are now in seconds
-        RESCALE(d);
-        switch(_type)  // video_st->codec->time_base.den
-        {
-        case MUXER_FLV :
-        case MUXER_MATROSKA:
-                    {
-                        p=p*1000;
-                        d=d*1000; // in milliseconds
-                        break;
-                    }
-        
-        default:
-                    p=p*video_st->codec->time_base.den;
-                    d=d*video_st->codec->time_base.den;
-                    break;
-        }
-    	pkt.dts=(int64_t)floor(d);
-    	pkt.pts=(int64_t)floor(p);
-
-       // printf("Lavformat : Pts :%u dts:%u",displayframe,frameno);
-	aprintf("Lavformat : Pts :%llu dts:%llu",pkt.pts,pkt.dts);
-	pkt.stream_index=0;
-
         pkt.data= bitstream->data;
         pkt.size= bitstream->len;
 	// Look if it is a gop start or seq start



From gruntster at mail.berlios.de  Thu Sep 18 17:05:28 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Thu, 18 Sep 2008 17:05:28 +0200
Subject: [Avidemux-svn-commit] r4363 -
	branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat
Message-ID: <200809181505.m8IF5SW3013807@sheep.berlios.de>

Author: gruntster
Date: 2008-09-18 17:05:21 +0200 (Thu, 18 Sep 2008)
New Revision: 4363

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp
Log:
[mp4] let libavformat calculate DTS for MP4

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp	2008-09-18 14:35:50 UTC (rev 4362)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp	2008-09-18 15:05:21 UTC (rev 4363)
@@ -608,6 +608,8 @@
 	int ret;
 	AVPacket pkt;
 	AVRational fps = {1, 1000000};
+	uint32_t ptsFrame = bitstream->ptsFrame + 1;
+	bool calculateDts = true;
 
 	av_init_packet(&pkt);
 
@@ -621,6 +623,12 @@
 			fps.den = 1000;
 			break;
 		}
+		case MUXER_MP4:
+		{
+			ptsFrame = bitstream->ptsFrame;
+			calculateDts = false;
+			// break is missing on purpose!
+		}
 		default:
 		{
 			fps.den = video_st->codec->time_base.den;
@@ -628,8 +636,14 @@
 		}
 	}
 
-	pkt.pts = av_rescale_q(bitstream->ptsFrame + 1, video_st->codec->time_base, fps);
-	pkt.dts = av_rescale_q(bitstream->dtsFrame, video_st->codec->time_base, fps);
+	pkt.pts = av_rescale_q(ptsFrame, video_st->codec->time_base, fps);
+
+	if (calculateDts)
+	{
+		printf("setting dts\n");
+		pkt.dts = av_rescale_q(bitstream->dtsFrame, video_st->codec->time_base, fps);
+	}
+
 	pkt.stream_index = 0;
 
         pkt.data= bitstream->data;



From gruntster at mail.berlios.de  Thu Sep 18 17:16:07 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Thu, 18 Sep 2008 17:16:07 +0200
Subject: [Avidemux-svn-commit] r4364 -
	branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat
Message-ID: <200809181516.m8IFG70R015173@sheep.berlios.de>

Author: gruntster
Date: 2008-09-18 17:16:01 +0200 (Thu, 18 Sep 2008)
New Revision: 4364

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp
Log:
[muxer] let libavformat know H.264 video may use bpyramid

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp	2008-09-18 15:05:21 UTC (rev 4363)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp	2008-09-18 15:16:01 UTC (rev 4364)
@@ -165,6 +165,10 @@
 	}
 
 	c = video_st->codec;
+	c->gop_size=15;
+	c->max_b_frames=2;
+	c->has_b_frames=1;
+
 	switch(_type)
 	{
 				case MUXER_FLV:
@@ -195,12 +199,11 @@
                         if(isMpeg4Compatible(info->fcc))
                         {
                                 c->codec_id = CODEC_ID_MPEG4;
-                                c->has_b_frames=1; // in doubt...
                         }else
                         {
                                 if(isH264Compatible(info->fcc))
                                 {
-                                        c->has_b_frames=1; // in doubt...
+                                        c->has_b_frames=2; // let muxer know we may have bpyramid
                                         c->codec_id = CODEC_ID_H264;
                                         c->codec=new AVCodec;
                                         memset(c->codec,0,sizeof(AVCodec));
@@ -235,12 +238,11 @@
                         if(isMpeg4Compatible(info->fcc))
                         {
                                 c->codec_id = CODEC_ID_MPEG4;
-                                c->has_b_frames=1; // in doubt...
                         }else
                         {
                                 if(isH264Compatible(info->fcc))
                                 {
-                                        c->has_b_frames=1; // in doubt...
+                                        c->has_b_frames=2; // let muxer know we may have bpyramid
                                         c->codec_id = CODEC_ID_H264;
                                         c->codec=new AVCodec;
                                         memset(c->codec,0,sizeof(AVCodec));
@@ -382,11 +384,6 @@
 	}
 
 
-	c->gop_size=15;
-	c->max_b_frames=2;
-	c->has_b_frames=1;
-
-
 	// Audio
 	//________
         if(audioheader)
@@ -639,10 +636,7 @@
 	pkt.pts = av_rescale_q(ptsFrame, video_st->codec->time_base, fps);
 
 	if (calculateDts)
-	{
-		printf("setting dts\n");
 		pkt.dts = av_rescale_q(bitstream->dtsFrame, video_st->codec->time_base, fps);
-	}
 
 	pkt.stream_index = 0;
 



From gruntster at mail.berlios.de  Thu Sep 18 22:11:21 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Thu, 18 Sep 2008 22:11:21 +0200
Subject: [Avidemux-svn-commit] r4365 - in
	branches/avidemux_2.4_branch/avidemux:
	ADM_libraries/ADM_lavformat ADM_libraries/ADM_utilities
	ADM_outputs/oplug_mp4
Message-ID: <200809182011.m8IKBLxN000769@sheep.berlios.de>

Author: gruntster
Date: 2008-09-18 22:11:14 +0200 (Thu, 18 Sep 2008)
New Revision: 4365

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/ADM_bitstream.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/ADM_bitstream.h
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp
Log:
[mp4] only let libavformat calculate DTS when encoding (and not copying)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp	2008-09-18 15:16:01 UTC (rev 4364)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp	2008-09-18 20:11:14 UTC (rev 4365)
@@ -18,6 +18,10 @@
  *                                                                         *
  ***************************************************************************/
 
+#ifndef __STDC_LIMIT_MACROS
+#define __STDC_LIMIT_MACROS
+#endif
+
 #include "config.h"
 #include "default.h"
 #define WIN32_CLASH
@@ -35,7 +39,7 @@
 #undef malloc
 #undef realloc
 #undef free
-#include <ADM_assert.h>
+#include "ADM_assert.h"
 
 #include "ADM_toolkit/toolkit.hxx"
 
@@ -606,11 +610,10 @@
 	AVPacket pkt;
 	AVRational fps = {1, 1000000};
 	uint32_t ptsFrame = bitstream->ptsFrame + 1;
-	bool calculateDts = true;
 
 	av_init_packet(&pkt);
 
-	_curDTS = av_rescale_q(bitstream->dtsFrame, video_st->codec->time_base, fps);
+	_curDTS = av_rescale_q(bitstream->frameNumber, video_st->codec->time_base, fps);
 
 	switch (_type)
 	{
@@ -623,7 +626,6 @@
 		case MUXER_MP4:
 		{
 			ptsFrame = bitstream->ptsFrame;
-			calculateDts = false;
 			// break is missing on purpose!
 		}
 		default:
@@ -635,7 +637,7 @@
 
 	pkt.pts = av_rescale_q(ptsFrame, video_st->codec->time_base, fps);
 
-	if (calculateDts)
+	if (bitstream->dtsFrame != UINT32_MAX)
 		pkt.dts = av_rescale_q(bitstream->dtsFrame, video_st->codec->time_base, fps);
 
 	pkt.stream_index = 0;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/ADM_bitstream.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/ADM_bitstream.cpp	2008-09-18 15:16:01 UTC (rev 4364)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/ADM_bitstream.cpp	2008-09-18 20:11:14 UTC (rev 4365)
@@ -38,5 +38,6 @@
     flags=0;
     len=0;
     dtsFrame=framenum;
+	frameNumber=framenum;
 }
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/ADM_bitstream.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/ADM_bitstream.h	2008-09-18 15:16:01 UTC (rev 4364)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/ADM_bitstream.h	2008-09-18 20:11:14 UTC (rev 4365)
@@ -19,6 +19,7 @@
         uint32_t out_quantizer;         // Quantizer of the image, in case of encoding the real Q
         uint32_t ptsFrame;              // Frame number in display order
         uint32_t dtsFrame;              // Frame number in container order (decoding order)
+		uint32_t frameNumber;
         uint64_t pts;			// in ms
         uint64_t dts;			// in ms
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp	2008-09-18 15:16:01 UTC (rev 4364)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp	2008-09-18 20:11:14 UTC (rev 4365)
@@ -18,6 +18,10 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
+#ifndef __STDC_LIMIT_MACROS
+#define __STDC_LIMIT_MACROS
+#endif
+
 #include "config.h"
 #include <stdio.h>
 #include <stdlib.h>
@@ -208,6 +212,8 @@
              
 preFilling:
              bitstream.cleanup(0);
+			 bitstream.dtsFrame = UINT32_MAX;	// let libavformat calculate it
+
              if(!(err=_encode->encode ( prefill, &bitstream)))//&len, videoBuffer, &flags,&displayFrame))
              {
                         printf("MP4:First frame error\n");
@@ -338,6 +344,8 @@
                }
                ADM_assert(_encode);
                bitstream.cleanup(frameWrite);
+			   bitstream.dtsFrame = UINT32_MAX;	// let libavformat calculate it
+
                if(!prefill || frame+prefill<total) 
                {
                   



From gruntster at mail.berlios.de  Fri Sep 19 02:42:38 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Fri, 19 Sep 2008 02:42:38 +0200
Subject: [Avidemux-svn-commit] r4366 -
	branches/avidemux_2.4_branch/avidemux/ADM_osSupport
Message-ID: <200809190042.m8J0gcJp024440@sheep.berlios.de>

Author: gruntster
Date: 2008-09-19 02:42:32 +0200 (Fri, 19 Sep 2008)
New Revision: 4366

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_osSupport/win32.cpp
Log:
[Win32] disable buffering for log file so external libs don't jumble output

Modified: branches/avidemux_2.4_branch/avidemux/ADM_osSupport/win32.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_osSupport/win32.cpp	2008-09-18 20:11:14 UTC (rev 4365)
+++ branches/avidemux_2.4_branch/avidemux/ADM_osSupport/win32.cpp	2008-09-19 00:42:32 UTC (rev 4366)
@@ -449,8 +449,8 @@
 	}
 
 	// Line buffering
-	setvbuf(stdout, NULL, _IOLBF, BUFSIZ); 
-	setvbuf(stderr, NULL, _IOLBF, BUFSIZ);
+	setvbuf(stdout, NULL, _IONBF, BUFSIZ); 
+	setvbuf(stderr, NULL, _IONBF, BUFSIZ);
 
 	delete[] logPath;
 #endif



From gruntster at mail.berlios.de  Fri Sep 19 16:22:05 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Fri, 19 Sep 2008 16:22:05 +0200
Subject: [Avidemux-svn-commit] r4367 -
	branches/avidemux_2.4_branch/avidemux/ADM_encoder
Message-ID: <200809191422.m8JEM5fB029730@sheep.berlios.de>

Author: gruntster
Date: 2008-09-19 16:21:45 +0200 (Fri, 19 Sep 2008)
New Revision: 4367

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encCopy.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encCopy.h
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encRequant.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encRequant.h
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encXvid4.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encXvid4.h
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encdivx.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encdivx.h
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg.h
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg1.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmjpeg.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmjpeg.h
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmpeg2enc.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmpeg2enc.h
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encoder.h
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.h
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_ency800.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_ency800.h
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encyv12.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encyv12.h
Log:
[encoder] allow all encoders to return a requirements flag

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encCopy.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encCopy.cpp	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encCopy.cpp	2008-09-19 14:21:45 UTC (rev 4367)
@@ -60,6 +60,9 @@
 {
 
 }
+
+int EncoderCopy::getRequirements (void) { return 0; }
+
 uint8_t
 EncoderCopy::isDualPass (void)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encCopy.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encCopy.h	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encCopy.h	2008-09-19 14:21:45 UTC (rev 4367)
@@ -32,6 +32,7 @@
 public:
     EncoderCopy (COMPRES_PARAMS * codecconfig);
    ~EncoderCopy ();		// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void);
   virtual uint8_t configure (AVDMGenericVideoStream * instream);
   virtual uint8_t encode (uint32_t frame, ADMBitstream *out);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encRequant.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encRequant.cpp	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encRequant.cpp	2008-09-19 14:21:45 UTC (rev 4367)
@@ -67,6 +67,9 @@
   _buffer=NULL;
   Mrequant_end();
 }
+
+int EncoderRequant::getRequirements (void) { return 0; }
+
 uint8_t
 EncoderRequant::isDualPass (void)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encRequant.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encRequant.h	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encRequant.h	2008-09-19 14:21:45 UTC (rev 4367)
@@ -29,6 +29,7 @@
 public:
           EncoderRequant (COMPRES_PARAMS * codecconfig);
           ~EncoderRequant ();		// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void);
   virtual uint8_t configure (AVDMGenericVideoStream * instream);
   virtual uint8_t encode (uint32_t frame, ADMBitstream *out);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encXvid4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encXvid4.cpp	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encXvid4.cpp	2008-09-19 14:21:45 UTC (rev 4367)
@@ -162,8 +162,8 @@
   return 1;
 }
 
+int EncoderXvid4::getRequirements (void) { return 0; }
 
-
 uint8_t EncoderXvid4::isDualPass (void)
 {
   if ((_state == enc_Pass1) || (_state == enc_Pass2))

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encXvid4.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encXvid4.h	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encXvid4.h	2008-09-19 14:21:45 UTC (rev 4367)
@@ -41,6 +41,7 @@
 public:
     EncoderXvid4 (COMPRES_PARAMS * codecconfig);
    ~EncoderXvid4 ();		// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void);
   virtual uint8_t configure (AVDMGenericVideoStream * instream);
  

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encdivx.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encdivx.cpp	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encdivx.cpp	2008-09-19 14:21:45 UTC (rev 4367)
@@ -113,6 +113,7 @@
   return 1;
 }
 
+int EncoderDivx::getRequirements (void) { return 0; }
 
 uint8_t
 EncoderDivx::isDualPass (void)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encdivx.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encdivx.h	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encdivx.h	2008-09-19 14:21:45 UTC (rev 4367)
@@ -31,6 +31,7 @@
   divxEncoder * _codec;
 public:
   EncoderDivx (DIVXConfig * conf);
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void);
   virtual uint8_t configure (AVDMGenericVideoStream * instream);
   virtual uint8_t encode (uint32_t frame, uint32_t * len, uint8_t * out,

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg.cpp	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg.cpp	2008-09-19 14:21:45 UTC (rev 4367)
@@ -65,6 +65,9 @@
   _state=enc_CQ;
 
 }
+
+int EncoderFFMPEGHuff::getRequirements (void) { return 0; }
+
 uint8_t
 EncoderFFMPEGHuff::hasExtraHeaderData (uint32_t * l, uint8_t ** data)
 {
@@ -106,6 +109,9 @@
   _id = FF_FFHUFF;
   _frametogo = 0;
 }
+
+int EncoderFFMPEGFFHuff::getRequirements (void) { return 0; }
+
 uint8_t
 EncoderFFMPEGFFHuff::hasExtraHeaderData (uint32_t * l, uint8_t ** data)
 {
@@ -150,6 +156,9 @@
 
 
 }
+
+int EncoderFFMPEGFFV1::getRequirements (void) { return 0; }
+
 uint8_t
 EncoderFFMPEGFFV1::hasExtraHeaderData (uint32_t * l, uint8_t ** data)
 {
@@ -189,6 +198,9 @@
 
 
 }
+
+int EncodeFFMPEGSNow::getRequirements (void) { return 0; }
+
 uint8_t
 EncodeFFMPEGSNow::hasExtraHeaderData (uint32_t * l, uint8_t ** data)
 {
@@ -231,6 +243,9 @@
 
 
 }
+
+int EncoderFFMPEGDV::getRequirements (void) { return 0; }
+
 uint8_t
 EncoderFFMPEGDV::hasExtraHeaderData (uint32_t * l, uint8_t ** data)
 {
@@ -278,6 +293,9 @@
 
 
 }
+
+int EncoderFFMPEGFLV1::getRequirements (void) { return 0; }
+
 uint8_t
 EncoderFFMPEGFLV1::hasExtraHeaderData (uint32_t * l, uint8_t ** data)
 {
@@ -448,6 +466,7 @@
   return 1;
 }
 
+int EncoderFFMPEG::getRequirements (void) { return 0; }
 
 uint8_t EncoderFFMPEG::isDualPass (void)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg.h	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg.h	2008-09-19 14:21:45 UTC (rev 4367)
@@ -35,6 +35,7 @@
   {
     stop ();
   };				// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void);
   virtual uint8_t configure (AVDMGenericVideoStream * instream);
   virtual uint8_t encode (uint32_t frame,ADMBitstream *out);
@@ -67,6 +68,7 @@
   {
     stop ();
   };				// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void)
   {
     return 0;
@@ -109,6 +111,7 @@
   {
     stop ();
   };				// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void)
   {
     return 0;
@@ -152,6 +155,7 @@
   {
     stop ();
   };				// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void)
   {
     return 0;
@@ -201,6 +205,7 @@
 public:
     EncoderFFMPEGMpeg1 (FF_CODEC_ID id, COMPRES_PARAMS * config);
     virtual ~ EncoderFFMPEGMpeg1 ();	// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void);
   virtual uint8_t configure (AVDMGenericVideoStream * instream);
   virtual uint8_t encode (uint32_t frame, ADMBitstream *out);
@@ -223,6 +228,7 @@
   {
     stop ();
   };				// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void)
   {
     return 0;
@@ -268,6 +274,7 @@
   {
     stop ();
   };				// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void)
   {
     return 0;
@@ -310,6 +317,7 @@
   {
     stop ();
   };				// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void)
   {
     return 0;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg1.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg1.cpp	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg1.cpp	2008-09-19 14:21:45 UTC (rev 4367)
@@ -327,6 +327,7 @@
   return 1;
 }
 
+int EncoderFFMPEGMpeg1::getRequirements (void) { return 0; }
 
 uint8_t
 EncoderFFMPEGMpeg1::isDualPass (void)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmjpeg.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmjpeg.cpp	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmjpeg.cpp	2008-09-19 14:21:45 UTC (rev 4367)
@@ -88,10 +88,10 @@
   return 1;
 }
 
+int EncoderMjpeg::getRequirements (void) { return 0; }
 
 
 
-
 //______________________________
 uint8_t
 EncoderMjpeg::encode (uint32_t frame, ADMBitstream *out)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmjpeg.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmjpeg.h	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmjpeg.h	2008-09-19 14:21:45 UTC (rev 4367)
@@ -31,6 +31,7 @@
   uint8_t _swapped;
 public:
     EncoderMjpeg (COMPRES_PARAMS * conf);
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void)
   {
     return 0;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmpeg2enc.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmpeg2enc.cpp	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmpeg2enc.cpp	2008-09-19 14:21:45 UTC (rev 4367)
@@ -313,6 +313,7 @@
   return 1;
 }
 
+int EncoderMpeg2enc::getRequirements (void) { return 0; }
 
 uint8_t   EncoderMpeg2enc::isDualPass (void)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmpeg2enc.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmpeg2enc.h	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmpeg2enc.h	2008-09-19 14:21:45 UTC (rev 4367)
@@ -45,6 +45,7 @@
   public:
     EncoderMpeg2enc (MPEG2ENC_ID id, COMPRES_PARAMS * config);
     virtual ~ EncoderMpeg2enc ();	// can be called twice if needed ..
+	virtual int getRequirements (void);
     virtual uint8_t isDualPass (void);
     virtual uint8_t configure (AVDMGenericVideoStream * instream);
     virtual uint8_t encode (uint32_t frame, ADMBitstream *out);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encoder.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encoder.h	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encoder.h	2008-09-19 14:21:45 UTC (rev 4367)
@@ -79,6 +79,7 @@
     entries = NULL;
   };
   virtual ~ Encoder (void);
+  virtual int getRequirements (void) = 0;
   virtual uint8_t isDualPass (void) = 0;
   virtual uint8_t configure (AVDMGenericVideoStream * instream) = 0;
   virtual uint8_t encode (uint32_t frame, ADMBitstream * out) = 0;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp	2008-09-19 14:21:45 UTC (rev 4367)
@@ -166,8 +166,8 @@
   return 1;
 }
 
+int EncoderX264::getRequirements (void) { return 0; }
 
-
 uint8_t
 EncoderX264::isDualPass (void)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.h	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.h	2008-09-19 14:21:45 UTC (rev 4367)
@@ -46,6 +46,7 @@
 public:
     EncoderX264 (COMPRES_PARAMS * conf);
    ~EncoderX264 ();
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void);	// mjpeg is always monopass
   virtual uint8_t configure (AVDMGenericVideoStream * instream);
   virtual uint8_t encode (uint32_t frame, ADMBitstream *out);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_ency800.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_ency800.cpp	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_ency800.cpp	2008-09-19 14:21:45 UTC (rev 4367)
@@ -83,9 +83,9 @@
 }
 
 
+int EncoderY800::getRequirements (void) { return 0; }
 
 
-
 //______________________________
 uint8_t
 EncoderY800::encode (uint32_t frame, ADMBitstream *out)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_ency800.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_ency800.h	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_ency800.h	2008-09-19 14:21:45 UTC (rev 4367)
@@ -28,6 +28,7 @@
   ffmpegEncoderFFY800 * _codec;
 public:
     EncoderY800 (COMPRES_PARAMS * conf);
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void)
   {
     return 0;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encyv12.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encyv12.cpp	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encyv12.cpp	2008-09-19 14:21:45 UTC (rev 4367)
@@ -70,6 +70,8 @@
   return 1;
 }
 
+int EncoderYV12::getRequirements (void) { return 0; }
+
 //______________________________
 uint8_t
         EncoderYV12::encode (uint32_t frame, ADMBitstream *out)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encyv12.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encyv12.h	2008-09-19 00:42:32 UTC (rev 4366)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encyv12.h	2008-09-19 14:21:45 UTC (rev 4367)
@@ -29,6 +29,7 @@
 public:
   EncoderYV12 (void);
    ~EncoderYV12 ();		// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void)
   {
     return 0;



From gruntster at mail.berlios.de  Fri Sep 19 16:43:23 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Fri, 19 Sep 2008 16:43:23 +0200
Subject: [Avidemux-svn-commit] r4368 - in
	branches/avidemux_2.4_branch/avidemux: ADM_codecs ADM_encoder
Message-ID: <200809191443.m8JEhNkR031810@sheep.berlios.de>

Author: gruntster
Date: 2008-09-19 16:43:15 +0200 (Fri, 19 Sep 2008)
New Revision: 4368

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_codec.h
   branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmpeg.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmpeg.h
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encXvid4.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg1.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmjpeg.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_ency800.cpp
Log:
[encoder] set Xvid and x264 as requiring flushing after encoding due to B-frames. Also check requirements of libavcodec encoders for flushing.

Modified: branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_codec.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_codec.h	2008-09-19 14:21:45 UTC (rev 4367)
+++ branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_codec.h	2008-09-19 14:43:15 UTC (rev 4368)
@@ -26,6 +26,8 @@
 #define ADM_GMC_ON	2
 #define ADM_VOP_ON	4
 
+#define ADM_ENC_REQ_NULL_FLUSH	1
+
 /*
         Bitrate in configuration will always be in **kBITS**
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmpeg.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmpeg.cpp	2008-09-19 14:21:45 UTC (rev 4367)
+++ branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmpeg.cpp	2008-09-19 14:43:15 UTC (rev 4368)
@@ -47,6 +47,7 @@
 {\
 AVCodec *codec=avcodec_find_encoder(x);\
 if(!codec) {GUI_Alert(QT_TR_NOOP("Internal error opening codec"#x));ADM_assert(0);} \
+  capabilities = codec->capabilities & CODEC_CAP_DELAY ? ADM_ENC_REQ_NULL_FLUSH : 0; \
   res=avcodec_open(_context, codec); \
   if(res<0) {GUI_Alert(QT_TR_NOOP("Internal error with context for  codec"#x".\n Did you use too low / too high target for 2 pass ?"));return 0;} \
 }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmpeg.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmpeg.h	2008-09-19 14:21:45 UTC (rev 4367)
+++ branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmpeg.h	2008-09-19 14:43:15 UTC (rev 4368)
@@ -68,6 +68,8 @@
   PixelFormat _targetColorSpace;
 
 public:
+	int capabilities;
+
     uint8_t setConfig (FFcodecSetting * set);
   uint8_t setLogFile (const char *name);
   void encoderMT (void);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encXvid4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encXvid4.cpp	2008-09-19 14:21:45 UTC (rev 4367)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encXvid4.cpp	2008-09-19 14:43:15 UTC (rev 4368)
@@ -162,7 +162,7 @@
   return 1;
 }
 
-int EncoderXvid4::getRequirements (void) { return 0; }
+int EncoderXvid4::getRequirements (void) { return ADM_ENC_REQ_NULL_FLUSH; }
 
 uint8_t EncoderXvid4::isDualPass (void)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg.cpp	2008-09-19 14:21:45 UTC (rev 4367)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg.cpp	2008-09-19 14:43:15 UTC (rev 4368)
@@ -66,7 +66,7 @@
 
 }
 
-int EncoderFFMPEGHuff::getRequirements (void) { return 0; }
+int EncoderFFMPEGHuff::getRequirements (void) { return _codec->capabilities; }
 
 uint8_t
 EncoderFFMPEGHuff::hasExtraHeaderData (uint32_t * l, uint8_t ** data)
@@ -110,7 +110,7 @@
   _frametogo = 0;
 }
 
-int EncoderFFMPEGFFHuff::getRequirements (void) { return 0; }
+int EncoderFFMPEGFFHuff::getRequirements (void) { return _codec->capabilities; }
 
 uint8_t
 EncoderFFMPEGFFHuff::hasExtraHeaderData (uint32_t * l, uint8_t ** data)
@@ -157,7 +157,7 @@
 
 }
 
-int EncoderFFMPEGFFV1::getRequirements (void) { return 0; }
+int EncoderFFMPEGFFV1::getRequirements (void) { return _codec->capabilities; }
 
 uint8_t
 EncoderFFMPEGFFV1::hasExtraHeaderData (uint32_t * l, uint8_t ** data)
@@ -199,7 +199,7 @@
 
 }
 
-int EncodeFFMPEGSNow::getRequirements (void) { return 0; }
+int EncodeFFMPEGSNow::getRequirements (void) { return _codec->capabilities; }
 
 uint8_t
 EncodeFFMPEGSNow::hasExtraHeaderData (uint32_t * l, uint8_t ** data)
@@ -244,7 +244,7 @@
 
 }
 
-int EncoderFFMPEGDV::getRequirements (void) { return 0; }
+int EncoderFFMPEGDV::getRequirements (void) { return _codec->capabilities; }
 
 uint8_t
 EncoderFFMPEGDV::hasExtraHeaderData (uint32_t * l, uint8_t ** data)
@@ -294,7 +294,7 @@
 
 }
 
-int EncoderFFMPEGFLV1::getRequirements (void) { return 0; }
+int EncoderFFMPEGFLV1::getRequirements (void) { return _codec->capabilities; }
 
 uint8_t
 EncoderFFMPEGFLV1::hasExtraHeaderData (uint32_t * l, uint8_t ** data)
@@ -466,7 +466,7 @@
   return 1;
 }
 
-int EncoderFFMPEG::getRequirements (void) { return 0; }
+int EncoderFFMPEG::getRequirements (void) { return _codec->capabilities; }
 
 uint8_t EncoderFFMPEG::isDualPass (void)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg1.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg1.cpp	2008-09-19 14:21:45 UTC (rev 4367)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg1.cpp	2008-09-19 14:43:15 UTC (rev 4368)
@@ -327,7 +327,7 @@
   return 1;
 }
 
-int EncoderFFMPEGMpeg1::getRequirements (void) { return 0; }
+int EncoderFFMPEGMpeg1::getRequirements (void) { return _codec->capabilities; }
 
 uint8_t
 EncoderFFMPEGMpeg1::isDualPass (void)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmjpeg.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmjpeg.cpp	2008-09-19 14:21:45 UTC (rev 4367)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encmjpeg.cpp	2008-09-19 14:43:15 UTC (rev 4368)
@@ -88,7 +88,7 @@
   return 1;
 }
 
-int EncoderMjpeg::getRequirements (void) { return 0; }
+int EncoderMjpeg::getRequirements (void) { return _codec->capabilities; }
 
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp	2008-09-19 14:21:45 UTC (rev 4367)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp	2008-09-19 14:43:15 UTC (rev 4368)
@@ -166,7 +166,7 @@
   return 1;
 }
 
-int EncoderX264::getRequirements (void) { return 0; }
+int EncoderX264::getRequirements (void) { return ADM_ENC_REQ_NULL_FLUSH; }
 
 uint8_t
 EncoderX264::isDualPass (void)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_ency800.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_ency800.cpp	2008-09-19 14:21:45 UTC (rev 4367)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_ency800.cpp	2008-09-19 14:43:15 UTC (rev 4368)
@@ -83,7 +83,7 @@
 }
 
 
-int EncoderY800::getRequirements (void) { return 0; }
+int EncoderY800::getRequirements (void) { return _codec->capabilities; }
 
 
 //______________________________



From gruntster at mail.berlios.de  Fri Sep 19 17:22:04 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Fri, 19 Sep 2008 17:22:04 +0200
Subject: [Avidemux-svn-commit] r4369 - in
	branches/avidemux_2.4_branch/avidemux: ADM_codecs ADM_encoder
Message-ID: <200809191522.m8JFM4WD002715@sheep.berlios.de>

Author: gruntster
Date: 2008-09-19 17:21:58 +0200 (Fri, 19 Sep 2008)
New Revision: 4369

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp
Log:
[x264] flushing encoder with duplicate frames doesn't work correctly; x264 wants a null frame

Modified: branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264.cpp	2008-09-19 14:43:15 UTC (rev 4368)
+++ branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264.cpp	2008-09-19 15:21:58 UTC (rev 4369)
@@ -246,17 +246,20 @@
   PICS->img.i_csp = X264_CSP_I420;
   PICS->img.i_plane = 3;
 
-  PICS->img.plane[0] = in->data;	// Y
-  PICS->img.plane[2] = in->data + _w * _h;	// u
-  PICS->img.plane[1] = in->data + ((_w * _h * 5) >> 2);	// v
-  PICS->img.i_stride[0] = _w;
-  PICS->img.i_stride[1] = _w >> 1;
-  PICS->img.i_stride[2] = _w >> 1;
+  if (in)
+  {
+	  PICS->img.plane[0] = in->data;	// Y
+	  PICS->img.plane[2] = in->data + _w * _h;	// u
+	  PICS->img.plane[1] = in->data + ((_w * _h * 5) >> 2);	// v
+	  PICS->img.i_stride[0] = _w;
+	  PICS->img.i_stride[1] = _w >> 1;
+	  PICS->img.i_stride[2] = _w >> 1;
 
-  PICS->i_type = X264_TYPE_AUTO;
-  PICS->i_pts = curFrame;
+	  PICS->i_type = X264_TYPE_AUTO;
+	  PICS->i_pts = curFrame;
+  }
 
-  if (x264_encoder_encode (HANDLE, &nal, &nbNal, PICS, &pic_out) < 0)
+  if (x264_encoder_encode (HANDLE, &nal, &nbNal, in ? PICS : NULL, &pic_out) < 0)
   {
 	  printf ("[x264] Error encoding\n");
 	  return 0;
@@ -265,7 +268,6 @@
 
   if (nbNal == 0)
   {
-      printf("[X264] No Nal for frame %u (delay ?)\n",curFrame);
       out->len=0;
 	  return 1;
   }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp	2008-09-19 14:43:15 UTC (rev 4368)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encx264.cpp	2008-09-19 15:21:58 UTC (rev 4369)
@@ -17,6 +17,9 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
+
+#define __STDC_LIMIT_MACROS
+
 #include "config.h"
 #ifdef USE_X264
 
@@ -200,10 +203,13 @@
 
 	uint32_t l, f;
 
-	if (!_in->getFrameNumberNoAlloc(frame, &l, _vbuffer, &f))
+	if (frame != UINT32_MAX)
 	{
-		printf ("\n[x264] Error: Cannot read incoming frame!");
-		return 0;
+		if (!_in->getFrameNumberNoAlloc(frame, &l, _vbuffer, &f))
+		{
+			printf ("\n[x264] Error: Cannot read incoming frame!");
+			return 0;
+		}
 	}
 
 	switch (_state)
@@ -212,7 +218,7 @@
 		case enc_CQ:
 		case enc_Pass1:
 		case enc_Pass2:
-			return _codec->encode(_vbuffer, out);
+			return _codec->encode(frame == UINT32_MAX ? NULL : _vbuffer, out);
 
 			break;
 		default:



From gruntster at mail.berlios.de  Fri Sep 19 17:56:09 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Fri, 19 Sep 2008 17:56:09 +0200
Subject: [Avidemux-svn-commit] r4370 -
	branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi
Message-ID: <200809191556.m8JFu90t005849@sheep.berlios.de>

Author: gruntster
Date: 2008-09-19 17:56:00 +0200 (Fri, 19 Sep 2008)
New Revision: 4370

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.h
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisavecopy.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisavecopy_pack.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisavecopy_unpack.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_savecopy.h
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.h
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_savesmart.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_savesmart.hxx
Log:
[avi] remove prefilling since it doesn't cater for empty frames that occur mid-stream (e.g. Xvid with B-frames). Empty frames are only treated as delayed if the flush flag is returned by encoder.

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp	2008-09-19 15:21:58 UTC (rev 4369)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp	2008-09-19 15:56:00 UTC (rev 4370)
@@ -135,6 +135,7 @@
  _pq=NULL;
  memset(&_context,0,sizeof(_context));
  _context.audioDone=1;
+ _encode=NULL;
 }
 
 GenericAviSave::~GenericAviSave ()
@@ -209,20 +210,30 @@
   //__________________________________
   //   now go to main loop.....
   //__________________________________
+  int frameDelay = 0;
+  int videoSize;
+
   for (uint32_t cf = 0; cf < frametogo; cf++) 
-    {
-			
-			
-			
-      			if (guiUpdate (cf, frametogo))
-					goto abortme;
-      			//   printf("\n %lu / %lu",cf,frametogo);
-      			writeVideoChunk (cf);
-      			writeAudioChunk (cf);
-			//writter->sync();
-     
-     
-    };				// end for
+  {
+	  if (guiUpdate(cf, frametogo))
+		  goto abortme;
+
+	  for (;;)
+	  {
+		  videoSize = writeVideoChunk(cf + frameDelay);
+
+		  if (videoSize == 0 && _encode && (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH))
+		  {
+			  printf("skipping frame: %u size: %i\n", cf + frameDelay, videoSize);
+			  frameDelay++;
+		  }
+		  else
+			  break;
+	  }
+
+	  writeAudioChunk(cf);
+  }
+
     ret=1;
 abortme:
   guiStop ();

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.h	2008-09-19 15:21:58 UTC (rev 4369)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.h	2008-09-19 15:56:00 UTC (rev 4370)
@@ -23,11 +23,13 @@
  #include "ADM_image.h"
  #include "ADM_fileio.h"
 #include "ADM_toolkit/ADM_audioQueue.h"
+#include "ADM_encoder/adm_encoder.h"
 
  class GenericAviSave
  {
      protected :
                 ADMFile                 *_file;
+				Encoder 	*_encode;
                 
      		uint32_t		_audioTarget;
 		uint32_t		_audioCurrent;
@@ -61,7 +63,7 @@
                     virtual uint8_t setupAudio( void);
                     virtual uint8_t setupVideo( char *name )=0;
                     virtual uint8_t writeAudioChunk(uint32_t  f);
-                    virtual uint8_t writeVideoChunk(uint32_t frame )=0;
+                    virtual int writeVideoChunk(uint32_t frame )=0;
                     virtual void guiStart(void);
                     virtual void guiStop(void);
                     	    void guiSetPhasis(const char *str);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisavecopy.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisavecopy.cpp	2008-09-19 15:21:58 UTC (rev 4369)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisavecopy.cpp	2008-09-19 15:56:00 UTC (rev 4370)
@@ -122,8 +122,7 @@
 // Basically ask a video frame and send it to writter
 // If it contains b frame and frames have been re-ordered
 // reorder them back ...
-uint8_t
-GenericAviSaveCopy::writeVideoChunk (uint32_t frame)
+int GenericAviSaveCopy::writeVideoChunk (uint32_t frame)
 {
   
   uint8_t    ret1;
@@ -148,7 +147,7 @@
       }
 
   if (!ret1)
-    return 0;
+    return -1;
 
     // check for split
      // check for auto split
@@ -171,9 +170,11 @@
   if(_videoFlag==AVI_KEY_FRAME)
           newFile();
   encoding_gui->setFrame(frame,img.dataLength,0,frametogo);
-  return writter->saveVideoFrame (img.dataLength, img.flags, img.data);
 
-
+  if (writter->saveVideoFrame (img.dataLength, img.flags, img.data))
+	  return img.dataLength;
+  else
+	  return -1;
 }
 /**
       \fn newFile

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisavecopy_pack.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisavecopy_pack.cpp	2008-09-19 15:21:58 UTC (rev 4369)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisavecopy_pack.cpp	2008-09-19 15:56:00 UTC (rev 4370)
@@ -192,7 +192,7 @@
       \brief init for unpacker code
 
 */
-uint8_t GenericAviSaveCopyPack::writeVideoChunk (uint32_t frame)
+int GenericAviSaveCopyPack::writeVideoChunk (uint32_t frame)
 {
   
   uint8_t    ret1;
@@ -236,7 +236,7 @@
                  
                 if( !prefetch(curToggle^1,frame+1))
                     {
-                        return 0; 
+                        return -1; 
                     }
                 // Curtoggle holds the current frame, curToggle ^1 hold the next frame
                 if(current->flags!=1 && current->flags!=AVI_B_FRAME && next->flags==AVI_B_FRAME)
@@ -277,15 +277,18 @@
       }
 
   if (!ret1)
-    return 0;
+    return -1;
 
      if(_videoFlag==AVI_KEY_FRAME)
           newFile();
 
   aprintf("Writting frame %u size %u flags %x\n",frame,img.dataLength,_videoFlag);  
   encoding_gui->setFrame(frame,img.dataLength,0,frametogo);
-  return writter->saveVideoFrame (img.dataLength, img.flags, img.data);
-
+  
+  if (writter->saveVideoFrame (img.dataLength, img.flags, img.data))
+	  return img.dataLength;
+  else
+	  return -1;
 }
 
 //_____________________________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisavecopy_unpack.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisavecopy_unpack.cpp	2008-09-19 15:21:58 UTC (rev 4369)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisavecopy_unpack.cpp	2008-09-19 15:56:00 UTC (rev 4370)
@@ -130,7 +130,7 @@
       \brief init for unpacker code
 
 */
-uint8_t GenericAviSaveCopyUnpack::writeVideoChunk (uint32_t frame)
+int GenericAviSaveCopyUnpack::writeVideoChunk (uint32_t frame)
 {
   
   uint8_t    ret1;
@@ -159,15 +159,19 @@
       }
 
   if (!ret1)
-    return 0;
+    return -1;
 
       if(_videoFlag==AVI_KEY_FRAME)
           newFile();
 
   
   encoding_gui->setFrame(frame,img.dataLength,0,frametogo);
-  return writter->saveVideoFrame (img.dataLength, img.flags, img.data);
 
+  if (writter->saveVideoFrame (img.dataLength, img.flags, img.data))
+	  return img.dataLength;
+  else
+	  return -1;
+
 }
 
 //_____________________________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_savecopy.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_savecopy.h	2008-09-19 15:21:58 UTC (rev 4369)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_savecopy.h	2008-09-19 15:56:00 UTC (rev 4370)
@@ -22,7 +22,7 @@
      protected :
 		                                EncoderCopy          *copy;	
 		          virtual uint8_t 	setupVideo( char *name  );
-                          virtual uint8_t 	writeVideoChunk(uint32_t frame );
+                          virtual int 	writeVideoChunk(uint32_t frame );
                                   uint8_t       newFile(void);
 
      public:
@@ -54,7 +54,7 @@
  {
      protected :
                           virtual uint8_t 	setupVideo( char *name  );
-                          virtual uint8_t 	writeVideoChunk(uint32_t frame );
+                          virtual int 	writeVideoChunk(uint32_t frame );
      public:
   
  };
@@ -66,7 +66,7 @@
                           uint32_t              curToggle;
                           uint32_t              time_inc;
                           virtual uint8_t 	setupVideo( char *name  );
-                          virtual uint8_t 	writeVideoChunk(uint32_t frame );
+                          virtual int 	writeVideoChunk(uint32_t frame );
                                   uint8_t       prefetch(uint32_t buffer,uint32_t frame);
      public:
                           virtual	~GenericAviSaveCopyPack();	

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp	2008-09-19 15:21:58 UTC (rev 4369)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp	2008-09-19 15:56:00 UTC (rev 4370)
@@ -18,6 +18,8 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
+#define __STDC_LIMIT_MACROS
+
 #include <stdio.h>
 #include <stdlib.h>
 #include <math.h>
@@ -56,15 +58,12 @@
 {
 	TwoPassLogFile=NULL;
 	_incoming=NULL;
-	_encode=NULL;
 	_videoProcess=1;
-	_prefill=0;
 };
 
 uint8_t
 GenericAviSaveProcess::setupVideo (char *name)
 {
-	_notnull=0;
 	_incoming = getLastVideoFilter (frameStart,frameEnd-frameStart);
  	frametogo=_incoming->getInfo()->nb_frames;
 	encoding_gui->setFps(_incoming->getInfo()->fps1000);
@@ -117,7 +116,7 @@
       uint32_t len, flag;
       FILE *tmp;
 	uint8_t reuse=0;
-	int prefill = 0, r;
+	int r, frameDelay = 0;
 
  	aprintf("\n** Dual pass encoding**\n");
 
@@ -145,53 +144,47 @@
         bitstream.bufferSize = _incoming->getInfo()->width * _incoming->getInfo()->height * 3;
         bitstream.data=buffer;
 
-preFilling:
-		bitstream.cleanup(0);
-
-		if(!_encode->encode(prefill, &bitstream))
+		for (uint32_t cf = 0; cf < frametogo; cf++)
 		{
-			printf("AVI: First frame error\n");
-			GUI_Error_HIG(QT_TR_NOOP("Error while encoding"), NULL);
-			return 0;
-		}
+			if (guiUpdate (cf, frametogo))
+			{
+abt:
+				GUI_Error_HIG (QT_TR_NOOP("Aborting"), NULL);
+				delete[] buffer;
+				return -1;
+			}
 
-		if (!bitstream.len)
-		{
-			prefill++;
-			goto preFilling;
-		}
+			for (;;)
+			{
+				bitstream.cleanup(cf);
 
-		printf("Prefill: %u\n", prefill);
+				if (cf + frameDelay >= frametogo)
+				{
+					if (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH)
+						r = _encode->encode(UINT32_MAX, &bitstream);
+					else
+						r = 0;
+				}
+				else
+					r = _encode->encode(cf + frameDelay, &bitstream);
 
-      //__________________________________
-      //   now go to main loop.....
-      //__________________________________
-        for (uint32_t cf = 1; cf < frametogo; cf++)
-        {
-          if (guiUpdate (cf, frametogo))
-            {
-            abt:
-                GUI_Error_HIG (QT_TR_NOOP("Aborting"), NULL);
-              delete[]buffer;
-              return 0;
-            }
-            
-            bitstream.cleanup(cf);
+				if (!r)
+				{
+					printf("Encoding of frame %lu failed!\n", cf);
+					goto abt;
+				}
 
-			if (!prefill || cf + prefill < frametogo)
-				r = _encode->encode(prefill + cf, &bitstream);
-			else
-				r = _encode->encode(frametogo - 1, &bitstream);
-
-			if (!r)
-			{
-				printf("Encoding of frame %lu failed!\n", cf);
-				goto abt;
+				if (bitstream.len == 0 && (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH))
+				{
+					printf("skipping frame: %u size: %i\n", cf + frameDelay, bitstream.len);
+					frameDelay++;
+				}
+				else
+					break;
 			}
 
-           encoding_gui->setFrame(cf,bitstream.len,bitstream.out_quantizer,frametogo);
-    
-        }
+			encoding_gui->setFrame(cf,bitstream.len,bitstream.out_quantizer,frametogo);
+		}
 
 	encoding_gui->reset();
       	delete[]buffer;	
@@ -261,74 +254,62 @@
 }
 
 // copy mode
-// Basically ask a video frame and send it to writter
-uint8_t
-GenericAviSaveProcess::writeVideoChunk (uint32_t frame)
+// Basically ask a video frame and send it to writer
+int GenericAviSaveProcess::writeVideoChunk(uint32_t frame)
 {
-  uint8_t    	r;
-  // CBR or CQ
-  if (frame == 0)
-  {
-    encoding_gui->setCodec(_encode->getDisplayName())  ;
-  if (!_encode->isDualPass ())
-  {
-                          guiSetPhasis (QT_TR_NOOP("Encoding"));
-        }
-  else
-          {
-                          guiSetPhasis (QT_TR_NOOP("2nd Pass"));
-        }
-  }
-  // first read
+	uint8_t r = 0;
+	// CBR or CQ
+	if (frame == 0)
+	{
+		encoding_gui->setCodec(_encode->getDisplayName());
 
-preFilling:
-  bitstream.cleanup(0);
+		if (!_encode->isDualPass())
+			guiSetPhasis (QT_TR_NOOP("Encoding"));
+		else
+			guiSetPhasis (QT_TR_NOOP("2nd Pass"));
+	}
 
-  if (!_prefill || frame + _prefill < frametogo) 
-	  r = _encode->encode(_prefill + frame, &bitstream);
-  else
-	  r = _encode->encode(frametogo - 1, &bitstream);
+	bitstream.cleanup(frame);
 
-  if (!r)
-	  return 0;
+	if (frame >= frametogo)
+	{
+		if (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH)
+			r = _encode->encode(UINT32_MAX, &bitstream);
+	}
+	else
+		r = _encode->encode(frame, &bitstream);
 
-  if (!bitstream.len && frame == 0)
-  {
-	  _prefill++;
-	  goto preFilling;
-  }
-  else if (frame == 0)
-	  printf("Prefill: %u\n", _prefill);
+	if (!r)
+		return -1;
 
-  _videoFlag=bitstream.flags;
+	if (bitstream.len > 0)
+	{
+		_videoFlag=bitstream.flags;
 
-  // check for split
-     // check for auto split
-      // if so, we re-write the last I frame
-      if(muxSize)
-      {
-              // we overshot the limit and it is a key frame
-              // start a new chunk
-              if(handleMuxSize() && (_videoFlag & AVI_KEY_FRAME))
-              {		
-                      uint8_t *data;
-                      uint32_t dataLen=0;
+		// check for split
+		// check for auto split
+		// if so, we re-write the last I frame
+		if (muxSize)
+		{
+			// we overshot the limit and it is a key frame
+			// start a new chunk
+			if (handleMuxSize() && (_videoFlag & AVI_KEY_FRAME))
+			{
+				uint8_t *data;
+				uint32_t dataLen = 0;
 
-                      _encode->hasExtraHeaderData( &dataLen,&data);	   
-                      if(!reigniteChunk(dataLen,data)) return 0;
-              }
-        }
-        encoding_gui->setFrame(frame,bitstream.len,bitstream.out_quantizer,frametogo);	
-        // If we have several null B frames dont write them
-        if(bitstream.len) _notnull=1;
-	else	if( !_notnull)
-	{
-		printf("Frame : %lu dropped\n",frame);
-	 	return 1;			 
-	 }
-         return writter->saveVideoFrame (bitstream.len, _videoFlag, vbuffer);
+				_encode->hasExtraHeaderData(&dataLen,&data);
 
-}
+				if (!reigniteChunk(dataLen, data))
+					return -1;
+			}
+		}
 
+		encoding_gui->setFrame(frame,bitstream.len,bitstream.out_quantizer,frametogo);	
 
-// EOF
+		if (!writter->saveVideoFrame (bitstream.len, _videoFlag, vbuffer))
+			return -1;
+	}
+
+	return bitstream.len;
+}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.h	2008-09-19 15:21:58 UTC (rev 4369)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.h	2008-09-19 15:56:00 UTC (rev 4370)
@@ -23,15 +23,11 @@
  class GenericAviSaveProcess : public   GenericAviSave
  {
      protected :
-					    
-			Encoder 	*_encode;
-			uint8_t		_notnull;
-			int _prefill;
-                       	char 		*TwoPassLogFile;
+			           	char 		*TwoPassLogFile;
                         ADMBitstream    bitstream;
 
 			virtual uint8_t	setupVideo( char *name  );
-			virtual uint8_t	writeVideoChunk(uint32_t frame );
+			virtual int	writeVideoChunk(uint32_t frame );
                          
      public:
      					GenericAviSaveProcess( void ) ;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_savesmart.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_savesmart.cpp	2008-09-19 15:21:58 UTC (rev 4369)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_savesmart.cpp	2008-09-19 15:56:00 UTC (rev 4370)
@@ -138,8 +138,7 @@
 
 // copy mode
 // Basically ask a video frame and send it to writter
-uint8_t
-GenericAviSaveSmart::writeVideoChunk (uint32_t frame)
+int GenericAviSaveSmart::writeVideoChunk (uint32_t frame)
 {
   uint32_t    len;
   uint8_t     ret1, seq;
@@ -152,7 +151,7 @@
     return writeVideoChunk_copy(frame);
 }
 //_________________________________________________________
-uint8_t GenericAviSaveSmart::writeVideoChunk_recode (uint32_t frame)
+int GenericAviSaveSmart::writeVideoChunk_recode (uint32_t frame)
 {
 uint32_t len;
 ADMBitstream bitstream(MAXIMUM_SIZE * MAXIMUM_SIZE * 3);
@@ -171,19 +170,23 @@
 	// Else encode it ....
 	//1-Read it
 	if (! video_body->getUncompressedFrame (frame, aImage))
-		return 0;
+		return -1;
 	// 2-encode it
         bitstream.data=vbuffer;
         bitstream.cleanup(frame);
         if (!_encoder->encode (aImage, &bitstream))//vbuffer, &len, &_videoFlag))
-		return 0;
+		return -1;
         _videoFlag=bitstream.flags;
 	// 3-write it
         encoding_gui->setFrame(frame-frameStart,bitstream.len,bitstream.out_quantizer,frametogo);
-	return writter->saveVideoFrame (bitstream.len, _videoFlag, vbuffer);
+	if (writter->saveVideoFrame (bitstream.len, _videoFlag, vbuffer))
+		return bitstream.len;
+	else
+		return -1;
 }
+
 //_________________________________________________________
-uint8_t GenericAviSaveSmart::writeVideoChunk_copy (uint32_t frame,uint32_t first)
+int GenericAviSaveSmart::writeVideoChunk_copy (uint32_t frame,uint32_t first)
 {
   // Check flags and seq
   uint32_t myseq=0;
@@ -207,7 +210,7 @@
 
    			video_body->getExtraHeaderData(&extraLen,&extraData);
 					   
-			if(!reigniteChunk(extraLen,extraData)) return 0;
+			if(!reigniteChunk(extraLen,extraData)) return -1;
 		}
 	}
   
@@ -232,7 +235,7 @@
 			if(!seekNextRef(frame,&nextip))
 			{
 				aprintf("Smart:B Frame without reference frame\n");
-				return 1;
+				return 0;
 			}
 			// check if that the frame -1,....,next forward ref are all sequential
 			if(!video_body->sequentialFramesB(frame-1,nextip)&&!(_videoFlag &AVI_KEY_FRAME )) 
@@ -246,20 +249,27 @@
 			aprintf("Smart : using %lu as next\n",nextip);
 			// Seems ok, write it and mark it
 			if (! video_body->getFrameNoAlloc (nextip,&img,&seq))// vbuffer, &len,		      &_videoFlag, &seq))
-    				return 0;
+    				return -1;
                         _videoFlag=img.flags;
 			_nextip=nextip;
                         encoding_gui->setFrame(frame-frameStart,img.dataLength,0,frametogo);
-			return writter->saveVideoFrame (img.dataLength, img.flags, img.data);
+
+						if (writter->saveVideoFrame (img.dataLength, img.flags, img.data))
+							return img.dataLength;
+						else
+							return -1;
 		}
 		else
 		{	// Nth B frame
 			aprintf("Smart:Next B frame\n");
 			if (!video_body->getFrameNoAlloc (frame-1, &img, &seq))
-    				return 0;
+    				return -1;
                          _videoFlag=img.flags;
                         encoding_gui->setFrame(frame-frameStart,img.dataLength,0,frametogo);
-			return writter->saveVideoFrame (img.dataLength, img.flags, img.data);
+			if (writter->saveVideoFrame (img.dataLength, img.flags, img.data))
+				return img.dataLength;
+			else
+				return -1;
 		}
 	}
 	// Not a bframe
@@ -269,10 +279,13 @@
 		// Send the last B frame instead
 		aprintf("Smart finishing B frame %lu\n",frame-1);
 		if (! video_body->getFrameNoAlloc(frame-1, &img, &seq))// (frame-1, vbuffer, &len,    &_videoFlag, &seq))
-    			return 0;
+    			return -1;
                  _videoFlag=img.flags;
                 encoding_gui->setFrame(frame-frameStart,img.dataLength,0,frametogo);
-		return writter->saveVideoFrame  (img.dataLength, img.flags, img.data);;
+		if (writter->saveVideoFrame  (img.dataLength, img.flags, img.data))
+			return img.dataLength;
+		else
+			return -1;
 	
 	}
 	// Regular frame
@@ -312,11 +325,18 @@
 				memcpy(buffer+extraLen,img.data,img.dataLength);
 				r=writter->saveVideoFrame (img.dataLength+extraLen, img.flags, buffer);;
 				delete [] buffer;
-				return r;
-				
+
+				if (r)
+					return img.dataLength + extraLen;
+				else
+					return -1;				
 			}
 	}
-	return writter->saveVideoFrame (img.dataLength, img.flags, img.data);;
+	if (writter->saveVideoFrame (img.dataLength, img.flags, img.data))
+		return img.dataLength;
+	else
+		return -1;
+
 }
 //_________________________________________________________
 uint8_t GenericAviSaveSmart::seekNextRef(uint32_t frame,uint32_t *nextip)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_savesmart.hxx
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_savesmart.hxx	2008-09-19 15:21:58 UTC (rev 4369)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_savesmart.hxx	2008-09-19 15:56:00 UTC (rev 4370)
@@ -30,9 +30,9 @@
        				uint32_t 	encoderReady;
               			uint32_t 	compEngaged;
 	virtual 		uint8_t 	setupVideo( char *name  );
- 	virtual 		uint8_t 	writeVideoChunk(uint32_t frame );
-				uint8_t		 writeVideoChunk_recode (uint32_t frame);
-				uint8_t		 writeVideoChunk_copy (uint32_t frame,uint32_t first=0);
+ 	virtual 		int 	writeVideoChunk(uint32_t frame );
+				int		 writeVideoChunk_recode (uint32_t frame);
+				int		 writeVideoChunk_copy (uint32_t frame,uint32_t first=0);
               			encoder 	*_encoder;
               			uint8_t 	_cqReenc          ;
 				



From gruntster at mail.berlios.de  Fri Sep 19 18:03:57 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Fri, 19 Sep 2008 18:03:57 +0200
Subject: [Avidemux-svn-commit] r4371 - in
	branches/avidemux_2.4_branch/avidemux: ADM_codecs ADM_encoder
Message-ID: <200809191603.m8JG3v0F006706@sheep.berlios.de>

Author: gruntster
Date: 2008-09-19 18:03:49 +0200 (Fri, 19 Sep 2008)
New Revision: 4371

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_xvid4.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encXvid4.cpp
Log:
[xvid] support flushing using null frames

Modified: branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_xvid4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_xvid4.cpp	2008-09-19 15:56:00 UTC (rev 4370)
+++ branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_xvid4.cpp	2008-09-19 16:03:49 UTC (rev 4371)
@@ -86,30 +86,27 @@
 
   return 0;
 }
+
 uint8_t xvid4Encoder::encode(ADMImage * in,ADMBitstream * out)
 {
-    int  ret=0;
     /* Encode the frame */
     xvid_enc_frame.bitstream = out->data;
-    preAmble (in->data);
-    ret = xvid_encore (_handle, XVID_ENC_ENCODE, &xvid_enc_frame,
-                       &xvid_enc_stats);
+	preAmble (in ? in->data : NULL);
+
+    int ret = xvid_encore (_handle, XVID_ENC_ENCODE, &xvid_enc_frame, &xvid_enc_stats);
+
     if (ret < 0)
     {
         printf ("[xvid] Error calling xvid4 %d\n", ret);
         return 0;
+    }
 
-    }
     postAmble (out);
+    out->len = ret;
 
-    out->len = ret;
-    if (!ret)
-        printf ("[xvid] Skipped\n");
     return 1;
-
 }
 
-
 void xvid4_init (void);
 /*
 	System wide init, do it once for all
@@ -287,9 +284,6 @@
   xvid_enc_frame.version = XVID_VERSION;
   xvid_enc_stats.version = XVID_VERSION;
 
-  /* Bind output buffer */
-
-  xvid_enc_frame.length = 0;
   if (_param.mpegQuantizer || _param.useCustomIntra || _param.useCustomInter)
     xvid_enc_frame.vol_flags |= XVID_VOL_MPEGQUANT;
   if (_param.interlaced)
@@ -368,27 +362,37 @@
     }
 
   xvid_enc_frame.bframe_threshold = _param.bframe_threshold;
-
-  xvid_enc_frame.input.csp = XVID_CSP_YV12;
-  xvid_enc_frame.input.stride[0] = _w;
-  xvid_enc_frame.input.stride[1] = _w >> 1;
-  xvid_enc_frame.input.stride[2] = _w >> 1;
   xvid_enc_frame.type = XVID_TYPE_AUTO;
 
+  if (in)
+  {
+	  xvid_enc_frame.length = 0;
+	  xvid_enc_frame.input.csp = XVID_CSP_YV12;
+	  xvid_enc_frame.input.stride[0] = _w;
+	  xvid_enc_frame.input.stride[1] = _w >> 1;
+	  xvid_enc_frame.input.stride[2] = _w >> 1;
 
-  /* Set up motion estimation flags */
-  xvid_enc_frame.input.plane[0] = in;
-  xvid_enc_frame.input.plane[1] = in + (_w * _h);
-  xvid_enc_frame.input.plane[2] = in + ((_w * _h * 5) >> 2);
+	  /* Set up motion estimation flags */
+	  xvid_enc_frame.input.plane[0] = in;
+	  xvid_enc_frame.input.plane[1] = in + (_w * _h);
+	  xvid_enc_frame.input.plane[2] = in + ((_w * _h * 5) >> 2);
 
-  xvid_enc_frame.par_width = _param.par_width;
-  xvid_enc_frame.par_height = _param.par_height;
-  //printf("Using AR : %u x %u\n",xvid_enc_frame.par_width,xvid_enc_frame.par_height );
-  if (xvid_enc_frame.par_width != xvid_enc_frame.par_height)
-      xvid_enc_frame.par = XVID_PAR_EXT;
+	  xvid_enc_frame.par_width = _param.par_width;
+	  xvid_enc_frame.par_height = _param.par_height;
+
+	  if (xvid_enc_frame.par_width != xvid_enc_frame.par_height)
+		  xvid_enc_frame.par = XVID_PAR_EXT;
+	  else
+		  xvid_enc_frame.par = XVID_PAR_11_VGA;
+  }
   else
-      xvid_enc_frame.par = XVID_PAR_11_VGA;
+  {
+	  xvid_enc_frame.length = -1;
+	  xvid_enc_frame.input.csp = XVID_CSP_NULL;
+  }
 
+  //printf("Using AR : %u x %u\n",xvid_enc_frame.par_width,xvid_enc_frame.par_height );
+
   /* Custome matrices */
   if(_param.useCustomIntra)
   {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encXvid4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encXvid4.cpp	2008-09-19 15:56:00 UTC (rev 4370)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encXvid4.cpp	2008-09-19 16:03:49 UTC (rev 4371)
@@ -15,8 +15,11 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include <config.h>
 
+#define __STDC_LIMIT_MACROS
+
+#include "config.h"
+
 #include <stdio.h>
 #include <stdlib.h>
 #include <math.h>
@@ -31,7 +34,7 @@
 #include "fourcc.h"
 #include "avi_vars.h"
 #include "ADM_toolkit/toolkit.hxx"
-#include <ADM_assert.h>
+#include "ADM_assert.h"
 
 #include "ADM_encoder/ADM_vidEncode.hxx"
 
@@ -187,53 +190,61 @@
 uint8_t
   EncoderXvid4::encode (uint32_t frame, ADMBitstream *out)
 {
-  uint32_t l, f, q;
-  uint8_t r;
-  //ENC_RESULT enc;
+  uint32_t l, f;
 
   ADM_assert (_codec);
   ADM_assert (_in);
-  if (!_in->getFrameNumberNoAlloc (frame, &l, _vbuffer, &f))
-    {
-      printf ("[xvid] Error: Cannot read incoming frame!\n");
-      return 0;
-    }
 
+  if (frame != UINT32_MAX)
+  {
+	  if (!_in->getFrameNumberNoAlloc (frame, &l, _vbuffer, &f))
+	  {
+		  printf ("[xvid] Error: Cannot read incoming frame!\n");
+		  return 0;
+	  }
+  }
+
   switch (_state)
     {
     case enc_Same:
-      
-      out->flags=0;
-      if (frame < (encparam.bframes + 1))
 	{
-	  out->flags = AVI_KEY_FRAME;
-	  printf ("[xvid] Forcing keyframe for B frame\n");
+		if (frame != UINT32_MAX)
+		{
+			out->flags = 0;
+
+			if (frame < (encparam.bframes + 1))
+			{
+				out->flags = AVI_KEY_FRAME;
+				printf ("[xvid] Forcing keyframe for B frame\n");
+			}
+
+			int q = _vbuffer->_Qp;
+
+			if (q < 2 || q > 31)
+			{
+				printf ("[xvid] Out of bound incoming q: %d\n", q);
+
+				if (q < 2)
+					q = 2;
+				if (q > 31)
+					q = 31;
+			}
+
+			out->in_quantizer = q;
+		}
 	}
-      q = _vbuffer->_Qp;
-      if (q < 2 || q > 31)
-	{
-	  printf ("[xvid] Out of bound incoming q: %d\n", q);
-	  if (q < 2)
-	    q = 2;
-	  if (q > 31)
-	    q = 31;
-	}
-        out->in_quantizer =q;
-
     case enc_CBR:
     case enc_CQ:
     case enc_Pass1:
     case enc_Pass2:
-      r = _codec->encode (_vbuffer, out);
-      return r;
+		return _codec->encode (frame == UINT32_MAX ? NULL : _vbuffer, out);
       break;
 
     default:
       ADM_assert (0);
     }
 
-  return 1;
-
+  return 0;
 }
 
 //_______________________________



From gruntster at mail.berlios.de  Fri Sep 19 18:39:57 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Fri, 19 Sep 2008 18:39:57 +0200
Subject: [Avidemux-svn-commit] r4372 - in
	branches/avidemux_2.4_branch/avidemux: ADM_codecs ADM_encoder
Message-ID: <200809191639.m8JGdvqd022622@sheep.berlios.de>

Author: gruntster
Date: 2008-09-19 18:39:50 +0200 (Fri, 19 Sep 2008)
New Revision: 4372

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmpeg.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg.cpp
Log:
[libavcodec] support flushing using null frames

Modified: branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmpeg.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmpeg.cpp	2008-09-19 16:03:49 UTC (rev 4371)
+++ branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_ffmpeg.cpp	2008-09-19 16:39:50 UTC (rev 4372)
@@ -116,7 +116,7 @@
 {
     int32_t sz = 0;
     ADM_assert(out->bufferSize);
-    encodePreamble (in->data);
+	encodePreamble (in ? in->data : NULL);
     if ((sz = avcodec_encode_video (_context, out->data, out->bufferSize, &_frame)) < 0)
         return 0;
     postAmble(out,sz);
@@ -146,28 +146,32 @@
   _frame.key_frame = 0;
   _frame.pict_type = 0;
 
-  switch(_targetColorSpace)
+  if (in)
   {
-    case PIX_FMT_YUV420P:
-        _frame.linesize[0] = _w;
-        _frame.linesize[1] = _w >> 1;
-        _frame.linesize[2] = _w >> 1;
-        _frame.data[0] = in;
-        _frame.data[2] = in + _w * _h;
-        _frame.data[1] = in + _w * _h + ((_w * _h) >> 2);
-        break;
- case PIX_FMT_YUV422P:
-        _frame.linesize[0] = _w;
-        _frame.linesize[1] = _w >> 1;
-        _frame.linesize[2] = _w >> 1;
-        _frame.data[0] = in;
-        _frame.data[2] = in + _w * _h;
-        _frame.data[1] = in + _w * _h + ((_w * _h) >> 1);
-      
-        break;
-    default:
-      ADM_assert(0);
+	  switch(_targetColorSpace)
+	  {
+		case PIX_FMT_YUV420P:
+			_frame.linesize[0] = _w;
+			_frame.linesize[1] = _w >> 1;
+			_frame.linesize[2] = _w >> 1;
+			_frame.data[0] = in;
+			_frame.data[2] = in + _w * _h;
+			_frame.data[1] = in + _w * _h + ((_w * _h) >> 2);
+			break;
+	 case PIX_FMT_YUV422P:
+			_frame.linesize[0] = _w;
+			_frame.linesize[1] = _w >> 1;
+			_frame.linesize[2] = _w >> 1;
+			_frame.data[0] = in;
+			_frame.data[2] = in + _w * _h;
+			_frame.data[1] = in + _w * _h + ((_w * _h) >> 1);
+	      
+			break;
+		default:
+		  ADM_assert(0);
+	  }
   }
+
   return 1;
 }
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg.cpp	2008-09-19 16:03:49 UTC (rev 4371)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encffmpeg.cpp	2008-09-19 16:39:50 UTC (rev 4372)
@@ -14,8 +14,10 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#include <config.h>
+#define __STDC_LIMIT_MACROS
 
+#include "config.h"
+
 #include <stdio.h>
 #include <stdlib.h>
 #include <math.h>
@@ -33,7 +35,7 @@
 #include "fourcc.h"
 #include "avi_vars.h"
 #include "ADM_toolkit/toolkit.hxx"
-#include <ADM_assert.h>
+#include "ADM_assert.h"
 #include "ADM_encoder/ADM_vidEncode.hxx"
 
 #include "ADM_video/ADM_genvideo.hxx"
@@ -495,31 +497,42 @@
   ADM_assert (_codec);
   ADM_assert (_in);
 
-  if (!_in->getFrameNumberNoAlloc (frame, &l, _vbuffer, &f))
-    {
-      printf ("\n Error : Cannot read incoming frame !");
-      return 0;
-    }
+  if (frame != UINT32_MAX)
+  {
+	  if (!_in->getFrameNumberNoAlloc (frame, &l, _vbuffer, &f))
+	  {
+		  printf ("\n Error : Cannot read incoming frame !");
+		  return 0;
+	  }
+  }
 
   switch (_state)
     {
     case enc_CBR:
     case enc_CQ:
-      return _codec->encode (_vbuffer, out );
+      return _codec->encode (frame == UINT32_MAX ? NULL : _vbuffer, out );
       break;
     case enc_Same:
       {
-	uint32_t inq;
-        if (_vbuffer->flags & AVI_KEY_FRAME)
-            out->flags = AVI_KEY_FRAME;
-	else
-	   out->flags = 0;
-	inq = _vbuffer->_Qp;
-        if(inq>31) inq=31;
-        if(inq<2) inq=2;
-        out->in_quantizer =inq;
+		  if (frame != UINT32_MAX)
+		  {
+			  if (_vbuffer->flags & AVI_KEY_FRAME)
+				  out->flags = AVI_KEY_FRAME;
+			  else
+				  out->flags = 0;
 
-	if (!_codec->encode (_vbuffer, out ))
+			  int inq = _vbuffer->_Qp;
+
+			  if (inq > 31)
+				  inq = 31;
+
+			  if (inq < 2)
+				  inq = 2;
+
+			  out->in_quantizer = inq;
+		  }
+
+	if (!_codec->encode (frame == UINT32_MAX ? NULL : _vbuffer, out ))
 	  {
 	    printf ("\n codec error on 1st pass !");
 	    return 0;
@@ -532,7 +545,7 @@
     case enc_Pass1:
 
       //              ADM_assert(fd);
-      if (!_codec->encode (_vbuffer, out ))
+      if (!_codec->encode (frame == UINT32_MAX ? NULL : _vbuffer, out ))
 	{
 	  printf ("\n codec error on 1st pass !");
 	  return 0;
@@ -542,7 +555,7 @@
       break;
     case enc_Pass2:
       // Encode it !
-      if (!_codec->encode (_vbuffer, out ))
+      if (!_codec->encode (frame == UINT32_MAX ? NULL : _vbuffer, out ))
             return 0;
       return 1;
       break;



From gruntster at mail.berlios.de  Fri Sep 19 19:18:51 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Fri, 19 Sep 2008 19:18:51 +0200
Subject: [Avidemux-svn-commit] r4373 -
	branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_dummy
Message-ID: <200809191718.m8JHIp8Z000473@sheep.berlios.de>

Author: gruntster
Date: 2008-09-19 19:18:45 +0200 (Fri, 19 Sep 2008)
New Revision: 4373

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp
Log:
[dummy] remove prefilling and support delayed frames for dummy container

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp	2008-09-19 16:39:50 UTC (rev 4372)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp	2008-09-19 17:18:45 UTC (rev 4373)
@@ -16,6 +16,8 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
+#define __STDC_LIMIT_MACROS
+
 #include "config.h"
 #include <stdio.h>
 #include <stdlib.h>
@@ -33,7 +35,7 @@
 #include "ADM_editor/ADM_Video.h"
 #include "ADM_colorspace/colorspace.h"
 #include "ADM_toolkit/toolkit.hxx"
-#include <ADM_assert.h>
+#include "ADM_assert.h"
 #include "ADM_video/ADM_genvideo.hxx"
 #include "ADM_filter/video_filters.h"
 
@@ -88,8 +90,6 @@
 uint32_t alen;//,flags;
 uint32_t size;
 
-uint8_t   ret=0;
-
 uint32_t  sample_got=0,sample;
 uint32_t  extraDataSize=0;
 uint8_t   *extraData=NULL;
@@ -106,10 +106,10 @@
 ADMBitstream    bitstream(0);
 uint32_t        frameWrite=0;
 uint8_t r=0;
-uint32_t skipping=1;
+int frameDelay = 0;
+bool receivedFrame = false;
 
 uint32_t    totalAudioSize=0;
-uint32_t sent=0;
 
         // Setup video
         
@@ -161,7 +161,7 @@
                 _encode->hasExtraHeaderData( &videoExtraDataSize,&dummy);
                 if(videoExtraDataSize)
                 {
-                        printf("[FLV]We have extradata for video in copy mode (%d)\n",videoExtraDataSize);
+                        printf("We have extradata for video in copy mode (%d)\n",videoExtraDataSize);
                         videoExtraData=new uint8_t[videoExtraDataSize];
                         memcpy(videoExtraData,dummy,videoExtraDataSize);
                 }
@@ -170,76 +170,78 @@
              
              ADM_assert(_encode);
              bitstream.data=videoBuffer;
-             
-preFilling:
-             bitstream.cleanup(0);
-             if(!(err=_encode->encode ( prefill, &bitstream)))// FIXME: We should never execute it more than once
-             {
-                        printf("[FLV]:First frame error\n");
-                        GUI_Error_HIG (QT_TR_NOOP("Error while encoding"), NULL);
-                        goto  stopit;
-              }
-              sent++;
-              if(!bitstream.len)
-              {
-                prefill++;
-                goto preFilling;
-              }
-              if(!bitstream.flags & AVI_KEY_FRAME)
-              {
-                GUI_Error_HIG (QT_TR_NOOP("KeyFrame error"),QT_TR_NOOP( "The beginning frame is not a key frame.\nPlease move the A marker."));
-                  goto  stopit; 
-              }
-         
-          if(!videoProcessMode())
-                encoding_gui->setCodec(QT_TR_NOOP("Copy"));
-          else
-                encoding_gui->setCodec(_encode->getDisplayName());
-           //
-          UI_purge();
-          if(bitstream.len)
-          {
-            frameWrite++;
-          }
-           for(int frame=1;frame<total;frame++)
-           {
-               
-               ADM_assert(_encode);
-               bitstream.cleanup(frameWrite);
-              
-               r=_encode->encode ( prefill+frame, &bitstream);
-              
-               if(!r && frame<total-2)
-               {
-                        printf("[FLV]:Frame %u error\n",frame);
-                        GUI_Error_HIG ("FLV",QT_TR_NOOP("Error while encoding"));
-                        goto  stopit;
-                }
-                if(!bitstream.len && skipping)
-                {
-                    printf("[FLV]Frame skipped (xvid ?)\n");
-                    continue;
-                }
-                sent++;
-                skipping=0;
-                frameWrite++;
-                encoding_gui->setFrame(frame,bitstream.len,bitstream.out_quantizer,total);
-               if(!encoding_gui->isAlive())
-                {
-                    
-                    goto stopit;
-                }
-               
-           }
-           ret=1;
-           
+
+			 if(!videoProcessMode())
+				 encoding_gui->setCodec(QT_TR_NOOP("Copy"));
+			 else
+				 encoding_gui->setCodec(_encode->getDisplayName());
+
+			 UI_purge();
+
+			 for (uint32_t frame = 0; frame < total; frame++)
+			 {
+				 if (!encoding_gui->isAlive())
+				 {
+					 r = 0;
+					 break;
+				 }
+
+				 for (;;)
+				 {
+					 bitstream.cleanup(frame);
+
+					 if (frame + frameDelay >= total)
+					 {
+						 if (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH)
+							 r = _encode->encode(UINT32_MAX, &bitstream);
+						 else
+							 r = 0;
+					 }
+					 else
+						 r = _encode->encode(frame + frameDelay, &bitstream);
+
+					 if (!r)
+					 {
+						 printf("Encoding of frame %lu failed!\n", frame);
+						 GUI_Error_HIG (QT_TR_NOOP("Error while encoding"), NULL);
+						 break;
+					 }
+					 else if (!receivedFrame && bitstream.len > 0)
+					 {
+						 if (!(bitstream.flags & AVI_KEY_FRAME))
+						 {
+							 GUI_Error_HIG (QT_TR_NOOP("KeyFrame error"), QT_TR_NOOP("The beginning frame is not a key frame.\nPlease move the A marker."));
+							 r = 0;
+							 break;
+						 }
+						 else
+							 receivedFrame = true;
+					 }
+
+					 if (bitstream.len == 0 && (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH))
+					 {
+						 printf("skipping frame: %u size: %i\n", frame + frameDelay, bitstream.len);
+						 frameDelay++;
+					 }
+					 else
+						 break;
+				 }
+
+				 if (!r)
+					 break;
+
+				 encoding_gui->setFrame(frame, bitstream.len, bitstream.out_quantizer, total);
+			 }
+
+			 encoding_gui->reset();
+
 stopit:
     
            if(encoding_gui) delete encoding_gui;
            if(videoBuffer) delete [] videoBuffer;
            if(_encode) delete _encode;	
            if(videoExtraData) delete [] videoExtraData;
-           return ret;
+           return r;
 }
 
 	



From gruntster at mail.berlios.de  Fri Sep 19 19:41:08 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Fri, 19 Sep 2008 19:41:08 +0200
Subject: [Avidemux-svn-commit] r4374 -
	branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_flv
Message-ID: <200809191741.m8JHf8A5007149@sheep.berlios.de>

Author: gruntster
Date: 2008-09-19 19:41:02 +0200 (Fri, 19 Sep 2008)
New Revision: 4374

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp
Log:
[flv] remove prefilling and support delayed frames

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp	2008-09-19 17:18:45 UTC (rev 4373)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp	2008-09-19 17:41:02 UTC (rev 4374)
@@ -15,6 +15,8 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
+#define __STDC_LIMIT_MACROS
+
 #include "config.h"
 #include <stdio.h>
 #include <stdlib.h>
@@ -32,7 +34,7 @@
 #include "ADM_editor/ADM_Video.h"
 #include "ADM_colorspace/colorspace.h"
 #include "ADM_toolkit/toolkit.hxx"
-#include <ADM_assert.h>
+#include "ADM_assert.h"
 #include "ADM_video/ADM_genvideo.hxx"
 #include "ADM_filter/video_filters.h"
 
@@ -93,8 +95,6 @@
 uint32_t alen;//,flags;
 uint32_t size;
 
-uint8_t   ret=0;
-
 uint32_t  sample_got=0,sample;
 uint32_t  extraDataSize=0;
 uint8_t   *extraData=NULL;
@@ -111,14 +111,13 @@
 int prefill=0;
 uint32_t displayFrame=0;
 ADMBitstream    bitstream(0);
-uint32_t        frameWrite=0;
 uint8_t r=0;
-uint32_t skipping=1;
 pthread_t     audioThread;
 audioQueueMT context;
 PacketQueue   *pq=NULL;//("MP4 audioQ",50,2*1024*1024);
 uint32_t    totalAudioSize=0;
-uint32_t sent=0;
+int frameDelay = 0;
+bool receivedFrame = false;
 
         // Setup video
 
@@ -213,32 +212,10 @@
                         videoExtraData=new uint8_t[videoExtraDataSize];
                         memcpy(videoExtraData,dummy,videoExtraDataSize);
                 }
-        // _________________Setup video (cont) _______________
-        // ___________ Read 1st frame _________________
 
              ADM_assert(_encode);
              bitstream.data=videoBuffer;
 
-preFilling:
-             bitstream.cleanup(0);
-             if(!(err=_encode->encode ( prefill, &bitstream)))// FIXME: We should never execute it more than once
-             {
-                        printf("[FLV]:First frame error\n");
-                        GUI_Error_HIG (QT_TR_NOOP("Error while encoding"), NULL);
-                        goto  stopit;
-              }
-              sent++;
-              if(!bitstream.len)
-              {
-                prefill++;
-                goto preFilling;
-              }
-              if(!bitstream.flags & AVI_KEY_FRAME)
-              {
-                GUI_Error_HIG (QT_TR_NOOP("KeyFrame error"),QT_TR_NOOP( "The beginning frame is not a key frame.\nPlease move the A marker."));
-                  goto  stopit;
-              }
-
 // ____________Setup audio__________________
           if(currentaudiostream)
           {
@@ -282,11 +259,7 @@
                 encoding_gui->setCodec(_encode->getDisplayName());
            //
           UI_purge();
-          if(bitstream.len)
-          {
-            muxer->writeVideoPacket( &bitstream);
-            frameWrite++;
-          }
+
 //_____________ Start Audio thread _____________________
           if(audio)
           {
@@ -300,52 +273,82 @@
             ADM_usleep(4000);
           }
 //_____________GO !___________________
-           for(int frame=1;frame<total;frame++)
-           {
-               while(muxer->needAudio())
-               {
-                    if(pq->Pop(audioBuffer,&alen,&sample))
-                    {
-                     if(alen)
-                     {
-                        muxer->writeAudioPacket(alen,audioBuffer,sample_got);
-                        totalAudioSize+=alen;
-                        encoding_gui->setAudioSize(totalAudioSize);
-                        sample_got+=sample;
-                     }
-                    }else break;
-               }
-               ADM_assert(_encode);
-               bitstream.cleanup(frameWrite);
 
-               r=_encode->encode ( prefill+frame, &bitstream);
+			 for (uint32_t frame = 0; frame < total; frame++)
+			 {
+				 if (!encoding_gui->isAlive())
+				 {
+					 r = 0;
+					 break;
+				 }
 
-               if(!r && frame<total-2)
-               {
-                        printf("[FLV]:Frame %u error\n",frame);
-                        GUI_Error_HIG ("FLV",QT_TR_NOOP("Error while encoding"));
-                        goto  stopit;
-                }
-                if(!bitstream.len && skipping)
-                {
-                    printf("[FLV]Frame skipped (xvid ?)\n");
-                    continue;
-                }
-                sent++;
-                skipping=0;
-            //    printf("Prefill %u FrameWrite :%u Frame %u PtsFrame :%u\n",prefill,frameWrite,frame,bitstream.ptsFrame);
-                frameWrite++;
-                muxer->writeVideoPacket( &bitstream);
-                encoding_gui->setFrame(frame,bitstream.len,bitstream.out_quantizer,total);
-               if(!encoding_gui->isAlive())
-                {
+				 while(muxer->needAudio())
+				 {
+					 if(pq->Pop(audioBuffer,&alen,&sample))
+					 {
+						 if(alen)
+						 {
+							 muxer->writeAudioPacket(alen,audioBuffer,sample_got);
+							 totalAudioSize+=alen;
+							 encoding_gui->setAudioSize(totalAudioSize);
+							 sample_got+=sample;
+						 }
+					 }
+					 else
+					 {
+						 r = 0;
+						 break;
+					 }
+				 }
 
-                    goto stopit;
-                }
+				 for (;;)
+				 {
+					 bitstream.cleanup(frame);
 
-           }
-           ret=1;
+					 if (frame + frameDelay >= total)
+					 {
+						 if (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH)
+							 r = _encode->encode(UINT32_MAX, &bitstream);
+						 else
+							 r = 0;
+					 }
+					 else
+						 r = _encode->encode(frame + frameDelay, &bitstream);
 
+					 if (!r)
+					 {
+						 printf("Encoding of frame %lu failed!\n", frame);
+						 GUI_Error_HIG (QT_TR_NOOP("Error while encoding"), NULL);
+						 break;
+					 }
+					 else if (!receivedFrame && bitstream.len > 0)
+					 {
+						 if (!(bitstream.flags & AVI_KEY_FRAME))
+						 {
+							 GUI_Error_HIG (QT_TR_NOOP("KeyFrame error"), QT_TR_NOOP("The beginning frame is not a key frame.\nPlease move the A marker."));
+							 r = 0;
+							 break;
+						 }
+						 else
+							 receivedFrame = true;
+					 }
+
+					 if (bitstream.len == 0 && (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH))
+					 {
+						 printf("skipping frame: %u size: %i\n", frame + frameDelay, bitstream.len);
+						 frameDelay++;
+					 }
+					 else
+						 break;
+				 }
+
+				 if (!r)
+					 break;
+
+				 muxer->writeVideoPacket(&bitstream);
+				 encoding_gui->setFrame(frame, bitstream.len, bitstream.out_quantizer, total);
+			 }
+
 stopit:
 
     // Flush slave Q
@@ -370,7 +373,7 @@
            if(videoExtraData) delete [] videoExtraData;
            // Cleanup
            deleteAudioFilter (audio);
-           return ret;
+           return r;
 }
 
 



From gruntster at mail.berlios.de  Fri Sep 19 20:23:35 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Fri, 19 Sep 2008 20:23:35 +0200
Subject: [Avidemux-svn-commit] r4375 -
	branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mp4
Message-ID: <200809191823.m8JINZJZ011505@sheep.berlios.de>

Author: gruntster
Date: 2008-09-19 20:23:25 +0200 (Fri, 19 Sep 2008)
New Revision: 4375

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp
Log:
[mp4] remove prefilling and support delayed frames

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp	2008-09-19 17:41:02 UTC (rev 4374)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp	2008-09-19 18:23:25 UTC (rev 4375)
@@ -18,9 +18,7 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#ifndef __STDC_LIMIT_MACROS
 #define __STDC_LIMIT_MACROS
-#endif
 
 #include "config.h"
 #include <stdio.h>
@@ -99,8 +97,6 @@
 uint32_t alen;//,flags;
 uint32_t size;
 
-uint8_t   ret=0;
-
 uint32_t  sample_got=0,sample;
 uint32_t  extraDataSize=0;
 uint8_t   *extraData=NULL;
@@ -115,20 +111,19 @@
 uint8_t  *videoExtraData=NULL;
 uint8_t *dummy,err;
 WAVHeader *audioinfo=NULL;
-int prefill=0;
-uint32_t displayFrame=0;
 ADMBitstream    bitstream(0);
-uint32_t        frameWrite=0;
 ADM_MUXER_TYPE muxerType=MUXER_MP4;
 uint8_t dualPass=0;
 uint8_t r=0;
-uint32_t skipping=1;
 pthread_t     audioThread;
 audioQueueMT context;
 PacketQueue   *pq = NULL;//("MP4 audioQ",50,2*1024*1024);
 uint32_t    totalAudioSize=0;
 uint32_t sent=0;
 const char *containerTitle;
+int frameDelay = 0;
+bool receivedFrame = false;
+
            switch(type)
            {
              case ADM_PSP:muxerType=MUXER_PSP;containerTitle=QT_TR_NOOP("PSP");break;
@@ -205,34 +200,10 @@
                         memcpy(videoExtraData,dummy,videoExtraDataSize);
                 }
         // _________________Setup video (cont) _______________
-        // ___________ Read 1st frame _________________
              
              ADM_assert(_encode);
              bitstream.data=videoBuffer;
-             
-preFilling:
-             bitstream.cleanup(0);
-			 bitstream.dtsFrame = UINT32_MAX;	// let libavformat calculate it
 
-             if(!(err=_encode->encode ( prefill, &bitstream)))//&len, videoBuffer, &flags,&displayFrame))
-             {
-                        printf("MP4:First frame error\n");
-                        GUI_Error_HIG (QT_TR_NOOP("Error while encoding"), NULL);
-                        goto  stopit;
-              }
-              sent++;
-              if(!bitstream.len)
-              {
-                prefill++;
-                goto preFilling;
-              }
-              printf("Pass 2 prefill : %u\n",prefill);
-              if(!bitstream.flags & AVI_KEY_FRAME)
-              {
-                GUI_Error_HIG (QT_TR_NOOP("KeyFrame error"),QT_TR_NOOP( "The beginning frame is not a key frame.\nPlease move the A marker."));
-                  goto  stopit; 
-              }
-           //len=bitstream.len;
            // If needed get VOL header
            if(isMpeg4Compatible(info.fcc) && !videoExtraDataSize && bitstream.len)
            {
@@ -309,11 +280,7 @@
                 encoding_gui->setCodec(_encode->getDisplayName());
            //
           UI_purge();
-          if(bitstream.len)
-          {
-            muxer->writeVideoPacket( &bitstream);
-            frameWrite++;
-          }
+
 //_____________ Start Audio thread _____________________
           if(audio)
           {          
@@ -327,62 +294,84 @@
             ADM_usleep(4000);
           }
 //_____________GO !___________________
-           for(int frame=1;frame<total;frame++)
-           {
-               while(muxer->needAudio())
-               {
-                    if(pq->Pop(audioBuffer,&alen,&sample))
-                    {
-                     if(alen)
-                     {
-                        muxer->writeAudioPacket(alen,audioBuffer,sample_got);
-                        totalAudioSize+=alen;
-                        encoding_gui->setAudioSize(totalAudioSize);
-                        sample_got+=sample;
-                     }
-                    }else break;
-               }
-               ADM_assert(_encode);
-               bitstream.cleanup(frameWrite);
-			   bitstream.dtsFrame = UINT32_MAX;	// let libavformat calculate it
+		  for (uint32_t frame = 0; frame < total; frame++)
+		  {
+			  if (!encoding_gui->isAlive())
+			  {
+				  r = 0;
+				  break;
+			  }
 
-               if(!prefill || frame+prefill<total) 
-               {
-                  
-                  r=_encode->encode ( prefill+frame, &bitstream);
-               }
-                else
-                {
-                    r=_encode->encode ( total-1, &bitstream);
-                }
-               if(!r && frame<total-2)
-               {
-                        printf("MP4:Frame %u error\n",frame);
-                        GUI_Error_HIG (QT_TR_NOOP("Error while encoding"), NULL);
-                        goto  stopit;
-                }
-                if(!bitstream.len && skipping)
-                {
-                    printf("Frame skipped (xvid ?)\n");
-                    continue;
-                }
-                sent++;
-                skipping=0;
-            //    printf("Prefill %u FrameWrite :%u Frame %u PtsFrame :%u\n",prefill,frameWrite,frame,bitstream.ptsFrame);
-                frameWrite++;
-                muxer->writeVideoPacket( &bitstream);
-                encoding_gui->setFrame(frame,bitstream.len,bitstream.out_quantizer,total);
-               if(!encoding_gui->isAlive())
-                {
-                    
-                    goto stopit;
-                }
-               
-           }
-           ret=1;
-           
+			  while (muxer->needAudio())
+			  {
+				  if (pq->Pop(audioBuffer, &alen, &sample))
+				  {
+					  if (alen)
+					  {
+						  muxer->writeAudioPacket(alen, audioBuffer, sample_got);
+						  totalAudioSize += alen;
+						  encoding_gui->setAudioSize(totalAudioSize);
+						  sample_got += sample;
+					  }
+				  }
+				  else
+				  {
+					  r = 0;
+					  break;
+				  }
+			  }
+
+			  for (;;)
+			  {
+				  bitstream.cleanup(frame);
+				  bitstream.dtsFrame = UINT32_MAX;	// let libavformat calculate it
+
+				  if (frame + frameDelay >= total)
+				  {
+					  if (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH)
+						  r = _encode->encode(UINT32_MAX, &bitstream);
+					  else
+						  r = 0;
+				  }
+				  else
+					  r = _encode->encode(frame + frameDelay, &bitstream);
+
+				  if (!r)
+				  {
+					  printf("Encoding of frame %lu failed!\n", frame);
+					  GUI_Error_HIG (QT_TR_NOOP("Error while encoding"), NULL);
+					  break;
+				  }
+				  else if (!receivedFrame && bitstream.len > 0)
+				  {
+					  if (!(bitstream.flags & AVI_KEY_FRAME))
+					  {
+						  GUI_Error_HIG (QT_TR_NOOP("KeyFrame error"), QT_TR_NOOP("The beginning frame is not a key frame.\nPlease move the A marker."));
+						  r = 0;
+						  break;
+					  }
+					  else
+						  receivedFrame = true;
+				  }
+
+				  if (bitstream.len == 0 && (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH))
+				  {
+					  printf("skipping frame: %u size: %i\n", frame + frameDelay, bitstream.len);
+					  frameDelay++;
+				  }
+				  else
+					  break;
+			  }
+
+			  if (!r)
+				  break;
+
+			  muxer->writeVideoPacket(&bitstream);
+			  encoding_gui->setFrame(frame, bitstream.len, bitstream.out_quantizer, total);
+		  }
+		  
 stopit:
-    printf("2nd pass, sent %u frames\n",sent);
+    printf("2nd pass, sent %u frames\n", bitstream.frameNumber + frameDelay);
     // Flush slave Q
     if(pq)
     {
@@ -406,7 +395,7 @@
            if(videoExtraData) delete [] videoExtraData;
            // Cleanup
            deleteAudioFilter (audio);
-           return ret;
+           return r;
 }
 uint8_t prepareDualPass(uint32_t bufferSize,uint8_t *buffer,char *TwoPassLogFile,DIA_encoding *encoding_gui,Encoder *_encode,uint32_t total)
 {
@@ -414,8 +403,8 @@
       FILE *tmp;
       uint8_t reuse=0,r;
       ADMBitstream bitstream(0);
-      uint32_t prefill=0;
-      uint32_t sent=0;
+	  int frameDelay = 0;
+	  bool receivedFrame = false;
       
         aprintf("\n** Dual pass encoding**\n");
 
@@ -430,56 +419,69 @@
         
         if(!reuse)
         {
-        
                 encoding_gui->setPhasis (QT_TR_NOOP("1st Pass"));
                 aprintf("**Pass 1:%lu\n",total);
                 _encode->startPass1 ();
                 bitstream.data=buffer;
                 bitstream.bufferSize=bufferSize;
-                
-preFilling2:
-             bitstream.cleanup(0);
-             if(!_encode->encode ( prefill, &bitstream))//&len, videoBuffer, &flags,&displayFrame))
-             {
-                        printf("MP4:First frame error\n");
-                        GUI_Error_HIG (QT_TR_NOOP("Error while encoding"), NULL);
-                        return 0;
-              }
-              sent++;
-              if(!bitstream.len)
-              {
-                prefill++;
-                goto preFilling2;
-              }
 
-                printf("Pass 1 prefill : %u\n",prefill);
-                for (uint32_t cf = 1; cf < total; cf++)
-                {
-                        if (!encoding_gui->isAlive())
-                        {
-                                abt:
-                                    GUI_Error_HIG (QT_TR_NOOP("Aborting"), NULL);
-                                return 0;
-                        }
-                        bitstream.cleanup(cf);
-                        if(!prefill || cf+prefill<total) 
-                        {
-                            r=_encode->encode ( prefill+cf, &bitstream);
-                        }
-                          else
-                          {
-                              r=_encode->encode ( total-1, &bitstream);
-                          }
-                        if (!r)
-                        {
-                                printf("\n Encoding of frame %lu failed !\n",cf);
-                                return 0;
-                        }
-                        sent++;
-                        encoding_gui->setFrame(cf,bitstream.len,bitstream.out_quantizer,total);
-                }
-                encoding_gui->reset();
-                aprintf("**Pass 1:done\n");
+				for (uint32_t frame = 0; frame < total; frame++)
+				{
+					if (!encoding_gui->isAlive())
+					{
+						r = 0;
+						break;
+					}
+
+					for (;;)
+					{
+						bitstream.cleanup(frame);
+						bitstream.dtsFrame = UINT32_MAX;	// let libavformat calculate it
+
+						if (frame + frameDelay >= total)
+						{
+							if (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH)
+								r = _encode->encode(UINT32_MAX, &bitstream);
+							else
+								r = 0;
+						}
+						else
+							r = _encode->encode(frame + frameDelay, &bitstream);
+
+						if (!r)
+						{
+							printf("Encoding of frame %lu failed!\n", frame);
+							GUI_Error_HIG (QT_TR_NOOP("Error while encoding"), NULL);
+							break;
+						}
+						else if (!receivedFrame && bitstream.len > 0)
+						{
+							if (!(bitstream.flags & AVI_KEY_FRAME))
+							{
+								GUI_Error_HIG (QT_TR_NOOP("KeyFrame error"), QT_TR_NOOP("The beginning frame is not a key frame.\nPlease move the A marker."));
+								r = 0;
+								break;
+							}
+							else
+								receivedFrame = true;
+						}
+
+						if (bitstream.len == 0 && (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH))
+						{
+							printf("skipping frame: %u size: %i\n", frame + frameDelay, bitstream.len);
+							frameDelay++;
+						}
+						else
+							break;
+					}
+
+					if (!r)
+						return 0;
+
+					encoding_gui->setFrame(frame, bitstream.len, bitstream.out_quantizer, total);
+				}
+
+				encoding_gui->reset();
         }// End of reuse
 
         if(!_encode->startPass2 ())
@@ -487,7 +489,7 @@
                 printf("Pass2 ignition failed\n");
                 return 0;
         }
-        printf("First pass : send %u frames\n",sent);
+        printf("First pass : send %u frames\n", bitstream.frameNumber + frameDelay);
         encoding_gui->setPhasis (QT_TR_NOOP("2nd Pass"));
         return 1;
 }



From gruntster at mail.berlios.de  Fri Sep 19 21:14:35 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Fri, 19 Sep 2008 21:14:35 +0200
Subject: [Avidemux-svn-commit] r4376 - in
	branches/avidemux_2.4_branch/avidemux:
	ADM_libraries/ADM_lavformat ADM_outputs/oplug_avi
	ADM_outputs/oplug_ogm
Message-ID: <200809191914.m8JJEZeZ016142@sheep.berlios.de>

Author: gruntster
Date: 2008-09-19 21:14:29 +0200 (Fri, 19 Sep 2008)
New Revision: 4376

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsave.h
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsavecopy.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp
Log:
[ogm] support delayed frames

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp	2008-09-19 18:23:25 UTC (rev 4375)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp	2008-09-19 19:14:29 UTC (rev 4376)
@@ -18,9 +18,7 @@
  *                                                                         *
  ***************************************************************************/
 
-#ifndef __STDC_LIMIT_MACROS
 #define __STDC_LIMIT_MACROS
-#endif
 
 #include "config.h"
 #include "default.h"

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp	2008-09-19 18:23:25 UTC (rev 4375)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp	2008-09-19 19:14:29 UTC (rev 4376)
@@ -151,7 +151,7 @@
 abt:
 				GUI_Error_HIG (QT_TR_NOOP("Aborting"), NULL);
 				delete[] buffer;
-				return -1;
+				return 0;
 			}
 
 			for (;;)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp	2008-09-19 18:23:25 UTC (rev 4375)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp	2008-09-19 19:14:29 UTC (rev 4376)
@@ -74,6 +74,7 @@
 _togo=0;
 _packet=0;
 TwoPassLogFile=NULL;
+_encode = NULL;
 }
 
 //_______________________________________________
@@ -138,18 +139,42 @@
 
 		encoding_gui->setFps(_fps1000);
 		encoding_gui->reset();
-		// ___________________Then body_______________________
-                uint32_t j=0;
-		for( j=0;j<_togo && !error;j++)
+
+		uint32_t j=0;
+		int frameDelay = 0;
+		int videoSize;
+
+		for (j = 0; j < _togo; j++)
 		{
-			if(!encoding_gui->isAlive())
+			if (!encoding_gui->isAlive())
 			{
-				error=1;
-				continue;
+				error = 1;
+				break;
 			}
-			if(!writeVideo(j)) error=1;
-			if(!writeAudio(j)) error=1;
+
+			for (;;)
+			{
+				videoSize = writeVideo(j + frameDelay);
+
+				if (videoSize == 0 && _encode && (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH))
+				{
+					printf("skipping frame: %u size: %i\n", j + frameDelay, videoSize);
+					frameDelay++;
+				}
+				else
+				{
+					error = 1;
+					break;
+				}
+			}
+
+			if (!writeAudio(j))
+			{
+				error = 1;
+				break;
+			}
 		}
+
                 if(abs(j-_togo)<3 && error) error=0; // might be caused by late B frame
 		delete encoding_gui;
 		encoding_gui=NULL;
@@ -171,7 +196,7 @@
 
 }
 //___________________________________________________
-uint8_t	ADM_ogmWrite::writeVideo(uint32_t frame)
+int	ADM_ogmWrite::writeVideo(uint32_t frame)
 {
 		ADM_assert(0);
 		return 0;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsave.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsave.h	2008-09-19 18:23:25 UTC (rev 4375)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsave.h	2008-09-19 19:14:29 UTC (rev 4376)
@@ -40,6 +40,7 @@
 			DIA_encoding		*encoding_gui;
 			ogm_page 		*videoStream;
 			ogm_page		*audioStream;
+			Encoder 		*_encode;
 			
 				uint8_t		initAudio(void);
 				uint8_t		writeAudio(uint32_t j);
@@ -50,7 +51,7 @@
 				AVDMGenericAudioStream	*audioFilter;
 				
 			virtual uint8_t		initVideo(const char *name);
-			virtual uint8_t		writeVideo(uint32_t frame);
+			virtual int		writeVideo(uint32_t frame);
 					
 	public:
 					ADM_ogmWrite(void);				
@@ -63,7 +64,7 @@
 protected:
 			
 			virtual uint8_t		initVideo(const char *name);			
-			virtual uint8_t		writeVideo(uint32_t frame);
+			virtual int		writeVideo(uint32_t frame);
 			uint32_t 		searchForward(uint32_t startframe);
 			uint32_t		_lastIPFrameSent;	
 public:
@@ -75,11 +76,10 @@
 {
 protected:
 			AVDMGenericVideoStream  *_incoming;
-			Encoder 		*_encode;
                         uint32_t                _prestore;
                         uint32_t                _prestoring;
 			virtual uint8_t	initVideo(const char *name);			
-			virtual uint8_t	writeVideo(uint32_t frame);	
+			virtual int	writeVideo(uint32_t frame);	
 public:
 			ADM_ogmWriteProcess(void);
 			~ADM_ogmWriteProcess(void);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsavecopy.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsavecopy.cpp	2008-09-19 18:23:25 UTC (rev 4375)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsavecopy.cpp	2008-09-19 19:14:29 UTC (rev 4376)
@@ -113,7 +113,7 @@
 
 }
 //___________________________________________________
-uint8_t	ADM_ogmWriteCopy::writeVideo(uint32_t frame)
+int	ADM_ogmWriteCopy::writeVideo(uint32_t frame)
 {
 uint32_t len,flags;
 uint32_t forward;
@@ -127,9 +127,13 @@
 		{
 
 			if(!  video_body->getFrameNoAlloc (frameStart+frame,&img))// _videoBuffer, &len,     &flags)) 
-				return 0;		
+				return -1;		
 			encoding_gui->setFrame(frame,img.dataLength,0,_togo);
-			return videoStream->write(img.dataLength,img.data,img.flags,frame);
+
+			if (videoStream->write(img.dataLength,img.data,img.flags,frame))
+				return img.dataLength;
+			else
+				return -1;
 		}
 		
 		// we DO have b frame
@@ -175,9 +179,10 @@
 				}
 			}
                 encoding_gui->setFrame(frame,img.dataLength,0,_togo);
-		return videoStream->write(img.dataLength,img.data,img.flags,frame);
-		return ret1;
-
+		if (videoStream->write(img.dataLength,img.data,img.flags,frame))
+			return img.dataLength;
+		else
+			return -1;
 }
 // Return the next non B frame
 // 0 if not found

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp	2008-09-19 18:23:25 UTC (rev 4375)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp	2008-09-19 19:14:29 UTC (rev 4376)
@@ -20,6 +20,8 @@
 // Copyright: See COPYING file that comes with this distribution
 //
 //
+#define __STDC_LIMIT_MACROS
+
 #include <stdio.h>
 #include <stdlib.h>
 #include <math.h>
@@ -91,6 +93,7 @@
 		uint32_t len, flag;
 		FILE *tmp;
 		uint8_t reuse=0;
+		int frameDelay = 0, r;
 
 		aprintf("\n** Dual pass encoding**\n");
 
@@ -111,23 +114,44 @@
 			encoding_gui->setPhasis(QT_TR_NOOP("Pass one"));
                         ADMBitstream bitstream(w*h*3);
                         bitstream.data=_videoBuffer;
-      			//__________________________________
-      			//   now go to main loop.....
-      			//__________________________________
-      			for (uint32_t cf = 0; cf < _togo; cf++)
+
+			for (uint32_t cf = 0; cf < _togo; cf++)
 			{	
-                                bitstream.cleanup(cf); 
-	  			if (!_encode->encode (cf, &bitstream))
+				if (!encoding_gui->isAlive())
+					return 0;
+
+				for (;;)
 				{
-					printf("\n Encoding of frame %lu failed !\n",cf);
-	    				return 0;
+					bitstream.cleanup(cf); 
+
+					if (cf + frameDelay >= _togo)
+					{
+						if (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH)
+							r = _encode->encode(UINT32_MAX, &bitstream);
+						else
+							r = 0;
+					}
+					else
+						r = _encode->encode(cf + frameDelay, &bitstream);
+
+					if (!r)
+					{
+						printf("Encoding of frame %lu failed!\n", cf);
+						return 0;
+					}
+
+					if (bitstream.len == 0 && (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH))
+					{
+						printf("skipping frame: %u size: %i\n", cf + frameDelay, bitstream.len);
+						frameDelay++;
+					}
+					else
+						break;
 				}
-                                encoding_gui->setFrame(cf,bitstream.len,bitstream.out_quantizer,_togo);
-				if(!encoding_gui->isAlive())
-				{
-					return 0;
-				}
+
+				encoding_gui->setFrame(cf,bitstream.len,bitstream.out_quantizer,_togo);
 			}
+
 		     	aprintf("**Pass 1:done\n");
     		}// End of reuse
 
@@ -191,36 +215,43 @@
 
 }
 //___________________________________________________
-uint8_t	ADM_ogmWriteProcess::writeVideo(uint32_t frame)
+int	ADM_ogmWriteProcess::writeVideo(uint32_t frame)
 {
-uint32_t len,flags;
-uint8_t ret;
-uint32_t page=_incoming->getInfo ()->width*_incoming->getInfo ()->height;
-ADMBitstream bitstream(page*3);
-                 bitstream.data=_videoBuffer;
-                 
-                 ret= _encode->encode ( frame, &bitstream);
-                 if(!bitstream.len && _prestoring) 
-                 {
-                   printf("Frame skipped\n");
-                   _prestore++;
-                   return 1;
-                 }
-                 _prestoring=0;
-                 bitstream.dtsFrame=frame-_prestore;
-		 if(!ret)
-                 {
-                        printf("OgmWrite: Error encoding frame %d\n",frame);
-                        return 0;
-                 }
-                encoding_gui->setFrame(frame,bitstream.len,bitstream.out_quantizer,_togo);
-                return videoStream->write(bitstream.len,_videoBuffer,bitstream.flags,bitstream.dtsFrame);
+	uint32_t len, flags;
+	uint8_t ret;
+	ADMBitstream bitstream(_incoming->getInfo()->width * _incoming->getInfo()->height * 3);
+
+	bitstream.data = _videoBuffer;
+	bitstream.cleanup(frame);
+
+	if (frame >= _togo)
+	{
+		if (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH)
+			ret = _encode->encode(UINT32_MAX, &bitstream);
+	}
+	else
+		ret = _encode->encode(frame, &bitstream);
+
+	if (!ret)
+	{
+		printf("OgmWrite: Error encoding frame %d\n",frame);
+		return -1;
+	}
+
+	if (bitstream.len > 0)
+	{
+		encoding_gui->setFrame(frame, bitstream.len, bitstream.out_quantizer, _togo);
+
+		if (!videoStream->write(bitstream.len, _videoBuffer, bitstream.flags, bitstream.dtsFrame))
+			return -1;
+	}
+
+	return bitstream.len;
 }
 //___________________________________________________
 ADM_ogmWriteProcess::ADM_ogmWriteProcess( void)
 {
 	_incoming=NULL;
-	_encode=NULL;
 }
 //___________________________________________________
 ADM_ogmWriteProcess::~ADM_ogmWriteProcess()



From gruntster at mail.berlios.de  Sat Sep 20 15:45:48 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 20 Sep 2008 15:45:48 +0200
Subject: [Avidemux-svn-commit] r4377 - in branches/avidemux_2.4_branch: .
	avidemux/ADM_libraries/ADM_lavcodec
	avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
	avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters
	avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui
Message-ID: <200809201345.m8KDjmvA009283@sheep.berlios.de>

Author: gruntster
Date: 2008-09-20 15:45:41 +0200 (Sat, 20 Sep 2008)
New Revision: 4377

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Makefile.am
   branches/avidemux_2.4_branch/configure.in.in
Log:
[automake] update automake scripts

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/Makefile.am	2008-09-19 19:14:29 UTC (rev 4376)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/Makefile.am	2008-09-20 13:45:41 UTC (rev 4377)
@@ -61,7 +61,7 @@
 		 fraps.c dnxhddata.h  dnxhddec.c	\
                 mpeg12data.c  mpegaudiodata.c  msmpeg4data.c   vc1data.c   vp56data.c mjpegbdec.c \
                 h263_parser.c \
-                h264_parser.c \
+                h264_parser.c h264pred.c \
                 mpeg4video_parser.c \
                 mpegvideo_enc.c \
                 mpeg12enc.c mpegaudioenc.c \

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2008-09-19 19:14:29 UTC (rev 4376)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Makefile.am	2008-09-20 13:45:41 UTC (rev 4377)
@@ -14,7 +14,8 @@
 AQ_about.cpp \
 AQ_license.cpp \
 DIA_srt.cpp \
-AQ_calculator.cpp
+AQ_calculator.cpp \
+AQ_resizing.cpp
 
 INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \
 		-I../../../ADM_libraries/ADM_utilities \

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Makefile.am	2008-09-19 19:14:29 UTC (rev 4376)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Makefile.am	2008-09-20 13:45:41 UTC (rev 4377)
@@ -1,6 +1,6 @@
 
 noinst_LIBRARIES = libADM_filters.a 
-libADM_filters_a_SOURCES =  filter_none.cpp AQ_mainfilter.cpp filter_rsc.cpp
+libADM_filters_a_SOURCES =  filter_none.cpp AQ_seekablePreview.cpp AQ_mainfilter.cpp filter_rsc.cpp
 
 INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \
 		-I../../../ADM_libraries/ADM_utilities \

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Makefile.am	2008-09-19 19:14:29 UTC (rev 4376)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Makefile.am	2008-09-20 13:45:41 UTC (rev 4377)
@@ -10,7 +10,7 @@
 libADM_gui2_a_METASOURCES = AUTO
 
 libADM_gui2_a_SOURCES = gui_none.cpp file_qt4.cpp avidemux_rsc.cpp \
-			AQ_gui2.cpp   AT_preview.cpp ADM_qslider.cpp
+			AQ_gui2.cpp   AQ_preview.cpp AT_preview.cpp ADM_qslider.cpp AT_tray.cpp ADM_qtray.cpp
 
 include ../Makefile.adm
 

Modified: branches/avidemux_2.4_branch/configure.in.in
===================================================================
--- branches/avidemux_2.4_branch/configure.in.in	2008-09-19 19:14:29 UTC (rev 4376)
+++ branches/avidemux_2.4_branch/configure.in.in	2008-09-20 13:45:41 UTC (rev 4377)
@@ -1414,6 +1414,7 @@
 AC_DEFINE(CONFIG_PSP_MUXER,1,[CONFIG_MUXERS])
 AC_DEFINE(CONFIG_MP4_MUXER,1,[CONFIG_MUXERS])
 AC_DEFINE(CONFIG_MOV_MUXER,1,[CONFIG_MUXERS])
+AC_DEFINE(CONFIG_IPOD_MUXER,1,[CONFIG_MUXERS])
 AC_DEFINE(CONFIG_MATROSKA_MUXER,1,[CONFIG_MATROSKA_MUXERS])
 AC_DEFINE(HAVE_THREADS,1,[HAVE_THREADS])
 AC_DEFINE(ENABLE_THREADS,1,[ENABLE_THREADS])



From gruntster at mail.berlios.de  Sat Sep 20 15:47:05 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 20 Sep 2008 15:47:05 +0200
Subject: [Avidemux-svn-commit] r4378 - in
	branches/avidemux_2.4_branch/platforms/windows:
	build_scripts/avidemux_2.4 installer
Message-ID: <200809201347.m8KDl5iW009325@sheep.berlios.de>

Author: gruntster
Date: 2008-09-20 15:46:59 +0200 (Sat, 20 Sep 2008)
New Revision: 4378

Modified:
   branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Package Notes.xml
   branches/avidemux_2.4_branch/platforms/windows/installer/avidemux.nsi
Log:
[Win32] update installer script to include new GTK+ dependencies

Modified: branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Package Notes.xml
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Package Notes.xml	2008-09-20 13:45:41 UTC (rev 4377)
+++ branches/avidemux_2.4_branch/platforms/windows/build_scripts/avidemux_2.4/Package Notes.xml	2008-09-20 13:46:59 UTC (rev 4378)
@@ -1,5 +1,18 @@
 <?xml version="1.0"?>
 <log>
+  <buildentry revision="4376" date="2008-09-20">
+    <comment>Updated ATK to version 1.22.0-2.</comment>
+    <comment>Updated GLib to version 2.18.1-1.</comment>
+    <comment>Updated GTK+ to version 2.14.2-1.</comment>
+    <comment>Updated Libxml2 to version 2.7.1.</comment>
+    <comment>Updated Pango to version 1.20.5-2.</comment>
+    <comment>Updated Qt to version 4.4.2.</comment>
+    <comment>Updated x264 to r979 (patched).</comment>
+  </buildentry>  
+  <buildentry revision="4346" date="2008-09-14">
+    <comment>Reverted GTK+ back to original 2.14.1 (Avidemux has now been fixed).</comment>
+    <comment>Updated x264 to r968 (patched).</comment>
+  </buildentry>
   <buildentry revision="4324" date="2008-09-11">
     <comment>Patched GTK+ 2.14.1 to fix incorrect spin button ranges.</comment>
   </buildentry>

Modified: branches/avidemux_2.4_branch/platforms/windows/installer/avidemux.nsi
===================================================================
--- branches/avidemux_2.4_branch/platforms/windows/installer/avidemux.nsi	2008-09-20 13:45:41 UTC (rev 4377)
+++ branches/avidemux_2.4_branch/platforms/windows/installer/avidemux.nsi	2008-09-20 13:46:59 UTC (rev 4378)
@@ -223,6 +223,7 @@
         SetOutPath $INSTDIR
         File ${BUILDDIR}\avidemux2_gtk.exe
         File ${BUILDDIR}\gtk2_prefs.exe
+        File ${BUILDDIR}\jpeg62.dll
         File ${BUILDDIR}\libatk-1.0-0.dll
         File ${BUILDDIR}\libcairo-2.dll
         File ${BUILDDIR}\libgdk_pixbuf-2.0-0.dll
@@ -236,6 +237,7 @@
         File ${BUILDDIR}\libpango-1.0-0.dll
         File ${BUILDDIR}\libpangocairo-1.0-0.dll
         File ${BUILDDIR}\libpangowin32-1.0-0.dll
+        File ${BUILDDIR}\libtiff3.dll
         WriteRegStr HKLM "${REGKEY}\Components" GTK+ 1
     SectionEnd
     
@@ -468,6 +470,7 @@
 SectionEnd
 
 Section /o un.GTK+ UnSecUiGtk
+	Delete /REBOOTOK $INSTDIR\libtiff3.dll
     Delete /REBOOTOK $INSTDIR\libpangowin32-1.0-0.dll
     Delete /REBOOTOK $INSTDIR\libpangocairo-1.0-0.dll
     Delete /REBOOTOK $INSTDIR\libpango-1.0-0.dll
@@ -481,6 +484,7 @@
     Delete /REBOOTOK $INSTDIR\libgdk_pixbuf-2.0-0.dll
     Delete /REBOOTOK $INSTDIR\libcairo-2.dll
     Delete /REBOOTOK $INSTDIR\libatk-1.0-0.dll
+    Delete /REBOOTOK $INSTDIR\jpeg62.dll
     Delete /REBOOTOK $INSTDIR\gtk2_prefs.exe
     Delete /REBOOTOK $INSTDIR\avidemux2_gtk.exe
     RmDir /r /REBOOTOK $INSTDIR\share\themes



From gruntster at mail.berlios.de  Sat Sep 20 15:49:57 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 20 Sep 2008 15:49:57 +0200
Subject: [Avidemux-svn-commit] r4379 - branches/avidemux_2.4_branch/po
Message-ID: <200809201349.m8KDnvsj009471@sheep.berlios.de>

Author: gruntster
Date: 2008-09-20 15:49:50 +0200 (Sat, 20 Sep 2008)
New Revision: 4379

Modified:
   branches/avidemux_2.4_branch/po/avidemux_it.ts
   branches/avidemux_2.4_branch/po/it.po
Log:
[I18N] Italian update by zoppo

Modified: branches/avidemux_2.4_branch/po/avidemux_it.ts
===================================================================
--- branches/avidemux_2.4_branch/po/avidemux_it.ts	2008-09-20 13:46:59 UTC (rev 4378)
+++ branches/avidemux_2.4_branch/po/avidemux_it.ts	2008-09-20 13:49:50 UTC (rev 4379)
@@ -305,7 +305,7 @@
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp" line="62"/>
         <source>_Dynamic range compression</source>
-        <translation>Compressione campo _dinamico</translation>
+        <translation>Compressione intervallo _dinamico</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp" line="64"/>
@@ -355,17 +355,17 @@
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp" line="93"/>
         <source>_Gain mode:</source>
-        <translation>Modalit? _Gain:</translation>
+        <translation>Modalit? _guadagno:</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp" line="95"/>
         <source>G_ain value:</source>
-        <translation>Valore G_ain:</translation>
+        <translation>V_alore guadagno:</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp" line="97"/>
         <source>Gain</source>
-        <translation>Gain</translation>
+        <translation>Amplificazione</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp" line="102"/>
@@ -613,7 +613,7 @@
         <translation>_Secondi:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="41"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="22"/>
         <source>_Swap U and V</source>
         <translation>_Inverti U e V</translation>
     </message>
@@ -768,22 +768,22 @@
         <translation>_Qualit?:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="40"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="21"/>
         <source>_Filter strength:</source>
         <translation>Intensit? _filtro:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="51"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="32"/>
         <source>_Horizontal deblocking</source>
         <translation>Deblocking o_rizzontale</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="52"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="33"/>
         <source>_Vertical deblocking</source>
         <translation>Deblocking _verticale</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="53"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="34"/>
         <source>_Deringing</source>
         <translation>_Deringing</translation>
     </message>
@@ -1277,6 +1277,11 @@
         <source>Save Job</source>
         <translation>Salva attivit?</translation>
     </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="38"/>
+        <source>Postprocessing</source>
+        <translation>Postprocessing</translation>
+    </message>
 </context>
 <context>
     <name>@default</name>
@@ -1363,17 +1368,12 @@
 Cambia il codec o usa il filtro mixer per ridurre i canali.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_codecs/ADM_ffmp43.cpp" line="45"/>
-        <source>Internal error finding codec</source>
-        <translation>Errore interno nel cercare i codec</translation>
-    </message>
-    <message>
         <location filename="../avidemux/ADM_codecs/ADM_ffmpeg.cpp" line="49"/>
         <source>Internal error opening codec</source>
         <translation>Errore interno nell&apos;aprire i codec</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_codecs/ADM_ffmpeg.cpp" line="51"/>
+        <location filename="../avidemux/ADM_codecs/ADM_ffmpeg.cpp" line="52"/>
         <source>Internal error with context for  codec.
  Did you use too low / too high target for 2 pass ?</source>
         <translation>Errore interno con il contesto per il codec.  Hai usato un obiettivo troppo basso/alto per 2 passate?</translation>
@@ -1414,7 +1414,7 @@
         <translation>MPEG video</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="131"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="130"/>
         <source>MP4</source>
         <translation>MP4</translation>
     </message>
@@ -1424,17 +1424,17 @@
         <translation>OGM</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="130"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="129"/>
         <source>PSP</source>
         <translation>PSP</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="277"/>
+        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="254"/>
         <source>FLV</source>
         <translation>FLV</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="132"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="131"/>
         <source>MKV</source>
         <translation>MKV</translation>
     </message>
@@ -1444,32 +1444,32 @@
         <translation>DUMMY</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="191"/>
+        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="192"/>
         <source>Wrong output format</source>
         <translation>Formato in uscita errato</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="191"/>
+        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="192"/>
         <source>Select MPEG as the output.</source>
         <translation>Seleziona MPEG come output.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="196"/>
+        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="197"/>
         <source>Wrong video codec</source>
         <translation>Codec video errato</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="197"/>
+        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="198"/>
         <source>Select DVD as the video codec for MPEG TS output.</source>
         <translation>Seleziona DVD come codec video per l&apos;output MPEG TS.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="717"/>
+        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="719"/>
         <source>Only QCIF and subQCIF are allowed for H.263</source>
         <translation>Solo QCIF e subQCIF sono consentiti per H.263</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="909"/>
+        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="911"/>
         <source>Fatal error</source>
         <translation>Errore fatale</translation>
     </message>
@@ -1504,7 +1504,7 @@
         <translation>Ci sono diversi file mpeg, vuoi unirli?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp" line="250"/>
+        <location filename="../avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp" line="244"/>
         <source>Can&apos;t determine aspect ratio</source>
         <translation>Impossibile determinare le proporzioni</translation>
     </message>
@@ -1647,22 +1647,22 @@
         <translation>Oops</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="211"/>
+        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="239"/>
         <source>can&apos;t create custom directory (%s).</source>
         <translation>impossibile creare la cartella preferiti (%s).</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="235"/>
+        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="263"/>
         <source>can&apos;t create job directory (%s).</source>
         <translation>impossibile creare la cartella attivit? (%s).</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="277"/>
+        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="305"/>
         <source>can&apos;t determine $HOME.</source>
         <translation>impossibile determinare $HOME.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="290"/>
+        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="318"/>
         <source>Cannot create the .avidemux directory</source>
         <translation>Impossibile creare la cartella .avidemux</translation>
     </message>
@@ -1714,12 +1714,12 @@
     <message>
         <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="82"/>
         <source>Mux _every x video frames:</source>
-        <translation>_Esegui muxing ogni x fotogrammi:</translation>
+        <translation>_Esegui muxing ogni N fotogrammi:</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="83"/>
         <source>Mux in _blocks of x bytes:</source>
-        <translation>Esegui muxing in _blocchi di x byte:</translation>
+        <translation>Esegui muxing in _blocchi di X byte:</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="90"/>
@@ -1727,12 +1727,12 @@
         <translation>Opzioni Muxer AVI</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="156"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="155"/>
         <source>Cannot initialize the video stream</source>
         <translation>Impossibile inizializzare il flusso video</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="176"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="175"/>
         <source>Filter init failed</source>
         <translation>Inizializzazione filtro fallita</translation>
     </message>
@@ -1742,59 +1742,54 @@
         <translation>Errore durante la codifica</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="226"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="461"/>
         <source>KeyFrame error</source>
         <translation>Errore fotogramma chiave</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="226"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="461"/>
         <source>The beginning frame is not a key frame.
 Please move the A marker.</source>
         <translation>Il fotogramma iniziale non ? un fotogramma chiave.
 Spostare il segnalibro A.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="145"/>
+        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="144"/>
         <source>Unsupported video</source>
         <translation>Video non supportato</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="145"/>
+        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="144"/>
         <source>Only FLV1 and VP6 video are supported</source>
         <translation>Sono supportati solo i video FLV1 e VP6</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="172"/>
+        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="171"/>
         <source>Unsupported audio</source>
         <translation>Audio non supportato</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="167"/>
+        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="166"/>
         <source>Audio must be mp3 for flv output.</source>
         <translation>L&apos;audio di un video flv deve essere mp3.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="172"/>
+        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="171"/>
         <source>Frequency must be 44100, 22050 or 11025 Hz.</source>
         <translation>La frequenza deve essere 44100, 22050 o 11025 Hz.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="253"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="230"/>
         <source>Cannot initialize the audio stream</source>
         <translation>Impossibile inizializzare il flusso audio</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="417"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="414"/>
         <source>
  Reuse the existing log-file ?</source>
         <translation>  Riutilizzare il file log esistente?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="453"/>
-        <source>Aborting</source>
-        <translation>Annullamento in corso</translation>
-    </message>
-    <message>
         <location filename="../avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp" line="89"/>
         <source>This is not MPEG compatible</source>
         <translation>Non ? compatibile con MPEG</translation>
@@ -2160,27 +2155,27 @@
         <translation>Vuoi annullare l&apos;indicizzazione?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="580"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="817"/>
         <source>Partial Start Frame:</source>
         <translation>Fotogramma di inizio:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="581"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="818"/>
         <source>Partial End Frame:</source>
         <translation>Fotogramma di fine:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="582"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="819"/>
         <source>Configure child</source>
         <translation>Configura filtro parziale</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="585"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="822"/>
         <source>Partial Video Filter</source>
         <translation>Filtro video parziale</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp" line="876"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp" line="885"/>
         <source>%c (%02d)</source>
         <translation>%c (%02d)</translation>
     </message>
@@ -2242,7 +2237,7 @@
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp" line="189"/>
         <source>_Use systray while encoding</source>
-        <translation>_Usa area di notifica durante la codifica</translation>
+        <translation>Rid_uci nell&apos;area di notifica durante la codifica</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp" line="190"/>
@@ -2595,42 +2590,42 @@
         <translation>Preferenze</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="89"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="98"/>
         <source>_Subtitle file:</source>
         <translation>File _sottotitoli:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="90"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="99"/>
         <source>_Font (TTF):</source>
         <translation>Carattere (_TTF):</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="105"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="114"/>
         <source>_Encoding:</source>
         <translation>Co_difica:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="107"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="116"/>
         <source>S_elect C_olor</source>
         <translation>Seleziona co_lore</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="108"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="117"/>
         <source>Set Size and _Position</source>
         <translation>Imposta dimensione e _posizione</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="109"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="118"/>
         <source>_Auto split</source>
         <translation>A capo _automatico</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="110"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="119"/>
         <source>_Delay (ms):</source>
         <translation>_Ritardo (ms):</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="113"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="122"/>
         <source>Subtitler</source>
         <translation>Sottotitolatore</translation>
     </message>
@@ -3347,12 +3342,12 @@
         <translation>Seleziona la cartella filtri</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="89"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="98"/>
         <source>Select Subtitle file</source>
         <translation>Seleziona un file sottotitoli</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="90"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="99"/>
         <source>Select TTF file</source>
         <translation>Seleziona un file TTF</translation>
     </message>
@@ -4189,7 +4184,7 @@
     <message>
         <location filename="../avidemux/ADM_filter/filter_declaration.cpp" line="186"/>
         <source>&quot;Erase&quot; arbitrary areas of each frame</source>
-        <translation>&quot;Cancella&quot; aree arbitrarie di ogni fotogramma</translation>
+        <translation>&quot;Cancella&quot; aree arbitrarie di ogni fotogramma.</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_filter/filter_declaration.cpp" line="98"/>
@@ -4302,47 +4297,47 @@
         <translation>MJPEG (lavc)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="314"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="332"/>
         <source>VCD (lavc)</source>
         <translation>VCD (lavc)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="374"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="392"/>
         <source>DVD (lavc)</source>
         <translation>DVD (lavc)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="434"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="452"/>
         <source>SVCD (lavc)</source>
         <translation>SVCD (lavc)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="461"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="479"/>
         <source>VCD (mpeg2enc)</source>
         <translation>VCD (mpeg2enc)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="493"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="511"/>
         <source>SVCD (mpeg2enc)</source>
         <translation>SVCD (mpeg2enc)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="512"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="530"/>
         <source>MPEG-2 requant</source>
         <translation>MPEG-2 requant</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="671"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="689"/>
         <source>MPEG-4 ASP (Xvid4)</source>
         <translation>MPEG-4 ASP (Xvid4)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="812"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="830"/>
         <source>MPEG-4 AVC (x264)</source>
         <translation>MPEG-4 AVC (x264)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="829"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="847"/>
         <source>dummy</source>
         <translation>dummy</translation>
     </message>
@@ -4352,77 +4347,77 @@
         <translation>Copia</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="485"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="496"/>
         <source>DTS</source>
         <translation>DTS</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="487"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="498"/>
         <source>MP2</source>
         <translation>MP2</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="488"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="499"/>
         <source>MP3</source>
         <translation>MP3</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="489"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="500"/>
         <source>WMA</source>
         <translation>WMA</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="490"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="501"/>
         <source>LPCM</source>
         <translation>LPCM</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="491"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="502"/>
         <source>AC3</source>
         <translation>AC3</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="492"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="503"/>
         <source>Ogg Vorbis</source>
         <translation>Ogg Vorbis</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="494"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="505"/>
         <source>AAC</source>
         <translation>AAC</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="495"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="506"/>
         <source>QDM2</source>
         <translation>QDM2</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="496"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="507"/>
         <source>AMR-NB</source>
         <translation>AMR-NB</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="497"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="508"/>
         <source>MSADPCM</source>
         <translation>MSADPCM</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="498"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="509"/>
         <source>ULAW</source>
         <translation>ULAW</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="499"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="510"/>
         <source>IMA ADPCM</source>
         <translation>IMA ADPCM</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="500"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="511"/>
         <source>8-bit PCM</source>
         <translation>PCM 8-bit</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="502"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="513"/>
         <source>Unknown codec</source>
         <translation>Codec sconosciuto</translation>
     </message>
@@ -4437,12 +4432,12 @@
         <translation>Codifica in corso</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="426"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="422"/>
         <source>1st Pass</source>
         <translation>1a passata</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="483"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="493"/>
         <source>2nd Pass</source>
         <translation>2a passata</translation>
     </message>
@@ -4527,7 +4522,7 @@
         <translation>Passata 2/2</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="539"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="557"/>
         <source>DVD (mpeg2enc)</source>
         <translation>DVD (mpeg2enc)</translation>
     </message>
@@ -4566,7 +4561,7 @@
 Puoi farlo successivamente con \&quot;Audio -&gt; Crea time map VBR\&quot;.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="603"/>
+        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="631"/>
         <source>%s already exists.
 
 Do you want to replace it?</source>
@@ -4575,62 +4570,47 @@
 Vuoi sostituirlo?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="644"/>
+        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="672"/>
         <source>It is possible that you are trying to overwrite an input file!</source>
         <translation>? possibile che tu stia provando a sovrascrivere un file di ingresso!</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="655"/>
+        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="683"/>
         <source>Cannot write the file</source>
         <translation>Impossibile scrivere il file</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="655"/>
+        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="683"/>
         <source>No write access to &quot;%s&quot;.</source>
         <translation>Divieto di scrittura per \&quot;%s\&quot;.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="51"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="53"/>
         <source>Chinese Simplified (GB2312)</source>
         <translation>Cinese semplificato (GB2312)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="52"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="54"/>
         <source>Chinese Traditional (Big5)</source>
         <translation>Cinese tradizionale (Big5)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="53"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="55"/>
         <source>Cyrillic</source>
         <translation>Cirillico</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="54"/>
-        <source>Czech</source>
-        <translation>Ceco</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="55"/>
-        <source>German</source>
-        <translation>Tedesco</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="56"/>
-        <source>Latin-1</source>
-        <translation>Latin-1</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="57"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="60"/>
         <source>Slovene</source>
         <translation>Sloveno</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="58"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="62"/>
         <source>UTF-8</source>
         <translation>UTF-8</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="59"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="63"/>
         <source>UTF-16</source>
         <translation>UTF-16</translation>
     </message>
@@ -4670,17 +4650,17 @@
         <translation>Cambia frame rate</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="264"/>
+        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="292"/>
         <source>Can&apos;t determine the Application Data folder.</source>
         <translation>Impossibile determinare la cartella Application Data.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="271"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="248"/>
         <source>Invalid audio stream detected</source>
         <translation>Rilevato flusso audio non valido</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="271"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="248"/>
         <source>The audio stream may be invalid for this container.
 
 Continue anyway?</source>
@@ -4701,8 +4681,53 @@
     <message>
         <location filename="../avidemux/ADM_filter/filter_declaration.cpp" line="190"/>
         <source>Print frame number directly in image</source>
-        <translation>Stampa numero fotogramma direttamente sull&apos;immagine</translation>
+        <translation>Stampa numero fotogramma direttamente sull&apos;immagine.</translation>
     </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="51"/>
+        <source>Arabic</source>
+        <translation>Arabo</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="52"/>
+        <source>Baltic</source>
+        <translation>Baltico</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="56"/>
+        <source>Latin-1 (Western European)</source>
+        <translation>Latino-1 (Europa occidentale)</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="57"/>
+        <source>Latin-2 (Central European)</source>
+        <translation>Latino-2 (Europa centrale)</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="58"/>
+        <source>Greek</source>
+        <translation>Greco</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="59"/>
+        <source>Hebrew</source>
+        <translation>Ebraico</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="61"/>
+        <source>Turkish</source>
+        <translation>Turco</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_codecs/ADM_ffmp43.cpp" line="45"/>
+        <source>Internal error finding codec &apos;&apos;</source>
+        <translation>Errore interno nel cercare il codec &apos;&apos;</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="272"/>
+        <source>Y800 (lavc)</source>
+        <translation>Y800 (lavc)</translation>
+    </message>
 </context>
 <context>
     <name>ADMImage</name>
@@ -4993,12 +5018,12 @@
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp" line="87"/>
         <source>Top</source>
-        <translation>Alto</translation>
+        <translation>Superiore</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp" line="88"/>
         <source>Bottom</source>
-        <translation>Basso</translation>
+        <translation>Inferiore</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp" line="92"/>
@@ -5244,7 +5269,7 @@
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidMosaic.cpp" line="93"/>
         <source>Show _frame</source>
-        <translation>Mostra _fotogramma</translation>
+        <translation>Mostra numero _fotogramma</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidMosaic.cpp" line="98"/>
@@ -5917,7 +5942,7 @@
         <source>If the file is using B-frames as reference it can lead to a crash or stuttering.
 Avidemux can use another mode which is safe but YOU WILL LOSE FRAME ACCURACY.
 Do you want to use that mode?</source>
-        <translation>Se il file sta utilizzando un fotogramma-B come riferimento, potrebbe causare un crash o una riproduzione a scatti.
+        <translation>Se il file sta utilizzando fotogrammi-B come riferimento, potrebbe causare un crash o una riproduzione a scatti.
 Avidemux pu? utilizzare un&apos;altra modalit? pi? sicura, ma PERDERAI PRECISIONE NEI FOTOGRAMMI.
 Vuoi usare questa modalit??</translation>
     </message>
@@ -6011,22 +6036,22 @@
 <context>
     <name>ADM_ogmWrite</name>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="112"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="113"/>
         <source>File error</source>
         <translation>Errore file</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="112"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="113"/>
         <source>Cannot open &quot;%s&quot; for writing.</source>
         <translation>Impossibile aprire &quot;%s&quot; per la scrittura.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="126"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="127"/>
         <source>Could not initialize video</source>
         <translation>Impossibile avviare il video</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="134"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="135"/>
         <source>Could not initialize audio</source>
         <translation>Impossibile avviare l&apos;audio</translation>
     </message>
@@ -6041,7 +6066,7 @@
         <translation>Copia</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="119"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="120"/>
         <source>OGM</source>
         <translation>OGM</translation>
     </message>
@@ -6062,29 +6087,29 @@
 <context>
     <name>ADM_ogmWriteProcess</name>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="76"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="78"/>
         <source>Filter init failed</source>
         <translation>Inizializzazione filtro fallita</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="100"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="103"/>
         <source>
  Reuse the existing log-file ?</source>
         <translation>
  Riutilizzare il file log esistente?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="111"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="114"/>
         <source>Pass one</source>
         <translation>Passata 1</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="139"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="163"/>
         <source>Pass 2</source>
         <translation>Passata 2</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="143"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="167"/>
         <source>Encoding</source>
         <translation>Codifica in corso</translation>
     </message>
@@ -6183,12 +6208,12 @@
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp" line="107"/>
         <source>Top</source>
-        <translation>Alto</translation>
+        <translation>Superiore</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp" line="108"/>
         <source>Bottom</source>
-        <translation>Basso</translation>
+        <translation>Inferiore</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp" line="111"/>
@@ -6491,12 +6516,12 @@
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidDGbob.cpp" line="81"/>
         <source>Top</source>
-        <translation>Alto</translation>
+        <translation>Superiore</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidDGbob.cpp" line="82"/>
         <source>Bottom</source>
-        <translation>Basso</translation>
+        <translation>Inferiore</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidDGbob.cpp" line="85"/>
@@ -6547,22 +6572,22 @@
 <context>
     <name>DIA_encoding</name>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="177"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="218"/>
         <source>Shutting down</source>
         <translation>Arresto in corso</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="466"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="510"/>
         <source>The encoding is paused. Do you want to resume or abort?</source>
         <translation>La codifica ? in pausa. Vuoi ripristinarla o annullarla?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="467"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="511"/>
         <source>Resume</source>
         <translation>Ripristina</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="467"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="511"/>
         <source>Abort</source>
         <translation>Annulla</translation>
     </message>
@@ -6736,41 +6761,31 @@
         <translation>Luminosit?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="13"/>
-        <source>Dialog</source>
-        <translation>Finestra</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="35"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="83"/>
         <source>Reset</source>
         <translation>Ripristina</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="42"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="111"/>
         <source>Left:</source>
         <translation>Sinistra:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="49"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="40"/>
         <source>Top:</source>
         <translation>Alto:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="56"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="104"/>
         <source>Bottom:</source>
         <translation>Basso:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="66"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="33"/>
         <source>Right:</source>
         <translation>Destra:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="92"/>
-        <source>AutCrop</source>
-        <translation>AutoCrop</translation>
-    </message>
-    <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/encoding.ui" line="13"/>
         <source>Encoding...</source>
         <translation>Codifica in corso...</translation>
@@ -7004,7 +7019,7 @@
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/props.ui" line="117"/>
         <source>Codec 4CC:</source>
-        <translation>4CC Codec:</translation>
+        <translation>4CC codec:</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/props.ui" line="127"/>
@@ -7069,80 +7084,40 @@
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="13"/>
         <source>Resize</source>
-        <translation>Ridimensiona</translation>
+        <translation>Ridimensionamento</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="42"/>
-        <source>Error X : 0.00</source>
-        <translation>Errore X : 0.00</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="49"/>
-        <source>Error Y: 0.00</source>
-        <translation>Errore Y : 0.00</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="86"/>
-        <source>16 round up</source>
-        <translation>Arrotonda a 16</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="103"/>
-        <source>Width</source>
-        <translation>Larghezza</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="110"/>
-        <source>Height</source>
-        <translation>Altezza</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="147"/>
-        <source>Source A:R</source>
-        <translation>Sorgente A/R</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="154"/>
-        <source>Destination A/R</source>
-        <translation>Destinazione A/R</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="161"/>
-        <source>Resize Method</source>
-        <translation>Metodo di ridimensionam.</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="170"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="307"/>
         <source>Percent</source>
         <translation>          %</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="205"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="105"/>
         <source>1:1</source>
         <translation>1:1</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="210"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="110"/>
         <source>4:3</source>
         <translation>4:3</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="215"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="115"/>
         <source>16:9</source>
         <translation>16:9</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="224"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="443"/>
         <source>Bilinear</source>
         <translation>Bilineare</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="229"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="448"/>
         <source>Bicubic</source>
-        <translation>Bicubica</translation>
+        <translation>Bicubico</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="234"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="453"/>
         <source>Lanzcos3</source>
         <translation>Lanzcos3</translation>
     </message>
@@ -7182,130 +7157,225 @@
         <translation>Gestore filtri video</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="61"/>
-        <source>&amp;SVCD res</source>
-        <translation>Ris. &amp;SVCD</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="85"/>
-        <source>&amp;VCD res</source>
-        <translation>Ris. &amp;VCD</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="109"/>
-        <source>&amp;Half D1 res</source>
-        <translation>Ris. &amp;Half D1</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="133"/>
-        <source>&amp;DVD res</source>
-        <translation>Ris. &amp;DVD</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="244"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="199"/>
         <source>Transform</source>
         <translation>Trasforma</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="252"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="207"/>
         <source>Interlacing</source>
         <translation>Interlacciamento</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="260"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="215"/>
         <source>Colors</source>
         <translation>Colori</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="268"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="223"/>
         <source>Noise</source>
         <translation>Rumore</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="276"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="231"/>
         <source>Sharpness</source>
         <translation>Nitidezza</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="284"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="239"/>
         <source>Subtitles</source>
         <translation>Sottotitoli</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="292"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="247"/>
         <source>Miscellaneous</source>
         <translation>Varie</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="300"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="255"/>
         <source>External</source>
         <translation>Esterni</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="335"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="290"/>
         <source>&lt;big&gt;&lt;b&gt;Active Filters&lt;/b&gt;&lt;/big&gt;</source>
         <translation>&lt;big&gt;&lt;b&gt;Filtri attivi&lt;/b&gt;&lt;/big&gt;</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="395"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="347"/>
         <source>C&amp;onfigure</source>
         <translation>C&amp;onfigura</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="410"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="362"/>
         <source>P&amp;artial</source>
         <translation>P&amp;arziale</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="417"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="372"/>
         <source>Load</source>
         <translation>Carica</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="427"/>
-        <source>Save</source>
-        <translation>Salva</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="437"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="385"/>
         <source>Save Script</source>
         <translation>Salva script</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="447"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="398"/>
         <source>Down</source>
         <translation>Gi?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="457"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="411"/>
         <source>Up</source>
         <translation>Su</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="467"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="424"/>
         <source>Remove</source>
         <translation>Rimuovi</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="500"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="460"/>
         <source>Add</source>
         <translation>Aggiungi</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="523"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="483"/>
         <source>&lt;big&gt;&lt;b&gt;Available Filters&lt;/b&gt;&lt;/big&gt;</source>
         <translation>&lt;big&gt;&lt;b&gt;Filtri disponibili&lt;/b&gt;&lt;/big&gt;</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="572"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="532"/>
         <source>&amp;Preview</source>
         <translation>Ante&amp;prima</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="582"/>
-        <source>&amp;Close</source>
-        <translation>&amp;Chiudi</translation>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="13"/>
+        <source>Crop</source>
+        <translation>Crop</translation>
     </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="141"/>
+        <source>Auto Crop</source>
+        <translation>Auto Crop</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="25"/>
+        <source>Aspect Ratio</source>
+        <translation>Proporzioni</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="37"/>
+        <source>Lock Aspect Ratio</source>
+        <translation>Blocca proporzioni</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="55"/>
+        <source>Source:</source>
+        <translation>Sorgente:</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="97"/>
+        <source>Destination:</source>
+        <translation>Destinazione:</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="141"/>
+        <source>Resize Dimensions</source>
+        <translation>Dimensioni</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="161"/>
+        <source>Width:</source>
+        <translation>Larghezza:</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="197"/>
+        <source>Height:</source>
+        <translation>Altezza:</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="232"/>
+        <source>Round to the Nearest Multiple of 16</source>
+        <translation>Arrotonda al pi? vicino multiplo di 16</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="287"/>
+        <source>1%</source>
+        <translation>1%</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="327"/>
+        <source>200%</source>
+        <translation>200%</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="377"/>
+        <source>Error X / Y:</source>
+        <translation>Errore X / Y:</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="384"/>
+        <source>0.00 / 0.00</source>
+        <translation>0.00 / 0.00</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="435"/>
+        <source>Resize Method:</source>
+        <translation>Metodo di ridimensionamento:</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="61"/>
+        <source>&amp;SVCD Res</source>
+        <translation>Ris. &amp;SVCD</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="85"/>
+        <source>&amp;VCD Res</source>
+        <translation>Ris. &amp;VCD</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="109"/>
+        <source>&amp;Half D1 Res</source>
+        <translation>Ris. &amp;Half D1</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="133"/>
+        <source>&amp;DVD Res</source>
+        <translation>Ris. &amp;DVD</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="369"/>
+        <source>Open Script</source>
+        <translation>Apri script</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="382"/>
+        <source>Save Script As</source>
+        <translation>Salva script con nome</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="395"/>
+        <source>Move Filter Down</source>
+        <translation>Sposta il filtro verso il basso</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="408"/>
+        <source>Move Filter Up</source>
+        <translation>Sposta il filtro verso l&apos;alto</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="421"/>
+        <source>Remove Filter</source>
+        <translation>Rimuovi filtro</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="457"/>
+        <source>Add Filter</source>
+        <translation>Aggiungi filtro</translation>
+    </message>
 </context>
 <context>
     <name>DialogEq2</name>
@@ -7444,7 +7514,7 @@
 <context>
     <name>EncoderCopy</name>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encCopy.cpp" line="91"/>
+        <location filename="../avidemux/ADM_encoder/adm_encCopy.cpp" line="94"/>
         <source>Copy</source>
         <translation>Copia</translation>
     </message>
@@ -7452,7 +7522,7 @@
 <context>
     <name>EncoderDivx</name>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encdivx.h" line="52"/>
+        <location filename="../avidemux/ADM_encoder/adm_encdivx.h" line="53"/>
         <source>DivX</source>
         <translation>DivX</translation>
     </message>
@@ -7460,7 +7530,7 @@
 <context>
     <name>EncoderFFMPEG</name>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encffmpeg.h" line="47"/>
+        <location filename="../avidemux/ADM_encoder/adm_encffmpeg.h" line="48"/>
         <source>LavCodec</source>
         <translation>LavCodec</translation>
     </message>
@@ -7468,12 +7538,12 @@
 <context>
     <name>EncoderFFMPEGDV</name>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encffmpeg.cpp" line="261"/>
+        <location filename="../avidemux/ADM_encoder/adm_encffmpeg.cpp" line="278"/>
         <source>Incompatible settings</source>
         <translation>Impostazioni incompatibili</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encffmpeg.cpp" line="261"/>
+        <location filename="../avidemux/ADM_encoder/adm_encffmpeg.cpp" line="278"/>
         <source>At the moment, the DV codec only accepts 720*576 at 25</source>
         <translation>Al momento, il codec DV accetta solo 720*576 at 25</translation>
     </message>
@@ -7481,7 +7551,7 @@
 <context>
     <name>EncoderMjpeg</name>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encmjpeg.h" line="60"/>
+        <location filename="../avidemux/ADM_encoder/adm_encmjpeg.h" line="61"/>
         <source>MJPEG</source>
         <translation>MJPEG</translation>
     </message>
@@ -7489,7 +7559,7 @@
 <context>
     <name>EncoderMpeg2enc</name>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encmpeg2enc.h" line="57"/>
+        <location filename="../avidemux/ADM_encoder/adm_encmpeg2enc.h" line="58"/>
         <source>MPEG</source>
         <translation>MPEG</translation>
     </message>
@@ -7497,7 +7567,7 @@
 <context>
     <name>EncoderRequant</name>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encRequant.cpp" line="98"/>
+        <location filename="../avidemux/ADM_encoder/adm_encRequant.cpp" line="101"/>
         <source>Requant</source>
         <translation>Requant</translation>
     </message>
@@ -7521,7 +7591,7 @@
 <context>
     <name>EncoderXvid4</name>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encXvid4.h" line="62"/>
+        <location filename="../avidemux/ADM_encoder/adm_encXvid4.h" line="63"/>
         <source>Xvid4</source>
         <translation>Xvid4</translation>
     </message>
@@ -7529,7 +7599,7 @@
 <context>
     <name>EncoderYV12</name>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encyv12.h" line="69"/>
+        <location filename="../avidemux/ADM_encoder/adm_encyv12.h" line="70"/>
         <source>YV12</source>
         <translation>YV12</translation>
     </message>
@@ -7537,32 +7607,32 @@
 <context>
     <name>GenericAviSave</name>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="188"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="189"/>
         <source>Error initalizing audio filters</source>
         <translation>Errore di inizializzazione filtri audio</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="197"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="198"/>
         <source>Error initalizing video filters</source>
         <translation>Errore di inizializzazione filtri video</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="446"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="457"/>
         <source>Cannot initiate save</source>
         <translation>Impossibile iniziare il salvataggio</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="256"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="267"/>
         <source>None</source>
         <translation>Nessuno</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="367"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="378"/>
         <source>Copy</source>
         <translation>Copia</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="369"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="380"/>
         <source>AVI</source>
         <translation>AVI</translation>
     </message>
@@ -7621,7 +7691,7 @@
         <translation>Inizializzazione filtro fallita</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp" line="127"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp" line="128"/>
         <source>
  Reuse the existing log-file ?</source>
         <translation>
@@ -7633,17 +7703,17 @@
         <translation>Annullamento in corso</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp" line="136"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp" line="137"/>
         <source>1st Pass</source>
         <translation>1a passata</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp" line="246"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp" line="267"/>
         <source>Encoding</source>
         <translation>Codifica in corso</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp" line="250"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp" line="269"/>
         <source>2nd Pass</source>
         <translation>2a passata</translation>
     </message>
@@ -7687,12 +7757,12 @@
 <context>
     <name>MP4Header</name>
     <message>
-        <location filename="../avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp" line="594"/>
+        <location filename="../avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp" line="631"/>
         <source>Problem reading SVQ3 headers</source>
         <translation>Problema di lettura delle intestazioni SVQ3</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp" line="346"/>
+        <location filename="../avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp" line="345"/>
         <source>No stts table</source>
         <translation>Nessun table stts</translation>
     </message>
@@ -7720,7 +7790,7 @@
         <translation>Configura</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2003"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2016"/>
         <source>Filters</source>
         <translation>Filtri</translation>
     </message>
@@ -7735,840 +7805,845 @@
         <translation>&amp;Ritardo:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="454"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="467"/>
         <source>&lt;b&gt;Format&lt;/b&gt;</source>
         <translation>&lt;b&gt;Formato&lt;/b&gt;</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1407"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1420"/>
         <source>...</source>
         <translation>...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="967"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="980"/>
         <source>Frame:</source>
         <translation>Fotogramma:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="992"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1005"/>
         <source>0</source>
         <translation>0</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1014"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1027"/>
         <source>/ 0</source>
         <translation>/ 0</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1054"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1067"/>
         <source>Time:</source>
         <translation>Tempo:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1073"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1086"/>
         <source>00:00:00.000</source>
         <translation>00:00:00.000</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1089"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1102"/>
         <source>/ 00:00:00.000</source>
         <translation>/ 00:00:00.000</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1123"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1136"/>
         <source>Frame Type:</source>
         <translation>Tipo di fotogramma:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1136"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1149"/>
         <source>?</source>
         <translation>?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1232"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1245"/>
         <source>Selection</source>
         <translation>Selezione</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1258"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1271"/>
         <source> B:</source>
         <translation> B:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1282"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1295"/>
         <source> A:</source>
         <translation> A:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1345"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1358"/>
         <source>000000</source>
         <translation>000000</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1462"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1475"/>
         <source>&amp;Help</source>
         <translation>A&amp;iuto</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1469"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1482"/>
         <source>Vi&amp;deo</source>
         <translation>Vi&amp;deo</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1479"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1492"/>
         <source>&amp;Audio</source>
         <translation>&amp;Audio</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1490"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1503"/>
         <source>&amp;File</source>
         <translation>&amp;File</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1494"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1507"/>
         <source>&amp;Recent Files</source>
         <translation>File &amp;recenti</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1503"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1516"/>
         <source>&amp;Save</source>
         <translation>&amp;Salva</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1531"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1544"/>
         <source>&amp;Tools</source>
         <translation>&amp;Strumenti</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1546"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1559"/>
         <source>&amp;Edit</source>
         <translation>&amp;Modifica</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1562"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1575"/>
         <source>&amp;View</source>
         <translation>Visua&amp;lizza</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1566"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1579"/>
         <source>&amp;Preview Mode</source>
         <translation>&amp;Modalit? anteprima</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1583"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1596"/>
         <source>&amp;Custom</source>
         <translation>&amp;Preferiti</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1588"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1601"/>
         <source>&amp;Go</source>
         <translation>&amp;Vai</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1608"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1621"/>
         <source>A&amp;uto</source>
         <translation>A&amp;uto</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1671"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1684"/>
         <source>&amp;Open...</source>
         <translation>&amp;Apri...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1674"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1687"/>
         <source>Ctrl+O</source>
         <translation>Ctrl+O</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1679"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1692"/>
         <source>&amp;Append...</source>
         <translation>A&amp;ggiungi...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1682"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1695"/>
         <source>Ctrl+Alt+A</source>
         <translation>Ctrl+Alt+A</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1687"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1700"/>
         <source>&amp;Quit</source>
         <translation>&amp;Esci</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1692"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1705"/>
         <source>Cu&amp;t</source>
         <translation>&amp;Taglia</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1695"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1708"/>
         <source>Ctrl+X</source>
         <translation>Ctrl+X</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1700"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1713"/>
         <source>&amp;Copy</source>
         <translation>&amp;Copia</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1703"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1716"/>
         <source>Ctrl+C</source>
         <translation>Ctrl+C</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1708"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1721"/>
         <source>&amp;Paste</source>
         <translation>&amp;Incolla</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1711"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1724"/>
         <source>Ctrl+V</source>
         <translation>Ctrl+V</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1716"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1729"/>
         <source>&amp;Delete</source>
         <translation>&amp;Elimina</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1719"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1732"/>
         <source>Del</source>
         <translation>Canc</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1733"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1746"/>
         <source>Set Marker A</source>
         <translation>Imposta segnalibro A</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1736"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1749"/>
         <source>[</source>
         <translation>[</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1750"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1763"/>
         <source>Set Marker B</source>
         <translation>Imposta segnalibro B</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1753"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1766"/>
         <source>]</source>
         <translation>]</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1758"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1771"/>
         <source>Pre&amp;ferences...</source>
         <translation>&amp;Preferenze...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1766"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1779"/>
         <source>&amp;Information...</source>
         <translation>&amp;Informazioni...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1769"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1782"/>
         <source>Alt+Return</source>
         <translation>Alt+Invio</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1777"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1790"/>
         <source>Save &amp;Video...</source>
         <translation>Salva &amp;video...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1783"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1796"/>
         <source>Save Video</source>
         <translation>Salva video</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1791"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1804"/>
         <source>Save &amp;BMP Image...</source>
         <translation>Salva immagine &amp;BMP...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1797"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1810"/>
         <source>Save BMP Image</source>
         <translation>Salva immagine BMP</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1802"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1815"/>
         <source>Save &amp;JPEG Image...</source>
         <translation>Salva immagine &amp;JPEG...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1808"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1821"/>
         <source>Save JPEG Image</source>
         <translation>Salva immagine JPEG</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1816"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1829"/>
         <source>&amp;Load/Run Project...</source>
         <translation>&amp;Carica/esegui progetto...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1822"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1835"/>
         <source>Load/Run Project</source>
         <translation>Carica/esegui progetto</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1830"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1843"/>
         <source>Save &amp;Project</source>
         <translation>Salva &amp;progetto</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1836"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1849"/>
         <source>Save Project</source>
         <translation>Salva progetto</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1786"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1799"/>
         <source>Ctrl+S</source>
         <translation>Ctrl+S</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1844"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1857"/>
         <source>Save P&amp;roject As...</source>
         <translation>Salva p&amp;rogetto con nome...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1850"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1863"/>
         <source>Save Project As</source>
         <translation>Salva progetto con nome</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1855"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1868"/>
         <source>Main toolbar</source>
         <translation>Barra degli strumenti principale</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1860"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1873"/>
         <source>A/V toolbar</source>
         <translation>Barra degli strumenti audio/video</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1868"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1881"/>
         <source>&amp;Zoom 1:4</source>
         <translation>&amp;Zoom 1:4</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1871"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1884"/>
         <source>Ctrl+Shift+4</source>
         <translation>Ctrl+Shift+4</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1879"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1892"/>
         <source>Z&amp;oom 1:2</source>
         <translation>Z&amp;oom 1:2</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1882"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1895"/>
         <source>Ctrl+Shift+2</source>
         <translation>Ctrl+Shift+2</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1893"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1906"/>
         <source>Zoom &amp;1:1</source>
         <translation>Zoom &amp;1:1</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1896"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1909"/>
         <source>Ctrl+Alt+1</source>
         <translation>Ctrl+Alt+1</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1904"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1917"/>
         <source>Zoom &amp;2:1</source>
         <translation>Zoom &amp;2:1</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1907"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1920"/>
         <source>Ctrl+Alt+2</source>
         <translation>Ctrl+Alt+2</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1912"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1925"/>
         <source>Zoom 4:1</source>
         <translation>Zoom 4:1</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1917"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1930"/>
         <source>&amp;Decoder Options...</source>
         <translation>Opzioni &amp;decodificatore...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1923"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1936"/>
         <source>Decoder Options</source>
         <translation>Opzioni decodificatore</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1926"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1939"/>
         <source>F3</source>
         <translation>F3</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1931"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1944"/>
         <source>&amp;Postprocessing...</source>
         <translation>&amp;Postprocessing...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1934"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1947"/>
         <source>F4</source>
         <translation>F4</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1939"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1952"/>
         <source>&amp;Frame Rate...</source>
         <translation>&amp;Frame rate...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1945"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1958"/>
         <source>Frame Rate</source>
         <translation>Frame rate</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1992"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2005"/>
         <source>Encoder</source>
         <translation>Codificatore</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1955"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1968"/>
         <source>Fil&amp;ters...</source>
         <translation>Fil&amp;tri...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1958"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1971"/>
         <source>Ctrl+Alt+F</source>
         <translation>Ctrl+Alt+F</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1963"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1976"/>
         <source>&amp;Main Track...</source>
         <translation>Traccia &amp;principale...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1968"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1981"/>
         <source>&amp;Secondary Track...</source>
         <translation>Traccia &amp;secondaria...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1979"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1992"/>
         <source>Build VBR Time Map</source>
         <translation>Crea time map VBR</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1984"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1997"/>
         <source>S&amp;ave...</source>
         <translation>S&amp;alva...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1987"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2000"/>
         <source>Ctrl+Alt+S</source>
         <translation>Ctrl+Alt+S</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1997"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2010"/>
         <source>&amp;Filters</source>
         <translation>&amp;Filtri</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2014"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2027"/>
         <source>&amp;Calculator...</source>
         <translation>&amp;Calcolatrice...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2017"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2030"/>
         <source>F7</source>
         <translation>F7</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2022"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2035"/>
         <source>&amp;Rebuild I &amp;&amp; B Frames</source>
         <translation>&amp;Ricostruisci fotogrammi I &amp;&amp; B</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2028"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2041"/>
         <source>Rebuild I &amp; B Frames</source>
         <translation>Ricostruisci fotogrammi I &amp;&amp; B</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2033"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2046"/>
         <source>&amp;Bitrate Histogram...</source>
         <translation>Istogramma &amp;bitrate...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2039"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2052"/>
         <source>Bitrate Histogram</source>
         <translation>Istogramma bitrate</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2044"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2057"/>
         <source>&amp;Scan for Black Frames...</source>
         <translation>C&amp;erca fotogrammi neri...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2050"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2063"/>
         <source>Scan for Black Frames</source>
         <translation>Cerca fotogrammi neri</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2055"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2068"/>
         <source>&amp;VOB -&gt; VobSub...</source>
         <translation>&amp;VOB -&gt; VobSub...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2061"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2074"/>
         <source>VOB -&gt; VobSub</source>
         <translation>VOB -&gt; VobSub</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2066"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2079"/>
         <source>&amp;OCR (VobSub -&gt; srt)...</source>
         <translation>&amp;OCR (VobSub -&gt; srt)...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2072"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2085"/>
         <source>OCR (VobSub -&gt; srt)</source>
         <translation>OCR (VobSub -&gt; srt)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2086"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2099"/>
         <source>Stop</source>
         <translation>Stop</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2284"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2297"/>
         <source>P</source>
         <translation>P</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2097"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2110"/>
         <source>P&amp;revious Frame</source>
         <translation>Fotogramma p&amp;recedente</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2100"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2113"/>
         <source>Left</source>
         <translation>Sinistra</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2108"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2121"/>
         <source>&amp;Next Frame</source>
         <translation>Fotogramma &amp;successivo</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2111"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2124"/>
         <source>Right</source>
         <translation>Destra</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2119"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2132"/>
         <source>Pr&amp;evious Intra Frame</source>
         <translation>Fotogramma chiave pr&amp;ecedente</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2125"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2138"/>
         <source>Previous Intra Frame</source>
         <translation>Fotogramma chiave precedente</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2128"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2141"/>
         <source>Down</source>
         <translation>Gi?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2136"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2149"/>
         <source>Next &amp;Intra Frame</source>
         <translation>Fotogramma ch&amp;iave successivo</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2142"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2155"/>
         <source>Next Intra Frame</source>
         <translation>Fotogramma chiave successivo</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2145"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2158"/>
         <source>Up</source>
         <translation>Su</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2153"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2166"/>
         <source>Previou&amp;s Black Frame</source>
         <translation>Fotogramma nero pre&amp;cedente</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2159"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2172"/>
         <source>Previous Black Frame</source>
         <translation>Fotogramma nero precedente</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2167"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2180"/>
         <source>Ne&amp;xt Black Frame</source>
         <translation>Fotogramma nero successi&amp;vo</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2173"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2186"/>
         <source>Next Black Frame</source>
         <translation>Fotogramma nero successivo</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2181"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2194"/>
         <source>&amp;First Frame</source>
         <translation>Primo &amp;fotogramma</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2184"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2197"/>
         <source>Home</source>
         <translation>Home</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2192"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2205"/>
         <source>&amp;Last Frame</source>
         <translation>&amp;Ultimo fotogramma</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2195"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2208"/>
         <source>End</source>
         <translation>Fine</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2203"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2216"/>
         <source>Jump to Marker &amp;A</source>
         <translation>Vai al segnalibro &amp;A</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2209"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2222"/>
         <source>Jump to Marker A</source>
         <translation>Vai al segnalibro A</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2212"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2225"/>
         <source>Ctrl+[</source>
         <translation>Ctrl+[</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2220"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2233"/>
         <source>Jump to Marker &amp;B</source>
         <translation>Vai al segnalibro &amp;B</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2226"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2239"/>
         <source>Jump to Marker B</source>
         <translation>Vai al segnalibro B</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2229"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2242"/>
         <source>Ctrl+]</source>
         <translation>Ctrl+]</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2234"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2247"/>
         <source>Jump to Fra&amp;me...</source>
         <translation>Vai al fotogra&amp;mma...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2237"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2250"/>
         <source>Ctrl+F</source>
         <translation>Ctrl+F</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2242"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2255"/>
         <source>Jump to &amp;Time...</source>
         <translation>Vai al &amp;tempo...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2245"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2258"/>
         <source>Ctrl+T</source>
         <translation>Ctrl+T</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2250"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2263"/>
         <source>&amp;Built-in Support...</source>
         <translation>&amp;Supporto incorporato...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2256"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2269"/>
         <source>Built-in Support</source>
         <translation>Supporto incorporato</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2261"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2274"/>
         <source>&amp;About Avidemux...</source>
         <translation>Informazioni su &amp;Avidemux...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2267"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2280"/>
         <source>About Avidemux</source>
         <translation>Informazioni su Avidemux</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2275"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2288"/>
         <source>&amp;Play/Stop</source>
         <translation>&amp;Play/Stop</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2281"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2294"/>
         <source>Play/Stop</source>
         <translation>Play/Stop</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2289"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2302"/>
         <source>Recent0</source>
         <translation>Recent0</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2294"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2307"/>
         <source>Recent1</source>
         <translation>Recent1</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2299"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2312"/>
         <source>Recent2</source>
         <translation>Recent2</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2304"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2317"/>
         <source>Recent3</source>
         <translation>Recent3</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2309"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2322"/>
         <source>&amp;VCD</source>
         <translation>&amp;VCD</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2314"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2327"/>
         <source>&amp;SVCD</source>
         <translation>&amp;SVCD</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2319"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2332"/>
         <source>&amp;DVD</source>
         <translation>&amp;DVD</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2324"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2337"/>
         <source>&amp;PSP</source>
         <translation>&amp;PSP</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2329"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2342"/>
         <source>PSP (&amp;H.264)</source>
         <translation>PSP (&amp;H.264)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2335"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2348"/>
         <source>PSP (H.264)</source>
         <translation>PSP (H.264)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2340"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2353"/>
         <source>Add to &amp;Joblist...</source>
         <translation>Aggiungi alla &amp;lista attivit?...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2346"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2359"/>
         <source>Add to Joblist</source>
         <translation>Aggiungi alla lista attivit?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2351"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2364"/>
         <source>View &amp;Joblist...</source>
         <translation>Mostra &amp;lista attivit?...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2357"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2370"/>
         <source>View Joblist</source>
         <translation>Mostra lista attivit?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2360"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2373"/>
         <source>Ctrl+J</source>
         <translation>Ctrl+J</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2365"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2378"/>
         <source>Co&amp;nnect to avsproxy</source>
         <translation>Co&amp;nnetti a avsproxy</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2371"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2384"/>
         <source>Connect to avsproxy</source>
         <translation>Connetti a avsproxy</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2376"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2389"/>
         <source>&amp;Reset Edits</source>
         <translation>A&amp;nnulla modifiche</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2381"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2394"/>
         <source>Save</source>
         <translation>Salva</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2386"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2399"/>
         <source>OCR (&amp;TS -&gt; srt)...</source>
         <translation>OCR (&amp;TS -&gt; srt)...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2392"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2405"/>
         <source>OCR (TS -&gt; srt)</source>
         <translation>OCR (TS -&gt; srt)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2397"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2410"/>
         <source>Edit &amp;Glyphs...</source>
         <translation>Modifica &amp;glifi...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2403"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2416"/>
         <source>Edit Glyphs</source>
         <translation>Modifica glifi</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2466"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2479"/>
         <source>&amp;Input</source>
         <translation>&amp;Input</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2471"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2484"/>
         <source>&amp;Output</source>
         <translation>&amp;Output</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2476"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2489"/>
         <source>Si&amp;de</source>
         <translation>&amp;Affiancati lateralmente</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2481"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2494"/>
         <source>&amp;Top</source>
         <translation>Affiancati ver&amp;ticalmente</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2486"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2499"/>
         <source>&amp;Separate</source>
         <translation>&amp;Separati</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2491"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2504"/>
         <source>FLV</source>
         <translation>FLV</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2496"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2509"/>
         <source>IPOD (mpeg4)</source>
         <translation>IPOD (mpeg4)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2501"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2514"/>
         <source>&amp;Close</source>
         <translation>&amp;Chiudi</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2504"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2517"/>
         <source>Ctrl+W</source>
         <translation>Ctrl+W</translation>
     </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="432"/>
+        <source>ms</source>
+        <translation>ms</translation>
+    </message>
 </context>
 <context>
     <name>MpegMuxer</name>
@@ -8687,12 +8762,12 @@
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp" line="90"/>
         <source>Top</source>
-        <translation>Alto</translation>
+        <translation>Superiore</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp" line="91"/>
         <source>Bottom</source>
-        <translation>Basso</translation>
+        <translation>Inferiore</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp" line="95"/>
@@ -8880,12 +8955,12 @@
 <context>
     <name>encodingWindow</name>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="71"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="103"/>
         <source>Privileges Required</source>
         <translation>Richiesti privilegi</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="71"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="103"/>
         <source>Root privileges are required to perform this operation.</source>
         <translation>Sono richesti i privilegi di amministratore per eseguire questa operazione.</translation>
     </message>
@@ -8893,10 +8968,25 @@
 <context>
     <name>filtermainWindow</name>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="413"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="588"/>
         <source>The filter is already partial</source>
         <translation>Il filtro ? gi? parziale</translation>
     </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="626"/>
+        <source>Load set of filters</source>
+        <translation>Carica gruppo di filtri</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="641"/>
+        <source>Nothing to save</source>
+        <translation>Niente da salvare</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="647"/>
+        <source>Save set of filters</source>
+        <translation>Salva gruppo di filtri</translation>
+    </message>
 </context>
 <context>
     <name>h263Header</name>
@@ -8967,7 +9057,7 @@
 <context>
     <name>lavMuxer</name>
     <message>
-        <location filename="../avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp" line="379"/>
+        <location filename="../avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp" line="381"/>
         <source>Incompatible frame rate</source>
         <translation>Frame rate incompatibile</translation>
     </message>
@@ -9093,6 +9183,14 @@
     </message>
 </context>
 <context>
+    <name>resizeWindow</name>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp" line="295"/>
+        <source>Width and height cannot be odd</source>
+        <translation>Larghezza e altezza non possono essere dispari</translation>
+    </message>
+</context>
+<context>
     <name>vidBlendRemoval</name>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp" line="82"/>

Modified: branches/avidemux_2.4_branch/po/it.po
===================================================================
--- branches/avidemux_2.4_branch/po/it.po	2008-09-20 13:46:59 UTC (rev 4378)
+++ branches/avidemux_2.4_branch/po/it.po	2008-09-20 13:49:50 UTC (rev 4379)
@@ -3,7 +3,7 @@
 "Project-Id-Version: avidemux\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: 2006-10-04 22:09+0300\n"
-"PO-Revision-Date: 2008-07-01 19:02+0100\n"
+"PO-Revision-Date: 2008-09-20 14:19+0100\n"
 "Last-Translator: \n"
 "Language-Team: it\n"
 "MIME-Version: 1.0\n"
@@ -12,7 +12,7 @@
 "X-Generator: KBabel 1.0.1\n"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:42
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:369
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:380
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:515
 msgid "AVI"
 msgstr "AVI"
@@ -42,30 +42,30 @@
 msgstr "MPEG video"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:49
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:493
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:131
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:504
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:130
 msgid "MP4"
 msgstr "MP4"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:50
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:119
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:120
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:519
 msgid "OGM"
 msgstr "OGM"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:51
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:130
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:129
 msgid "PSP"
 msgstr "PSP"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:52
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:188
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:277
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:187
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:254
 msgid "FLV"
 msgstr "FLV"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:53
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:132
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:131
 msgid "MKV"
 msgstr "MKV"
 
@@ -117,81 +117,85 @@
 msgid "MJPEG (lavc)"
 msgstr "MJPEG (lavc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:314
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:272
+msgid "Y800 (lavc)"
+msgstr "Y800 (lavc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:332
 msgid "VCD (lavc)"
 msgstr "VCD (lavc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:374
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:392
 msgid "DVD (lavc)"
 msgstr "DVD (lavc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:434
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:452
 msgid "SVCD (lavc)"
 msgstr "SVCD (lavc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:461
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:479
 msgid "VCD (mpeg2enc)"
 msgstr "VCD (mpeg2enc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:493
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:511
 msgid "SVCD (mpeg2enc)"
 msgstr "SVCD (mpeg2enc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:512
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:530
 msgid "MPEG-2 requant"
 msgstr "MPEG-2 requant"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:539
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:557
 msgid "DVD (mpeg2enc)"
 msgstr "DVD (mpeg2enc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:671
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:689
 msgid "MPEG-4 ASP (Xvid4)"
 msgstr "MPEG-4 ASP (Xvid4)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:812
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:830
 msgid "MPEG-4 AVC (x264)"
 msgstr "MPEG-4 AVC (x264)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:829
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:847
 msgid "dummy"
 msgstr "dummy"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:832
-#: avidemux/ADM_encoder/adm_encCopy.cpp:91
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:271
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:367
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:850
+#: avidemux/ADM_encoder/adm_encCopy.cpp:94
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:282
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:378
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:143
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:195
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:191
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:259
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:280
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:166
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:280
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:301
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:175
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:190
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:236
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:257
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:165
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:257
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:278
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:221
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:225
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:379
 #: avidemux/ADM_outputs/oplug_ogm/op_ogaudio.cpp:90
 #: avidemux/ADM_outputs/oplug_ogm/op_ogsavecopy.cpp:69
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1081
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1121
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1082
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1122
 msgid "Copy"
 msgstr "Copia"
 
-#: avidemux/ADM_encoder/adm_encdivx.h:52
+#: avidemux/ADM_encoder/adm_encdivx.h:53
 msgid "DivX"
 msgstr "DivX"
 
-#: avidemux/ADM_encoder/adm_encffmpeg.h:47
+#: avidemux/ADM_encoder/adm_encffmpeg.h:48
 msgid "LavCodec"
 msgstr "LavCodec"
 
-#: avidemux/ADM_encoder/adm_encmjpeg.h:60
+#: avidemux/ADM_encoder/adm_encmjpeg.h:61
 msgid "MJPEG"
 msgstr "MJPEG"
 
-#: avidemux/ADM_encoder/adm_encmpeg2enc.h:57
+#: avidemux/ADM_encoder/adm_encmpeg2enc.h:58
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:61
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:523
 msgid "MPEG"
@@ -207,11 +211,15 @@
 msgid "Xvid"
 msgstr "Xvid"
 
-#: avidemux/ADM_encoder/adm_encXvid4.h:62
+#: avidemux/ADM_encoder/adm_encXvid4.h:63
 msgid "Xvid4"
 msgstr "Xvid4"
 
-#: avidemux/ADM_encoder/adm_encyv12.h:69
+#: avidemux/ADM_encoder/adm_ency800.h:58
+msgid "Y800"
+msgstr "Y800"
+
+#: avidemux/ADM_encoder/adm_encyv12.h:70
 msgid "YV12"
 msgstr "YV12"
 
@@ -346,14 +354,14 @@
 msgstr "Non attivato."
 
 #: avidemux/ADM_codecs/ADM_ffmp43.cpp:45
-msgid "Internal error finding codec"
-msgstr "Errore interno nel cercare i codec"
+msgid "Internal error finding codec '"
+msgstr "Errore interno nel cercare il codec '"
 
 #: avidemux/ADM_codecs/ADM_ffmpeg.cpp:49
 msgid "Internal error opening codec"
 msgstr "Errore interno nell'aprire i codec"
 
-#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:51
+#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:52
 msgid "Internal error with context for  codec"
 msgstr "Errore interno con il contesto per il codec"
 
@@ -432,7 +440,7 @@
 "Avidemux can use another mode which is safe but YOU WILL LOSE FRAME ACCURACY.\n"
 "Do you want to use that mode?"
 msgstr ""
-"Se il file sta utilizzando un fotogramma-B come riferimento, potrebbe causare un crash o una riproduzione a scatti.\n"
+"Se il file sta utilizzando fotogrammi-B come riferimento, potrebbe causare un crash o una riproduzione a scatti.\n"
 "Avidemux pu? utilizzare un'altra modalit? pi? sicura, ma PERDERAI PRECISIONE NEI FOTOGRAMMI.\n"
 "Vuoi usare questa modalit??"
 
@@ -500,39 +508,39 @@
 msgid "No more supported."
 msgstr "Non pi? supportato."
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:191
+#: avidemux/ADM_encoder/adm_encConfig.cpp:192
 msgid "Wrong output format"
 msgstr "Formato in uscita errato"
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:191
+#: avidemux/ADM_encoder/adm_encConfig.cpp:192
 msgid "Select MPEG as the output."
 msgstr "Seleziona MPEG come output."
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:196
+#: avidemux/ADM_encoder/adm_encConfig.cpp:197
 msgid "Wrong video codec"
 msgstr "Codec video errato"
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:197
+#: avidemux/ADM_encoder/adm_encConfig.cpp:198
 msgid "Select DVD as the video codec for MPEG TS output."
 msgstr "Seleziona DVD come codec video per l'output MPEG TS."
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:717
+#: avidemux/ADM_encoder/adm_encConfig.cpp:719
 msgid "Only QCIF and subQCIF are allowed for H.263"
 msgstr "Solo QCIF e subQCIF sono consentiti per H.263"
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:909
+#: avidemux/ADM_encoder/adm_encConfig.cpp:911
 msgid "Fatal error"
 msgstr "Errore fatale"
 
-#: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
+#: avidemux/ADM_encoder/adm_encffmpeg.cpp:278
 msgid "Incompatible settings"
 msgstr "Impostazioni incompatibili"
 
-#: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
+#: avidemux/ADM_encoder/adm_encffmpeg.cpp:278
 msgid "At the moment, the DV codec only accepts 720*576 at 25"
 msgstr "Al momento, il codec DV accetta solo 720*576 at 25"
 
-#: avidemux/ADM_encoder/adm_encRequant.cpp:98
+#: avidemux/ADM_encoder/adm_encRequant.cpp:101
 msgid "Requant"
 msgstr "Requant"
 
@@ -1038,7 +1046,7 @@
 msgstr "Forza postprocessing."
 
 #: avidemux/ADM_filter/filter_declaration.cpp:159
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:113
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:122
 msgid "Subtitler"
 msgstr "Sottotitolatore"
 
@@ -1143,7 +1151,7 @@
 
 #: avidemux/ADM_filter/filter_declaration.cpp:186
 msgid "\"Erase\" arbitrary areas of each frame"
-msgstr "\"Cancella\" aree arbitrarie di ogni fotogramma"
+msgstr "\"Cancella\" aree arbitrarie di ogni fotogramma."
 
 #: avidemux/ADM_filter/filter_declaration.cpp:187
 msgid "Swiss Army Knife"
@@ -1177,7 +1185,7 @@
 
 #: avidemux/ADM_filter/filter_declaration.cpp:190
 msgid "Print frame number directly in image"
-msgstr "Stampa numero fotogramma direttamente sull'immagine"
+msgstr "Stampa numero fotogramma direttamente sull'immagine."
 
 #: avidemux/ADM_filter/filter_declaration.cpp:195
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:128
@@ -1209,11 +1217,11 @@
 msgid "Size is not (s)QCIF"
 msgstr "La dimensione non ? (s)QCIF"
 
-#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp:594
+#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp:631
 msgid "Problem reading SVQ3 headers"
 msgstr "Problema di lettura delle intestazioni SVQ3"
 
-#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp:346
+#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp:345
 msgid "No stts table"
 msgstr "Nessun table stts"
 
@@ -1221,7 +1229,7 @@
 msgid "There is several mpeg file, append them ?"
 msgstr "Ci sono diversi file mpeg, vuoi unirli?"
 
-#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:250
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:244
 msgid "Can't determine aspect ratio"
 msgstr "Impossibile determinare le proporzioni"
 
@@ -1280,7 +1288,7 @@
 msgid "Indexing"
 msgstr "Indicizzazione"
 
-#: avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp:379
+#: avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp:381
 msgid "Incompatible frame rate"
 msgstr "Frame rate incompatibile"
 
@@ -1299,7 +1307,7 @@
 msgstr "Avvio Ivemux fallito"
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_gettext.cpp:52
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:291
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:292
 msgid "_File"
 msgstr "_File"
 
@@ -1330,9 +1338,9 @@
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
 #: avidemux/ADM_ocr/adm_glyph.cpp:221
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:590
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:618
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:366
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:113
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:107
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:112
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:119
@@ -1348,7 +1356,7 @@
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:366
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:113
 #: avidemux/gtk_gui.cpp:1508
 #, c-format
 msgid "Cannot open \"%s\" for writing."
@@ -1379,8 +1387,8 @@
 msgstr "1:1"
 
 #: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:334
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:599
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:796
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:600
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:797
 msgid "Unknown"
 msgstr "Sconosciuto"
 
@@ -1481,44 +1489,44 @@
 "Vuoi caricarlo?\n"
 "(Sar? eliminato in ogni caso se non lo salvi)"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:211
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:235
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:264
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:277
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:290
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:239
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:263
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:292
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:305
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:318
 #: avidemux/GUI_jobs.cpp:37
 msgid "Oops"
 msgstr "Oops"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:211
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:239
 #, c-format
 msgid "can't create custom directory (%s)."
 msgstr "impossibile creare la cartella preferiti (%s)."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:235
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:263
 #, c-format
 msgid "can't create job directory (%s)."
 msgstr "impossibile creare la cartella attivit? (%s)."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:264
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:292
 msgid "Can't determine the Application Data folder."
 msgstr "Impossibile determinare la cartella Application Data."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:277
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:305
 msgid "can't determine $HOME."
 msgstr "impossibile determinare $HOME."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:290
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:318
 msgid "Cannot create the .avidemux directory"
 msgstr "Impossibile creare la cartella .avidemux"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:590
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:618
 #: avidemux/gtk_gui.cpp:918
 #, c-format
 msgid "Cannot open \"%s\"."
 msgstr "Impossibile aprire \"%s\"."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:603
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:631
 #, c-format
 msgid ""
 "%s already exists.\n"
@@ -1529,16 +1537,16 @@
 "\n"
 "Vuoi sostituirlo?"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:630
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:644
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:658
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:672
 msgid "It is possible that you are trying to overwrite an input file!"
 msgstr "? possibile che tu stia provando a sovrascrivere un file di ingresso!"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:655
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:683
 msgid "Cannot write the file"
 msgstr "Impossibile scrivere il file"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:655
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:683
 #, c-format
 msgid "No write access to \"%s\"."
 msgstr "Divieto di scrittura per \"%s\"."
@@ -1565,7 +1573,7 @@
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:74
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:244
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:846
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:847
 msgid "Normal"
 msgstr "Normale"
 
@@ -1587,30 +1595,30 @@
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:82
 msgid "Mux _every x video frames:"
-msgstr "_Esegui muxing ogni x fotogrammi:"
+msgstr "_Esegui muxing ogni N fotogrammi:"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:83
 msgid "Mux in _blocks of x bytes:"
-msgstr "Esegui muxing in _blocchi di x byte:"
+msgstr "Esegui muxing in _blocchi di X byte:"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:90
 msgid "AVI Muxer Options"
 msgstr "Opzioni Muxer AVI"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:188
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:189
 msgid "Error initalizing audio filters"
 msgstr "Errore di inizializzazione filtri audio"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:197
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:198
 msgid "Error initalizing video filters"
 msgstr "Errore di inizializzazione filtri video"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:256
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:267
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:141
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:189
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:263
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:164
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:284
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:188
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:240
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:163
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:261
 #: avidemux/ADM_outputs/oplug_ogm/op_ogaudio.cpp:70
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:80
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:89
@@ -1619,9 +1627,9 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:377
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:385
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:393
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:554
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:569
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:584
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:555
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:570
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:585
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:225
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1191
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:105
@@ -1632,75 +1640,75 @@
 msgid "None"
 msgstr "Nessuno"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:446
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:457
 #: avidemux/ADM_outputs/oplug_avi/op_avisavecopy.cpp:96
 #: avidemux/ADM_outputs/oplug_avi/op_avisavecopy_pack.cpp:121
 #: avidemux/ADM_outputs/oplug_avi/op_avisavecopy_unpack.cpp:98
 msgid "Cannot initiate save"
 msgstr "Impossibile iniziare il salvataggio"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:485
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:496
 msgid "DTS"
 msgstr "DTS"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:486
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:497
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:289
 msgid "PCM"
 msgstr "PCM"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:487
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:498
 msgid "MP2"
 msgstr "MP2"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:488
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:499
 msgid "MP3"
 msgstr "MP3"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:489
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:500
 msgid "WMA"
 msgstr "WMA"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:490
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:501
 msgid "LPCM"
 msgstr "LPCM"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:491
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:502
 msgid "AC3"
 msgstr "AC3"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:492
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:503
 msgid "Ogg Vorbis"
 msgstr "Ogg Vorbis"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:494
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:505
 msgid "AAC"
 msgstr "AAC"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:495
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:506
 msgid "QDM2"
 msgstr "QDM2"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:496
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:507
 msgid "AMR-NB"
 msgstr "AMR-NB"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:497
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:508
 msgid "MSADPCM"
 msgstr "MSADPCM"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:498
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:509
 msgid "ULAW"
 msgstr "ULAW"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:499
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:510
 msgid "IMA ADPCM"
 msgstr "IMA ADPCM"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:500
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:511
 msgid "8-bit PCM"
 msgstr "PCM 8-bit"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:502
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:513
 msgid "Unknown codec"
 msgstr "Codec sconosciuto"
 
@@ -1721,15 +1729,15 @@
 
 #: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:93
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:149
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:197
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:176
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:76
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:196
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:175
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:78
 msgid "Filter init failed"
 msgstr "Inizializzazione filtro fallita"
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:127
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:417
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:100
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:128
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:414
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:103
 msgid ""
 "\n"
 " Reuse the existing log-file ?"
@@ -1737,27 +1745,26 @@
 "\n"
 " Riutilizzare il file log esistente?"
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:136
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:426
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:137
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:422
 msgid "1st Pass"
 msgstr "1a passata"
 
 #: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:152
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:453
 msgid "Aborting"
 msgstr "Annullamento in corso"
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:246
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:267
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:153
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:201
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:188
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:200
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:187
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:373
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:143
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:167
 msgid "Encoding"
 msgstr "Codifica in corso"
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:250
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:483
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:269
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:493
 msgid "2nd Pass"
 msgstr "2a passata"
 
@@ -1766,8 +1773,8 @@
 msgstr "Copia intelligente"
 
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:135
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:183
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:156
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:182
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:155
 msgid "Cannot initialize the video stream"
 msgstr "Impossibile inizializzare il flusso video"
 
@@ -1775,26 +1782,25 @@
 msgid "Dummy"
 msgstr "Dummy"
 
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:179
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:215
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:227
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:326
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:214
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:353
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:437
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:206
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:321
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:342
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:454
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:352
 msgid "Error while encoding"
 msgstr "Errore durante la codifica"
 
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:190
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:238
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:226
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:213
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:328
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:349
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:461
 msgid "KeyFrame error"
 msgstr "Errore fotogramma chiave"
 
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:190
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:238
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:226
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:213
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:328
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:349
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:461
 msgid ""
 "The beginning frame is not a key frame.\n"
 "Please move the A marker."
@@ -1802,37 +1808,37 @@
 "Il fotogramma iniziale non ? un fotogramma chiave.\n"
 "Spostare il segnalibro A."
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:145
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:144
 msgid "Unsupported video"
 msgstr "Video non supportato"
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:145
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:144
 msgid "Only FLV1 and VP6 video are supported"
 msgstr "Sono supportati solo i video FLV1 e VP6"
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:167
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:172
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:166
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:171
 msgid "Unsupported audio"
 msgstr "Audio non supportato"
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:167
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:166
 msgid "Audio must be mp3 for flv output."
 msgstr "L'audio di un video flv deve essere mp3."
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:172
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:171
 msgid "Frequency must be 44100, 22050 or 11025 Hz."
 msgstr "La frequenza deve essere 44100, 22050 o 11025 Hz."
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:248
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:253
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:225
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:230
 msgid "Cannot initialize the audio stream"
 msgstr "Impossibile inizializzare il flusso audio"
 
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:271
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:248
 msgid "Invalid audio stream detected"
 msgstr "Rilevato flusso audio non valido"
 
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:271
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:248
 msgid ""
 "The audio stream may be invalid for this container.\n"
 "\n"
@@ -1958,11 +1964,11 @@
 msgid "Error in pass 2"
 msgstr "Errore nella passata 2"
 
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:126
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:127
 msgid "Could not initialize video"
 msgstr "Impossibile avviare il video"
 
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:134
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:135
 msgid "Could not initialize audio"
 msgstr "Impossibile avviare l'audio"
 
@@ -1970,11 +1976,11 @@
 msgid "Saving..."
 msgstr "Salvataggio in corso..."
 
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:111
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:114
 msgid "Pass one"
 msgstr "Passata 1"
 
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:139
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:163
 msgid "Pass 2"
 msgstr "Passata 2"
 
@@ -2058,7 +2064,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:62
 msgid "_Dynamic range compression"
-msgstr "Compressione campo _dinamico"
+msgstr "Compressione intervallo _dinamico"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:64
 msgid "_Time shift (ms):"
@@ -2098,16 +2104,16 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:93
 msgid "_Gain mode:"
-msgstr "Modalit? _Gain:"
+msgstr "Modalit? _guadagno:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:95
 msgid "G_ain value:"
-msgstr "Valore G_ain:"
+msgstr "V_alore guadagno:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:97
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:204
 msgid "Gain"
-msgstr "Gain"
+msgstr "Amplificazione"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:102
 msgid "No change"
@@ -2575,7 +2581,7 @@
 msgstr "Configurazione libavcodec MPEG-4"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp:26
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:41
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:22
 msgid "_Swap U and V"
 msgstr "_Inverti U e V"
 
@@ -2678,31 +2684,35 @@
 msgid "Save GlyphSet"
 msgstr "Salva set di glifi"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:40
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:21
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:60
 msgid "_Filter strength:"
 msgstr "Intensit? _filtro:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:51
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:32
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:350
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:72
 msgid "_Horizontal deblocking"
 msgstr "Deblocking o_rizzontale"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:52
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:33
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:351
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:73
 msgid "_Vertical deblocking"
 msgstr "Deblocking _verticale"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:53
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:34
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:74
 msgid "_Deringing"
 msgstr "_Deringing"
 
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:38
+msgid "Postprocessing"
+msgstr "Postprocessing"
+
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:189
 msgid "_Use systray while encoding"
-msgstr "_Usa area di notifica durante la codifica"
+msgstr "Rid_uci nell'area di notifica durante la codifica"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:190
 msgid "_Accept non-standard audio frequency for DVD"
@@ -2797,7 +2807,7 @@
 msgstr "Multi-threading"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:242
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:844
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:845
 msgid "High"
 msgstr "Alta"
 
@@ -2810,7 +2820,7 @@
 msgstr "Al di sotto del normale"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:246
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:848
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:849
 msgid "Low"
 msgstr "Bassa"
 
@@ -3050,75 +3060,91 @@
 msgstr "Assistente automatico"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:51
+msgid "Arabic"
+msgstr "Arabo"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:52
+msgid "Baltic"
+msgstr "Baltico"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:53
 msgid "Chinese Simplified (GB2312)"
 msgstr "Cinese semplificato (GB2312)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:52
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:54
 msgid "Chinese Traditional (Big5)"
 msgstr "Cinese tradizionale (Big5)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:53
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:55
 msgid "Cyrillic"
 msgstr "Cirillico"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:54
-msgid "Czech"
-msgstr "Ceco"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:56
+msgid "Latin-1 (Western European)"
+msgstr "Latino-1 (Europa occidentale)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:55
-msgid "German"
-msgstr "Tedesco"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:57
+msgid "Latin-2 (Central European)"
+msgstr "Latino-2 (Europa centrale)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:56
-msgid "Latin-1"
-msgstr "Latin-1"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:58
+msgid "Greek"
+msgstr "Greco"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:57
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:59
+msgid "Hebrew"
+msgstr "Ebraico"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:60
 msgid "Slovene"
 msgstr "Sloveno"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:58
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:61
+msgid "Turkish"
+msgstr "Turco"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:62
 msgid "UTF-8"
 msgstr "UTF-8"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:59
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:63
 msgid "UTF-16"
 msgstr "UTF-16"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:89
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:98
 msgid "_Subtitle file:"
 msgstr "File _sottotitoli:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:89
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:98
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:87
 msgid "Select Subtitle file"
 msgstr "Seleziona un file sottotitoli"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:90
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:99
 msgid "_Font (TTF):"
 msgstr "Carattere (_TTF):"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:90
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:99
 msgid "Select TTF file"
 msgstr "Seleziona un file TTF"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:105
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:114
 msgid "_Encoding:"
 msgstr "Co_difica:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:107
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:116
 msgid "S_elect C_olor"
 msgstr "Seleziona co_lore"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:108
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:117
 msgid "Set Size and _Position"
 msgstr "Imposta dimensione e _posizione"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:109
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:118
 msgid "_Auto split"
 msgstr "A capo _automatico"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:110
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:119
 msgid "_Delay (ms):"
 msgstr "_Ritardo (ms):"
 
@@ -3198,17 +3224,17 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:652
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:668
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:698
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:662
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:669
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:676
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:789
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:663
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:670
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:677
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:790
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:166
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:206
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:79
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:93
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:426
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:440
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1213
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1218
 msgid "0"
 msgstr "0"
 
@@ -4079,7 +4105,7 @@
 msgstr "Occupato"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:405
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:999
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1000
 msgid "Calculator"
 msgstr "Calcolatrice"
 
@@ -4092,7 +4118,7 @@
 msgstr "Durata:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:451
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:803
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:804
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:198
 msgid "00:00:00"
 msgstr "00:00:00"
@@ -4327,8 +4353,8 @@
 "<b>Matrix Warning :</b>\n"
 "all above values are normalized to 256!"
 msgstr ""
-"<b>Problema matrice:</b>\n"
-" tutti i valori precedenti sono normalizzati a 256!"
+"<b>Avviso matrice:</b>\n"
+" tutti i valori precedenti sono normalizzati a 256! "
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:408
 msgid "AutoGain"
@@ -4379,121 +4405,121 @@
 msgid "Auto Crop"
 msgstr "Auto Crop"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:162
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:184
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:163
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:185
 msgid "Privileges Required"
 msgstr "Richiesti privilegi"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:162
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:184
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:163
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:185
 msgid "Root privileges are required to perform this operation."
 msgstr "Sono richesti i privilegi di amministratore per eseguire questa operazione."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:205
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:206
 msgid "Shutting down"
 msgstr "Arresto in corso"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:382
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:383
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:150
 #, c-format
 msgid "%d%%"
 msgstr "%d%%"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:405
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:412
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:419
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:406
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:413
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:420
 #, c-format
 msgid "%lu MB"
 msgstr "%lu MB"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:515
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:516
 msgid "Encoding..."
 msgstr "Codifica in corso..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:546
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:547
 msgid "<b>Phase:</b>"
 msgstr "<b>Fase:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:561
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:562
 msgid "<b>Video Codec:</b>"
 msgstr "<b>Codec video:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:576
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:577
 msgid "<b>Audio Codec:</b>"
 msgstr "<b>Codec audio:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:591
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:592
 msgid "<b>Container:</b>"
 msgstr "<b>Contenitore:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:623
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:624
 msgid "<b>Processed Frames:</b>"
 msgstr "<b>Fotogrammi elaborati:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:631
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:632
 msgid "<b>Total Frames:</b>"
 msgstr "<b>Fotogrammi totali:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:639
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:640
 msgid "<b>Quantiser:</b>"
 msgstr "<b>Quantizzatore:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:647
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:648
 msgid "<b>Average Bitrate:</b>"
 msgstr "<b>Bitrate medio:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:655
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:656
 msgid "0 kB/s"
 msgstr "0 kB/s"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:700
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:701
 msgid "<b>Video Size:</b>"
 msgstr "<b>Dimensione video:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:708
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:709
 msgid "<b>Audio Size:</b>"
 msgstr "<b>Dimensione audio:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:716
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:717
 msgid "<b>Total Size:</b>"
 msgstr "<b>Dimensione totale:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:724
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:732
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:740
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:725
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:733
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:741
 msgid "0 MB"
 msgstr "0 MB"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:765
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:766
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:244
 msgid "<b>Elapsed:</b>"
 msgstr "<b>Tempo trascorso:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:773
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:774
 msgid "<b>Time Remaining:</b>"
 msgstr "<b>Tempo rimanente:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:781
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:782
 msgid "<b>Frames/sec:</b>"
 msgstr "<b>Fotogrammi/sec:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:827
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:828
 msgid "Shut down computer when finished"
 msgstr "Arresta il sistema al termine"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:835
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:836
 msgid "Priority:"
 msgstr "Priorit?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:845
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:846
 msgid "Above Normal"
 msgstr "Al di sopra del normale"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:847
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:848
 msgid "Below Normal"
 msgstr "Al di sotto del normale"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:885
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:886
 msgid "Pause / Abort"
 msgstr "Pausa / Annulla "
 
@@ -4824,7 +4850,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp:180
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:548
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:336
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:337
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:150
 msgid "Preview"
 msgstr "Anteprima"
@@ -4901,14 +4927,14 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:283
 msgid "Codec 4CC:"
-msgstr "4CC Codec:"
+msgstr "4CC codec:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:297
 msgid "Aspect Ratio:"
 msgstr "Proporzioni:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:311
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1063
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1064
 msgid "<b>Video</b>"
 msgstr "<b>Video</b>"
 
@@ -4953,7 +4979,7 @@
 msgstr "Bitrate variabile:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:489
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1103
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1104
 msgid "<b>Audio</b>"
 msgstr "<b>Audio</b>"
 
@@ -4975,11 +5001,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:333
 msgid " Width "
-msgstr " Larghezza"
+msgstr " Larghezza "
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:340
 msgid " Height "
-msgstr " Altezza"
+msgstr " Altezza "
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:363
 msgid "Source :"
@@ -4987,7 +5013,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:369
 msgid "Destination"
-msgstr "Destinazione"
+msgstr "Destinazione: "
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:419
 msgid " Error X:"
@@ -5007,7 +5033,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:465
 msgid "Bicubic"
-msgstr "Bicubica"
+msgstr "Bicubico"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:469
 msgid "Lanczos3"
@@ -5061,8 +5087,8 @@
 msgstr "Codificatore video"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:123
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1083
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1123
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1084
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1124
 msgid "Configure"
 msgstr "Configura"
 
@@ -6351,21 +6377,21 @@
 msgid "Miscellaneous"
 msgstr "Varie"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:244
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:245
 msgid "The filter is already partial"
 msgstr "Il filtro ? gi? parziale"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:342
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:344
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:343
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:345
 msgid "Load set of filters"
 msgstr "Carica gruppo di filtri"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:357
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:358
 msgid "Nothing to save"
 msgstr "Niente da salvare"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:361
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:363
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:362
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:364
 msgid "Save set of filters"
 msgstr "Salva gruppo di filtri"
 
@@ -6519,7 +6545,7 @@
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:87
 #: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:107
 msgid "Top"
-msgstr "Alto"
+msgstr "Superiore"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:543
 msgid "Separate"
@@ -6530,502 +6556,506 @@
 msgid "Frame:%c(%02d)"
 msgstr "Fotogramma: %c(%02d)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:274
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:275
 msgid "Avidemux"
 msgstr "Avidemux"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:298
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:299
 msgid "_Open..."
 msgstr "_Apri..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:309
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:310
 msgid "_Append..."
 msgstr "A_ggiungi..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:320
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:321
 msgid "_Save"
 msgstr "_Salva"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:331
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:332
 msgid "Save _Video..."
 msgstr "Salva _video..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:343
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:344
 msgid "Save _BMP Image..."
 msgstr "Salva immagine _BMP..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:347
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:348
 msgid "Save _JPEG Image..."
 msgstr "Salva immagine _JPEG..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:351
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:352
 msgid "Save _Selection as JPEG Images..."
 msgstr "Salva _selezione in immagini JPEG..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:364
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:365
 msgid "Save _Project"
 msgstr "Salva _progetto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:372
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:373
 msgid "Save P_roject As..."
 msgstr "Salva p_rogetto con nome"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:380
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:381
 msgid "_Load/Run Project..."
 msgstr "Car_ica/esegui progetto..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:388
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:389
 msgid "A_dd to Joblist..."
 msgstr "Aggi_ungi alla lista attivit?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:392
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:393
 msgid "Show _Joblist"
 msgstr "Mostra _lista attivit?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:404
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:405
 msgid "Co_nnect to avsproxy"
 msgstr "Co_nnetti a avsproxy"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:413
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:414
 msgid "Proper_ties"
 msgstr "Proprie_t?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:424
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:425
 msgid "AVI _Muxer Options"
 msgstr "Opzioni _Muxer AVI"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:433
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:434
 msgid "_Quit"
 msgstr "_Esci"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:444
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:445
 msgid "_Edit"
 msgstr "_Modifica"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:451
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:452
 msgid "_Reset Edits"
 msgstr "A_nnulla modifiche"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:464
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:465
 msgid "Cu_t"
 msgstr "_Taglia"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:475
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:476
 msgid "_Copy"
 msgstr "_Copia"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:486
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:487
 msgid "_Paste"
 msgstr "_Incolla"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:497
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:498
 msgid "_Delete"
 msgstr "_Elimina"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:513
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:514
 msgid "Set Marker _A"
 msgstr "Imposta segnalibro _A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:520
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:521
 msgid "Set Marker _B"
 msgstr "Imposta segnalibro _B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:532
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:533
 msgid "Pre_ferences"
 msgstr "_Preferenze"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:540
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:541
 msgid "_View"
 msgstr "Visua_lizza"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:547
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:548
 msgid "_Main Toolbar"
 msgstr "_Barra degli strumenti"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:552
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:553
 msgid "_A/V Sidebar"
 msgstr "Barra laterale _A/V"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:562
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:563
 msgid "_Zoom 1:4"
 msgstr "_Zoom 1:4"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:569
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:570
 msgid "Z_oom 1:2"
 msgstr "Z_oom 1:2"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:576
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:577
 msgid "Zoom _1:1"
 msgstr "Zoom _1:1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:583
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:584
 msgid "Zoom _2:1"
 msgstr "Zoom _2:1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:590
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:591
 msgid "Vi_deo"
 msgstr "Vi_deo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:597
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:598
 msgid "_Decoder Options"
 msgstr "_Opzioni codifica"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:604
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:605
 msgid "_Postprocessing"
 msgstr "_Postprocessing"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:607
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:608
 msgid "Select postprocessing level"
 msgstr "Seleziona livello di postprocessing"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:617
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:618
 msgid "P_review"
 msgstr "_Anteprima"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:624
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:625
 msgid "Display _Output"
 msgstr "_Esegui video in uscita"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:636
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:637
 msgid "_Frame Rate"
 msgstr "_Frame rate"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:640
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:689
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:641
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:690
 msgid "_Encoder"
 msgstr "_Codificatore"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:647
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:648
 msgid "Fil_ters"
 msgstr "Fil_tri"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:654
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:655
 msgid "_Audio"
 msgstr "_Audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:661
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:662
 msgid "_Main Track"
 msgstr "_Traccia principale"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:665
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:666
 msgid "_Second Track"
 msgstr "T_raccia secondaria"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:669
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:670
 msgid "_Build VBR Time Map"
 msgstr "Crea time map _VBR"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:678
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:679
 msgid "S_ave..."
 msgstr "_Salva..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:696
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:697
 msgid "_Filters"
 msgstr "_Filtri"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:700
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:701
 msgid "_Tools"
 msgstr "_Strumenti"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:707
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:708
 msgid "_Calculator"
 msgstr "_Calcolatrice"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:723
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:724
 msgid "_Rebuild Frames (I & B)"
 msgstr "_Ricostruisci fotogrammi (I & B)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:727
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:728
 msgid "C_heck Frames (slow)"
 msgstr "V_erifica fotogrammi (lento)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:731
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:732
 msgid "_Bitrate Histogram"
 msgstr "Istogramma _bitrate"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:735
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:736
 msgid "_Scan for Black Frames..."
 msgstr "Cerca fotogrammi _neri..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:744
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:745
 msgid "_VOB -> VobSub"
 msgstr "_VOB -> VobSub"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:748
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:749
 msgid "_OCR (VobSub -> srt)"
 msgstr "_OCR (VobSub -> srt)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:752
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:753
 msgid "OCR (TS->srt)"
 msgstr "OCR (TS -> srt)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:756
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:757
 msgid "_Edit Glyph"
 msgstr "_Modifica glifo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:765
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:766
 msgid "_Frame Hex Dump"
 msgstr "Hex Dump _fotogramma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:769
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:770
 msgid "A_uto"
 msgstr "A_uto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:776
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:777
 msgid "_VCD"
 msgstr "_VCD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:780
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:781
 msgid "_SVCD"
 msgstr "_SVCD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:784
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:785
 msgid "_DVD"
 msgstr "_DVD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:788
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:789
 msgid "_PSP"
 msgstr "_PSP"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:792
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:793
 msgid "PSP (_H.264)"
 msgstr "PSP (_H.264)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:796
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:797
 msgid "F_LV"
 msgstr "F_LV"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:800
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:801
 msgid "IPOD (mpeg4)"
 msgstr "IPOD (mpeg4)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:804
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:805
 msgid "_Go"
 msgstr "_Vai"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:811
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:812
 msgid "_Play/Stop"
 msgstr "_Play/Stop"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:822
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:823
 msgid "P_revious Frame"
 msgstr "Fotogramma p_recedente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:833
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:834
 msgid "_Next Frame"
 msgstr "Fotogramma _successivo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:844
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:845
 msgid "Pr_evious Intra Frame"
 msgstr "Fotogramma chiave pr_ecedente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:855
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:856
 msgid "Next _Intra Frame"
 msgstr "Fotogramma ch_iave successivo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:866
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:867
 msgid "Previou_s Black Frame"
 msgstr "Fotogramma nero pre_cedente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:870
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:871
 msgid "Ne_xt Black Frame"
 msgstr "Fotogramma nero successi_vo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:874
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:875
 msgid "_First Frame"
 msgstr "Primo _fotogramma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:885
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:886
 msgid "_Last Frame"
 msgstr "_Ultimo fotogramma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:901
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:902
 msgid "Go to Marker _A"
 msgstr "Vai al segnalibro _A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:908
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:909
 msgid "Go to Marker _B"
 msgstr "Vai al segnalibro _B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:920
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:921
 msgid "Go to Fra_me..."
 msgstr "Vai al fotogra_mma..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:931
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:932
 msgid "Go to _Time..."
 msgstr "Vai al _tempo..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:942
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:943
 msgid "_Custom"
 msgstr "_Preferiti"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:946
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:947
 msgid "_Help"
 msgstr "A_iuto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:953
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:954
 msgid "_Built-in Support"
 msgstr "_Supporto incorporato"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:957
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:958
 msgid "_About"
 msgstr "_Informazioni"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:975
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:976
 msgid "Open a file"
 msgstr "Apri un file"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:985
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:986
 msgid "Save the file"
 msgstr "Salva il file"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:991
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:992
 msgid "Audio/video file information"
 msgstr "Informazioni audio/video del file"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1002
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1003
 msgid "Bitrate/size calculator"
 msgstr "Calcolatrice bitrate/dimensione"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1086
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1087
 msgid "Configure video encoder"
 msgstr "Configura codificatore video"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1091
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1147
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1092
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1148
 msgid "Filters"
 msgstr "Filtri"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1094
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1095
 msgid "Video filters"
 msgstr "Filtri video"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1126
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1127
 msgid "Configure audio encoder"
 msgstr "Configura codificatore audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1134
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1135
 msgid "Audio filters"
 msgstr "Filtri audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1155
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1156
 msgid "Shift:"
 msgstr "Ritardo:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1158
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1159
 msgid "Enable time shift"
 msgstr "Attiva ritardo audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1164
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1165
 msgid "Audio/video time shift (ms)"
 msgstr "Ritardo audio/video (ms)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1171
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1168
+msgid "ms"
+msgstr "ms"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1176
 msgid "<b>Format</b>"
 msgstr "<b>Formato</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1204
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1209
 msgid "Frame: "
 msgstr "Fotogramma:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1211
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1216
 msgid "Current frame"
 msgstr "Fotogramma attuale:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1216
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1221
 msgid "/ 0000000"
 msgstr "/ 0000000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1223
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1228
 msgid "Time: "
 msgstr "Tempo:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1230
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1235
 msgid "Current time"
 msgstr "Tempo attuale"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1231
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1236
 msgid "00:00:00.000"
 msgstr "00:00:00.000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1234
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1239
 msgid "/ 00:00:00,000"
 msgstr "/ 00:00:00.000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1241
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1246
 msgid "Frame: ?"
 msgstr "Fotogramma: ?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1265
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1270
 msgid "Play"
 msgstr "Play"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1279
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1284
 msgid "Stop"
 msgstr "Stop"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1291
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1296
 msgid "Previous frame"
 msgstr "Fotogramma precedente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1306
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1311
 msgid "Next frame"
 msgstr "Fotogramma successivo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1321
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1326
 msgid "Previous keyframe"
 msgstr "Fotogramma chiave precedente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1336
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1341
 msgid "Next keyframe"
 msgstr "Fotogramma chiave successivo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1350
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1355
 msgid "Selection: start"
 msgstr "Selezione: inizio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1361
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1366
 msgid "Selection: end"
 msgstr "Selezione: fine"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1372
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1377
 msgid "Previous black frame"
 msgstr "Fotogramma nero precedente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1383
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1388
 msgid "Next black frame"
 msgstr "Fotogramma nero successivo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1394
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1399
 msgid "First frame"
 msgstr "Primo fotogramma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1405
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1410
 msgid "Last frame"
 msgstr "Ultimo fotogramma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1419
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1424
 msgid "<b>Selection</b>"
 msgstr "<b>Selezione</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1436
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1441
 msgid "B:"
 msgstr "B:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1443
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1448
 msgid "Go to marker B"
 msgstr "Vai al segnalibro B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1445
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1450
 msgid "A:"
 msgstr "A:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1452
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1457
 msgid "Go to marker A"
 msgstr "Vai al segnalibro A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1454
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1462
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1459
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1467
 msgid " 0000000"
 msgstr " 0000000"
 
@@ -7096,15 +7126,15 @@
 msgid "All"
 msgstr "Tutti i file"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:582
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:660
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:728
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:788
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:851
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:574
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:652
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:720
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:780
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:843
 msgid "label1"
 msgstr "label1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:715
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:707
 msgid "Alert"
 msgstr "Avviso"
 
@@ -7360,7 +7390,7 @@
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:88
 #: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:108
 msgid "Bottom"
-msgstr "Basso"
+msgstr "Inferiore"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:95
 msgid "Never"
@@ -7738,7 +7768,7 @@
 
 #: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:93
 msgid "Show _frame"
-msgstr "Mostra _fotogramma"
+msgstr "Mostra numero _fotogramma"
 
 #: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:72
 #: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:72



From gruntster at mail.berlios.de  Sat Sep 20 16:01:28 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 20 Sep 2008 16:01:28 +0200
Subject: [Avidemux-svn-commit] r4380 - in
	branches/avidemux_2.4_branch/avidemux/ADM_outputs: oplug_avi
	oplug_ogm
Message-ID: <200809201401.m8KE1SdB010624@sheep.berlios.de>

Author: gruntster
Date: 2008-09-20 16:01:15 +0200 (Sat, 20 Sep 2008)
New Revision: 4380

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp
Log:
[avi/ogm] don't exceed 100% progress on final pass (introduced in r4370 & r4376)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp	2008-09-20 13:49:50 UTC (rev 4379)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp	2008-09-20 14:01:15 UTC (rev 4380)
@@ -305,7 +305,7 @@
 			}
 		}
 
-		encoding_gui->setFrame(frame,bitstream.len,bitstream.out_quantizer,frametogo);	
+		encoding_gui->setFrame(frame >= frametogo ? frametogo - 1 : frame, bitstream.len, bitstream.out_quantizer, frametogo);	
 
 		if (!writter->saveVideoFrame (bitstream.len, _videoFlag, vbuffer))
 			return -1;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp	2008-09-20 13:49:50 UTC (rev 4379)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp	2008-09-20 14:01:15 UTC (rev 4380)
@@ -240,7 +240,7 @@
 
 	if (bitstream.len > 0)
 	{
-		encoding_gui->setFrame(frame, bitstream.len, bitstream.out_quantizer, _togo);
+		encoding_gui->setFrame(frame >= _togo ? _togo - 1 : frame, bitstream.len, bitstream.out_quantizer, _togo);
 
 		if (!videoStream->write(bitstream.len, _videoBuffer, bitstream.flags, bitstream.dtsFrame))
 			return -1;



From gruntster at mail.berlios.de  Sat Sep 20 16:24:38 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 20 Sep 2008 16:24:38 +0200
Subject: [Avidemux-svn-commit] r4381 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters
Message-ID: <200809201424.m8KEOcpF012699@sheep.berlios.de>

Author: gruntster
Date: 2008-09-20 16:24:31 +0200 (Sat, 20 Sep 2008)
New Revision: 4381

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
Log:
[Qt] don't automatically reopen preview window after adding a new filter

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-20 14:01:15 UTC (rev 4380)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-20 14:24:31 UTC (rev 4381)
@@ -180,6 +180,8 @@
         void allDoubleClick( QListWidgetItem  *item);
 		void filterFamilyItemChanged(QListWidgetItem *current, QListWidgetItem *previous);
 		void preview(bool b);
+		void closePreview();
+
  private:
 		uint32_t previewFrameIndex;
 		int previewDialogX, previewDialogY;
@@ -190,7 +192,6 @@
         void setSelected(int sel);
         void displayFamily(uint32_t family);
         void setupFilters(void);
-		void closePreview();
 };
 
 void filtermainWindow::preview(bool b)
@@ -212,6 +213,7 @@
 	else
 	{
 		previewDialog = new Ui_seekablePreviewWindow(this, videofilters[itag].filter, previewFrameIndex);
+		connect(previewDialog, SIGNAL(accepted()), this, SLOT(closePreview()));
 
 		if (previewDialogX != INT_MIN)
 			previewDialog->move(previewDialogX, previewDialogY);



From gruntster at mail.berlios.de  Sat Sep 20 16:54:15 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 20 Sep 2008 16:54:15 +0200
Subject: [Avidemux-svn-commit] r4382 -
	branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec
Message-ID: <200809201454.m8KEsFgj015171@sheep.berlios.de>

Author: gruntster
Date: 2008-09-20 16:54:05 +0200 (Sat, 20 Sep 2008)
New Revision: 4382

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/dsputil.c
Log:
[Win64] missed a fix for libavcodec

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/dsputil.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/dsputil.c	2008-09-20 14:24:31 UTC (rev 4381)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/dsputil.c	2008-09-20 14:54:05 UTC (rev 4382)
@@ -4096,7 +4096,7 @@
     static int did_fail=0;
     DECLARE_ALIGNED_16(int, aligned);
 
-    if((long)&aligned & 15){
+    if((intptr_t)&aligned & 15){
         if(!did_fail){
 #if defined(HAVE_MMX) || defined(HAVE_ALTIVEC)
             av_log(NULL, AV_LOG_ERROR,



From gruntster at mail.berlios.de  Sat Sep 20 17:22:08 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 20 Sep 2008 17:22:08 +0200
Subject: [Avidemux-svn-commit] r4383 - in
	branches/avidemux_2.5_branch_gruntster: avidemux/ADM_UIs/ADM_QT4/src
	avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2
	avidemux/ADM_userInterfaces/ADM_GTK/glade
	avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui
	avidemux/ADM_userInterfaces/ADM_commonUI
	plugins/ADM_videoEncoder/ADM_vidEnc_x264
	plugins/ADM_videoEncoder/ADM_vidEnc_x264/xml
	plugins/ADM_videoFilters/ASharp/qt4
Message-ID: <200809201522.m8KFM8iB018225@sheep.berlios.de>

Author: gruntster
Date: 2008-09-20 17:21:58 +0200 (Sat, 20 Sep 2008)
New Revision: 4383

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/FAC_frame.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/T_dialogFactory.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/encoder.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.h
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/x264Param.xsd
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/xml/PlayStation Portable.xml
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ASharp/qt4/Q_asharp.cpp
   branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ASharp/qt4/Q_asharp.h
Log:
[Merge] integrate changes from 2.4 branch (r4357)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/FAC_frame.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/FAC_frame.cpp	2008-09-20 14:54:05 UTC (rev 4382)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/FAC_frame.cpp	2008-09-20 15:21:58 UTC (rev 4383)
@@ -1,6 +1,6 @@
 /***************************************************************************
-  FAC_toggle.cpp
-  Handle dialog factory element : Toggle
+  FAC_frame.cpp
+  Handle dialog factory element : Frame
   (C) 2006 Mean Fixounet at free.fr 
 ***************************************************************************/
 
@@ -16,6 +16,7 @@
 
 #include <QtGui/QGridLayout>
 #include <QtGui/QLabel>
+#include <QtGui/QGroupBox>
 
 #include "ADM_default.h"
 #include "DIA_factory.h"
@@ -62,30 +63,23 @@
   if(paramTitle)
     delete paramTitle;
 }
+
 void diaElemFrame::setMe(void *dialog, void *opaque,uint32_t line)
 {
-  
-   QGridLayout *layout=(QGridLayout*) opaque;  
-   QGridLayout *layout2;
-   
-   layout2=new QGridLayout((QWidget *)dialog);
-   myWidget=(void *)layout2; 
+	QGridLayout *layout = (QGridLayout*)opaque;
+	QGroupBox *groupBox = new QGroupBox(QString::fromUtf8(paramTitle));
+	QGridLayout *layout2 = new QGridLayout(groupBox);
+	int v = 0;
 
-    QLabel *text=new QLabel( (QWidget *)dialog);
-    QString string = QString::fromUtf8(paramTitle);
-    
-    string="<b>"+string+"</b>";
-    text->setText(string);
- layout->addWidget(text,line,0);
- layout->addLayout(layout2,line+1,0);
- int  v=0;
-  for(int i=0;i<nbElems;i++)
-  {
-    elems[i]->setMe(dialog,layout2,v); 
-    v+=elems[i]->getSize();
-  }
-  myWidget=(void *)layout2;
+	for (int i = 0; i < nbElems; i++)
+	{
+		elems[i]->setMe(groupBox, layout2, v); 
+		v += elems[i]->getSize();
+	}
+
+	layout->addWidget(groupBox, line, 0);
 }
+
 //*****************************
 void diaElemFrame::getMe(void)
 {

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/T_dialogFactory.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/T_dialogFactory.cpp	2008-09-20 14:54:05 UTC (rev 4382)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_UIs/ADM_QT4/src/T_dialogFactory.cpp	2008-09-20 15:21:58 UTC (rev 4383)
@@ -41,16 +41,16 @@
   
   dialog.setWindowTitle(QString::fromUtf8(title));
   
-  QVBoxLayout vboxLayout;
-  QGridLayout layout;
-  
-  vboxLayout.addLayout(&layout);
-  
+  QSpacerItem *spacer = new QSpacerItem(20, 16, QSizePolicy::Minimum, QSizePolicy::Fixed);
+  QDialogButtonBox *buttonBox = new QDialogButtonBox();
+  QVBoxLayout *vboxLayout = new QVBoxLayout();
+  QGridLayout *layout = new QGridLayout();
+
  int  v=0;
   for(int i=0;i<nb;i++)
   {
     ADM_assert(elems[i]);
-     elems[i]->setMe( (void *)&dialog,&layout,v); 
+     elems[i]->setMe( (void *)&dialog,layout,v); 
      v+=elems[i]->getSize();
     
   }
@@ -61,13 +61,17 @@
   }
 
   // Add buttons
-   QDialogButtonBox buttonBox(&dialog);
-    buttonBox.setStandardButtons(QDialogButtonBox::Ok | QDialogButtonBox::Cancel);
-     QObject::connect(&buttonBox, SIGNAL(accepted()), &dialog, SLOT(accept()));
-     QObject::connect(&buttonBox, SIGNAL(rejected()), &dialog, SLOT(reject()));
-     vboxLayout.addWidget(&buttonBox);
-	 dialog.setLayout(&vboxLayout);
+   buttonBox->setStandardButtons(QDialogButtonBox::Ok | QDialogButtonBox::Cancel);
 
+   QObject::connect(buttonBox, SIGNAL(accepted()), &dialog, SLOT(accept()));
+   QObject::connect(buttonBox, SIGNAL(rejected()), &dialog, SLOT(reject()));
+
+   vboxLayout->addLayout(layout);
+   vboxLayout->addItem(spacer);
+   vboxLayout->addWidget(buttonBox);
+
+   dialog.setLayout(vboxLayout);
+
   if(dialog.exec()==QDialog::Accepted)
   {
      for(int i=0;i<nb;i++)
@@ -106,29 +110,31 @@
   ADM_assert(tabs);
   
   dialog.setWindowTitle(QString::fromUtf8(title));
-  
-  QGridLayout layout(&dialog);
 
-  // Add tabs
-  QTabWidget wtabs((QWidget *)&dialog);
-  // Add buttons
-   QDialogButtonBox buttonBox((QWidget *)&dialog);
-    buttonBox.setStandardButtons(QDialogButtonBox::Ok
-                            | QDialogButtonBox::Cancel);
-     QObject::connect(&buttonBox, SIGNAL(accepted()), &dialog, SLOT(accept()));
-     QObject::connect(&buttonBox, SIGNAL(rejected()), &dialog, SLOT(reject()));
-     
+  QVBoxLayout *vboxLayout = new QVBoxLayout();
+  QGridLayout *layout = new QGridLayout();
+  QSpacerItem *spacer = new QSpacerItem(20, 16, QSizePolicy::Minimum, QSizePolicy::Fixed);
+  QTabWidget *wtabs = new QTabWidget();
+  QDialogButtonBox *buttonBox = new QDialogButtonBox();
+
+    buttonBox->setStandardButtons(QDialogButtonBox::Ok | QDialogButtonBox::Cancel);
+
+     QObject::connect(buttonBox, SIGNAL(accepted()), &dialog, SLOT(accept()));
+     QObject::connect(buttonBox, SIGNAL(rejected()), &dialog, SLOT(reject()));
+
      for(int i=0;i<nb;i++)
      {
         ADM_assert(tabs[i]);
-        insertTab(i,tabs[i],&wtabs); 
-    
+        insertTab(i,tabs[i],wtabs);
       }
-     
-     layout.addWidget(&wtabs,0,0);
-     layout.addWidget(&buttonBox,1,0);
-  // run
-  dialog.setLayout(&layout);
+
+	 vboxLayout->addLayout(layout);
+     vboxLayout->addWidget(wtabs,0,0);
+	 vboxLayout->addItem(spacer);
+     vboxLayout->addWidget(buttonBox,1,0);
+
+	 dialog.setLayout(vboxLayout);
+
   if(dialog.exec()==QDialog::Accepted)
   {
       // Read tabs

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp	2008-09-20 14:54:05 UTC (rev 4382)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp	2008-09-20 15:21:58 UTC (rev 4383)
@@ -212,6 +212,7 @@
   GtkWidget *CheckButtonTimeshift;
   GtkObject *spinbuttonTimeShift_adj;
   GtkWidget *spinbuttonTimeShift;
+  GtkWidget *label23;
   GtkWidget *vbox13;
   GtkWidget *label20;
   GtkWidget *alignment14;
@@ -1166,6 +1167,10 @@
   gtk_tooltips_set_tip (tooltips, spinbuttonTimeShift, QT_TR_NOOP("Audio/video time shift (ms)"), NULL);
   gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbuttonTimeShift), TRUE);
 
+  label23 = gtk_label_new (QT_TR_NOOP("ms"));
+  gtk_widget_show (label23);
+  gtk_box_pack_start (GTK_BOX (hbox19), label23, FALSE, FALSE, 0);
+
   vbox13 = gtk_vbox_new (FALSE, 0);
   gtk_widget_show (vbox13);
   gtk_box_pack_start (GTK_BOX (vbox9), vbox13, FALSE, FALSE, 0);
@@ -1661,6 +1666,7 @@
   GLADE_HOOKUP_OBJECT (mainWindow, hbox19, "hbox19");
   GLADE_HOOKUP_OBJECT (mainWindow, CheckButtonTimeshift, "CheckButtonTimeshift");
   GLADE_HOOKUP_OBJECT (mainWindow, spinbuttonTimeShift, "spinbuttonTimeShift");
+  GLADE_HOOKUP_OBJECT (mainWindow, label23, "label23");
   GLADE_HOOKUP_OBJECT (mainWindow, vbox13, "vbox13");
   GLADE_HOOKUP_OBJECT (mainWindow, label20, "label20");
   GLADE_HOOKUP_OBJECT (mainWindow, alignment14, "alignment14");
@@ -1716,4 +1722,3 @@
 
   return mainWindow;
 }
-

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade	2008-09-20 14:54:05 UTC (rev 4382)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_GTK/glade/gtk2_build.glade	2008-09-20 15:21:58 UTC (rev 4383)
@@ -18,7 +18,6 @@
   <property name="type_hint">GDK_WINDOW_TYPE_HINT_NORMAL</property>
   <property name="gravity">GDK_GRAVITY_NORTH_WEST</property>
   <property name="focus_on_map">True</property>
-  <property name="urgency_hint">False</property>
 
   <child>
     <widget class="GtkVBox" id="vbox1">
@@ -30,8 +29,6 @@
 	<widget class="GtkMenuBar" id="menuBar">
 	  <property name="visible">True</property>
 	  <property name="can_focus">True</property>
-	  <property name="pack_direction">GTK_PACK_DIRECTION_LTR</property>
-	  <property name="child_pack_direction">GTK_PACK_DIRECTION_LTR</property>
 
 	  <child>
 	    <widget class="GtkMenuItem" id="menuitem1">
@@ -1777,6 +1774,31 @@
 					  <property name="fill">True</property>
 					</packing>
 				      </child>
+
+				      <child>
+					<widget class="GtkLabel" id="label23">
+					  <property name="visible">True</property>
+					  <property name="label" translatable="yes">ms</property>
+					  <property name="use_underline">False</property>
+					  <property name="use_markup">False</property>
+					  <property name="justify">GTK_JUSTIFY_LEFT</property>
+					  <property name="wrap">False</property>
+					  <property name="selectable">False</property>
+					  <property name="xalign">0.5</property>
+					  <property name="yalign">0.5</property>
+					  <property name="xpad">0</property>
+					  <property name="ypad">0</property>
+					  <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+					  <property name="width_chars">-1</property>
+					  <property name="single_line_mode">False</property>
+					  <property name="angle">0</property>
+					</widget>
+					<packing>
+					  <property name="padding">0</property>
+					  <property name="expand">False</property>
+					  <property name="fill">False</property>
+					</packing>
+				      </child>
 				    </widget>
 				    <packing>
 				      <property name="padding">0</property>

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2008-09-20 14:54:05 UTC (rev 4382)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2008-09-20 15:21:58 UTC (rev 4383)
@@ -406,18 +406,31 @@
                 </item>
                 <item>
                  <widget class="QSpinBox" name="spinBox_TimeValue" >
+                  <property name="enabled" >
+                   <bool>false</bool>
+                  </property>
                   <property name="sizePolicy" >
                    <sizepolicy vsizetype="Fixed" hsizetype="Minimum" >
                     <horstretch>0</horstretch>
                     <verstretch>0</verstretch>
                    </sizepolicy>
                   </property>
+                  <property name="maximum" >
+                   <number>99999</number>
+                  </property>
                   <property name="minimum" >
                    <number>-99999</number>
                   </property>
-                  <property name="maximum" >
-                   <number>99999</number>
+                 </widget>
+                </item>
+                <item>
+                 <widget class="QLabel" name="label_9" >
+                  <property name="enabled" >
+                   <bool>false</bool>
                   </property>
+                  <property name="text" >
+                   <string>ms</string>
+                  </property>
                  </widget>
                 </item>
                </layout>
@@ -2515,5 +2528,38 @@
  <resources>
   <include location="avidemux.qrc" />
  </resources>
- <connections/>
+ <connections>
+  <connection>
+   <sender>checkBox_TimeShift</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>spinBox_TimeValue</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>59</x>
+     <y>321</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>119</x>
+     <y>321</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>checkBox_TimeShift</sender>
+   <signal>toggled(bool)</signal>
+   <receiver>label_9</receiver>
+   <slot>setEnabled(bool)</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>59</x>
+     <y>321</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>160</x>
+     <y>321</y>
+    </hint>
+   </hints>
+  </connection>
+ </connections>
 </ui>

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp	2008-09-20 14:54:05 UTC (rev 4382)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp	2008-09-20 15:21:58 UTC (rev 4383)
@@ -14,45 +14,38 @@
 
 #include "config.h"
 #include "ADM_default.h"
-
-
 #include "DIA_factory.h"
 
 int DIA_getMPParams( uint32_t *pplevel, uint32_t *ppstrength,uint32_t *swap)
 {
-        
+	diaElemUInteger   postProcStrength(ppstrength,QT_TR_NOOP("_Filter strength:"),0,5);
+	diaElemToggle     swapuv(swap, QT_TR_NOOP("_Swap U and V"));
 
-#define PX(x) x
-        
-    diaElemUInteger   postProcStrength(PX(ppstrength),QT_TR_NOOP("_Filter strength:"),0,5);
-    diaElemToggle     swapuv(PX(swap),QT_TR_NOOP("_Swap U and V"));
-    
-    uint32_t hzd,vzd,dring;
-    
+	uint32_t hzd,vzd,dring;
+
 #define DOME(x,y) if(*pplevel & x) y=1;else y=0;
-    
-    DOME(1,hzd);
-    DOME(2,vzd);
-    DOME(4,dring);
-    
-     diaElemToggle     fhzd(&hzd,QT_TR_NOOP("_Horizontal deblocking"));
-     diaElemToggle     fvzd(&vzd,QT_TR_NOOP("_Vertical deblocking"));
-     diaElemToggle     fdring(&dring,QT_TR_NOOP("_Deringing"));
-    
-    
-    
-      diaElem *elems[5]={&postProcStrength,&swapuv,&fhzd
-                        ,&fvzd,&fdring};
 
-   if(diaFactoryRun("Postprocessing",5,elems))
-  {
+	DOME(1,hzd);
+	DOME(2,vzd);
+	DOME(4,dring);
+
+	diaElemToggle     fhzd(&hzd,QT_TR_NOOP("_Horizontal deblocking"));
+	diaElemToggle     fvzd(&vzd,QT_TR_NOOP("_Vertical deblocking"));
+	diaElemToggle     fdring(&dring,QT_TR_NOOP("_Deringing"));
+
+	diaElem *elems[5]={&postProcStrength,&swapuv,&fhzd,&fvzd,&fdring};
+
+	if(diaFactoryRun(QT_TR_NOOP("Postprocessing"),5,elems))
+	{
 #undef DOME
 #define DOME(x,y) if(y) *pplevel |=x;
-    *pplevel=0;
-    DOME(1,hzd);
-    DOME(2,vzd);
-    DOME(4,dring);
-    return 1;
-  }
-  return 0;	
+
+		*pplevel=0;
+		DOME(1,hzd);
+		DOME(2,vzd);
+		DOME(4,dring);
+
+		return 1;
+	}
+	return 0;	
 }

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/encoder.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/encoder.cpp	2008-09-20 14:54:05 UTC (rev 4382)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/encoder.cpp	2008-09-20 15:21:58 UTC (rev 4383)
@@ -580,7 +580,11 @@
 	printf("[x264] i_bframe_bias = %d\n", x264Param->i_bframe_bias);
 	printf("[x264] i_frame_reference = %d\n", x264Param->i_frame_reference);
 	printf("[x264] b_bframe_pyramid = %d\n", x264Param->b_bframe_pyramid);
+#if X264_BUILD >= 63
+	printf("[x264] i_bframe_adaptive = %d\n", x264Param->i_bframe_adaptive);
+#else
 	printf("[x264] b_bframe_adaptive = %d\n", x264Param->b_bframe_adaptive);
+#endif
 	printf("[x264] i_keyint_max = %d\n", x264Param->i_keyint_max);
 	printf("[x264] i_keyint_min = %d\n", x264Param->i_keyint_min);
 	printf("[x264] i_scenecut_threshold = %d\n", x264Param->i_scenecut_threshold);

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.cpp	2008-09-20 14:54:05 UTC (rev 4382)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.cpp	2008-09-20 15:21:58 UTC (rev 4383)
@@ -333,14 +333,23 @@
 		_param.i_bframe = bFrames;
 }
 
-bool x264Options::getAdaptiveBFrameDecision(void)
+unsigned int x264Options::getAdaptiveBFrameDecision(void)
 {
+#if X264_BUILD >= 63
+	return _param.i_bframe_adaptive;
+#else
 	return _param.b_bframe_adaptive;
+#endif
 }
 
-void x264Options::setAdaptiveBFrameDecision(bool adaptiveBframeDecision)
+void x264Options::setAdaptiveBFrameDecision(unsigned int adaptiveBframeDecision)
 {
-	_param.b_bframe_adaptive = adaptiveBframeDecision;
+	if (adaptiveBframeDecision <= 2)
+#if X264_BUILD >= 63
+		_param.i_bframe_adaptive = adaptiveBframeDecision;
+#else
+		_param.b_bframe_adaptive = adaptiveBframeDecision;
+#endif
 }
 
 int x264Options::getBFrameBias(void)
@@ -1207,7 +1216,7 @@
 	xmlNewChild(xmlNodeRoot, NULL, (xmlChar*)"scenecutThreshold", number2String(xmlBuffer, bufferSize, getScenecutThreshold()));
 	xmlNewChild(xmlNodeRoot, NULL, (xmlChar*)"preScenecutDetection", boolean2String(xmlBuffer, bufferSize, getPreScenecutDetection()));
 	xmlNewChild(xmlNodeRoot, NULL, (xmlChar*)"bFrames", number2String(xmlBuffer, bufferSize, getBFrames()));
-	xmlNewChild(xmlNodeRoot, NULL, (xmlChar*)"adaptiveBframeDecision", boolean2String(xmlBuffer, bufferSize, getAdaptiveBFrameDecision()));
+	xmlNewChild(xmlNodeRoot, NULL, (xmlChar*)"adaptiveBframeDecision", number2String(xmlBuffer, bufferSize, getAdaptiveBFrameDecision()));
 	xmlNewChild(xmlNodeRoot, NULL, (xmlChar*)"bFrameBias", number2String(xmlBuffer, bufferSize, getBFrameBias()));
 	xmlNewChild(xmlNodeRoot, NULL, (xmlChar*)"bFrameReferences", number2String(xmlBuffer, bufferSize, getBFrameReferences()));
 	xmlNewChild(xmlNodeRoot, NULL, (xmlChar*)"loopFilter", boolean2String(xmlBuffer, bufferSize, getLoopFilter()));
@@ -1547,7 +1556,7 @@
 			else if (strcmp((char*)xmlChild->name, "bFrames") == 0)
 				setBFrames(atoi(content));
 			else if (strcmp((char*)xmlChild->name, "adaptiveBframeDecision") == 0)
-				setAdaptiveBFrameDecision(string2Boolean(content));
+				setAdaptiveBFrameDecision(atoi(content));
 			else if (strcmp((char*)xmlChild->name, "bFrameBias") == 0)
 				setBFrameBias(atoi(content));
 			else if (strcmp((char*)xmlChild->name, "bFrameReferences") == 0)

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.h	2008-09-20 14:54:05 UTC (rev 4382)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/options.h	2008-09-20 15:21:58 UTC (rev 4383)
@@ -138,8 +138,8 @@
 	unsigned int getBFrames(void);
 	void setBFrames(unsigned int bFrames);
 
-	bool getAdaptiveBFrameDecision(void);
-	void setAdaptiveBFrameDecision(bool adaptiveBframeDecision);
+	unsigned int getAdaptiveBFrameDecision(void);
+	void setAdaptiveBFrameDecision(unsigned int adaptiveBframeDecision);
 
 	int getBFrameBias(void);
 	void setBFrameBias(int bFrameBias);

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/x264Param.xsd
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/x264Param.xsd	2008-09-20 14:54:05 UTC (rev 4382)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/x264Param.xsd	2008-09-20 15:21:58 UTC (rev 4383)
@@ -185,7 +185,14 @@
                   </xs:restriction>
                 </xs:simpleType>
               </xs:element>
-              <xs:element name="adaptiveBframeDecision" type="xs:boolean"/>
+              <xs:element name="adaptiveBframeDecision">
+                <xs:simpleType>
+                  <xs:restriction base="xs:integer">
+                    <xs:minInclusive value="0"/>
+                    <xs:maxInclusive value="2"/>
+                  </xs:restriction>
+                </xs:simpleType>
+              </xs:element>
               <xs:element name="bFrameBias">
                 <xs:simpleType>
                   <xs:restriction base="xs:integer">

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/xml/PlayStation Portable.xml
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/xml/PlayStation Portable.xml	2008-09-20 14:54:05 UTC (rev 4382)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoEncoder/ADM_vidEnc_x264/xml/PlayStation Portable.xml	2008-09-20 15:21:58 UTC (rev 4383)
@@ -26,7 +26,7 @@
     <scenecutThreshold>0</scenecutThreshold>
     <preScenecutDetection>false</preScenecutDetection>
     <bFrames>3</bFrames>
-    <adaptiveBframeDecision>true</adaptiveBframeDecision>
+    <adaptiveBframeDecision>1</adaptiveBframeDecision>
     <bFrameBias>0</bFrameBias>
     <bFrameReferences>0</bFrameReferences>
     <loopFilter>false</loopFilter>

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ASharp/qt4/Q_asharp.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ASharp/qt4/Q_asharp.cpp	2008-09-20 14:54:05 UTC (rev 4382)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ASharp/qt4/Q_asharp.cpp	2008-09-20 15:21:58 UTC (rev 4383)
@@ -45,7 +45,7 @@
 
 
         connect( ui.horizontalSlider,SIGNAL(valueChanged(int)),this,SLOT(sliderUpdate(int)));
-#define SPINNER(x) connect( ui.doubleSpinBox##x,SIGNAL(valueChanged(int)),this,SLOT(valueChanged(int))); 
+#define SPINNER(x) connect( ui.doubleSpinBox##x,SIGNAL(valueChanged(double)),this,SLOT(valueChanged(double))); 
           SPINNER(Treshold);
           SPINNER(Strength);
           SPINNER(Block);
@@ -77,6 +77,14 @@
   lock--;
 }
 
+void Ui_asharpWindow::valueChanged( double f )
+{
+  if(lock) return;
+  lock++;
+  myCrop->update();
+  lock--;
+}
+
 #define MYSPIN(x) w->doubleSpinBox##x
 //************************
 uint8_t flyASharp::upload(void)

Modified: branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ASharp/qt4/Q_asharp.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ASharp/qt4/Q_asharp.h	2008-09-20 14:54:05 UTC (rev 4382)
+++ branches/avidemux_2.5_branch_gruntster/plugins/ADM_videoFilters/ASharp/qt4/Q_asharp.h	2008-09-20 15:21:58 UTC (rev 4383)
@@ -29,5 +29,6 @@
 private slots:
 	void sliderUpdate(int foo);
 	void valueChanged(int foo);
+	void valueChanged(double foo);
 };
 #endif	// Q_asharp_h



From gruntster at mail.berlios.de  Sat Sep 20 17:51:50 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 20 Sep 2008 17:51:50 +0200
Subject: [Avidemux-svn-commit] r4384 - in
	branches/avidemux_2.5_branch_gruntster/avidemux:
	ADM_libraries/ADM_ffmpeg ADM_libraries/ADM_ffmpeg/ADM_lavcodec
	ADM_libraries/ADM_ffmpeg/ADM_lavformat
	ADM_libraries/ADM_utilities ADM_outputs ADM_outputs/oplug_avi
	ADM_outputs/oplug_mp4
Message-ID: <200809201551.m8KFpoNq020466@sheep.berlios.de>

Author: gruntster
Date: 2008-09-20 17:51:36 +0200 (Sat, 20 Sep 2008)
New Revision: 4384

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/avcodec.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavformat/movenc.c
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/config.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_utilities/ADM_bitstream.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_utilities/ADM_bitstream.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/ADM_lavformat.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_saveprocess.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp
Log:
[Merge] integrate changes from 2.4 branch (r4366)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/avcodec.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/avcodec.h	2008-09-20 15:21:58 UTC (rev 4383)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavcodec/avcodec.h	2008-09-20 15:51:36 UTC (rev 4384)
@@ -177,6 +177,7 @@
     CODEC_ID_SUNRAST,
     CODEC_ID_INDEO4,
     CODEC_ID_INDEO5,
+    CODEC_ID_DIRAC,
 
     /* various PCM "codecs" */
     CODEC_ID_PCM_S16LE= 0x10000,

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavformat/movenc.c
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavformat/movenc.c	2008-09-20 15:21:58 UTC (rev 4383)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/ADM_lavformat/movenc.c	2008-09-20 15:51:36 UTC (rev 4384)
@@ -24,6 +24,7 @@
 #include "avio.h"
 #include "isom.h"
 #include "avc.h"
+#include "bitstream.h"
 
 #undef NDEBUG
 #include <assert.h>
@@ -31,19 +32,14 @@
 #define MOV_INDEX_CLUSTER_SIZE 16384
 #define globalTimescale 1000
 
-#define MODE_MP4 0
-#define MODE_MOV 1
-#define MODE_3GP 2
-#define MODE_PSP 3 // example working PSP command line:
+#define MODE_MP4  0x01
+#define MODE_MOV  0x02
+#define MODE_3GP  0x04
+#define MODE_PSP  0x08 // example working PSP command line:
 // ffmpeg -i testinput.avi  -f psp -r 14.985 -s 320x240 -b 768 -ar 24000 -ab 32 M4V00001.MP4
-#define MODE_3G2 4
-#define MODE_IPOD 5
+#define MODE_3G2  0x10
+#define MODE_IPOD 0x20
 
-// MEANX
-//extern int ADM_useAlternateTagging(void);
-// MEANX
-
-
 typedef struct MOVIentry {
     unsigned int flags, size;
     uint64_t     pos;
@@ -86,7 +82,7 @@
 } MOVContext;
 
 //FIXME support 64 bit variant with wide placeholders
-static offset_t updateSize (ByteIOContext *pb, offset_t pos)
+static offset_t updateSize(ByteIOContext *pb, offset_t pos)
 {
     offset_t curpos = url_ftell(pb);
     url_fseek(pb, pos, SEEK_SET);
@@ -97,7 +93,7 @@
 }
 
 /* Chunk offset atom */
-static int mov_write_stco_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_stco_tag(ByteIOContext *pb, MOVTrack *track)
 {
     int i;
     int mode64 = 0; //   use 32 bit size variant if possible
@@ -116,11 +112,11 @@
         else
             put_be32(pb, track->cluster[i].pos);
     }
-    return updateSize (pb, pos);
+    return updateSize(pb, pos);
 }
 
 /* Sample size atom */
-static int mov_write_stsz_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_stsz_tag(ByteIOContext *pb, MOVTrack *track)
 {
     int equalChunks = 1;
     int i, j, entries = 0, tst = -1, oldtst = -1;
@@ -153,11 +149,11 @@
             }
         }
     }
-    return updateSize (pb, pos);
+    return updateSize(pb, pos);
 }
 
 /* Sample to chunk atom */
-static int mov_write_stsc_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_stsc_tag(ByteIOContext *pb, MOVTrack *track)
 {
     int index = 0, oldval = -1, i;
     offset_t entryPos, curpos;
@@ -183,11 +179,11 @@
     put_be32(pb, index); // rewrite size
     url_fseek(pb, curpos, SEEK_SET);
 
-    return updateSize (pb, pos);
+    return updateSize(pb, pos);
 }
 
 /* Sync sample atom */
-static int mov_write_stss_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_stss_tag(ByteIOContext *pb, MOVTrack *track)
 {
     offset_t curpos, entryPos;
     int i, index = 0;
@@ -207,7 +203,7 @@
     url_fseek(pb, entryPos, SEEK_SET);
     put_be32(pb, index); // rewrite size
     url_fseek(pb, curpos, SEEK_SET);
-    return updateSize (pb, pos);
+    return updateSize(pb, pos);
 }
 
 static int mov_write_amr_tag(ByteIOContext *pb, MOVTrack *track)
@@ -224,6 +220,60 @@
     return 0x11;
 }
 
+static int mov_write_ac3_tag(ByteIOContext *pb, MOVTrack *track)
+{
+    GetBitContext gbc;
+    PutBitContext pbc;
+    uint8_t buf[3];
+    int fscod, bsid, bsmod, acmod, lfeon, frmsizecod;
+
+    if (track->vosLen < 7)
+        return -1;
+
+    put_be32(pb, 11);
+    put_tag(pb, "dac3");
+
+    init_get_bits(&gbc, track->vosData+4, track->vosLen-4);
+    fscod      = get_bits(&gbc, 2);
+    frmsizecod = get_bits(&gbc, 6);
+    bsid       = get_bits(&gbc, 5);
+    bsmod      = get_bits(&gbc, 3);
+    acmod      = get_bits(&gbc, 3);
+    if (acmod == 2) {
+        skip_bits(&gbc, 2); // dsurmod
+    } else {
+        if ((acmod & 1) && acmod != 1)
+            skip_bits(&gbc, 2); // cmixlev
+        if (acmod & 4)
+            skip_bits(&gbc, 2); // surmixlev
+    }
+    lfeon = get_bits1(&gbc);
+
+    init_put_bits(&pbc, buf, sizeof(buf));
+    put_bits(&pbc, 2, fscod);
+    put_bits(&pbc, 5, bsid);
+    put_bits(&pbc, 3, bsmod);
+    put_bits(&pbc, 3, acmod);
+    put_bits(&pbc, 1, lfeon);
+    put_bits(&pbc, 5, frmsizecod>>1); // bit_rate_code
+    put_bits(&pbc, 5, 0); // reserved
+
+    flush_put_bits(&pbc);
+    put_buffer(pb, buf, sizeof(buf));
+
+    return 11;
+}
+
+/**
+ * This function writes extradata "as is".
+ * Extradata must be formated like a valid atom (with size and tag)
+ */
+static int mov_write_extradata_tag(ByteIOContext *pb, MOVTrack *track)
+{
+    put_buffer(pb, track->enc->extradata, track->enc->extradata_size);
+    return track->enc->extradata_size;
+}
+
 static int mov_write_enda_tag(ByteIOContext *pb)
 {
     put_be32(pb, 10);
@@ -248,64 +298,61 @@
     put_byte(pb, size & 0x7F);
 }
 
-static int mov_write_esds_tag(ByteIOContext *pb, MOVTrack* track) // Basic
+static int mov_write_esds_tag(ByteIOContext *pb, MOVTrack *track) // Basic
 {
-int codec_id; // MEANX
-
     offset_t pos = url_ftell(pb);
     int decoderSpecificInfoLen = track->vosLen ? descrLength(track->vosLen):0;
 
-    put_be32(pb, 0);               // size
+    put_be32(pb, 0); // size
     put_tag(pb, "esds");
-    put_be32(pb, 0);               // Version
+    put_be32(pb, 0); // Version
 
     // ES descriptor
     putDescr(pb, 0x03, 3 + descrLength(13 + decoderSpecificInfoLen) +
              descrLength(1));
     put_be16(pb, track->trackID);
-    put_byte(pb, 0x00);            // flags (= no flags)
+    put_byte(pb, 0x00); // flags (= no flags)
 
     // DecoderConfig descriptor
     putDescr(pb, 0x04, 13 + decoderSpecificInfoLen);
 
     // Object type indication
-   //MEANX  put_byte(pb, codec_get_tag(ff_mp4_obj_type, track->enc->codec_id));
-   codec_id=track->enc->codec_id;
-    //if(ADM_useAlternateTagging() && codec_id==CODEC_ID_MP3) codec_id=CODEC_ID_MP2;
-    put_byte(pb, codec_get_tag(ff_mp4_obj_type, codec_id));
-    // /MEANX
+    if ((track->enc->codec_id == CODEC_ID_MP2 ||
+         track->enc->codec_id == CODEC_ID_MP3) &&
+        track->enc->sample_rate > 24000)
+        put_byte(pb, 0x6B); // 11172-3
+    else
+        put_byte(pb, codec_get_tag(ff_mp4_obj_type, track->enc->codec_id));
 
     // the following fields is made of 6 bits to identify the streamtype (4 for video, 5 for audio)
     // plus 1 bit to indicate upstream and 1 bit set to 1 (reserved)
     if(track->enc->codec_type == CODEC_TYPE_AUDIO)
-        put_byte(pb, 0x15);            // flags (= Audiostream)
+        put_byte(pb, 0x15); // flags (= Audiostream)
     else
-        put_byte(pb, 0x11);            // flags (= Visualstream)
+        put_byte(pb, 0x11); // flags (= Visualstream)
 
-    put_byte(pb,  track->enc->rc_buffer_size>>(3+16));             // Buffersize DB (24 bits)
-    put_be16(pb, (track->enc->rc_buffer_size>>3)&0xFFFF);          // Buffersize DB
+    put_byte(pb,  track->enc->rc_buffer_size>>(3+16));    // Buffersize DB (24 bits)
+    put_be16(pb, (track->enc->rc_buffer_size>>3)&0xFFFF); // Buffersize DB
 
-    put_be32(pb, FFMAX(track->enc->bit_rate, track->enc->rc_max_rate));     // maxbitrate  (FIXME should be max rate in any 1 sec window)
+    put_be32(pb, FFMAX(track->enc->bit_rate, track->enc->rc_max_rate)); // maxbitrate (FIXME should be max rate in any 1 sec window)
     if(track->enc->rc_max_rate != track->enc->rc_min_rate || track->enc->rc_min_rate==0)
-        put_be32(pb, 0);     // vbr
+        put_be32(pb, 0); // vbr
     else
-        put_be32(pb, track->enc->rc_max_rate);     // avg bitrate
+        put_be32(pb, track->enc->rc_max_rate); // avg bitrate
 
-    if (track->vosLen)
-    {
+    if (track->vosLen) {
         // DecoderSpecific info descriptor
         putDescr(pb, 0x05, track->vosLen);
         put_buffer(pb, track->vosData, track->vosLen);
     }
 
-
     // SL descriptor
     putDescr(pb, 0x06, 1);
     put_byte(pb, 0x02);
-    return updateSize (pb, pos);
+    return updateSize(pb, pos);
 }
 
-static int mov_write_wave_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_wave_tag(ByteIOContext *pb, MOVTrack *track)
 {
     offset_t pos = url_ftell(pb);
 
@@ -327,15 +374,19 @@
         mov_write_enda_tag(pb);
     } else if (track->enc->codec_id == CODEC_ID_AMR_NB) {
         mov_write_amr_tag(pb, track);
+    } else if (track->enc->codec_id == CODEC_ID_AC3) {
+        mov_write_ac3_tag(pb, track);
+    } else if (track->enc->codec_id == CODEC_ID_ALAC) {
+        mov_write_extradata_tag(pb, track);
     }
 
     put_be32(pb, 8);     /* size */
     put_be32(pb, 0);     /* null tag */
 
-    return updateSize (pb, pos);
+    return updateSize(pb, pos);
 }
 
-static int mov_write_glbl_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_glbl_tag(ByteIOContext *pb, MOVTrack *track)
 {
     put_be32(pb, track->vosLen+8);
     put_tag(pb, "glbl");
@@ -343,7 +394,7 @@
     return 8+track->vosLen;
 }
 
-static int mov_write_audio_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_audio_tag(ByteIOContext *pb, MOVTrack *track)
 {
     offset_t pos = url_ftell(pb);
     int version = track->mode == MODE_MOV &&
@@ -389,18 +440,24 @@
 
     if(track->mode == MODE_MOV &&
        (track->enc->codec_id == CODEC_ID_AAC ||
+        track->enc->codec_id == CODEC_ID_AC3 ||
         track->enc->codec_id == CODEC_ID_AMR_NB ||
         track->enc->codec_id == CODEC_ID_PCM_S24LE ||
-        track->enc->codec_id == CODEC_ID_PCM_S32LE))
+        track->enc->codec_id == CODEC_ID_PCM_S32LE ||
+        track->enc->codec_id == CODEC_ID_ALAC))
         mov_write_wave_tag(pb, track);
-    else if(track->tag == MKTAG('m','p','4','a')) // MEANX : Not changed, AAC OR MP3 NOT SURE...
+    else if(track->tag == MKTAG('m','p','4','a'))
         mov_write_esds_tag(pb, track);
     else if(track->enc->codec_id == CODEC_ID_AMR_NB)
         mov_write_amr_tag(pb, track);
+    else if(track->enc->codec_id == CODEC_ID_AC3)
+        mov_write_ac3_tag(pb, track);
+    else if(track->enc->codec_id == CODEC_ID_ALAC)
+        mov_write_extradata_tag(pb, track);
     else if(track->vosLen > 0)
         mov_write_glbl_tag(pb, track);
 
-    return updateSize (pb, pos);
+    return updateSize(pb, pos);
 }
 
 static int mov_write_d263_tag(ByteIOContext *pb)
@@ -493,6 +550,7 @@
     { CODEC_ID_AAC,    MKTAG('m','p','4','a') },
     { CODEC_ID_AMR_NB, MKTAG('s','a','m','r') },
     { CODEC_ID_AMR_WB, MKTAG('s','a','w','b') },
+    { CODEC_ID_NONE, 0 },
 };
 
 static const AVCodecTag mov_pix_fmt_tags[] = {
@@ -503,16 +561,32 @@
     { PIX_FMT_BGR32_1, MKTAG('r','a','w',' ') },
 };
 
+static const AVCodecTag codec_ipod_tags[] = {
+    { CODEC_ID_H264,   MKTAG('a','v','c','1') },
+    { CODEC_ID_MPEG4,  MKTAG('m','p','4','v') },
+    { CODEC_ID_AAC,    MKTAG('m','p','4','a') },
+    { CODEC_ID_ALAC,   MKTAG('a','l','a','c') },
+    { CODEC_ID_AC3,    MKTAG('a','c','-','3') },
+    { CODEC_ID_NONE, 0 },
+};
+
 static int mov_find_codec_tag(AVFormatContext *s, MOVTrack *track)
 {
     int tag = track->enc->codec_tag;
-    if (track->mode == MODE_MP4 || track->mode == MODE_PSP || track->mode == MODE_IPOD) {
+    if (track->mode == MODE_MP4 || track->mode == MODE_PSP) {
         if (!codec_get_tag(ff_mp4_obj_type, track->enc->codec_id))
             return 0;
-        if (track->enc->codec_id == CODEC_ID_H264)           tag = MKTAG('a','v','c','1');
+        if      (track->enc->codec_id == CODEC_ID_H264)      tag = MKTAG('a','v','c','1');
+        else if (track->enc->codec_id == CODEC_ID_AC3)       tag = MKTAG('a','c','-','3');
+        else if (track->enc->codec_id == CODEC_ID_DIRAC)     tag = MKTAG('d','r','a','c');
         else if (track->enc->codec_type == CODEC_TYPE_VIDEO) tag = MKTAG('m','p','4','v');
         else if (track->enc->codec_type == CODEC_TYPE_AUDIO) tag = MKTAG('m','p','4','a');
-    } else if (track->mode == MODE_3GP || track->mode == MODE_3G2) {
+    } else if (track->mode == MODE_IPOD) {
+        tag = codec_get_tag(codec_ipod_tags, track->enc->codec_id);
+        if (!match_ext(s->filename, "m4a") && !match_ext(s->filename, "m4v"))
+            av_log(s, AV_LOG_WARNING, "Warning, extension is not .m4a nor .m4v "
+                   "Quicktime/Ipod might not play the file\n");
+    } else if (track->mode & MODE_3GP) {
         tag = codec_get_tag(codec_3gp_tags, track->enc->codec_id);
     } else if (!tag || (track->enc->strict_std_compliance >= FF_COMPLIANCE_NORMAL &&
                         (tag == MKTAG('d','v','c','p') ||
@@ -569,7 +643,7 @@
     return 28;
 }
 
-static int mov_write_video_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_video_tag(ByteIOContext *pb, MOVTrack *track)
 {
     offset_t pos = url_ftell(pb);
     char compressor_name[32];
@@ -621,20 +695,19 @@
         mov_write_d263_tag(pb);
     else if(track->enc->codec_id == CODEC_ID_SVQ3)
         mov_write_svq3_tag(pb);
+    else if(track->enc->codec_id == CODEC_ID_DNXHD)
+        mov_write_avid_tag(pb, track);
     else if(track->enc->codec_id == CODEC_ID_H264) {
         mov_write_avcc_tag(pb, track);
         if(track->mode == MODE_IPOD)
             mov_write_uuid_tag_ipod(pb);
-    }
-    else if(track->enc->codec_id == CODEC_ID_DNXHD)
-        mov_write_avid_tag(pb, track);
-    else if(track->vosLen > 0)
+    } else if(track->vosLen > 0)
         mov_write_glbl_tag(pb, track);
 
-    return updateSize (pb, pos);
+    return updateSize(pb, pos);
 }
 
-static int mov_write_stsd_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_stsd_tag(ByteIOContext *pb, MOVTrack *track)
 {
     offset_t pos = url_ftell(pb);
     put_be32(pb, 0); /* size */
@@ -648,7 +721,7 @@
     return updateSize(pb, pos);
 }
 
-static int mov_write_ctts_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_ctts_tag(ByteIOContext *pb, MOVTrack *track)
 {
     MOV_stts_t *ctts_entries;
     uint32_t entries = 0;
@@ -682,7 +755,7 @@
 }
 
 /* Time to sample atom */
-static int mov_write_stts_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_stts_tag(ByteIOContext *pb, MOVTrack *track)
 {
     MOV_stts_t *stts_entries;
     uint32_t entries = -1;
@@ -737,7 +810,7 @@
     return 28;
 }
 
-static int mov_write_stbl_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_stbl_tag(ByteIOContext *pb, MOVTrack *track)
 {
     offset_t pos = url_ftell(pb);
     put_be32(pb, 0); /* size */
@@ -745,7 +818,7 @@
     mov_write_stsd_tag(pb, track);
     mov_write_stts_tag(pb, track);
     if (track->enc->codec_type == CODEC_TYPE_VIDEO &&
-        track->hasKeyframes < track->entry)
+        track->hasKeyframes && track->hasKeyframes < track->entry)
         mov_write_stss_tag(pb, track);
     if (track->enc->codec_type == CODEC_TYPE_VIDEO &&
         track->hasBframes)
@@ -784,7 +857,7 @@
     return 0x14;
 }
 
-static int mov_write_hdlr_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_hdlr_tag(ByteIOContext *pb, MOVTrack *track)
 {
     const char *descr, *hdlr, *hdlr_type;
     offset_t pos = url_ftell(pb);
@@ -817,7 +890,7 @@
     return updateSize(pb, pos);
 }
 
-static int mov_write_minf_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_minf_tag(ByteIOContext *pb, MOVTrack *track)
 {
     offset_t pos = url_ftell(pb);
     put_be32(pb, 0); /* size */
@@ -833,7 +906,7 @@
     return updateSize(pb, pos);
 }
 
-static int mov_write_mdhd_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_mdhd_tag(ByteIOContext *pb, MOVTrack *track)
 {
     int version = track->trackDuration < INT32_MAX ? 0 : 1;
 
@@ -863,7 +936,7 @@
     return 32;
 }
 
-static int mov_write_mdia_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_mdia_tag(ByteIOContext *pb, MOVTrack *track)
 {
     offset_t pos = url_ftell(pb);
     put_be32(pb, 0); /* size */
@@ -874,7 +947,7 @@
     return updateSize(pb, pos);
 }
 
-static int mov_write_tkhd_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_tkhd_tag(ByteIOContext *pb, MOVTrack *track, AVStream *st)
 {
     int64_t duration = av_rescale_rnd(track->trackDuration, globalTimescale, track->timescale, AV_ROUND_UP);
     int version = duration < INT32_MAX ? 0 : 1;
@@ -941,11 +1014,8 @@
 
     put_be32(pb, av_rescale_rnd(track->trackDuration, globalTimescale, track->timescale, AV_ROUND_UP)); /* duration   ... doesn't seem to effect psp */
 
-    // MEANX NO put_be32(pb, track->cluster[0].cts); /* first pts is cts since dts is 0 */
-    // MEANX NO put_be32(pb, 0x00010000);
- put_be32(pb, 0x00000000);
- put_be32(pb, 0x00000001);
-
+    put_be32(pb, track->cluster[0].cts); /* first pts is cts since dts is 0 */
+    put_be32(pb, 0x00010000);
     return 0x24;
 }
 
@@ -968,12 +1038,12 @@
     return 0x34;
 }
 
-static int mov_write_trak_tag(ByteIOContext *pb, MOVTrack* track)
+static int mov_write_trak_tag(ByteIOContext *pb, MOVTrack *track, AVStream *st)
 {
     offset_t pos = url_ftell(pb);
     put_be32(pb, 0); /* size */
     put_tag(pb, "trak");
-    mov_write_tkhd_tag(pb, track);
+    mov_write_tkhd_tag(pb, track, st);
     if (track->mode == MODE_PSP || track->hasBframes)
         mov_write_edts_tag(pb, track);  // PSP Movies require edts box
     mov_write_mdia_tag(pb, track);
@@ -1056,7 +1126,7 @@
     return 0x6c;
 }
 
-static int mov_write_itunes_hdlr_tag(ByteIOContext *pb, MOVContext* mov,
+static int mov_write_itunes_hdlr_tag(ByteIOContext *pb, MOVContext *mov,
                                      AVFormatContext *s)
 {
     offset_t pos = url_ftell(pb);
@@ -1115,7 +1185,7 @@
 }
 
 /* iTunes track number */
-static int mov_write_trkn_tag(ByteIOContext *pb, MOVContext* mov,
+static int mov_write_trkn_tag(ByteIOContext *pb, MOVContext *mov,
                               AVFormatContext *s)
 {
     int size = 0;
@@ -1141,7 +1211,7 @@
 }
 
 /* iTunes meta data list */
-static int mov_write_ilst_tag(ByteIOContext *pb, MOVContext* mov,
+static int mov_write_ilst_tag(ByteIOContext *pb, MOVContext *mov,
                               AVFormatContext *s)
 {
     offset_t pos = url_ftell(pb);
@@ -1152,23 +1222,23 @@
     mov_write_string_tag(pb, "\251wrt", s->author        , 1);
     mov_write_string_tag(pb, "\251alb", s->album         , 1);
     mov_write_day_tag(pb, s->year ,1);
-    if(mov->tracks[0].enc && !(mov->tracks[0].enc->flags & CODEC_FLAG_BITEXACT))
-        mov_write_string_tag(pb, "\251too", LIBAVFORMAT_IDENT, 1);
+    mov_write_string_tag(pb, "\251too", LIBAVFORMAT_IDENT, 1);
     mov_write_string_tag(pb, "\251cmt", s->comment       , 1);
     mov_write_string_tag(pb, "\251gen", s->genre         , 1);
+    mov_write_string_tag(pb, "\251cpy", s->copyright     , 1);
     mov_write_trkn_tag(pb, mov, s);
     return updateSize(pb, pos);
 }
 
 /* iTunes meta data tag */
-static int mov_write_meta_tag(ByteIOContext *pb, MOVContext* mov,
+static int mov_write_meta_tag(ByteIOContext *pb, MOVContext *mov,
                               AVFormatContext *s)
 {
     int size = 0;
 
     // only save meta tag if required
     if (s->title[0] || s->author[0] || s->album[0] || s->year ||
-         s->comment[0] || s->genre[0] || s->track) {
+        s->comment[0] || s->genre[0] || s->track) {
         offset_t pos = url_ftell(pb);
         put_be32(pb, 0); /* size */
         put_tag(pb, "meta");
@@ -1180,86 +1250,116 @@
     return size;
 }
 
-static int mov_write_udta_tag(ByteIOContext *pb, MOVContext* mov,
+static int utf8len(const uint8_t *b)
+{
+    int len=0;
+    int val;
+    while(*b){
+        GET_UTF8(val, *b++, return -1;)
+        len++;
+    }
+    return len;
+}
+
+static int ascii_to_wc(ByteIOContext *pb, const uint8_t *b)
+{
+    int val;
+    while(*b){
+        GET_UTF8(val, *b++, return -1;)
+        put_be16(pb, val);
+    }
+    put_be16(pb, 0x00);
+    return 0;
+}
+
+static uint16_t language_code(const char *str)
+{
+    return (((str[0]-0x60) & 0x1F) << 10) + (((str[1]-0x60) & 0x1F) << 5) + ((str[2]-0x60) & 0x1F);
+}
+
+static int mov_write_3gp_udta_tag(ByteIOContext *pb, AVFormatContext *s,
+                                  const char *tag, const char *str)
+{
+    offset_t pos = url_ftell(pb);
+    if (!utf8len(str))
+        return 0;
+    put_be32(pb, 0);   /* size */
+    put_tag (pb, tag); /* type */
+    put_be32(pb, 0);   /* version + flags */
+    if (!strcmp(tag, "yrrc"))
+        put_be16(pb, s->year);
+    else {
+        put_be16(pb, language_code("eng")); /* language */
+        ascii_to_wc(pb, str);
+        if (!strcmp(tag, "albm") && s->year)
+            put_byte(pb, s->year);
+    }
+    return updateSize(pb, pos);
+}
+
+static int mov_write_udta_tag(ByteIOContext *pb, MOVContext *mov,
                               AVFormatContext *s)
 {
-    int i, req = 0;
+    int i;
+    int bitexact = 0;
 
-    /* Requirements */
-    for (i=0; i<mov->nb_streams; i++) {
-        if(mov->tracks[i].entry <= 0) continue;
-        if (mov->tracks[i].enc->codec_id == CODEC_ID_AAC ||
-            mov->tracks[i].enc->codec_id == CODEC_ID_MPEG4) {
-            req = 1;
+    for (i = 0; i < s->nb_streams; i++)
+        if (mov->tracks[i].enc->flags & CODEC_FLAG_BITEXACT) {
+            bitexact = 1;
             break;
         }
-    }
 
-    if (s->title[0]   || s->author[0] || s->album[0] || s->year ||
-        s->comment[0] || s->genre[0]  || s->track ||
-       (mov->mode == MODE_MOV &&
-      ((mov->tracks[0].enc && !mov->tracks[0].enc->flags & CODEC_FLAG_BITEXACT) || req))) {
+    if (!bitexact && (s->title[0] || s->author[0] || s->album[0] || s->year ||
+                      s->comment[0] || s->genre[0]  || s->track)) {
         offset_t pos = url_ftell(pb);
 
         put_be32(pb, 0); /* size */
         put_tag(pb, "udta");
 
-        /* iTunes meta data */
-        mov_write_meta_tag(pb, mov, s);
-
-        if(mov->mode == MODE_MOV){ // the title field breaks gtkpod with mp4 and my suspicion is that stuff is not valid in mp4
-            /* Requirements */
-            if (req)
-                mov_write_string_tag(pb, "\251req", "QuickTime 6.0 or greater", 0);
-
+        if (mov->mode & MODE_3GP) {
+            mov_write_3gp_udta_tag(pb, s, "titl", s->title);
+            mov_write_3gp_udta_tag(pb, s, "auth", s->author);
+            mov_write_3gp_udta_tag(pb, s, "gnre", s->genre);
+            mov_write_3gp_udta_tag(pb, s, "dscp", s->comment);
+            mov_write_3gp_udta_tag(pb, s, "albm", s->album);
+            mov_write_3gp_udta_tag(pb, s, "cprt", s->copyright);
+            mov_write_3gp_udta_tag(pb, s, "yrrc", "nil");
+        } else if (mov->mode == MODE_MOV) { // the title field breaks gtkpod with mp4 and my suspicion is that stuff is not valid in mp4
             mov_write_string_tag(pb, "\251nam", s->title         , 0);
             mov_write_string_tag(pb, "\251aut", s->author        , 0);
             mov_write_string_tag(pb, "\251alb", s->album         , 0);
             mov_write_day_tag(pb, s->year, 0);
-            if(mov->tracks[0].enc && !(mov->tracks[0].enc->flags & CODEC_FLAG_BITEXACT))
-                mov_write_string_tag(pb, "\251enc", LIBAVFORMAT_IDENT, 0);
+            mov_write_string_tag(pb, "\251enc", LIBAVFORMAT_IDENT, 0);
             mov_write_string_tag(pb, "\251des", s->comment       , 0);
             mov_write_string_tag(pb, "\251gen", s->genre         , 0);
+            mov_write_string_tag(pb, "\251cpy", s->copyright     , 0);
+        } else {
+            /* iTunes meta data */
+            mov_write_meta_tag(pb, mov, s);
         }
-
         return updateSize(pb, pos);
     }
 
     return 0;
 }
 
-static int utf8len(const uint8_t *b){
-    int len=0;
-    int val;
-    while(*b){
-        GET_UTF8(val, *b++, return -1;)
-        len++;
-    }
-    return len;
-}
-
-static int ascii_to_wc (ByteIOContext *pb, const uint8_t *b)
+static void mov_write_psp_udta_tag(ByteIOContext *pb,
+                                  const char *str, const char *lang, int type)
 {
-    int val;
-    while(*b){
-        GET_UTF8(val, *b++, return -1;)
-        put_be16(pb, val);
-    }
-    put_be16(pb, 0x00);
-    return 0;
+    int len = utf8len(str)+1;
+    if(len<=0)
+        return;
+    put_be16(pb, len*2+10);            /* size */
+    put_be32(pb, type);                /* type */
+    put_be16(pb, language_code(lang)); /* language */
+    put_be16(pb, 0x01);                /* ? */
+    ascii_to_wc(pb, str);
 }
 
-static uint16_t language_code (const char *str)
+static int mov_write_uuidusmt_tag(ByteIOContext *pb, AVFormatContext *s)
 {
-    return ((((str[0]-0x60) & 0x1F)<<10) + (((str[1]-0x60) & 0x1F)<<5) + ((str[2]-0x60) & 0x1F));
-}
+    offset_t pos, pos2;
 
-static int mov_write_uuidusmt_tag (ByteIOContext *pb, AVFormatContext *s)
-{
-    size_t len, size;
-    offset_t pos, curpos;
-
-    size = 0;
     if (s->title[0]) {
         pos = url_ftell(pb);
         put_be32(pb, 0); /* size placeholder*/
@@ -1268,12 +1368,11 @@
         put_be32(pb, 0x21d24fce); /* 96 bit UUID */
         put_be32(pb, 0xbb88695c);
         put_be32(pb, 0xfac9c740);
-        size += 24;
 
+        pos2 = url_ftell(pb);
         put_be32(pb, 0); /* size placeholder*/
         put_tag(pb, "MTDT");
         put_be16(pb, 4);
-        size += 10;
 
         // ?
         put_be16(pb, 0x0C);                 /* size */
@@ -1281,55 +1380,17 @@
         put_be16(pb, language_code("und")); /* language */
         put_be16(pb, 0x0);                  /* ? */
         put_be16(pb, 0x021C);               /* data */
-        size += 12;
 
-        // Encoder
-        len = utf8len(LIBAVCODEC_IDENT)+1;
-        if(len<=0)
-            goto not_utf8;
-        put_be16(pb, len*2+10);             /* size */
-        put_be32(pb, 0x04);                 /* type */
-        put_be16(pb, language_code("eng")); /* language */
-        put_be16(pb, 0x01);                 /* ? */
-        ascii_to_wc(pb, LIBAVCODEC_IDENT);
-        size += len*2+10;
-
-        // Title
-        len = utf8len(s->title)+1;
-        if(len<=0)
-            goto not_utf8;
-        put_be16(pb, len*2+10);             /* size */
-        put_be32(pb, 0x01);                 /* type */
-        put_be16(pb, language_code("eng")); /* language */
-        put_be16(pb, 0x01);                 /* ? */
-        ascii_to_wc (pb, s->title);
-        size += len*2+10;
-
-        // Date
+        mov_write_psp_udta_tag(pb, LIBAVCODEC_IDENT,      "eng", 0x04);
+        mov_write_psp_udta_tag(pb, s->title,              "eng", 0x01);
 //        snprintf(dt,32,"%04d/%02d/%02d %02d:%02d:%02d",t_st->tm_year+1900,t_st->tm_mon+1,t_st->tm_mday,t_st->tm_hour,t_st->tm_min,t_st->tm_sec);
-        len = utf8len("2006/04/01 11:11:11")+1;
-        if(len<=0)
-            goto not_utf8;
-        put_be16(pb, len*2+10);    /* size */
-        put_be32(pb, 0x03);        /* type */
-        put_be16(pb, language_code("und")); /* language */
-        put_be16(pb, 0x01);        /* ? */
-        ascii_to_wc (pb, "2006/04/01 11:11:11");
-        size += len*2+10;
+        mov_write_psp_udta_tag(pb, "2006/04/01 11:11:11", "und", 0x03);
 
-        // size
-        curpos = url_ftell(pb);
-        url_fseek(pb, pos, SEEK_SET);
-        put_be32(pb, size);
-        url_fseek(pb, pos+24, SEEK_SET);
-        put_be32(pb, size-24);
-        url_fseek(pb, curpos, SEEK_SET);
+        updateSize(pb, pos2);
+        return updateSize(pb, pos);
     }
 
-    return size;
-not_utf8:
-    av_log(s, AV_LOG_ERROR, "not utf8\n");
-    return -1;
+    return 0;
 }
 
 static int mov_write_moov_tag(ByteIOContext *pb, MOVContext *mov,
@@ -1352,19 +1413,19 @@
     //mov_write_iods_tag(pb, mov);
     for (i=0; i<mov->nb_streams; i++) {
         if(mov->tracks[i].entry > 0) {
-            mov_write_trak_tag(pb, &(mov->tracks[i]));
+            mov_write_trak_tag(pb, &(mov->tracks[i]), s->streams[i]);
         }
     }
 
     if (mov->mode == MODE_PSP)
         mov_write_uuidusmt_tag(pb, s);
-    else if (mov->mode != MODE_3GP && mov->mode != MODE_3G2)
+    else
         mov_write_udta_tag(pb, mov, s);
 
     return updateSize(pb, pos);
 }
 
-static int mov_write_mdat_tag(ByteIOContext *pb, MOVContext* mov)
+static int mov_write_mdat_tag(ByteIOContext *pb, MOVContext *mov)
 {
     put_be32(pb, 8);    // placeholder for extended size field (64 bit)
     put_tag(pb, mov->mode == MODE_MOV ? "wide" : "free");
@@ -1376,36 +1437,60 @@
 }
 
 /* TODO: This needs to be more general */
-static void mov_write_ftyp_tag (ByteIOContext *pb, AVFormatContext *s)
+static int mov_write_ftyp_tag(ByteIOContext *pb, AVFormatContext *s)
 {
     MOVContext *mov = s->priv_data;
+    offset_t pos = url_ftell(pb);
+    int has_h264 = 0, has_video = 0;
+    int minor = 0x200;
+    int i;
 
-    put_be32(pb, 0x14); /* size */
+    for (i = 0; i < s->nb_streams; i++) {
+        AVStream *st = s->streams[i];
+        if (st->codec->codec_type == CODEC_TYPE_VIDEO)
+            has_video = 1;
+        if (st->codec->codec_id == CODEC_ID_H264)
+            has_h264 = 1;
+    }
+
+    put_be32(pb, 0); /* size */
     put_tag(pb, "ftyp");
 
-    if (mov->mode == MODE_3GP)
-        put_tag(pb, "3gp4");
-    else if (mov->mode == MODE_3G2)
-        put_tag(pb, "3g2a");
-    else if (mov->mode == MODE_PSP)
+    if (mov->mode == MODE_3GP) {
+        put_tag(pb, has_h264 ? "3gp6"  : "3gp4");
+        minor =     has_h264 ?   0x100 :   0x200;
+    } else if (mov->mode & MODE_3G2) {
+        put_tag(pb, has_h264 ? "3g2b"  : "3g2a");
+        minor =     has_h264 ? 0x20000 : 0x10000;
+    }else if (mov->mode == MODE_PSP)
         put_tag(pb, "MSNV");
-    else if (mov->mode == MODE_MP4 || mov->mode == MODE_IPOD)
+    else if (mov->mode == MODE_MP4)
         put_tag(pb, "isom");
+    else if (mov->mode == MODE_IPOD)
+        put_tag(pb, has_video ? "M4V ":"M4A ");
     else
         put_tag(pb, "qt  ");
 
-    put_be32(pb, 0x200);
+    put_be32(pb, minor);
 
+    if(mov->mode == MODE_MOV)
+        put_tag(pb, "qt  ");
+    else{
+        put_tag(pb, "isom");
+        put_tag(pb, "iso2");
+        if(has_h264)
+            put_tag(pb, "avc1");
+    }
+
     if (mov->mode == MODE_3GP)
-        put_tag(pb, "3gp4");
-    else if (mov->mode == MODE_3G2)
-        put_tag(pb, "3g2a");
+        put_tag(pb, has_h264 ? "3gp6":"3gp4");
+    else if (mov->mode & MODE_3G2)
+        put_tag(pb, has_h264 ? "3g2b":"3g2a");
     else if (mov->mode == MODE_PSP)
         put_tag(pb, "MSNV");
-    else if (mov->mode == MODE_MP4 || mov->mode == MODE_IPOD)
+    else if (mov->mode == MODE_MP4)
         put_tag(pb, "mp41");
-    else
-        put_tag(pb, "qt  ");
+    return updateSize(pb, pos);
 }
 
 static void mov_write_uuidprof_tag(ByteIOContext *pb, AVFormatContext *s)
@@ -1485,7 +1570,7 @@
 
     if (s->oformat != NULL) {
         if (!strcmp("3gp", s->oformat->name)) mov->mode = MODE_3GP;
-        else if (!strcmp("3g2", s->oformat->name)) mov->mode = MODE_3G2;
+        else if (!strcmp("3g2", s->oformat->name)) mov->mode = MODE_3GP|MODE_3G2;
         else if (!strcmp("mov", s->oformat->name)) mov->mode = MODE_MOV;
         else if (!strcmp("psp", s->oformat->name)) mov->mode = MODE_PSP;
         else if (!strcmp("ipod",s->oformat->name)) mov->mode = MODE_IPOD;
@@ -1509,7 +1594,8 @@
         track->mode = mov->mode;
         track->tag = mov_find_codec_tag(s, track);
         if (!track->tag) {
-            av_log(s, AV_LOG_ERROR, "track %d: could not find tag for codec\n", i);
+            av_log(s, AV_LOG_ERROR, "track %d: could not find tag, "
+                   "codec not currently supported in container\n", i);
             return -1;
         }
         if(st->codec->codec_type == CODEC_TYPE_VIDEO){
@@ -1523,14 +1609,21 @@
         }else if(st->codec->codec_type == CODEC_TYPE_AUDIO){
             track->timescale = st->codec->sample_rate;
             av_set_pts_info(st, 64, 1, st->codec->sample_rate);
-            if(!st->codec->frame_size){
+            if(!st->codec->frame_size && !av_get_bits_per_sample(st->codec->codec_id)) {
                 av_log(s, AV_LOG_ERROR, "track %d: codec frame size is not set\n", i);
                 return -1;
             }else if(st->codec->frame_size > 1){ /* assume compressed audio */
                 track->audio_vbr = 1;
             }else{
+                st->codec->frame_size = 1;
                 track->sampleSize = (av_get_bits_per_sample(st->codec->codec_id) >> 3) * st->codec->channels;
             }
+            if(track->mode != MODE_MOV &&
+               track->enc->codec_id == CODEC_ID_MP3 && track->enc->sample_rate < 16000){
+                av_log(s, AV_LOG_ERROR, "track %d: muxing mp3 at %dhz is not supported\n",
+                       i, track->enc->sample_rate);
+                return -1;
+            }
         }
     }
 
@@ -1589,13 +1682,14 @@
             return ret;
         assert(pkt->size);
         size = pkt->size;
-    } else if (enc->codec_id == CODEC_ID_DNXHD && !trk->vosLen) {
-        /* copy frame header to create needed atoms */
-        if (size < 640)
-            return -1;
-        trk->vosLen = 640;
-        trk->vosData = av_malloc(trk->vosLen);
-        memcpy(trk->vosData, pkt->data, 640);
+    } else if ((enc->codec_id == CODEC_ID_DNXHD ||
+                enc->codec_id == CODEC_ID_AC3) && !trk->vosLen) {
+        /* copy frame to create needed atoms */
+        trk->vosLen = size;
+        trk->vosData = av_malloc(size);
+        if (!trk->vosData)
+            return AVERROR(ENOMEM);
+        memcpy(trk->vosData, pkt->data, size);
     }
 
     if (!(trk->entry % MOV_INDEX_CLUSTER_SIZE)) {
@@ -1611,14 +1705,16 @@
     trk->cluster[trk->entry].dts = pkt->dts;
     trk->trackDuration = pkt->dts - trk->cluster[0].dts + pkt->duration;
 
-    if(enc->codec_type == CODEC_TYPE_VIDEO) {
-        if (pkt->dts != pkt->pts)
-            trk->hasBframes = 1;
-        trk->cluster[trk->entry].cts = pkt->pts - pkt->dts;
-        trk->cluster[trk->entry].key_frame = !!(pkt->flags & PKT_FLAG_KEY);
-        if(trk->cluster[trk->entry].key_frame)
-            trk->hasKeyframes++;
+    if (pkt->pts == AV_NOPTS_VALUE) {
+        av_log(s, AV_LOG_WARNING, "pts has no value\n");
+        pkt->pts = pkt->dts;
     }
+    if (pkt->dts != pkt->pts)
+        trk->hasBframes = 1;
+    trk->cluster[trk->entry].cts = pkt->pts - pkt->dts;
+    trk->cluster[trk->entry].key_frame = !!(pkt->flags & PKT_FLAG_KEY);
+    if(trk->cluster[trk->entry].key_frame)
+        trk->hasKeyframes++;
     trk->entry++;
     trk->sampleCount += samplesInChunk;
     mov->mdat_size += size;
@@ -1668,7 +1764,7 @@
 #ifdef CONFIG_MOV_MUXER
 AVOutputFormat mov_muxer = {
     "mov",
-    "mov format",
+    "MOV format",
     NULL,
     "mov",
     sizeof(MOVContext),
@@ -1684,7 +1780,7 @@
 #ifdef CONFIG_TGP_MUXER
 AVOutputFormat tgp_muxer = {
     "3gp",
-    "3gp format",
+    "3GP format",
     NULL,
     "3gp",
     sizeof(MOVContext),
@@ -1700,9 +1796,9 @@
 #ifdef CONFIG_MP4_MUXER
 AVOutputFormat mp4_muxer = {
     "mp4",
-    "mp4 format",
+    "MP4 format",
     "application/mp4",
-    "mp4,m4a",
+    "mp4",
     sizeof(MOVContext),
     CODEC_ID_AAC,
     CODEC_ID_MPEG4,
@@ -1716,7 +1812,7 @@
 #ifdef CONFIG_PSP_MUXER
 AVOutputFormat psp_muxer = {
     "psp",
-    "psp mp4 format",
+    "PSP MP4 format",
     NULL,
     "mp4,psp",
     sizeof(MOVContext),
@@ -1732,7 +1828,7 @@
 #ifdef CONFIG_TG2_MUXER
 AVOutputFormat tg2_muxer = {
     "3g2",
-    "3gp2 format",
+    "3GP2 format",
     NULL,
     "3g2",
     sizeof(MOVContext),
@@ -1748,9 +1844,9 @@
 #ifdef CONFIG_IPOD_MUXER
 AVOutputFormat ipod_muxer = {
     "ipod",
-    "iPod H.264 mp4 format",
+    "iPod H.264 MP4 format",
     "application/mp4",
-    NULL,
+    "m4v,m4a",
     sizeof(MOVContext),
     CODEC_ID_AAC,
     CODEC_ID_H264,
@@ -1769,7 +1865,7 @@
     av_register_output_format(&mp4_muxer);
     av_register_output_format(&psp_muxer);
     av_register_output_format(&tg2_muxer);
-    // FIXME av_register_output_format(&ipod_muxer);
+    av_register_output_format(&ipod_muxer);
     return 0;
 }
 /* MEANX */

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/config.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/config.h	2008-09-20 15:21:58 UTC (rev 4383)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_ffmpeg/config.h	2008-09-20 15:51:36 UTC (rev 4384)
@@ -326,6 +326,7 @@
 #define CONFIG_PSP_MUXER 1
 #define CONFIG_TG2_MUXER 1
 #define CONFIG_TGP_MUXER 1
+#define CONFIG_IPOD_MUXER 1
 #define CONFIG_ENCODERS 1
 #define CONFIG_DVVIDEO_ENCODER 1
 #define CONFIG_SNOW_ENCODER 1

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_utilities/ADM_bitstream.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_utilities/ADM_bitstream.cpp	2008-09-20 15:21:58 UTC (rev 4383)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_utilities/ADM_bitstream.cpp	2008-09-20 15:51:36 UTC (rev 4384)
@@ -38,5 +38,6 @@
     flags=0;
     len=0;
     dtsFrame=framenum;
+	frameNumber=framenum;
 }
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_utilities/ADM_bitstream.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_utilities/ADM_bitstream.h	2008-09-20 15:21:58 UTC (rev 4383)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_libraries/ADM_utilities/ADM_bitstream.h	2008-09-20 15:51:36 UTC (rev 4384)
@@ -19,6 +19,7 @@
         uint32_t out_quantizer;         // Quantizer of the image, in case of encoding the real Q
         uint32_t ptsFrame;              // Frame number in display order
         uint32_t dtsFrame;              // Frame number in container order (decoding order)
+		uint32_t frameNumber;
         uint64_t pts;			// in ms
         uint64_t dts;			// in ms
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/ADM_lavformat.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/ADM_lavformat.cpp	2008-09-20 15:21:58 UTC (rev 4383)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/ADM_lavformat.cpp	2008-09-20 15:51:36 UTC (rev 4384)
@@ -18,8 +18,9 @@
  *                                                                         *
  ***************************************************************************/
 
-#include "config.h"
+#define __STDC_LIMIT_MACROS
 
+#include "config.h"
 #include <stdio.h>
 #include <stdlib.h>
 #include <math.h>
@@ -166,6 +167,10 @@
 	}
 
 	c = video_st->codec;
+	c->gop_size=15;
+	c->max_b_frames=2;
+	c->has_b_frames=1;
+
 	switch(_type)
 	{
 				case MUXER_FLV:
@@ -196,12 +201,11 @@
                         if(isMpeg4Compatible(info->fcc))
                         {
                                 c->codec_id = CODEC_ID_MPEG4;
-                                c->has_b_frames=1; // in doubt...
                         }else
                         {
                                 if(isH264Compatible(info->fcc))
                                 {
-                                        c->has_b_frames=1; // in doubt...
+                                        c->has_b_frames=2; // let muxer know we may have bpyramid
                                         c->codec_id = CODEC_ID_H264;
                                         c->codec=new AVCodec;
                                         memset(c->codec,0,sizeof(AVCodec));
@@ -228,7 +232,7 @@
                 {
                         // probably a memeleak here
                         char *foo=ADM_strdup(filename);
-                        
+
                         strcpy(oc->title,ADM_GetFileName(foo));
                         strcpy(oc->author,"Avidemux");
                         c->sample_aspect_ratio.num=1;
@@ -236,12 +240,11 @@
                         if(isMpeg4Compatible(info->fcc))
                         {
                                 c->codec_id = CODEC_ID_MPEG4;
-                                c->has_b_frames=1; // in doubt...
                         }else
                         {
                                 if(isH264Compatible(info->fcc))
                                 {
-                                        c->has_b_frames=1; // in doubt...
+                                        c->has_b_frames=2; // let muxer know we may have bpyramid
                                         c->codec_id = CODEC_ID_H264;
                                         c->codec=new AVCodec;
                                         memset(c->codec,0,sizeof(AVCodec));
@@ -383,11 +386,6 @@
 	}
 
 
-	c->gop_size=15;
-	c->max_b_frames=2;
-	c->has_b_frames=1;
-
-
 	// Audio
 	//________
         if(audioheader)
@@ -605,54 +603,42 @@
 //___________________________________________________________________________
 uint8_t lavMuxer::writeVideoPacket(ADMBitstream *bitstream)
 {
-int ret;
+	int ret;
+	AVPacket pkt;
+	AVRational fps = {1, 1000000};
+	uint32_t ptsFrame = bitstream->ptsFrame + 1;
 
-double p,d;
-  	AVPacket pkt;
-            av_init_packet(&pkt);
+	av_init_packet(&pkt);
 
-        p=bitstream->ptsFrame+1;      // Pts           // Time p/fps1000=out/den  out=p*den*1000/fps1000
-        p=(p*1000*1000*1000);
-        p=p/_fps1000;                  // in us
+	_curDTS = av_rescale_q(bitstream->frameNumber, video_st->codec->time_base, fps);
 
-        d=bitstream->dtsFrame;		// dts
-	d=(d*1000*1000*1000);
-	d=d/_fps1000;
+	switch (_type)
+	{
+		case MUXER_FLV:
+		case MUXER_MATROSKA:
+		{
+			fps.den = 1000;
+			break;
+		}
+		case MUXER_MP4:
+		{
+			ptsFrame = bitstream->ptsFrame;
+			// break is missing on purpose!
+		}
+		default:
+		{
+			fps.den = video_st->codec->time_base.den;
+			break;
+		}
+	}
 
+	pkt.pts = av_rescale_q(ptsFrame, video_st->codec->time_base, fps);
 
-	_curDTS=(int64_t)floor(d);
-    aprintf("Adm video unscaled dts=:%u\n",(uint32_t)d);
-        // Rescale
-#define RESCALE(x) x=x*1000.;\
-                   x=x/_fps1000;
+	if (bitstream->dtsFrame != UINT32_MAX)
+		pkt.dts = av_rescale_q(bitstream->dtsFrame, video_st->codec->time_base, fps);
 
-        p=bitstream->ptsFrame+1;
-        RESCALE(p);
-// MP4/ TS
-        d=bitstream->dtsFrame;  // p & d are now in seconds
-        RESCALE(d);
-        switch(_type)  // video_st->codec->time_base.den
-        {
-        case MUXER_FLV :
-        case MUXER_MATROSKA:
-                    {
-                        p=p*1000;
-                        d=d*1000; // in milliseconds
-                        break;
-                    }
-        
-        default:
-                    p=p*video_st->codec->time_base.den;
-                    d=d*video_st->codec->time_base.den;
-                    break;
-        }
-    	pkt.dts=(int64_t)floor(d);
-    	pkt.pts=(int64_t)floor(p);
+	pkt.stream_index = 0;
 
-       // printf("Lavformat : Pts :%u dts:%u",displayframe,frameno);
-	aprintf("Lavformat : Pts :%llu dts:%llu",pkt.pts,pkt.dts);
-	pkt.stream_index=0;
-
         pkt.data= bitstream->data;
         pkt.size= bitstream->len;
 	// Look if it is a gop start or seq start

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp	2008-09-20 15:21:58 UTC (rev 4383)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp	2008-09-20 15:51:36 UTC (rev 4384)
@@ -53,6 +53,7 @@
 	_incoming=NULL;
 	_encode=NULL;
 	_videoProcess=1;
+	_prefill=0;
 };
 
 uint8_t
@@ -123,6 +124,7 @@
     {
       uint8_t *buffer;
       uint32_t len, flag;
+	int prefill = 0, r;
 
  	aprintf("\n** Dual pass encoding**\n");
 
@@ -135,12 +137,32 @@
 		    _incoming->getInfo ()->height * 3];
 
       	_encode->startPass1 ();
+
+        bitstream.bufferSize = _incoming->getInfo()->width * _incoming->getInfo()->height * 3;
+        bitstream.data=buffer;
+
+preFilling:
+		bitstream.cleanup(0);
+
+		if(!_encode->encode(prefill, &bitstream))
+		{
+			printf("AVI: First frame error\n");
+			GUI_Error_HIG(QT_TR_NOOP("Error while encoding"), NULL);
+			return 0;
+		}
+
+		if (!bitstream.len)
+		{
+			prefill++;
+			goto preFilling;
+		}
+
+		printf("Prefill: %u\n", prefill);
+
       //__________________________________
       //   now go to main loop.....
       //__________________________________
-        bitstream.bufferSize=_incoming->getInfo ()->width *   _incoming->getInfo ()->height * 3;
-        bitstream.data=buffer;
-        for (uint32_t cf = 0; cf < frametogo; cf++)
+        for (uint32_t cf = 1; cf < frametogo; cf++)
         {
           if (guiUpdate (cf, frametogo))
             {
@@ -151,11 +173,18 @@
             }
             
             bitstream.cleanup(cf);
-            if (!_encode->encode (cf, &bitstream))
-                {
-                        printf("\n Encoding of frame %lu failed !\n",cf);
-                        goto abt;
-                }
+
+			if (!prefill || cf + prefill < frametogo)
+				r = _encode->encode(prefill + cf, &bitstream);
+			else
+				r = _encode->encode(frametogo - 1, &bitstream);
+
+			if (!r)
+			{
+				printf("Encoding of frame %lu failed!\n", cf);
+				goto abt;
+			}
+
            encoding_gui->setFrame(cf,bitstream.len,bitstream.out_quantizer,frametogo);
     
         }
@@ -232,7 +261,7 @@
 uint8_t
 GenericAviSaveProcess::writeVideoChunk (uint32_t frame)
 {
-  uint8_t    	ret1;
+  uint8_t    	r;
   // CBR or CQ
   if (frame == 0)
   {
@@ -247,11 +276,28 @@
         }
   }
   // first read
-  bitstream.cleanup(frame);
-  ret1 = _encode->encode ( frame,&bitstream);// &len1, vbuffer, &_videoFlag);
+
+preFilling:
+  bitstream.cleanup(0);
+
+  if (!_prefill || frame + _prefill < frametogo) 
+	  r = _encode->encode(_prefill + frame, &bitstream);
+  else
+	  r = _encode->encode(frametogo - 1, &bitstream);
+
+  if (!r)
+	  return 0;
+
+  if (!bitstream.len && frame == 0)
+  {
+	  _prefill++;
+	  goto preFilling;
+  }
+  else if (frame == 0)
+	  printf("Prefill: %u\n", _prefill);
+
   _videoFlag=bitstream.flags;
-  if (!ret1)
-    return 0;
+
   // check for split
      // check for auto split
       // if so, we re-write the last I frame

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_saveprocess.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_saveprocess.h	2008-09-20 15:21:58 UTC (rev 4383)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_saveprocess.h	2008-09-20 15:51:36 UTC (rev 4384)
@@ -26,6 +26,7 @@
 					    
 			Encoder 	*_encode;
 			uint8_t		_notnull;
+			int _prefill;
                        	char 		*TwoPassLogFile;
                         ADMBitstream    bitstream;
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp	2008-09-20 15:21:58 UTC (rev 4383)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp	2008-09-20 15:51:36 UTC (rev 4384)
@@ -18,6 +18,10 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
+#ifndef __STDC_LIMIT_MACROS
+#define __STDC_LIMIT_MACROS
+#endif
+
 #include "config.h"
 #include "ADM_default.h"
 #include "ADM_threads.h"
@@ -213,6 +217,8 @@
              
 preFilling:
              bitstream.cleanup(0);
+			 bitstream.dtsFrame = UINT32_MAX;	// let libavformat calculate it
+
              if(!(err=_encode->encode ( prefill, &bitstream)))//&len, videoBuffer, &flags,&displayFrame))
              {
                         printf("MP4:First frame error\n");
@@ -343,6 +349,8 @@
                }
                ADM_assert(_encode);
                bitstream.cleanup(frameWrite);
+			   bitstream.dtsFrame = UINT32_MAX;	// let libavformat calculate it
+
                if(!prefill || frame+prefill<total) 
                {
                   



From gruntster at mail.berlios.de  Sat Sep 20 20:04:56 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 20 Sep 2008 20:04:56 +0200
Subject: [Avidemux-svn-commit] r4385 - in
	branches/avidemux_2.5_branch_gruntster: avidemux/ADM_codecs
	avidemux/ADM_encoder avidemux/ADM_outputs/oplug_avi
	avidemux/ADM_outputs/oplug_dummy
	avidemux/ADM_outputs/oplug_flv avidemux/ADM_outputs/oplug_mp4
	avidemux/ADM_outputs/oplug_ogm
	avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters po
Message-ID: <200809201804.m8KI4uvn021374@sheep.berlios.de>

Author: gruntster
Date: 2008-09-20 20:04:35 +0200 (Sat, 20 Sep 2008)
New Revision: 4385

Modified:
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_codec.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_ffmpeg.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_ffmpeg.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_xvid4.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/ADM_externalEncoder.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/ADM_externalEncoder.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encCopy.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encCopy.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encRequant.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encRequant.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encXvid4.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encXvid4.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encdivx.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encdivx.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encffmpeg.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encffmpeg.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encffmpeg1.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encmjpeg.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encmjpeg.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encmpeg2enc.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encmpeg2enc.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encoder.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encyv12.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encyv12.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisave.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisavecopy.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisavecopy_pack.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisavecopy_unpack.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_savecopy.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_saveprocess.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_savesmart.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_savesmart.hxx
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_ogm/op_ogsave.h
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_ogm/op_ogsavecopy.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
   branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.h
   branches/avidemux_2.5_branch_gruntster/po/avidemux_it.ts
   branches/avidemux_2.5_branch_gruntster/po/it.po
Log:
[Merge] integrate changes from 2.4 branch (r4381)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_codec.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_codec.h	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_codec.h	2008-09-20 18:04:35 UTC (rev 4385)
@@ -26,6 +26,8 @@
 #define ADM_GMC_ON	2
 #define ADM_VOP_ON	4
 
+#define ADM_ENC_REQ_NULL_FLUSH	1
+
 /*
         Bitrate in configuration will always be in **kBITS**
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_ffmpeg.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_ffmpeg.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_ffmpeg.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -48,6 +48,7 @@
 {\
 AVCodec *codec=avcodec_find_encoder(x);\
 if(!codec) {GUI_Error_HIG("Codec",QT_TR_NOOP("Internal error opening codec"#x));ADM_assert(0);} \
+  capabilities = codec->capabilities & CODEC_CAP_DELAY ? ADM_ENC_REQ_NULL_FLUSH : 0; \
   res=avcodec_open(_context, codec); \
   if(res<0) {GUI_Error_HIG("Codec",QT_TR_NOOP("Internal error with context for  codec"#x".\n Did you use too low / too high target for 2 pass ?"));return 0;} \
 }
@@ -116,7 +117,7 @@
 {
     int32_t sz = 0;
     ADM_assert(out->bufferSize);
-    encodePreamble (in->data);
+	encodePreamble (in ? in->data : NULL);
     if ((sz = avcodec_encode_video (_context, out->data, out->bufferSize, &_frame)) < 0)
         return 0;
     postAmble(out,sz);
@@ -146,28 +147,32 @@
   _frame.key_frame = 0;
   _frame.pict_type = 0;
 
-  switch(_targetColorSpace)
+  if (in)
   {
-    case PIX_FMT_YUV420P:
-        _frame.linesize[0] = _w;
-        _frame.linesize[1] = _w >> 1;
-        _frame.linesize[2] = _w >> 1;
-        _frame.data[0] = in;
-        _frame.data[2] = in + _w * _h;
-        _frame.data[1] = in + _w * _h + ((_w * _h) >> 2);
-        break;
- case PIX_FMT_YUV422P:
-        _frame.linesize[0] = _w;
-        _frame.linesize[1] = _w >> 1;
-        _frame.linesize[2] = _w >> 1;
-        _frame.data[0] = in;
-        _frame.data[2] = in + _w * _h;
-        _frame.data[1] = in + _w * _h + ((_w * _h) >> 1);
-      
-        break;
-    default:
-      ADM_assert(0);
+	  switch(_targetColorSpace)
+	  {
+		case PIX_FMT_YUV420P:
+			_frame.linesize[0] = _w;
+			_frame.linesize[1] = _w >> 1;
+			_frame.linesize[2] = _w >> 1;
+			_frame.data[0] = in;
+			_frame.data[2] = in + _w * _h;
+			_frame.data[1] = in + _w * _h + ((_w * _h) >> 2);
+			break;
+	 case PIX_FMT_YUV422P:
+			_frame.linesize[0] = _w;
+			_frame.linesize[1] = _w >> 1;
+			_frame.linesize[2] = _w >> 1;
+			_frame.data[0] = in;
+			_frame.data[2] = in + _w * _h;
+			_frame.data[1] = in + _w * _h + ((_w * _h) >> 1);
+	      
+			break;
+		default:
+		  ADM_assert(0);
+	  }
   }
+
   return 1;
 }
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_ffmpeg.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_ffmpeg.h	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_ffmpeg.h	2008-09-20 18:04:35 UTC (rev 4385)
@@ -67,6 +67,8 @@
   PixelFormat _targetColorSpace;
 
 public:
+	int capabilities;
+
     uint8_t setConfig (FFcodecSetting * set);
   uint8_t setLogFile (const char *name);
   void encoderMT (void);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_xvid4.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_xvid4.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_codecs/ADM_xvid4.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -86,30 +86,27 @@
 
   return 0;
 }
+
 uint8_t xvid4Encoder::encode(ADMImage * in,ADMBitstream * out)
 {
-    int  ret=0;
     /* Encode the frame */
     xvid_enc_frame.bitstream = out->data;
-    preAmble (in->data);
-    ret = xvid_encore (_handle, XVID_ENC_ENCODE, &xvid_enc_frame,
-                       &xvid_enc_stats);
+	preAmble (in ? in->data : NULL);
+
+    int ret = xvid_encore (_handle, XVID_ENC_ENCODE, &xvid_enc_frame, &xvid_enc_stats);
+
     if (ret < 0)
     {
         printf ("[xvid] Error calling xvid4 %d\n", ret);
         return 0;
+    }
 
-    }
     postAmble (out);
+    out->len = ret;
 
-    out->len = ret;
-    if (!ret)
-        printf ("[xvid] Skipped\n");
     return 1;
-
 }
 
-
 void xvid4_init (void);
 /*
 	System wide init, do it once for all
@@ -287,9 +284,6 @@
   xvid_enc_frame.version = XVID_VERSION;
   xvid_enc_stats.version = XVID_VERSION;
 
-  /* Bind output buffer */
-
-  xvid_enc_frame.length = 0;
   if (_param.mpegQuantizer || _param.useCustomIntra || _param.useCustomInter)
     xvid_enc_frame.vol_flags |= XVID_VOL_MPEGQUANT;
   if (_param.interlaced)
@@ -368,27 +362,37 @@
     }
 
   xvid_enc_frame.bframe_threshold = _param.bframe_threshold;
-
-  xvid_enc_frame.input.csp = XVID_CSP_YV12;
-  xvid_enc_frame.input.stride[0] = _w;
-  xvid_enc_frame.input.stride[1] = _w >> 1;
-  xvid_enc_frame.input.stride[2] = _w >> 1;
   xvid_enc_frame.type = XVID_TYPE_AUTO;
 
+  if (in)
+  {
+	  xvid_enc_frame.length = 0;
+	  xvid_enc_frame.input.csp = XVID_CSP_YV12;
+	  xvid_enc_frame.input.stride[0] = _w;
+	  xvid_enc_frame.input.stride[1] = _w >> 1;
+	  xvid_enc_frame.input.stride[2] = _w >> 1;
 
-  /* Set up motion estimation flags */
-  xvid_enc_frame.input.plane[0] = in;
-  xvid_enc_frame.input.plane[1] = in + (_w * _h);
-  xvid_enc_frame.input.plane[2] = in + ((_w * _h * 5) >> 2);
+	  /* Set up motion estimation flags */
+	  xvid_enc_frame.input.plane[0] = in;
+	  xvid_enc_frame.input.plane[1] = in + (_w * _h);
+	  xvid_enc_frame.input.plane[2] = in + ((_w * _h * 5) >> 2);
 
-  xvid_enc_frame.par_width = _param.par_width;
-  xvid_enc_frame.par_height = _param.par_height;
-  //printf("Using AR : %u x %u\n",xvid_enc_frame.par_width,xvid_enc_frame.par_height );
-  if (xvid_enc_frame.par_width != xvid_enc_frame.par_height)
-      xvid_enc_frame.par = XVID_PAR_EXT;
+	  xvid_enc_frame.par_width = _param.par_width;
+	  xvid_enc_frame.par_height = _param.par_height;
+
+	  if (xvid_enc_frame.par_width != xvid_enc_frame.par_height)
+		  xvid_enc_frame.par = XVID_PAR_EXT;
+	  else
+		  xvid_enc_frame.par = XVID_PAR_11_VGA;
+  }
   else
-      xvid_enc_frame.par = XVID_PAR_11_VGA;
+  {
+	  xvid_enc_frame.length = -1;
+	  xvid_enc_frame.input.csp = XVID_CSP_NULL;
+  }
 
+  //printf("Using AR : %u x %u\n",xvid_enc_frame.par_width,xvid_enc_frame.par_height );
+
   /* Custome matrices */
   if(_param.useCustomIntra)
   {

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/ADM_externalEncoder.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/ADM_externalEncoder.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/ADM_externalEncoder.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -16,7 +16,7 @@
 
 #include "ADM_default.h"
 #include "ADM_externalEncoder.h"
-#include "ADM_plugin/ADM_vidEnc_plugin.h"
+#include "ADM_plugin/ADM_vidEnc_plugin.h"
 
 
 externalEncoder::externalEncoder(COMPRES_PARAMS *params, bool globalHeader)
@@ -140,6 +140,12 @@
 	return _plugin->getFourCC(_plugin->encoderId);
 }
 
+int externalEncoder::getRequirements(void)
+{
+	// FIXME
+	return 0;
+}
+
 uint8_t externalEncoder::isDualPass(void)
 {
 	return _plugin->getPassCount(_plugin->encoderId) == 2;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/ADM_externalEncoder.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/ADM_externalEncoder.h	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/ADM_externalEncoder.h	2008-09-20 18:04:35 UTC (rev 4385)
@@ -38,6 +38,7 @@
 public:
 	externalEncoder(COMPRES_PARAMS *params, bool globalHeader);
 	~externalEncoder();
+	virtual int getRequirements (void);
 	virtual uint8_t isDualPass(void);
 	virtual uint8_t configure(AVDMGenericVideoStream * instream, int useExistingLogFile);
 	virtual uint8_t encode(uint32_t frame, ADMBitstream *out);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encCopy.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encCopy.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encCopy.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -51,6 +51,9 @@
 {
 
 }
+
+int EncoderCopy::getRequirements (void) { return 0; }
+
 uint8_t
 EncoderCopy::isDualPass (void)
 {

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encCopy.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encCopy.h	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encCopy.h	2008-09-20 18:04:35 UTC (rev 4385)
@@ -32,6 +32,7 @@
 public:
     EncoderCopy (COMPRES_PARAMS * codecconfig);
    ~EncoderCopy ();		// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void);
   virtual uint8_t configure (AVDMGenericVideoStream * instream, int useExistingLogFile);
   virtual uint8_t encode (uint32_t frame, ADMBitstream *out);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encRequant.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encRequant.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encRequant.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -59,6 +59,9 @@
   _buffer=NULL;
   Mrequant_end();
 }
+
+int EncoderRequant::getRequirements (void) { return 0; }
+
 uint8_t
 EncoderRequant::isDualPass (void)
 {

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encRequant.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encRequant.h	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encRequant.h	2008-09-20 18:04:35 UTC (rev 4385)
@@ -29,6 +29,7 @@
 public:
           EncoderRequant (COMPRES_PARAMS * codecconfig);
           ~EncoderRequant ();		// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void);
   virtual uint8_t configure (AVDMGenericVideoStream * instream, int useExistingLogFile);
   virtual uint8_t encode (uint32_t frame, ADMBitstream *out);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encXvid4.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encXvid4.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encXvid4.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -17,6 +17,7 @@
  ***************************************************************************/
 #include "config.h"
 
+#define __STDC_LIMIT_MACROS
 
 #ifdef USE_XVID_4
 #include "xvid.h"
@@ -155,8 +156,8 @@
   return 1;
 }
 
+int EncoderXvid4::getRequirements (void) { return ADM_ENC_REQ_NULL_FLUSH; }
 
-
 uint8_t EncoderXvid4::isDualPass (void)
 {
   if ((_state == enc_Pass1) || (_state == enc_Pass2))
@@ -180,53 +181,61 @@
 uint8_t
   EncoderXvid4::encode (uint32_t frame, ADMBitstream *out)
 {
-  uint32_t l, f, q;
-  uint8_t r;
-  //ENC_RESULT enc;
+  uint32_t l, f;
 
   ADM_assert (_codec);
   ADM_assert (_in);
-  if (!_in->getFrameNumberNoAlloc (frame, &l, _vbuffer, &f))
-    {
-      printf ("[xvid] Error: Cannot read incoming frame!\n");
-      return 0;
-    }
 
+  if (frame != UINT32_MAX)
+  {
+	  if (!_in->getFrameNumberNoAlloc (frame, &l, _vbuffer, &f))
+	  {
+		  printf ("[xvid] Error: Cannot read incoming frame!\n");
+		  return 0;
+	  }
+  }
+
   switch (_state)
     {
     case enc_Same:
-      
-      out->flags=0;
-      if (frame < (encparam.bframes + 1))
 	{
-	  out->flags = AVI_KEY_FRAME;
-	  printf ("[xvid] Forcing keyframe for B frame\n");
+		if (frame != UINT32_MAX)
+		{
+			out->flags = 0;
+
+			if (frame < (encparam.bframes + 1))
+			{
+				out->flags = AVI_KEY_FRAME;
+				printf ("[xvid] Forcing keyframe for B frame\n");
+			}
+
+			int q = _vbuffer->_Qp;
+
+			if (q < 2 || q > 31)
+			{
+				printf ("[xvid] Out of bound incoming q: %d\n", q);
+
+				if (q < 2)
+					q = 2;
+				if (q > 31)
+					q = 31;
+			}
+
+			out->in_quantizer = q;
+		}
 	}
-      q = _vbuffer->_Qp;
-      if (q < 2 || q > 31)
-	{
-	  printf ("[xvid] Out of bound incoming q: %d\n", q);
-	  if (q < 2)
-	    q = 2;
-	  if (q > 31)
-	    q = 31;
-	}
-        out->in_quantizer =q;
-
     case enc_CBR:
     case enc_CQ:
     case enc_Pass1:
     case enc_Pass2:
-      r = _codec->encode (_vbuffer, out);
-      return r;
+		return _codec->encode (frame == UINT32_MAX ? NULL : _vbuffer, out);
       break;
 
     default:
       ADM_assert (0);
     }
 
-  return 1;
-
+  return 0;
 }
 
 //_______________________________

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encXvid4.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encXvid4.h	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encXvid4.h	2008-09-20 18:04:35 UTC (rev 4385)
@@ -41,6 +41,7 @@
 public:
     EncoderXvid4 (COMPRES_PARAMS * codecconfig);
    ~EncoderXvid4 ();		// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void);
   virtual uint8_t configure (AVDMGenericVideoStream * instream, int useExistingLogFile);
  

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encdivx.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encdivx.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encdivx.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -113,6 +113,7 @@
   return 1;
 }
 
+int EncoderDivx::getRequirements (void) { return 0; }
 
 uint8_t
 EncoderDivx::isDualPass (void)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encdivx.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encdivx.h	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encdivx.h	2008-09-20 18:04:35 UTC (rev 4385)
@@ -31,6 +31,7 @@
   divxEncoder * _codec;
 public:
   EncoderDivx (DIVXConfig * conf);
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void);
   virtual uint8_t configure (AVDMGenericVideoStream * instream, int useExistingLogFile);
   virtual uint8_t encode (uint32_t frame, uint32_t * len, uint8_t * out,

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encffmpeg.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encffmpeg.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encffmpeg.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -14,8 +14,9 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
+#define __STDC_LIMIT_MACROS
+
 #include "config.h"
-
 #include "ADM_lavcodec.h"
 
 
@@ -54,6 +55,9 @@
   _state=enc_CQ;
 
 }
+
+int EncoderFFMPEGHuff::getRequirements (void) { return _codec->capabilities; }
+
 uint8_t
 EncoderFFMPEGHuff::hasExtraHeaderData (uint32_t * l, uint8_t ** data)
 {
@@ -95,6 +99,9 @@
   _id = FF_FFHUFF;
   _frametogo = 0;
 }
+
+int EncoderFFMPEGFFHuff::getRequirements (void) { return _codec->capabilities; }
+
 uint8_t
 EncoderFFMPEGFFHuff::hasExtraHeaderData (uint32_t * l, uint8_t ** data)
 {
@@ -139,6 +146,9 @@
 
 
 }
+
+int EncoderFFMPEGFFV1::getRequirements (void) { return _codec->capabilities; }
+
 uint8_t
 EncoderFFMPEGFFV1::hasExtraHeaderData (uint32_t * l, uint8_t ** data)
 {
@@ -178,6 +188,9 @@
 
 
 }
+
+int EncodeFFMPEGSNow::getRequirements (void) { return _codec->capabilities; }
+
 uint8_t
 EncodeFFMPEGSNow::hasExtraHeaderData (uint32_t * l, uint8_t ** data)
 {
@@ -220,6 +233,9 @@
 
 
 }
+
+int EncoderFFMPEGDV::getRequirements (void) { return _codec->capabilities; }
+
 uint8_t
 EncoderFFMPEGDV::hasExtraHeaderData (uint32_t * l, uint8_t ** data)
 {
@@ -267,6 +283,9 @@
 
 
 }
+
+int EncoderFFMPEGFLV1::getRequirements (void) { return _codec->capabilities; }
+
 uint8_t
 EncoderFFMPEGFLV1::hasExtraHeaderData (uint32_t * l, uint8_t ** data)
 {
@@ -436,6 +455,7 @@
   return 1;
 }
 
+int EncoderFFMPEG::getRequirements (void) { return _codec->capabilities; }
 
 uint8_t EncoderFFMPEG::isDualPass (void)
 {
@@ -464,31 +484,42 @@
   ADM_assert (_codec);
   ADM_assert (_in);
 
-  if (!_in->getFrameNumberNoAlloc (frame, &l, _vbuffer, &f))
-    {
-      printf ("\n Error : Cannot read incoming frame !");
-      return 0;
-    }
+  if (frame != UINT32_MAX)
+  {
+	  if (!_in->getFrameNumberNoAlloc (frame, &l, _vbuffer, &f))
+	  {
+		  printf ("\n Error : Cannot read incoming frame !");
+		  return 0;
+	  }
+  }
 
   switch (_state)
     {
     case enc_CBR:
     case enc_CQ:
-      return _codec->encode (_vbuffer, out );
+      return _codec->encode (frame == UINT32_MAX ? NULL : _vbuffer, out );
       break;
     case enc_Same:
       {
-	uint32_t inq;
-        if (_vbuffer->flags & AVI_KEY_FRAME)
-            out->flags = AVI_KEY_FRAME;
-	else
-	   out->flags = 0;
-	inq = _vbuffer->_Qp;
-        if(inq>31) inq=31;
-        if(inq<2) inq=2;
-        out->in_quantizer =inq;
+		  if (frame != UINT32_MAX)
+		  {
+			  if (_vbuffer->flags & AVI_KEY_FRAME)
+				  out->flags = AVI_KEY_FRAME;
+			  else
+				  out->flags = 0;
 
-	if (!_codec->encode (_vbuffer, out ))
+			  int inq = _vbuffer->_Qp;
+
+			  if (inq > 31)
+				  inq = 31;
+
+			  if (inq < 2)
+				  inq = 2;
+
+			  out->in_quantizer = inq;
+		  }
+
+	if (!_codec->encode (frame == UINT32_MAX ? NULL : _vbuffer, out ))
 	  {
 	    printf ("\n codec error on 1st pass !");
 	    return 0;
@@ -501,7 +532,7 @@
     case enc_Pass1:
 
       //              ADM_assert(fd);
-      if (!_codec->encode (_vbuffer, out ))
+      if (!_codec->encode (frame == UINT32_MAX ? NULL : _vbuffer, out ))
 	{
 	  printf ("\n codec error on 1st pass !");
 	  return 0;
@@ -511,7 +542,7 @@
       break;
     case enc_Pass2:
       // Encode it !
-      if (!_codec->encode (_vbuffer, out ))
+      if (!_codec->encode (frame == UINT32_MAX ? NULL : _vbuffer, out ))
             return 0;
       return 1;
       break;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encffmpeg.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encffmpeg.h	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encffmpeg.h	2008-09-20 18:04:35 UTC (rev 4385)
@@ -35,6 +35,7 @@
   {
     stop ();
   };				// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void);
   virtual uint8_t configure (AVDMGenericVideoStream * instream, int useExistingLogFile);
   virtual uint8_t encode (uint32_t frame,ADMBitstream *out);
@@ -67,6 +68,7 @@
   {
     stop ();
   };				// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void)
   {
     return 0;
@@ -109,6 +111,7 @@
   {
     stop ();
   };				// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void)
   {
     return 0;
@@ -152,6 +155,7 @@
   {
     stop ();
   };				// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void)
   {
     return 0;
@@ -201,6 +205,7 @@
 public:
     EncoderFFMPEGMpeg1 (FF_CODEC_ID id, COMPRES_PARAMS * config);
     virtual ~ EncoderFFMPEGMpeg1 ();	// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void);
   virtual uint8_t configure (AVDMGenericVideoStream * instream, int useExistingLogFile);
   virtual uint8_t encode (uint32_t frame, ADMBitstream *out);
@@ -223,6 +228,7 @@
   {
     stop ();
   };				// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void)
   {
     return 0;
@@ -268,6 +274,7 @@
   {
     stop ();
   };				// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void)
   {
     return 0;
@@ -310,6 +317,7 @@
   {
     stop ();
   };				// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void)
   {
     return 0;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encffmpeg1.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encffmpeg1.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encffmpeg1.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -326,6 +326,7 @@
   return 1;
 }
 
+int EncoderFFMPEGMpeg1::getRequirements (void) { return _codec->capabilities; }
 
 uint8_t
 EncoderFFMPEGMpeg1::isDualPass (void)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encmjpeg.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encmjpeg.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encmjpeg.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -88,10 +88,10 @@
   return 1;
 }
 
+int EncoderMjpeg::getRequirements (void) { return _codec->capabilities; }
 
 
 
-
 //______________________________
 uint8_t
 EncoderMjpeg::encode (uint32_t frame, ADMBitstream *out)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encmjpeg.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encmjpeg.h	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encmjpeg.h	2008-09-20 18:04:35 UTC (rev 4385)
@@ -31,6 +31,7 @@
   uint8_t _swapped;
 public:
     EncoderMjpeg (COMPRES_PARAMS * conf);
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void)
   {
     return 0;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encmpeg2enc.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encmpeg2enc.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encmpeg2enc.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -293,6 +293,7 @@
   return 1;
 }
 
+int EncoderMpeg2enc::getRequirements (void) { return 0; }
 
 uint8_t   EncoderMpeg2enc::isDualPass (void)
 {

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encmpeg2enc.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encmpeg2enc.h	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encmpeg2enc.h	2008-09-20 18:04:35 UTC (rev 4385)
@@ -45,6 +45,7 @@
   public:
     EncoderMpeg2enc (MPEG2ENC_ID id, COMPRES_PARAMS * config);
     virtual ~ EncoderMpeg2enc ();	// can be called twice if needed ..
+	virtual int getRequirements (void);
     virtual uint8_t isDualPass (void);
     virtual uint8_t configure (AVDMGenericVideoStream * instream, int useExistingLogFile);
     virtual uint8_t encode (uint32_t frame, ADMBitstream *out);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encoder.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encoder.h	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encoder.h	2008-09-20 18:04:35 UTC (rev 4385)
@@ -80,6 +80,7 @@
     entries = NULL;
   };
   virtual ~ Encoder (void);
+  virtual int getRequirements (void) = 0;
   virtual uint8_t isDualPass (void) = 0;
   virtual uint8_t configure (AVDMGenericVideoStream * instream, int useExistingLogFile) = 0;
   virtual uint8_t encode (uint32_t frame, ADMBitstream * out) = 0;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encyv12.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encyv12.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encyv12.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -62,6 +62,8 @@
   return 1;
 }
 
+int EncoderYV12::getRequirements (void) { return 0; }
+
 //______________________________
 uint8_t
         EncoderYV12::encode (uint32_t frame, ADMBitstream *out)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encyv12.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encyv12.h	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_encoder/adm_encyv12.h	2008-09-20 18:04:35 UTC (rev 4385)
@@ -29,6 +29,7 @@
 public:
   EncoderYV12 (void);
    ~EncoderYV12 ();		// can be called twice if needed ..
+  virtual int getRequirements (void);
   virtual uint8_t isDualPass (void)
   {
     return 0;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -125,6 +125,7 @@
  _pq=NULL;
  memset(&_context,0,sizeof(_context));
  _context.audioDone=1;
+ _encode=NULL;
 }
 
 GenericAviSave::~GenericAviSave ()
@@ -199,20 +200,30 @@
   //__________________________________
   //   now go to main loop.....
   //__________________________________
+  int frameDelay = 0;
+  int videoSize;
+
   for (uint32_t cf = 0; cf < frametogo; cf++) 
-    {
-			
-			
-			
-      			if (guiUpdate (cf, frametogo))
-					goto abortme;
-      			//   printf("\n %lu / %lu",cf,frametogo);
-      			writeVideoChunk (cf);
-      			writeAudioChunk (cf);
-			//writter->sync();
-     
-     
-    };				// end for
+  {
+	  if (guiUpdate(cf, frametogo))
+		  goto abortme;
+
+	  for (;;)
+	  {
+		  videoSize = writeVideoChunk(cf + frameDelay);
+
+		  if (videoSize == 0 && _encode && (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH))
+		  {
+			  printf("skipping frame: %u size: %i\n", cf + frameDelay, videoSize);
+			  frameDelay++;
+		  }
+		  else
+			  break;
+	  }
+
+	  writeAudioChunk(cf);
+  }
+
     ret=1;
 abortme:
   guiStop ();

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisave.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisave.h	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisave.h	2008-09-20 18:04:35 UTC (rev 4385)
@@ -23,11 +23,13 @@
 #include "ADM_image.h"
 #include "ADM_osSupport/ADM_fileio.h"
 #include "ADM_toolkit/ADM_audioQueue.h"
+#include "ADM_encoder/adm_encoder.h"
 
  class GenericAviSave
  {
      protected :
                 ADMFile                 *_file;
+				Encoder 	*_encode;
                 
      		uint32_t		_audioTarget;
 		uint32_t		_audioCurrent;
@@ -61,7 +63,7 @@
                     virtual uint8_t setupAudio( void);
                     virtual uint8_t setupVideo( char *name )=0;
                     virtual uint8_t writeAudioChunk(uint32_t  f);
-                    virtual uint8_t writeVideoChunk(uint32_t frame )=0;
+                    virtual int writeVideoChunk(uint32_t frame )=0;
                     virtual void guiStart(void);
                     virtual void guiStop(void);
                     	    void guiSetPhasis(const char *str);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisavecopy.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisavecopy.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisavecopy.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -116,8 +116,7 @@
 // Basically ask a video frame and send it to writter
 // If it contains b frame and frames have been re-ordered
 // reorder them back ...
-uint8_t
-GenericAviSaveCopy::writeVideoChunk (uint32_t frame)
+int GenericAviSaveCopy::writeVideoChunk (uint32_t frame)
 {
   
   uint8_t    ret1;
@@ -142,7 +141,7 @@
       }
 
   if (!ret1)
-    return 0;
+    return -1;
 
     // check for split
      // check for auto split
@@ -165,9 +164,11 @@
   if(_videoFlag==AVI_KEY_FRAME)
           newFile();
   encoding_gui->setFrame(frame,img.dataLength,0,frametogo);
-  return writter->saveVideoFrame (img.dataLength, img.flags, img.data);
 
-
+  if (writter->saveVideoFrame (img.dataLength, img.flags, img.data))
+	  return img.dataLength;
+  else
+	  return -1;
 }
 /**
       \fn newFile

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisavecopy_pack.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisavecopy_pack.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisavecopy_pack.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -189,7 +189,7 @@
       \brief init for unpacker code
 
 */
-uint8_t GenericAviSaveCopyPack::writeVideoChunk (uint32_t frame)
+int GenericAviSaveCopyPack::writeVideoChunk (uint32_t frame)
 {
 
   uint8_t    ret1;
@@ -233,7 +233,7 @@
 
                 if( !prefetch(curToggle^1,frame+1))
                     {
-                        return 0;
+                        return -1; 
                     }
                 // Curtoggle holds the current frame, curToggle ^1 hold the next frame
                 if(current->flags!=1 && current->flags!=AVI_B_FRAME && next->flags==AVI_B_FRAME)
@@ -274,15 +274,18 @@
       }
 
   if (!ret1)
-    return 0;
+    return -1;
 
      if(_videoFlag==AVI_KEY_FRAME)
           newFile();
 
   aprintf("Writting frame %u size %u flags %x\n",frame,img.dataLength,_videoFlag);
   encoding_gui->setFrame(frame,img.dataLength,0,frametogo);
-  return writter->saveVideoFrame (img.dataLength, img.flags, img.data);
-
+  
+  if (writter->saveVideoFrame (img.dataLength, img.flags, img.data))
+	  return img.dataLength;
+  else
+	  return -1;
 }
 
 //_____________________________________________________

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisavecopy_unpack.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisavecopy_unpack.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_avisavecopy_unpack.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -124,7 +124,7 @@
       \brief init for unpacker code
 
 */
-uint8_t GenericAviSaveCopyUnpack::writeVideoChunk (uint32_t frame)
+int GenericAviSaveCopyUnpack::writeVideoChunk (uint32_t frame)
 {
   
   uint8_t    ret1;
@@ -153,15 +153,19 @@
       }
 
   if (!ret1)
-    return 0;
+    return -1;
 
       if(_videoFlag==AVI_KEY_FRAME)
           newFile();
 
   
   encoding_gui->setFrame(frame,img.dataLength,0,frametogo);
-  return writter->saveVideoFrame (img.dataLength, img.flags, img.data);
 
+  if (writter->saveVideoFrame (img.dataLength, img.flags, img.data))
+	  return img.dataLength;
+  else
+	  return -1;
+
 }
 
 //_____________________________________________________

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_savecopy.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_savecopy.h	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_savecopy.h	2008-09-20 18:04:35 UTC (rev 4385)
@@ -22,7 +22,7 @@
      protected :
 		                                EncoderCopy          *copy;	
 		          virtual uint8_t 	setupVideo( char *name  );
-                          virtual uint8_t 	writeVideoChunk(uint32_t frame );
+                          virtual int 	writeVideoChunk(uint32_t frame );
                                   uint8_t       newFile(void);
 
      public:
@@ -54,7 +54,7 @@
  {
      protected :
                           virtual uint8_t 	setupVideo( char *name  );
-                          virtual uint8_t 	writeVideoChunk(uint32_t frame );
+                          virtual int 	writeVideoChunk(uint32_t frame );
      public:
   
  };
@@ -66,7 +66,7 @@
                           uint32_t              curToggle;
                           uint32_t              time_inc;
                           virtual uint8_t 	setupVideo( char *name  );
-                          virtual uint8_t 	writeVideoChunk(uint32_t frame );
+                          virtual int 	writeVideoChunk(uint32_t frame );
                                   uint8_t       prefetch(uint32_t buffer,uint32_t frame);
      public:
                           virtual	~GenericAviSaveCopyPack();	

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -18,6 +18,7 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
+#define __STDC_LIMIT_MACROS
 #include "config.h"
 #include "ADM_default.h"
 #include "ADM_threads.h"
@@ -51,15 +52,12 @@
 {
 	TwoPassLogFile=NULL;
 	_incoming=NULL;
-	_encode=NULL;
 	_videoProcess=1;
-	_prefill=0;
 };
 
 uint8_t
 GenericAviSaveProcess::setupVideo (char *name)
 {
-	_notnull=0;
 	_incoming = getLastVideoFilter (frameStart,frameEnd-frameStart);
  	frametogo=_incoming->getInfo()->nb_frames;
 	encoding_gui->setFps(_incoming->getInfo()->fps1000);
@@ -124,7 +122,7 @@
     {
       uint8_t *buffer;
       uint32_t len, flag;
-	int prefill = 0, r;
+	int r, frameDelay = 0;
 
  	aprintf("\n** Dual pass encoding**\n");
 
@@ -141,53 +139,47 @@
         bitstream.bufferSize = _incoming->getInfo()->width * _incoming->getInfo()->height * 3;
         bitstream.data=buffer;
 
-preFilling:
-		bitstream.cleanup(0);
-
-		if(!_encode->encode(prefill, &bitstream))
+		for (uint32_t cf = 0; cf < frametogo; cf++)
 		{
-			printf("AVI: First frame error\n");
-			GUI_Error_HIG(QT_TR_NOOP("Error while encoding"), NULL);
-			return 0;
-		}
+			if (guiUpdate (cf, frametogo))
+			{
+abt:
+				GUI_Error_HIG (QT_TR_NOOP("Aborting"), NULL);
+				delete[] buffer;
+				return 0;
+			}
 
-		if (!bitstream.len)
-		{
-			prefill++;
-			goto preFilling;
-		}
+			for (;;)
+			{
+				bitstream.cleanup(cf);
 
-		printf("Prefill: %u\n", prefill);
+				if (cf + frameDelay >= frametogo)
+				{
+					if (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH)
+						r = _encode->encode(UINT32_MAX, &bitstream);
+					else
+						r = 0;
+				}
+				else
+					r = _encode->encode(cf + frameDelay, &bitstream);
 
-      //__________________________________
-      //   now go to main loop.....
-      //__________________________________
-        for (uint32_t cf = 1; cf < frametogo; cf++)
-        {
-          if (guiUpdate (cf, frametogo))
-            {
-            abt:
-                GUI_Error_HIG (QT_TR_NOOP("Aborting"), NULL);
-              delete[]buffer;
-              return 0;
-            }
-            
-            bitstream.cleanup(cf);
+				if (!r)
+				{
+					printf("Encoding of frame %lu failed!\n", cf);
+					goto abt;
+				}
 
-			if (!prefill || cf + prefill < frametogo)
-				r = _encode->encode(prefill + cf, &bitstream);
-			else
-				r = _encode->encode(frametogo - 1, &bitstream);
-
-			if (!r)
-			{
-				printf("Encoding of frame %lu failed!\n", cf);
-				goto abt;
+				if (bitstream.len == 0 && (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH))
+				{
+					printf("skipping frame: %u size: %i\n", cf + frameDelay, bitstream.len);
+					frameDelay++;
+				}
+				else
+					break;
 			}
 
-           encoding_gui->setFrame(cf,bitstream.len,bitstream.out_quantizer,frametogo);
-    
-        }
+			encoding_gui->setFrame(cf,bitstream.len,bitstream.out_quantizer,frametogo);
+		}
 
 	encoding_gui->reset();
       	delete[]buffer;	
@@ -257,74 +249,62 @@
 }
 
 // copy mode
-// Basically ask a video frame and send it to writter
-uint8_t
-GenericAviSaveProcess::writeVideoChunk (uint32_t frame)
+// Basically ask a video frame and send it to writer
+int GenericAviSaveProcess::writeVideoChunk(uint32_t frame)
 {
-  uint8_t    	r;
-  // CBR or CQ
-  if (frame == 0)
-  {
-    encoding_gui->setCodec(_encode->getDisplayName())  ;
-  if (!_encode->isDualPass ())
-  {
-                          guiSetPhasis (QT_TR_NOOP("Encoding"));
-        }
-  else
-          {
-                          guiSetPhasis (QT_TR_NOOP("2nd Pass"));
-        }
-  }
-  // first read
+	uint8_t r = 0;
+	// CBR or CQ
+	if (frame == 0)
+	{
+		encoding_gui->setCodec(_encode->getDisplayName());
 
-preFilling:
-  bitstream.cleanup(0);
+		if (!_encode->isDualPass())
+			guiSetPhasis (QT_TR_NOOP("Encoding"));
+		else
+			guiSetPhasis (QT_TR_NOOP("2nd Pass"));
+	}
 
-  if (!_prefill || frame + _prefill < frametogo) 
-	  r = _encode->encode(_prefill + frame, &bitstream);
-  else
-	  r = _encode->encode(frametogo - 1, &bitstream);
+	bitstream.cleanup(frame);
 
-  if (!r)
-	  return 0;
+	if (frame >= frametogo)
+	{
+		if (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH)
+			r = _encode->encode(UINT32_MAX, &bitstream);
+	}
+	else
+		r = _encode->encode(frame, &bitstream);
 
-  if (!bitstream.len && frame == 0)
-  {
-	  _prefill++;
-	  goto preFilling;
-  }
-  else if (frame == 0)
-	  printf("Prefill: %u\n", _prefill);
+	if (!r)
+		return -1;
 
-  _videoFlag=bitstream.flags;
+	if (bitstream.len > 0)
+	{
+		_videoFlag=bitstream.flags;
 
-  // check for split
-     // check for auto split
-      // if so, we re-write the last I frame
-      if(muxSize)
-      {
-              // we overshot the limit and it is a key frame
-              // start a new chunk
-              if(handleMuxSize() && (_videoFlag & AVI_KEY_FRAME))
-              {		
-                      uint8_t *data;
-                      uint32_t dataLen=0;
+		// check for split
+		// check for auto split
+		// if so, we re-write the last I frame
+		if (muxSize)
+		{
+			// we overshot the limit and it is a key frame
+			// start a new chunk
+			if (handleMuxSize() && (_videoFlag & AVI_KEY_FRAME))
+			{
+				uint8_t *data;
+				uint32_t dataLen = 0;
 
-                      _encode->hasExtraHeaderData( &dataLen,&data);	   
-                      if(!reigniteChunk(dataLen,data)) return 0;
-              }
-        }
-        encoding_gui->setFrame(frame,bitstream.len,bitstream.out_quantizer,frametogo);	
-        // If we have several null B frames dont write them
-        if(bitstream.len) _notnull=1;
-	else	if( !_notnull)
-	{
-		printf("Frame : %lu dropped\n",frame);
-	 	return 1;			 
-	 }
-         return writter->saveVideoFrame (bitstream.len, _videoFlag, vbuffer);
+				_encode->hasExtraHeaderData(&dataLen,&data);
 
-}
+				if (!reigniteChunk(dataLen, data))
+					return -1;
+			}
+		}
 
+		encoding_gui->setFrame(frame >= frametogo ? frametogo - 1 : frame, bitstream.len, bitstream.out_quantizer, frametogo);	
 
-// EOF
+		if (!writter->saveVideoFrame (bitstream.len, _videoFlag, vbuffer))
+			return -1;
+	}
+
+	return bitstream.len;
+}

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_saveprocess.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_saveprocess.h	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_saveprocess.h	2008-09-20 18:04:35 UTC (rev 4385)
@@ -23,15 +23,11 @@
  class GenericAviSaveProcess : public   GenericAviSave
  {
      protected :
-					    
-			Encoder 	*_encode;
-			uint8_t		_notnull;
-			int _prefill;
-                       	char 		*TwoPassLogFile;
+			           	char 		*TwoPassLogFile;
                         ADMBitstream    bitstream;
 
 			virtual uint8_t	setupVideo( char *name  );
-			virtual uint8_t	writeVideoChunk(uint32_t frame );
+			virtual int	writeVideoChunk(uint32_t frame );
                          
      public:
      					GenericAviSaveProcess( void ) ;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_savesmart.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_savesmart.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_savesmart.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -128,8 +128,7 @@
 
 // copy mode
 // Basically ask a video frame and send it to writter
-uint8_t
-GenericAviSaveSmart::writeVideoChunk (uint32_t frame)
+int GenericAviSaveSmart::writeVideoChunk (uint32_t frame)
 {
   uint32_t    len;
   uint8_t     ret1, seq;
@@ -142,7 +141,7 @@
     return writeVideoChunk_copy(frame);
 }
 //_________________________________________________________
-uint8_t GenericAviSaveSmart::writeVideoChunk_recode (uint32_t frame)
+int GenericAviSaveSmart::writeVideoChunk_recode (uint32_t frame)
 {
 uint32_t len;
 ADMBitstream bitstream(MAXIMUM_SIZE * MAXIMUM_SIZE * 3);
@@ -161,19 +160,23 @@
 	// Else encode it ....
 	//1-Read it
 	if (! video_body->getUncompressedFrame (frame, aImage))
-		return 0;
+		return -1;
 	// 2-encode it
         bitstream.data=vbuffer;
         bitstream.cleanup(frame);
         if (!_encoder->encode (aImage, &bitstream))//vbuffer, &len, &_videoFlag))
-		return 0;
+		return -1;
         _videoFlag=bitstream.flags;
 	// 3-write it
         encoding_gui->setFrame(frame-frameStart,bitstream.len,bitstream.out_quantizer,frametogo);
-	return writter->saveVideoFrame (bitstream.len, _videoFlag, vbuffer);
+	if (writter->saveVideoFrame (bitstream.len, _videoFlag, vbuffer))
+		return bitstream.len;
+	else
+		return -1;
 }
+
 //_________________________________________________________
-uint8_t GenericAviSaveSmart::writeVideoChunk_copy (uint32_t frame,uint32_t first)
+int GenericAviSaveSmart::writeVideoChunk_copy (uint32_t frame,uint32_t first)
 {
   // Check flags and seq
   uint32_t myseq=0;
@@ -197,7 +200,7 @@
 
    			video_body->getExtraHeaderData(&extraLen,&extraData);
 					   
-			if(!reigniteChunk(extraLen,extraData)) return 0;
+			if(!reigniteChunk(extraLen,extraData)) return -1;
 		}
 	}
   
@@ -222,7 +225,7 @@
 			if(!seekNextRef(frame,&nextip))
 			{
 				aprintf("Smart:B Frame without reference frame\n");
-				return 1;
+				return 0;
 			}
 			// check if that the frame -1,....,next forward ref are all sequential
 			if(!video_body->sequentialFramesB(frame-1,nextip)&&!(_videoFlag &AVI_KEY_FRAME )) 
@@ -236,20 +239,27 @@
 			aprintf("Smart : using %lu as next\n",nextip);
 			// Seems ok, write it and mark it
 			if (! video_body->getFrameNoAlloc (nextip,&img,&seq))// vbuffer, &len,		      &_videoFlag, &seq))
-    				return 0;
+    				return -1;
                         _videoFlag=img.flags;
 			_nextip=nextip;
                         encoding_gui->setFrame(frame-frameStart,img.dataLength,0,frametogo);
-			return writter->saveVideoFrame (img.dataLength, img.flags, img.data);
+
+						if (writter->saveVideoFrame (img.dataLength, img.flags, img.data))
+							return img.dataLength;
+						else
+							return -1;
 		}
 		else
 		{	// Nth B frame
 			aprintf("Smart:Next B frame\n");
 			if (!video_body->getFrameNoAlloc (frame-1, &img, &seq))
-    				return 0;
+    				return -1;
                          _videoFlag=img.flags;
                         encoding_gui->setFrame(frame-frameStart,img.dataLength,0,frametogo);
-			return writter->saveVideoFrame (img.dataLength, img.flags, img.data);
+			if (writter->saveVideoFrame (img.dataLength, img.flags, img.data))
+				return img.dataLength;
+			else
+				return -1;
 		}
 	}
 	// Not a bframe
@@ -259,10 +269,13 @@
 		// Send the last B frame instead
 		aprintf("Smart finishing B frame %lu\n",frame-1);
 		if (! video_body->getFrameNoAlloc(frame-1, &img, &seq))// (frame-1, vbuffer, &len,    &_videoFlag, &seq))
-    			return 0;
+    			return -1;
                  _videoFlag=img.flags;
                 encoding_gui->setFrame(frame-frameStart,img.dataLength,0,frametogo);
-		return writter->saveVideoFrame  (img.dataLength, img.flags, img.data);;
+		if (writter->saveVideoFrame  (img.dataLength, img.flags, img.data))
+			return img.dataLength;
+		else
+			return -1;
 	
 	}
 	// Regular frame
@@ -302,11 +315,18 @@
 				memcpy(buffer+extraLen,img.data,img.dataLength);
 				r=writter->saveVideoFrame (img.dataLength+extraLen, img.flags, buffer);;
 				delete [] buffer;
-				return r;
-				
+
+				if (r)
+					return img.dataLength + extraLen;
+				else
+					return -1;				
 			}
 	}
-	return writter->saveVideoFrame (img.dataLength, img.flags, img.data);;
+	if (writter->saveVideoFrame (img.dataLength, img.flags, img.data))
+		return img.dataLength;
+	else
+		return -1;
+
 }
 //_________________________________________________________
 uint8_t GenericAviSaveSmart::seekNextRef(uint32_t frame,uint32_t *nextip)

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_savesmart.hxx
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_savesmart.hxx	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_avi/op_savesmart.hxx	2008-09-20 18:04:35 UTC (rev 4385)
@@ -30,9 +30,9 @@
        				uint32_t 	encoderReady;
               			uint32_t 	compEngaged;
 	virtual 		uint8_t 	setupVideo( char *name  );
- 	virtual 		uint8_t 	writeVideoChunk(uint32_t frame );
-				uint8_t		 writeVideoChunk_recode (uint32_t frame);
-				uint8_t		 writeVideoChunk_copy (uint32_t frame,uint32_t first=0);
+ 	virtual 		int 	writeVideoChunk(uint32_t frame );
+				int		 writeVideoChunk_recode (uint32_t frame);
+				int		 writeVideoChunk_copy (uint32_t frame,uint32_t first=0);
               			encoder 	*_encoder;
               			uint8_t 	_cqReenc          ;
 				

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -16,6 +16,7 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
+#define __STDC_LIMIT_MACROS
 
 #include <math.h>
 
@@ -82,8 +83,6 @@
 uint32_t alen;//,flags;
 uint32_t size;
 
-uint8_t   ret=0;
-
 uint32_t  sample_got=0,sample;
 uint32_t  extraDataSize=0;
 uint8_t   *extraData=NULL;
@@ -100,10 +99,10 @@
 ADMBitstream    bitstream(0);
 uint32_t        frameWrite=0;
 uint8_t r=0;
-uint32_t skipping=1;
+int frameDelay = 0;
+bool receivedFrame = false;
 
 uint32_t    totalAudioSize=0;
-uint32_t sent=0;
 
         // Setup video
         
@@ -155,7 +154,7 @@
                 _encode->hasExtraHeaderData( &videoExtraDataSize,&dummy);
                 if(videoExtraDataSize)
                 {
-                        printf("[FLV]We have extradata for video in copy mode (%d)\n",videoExtraDataSize);
+                        printf("We have extradata for video in copy mode (%d)\n",videoExtraDataSize);
                         videoExtraData=new uint8_t[videoExtraDataSize];
                         memcpy(videoExtraData,dummy,videoExtraDataSize);
                 }
@@ -164,76 +163,78 @@
              
              ADM_assert(_encode);
              bitstream.data=videoBuffer;
-             
-preFilling:
-             bitstream.cleanup(0);
-             if(!(err=_encode->encode ( prefill, &bitstream)))// FIXME: We should never execute it more than once
-             {
-                        printf("[FLV]:First frame error\n");
-                        GUI_Error_HIG (QT_TR_NOOP("Error while encoding"), NULL);
-                        goto  stopit;
-              }
-              sent++;
-              if(!bitstream.len)
-              {
-                prefill++;
-                goto preFilling;
-              }
-              if(!bitstream.flags & AVI_KEY_FRAME)
-              {
-                GUI_Error_HIG (QT_TR_NOOP("KeyFrame error"),QT_TR_NOOP( "The beginning frame is not a key frame.\nPlease move the A marker."));
-                  goto  stopit; 
-              }
-         
-          if(!videoProcessMode())
-                encoding_gui->setCodec(QT_TR_NOOP("Copy"));
-          else
-                encoding_gui->setCodec(_encode->getDisplayName());
-           //
-          UI_purge();
-          if(bitstream.len)
-          {
-            frameWrite++;
-          }
-           for(int frame=1;frame<total;frame++)
-           {
-               
-               ADM_assert(_encode);
-               bitstream.cleanup(frameWrite);
-              
-               r=_encode->encode ( prefill+frame, &bitstream);
-              
-               if(!r && frame<total-2)
-               {
-                        printf("[FLV]:Frame %u error\n",frame);
-                        GUI_Error_HIG ("FLV",QT_TR_NOOP("Error while encoding"));
-                        goto  stopit;
-                }
-                if(!bitstream.len && skipping)
-                {
-                    printf("[FLV]Frame skipped (xvid ?)\n");
-                    continue;
-                }
-                sent++;
-                skipping=0;
-                frameWrite++;
-                encoding_gui->setFrame(frame,bitstream.len,bitstream.out_quantizer,total);
-               if(!encoding_gui->isAlive())
-                {
-                    
-                    goto stopit;
-                }
-               
-           }
-           ret=1;
-           
+
+			 if(!videoProcessMode())
+				 encoding_gui->setCodec(QT_TR_NOOP("Copy"));
+			 else
+				 encoding_gui->setCodec(_encode->getDisplayName());
+
+			 UI_purge();
+
+			 for (uint32_t frame = 0; frame < total; frame++)
+			 {
+				 if (!encoding_gui->isAlive())
+				 {
+					 r = 0;
+					 break;
+				 }
+
+				 for (;;)
+				 {
+					 bitstream.cleanup(frame);
+
+					 if (frame + frameDelay >= total)
+					 {
+						 if (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH)
+							 r = _encode->encode(UINT32_MAX, &bitstream);
+						 else
+							 r = 0;
+					 }
+					 else
+						 r = _encode->encode(frame + frameDelay, &bitstream);
+
+					 if (!r)
+					 {
+						 printf("Encoding of frame %lu failed!\n", frame);
+						 GUI_Error_HIG (QT_TR_NOOP("Error while encoding"), NULL);
+						 break;
+					 }
+					 else if (!receivedFrame && bitstream.len > 0)
+					 {
+						 if (!(bitstream.flags & AVI_KEY_FRAME))
+						 {
+							 GUI_Error_HIG (QT_TR_NOOP("KeyFrame error"), QT_TR_NOOP("The beginning frame is not a key frame.\nPlease move the A marker."));
+							 r = 0;
+							 break;
+						 }
+						 else
+							 receivedFrame = true;
+					 }
+
+					 if (bitstream.len == 0 && (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH))
+					 {
+						 printf("skipping frame: %u size: %i\n", frame + frameDelay, bitstream.len);
+						 frameDelay++;
+					 }
+					 else
+						 break;
+				 }
+
+				 if (!r)
+					 break;
+
+				 encoding_gui->setFrame(frame, bitstream.len, bitstream.out_quantizer, total);
+			 }
+
+			 encoding_gui->reset();
+
 stopit:
     
            if(encoding_gui) delete encoding_gui;
            if(videoBuffer) delete [] videoBuffer;
            if(_encode) delete _encode;	
            if(videoExtraData) delete [] videoExtraData;
-           return ret;
+           return r;
 }
 
 	

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -15,6 +15,7 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
+#define __STDC_LIMIT_MACROS
 
 #include <math.h>
 
@@ -86,8 +87,6 @@
 uint32_t alen;//,flags;
 uint32_t size;
 
-uint8_t   ret=0;
-
 uint32_t  sample_got=0,sample;
 uint32_t  extraDataSize=0;
 uint8_t   *extraData=NULL;
@@ -104,14 +103,13 @@
 int prefill=0;
 uint32_t displayFrame=0;
 ADMBitstream    bitstream(0);
-uint32_t        frameWrite=0;
 uint8_t r=0;
-uint32_t skipping=1;
 pthread_t     audioThread;
 audioQueueMT context;
 PacketQueue   *pq=NULL;//("MP4 audioQ",50,2*1024*1024);
 uint32_t    totalAudioSize=0;
-uint32_t sent=0;
+int frameDelay = 0;
+bool receivedFrame = false;
 
         // Setup video
 
@@ -206,32 +204,10 @@
                         videoExtraData=new uint8_t[videoExtraDataSize];
                         memcpy(videoExtraData,dummy,videoExtraDataSize);
                 }
-        // _________________Setup video (cont) _______________
-        // ___________ Read 1st frame _________________
 
              ADM_assert(_encode);
              bitstream.data=videoBuffer;
 
-preFilling:
-             bitstream.cleanup(0);
-             if(!(err=_encode->encode ( prefill, &bitstream)))// FIXME: We should never execute it more than once
-             {
-                        printf("[FLV]:First frame error\n");
-                        GUI_Error_HIG (QT_TR_NOOP("Error while encoding"), NULL);
-                        goto  stopit;
-              }
-              sent++;
-              if(!bitstream.len)
-              {
-                prefill++;
-                goto preFilling;
-              }
-              if(!bitstream.flags & AVI_KEY_FRAME)
-              {
-                GUI_Error_HIG (QT_TR_NOOP("KeyFrame error"),QT_TR_NOOP( "The beginning frame is not a key frame.\nPlease move the A marker."));
-                  goto  stopit;
-              }
-
 // ____________Setup audio__________________
           if(currentaudiostream)
           {
@@ -275,11 +251,7 @@
                 encoding_gui->setCodec(_encode->getDisplayName());
            //
           UI_purge();
-          if(bitstream.len)
-          {
-            muxer->writeVideoPacket( &bitstream);
-            frameWrite++;
-          }
+
 //_____________ Start Audio thread _____________________
           if(audio)
           {
@@ -293,52 +265,82 @@
             ADM_usleep(4000);
           }
 //_____________GO !___________________
-           for(int frame=1;frame<total;frame++)
-           {
-               while(muxer->needAudio())
-               {
-                    if(pq->Pop(audioBuffer,&alen,&sample))
-                    {
-                     if(alen)
-                     {
-                        muxer->writeAudioPacket(alen,audioBuffer,sample_got);
-                        totalAudioSize+=alen;
-                        encoding_gui->setAudioSize(totalAudioSize);
-                        sample_got+=sample;
-                     }
-                    }else break;
-               }
-               ADM_assert(_encode);
-               bitstream.cleanup(frameWrite);
 
-               r=_encode->encode ( prefill+frame, &bitstream);
+			 for (uint32_t frame = 0; frame < total; frame++)
+			 {
+				 if (!encoding_gui->isAlive())
+				 {
+					 r = 0;
+					 break;
+				 }
 
-               if(!r && frame<total-2)
-               {
-                        printf("[FLV]:Frame %u error\n",frame);
-                        GUI_Error_HIG ("FLV",QT_TR_NOOP("Error while encoding"));
-                        goto  stopit;
-                }
-                if(!bitstream.len && skipping)
-                {
-                    printf("[FLV]Frame skipped (xvid ?)\n");
-                    continue;
-                }
-                sent++;
-                skipping=0;
-            //    printf("Prefill %u FrameWrite :%u Frame %u PtsFrame :%u\n",prefill,frameWrite,frame,bitstream.ptsFrame);
-                frameWrite++;
-                muxer->writeVideoPacket( &bitstream);
-                encoding_gui->setFrame(frame,bitstream.len,bitstream.out_quantizer,total);
-               if(!encoding_gui->isAlive())
-                {
+				 while(muxer->needAudio())
+				 {
+					 if(pq->Pop(audioBuffer,&alen,&sample))
+					 {
+						 if(alen)
+						 {
+							 muxer->writeAudioPacket(alen,audioBuffer,sample_got);
+							 totalAudioSize+=alen;
+							 encoding_gui->setAudioSize(totalAudioSize);
+							 sample_got+=sample;
+						 }
+					 }
+					 else
+					 {
+						 r = 0;
+						 break;
+					 }
+				 }
 
-                    goto stopit;
-                }
+				 for (;;)
+				 {
+					 bitstream.cleanup(frame);
 
-           }
-           ret=1;
+					 if (frame + frameDelay >= total)
+					 {
+						 if (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH)
+							 r = _encode->encode(UINT32_MAX, &bitstream);
+						 else
+							 r = 0;
+					 }
+					 else
+						 r = _encode->encode(frame + frameDelay, &bitstream);
 
+					 if (!r)
+					 {
+						 printf("Encoding of frame %lu failed!\n", frame);
+						 GUI_Error_HIG (QT_TR_NOOP("Error while encoding"), NULL);
+						 break;
+					 }
+					 else if (!receivedFrame && bitstream.len > 0)
+					 {
+						 if (!(bitstream.flags & AVI_KEY_FRAME))
+						 {
+							 GUI_Error_HIG (QT_TR_NOOP("KeyFrame error"), QT_TR_NOOP("The beginning frame is not a key frame.\nPlease move the A marker."));
+							 r = 0;
+							 break;
+						 }
+						 else
+							 receivedFrame = true;
+					 }
+
+					 if (bitstream.len == 0 && (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH))
+					 {
+						 printf("skipping frame: %u size: %i\n", frame + frameDelay, bitstream.len);
+						 frameDelay++;
+					 }
+					 else
+						 break;
+				 }
+
+				 if (!r)
+					 break;
+
+				 muxer->writeVideoPacket(&bitstream);
+				 encoding_gui->setFrame(frame, bitstream.len, bitstream.out_quantizer, total);
+			 }
+
 stopit:
 
     // Flush slave Q
@@ -363,7 +365,7 @@
            if(videoExtraData) delete [] videoExtraData;
            // Cleanup
            deleteAudioFilter (audio);
-           return ret;
+           return r;
 }
 
 

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -18,9 +18,7 @@
  *   (at your option) any later version.                                   *
  *                                                                         *
  ***************************************************************************/
-#ifndef __STDC_LIMIT_MACROS
 #define __STDC_LIMIT_MACROS
-#endif
 
 #include "config.h"
 #include "ADM_default.h"
@@ -88,8 +86,6 @@
 uint32_t alen;//,flags;
 uint32_t size;
 
-uint8_t   ret=0;
-
 uint32_t  sample_got=0,sample;
 uint32_t  extraDataSize=0;
 uint8_t   *extraData=NULL;
@@ -104,14 +100,10 @@
 uint8_t  *videoExtraData=NULL;
 uint8_t *dummy,err;
 WAVHeader *audioinfo=NULL;
-int prefill=0;
-uint32_t displayFrame=0;
 ADMBitstream    bitstream(0);
-uint32_t        frameWrite=0;
 ADM_MUXER_TYPE muxerType=MUXER_MP4;
 uint8_t dualPass=0;
 uint8_t r=0;
-uint32_t skipping=1;
 pthread_t     audioThread;
 audioQueueMT context;
 PacketQueue   *pq = NULL;//("MP4 audioQ",50,2*1024*1024);
@@ -119,6 +111,8 @@
 uint32_t sent=0;
 const char *containerTitle;
 int reuse = 0;
+int frameDelay = 0;
+bool receivedFrame = false;
 
            switch(type)
            {
@@ -166,19 +160,19 @@
                 strcat(TwoPassLogFile,".stat");
                 _encode->setLogFile(TwoPassLogFile,total);
 
-				dualPass = _encode->isDualPass();
-
-				if (dualPass)
-				{
-					FILE *tmp;
-
-					if ((tmp = fopen(TwoPassLogFile,"rt")))
-					{
-						fclose(tmp);
-
-						if (GUI_Question(QT_TR_NOOP("Reuse the existing log file?")))
-							reuse = 1;
-					}
+				dualPass = _encode->isDualPass();
+
+				if (dualPass)
+				{
+					FILE *tmp;
+
+					if ((tmp = fopen(TwoPassLogFile,"rt")))
+					{
+						fclose(tmp);
+
+						if (GUI_Question(QT_TR_NOOP("Reuse the existing log file?")))
+							reuse = 1;
+					}
 				}
 
                 if (!_encode->configure (_incoming, reuse))
@@ -210,34 +204,10 @@
                         memcpy(videoExtraData,dummy,videoExtraDataSize);
                 }
         // _________________Setup video (cont) _______________
-        // ___________ Read 1st frame _________________
              
              ADM_assert(_encode);
              bitstream.data=videoBuffer;
-             
-preFilling:
-             bitstream.cleanup(0);
-			 bitstream.dtsFrame = UINT32_MAX;	// let libavformat calculate it
 
-             if(!(err=_encode->encode ( prefill, &bitstream)))//&len, videoBuffer, &flags,&displayFrame))
-             {
-                        printf("MP4:First frame error\n");
-                        GUI_Error_HIG (QT_TR_NOOP("Error while encoding"), NULL);
-                        goto  stopit;
-              }
-              sent++;
-              if(!bitstream.len)
-              {
-                prefill++;
-                goto preFilling;
-              }
-              printf("Pass 2 prefill : %u\n",prefill);
-              if(!bitstream.flags & AVI_KEY_FRAME)
-              {
-                GUI_Error_HIG (QT_TR_NOOP("KeyFrame error"),QT_TR_NOOP( "The beginning frame is not a key frame.\nPlease move the A marker."));
-                  goto  stopit; 
-              }
-           //len=bitstream.len;
            // If needed get VOL header
            if(isMpeg4Compatible(info.fcc) && !videoExtraDataSize && bitstream.len)
            {
@@ -314,11 +284,7 @@
                 encoding_gui->setCodec(_encode->getDisplayName());
            //
           UI_purge();
-          if(bitstream.len)
-          {
-            muxer->writeVideoPacket( &bitstream);
-            frameWrite++;
-          }
+
 //_____________ Start Audio thread _____________________
           if(audio)
           {          
@@ -332,62 +298,84 @@
             ADM_usleep(4000);
           }
 //_____________GO !___________________
-           for(int frame=1;frame<total;frame++)
-           {
-               while(muxer->needAudio())
-               {
-                    if(pq->Pop(audioBuffer,&alen,&sample))
-                    {
-                     if(alen)
-                     {
-                        muxer->writeAudioPacket(alen,audioBuffer,sample_got);
-                        totalAudioSize+=alen;
-                        encoding_gui->setAudioSize(totalAudioSize);
-                        sample_got+=sample;
-                     }
-                    }else break;
-               }
-               ADM_assert(_encode);
-               bitstream.cleanup(frameWrite);
-			   bitstream.dtsFrame = UINT32_MAX;	// let libavformat calculate it
+		  for (uint32_t frame = 0; frame < total; frame++)
+		  {
+			  if (!encoding_gui->isAlive())
+			  {
+				  r = 0;
+				  break;
+			  }
 
-               if(!prefill || frame+prefill<total) 
-               {
-                  
-                  r=_encode->encode ( prefill+frame, &bitstream);
-               }
-                else
-                {
-                    r=_encode->encode ( total-1, &bitstream);
-                }
-               if(!r && frame<total-2)
-               {
-                        printf("MP4:Frame %u error\n",frame);
-                        GUI_Error_HIG (QT_TR_NOOP("Error while encoding"), NULL);
-                        goto  stopit;
-                }
-                if(!bitstream.len && skipping)
-                {
-                    printf("Frame skipped (xvid ?)\n");
-                    continue;
-                }
-                sent++;
-                skipping=0;
-            //    printf("Prefill %u FrameWrite :%u Frame %u PtsFrame :%u\n",prefill,frameWrite,frame,bitstream.ptsFrame);
-                frameWrite++;
-                muxer->writeVideoPacket( &bitstream);
-                encoding_gui->setFrame(frame,bitstream.len,bitstream.out_quantizer,total);
-               if(!encoding_gui->isAlive())
-                {
-                    
-                    goto stopit;
-                }
-               
-           }
-           ret=1;
-           
+			  while (muxer->needAudio())
+			  {
+				  if (pq->Pop(audioBuffer, &alen, &sample))
+				  {
+					  if (alen)
+					  {
+						  muxer->writeAudioPacket(alen, audioBuffer, sample_got);
+						  totalAudioSize += alen;
+						  encoding_gui->setAudioSize(totalAudioSize);
+						  sample_got += sample;
+					  }
+				  }
+				  else
+				  {
+					  r = 0;
+					  break;
+				  }
+			  }
+
+			  for (;;)
+			  {
+				  bitstream.cleanup(frame);
+				  bitstream.dtsFrame = UINT32_MAX;	// let libavformat calculate it
+
+				  if (frame + frameDelay >= total)
+				  {
+					  if (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH)
+						  r = _encode->encode(UINT32_MAX, &bitstream);
+					  else
+						  r = 0;
+				  }
+				  else
+					  r = _encode->encode(frame + frameDelay, &bitstream);
+
+				  if (!r)
+				  {
+					  printf("Encoding of frame %lu failed!\n", frame);
+					  GUI_Error_HIG (QT_TR_NOOP("Error while encoding"), NULL);
+					  break;
+				  }
+				  else if (!receivedFrame && bitstream.len > 0)
+				  {
+					  if (!(bitstream.flags & AVI_KEY_FRAME))
+					  {
+						  GUI_Error_HIG (QT_TR_NOOP("KeyFrame error"), QT_TR_NOOP("The beginning frame is not a key frame.\nPlease move the A marker."));
+						  r = 0;
+						  break;
+					  }
+					  else
+						  receivedFrame = true;
+				  }
+
+				  if (bitstream.len == 0 && (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH))
+				  {
+					  printf("skipping frame: %u size: %i\n", frame + frameDelay, bitstream.len);
+					  frameDelay++;
+				  }
+				  else
+					  break;
+			  }
+
+			  if (!r)
+				  break;
+
+			  muxer->writeVideoPacket(&bitstream);
+			  encoding_gui->setFrame(frame, bitstream.len, bitstream.out_quantizer, total);
+		  }
+		  
 stopit:
-    printf("2nd pass, sent %u frames\n",sent);
+    printf("2nd pass, sent %u frames\n", bitstream.frameNumber + frameDelay);
     // Flush slave Q
     if(pq)
     {
@@ -411,70 +399,83 @@
            if(videoExtraData) delete [] videoExtraData;
            // Cleanup
            deleteAudioFilter (audio);
-           return ret;
+           return r;
 }
 uint8_t prepareDualPass(uint32_t bufferSize,uint8_t *buffer,DIA_encoding *encoding_gui,Encoder *_encode,uint32_t total,int reuse)
 {
       uint32_t len, flag;
       uint8_t r;
       ADMBitstream bitstream(0);
-      uint32_t prefill=0;
-      uint32_t sent=0;
+	  int frameDelay = 0;
+	  bool receivedFrame = false;
       
         aprintf("\n** Dual pass encoding**\n");
 
         if(!reuse)
         {
-        
                 encoding_gui->setPhasis (QT_TR_NOOP("1st Pass"));
                 aprintf("**Pass 1:%lu\n",total);
                 _encode->startPass1 ();
                 bitstream.data=buffer;
                 bitstream.bufferSize=bufferSize;
-                
-preFilling2:
-             bitstream.cleanup(0);
-             if(!_encode->encode ( prefill, &bitstream))//&len, videoBuffer, &flags,&displayFrame))
-             {
-                        printf("MP4:First frame error\n");
-                        GUI_Error_HIG (QT_TR_NOOP("Error while encoding"), NULL);
-                        return 0;
-              }
-              sent++;
-              if(!bitstream.len)
-              {
-                prefill++;
-                goto preFilling2;
-              }
 
-                printf("Pass 1 prefill : %u\n",prefill);
-                for (uint32_t cf = 1; cf < total; cf++)
-                {
-                        if (!encoding_gui->isAlive())
-                        {
-                                abt:
-                                    GUI_Error_HIG (QT_TR_NOOP("Aborting"), NULL);
-                                return 0;
-                        }
-                        bitstream.cleanup(cf);
-                        if(!prefill || cf+prefill<total) 
-                        {
-                            r=_encode->encode ( prefill+cf, &bitstream);
-                        }
-                          else
-                          {
-                              r=_encode->encode ( total-1, &bitstream);
-                          }
-                        if (!r)
-                        {
-                                printf("\n Encoding of frame %lu failed !\n",cf);
-                                return 0;
-                        }
-                        sent++;
-                        encoding_gui->setFrame(cf,bitstream.len,bitstream.out_quantizer,total);
-                }
-                encoding_gui->reset();
-                aprintf("**Pass 1:done\n");
+				for (uint32_t frame = 0; frame < total; frame++)
+				{
+					if (!encoding_gui->isAlive())
+					{
+						r = 0;
+						break;
+					}
+
+					for (;;)
+					{
+						bitstream.cleanup(frame);
+						bitstream.dtsFrame = UINT32_MAX;	// let libavformat calculate it
+
+						if (frame + frameDelay >= total)
+						{
+							if (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH)
+								r = _encode->encode(UINT32_MAX, &bitstream);
+							else
+								r = 0;
+						}
+						else
+							r = _encode->encode(frame + frameDelay, &bitstream);
+
+						if (!r)
+						{
+							printf("Encoding of frame %lu failed!\n", frame);
+							GUI_Error_HIG (QT_TR_NOOP("Error while encoding"), NULL);
+							break;
+						}
+						else if (!receivedFrame && bitstream.len > 0)
+						{
+							if (!(bitstream.flags & AVI_KEY_FRAME))
+							{
+								GUI_Error_HIG (QT_TR_NOOP("KeyFrame error"), QT_TR_NOOP("The beginning frame is not a key frame.\nPlease move the A marker."));
+								r = 0;
+								break;
+							}
+							else
+								receivedFrame = true;
+						}
+
+						if (bitstream.len == 0 && (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH))
+						{
+							printf("skipping frame: %u size: %i\n", frame + frameDelay, bitstream.len);
+							frameDelay++;
+						}
+						else
+							break;
+					}
+
+					if (!r)
+						return 0;
+
+					encoding_gui->setFrame(frame, bitstream.len, bitstream.out_quantizer, total);
+				}
+
+				encoding_gui->reset();
         }// End of reuse
 
         if(!_encode->startPass2 ())
@@ -482,7 +483,7 @@
                 printf("Pass2 ignition failed\n");
                 return 0;
         }
-        printf("First pass : send %u frames\n",sent);
+        printf("First pass : send %u frames\n", bitstream.frameNumber + frameDelay);
         encoding_gui->setPhasis (QT_TR_NOOP("2nd Pass"));
         return 1;
 }

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -62,6 +62,7 @@
 _togo=0;
 _packet=0;
 TwoPassLogFile=NULL;
+_encode = NULL;
 }
 
 //_______________________________________________
@@ -126,18 +127,42 @@
 
 		encoding_gui->setFps(_fps1000);
 		encoding_gui->reset();
-		// ___________________Then body_______________________
-                uint32_t j=0;
-		for( j=0;j<_togo && !error;j++)
+
+		uint32_t j=0;
+		int frameDelay = 0;
+		int videoSize;
+
+		for (j = 0; j < _togo; j++)
 		{
-			if(!encoding_gui->isAlive())
+			if (!encoding_gui->isAlive())
 			{
-				error=1;
-				continue;
+				error = 1;
+				break;
 			}
-			if(!writeVideo(j)) error=1;
-			if(!writeAudio(j)) error=1;
+
+			for (;;)
+			{
+				videoSize = writeVideo(j + frameDelay);
+
+				if (videoSize == 0 && _encode && (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH))
+				{
+					printf("skipping frame: %u size: %i\n", j + frameDelay, videoSize);
+					frameDelay++;
+				}
+				else
+				{
+					error = 1;
+					break;
+				}
+			}
+
+			if (!writeAudio(j))
+			{
+				error = 1;
+				break;
+			}
 		}
+
                 if(abs(j-_togo)<3 && error) error=0; // might be caused by late B frame
 		delete encoding_gui;
 		encoding_gui=NULL;
@@ -159,7 +184,7 @@
 
 }
 //___________________________________________________
-uint8_t	ADM_ogmWrite::writeVideo(uint32_t frame)
+int	ADM_ogmWrite::writeVideo(uint32_t frame)
 {
 		ADM_assert(0);
 		return 0;

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_ogm/op_ogsave.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_ogm/op_ogsave.h	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_ogm/op_ogsave.h	2008-09-20 18:04:35 UTC (rev 4385)
@@ -41,6 +41,7 @@
 			DIA_encoding		*encoding_gui;
 			ogm_page 		*videoStream;
 			ogm_page		*audioStream;
+			Encoder 		*_encode;
 			
 				uint8_t		initAudio(void);
 				uint8_t		writeAudio(uint32_t j);
@@ -51,7 +52,7 @@
 				AVDMGenericAudioStream	*audioFilter;
 				
 			virtual uint8_t		initVideo(const char *name);
-			virtual uint8_t		writeVideo(uint32_t frame);
+			virtual int		writeVideo(uint32_t frame);
 					
 	public:
 					ADM_ogmWrite(void);				
@@ -64,7 +65,7 @@
 protected:
 			
 			virtual uint8_t		initVideo(const char *name);			
-			virtual uint8_t		writeVideo(uint32_t frame);
+			virtual int		writeVideo(uint32_t frame);
 			uint32_t 		searchForward(uint32_t startframe);
 			uint32_t		_lastIPFrameSent;	
 public:
@@ -76,11 +77,10 @@
 {
 protected:
 			AVDMGenericVideoStream  *_incoming;
-			Encoder 		*_encode;
                         uint32_t                _prestore;
                         uint32_t                _prestoring;
 			virtual uint8_t	initVideo(const char *name);			
-			virtual uint8_t	writeVideo(uint32_t frame);	
+			virtual int	writeVideo(uint32_t frame);	
 public:
 			ADM_ogmWriteProcess(void);
 			~ADM_ogmWriteProcess(void);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_ogm/op_ogsavecopy.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_ogm/op_ogsavecopy.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_ogm/op_ogsavecopy.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -99,7 +99,7 @@
 
 }
 //___________________________________________________
-uint8_t	ADM_ogmWriteCopy::writeVideo(uint32_t frame)
+int	ADM_ogmWriteCopy::writeVideo(uint32_t frame)
 {
 uint32_t len,flags;
 uint32_t forward;
@@ -113,9 +113,13 @@
 		{
 
 			if(!  video_body->getFrameNoAlloc (frameStart+frame,&img))// _videoBuffer, &len,     &flags)) 
-				return 0;		
+				return -1;		
 			encoding_gui->setFrame(frame,img.dataLength,0,_togo);
-			return videoStream->write(img.dataLength,img.data,img.flags,frame);
+
+			if (videoStream->write(img.dataLength,img.data,img.flags,frame))
+				return img.dataLength;
+			else
+				return -1;
 		}
 		
 		// we DO have b frame
@@ -161,9 +165,10 @@
 				}
 			}
                 encoding_gui->setFrame(frame,img.dataLength,0,_togo);
-		return videoStream->write(img.dataLength,img.data,img.flags,frame);
-		return ret1;
-
+		if (videoStream->write(img.dataLength,img.data,img.flags,frame))
+			return img.dataLength;
+		else
+			return -1;
 }
 // Return the next non B frame
 // 0 if not found

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -20,6 +20,8 @@
 // Copyright: See COPYING file that comes with this distribution
 //
 //
+#define __STDC_LIMIT_MACROS
+
 #include <stdio.h>
 #include <stdlib.h>
 #include <math.h>
@@ -98,6 +100,7 @@
 	{
 		uint8_t *buffer;
 		uint32_t len, flag;
+		int frameDelay = 0, r;
 
 		aprintf("\n** Dual pass encoding**\n");
 	
@@ -109,23 +112,44 @@
 			encoding_gui->setPhasis(QT_TR_NOOP("Pass one"));
                         ADMBitstream bitstream(w*h*3);
                         bitstream.data=_videoBuffer;
-      			//__________________________________
-      			//   now go to main loop.....
-      			//__________________________________
-      			for (uint32_t cf = 0; cf < _togo; cf++)
+
+			for (uint32_t cf = 0; cf < _togo; cf++)
 			{	
-                                bitstream.cleanup(cf); 
-	  			if (!_encode->encode (cf, &bitstream))
+				if (!encoding_gui->isAlive())
+					return 0;
+
+				for (;;)
 				{
-					printf("\n Encoding of frame %lu failed !\n",cf);
-	    				return 0;
+					bitstream.cleanup(cf); 
+
+					if (cf + frameDelay >= _togo)
+					{
+						if (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH)
+							r = _encode->encode(UINT32_MAX, &bitstream);
+						else
+							r = 0;
+					}
+					else
+						r = _encode->encode(cf + frameDelay, &bitstream);
+
+					if (!r)
+					{
+						printf("Encoding of frame %lu failed!\n", cf);
+						return 0;
+					}
+
+					if (bitstream.len == 0 && (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH))
+					{
+						printf("skipping frame: %u size: %i\n", cf + frameDelay, bitstream.len);
+						frameDelay++;
+					}
+					else
+						break;
 				}
-                                encoding_gui->setFrame(cf,bitstream.len,bitstream.out_quantizer,_togo);
-				if(!encoding_gui->isAlive())
-				{
-					return 0;
-				}
+
+				encoding_gui->setFrame(cf,bitstream.len,bitstream.out_quantizer,_togo);
 			}
+
 		     	aprintf("**Pass 1:done\n");
     		}// End of reuse
 
@@ -189,36 +213,43 @@
 
 }
 //___________________________________________________
-uint8_t	ADM_ogmWriteProcess::writeVideo(uint32_t frame)
+int	ADM_ogmWriteProcess::writeVideo(uint32_t frame)
 {
-uint32_t len,flags;
-uint8_t ret;
-uint32_t page=_incoming->getInfo ()->width*_incoming->getInfo ()->height;
-ADMBitstream bitstream(page*3);
-                 bitstream.data=_videoBuffer;
-                 
-                 ret= _encode->encode ( frame, &bitstream);
-                 if(!bitstream.len && _prestoring) 
-                 {
-                   printf("Frame skipped\n");
-                   _prestore++;
-                   return 1;
-                 }
-                 _prestoring=0;
-                 bitstream.dtsFrame=frame-_prestore;
-		 if(!ret)
-                 {
-                        printf("OgmWrite: Error encoding frame %d\n",frame);
-                        return 0;
-                 }
-                encoding_gui->setFrame(frame,bitstream.len,bitstream.out_quantizer,_togo);
-                return videoStream->write(bitstream.len,_videoBuffer,bitstream.flags,bitstream.dtsFrame);
+	uint32_t len, flags;
+	uint8_t ret;
+	ADMBitstream bitstream(_incoming->getInfo()->width * _incoming->getInfo()->height * 3);
+
+	bitstream.data = _videoBuffer;
+	bitstream.cleanup(frame);
+
+	if (frame >= _togo)
+	{
+		if (_encode->getRequirements() & ADM_ENC_REQ_NULL_FLUSH)
+			ret = _encode->encode(UINT32_MAX, &bitstream);
+	}
+	else
+		ret = _encode->encode(frame, &bitstream);
+
+	if (!ret)
+	{
+		printf("OgmWrite: Error encoding frame %d\n",frame);
+		return -1;
+	}
+
+	if (bitstream.len > 0)
+	{
+		encoding_gui->setFrame(frame >= _togo ? _togo - 1 : frame, bitstream.len, bitstream.out_quantizer, _togo);
+
+		if (!videoStream->write(bitstream.len, _videoBuffer, bitstream.flags, bitstream.dtsFrame))
+			return -1;
+	}
+
+	return bitstream.len;
 }
 //___________________________________________________
 ADM_ogmWriteProcess::ADM_ogmWriteProcess( void)
 {
 	_incoming=NULL;
-	_encode=NULL;
 }
 //___________________________________________________
 ADM_ogmWriteProcess::~ADM_ogmWriteProcess()

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-20 18:04:35 UTC (rev 4385)
@@ -138,6 +138,7 @@
 	else
 	{
 		previewDialog = new Ui_seekablePreviewWindow(this, videofilters[itag].filter, previewFrameIndex);
+		connect(previewDialog, SIGNAL(accepted()), this, SLOT(closePreview()));
 
 		if (previewDialogX != INT_MIN)
 			previewDialog->move(previewDialogX, previewDialogY);

Modified: branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.h
===================================================================
--- branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.h	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.h	2008-09-20 18:04:35 UTC (rev 4385)
@@ -1,10 +1,10 @@
-#ifndef Q_mainfilter_h
-#define Q_mainfilter_h
-
-#include <QtGui/QItemDelegate>
-#include "ui_mainfilter.h"
-#include "Q_seekablePreview.h"
-
+#ifndef Q_mainfilter_h
+#define Q_mainfilter_h
+
+#include <QtGui/QItemDelegate>
+#include "ui_mainfilter.h"
+#include "Q_seekablePreview.h"
+
 class FilterItemEventFilter : public QObject
 {
 	Q_OBJECT
@@ -26,8 +26,8 @@
 public:
 	FilterItemDelegate(QWidget *parent = 0);
 	void paint(QPainter *painter, const QStyleOptionViewItem &option, const QModelIndex &index) const;
-};
-
+};
+
 class filtermainWindow : public QDialog
 {
 	Q_OBJECT
@@ -59,6 +59,7 @@
 	void allDoubleClick( QListWidgetItem  *item);
 	void filterFamilyItemChanged(QListWidgetItem *current, QListWidgetItem *previous);
 	void preview(bool b);
+	void closePreview();
 
 private:
 	uint32_t previewFrameIndex;
@@ -68,6 +69,5 @@
 	void setSelected(int sel);
 	void displayFamily(uint32_t family);
 	void setupFilters(void);
-	void closePreview();
-};
-#endif	// Q_mainfilter_h
+};
+#endif	// Q_mainfilter_h

Modified: branches/avidemux_2.5_branch_gruntster/po/avidemux_it.ts
===================================================================
--- branches/avidemux_2.5_branch_gruntster/po/avidemux_it.ts	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/po/avidemux_it.ts	2008-09-20 18:04:35 UTC (rev 4385)
@@ -305,7 +305,7 @@
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp" line="62"/>
         <source>_Dynamic range compression</source>
-        <translation>Compressione campo _dinamico</translation>
+        <translation>Compressione intervallo _dinamico</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp" line="64"/>
@@ -355,17 +355,17 @@
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp" line="93"/>
         <source>_Gain mode:</source>
-        <translation>Modalit? _Gain:</translation>
+        <translation>Modalit? _guadagno:</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp" line="95"/>
         <source>G_ain value:</source>
-        <translation>Valore G_ain:</translation>
+        <translation>V_alore guadagno:</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp" line="97"/>
         <source>Gain</source>
-        <translation>Gain</translation>
+        <translation>Amplificazione</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp" line="102"/>
@@ -613,7 +613,7 @@
         <translation>_Secondi:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="41"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="22"/>
         <source>_Swap U and V</source>
         <translation>_Inverti U e V</translation>
     </message>
@@ -768,22 +768,22 @@
         <translation>_Qualit?:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="40"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="21"/>
         <source>_Filter strength:</source>
         <translation>Intensit? _filtro:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="51"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="32"/>
         <source>_Horizontal deblocking</source>
         <translation>Deblocking o_rizzontale</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="52"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="33"/>
         <source>_Vertical deblocking</source>
         <translation>Deblocking _verticale</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="53"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="34"/>
         <source>_Deringing</source>
         <translation>_Deringing</translation>
     </message>
@@ -1277,6 +1277,11 @@
         <source>Save Job</source>
         <translation>Salva attivit?</translation>
     </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp" line="38"/>
+        <source>Postprocessing</source>
+        <translation>Postprocessing</translation>
+    </message>
 </context>
 <context>
     <name>@default</name>
@@ -1363,17 +1368,12 @@
 Cambia il codec o usa il filtro mixer per ridurre i canali.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_codecs/ADM_ffmp43.cpp" line="45"/>
-        <source>Internal error finding codec</source>
-        <translation>Errore interno nel cercare i codec</translation>
-    </message>
-    <message>
         <location filename="../avidemux/ADM_codecs/ADM_ffmpeg.cpp" line="49"/>
         <source>Internal error opening codec</source>
         <translation>Errore interno nell&apos;aprire i codec</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_codecs/ADM_ffmpeg.cpp" line="51"/>
+        <location filename="../avidemux/ADM_codecs/ADM_ffmpeg.cpp" line="52"/>
         <source>Internal error with context for  codec.
  Did you use too low / too high target for 2 pass ?</source>
         <translation>Errore interno con il contesto per il codec.  Hai usato un obiettivo troppo basso/alto per 2 passate?</translation>
@@ -1414,7 +1414,7 @@
         <translation>MPEG video</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="131"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="130"/>
         <source>MP4</source>
         <translation>MP4</translation>
     </message>
@@ -1424,17 +1424,17 @@
         <translation>OGM</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="130"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="129"/>
         <source>PSP</source>
         <translation>PSP</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="277"/>
+        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="254"/>
         <source>FLV</source>
         <translation>FLV</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="132"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="131"/>
         <source>MKV</source>
         <translation>MKV</translation>
     </message>
@@ -1444,32 +1444,32 @@
         <translation>DUMMY</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="191"/>
+        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="192"/>
         <source>Wrong output format</source>
         <translation>Formato in uscita errato</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="191"/>
+        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="192"/>
         <source>Select MPEG as the output.</source>
         <translation>Seleziona MPEG come output.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="196"/>
+        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="197"/>
         <source>Wrong video codec</source>
         <translation>Codec video errato</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="197"/>
+        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="198"/>
         <source>Select DVD as the video codec for MPEG TS output.</source>
         <translation>Seleziona DVD come codec video per l&apos;output MPEG TS.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="717"/>
+        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="719"/>
         <source>Only QCIF and subQCIF are allowed for H.263</source>
         <translation>Solo QCIF e subQCIF sono consentiti per H.263</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="909"/>
+        <location filename="../avidemux/ADM_encoder/adm_encConfig.cpp" line="911"/>
         <source>Fatal error</source>
         <translation>Errore fatale</translation>
     </message>
@@ -1504,7 +1504,7 @@
         <translation>Ci sono diversi file mpeg, vuoi unirli?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp" line="250"/>
+        <location filename="../avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp" line="244"/>
         <source>Can&apos;t determine aspect ratio</source>
         <translation>Impossibile determinare le proporzioni</translation>
     </message>
@@ -1647,22 +1647,22 @@
         <translation>Oops</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="211"/>
+        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="239"/>
         <source>can&apos;t create custom directory (%s).</source>
         <translation>impossibile creare la cartella preferiti (%s).</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="235"/>
+        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="263"/>
         <source>can&apos;t create job directory (%s).</source>
         <translation>impossibile creare la cartella attivit? (%s).</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="277"/>
+        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="305"/>
         <source>can&apos;t determine $HOME.</source>
         <translation>impossibile determinare $HOME.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="290"/>
+        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="318"/>
         <source>Cannot create the .avidemux directory</source>
         <translation>Impossibile creare la cartella .avidemux</translation>
     </message>
@@ -1714,12 +1714,12 @@
     <message>
         <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="82"/>
         <source>Mux _every x video frames:</source>
-        <translation>_Esegui muxing ogni x fotogrammi:</translation>
+        <translation>_Esegui muxing ogni N fotogrammi:</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="83"/>
         <source>Mux in _blocks of x bytes:</source>
-        <translation>Esegui muxing in _blocchi di x byte:</translation>
+        <translation>Esegui muxing in _blocchi di X byte:</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="90"/>
@@ -1727,12 +1727,12 @@
         <translation>Opzioni Muxer AVI</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="156"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="155"/>
         <source>Cannot initialize the video stream</source>
         <translation>Impossibile inizializzare il flusso video</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="176"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="175"/>
         <source>Filter init failed</source>
         <translation>Inizializzazione filtro fallita</translation>
     </message>
@@ -1742,59 +1742,54 @@
         <translation>Errore durante la codifica</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="226"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="461"/>
         <source>KeyFrame error</source>
         <translation>Errore fotogramma chiave</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="226"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="461"/>
         <source>The beginning frame is not a key frame.
 Please move the A marker.</source>
         <translation>Il fotogramma iniziale non ? un fotogramma chiave.
 Spostare il segnalibro A.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="145"/>
+        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="144"/>
         <source>Unsupported video</source>
         <translation>Video non supportato</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="145"/>
+        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="144"/>
         <source>Only FLV1 and VP6 video are supported</source>
         <translation>Sono supportati solo i video FLV1 e VP6</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="172"/>
+        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="171"/>
         <source>Unsupported audio</source>
         <translation>Audio non supportato</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="167"/>
+        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="166"/>
         <source>Audio must be mp3 for flv output.</source>
         <translation>L&apos;audio di un video flv deve essere mp3.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="172"/>
+        <location filename="../avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp" line="171"/>
         <source>Frequency must be 44100, 22050 or 11025 Hz.</source>
         <translation>La frequenza deve essere 44100, 22050 o 11025 Hz.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="253"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="230"/>
         <source>Cannot initialize the audio stream</source>
         <translation>Impossibile inizializzare il flusso audio</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="417"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="414"/>
         <source>
  Reuse the existing log-file ?</source>
         <translation>  Riutilizzare il file log esistente?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="453"/>
-        <source>Aborting</source>
-        <translation>Annullamento in corso</translation>
-    </message>
-    <message>
         <location filename="../avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp" line="89"/>
         <source>This is not MPEG compatible</source>
         <translation>Non ? compatibile con MPEG</translation>
@@ -2160,27 +2155,27 @@
         <translation>Vuoi annullare l&apos;indicizzazione?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="580"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="817"/>
         <source>Partial Start Frame:</source>
         <translation>Fotogramma di inizio:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="581"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="818"/>
         <source>Partial End Frame:</source>
         <translation>Fotogramma di fine:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="582"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="819"/>
         <source>Configure child</source>
         <translation>Configura filtro parziale</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="585"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="822"/>
         <source>Partial Video Filter</source>
         <translation>Filtro video parziale</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp" line="876"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp" line="885"/>
         <source>%c (%02d)</source>
         <translation>%c (%02d)</translation>
     </message>
@@ -2242,7 +2237,7 @@
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp" line="189"/>
         <source>_Use systray while encoding</source>
-        <translation>_Usa area di notifica durante la codifica</translation>
+        <translation>Rid_uci nell&apos;area di notifica durante la codifica</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp" line="190"/>
@@ -2595,42 +2590,42 @@
         <translation>Preferenze</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="89"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="98"/>
         <source>_Subtitle file:</source>
         <translation>File _sottotitoli:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="90"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="99"/>
         <source>_Font (TTF):</source>
         <translation>Carattere (_TTF):</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="105"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="114"/>
         <source>_Encoding:</source>
         <translation>Co_difica:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="107"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="116"/>
         <source>S_elect C_olor</source>
         <translation>Seleziona co_lore</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="108"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="117"/>
         <source>Set Size and _Position</source>
         <translation>Imposta dimensione e _posizione</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="109"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="118"/>
         <source>_Auto split</source>
         <translation>A capo _automatico</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="110"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="119"/>
         <source>_Delay (ms):</source>
         <translation>_Ritardo (ms):</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="113"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="122"/>
         <source>Subtitler</source>
         <translation>Sottotitolatore</translation>
     </message>
@@ -3347,12 +3342,12 @@
         <translation>Seleziona la cartella filtri</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="89"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="98"/>
         <source>Select Subtitle file</source>
         <translation>Seleziona un file sottotitoli</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="90"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="99"/>
         <source>Select TTF file</source>
         <translation>Seleziona un file TTF</translation>
     </message>
@@ -4189,7 +4184,7 @@
     <message>
         <location filename="../avidemux/ADM_filter/filter_declaration.cpp" line="186"/>
         <source>&quot;Erase&quot; arbitrary areas of each frame</source>
-        <translation>&quot;Cancella&quot; aree arbitrarie di ogni fotogramma</translation>
+        <translation>&quot;Cancella&quot; aree arbitrarie di ogni fotogramma.</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_filter/filter_declaration.cpp" line="98"/>
@@ -4302,47 +4297,47 @@
         <translation>MJPEG (lavc)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="314"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="332"/>
         <source>VCD (lavc)</source>
         <translation>VCD (lavc)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="374"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="392"/>
         <source>DVD (lavc)</source>
         <translation>DVD (lavc)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="434"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="452"/>
         <source>SVCD (lavc)</source>
         <translation>SVCD (lavc)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="461"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="479"/>
         <source>VCD (mpeg2enc)</source>
         <translation>VCD (mpeg2enc)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="493"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="511"/>
         <source>SVCD (mpeg2enc)</source>
         <translation>SVCD (mpeg2enc)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="512"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="530"/>
         <source>MPEG-2 requant</source>
         <translation>MPEG-2 requant</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="671"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="689"/>
         <source>MPEG-4 ASP (Xvid4)</source>
         <translation>MPEG-4 ASP (Xvid4)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="812"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="830"/>
         <source>MPEG-4 AVC (x264)</source>
         <translation>MPEG-4 AVC (x264)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="829"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="847"/>
         <source>dummy</source>
         <translation>dummy</translation>
     </message>
@@ -4352,77 +4347,77 @@
         <translation>Copia</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="485"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="496"/>
         <source>DTS</source>
         <translation>DTS</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="487"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="498"/>
         <source>MP2</source>
         <translation>MP2</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="488"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="499"/>
         <source>MP3</source>
         <translation>MP3</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="489"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="500"/>
         <source>WMA</source>
         <translation>WMA</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="490"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="501"/>
         <source>LPCM</source>
         <translation>LPCM</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="491"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="502"/>
         <source>AC3</source>
         <translation>AC3</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="492"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="503"/>
         <source>Ogg Vorbis</source>
         <translation>Ogg Vorbis</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="494"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="505"/>
         <source>AAC</source>
         <translation>AAC</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="495"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="506"/>
         <source>QDM2</source>
         <translation>QDM2</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="496"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="507"/>
         <source>AMR-NB</source>
         <translation>AMR-NB</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="497"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="508"/>
         <source>MSADPCM</source>
         <translation>MSADPCM</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="498"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="509"/>
         <source>ULAW</source>
         <translation>ULAW</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="499"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="510"/>
         <source>IMA ADPCM</source>
         <translation>IMA ADPCM</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="500"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="511"/>
         <source>8-bit PCM</source>
         <translation>PCM 8-bit</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="502"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="513"/>
         <source>Unknown codec</source>
         <translation>Codec sconosciuto</translation>
     </message>
@@ -4437,12 +4432,12 @@
         <translation>Codifica in corso</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="426"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="422"/>
         <source>1st Pass</source>
         <translation>1a passata</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="483"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="493"/>
         <source>2nd Pass</source>
         <translation>2a passata</translation>
     </message>
@@ -4527,7 +4522,7 @@
         <translation>Passata 2/2</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="539"/>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="557"/>
         <source>DVD (mpeg2enc)</source>
         <translation>DVD (mpeg2enc)</translation>
     </message>
@@ -4566,7 +4561,7 @@
 Puoi farlo successivamente con \&quot;Audio -&gt; Crea time map VBR\&quot;.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="603"/>
+        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="631"/>
         <source>%s already exists.
 
 Do you want to replace it?</source>
@@ -4575,62 +4570,47 @@
 Vuoi sostituirlo?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="644"/>
+        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="672"/>
         <source>It is possible that you are trying to overwrite an input file!</source>
         <translation>? possibile che tu stia provando a sovrascrivere un file di ingresso!</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="655"/>
+        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="683"/>
         <source>Cannot write the file</source>
         <translation>Impossibile scrivere il file</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="655"/>
+        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="683"/>
         <source>No write access to &quot;%s&quot;.</source>
         <translation>Divieto di scrittura per \&quot;%s\&quot;.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="51"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="53"/>
         <source>Chinese Simplified (GB2312)</source>
         <translation>Cinese semplificato (GB2312)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="52"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="54"/>
         <source>Chinese Traditional (Big5)</source>
         <translation>Cinese tradizionale (Big5)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="53"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="55"/>
         <source>Cyrillic</source>
         <translation>Cirillico</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="54"/>
-        <source>Czech</source>
-        <translation>Ceco</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="55"/>
-        <source>German</source>
-        <translation>Tedesco</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="56"/>
-        <source>Latin-1</source>
-        <translation>Latin-1</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="57"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="60"/>
         <source>Slovene</source>
         <translation>Sloveno</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="58"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="62"/>
         <source>UTF-8</source>
         <translation>UTF-8</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="59"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="63"/>
         <source>UTF-16</source>
         <translation>UTF-16</translation>
     </message>
@@ -4670,17 +4650,17 @@
         <translation>Cambia frame rate</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="264"/>
+        <location filename="../avidemux/ADM_osSupport/ADM_fileio.cpp" line="292"/>
         <source>Can&apos;t determine the Application Data folder.</source>
         <translation>Impossibile determinare la cartella Application Data.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="271"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="248"/>
         <source>Invalid audio stream detected</source>
         <translation>Rilevato flusso audio non valido</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="271"/>
+        <location filename="../avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp" line="248"/>
         <source>The audio stream may be invalid for this container.
 
 Continue anyway?</source>
@@ -4701,8 +4681,53 @@
     <message>
         <location filename="../avidemux/ADM_filter/filter_declaration.cpp" line="190"/>
         <source>Print frame number directly in image</source>
-        <translation>Stampa numero fotogramma direttamente sull&apos;immagine</translation>
+        <translation>Stampa numero fotogramma direttamente sull&apos;immagine.</translation>
     </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="51"/>
+        <source>Arabic</source>
+        <translation>Arabo</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="52"/>
+        <source>Baltic</source>
+        <translation>Baltico</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="56"/>
+        <source>Latin-1 (Western European)</source>
+        <translation>Latino-1 (Europa occidentale)</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="57"/>
+        <source>Latin-2 (Central European)</source>
+        <translation>Latino-2 (Europa centrale)</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="58"/>
+        <source>Greek</source>
+        <translation>Greco</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="59"/>
+        <source>Hebrew</source>
+        <translation>Ebraico</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp" line="61"/>
+        <source>Turkish</source>
+        <translation>Turco</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_codecs/ADM_ffmp43.cpp" line="45"/>
+        <source>Internal error finding codec &apos;&apos;</source>
+        <translation>Errore interno nel cercare il codec &apos;&apos;</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_encoder/ADM_encCodecDesc.h" line="272"/>
+        <source>Y800 (lavc)</source>
+        <translation>Y800 (lavc)</translation>
+    </message>
 </context>
 <context>
     <name>ADMImage</name>
@@ -4993,12 +5018,12 @@
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp" line="87"/>
         <source>Top</source>
-        <translation>Alto</translation>
+        <translation>Superiore</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp" line="88"/>
         <source>Bottom</source>
-        <translation>Basso</translation>
+        <translation>Inferiore</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp" line="92"/>
@@ -5244,7 +5269,7 @@
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidMosaic.cpp" line="93"/>
         <source>Show _frame</source>
-        <translation>Mostra _fotogramma</translation>
+        <translation>Mostra numero _fotogramma</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidMosaic.cpp" line="98"/>
@@ -5917,7 +5942,7 @@
         <source>If the file is using B-frames as reference it can lead to a crash or stuttering.
 Avidemux can use another mode which is safe but YOU WILL LOSE FRAME ACCURACY.
 Do you want to use that mode?</source>
-        <translation>Se il file sta utilizzando un fotogramma-B come riferimento, potrebbe causare un crash o una riproduzione a scatti.
+        <translation>Se il file sta utilizzando fotogrammi-B come riferimento, potrebbe causare un crash o una riproduzione a scatti.
 Avidemux pu? utilizzare un&apos;altra modalit? pi? sicura, ma PERDERAI PRECISIONE NEI FOTOGRAMMI.
 Vuoi usare questa modalit??</translation>
     </message>
@@ -6011,22 +6036,22 @@
 <context>
     <name>ADM_ogmWrite</name>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="112"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="113"/>
         <source>File error</source>
         <translation>Errore file</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="112"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="113"/>
         <source>Cannot open &quot;%s&quot; for writing.</source>
         <translation>Impossibile aprire &quot;%s&quot; per la scrittura.</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="126"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="127"/>
         <source>Could not initialize video</source>
         <translation>Impossibile avviare il video</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="134"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="135"/>
         <source>Could not initialize audio</source>
         <translation>Impossibile avviare l&apos;audio</translation>
     </message>
@@ -6041,7 +6066,7 @@
         <translation>Copia</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="119"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp" line="120"/>
         <source>OGM</source>
         <translation>OGM</translation>
     </message>
@@ -6062,29 +6087,29 @@
 <context>
     <name>ADM_ogmWriteProcess</name>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="76"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="78"/>
         <source>Filter init failed</source>
         <translation>Inizializzazione filtro fallita</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="100"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="103"/>
         <source>
  Reuse the existing log-file ?</source>
         <translation>
  Riutilizzare il file log esistente?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="111"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="114"/>
         <source>Pass one</source>
         <translation>Passata 1</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="139"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="163"/>
         <source>Pass 2</source>
         <translation>Passata 2</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="143"/>
+        <location filename="../avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp" line="167"/>
         <source>Encoding</source>
         <translation>Codifica in corso</translation>
     </message>
@@ -6183,12 +6208,12 @@
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp" line="107"/>
         <source>Top</source>
-        <translation>Alto</translation>
+        <translation>Superiore</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp" line="108"/>
         <source>Bottom</source>
-        <translation>Basso</translation>
+        <translation>Inferiore</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp" line="111"/>
@@ -6491,12 +6516,12 @@
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidDGbob.cpp" line="81"/>
         <source>Top</source>
-        <translation>Alto</translation>
+        <translation>Superiore</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidDGbob.cpp" line="82"/>
         <source>Bottom</source>
-        <translation>Basso</translation>
+        <translation>Inferiore</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidDGbob.cpp" line="85"/>
@@ -6547,22 +6572,22 @@
 <context>
     <name>DIA_encoding</name>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="177"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="218"/>
         <source>Shutting down</source>
         <translation>Arresto in corso</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="466"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="510"/>
         <source>The encoding is paused. Do you want to resume or abort?</source>
         <translation>La codifica ? in pausa. Vuoi ripristinarla o annullarla?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="467"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="511"/>
         <source>Resume</source>
         <translation>Ripristina</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="467"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="511"/>
         <source>Abort</source>
         <translation>Annulla</translation>
     </message>
@@ -6736,41 +6761,31 @@
         <translation>Luminosit?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="13"/>
-        <source>Dialog</source>
-        <translation>Finestra</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="35"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="83"/>
         <source>Reset</source>
         <translation>Ripristina</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="42"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="111"/>
         <source>Left:</source>
         <translation>Sinistra:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="49"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="40"/>
         <source>Top:</source>
         <translation>Alto:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="56"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="104"/>
         <source>Bottom:</source>
         <translation>Basso:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="66"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="33"/>
         <source>Right:</source>
         <translation>Destra:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="92"/>
-        <source>AutCrop</source>
-        <translation>AutoCrop</translation>
-    </message>
-    <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/encoding.ui" line="13"/>
         <source>Encoding...</source>
         <translation>Codifica in corso...</translation>
@@ -7004,7 +7019,7 @@
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/props.ui" line="117"/>
         <source>Codec 4CC:</source>
-        <translation>4CC Codec:</translation>
+        <translation>4CC codec:</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/props.ui" line="127"/>
@@ -7069,80 +7084,40 @@
     <message>
         <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="13"/>
         <source>Resize</source>
-        <translation>Ridimensiona</translation>
+        <translation>Ridimensionamento</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="42"/>
-        <source>Error X : 0.00</source>
-        <translation>Errore X : 0.00</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="49"/>
-        <source>Error Y: 0.00</source>
-        <translation>Errore Y : 0.00</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="86"/>
-        <source>16 round up</source>
-        <translation>Arrotonda a 16</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="103"/>
-        <source>Width</source>
-        <translation>Larghezza</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="110"/>
-        <source>Height</source>
-        <translation>Altezza</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="147"/>
-        <source>Source A:R</source>
-        <translation>Sorgente A/R</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="154"/>
-        <source>Destination A/R</source>
-        <translation>Destinazione A/R</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="161"/>
-        <source>Resize Method</source>
-        <translation>Metodo di ridimensionam.</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="170"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="307"/>
         <source>Percent</source>
         <translation>          %</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="205"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="105"/>
         <source>1:1</source>
         <translation>1:1</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="210"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="110"/>
         <source>4:3</source>
         <translation>4:3</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="215"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="115"/>
         <source>16:9</source>
         <translation>16:9</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="224"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="443"/>
         <source>Bilinear</source>
         <translation>Bilineare</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="229"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="448"/>
         <source>Bicubic</source>
-        <translation>Bicubica</translation>
+        <translation>Bicubico</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="234"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="453"/>
         <source>Lanzcos3</source>
         <translation>Lanzcos3</translation>
     </message>
@@ -7182,130 +7157,225 @@
         <translation>Gestore filtri video</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="61"/>
-        <source>&amp;SVCD res</source>
-        <translation>Ris. &amp;SVCD</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="85"/>
-        <source>&amp;VCD res</source>
-        <translation>Ris. &amp;VCD</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="109"/>
-        <source>&amp;Half D1 res</source>
-        <translation>Ris. &amp;Half D1</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="133"/>
-        <source>&amp;DVD res</source>
-        <translation>Ris. &amp;DVD</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="244"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="199"/>
         <source>Transform</source>
         <translation>Trasforma</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="252"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="207"/>
         <source>Interlacing</source>
         <translation>Interlacciamento</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="260"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="215"/>
         <source>Colors</source>
         <translation>Colori</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="268"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="223"/>
         <source>Noise</source>
         <translation>Rumore</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="276"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="231"/>
         <source>Sharpness</source>
         <translation>Nitidezza</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="284"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="239"/>
         <source>Subtitles</source>
         <translation>Sottotitoli</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="292"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="247"/>
         <source>Miscellaneous</source>
         <translation>Varie</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="300"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="255"/>
         <source>External</source>
         <translation>Esterni</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="335"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="290"/>
         <source>&lt;big&gt;&lt;b&gt;Active Filters&lt;/b&gt;&lt;/big&gt;</source>
         <translation>&lt;big&gt;&lt;b&gt;Filtri attivi&lt;/b&gt;&lt;/big&gt;</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="395"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="347"/>
         <source>C&amp;onfigure</source>
         <translation>C&amp;onfigura</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="410"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="362"/>
         <source>P&amp;artial</source>
         <translation>P&amp;arziale</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="417"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="372"/>
         <source>Load</source>
         <translation>Carica</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="427"/>
-        <source>Save</source>
-        <translation>Salva</translation>
-    </message>
-    <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="437"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="385"/>
         <source>Save Script</source>
         <translation>Salva script</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="447"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="398"/>
         <source>Down</source>
         <translation>Gi?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="457"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="411"/>
         <source>Up</source>
         <translation>Su</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="467"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="424"/>
         <source>Remove</source>
         <translation>Rimuovi</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="500"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="460"/>
         <source>Add</source>
         <translation>Aggiungi</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="523"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="483"/>
         <source>&lt;big&gt;&lt;b&gt;Available Filters&lt;/b&gt;&lt;/big&gt;</source>
         <translation>&lt;big&gt;&lt;b&gt;Filtri disponibili&lt;/b&gt;&lt;/big&gt;</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="572"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="532"/>
         <source>&amp;Preview</source>
         <translation>Ante&amp;prima</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="582"/>
-        <source>&amp;Close</source>
-        <translation>&amp;Chiudi</translation>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="13"/>
+        <source>Crop</source>
+        <translation>Crop</translation>
     </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/crop.ui" line="141"/>
+        <source>Auto Crop</source>
+        <translation>Auto Crop</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="25"/>
+        <source>Aspect Ratio</source>
+        <translation>Proporzioni</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="37"/>
+        <source>Lock Aspect Ratio</source>
+        <translation>Blocca proporzioni</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="55"/>
+        <source>Source:</source>
+        <translation>Sorgente:</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="97"/>
+        <source>Destination:</source>
+        <translation>Destinazione:</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="141"/>
+        <source>Resize Dimensions</source>
+        <translation>Dimensioni</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="161"/>
+        <source>Width:</source>
+        <translation>Larghezza:</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="197"/>
+        <source>Height:</source>
+        <translation>Altezza:</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="232"/>
+        <source>Round to the Nearest Multiple of 16</source>
+        <translation>Arrotonda al pi? vicino multiplo di 16</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="287"/>
+        <source>1%</source>
+        <translation>1%</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="327"/>
+        <source>200%</source>
+        <translation>200%</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="377"/>
+        <source>Error X / Y:</source>
+        <translation>Errore X / Y:</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="384"/>
+        <source>0.00 / 0.00</source>
+        <translation>0.00 / 0.00</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/resizing.ui" line="435"/>
+        <source>Resize Method:</source>
+        <translation>Metodo di ridimensionamento:</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="61"/>
+        <source>&amp;SVCD Res</source>
+        <translation>Ris. &amp;SVCD</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="85"/>
+        <source>&amp;VCD Res</source>
+        <translation>Ris. &amp;VCD</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="109"/>
+        <source>&amp;Half D1 Res</source>
+        <translation>Ris. &amp;Half D1</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="133"/>
+        <source>&amp;DVD Res</source>
+        <translation>Ris. &amp;DVD</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="369"/>
+        <source>Open Script</source>
+        <translation>Apri script</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="382"/>
+        <source>Save Script As</source>
+        <translation>Salva script con nome</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="395"/>
+        <source>Move Filter Down</source>
+        <translation>Sposta il filtro verso il basso</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="408"/>
+        <source>Move Filter Up</source>
+        <translation>Sposta il filtro verso l&apos;alto</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="421"/>
+        <source>Remove Filter</source>
+        <translation>Rimuovi filtro</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/mainfilter.ui" line="457"/>
+        <source>Add Filter</source>
+        <translation>Aggiungi filtro</translation>
+    </message>
 </context>
 <context>
     <name>DialogEq2</name>
@@ -7444,7 +7514,7 @@
 <context>
     <name>EncoderCopy</name>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encCopy.cpp" line="91"/>
+        <location filename="../avidemux/ADM_encoder/adm_encCopy.cpp" line="94"/>
         <source>Copy</source>
         <translation>Copia</translation>
     </message>
@@ -7452,7 +7522,7 @@
 <context>
     <name>EncoderDivx</name>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encdivx.h" line="52"/>
+        <location filename="../avidemux/ADM_encoder/adm_encdivx.h" line="53"/>
         <source>DivX</source>
         <translation>DivX</translation>
     </message>
@@ -7460,7 +7530,7 @@
 <context>
     <name>EncoderFFMPEG</name>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encffmpeg.h" line="47"/>
+        <location filename="../avidemux/ADM_encoder/adm_encffmpeg.h" line="48"/>
         <source>LavCodec</source>
         <translation>LavCodec</translation>
     </message>
@@ -7468,12 +7538,12 @@
 <context>
     <name>EncoderFFMPEGDV</name>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encffmpeg.cpp" line="261"/>
+        <location filename="../avidemux/ADM_encoder/adm_encffmpeg.cpp" line="278"/>
         <source>Incompatible settings</source>
         <translation>Impostazioni incompatibili</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encffmpeg.cpp" line="261"/>
+        <location filename="../avidemux/ADM_encoder/adm_encffmpeg.cpp" line="278"/>
         <source>At the moment, the DV codec only accepts 720*576 at 25</source>
         <translation>Al momento, il codec DV accetta solo 720*576 at 25</translation>
     </message>
@@ -7481,7 +7551,7 @@
 <context>
     <name>EncoderMjpeg</name>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encmjpeg.h" line="60"/>
+        <location filename="../avidemux/ADM_encoder/adm_encmjpeg.h" line="61"/>
         <source>MJPEG</source>
         <translation>MJPEG</translation>
     </message>
@@ -7489,7 +7559,7 @@
 <context>
     <name>EncoderMpeg2enc</name>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encmpeg2enc.h" line="57"/>
+        <location filename="../avidemux/ADM_encoder/adm_encmpeg2enc.h" line="58"/>
         <source>MPEG</source>
         <translation>MPEG</translation>
     </message>
@@ -7497,7 +7567,7 @@
 <context>
     <name>EncoderRequant</name>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encRequant.cpp" line="98"/>
+        <location filename="../avidemux/ADM_encoder/adm_encRequant.cpp" line="101"/>
         <source>Requant</source>
         <translation>Requant</translation>
     </message>
@@ -7521,7 +7591,7 @@
 <context>
     <name>EncoderXvid4</name>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encXvid4.h" line="62"/>
+        <location filename="../avidemux/ADM_encoder/adm_encXvid4.h" line="63"/>
         <source>Xvid4</source>
         <translation>Xvid4</translation>
     </message>
@@ -7529,7 +7599,7 @@
 <context>
     <name>EncoderYV12</name>
     <message>
-        <location filename="../avidemux/ADM_encoder/adm_encyv12.h" line="69"/>
+        <location filename="../avidemux/ADM_encoder/adm_encyv12.h" line="70"/>
         <source>YV12</source>
         <translation>YV12</translation>
     </message>
@@ -7537,32 +7607,32 @@
 <context>
     <name>GenericAviSave</name>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="188"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="189"/>
         <source>Error initalizing audio filters</source>
         <translation>Errore di inizializzazione filtri audio</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="197"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="198"/>
         <source>Error initalizing video filters</source>
         <translation>Errore di inizializzazione filtri video</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="446"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="457"/>
         <source>Cannot initiate save</source>
         <translation>Impossibile iniziare il salvataggio</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="256"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="267"/>
         <source>None</source>
         <translation>Nessuno</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="367"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="378"/>
         <source>Copy</source>
         <translation>Copia</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="369"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_avisave.cpp" line="380"/>
         <source>AVI</source>
         <translation>AVI</translation>
     </message>
@@ -7621,7 +7691,7 @@
         <translation>Inizializzazione filtro fallita</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp" line="127"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp" line="128"/>
         <source>
  Reuse the existing log-file ?</source>
         <translation>
@@ -7633,17 +7703,17 @@
         <translation>Annullamento in corso</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp" line="136"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp" line="137"/>
         <source>1st Pass</source>
         <translation>1a passata</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp" line="246"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp" line="267"/>
         <source>Encoding</source>
         <translation>Codifica in corso</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp" line="250"/>
+        <location filename="../avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp" line="269"/>
         <source>2nd Pass</source>
         <translation>2a passata</translation>
     </message>
@@ -7687,12 +7757,12 @@
 <context>
     <name>MP4Header</name>
     <message>
-        <location filename="../avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp" line="594"/>
+        <location filename="../avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp" line="631"/>
         <source>Problem reading SVQ3 headers</source>
         <translation>Problema di lettura delle intestazioni SVQ3</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp" line="346"/>
+        <location filename="../avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp" line="345"/>
         <source>No stts table</source>
         <translation>Nessun table stts</translation>
     </message>
@@ -7720,7 +7790,7 @@
         <translation>Configura</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2003"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2016"/>
         <source>Filters</source>
         <translation>Filtri</translation>
     </message>
@@ -7735,840 +7805,845 @@
         <translation>&amp;Ritardo:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="454"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="467"/>
         <source>&lt;b&gt;Format&lt;/b&gt;</source>
         <translation>&lt;b&gt;Formato&lt;/b&gt;</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1407"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1420"/>
         <source>...</source>
         <translation>...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="967"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="980"/>
         <source>Frame:</source>
         <translation>Fotogramma:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="992"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1005"/>
         <source>0</source>
         <translation>0</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1014"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1027"/>
         <source>/ 0</source>
         <translation>/ 0</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1054"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1067"/>
         <source>Time:</source>
         <translation>Tempo:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1073"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1086"/>
         <source>00:00:00.000</source>
         <translation>00:00:00.000</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1089"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1102"/>
         <source>/ 00:00:00.000</source>
         <translation>/ 00:00:00.000</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1123"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1136"/>
         <source>Frame Type:</source>
         <translation>Tipo di fotogramma:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1136"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1149"/>
         <source>?</source>
         <translation>?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1232"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1245"/>
         <source>Selection</source>
         <translation>Selezione</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1258"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1271"/>
         <source> B:</source>
         <translation> B:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1282"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1295"/>
         <source> A:</source>
         <translation> A:</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1345"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1358"/>
         <source>000000</source>
         <translation>000000</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1462"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1475"/>
         <source>&amp;Help</source>
         <translation>A&amp;iuto</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1469"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1482"/>
         <source>Vi&amp;deo</source>
         <translation>Vi&amp;deo</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1479"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1492"/>
         <source>&amp;Audio</source>
         <translation>&amp;Audio</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1490"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1503"/>
         <source>&amp;File</source>
         <translation>&amp;File</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1494"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1507"/>
         <source>&amp;Recent Files</source>
         <translation>File &amp;recenti</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1503"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1516"/>
         <source>&amp;Save</source>
         <translation>&amp;Salva</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1531"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1544"/>
         <source>&amp;Tools</source>
         <translation>&amp;Strumenti</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1546"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1559"/>
         <source>&amp;Edit</source>
         <translation>&amp;Modifica</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1562"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1575"/>
         <source>&amp;View</source>
         <translation>Visua&amp;lizza</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1566"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1579"/>
         <source>&amp;Preview Mode</source>
         <translation>&amp;Modalit? anteprima</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1583"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1596"/>
         <source>&amp;Custom</source>
         <translation>&amp;Preferiti</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1588"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1601"/>
         <source>&amp;Go</source>
         <translation>&amp;Vai</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1608"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1621"/>
         <source>A&amp;uto</source>
         <translation>A&amp;uto</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1671"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1684"/>
         <source>&amp;Open...</source>
         <translation>&amp;Apri...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1674"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1687"/>
         <source>Ctrl+O</source>
         <translation>Ctrl+O</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1679"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1692"/>
         <source>&amp;Append...</source>
         <translation>A&amp;ggiungi...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1682"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1695"/>
         <source>Ctrl+Alt+A</source>
         <translation>Ctrl+Alt+A</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1687"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1700"/>
         <source>&amp;Quit</source>
         <translation>&amp;Esci</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1692"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1705"/>
         <source>Cu&amp;t</source>
         <translation>&amp;Taglia</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1695"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1708"/>
         <source>Ctrl+X</source>
         <translation>Ctrl+X</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1700"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1713"/>
         <source>&amp;Copy</source>
         <translation>&amp;Copia</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1703"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1716"/>
         <source>Ctrl+C</source>
         <translation>Ctrl+C</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1708"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1721"/>
         <source>&amp;Paste</source>
         <translation>&amp;Incolla</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1711"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1724"/>
         <source>Ctrl+V</source>
         <translation>Ctrl+V</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1716"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1729"/>
         <source>&amp;Delete</source>
         <translation>&amp;Elimina</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1719"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1732"/>
         <source>Del</source>
         <translation>Canc</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1733"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1746"/>
         <source>Set Marker A</source>
         <translation>Imposta segnalibro A</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1736"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1749"/>
         <source>[</source>
         <translation>[</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1750"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1763"/>
         <source>Set Marker B</source>
         <translation>Imposta segnalibro B</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1753"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1766"/>
         <source>]</source>
         <translation>]</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1758"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1771"/>
         <source>Pre&amp;ferences...</source>
         <translation>&amp;Preferenze...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1766"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1779"/>
         <source>&amp;Information...</source>
         <translation>&amp;Informazioni...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1769"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1782"/>
         <source>Alt+Return</source>
         <translation>Alt+Invio</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1777"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1790"/>
         <source>Save &amp;Video...</source>
         <translation>Salva &amp;video...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1783"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1796"/>
         <source>Save Video</source>
         <translation>Salva video</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1791"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1804"/>
         <source>Save &amp;BMP Image...</source>
         <translation>Salva immagine &amp;BMP...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1797"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1810"/>
         <source>Save BMP Image</source>
         <translation>Salva immagine BMP</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1802"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1815"/>
         <source>Save &amp;JPEG Image...</source>
         <translation>Salva immagine &amp;JPEG...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1808"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1821"/>
         <source>Save JPEG Image</source>
         <translation>Salva immagine JPEG</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1816"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1829"/>
         <source>&amp;Load/Run Project...</source>
         <translation>&amp;Carica/esegui progetto...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1822"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1835"/>
         <source>Load/Run Project</source>
         <translation>Carica/esegui progetto</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1830"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1843"/>
         <source>Save &amp;Project</source>
         <translation>Salva &amp;progetto</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1836"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1849"/>
         <source>Save Project</source>
         <translation>Salva progetto</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1786"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1799"/>
         <source>Ctrl+S</source>
         <translation>Ctrl+S</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1844"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1857"/>
         <source>Save P&amp;roject As...</source>
         <translation>Salva p&amp;rogetto con nome...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1850"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1863"/>
         <source>Save Project As</source>
         <translation>Salva progetto con nome</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1855"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1868"/>
         <source>Main toolbar</source>
         <translation>Barra degli strumenti principale</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1860"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1873"/>
         <source>A/V toolbar</source>
         <translation>Barra degli strumenti audio/video</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1868"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1881"/>
         <source>&amp;Zoom 1:4</source>
         <translation>&amp;Zoom 1:4</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1871"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1884"/>
         <source>Ctrl+Shift+4</source>
         <translation>Ctrl+Shift+4</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1879"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1892"/>
         <source>Z&amp;oom 1:2</source>
         <translation>Z&amp;oom 1:2</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1882"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1895"/>
         <source>Ctrl+Shift+2</source>
         <translation>Ctrl+Shift+2</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1893"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1906"/>
         <source>Zoom &amp;1:1</source>
         <translation>Zoom &amp;1:1</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1896"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1909"/>
         <source>Ctrl+Alt+1</source>
         <translation>Ctrl+Alt+1</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1904"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1917"/>
         <source>Zoom &amp;2:1</source>
         <translation>Zoom &amp;2:1</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1907"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1920"/>
         <source>Ctrl+Alt+2</source>
         <translation>Ctrl+Alt+2</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1912"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1925"/>
         <source>Zoom 4:1</source>
         <translation>Zoom 4:1</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1917"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1930"/>
         <source>&amp;Decoder Options...</source>
         <translation>Opzioni &amp;decodificatore...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1923"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1936"/>
         <source>Decoder Options</source>
         <translation>Opzioni decodificatore</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1926"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1939"/>
         <source>F3</source>
         <translation>F3</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1931"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1944"/>
         <source>&amp;Postprocessing...</source>
         <translation>&amp;Postprocessing...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1934"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1947"/>
         <source>F4</source>
         <translation>F4</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1939"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1952"/>
         <source>&amp;Frame Rate...</source>
         <translation>&amp;Frame rate...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1945"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1958"/>
         <source>Frame Rate</source>
         <translation>Frame rate</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1992"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2005"/>
         <source>Encoder</source>
         <translation>Codificatore</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1955"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1968"/>
         <source>Fil&amp;ters...</source>
         <translation>Fil&amp;tri...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1958"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1971"/>
         <source>Ctrl+Alt+F</source>
         <translation>Ctrl+Alt+F</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1963"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1976"/>
         <source>&amp;Main Track...</source>
         <translation>Traccia &amp;principale...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1968"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1981"/>
         <source>&amp;Secondary Track...</source>
         <translation>Traccia &amp;secondaria...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1979"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1992"/>
         <source>Build VBR Time Map</source>
         <translation>Crea time map VBR</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1984"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1997"/>
         <source>S&amp;ave...</source>
         <translation>S&amp;alva...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1987"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2000"/>
         <source>Ctrl+Alt+S</source>
         <translation>Ctrl+Alt+S</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="1997"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2010"/>
         <source>&amp;Filters</source>
         <translation>&amp;Filtri</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2014"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2027"/>
         <source>&amp;Calculator...</source>
         <translation>&amp;Calcolatrice...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2017"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2030"/>
         <source>F7</source>
         <translation>F7</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2022"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2035"/>
         <source>&amp;Rebuild I &amp;&amp; B Frames</source>
         <translation>&amp;Ricostruisci fotogrammi I &amp;&amp; B</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2028"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2041"/>
         <source>Rebuild I &amp; B Frames</source>
         <translation>Ricostruisci fotogrammi I &amp;&amp; B</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2033"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2046"/>
         <source>&amp;Bitrate Histogram...</source>
         <translation>Istogramma &amp;bitrate...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2039"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2052"/>
         <source>Bitrate Histogram</source>
         <translation>Istogramma bitrate</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2044"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2057"/>
         <source>&amp;Scan for Black Frames...</source>
         <translation>C&amp;erca fotogrammi neri...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2050"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2063"/>
         <source>Scan for Black Frames</source>
         <translation>Cerca fotogrammi neri</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2055"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2068"/>
         <source>&amp;VOB -&gt; VobSub...</source>
         <translation>&amp;VOB -&gt; VobSub...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2061"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2074"/>
         <source>VOB -&gt; VobSub</source>
         <translation>VOB -&gt; VobSub</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2066"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2079"/>
         <source>&amp;OCR (VobSub -&gt; srt)...</source>
         <translation>&amp;OCR (VobSub -&gt; srt)...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2072"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2085"/>
         <source>OCR (VobSub -&gt; srt)</source>
         <translation>OCR (VobSub -&gt; srt)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2086"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2099"/>
         <source>Stop</source>
         <translation>Stop</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2284"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2297"/>
         <source>P</source>
         <translation>P</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2097"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2110"/>
         <source>P&amp;revious Frame</source>
         <translation>Fotogramma p&amp;recedente</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2100"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2113"/>
         <source>Left</source>
         <translation>Sinistra</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2108"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2121"/>
         <source>&amp;Next Frame</source>
         <translation>Fotogramma &amp;successivo</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2111"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2124"/>
         <source>Right</source>
         <translation>Destra</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2119"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2132"/>
         <source>Pr&amp;evious Intra Frame</source>
         <translation>Fotogramma chiave pr&amp;ecedente</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2125"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2138"/>
         <source>Previous Intra Frame</source>
         <translation>Fotogramma chiave precedente</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2128"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2141"/>
         <source>Down</source>
         <translation>Gi?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2136"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2149"/>
         <source>Next &amp;Intra Frame</source>
         <translation>Fotogramma ch&amp;iave successivo</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2142"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2155"/>
         <source>Next Intra Frame</source>
         <translation>Fotogramma chiave successivo</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2145"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2158"/>
         <source>Up</source>
         <translation>Su</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2153"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2166"/>
         <source>Previou&amp;s Black Frame</source>
         <translation>Fotogramma nero pre&amp;cedente</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2159"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2172"/>
         <source>Previous Black Frame</source>
         <translation>Fotogramma nero precedente</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2167"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2180"/>
         <source>Ne&amp;xt Black Frame</source>
         <translation>Fotogramma nero successi&amp;vo</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2173"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2186"/>
         <source>Next Black Frame</source>
         <translation>Fotogramma nero successivo</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2181"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2194"/>
         <source>&amp;First Frame</source>
         <translation>Primo &amp;fotogramma</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2184"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2197"/>
         <source>Home</source>
         <translation>Home</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2192"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2205"/>
         <source>&amp;Last Frame</source>
         <translation>&amp;Ultimo fotogramma</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2195"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2208"/>
         <source>End</source>
         <translation>Fine</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2203"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2216"/>
         <source>Jump to Marker &amp;A</source>
         <translation>Vai al segnalibro &amp;A</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2209"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2222"/>
         <source>Jump to Marker A</source>
         <translation>Vai al segnalibro A</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2212"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2225"/>
         <source>Ctrl+[</source>
         <translation>Ctrl+[</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2220"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2233"/>
         <source>Jump to Marker &amp;B</source>
         <translation>Vai al segnalibro &amp;B</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2226"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2239"/>
         <source>Jump to Marker B</source>
         <translation>Vai al segnalibro B</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2229"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2242"/>
         <source>Ctrl+]</source>
         <translation>Ctrl+]</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2234"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2247"/>
         <source>Jump to Fra&amp;me...</source>
         <translation>Vai al fotogra&amp;mma...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2237"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2250"/>
         <source>Ctrl+F</source>
         <translation>Ctrl+F</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2242"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2255"/>
         <source>Jump to &amp;Time...</source>
         <translation>Vai al &amp;tempo...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2245"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2258"/>
         <source>Ctrl+T</source>
         <translation>Ctrl+T</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2250"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2263"/>
         <source>&amp;Built-in Support...</source>
         <translation>&amp;Supporto incorporato...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2256"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2269"/>
         <source>Built-in Support</source>
         <translation>Supporto incorporato</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2261"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2274"/>
         <source>&amp;About Avidemux...</source>
         <translation>Informazioni su &amp;Avidemux...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2267"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2280"/>
         <source>About Avidemux</source>
         <translation>Informazioni su Avidemux</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2275"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2288"/>
         <source>&amp;Play/Stop</source>
         <translation>&amp;Play/Stop</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2281"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2294"/>
         <source>Play/Stop</source>
         <translation>Play/Stop</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2289"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2302"/>
         <source>Recent0</source>
         <translation>Recent0</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2294"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2307"/>
         <source>Recent1</source>
         <translation>Recent1</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2299"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2312"/>
         <source>Recent2</source>
         <translation>Recent2</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2304"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2317"/>
         <source>Recent3</source>
         <translation>Recent3</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2309"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2322"/>
         <source>&amp;VCD</source>
         <translation>&amp;VCD</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2314"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2327"/>
         <source>&amp;SVCD</source>
         <translation>&amp;SVCD</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2319"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2332"/>
         <source>&amp;DVD</source>
         <translation>&amp;DVD</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2324"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2337"/>
         <source>&amp;PSP</source>
         <translation>&amp;PSP</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2329"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2342"/>
         <source>PSP (&amp;H.264)</source>
         <translation>PSP (&amp;H.264)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2335"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2348"/>
         <source>PSP (H.264)</source>
         <translation>PSP (H.264)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2340"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2353"/>
         <source>Add to &amp;Joblist...</source>
         <translation>Aggiungi alla &amp;lista attivit?...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2346"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2359"/>
         <source>Add to Joblist</source>
         <translation>Aggiungi alla lista attivit?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2351"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2364"/>
         <source>View &amp;Joblist...</source>
         <translation>Mostra &amp;lista attivit?...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2357"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2370"/>
         <source>View Joblist</source>
         <translation>Mostra lista attivit?</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2360"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2373"/>
         <source>Ctrl+J</source>
         <translation>Ctrl+J</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2365"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2378"/>
         <source>Co&amp;nnect to avsproxy</source>
         <translation>Co&amp;nnetti a avsproxy</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2371"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2384"/>
         <source>Connect to avsproxy</source>
         <translation>Connetti a avsproxy</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2376"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2389"/>
         <source>&amp;Reset Edits</source>
         <translation>A&amp;nnulla modifiche</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2381"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2394"/>
         <source>Save</source>
         <translation>Salva</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2386"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2399"/>
         <source>OCR (&amp;TS -&gt; srt)...</source>
         <translation>OCR (&amp;TS -&gt; srt)...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2392"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2405"/>
         <source>OCR (TS -&gt; srt)</source>
         <translation>OCR (TS -&gt; srt)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2397"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2410"/>
         <source>Edit &amp;Glyphs...</source>
         <translation>Modifica &amp;glifi...</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2403"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2416"/>
         <source>Edit Glyphs</source>
         <translation>Modifica glifi</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2466"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2479"/>
         <source>&amp;Input</source>
         <translation>&amp;Input</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2471"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2484"/>
         <source>&amp;Output</source>
         <translation>&amp;Output</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2476"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2489"/>
         <source>Si&amp;de</source>
         <translation>&amp;Affiancati lateralmente</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2481"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2494"/>
         <source>&amp;Top</source>
         <translation>Affiancati ver&amp;ticalmente</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2486"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2499"/>
         <source>&amp;Separate</source>
         <translation>&amp;Separati</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2491"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2504"/>
         <source>FLV</source>
         <translation>FLV</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2496"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2509"/>
         <source>IPOD (mpeg4)</source>
         <translation>IPOD (mpeg4)</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2501"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2514"/>
         <source>&amp;Close</source>
         <translation>&amp;Chiudi</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2504"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="2517"/>
         <source>Ctrl+W</source>
         <translation>Ctrl+W</translation>
     </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui" line="432"/>
+        <source>ms</source>
+        <translation>ms</translation>
+    </message>
 </context>
 <context>
     <name>MpegMuxer</name>
@@ -8687,12 +8762,12 @@
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp" line="90"/>
         <source>Top</source>
-        <translation>Alto</translation>
+        <translation>Superiore</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp" line="91"/>
         <source>Bottom</source>
-        <translation>Basso</translation>
+        <translation>Inferiore</translation>
     </message>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp" line="95"/>
@@ -8880,12 +8955,12 @@
 <context>
     <name>encodingWindow</name>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="71"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="103"/>
         <source>Privileges Required</source>
         <translation>Richiesti privilegi</translation>
     </message>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="71"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp" line="103"/>
         <source>Root privileges are required to perform this operation.</source>
         <translation>Sono richesti i privilegi di amministratore per eseguire questa operazione.</translation>
     </message>
@@ -8893,10 +8968,25 @@
 <context>
     <name>filtermainWindow</name>
     <message>
-        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="413"/>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="588"/>
         <source>The filter is already partial</source>
         <translation>Il filtro ? gi? parziale</translation>
     </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="626"/>
+        <source>Load set of filters</source>
+        <translation>Carica gruppo di filtri</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="641"/>
+        <source>Nothing to save</source>
+        <translation>Niente da salvare</translation>
+    </message>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp" line="647"/>
+        <source>Save set of filters</source>
+        <translation>Salva gruppo di filtri</translation>
+    </message>
 </context>
 <context>
     <name>h263Header</name>
@@ -8967,7 +9057,7 @@
 <context>
     <name>lavMuxer</name>
     <message>
-        <location filename="../avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp" line="379"/>
+        <location filename="../avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp" line="381"/>
         <source>Incompatible frame rate</source>
         <translation>Frame rate incompatibile</translation>
     </message>
@@ -9093,6 +9183,14 @@
     </message>
 </context>
 <context>
+    <name>resizeWindow</name>
+    <message>
+        <location filename="../avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp" line="295"/>
+        <source>Width and height cannot be odd</source>
+        <translation>Larghezza e altezza non possono essere dispari</translation>
+    </message>
+</context>
+<context>
     <name>vidBlendRemoval</name>
     <message>
         <location filename="../avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp" line="82"/>

Modified: branches/avidemux_2.5_branch_gruntster/po/it.po
===================================================================
--- branches/avidemux_2.5_branch_gruntster/po/it.po	2008-09-20 15:51:36 UTC (rev 4384)
+++ branches/avidemux_2.5_branch_gruntster/po/it.po	2008-09-20 18:04:35 UTC (rev 4385)
@@ -3,7 +3,7 @@
 "Project-Id-Version: avidemux\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: 2006-10-04 22:09+0300\n"
-"PO-Revision-Date: 2008-07-01 19:02+0100\n"
+"PO-Revision-Date: 2008-09-20 14:19+0100\n"
 "Last-Translator: \n"
 "Language-Team: it\n"
 "MIME-Version: 1.0\n"
@@ -12,7 +12,7 @@
 "X-Generator: KBabel 1.0.1\n"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:42
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:369
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:380
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:515
 msgid "AVI"
 msgstr "AVI"
@@ -42,30 +42,30 @@
 msgstr "MPEG video"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:49
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:493
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:131
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:504
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:130
 msgid "MP4"
 msgstr "MP4"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:50
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:119
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:120
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:519
 msgid "OGM"
 msgstr "OGM"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:51
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:130
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:129
 msgid "PSP"
 msgstr "PSP"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:52
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:188
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:277
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:187
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:254
 msgid "FLV"
 msgstr "FLV"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:53
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:132
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:131
 msgid "MKV"
 msgstr "MKV"
 
@@ -117,81 +117,85 @@
 msgid "MJPEG (lavc)"
 msgstr "MJPEG (lavc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:314
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:272
+msgid "Y800 (lavc)"
+msgstr "Y800 (lavc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:332
 msgid "VCD (lavc)"
 msgstr "VCD (lavc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:374
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:392
 msgid "DVD (lavc)"
 msgstr "DVD (lavc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:434
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:452
 msgid "SVCD (lavc)"
 msgstr "SVCD (lavc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:461
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:479
 msgid "VCD (mpeg2enc)"
 msgstr "VCD (mpeg2enc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:493
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:511
 msgid "SVCD (mpeg2enc)"
 msgstr "SVCD (mpeg2enc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:512
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:530
 msgid "MPEG-2 requant"
 msgstr "MPEG-2 requant"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:539
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:557
 msgid "DVD (mpeg2enc)"
 msgstr "DVD (mpeg2enc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:671
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:689
 msgid "MPEG-4 ASP (Xvid4)"
 msgstr "MPEG-4 ASP (Xvid4)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:812
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:830
 msgid "MPEG-4 AVC (x264)"
 msgstr "MPEG-4 AVC (x264)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:829
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:847
 msgid "dummy"
 msgstr "dummy"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:832
-#: avidemux/ADM_encoder/adm_encCopy.cpp:91
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:271
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:367
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:850
+#: avidemux/ADM_encoder/adm_encCopy.cpp:94
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:282
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:378
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:143
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:195
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:191
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:259
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:280
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:166
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:280
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:301
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:175
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:190
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:236
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:257
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:165
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:257
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:278
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:221
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:225
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:379
 #: avidemux/ADM_outputs/oplug_ogm/op_ogaudio.cpp:90
 #: avidemux/ADM_outputs/oplug_ogm/op_ogsavecopy.cpp:69
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1081
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1121
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1082
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1122
 msgid "Copy"
 msgstr "Copia"
 
-#: avidemux/ADM_encoder/adm_encdivx.h:52
+#: avidemux/ADM_encoder/adm_encdivx.h:53
 msgid "DivX"
 msgstr "DivX"
 
-#: avidemux/ADM_encoder/adm_encffmpeg.h:47
+#: avidemux/ADM_encoder/adm_encffmpeg.h:48
 msgid "LavCodec"
 msgstr "LavCodec"
 
-#: avidemux/ADM_encoder/adm_encmjpeg.h:60
+#: avidemux/ADM_encoder/adm_encmjpeg.h:61
 msgid "MJPEG"
 msgstr "MJPEG"
 
-#: avidemux/ADM_encoder/adm_encmpeg2enc.h:57
+#: avidemux/ADM_encoder/adm_encmpeg2enc.h:58
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:61
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:523
 msgid "MPEG"
@@ -207,11 +211,15 @@
 msgid "Xvid"
 msgstr "Xvid"
 
-#: avidemux/ADM_encoder/adm_encXvid4.h:62
+#: avidemux/ADM_encoder/adm_encXvid4.h:63
 msgid "Xvid4"
 msgstr "Xvid4"
 
-#: avidemux/ADM_encoder/adm_encyv12.h:69
+#: avidemux/ADM_encoder/adm_ency800.h:58
+msgid "Y800"
+msgstr "Y800"
+
+#: avidemux/ADM_encoder/adm_encyv12.h:70
 msgid "YV12"
 msgstr "YV12"
 
@@ -346,14 +354,14 @@
 msgstr "Non attivato."
 
 #: avidemux/ADM_codecs/ADM_ffmp43.cpp:45
-msgid "Internal error finding codec"
-msgstr "Errore interno nel cercare i codec"
+msgid "Internal error finding codec '"
+msgstr "Errore interno nel cercare il codec '"
 
 #: avidemux/ADM_codecs/ADM_ffmpeg.cpp:49
 msgid "Internal error opening codec"
 msgstr "Errore interno nell'aprire i codec"
 
-#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:51
+#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:52
 msgid "Internal error with context for  codec"
 msgstr "Errore interno con il contesto per il codec"
 
@@ -432,7 +440,7 @@
 "Avidemux can use another mode which is safe but YOU WILL LOSE FRAME ACCURACY.\n"
 "Do you want to use that mode?"
 msgstr ""
-"Se il file sta utilizzando un fotogramma-B come riferimento, potrebbe causare un crash o una riproduzione a scatti.\n"
+"Se il file sta utilizzando fotogrammi-B come riferimento, potrebbe causare un crash o una riproduzione a scatti.\n"
 "Avidemux pu? utilizzare un'altra modalit? pi? sicura, ma PERDERAI PRECISIONE NEI FOTOGRAMMI.\n"
 "Vuoi usare questa modalit??"
 
@@ -500,39 +508,39 @@
 msgid "No more supported."
 msgstr "Non pi? supportato."
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:191
+#: avidemux/ADM_encoder/adm_encConfig.cpp:192
 msgid "Wrong output format"
 msgstr "Formato in uscita errato"
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:191
+#: avidemux/ADM_encoder/adm_encConfig.cpp:192
 msgid "Select MPEG as the output."
 msgstr "Seleziona MPEG come output."
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:196
+#: avidemux/ADM_encoder/adm_encConfig.cpp:197
 msgid "Wrong video codec"
 msgstr "Codec video errato"
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:197
+#: avidemux/ADM_encoder/adm_encConfig.cpp:198
 msgid "Select DVD as the video codec for MPEG TS output."
 msgstr "Seleziona DVD come codec video per l'output MPEG TS."
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:717
+#: avidemux/ADM_encoder/adm_encConfig.cpp:719
 msgid "Only QCIF and subQCIF are allowed for H.263"
 msgstr "Solo QCIF e subQCIF sono consentiti per H.263"
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:909
+#: avidemux/ADM_encoder/adm_encConfig.cpp:911
 msgid "Fatal error"
 msgstr "Errore fatale"
 
-#: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
+#: avidemux/ADM_encoder/adm_encffmpeg.cpp:278
 msgid "Incompatible settings"
 msgstr "Impostazioni incompatibili"
 
-#: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
+#: avidemux/ADM_encoder/adm_encffmpeg.cpp:278
 msgid "At the moment, the DV codec only accepts 720*576 at 25"
 msgstr "Al momento, il codec DV accetta solo 720*576 at 25"
 
-#: avidemux/ADM_encoder/adm_encRequant.cpp:98
+#: avidemux/ADM_encoder/adm_encRequant.cpp:101
 msgid "Requant"
 msgstr "Requant"
 
@@ -1038,7 +1046,7 @@
 msgstr "Forza postprocessing."
 
 #: avidemux/ADM_filter/filter_declaration.cpp:159
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:113
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:122
 msgid "Subtitler"
 msgstr "Sottotitolatore"
 
@@ -1143,7 +1151,7 @@
 
 #: avidemux/ADM_filter/filter_declaration.cpp:186
 msgid "\"Erase\" arbitrary areas of each frame"
-msgstr "\"Cancella\" aree arbitrarie di ogni fotogramma"
+msgstr "\"Cancella\" aree arbitrarie di ogni fotogramma."
 
 #: avidemux/ADM_filter/filter_declaration.cpp:187
 msgid "Swiss Army Knife"
@@ -1177,7 +1185,7 @@
 
 #: avidemux/ADM_filter/filter_declaration.cpp:190
 msgid "Print frame number directly in image"
-msgstr "Stampa numero fotogramma direttamente sull'immagine"
+msgstr "Stampa numero fotogramma direttamente sull'immagine."
 
 #: avidemux/ADM_filter/filter_declaration.cpp:195
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:128
@@ -1209,11 +1217,11 @@
 msgid "Size is not (s)QCIF"
 msgstr "La dimensione non ? (s)QCIF"
 
-#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp:594
+#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp:631
 msgid "Problem reading SVQ3 headers"
 msgstr "Problema di lettura delle intestazioni SVQ3"
 
-#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp:346
+#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp:345
 msgid "No stts table"
 msgstr "Nessun table stts"
 
@@ -1221,7 +1229,7 @@
 msgid "There is several mpeg file, append them ?"
 msgstr "Ci sono diversi file mpeg, vuoi unirli?"
 
-#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:250
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:244
 msgid "Can't determine aspect ratio"
 msgstr "Impossibile determinare le proporzioni"
 
@@ -1280,7 +1288,7 @@
 msgid "Indexing"
 msgstr "Indicizzazione"
 
-#: avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp:379
+#: avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp:381
 msgid "Incompatible frame rate"
 msgstr "Frame rate incompatibile"
 
@@ -1299,7 +1307,7 @@
 msgstr "Avvio Ivemux fallito"
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_gettext.cpp:52
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:291
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:292
 msgid "_File"
 msgstr "_File"
 
@@ -1330,9 +1338,9 @@
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
 #: avidemux/ADM_ocr/adm_glyph.cpp:221
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:590
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:618
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:366
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:113
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:107
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:112
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:119
@@ -1348,7 +1356,7 @@
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:366
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:113
 #: avidemux/gtk_gui.cpp:1508
 #, c-format
 msgid "Cannot open \"%s\" for writing."
@@ -1379,8 +1387,8 @@
 msgstr "1:1"
 
 #: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:334
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:599
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:796
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:600
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:797
 msgid "Unknown"
 msgstr "Sconosciuto"
 
@@ -1481,44 +1489,44 @@
 "Vuoi caricarlo?\n"
 "(Sar? eliminato in ogni caso se non lo salvi)"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:211
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:235
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:264
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:277
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:290
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:239
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:263
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:292
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:305
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:318
 #: avidemux/GUI_jobs.cpp:37
 msgid "Oops"
 msgstr "Oops"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:211
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:239
 #, c-format
 msgid "can't create custom directory (%s)."
 msgstr "impossibile creare la cartella preferiti (%s)."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:235
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:263
 #, c-format
 msgid "can't create job directory (%s)."
 msgstr "impossibile creare la cartella attivit? (%s)."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:264
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:292
 msgid "Can't determine the Application Data folder."
 msgstr "Impossibile determinare la cartella Application Data."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:277
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:305
 msgid "can't determine $HOME."
 msgstr "impossibile determinare $HOME."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:290
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:318
 msgid "Cannot create the .avidemux directory"
 msgstr "Impossibile creare la cartella .avidemux"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:590
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:618
 #: avidemux/gtk_gui.cpp:918
 #, c-format
 msgid "Cannot open \"%s\"."
 msgstr "Impossibile aprire \"%s\"."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:603
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:631
 #, c-format
 msgid ""
 "%s already exists.\n"
@@ -1529,16 +1537,16 @@
 "\n"
 "Vuoi sostituirlo?"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:630
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:644
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:658
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:672
 msgid "It is possible that you are trying to overwrite an input file!"
 msgstr "? possibile che tu stia provando a sovrascrivere un file di ingresso!"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:655
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:683
 msgid "Cannot write the file"
 msgstr "Impossibile scrivere il file"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:655
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:683
 #, c-format
 msgid "No write access to \"%s\"."
 msgstr "Divieto di scrittura per \"%s\"."
@@ -1565,7 +1573,7 @@
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:74
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:244
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:846
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:847
 msgid "Normal"
 msgstr "Normale"
 
@@ -1587,30 +1595,30 @@
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:82
 msgid "Mux _every x video frames:"
-msgstr "_Esegui muxing ogni x fotogrammi:"
+msgstr "_Esegui muxing ogni N fotogrammi:"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:83
 msgid "Mux in _blocks of x bytes:"
-msgstr "Esegui muxing in _blocchi di x byte:"
+msgstr "Esegui muxing in _blocchi di X byte:"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:90
 msgid "AVI Muxer Options"
 msgstr "Opzioni Muxer AVI"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:188
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:189
 msgid "Error initalizing audio filters"
 msgstr "Errore di inizializzazione filtri audio"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:197
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:198
 msgid "Error initalizing video filters"
 msgstr "Errore di inizializzazione filtri video"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:256
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:267
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:141
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:189
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:263
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:164
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:284
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:188
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:240
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:163
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:261
 #: avidemux/ADM_outputs/oplug_ogm/op_ogaudio.cpp:70
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:80
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:89
@@ -1619,9 +1627,9 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:377
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:385
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:393
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:554
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:569
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:584
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:555
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:570
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:585
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:225
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1191
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:105
@@ -1632,75 +1640,75 @@
 msgid "None"
 msgstr "Nessuno"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:446
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:457
 #: avidemux/ADM_outputs/oplug_avi/op_avisavecopy.cpp:96
 #: avidemux/ADM_outputs/oplug_avi/op_avisavecopy_pack.cpp:121
 #: avidemux/ADM_outputs/oplug_avi/op_avisavecopy_unpack.cpp:98
 msgid "Cannot initiate save"
 msgstr "Impossibile iniziare il salvataggio"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:485
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:496
 msgid "DTS"
 msgstr "DTS"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:486
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:497
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:289
 msgid "PCM"
 msgstr "PCM"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:487
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:498
 msgid "MP2"
 msgstr "MP2"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:488
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:499
 msgid "MP3"
 msgstr "MP3"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:489
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:500
 msgid "WMA"
 msgstr "WMA"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:490
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:501
 msgid "LPCM"
 msgstr "LPCM"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:491
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:502
 msgid "AC3"
 msgstr "AC3"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:492
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:503
 msgid "Ogg Vorbis"
 msgstr "Ogg Vorbis"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:494
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:505
 msgid "AAC"
 msgstr "AAC"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:495
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:506
 msgid "QDM2"
 msgstr "QDM2"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:496
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:507
 msgid "AMR-NB"
 msgstr "AMR-NB"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:497
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:508
 msgid "MSADPCM"
 msgstr "MSADPCM"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:498
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:509
 msgid "ULAW"
 msgstr "ULAW"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:499
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:510
 msgid "IMA ADPCM"
 msgstr "IMA ADPCM"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:500
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:511
 msgid "8-bit PCM"
 msgstr "PCM 8-bit"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:502
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:513
 msgid "Unknown codec"
 msgstr "Codec sconosciuto"
 
@@ -1721,15 +1729,15 @@
 
 #: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:93
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:149
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:197
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:176
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:76
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:196
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:175
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:78
 msgid "Filter init failed"
 msgstr "Inizializzazione filtro fallita"
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:127
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:417
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:100
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:128
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:414
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:103
 msgid ""
 "\n"
 " Reuse the existing log-file ?"
@@ -1737,27 +1745,26 @@
 "\n"
 " Riutilizzare il file log esistente?"
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:136
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:426
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:137
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:422
 msgid "1st Pass"
 msgstr "1a passata"
 
 #: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:152
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:453
 msgid "Aborting"
 msgstr "Annullamento in corso"
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:246
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:267
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:153
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:201
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:188
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:200
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:187
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:373
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:143
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:167
 msgid "Encoding"
 msgstr "Codifica in corso"
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:250
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:483
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:269
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:493
 msgid "2nd Pass"
 msgstr "2a passata"
 
@@ -1766,8 +1773,8 @@
 msgstr "Copia intelligente"
 
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:135
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:183
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:156
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:182
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:155
 msgid "Cannot initialize the video stream"
 msgstr "Impossibile inizializzare il flusso video"
 
@@ -1775,26 +1782,25 @@
 msgid "Dummy"
 msgstr "Dummy"
 
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:179
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:215
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:227
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:326
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:214
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:353
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:437
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:206
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:321
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:342
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:454
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:352
 msgid "Error while encoding"
 msgstr "Errore durante la codifica"
 
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:190
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:238
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:226
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:213
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:328
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:349
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:461
 msgid "KeyFrame error"
 msgstr "Errore fotogramma chiave"
 
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:190
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:238
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:226
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:213
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:328
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:349
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:461
 msgid ""
 "The beginning frame is not a key frame.\n"
 "Please move the A marker."
@@ -1802,37 +1808,37 @@
 "Il fotogramma iniziale non ? un fotogramma chiave.\n"
 "Spostare il segnalibro A."
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:145
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:144
 msgid "Unsupported video"
 msgstr "Video non supportato"
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:145
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:144
 msgid "Only FLV1 and VP6 video are supported"
 msgstr "Sono supportati solo i video FLV1 e VP6"
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:167
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:172
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:166
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:171
 msgid "Unsupported audio"
 msgstr "Audio non supportato"
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:167
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:166
 msgid "Audio must be mp3 for flv output."
 msgstr "L'audio di un video flv deve essere mp3."
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:172
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:171
 msgid "Frequency must be 44100, 22050 or 11025 Hz."
 msgstr "La frequenza deve essere 44100, 22050 o 11025 Hz."
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:248
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:253
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:225
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:230
 msgid "Cannot initialize the audio stream"
 msgstr "Impossibile inizializzare il flusso audio"
 
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:271
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:248
 msgid "Invalid audio stream detected"
 msgstr "Rilevato flusso audio non valido"
 
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:271
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:248
 msgid ""
 "The audio stream may be invalid for this container.\n"
 "\n"
@@ -1958,11 +1964,11 @@
 msgid "Error in pass 2"
 msgstr "Errore nella passata 2"
 
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:126
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:127
 msgid "Could not initialize video"
 msgstr "Impossibile avviare il video"
 
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:134
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:135
 msgid "Could not initialize audio"
 msgstr "Impossibile avviare l'audio"
 
@@ -1970,11 +1976,11 @@
 msgid "Saving..."
 msgstr "Salvataggio in corso..."
 
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:111
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:114
 msgid "Pass one"
 msgstr "Passata 1"
 
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:139
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:163
 msgid "Pass 2"
 msgstr "Passata 2"
 
@@ -2058,7 +2064,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:62
 msgid "_Dynamic range compression"
-msgstr "Compressione campo _dinamico"
+msgstr "Compressione intervallo _dinamico"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:64
 msgid "_Time shift (ms):"
@@ -2098,16 +2104,16 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:93
 msgid "_Gain mode:"
-msgstr "Modalit? _Gain:"
+msgstr "Modalit? _guadagno:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:95
 msgid "G_ain value:"
-msgstr "Valore G_ain:"
+msgstr "V_alore guadagno:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:97
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:204
 msgid "Gain"
-msgstr "Gain"
+msgstr "Amplificazione"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:102
 msgid "No change"
@@ -2575,7 +2581,7 @@
 msgstr "Configurazione libavcodec MPEG-4"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp:26
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:41
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:22
 msgid "_Swap U and V"
 msgstr "_Inverti U e V"
 
@@ -2678,31 +2684,35 @@
 msgid "Save GlyphSet"
 msgstr "Salva set di glifi"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:40
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:21
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:60
 msgid "_Filter strength:"
 msgstr "Intensit? _filtro:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:51
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:32
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:350
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:72
 msgid "_Horizontal deblocking"
 msgstr "Deblocking o_rizzontale"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:52
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:33
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:351
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:73
 msgid "_Vertical deblocking"
 msgstr "Deblocking _verticale"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:53
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:34
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:74
 msgid "_Deringing"
 msgstr "_Deringing"
 
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:38
+msgid "Postprocessing"
+msgstr "Postprocessing"
+
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:189
 msgid "_Use systray while encoding"
-msgstr "_Usa area di notifica durante la codifica"
+msgstr "Rid_uci nell'area di notifica durante la codifica"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:190
 msgid "_Accept non-standard audio frequency for DVD"
@@ -2797,7 +2807,7 @@
 msgstr "Multi-threading"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:242
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:844
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:845
 msgid "High"
 msgstr "Alta"
 
@@ -2810,7 +2820,7 @@
 msgstr "Al di sotto del normale"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:246
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:848
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:849
 msgid "Low"
 msgstr "Bassa"
 
@@ -3050,75 +3060,91 @@
 msgstr "Assistente automatico"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:51
+msgid "Arabic"
+msgstr "Arabo"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:52
+msgid "Baltic"
+msgstr "Baltico"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:53
 msgid "Chinese Simplified (GB2312)"
 msgstr "Cinese semplificato (GB2312)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:52
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:54
 msgid "Chinese Traditional (Big5)"
 msgstr "Cinese tradizionale (Big5)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:53
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:55
 msgid "Cyrillic"
 msgstr "Cirillico"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:54
-msgid "Czech"
-msgstr "Ceco"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:56
+msgid "Latin-1 (Western European)"
+msgstr "Latino-1 (Europa occidentale)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:55
-msgid "German"
-msgstr "Tedesco"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:57
+msgid "Latin-2 (Central European)"
+msgstr "Latino-2 (Europa centrale)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:56
-msgid "Latin-1"
-msgstr "Latin-1"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:58
+msgid "Greek"
+msgstr "Greco"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:57
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:59
+msgid "Hebrew"
+msgstr "Ebraico"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:60
 msgid "Slovene"
 msgstr "Sloveno"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:58
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:61
+msgid "Turkish"
+msgstr "Turco"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:62
 msgid "UTF-8"
 msgstr "UTF-8"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:59
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:63
 msgid "UTF-16"
 msgstr "UTF-16"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:89
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:98
 msgid "_Subtitle file:"
 msgstr "File _sottotitoli:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:89
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:98
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:87
 msgid "Select Subtitle file"
 msgstr "Seleziona un file sottotitoli"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:90
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:99
 msgid "_Font (TTF):"
 msgstr "Carattere (_TTF):"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:90
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:99
 msgid "Select TTF file"
 msgstr "Seleziona un file TTF"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:105
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:114
 msgid "_Encoding:"
 msgstr "Co_difica:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:107
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:116
 msgid "S_elect C_olor"
 msgstr "Seleziona co_lore"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:108
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:117
 msgid "Set Size and _Position"
 msgstr "Imposta dimensione e _posizione"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:109
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:118
 msgid "_Auto split"
 msgstr "A capo _automatico"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:110
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:119
 msgid "_Delay (ms):"
 msgstr "_Ritardo (ms):"
 
@@ -3198,17 +3224,17 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:652
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:668
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:698
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:662
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:669
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:676
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:789
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:663
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:670
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:677
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:790
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:166
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:206
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:79
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:93
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:426
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:440
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1213
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1218
 msgid "0"
 msgstr "0"
 
@@ -4079,7 +4105,7 @@
 msgstr "Occupato"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:405
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:999
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1000
 msgid "Calculator"
 msgstr "Calcolatrice"
 
@@ -4092,7 +4118,7 @@
 msgstr "Durata:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:451
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:803
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:804
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:198
 msgid "00:00:00"
 msgstr "00:00:00"
@@ -4327,8 +4353,8 @@
 "<b>Matrix Warning :</b>\n"
 "all above values are normalized to 256!"
 msgstr ""
-"<b>Problema matrice:</b>\n"
-" tutti i valori precedenti sono normalizzati a 256!"
+"<b>Avviso matrice:</b>\n"
+" tutti i valori precedenti sono normalizzati a 256! "
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:408
 msgid "AutoGain"
@@ -4379,121 +4405,121 @@
 msgid "Auto Crop"
 msgstr "Auto Crop"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:162
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:184
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:163
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:185
 msgid "Privileges Required"
 msgstr "Richiesti privilegi"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:162
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:184
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:163
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:185
 msgid "Root privileges are required to perform this operation."
 msgstr "Sono richesti i privilegi di amministratore per eseguire questa operazione."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:205
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:206
 msgid "Shutting down"
 msgstr "Arresto in corso"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:382
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:383
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:150
 #, c-format
 msgid "%d%%"
 msgstr "%d%%"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:405
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:412
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:419
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:406
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:413
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:420
 #, c-format
 msgid "%lu MB"
 msgstr "%lu MB"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:515
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:516
 msgid "Encoding..."
 msgstr "Codifica in corso..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:546
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:547
 msgid "<b>Phase:</b>"
 msgstr "<b>Fase:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:561
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:562
 msgid "<b>Video Codec:</b>"
 msgstr "<b>Codec video:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:576
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:577
 msgid "<b>Audio Codec:</b>"
 msgstr "<b>Codec audio:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:591
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:592
 msgid "<b>Container:</b>"
 msgstr "<b>Contenitore:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:623
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:624
 msgid "<b>Processed Frames:</b>"
 msgstr "<b>Fotogrammi elaborati:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:631
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:632
 msgid "<b>Total Frames:</b>"
 msgstr "<b>Fotogrammi totali:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:639
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:640
 msgid "<b>Quantiser:</b>"
 msgstr "<b>Quantizzatore:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:647
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:648
 msgid "<b>Average Bitrate:</b>"
 msgstr "<b>Bitrate medio:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:655
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:656
 msgid "0 kB/s"
 msgstr "0 kB/s"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:700
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:701
 msgid "<b>Video Size:</b>"
 msgstr "<b>Dimensione video:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:708
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:709
 msgid "<b>Audio Size:</b>"
 msgstr "<b>Dimensione audio:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:716
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:717
 msgid "<b>Total Size:</b>"
 msgstr "<b>Dimensione totale:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:724
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:732
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:740
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:725
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:733
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:741
 msgid "0 MB"
 msgstr "0 MB"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:765
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:766
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:244
 msgid "<b>Elapsed:</b>"
 msgstr "<b>Tempo trascorso:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:773
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:774
 msgid "<b>Time Remaining:</b>"
 msgstr "<b>Tempo rimanente:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:781
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:782
 msgid "<b>Frames/sec:</b>"
 msgstr "<b>Fotogrammi/sec:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:827
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:828
 msgid "Shut down computer when finished"
 msgstr "Arresta il sistema al termine"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:835
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:836
 msgid "Priority:"
 msgstr "Priorit?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:845
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:846
 msgid "Above Normal"
 msgstr "Al di sopra del normale"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:847
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:848
 msgid "Below Normal"
 msgstr "Al di sotto del normale"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:885
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:886
 msgid "Pause / Abort"
 msgstr "Pausa / Annulla "
 
@@ -4824,7 +4850,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp:180
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:548
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:336
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:337
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:150
 msgid "Preview"
 msgstr "Anteprima"
@@ -4901,14 +4927,14 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:283
 msgid "Codec 4CC:"
-msgstr "4CC Codec:"
+msgstr "4CC codec:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:297
 msgid "Aspect Ratio:"
 msgstr "Proporzioni:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:311
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1063
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1064
 msgid "<b>Video</b>"
 msgstr "<b>Video</b>"
 
@@ -4953,7 +4979,7 @@
 msgstr "Bitrate variabile:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:489
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1103
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1104
 msgid "<b>Audio</b>"
 msgstr "<b>Audio</b>"
 
@@ -4975,11 +5001,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:333
 msgid " Width "
-msgstr " Larghezza"
+msgstr " Larghezza "
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:340
 msgid " Height "
-msgstr " Altezza"
+msgstr " Altezza "
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:363
 msgid "Source :"
@@ -4987,7 +5013,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:369
 msgid "Destination"
-msgstr "Destinazione"
+msgstr "Destinazione: "
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:419
 msgid " Error X:"
@@ -5007,7 +5033,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:465
 msgid "Bicubic"
-msgstr "Bicubica"
+msgstr "Bicubico"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:469
 msgid "Lanczos3"
@@ -5061,8 +5087,8 @@
 msgstr "Codificatore video"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:123
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1083
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1123
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1084
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1124
 msgid "Configure"
 msgstr "Configura"
 
@@ -6351,21 +6377,21 @@
 msgid "Miscellaneous"
 msgstr "Varie"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:244
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:245
 msgid "The filter is already partial"
 msgstr "Il filtro ? gi? parziale"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:342
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:344
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:343
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:345
 msgid "Load set of filters"
 msgstr "Carica gruppo di filtri"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:357
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:358
 msgid "Nothing to save"
 msgstr "Niente da salvare"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:361
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:363
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:362
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:364
 msgid "Save set of filters"
 msgstr "Salva gruppo di filtri"
 
@@ -6519,7 +6545,7 @@
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:87
 #: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:107
 msgid "Top"
-msgstr "Alto"
+msgstr "Superiore"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:543
 msgid "Separate"
@@ -6530,502 +6556,506 @@
 msgid "Frame:%c(%02d)"
 msgstr "Fotogramma: %c(%02d)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:274
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:275
 msgid "Avidemux"
 msgstr "Avidemux"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:298
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:299
 msgid "_Open..."
 msgstr "_Apri..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:309
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:310
 msgid "_Append..."
 msgstr "A_ggiungi..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:320
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:321
 msgid "_Save"
 msgstr "_Salva"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:331
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:332
 msgid "Save _Video..."
 msgstr "Salva _video..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:343
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:344
 msgid "Save _BMP Image..."
 msgstr "Salva immagine _BMP..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:347
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:348
 msgid "Save _JPEG Image..."
 msgstr "Salva immagine _JPEG..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:351
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:352
 msgid "Save _Selection as JPEG Images..."
 msgstr "Salva _selezione in immagini JPEG..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:364
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:365
 msgid "Save _Project"
 msgstr "Salva _progetto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:372
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:373
 msgid "Save P_roject As..."
 msgstr "Salva p_rogetto con nome"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:380
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:381
 msgid "_Load/Run Project..."
 msgstr "Car_ica/esegui progetto..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:388
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:389
 msgid "A_dd to Joblist..."
 msgstr "Aggi_ungi alla lista attivit?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:392
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:393
 msgid "Show _Joblist"
 msgstr "Mostra _lista attivit?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:404
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:405
 msgid "Co_nnect to avsproxy"
 msgstr "Co_nnetti a avsproxy"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:413
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:414
 msgid "Proper_ties"
 msgstr "Proprie_t?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:424
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:425
 msgid "AVI _Muxer Options"
 msgstr "Opzioni _Muxer AVI"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:433
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:434
 msgid "_Quit"
 msgstr "_Esci"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:444
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:445
 msgid "_Edit"
 msgstr "_Modifica"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:451
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:452
 msgid "_Reset Edits"
 msgstr "A_nnulla modifiche"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:464
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:465
 msgid "Cu_t"
 msgstr "_Taglia"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:475
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:476
 msgid "_Copy"
 msgstr "_Copia"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:486
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:487
 msgid "_Paste"
 msgstr "_Incolla"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:497
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:498
 msgid "_Delete"
 msgstr "_Elimina"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:513
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:514
 msgid "Set Marker _A"
 msgstr "Imposta segnalibro _A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:520
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:521
 msgid "Set Marker _B"
 msgstr "Imposta segnalibro _B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:532
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:533
 msgid "Pre_ferences"
 msgstr "_Preferenze"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:540
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:541
 msgid "_View"
 msgstr "Visua_lizza"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:547
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:548
 msgid "_Main Toolbar"
 msgstr "_Barra degli strumenti"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:552
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:553
 msgid "_A/V Sidebar"
 msgstr "Barra laterale _A/V"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:562
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:563
 msgid "_Zoom 1:4"
 msgstr "_Zoom 1:4"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:569
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:570
 msgid "Z_oom 1:2"
 msgstr "Z_oom 1:2"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:576
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:577
 msgid "Zoom _1:1"
 msgstr "Zoom _1:1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:583
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:584
 msgid "Zoom _2:1"
 msgstr "Zoom _2:1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:590
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:591
 msgid "Vi_deo"
 msgstr "Vi_deo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:597
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:598
 msgid "_Decoder Options"
 msgstr "_Opzioni codifica"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:604
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:605
 msgid "_Postprocessing"
 msgstr "_Postprocessing"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:607
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:608
 msgid "Select postprocessing level"
 msgstr "Seleziona livello di postprocessing"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:617
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:618
 msgid "P_review"
 msgstr "_Anteprima"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:624
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:625
 msgid "Display _Output"
 msgstr "_Esegui video in uscita"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:636
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:637
 msgid "_Frame Rate"
 msgstr "_Frame rate"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:640
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:689
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:641
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:690
 msgid "_Encoder"
 msgstr "_Codificatore"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:647
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:648
 msgid "Fil_ters"
 msgstr "Fil_tri"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:654
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:655
 msgid "_Audio"
 msgstr "_Audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:661
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:662
 msgid "_Main Track"
 msgstr "_Traccia principale"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:665
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:666
 msgid "_Second Track"
 msgstr "T_raccia secondaria"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:669
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:670
 msgid "_Build VBR Time Map"
 msgstr "Crea time map _VBR"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:678
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:679
 msgid "S_ave..."
 msgstr "_Salva..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:696
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:697
 msgid "_Filters"
 msgstr "_Filtri"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:700
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:701
 msgid "_Tools"
 msgstr "_Strumenti"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:707
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:708
 msgid "_Calculator"
 msgstr "_Calcolatrice"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:723
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:724
 msgid "_Rebuild Frames (I & B)"
 msgstr "_Ricostruisci fotogrammi (I & B)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:727
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:728
 msgid "C_heck Frames (slow)"
 msgstr "V_erifica fotogrammi (lento)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:731
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:732
 msgid "_Bitrate Histogram"
 msgstr "Istogramma _bitrate"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:735
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:736
 msgid "_Scan for Black Frames..."
 msgstr "Cerca fotogrammi _neri..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:744
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:745
 msgid "_VOB -> VobSub"
 msgstr "_VOB -> VobSub"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:748
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:749
 msgid "_OCR (VobSub -> srt)"
 msgstr "_OCR (VobSub -> srt)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:752
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:753
 msgid "OCR (TS->srt)"
 msgstr "OCR (TS -> srt)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:756
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:757
 msgid "_Edit Glyph"
 msgstr "_Modifica glifo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:765
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:766
 msgid "_Frame Hex Dump"
 msgstr "Hex Dump _fotogramma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:769
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:770
 msgid "A_uto"
 msgstr "A_uto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:776
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:777
 msgid "_VCD"
 msgstr "_VCD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:780
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:781
 msgid "_SVCD"
 msgstr "_SVCD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:784
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:785
 msgid "_DVD"
 msgstr "_DVD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:788
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:789
 msgid "_PSP"
 msgstr "_PSP"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:792
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:793
 msgid "PSP (_H.264)"
 msgstr "PSP (_H.264)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:796
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:797
 msgid "F_LV"
 msgstr "F_LV"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:800
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:801
 msgid "IPOD (mpeg4)"
 msgstr "IPOD (mpeg4)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:804
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:805
 msgid "_Go"
 msgstr "_Vai"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:811
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:812
 msgid "_Play/Stop"
 msgstr "_Play/Stop"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:822
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:823
 msgid "P_revious Frame"
 msgstr "Fotogramma p_recedente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:833
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:834
 msgid "_Next Frame"
 msgstr "Fotogramma _successivo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:844
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:845
 msgid "Pr_evious Intra Frame"
 msgstr "Fotogramma chiave pr_ecedente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:855
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:856
 msgid "Next _Intra Frame"
 msgstr "Fotogramma ch_iave successivo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:866
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:867
 msgid "Previou_s Black Frame"
 msgstr "Fotogramma nero pre_cedente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:870
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:871
 msgid "Ne_xt Black Frame"
 msgstr "Fotogramma nero successi_vo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:874
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:875
 msgid "_First Frame"
 msgstr "Primo _fotogramma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:885
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:886
 msgid "_Last Frame"
 msgstr "_Ultimo fotogramma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:901
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:902
 msgid "Go to Marker _A"
 msgstr "Vai al segnalibro _A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:908
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:909
 msgid "Go to Marker _B"
 msgstr "Vai al segnalibro _B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:920
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:921
 msgid "Go to Fra_me..."
 msgstr "Vai al fotogra_mma..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:931
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:932
 msgid "Go to _Time..."
 msgstr "Vai al _tempo..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:942
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:943
 msgid "_Custom"
 msgstr "_Preferiti"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:946
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:947
 msgid "_Help"
 msgstr "A_iuto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:953
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:954
 msgid "_Built-in Support"
 msgstr "_Supporto incorporato"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:957
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:958
 msgid "_About"
 msgstr "_Informazioni"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:975
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:976
 msgid "Open a file"
 msgstr "Apri un file"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:985
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:986
 msgid "Save the file"
 msgstr "Salva il file"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:991
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:992
 msgid "Audio/video file information"
 msgstr "Informazioni audio/video del file"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1002
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1003
 msgid "Bitrate/size calculator"
 msgstr "Calcolatrice bitrate/dimensione"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1086
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1087
 msgid "Configure video encoder"
 msgstr "Configura codificatore video"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1091
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1147
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1092
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1148
 msgid "Filters"
 msgstr "Filtri"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1094
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1095
 msgid "Video filters"
 msgstr "Filtri video"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1126
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1127
 msgid "Configure audio encoder"
 msgstr "Configura codificatore audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1134
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1135
 msgid "Audio filters"
 msgstr "Filtri audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1155
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1156
 msgid "Shift:"
 msgstr "Ritardo:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1158
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1159
 msgid "Enable time shift"
 msgstr "Attiva ritardo audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1164
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1165
 msgid "Audio/video time shift (ms)"
 msgstr "Ritardo audio/video (ms)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1171
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1168
+msgid "ms"
+msgstr "ms"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1176
 msgid "<b>Format</b>"
 msgstr "<b>Formato</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1204
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1209
 msgid "Frame: "
 msgstr "Fotogramma:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1211
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1216
 msgid "Current frame"
 msgstr "Fotogramma attuale:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1216
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1221
 msgid "/ 0000000"
 msgstr "/ 0000000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1223
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1228
 msgid "Time: "
 msgstr "Tempo:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1230
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1235
 msgid "Current time"
 msgstr "Tempo attuale"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1231
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1236
 msgid "00:00:00.000"
 msgstr "00:00:00.000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1234
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1239
 msgid "/ 00:00:00,000"
 msgstr "/ 00:00:00.000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1241
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1246
 msgid "Frame: ?"
 msgstr "Fotogramma: ?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1265
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1270
 msgid "Play"
 msgstr "Play"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1279
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1284
 msgid "Stop"
 msgstr "Stop"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1291
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1296
 msgid "Previous frame"
 msgstr "Fotogramma precedente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1306
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1311
 msgid "Next frame"
 msgstr "Fotogramma successivo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1321
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1326
 msgid "Previous keyframe"
 msgstr "Fotogramma chiave precedente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1336
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1341
 msgid "Next keyframe"
 msgstr "Fotogramma chiave successivo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1350
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1355
 msgid "Selection: start"
 msgstr "Selezione: inizio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1361
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1366
 msgid "Selection: end"
 msgstr "Selezione: fine"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1372
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1377
 msgid "Previous black frame"
 msgstr "Fotogramma nero precedente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1383
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1388
 msgid "Next black frame"
 msgstr "Fotogramma nero successivo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1394
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1399
 msgid "First frame"
 msgstr "Primo fotogramma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1405
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1410
 msgid "Last frame"
 msgstr "Ultimo fotogramma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1419
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1424
 msgid "<b>Selection</b>"
 msgstr "<b>Selezione</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1436
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1441
 msgid "B:"
 msgstr "B:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1443
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1448
 msgid "Go to marker B"
 msgstr "Vai al segnalibro B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1445
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1450
 msgid "A:"
 msgstr "A:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1452
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1457
 msgid "Go to marker A"
 msgstr "Vai al segnalibro A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1454
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1462
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1459
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1467
 msgid " 0000000"
 msgstr " 0000000"
 
@@ -7096,15 +7126,15 @@
 msgid "All"
 msgstr "Tutti i file"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:582
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:660
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:728
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:788
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:851
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:574
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:652
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:720
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:780
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:843
 msgid "label1"
 msgstr "label1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:715
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:707
 msgid "Alert"
 msgstr "Avviso"
 
@@ -7360,7 +7390,7 @@
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:88
 #: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:108
 msgid "Bottom"
-msgstr "Basso"
+msgstr "Inferiore"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:95
 msgid "Never"
@@ -7738,7 +7768,7 @@
 
 #: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:93
 msgid "Show _frame"
-msgstr "Mostra _fotogramma"
+msgstr "Mostra numero _fotogramma"
 
 #: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:72
 #: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:72



From gruntster at mail.berlios.de  Sat Sep 20 20:26:32 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 20 Sep 2008 20:26:32 +0200
Subject: [Avidemux-svn-commit] r4386 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui
Message-ID: <200809201826.m8KIQWPf023283@sheep.berlios.de>

Author: gruntster
Date: 2008-09-20 20:26:20 +0200 (Sat, 20 Sep 2008)
New Revision: 4386

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h
Log:
[Qt] add Save Selection as JPEG Images to main menu

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2008-09-20 18:04:35 UTC (rev 4385)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2008-09-20 18:26:20 UTC (rev 4386)
@@ -1498,47 +1498,6 @@
     <addaction name="actionSave_2" />
     <addaction name="actionFilters_2" />
    </widget>
-   <widget class="QMenu" name="menuFile" >
-    <property name="title" >
-     <string>&amp;File</string>
-    </property>
-    <widget class="QMenu" name="menuRecent_Files" >
-     <property name="title" >
-      <string>&amp;Recent Files</string>
-     </property>
-     <addaction name="actionRecent0" />
-     <addaction name="actionRecent1" />
-     <addaction name="actionRecent2" />
-     <addaction name="actionRecent3" />
-    </widget>
-    <widget class="QMenu" name="menuSave" >
-     <property name="title" >
-      <string>&amp;Save</string>
-     </property>
-     <addaction name="actionSave_video" />
-     <addaction name="separator" />
-     <addaction name="actionSave_BMP" />
-     <addaction name="actionSave_jpeg" />
-    </widget>
-    <addaction name="actionOpen" />
-    <addaction name="menuRecent_Files" />
-    <addaction name="actionAppend" />
-    <addaction name="menuSave" />
-    <addaction name="actionClose" />
-    <addaction name="separator" />
-    <addaction name="actionProperties" />
-    <addaction name="separator" />
-    <addaction name="actionLoad_run_project" />
-    <addaction name="actionSave_project" />
-    <addaction name="actionSave_project_as" />
-    <addaction name="separator" />
-    <addaction name="actionAdd_to_joblist" />
-    <addaction name="actionShow_Joblist" />
-    <addaction name="separator" />
-    <addaction name="actionConnect_to_AvsProxy" />
-    <addaction name="separator" />
-    <addaction name="actionQuit" />
-   </widget>
    <widget class="QMenu" name="menuTools" >
     <property name="title" >
      <string>&amp;Tools</string>
@@ -1628,6 +1587,48 @@
     <addaction name="actionFLV" />
     <addaction name="actionIPOD" />
    </widget>
+   <widget class="QMenu" name="menuFile" >
+    <property name="title" >
+     <string>&amp;File</string>
+    </property>
+    <widget class="QMenu" name="menuRecent_Files" >
+     <property name="title" >
+      <string>&amp;Recent Files</string>
+     </property>
+     <addaction name="actionRecent0" />
+     <addaction name="actionRecent1" />
+     <addaction name="actionRecent2" />
+     <addaction name="actionRecent3" />
+    </widget>
+    <widget class="QMenu" name="menuSave" >
+     <property name="title" >
+      <string>&amp;Save</string>
+     </property>
+     <addaction name="actionSave_video" />
+     <addaction name="separator" />
+     <addaction name="actionSave_BMP" />
+     <addaction name="actionSave_jpeg" />
+     <addaction name="actionSave_Selection" />
+    </widget>
+    <addaction name="actionOpen" />
+    <addaction name="menuRecent_Files" />
+    <addaction name="actionAppend" />
+    <addaction name="menuSave" />
+    <addaction name="actionClose" />
+    <addaction name="separator" />
+    <addaction name="actionProperties" />
+    <addaction name="separator" />
+    <addaction name="actionLoad_run_project" />
+    <addaction name="actionSave_project" />
+    <addaction name="actionSave_project_as" />
+    <addaction name="separator" />
+    <addaction name="actionAdd_to_joblist" />
+    <addaction name="actionShow_Joblist" />
+    <addaction name="separator" />
+    <addaction name="actionConnect_to_AvsProxy" />
+    <addaction name="separator" />
+    <addaction name="actionQuit" />
+   </widget>
    <addaction name="menuFile" />
    <addaction name="menuEdit" />
    <addaction name="menuView" />
@@ -2517,6 +2518,11 @@
     <string>Ctrl+W</string>
    </property>
   </action>
+  <action name="actionSave_Selection" >
+   <property name="text" >
+    <string>Save Selection as JPEG Images...</string>
+   </property>
+  </action>
  </widget>
  <customwidgets>
   <customwidget>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h	2008-09-20 18:04:35 UTC (rev 4385)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/translation_table.h	2008-09-20 18:26:20 UTC (rev 4386)
@@ -14,6 +14,7 @@
 PROCESS(actionSave_video,ACT_SaveAvi) \
 PROCESS(actionSave_BMP,ACT_SaveImg) \
 PROCESS(actionSave_jpeg,ACT_SaveJPG) \
+PROCESS(actionSave_Selection, ACT_SaveBunchJPG) \
 PROCESS(actionLoad_run_project,ACT_RunScript) \
 PROCESS(actionSave_project,ACT_SaveCurrentWork) \
 PROCESS(actionSave_project_as,ACT_SaveWork) \



From gruntster at mail.berlios.de  Sat Sep 20 20:50:03 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sat, 20 Sep 2008 20:50:03 +0200
Subject: [Avidemux-svn-commit] r4387 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui:
	. pics
Message-ID: <200809201850.m8KIo3SS025616@sheep.berlios.de>

Author: gruntster
Date: 2008-09-20 20:49:55 +0200 (Sat, 20 Sep 2008)
New Revision: 4387

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/avidemux_icon.png
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/avidemux.qrc
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
Log:
[Qt] set application icon

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/avidemux.qrc
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/avidemux.qrc	2008-09-20 18:26:20 UTC (rev 4386)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/avidemux.qrc	2008-09-20 18:49:55 UTC (rev 4387)
@@ -2,6 +2,7 @@
     <qresource prefix="/new/prefix1" >
         <file>pics/add_sub_task.png</file>
         <file>pics/arts.png</file>
+        <file>pics/avidemux_icon.png</file>
         <file>pics/avidemux_icon_small.png</file>
         <file>pics/back.png</file>
         <file>pics/calc.png</file>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2008-09-20 18:26:20 UTC (rev 4386)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/gui2.ui	2008-09-20 18:49:55 UTC (rev 4387)
@@ -14,7 +14,7 @@
    <string>Avidemux</string>
   </property>
   <property name="windowIcon" >
-   <iconset/>
+   <iconset resource="avidemux.qrc" >:/new/prefix1/pics/avidemux_icon.png</iconset>
   </property>
   <property name="iconSize" >
    <size>

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/avidemux_icon.png
===================================================================
(Binary files differ)


Property changes on: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/avidemux_icon.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream



From gruntster at mail.berlios.de  Sun Sep 21 18:11:57 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sun, 21 Sep 2008 18:11:57 +0200
Subject: [Avidemux-svn-commit] r4388 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4
Message-ID: <200809211611.m8LGBv5f016753@sheep.berlios.de>

Author: gruntster
Date: 2008-09-21 18:11:52 +0200 (Sun, 21 Sep 2008)
New Revision: 4388

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp
Log:
[Qt] re-translate strings once translator is loaded to take care of already allocated globals

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp	2008-09-20 18:49:55 UTC (rev 4387)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp	2008-09-21 16:11:52 UTC (rev 4388)
@@ -3,8 +3,11 @@
 #include <QApplication>
 #include <QtCore>
 
+#define MAX_UNLOADED_MSG_LENGTH 400
 static QTranslator qtTranslator;
 static QTranslator avidemuxTranslator;
+static QMap<QString, char*> *map = NULL;
+static bool translatorLoaded = false;
 
 static void loadTranslation(QTranslator *qTranslator, QString translation)
 {
@@ -16,20 +19,36 @@
 		printf("succeeded\n");
 	}
 	else
-		printf("FAILED\n");		
+		printf("FAILED\n");
 }
 
 void initTranslator(void) {}
 
 const char* translate(const char *__domainname, const char *__msgid)
 {
-	static QMap<QString, QByteArray> map;
 	QString msgid = QString(__msgid);
 
-	if (!map.contains(msgid))
-		map[msgid] = QApplication::translate("", __msgid).toUtf8();
+	if (!map)
+		map = new QMap<QString, char*>;
 
-	return map.value(msgid).constData();
+	if (!map->contains(msgid))
+	{
+		QByteArray translatedMessage = QApplication::translate("", __msgid).toUtf8();
+		int copyLength = translatedMessage.length() + 1;
+		char* buffer = new char[translatorLoaded ? translatedMessage.length() + 1 : MAX_UNLOADED_MSG_LENGTH + 1];
+
+		if (copyLength > MAX_UNLOADED_MSG_LENGTH + 1)
+		{
+			copyLength = MAX_UNLOADED_MSG_LENGTH;
+			buffer[MAX_UNLOADED_MSG_LENGTH] = '\0';
+		}
+
+		memcpy(buffer, translatedMessage.constData(), copyLength);
+
+		(*map)[msgid] = buffer;
+	}
+
+	return map->value(msgid);
 }
 
 #define HIDE_STRING_FROM_QT(domainname, msgid)  QApplication::translate(domainname, msgid) // to hide string from lupdate so a true test can be conducted
@@ -42,13 +61,48 @@
 
 	loadTranslation(&qtTranslator, appdir + "qt_" + QLocale::system().name());
 	loadTranslation(&avidemuxTranslator, appdir + "avidemux_" + QLocale::system().name());
+	translatorLoaded = true;
 
+	// Re-translate existing map (to take care of global strings already allocated)
+	QMapIterator<QString, char*> mapIterator(*map);
+
+	while (mapIterator.hasNext())
+	{
+		mapIterator.next();
+
+		QByteArray translatedMessage = QApplication::translate("", mapIterator.key().toAscii().constData()).toUtf8();		
+		char *buffer = mapIterator.value();
+		int copyLength = translatedMessage.length() + 1;
+
+		if (copyLength > MAX_UNLOADED_MSG_LENGTH + 1)
+		{
+			copyLength = MAX_UNLOADED_MSG_LENGTH;
+			buffer[MAX_UNLOADED_MSG_LENGTH] = '\0';
+		}
+
+		memcpy(buffer, translatedMessage.constData(), copyLength);
+	}
+
 	printf("[Locale] Test: &Edit -> %s\n\n", HIDE_STRING_FROM_QT("MainWindow", "&Edit").toUtf8().data());
 }
 
-void destroyTranslator(void) {}
+void destroyTranslator(void)
+{
+	if (map)
+	{
+		QMapIterator<QString, char*> mapIterator(*map);
 
+		while (mapIterator.hasNext())
+		{
+			mapIterator.next();
+			delete(mapIterator.value());
+		}
+
+		delete map;
+	}
+}
+
 void getUIDescription(char* desc)
 {
-	sprintf(desc, "Qt4 (%s)", qVersion());
+	sprintf(desc, "Qt (%s)", qVersion());
 }



From gruntster at mail.berlios.de  Sun Sep 21 20:05:26 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sun, 21 Sep 2008 20:05:26 +0200
Subject: [Avidemux-svn-commit] r4389 - branches/avidemux_2.4_branch/po
Message-ID: <200809211805.m8LI5QNa021985@sheep.berlios.de>

Author: gruntster
Date: 2008-09-21 20:05:00 +0200 (Sun, 21 Sep 2008)
New Revision: 4389

Modified:
   branches/avidemux_2.4_branch/po/es.po
Log:
[I18N] Spanish update by festor

Modified: branches/avidemux_2.4_branch/po/es.po
===================================================================
--- branches/avidemux_2.4_branch/po/es.po	2008-09-21 16:11:52 UTC (rev 4388)
+++ branches/avidemux_2.4_branch/po/es.po	2008-09-21 18:05:00 UTC (rev 4389)
@@ -1,11 +1,11 @@
 msgid ""
 msgstr ""
-"Project-Id-Version: Avidemux 2.4\n"
+"Project-Id-Version: Avidemux\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-06-12 15:04+0100\n"
-"PO-Revision-Date: 2008-06-16 01:17+0100\n"
+"POT-Creation-Date: 2008-09-19 21:16+0100\n"
+"PO-Revision-Date: 2008-09-21 12:59+0100\n"
 "Last-Translator: Festor Wailon Dacoba <festor90 at gmail.com>\n"
-"Language-Team:  <juliocesarmartin at msn.com>\n"
+"Language-Team: \n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
@@ -15,8 +15,8 @@
 "Plural-Forms: nplurals=2; plural=(n != 1);\n"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:42
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:369
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:511
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:380
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:515
 msgid "AVI"
 msgstr "AVI"
 
@@ -45,30 +45,30 @@
 msgstr "V?deo MPEG"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:49
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:493
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:131
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:504
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:130
 msgid "MP4"
 msgstr "MP4"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:50
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:119
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:515
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:120
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:519
 msgid "OGM"
 msgstr "OGM"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:51
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:130
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:129
 msgid "PSP"
 msgstr "PSP"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:52
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:188
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:277
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:187
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:254
 msgid "FLV"
 msgstr "FLV"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:53
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:132
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:131
 msgid "MKV"
 msgstr "MKV"
 
@@ -120,88 +120,91 @@
 msgid "MJPEG (lavc)"
 msgstr "MJPEG (lavc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:314
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:272
+msgid "Y800 (lavc)"
+msgstr "Y800 (lavc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:332
 msgid "VCD (lavc)"
 msgstr "VCD (lavc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:374
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:392
 msgid "DVD (lavc)"
 msgstr "DVD (lavc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:434
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:452
 msgid "SVCD (lavc)"
 msgstr "SVCD (lavc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:461
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:479
 msgid "VCD (mpeg2enc)"
 msgstr "VCD (mpeg2enc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:493
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:511
 msgid "SVCD (mpeg2enc)"
 msgstr "SVCD (mpeg2enc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:512
-#, fuzzy
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:530
 msgid "MPEG-2 requant"
-msgstr "Cuantizador MPEG"
+msgstr "Cuantizador MPEG-2"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:539
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:557
 msgid "DVD (mpeg2enc)"
 msgstr "DVD (mpeg2enc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:671
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:689
 msgid "MPEG-4 ASP (Xvid4)"
 msgstr "MPEG-4 ASP (Xvid4)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:812
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:830
 msgid "MPEG-4 AVC (x264)"
 msgstr "MPEG-4 AVC (x264)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:829
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:847
 msgid "dummy"
 msgstr ""
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:832
-#: avidemux/ADM_encoder/adm_encCopy.cpp:91
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:271
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:367
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:850
+#: avidemux/ADM_encoder/adm_encCopy.cpp:94
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:282
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:378
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:143
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:195
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:191
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:259
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:280
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:166
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:264
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:285
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:175
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:190
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:236
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:257
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:165
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:257
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:278
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:221
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:225
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:379
 #: avidemux/ADM_outputs/oplug_ogm/op_ogaudio.cpp:90
 #: avidemux/ADM_outputs/oplug_ogm/op_ogsavecopy.cpp:69
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1081
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1121
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1082
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1122
 msgid "Copy"
 msgstr "Copiar"
 
-#: avidemux/ADM_encoder/adm_encdivx.h:52
+#: avidemux/ADM_encoder/adm_encdivx.h:53
 msgid "DivX"
 msgstr "DivX"
 
-#: avidemux/ADM_encoder/adm_encffmpeg.h:47
+#: avidemux/ADM_encoder/adm_encffmpeg.h:48
 msgid "LavCodec"
 msgstr "LavCodec"
 
-#: avidemux/ADM_encoder/adm_encmjpeg.h:60
+#: avidemux/ADM_encoder/adm_encmjpeg.h:61
 msgid "MJPEG"
 msgstr "MJPEG"
 
-#: avidemux/ADM_encoder/adm_encmpeg2enc.h:57
+#: avidemux/ADM_encoder/adm_encmpeg2enc.h:58
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:61
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:519
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:523
 msgid "MPEG"
 msgstr "MPEG"
 
-#: avidemux/ADM_encoder/adm_encx264.h:65
+#: avidemux/ADM_encoder/adm_encx264.h:67
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:130
 msgid "x264"
 msgstr "x264"
@@ -211,11 +214,15 @@
 msgid "Xvid"
 msgstr "Xvid"
 
-#: avidemux/ADM_encoder/adm_encXvid4.h:62
+#: avidemux/ADM_encoder/adm_encXvid4.h:63
 msgid "Xvid4"
 msgstr "Xvid4"
 
-#: avidemux/ADM_encoder/adm_encyv12.h:69
+#: avidemux/ADM_encoder/adm_ency800.h:58
+msgid "Y800"
+msgstr "Y800"
+
+#: avidemux/ADM_encoder/adm_encyv12.h:70
 msgid "YV12"
 msgstr "YV12"
 
@@ -247,14 +254,14 @@
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:220
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:104
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:295
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:297
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:103
 msgid "Stereo"
-msgstr "Stereo"
+msgstr "Estereo"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:221
 msgid "Joint stereo"
-msgstr "Stereo enlazado"
+msgstr "Estereo enlazado"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:222
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:103
@@ -314,8 +321,8 @@
 #: avidemux/ADM_audiofilter/audioencoder_vorbis.cpp:274
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:203
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:91
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:113
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:181
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:111
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:179
 msgid "_Mode:"
 msgstr "_Modo:"
 
@@ -342,23 +349,22 @@
 "Cambie el codec o bien reduzca el n?mero de canales en el mezclador."
 
 #: avidemux/ADM_audiofilter/audiofilter_buildchain.cpp:417
-#, fuzzy
 msgid "Encoder initialization failed"
-msgstr "Error inicializando filtros de sonido"
+msgstr "Error inicializando codificador"
 
 #: avidemux/ADM_audiofilter/audiofilter_buildchain.cpp:417
 msgid "Not activated."
-msgstr ""
+msgstr "No activado"
 
 #: avidemux/ADM_codecs/ADM_ffmp43.cpp:45
-msgid "Internal error finding codec"
-msgstr "Error interno buscando codec"
+msgid "Internal error finding codec '"
+msgstr "Error interno buscando codec '"
 
 #: avidemux/ADM_codecs/ADM_ffmpeg.cpp:49
 msgid "Internal error opening codec"
 msgstr "Error interno abriendo codec"
 
-#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:51
+#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:52
 msgid "Internal error with context for  codec"
 msgstr "Error interno con el contexto para codec"
 
@@ -376,7 +382,7 @@
 
 #: avidemux/ADM_editor/ADM_edFrameType.cpp:93
 msgid "Rebuilding Frames"
-msgstr "Reconstruyendo Im?genes"
+msgstr "Reconstruyendo im?genes"
 
 #: avidemux/ADM_editor/ADM_edFrameType.cpp:129
 msgid "Aborted"
@@ -388,6 +394,9 @@
 "\n"
 "You can do it later with \"Audio -> Build VBR Time Map\"."
 msgstr ""
+"Avidemux detecto audio VMR MP3 en este archivo. Para mantener la sincronizaci?n audio/v?deo, se necesita un mapa de tiempo. ?Construirlo ahora?\n"
+"\n"
+"Lo puedes hacer despues en \"Audio -> Construir mapa de tiempo VBR\"."
 
 #: avidemux/ADM_editor/ADM_edit.cpp:407
 msgid "File type identified but no loader support detected..."
@@ -421,66 +430,64 @@
 msgstr "?Construir mapa de tiempo VBR?"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:585
-#, fuzzy
 msgid "Use safe mode"
-msgstr "Utilizar este modo"
+msgstr "Utilizar modo seguro"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:585
 msgid "H.264 detected"
 msgstr "H.264 detectado"
 
 #: avidemux/ADM_editor/ADM_edit.cpp:585
-#, fuzzy
 msgid ""
 "If the file is using B-frames as reference it can lead to a crash or stuttering.\n"
-"Avidemux can use another mode which is safe but <b>YOU WILL LOSE FRAME ACCURACY</b>.\n"
+"Avidemux can use another mode which is safe but YOU WILL LOSE FRAME ACCURACY.\n"
 "Do you want to use that mode?"
 msgstr ""
-"Si el archivo utiliza el imagen B como referencia, puede llevar a un cuelgue o malfuncionamiento.\n"
-"Avidemux puede utilizar otro modo de forma segura pero <b>PERDER? LA EXACTITUD DE IMAGEN</b>.\n"
+"Si el archivo est? utilizando im?genes B como referencia, puede llevar a un cuelgue o malfuncionamiento.\n"
+"Avidemux puede utilizar otro modo el cual es m?s seguro pero PERDER?S PRECISI?N DE IMAGEN.\n"
 "?Desea utilizar ese modo?"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:712
+#: avidemux/ADM_editor/ADM_edit.cpp:715
 msgid "Packed Bitstream detected"
 msgstr "Detectado Bitstream empaquetado"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:713
+#: avidemux/ADM_editor/ADM_edit.cpp:716
 msgid "Do you want me to unpack it ?"
 msgstr "?Desea desempaquetarlo?"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:733
+#: avidemux/ADM_editor/ADM_edit.cpp:736
 msgid "Could not unpack the video"
 msgstr "No se pudo desempaquetar el video"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:733
+#: avidemux/ADM_editor/ADM_edit.cpp:736
 msgid "Using backup decoder - not frame accurate."
 msgstr "Utilizando decodificador de respaldo - sin exactitud de imagen."
 
-#: avidemux/ADM_editor/ADM_edit.cpp:738
+#: avidemux/ADM_editor/ADM_edit.cpp:741
 msgid "Weird"
 msgstr "Raro"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:738
+#: avidemux/ADM_editor/ADM_edit.cpp:741
 msgid "The unpacking succeedeed but the index is still not up to date."
 msgstr "El desempaquetado fue bueno pero el ?ndice no esta al d?a."
 
-#: avidemux/ADM_editor/ADM_edit.cpp:744
+#: avidemux/ADM_editor/ADM_edit.cpp:747
 msgid "Troubles ahead"
 msgstr "Habr? problemas"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:744
+#: avidemux/ADM_editor/ADM_edit.cpp:747
 msgid "This a VOP packed AVI."
 msgstr "Es un VOP empaquetado en AVI."
 
-#: avidemux/ADM_editor/ADM_edit.cpp:755
+#: avidemux/ADM_editor/ADM_edit.cpp:758
 msgid "Index is not up to date"
 msgstr "El ?ndice no esta al d?a"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:755
+#: avidemux/ADM_editor/ADM_edit.cpp:758
 msgid "You should use Tool->Rebuild frame. Do it now ?"
-msgstr "Usar Herramientas->Reconstruir frame. ?Hacerlo ahora?"
+msgstr "Usar Herramientas->Reconstruir imagen. ?Hacerlo ahora?"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:1517
+#: avidemux/ADM_editor/ADM_edit.cpp:1520
 msgid ""
 "This looks like mpeg\n"
 " Do you want to index it?"
@@ -488,19 +495,19 @@
 "Esto parece mpeg\n"
 "?Quiere indizarlo?"
 
-#: avidemux/ADM_editor/ADM_edit.cpp:1569
+#: avidemux/ADM_editor/ADM_edit.cpp:1572
 msgid "Indexing failed"
 msgstr "Fall? el indizado"
 
-#: avidemux/ADM_editor/ADM_edLoadSave.cpp:75
+#: avidemux/ADM_editor/ADM_edLoadSave.cpp:74
 msgid "Unsupported"
 msgstr "No soportado"
 
-#: avidemux/ADM_editor/ADM_edLoadSave.cpp:301
+#: avidemux/ADM_editor/ADM_edLoadSave.cpp:300
 msgid "Old format project file"
 msgstr "Archivo de proyecto con formato obsoleto"
 
-#: avidemux/ADM_editor/ADM_edLoadSave.cpp:301
+#: avidemux/ADM_editor/ADM_edLoadSave.cpp:300
 msgid "No more supported."
 msgstr "Sin soporte."
 
@@ -520,685 +527,682 @@
 msgid "Select DVD as the video codec for MPEG TS output."
 msgstr "Seleccionar DVD como el codec de v?deo para salida de MPEG TS"
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:718
+#: avidemux/ADM_encoder/adm_encConfig.cpp:719
 msgid "Only QCIF and subQCIF are allowed for H.263"
 msgstr "S?lo se permiten QCIF y subQCIF para H.263"
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:910
+#: avidemux/ADM_encoder/adm_encConfig.cpp:911
 msgid "Fatal error"
 msgstr "Error fatal"
 
-#: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
+#: avidemux/ADM_encoder/adm_encffmpeg.cpp:278
 msgid "Incompatible settings"
 msgstr "Opciones incompatibles"
 
-#: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
+#: avidemux/ADM_encoder/adm_encffmpeg.cpp:278
 msgid "At the moment, the DV codec only accepts 720*576 at 25"
 msgstr "Hasta el momento, el codec DV s?lo acepta 720*576 at 25"
 
-#: avidemux/ADM_encoder/adm_encRequant.cpp:98
+#: avidemux/ADM_encoder/adm_encRequant.cpp:101
 msgid "Requant"
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:55
+#: avidemux/ADM_filter/filter_declaration.cpp:54
 msgid "Crop"
 msgstr "Cortar"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:55
+#: avidemux/ADM_filter/filter_declaration.cpp:54
 msgid "Remove lines from top/bottom/left/right."
 msgstr "Borrar las lineas de arriba/abajo/izquierda/derecha."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:56
+#: avidemux/ADM_filter/filter_declaration.cpp:55
 msgid "MPlayer resize"
 msgstr "MPlayer redimensionar"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:56
+#: avidemux/ADM_filter/filter_declaration.cpp:55
 msgid "Change image size. Faster than Avisynth's Resize."
 msgstr "Cambiar tama?o de imagen. Antes que Avisynth las redimensione."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:57
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:312
+#: avidemux/ADM_filter/filter_declaration.cpp:56
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:319
 msgid "Resize"
 msgstr "Redimensionar"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:57
+#: avidemux/ADM_filter/filter_declaration.cpp:56
 msgid "Picture resizer ported from Avisynth."
 msgstr "Clasificar pel?culas por tama?o desde la izquierda."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:58
+#: avidemux/ADM_filter/filter_declaration.cpp:57
 msgid "Add black borders"
 msgstr "A?adir bordes negros"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:58
+#: avidemux/ADM_filter/filter_declaration.cpp:57
 msgid "Add pure black border(s). Enlarges the picture."
 msgstr "A?adir borde(s) negro puro. Agrandar la imagen."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:59
+#: avidemux/ADM_filter/filter_declaration.cpp:58
 msgid "Blacken borders"
 msgstr "Oscurecer bordes"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:59
+#: avidemux/ADM_filter/filter_declaration.cpp:58
 msgid "Fill borders with pure black. Doesn't alter size."
 msgstr "Rellenar los bordes con negro puro. Sin cambiar el tama?o."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:60
+#: avidemux/ADM_filter/filter_declaration.cpp:59
 msgid "Vertical flip"
 msgstr "Invertir verticalmente"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:60
+#: avidemux/ADM_filter/filter_declaration.cpp:59
 msgid "Vertically flip the picture."
 msgstr "Invertir verticalmente."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:61
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:271
-#, fuzzy
+#: avidemux/ADM_filter/filter_declaration.cpp:60
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:269
 msgid "Rotate"
-msgstr "Bitrate"
+msgstr "Girar"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:61
+#: avidemux/ADM_filter/filter_declaration.cpp:60
 msgid "Rotate the picture by 90, 180 or 270 degrees."
 msgstr "Rotar la imagen 90, 180 o 270 grados."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:63
+#: avidemux/ADM_filter/filter_declaration.cpp:62
 #: avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp:90
 msgid "Resample fps"
 msgstr "Cambiar fps"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:63
+#: avidemux/ADM_filter/filter_declaration.cpp:62
 msgid "Change framerate while keeping duration."
-msgstr "Cambiar framerate manteniendo la duraci?n."
+msgstr "Cambiar el ratio de im?genes manteniendo la duraci?n."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:64
+#: avidemux/ADM_filter/filter_declaration.cpp:63
 msgid "Reverse"
 msgstr "Invertir"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:64
+#: avidemux/ADM_filter/filter_declaration.cpp:63
 msgid "Play video backward."
 msgstr "Reproducir hacia atr?s."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:65
+#: avidemux/ADM_filter/filter_declaration.cpp:64
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:78
 msgid "Fade"
 msgstr "Desvanecer"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:65
+#: avidemux/ADM_filter/filter_declaration.cpp:64
 msgid "Fade in/out."
 msgstr "Desvanecimiento ent/sal."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:71
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:186
+#: avidemux/ADM_filter/filter_declaration.cpp:70
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:184
 msgid "yadif"
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:71
+#: avidemux/ADM_filter/filter_declaration.cpp:70
 msgid "Yet Another DeInterlacer. Ported from MPlayer."
-msgstr ""
+msgstr "Yet Another DeInterlacer. Ported de MPlayer."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:72
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:119
+#: avidemux/ADM_filter/filter_declaration.cpp:71
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:117
 msgid "mcDeinterlace"
 msgstr "mcDeinterlace"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:72
+#: avidemux/ADM_filter/filter_declaration.cpp:71
 msgid "Motion compensation deinterlacer. Ported from MPlayer."
-msgstr ""
+msgstr "Motion compensation deinterlacer. De from MPlayer."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:73
+#: avidemux/ADM_filter/filter_declaration.cpp:72
 msgid "Deinterlace"
 msgstr "Desentrelazado"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:73
+#: avidemux/ADM_filter/filter_declaration.cpp:72
 msgid "Mask interlacing artifacts. Port of Smart deinterlace."
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:74
+#: avidemux/ADM_filter/filter_declaration.cpp:73
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:100
 msgid "KernelDeint"
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:74
+#: avidemux/ADM_filter/filter_declaration.cpp:73
 msgid "Kernel deinterlacer by Donald Graft."
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:75
+#: avidemux/ADM_filter/filter_declaration.cpp:74
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:121
 msgid "TDeint"
 msgstr "TDeint"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:75
+#: avidemux/ADM_filter/filter_declaration.cpp:74
 msgid "Motion adaptative deinterlacer by Tritical."
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:76
+#: avidemux/ADM_filter/filter_declaration.cpp:75
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:119
 msgid "libavcodec deinterlacer"
 msgstr "libavcodec descentralizado"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:76
+#: avidemux/ADM_filter/filter_declaration.cpp:75
 msgid "All FFmpeg deinterlace filters (bicubic, median, ...)."
 msgstr "Todos los filtros deinterlace FFmpeg (bicubic, median, ...)."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:77
+#: avidemux/ADM_filter/filter_declaration.cpp:76
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:131
 msgid "Decomb Telecide"
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:77
+#: avidemux/ADM_filter/filter_declaration.cpp:76
 msgid "Great deinterlacing package including IVTC."
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:78
+#: avidemux/ADM_filter/filter_declaration.cpp:77
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:211
 msgid "Decomb Decimate"
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:78
+#: avidemux/ADM_filter/filter_declaration.cpp:77
 msgid "Useful to remove dupes left by Telecide."
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:79
-#, fuzzy
+#: avidemux/ADM_filter/filter_declaration.cpp:78
 msgid "Pulldown"
-msgstr "3:2"
+msgstr "Men? desplegable"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:79
+#: avidemux/ADM_filter/filter_declaration.cpp:78
 msgid "Convert 24 fps to 30 fps by repeating fields."
 msgstr "Convertir 24 fps a 30 fps repitiendo campos."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:81
+#: avidemux/ADM_filter/filter_declaration.cpp:80
 msgid "Bobber - convert each field into a full sized frame."
 msgstr "Bobber - convertir cada campo en un marco de tama?o completo."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:83
+#: avidemux/ADM_filter/filter_declaration.cpp:82
 msgid "PAL field shift"
 msgstr "Cambiar campo PAL"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:83
+#: avidemux/ADM_filter/filter_declaration.cpp:82
 msgid "Shift fields by one. Useful for some PAL movies."
 msgstr "Cambiar uno de los campos. ?til para algunas pel?culas PAL."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:84
+#: avidemux/ADM_filter/filter_declaration.cpp:83
 msgid "PAL smart"
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:84
+#: avidemux/ADM_filter/filter_declaration.cpp:83
 msgid "Smartly revert non constant PAL field shift."
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:89
+#: avidemux/ADM_filter/filter_declaration.cpp:88
 msgid "Drop"
 msgstr "Eliminar"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:89
+#: avidemux/ADM_filter/filter_declaration.cpp:88
 msgid "Drop damaged fields (e.g. from VHS capture)."
 msgstr "Soltar campos da?ados (p.e. capturando VHS)."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:90
+#: avidemux/ADM_filter/filter_declaration.cpp:89
 msgid "Swap fields"
 msgstr "Intercambiar campos"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:90
+#: avidemux/ADM_filter/filter_declaration.cpp:89
 msgid "Swap top and bottom fields."
 msgstr "Intercambiar campos superior e inferior."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:91
-#, fuzzy
+#: avidemux/ADM_filter/filter_declaration.cpp:90
 msgid "Smart swap fields"
 msgstr "Intercambiar campos"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:91
+#: avidemux/ADM_filter/filter_declaration.cpp:90
 msgid "Smartly swap fields. Needed when field order changes."
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:93
+#: avidemux/ADM_filter/filter_declaration.cpp:92
 msgid "Keep even fields"
 msgstr "Mantener igual los campos"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:93
+#: avidemux/ADM_filter/filter_declaration.cpp:92
 msgid "Keep top fields. Gives a half height picture."
 msgstr "Mantener campos superiores. Dar medio cuadro de altura."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:94
+#: avidemux/ADM_filter/filter_declaration.cpp:93
 msgid "Keep odd fields"
 msgstr "Mantener campos impares"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:94
+#: avidemux/ADM_filter/filter_declaration.cpp:93
 msgid "Keep bottom fileds. Gives a half height picture."
 msgstr "Mantener campos inferiores. Dar medio cuadro de altura."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:95
+#: avidemux/ADM_filter/filter_declaration.cpp:94
 msgid "Separate fields"
 msgstr "Separar campos"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:95
+#: avidemux/ADM_filter/filter_declaration.cpp:94
 msgid "Each field becomes full picture, half sized."
 msgstr "Cada campo se convierte en una pel?cula completa de la mitad de tama?o."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:96
+#: avidemux/ADM_filter/filter_declaration.cpp:95
 msgid "Merge fields"
 msgstr "Unir campos"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:96
+#: avidemux/ADM_filter/filter_declaration.cpp:95
 msgid "Merge two pictures as if they were two fields."
 msgstr "Unir dos pel?culas como si fueran dos campos."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:99
+#: avidemux/ADM_filter/filter_declaration.cpp:98
 #, fuzzy
 msgid "Hz Stack fields"
 msgstr "Apilar campos"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:99
+#: avidemux/ADM_filter/filter_declaration.cpp:98
 msgid "Put botj fields side by side."
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:102
+#: avidemux/ADM_filter/filter_declaration.cpp:101
 msgid "Stack fields"
 msgstr "Apilar campos"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:102
+#: avidemux/ADM_filter/filter_declaration.cpp:101
 msgid "Put two fields on top of one another."
 msgstr "Poner dos campos uno encima de otro."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:103
+#: avidemux/ADM_filter/filter_declaration.cpp:102
 msgid "Unstack fields"
 msgstr "Desapilar campos"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:103
+#: avidemux/ADM_filter/filter_declaration.cpp:102
 msgid "Interleave top and bottom part of the picture."
 msgstr "Interpolar la parte superior e inferior del cuadro."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:107
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:205
+#: avidemux/ADM_filter/filter_declaration.cpp:106
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:209
 msgid "MPlayer eq2"
 msgstr "MPlayer eq2"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:107
+#: avidemux/ADM_filter/filter_declaration.cpp:106
 msgid "Adjust contrast, brightness, saturation and gamma."
 msgstr "Ajustar contraste, brillo, saturaci?n y gamma."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:108
+#: avidemux/ADM_filter/filter_declaration.cpp:107
 msgid "MPlayer hue"
 msgstr "MPlayer matiz"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:108
+#: avidemux/ADM_filter/filter_declaration.cpp:107
 msgid "Adjust hue and saturation."
 msgstr "Ajustar matiz y saturaci?n."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:109
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:179
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:72
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:194
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:212
+#: avidemux/ADM_filter/filter_declaration.cpp:108
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:183
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:76
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:198
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:216
 msgid "Contrast"
 msgstr "Contraste"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:109
+#: avidemux/ADM_filter/filter_declaration.cpp:108
 msgid "Adjust contrast, brightness and colors."
 msgstr "Ajustar contraste, brillo y colores."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:110
+#: avidemux/ADM_filter/filter_declaration.cpp:109
 msgid "Luma equalizer"
 msgstr "Ecualizador luma"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:110
+#: avidemux/ADM_filter/filter_declaration.cpp:109
 msgid "Luma correction filter with histogram."
 msgstr "Correcci?n de filtro luma con histograma."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:112
+#: avidemux/ADM_filter/filter_declaration.cpp:111
 msgid "Swap U and V"
 msgstr "Intercambiar U y V"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:112
+#: avidemux/ADM_filter/filter_declaration.cpp:111
 msgid "Invert chroma U and chroma V."
 msgstr "Invertir croma U y croma V."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:113
+#: avidemux/ADM_filter/filter_declaration.cpp:112
 msgid "Chroma shift"
 msgstr "Cambiar croma"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:113
+#: avidemux/ADM_filter/filter_declaration.cpp:112
 msgid "Shift chroma U/V to fix badly synced luma/chroma."
 msgstr "Cambiar croma U/V en mal sincronismo de luma/croma."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:115
+#: avidemux/ADM_filter/filter_declaration.cpp:114
 msgid "Luma only"
 msgstr "S?lo luma"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:115
+#: avidemux/ADM_filter/filter_declaration.cpp:114
 msgid "Convert picture to greyscale (black and white)."
 msgstr "Convertir pel?cula a escala de grises (blanco y negro)."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:116
+#: avidemux/ADM_filter/filter_declaration.cpp:115
 msgid "Chroma U only"
 msgstr "Croma u s?lo"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:116
+#: avidemux/ADM_filter/filter_declaration.cpp:115
 msgid "Convert picture to grey, keeping only chroma U."
 msgstr "Convertir pel?cula en gris, fijando s?lo croma U."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:117
+#: avidemux/ADM_filter/filter_declaration.cpp:116
 msgid "Chroma V only"
 msgstr "Croma V s?lo"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:117
+#: avidemux/ADM_filter/filter_declaration.cpp:116
 msgid "Convert picture to grey, keeping only chroma V."
 msgstr "Convertir pel?cula en gris, fijando s?lo croma V."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:119
+#: avidemux/ADM_filter/filter_declaration.cpp:118
 #, fuzzy
 msgid "Luma delta"
 msgstr "S?lo luma"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:119
+#: avidemux/ADM_filter/filter_declaration.cpp:118
 msgid "Difference between current and previous picture."
 msgstr "Diferencia entre la pel?cula actual y la anterior."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:120
+#: avidemux/ADM_filter/filter_declaration.cpp:119
 msgid "Avisynth ColorYUV"
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:120
+#: avidemux/ADM_filter/filter_declaration.cpp:119
 msgid "Alter colors (auto white balance etc...). Ported from Avisynth."
 msgstr "Alterar colores (auto blanco balance etc...) desde el lado izquierdo Avisynth."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:130
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:80
-#, fuzzy
+#: avidemux/ADM_filter/filter_declaration.cpp:129
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:78
 msgid "MPlayer denoise3d"
-msgstr "MPlayer redimensionar"
+msgstr "MPlayer denoise3d"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:130
+#: avidemux/ADM_filter/filter_declaration.cpp:129
 msgid "Reduce noise, smooth image, increase compressibility."
 msgstr "Reducir ruido, alisar imagen, incrementar compresibilidad."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:131
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:80
+#: avidemux/ADM_filter/filter_declaration.cpp:130
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:78
 msgid "MPlayer hqdn3d"
 msgstr "MPlayer hqdn3d"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:131
+#: avidemux/ADM_filter/filter_declaration.cpp:130
 msgid "High quality version of denoise3d. Slower but more precise."
 msgstr "Versi?n de alta calidad de denoise3d. M?s lento pero preciso."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:132
+#: avidemux/ADM_filter/filter_declaration.cpp:131
 #: avidemux/ADM_videoFilter/ADM_vidFlux.cpp:139
 msgid "FluxSmooth"
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:132
+#: avidemux/ADM_filter/filter_declaration.cpp:131
 msgid "Spatio-temporal cleaner by Ross Thomas."
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:134
-#: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:106
+#: avidemux/ADM_filter/filter_declaration.cpp:133
+#: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:104
 #, fuzzy
 msgid "Temporal Cleaner"
 msgstr "Temporal"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:134
+#: avidemux/ADM_filter/filter_declaration.cpp:133
 msgid "Vlad59's Avisynth port of Jim Casaburi's denoiser."
-msgstr ""
+msgstr "Vlad59's Avisynth port de Jim Casaburi's denoiser."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:136
+#: avidemux/ADM_filter/filter_declaration.cpp:135
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filterlist.cpp:173
-#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:397
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:395
 msgid "Denoise"
 msgstr "Eliminar ruido"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:136
+#: avidemux/ADM_filter/filter_declaration.cpp:135
 msgid "Port of Transcode DNR."
-msgstr ""
+msgstr "Port de Transcode DNR."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:137
-#: avidemux/ADM_videoFilter/ADM_vidStabilize.cpp:66
-#, fuzzy
+#: avidemux/ADM_filter/filter_declaration.cpp:136
+#: avidemux/ADM_videoFilter/ADM_vidStabilize.cpp:64
 msgid "Stabilize"
-msgstr "Tama?o total"
+msgstr "Stabilize"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:137
+#: avidemux/ADM_filter/filter_declaration.cpp:136
 msgid "Light denoiser."
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:139
+#: avidemux/ADM_filter/filter_declaration.cpp:138
 msgid "Cnr2"
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:139
+#: avidemux/ADM_filter/filter_declaration.cpp:138
 msgid "Chroma noise reduction filter by MarcFD/Tritical."
 msgstr "Reducci?n de ruido croma, filtro por MarcFD/Tritical."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:141
+#: avidemux/ADM_filter/filter_declaration.cpp:140
 msgid "MSmooth by Donald Graft"
 msgstr "MSmooth por Donald Graft"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:141
+#: avidemux/ADM_filter/filter_declaration.cpp:140
 msgid "Smooth the image, don't blur edges. Useful on anime."
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:142
+#: avidemux/ADM_filter/filter_declaration.cpp:141
 #: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:74
 msgid "Soften"
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:142
+#: avidemux/ADM_filter/filter_declaration.cpp:141
 msgid "A variant of stabilize."
 msgstr "Variante de estabilidad."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:147
-#, fuzzy
+#: avidemux/ADM_filter/filter_declaration.cpp:146
 msgid "Sharpen"
-msgstr "Agudizar"
+msgstr "Afilar (Sharpen)"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:147
+#: avidemux/ADM_filter/filter_declaration.cpp:146
 msgid "Enhance difference between near pixels."
 msgstr "Realzar la diferencia entre los pixeles cercanos."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:148
+#: avidemux/ADM_filter/filter_declaration.cpp:147
 #: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:172
-#, fuzzy
 msgid "MSharpen"
-msgstr "Agudizar"
+msgstr "MSharpen"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:148
+#: avidemux/ADM_filter/filter_declaration.cpp:147
 msgid "Sharpen edges without amplifying noise. By Donald Graft."
 msgstr "Sharpen edges without amplifying noise. Por Donald Graft."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:149
+#: avidemux/ADM_filter/filter_declaration.cpp:148
 msgid "asharp"
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:149
-#, fuzzy
+#: avidemux/ADM_filter/filter_declaration.cpp:148
 msgid "Adaptative sharpener by MarcFD."
-msgstr "ASharp por MarcFD"
+msgstr "Afildador (sharpener)  adaptativo por MarcFD"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:151
+#: avidemux/ADM_filter/filter_declaration.cpp:150
 msgid "Gauss smooth"
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:151
+#: avidemux/ADM_filter/filter_declaration.cpp:150
 msgid "Gaussian smooth. Blur the picture."
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:152
-#, fuzzy
+#: avidemux/ADM_filter/filter_declaration.cpp:151
 msgid "Mean"
-msgstr "Principal"
+msgstr "Mean"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:152
+#: avidemux/ADM_filter/filter_declaration.cpp:151
 msgid "Mean (blur) kernel."
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:153
+#: avidemux/ADM_filter/filter_declaration.cpp:152
 #, fuzzy
 msgid "Median"
 msgstr "Medio"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:153
+#: avidemux/ADM_filter/filter_declaration.cpp:152
 msgid "Median kernel 3x3. Remove high frequency noise."
 msgstr "Median kernel 3x3. Elimina ruido de alta frecuencia."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:154
+#: avidemux/ADM_filter/filter_declaration.cpp:153
 msgid "Median (5x5)"
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:154
+#: avidemux/ADM_filter/filter_declaration.cpp:153
 msgid "Median kernel 5x5. Good for reducing chroma noise."
 msgstr "Median kernel 5x5. Bueno para reducir ruido croma."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:155
-#, fuzzy
+#: avidemux/ADM_filter/filter_declaration.cpp:154
 msgid "Forced postprocessing"
-msgstr "_Postprocesando"
+msgstr "Postprocesado forzado"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:155
+#: avidemux/ADM_filter/filter_declaration.cpp:154
 #, fuzzy
 msgid "Apply blind postprocessing."
 msgstr "_Postprocesando"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:160
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:112
+#: avidemux/ADM_filter/filter_declaration.cpp:159
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:122
 msgid "Subtitler"
 msgstr "Subt?tulos"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:160
+#: avidemux/ADM_filter/filter_declaration.cpp:159
 msgid "Add srt/sub subtitles to the picture."
 msgstr "A?adir subt?tulos srt/sub a la pel?cula."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:161
+#: avidemux/ADM_filter/filter_declaration.cpp:160
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:95
 msgid "ASS"
 msgstr "ASS"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:161
+#: avidemux/ADM_filter/filter_declaration.cpp:160
 msgid "Add ASS/SSA subtitles to the picture."
 msgstr "A?adir subt?tulos ASS/SSA a la pel?cula."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:164
+#: avidemux/ADM_filter/filter_declaration.cpp:163
 msgid "VobSub"
 msgstr "VobSub"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:164
+#: avidemux/ADM_filter/filter_declaration.cpp:163
 msgid "Embed VobSub subtitles into picture."
 msgstr "Embeber subt?tulos VobSub en la pel?cula."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:166
+#: avidemux/ADM_filter/filter_declaration.cpp:165
 msgid "DVB sub"
 msgstr "DVB sub"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:166
+#: avidemux/ADM_filter/filter_declaration.cpp:165
 msgid "Embed DVB-T subtitle."
 msgstr "Embeber subt?tulos DVB-T."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:177
+#: avidemux/ADM_filter/filter_declaration.cpp:176
 msgid "Blend remover"
 msgstr "Remover mezcla"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:177
+#: avidemux/ADM_filter/filter_declaration.cpp:176
 msgid "Remove blend between previous and next picture."
 msgstr "Quitar la mezcla de la anterior pel?cula y la siguiente."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:178
+#: avidemux/ADM_filter/filter_declaration.cpp:177
 msgid "Hard pulldown removal"
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:178
+#: avidemux/ADM_filter/filter_declaration.cpp:177
 msgid "Remove IVTC that has been analog captured or resized."
 msgstr "Quitar IVTC que a sido capturado o redimensionado."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:179
+#: avidemux/ADM_filter/filter_declaration.cpp:178
 #, fuzzy
 msgid "Whirl"
 msgstr "Raro"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:179
+#: avidemux/ADM_filter/filter_declaration.cpp:178
 msgid "Useless whirlwind effect."
 msgstr "Eliminar efecto torbellino."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:180
+#: avidemux/ADM_filter/filter_declaration.cpp:179
 #: avidemux/ADM_videoFilter/ADM_vidMosaic.cpp:98
-#, fuzzy
 msgid "Mosaic"
-msgstr "Principal"
+msgstr "Mosaico"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:180
+#: avidemux/ADM_filter/filter_declaration.cpp:179
 msgid "Split the picture into tiny thumbnails."
 msgstr "Cortar la pel?cula en peque?as miniaturas."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:181
+#: avidemux/ADM_filter/filter_declaration.cpp:180
 #, fuzzy
 msgid "MPlayer delogo"
 msgstr "Mplayer Delogo"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:181
+#: avidemux/ADM_filter/filter_declaration.cpp:180
 msgid "Blend a logo by interpolating its surrounding box."
 msgstr "Mezclar logo interpolando lienzo circundante."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:182
-#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:95
+#: avidemux/ADM_filter/filter_declaration.cpp:181
+#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:94
 msgid "Logo"
 msgstr "Logo"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:182
+#: avidemux/ADM_filter/filter_declaration.cpp:181
 msgid "Add a png as logo."
 msgstr "A?adir png como logo."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:183
+#: avidemux/ADM_filter/filter_declaration.cpp:182
 msgid "Animated Menu"
 msgstr "Men? animado"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:184
+#: avidemux/ADM_filter/filter_declaration.cpp:183
 msgid "Create a video made of 6 mini windows, very useful to do DVD menus."
 msgstr "Crear un v?deo hecho de 6 mini ventanas, muy ?til para hacer men?s de DVD."
 
-#: avidemux/ADM_filter/filter_declaration.cpp:186
+#: avidemux/ADM_filter/filter_declaration.cpp:185
 msgid "Compute Average"
 msgstr "Promedio de computo"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:186
+#: avidemux/ADM_filter/filter_declaration.cpp:185
 msgid "Compute average luma value for each pixel throughout all frames, and save to file"
-msgstr "Promedio del valor de luma para cada pixel en todos los frames, y guardar a archivo"
+msgstr "Promedio del valor de luma para cada pixel en todas las im?genes, y guardar a archivo"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:187
+#: avidemux/ADM_filter/filter_declaration.cpp:186
 #, fuzzy
 msgid "Eraser"
 msgstr "Principal"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:187
+#: avidemux/ADM_filter/filter_declaration.cpp:186
 msgid "\"Erase\" arbitrary areas of each frame"
-msgstr "\"Borrar\" ?reas arbitrarias de cada frame"
+msgstr "\"Borrar\" ?reas arbitrarias de cada imagen"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:188
+#: avidemux/ADM_filter/filter_declaration.cpp:187
 #, fuzzy
 msgid "Swiss Army Knife"
 msgstr "Configuraci?n swiss army knife"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:188
+#: avidemux/ADM_filter/filter_declaration.cpp:187
 msgid "Apply operation like P'=P*A, P-A, P+A, etc. using a convolution, rolling average, image from file, or constant"
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:189
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:401
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:976
+#: avidemux/ADM_filter/filter_declaration.cpp:188
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:407
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:982
 #, fuzzy
 msgid "Threshold"
 msgstr "Umbral:"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:189
+#: avidemux/ADM_filter/filter_declaration.cpp:188
 msgid "Force too-bright/too-dim pixels to 0 and the rest to 255 or vice-versa"
 msgstr ""
 
-#: avidemux/ADM_filter/filter_declaration.cpp:190
+#: avidemux/ADM_filter/filter_declaration.cpp:189
 #, fuzzy
 msgid "Particle List"
 msgstr "Parcial"
 
-#: avidemux/ADM_filter/filter_declaration.cpp:190
+#: avidemux/ADM_filter/filter_declaration.cpp:189
 msgid "Identify 'particles' (groups of pixels)"
 msgstr "Identificar 'particulas' (grupos de pixels)"
 
+#: avidemux/ADM_filter/filter_declaration.cpp:190
+msgid "Add Framenumber"
+msgstr ""
+
+#: avidemux/ADM_filter/filter_declaration.cpp:190
+msgid "Print frame number directly in image"
+msgstr ""
+
 #: avidemux/ADM_filter/filter_declaration.cpp:195
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:123
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:128
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:144
 msgid "Partial"
 msgstr "Parcial"
@@ -1227,11 +1231,11 @@
 msgid "Size is not (s)QCIF"
 msgstr "El tama?o no es (s)QCIF"
 
-#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp:594
+#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp:631
 msgid "Problem reading SVQ3 headers"
 msgstr "Hubo un problema leyendo cabeceras SVQ3"
 
-#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp:346
+#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp:345
 msgid "No stts table"
 msgstr "Sin tabla stts"
 
@@ -1239,7 +1243,7 @@
 msgid "There is several mpeg file, append them ?"
 msgstr "Hay varios archivos mpeg, ?adjuntarlos?"
 
-#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:250
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:244
 msgid "Can't determine aspect ratio"
 msgstr "No se puede determinar la relaci?n de aspecto"
 
@@ -1278,7 +1282,7 @@
 
 #: avidemux/ADM_inputs/ADM_ogm/ADM_ogm.cpp:346
 msgid "Take second track ?"
-msgstr "?Coger segunda pista?"
+msgstr "?Seleccionar el segundo canal?"
 
 #: avidemux/ADM_inputs/ADM_ogm/ADM_ogm.cpp:426
 msgid "Scanning OGM"
@@ -1298,9 +1302,9 @@
 msgid "Indexing"
 msgstr "Indexando"
 
-#: avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp:379
+#: avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp:381
 msgid "Incompatible frame rate"
-msgstr "Framerate incompatible"
+msgstr "Ratio de im?gen incompatible"
 
 #: avidemux/ADM_libraries/ADM_lvemux/ADM_muxer.cpp:85
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:153
@@ -1316,8 +1320,8 @@
 msgid "lvemux init failed"
 msgstr "Inicio de lvemux fallido"
 
-#: avidemux/ADM_libraries/ADM_utilities/ADM_gettext.cpp:37
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:291
+#: avidemux/ADM_libraries/ADM_utilities/ADM_gettext.cpp:52
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:292
 msgid "_File"
 msgstr "Archivo"
 
@@ -1338,7 +1342,7 @@
 msgstr "Error convirtiendo a BMP"
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:417
-#: avidemux/gtk_gui.cpp:1927
+#: avidemux/gtk_gui.cpp:1930
 msgid "Something bad happened"
 msgstr "Ha sucedido algo inesperado"
 
@@ -1348,8 +1352,9 @@
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
 #: avidemux/ADM_ocr/adm_glyph.cpp:221
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:618
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:366
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:113
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:107
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:112
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:119
@@ -1358,16 +1363,15 @@
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:231
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:238
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:247
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:325
-#: avidemux/gtk_gui.cpp:903
-#: avidemux/gtk_gui.cpp:1505
+#: avidemux/gtk_gui.cpp:921
+#: avidemux/gtk_gui.cpp:1508
 msgid "File error"
 msgstr "Error de archivo"
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:366
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
-#: avidemux/gtk_gui.cpp:1505
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:113
+#: avidemux/gtk_gui.cpp:1508
 #, c-format
 msgid "Cannot open \"%s\" for writing."
 msgstr "No se puede abrir \"%s\" para escritura."
@@ -1391,14 +1395,14 @@
 
 #: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:332
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:43
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:376
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:398
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:383
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:405
 msgid "1:1"
 msgstr "1:1"
 
 #: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:334
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:598
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:795
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:600
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:797
 msgid "Unknown"
 msgstr "Desconocido"
 
@@ -1422,9 +1426,8 @@
 
 #: avidemux/ADM_ocr/ADM_ocrEngine.cpp:86
 #: avidemux/ADM_ocr/ADM_ocrEngine.cpp:92
-#, fuzzy
 msgid "Input file error"
-msgstr "Error de archivo de salida"
+msgstr "Error de archivo de entrada"
 
 #: avidemux/ADM_ocr/ADM_ocrEngine.cpp:86
 msgid "Unknown source type"
@@ -1440,7 +1443,7 @@
 
 #: avidemux/ADM_ocr/ADM_ocrEngine.cpp:100
 msgid "No subs"
-msgstr ""
+msgstr "Sin subt?tulos"
 
 #: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:254
 msgid "Ifo error"
@@ -1484,12 +1487,11 @@
 
 #: avidemux/ADM_osSupport/ADM_crashdump.cpp:437
 msgid "Load it"
-msgstr ""
+msgstr "Cargarlo"
 
 #: avidemux/ADM_osSupport/ADM_crashdump.cpp:437
-#, fuzzy
 msgid "Crash file"
-msgstr "Guardar el archivo"
+msgstr "Archivo accidentado"
 
 #: avidemux/ADM_osSupport/ADM_crashdump.cpp:438
 msgid ""
@@ -1501,37 +1503,68 @@
 "?Desea cargarlo?\n"
 "(ser? borrado de todos modos, deber? guardarlo si no quiere perderlo)"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:105
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:129
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:149
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:156
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:167
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:239
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:263
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:292
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:305
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:318
 #: avidemux/GUI_jobs.cpp:37
 msgid "Oops"
 msgstr "?Vaya!"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:105
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:239
 #, c-format
 msgid "can't create custom directory (%s)."
 msgstr "No se puede crear la carpeta (%s)."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:129
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:263
 #, c-format
 msgid "can't create job directory (%s)."
 msgstr "Imposible crear la carpeta de tareas (%s)."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:149
-msgid "can't determine $USERPROFILE."
-msgstr "No se pudo determinar el $USERPROFILE."
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:292
+msgid "Can't determine the Application Data folder."
+msgstr "No se puede determinar la carpeta de Datos de Aplicaci?n (Application Data)."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:156
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:305
 msgid "can't determine $HOME."
 msgstr "No se pudo determinar el $HOME."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:167
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:318
 msgid "Cannot create the .avidemux directory"
 msgstr "No se pudo crear la carpeta .avidemux"
 
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:618
+#: avidemux/gtk_gui.cpp:918
+#, c-format
+msgid "Cannot open \"%s\"."
+msgstr "No se puede abrir \"%s\"."
+
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:631
+#, c-format
+msgid ""
+"%s already exists.\n"
+"\n"
+"Do you want to replace it?"
+msgstr ""
+"%s ya existe.\n"
+"\n"
+"?Desea remplazarlo?"
+
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:658
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:672
+msgid "It is possible that you are trying to overwrite an input file!"
+msgstr "?Es posible que estes intentando sobrescribir el archivo de entrada!"
+
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:683
+msgid "Cannot write the file"
+msgstr "No se puede escribir el archivo"
+
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:683
+#, c-format
+msgid "No write access to \"%s\"."
+msgstr "No hay acceso de lectura a \"%s\"."
+
 #: avidemux/ADM_osSupport/ADM_misc.cpp:215
 #, c-format
 msgid "%lu minutes"
@@ -1553,14 +1586,14 @@
 msgstr "%lu segundos"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:74
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:242
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:845
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:244
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:847
 msgid "Normal"
 msgstr "Normal"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:75
 msgid "Mux every N video frames"
-msgstr "Codificar cada N frames"
+msgstr "Codificar cada N im?genes"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:76
 msgid "Mux by packet size"
@@ -1572,11 +1605,11 @@
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:80
 msgid "_Split every MB:"
-msgstr "Auto dividir cada MB:"
+msgstr "Autodividir cada MB:"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:82
 msgid "Mux _every x video frames:"
-msgstr "Codificar cada X frames"
+msgstr "Codificar cada X im?genes"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:83
 msgid "Mux in _blocks of x bytes:"
@@ -1586,110 +1619,110 @@
 msgid "AVI Muxer Options"
 msgstr "Opciones de compresi?n AVI"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:188
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:189
 msgid "Error initalizing audio filters"
 msgstr "Error inicializando filtros de sonido"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:197
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:198
 msgid "Error initalizing video filters"
 msgstr "Error inicializando filtros de v?deo"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:256
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:267
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:141
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:189
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:263
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:164
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:268
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:188
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:240
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:163
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:261
 #: avidemux/ADM_outputs/oplug_ogm/op_ogaudio.cpp:70
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:80
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:89
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:51
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:327
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:373
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:381
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:389
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:553
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:568
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:583
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:219
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1185
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:333
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:377
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:385
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:393
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:555
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:570
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:585
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:225
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1191
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:105
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:101
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:264
-#: avidemux/gtk_gui.cpp:2005
-#: avidemux/gtk_gui.cpp:2104
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:262
+#: avidemux/gtk_gui.cpp:2008
+#: avidemux/gtk_gui.cpp:2107
 msgid "None"
 msgstr "Ninguno"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:446
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:457
 #: avidemux/ADM_outputs/oplug_avi/op_avisavecopy.cpp:96
 #: avidemux/ADM_outputs/oplug_avi/op_avisavecopy_pack.cpp:121
 #: avidemux/ADM_outputs/oplug_avi/op_avisavecopy_unpack.cpp:98
 msgid "Cannot initiate save"
 msgstr "No se pudo iniciar el guardado"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:485
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:496
 msgid "DTS"
-msgstr ""
+msgstr "DTS"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:486
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:287
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:497
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:289
 msgid "PCM"
 msgstr "PCM"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:487
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:498
 msgid "MP2"
 msgstr "MP2"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:488
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:499
 msgid "MP3"
 msgstr "MP3"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:489
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:500
 msgid "WMA"
 msgstr "WMA"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:490
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:501
 msgid "LPCM"
 msgstr "LPCM"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:491
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:502
 msgid "AC3"
-msgstr ""
+msgstr "AC3"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:492
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:503
 msgid "Ogg Vorbis"
 msgstr "Ogg Vorbis"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:494
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:505
 msgid "AAC"
 msgstr "AAC"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:495
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:506
 msgid "QDM2"
-msgstr ""
+msgstr "QDM2"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:496
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:507
 msgid "AMR-NB"
-msgstr ""
+msgstr "AMR-NB"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:497
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:508
 msgid "MSADPCM"
 msgstr "MSADPCM"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:498
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:509
 msgid "ULAW"
-msgstr ""
+msgstr "ULAW"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:499
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:510
 msgid "IMA ADPCM"
-msgstr ""
+msgstr "IMA ADPCM"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:500
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:511
 msgid "8-bit PCM"
-msgstr ""
+msgstr "8-bit PCM"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:502
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:513
 msgid "Unknown codec"
 msgstr "Codec desconocido"
 
@@ -1710,15 +1743,15 @@
 
 #: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:93
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:149
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:197
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:176
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:76
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:196
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:175
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:78
 msgid "Filter init failed"
 msgstr "Error iniciando filtro"
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:127
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:401
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:100
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:128
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:414
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:103
 msgid ""
 "\n"
 " Reuse the existing log-file ?"
@@ -1726,27 +1759,26 @@
 "\n"
 " ?Reutilizar el archivo de registro existente?"
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:136
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:410
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:137
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:422
 msgid "1st Pass"
 msgstr ""
 
 #: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:152
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:437
 msgid "Aborting"
 msgstr "Abortando"
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:246
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:267
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:153
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:201
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:188
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:200
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:187
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:373
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:143
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:167
 msgid "Encoding"
 msgstr "Codificando"
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:250
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:467
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:269
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:493
 msgid "2nd Pass"
 msgstr "2nd pasada"
 
@@ -1755,35 +1787,34 @@
 msgstr ""
 
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:135
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:183
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:156
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:182
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:155
 msgid "Cannot initialize the video stream"
-msgstr "No se puede iniciar la pista de v?deo"
+msgstr "No se puede iniciar el stream de v?deo"
 
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:140
 msgid "Dummy"
 msgstr ""
 
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:179
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:215
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:227
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:326
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:214
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:337
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:421
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:206
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:321
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:342
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:454
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:352
 msgid "Error while encoding"
 msgstr "Error durante la codificaci?n"
 
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:190
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:238
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:226
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:213
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:328
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:349
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:461
 msgid "KeyFrame error"
 msgstr "Error de Imagen-Clave"
 
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:190
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:238
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:226
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:213
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:328
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:349
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:461
 msgid ""
 "The beginning frame is not a key frame.\n"
 "Please move the A marker."
@@ -1791,32 +1822,46 @@
 "La imagen inicial no es un Imagen-Clave\n"
 "Desplace el marcador A."
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:145
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:144
 msgid "Unsupported video"
 msgstr "V?deo no soportado"
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:145
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:144
 msgid "Only FLV1 and VP6 video are supported"
 msgstr "S?lo los v?deos FLV1 y VP6 son soportados"
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:167
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:172
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:166
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:171
 msgid "Unsupported audio"
 msgstr "Audio no soportado"
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:167
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:166
 msgid "Audio must be mp3 for flv output."
 msgstr "El formato de audio debe ser MP3 para el formato de salida FVL"
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:172
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:171
 msgid "Frequency must be 44100, 22050 or 11025 Hz."
 msgstr "La frecuencia debe ser 44100, 22050 o 11025 Hz."
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:248
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:253
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:225
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:230
 msgid "Cannot initialize the audio stream"
-msgstr "No se puede inicializar la pista de audio"
+msgstr "No se puede inicializar el  stream de audio"
 
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:248
+msgid "Invalid audio stream detected"
+msgstr "Detectado stream de audio inv?lido"
+
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:248
+msgid ""
+"The audio stream may be invalid for this container.\n"
+"\n"
+"Continue anyway?"
+msgstr ""
+"El stream de audio puede ser inv?lido para este contenedor.\n"
+"\n"
+"?Continuar de todos modos?"
+
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:89
 msgid "This is not MPEG compatible"
 msgstr "No es compatible con MPEG"
@@ -1829,7 +1874,7 @@
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:142
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:153
 msgid "There is no audio track"
-msgstr "No hay pista de audio"
+msgstr "No hay canal de audio"
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:101
 msgid "The first frame is not intra frame"
@@ -1842,7 +1887,7 @@
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:113
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:163
 msgid "Audio track is not suitable"
-msgstr "La pista de audio no es utilizable"
+msgstr "El canal de audio no es adecuado"
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:153
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:173
@@ -1851,11 +1896,11 @@
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:182
 msgid "For DVD, audio must be 48 kHz MP2(stereo), AC3, DTS or LPCM (stereo)."
-msgstr "Para DVD, el sonido debe ser de 48 kHz MP2(stereo), AC3, DTS o LPCM (stereo)."
+msgstr "Para DVD, el sonido debe ser de 48 kHz MP2(estereo), AC3, DTS o LPCM (estereo)."
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:222
 msgid "---"
-msgstr ""
+msgstr "---"
 
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:230
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:287
@@ -1883,27 +1928,27 @@
 
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:260
 msgid "libmpeg2enc VCD"
-msgstr ""
+msgstr "libmpeg2enc VCD"
 
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:263
 msgid "libmpeg2enc SVCD"
-msgstr ""
+msgstr "libmpeg2enc SVCD"
 
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:266
 msgid "libmpeg2enc DVD"
-msgstr ""
+msgstr "libmpeg2enc DVD"
 
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:269
 msgid "FFmpeg MPEG-1 VBR"
-msgstr ""
+msgstr "FFmpeg MPEG-1 VBR"
 
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:272
 msgid "FFmpeg MPEG-2 SVCD VBR"
-msgstr ""
+msgstr "FFmpeg MPEG-2 SVCD VBR"
 
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:275
 msgid "FFmpeg MPEG-2 DVD VBR"
-msgstr ""
+msgstr "FFmpeg MPEG-2 DVD VBR"
 
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:278
 msgid "MPEG Requantizer"
@@ -1919,7 +1964,7 @@
 
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:311
 msgid "Pass 1/2"
-msgstr ""
+msgstr "Pasada 1/2"
 
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:320
 msgid "Error in pass 1"
@@ -1927,17 +1972,17 @@
 
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:371
 msgid "Pass 2/2"
-msgstr ""
+msgstr "Pasada 2/2"
 
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:463
 msgid "Error in pass 2"
 msgstr "Error en pasada 2"
 
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:126
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:127
 msgid "Could not initialize video"
 msgstr "No se pudo inicializar v?deo"
 
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:134
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:135
 msgid "Could not initialize audio"
 msgstr "No se pudo inicializar audio"
 
@@ -1945,13 +1990,13 @@
 msgid "Saving..."
 msgstr "Guardando..."
 
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:111
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:114
 msgid "Pass one"
-msgstr ""
+msgstr "Pasada 1"
 
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:139
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:163
 msgid "Pass 2"
-msgstr ""
+msgstr "Pasada 2"
 
 #: avidemux/ADM_script/ADM_JSFunctions.cpp:238
 msgid "Select a directory"
@@ -2000,9 +2045,8 @@
 msgstr "Imagen de fondo: "
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_animated.cpp:36
-#, fuzzy
 msgid "Select background image"
-msgstr "Imagen de fondo: "
+msgstr "Seleccionar imagen de fondo"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_animated.cpp:37
 msgid "_NTSC(default is Pal):"
@@ -2022,7 +2066,6 @@
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_animated.cpp:46
-#, fuzzy
 msgid "Timecode:"
 msgstr "Marca de tiempo:"
 
@@ -2040,7 +2083,6 @@
 msgstr "Rango de compresi?n din?mica"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:64
-#, fuzzy
 msgid "_Time shift (ms):"
 msgstr "Desfase (ms):"
 
@@ -2085,7 +2127,7 @@
 msgstr "Valor de la g_anancia:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:97
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:200
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:204
 msgid "Gain"
 msgstr "Ganancia"
 
@@ -2095,19 +2137,19 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:105
 msgid "Stereo+surround"
-msgstr "Stereo+Surround"
+msgstr "Estereo+Surround"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:106
 msgid "Stereo+center"
-msgstr "Stereo+Centro"
+msgstr "Estereo+Centro"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:107
 msgid "Stereo+center+surround"
-msgstr "Stereo+Centro+Surround"
+msgstr "Estereo+Centro+Surround"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:108
 msgid "Stereo front+stereo rear"
-msgstr "Stereo Frontal+stereo trasero"
+msgstr "Estereo Frontal+estereo trasero"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:109
 msgid "5 channels"
@@ -2143,29 +2185,24 @@
 msgstr "Bitrate m?x.:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:215
-#, fuzzy
 msgid "Average bitrate:"
-msgstr "Bitrate medio (kb/s):"
+msgstr "Bitrate medio:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:216
-#, fuzzy
 msgid "Number of I frames:"
-msgstr "N?mero de frames B:"
+msgstr "N?mero de im?genes I:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:217
-#, fuzzy
 msgid "Number of P frames:"
-msgstr "N?mero de frames B:"
+msgstr "N?mero de im?genes P:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:218
-#, fuzzy
 msgid "Number of B frames:"
-msgstr "N?mero de frames B:"
+msgstr "N?mero de im?genes B:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:219
-#, fuzzy
 msgid "Max. B frames:"
-msgstr "Bitrate m?x.:"
+msgstr "Max. im?genes B:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_bitrateHisto.cpp:232
 msgid "Bitrate Histogram"
@@ -2216,12 +2253,12 @@
 msgstr "Vorbis"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:156
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:307
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:309
 msgid "aRts"
 msgstr "aRts"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:157
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:313
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:315
 msgid "ESD"
 msgstr "ESD"
 
@@ -2238,17 +2275,17 @@
 msgstr "Gettext"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:161
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:304
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:306
 msgid "ALSA"
 msgstr "ALSA"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:162
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:319
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:321
 msgid "OSS"
 msgstr "OSS"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:163
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:322
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:328
 msgid "SDL"
 msgstr "SDL"
 
@@ -2281,27 +2318,27 @@
 msgstr "Librer?as"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:178
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:404
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:410
 msgid "CPU"
 msgstr "CPU"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_builtin.cpp:182
 msgid "Built-in Support"
-msgstr "Soporte incorporado para"
+msgstr "Soporte incorporado"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:48
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:44
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:42
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:380
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:402
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:387
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:409
 msgid "4:3"
 msgstr "4:3"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:49
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:45
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:43
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:384
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:406
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:391
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:413
 msgid "16:9"
 msgstr "16:9"
 
@@ -2342,15 +2379,15 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:63
 msgid "VCD 40 kB"
-msgstr ""
+msgstr "VCD 40 kB"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:64
 msgid "SVCD 112 kB"
-msgstr ""
+msgstr "VCD 40 kB"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:65
 msgid "DVD 224 kB"
-msgstr ""
+msgstr "DVD 224 kB"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_DVDff.cpp:70
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_SVCD.cpp:60
@@ -2395,8 +2432,8 @@
 msgstr "Configuraci?n libavcodec MPEG-2"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flv1.cpp:44
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:109
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:268
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:116
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:275
 msgid "_Bitrate (kb/s):"
 msgstr "_Bitrate (kb/s):"
 
@@ -2417,23 +2454,20 @@
 msgstr "Segunda pasada:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_gototime.cpp:32
-#, fuzzy
 msgid "Go to Time"
-msgstr "Saltar a _tiempo..."
+msgstr "Saltar a tiempo"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_jobs_save.cpp:6
 msgid "_Job name:"
 msgstr "Nombre de tarea"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_jobs_save.cpp:7
-#, fuzzy
 msgid "Output _File:"
-msgstr "Archivo de Salida"
+msgstr "Archivo de salida:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_jobs_save.cpp:7
-#, fuzzy
 msgid "Select Video To Write"
-msgstr "Seleccione archivo AVI para escribir"
+msgstr "Seleccione archivo a escribir"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_jobs_save.cpp:10
 msgid "Save Job"
@@ -2496,7 +2530,7 @@
 msgstr "4_MV"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:79
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1235
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1242
 msgid "_Trellis quantization"
 msgstr "Cuantizaci?n Trellis"
 
@@ -2505,13 +2539,13 @@
 msgstr "_Quarter pixel"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:82
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1018
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1025
 msgid "_GMC"
 msgstr "_GMC"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:85
 msgid "_Number of B frames:"
-msgstr "N?mero de frames B:"
+msgstr "N?mero de im?genes B:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:86
 msgid "_Quantization type:"
@@ -2526,7 +2560,6 @@
 msgstr "Tolerancia de tama?o (kb):"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:92
-#, fuzzy
 msgid "_Quantizer compression:"
 msgstr "Cuantizador de compresi?n:"
 
@@ -2536,12 +2569,12 @@
 msgstr "Cuantizador:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:98
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:372
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:378
 msgid "User Interface"
 msgstr "Interfaz de usuario"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:101
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1028
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1035
 msgid "Advanced Simple Profile"
 msgstr "Perfil Simple Avanzado"
 
@@ -2550,13 +2583,13 @@
 msgstr "Estimaci?n de movimiento"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:112
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:309
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1240
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:313
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1247
 msgid "Quantization"
 msgstr "Cuantizaci?n"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:117
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1480
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1486
 msgid "Rate Control"
 msgstr "Control de Frecuencia"
 
@@ -2565,8 +2598,7 @@
 msgstr "Configuraci?n libavcodec MPEG-4"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp:26
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:41
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:22
 msgid "_Swap U and V"
 msgstr "Intercambiar U y V"
 
@@ -2579,9 +2611,8 @@
 msgstr "Opciones del decodificador"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_mjpeg.cpp:37
-#, fuzzy
 msgid "_Swap U&V"
-msgstr "_Swap U&V:"
+msgstr "Intercambiar U&V"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_mjpeg.cpp:39
 msgid "MJPEG Configuration"
@@ -2597,10 +2628,9 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:86
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:202
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:367
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:373
 msgid "Select GlyphSet file"
-msgstr "Seleccionar archivo de salida"
+msgstr "Seleccionar archivo GlyphSet"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:87
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:203
@@ -2609,9 +2639,8 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:87
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:203
-#, fuzzy
 msgid "Save SRT file"
-msgstr "Guardar el archivo"
+msgstr "Guardar archivo SRT"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:97
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:214
@@ -2636,29 +2665,25 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:147
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:268
-#, fuzzy
 msgid "GlyphSet filename"
-msgstr "Nombre no v?lido"
+msgstr "Nombre del archivo GlyphSet"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:147
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:268
-#, fuzzy
 msgid "Save GlyphSet file"
-msgstr "Guardar el archivo"
+msgstr "Guardar GlyphSet"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:149
 msgid "Save Glyph"
 msgstr "Guardar Glyph"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:200
-#, fuzzy
 msgid "Input TS:"
-msgstr "Entrada"
+msgstr "Entrada TS:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:200
-#, fuzzy
 msgid "Select TS file"
-msgstr "Seleccionar archivo TTF"
+msgstr "Seleccionar archivo TS"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:201
 msgid "Subtitle PID:"
@@ -2669,339 +2694,337 @@
 msgstr "Usar glyphset (opcional):"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:225
-#, fuzzy
 msgid "Please Select a valid TS file."
-msgstr "Seleccione o introduzca un archivo SRT v?lido"
+msgstr "Seleccione o introduzca un archivo TS v?lido."
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:270
-#, fuzzy
 msgid "Save GlyphSet"
-msgstr "Guardar Glyph"
+msgstr "Guardar GlyphSet"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:40
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:21
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:60
 msgid "_Filter strength:"
 msgstr "Intensidad de Filtrado: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:51
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:344
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:32
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:350
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:72
 msgid "_Horizontal deblocking"
 msgstr "Desbloqueo horizontal"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:52
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:345
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:33
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:351
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:73
 msgid "_Vertical deblocking"
 msgstr "Desbloqueo vertical"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:53
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:34
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:74
 msgid "_Deringing"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:187
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:38
+msgid "Postprocessing"
+msgstr "Postprocesando"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:189
 msgid "_Use systray while encoding"
-msgstr "Minimizar en el tray al codificar"
+msgstr "Minimizar en la bandeja del sistema al codificar"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:188
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:190
 msgid "_Accept non-standard audio frequency for DVD"
 msgstr "Permitir frecuencia de sonido no est?ndar para DVD"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:189
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:191
 msgid "_Use libavcodec MPEG-2 decoder"
 msgstr "Usar decodificador MPEG-2 libavcodec"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:190
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:192
 msgid "Create _OpenDML files"
 msgstr "Crear archivos _OpenDML"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:191
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:193
 msgid "Automatically _index MPEG files"
 msgstr "Indexar autom?ticamente archivos MPEG"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:192
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:194
 msgid "Automatically _swap A and B if A>B"
-msgstr "Indexar autom?ticamente archivos MPEG"
+msgstr "Interncambiar automaticamente A y B si A>B"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:193
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:195
 msgid "_Disable NUV audio sync"
 msgstr "Desactivar sincronizaci?n de audio NUV"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:195
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:197
 msgid "Automatically _build VBR map"
 msgstr "Construir autom?ticamente mapa VBR"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:196
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:198
 msgid "Automatically _rebuild index"
 msgstr "Reconstruir autom?ticamente el ?ndice"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:197
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:199
 msgid "Automatically remove _packed bitstream"
 msgstr "Eliminar autom?ticamente el empaquetado bitstream"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:199
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:201
 msgid "SIMD"
 msgstr "SIMD"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:201
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:203
 msgid "Enable all SIMD"
 msgstr "Habilitar todos los SIMD"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:202
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:204
 msgid "Enable MMX"
 msgstr "Activar MMX"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:203
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:205
 msgid "Enable MMXEXT"
 msgstr "Activar MMXEXT"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:204
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:206
 msgid "Enable 3DNOW"
 msgstr "Activar 3DNOW"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:205
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:207
 msgid "Enable 3DNOWEXT"
 msgstr "Activar 3DNOWEXT"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:206
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:208
 msgid "Enable SSE"
 msgstr "Activar SSE"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:207
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:209
 msgid "Enable SSE2"
 msgstr "Activar SSE2"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:208
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:210
 msgid "Enable SSE3"
 msgstr "Activar SSE3"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:209
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:211
 msgid "Enable SSSE3"
 msgstr "Activar SSSE3"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:230
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:232
 msgid "_lavc threads:"
-msgstr "Procesos Xvid:"
+msgstr "Procesos lavc:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:231
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:233
 msgid "_x264 threads:"
 msgstr "Procesos x264:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:232
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:234
 msgid "X_vid threads:"
 msgstr "Procesos Xvid:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:234
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:236
 msgid "Multi-threading"
 msgstr "Multi-tarea"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:240
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:843
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:242
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:845
 msgid "High"
 msgstr "Alto"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:241
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:243
 msgid "Above normal"
 msgstr "Por encima de lo normal"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:243
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:245
 msgid "Below normal"
 msgstr "Por debajo de lo normal"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:244
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:847
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:246
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:849
 msgid "Low"
 msgstr "Bajo"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:246
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:248
 msgid "_Encoding priority:"
 msgstr "Prioridad de codificaci?n:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:247
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:249
 msgid "_Indexing/unpacking priority:"
 msgstr "Prioridad de Indexado/descompresi?n:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:248
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:250
 msgid "_Playback priority:"
 msgstr "Prioridad de reproducci?n:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:250
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:252
 msgid "Prioritisation"
 msgstr "Priorizaci?n"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:255
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:257
 msgid "_Split MPEG files every (MB):"
-msgstr "Auto dividir archivos MPEG cada (MB):"
+msgstr "Autodividir archivos MPEG cada (MB):"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:257
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:259
 msgid "_Use alternative tag for MP3 in .mp4"
 msgstr "Usar un tag alternativo para MP3 en .mp4"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:260
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:262
 msgid "GTK+ (slow)"
 msgstr "GTK+ (Lento)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:262
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:264
 msgid "XVideo (best)"
 msgstr "XVideo (mejor)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:266
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:268
 msgid "SDL (GDI)"
 msgstr "SDL (GDI)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:267
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:269
 msgid "SDL (DirectX)"
 msgstr "SDL (DirectX)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:269
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:271
 msgid "SDL (good)"
 msgstr "SDL (buena)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:273
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:275
 msgid "Video _display:"
-msgstr "Bitrate v?deo:"
+msgstr "Pantalla de v?deo:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:278
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:280
 msgid "No alerts"
 msgstr "Sin alertas"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:279
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:281
 msgid "Display only error alerts"
 msgstr "Mostrar solo alertas de error"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:280
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:282
 msgid "Display all alerts"
 msgstr "Mostrar todas las alertas"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:282
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:284
 msgid "_Message level:"
 msgstr "Nivel de mensaje:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:288
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:290
 msgid "Master"
 msgstr "Principal"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:289
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:291
 msgid "_Volume control:"
 msgstr "Control de volumen:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:294
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:296
 msgid "No downmixing"
 msgstr "Sin downmixing (multicanal)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:296
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:298
 msgid "Pro Logic"
 msgstr "Pro Logic"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:297
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:299
 msgid "Pro Logic II"
 msgstr "Pro Logic II"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:299
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:301
 msgid "_Local playback downmixing:"
 msgstr "Downmixing de reproducci?n Local:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:310
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:312
 msgid "Core Audio"
-msgstr "Audio"
+msgstr "Core Audio"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:316
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:318
 msgid "JACK"
 msgstr "JACK"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:325
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:324
+msgid "Pulse Audio"
+msgstr "Pulse Audio"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:331
 msgid "Win32"
 msgstr "Win32"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:330
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:336
 msgid "_Audio output:"
 msgstr "Salida de audio"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:333
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:339
 msgid "ALSA _device:"
 msgstr "_Elemento ALSA"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:346
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:352
 msgid "De_ringing"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:347
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:353
 #: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:167
 #: avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp:197
-#, fuzzy
 msgid "_Strength:"
-msgstr "Intensidad: "
+msgstr "Fuerza: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:348
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:354
 msgid "Default Postprocessing"
-msgstr "Post-procesamiento por defecto"
+msgstr "Postprocesamiento por defecto"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:362
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:368
 msgid "_Filter directory:"
 msgstr "Carpeta de filtros:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:362
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:368
 msgid "Select filter directory"
-msgstr "Seleccionar directorio"
+msgstr "Seleccionar directorio de filtros"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:363
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:369
 msgid "_Load external filters"
 msgstr "Cargar filtros externos"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:366
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:372
 msgid "Use _Global GlyphSet"
 msgstr "Usar Global GlyphSet"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:367
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:373
 msgid "Gl_yphSet:"
-msgstr "Tipo: "
+msgstr "GlyphSet:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:376
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:382
 msgid "Automation"
 msgstr "Automatizaci?n"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:380
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:543
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:386
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:539
 msgid "Input"
 msgstr "Entrada"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:384
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:544
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:390
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:540
 msgid "Output"
 msgstr "Salida"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:389
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:392
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:395
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:398
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:401
 msgid "Audio"
 msgstr "Audio"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:400
-#: avidemux/gtk_gui.cpp:2004
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:406
+#: avidemux/gtk_gui.cpp:2007
 msgid "Video"
 msgstr "V?deo"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:408
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:414
 msgid "Threading"
 msgstr "Hilos"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:412
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:418
 msgid "Global GlyphSet"
-msgstr "Usar Global GlyphSet"
+msgstr "GlyphSet global "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:416
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:422
 msgid "External Filters"
 msgstr "Filtros externos"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:420
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:426
 msgid "Preferences"
 msgstr "Preferencias"
 
@@ -3037,63 +3060,110 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:38
 msgid "PSP full res (720*480"
-msgstr "PSP full res (720*480"
+msgstr "PSP (720*480)"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:54
-#, fuzzy
 msgid "_Target type:"
-msgstr "Tipo de imagen:"
+msgstr "Perfil:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:55
-#, fuzzy
 msgid "_Source aspect ratio:"
-msgstr "Relaci?n de aspecto:"
+msgstr "Relaci?n de aspecto inicial:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:56
-#, fuzzy
 msgid "_Destination aspect ratio:"
-msgstr "No se puede determinar la relaci?n de aspecto"
+msgstr "Relaci?n de aspecto final:"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_resizeWiz.cpp:61
-#, fuzzy
 msgid "Auto Wizard"
-msgstr "AutoLuminancia"
+msgstr "Autoasistente"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:88
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:51
+msgid "Arabic"
+msgstr "?rabe"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:52
+msgid "Baltic"
+msgstr "B?ltico"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:53
+msgid "Chinese Simplified (GB2312)"
+msgstr "Chino simplificado (GB2312)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:54
+msgid "Chinese Traditional (Big5)"
+msgstr "Chino tradicional (Big5)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:55
+msgid "Cyrillic"
+msgstr "Cir?lico"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:56
+msgid "Latin-1 (Western European)"
+msgstr "Lat?n-1 (Europa Occidental)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:57
+msgid "Latin-2 (Central European)"
+msgstr "Lat?n-2 (Europa Central)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:58
+msgid "Greek"
+msgstr "Griego"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:59
+msgid "Hebrew"
+msgstr "Hebreo"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:60
+msgid "Slovene"
+msgstr "Esloveno "
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:61
+msgid "Turkish"
+msgstr "Turco"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:62
+msgid "UTF-8"
+msgstr "UTF-8"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:63
+msgid "UTF-16"
+msgstr "UTF-16"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:98
 msgid "_Subtitle file:"
 msgstr "Archivo de subt?tulos: "
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:88
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:98
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:87
 msgid "Select Subtitle file"
 msgstr "Seleccionar archivo de subt?tulos"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:89
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:99
 msgid "_Font (TTF):"
 msgstr "Fuente (TTF):"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:89
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:99
 msgid "Select TTF file"
 msgstr "Seleccionar archivo TTF"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:104
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:114
 msgid "_Encoding:"
 msgstr "Codificando:"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:106
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:116
 msgid "S_elect C_olor"
 msgstr "Seleccionar color"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:107
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:117
 msgid "Set Size and _Position"
 msgstr "Fijar Tama?o y Posici?n"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:108
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:118
 msgid "_Auto split"
-msgstr "AutoLuminancia"
+msgstr "Autodividir"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:109
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:119
 msgid "_Delay (ms):"
 msgstr ""
 
@@ -3103,13 +3173,13 @@
 msgstr "Auto (puede no funcionar)"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:46
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:178
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:176
 #, fuzzy
 msgid "Top field first"
 msgstr "Intercambiar campos"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:47
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:177
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:175
 #, fuzzy
 msgid "Bottom field first"
 msgstr "Campo inf. (conservar superior)"
@@ -3140,11 +3210,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:66
 msgid "4 fields check"
-msgstr ""
+msgstr "4 campos de verificaci?n"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:67
 msgid "5 fields check"
-msgstr ""
+msgstr "5 campos de verificaci?n"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:68
 msgid "4 fields check (no avg)"
@@ -3165,34 +3235,34 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:77
 msgid "Y to UV"
-msgstr ""
+msgstr "Y a UV"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:78
 msgid "UV to Y"
 msgstr ""
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:82
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:632
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:648
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:664
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:694
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:661
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:668
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:675
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:788
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:636
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:652
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:668
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:698
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:663
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:670
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:677
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:790
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:166
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:206
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:79
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:93
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:419
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:433
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1213
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:426
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:440
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1218
 msgid "0"
 msgstr "0"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:83
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:841
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:852
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:847
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:858
 msgid "1"
 msgstr "1"
 
@@ -3250,9 +3320,8 @@
 msgstr "Agudizar"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:104
-#, fuzzy
 msgid "_Evalute all frames"
-msgstr "Imposible borrar todos los frames"
+msgstr "_Valorar todas las im?genes "
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_tdeint.cpp:107
 msgid "Motion threshold, l_uma:"
@@ -3316,20 +3385,15 @@
 msgid "Please select a correct VobSub path/dir"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:66
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:274
-msgid "Avidemux"
-msgstr "Avidemux"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:46
+msgid "and all the others."
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:67
-msgid "? 2001-2007 Mean"
-msgstr "? 2001-2007 Mean"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:68
-msgid "Multiplatform video editor"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:69
+msgid "Multi-platform Video Editor"
 msgstr "Editor de v?deo multiplataforma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:69
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:70
 msgid ""
 "Avidemux is free software; you can redistribute it and/or modify it\n"
 "under the terms of the GNU General Public License version 2\n"
@@ -4025,50 +4089,51 @@
 "library.  If this is what you want to do, use the GNU Library General\n"
 "Public License instead of this License."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:71
-msgid "http://www.avidemux.org"
-msgstr "http://www.avidemux.org"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:74
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_about.cpp:75
 msgid "translator-credits"
 msgstr ""
+"* Traductor actual\n"
+"Festor Wailon Dacoba\n"
+"festor90 at gmail.com\n"
+"\n"
+"* Traductor inicial\n"
 "Songoku\n"
 "juliocesargoku at yahoo.es\n"
 "http://lawebdegoku.es"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp:138
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp:141
 msgid "AudioCodec"
 msgstr "Codec de audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp:163
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_acodec.cpp:166
 msgid "Configure codec"
 msgstr "Configurar codec"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:71
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:75
 msgid "ASHARP"
 msgstr "ASHARP"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:183
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:187
 msgid "ASharp by MarcFD"
 msgstr "ASharp por MarcFD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:196
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:200
 msgid "Threshold :"
 msgstr "Umbral:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:204
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:208
 msgid "Strength :"
 msgstr "Intensidad: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:212
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:216
 msgid "Block Adaptative :"
 msgstr "Bloque adaptativo: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:220
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:224
 msgid "Unknown flag :"
 msgstr "Marca desconocida:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:252
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_asharp.cpp:256
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:161
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:255
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:276
@@ -4079,252 +4144,252 @@
 msgid "Busy"
 msgstr "Ocupado"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:401
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:999
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:405
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1000
 msgid "Calculator"
 msgstr "Calculadora"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:414
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:418
 msgid "<b>Target</b>"
 msgstr "<b>Destino</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:441
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:445
 msgid "Duration:"
 msgstr "Duraci?n:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:447
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:802
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:451
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:804
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:198
 msgid "00:00:00"
 msgstr "00:00:00"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:461
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:465
 msgid "_Medium:"
-msgstr "_Medio:"
+msgstr "_Soporte:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:472
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:476
 msgid "_Format:"
 msgstr "_Formato:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:483
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:541
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:487
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:545
 msgid "Total size (custom)"
 msgstr "Tama?o total (personalizado)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:493
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:497
 msgid "_Custom size (MB):"
 msgstr "Tama?o personalizado (MB):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:507
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:511
 msgid "Output container format"
 msgstr "Formato del contenedor de salida"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:534
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:538
 msgid "Total size"
 msgstr "Tama?o total"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:538
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:542
 msgid "1x 80 min. CD"
 msgstr "1x 80 min. CD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:543
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:547
 msgid "2x 80 min. CD"
 msgstr "2x 80 min. CD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:547
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:551
 msgid "1x 74 min. CD"
 msgstr "1x 74 min. CD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:551
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:555
 msgid "2x 74 min. CD"
 msgstr "2x 74 min. CD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:555
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:559
 msgid "DVD5"
 msgstr "DVD5"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:559
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:855
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:563
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:861
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_threadCount.cpp:87
 msgid "Custom"
 msgstr "Personalizar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:571
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:575
 msgid "Track _1:"
-msgstr "Pista 1:"
+msgstr "Canal 1:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:579
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:583
 msgid "Audio bitrate in kb/s for track 1 (0 for no audio)"
-msgstr "Bitrate en kb/s para pista 1 (0 para sin audio)"
+msgstr "Bitrate en kb/s para canal 1 (0 para sin audio)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:586
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:590
 msgid "Track _2: "
-msgstr "Pista 2:"
+msgstr "Canal 2:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:594
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:598
 msgid "Audio bitrate in kb/s for track 2 (optional)"
-msgstr "BItrate en kb/s para pista 2 (opcional)"
+msgstr "BItrate en kb/s para canal 2 (opcional)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:598
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:602
 msgid "<b>Audio Bitrate</b>"
 msgstr "<b>Bitrate audio</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:624
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:628
 msgid "Audio size (MB):"
 msgstr "Tama?o del audio (MB):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:640
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:644
 msgid "Video size (MB):"
 msgstr "Tama?o v?deo (MB):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:656
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:660
 msgid "Total size (MB):"
 msgstr "Tama?o total (MB):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:678
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:682
 msgid "Video bitrate:"
 msgstr "Bitrate v?deo:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:686
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:690
 msgid "Bits per pixel:"
 msgstr "Bits por pixel:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:702
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:706
 msgid "0.0"
 msgstr "0.0"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:710
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:714
 msgid "<b>Result</b>"
 msgstr "<b>Resultado</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:67
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:72
 #, fuzzy
 msgid "Chroma Shift"
 msgstr "CromaShift"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:184
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:189
 msgid "ChromaShift"
 msgstr "CromaShift"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:198
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:203
 msgid "U Shift :"
 msgstr "U Shift:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:205
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:210
 msgid "V Shift :"
 msgstr "V Shift:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:247
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_chromaShift.cpp:252
 msgid "<b>Preview</b>"
 msgstr "<b>Previsualizaci?n</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:137
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:141
 msgid "Chroma Noise Reduction 2"
 msgstr "Reducci?n de ruido croma 2"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:162
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:166
 msgid "<b>Scene change Treshold</b>"
 msgstr "<b>Umbral de cambio de escena</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:181
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:185
 msgid "Sensibility"
 msgstr "Sensibilidad"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:189
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:193
 msgid "Max"
 msgstr "M?x"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:204
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:208
 msgid "Luma :"
 msgstr "Luma:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:211
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:215
 msgid "Chroma U :"
 msgstr "Croma U: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:218
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:222
 msgid "Chroma V :"
 msgstr "Croma V: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:261
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:265
 msgid "Narrow"
 msgstr "Narrow"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:286
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:290
 msgid "<b>Settings</b>"
 msgstr "<b>Configuraci?n</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:305
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:309
 msgid "Use also chroma to detect scene change"
 msgstr "Utilizar tambi?n croma para detectar cambios de escena"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:309
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_cnr2.cpp:313
 msgid "<b>Mode</b>"
 msgstr "<b>Modo</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:155
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:159
 msgid "ColorYuv (From avisynth)"
 msgstr "ColorYuv (De avisynth)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:186
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:221
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:190
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:225
 msgid "Brightness"
 msgstr "Brillo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:193
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:197
 msgid "Gamma"
 msgstr "Gamma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:207
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:211
 msgid "Luma Y"
 msgstr "Luma Y"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:214
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:239
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:218
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:243
 msgid "Chroma U"
 msgstr "Croma U"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:221
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:225
 msgid "Chroma V"
 msgstr "Croma Y"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:324
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:328
 msgid "<b>Color Correction Matrix</b>"
 msgstr "<b>Matriz de correcci?n de color</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:347
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:351
 msgid "Matrix"
 msgstr "Matriz"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:354
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:358
 msgid "Opt"
 msgstr "Salida"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:361
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:365
 msgid "Level"
 msgstr "Nivel"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:374
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:378
 msgid "Rec.709"
 msgstr "Rec.709"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:382
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:386
 msgid "Coring"
 msgstr "Coring"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:390
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:394
 msgid "TV->PC"
 msgstr "TV->PC"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:391
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:395
 msgid "PC->TV"
 msgstr "PC->TV"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:392
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:396
 msgid "PC->TV.Y"
 msgstr "PC->TV.Y"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:398
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:402
 msgid ""
 "<b>Matrix Warning :</b>\n"
 "all above values are normalized to 256!"
@@ -4332,210 +4397,207 @@
 "<b>Aviso de matriz:</b>\n"
 " ?Todos los valores superiores son normalizados a 256!"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:404
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:408
 msgid "AutoGain"
-msgstr "Auto Ganancia"
+msgstr "AutoGanancia"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:408
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:412
 msgid "Display Stats"
 msgstr "Ver estad?sticas"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:412
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:416
 msgid "AutoWhite"
 msgstr "AutoLuminancia"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:416
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:420
 msgid "<b>frame2</b>"
 msgstr "<b>frame2</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:235
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:239
 msgid "Luma"
 msgstr "Luma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:243
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_contrast.cpp:247
 msgid "Chroma v"
 msgstr "Chroma v"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:255
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:252
+#: avidemux/ADM_videoFilter/ADM_vidCrop.cpp:193
 msgid "Crop Settings"
 msgstr "Config. de Corte"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:289
-msgid "AutoCrop"
-msgstr "Autorecorte"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:311
-msgid "Reset"
-msgstr "Limpiar"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:320
-msgid "Crop Left :"
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:277
+#, fuzzy
+msgid "Crop Left:"
 msgstr "Corte Izq.:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:328
-msgid "Crop Top:"
-msgstr "Corte Sup.:"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:336
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:284
 msgid "Crop Right:"
 msgstr "Corte Der.:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:344
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:291
+msgid "Crop Top:"
+msgstr "Corte Sup.:"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:298
 msgid "Crop Bottom:"
 msgstr "Corte Inf.:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:161
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:183
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_crop.cpp:341
+msgid "Auto Crop"
+msgstr "Autorecorte"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:163
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:185
 msgid "Privileges Required"
 msgstr "Se necesitan Privilegios"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:161
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:183
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:163
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:185
 msgid "Root privileges are required to perform this operation."
 msgstr "Se necesitan privilegios de Superusuario para llevar a cabo esta operaci?n."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:204
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:206
 msgid "Shutting down"
 msgstr "Apagando"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:381
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:383
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:150
 #, c-format
 msgid "%d%%"
 msgstr "%d%%"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:404
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:411
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:418
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:406
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:413
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:420
 #, c-format
 msgid "%lu MB"
 msgstr "%lu MB"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:514
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:516
 msgid "Encoding..."
 msgstr "Codificando... "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:545
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:547
 msgid "<b>Phase:</b>"
 msgstr "<b>Fase:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:560
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:562
 msgid "<b>Video Codec:</b>"
 msgstr "<b>Codec de v?deo:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:575
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:577
 msgid "<b>Audio Codec:</b>"
 msgstr "<b>Codec de audio:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:590
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:592
 msgid "<b>Container:</b>"
 msgstr "<b>Contenedor:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:622
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:624
 msgid "<b>Processed Frames:</b>"
-msgstr "<b>Frames procesados:</b>"
+msgstr "<b>Im?genes procesadas:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:630
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:632
 msgid "<b>Total Frames:</b>"
-msgstr "<b>Total Frames:</b>"
+msgstr "<b>Im?genes totales:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:638
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:640
 msgid "<b>Quantiser:</b>"
 msgstr "<b>Cuantizador:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:646
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:648
 msgid "<b>Average Bitrate:</b>"
-msgstr "<b>Bitrate</b>"
+msgstr "<b>Bitrate promedio:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:654
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:656
 msgid "0 kB/s"
 msgstr "0 kB/s"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:699
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:701
 msgid "<b>Video Size:</b>"
 msgstr "<b>Tama?o v?deo:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:707
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:709
 msgid "<b>Audio Size:</b>"
 msgstr "<b>Tama?o audio:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:715
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:717
 msgid "<b>Total Size:</b>"
 msgstr "<b>Tama?o total:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:723
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:731
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:739
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:725
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:733
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:741
 msgid "0 MB"
 msgstr "0 MB"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:764
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:766
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:244
 msgid "<b>Elapsed:</b>"
 msgstr "<b>Transcurrido:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:772
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:774
 msgid "<b>Time Remaining:</b>"
 msgstr "<b>Tiempo restante</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:780
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:782
 msgid "<b>Frames/sec:</b>"
 msgstr "<b>Im?genes/seg:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:826
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:828
 msgid "Shut down computer when finished"
 msgstr "Apagar el ordenador al terminar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:834
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:836
 msgid "Priority:"
 msgstr "Prioridad."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:844
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:846
 msgid "Above Normal"
-msgstr "Por encima de lo Normal"
+msgstr "Por encima de lo normal"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:846
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:848
 msgid "Below Normal"
-msgstr "Por debajo de lo Normal"
+msgstr "Por debajo de lo normal"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:884
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:886
 msgid "Pause / Abort"
 msgstr "Pausar / Cancelar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:231
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:235
 msgid "Brigh_tness:"
 msgstr "Brillo:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:239
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:243
 msgid "_Saturation:"
 msgstr "Saturaci?n:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:274
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:278
 msgid "_Contrast:"
 msgstr "_Contraste:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:300
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:304
 msgid "_Initial:"
 msgstr "_Inicial:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:326
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:330
 msgid "_Red:"
 msgstr "_Rojo:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:343
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:347
 msgid "_Green:"
 msgstr "Verde:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:351
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:355
 msgid "_Blue:"
 msgstr "Azul:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:359
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:363
 msgid "_Weight:"
 msgstr "Peso:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:385
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_eq2.cpp:389
 msgid "<b>Gamma</b>"
 msgstr "<b>Gamma</b>"
 
@@ -4551,19 +4613,19 @@
 msgid "Enter parameters (i.e. -b 192 -m s ...)"
 msgstr "Introducir par?metros (p.e. -b 192 -m s ...)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:74
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:78
 msgid "Hue"
 msgstr "Matiz"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:171
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:175
 msgid "Hue/Saturation"
 msgstr "Color/Saturaci?n"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:185
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:189
 msgid "<b>Hue:</b>"
 msgstr "<b>Color:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:193
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_hue.cpp:197
 msgid "<b>Saturation:</b>"
 msgstr "<b>Saturaci?n:</b>"
 
@@ -4612,7 +4674,7 @@
 msgstr "Hecho"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:25
-#: avidemux/gtk_gui.cpp:2282
+#: avidemux/gtk_gui.cpp:2285
 msgid "Failed"
 msgstr "Error"
 
@@ -4624,85 +4686,85 @@
 msgid "Running"
 msgstr "Ejecutando"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:98
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:104
 msgid "  Job Name  "
 msgstr "Nombre de Tarea"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:103
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:109
 msgid "Started at"
 msgstr "Comenzado a las"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:107
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:113
 msgid "Finished at"
 msgstr "Finalizado a las"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:134
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:172
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:140
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:178
 msgid "Sure!"
 msgstr "?Seguro!"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:134
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:140
 msgid "Delete ALL jobs"
 msgstr "Borrar TODAS las tareas"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:134
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:140
 msgid "Are you sure you want to delete all jobs ?"
 msgstr "?Est? seguro de borrar todas las tareas?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:172
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:178
 msgid "Delete job"
 msgstr "Borrar tarea"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:172
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:178
 #, c-format
 msgid "Are you sure you want to delete %s job ?"
 msgstr "?Est? seguro de eliminar la tarea %s?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:181
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:187
 msgid "Unknown event"
 msgstr "Evento desconocido"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:261
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:268
 msgid "Jobs"
 msgstr "Tareas"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:287
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:294
 msgid "Delete All Jobs"
 msgstr "Borrar todas las tareas"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:292
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:299
 msgid "Delete Job"
 msgstr "Borrar tarea"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:297
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:304
 msgid "Run all jobs"
 msgstr "Ejecutar todas las tareas"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:302
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:309
 msgid "Run Job"
 msgstr "Ejecutar tarea"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:379
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:385
 msgid "Mplayer Delogo"
 msgstr "Mplayer Delogo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:397
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:403
 msgid "X"
 msgstr "X"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:404
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:410
 msgid "Y"
 msgstr "Y"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:411
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:417
 msgid "W"
 msgstr "W"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:418
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:424
 msgid "H"
 msgstr "H"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:425
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp:431
 msgid "Band"
 msgstr "Banda"
 
@@ -4778,28 +4840,28 @@
 msgid "<b>Bitmap</b>"
 msgstr "<b>Bitmap</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:137
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:142
 #, fuzzy
 msgid "Start frame for partial :"
 msgstr "Terminar imagen por parcial: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:144
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:149
 msgid "End frame for partial :"
 msgstr "Terminar imagen por parcial: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:167
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_partial.cpp:172
 msgid "Configure partialized filter"
 msgstr "Configurar filtro parcial"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_particle.cpp:269
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_particle.cpp:274
 msgid "Particle Analysis Configuration"
 msgstr "Configuraci?n de an?lisis de part?culas"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:93
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:98
 msgid "Paused"
 msgstr "En pausa"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:109
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:114
 msgid ""
 "<b>Encoding is paused.</b>\n"
 "\n"
@@ -4809,11 +4871,11 @@
 "\n"
 "Puede continuar o cancelarla."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:136
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:141
 msgid "Abort"
 msgstr "Cancelar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:158
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_pause.cpp:163
 msgid "Resume"
 msgstr "Continuar"
 
@@ -4830,8 +4892,8 @@
 msgstr "Comando de par?metros"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp:180
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:542
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:336
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:548
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:337
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:150
 msgid "Preview"
 msgstr "Previsualizar"
@@ -4857,7 +4919,7 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:66
 #, c-format
 msgid "%ld frames"
-msgstr "%ld frames"
+msgstr "%ld im?genes"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:76
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:126
@@ -4891,12 +4953,11 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:227
 msgid "Frame Rate:"
-msgstr "Frame Rate:"
+msgstr "Ratio de im?gen:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:234
-#, fuzzy
 msgid "Frame Count:"
-msgstr "Frame Rate:"
+msgstr "N? de im?genes:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:241
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:419
@@ -4905,7 +4966,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:262
 msgid "Image Size:"
-msgstr "Tama?o imagen:"
+msgstr "Resoluci?n:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:283
 msgid "Codec 4CC:"
@@ -4916,7 +4977,7 @@
 msgstr "Relaci?n de aspecto:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:311
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1063
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1064
 msgid "<b>Video</b>"
 msgstr "<b>V?deo</b>"
 
@@ -4929,9 +4990,8 @@
 msgstr "Empaquetado Bitstream"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:358
-#, fuzzy
 msgid "Quarter Pixel:"
-msgstr "_Quarter pixel"
+msgstr "Quarter Pixel:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:372
 msgid "<b>Extra Video Properties</b>"
@@ -4962,7 +5022,7 @@
 msgstr "Bitrate variable:"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:489
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1103
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1104
 msgid "<b>Audio</b>"
 msgstr "<b>Audio</b>"
 
@@ -4978,149 +5038,147 @@
 msgid "Retry"
 msgstr "Reintentar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_recent.cpp:96
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_recent.cpp:102
 msgid "Recent files"
 msgstr "Archivos recientes"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:326
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:333
 msgid " Width "
 msgstr " Anchura "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:333
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:340
 msgid " Height "
 msgstr " Altura "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:356
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:363
 msgid "Source :"
 msgstr "Origen:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:362
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:369
 msgid "Destination"
 msgstr "Destino:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:412
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:419
 msgid " Error X:"
 msgstr " Error X:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:426
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:433
 msgid " Error Y:"
 msgstr " Error Y:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:440
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:447
 msgid "16 round up"
 msgstr "Redondeo a 16"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:454
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:461
 msgid "Bilinear"
 msgstr "Bilineal"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:458
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:465
 msgid "Bicubic"
 msgstr "Bic?bico"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:462
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:469
 msgid "Lanczos3"
 msgstr "Lanczos3"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:91
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:222
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:97
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:228
 msgid "Subtitle Size and Position"
 msgstr "Tama?o y posici?n del subt?tulo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:236
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_srt.cpp:242
 msgid "Font Size:"
 msgstr "Tama?o fuente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_SwissArmyKnife.cpp:505
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_SwissArmyKnife.cpp:511
 #: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:388
 msgid "Swiss Army Knife Configuration"
 msgstr "Configuraci?n swiss army knife"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:200
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:206
 #: avidemux/ADM_videoFilter/ADM_vidThreshold.cpp:163
 #, fuzzy
 msgid "Threshold Configuration"
 msgstr "Configuraci?n Vorbis"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:423
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:429
 msgid "Minimum value to be in-range:"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:456
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:462
 msgid "Maximum value to be in-range:"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:487
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:493
 msgid "Output values:   "
-msgstr "Archivo de Salida"
+msgstr "Valores de salida"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:494
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:500
 msgid "In-range values go black, out-of-range values go white"
 msgstr "In-range values go black, out-of-range values go white"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:495
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:501
 #, fuzzy
 msgid "In-range values go white, out-of-range values go black"
 msgstr "In-range values go black, out-of-range values go white"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:501
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:507
 msgid "Debugging settings (bits):   "
 msgstr "Depurando ajustes (bits):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:104
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:109
 msgid "Video encoder"
 msgstr "Codec de v?deo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:118
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1083
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1123
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:123
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1084
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1124
 msgid "Configure"
 msgstr "Configurar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:89
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:95
 msgid "none"
 msgstr "ninguno"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:98
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:104
 msgid "Select .idx file"
 msgstr "Seleccionar archivo .idx"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:109
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:115
 #, fuzzy
 msgid "Wrong VobSub parametering"
 msgstr "Configuraci?n VobSub"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:109
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:115
 msgid "The idx/sub file does not set."
-msgstr "El archivo idx/sub no existe."
+msgstr "El archivo idx/sub no fue seleccionado."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:196
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:202
 msgid "VobSub Settings"
 msgstr "Configuraci?n VobSub"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:213
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:219
 msgid "Select .idx"
 msgstr "Seleccionar .idx"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:227
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:233
 msgid "Select Language :"
 msgstr "Seleccionar Idioma:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:241
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:247
 msgid "Select Sub"
 msgstr "Seleccionar Sub"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:254
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:260
 msgid "Extra Shrink Factor :"
 msgstr "Factor de extra reducci?n:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:269
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:275
 msgid "Shift (ms) :"
 msgstr "Desfase (ms):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:283
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:289
 msgid "Extra Settings"
 msgstr "Config. Extra"
 
@@ -5129,1232 +5187,1205 @@
 msgstr "Procesando"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:259
-#, fuzzy
 msgid "<b>Time remaining:</b>"
-msgstr "<b>Tiempo restante</b>"
+msgstr "<b>Tiempo restante:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:110
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:116
 msgid "Hadamard Exhaustive Search"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:596
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:602
 msgid "x264 Configuration"
 msgstr "Configuraci?n x264"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:617
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:623
 msgid "Encoding Mode"
 msgstr "Modo de codificado:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:624
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:480
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:630
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:484
 msgid "Quantizer"
 msgstr "Quantizer"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:631
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:637
 msgid "Target Size"
-msgstr "Tama?o imagen:"
+msgstr "Tama?o deseado"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:644
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:650
 msgid "Constant Quantizer - Each frame will have the same compression. Low numbers equal higher quality while high numbers equal lower quality."
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:652
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:658
 msgid "Target bitrate or file size"
-msgstr "Tama?o total (MB):"
+msgstr "Bitrate deseado o tama?o de archivo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:660
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:666
 msgid "Single Pass - Quality Quantizer (Average)"
 msgstr "Una pasada - Cuantizador de Calidad (Media)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:661
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:667
 msgid "Single Pass - Quality Quantizer (Constant)"
 msgstr "Una pasada - Cuantizador de Calidad (Constante)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:662
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:668
 msgid "Single Pass - Bitrate (Average)"
 msgstr "Una pasada - Bitrate (Medio)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:663
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:768
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:669
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:775
 msgid "Two Pass - Video Size"
 msgstr "Dos pasadas - Tama?o de v?deo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:664
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:772
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:670
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:779
 msgid "Two Pass - Average Bitrate"
 msgstr "Dos pasadas - Bitrate medio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:666
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:672
 msgid "Bitrate"
 msgstr "Bitrate"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:699
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:705
 #, fuzzy
 msgid "Partition Decision"
 msgstr "Particiones y Frames"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:706
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:712
 msgid "Method"
 msgstr "Metodo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:718
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:724
 msgid "1  - Extremely Low (Fastest)"
 msgstr "1  - Extremadamente bajo (mas r?pido)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:719
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:725
 msgid "2  - Very Low"
 msgstr "2  - Muy bajo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:720
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:726
 msgid "3  - Low"
 msgstr "3  - Bajo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:721
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:727
 msgid "4  - Medium"
 msgstr "4 - Medio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:722
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:728
 msgid "5  - High (Default)"
 msgstr "5 - Alto (por defecto)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:723
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:729
 msgid "6  - Very High"
 msgstr "6 - Muy alto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:724
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:730
 msgid "6B - Very High (RDO on B-frames)"
 msgstr "6B - Muy alto (RDO en im?genes-B)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:725
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:731
 msgid "7  - Ultra High"
 msgstr "7 - Ultra alto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:726
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:732
 msgid "7B - Ultra High (RDO on B-frames)"
 msgstr "7B - Ultra alto (RDO en im?genes-B)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:733
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:739
 #, fuzzy
 msgid "Diamond Search"
 msgstr "B?squeda de Movimiento"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:734
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:740
 #, fuzzy
 msgid "Hexagonal Search"
 msgstr "B?squeda de Movimiento"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:735
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:741
 msgid "Uneven Multi-hexagon"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:736
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:742
 #, fuzzy
 msgid "Exhaustive Search"
 msgstr "B?squeda de Movimiento"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:744
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:750
 msgid "Max. Ref. Frames"
-msgstr "Cuant. de Frame-I m?x."
+msgstr "Max. im?genes de referencia"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:751
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:757
 msgid "Range"
 msgstr "Rango"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:764
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:770
 msgid "Define how many pixels are analysed for motion estimation. The higher the range the more accurate the analysis but the slower the encoding time."
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:773
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:779
 msgid "Set how many previous frames can be referenced by a P/B-frame. Numbers above 5 do not seem to improve quality greatly. Numbers 3 to 5 are recommended."
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:776
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:782
 msgid "Chroma ME"
 msgstr "Croma ME"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:781
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:787
 msgid "Use color information for detecting motion to improve quality"
-msgstr "Utilizar informaci?n croma para estimar movimiento"
+msgstr "Usar informaci?n del color para la detecci?n de movimiento y as? mejorar la calidad"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:784
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:790
 msgid "Mixed Refs"
 msgstr "Referencias mixtas"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:789
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:795
 msgid "Calculate referencing individually based on each partition"
 msgstr "Calcular referencias individualmente basado en cada partici?n"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:795
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:801
 msgid "Fast P-Skip"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:798
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:804
 msgid "Early skip detection on P-frames to speedup encoding. Quality will be slightly reduced."
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:801
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:807
 msgid "DCT Decimate"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:806
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:812
 msgid "Interlaced"
 msgstr "Entrelazado"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:809
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:815
 msgid "Input video is interlaced"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:811
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:817
 msgid "<b>Motion Estimation</b>"
 msgstr "<b>Estimaci?n de Movimiento</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:840
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:851
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:846
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:857
 msgid "Enforce the size of a decoded pixel decoded to a certain value. Set this to 1:1 for non-anamorphic video."
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:844
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1051
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:850
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1058
 msgid ":"
 msgstr ":"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:860
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:866
 msgid "Set a custom aspect ratio. The default 1:1 is recommended for most video."
 msgstr "Relaci?n de aspecto personalizada. Por defecto 1:1 es lo recomendado."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:865
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:871
 msgid "Predefined Aspect Ratio"
-msgstr "Fijar relaci?n de aspecto predefinida"
+msgstr "Relaci?n de aspecto predefinida"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:870
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:876
 msgid "Set a common predefined aspect ratio"
 msgstr "Fijar relaci?n de aspecto predefinida"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:874
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1040
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:880
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1047
 msgid "As Input"
-msgstr "Entrada"
+msgstr "Como la entrada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:895
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:901
 msgid "<b>Sample Aspect Ratio</b>"
-msgstr "<b>Selecci?n</b>"
+msgstr "<b>Muestra de relaci?n de aspecto</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:922
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:928
 msgid "CABAC"
 msgstr "CABAC"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:925
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:931
 msgid "Lossless compression technique that reduces bitrate by approximately 10%. Increases encoding and decoding time."
 msgstr "T?cnica de la compresi?n de Lossless que reduce el bitrate aproximadamente un 10%. Aumenta el tiempo de codificaci?n y decodificaci?n."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:932
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:938
 msgid "Trellis"
 msgstr "Trellis"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:941
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:947
 msgid "Use Trellis Rate Distortion Optimisation to find optimal encoding for each block. Level 0 equals disabled, level 1 equals normal and level 2 equals high."
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:948
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:954
 msgid "Noise Reduction"
 msgstr "Reducci?n de ruido"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:957
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:963
 msgid "Set the amount of noise reduction"
 msgstr "Fijar el nivel de reducci?n de ruido"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:964
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:970
 #, fuzzy
 msgid "Deblocking Filter"
 msgstr "Filtros V?deo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:967
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:973
 msgid "Enable in-loop deblocking to filter the video"
 msgstr "Activar el filtro interno de eliminaci?n de bloques en v?deo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:984
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:990
 msgid "Strength"
-msgstr "Intensidad: "
+msgstr "Fuerza "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:998
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1004
 msgid "Threshold for block detection. Positive values will detect more blocks, negative values will detect less."
 msgstr "Umbral para la detecci?n del bloque. Los valores positivos detectar?n m?s bloques, los negativos menos."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1007
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1013
 msgid "Positive values will soften the video, negative values will sharpen"
 msgstr "Los valores positivos suavizar?n el v?deo, los valores negativos lo agudizar?n"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1010
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1016
 msgid "<b>Misc. Options</b>"
 msgstr "<b>Otras opciones</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1015
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1066
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1021
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1073
 msgid "Motion & Misc"
 msgstr "Movimiento y Otros"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1041
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1047
 msgid "8x8 Transform"
 msgstr "Transformaci?n 8x8"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1044
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1050
 msgid "General block breakdown transformation"
 msgstr "Transformaci?n por rotura de bloques general"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1047
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1053
 msgid "8x8, 8x16 and 16x8 P-frame search"
-msgstr "8x8, 8x16 y 16x8 b?squeda de frame-P"
+msgstr "8x8, 8x16 y 16x8 b?squeda de imagen-P"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1050
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1056
 msgid "Improve the P-frame quality"
-msgstr "Incrementar la calidad de frame-P"
+msgstr "Incrementar la calidad de imagen-P"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1053
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1059
 msgid "8x8, 8x16 and 16x8 B-frame search"
-msgstr "8x8, 8x16 y 16x8 b?squeda de frame-B"
+msgstr "8x8, 8x16 y 16x8 b?squeda de imagen-B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1056
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1062
 msgid "Improve the B-frame quality"
-msgstr "Incrementar la calidad de frame-b"
+msgstr "Incrementar la calidad de imagen-b"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1059
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1065
 msgid "4x4, 4x8 and 8x4 P-frame search"
-msgstr "4x4, 4x8 y 8x4 b?squeda de frame-P"
+msgstr "4x4, 4x8 y 8x4 b?squeda de imagen-P"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1062
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1068
 msgid "Further improve the P-frame quality"
-msgstr "Mayor mejora de calidad frame-P"
+msgstr "Mayor mejora de calidad imagen-P"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1064
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1070
 msgid "8x8 Intra search"
 msgstr "8x8 Intra b?squeda"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1067
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1073
 msgid "Enable DCT Intra block search to improve quality"
 msgstr "Activar b?squeda Intra bloque DCT para mejorar la calidad"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1070
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1076
 msgid "4x4 Intra search"
 msgstr "4x4 Intra b?squeda"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1073
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1079
 msgid "Further enable DCT Intra block search to improve quality"
 msgstr "Activar b?squeda bloque intra DCT para mejorar la calidad"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1076
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1082
 msgid "<b>Partition Macroblocks</b>"
 msgstr "<b>Divisi?n de MacroBloques</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1100
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1106
 msgid "Bias"
 msgstr "Bias"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1107
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1113
 msgid "Max Consecutive"
 msgstr "Max Consecutivos"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1120
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1126
 msgid "Increase / decrease probability for how often B-frames are used. It will not violate the maximum consecutive frame limit."
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1129
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1135
 msgid "Set the maximum number of consecutive B-frames. This defines how many duplicate frames can be dropped. Numbers 2 to 5 are recommended. This greatly improves the use of bitrate and quality."
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1143
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1149
 msgid "Bidirectional ME"
 msgstr "ME Bidireccional"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1148
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1154
 msgid "Optimise both motion vectors in B-frames. This will improve quality but take more time for encoding."
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1150
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1156
 msgid "Weighted Biprediction"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1155
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1161
 msgid "Enables weighting of B-frames to help fades"
-msgstr "Activa la evaluaci?n de frames-B para mejorar transiciones"
+msgstr "Activa la evaluaci?n de im?genes-B para mejorar transiciones"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1158
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1164
 msgid "Adaptative DCT"
 msgstr "DCT adaptativo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1163
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1169
 msgid "Use fewer B-frames if needed. This is always recommended. If not enabled, the codec will always use the maximum number of consecutive B-frames."
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1166
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1172
 msgid "Use as Reference"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1171
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1177
 msgid "Allow B-frames to make references non-linearly to another B-frame (instead of creating a duplicate copy)"
-msgstr "Permitir a los frames-B realizar referencias no-lineales a otro frame-B (en lugar de crear una copia duplicada)"
+msgstr "Permitir a las im?genes-B realizar referencias no-lineales a otra imagen-B (en lugar de crear una copia duplicada)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1177
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1183
 msgid "B-Frame Direct Mode"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1186
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1192
 msgid "Spatial"
 msgstr "Espacial"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1187
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1193
 msgid "Temporal"
 msgstr "Temporal"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1188
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1194
 msgid "Auto"
 msgstr "Auto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1190
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1196
 msgid "<b>B-Frames</b>"
-msgstr "<b>Frames-B</b>"
+msgstr "<b>Im?genes-B</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1195
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1201
 msgid "Partitions & Frames"
-msgstr "Particiones y Frames"
+msgstr "Particiones & Im?genes"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1230
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1236
 msgid "Set how much \"bitrate bonus\" a keyframe can get"
 msgstr "Establecer cu?nta \"bonificaci?n de bits\" puede obtener una imagen clave"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1239
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1245
 msgid "Set how much bitrate is deducted from a B-frame as compared to the previous P-frame"
-msgstr "Fijar cantidad de bits deducidos de un frame-B si se compara con el frame-P previo"
+msgstr "Fijar cantidad de bits deducidos de una imagen-B si se compara con la  imagen-P previa"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1248
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1254
 msgid "Define how much the bitrate can fluctuate over the entire video. 0% results in a constant bitrate stream, while 100% results in a pure quality based bitrate stream."
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1251
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1257
 #, fuzzy
 msgid "Keyframe Boost (%)"
 msgstr "Potenciar frames-I (%):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1258
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1264
 #, fuzzy
 msgid "B-frame Reduction (%)"
 msgstr "Reducci?n de ruido croma 2"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1265
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1271
 msgid "Bitrate Variability (%)"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1272
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1278
 msgid "<b>Bitrate</b>"
 msgstr "<b>Bitrate</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1292
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1298
 msgid "Min QP"
 msgstr "QP m?n."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1299
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1305
 msgid "Max QP"
 msgstr "QP m?x."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1306
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1312
 msgid "Max QP Step"
 msgstr "Paso QP m?x"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1320
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1326
 msgid "Enforce a minimum quantizer level"
 msgstr "Forzar un nivel de cuantizaci?n m?nimo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1329
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1335
 msgid "Enforce a maximum quantizer level"
 msgstr "Forzar un nivel de cuantizaci?n m?ximo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1338
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1344
 msgid "Define how much the quantizer rate can change between two consecutive frames"
 msgstr "Definir cuanto puede cambiar la cuantizaci?n entre dos im?genes consecutivas"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1341
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1347
 msgid "<b>Quantization Limits</b>"
 msgstr "<b>L?mites de Cuantizaci?n</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1368
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1374
 msgid "Increase / decrease sensitivity for detecting scene changes. Improves I-frame usage and quality."
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1371
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1377
 msgid "Scene Cut Threshold"
 msgstr "Umbral de cambio de escena"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1378
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1384
 #, fuzzy
 msgid "Min IDR Frame Interval"
 msgstr "Intervalo de frame-I m?n."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1391
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1397
 msgid "Set minimum frame interval between IDR frames. Defines the minimum amount a frame can be reused and referenced by other frames before a new IDR frame is established."
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1400
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1406
 msgid "Set maximum frame interval between IDR frames. Defines the maximum amount a frame can be reused and referenced by other frames before a new IDR frame is established."
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1403
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1409
 #, fuzzy
 msgid "Max IDR Frame Interval"
 msgstr "Intervalo de frame-I m?x."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1410
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1416
 msgid "<b>More Rate Settings</b>"
 msgstr "<b>M?s config. de tasas</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1430
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1436
 msgid "VBV Buffer Size"
-msgstr "Tama?o del buffer:"
+msgstr "Tama?o del buffer VBV:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1437
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1443
 msgid "Initial VBV Buffer (%)"
 msgstr "Buffer VBV inicial (%)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1444
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1450
 #, fuzzy
 msgid "Maximum Local Bitrate"
 msgstr "Bitrate variable:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1475
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1481
 #, fuzzy
 msgid "<b>Video Buffer Verifier</b>"
 msgstr "<b>Tama?o v?deo:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1508
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1514
 msgid "Bitrate Variance"
-msgstr "Bitrate"
+msgstr "Diferencia de bitrate"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1521
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1527
 msgid "Allowed variance of average bitrate. Lower values mean less variance. Higher values mean more variance."
 msgstr "Variaci?n permitida del bitrate medio. Valores m?s bajos significanmenos variaci?n. Valores m?s altos significan m?s variaci?n."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1530
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1536
 msgid "Allowed variance of average quantizer or quality. Lower values mean less variance. Higher values mean more variance. Note that 0 means constant quality while 1 means constant fluctuation. Recommended 0.6."
 msgstr "Variaci?n media permitida del quantizer o de la calidad. Valores m?s bajos significan menos variaci?n. Valores m?s altos significan m?s variaci?n. Note que calidad 0 constantes de los medios mientras que 1 fluctuaci?n de la constante de los medios. 0.6 recomendado."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1539
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1545
 msgid "Reduced fluctuations in Quantizer (before curve compression)"
 msgstr "Fluctuaciones reducidas en quantizer (antes de la curva de compresi?n)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1550
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1556
 msgid "Quantizer Compression"
 msgstr "Cuantizador de compresi?n:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1557
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1563
 msgid "Temp. Blur of Est. Frame Complexity"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1564
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1570
 msgid "Temp. Blur of Quant. after CC"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1571
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1577
 msgid "<b>Misc</b>"
 msgstr "<b>Otros</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1597
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1603
 msgid "Quantization factors used between I and P-frames"
-msgstr "Factor medio de quantizaci?n usado I y frames-P"
+msgstr "Factor quantizaci?n usado entre las im?genes I y P"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1606
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1612
 msgid "Quantization used between P and B-frames"
-msgstr "Quantizaci?n media usada en frames-B y P"
+msgstr "Quantizaci?n usado entre las im?genes P y B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1615
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1621
 msgid "Quantization difference between chroma (color) and luma (brightness)"
 msgstr "Diferencia de quantizaci?n entre el croma (color) y el luma(brillo)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1618
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1624
 msgid "Factor between I and P-frame Quants"
-msgstr "Factor medio I y frame-P quants"
+msgstr "Factor entre quantizaci?n de imagen I y P"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1625
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1631
 msgid "Factor between P and B-frame Quants"
-msgstr "Factor medio frames-B y P quants"
+msgstr "Factor entre quantizaci?n de im?genes I y P"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1632
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1638
 #, fuzzy
 msgid "Chroma QP Offset"
 msgstr "Cambiar croma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1639
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1645
 #, fuzzy
 msgid "<b>Quantizers</b>"
 msgstr "<b>Cuantizador:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1657
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1663
 #, fuzzy
 msgid "Flat Matrix"
 msgstr "Matriz"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1664
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1670
 #, fuzzy
 msgid "JVT Matrix"
 msgstr "Matriz"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1674
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1680
 #, fuzzy
 msgid "Custom Matrix"
 msgstr "Matriz personalizada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1684
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1128
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1690
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1135
 msgid "Open CQM file"
-msgstr "Abrir archivo"
+msgstr "Abrir archivo CQM"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1692
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1136
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1568
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1698
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1143
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1575
 msgid "Edit Custom Matrix"
 msgstr "Editar Matriz personalizada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1695
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1701
 msgid "Edit loaded custom quantization matrix file"
-msgstr "Error al cargar el archivo de Matriz."
+msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1697
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1703
 #, fuzzy
 msgid "<b>Quantization Matrices</b>"
 msgstr "<b>L?mites de Cuantizaci?n</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1702
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1708
 msgid "More"
 msgstr "M?s"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1710
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1716
 msgid "_Defaults"
 msgstr "Por defecto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:237
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:241
 msgid "Xvid Encoder"
 msgstr "Codec Xvid"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:250
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:254
 msgid "Constant Quantizer"
 msgstr "Cuantizador constante"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:258
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:262
 msgid "Constant Bitrate (kbps)"
 msgstr "Bitrate constante (kbps)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:266
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:270
 msgid "Dual pass (MBytes)"
 msgstr "Doble pasada (MBytes)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:292
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:296
 msgid "Basic"
 msgstr "B?sico"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:301
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:305
 msgid "Motion Search"
 msgstr "B?squeda de Movimiento"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:317
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:321
 msgid "Max I frame interval "
-msgstr "Intervalo de frame-I m?x."
+msgstr "Intervalo de imagen-I m?x."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:333
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:337
 msgid "Min I frame interval"
-msgstr "Intervalo de frame-I m?n."
+msgstr "Intervalo de imagen-I m?n."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:357
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:884
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:361
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:891
 msgid "0 - None"
 msgstr "0 - Ninguno"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:361
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:365
 msgid "1- Very low"
 msgstr "1 - Muy bajo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:365
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:369
 msgid "2- Low"
 msgstr "2 - Bajo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:369
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:373
 msgid "3- Medium"
 msgstr "3 - Medio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:373
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:377
 msgid "4- High"
 msgstr "4 - Alto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:377
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:381
 msgid "5- Very High"
 msgstr "5 - Muy alto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:381
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:385
 msgid "6- Ultra High"
 msgstr "6 - Ultra Alto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:395
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:399
 msgid "H263 Quantizer"
 msgstr "Cuantizador H263"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:400
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:404
 msgid "MPEG Quantizer"
 msgstr "Cuantizador MPEG"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:407
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:411
 msgid "Advanced"
 msgstr "Avanzado"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:416
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:420
 msgid "Min I Frame Qzer"
-msgstr "Cuant. de Frame-I m?n."
+msgstr "Cuant. de imagen-I m?n."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:424
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:428
 msgid "Max I Frame Qzer"
-msgstr "Cuant. de Frame-I m?x."
+msgstr "Cuant. de imagen-I m?x."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:432
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:436
 msgid "Min P Frame Qzer"
-msgstr "Cuant. de Frame-P m?n."
+msgstr "Cuant. de imagen-P m?n."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:440
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:444
 msgid "Max P Frame Qzer"
-msgstr "Cuant. de Frame-P m?x."
+msgstr "Cuant. de imagen-P m?x."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:485
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:489
 msgid "Not Yet!"
 msgstr "?A?n no!"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:490
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid.cpp:494
 msgid "B Frames"
-msgstr "Frames B"
+msgstr "Im?genes B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:109
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:114
 msgid "Select Xvid matrix file to load"
 msgstr "Seleccionar archivo de Matriz Xvid a cargar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:121
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:126
 msgid "Error Loading"
 msgstr "Error al cargar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:121
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:126
 msgid "Error loadind the custom matrix file."
 msgstr "Error al cargar el archivo de Matriz."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:139
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:144
 msgid "Matrix Loaded"
 msgstr "Matriz cargada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:139
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:144
 msgid "The custom matrix file has been successfully loaded."
 msgstr "El archivo de matriz personalizada se ha cargado correctamente."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:179
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:181
 msgid "Size (MBytes):"
 msgstr "Tama?o (MBytes):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:185
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:369
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:187
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:371
 msgid "Average bitrate (kb/s):"
-msgstr "Bitrate medio (kb/s):"
+msgstr "Bitrate promedio (kb/s):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:354
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:356
 msgid "Target bitrate (kb/s):"
-msgstr "Bitrate medio (kb/s):"
+msgstr "Bitrate deseado (kb/s):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:362
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:364
 msgid "Target video size (MB):"
-msgstr "Tama?o total (MB):"
+msgstr "Tama?o total deseado (MB):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:479
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:486
 msgid "Select Custom Matrix File to write"
 msgstr "Seleccione el archivo para guardar la Matriz personalizada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:484
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:491
 msgid "Error Writing"
 msgstr "Error de escritura"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:484
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:491
 msgid "Error writing the custom matrix file."
 msgstr "Error al escribir el archivo de Matriz personalizada."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:700
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:707
 msgid "XviD encoding options"
 msgstr "Opciones del codec Xvid"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:734
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:741
 msgid "Encoding type:"
 msgstr "Tipo de codificado:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:739
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:746
 msgid "Bitrate (kb/s):"
 msgstr "Bitrate (kb/s)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:744
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:751
 msgid "Quantizer:"
 msgstr "Cuantizador:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:756
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:763
 msgid "Select 1-pass or 2-pass encoding"
 msgstr "Seleccione codificaci?n de 1 pasada o 2 pasadas"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:760
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:767
 msgid "Single Pass - Bitrate"
 msgstr "Pasada ?nica - Bitrate"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:764
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:771
 msgid "Single Pass - Quantizer"
-msgstr "Pasada ?nica - Bitrate"
+msgstr "Pasada ?nica - Cuantizador"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:776
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:783
 msgid "Same Quantizer as Input"
-msgstr "Cuantizador de frames-B - M?n.:"
+msgstr "El mismno cuantizador que el de entrada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:785
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:792
 msgid "Target video bitrate"
-msgstr "Bitrate de v?deo"
+msgstr "Bitrate de v?deo desado"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:792
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:799
 msgid "Constant quantizer - each frame will get the same compression"
 msgstr "Cuantizador constante - cada imagen se comprime igual"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:794
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:801
 msgid "Variable bitrate mode"
 msgstr "Modo de bitrate variable"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:806
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:813
 msgid "_Interlaced"
 msgstr "Entrelazado"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:809
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:816
 msgid "Enables interlaced frame support - use only if your source contains interlacing artifacts (i.e. fields instead of progressive frames)"
 msgstr "Activa el soporte de im?genes entrelazadas - utilizar si el origen contiene datos entrelazados (p.e. si contiene campos en vez de im?genes progresivas)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:811
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:818
 msgid "_Greyscale"
 msgstr "Escala de grises"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:814
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:821
 msgid "Encode in black & white"
-msgstr "Codificar en blanco y negro"
+msgstr "Codifica en blanco y negro"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:820
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:827
 msgid "Ca_rtoon mode"
-msgstr "Modo Dibujos Animados"
+msgstr "Modo \"dibujos animados\""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:823
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:830
 msgid "Enables special motion estimation features for cartoons/anime"
 msgstr "Activa caracter?sticas especiales de detecci?n de movimiento para animaci?n"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:825
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:832
 msgid "C_hroma optimizer"
-msgstr "Optimizador de Croma"
+msgstr "Optimizador de croma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:828
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:835
 msgid "Enables a chroma optimizer prefilter"
 msgstr "Activa un prefiltro optimizador de croma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:834
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:841
 msgid "Turbo Mode"
 msgstr "Modo Turbo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:837
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:844
 msgid "Enables fast 1st pass encoding"
 msgstr "Activa codificaci?n r?pida de 1 pasada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:839
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:846
 msgid "Packed bitstream"
-msgstr "Bitstream empaquetado"
+msgstr "Empaquetado de bitstream"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:842
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:849
 msgid "Enables Divx like packed vop, DO NOT SET, it is ugly"
-msgstr "Activa Divx con vop empaquetado, NO RECOMENDADO"
+msgstr "Activa Divx con vop empaquetado, NO RECOMENDADO ya que muchos reproductores no lo soportan"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:844
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:851
 msgid "Main"
 msgstr "Principal"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:863
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:870
 msgid "Motion search precision:"
 msgstr "Precisi?n de b?squeda de movimiento:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:867
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:874
 msgid "VHQ mode:"
-msgstr "Modo VHQ:"
+msgstr "Modo VHQ (Very High Quality):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:880
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:887
 msgid "Higher settings give higher quality results, at the cost of slower encoding"
-msgstr "Valores mas altos dan mejor calidad, pero ralentizan la codificaci?n"
+msgstr "Valores altos dan mejor calidad, pero ralentizan la codificaci?n"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:888
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:895
 msgid "1 - Very low"
 msgstr "1 - Muy bajo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:892
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:899
 msgid "2 - Low"
 msgstr "2 - Bajo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:896
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:903
 msgid "3 - Medium"
 msgstr "3 - Medio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:900
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:907
 msgid "4 - High"
 msgstr "4 - Alto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:904
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:911
 msgid "5 - Very high"
 msgstr "5 - Muy alto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:908
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:915
 msgid "6 - Ultra high"
 msgstr "6 - Ultra alto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:917
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:924
 msgid "VHQ enables an additional search process to increase quality"
 msgstr "VHQ activa un proceso adicional de b?squeda para incrementar la calidad"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:921
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:928
 msgid "0 - Off"
 msgstr "0 - Off"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:925
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:932
 msgid "1 - Mode decision"
 msgstr "1 - Modo estimativo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:929
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:936
 msgid "2 - Limited search"
 msgstr "2 - B?squeda limitada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:933
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:940
 msgid "3 - Medium search"
 msgstr "3 - B?squeda media"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:937
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:944
 msgid "4 - Wide search"
 msgstr "4 - B?squeda ampliada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:947
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:954
 msgid "C_hroma motion"
 msgstr "Movimiento Croma"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:950
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:957
 msgid "Use chroma information to estimate motion"
 msgstr "Utilizar informaci?n croma para estimar movimiento"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:952
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:959
 msgid "_4MV"
 msgstr "_4MV"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:955
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:962
 msgid "Use 4 motion vectors per macroblock, might give better compression"
 msgstr "Utilizar 4 vectores de movimiento por MacroBloque, podr?a dar mejor compresi?n"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:957
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:964
 msgid "HQ _AC"
 msgstr "HQ _AC"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:960
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:967
 msgid "Enable a better prediction of AC component. Turns on Lumi masking - applies more compression to dark/light areas that the eye cannot notice easily"
 msgstr "Activar una mejor predicci?n de componente AC. Activa mascara Luma - Aplica mayor compresi?n para zonas iluminadas/oscuras que el ojo apenas percibe"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:966
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:973
 msgid "I-frame interval - Min:"
-msgstr "Intervalo de frame-I - M?n.:"
+msgstr "Intervalo de imagen-I - M?n.:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:974
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:981
 msgid "Minimum space between I-frames, 1 will disable forced I-frame spacing"
-msgstr "Espacio m?nimo entre frames-I, se desactivar? espaciado forzado entre im?genes ?ndice"
+msgstr "Espacio m?nimo entre im?genes ?ndice, se desactivar? espaciado forzado entre im?genes ?ndice"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:976
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1194
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1199
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1204
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:983
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1201
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1206
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1211
 msgid "Max:"
 msgstr "Max.:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:984
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:991
 msgid "Maximum number of frames allowed between I-frames"
-msgstr "N?mero m?ximo de frames permitido entre frames-I"
+msgstr "N?mero m?ximo de im?genes permitido entre im?genes ?ndice"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:999
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1006
 msgid "Number of B-frames:"
-msgstr "N?mero de frames-B:"
+msgstr "N?mero de im?genes-B:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1007
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1014
 msgid "Maximum number of sequential B-frames (when set to 0, the original I/P encoder is used)"
-msgstr "N?mero m?ximo de frames-B (cuando se establece a 0, se utiliza el codificador I/P original)"
+msgstr "N?mero m?ximo de im?genes-B (cuando se establece a 0, se utiliza el codificador I/P original)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1013
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1020
 msgid "_Qpel"
 msgstr "_Qpel"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1016
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1023
 msgid "Use Quarter pixel resolution for a more precise motion estimation"
 msgstr "Utilizar resoluci?n Quarter pixel para una estimaci?n de movimiento mas precisa"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1021
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1028
 msgid "Global Motion Compensation can save bits on camera pans, zooming and rotation"
 msgstr "Compensaci?n Global de Movimiento ahorra datos en desplazamiento de c?mara, zooms y rotaciones"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1023
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1030
 msgid "_BVHQ"
 msgstr "_BVHQ"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1026
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1033
 msgid "Produces nicer-looking B-frames"
-msgstr "Produce frames-B de mejor apariencia"
+msgstr "Produce im?genes-B de mejor apariencia"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1043
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1050
 msgid "Get PAR from input video file"
 msgstr "Coger PAR del v?deo de entrada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1049
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1056
 msgid "Pixel Width"
 msgstr "Anchura de Pixel"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1060
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1067
 msgid "Pixel Height"
 msgstr "Altura de Pixel"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1061
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1068
 msgid "Pixel Aspect Ratio"
-msgstr "Relaci?n de aspecto:"
+msgstr "Relaci?n de aspecto pixel:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1079
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1086
 msgid "Quantization type:"
 msgstr "Tipo de cuantizaci?n"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1083
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1090
 msgid "_H.263"
 msgstr "_H.263"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1086
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1093
 msgid "H.263 quantizers smooth the picture (useful at lower bitrates)"
 msgstr "Cuantizadores H.263 suavizan la imagen (?til a bits/seg. bajos)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1090
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1097
 msgid "_MPEG"
 msgstr "_MPEG"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1093
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1100
 msgid "MPEG quantizers (slightly slower) produce sharper picture (useful at higher bitrates)"
 msgstr "Cuantizadores MPEG (sensiblemente mas lento) producen im?genes mas n?tidas (?til a bits/seg. mas altos)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1097
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1104
 msgid "_Custom Matrix"
 msgstr "Matriz personalizada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1107
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1114
 msgid "Load Custom Matrix:  "
 msgstr "Cargar Matriz personalizada:  "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1153
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1160
 msgid "I-frame quantizer - Min:"
-msgstr "Cuantizador de frames-I - M?n.:"
+msgstr "Cuantizador de im?genes-I - M?n.:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1158
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1165
 msgid "P-frame quantizer - Min:"
-msgstr "Cuantizador de frames-P - M?n.:"
+msgstr "Cuantizador de im?genes-P - M?n.:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1163
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1170
 msgid "B-frame quantizer - Min:"
-msgstr "Cuantizador de frames-B - M?n.:"
+msgstr "Cuantizador de im?genes-B - M?n.:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1176
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1183
 msgid "Minimum quantizer allowed for I-frames"
-msgstr "Cuantizador m?nimo permitido para frames-I"
+msgstr "Cuantizador m?nimo permitido para im?genes-I"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1182
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1189
 msgid "Minimum quantizer allowed for P-frames"
-msgstr "Cuantizador m?nimo permitido para frames-P"
+msgstr "Cuantizador m?nimo permitido para im?genes-P"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1188
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1195
 msgid "Minimum quantizer allowed for B-frames"
-msgstr "Cuantizador m?nimo permitido para frames-B"
+msgstr "Cuantizador m?nimo permitido para im?genes-B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1217
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1224
 msgid "Maximum quantizer allowed for I-frames"
-msgstr "Cuantizador m?ximo permitido para frames-I"
+msgstr "Cuantizador m?ximo permitido para im?genes-I"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1223
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1230
 msgid "Maximum quantizer allowed for P-frames"
-msgstr "Cuantizador m?ximo permitido para frames-P"
+msgstr "Cuantizador m?ximo permitido para im?genes-P"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1229
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1236
 msgid "Maximum quantizer allowed for B-frames"
-msgstr "Cuantizador m?ximo permitido para frames-B"
+msgstr "Cuantizador m?ximo permitido para im?genes-B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1231
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1238
 msgid "Quantizer restrictions"
 msgstr "Restricciones de Cuantizador"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1238
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1245
 msgid "Rate distortion quantization, will find optimal encoding for each block"
 msgstr "Cuantizaci?n de distorsi?n de tasa, encontrar? la codificaci?n mas ?ptima para cada bloque"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1268
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1275
 msgid "I-frame boost (%):"
-msgstr "Potenciar frames-I (%):"
+msgstr "Potenciar im?genes-I (%):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1273
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1280
 msgid "I-frames closer than ... frames..."
-msgstr "frames-I mas cercanas que ... im?genes..."
+msgstr "im?genes-I mas cercanas que ... im?genes..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1278
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1285
 msgid "...are reduced by (%):"
 msgstr "...se reducen un (%):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1283
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1290
 msgid "Max overflow improvement (%):"
 msgstr "Mejora de sobrecarga m?x. (%):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1288
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1295
 msgid "Max overflow degradation (%):"
 msgstr "Degradaci?n m?x. sobrecarga (%):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1300
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1307
 #, c-format
 msgid "A value of 20 will give 20% more bits to every I-frame"
-msgstr "Un valor de 20 da un 20 por ciento mas de bits para cada frame-I"
+msgstr "Un valor de 20 da un 20 por ciento mas de bits para cada imagen-I"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1306
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1313
 msgid "I-frames appearing in the range below this value will be treated as consecutive keyframes"
-msgstr "Los frames-I que aparezcan en el rango de este valor se tratar?n como frames-Clave consecutivas"
+msgstr "Las im?genes-I que aparezcan en el rango de este valor se tratar?n como im?genes clave consecutivas"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1311
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1318
 msgid "Reduction of bitrate for the first consecutive I-frames. The last I-frame will get treated normally"
-msgstr "Reducci?n de los bits/seg. para las primeras frames-I consecutivos. El ?ltimo Imagen-I se tratar? de forma normal"
+msgstr "Reducci?n de los bits/seg. para las primeras im?genes-I consecutivas. La ?ltima im?gene-I se tratar? de forma normal"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1316
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1323
 msgid "How much of the overflow the codec can eat into during undersized sections - larger values will bridge the gap faster"
 msgstr "Cu?nto de la sobrecarga puede utilizar el codec en secciones de tama?o reducido - A valores mayores se completar? mas r?pido"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1321
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1328
 msgid "How much of the overflow the codec can eat into during oversized sections - larger values will bridge the gap faster"
 msgstr "Cu?nto de la sobrecarga puede utilizar el codec en secciones de tama?o ampliado - A valores mayores se completar? mas r?pido"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1323
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1330
 msgid "Two pass tuning"
 msgstr "Ajuste de dos pasadas"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1340
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1347
 msgid "High bitrate scenes (%):"
 msgstr "Escenas de bitrate alta (%):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1345
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1352
 msgid "Low bitrate scenes (%):"
 msgstr "Escenas bitrate bajo (%):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1350
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1357
 msgid "Overflow control strength (%):"
 msgstr "Nivel de control de sobrecarga (%):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1362
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1369
 msgid "The higher this value, the more bits get taken from frames larger than the average size, and redistributed to others"
 msgstr "A un valor mayor, se quitar?n mas bits de im?genes mayores que la media, y ser?n redistribuidos a otras."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1367
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1374
 msgid "The higher this value, the more bits get assigned to frames below the average frame size"
 msgstr "A un valor mayor, mas bits ser?n asignados a im?genes por debajo de la media."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1372
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1379
 msgid "0 = default from core (let XviD decide), else overflow payback percent per frame"
 msgstr "0 = Marcado por el codec (dejar que Xvid decida), de otra forma se recarga en porcentaje por imagen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1374
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1381
 msgid "Curve compression"
 msgstr "Compresi?n curva"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1378
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1385
 msgid "Second Pass"
 msgstr "Segunda pasada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1591
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1598
 msgid "<b>Intra Matrix</b>"
 msgstr "<b>Intra-Matriz</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1609
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_xvid4.cpp:1616
 msgid "<b>Inter Matrix</b>"
 msgstr "<b>Intra-Matriz</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_color.cpp:71
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_color.cpp:70
 msgid "Select Color"
 msgstr "Seleccionar color"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp:90
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp:244
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp:245
 msgid "_Browse..."
-msgstr "Buscar..."
+msgstr "Explorar..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:99
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:106
 msgid "_Encoding mode:"
 msgstr "Modo de codificado:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:123
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:130
 msgid "Single pass - bitrate"
 msgstr "Pasada ?nica - bitrate"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:125
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:132
 msgid "Single pass - constant quality"
-msgstr "Pasada ?nica - bitrate"
+msgstr "Pasada ?nica - calidad constante"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:127
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:134
 msgid "Single pass - same qz as input"
-msgstr "Pasada ?nica - bitrate"
+msgstr "Pasada ?nica - igual cuantizador que el de entrada"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:129
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:136
 msgid "Single pass - Average quantizer"
-msgstr "Pasada ?nica - bitrate"
+msgstr "Pasada ?nica - cuantizador promedio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:132
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:139
 msgid "Two pass - video size"
-msgstr "Dos pasadas - Tama?o de v?deo"
+msgstr "Dos pasadas - tama?o de v?deo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:134
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:141
 msgid "Two pass - average bitrate"
-msgstr "Dos pasadas - Bitrate medio"
+msgstr "Dos pasadas - bitrate promedio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:273
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:280
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:61
-#, fuzzy
 msgid "_Quantizer:"
 msgstr "Cuantizador:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:278
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:285
 msgid "A_vg Quantizer:"
-msgstr "Cuantizador:"
+msgstr "Cuantizador promedio:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:283
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:290
 msgid "_Video size (MB):"
 msgstr "Tama?o de v?deo (MB):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:288
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:295
 msgid "_Average bitrate (kb/s):"
 msgstr "Bitrate medio (kb/s):"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:293
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:300
 msgid "-"
 msgstr "-"
 
@@ -6407,21 +6438,21 @@
 msgid "Miscellaneous"
 msgstr "Miscel?nea"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:244
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:245
 msgid "The filter is already partial"
 msgstr "El filtro ya es parcial"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:342
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:344
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:343
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:345
 msgid "Load set of filters"
 msgstr "Cargar conjunto de filtros"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:357
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:358
 msgid "Nothing to save"
 msgstr "Nada para guardar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:361
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:363
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:362
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:364
 msgid "Save set of filters"
 msgstr "Guardar conjunto de filtros"
 
@@ -6565,534 +6596,537 @@
 msgid "Save as script"
 msgstr "Guardar como script"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:545
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:541
 msgid "Side"
-msgstr "V?deo"
+msgstr "Lado"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:546
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:542
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:90
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:81
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:87
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:109
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:107
 msgid "Top"
 msgstr "Superior"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:547
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:543
 msgid "Separate"
-msgstr "Separar campos"
+msgstr "Separado"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:721
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_bindings.cpp:728
 #, c-format
 msgid "Frame:%c(%02d)"
-msgstr "Frame:%c(%02d)"
+msgstr "Imagen:%c(%02d)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:298
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:275
+msgid "Avidemux"
+msgstr "Avidemux"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:299
 msgid "_Open..."
 msgstr "Abrir..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:309
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:310
 msgid "_Append..."
 msgstr "Adjuntar..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:320
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:321
 msgid "_Save"
 msgstr "Guardar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:331
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:332
 msgid "Save _Video..."
 msgstr "Guardar V?deo..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:343
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:344
 msgid "Save _BMP Image..."
 msgstr "Guardar imagen BMP..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:347
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:348
 msgid "Save _JPEG Image..."
 msgstr "Guardar imagen JPEG..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:351
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:352
 msgid "Save _Selection as JPEG Images..."
 msgstr "Guardar selecci?n como im?genes JPEG..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:364
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:365
 msgid "Save _Project"
-msgstr "Guardar Proyecto"
+msgstr "Guardar proyecto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:372
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:373
 msgid "Save P_roject As..."
 msgstr "Guardar proyecto como..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:380
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:381
 msgid "_Load/Run Project..."
-msgstr "Cargar/Ejecutar Proyecto..."
+msgstr "Cargar/Ejecutar proyecto..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:388
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:389
 msgid "A_dd to Joblist..."
-msgstr "A?adir a Lista de Tareas..."
+msgstr "A?adir a lista de tareas..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:392
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:393
 msgid "Show _Joblist"
 msgstr "Mostrar lista de tareas"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:404
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:405
 msgid "Co_nnect to avsproxy"
 msgstr "Conectar a avsproxy"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:413
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:414
 msgid "Proper_ties"
 msgstr "Propiedades"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:424
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:425
 msgid "AVI _Muxer Options"
 msgstr "Opciones de Avi _Muxer"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:433
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:434
 msgid "_Quit"
 msgstr "Salir"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:444
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:445
 msgid "_Edit"
 msgstr "_Editar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:451
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:452
 msgid "_Reset Edits"
 msgstr "Deshacer"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:464
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:465
 msgid "Cu_t"
 msgstr "Cortar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:475
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:476
 msgid "_Copy"
 msgstr "_Copiar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:486
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:487
 msgid "_Paste"
 msgstr "_Pegar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:497
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:498
 msgid "_Delete"
 msgstr "Borrar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:513
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:514
 msgid "Set Marker _A"
 msgstr "Fijar marcador A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:520
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:521
 msgid "Set Marker _B"
 msgstr "Fijar marcador B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:532
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:533
 msgid "Pre_ferences"
 msgstr "Preferencias"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:540
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:541
 msgid "_View"
 msgstr "_Ver"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:547
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:548
 msgid "_Main Toolbar"
-msgstr "Barra Principal"
+msgstr "Barra principal"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:552
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:553
 msgid "_A/V Sidebar"
-msgstr "Barra de A/V"
+msgstr "Barra de Audio/V?deo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:562
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:563
 msgid "_Zoom 1:4"
 msgstr "_Zoom 1:4"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:569
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:570
 msgid "Z_oom 1:2"
 msgstr "Z_oom 1:2"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:576
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:577
 msgid "Zoom _1:1"
 msgstr "Zoom _1:1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:583
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:584
 msgid "Zoom _2:1"
 msgstr "Zoom _2:1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:590
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:591
 msgid "Vi_deo"
 msgstr "V?_deo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:597
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:598
 msgid "_Decoder Options"
 msgstr "Opciones del decodificador"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:604
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:605
 msgid "_Postprocessing"
 msgstr "_Postprocesando"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:607
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:608
 msgid "Select postprocessing level"
 msgstr "Seleccionar nivel de postprocesado"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:617
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:618
 msgid "P_review"
 msgstr "Previsualizar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:624
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:625
 msgid "Display _Output"
 msgstr "Salida a pantalla"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:636
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:637
 msgid "_Frame Rate"
-msgstr "Frames por segundo"
+msgstr "Ratio de im?genes"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:640
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:689
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:641
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:690
 msgid "_Encoder"
 msgstr "Codec"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:647
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:648
 msgid "Fil_ters"
 msgstr "Fil_tros"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:654
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:655
 msgid "_Audio"
 msgstr "_Audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:661
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:662
 msgid "_Main Track"
-msgstr "Pista Principal"
+msgstr "Canal principal de audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:665
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:666
 msgid "_Second Track"
-msgstr "Segunda pista"
+msgstr "Canal secundario de audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:669
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:670
 msgid "_Build VBR Time Map"
 msgstr "Construir mapa de tiempo VBR"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:678
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:679
 msgid "S_ave..."
-msgstr "Guardar"
+msgstr "Guardar audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:696
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:697
 msgid "_Filters"
 msgstr "_Filtros"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:700
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:701
 msgid "_Tools"
 msgstr "Herramientas"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:707
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:708
 msgid "_Calculator"
 msgstr "_Calculadora"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:723
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:724
 msgid "_Rebuild Frames (I & B)"
-msgstr "Reconstruir Frames (I & B)"
+msgstr "Reconstruir im?genes (I & B)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:727
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:728
 msgid "C_heck Frames (slow)"
-msgstr "Comprobar frames (lento)"
+msgstr "Comprobar im?genes (lento)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:731
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:732
 msgid "_Bitrate Histogram"
 msgstr "Histograma de Bitrate"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:735
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:736
 msgid "_Scan for Black Frames..."
 msgstr "Buscar im?genes negras..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:744
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:745
 msgid "_VOB -> VobSub"
 msgstr "_VOB -> VobSub"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:748
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:749
 msgid "_OCR (VobSub -> srt)"
 msgstr "_OCR (VobSub -> srt)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:752
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:753
 msgid "OCR (TS->srt)"
 msgstr "OCR (TS->srt)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:756
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:757
 msgid "_Edit Glyph"
-msgstr "Saltar Glifo"
+msgstr "Editar Glifo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:765
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:766
 msgid "_Frame Hex Dump"
-msgstr "_Frames por segundo"
+msgstr "_Volcado hexadecimal de im?gen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:769
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:770
 msgid "A_uto"
 msgstr "A_uto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:776
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:777
 msgid "_VCD"
 msgstr "_VCD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:780
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:781
 msgid "_SVCD"
 msgstr "_SVCD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:784
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:785
 msgid "_DVD"
 msgstr "_DVD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:788
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:789
 msgid "_PSP"
 msgstr "_PSP"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:792
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:793
 msgid "PSP (_H.264)"
 msgstr "PSP (_H.264)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:796
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:797
 msgid "F_LV"
 msgstr "F_LV"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:800
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:801
 msgid "IPOD (mpeg4)"
 msgstr "IPOD (mpeg4)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:804
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:805
 msgid "_Go"
 msgstr "Ir"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:811
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:812
 msgid "_Play/Stop"
 msgstr "Reproducir/Parar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:822
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:823
 msgid "P_revious Frame"
-msgstr "Frame anterior"
+msgstr "Imagen anterior"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:833
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:834
 msgid "_Next Frame"
-msgstr "Siguiente frame"
+msgstr "Siguiente imagen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:844
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:845
 #, fuzzy
 msgid "Pr_evious Intra Frame"
 msgstr "Frame anterior"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:855
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:856
 #, fuzzy
 msgid "Next _Intra Frame"
 msgstr "Siguiente frame"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:866
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:867
 msgid "Previou_s Black Frame"
 msgstr "Anterior imagen negra"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:870
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:871
 msgid "Ne_xt Black Frame"
 msgstr "Siguiente imagen negra"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:874
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:875
 msgid "_First Frame"
-msgstr "Primera frame"
+msgstr "Primera imagen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:885
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:886
 msgid "_Last Frame"
-msgstr "?ltimo frame"
+msgstr "?ltima imagen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:901
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:902
 msgid "Go to Marker _A"
 msgstr "Ir a marcador _A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:908
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:909
 msgid "Go to Marker _B"
 msgstr "Ir a marcador _B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:920
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:921
 msgid "Go to Fra_me..."
 msgstr "Ir a imagen..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:931
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:932
 msgid "Go to _Time..."
 msgstr "Saltar a _tiempo..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:942
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:943
 msgid "_Custom"
 msgstr "Personalizar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:946
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:947
 msgid "_Help"
 msgstr "Ayuda"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:953
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:954
 msgid "_Built-in Support"
 msgstr "Soporte incorporado para"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:957
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:958
 msgid "_About"
 msgstr "A_cerca de..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:975
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:976
 msgid "Open a file"
 msgstr "Abrir archivo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:985
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:986
 msgid "Save the file"
 msgstr "Guardar el archivo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:991
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:992
 msgid "Audio/video file information"
 msgstr "Informaci?n de archivo de audio/v?deo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1002
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1003
 msgid "Bitrate/size calculator"
 msgstr "Calculadora de Bitrate/Tama?o"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1086
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1087
 msgid "Configure video encoder"
 msgstr "Configurar codec de v?deo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1091
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1147
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1092
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1148
 msgid "Filters"
 msgstr "Filtros"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1094
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1095
 msgid "Video filters"
 msgstr "Filtros de V?deo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1126
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1127
 msgid "Configure audio encoder"
 msgstr "Configurar codec de audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1134
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1135
 msgid "Audio filters"
 msgstr "Filtros de sonido"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1155
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1156
 msgid "Shift:"
 msgstr "Cambiar:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1158
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1159
 msgid "Enable time shift"
 msgstr "Activar desfase de tiempo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1164
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1165
 msgid "Audio/video time shift (ms)"
 msgstr "Desfase de tiempo de v?deo/audio (ms)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1171
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1168
+msgid "ms"
+msgstr "ms"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1176
 msgid "<b>Format</b>"
 msgstr "<b>Formato</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1204
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1209
 msgid "Frame: "
-msgstr "Frame: "
+msgstr "Imagen: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1211
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1216
 msgid "Current frame"
-msgstr "Frame actual"
+msgstr "Imagen actual"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1216
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1221
 msgid "/ 0000000"
 msgstr "/ 0000000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1223
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1228
 msgid "Time: "
 msgstr "Tiempo: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1230
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1235
 msgid "Current time"
 msgstr "Tiempo actual"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1231
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1236
 msgid "00:00:00.000"
 msgstr "00:00:00.000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1234
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1239
 msgid "/ 00:00:00,000"
 msgstr "/ 00:00:00,000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1241
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1246
 msgid "Frame: ?"
-msgstr "Frame: ?"
+msgstr "Imagen: ?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1265
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1270
 msgid "Play"
 msgstr "Reproducir"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1279
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1284
 msgid "Stop"
 msgstr "Parar"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1291
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1296
 msgid "Previous frame"
-msgstr "Frame previo"
+msgstr "Imagen anterior"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1306
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1311
 msgid "Next frame"
 msgstr "Siguiente imagen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1321
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1326
 #, fuzzy
 msgid "Previous keyframe"
 msgstr "Frame previo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1336
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1341
 #, fuzzy
 msgid "Next keyframe"
 msgstr "Siguiente imagen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1350
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1355
 msgid "Selection: start"
-msgstr "Selecci?n: comenzar"
+msgstr "Seleccionar inicio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1361
-#, fuzzy
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1366
 msgid "Selection: end"
-msgstr "Selecci?n: comenzar"
+msgstr "Seleccionar fin"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1372
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1377
 msgid "Previous black frame"
 msgstr "Anterior imagen negra"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1383
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1388
 msgid "Next black frame"
 msgstr "Siguiente imagen negra"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1394
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1399
 msgid "First frame"
 msgstr "Primera imagen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1405
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1410
 msgid "Last frame"
-msgstr "?ltimo frame"
+msgstr "?ltima imagen"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1419
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1424
 msgid "<b>Selection</b>"
 msgstr "<b>Selecci?n</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1436
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1441
 msgid "B:"
 msgstr "B:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1443
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1448
 msgid "Go to marker B"
 msgstr "Ir a marcador B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1445
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1450
 msgid "A:"
 msgstr "A:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1452
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1457
 msgid "Go to marker A"
 msgstr "Ir a marcador A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1454
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1462
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1459
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1467
 msgid " 0000000"
 msgstr " 0000000"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/adm_editglyph.cpp:53
-#, fuzzy
 msgid "Select GlyphFile to edit"
-msgstr "Seleccione archivo OGM a escribir"
+msgstr "Seleccione archivo GlyphFile a editar"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_ocr/adm_editglyph.cpp:121
 #, fuzzy
@@ -7142,60 +7176,33 @@
 msgid "Couldn't find pixmap file: %s"
 msgstr "No se pudo encontrar archivo pixmap: %s"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:100
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:201
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:469
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/ADM_tray_gtk.cpp:55
+msgid "Open Avidemux"
+msgstr "Abrir Avidemux"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:106
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:213
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:400
 msgid "Cannot open directory as a file"
 msgstr "No se puede abrir un directorio como archivo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:325
-#: avidemux/gtk_gui.cpp:900
-#, c-format
-msgid "Cannot open \"%s\"."
-msgstr "No se puede abrir \"%s\"."
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:338
-#, c-format
-msgid ""
-"%s already exists.\n"
-"\n"
-"Do you want to replace it?"
-msgstr ""
-"%s ya existe.\n"
-"\n"
-"?Desea remplazarlo?"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:365
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:379
-msgid "It is possible that you are trying to overwrite an input file!"
-msgstr ""
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:390
-msgid "Cannot write the file"
-msgstr "No se puede escribir el archivo"
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:390
-#, c-format
-msgid "No write access to \"%s\"."
-msgstr "No hay acceso de lectura a \"%s\"."
-
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:524
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:455
 msgid "Images"
 msgstr ""
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:536
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/TLK_filesel.cpp:467
 msgid "All"
 msgstr "Todo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:585
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:657
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:719
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:779
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:842
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:574
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:652
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:720
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:780
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:843
 msgid "label1"
 msgstr "label1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:706
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:707
 msgid "Alert"
 msgstr "Alerta"
 
@@ -7249,40 +7256,36 @@
 msgid "_Autolevel"
 msgstr ""
 
-#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:224
+#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:222
 #: avidemux/ADM_videoFilter/ADM_vidBSmear.cpp:200
-#, fuzzy
 msgid "_Left border:"
-msgstr "Borde inferior:"
+msgstr "Borde izquierdo:"
 
-#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:225
+#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:223
 #: avidemux/ADM_videoFilter/ADM_vidBSmear.cpp:201
-#, fuzzy
 msgid "_Right border:"
-msgstr "Borde inferior:"
+msgstr "Borde derecho:"
 
-#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:226
+#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:224
 #: avidemux/ADM_videoFilter/ADM_vidBSmear.cpp:202
-#, fuzzy
 msgid "_Top border:"
-msgstr "Borde inferior:"
+msgstr "Borde superior:"
 
-#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:227
+#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:225
 #: avidemux/ADM_videoFilter/ADM_vidBSmear.cpp:203
 msgid "_Bottom border:"
 msgstr "Borde inferior:"
 
-#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:230
-#, fuzzy
+#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:228
 msgid "Add Borders"
-msgstr "A?adir bordes negros"
+msgstr "A?adir bordes"
 
-#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:234
+#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:232
 #: avidemux/ADM_videoFilter/ADM_vidBSmear.cpp:211
 msgid "Incorrect parameters"
 msgstr "Par?metros incorrectos"
 
-#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:234
+#: avidemux/ADM_videoFilter/ADM_vidAddBorder.cpp:232
 #: avidemux/ADM_videoFilter/ADM_vidBSmear.cpp:211
 msgid "All parameters must be even and within range."
 msgstr "Todos los par?metros deben ser uniformes y dentro de gama."
@@ -7297,9 +7300,8 @@
 msgstr "Entrelazando:"
 
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:89
-#, fuzzy
 msgid "_Font scale:"
-msgstr "Tama?o fuente"
+msgstr "Tama?o de fuente:"
 
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:90
 msgid "_Top margin:"
@@ -7326,9 +7328,8 @@
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:85
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:90
-#, fuzzy
 msgid "_Noise:"
-msgstr "Ruido"
+msgstr "Ruido:"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:85
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:90
@@ -7366,30 +7367,28 @@
 
 #: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:181
 msgid "_Start Frame (first frame # to include in average):"
-msgstr "Frame inicial (primer frame # a incluir en promedio):"
+msgstr "Imagen inicial (primera imagen # a incluir en promedio):"
 
 #: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:185
 msgid "_End Frame (last frame # to include), -1 = last:"
-msgstr "Frame final (?ltimo frame # a incluir), -1 = ?ltimo:"
+msgstr "Imagen final (?ltima imagen # a incluir), -1 = ?ltimo:"
 
 #: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:189
 #: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:191
-#, fuzzy
 msgid "_Output File:"
-msgstr "Archivo de Salida"
+msgstr "Archivo de salida:"
 
 #: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:189
-#, fuzzy
 msgid "Select output file"
 msgstr "Seleccionar archivo de salida"
 
 #: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:192
 msgid "_Bias (only for display; use 0 for average, 128 for frame minus average):"
-msgstr "Diagonal (solamente para mostrar; utilizar 0 de promedio, 128 para el frame m?s lejano al promedio):"
+msgstr "Diagonal (solamente para mostrar; utilizar 0 de promedio, 128 para la imagen m?s lejana al promedio):"
 
 #: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:196
 msgid "Current frame minus average so far"
-msgstr "Frame actual m?s lejano al promedio"
+msgstr "Imagen actual m?s lejana al promedio"
 
 #: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:197
 msgid "Average so far"
@@ -7400,9 +7399,8 @@
 msgstr "No mostrar nada (rapidez de procesado)"
 
 #: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:203
-#, fuzzy
 msgid "Display _Mode:"
-msgstr "Salida a pantalla"
+msgstr "Modo de pantalla"
 
 #: avidemux/ADM_videoFilter/ADM_vidComputeAverage.cpp:208
 #, fuzzy
@@ -7442,29 +7440,24 @@
 msgstr "Lento (luma completo y croma)"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:205
-#, fuzzy
 msgid "_Threshold 1:"
-msgstr "Umbral:"
+msgstr "Umbral 1:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:206
-#, fuzzy
 msgid "T_hreshold 2:"
-msgstr "Umbral:"
+msgstr "Umbral 2:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecDec.cpp:207
-#, fuzzy
 msgid "C_ycle:"
-msgstr "Azul:"
+msgstr "Ciclo:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:83
-#, fuzzy
 msgid "No strategy"
 msgstr "Sin estrategia"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:84
-#, fuzzy
 msgid "3:2 pulldown"
-msgstr "3:2"
+msgstr "3:2 men? desplegable"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:85
 msgid "PAL/SECAM"
@@ -7473,7 +7466,7 @@
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:91
 #: avidemux/ADM_videoFilter/ADM_vidDGbob.cpp:82
 #: avidemux/ADM_videoFilter/ADM_vidKernelDeint.cpp:88
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:110
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:108
 msgid "Bottom"
 msgstr "Inferior"
 
@@ -7486,9 +7479,8 @@
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:97
-#, fuzzy
 msgid "Always"
-msgstr "Reproducir"
+msgstr "Siempre"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:102
 msgid "None but compute"
@@ -7516,39 +7508,35 @@
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:112
 msgid "_Postprocessing:"
-msgstr "_Post-procesando:"
+msgstr "_Postprocesando:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:113
 msgid "_Try backward:"
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:115
-#, fuzzy
 msgid "_Direct threshold:"
-msgstr "Umbral:"
+msgstr "Umbral directo:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:116
 msgid "_Backward threshold:"
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:117
-#, fuzzy
 msgid "_Noise threshold:"
-msgstr "Umbral:"
+msgstr "Umbral de ruido:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:118
-#, fuzzy
 msgid "Postp_rocessing threshold:"
-msgstr "_Post-procesando:"
+msgstr "Umbral de postprocesado:"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:120
-#, fuzzy
 msgid "_Use chroma to decide"
-msgstr "Utilizar tambi?n croma para detectar cambios de escena"
+msgstr "Usar de croma para decidir"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:121
 msgid "Sho_w info"
-msgstr ""
+msgstr "Mostrar informaci?n"
 
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:122
 msgid "Debu_g"
@@ -7559,27 +7547,27 @@
 msgid "Bl_end"
 msgstr "Banda"
 
-#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:386
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:384
 #, fuzzy
 msgid "_Luma lock:"
 msgstr "Luma:"
 
-#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:387
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:385
 #, fuzzy
 msgid "C_hroma lock:"
 msgstr "Croma U: "
 
-#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:388
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:386
 #, fuzzy
 msgid "L_uma threshold:"
 msgstr "Umbral:"
 
-#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:389
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:387
 #, fuzzy
 msgid "Ch_roma threshold:"
 msgstr "Umbral:"
 
-#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:391
+#: avidemux/ADM_videoFilter/ADM_vidDenoise.cpp:389
 #, fuzzy
 msgid "_Scene change:"
 msgstr "Cambiar el n?mero de FPS:"
@@ -7608,12 +7596,12 @@
 msgid "DGBob"
 msgstr ""
 
-#: avidemux/ADM_videoFilter/ADM_vidDropOut.cpp:63
+#: avidemux/ADM_videoFilter/ADM_vidDropOut.cpp:61
 #, fuzzy
 msgid "DropOut Threshold"
 msgstr "Umbral de cambio de escena"
 
-#: avidemux/ADM_videoFilter/ADM_vidDropOut.cpp:66
+#: avidemux/ADM_videoFilter/ADM_vidDropOut.cpp:64
 #, fuzzy
 msgid "Drop Out"
 msgstr "Eliminar"
@@ -7627,9 +7615,8 @@
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:196
-#, fuzzy
 msgid "1x1"
-msgstr "11x11"
+msgstr "1x1"
 
 #: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:197
 msgid "3x3"
@@ -7677,15 +7664,13 @@
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:250
-#, fuzzy
 msgid "Select data file"
-msgstr "Seleccionar archivo .idx"
+msgstr "Seleccionar archivo de datos"
 
 #: avidemux/ADM_videoFilter/ADM_vidEraser.cpp:255
 #: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:196
 #: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:378
 #: avidemux/ADM_videoFilter/ADM_vidThreshold.cpp:159
-#, fuzzy
 msgid "_Debugging settings (bits):"
 msgstr "Depurando ajustes (bits):"
 
@@ -7695,38 +7680,32 @@
 msgstr "Configuraci?n Vorbis"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
-#, fuzzy
 msgid "Out"
 msgstr "Salida"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
-#, fuzzy
 msgid "Fade out"
-msgstr "Desvanecimiento ent/sal."
+msgstr "Desvanecimiento salida"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
 msgid "In"
 msgstr "En"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:65
-#, fuzzy
 msgid "Fade in"
-msgstr "Desvanecimiento ent/sal."
+msgstr "Desvanecimiento entrada"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:71
-#, fuzzy
 msgid "_Fade type:"
-msgstr "Tipo de imagen:"
+msgstr "Tipo de desvanecimiento:"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:72
-#, fuzzy
 msgid "_Start frame:"
-msgstr "?ltimo frame"
+msgstr "Comenzar en im?gen:"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:73
-#, fuzzy
 msgid "_End frame:"
-msgstr "%ld frames"
+msgstr "Acabar en im?gen:"
 
 #: avidemux/ADM_videoFilter/ADM_vidFade.cpp:74
 msgid "Fade to _black"
@@ -7791,9 +7770,8 @@
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:91
-#, fuzzy
 msgid "_Identical:"
-msgstr "_Inicial:"
+msgstr "Id?ntica:"
 
 #: avidemux/ADM_videoFilter/ADM_vidHardIvtcRemoval.cpp:96
 #, fuzzy
@@ -7828,48 +7806,47 @@
 msgid "Large Median 5x5"
 msgstr ""
 
-#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:88
+#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:87
 msgid "_Logo (jpg file):"
 msgstr ""
 
-#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:88
-#, fuzzy
+#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:87
 msgid "Select JPEG file"
-msgstr "Seleccionar archivo IFO"
+msgstr "Seleccionar archivo JPEG"
 
-#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:89
+#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:88
 msgid "_X Position:"
 msgstr "Posici?n X:"
 
-#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:90
+#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:89
 msgid "_Y Position:"
 msgstr "Posici?n Y:"
 
-#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:91
+#: avidemux/ADM_videoFilter/ADM_vidLogo.cpp:90
 msgid "_Alpha:"
 msgstr "_Alpha:"
 
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:104
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:102
 msgid "Fast"
 msgstr "R?pido"
 
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:105
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:103
 msgid "Medium"
 msgstr "Medio"
 
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:106
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:104
 msgid "Slow iterative motion search"
 msgstr "Lento, estimaci?n de movimiento iterativa"
 
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:107
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:105
 msgid "Extra slow (same as 3+multiple reference frames)"
 msgstr "Extra lento (igual que el 3+im?genes con referencia m?ltiple)"
 
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:114
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:112
 msgid "_Field dominance:"
 msgstr ""
 
-#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:115
+#: avidemux/ADM_videoFilter/ADM_vidMcDeint.cpp:113
 msgid "_Qp:"
 msgstr "_Qp:"
 
@@ -7892,20 +7869,20 @@
 msgid "Show _frame"
 msgstr "Mostrar imagen"
 
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:74
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:74
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:72
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:72
 #, fuzzy
 msgid "_Spatial luma strength:"
 msgstr "Intensidad de Filtrado: "
 
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:75
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:75
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:73
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:73
 #, fuzzy
 msgid "S_patial chroma strength:"
 msgstr "Intensidad de Filtrado: "
 
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:76
-#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:76
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3D.cpp:74
+#: avidemux/ADM_videoFilter/ADM_vidMPLD3Dlow.cpp:74
 #, fuzzy
 msgid "_Temporal strength:"
 msgstr "Intensidad de Filtrado: "
@@ -7915,30 +7892,26 @@
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidMSharpen.cpp:164
-#, fuzzy
 msgid "_High Q"
-msgstr "Alto"
+msgstr "Calidad elevada"
 
 #: avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp:194
-#, fuzzy
 msgid "_High quality"
-msgstr "Calidad"
+msgstr "Calidad elevada"
 
 #: avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp:195
-#, fuzzy
 msgid "Show _mask"
-msgstr "Mostrar imagen"
+msgstr "Mostrar m?scara"
 
 #: avidemux/ADM_videoFilter/ADM_vidMsmooth.cpp:201
 msgid "MSmooth"
 msgstr ""
 
-#: avidemux/ADM_videoFilter/ADM_vidPalShift.cpp:76
-#, fuzzy
+#: avidemux/ADM_videoFilter/ADM_vidPalShift.cpp:74
 msgid "_Try reverse"
-msgstr "Invertir"
+msgstr "Intentar invertir"
 
-#: avidemux/ADM_videoFilter/ADM_vidPalShift.cpp:80
+#: avidemux/ADM_videoFilter/ADM_vidPalShift.cpp:78
 #, fuzzy
 msgid "Pal Field Shift"
 msgstr "Cambiar campo PAL"
@@ -7960,9 +7933,8 @@
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:145
-#, fuzzy
 msgid "Output _Format:"
-msgstr "_Formato:"
+msgstr "Formato de salida:"
 
 #: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:170
 msgid "Mi_nimum area for a particle to be detected:"
@@ -7990,11 +7962,10 @@
 
 #: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:191
 #: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:324
-#: avidemux/gtk_gui.cpp:2016
-#: avidemux/gtk_gui.cpp:2113
-#, fuzzy
+#: avidemux/gtk_gui.cpp:2019
+#: avidemux/gtk_gui.cpp:2116
 msgid "Select file"
-msgstr "Seleccionar archivo IFO"
+msgstr "Seleccionar archivo"
 
 #: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:194
 msgid "_Camera number:"
@@ -8002,41 +7973,39 @@
 
 #: avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp:85
 msgid "_New frame rate:"
-msgstr "Nuevo frames por segundo"
+msgstr "Nuevo ratio de imagen:"
 
 #: avidemux/ADM_videoFilter/ADM_vidResampleFPS.cpp:86
-#, fuzzy
 msgid "_Blend"
-msgstr "Azul:"
+msgstr "Mezcla"
 
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:265
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:263
 msgid "90 degrees"
-msgstr ""
+msgstr "90 grados"
 
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:265
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:263
 msgid "90?"
 msgstr "90?"
 
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:266
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:264
 msgid "180 degrees"
-msgstr ""
+msgstr "180 grados"
 
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:266
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:264
 msgid "180?"
 msgstr "180?"
 
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:267
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:265
 msgid "270 degrees"
-msgstr ""
+msgstr "270 grados"
 
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:267
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:265
 msgid "270?"
 msgstr "270?"
 
-#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:269
-#, fuzzy
+#: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:267
 msgid "_Angle:"
-msgstr "Azul:"
+msgstr "?ngulo:"
 
 #: avidemux/ADM_videoFilter/ADM_vidSoften.cpp:68
 #, fuzzy
@@ -8053,15 +8022,15 @@
 msgid "_Radius:"
 msgstr "_Medio:"
 
-#: avidemux/ADM_videoFilter/ADM_vidSRT.cpp:210
+#: avidemux/ADM_videoFilter/ADM_vidSRT.cpp:208
 msgid "Could not open subtitle file"
 msgstr "Imposible abrir el archivo de subt?tulos"
 
-#: avidemux/ADM_videoFilter/ADM_vidSRT.cpp:230
+#: avidemux/ADM_videoFilter/ADM_vidSRT.cpp:228
 msgid "Cannot identify subtitle format"
 msgstr "No se puede identificar el formato de subt?tulos"
 
-#: avidemux/ADM_videoFilter/ADM_vidStabilize.cpp:63
+#: avidemux/ADM_videoFilter/ADM_vidStabilize.cpp:61
 #, fuzzy
 msgid "Stabilize Threshold"
 msgstr "Umbral de cambio de escena"
@@ -8131,9 +8100,8 @@
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:293
-#, fuzzy
 msgid "Input _Type:"
-msgstr "Tipo: "
+msgstr "Tipo de entrada:"
 
 #: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:324
 msgid "Input _File (image or convolution kernel):"
@@ -8152,9 +8120,8 @@
 msgstr ""
 
 #: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:338
-#, fuzzy
 msgid "Input _Constant:"
-msgstr "_Contraste:"
+msgstr "Constante de entrada:"
 
 #: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:342
 msgid ""
@@ -8169,7 +8136,7 @@
 #: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:351
 #, fuzzy
 msgid "Init _Start Frame (first frame # to use for head start):"
-msgstr "Frame inicial (primer frame # a incluir en promedio):"
+msgstr "Init imagen inicial (primera imagen # a incluir en promedio):"
 
 #: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:355
 #, fuzzy
@@ -8217,60 +8184,58 @@
 msgstr "In-range values go black, out-of-range values go white"
 
 #: avidemux/ADM_videoFilter/ADM_vidThreshold.cpp:156
-#, fuzzy
 msgid "Output values:"
-msgstr "Archivo de Salida"
+msgstr "Valores de salida:"
 
-#: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:101
+#: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:99
 msgid "_Luma temporal threshold:"
 msgstr ""
 
-#: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:102
+#: avidemux/ADM_videoFilter/ADM_vidVlad.cpp:100
 msgid "Ch_roma temporal threshold:"
 msgstr ""
 
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:171
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:169
 msgid "Temporal & spatial check"
 msgstr ""
 
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:172
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:170
 msgid "Bob, temporal & spatial check"
 msgstr ""
 
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:173
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:171
 msgid "Skip spatial temporal check"
 msgstr ""
 
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:174
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:172
 msgid "Bob, skip spatial temporal check"
 msgstr ""
 
-#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:182
-#, fuzzy
+#: avidemux/ADM_videoFilter/ADM_vidYadif.cpp:180
 msgid "_Order:"
-msgstr "_Modo:"
+msgstr "Orden:"
 
-#: avidemux/gtk_gui.cpp:249
+#: avidemux/gtk_gui.cpp:250
 msgid "Select ECMAScript to Run"
 msgstr "Seleccione ECMAScript a ejecutar"
 
-#: avidemux/gtk_gui.cpp:296
-#: avidemux/gtk_gui.cpp:335
+#: avidemux/gtk_gui.cpp:297
+#: avidemux/gtk_gui.cpp:336
 msgid "Obsolete"
 msgstr "Obsoleto"
 
-#: avidemux/gtk_gui.cpp:363
+#: avidemux/gtk_gui.cpp:364
 msgid "Not coded in this version"
 msgstr "Sin codificar en esta versi?n"
 
-#: avidemux/gtk_gui.cpp:378
-#: avidemux/gtk_gui.cpp:383
-#: avidemux/gtk_gui.cpp:506
-#: avidemux/gtk_gui.cpp:509
+#: avidemux/gtk_gui.cpp:379
+#: avidemux/gtk_gui.cpp:384
+#: avidemux/gtk_gui.cpp:505
+#: avidemux/gtk_gui.cpp:508
 msgid "Select AVI File..."
 msgstr "Seleccionar archivo AVI..."
 
-#: avidemux/gtk_gui.cpp:440
+#: avidemux/gtk_gui.cpp:441
 msgid ""
 "This is to be used to undo packed VOP on MPEG-4.\n"
 "Continue ?"
@@ -8278,412 +8243,436 @@
 "Esto se utiliza para deshacer el empaquetado VOP en MPEG-4.\n"
 "?Continuar?"
 
-#: avidemux/gtk_gui.cpp:442
+#: avidemux/gtk_gui.cpp:443
 msgid "Select AVI File to Write"
 msgstr "Seleccione archivo AVI para escribir"
 
-#: avidemux/gtk_gui.cpp:448
+#: avidemux/gtk_gui.cpp:449
 msgid "Select OGM File to Write"
 msgstr "Seleccione archivo OGM a escribir"
 
-#: avidemux/gtk_gui.cpp:452
-#: avidemux/gtk_gui.cpp:464
+#: avidemux/gtk_gui.cpp:453
+#: avidemux/gtk_gui.cpp:465
 msgid "Select Workbench to Save"
 msgstr "Seleccionar zona de trabajo a guardar"
 
-#: avidemux/gtk_gui.cpp:496
+#: avidemux/gtk_gui.cpp:495
 msgid "Select Raw File to Save"
 msgstr "Seleccionar archivo raw a guardar"
 
-#: avidemux/gtk_gui.cpp:512
+#: avidemux/gtk_gui.cpp:511
 msgid "Select AVI File to Append..."
 msgstr "Seleccionar archivo AVI para adjuntar..."
 
-#: avidemux/gtk_gui.cpp:516
+#: avidemux/gtk_gui.cpp:515
 msgid "Select File to Save Audio"
 msgstr "Seleccionar archivo para guardar audio"
 
-#: avidemux/gtk_gui.cpp:550
+#: avidemux/gtk_gui.cpp:549
 msgid "Select JPEG Sequence to Save"
 msgstr "Seleccionar secuencia JPEG a guardar"
 
-#: avidemux/gtk_gui.cpp:553
+#: avidemux/gtk_gui.cpp:552
 msgid "Select BMP to Save"
 msgstr "Seleccionar BMP a guardar"
 
-#: avidemux/gtk_gui.cpp:557
+#: avidemux/gtk_gui.cpp:556
 msgid "Select JPEG to Save"
 msgstr "Seleccionar JPEG a guardar"
 
-#: avidemux/gtk_gui.cpp:610
-#: avidemux/gtk_gui.cpp:722
+#: avidemux/gtk_gui.cpp:609
+#: avidemux/gtk_gui.cpp:715
 msgid "Select File to Save"
 msgstr "Seleccionar archivo a guardar"
 
-#: avidemux/gtk_gui.cpp:662
+#: avidemux/gtk_gui.cpp:661
 msgid "Select MP3 to Load"
 msgstr "Seleccionar MP3 a cargar"
 
-#: avidemux/gtk_gui.cpp:665
+#: avidemux/gtk_gui.cpp:664
 msgid "Select AC3 to Load"
 msgstr "Seleccionar AC3 para cargar"
 
-#: avidemux/gtk_gui.cpp:668
+#: avidemux/gtk_gui.cpp:667
 msgid "Select WAV to Load"
 msgstr "Seleccionar WAV a cargar"
 
-#: avidemux/gtk_gui.cpp:706
+#: avidemux/gtk_gui.cpp:705
 msgid "Go to Frame"
 msgstr "Ir a imagen"
 
-#: avidemux/gtk_gui.cpp:706
+#: avidemux/gtk_gui.cpp:705
 msgid "_Go to frame:"
 msgstr "_Ir a imagen:"
 
-#: avidemux/gtk_gui.cpp:716
+#: avidemux/gtk_gui.cpp:710
 msgid "Out of bounds"
 msgstr "Fuera de l?mites"
 
-#: avidemux/gtk_gui.cpp:727
-#: avidemux/gtk_gui.cpp:1915
+#: avidemux/gtk_gui.cpp:720
+#: avidemux/gtk_gui.cpp:1918
 msgid "Marker A > B"
 msgstr "Marcador A > B"
 
-#: avidemux/gtk_gui.cpp:727
+#: avidemux/gtk_gui.cpp:720
 msgid "Cannot copy."
 msgstr "No se puede copiar."
 
-#: avidemux/gtk_gui.cpp:739
+#: avidemux/gtk_gui.cpp:732
 msgid "Something bad happened (II))"
 msgstr "Error inesperado (II))"
 
-#: avidemux/gtk_gui.cpp:753
+#: avidemux/gtk_gui.cpp:746
 msgid "Are you sure?"
 msgstr "?Est? seguro?"
 
-#: avidemux/gtk_gui.cpp:808
+#: avidemux/gtk_gui.cpp:805
+msgid "Use custom value"
+msgstr "Usar valor personalizado"
+
+#: avidemux/gtk_gui.cpp:806
 msgid "Frame Rate"
-msgstr "Frame Rate"
+msgstr "Ratio de imagen"
 
-#: avidemux/gtk_gui.cpp:808
-msgid "_Frames per second:"
-msgstr "Frames por segundo:"
+#: avidemux/gtk_gui.cpp:806
+msgid "_Frames per second"
+msgstr "Im?genes por segundo:"
 
-#: avidemux/gtk_gui.cpp:831
+#: avidemux/gtk_gui.cpp:809
+msgid "PAL - 25 FPS"
+msgstr "PAL - 25 FPS"
+
+#: avidemux/gtk_gui.cpp:810
+msgid "FILM- 24 FPS"
+msgstr "FILM- 24 FPS"
+
+#: avidemux/gtk_gui.cpp:811
+msgid "NTSC- 30 FPS"
+msgstr "NTSC- 30 FPS"
+
+#: avidemux/gtk_gui.cpp:813
+msgid "Standard FrameRate:"
+msgstr "ratio de im?genes estandar:"
+
+#: avidemux/gtk_gui.cpp:819
+msgid "Change FrameRate"
+msgstr "Cambiar ratio de im?genes"
+
+#: avidemux/gtk_gui.cpp:850
 msgid "Width is not a multiple of 8"
 msgstr "La anchura no es m?ltiple de 8"
 
-#: avidemux/gtk_gui.cpp:832
+#: avidemux/gtk_gui.cpp:851
 msgid "This will make trouble for AVI files."
 msgstr "Esto dar? problemas con archivos AVI"
 
-#: avidemux/gtk_gui.cpp:842
+#: avidemux/gtk_gui.cpp:861
 msgid "Rebuild all Keyframes?"
 msgstr "?Reconstruir im?genes llave?"
 
-#: avidemux/gtk_gui.cpp:900
+#: avidemux/gtk_gui.cpp:918
 msgid "Permission error"
 msgstr "Error de permisos"
 
-#: avidemux/gtk_gui.cpp:903
+#: avidemux/gtk_gui.cpp:921
 #, c-format
 msgid "\"%s\" does not exist."
 msgstr "\"%s\" no existe."
 
-#: avidemux/gtk_gui.cpp:945
+#: avidemux/gtk_gui.cpp:960
 msgid "Cannot open project using the video loader."
 msgstr "No se puede abrir el proyecto utilizando el cargador de v?deo."
 
-#: avidemux/gtk_gui.cpp:946
+#: avidemux/gtk_gui.cpp:961
 msgid "Try 'File' -> 'Load/Run Project...'"
-msgstr "Intente 'Archivo' -> 'Cargar/Ejecutar Proyecto...'"
+msgstr "Intente 'Archivo' -> 'Cargar/Ejecutar proyecto...'"
 
-#: avidemux/gtk_gui.cpp:948
+#: avidemux/gtk_gui.cpp:963
 msgid "Could not open the file"
 msgstr "No se pudo abrir el archivo"
 
-#: avidemux/gtk_gui.cpp:983
+#: avidemux/gtk_gui.cpp:997
 msgid "Multiple Audio Tracks"
-msgstr "Pistas de sonido m?ltiples"
+msgstr "M?ltiples canales de audio"
 
-#: avidemux/gtk_gui.cpp:983
+#: avidemux/gtk_gui.cpp:997
 msgid ""
 "The file you just loaded contains several audio tracks.\n"
 "Go to Audio->MainTrack to select the active one."
 msgstr ""
-"El archivo que ha cargado contiene varias pistas de sonido.\n"
-"Vaya a Audio->Pista principal para seleccionar la activa."
+"El archivo que ha cargado contiene varios canales de audio.\n"
+"Vaya a \"Audio\" -> \"Canal principal de audio\" para seleccionar la deseada."
 
-#: avidemux/gtk_gui.cpp:1046
+#: avidemux/gtk_gui.cpp:1051
 msgid "No audio decoder found for this file"
 msgstr "No se encuentra el codec de audio para este archivo"
 
-#: avidemux/gtk_gui.cpp:1047
+#: avidemux/gtk_gui.cpp:1052
 msgid "Save (A+V) will generate bad AVI. Save audio will work."
 msgstr "Guardar (A+V) producir? un AVI err?neo. Guardar sonido funcionar?."
 
-#: avidemux/gtk_gui.cpp:1106
+#: avidemux/gtk_gui.cpp:1111
 msgid "Something failed when appending"
 msgstr "Ha sucedido algo inesperado"
 
-#: avidemux/gtk_gui.cpp:1115
-#: avidemux/gtk_gui.cpp:1934
+#: avidemux/gtk_gui.cpp:1120
+#: avidemux/gtk_gui.cpp:1937
 msgid "Something bad happened (II)"
 msgstr "Error no previsto (II)"
 
-#: avidemux/gtk_gui.cpp:1179
+#: avidemux/gtk_gui.cpp:1184
 msgid "Cannot save the audio in copy mode"
 msgstr "No se puede guardar el sonido en modo Copia"
 
-#: avidemux/gtk_gui.cpp:1179
+#: avidemux/gtk_gui.cpp:1184
 msgid "Select WAV PCM as the audio codec, otherwise the audio file would be raw PCM."
 msgstr "Elija WAV PCM como el codec de audio, de otra manera el archivo de sonido ser? RAW PCM."
 
-#: avidemux/gtk_gui.cpp:1187
-#: avidemux/gtk_gui.cpp:1544
+#: avidemux/gtk_gui.cpp:1192
+#: avidemux/gtk_gui.cpp:1547
 msgid "Saving audio"
 msgstr "Guardando audio"
 
-#: avidemux/gtk_gui.cpp:1264
+#: avidemux/gtk_gui.cpp:1269
 msgid "Get Frame"
 msgstr "Imagen siguiente"
 
-#: avidemux/gtk_gui.cpp:1264
+#: avidemux/gtk_gui.cpp:1269
 msgid "Cannot get this frame to save"
 msgstr "No se puede extraer la imagen para guardarla"
 
-#: avidemux/gtk_gui.cpp:1301
+#: avidemux/gtk_gui.cpp:1307
 msgid "Mark A > B"
 msgstr "La marca A > B"
 
-#: avidemux/gtk_gui.cpp:1301
+#: avidemux/gtk_gui.cpp:1307
 msgid "Set your markers correctly."
 msgstr "Fijar las marcas correctamente."
 
-#: avidemux/gtk_gui.cpp:1310
+#: avidemux/gtk_gui.cpp:1316
 msgid "Saving as set of jpegs"
 msgstr "Guardar como conjunto de im?genes jpegs"
 
-#: avidemux/gtk_gui.cpp:1316
+#: avidemux/gtk_gui.cpp:1322
 msgid "Cannot decode frame"
 msgstr "No se pudo decodificar imagen"
 
-#: avidemux/gtk_gui.cpp:1316
+#: avidemux/gtk_gui.cpp:1322
 msgid "Aborting."
 msgstr "Cancelando."
 
-#: avidemux/gtk_gui.cpp:1327
-#: avidemux/gtk_gui.cpp:1346
-#: avidemux/gtk_gui.cpp:2278
+#: avidemux/gtk_gui.cpp:1333
+#: avidemux/gtk_gui.cpp:1352
+#: avidemux/gtk_gui.cpp:2281
 msgid "Done"
 msgstr "Hecho"
 
-#: avidemux/gtk_gui.cpp:1327
+#: avidemux/gtk_gui.cpp:1333
 #, c-format
 msgid "Saved %d images."
 msgstr "%d im?genes guardadas."
 
-#: avidemux/gtk_gui.cpp:1329
+#: avidemux/gtk_gui.cpp:1335
 msgid "Error"
 msgstr "Error"
 
-#: avidemux/gtk_gui.cpp:1329
+#: avidemux/gtk_gui.cpp:1335
 msgid "Could not save all images."
 msgstr "No se pudo guardar todas las im?genes."
 
-#: avidemux/gtk_gui.cpp:1346
+#: avidemux/gtk_gui.cpp:1352
 #, c-format
 msgid "Saved \"%s\"."
 msgstr "Guardadas \"%s\"."
 
-#: avidemux/gtk_gui.cpp:1348
+#: avidemux/gtk_gui.cpp:1354
 msgid "BMP op failed"
 msgstr ""
 
-#: avidemux/gtk_gui.cpp:1348
+#: avidemux/gtk_gui.cpp:1354
 #, c-format
 msgid "Saving %s as a BMP file failed."
-msgstr ""
+msgstr "Error al guardar %s como un archivo BMP."
 
-#: avidemux/gtk_gui.cpp:1368
-#: avidemux/gtk_gui.cpp:1434
+#: avidemux/gtk_gui.cpp:1374
+#: avidemux/gtk_gui.cpp:1431
 msgid "Failed to open the file"
 msgstr "Error al abrir archivo"
 
-#: avidemux/gtk_gui.cpp:1368
-#: avidemux/gtk_gui.cpp:1434
+#: avidemux/gtk_gui.cpp:1374
+#: avidemux/gtk_gui.cpp:1431
 msgid "Not a WAV file?"
 msgstr "?No es un archivo WAV?"
 
-#: avidemux/gtk_gui.cpp:1369
+#: avidemux/gtk_gui.cpp:1375
 msgid "WAV open file failed..."
 msgstr "Apertura de WAV fallida..."
 
-#: avidemux/gtk_gui.cpp:1498
+#: avidemux/gtk_gui.cpp:1501
 msgid "Cannot decompress audio frame"
 msgstr "No se pudo descomprimir trozo de sonido"
 
-#: avidemux/gtk_gui.cpp:1512
+#: avidemux/gtk_gui.cpp:1515
 msgid "Memory Error"
 msgstr "Error de memoria"
 
-#: avidemux/gtk_gui.cpp:1565
+#: avidemux/gtk_gui.cpp:1568
 msgid "No frames to encode"
-msgstr "No hay frames para codificar"
+msgstr "No hay im?genes para codificar"
 
-#: avidemux/gtk_gui.cpp:1565
+#: avidemux/gtk_gui.cpp:1568
 msgid "Please check markers. Is \"A>\" == \">B\"?"
 msgstr "Compruebe marcadores. ?Es \"A>\" == \">B\"?"
 
-#: avidemux/gtk_gui.cpp:1704
+#: avidemux/gtk_gui.cpp:1707
 msgid "Saving raw video stream"
 msgstr "Guardando v?deo en formato RAW"
 
-#: avidemux/gtk_gui.cpp:1850
+#: avidemux/gtk_gui.cpp:1853
 msgid "Checking video"
 msgstr "Comprobando v?deo"
 
-#: avidemux/gtk_gui.cpp:1866
+#: avidemux/gtk_gui.cpp:1869
 msgid "No error found"
 msgstr "No se han encontrado errores"
 
-#: avidemux/gtk_gui.cpp:1870
+#: avidemux/gtk_gui.cpp:1873
 #, c-format
 msgid "Errors found in %u frames"
-msgstr "Errores encontrados en %u frames"
+msgstr "Errores encontrados en %u im?genes"
 
-#: avidemux/gtk_gui.cpp:1888
+#: avidemux/gtk_gui.cpp:1891
 msgid "Cannot decompress the audio stream"
 msgstr "No se pudo descomprimir el canal de sonido"
 
-#: avidemux/gtk_gui.cpp:1888
+#: avidemux/gtk_gui.cpp:1891
 msgid "Switch audio codec to Copy."
 msgstr "Cambiar el codec de audio a copia."
 
-#: avidemux/gtk_gui.cpp:1915
+#: avidemux/gtk_gui.cpp:1918
 msgid "Cannot delete the selection."
 msgstr "No se pudo borrar la selecci?n."
 
-#: avidemux/gtk_gui.cpp:1920
+#: avidemux/gtk_gui.cpp:1923
 msgid "You can't remove all frames"
-msgstr "Imposible borrar todos los frames"
+msgstr "Imposible borrar todos las im?genes"
 
-#: avidemux/gtk_gui.cpp:1996
+#: avidemux/gtk_gui.cpp:1999
 msgid "Could not get tracks info"
-msgstr "No se pudo recoger info. de pistas"
+msgstr "No se pudo recoger info. de los canales"
 
-#: avidemux/gtk_gui.cpp:2004
+#: avidemux/gtk_gui.cpp:2007
 msgid "Take audio from video file"
 msgstr "Extraer audio de un archivo de v?deo."
 
-#: avidemux/gtk_gui.cpp:2005
-#: avidemux/gtk_gui.cpp:2104
+#: avidemux/gtk_gui.cpp:2008
+#: avidemux/gtk_gui.cpp:2107
 msgid "No audio"
 msgstr "Sin sonido"
 
-#: avidemux/gtk_gui.cpp:2006
-#: avidemux/gtk_gui.cpp:2105
+#: avidemux/gtk_gui.cpp:2009
+#: avidemux/gtk_gui.cpp:2108
 msgid "External AC3"
 msgstr "AC3 externo"
 
-#: avidemux/gtk_gui.cpp:2006
-#: avidemux/gtk_gui.cpp:2105
+#: avidemux/gtk_gui.cpp:2009
+#: avidemux/gtk_gui.cpp:2108
 msgid "Take audio from external AC3 file"
 msgstr "Audio de un archivo AC3 externo"
 
-#: avidemux/gtk_gui.cpp:2007
-#: avidemux/gtk_gui.cpp:2106
+#: avidemux/gtk_gui.cpp:2010
+#: avidemux/gtk_gui.cpp:2109
 msgid "External MP3"
 msgstr "MP3 externo"
 
-#: avidemux/gtk_gui.cpp:2007
-#: avidemux/gtk_gui.cpp:2106
+#: avidemux/gtk_gui.cpp:2010
+#: avidemux/gtk_gui.cpp:2109
 msgid "Take audio from external MP3 file"
 msgstr "Audio de un archivo MP3 externo"
 
-#: avidemux/gtk_gui.cpp:2008
-#: avidemux/gtk_gui.cpp:2107
+#: avidemux/gtk_gui.cpp:2011
+#: avidemux/gtk_gui.cpp:2110
 msgid "External WAV"
 msgstr " WAV externo"
 
-#: avidemux/gtk_gui.cpp:2008
-#: avidemux/gtk_gui.cpp:2107
+#: avidemux/gtk_gui.cpp:2011
+#: avidemux/gtk_gui.cpp:2110
 msgid "Take audio from external WAV file"
 msgstr "Audio de un archivo WAV externo"
 
-#: avidemux/gtk_gui.cpp:2012
-#: avidemux/gtk_gui.cpp:2112
+#: avidemux/gtk_gui.cpp:2015
+#: avidemux/gtk_gui.cpp:2115
 msgid "_Audio source:"
 msgstr "Origen de audio"
 
-#: avidemux/gtk_gui.cpp:2016
-#: avidemux/gtk_gui.cpp:2113
+#: avidemux/gtk_gui.cpp:2019
+#: avidemux/gtk_gui.cpp:2116
 msgid "_External file:"
 msgstr "Archivo externo:"
 
-#: avidemux/gtk_gui.cpp:2031
+#: avidemux/gtk_gui.cpp:2034
 msgid "_Track from video:"
-msgstr "Pista de v?deo:"
+msgstr "Canal de v?deo:"
 
-#: avidemux/gtk_gui.cpp:2041
+#: avidemux/gtk_gui.cpp:2044
 msgid "Main Audio Track"
-msgstr "Pista de sonido principal"
+msgstr "Canal principal de audio"
 
-#: avidemux/gtk_gui.cpp:2047
-#: avidemux/gtk_gui.cpp:2125
+#: avidemux/gtk_gui.cpp:2050
+#: avidemux/gtk_gui.cpp:2128
 msgid "Cannot load"
 msgstr "No se puede cargar."
 
-#: avidemux/gtk_gui.cpp:2047
-#: avidemux/gtk_gui.cpp:2125
+#: avidemux/gtk_gui.cpp:2050
+#: avidemux/gtk_gui.cpp:2128
 msgid "The selected audio file does not exist."
 msgstr "El archivo de audio seleccionado no existe."
 
-#: avidemux/gtk_gui.cpp:2122
+#: avidemux/gtk_gui.cpp:2125
 msgid "Second Audio Track"
-msgstr "Segunda pista de audio"
+msgstr "Canal secundario de audio"
 
-#: avidemux/gtk_gui.cpp:2154
+#: avidemux/gtk_gui.cpp:2157
 msgid "Error loading the MP3 file"
 msgstr "Error cargando el archivo MP3"
 
-#: avidemux/gtk_gui.cpp:2163
-#: avidemux/gtk_gui.cpp:2185
-#: avidemux/gtk_gui.cpp:2207
+#: avidemux/gtk_gui.cpp:2166
+#: avidemux/gtk_gui.cpp:2188
+#: avidemux/gtk_gui.cpp:2210
 msgid "Second track loaded"
-msgstr "Cargada segunda pista"
+msgstr "Cargado segundo canal"
 
-#: avidemux/gtk_gui.cpp:2177
+#: avidemux/gtk_gui.cpp:2180
 msgid "Error loading the AC3 file"
 msgstr "Error cargando el archivo AC3"
 
-#: avidemux/gtk_gui.cpp:2199
+#: avidemux/gtk_gui.cpp:2202
 msgid "Error loading the WAV file"
 msgstr "Error cargando el archivo WAV"
 
-#: avidemux/gtk_gui.cpp:2266
+#: avidemux/gtk_gui.cpp:2269
 msgid "Saving failed"
 msgstr "Fall? el guardado"
 
-#: avidemux/gtk_gui.cpp:2266
+#: avidemux/gtk_gui.cpp:2269
 msgid "Saving the job failed. Maybe you have permission issue with ~/.avidemux"
 msgstr "Fall? el guardado de tarea. Puede que tenga problemas de permisos en ~/.avidemux"
 
-#: avidemux/gtk_gui.cpp:2278
+#: avidemux/gtk_gui.cpp:2281
 #, c-format
 msgid "File %s has been successfully saved."
 msgstr "El archivo %s se guard? satisfactoriamente."
 
-#: avidemux/gtk_gui.cpp:2282
+#: avidemux/gtk_gui.cpp:2285
 #, c-format
 msgid "File %s was NOT saved correctly."
 msgstr "El archivo %s no se guard? correctamente."
 
-#: avidemux/gtk_gui.cpp:2445
+#: avidemux/gtk_gui.cpp:2451
 msgid "AvsProxy"
 msgstr "AvsProxy"
 
-#: avidemux/gtk_gui.cpp:2445
+#: avidemux/gtk_gui.cpp:2451
 msgid ""
 "Failed to connect to avsproxy.\n"
 "Is it running ?"
@@ -8691,22 +8680,21 @@
 "Error al conectarse al avsproxy.\n"
 "?Est? funcionando?"
 
-#: avidemux/gtk_gui.cpp:2450
+#: avidemux/gtk_gui.cpp:2456
 msgid "avsproxy"
 msgstr "avsproxy"
 
-#: avidemux/gtk_gui.cpp:2478
+#: avidemux/gtk_gui.cpp:2484
 msgid "Frame type:"
 msgstr "Tipo de imagen:"
 
-#: avidemux/gtk_gui.cpp:2479
+#: avidemux/gtk_gui.cpp:2485
 msgid "Frame size:"
 msgstr "Tama?o de la imagen:"
 
-#: avidemux/gtk_gui.cpp:2481
-#, fuzzy
+#: avidemux/gtk_gui.cpp:2487
 msgid "Frame Hex Dump"
-msgstr "_Frames por segundo"
+msgstr "Volcado hexadecimal de im?gen"
 
 #: avidemux/guiplay.cpp:359
 msgid "Trouble initializing audio device"
@@ -8714,15 +8702,15 @@
 
 #: avidemux/gui_autodrive.cpp:52
 msgid "No audio track"
-msgstr "Sin pista de sonido"
+msgstr "Sin canal de audio"
 
 #: avidemux/gui_autodrive.cpp:52
 msgid "An audio track is necessary to create such file"
-msgstr "Es necesaria una pista de audio para crear ese tipo de archivo"
+msgstr "Es necesario un canal de audio para crear ese tipo de archivo"
 
 #: avidemux/gui_autodrive.cpp:63
 msgid "Xvid4 and FAAC support is required for the iPod profile."
-msgstr ""
+msgstr "El soporte Xvid4 y FAAC es necesario para el perfil iPod."
 
 #: avidemux/gui_autodrive.cpp:72
 msgid "Cannot select the MPEG-4 SP codec."
@@ -8804,11 +8792,11 @@
 
 #: avidemux/gui_savenew.cpp:254
 msgid "There is no second track"
-msgstr "No hay segunda pista de audio"
+msgstr "No hay segundo canal de audio"
 
 #: avidemux/gui_savenew.cpp:254
 msgid "Select a second audio track in the Audio menu."
-msgstr "Seleccionar segunda pista de audio en el men? Audio."
+msgstr "Seleccionar canal secundario de audio en el men? Audio."
 
 #: avidemux/gui_savenew.cpp:258
 msgid "Select dual audio AVI to write"
@@ -8832,6 +8820,14 @@
 "Puede necesitar copia inteligente.\n"
 " ?Activar?"
 
+#~ msgid "can't determine $USERPROFILE."
+#~ msgstr "No se pudo determinar el $USERPROFILE."
+#~ msgid "? 2001-2007 Mean"
+#~ msgstr "? 2001-2007 Mean"
+#~ msgid "http://www.avidemux.org"
+#~ msgstr "http://www.avidemux.org"
+#~ msgid "Reset"
+#~ msgstr "Limpiar"
 #~ msgid "Invalid filename"
 #~ msgstr "Nombre no v?lido"
 #~ msgid "Please select or enter a valid filename."



From gruntster at mail.berlios.de  Sun Sep 21 23:35:07 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Sun, 21 Sep 2008 23:35:07 +0200
Subject: [Avidemux-svn-commit] r4390 - in
	branches/avidemux_2.4_branch/avidemux: . ADM_userInterfaces/ADM_QT4
	ADM_userInterfaces/ADM_QT4/ADM_dialog
	ADM_userInterfaces/ADM_QT4/ADM_dialogFactory
	ADM_userInterfaces/ADM_QT4/ADM_filters
	ADM_userInterfaces/ADM_QT4/ADM_gui
	ADM_userInterfaces/ADM_QT4/ADM_ocr
	ADM_userInterfaces/ADM_QT4/ADM_toolkit
Message-ID: <200809212135.m8LLZ7pj015840@sheep.berlios.de>

Author: gruntster
Date: 2008-09-21 23:34:50 +0200 (Sun, 21 Sep 2008)
New Revision: 4390

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/qtToolkit.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/qtToolkit.h
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/ADM_flyTemplate.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_about.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_calculator.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_chromashift.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_contrast.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_crop.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_eq2.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_hue.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_jobs.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_license.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_srt.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_vobsub.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_working.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_index_pg.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/alert_qt4.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/Q_ocr.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/Makefile.am
   branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
Log:
[Qt] employ a similar hack to GTK+ for parenting windows. It will cause too many problems upstream to do it properly.

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/ADM_flyTemplate.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/ADM_flyTemplate.h	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/ADM_flyTemplate.h	2008-09-21 21:34:50 UTC (rev 4390)
@@ -46,7 +46,7 @@
  public:
      FLY_NAME *myCrop;
      ADM_QCanvas *canvas;
-     WINDOW_NAME(PARAM_NAME *param,AVDMGenericVideoStream *in);
+     WINDOW_NAME(QWidget *parent, PARAM_NAME *param,AVDMGenericVideoStream *in);
      ~WINDOW_NAME();
      DIALOG_NAME ui;
  public slots:
@@ -88,12 +88,17 @@
 {
         uint8_t ret=0;
         
-        WINDOW_NAME dialog(param,in);        
+        WINDOW_NAME dialog(qtLastRegisteredDialog(), param,in);
+		qtRegisterDialog(&dialog);
+
         if(dialog.exec()==QDialog::Accepted)
         {
             dialog.gather(param); 
             ret=1;
         }
+
+		qtUnregisterDialog(&dialog);
+
         return ret;
 }
 //____________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_about.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_about.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_about.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -17,6 +17,7 @@
 
 #include "ui_about.h"
 #include "default.h"
+#include "../ADM_toolkit/qtToolkit.h"
 
 extern uint8_t DIA_license(void);
 
@@ -28,13 +29,13 @@
 	Ui_aboutDialog ui;
 
 public:
-	Ui_aboutWindow();
+	Ui_aboutWindow(QWidget* parent);
 
 private slots:
 	void licenseButton_clicked(bool);
 };
 
-Ui_aboutWindow::Ui_aboutWindow()
+Ui_aboutWindow::Ui_aboutWindow(QWidget* parent) : QDialog(parent)
 {
 	Q_INIT_RESOURCE(about);
 
@@ -58,10 +59,13 @@
 }
 
 uint8_t DIA_about(void)
-{
-	Ui_aboutWindow dialog;
+{	
+	Ui_aboutWindow dialog(qtLastRegisteredDialog());
+	qtRegisterDialog(&dialog);
 
 	dialog.exec();
 
+	qtUnregisterDialog(&dialog);
+
 	return 1;
 }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_asharp.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -39,6 +39,7 @@
 #include "DIA_flyDialogQt4.h"
 #include "ADM_videoFilter/ADM_vidASharp_param.h"
 #include "DIA_flyAsharp.h"
+#include "../ADM_toolkit/qtToolkit.h"
 
 //
 //	Video is in YV12 Colorspace
@@ -52,7 +53,7 @@
  public:
      flyASharp *myCrop;
      ADM_QCanvas *canvas;
-     Ui_asharpWindow(ASHARP_PARAM *param,AVDMGenericVideoStream *in);
+     Ui_asharpWindow(QWidget *parent, ASHARP_PARAM *param,AVDMGenericVideoStream *in);
      ~Ui_asharpWindow();
      Ui_asharpDialog ui;
  public slots:
@@ -66,7 +67,7 @@
  private:
      
  };
-  Ui_asharpWindow::Ui_asharpWindow(ASHARP_PARAM *param,AVDMGenericVideoStream *in)
+Ui_asharpWindow::Ui_asharpWindow(QWidget *parent, ASHARP_PARAM *param,AVDMGenericVideoStream *in) : QDialog(parent)
   {
     uint32_t width,height;
         ui.setupUi(this);
@@ -159,12 +160,16 @@
 {
         uint8_t ret=0;
         
-        Ui_asharpWindow dialog(param,in);        
+        Ui_asharpWindow dialog(qtLastRegisteredDialog(), param,in);
+		qtRegisterDialog(&dialog);
+
         if(dialog.exec()==QDialog::Accepted)
         {
             dialog.gather(param); 
             ret=1;
         }
+
+		qtUnregisterDialog(&dialog);
         return ret;
 }
 //____________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_calculator.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_calculator.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_calculator.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -26,6 +26,7 @@
 #include "ADM_audiofilter/audioeng_buildfilters.h"
 #include "ADM_filter/video_filters.h"
 #include "ADM_encoder/adm_encConfig.h"
+#include "../ADM_toolkit/qtToolkit.h"
 
 class calculatorDialog : public QDialog
 {
@@ -40,7 +41,7 @@
 	unsigned int getPictureSize(void);
 
 public:
-	calculatorDialog();
+	calculatorDialog(QWidget *parent);
 	~calculatorDialog();
 
 	unsigned int videoSize(void);
@@ -52,7 +53,7 @@
 	void spinBox_valueChanged(int value);
 };
 
-calculatorDialog::calculatorDialog()
+calculatorDialog::calculatorDialog(QWidget *parent) : QDialog(parent)
 {
 	ui.setupUi(this);
 
@@ -276,11 +277,14 @@
 	if (!avifileinfo)
 		return;
 
-	calculatorDialog dialog;
+	calculatorDialog dialog(qtLastRegisteredDialog());
+	qtRegisterDialog(&dialog);
 
 	if (dialog.exec() == QDialog::Accepted)
 		videoCodecSetFinalSize(dialog.videoSize());
 
+	qtUnregisterDialog(&dialog);
+
 	*sizeInMeg = dialog.videoSize();
 	*avgBitrate = dialog.videoBitrate();
 }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_chromashift.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_chromashift.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_chromashift.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -39,6 +39,8 @@
 #include "DIA_flyDialogQt4.h"
 #include "ADM_videoFilter/ADM_vidChromaShift_param.h"
 #include "DIA_flyChromaShift.h"
+#include "../ADM_toolkit/qtToolkit.h"
+
 class Ui_chromaShiftWindow : public QDialog
  {
      Q_OBJECT
@@ -47,7 +49,7 @@
  public:
      flyChromaShift *myCrop;
      ADM_QCanvas *canvas;
-     Ui_chromaShiftWindow(CHROMASHIFT_PARAM *param,AVDMGenericVideoStream *in);
+     Ui_chromaShiftWindow(QWidget* parent, CHROMASHIFT_PARAM *param,AVDMGenericVideoStream *in);
      ~Ui_chromaShiftWindow();
      Ui_chromashiftDialog ui;
  public slots:
@@ -60,7 +62,7 @@
  private:
      
  };
-  Ui_chromaShiftWindow::Ui_chromaShiftWindow(CHROMASHIFT_PARAM *param,AVDMGenericVideoStream *in)
+Ui_chromaShiftWindow::Ui_chromaShiftWindow(QWidget* parent, CHROMASHIFT_PARAM *param,AVDMGenericVideoStream *in) : QDialog(parent)
   {
     uint32_t width,height;
         ui.setupUi(this);
@@ -142,12 +144,17 @@
 {
         uint8_t ret=0;
         
-        Ui_chromaShiftWindow dialog(param,in);        
+        Ui_chromaShiftWindow dialog(qtLastRegisteredDialog(), param,in);
+		qtRegisterDialog(&dialog);
+
         if(dialog.exec()==QDialog::Accepted)
         {
             dialog.gather(param); 
             ret=1;
         }
+
+		qtUnregisterDialog(&dialog);
+
         return ret;
 }
 //____________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_contrast.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_contrast.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_contrast.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -39,6 +39,7 @@
 #include "DIA_flyDialogQt4.h"
 #include "ADM_videoFilter/ADM_vidContrast.h"
 #include "DIA_flyContrast.h"
+#include "../ADM_toolkit/qtToolkit.h"
 
 //
 //	Video is in YV12 Colorspace
@@ -52,7 +53,7 @@
  public:
      flyContrast *myCrop;
      ADM_QCanvas *canvas;
-     Ui_contrastWindow(CONTRAST_PARAM *param,AVDMGenericVideoStream *in);
+     Ui_contrastWindow(QWidget* parent, CONTRAST_PARAM *param,AVDMGenericVideoStream *in);
      ~Ui_contrastWindow();
      Ui_contrastDialog ui;
  public slots:
@@ -65,7 +66,7 @@
  private:
      
  };
-  Ui_contrastWindow::Ui_contrastWindow(CONTRAST_PARAM *param,AVDMGenericVideoStream *in)
+Ui_contrastWindow::Ui_contrastWindow(QWidget* parent, CONTRAST_PARAM *param,AVDMGenericVideoStream *in) : QDialog(parent)
   {
     uint32_t width,height;
         ui.setupUi(this);
@@ -155,12 +156,17 @@
 {
         uint8_t ret=0;
         
-        Ui_contrastWindow dialog(param,in);        
+        Ui_contrastWindow dialog(qtLastRegisteredDialog(), param,in);
+		qtRegisterDialog(&dialog);
+
         if(dialog.exec()==QDialog::Accepted)
         {
             dialog.gather(param); 
             ret=1;
         }
+
+		qtUnregisterDialog(&dialog);
+
         return ret;
 }
 //____________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_crop.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_crop.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_crop.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -38,6 +38,7 @@
 #include "DIA_flyDialog.h"
 #include "DIA_flyDialogQt4.h"
 #include "DIA_flyCrop.h"
+#include "../ADM_toolkit/qtToolkit.h"
 
 //
 //	Video is in YV12 Colorspace
@@ -51,7 +52,7 @@
  public:
      flyCrop *myCrop;
      ADM_QCanvas *canvas;
-     Ui_cropWindow(CROP_PARAMS *param,AVDMGenericVideoStream *in);
+     Ui_cropWindow(QWidget* parent, CROP_PARAMS *param,AVDMGenericVideoStream *in);
      ~Ui_cropWindow();
      Ui_cropDialog ui;
  public slots:
@@ -66,7 +67,7 @@
  private:
      
  };
-  Ui_cropWindow::Ui_cropWindow(CROP_PARAMS *param,AVDMGenericVideoStream *in)
+Ui_cropWindow::Ui_cropWindow(QWidget* parent, CROP_PARAMS *param,AVDMGenericVideoStream *in) : QDialog(parent)
   {
     uint32_t width,height;
         ui.setupUi(this);
@@ -197,12 +198,17 @@
 {
         uint8_t ret=0;
         
-        Ui_cropWindow dialog(param,in);        
+        Ui_cropWindow dialog(qtLastRegisteredDialog(), param,in);
+		qtRegisterDialog(&dialog);
+
         if(dialog.exec()==QDialog::Accepted)
         {
             dialog.gather(param); 
             ret=1;
         }
+
+		qtUnregisterDialog(&dialog);
+
         return ret;
 }
 //____________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_encoding.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -29,6 +29,7 @@
 #include "ADM_toolkit/toolkit.hxx"
 #include "ADM_libraries/ADM_utilities/avidemutils.h"
 #include "ADM_gui/ADM_qtray.h"
+#include "../ADM_toolkit/qtToolkit.h"
 
 extern void UI_iconify(void);
 extern void UI_deiconify(void);
@@ -39,7 +40,7 @@
      Q_OBJECT
 
  public:
-     encodingWindow(QDialog *parent, bool useTray);
+     encodingWindow(QWidget *parent, bool useTray);
      Ui_encodingDialog ui;
 
  protected:
@@ -107,7 +108,7 @@
 };
 
 
-encodingWindow::encodingWindow(QDialog *parent, bool useTray) : QDialog(parent, Qt::WindowTitleHint | Qt::WindowSystemMenuHint | Qt::WindowMinimizeButtonHint)
+encodingWindow::encodingWindow(QWidget *parent, bool useTray) : QDialog(parent, Qt::WindowTitleHint | Qt::WindowSystemMenuHint | Qt::WindowMinimizeButtonHint)
  {
 	this->useTray = useTray;
 	ui.setupUi(this);
@@ -162,7 +163,9 @@
         _audioSize=0;
         _videoSize=0;
         _current=0;
-        window=new encodingWindow(QuiMainWindows, useTray);
+        window=new encodingWindow(qtLastRegisteredDialog(), useTray);
+		qtRegisterDialog(window);
+
         setFps(fps1000);
 		_originalPriority=getpriority(PRIO_PROCESS, 0);
         _lastTime=0;
@@ -209,7 +212,8 @@
 
 	setpriority(PRIO_PROCESS, 0, _originalPriority);
 
-	if(window) delete window;
+	qtUnregisterDialog(window);
+	delete window;
 	window=NULL;
 	UI_deiconify();
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_eq2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_eq2.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_eq2.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -33,6 +33,7 @@
 #include "DIA_flyDialogQt4.h"
 #include "ADM_videoFilter/ADM_vidEq2.h"
 #include "DIA_flyEq2.h"
+#include "../ADM_toolkit/qtToolkit.h"
 
 //
 //	Video is in YV12 Colorspace
@@ -46,7 +47,7 @@
  public:
      flyEq2 *myCrop;
      ADM_QCanvas *canvas;
-     Ui_eq2Window(Eq2_Param *param,AVDMGenericVideoStream *in);
+     Ui_eq2Window(QWidget *parent, Eq2_Param *param,AVDMGenericVideoStream *in);
      ~Ui_eq2Window();
      Ui_DialogEq2 ui;
  public slots:
@@ -59,7 +60,7 @@
  private:
      
  };
-  Ui_eq2Window::Ui_eq2Window(Eq2_Param *param,AVDMGenericVideoStream *in)
+Ui_eq2Window::Ui_eq2Window(QWidget *parent, Eq2_Param *param,AVDMGenericVideoStream *in) : QDialog(parent)
   {
     uint32_t width,height;
         ui.setupUi(this);
@@ -162,12 +163,18 @@
 {
         uint8_t ret=0;
         
-        Ui_eq2Window dialog(param,in);        
+        Ui_eq2Window dialog(qtLastRegisteredDialog(), param,in);
+
+		qtRegisterDialog(&dialog);
+
         if(dialog.exec()==QDialog::Accepted)
         {
             dialog.gather(param); 
             ret=1;
         }
+
+		qtUnregisterDialog(&dialog);
+
         return ret;
 }
 //____________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_hue.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_hue.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_hue.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -39,6 +39,7 @@
 #include "DIA_flyDialogQt4.h"
 #include "ADM_videoFilter/ADM_vidHue.h"
 #include "DIA_flyHue.h"
+#include "../ADM_toolkit/qtToolkit.h"
 
 //
 //	Video is in YV12 Colorspace
@@ -52,7 +53,7 @@
  public:
      flyHue *myCrop;
      ADM_QCanvas *canvas;
-     Ui_hueWindow(Hue_Param *param,AVDMGenericVideoStream *in);
+     Ui_hueWindow(QWidget *parent, Hue_Param *param,AVDMGenericVideoStream *in);
      ~Ui_hueWindow();
      Ui_hueDialog ui;
  public slots:
@@ -65,7 +66,7 @@
  private:
      
  };
-  Ui_hueWindow::Ui_hueWindow(Hue_Param *param,AVDMGenericVideoStream *in)
+Ui_hueWindow::Ui_hueWindow(QWidget *parent, Hue_Param *param,AVDMGenericVideoStream *in) : QDialog(parent)
   {
     uint32_t width,height;
         ui.setupUi(this);
@@ -141,12 +142,18 @@
 {
         uint8_t ret=0;
         
-        Ui_hueWindow dialog(param,in);        
+        Ui_hueWindow dialog(qtLastRegisteredDialog(), param,in);
+
+		qtRegisterDialog(&dialog);
+
         if(dialog.exec()==QDialog::Accepted)
         {
             dialog.gather(param); 
             ret=1;
         }
+
+		qtUnregisterDialog(&dialog);
+
         return ret;
 }
 //____________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_jobs.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_jobs.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_jobs.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -20,6 +20,7 @@
 
 #include "ADM_toolkit/toolkit.hxx"
 #include "ADM_assert.h"
+#include "../ADM_toolkit/qtToolkit.h"
 
 static void             updateStatus(void);
 extern bool parseECMAScript(const char *name);
@@ -72,7 +73,7 @@
         ADM_Job_Descriptor  *desc;
         void             updateRows(void);
  public:
-                    jobsWindow(uint32_t n,char **j);
+                    jobsWindow(QWidget *parent, uint32_t n,char **j);
                     ~jobsWindow();
      Ui_Jobs        ui;
  public slots:
@@ -85,7 +86,7 @@
  /**
           \fn jobsWindow
  */
-jobsWindow::jobsWindow(uint32_t n,char **j)     : QDialog()
+jobsWindow::jobsWindow(QWidget *parent, uint32_t n,char **j)     : QDialog(parent)
  {
      ui.setupUi(this);
      _nbJobs=n;
@@ -252,12 +253,17 @@
 uint8_t  DIA_job(uint32_t nb, char **name)
 {
   uint8_t r=0;
-  jobsWindow jobswindow(nb,name) ;
+  jobsWindow jobswindow(qtLastRegisteredDialog(), nb,name);
+
+  qtRegisterDialog(&jobswindow);
      
      if(jobswindow.exec()==QDialog::Accepted)
      {
        r=1;
      }
+
+	 qtUnregisterDialog(&jobswindow);
+
      return r;
 }
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_license.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_license.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_license.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -17,6 +17,7 @@
 
 #include "ui_license.h"
 #include "default.h"
+#include "../ADM_toolkit/qtToolkit.h"
 
 class Ui_licenseWindow : public QDialog
 {
@@ -26,10 +27,10 @@
 	Ui_licenseDialog ui;
 
 public:
-	Ui_licenseWindow();
+	Ui_licenseWindow(QWidget *parent);
 };
 
-Ui_licenseWindow::Ui_licenseWindow()
+Ui_licenseWindow::Ui_licenseWindow(QWidget *parent) : QDialog(parent)
 {
 	ui.setupUi(this);
 
@@ -709,9 +710,11 @@
 
 uint8_t DIA_license(void)
 {
-	Ui_licenseWindow dialog;
+	Ui_licenseWindow dialog(qtLastRegisteredDialog());
 
+	qtRegisterDialog(&dialog);
 	dialog.exec();
+	qtUnregisterDialog(&dialog);
 
 	return 1;
 }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -23,6 +23,8 @@
 #include "avidemutils.h"
 #include "avi_vars.h"
 #include "ADM_osSupport/ADM_misc.h"
+#include "../ADM_toolkit/qtToolkit.h"
+
 static const char *yesno[2]={QT_TR_NOOP("No"),QT_TR_NOOP("Yes")};
 extern const char *getStrFromAudioCodec( uint32_t codec);
  class propWindow : public QDialog
@@ -30,7 +32,7 @@
      Q_OBJECT
 
  public:
-     propWindow();
+     propWindow(QWidget *parent);
      Ui_Dialog ui;
  public slots:
   
@@ -42,7 +44,7 @@
  };
 
 
-propWindow::propWindow()     : QDialog()
+propWindow::propWindow(QWidget *parent)     : QDialog(parent)
  {
      ui.setupUi(this);
      uint8_t gmc, qpel,vop;
@@ -147,9 +149,10 @@
       if (!avifileinfo)
         return;
      // Fetch info
-     propWindow *propwindow=new propWindow ;
-     propwindow->exec();
-     delete propwindow;
+     propWindow propwindow(qtLastRegisteredDialog());
+	 qtRegisterDialog(&propwindow);
+     propwindow.exec();
+	 qtUnregisterDialog(&propwindow);
 }  
 //********************************************
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -26,6 +26,7 @@
 #include "avi_vars.h"
 #include "ADM_osSupport/ADM_misc.h"
 #include "ADM_toolkit/toolkit.hxx"
+#include "../ADM_toolkit/qtToolkit.h"
 
 static double aspectRatio[2][3]={
                               {1.,0.888888,1.19}, // NTSC 1:1 4:3 16:9
@@ -59,7 +60,7 @@
 	resParam *_param;
 
 public:
-	resizeWindow(resParam *param);
+	resizeWindow(QWidget *parent, resParam *param);
 	Ui_resizeDialog ui;
 
 public slots:
@@ -74,7 +75,7 @@
 	void aspectRatioChanged(int index);
 };
 
-resizeWindow::resizeWindow(resParam *param) : QDialog()
+resizeWindow::resizeWindow(QWidget *parent, resParam *param) : QDialog(parent)
  {
      ui.setupUi(this);
 	 lastPercentage = 100;
@@ -313,8 +314,10 @@
        
 
      // Fetch info
-     resizeWindow resizewindow(&param) ;
-     ;
+     resizeWindow resizewindow(qtLastRegisteredDialog(), &param);
+
+     qtRegisterDialog(&resizewindow);
+
      if(resizewindow.exec()==QDialog::Accepted)
      {
        resizewindow.gather();
@@ -323,6 +326,9 @@
        *alg=param.algo;
        r=1;
      }
+
+	 qtUnregisterDialog(&resizewindow);
+
      return r;
 }  
 //********************************************

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_srt.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_srt.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_srt.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -33,6 +33,7 @@
 #include "ADM_assert.h"
 #include "DIA_flyDialog.h"
 #include "DIA_flyDialogQt4.h"
+#include "../ADM_toolkit/qtToolkit.h"
 
 //#include "ADM_video/ADM_vidFont.h"
 class ADMfont;
@@ -52,7 +53,7 @@
  public:
      flySrtPos *myCrop;
      ADM_QCanvas *canvas;
-     Ui_srtWindow(SRT_POS_PARAM *param,AVDMGenericVideoStream *in);
+     Ui_srtWindow(QWidget *parent, SRT_POS_PARAM *param,AVDMGenericVideoStream *in);
      ~Ui_srtWindow();
      Ui_srtDialog ui;
  public slots:
@@ -65,7 +66,7 @@
  private:
      
  };
-  Ui_srtWindow::Ui_srtWindow(SRT_POS_PARAM *param,AVDMGenericVideoStream *in)
+Ui_srtWindow::Ui_srtWindow(QWidget *parent, SRT_POS_PARAM *param,AVDMGenericVideoStream *in) : QDialog(parent)
   {
     uint32_t width,height;
         ui.setupUi(this);
@@ -165,7 +166,10 @@
         SRT_POS_PARAM param;
         param.fontSize=*size;
         param.position=*position;
-        Ui_srtWindow dialog(&param,in);        
+        Ui_srtWindow dialog(qtLastRegisteredDialog(), &param,in);
+
+		qtRegisterDialog(&dialog);
+
         if(dialog.exec()==QDialog::Accepted)
         {
             dialog.gather(&param);
@@ -173,6 +177,9 @@
             *position=param.position;
             ret=1;
         }
+
+		qtUnregisterDialog(&dialog);
+
         return ret;
 }
 //____________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_vobsub.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_vobsub.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_vobsub.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -34,9 +34,9 @@
 #include "ADM_videoFilter/ADM_vidVobSub.h"
 
 #include "ADM_assert.h"
+#include "../ADM_toolkit/qtToolkit.h"
 
 
-
 //
 //	Video is in YV12 Colorspace
 //
@@ -48,7 +48,7 @@
 	 vobSubParam *param;
 	 void  		 fillLanguage(const char *file);
  public:
-     Ui_vobsubWindow(vobSubParam *param);
+     Ui_vobsubWindow(QWidget *parent, vobSubParam *param);
      ~Ui_vobsubWindow();
      Ui_DialogVobSub ui;
      
@@ -59,7 +59,7 @@
  private:
      
  };
-  Ui_vobsubWindow::Ui_vobsubWindow(vobSubParam *parm)
+Ui_vobsubWindow::Ui_vobsubWindow(QWidget *parent, vobSubParam *parm) : QDialog(parent)
   {
     uint32_t width,height;
     	this->param=parm;
@@ -136,12 +136,18 @@
 uint8_t DIA_vobsub(vobSubParam *param)
 {
         uint8_t ret=0;
-        Ui_vobsubWindow dialog(param);        
+        Ui_vobsubWindow dialog(qtLastRegisteredDialog(), param);
+
+		qtRegisterDialog(&dialog);
+
         if(dialog.exec()==QDialog::Accepted)
         {
         	dialog.gather();
             ret=1;
         }
+
+		qtUnregisterDialog(&dialog);
+
         return ret;
 }
 //____________________________________

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_working.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_working.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_working.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -24,6 +24,7 @@
 #include "ADM_assert.h"
 #include "ADM_osSupport/ADM_misc.h"
 #include "DIA_working.h"
+#include "../ADM_toolkit/qtToolkit.h"
     
 extern void UI_purge(void);
 
@@ -32,7 +33,7 @@
      Q_OBJECT
 
  public:
-     workWindow();
+     workWindow(QWidget *parent);
      Ui_workDialog ui;
  public slots:
  private slots:
@@ -40,7 +41,7 @@
 };
 
 
-workWindow::workWindow()     : QDialog()
+workWindow::workWindow(QWidget *parent) : QDialog(parent)
  {
      ui.setupUi(this);
  }
@@ -49,14 +50,16 @@
 DIA_working::DIA_working( void )
 {
   workWindow *wind;
-  wind=new workWindow();
+  wind=new workWindow(qtLastRegisteredDialog());
+  qtRegisterDialog(wind);
   _priv=(void *)wind;
   postCtor();
 }
 DIA_working::DIA_working( const char *title )
 {
   workWindow *wind;
-  wind=new workWindow();
+  wind=new workWindow(qtLastRegisteredDialog());
+  qtRegisterDialog(wind);
   _priv=(void *)wind;
   wind->setWindowTitle(title);
   postCtor();
@@ -92,10 +95,10 @@
         _nextUpdate=elapsed+1000;
         lastper=percent;
 
-		uint32_t hh,mm,ss;
-		char string[9];
-
-		ms2time(elapsed,&hh,&mm,&ss);
+		uint32_t hh,mm,ss;
+		char string[9];
+
+		ms2time(elapsed,&hh,&mm,&ss);
 		sprintf(string,"%02d:%02d:%02d",hh,mm,ss);
 
         workWindow *wind=(workWindow *)_priv; ADM_assert(wind);
@@ -139,7 +142,8 @@
 void DIA_working::closeDialog( void )
 {
   workWindow *wind=(workWindow *)_priv; ADM_assert(wind);
-    if(wind) delete wind;
+  qtUnregisterDialog(wind);
+    delete wind;
     wind=NULL;
 }
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_index_pg.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_index_pg.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_index_pg.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -43,6 +43,7 @@
 #include "ADM_encoder/adm_encoder.h"
 #include "DIA_idx_pg.h"
 #include "ADM_assert.h"
+#include "../ADM_toolkit/qtToolkit.h"
 
 extern void UI_purge( void );
 
@@ -117,7 +118,7 @@
  public:
    int abted;
    Ui_iDialog ui;
-     Ui_indexingDialog(const char *name);
+     Ui_indexingDialog(QWidget *parent, const char *name);
      ~Ui_indexingDialog();
     void setTime(const char *f);
     void setImage(const char *f);
@@ -130,29 +131,11 @@
      
  };
 static Ui_indexingDialog *dialog=NULL; 
-#if 0
-static gint on_destroy_abort(GtkObject * object, gpointer user_data)
-{
-DIA_progressIndexing *pf;
 
-        UNUSED_ARG(object);
-        UNUSED_ARG(user_data);
-
-        pf=(Ui_indexingDialog *)user_data;
-        if(!GUI_Confirmation_HIG(QT_TR_NOOP("Continue indexing"),QT_TR_NOOP("Abort Requested"),QT_TR_NOOP("Do you want to abort indexing ?")))
-        {
-         //       pf->abortRequest();
-                abted=1;
-        }
-
-        return TRUE;
-
-};
-#endif
-
 DIA_progressIndexing::DIA_progressIndexing(const char *name)
 {
-        dialog=new Ui_indexingDialog(name);
+        dialog=new Ui_indexingDialog(qtLastRegisteredDialog(), name);
+		qtRegisterDialog(dialog);
         clock.reset();
         aborted=0;
 	_nextUpdate=0;
@@ -163,6 +146,7 @@
 DIA_progressIndexing::~DIA_progressIndexing()
 {
         ADM_assert(dialog);
+		qtUnregisterDialog(dialog);
         delete dialog;
         dialog=NULL;
 }
@@ -220,7 +204,7 @@
         return 1;
 }
 //****************************** CLASS ***********************
-Ui_indexingDialog::Ui_indexingDialog(const char *name)
+Ui_indexingDialog::Ui_indexingDialog(QWidget *parent, const char *name) : QDialog(parent)
 {
       abted=0;
       ui.setupUi(this);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/alert_qt4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/alert_qt4.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/alert_qt4.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -18,6 +18,7 @@
 
 #include "ADM_toolkit/toolkit.hxx"
 #include "ADM_assert.h" 
+#include "../ADM_toolkit/qtToolkit.h"
 
 static int beQuiet=0;
 extern QWidget *QuiMainWindows;
@@ -26,7 +27,7 @@
 void            GUI_Alert(const char *alertstring)
 {
     QMessageBox::StandardButton reply;
-              reply = QMessageBox::critical(QuiMainWindows, QString::fromUtf8(QT_TR_NOOP("Alert")),
+              reply = QMessageBox::critical(qtLastRegisteredDialog(), QString::fromUtf8(QT_TR_NOOP("Alert")),
                                         QString::fromUtf8(alertstring),
                                         QMessageBox::Ok );
 }
@@ -34,7 +35,7 @@
 void            GUI_Info(const char *alertstring)
 {
     QMessageBox::StandardButton reply;
-              reply = QMessageBox::information(QuiMainWindows, QString::fromUtf8(QT_TR_NOOP("Info")),
+              reply = QMessageBox::information(qtLastRegisteredDialog(), QString::fromUtf8(QT_TR_NOOP("Info")),
                                         QString::fromUtf8(alertstring),
                                         QMessageBox::Ok );
 }
@@ -67,7 +68,7 @@
             va_end(ap);
          }
         QMessageBox::StandardButton reply;
-          reply = QMessageBox::information(QuiMainWindows, QString::fromUtf8(QT_TR_NOOP("Info")),
+          reply = QMessageBox::information(qtLastRegisteredDialog(), QString::fromUtf8(QT_TR_NOOP("Info")),
                                     QString::fromUtf8(alertstring),
                                     QMessageBox::Ok );
 
@@ -100,7 +101,7 @@
             va_end(ap);
          }
           QMessageBox::StandardButton reply;
-          reply = QMessageBox::critical(QuiMainWindows, QString::fromUtf8(QT_TR_NOOP("Info")),
+          reply = QMessageBox::critical(qtLastRegisteredDialog(), QString::fromUtf8(QT_TR_NOOP("Info")),
                                     QString::fromUtf8(alertstring),
                                     QMessageBox::Ok );
 }
@@ -129,7 +130,7 @@
               va_end(ap);
         }
           QMessageBox::StandardButton reply;
-          reply = QMessageBox::question(QuiMainWindows, QString::fromUtf8(QT_TR_NOOP("Confirmation")),
+          reply = QMessageBox::question(qtLastRegisteredDialog(), QString::fromUtf8(QT_TR_NOOP("Confirmation")),
                                     QString::fromUtf8(alertstring),
                                     QMessageBox::Yes | QMessageBox::No );
           if(reply==QMessageBox::Yes) return 1;
@@ -160,7 +161,7 @@
               va_end(ap);
         }
           QMessageBox::StandardButton reply;
-          reply = QMessageBox::question(QuiMainWindows, QString::fromUtf8(QT_TR_NOOP("Confirmation")),
+          reply = QMessageBox::question(qtLastRegisteredDialog(), QString::fromUtf8(QT_TR_NOOP("Confirmation")),
                                     QString::fromUtf8(alertstring),
                                     QMessageBox::Yes | QMessageBox::No );
           if(reply==QMessageBox::Yes) return 1;
@@ -175,7 +176,7 @@
                       printf("Question: %s\n", alertstring);
                       return 0;
               }
-          reply = QMessageBox::question(QuiMainWindows, QString::fromUtf8(QT_TR_NOOP("Question")),
+          reply = QMessageBox::question(qtLastRegisteredDialog(), QString::fromUtf8(QT_TR_NOOP("Question")),
                                     QString::fromUtf8(alertstring),
                                     QMessageBox::Yes | QMessageBox::No );
           if(reply==QMessageBox::Yes) return 1;
@@ -198,7 +199,7 @@
 
 char alertstring[1024];
 
-        box=new QMessageBox(QuiMainWindows);
+        box=new QMessageBox(qtLastRegisteredDialog());
         box->setWindowTitle(QString::fromUtf8(QT_TR_NOOP("Question ?")));
         box->addButton(choice1,QMessageBox::YesRole);
         box->addButton(choice2,QMessageBox::NoRole);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -31,6 +31,7 @@
 #include "default.h"
 #include "ADM_commonUI/DIA_factory.h"
 #include "ADM_assert.h"
+#include "../ADM_toolkit/qtToolkit.h"
 
 static void insertTab(uint32_t index, diaElemTabs *tab, QTabWidget *wtab);
 
@@ -42,7 +43,8 @@
 
 uint8_t diaFactoryRun(const char *title,uint32_t nb,diaElem **elems)
 {
-  QDialog dialog;
+  QDialog dialog(qtLastRegisteredDialog());
+  qtRegisterDialog(&dialog);
   
   ADM_assert(title);
   ADM_assert(nb);
@@ -89,8 +91,14 @@
         elems[i]->getMe(); 
     
       }
+
+	 qtUnregisterDialog(&dialog);
+
     return 1;
   }
+
+  qtUnregisterDialog(&dialog);
+
   return 0;
   
 }
@@ -109,7 +117,9 @@
 }
 uint8_t diaFactoryRunTabs(const char *title,uint32_t nb,diaElemTabs **tabs)
 {
-    QDialog dialog;
+    QDialog dialog(qtLastRegisteredDialog());
+
+	qtRegisterDialog(&dialog);
   
   ADM_assert(title);
   ADM_assert(nb);
@@ -154,8 +164,13 @@
         }
     
       }
+	   qtUnregisterDialog(&dialog);
+
       return 1;
   }
+
+  qtUnregisterDialog(&dialog);
+
   return 0;
   
 }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -54,6 +54,8 @@
 #include "ADM_video/ADM_vidPartial.h"
 #include "ADM_filter/vidVCD.h"
 #include "ADM_userInterfaces/ADM_commonUI/DIA_factory.h"
+#include "../ADM_toolkit/qtToolkit.h"
+
 /*******************************************************/
 #define NB_TREE 8
 #define myFg 0xFF
@@ -784,10 +786,13 @@
 */
 int GUI_handleVFilter(void)
 {
-	filtermainWindow dialog(QuiMainWindows);
+	filtermainWindow dialog(qtLastRegisteredDialog());
+	qtRegisterDialog(&dialog);
 
 	dialog.exec();
 
+	qtUnregisterDialog(&dialog);
+
 	return 0;
 }
 /** 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -31,6 +31,7 @@
 #include <QtGui/QKeyEvent>
 #include <QtGui/QValidator>
 
+#include "../ADM_toolkit/qtToolkit.h"
 #include "ADM_qslider.h"
 #include "default.h"
 #include "ADM_osSupport/ADM_misc.h"
@@ -237,6 +238,7 @@
 
 MainWindow::MainWindow() : QMainWindow()
 {
+	qtRegisterDialog(this);
 	ui.setupUi(this);
 
 	this->setStatusBar(0);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -21,6 +21,7 @@
 #include "ADM_toolkit/filesel.h"
 #include "prefs.h"
 #include "ADM_assert.h"
+#include "../ADM_toolkit/qtToolkit.h"
     
 static void GUI_FileSelSelect(const char *label, char **name, uint32_t access) ;
 
@@ -93,8 +94,8 @@
    options |= QFileDialog::DontUseNativeDialog;
 #endif
 
-   if(access)  fileName=QFileDialog::getSaveFileName(NULL, label, str, NULL, NULL, options);
-       else    fileName=QFileDialog::getOpenFileName(NULL, label, str, NULL, NULL, options);
+   if(access)  fileName=QFileDialog::getSaveFileName(qtLastRegisteredDialog(), label, str, NULL, NULL, options);
+       else    fileName=QFileDialog::getOpenFileName(qtLastRegisteredDialog(), label, str, NULL, NULL, options);
 
   if(!fileName.isNull() )
   {
@@ -125,7 +126,7 @@
   options |= QFileDialog::DontUseNativeDialog;
 #endif
 
-  fileName=QFileDialog::getSaveFileName(NULL, title, source, NULL, NULL, options);
+  fileName=QFileDialog::getSaveFileName(qtLastRegisteredDialog(), title, source, NULL, NULL, options);
 
   if(!fileName.isNull() )
   {
@@ -157,7 +158,7 @@
   options |= QFileDialog::DontUseNativeDialog;
 #endif
 
-  fileName = QFileDialog::getOpenFileName(NULL, title, source, NULL, NULL, options);
+  fileName = QFileDialog::getOpenFileName(qtLastRegisteredDialog(), title, source, NULL, NULL, options);
 
   if(!fileName.isNull() )
   {
@@ -191,7 +192,7 @@
    options |= QFileDialog::DontUseNativeDialog;
 #endif
 
-   fileName=QFileDialog::getExistingDirectory(NULL, title, source, options);
+   fileName=QFileDialog::getExistingDirectory(qtLastRegisteredDialog(), title, source, options);
 
   if(!fileName.isNull() )
   {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/Q_ocr.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/Q_ocr.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_ocr/Q_ocr.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -38,6 +38,8 @@
 #include "ADM_ocr/ADM_ocrInternal.h"
 #include "ui_ocr.h"
 #include "../ADM_dialog/DIA_flyDialogQt4.h"
+#include "../ADM_toolkit/qtToolkit.h"
+
 extern void UI_purge(void);
 
 //*********************************************
@@ -47,7 +49,7 @@
  protected :
 	 
  public:
-     Ui_ocrWindow(void);
+     Ui_ocrWindow(QWidget *parent);
      ~Ui_ocrWindow();
      Ui_DialogOcr ui;
      
@@ -96,7 +98,7 @@
  private:
      
  };
-  Ui_ocrWindow::Ui_ocrWindow(void)
+Ui_ocrWindow::Ui_ocrWindow(QWidget *parent) : QDialog(parent)
   {
         ui.setupUi(this);
         ui.textEdit->setReadOnly(TRUE);
@@ -314,6 +316,7 @@
 	   Ui_ocrWindow *dialog=( Ui_ocrWindow *)d;
 	   ADM_assert(dialog==gDialog);
 		
+	   qtUnregisterDialog(dialog);
 		
 	   gDialog=NULL;
 	   delete dialog;
@@ -327,7 +330,8 @@
 void 	*ADM_ocrUiSetup(void)
 {
 	
-	   Ui_ocrWindow *dialog=new Ui_ocrWindow;
+	   Ui_ocrWindow *dialog=new Ui_ocrWindow(qtLastRegisteredDialog());
+	   qtRegisterDialog(dialog);
 	   dialog->setModal(TRUE);
 	   dialog->show();
 	   gDialog=dialog;

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/CMakeLists.txt	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/CMakeLists.txt	2008-09-21 21:34:50 UTC (rev 4390)
@@ -0,0 +1,7 @@
+SET(ADM_LIB ADM_toolkitQt4)
+SET(${ADM_LIB}_SRCS qtToolkit.cpp)
+
+include(adm_qt4)
+
+include_directories("${CMAKE_CURRENT_SOURCE_DIR}")
+include_directories(${QT_INCLUDES})

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/Makefile.am	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/Makefile.am	2008-09-21 21:34:50 UTC (rev 4390)
@@ -0,0 +1,19 @@
+
+noinst_LIBRARIES = libADM_toolitQt4.a 
+libADM_toolitQt4_a_SOURCES = qtToolkit.cpp
+
+INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \
+		-I../../../ADM_libraries/ADM_utilities \
+		-I../../ADM_commonUI -I../../.. -I../../../ADM_libraries/ADM_lavutil \
+		-I../../../ADM_inputs -I../../../ADM_outputs @ADM_QTINCLUDES@
+
+libADM_toolitQt4_a_METASOURCES = AUTO
+
+
+include ../Makefile.adm
+filter_rsc.cpp : filter.qrc
+	$(RCC)  $< -o $@   -name filter
+
+
+EXTRA_DIST =  
+

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/qtToolkit.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/qtToolkit.cpp	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/qtToolkit.cpp	2008-09-21 21:34:50 UTC (rev 4390)
@@ -0,0 +1,28 @@
+#include <QtCore/QStack>
+
+#include "qtToolkit.h"
+#include "ADM_assert.h"
+
+static QStack<QWidget*> widgetStack;
+
+void qtRegisterDialog(QWidget *dialog)
+{
+	if (widgetStack.count())
+		dialog->setParent(widgetStack.top(), Qt::Dialog);
+
+	widgetStack.push(dialog);
+}
+
+void qtUnregisterDialog(QWidget *dialog)
+{
+	ADM_assert(widgetStack.top() == dialog);
+	widgetStack.pop();
+}
+
+QWidget* qtLastRegisteredDialog()
+{
+	if (widgetStack.count())
+		return widgetStack.top();
+	else
+		return NULL;
+}

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/qtToolkit.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/qtToolkit.h	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/qtToolkit.h	2008-09-21 21:34:50 UTC (rev 4390)
@@ -0,0 +1,8 @@
+#ifndef QT_TOOLKIT_H
+#define QT_TOOLKIT_H
+#include <QtGui/QWidget>
+
+void qtRegisterDialog(QWidget *dialog);
+void qtUnregisterDialog(QWidget *dialog);
+QWidget* qtLastRegisteredDialog();
+#endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/CMakeLists.txt	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/CMakeLists.txt	2008-09-21 21:34:50 UTC (rev 4390)
@@ -3,6 +3,7 @@
 ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})
 include_directories(${QT_INCLUDES})
 
+add_subdirectory(ADM_toolkit)
 add_subdirectory(ADM_dialog)
 add_subdirectory(ADM_dialogFactory)
 add_subdirectory(ADM_filters)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/Makefile.am	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/Makefile.am	2008-09-21 21:34:50 UTC (rev 4390)
@@ -4,7 +4,7 @@
 libADM_UI_QT4_a_SOURCES = ui_support.cpp
 
 INCLUDES = @ADM_QTINCLUDES@
-SUBDIRS = ADM_dialog  ADM_gui  ADM_filters ADM_dialogFactory ADM_ocr
+SUBDIRS = ADM_dialog  ADM_gui  ADM_filters ADM_dialogFactory ADM_ocr ADM_toolkit
 
 
 

Modified: branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2008-09-21 18:05:00 UTC (rev 4389)
+++ branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2008-09-21 21:34:50 UTC (rev 4390)
@@ -236,6 +236,7 @@
 	TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_guiQt4)
 	TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_filtersQt4)
 	TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_commonUI)
+	TARGET_LINK_LIBRARIES(avidemux2_qt4 ADM_toolkitQt4)
 endif(QT4_FOUND)
 
 add_libs_all_targets(ADM_utilities)



From gruntster at mail.berlios.de  Mon Sep 22 00:35:05 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 22 Sep 2008 00:35:05 +0200
Subject: [Avidemux-svn-commit] r4391 - in
	branches/avidemux_2.4_branch/avidemux: . ADM_userInterfaces/ADM_QT4
	ADM_userInterfaces/ADM_QT4/ADM_toolkit
Message-ID: <200809212235.m8LMZ5tA026544@sheep.berlios.de>

Author: gruntster
Date: 2008-09-22 00:34:55 +0200 (Mon, 22 Sep 2008)
New Revision: 4391

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp
   branches/avidemux_2.4_branch/avidemux/Makefile.am
Log:
[Qt] minor fix ups for r4388 & r4390

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/Makefile.am	2008-09-21 21:34:50 UTC (rev 4390)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_toolkit/Makefile.am	2008-09-21 22:34:55 UTC (rev 4391)
@@ -1,13 +1,13 @@
 
-noinst_LIBRARIES = libADM_toolitQt4.a 
-libADM_toolitQt4_a_SOURCES = qtToolkit.cpp
+noinst_LIBRARIES = libADM_toolkitQt4.a 
+libADM_toolkitQt4_a_SOURCES = qtToolkit.cpp
 
 INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \
 		-I../../../ADM_libraries/ADM_utilities \
 		-I../../ADM_commonUI -I../../.. -I../../../ADM_libraries/ADM_lavutil \
 		-I../../../ADM_inputs -I../../../ADM_outputs @ADM_QTINCLUDES@
 
-libADM_toolitQt4_a_METASOURCES = AUTO
+libADM_toolkitQt4_a_METASOURCES = AUTO
 
 
 include ../Makefile.adm

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp	2008-09-21 21:34:50 UTC (rev 4390)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp	2008-09-21 22:34:55 UTC (rev 4391)
@@ -35,9 +35,9 @@
 	{
 		QByteArray translatedMessage = QApplication::translate("", __msgid).toUtf8();
 		int copyLength = translatedMessage.length() + 1;
-		char* buffer = new char[translatorLoaded ? translatedMessage.length() + 1 : MAX_UNLOADED_MSG_LENGTH + 1];
+		char* buffer = new char[translatorLoaded ? copyLength : MAX_UNLOADED_MSG_LENGTH + 1];
 
-		if (copyLength > MAX_UNLOADED_MSG_LENGTH + 1)
+		if (!translatorLoaded && copyLength > MAX_UNLOADED_MSG_LENGTH + 1)
 		{
 			copyLength = MAX_UNLOADED_MSG_LENGTH;
 			buffer[MAX_UNLOADED_MSG_LENGTH] = '\0';

Modified: branches/avidemux_2.4_branch/avidemux/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/Makefile.am	2008-09-21 21:34:50 UTC (rev 4390)
+++ branches/avidemux_2.4_branch/avidemux/Makefile.am	2008-09-21 22:34:55 UTC (rev 4391)
@@ -57,6 +57,7 @@
 			./ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/libADM_dialogFactory.a	\
 			./ADM_userInterfaces/ADM_QT4/ADM_gui/libADM_gui2.a	\
 			./ADM_userInterfaces/ADM_QT4/ADM_filters/libADM_filters.a \
+			./ADM_userInterfaces/ADM_QT4/ADM_toolkit/libADM_toolkitQt4.a \
 			./ADM_toolkit/libADM_toolkit.a
 
 adm_src =   guiplay.cpp  \



From gruntster at mail.berlios.de  Mon Sep 22 00:55:48 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 22 Sep 2008 00:55:48 +0200
Subject: [Avidemux-svn-commit] r4392 - in
	branches/avidemux_2.4_branch/avidemux: . xpm
Message-ID: <200809212255.m8LMtmH1020279@sheep.berlios.de>

Author: gruntster
Date: 2008-09-22 00:55:24 +0200 (Mon, 22 Sep 2008)
New Revision: 4392

Added:
   branches/avidemux_2.4_branch/avidemux/xpm/avidemux.ico
   branches/avidemux_2.4_branch/avidemux/xpm/avidemux.o
Modified:
   branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
Log:
[Win32] change Qt icon

Modified: branches/avidemux_2.4_branch/avidemux/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2008-09-21 22:34:55 UTC (rev 4391)
+++ branches/avidemux_2.4_branch/avidemux/CMakeLists.txt	2008-09-21 22:55:24 UTC (rev 4392)
@@ -407,16 +407,16 @@
 	add_libs_all_targets(wsock32)
 	add_libs_all_targets(imagehlp)
 
-	add_libs_all_targets("-mms-bitfield -mno-cygwin ${CMAKE_SOURCE_DIR}/avidemux/xpm/adm.o -Wl,--export-all-symbols")
+	add_libs_all_targets("-mms-bitfield -mno-cygwin -Wl,--export-all-symbols")
 
-	TARGET_LINK_LIBRARIES(avidemux2_cli "-Wl,-subsystem,console")
+	TARGET_LINK_LIBRARIES(avidemux2_cli "-Wl,-subsystem,console ${CMAKE_SOURCE_DIR}/avidemux/xpm/adm.o")
 	
 	if (GTK_FOUND)
-		TARGET_LINK_LIBRARIES(avidemux2_gtk "-mwindows")
+		TARGET_LINK_LIBRARIES(avidemux2_gtk "-mwindows ${CMAKE_SOURCE_DIR}/avidemux/xpm/adm.o")
 	endif(GTK_FOUND)
 	
 	if (QT4_FOUND)
-		TARGET_LINK_LIBRARIES(avidemux2_qt4 "-mwindows")
+		TARGET_LINK_LIBRARIES(avidemux2_qt4 "-mwindows ${CMAKE_SOURCE_DIR}/avidemux/xpm/avidemux.o")
 	endif(QT4_FOUND)
 
 	if(CMAKE_BUILD_TYPE STREQUAL "Release")

Added: branches/avidemux_2.4_branch/avidemux/xpm/avidemux.ico
===================================================================
(Binary files differ)


Property changes on: branches/avidemux_2.4_branch/avidemux/xpm/avidemux.ico
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: branches/avidemux_2.4_branch/avidemux/xpm/avidemux.o
===================================================================
(Binary files differ)


Property changes on: branches/avidemux_2.4_branch/avidemux/xpm/avidemux.o
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream



From gruntster at mail.berlios.de  Mon Sep 22 02:27:34 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 22 Sep 2008 02:27:34 +0200
Subject: [Avidemux-svn-commit] r4393 - in
	branches/avidemux_2.4_branch/avidemux: .
	ADM_userInterfaces/ADM_QT4/ADM_gui
Message-ID: <200809220027.m8M0RYRf023635@sheep.berlios.de>

Author: gruntster
Date: 2008-09-22 02:27:27 +0200 (Mon, 22 Sep 2008)
New Revision: 4393

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp
   branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
Log:
[Qt] use native separators in file paths

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp	2008-09-21 22:55:24 UTC (rev 4392)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/file_qt4.cpp	2008-09-22 00:27:27 UTC (rev 4393)
@@ -97,8 +97,9 @@
    if(access)  fileName=QFileDialog::getSaveFileName(qtLastRegisteredDialog(), label, str, NULL, NULL, options);
        else    fileName=QFileDialog::getOpenFileName(qtLastRegisteredDialog(), label, str, NULL, NULL, options);
 
-  if(!fileName.isNull() )
+  if(!fileName.isNull())
   {
+	fileName = QDir::toNativeSeparators(fileName);
     const char *s=fileName.toUtf8().constData();
     *name=ADM_strdup(s);
     prefs->set(pref_entry,(ADM_filename *)*name);
@@ -130,6 +131,7 @@
 
   if(!fileName.isNull() )
   {
+	fileName = QDir::toNativeSeparators(fileName);
     const char *s=fileName.toUtf8().constData();
     strncpy(target,s,max);
 
@@ -162,6 +164,7 @@
 
   if(!fileName.isNull() )
   {
+	fileName = QDir::toNativeSeparators(fileName);
     const char *s=fileName.toUtf8().constData();
     strncpy(target,s,max);
 
@@ -196,6 +199,7 @@
 
   if(!fileName.isNull() )
   {
+	fileName = QDir::toNativeSeparators(fileName);
     const char *s=fileName.toUtf8().constData();
     strncpy(target,s,max);
 	return 1;

Modified: branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2008-09-21 22:55:24 UTC (rev 4392)
+++ branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2008-09-22 00:27:27 UTC (rev 4393)
@@ -122,7 +122,6 @@
 char * actual_workbench_file;
 void A_saveWorkbench (const char *name);
 void updateLoaded (void);
-extern void encoderSetLogFile (char *name);
 extern void videoCodecSelect (void);
 extern uint8_t DIA_about( void );
 extern uint8_t DIA_RecentFiles( char **name );
@@ -292,11 +291,6 @@
  #endif
       prefs->save ();
       return;
-    case ACT_SetLogFile:
-//      GUI_FileSelWrite ("Select log File to use", encoderSetLogFile);
-      GUI_Error_HIG(QT_TR_NOOP("Obsolete"), NULL);
-      return;
-      break;
     case ACT_SetMuxParam:
       ADM_aviUISetMuxer();
       return;



From gruntster at mail.berlios.de  Mon Sep 22 03:11:35 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 22 Sep 2008 03:11:35 +0200
Subject: [Avidemux-svn-commit] r4394 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200809220111.m8M1BZGl027810@sheep.berlios.de>

Author: gruntster
Date: 2008-09-22 03:11:20 +0200 (Mon, 22 Sep 2008)
New Revision: 4394

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp
Log:
[Qt] fix Range caption and increase B-frame maximum

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp	2008-09-22 00:27:27 UTC (rev 4393)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp	2008-09-22 01:11:20 UTC (rev 4394)
@@ -87,7 +87,7 @@
 			 ,meM);
 
          diaElemUInteger  rframe(PX(MaxRefFrames),QT_TR_NOOP("Max Ref Frames"),0,15);
-         diaElemUInteger  range(PX(Range),QT_TR_NOOP("Max B Frames"),0,64);
+         diaElemUInteger  range(PX(Range),QT_TR_NOOP("Range"),0,64);
          diaElemToggle    chromaMe(PX(ChromaME),QT_TR_NOOP("Chroma ME"));
          diaElemToggle    mixedRef(PX(MixedRefs),QT_TR_NOOP("Mixed Refs"));
          diaElemToggle    fastPSkip(PX(fastPSkip),QT_TR_NOOP("Fast P Skip"));
@@ -151,7 +151,7 @@
            frameTransform.swallow(&_8x8I);
            frameTransform.swallow(&_4x4I);
           
-           diaElemUInteger  bframe(PX(MaxBFrame),QT_TR_NOOP("Max B Frames"),0,3);
+           diaElemUInteger  bframe(PX(MaxBFrame),QT_TR_NOOP("Max. Consecutive"),0, 16);
            diaElemFrame frameB(QT_TR_NOOP("B Frames"));
            frameB.swallow(&bframe);
            



From gruntster at mail.berlios.de  Mon Sep 22 04:52:10 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 22 Sep 2008 04:52:10 +0200
Subject: [Avidemux-svn-commit] r4395 - in
	branches/avidemux_2.4_branch/avidemux: . ADM_editor ADM_osSupport
Message-ID: <200809220252.m8M2qAwQ006875@sheep.berlios.de>

Author: gruntster
Date: 2008-09-22 04:52:00 +0200 (Mon, 22 Sep 2008)
New Revision: 4395

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_assert.h
   branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edLoadSave.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_misc.cpp
   branches/avidemux_2.4_branch/avidemux/button_mapping
   branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
   branches/avidemux_2.4_branch/avidemux/gui_action.names
   branches/avidemux_2.4_branch/avidemux/gui_savenew.cpp
Log:
[Win32] convert path separator from JavaScript and command line

Modified: branches/avidemux_2.4_branch/avidemux/ADM_assert.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_assert.h	2008-09-22 01:11:20 UTC (rev 4394)
+++ branches/avidemux_2.4_branch/avidemux/ADM_assert.h	2008-09-22 02:52:00 UTC (rev 4395)
@@ -26,7 +26,8 @@
 extern void *ADM_realloc(void *in,size_t size);
 extern void ADM_dezalloc(void *ptr);
 extern char *ADM_strdup( const char *in);
-extern char *slashToBackSlash(const char *in);
+extern char *backSlashToForward(const char *in);
+extern char *forwardSlashToBack(const char *in);
 typedef void *(* adm_fast_memcpy)(void *to, const void *from, size_t len);
 extern adm_fast_memcpy myAdmMemcpy;
 
@@ -72,11 +73,13 @@
         #define LLX "I64x"
         #define LLU "I64u"
         
-        #define cleanupPath(x) slashToBackSlash(x)
+        #define cleanupPath(x) backSlashToForward(x)
+		#define fixupPath(x) forwardSlashToBack(x)
 #else
         #define LLX "llx"
         #define LLU "llu"
         #define cleanupPath(x) ADM_strdup(x)
+		#define fixupPath(x) ADM_strdup(x)
 #endif
 
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edLoadSave.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edLoadSave.cpp	2008-09-22 01:11:20 UTC (rev 4394)
+++ branches/avidemux_2.4_branch/avidemux/ADM_editor/ADM_edLoadSave.cpp	2008-09-22 02:52:00 UTC (rev 4395)
@@ -171,13 +171,11 @@
 //___________________________
 uint8_t  *extraData ;
 uint32_t extraDataSize;
-char *pth;
+
         qfprintf(fd,"\n//** Video Codec conf **\n");
         videoCodecGetConf(&extraDataSize,&extraData);
-        
-        pth= cleanupPath(name );
         qfprintf(fd,"app.video.codec(\"%s\",\"%s\",\"",videoCodecGetName(),videoCodecGetMode());
-        ADM_dealloc(pth);
+
         // Now deal with extra data
         qfprintf(fd,"%d ",extraDataSize);
         if(extraDataSize)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_misc.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_misc.cpp	2008-09-22 01:11:20 UTC (rev 4394)
+++ branches/avidemux_2.4_branch/avidemux/ADM_osSupport/ADM_misc.cpp	2008-09-22 02:52:00 UTC (rev 4395)
@@ -263,7 +263,7 @@
     This function convert the later to the former
 
 */
-extern char *slashToBackSlash(const char *in)
+char *backSlashToForward(const char *in)
 {
     char *out,*cout;
     int n;
@@ -278,6 +278,22 @@
     return cout;
     
 }
+
+char *forwardSlashToBack(const char *in)
+{
+    char *out,*cout;
+    int n;
+    n=strlen(in);
+    cout=out=(char *)ADM_alloc(n+1);   
+    for(int i=0;i<n+1;i++)
+    {
+        if(   in[i]=='/') out[i]='\\';
+        else    out[i]=in[i];
+        
+    }
+    return cout;
+    
+}
 /*
     
 */

Modified: branches/avidemux_2.4_branch/avidemux/button_mapping
===================================================================
--- branches/avidemux_2.4_branch/avidemux/button_mapping	2008-09-22 01:11:20 UTC (rev 4394)
+++ branches/avidemux_2.4_branch/avidemux/button_mapping	2008-09-22 02:52:00 UTC (rev 4395)
@@ -45,7 +45,6 @@
 #     Begin
 #     Bitrate
 #     BitRate
-#     BrokenAvi
 #     BUILT_IN
 #     ChangeFPS
 #     CLOSE

Modified: branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2008-09-22 01:11:20 UTC (rev 4394)
+++ branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2008-09-22 02:52:00 UTC (rev 4395)
@@ -82,7 +82,6 @@
 int A_loadMP3 (char *name);
 int A_loadNone( void );
 void A_saveAudioDecodedTest (char *name);
-void A_openBrokenAvi (const char *name);
 int A_openAvi2 (const char *name, uint8_t mode);
 int A_appendAvi (const char *name);
 void A_externalAudioTrack( void );
@@ -372,15 +371,6 @@
 	case ACT_OpenAvi:
           GUI_FileSelRead (QT_TR_NOOP("Select AVI File..."), (SELFILE_CB *)A_openAvi);
 	  break;
-
-	case ACT_BrokenAvi:
-	  printf ("\n Opening in broken mode...\n");
-          GUI_FileSelRead (QT_TR_NOOP("Select AVI File..."), A_openBrokenAvi);
-	  break;
-
-
-	default:
-	  ;
 	}
       return;
     }
@@ -498,9 +488,6 @@
     case ACT_OpenAvi:
       GUI_FileSelRead (QT_TR_NOOP("Select AVI File..."),(SELFILE_CB *) A_openAvi);
       break;
-    case ACT_BrokenAvi:
-      GUI_FileSelRead (QT_TR_NOOP("Select AVI File..."), A_openBrokenAvi);
-      break;
     case ACT_AppendAvi:
       GUI_FileSelRead (QT_TR_NOOP("Select AVI File to Append..."),(SELFILE_CB *) A_appendAvi);
       break;
@@ -883,12 +870,6 @@
 //    mode 1: Suspicious
 //_____________________________________________________________
 
-void
-A_openBrokenAvi (const char *name)
-{
-  A_openAvi2 (name, 1);
-}
-
 int
 A_openAvi (const char *name)
 {
@@ -897,6 +878,7 @@
 extern void GUI_PreviewEnd (void);
 int A_openAvi2 (const char *name, uint8_t mode)
 {
+	char *path = fixupPath(name);
   uint8_t res;
   char *longname;
   uint32_t magic[4];
@@ -906,16 +888,26 @@
     return 0;
   /// check if name exists
   FILE *fd;
-  fd = fopen (name, "rb");
-  if (!fd){
-    if( errno == EACCES ){
-      GUI_Error_HIG(QT_TR_NOOP("Permission error"), QT_TR_NOOP("Cannot open \"%s\"."), name);
-    }
-    if( errno == ENOENT ){
-      GUI_Error_HIG(QT_TR_NOOP("File error"), QT_TR_NOOP("\"%s\" does not exist."), name);
-    }
-    return 0;
+  fd = fopen (path, "rb");
+
+  if (!fd)
+  {
+	  switch (errno)
+	  {
+		  case EACCES:
+			  GUI_Error_HIG(QT_TR_NOOP("Permission error"), QT_TR_NOOP("Cannot open \"%s\"."), path);
+			  break;
+		  case ENOENT:
+			  GUI_Error_HIG(QT_TR_NOOP("File error"), QT_TR_NOOP("\"%s\" does not exist."), path);
+			  break;
+		  default:
+			  GUI_Error_HIG(QT_TR_NOOP("Error opening file"), QT_TR_NOOP("Error opening \"%s\"."), path);
+	  }
+
+	  delete [] path;
+	  return 0;
   }
+
   if( 4 == fread(magic,4,4,fd) )
      id=R32(magic[0]);
   fclose (fd);
@@ -927,7 +919,9 @@
   /*
   ** we may get a relative path by cmdline
   */
-  longname = PathCanonize(name);
+  longname = PathCanonize(path);
+  delete [] path;
+
   if (mode)
     res = video_body->addFile (longname, 1);
   else
@@ -1094,17 +1088,19 @@
 int
 A_appendAvi (const char *name)
 {
+	char *path = fixupPath(name);
 
-
   if (playing)
     return 0;
   DIA_StartBusy ();
-  if (!video_body->addFile (name))
+  if (!video_body->addFile (path))
     {
       DIA_StopBusy ();
       GUI_Error_HIG (QT_TR_NOOP("Something failed when appending"), NULL);
+	  delete [] path;
       return 0;
     }
+  delete [] path;
   DIA_StopBusy ();
 
 
@@ -1357,22 +1353,26 @@
 int
 A_loadAC3 (char *name)
 {
+	char *path = fixupPath(name);
+
   if (!avifileinfo)
     return 0;
 
 
   AVDMAC3AudioStream *ac3 = new AVDMAC3AudioStream ();
 
-  if (ac3->open (name) == 0)
+  if (ac3->open (path) == 0)
     {
       GUI_Error_HIG (QT_TR_NOOP("Failed to open the file"), QT_TR_NOOP("Not a WAV file?"));
       printf (QT_TR_NOOP("WAV open file failed..."));
       delete ac3;
+	  delete [] path;
       return 0;
     }
   //currentaudiostream=wav;
-  A_changeAudioStream (ac3, AudioAC3,name);
+  A_changeAudioStream (ac3, AudioAC3,path);
   wavinfo = currentaudiostream->getInfo ();
+  delete [] path;
   return 1;
 }
 int A_loadNone( void )
@@ -1388,19 +1388,24 @@
 //_____________________________________________________________
 int A_loadMP3(char *name)
 {
+	char *path = fixupPath(name);
+
     if (!avifileinfo)
         return 0;
     AVDMMP3AudioStream *mp3 = new AVDMMP3AudioStream();
 
-    if (mp3->open(name) == 0)
+    if (mp3->open(path) == 0)
       {
           printf("MP3 open file failed...");
           delete mp3;
+		  delete [] path;
           return 0;
       }
+
     //currentaudiostream=mp3;
-    A_changeAudioStream(mp3, AudioMP3,name);
+    A_changeAudioStream(mp3, AudioMP3,path);
     wavinfo = currentaudiostream->getInfo();
+	delete [] path;
     return 1;
 }
 //_____________________________________________________________
@@ -1413,6 +1418,8 @@
 int
 A_loadWave (char *name)
 {
+	char *path = fixupPath(name);
+
   if (!avifileinfo)
   {
         printf("No video loaded\n");
@@ -1420,16 +1427,18 @@
    }
   AVDMWavAudioStream *wav = new AVDMWavAudioStream ();
 
-  if (wav->open (name) == 0)
+  if (wav->open (path) == 0)
     {
       GUI_Error_HIG (QT_TR_NOOP("Failed to open the file"), QT_TR_NOOP("Not a WAV file?"));
       printf ("WAV open file failed...");
       delete wav;
+	  delete [] path;
       return 0;
     }
   //currentaudiostream=wav;
-  A_changeAudioStream (wav, AudioWav,name);
+  A_changeAudioStream (wav, AudioWav,path);
   wavinfo = currentaudiostream->getInfo ();
+  delete [] path;
   return 1;
 }
 AudioSource getCurrentAudioSource(char **name)

Modified: branches/avidemux_2.4_branch/avidemux/gui_action.names
===================================================================
--- branches/avidemux_2.4_branch/avidemux/gui_action.names	2008-09-22 01:11:20 UTC (rev 4394)
+++ branches/avidemux_2.4_branch/avidemux/gui_action.names	2008-09-22 02:52:00 UTC (rev 4395)
@@ -1,6 +1,5 @@
 ACT(OpenAvi)
 ACT(AppendAvi)
-ACT(BrokenAvi)
 ACT(AviInfo)
 ACT(CLOSE)
 ACT(Exit)

Modified: branches/avidemux_2.4_branch/avidemux/gui_savenew.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/gui_savenew.cpp	2008-09-22 01:11:20 UTC (rev 4394)
+++ branches/avidemux_2.4_branch/avidemux/gui_savenew.cpp	2008-09-22 02:52:00 UTC (rev 4395)
@@ -166,6 +166,8 @@
 		
 	}
         printf("Output format:%d\n",UI_GetCurrentFormat());
+		char *path = fixupPath(name);
+
 	switch(family)
 	{
 		case CodecFamilyAVI:
@@ -173,35 +175,35 @@
 					switch(UI_GetCurrentFormat())
 					{
 						case ADM_DUMMY:
-					                            			ret=oplug_dummy(name);
+					                            			ret=oplug_dummy(path);
 					                            			break;
 						case ADM_FLV:
-                            			ret=oplug_flv(name);
+                            			ret=oplug_flv(path);
                             			break;
                         case ADM_MP4:
                         case ADM_PSP:
                         case ADM_MATROSKA:
                         
-                                                    ret=oplug_mp4(name,UI_GetCurrentFormat());
+                                                    ret=oplug_mp4(path,UI_GetCurrentFormat());
                                                     break;
 						case ADM_AVI:
-								ret=A_SaveAudioNVideo(name);
+								ret=A_SaveAudioNVideo(path);
 								break;
 						case ADM_OGM:
-								ret=ogmSave(name);
+								ret=ogmSave(path);
 								break;
 						case ADM_ES:
-								ret=ADM_saveRaw(name);
+								ret=ADM_saveRaw(path);
 								break;
 						case ADM_AVI_DUAL:
-								ret=A_SaveAudioDualAudio(name);
+								ret=A_SaveAudioDualAudio(path);
 								break;
                                                 case ADM_AVI_PAK:
-								ret=A_SavePackedVop(name);
+								ret=A_SavePackedVop(path);
 								break;
 
 						case ADM_AVI_UNP:
-								ret=A_SaveUnpackedVop(name);
+								ret=A_SaveUnpackedVop(path);
 								break;
 						default:
                                                   GUI_Error_HIG(QT_TR_NOOP("Incompatible output format"), NULL);
@@ -217,7 +219,7 @@
                                                 {
                                                   case ADM_PS:
                                                   case ADM_TS:
-						          ret=mpeg_passthrough(name,UI_GetCurrentFormat());
+						          ret=mpeg_passthrough(path,UI_GetCurrentFormat());
                                                           break;
                                                   default:
                                                     GUI_Error_HIG(QT_TR_NOOP("Incompatible output format"), NULL);
@@ -230,7 +232,7 @@
                         case ADM_TS:
                         case ADM_PS:
                         case ADM_ES:
-                                ret=oplug_mpegff(name,UI_GetCurrentFormat());;
+                                ret=oplug_mpegff(path,UI_GetCurrentFormat());;
                                 break;
                         default:
                           GUI_Error_HIG(QT_TR_NOOP("Incompatible output format"), NULL);
@@ -238,9 +240,12 @@
                     break;
                 default:
                             ADM_assert(0);
-                            return 0;
+							delete [] path;
+							return 0;
         }
         getFirstVideoFilter(0,avifileinfo->nb_frames);
+		delete [] path;
+
         return ret;
 }
 uint8_t  A_SaveAudioDualAudio(const char *inname)



From gruntster at mail.berlios.de  Mon Sep 22 12:40:34 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 22 Sep 2008 12:40:34 +0200
Subject: [Avidemux-svn-commit] r4396 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4:
	ADM_dialog ADM_filters ADM_gui
Message-ID: <200809221040.m8MAeYEt000212@sheep.berlios.de>

Author: gruntster
Date: 2008-09-22 12:40:20 +0200 (Mon, 22 Sep 2008)
New Revision: 4396

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_license.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
Log:
[Qt] handle translated UTF-8 strings on various windows

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_license.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_license.cpp	2008-09-22 02:52:00 UTC (rev 4395)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_license.cpp	2008-09-22 10:40:20 UTC (rev 4396)
@@ -34,7 +34,7 @@
 {
 	ui.setupUi(this);
 
-	ui.licenseTextEdit->setHtml(QT_TR_NOOP("<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">" \
+	ui.licenseTextEdit->setHtml(QString::fromUtf8(QT_TR_NOOP("<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">" \
 	"" \
 	"<html>" \
 	"<head>" \
@@ -705,7 +705,7 @@
 	"    <span style='font-size:10.0pt; font-family:Arial'> </span></p>" \
 	"  </div>" \
 	"</body>" \
-	"</html>"));
+	"</html>")));
 }
 
 uint8_t DIA_license(void)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp	2008-09-22 02:52:00 UTC (rev 4395)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_props.cpp	2008-09-22 10:40:20 UTC (rev 4396)
@@ -64,9 +64,9 @@
         qpel=!!(info & ADM_QPEL_ON);
         gmc=!!(info & ADM_GMC_ON);
 
-#define FILLTEXT(a,b,c) {snprintf(text,79,b,c);ui.a->setText(text);}
-#define FILLTEXT4(a,b,c,d) {snprintf(text,79,b,c,d);ui.a->setText(text);}
-#define FILLTEXT5(a,b,c,d,e) {snprintf(text,79,b,c,d,e);ui.a->setText(text);}
+#define FILLTEXT(a,b,c) {snprintf(text,79,b,c);ui.a->setText(QString::fromUtf8(text));}
+#define FILLTEXT4(a,b,c,d) {snprintf(text,79,b,c,d);ui.a->setText(QString::fromUtf8(text));}
+#define FILLTEXT5(a,b,c,d,e) {snprintf(text,79,b,c,d,e);ui.a->setText(QString::fromUtf8(text));}
         
         FILLTEXT4(labeImageSize,QT_TR_NOOP("%lu x %lu"), avifileinfo->width,avifileinfo->height);
         FILLTEXT(labelFrameRate, QT_TR_NOOP("%2.3f fps"), (float) avifileinfo->fps1000 / 1000.F);
@@ -77,14 +77,14 @@
                 frame2time(avifileinfo->nb_frames, avifileinfo->fps1000,
                           &hh, &mm, &ss, &ms);
                 snprintf(text,79, QT_TR_NOOP("%02d:%02d:%02d.%03d"), hh, mm, ss, ms);
-                ui.labelVideoDuration->setText(text);
+                ui.labelVideoDuration->setText(QString::fromUtf8(text));
           }
         war=video_body->getPARWidth();
         har=video_body->getPARHeight();
         getAspectRatioFromAR(war,har, &s);
-        FILLTEXT5(LabelAspectRatio,QT_TR_NOOP("%s (%u:%u)"), s,war,har);
+		FILLTEXT5(LabelAspectRatio,QT_TR_NOOP("%s (%u:%u)"), s,war,har);
 #define SET_YES(a,b) ui.a->setText(yesno[b])
-#define FILLQT_TR_NOOP(q) ui.q->setText(text);
+#define FILLQT_TR_NOOP(q) ui.q->setText(QString::fromUtf8(text));
         SET_YES(LabelPackedBitstream,vop);
         SET_YES(LabelQuarterPixel,qpel);
         SET_YES(LabelGMC,gmc);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-22 02:52:00 UTC (rev 4395)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_filters/Q_mainfilter.cpp	2008-09-22 10:40:20 UTC (rev 4396)
@@ -516,14 +516,14 @@
 
       if (allfilters[r].viewable==1)
         {
-          QString str = QString("<b>") + allfilters[r].name + QString("</b><br>\n<small>") + allfilters[r].description + QString("</small>");
+			QString str = QString("<b>") + QString::fromUtf8(allfilters[r].name) + QString("</b><br>\n<small>") + QString::fromUtf8(allfilters[r].description) + QString("</small>");
          
           QListWidgetItem *item;
           if(family==NB_TREE-1)
                 item=new QListWidgetItem(str,availableList,EXTERNAL_FILTER_BASE+i);
           else
                 item=new QListWidgetItem(str,availableList,ALL_FILTER_BASE+r);
-          item->setToolTip(allfilters[r].description);
+		  item->setToolTip(QString::fromUtf8(allfilters[r].description));
           availableList->addItem(item);
         }
      }
@@ -712,7 +712,7 @@
 				++conf;
 		}
 
-		QString str = QString("<b>") + name + QString("</b><br>\n<small>") + conf + QString("</small>");
+		QString str = QString("<b>") + QString::fromUtf8(name) + QString("</b><br>\n<small>") + QString::fromUtf8(conf) + QString("</small>");
 		QListWidgetItem *item=new QListWidgetItem(str,activeList,ACTIVE_FILTER_BASE+i);
 		activeList->addItem(item);
 	}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2008-09-22 02:52:00 UTC (rev 4395)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2008-09-22 10:40:20 UTC (rev 4396)
@@ -767,7 +767,7 @@
 	printf("Found %d format(s)\n",nbFormat);
 	for(uint32_t i=0;i<nbFormat;i++)
 	{
-		WIDGET(comboBoxFormat)->addItem(QT_TR_NOOP(ADM_allOutputFormat[i].text));	
+		WIDGET(comboBoxFormat)->addItem(QString::fromUtf8(QT_TR_NOOP(ADM_allOutputFormat[i].text)));	
 	}
 
 }
@@ -885,7 +885,7 @@
 
 	}
 	sprintf(string,QT_TR_NOOP("%c (%02d)"),c,qp);
-	WIDGET(label_8)->setText(string);	
+	WIDGET(label_8)->setText(QString::fromUtf8(string));
 
 }
 



From gruntster at mail.berlios.de  Mon Sep 22 16:55:33 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 22 Sep 2008 16:55:33 +0200
Subject: [Avidemux-svn-commit] r4397 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK/ADM_dialogFactory ADM_NONE/ADM_dialogFactory
	ADM_QT4/ADM_dialogFactory ADM_commonUI
Message-ID: <200809221455.m8MEtXHQ000941@sheep.berlios.de>

Author: gruntster
Date: 2008-09-22 16:55:17 +0200 (Mon, 22 Sep 2008)
New Revision: 4397

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/dialogFactoryQt4.h
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bar.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_button.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_float.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_frame.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_hex.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_matrix.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_menu.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_notch.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_readOnlyText.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_threadCount.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_bar.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_float.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_frame.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_hex.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_integer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_matrix.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_notch.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_readOnlyText.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_button.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_menu.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_slider.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_threadCount.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_toggle.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp
Log:
[Qt] let dialogFactory elements dictate layout requirements. General layout tweaks also made to dialogFactory.

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -176,6 +176,8 @@
      gtk_widget_set_sensitive(GTK_WIDGET(wid[1]),onoff);  
 }
 
+int diaElemFile::getRequiredLayout(void) { return 0; }
+
 void fileRead(void *w,void *p)
 {
   diaElemFile *me=(diaElemFile *)p;
@@ -305,6 +307,8 @@
 
 }
 
+int diaElemDirSelect::getRequiredLayout(void) { return 0; }
+
 void dirSel(void *w,void *p)
 {
   diaElemDirSelect *me=(diaElemDirSelect *)p;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bar.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bar.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bar.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -73,4 +73,6 @@
   
 }
 
+int diaElemBar::getRequiredLayout(void) { return 0; }
+
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -253,6 +253,9 @@
   }
   memcpy(param,&copy,sizeof(copy));
 }
+
+int diaElemBitrate::getRequiredLayout(void) { return 0; }
+
 void diaElemBitrate::updateMe(void)
 {
   // Read current value

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_button.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_button.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_button.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -69,6 +69,8 @@
   gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);  
 }
 
+int diaElemButton::getRequiredLayout(void) { return 0; }
+
 void cb_button (GtkWidget *widget,gpointer callback_data)
 {
   diaElemButton *button=(diaElemButton *)callback_data;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_float.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_float.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_float.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -96,4 +96,5 @@
   gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);
 }
 
+int diaElemFloat::getRequiredLayout(void) { return 0; }
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_frame.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_frame.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_frame.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -113,4 +113,6 @@
    GtkWidget *widget=(GtkWidget *)myWidget;
    gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);
 }
+
+int diaElemFrame::getRequiredLayout(void) { return 0; }
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_hex.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_hex.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_hex.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -222,6 +222,8 @@
 void diaElemHex::finalize(void) 
 {
 
-};
+}
 
+int diaElemHex::getRequiredLayout(void) { return 0; }
+
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -99,6 +99,8 @@
   gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);
 }
 
+int diaElemInteger::getRequiredLayout(void) { return 0; }
+
 //**********************************************************************************
 
 diaElemUInteger::diaElemUInteger(uint32_t *intValue,const char *toggleTitle, uint32_t min, uint32_t max,const char *tip)
@@ -171,6 +173,8 @@
   gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);
 }
 
+int diaElemUInteger::getRequiredLayout(void) { return 0; }
+
 //****************************************************
 
 template <typename T>
@@ -285,6 +289,9 @@
   gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);
 }
 
+template <typename T>
+int diaElemGenericSlider<T>::getRequiredLayout(void) { return 0; }
+
 template class diaElemGenericSlider <int32_t>;
 template class diaElemGenericSlider <uint32_t>;
 template class diaElemGenericSlider <ELEM_TYPE_FLOAT>;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_matrix.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_matrix.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_matrix.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -129,4 +129,5 @@
 		  }
 }
 
+int diaElemMatrix::getRequiredLayout(void) { return 0; }
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_menu.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_menu.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_menu.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -88,6 +88,9 @@
 {
   dyna->finalize();
 }
+
+int diaElemMenu::getRequiredLayout(void) { return 0; }
+
 //*******************************
 diaElemMenuDynamic::diaElemMenuDynamic(uint32_t *intValue,const char *itle, uint32_t nb, 
                 diaMenuEntryDynamic **menu,const char *tip)
@@ -221,6 +224,9 @@
 {
   gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);  
 }
+
+int diaElemMenuDynamic::getRequiredLayout(void) { return 0; }
+
 //** C callback **
 void cb_menu(void *w,void *p)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_notch.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_notch.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_notch.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -70,4 +70,6 @@
   
 }
 
+int diaElemNotch::getRequiredLayout(void) { return 0; }
+
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_readOnlyText.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_readOnlyText.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_readOnlyText.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -76,6 +76,9 @@
  
   
 }
+
+int diaElemReadOnlyText::getRequiredLayout(void) { return 0; }
+
 /***************************************************************/
 diaElemText::diaElemText(char **text,const char *toggleTitle,const char *tip)
   : diaElem(ELEM_ROTEXT)
@@ -134,4 +137,6 @@
   gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);
 }
 
+int diaElemText::getRequiredLayout(void) { return 0; }
+
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_threadCount.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_threadCount.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_threadCount.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -126,6 +126,8 @@
 	}
 }
 
+int diaElemThreadCount::getRequiredLayout(void) { return 0; }
+
 void customToggled(void *widget, void *userData)
 {
 	diaElemThreadCount *elem = (diaElemThreadCount*)userData;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -116,6 +116,8 @@
   gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);  
 }
 
+int diaElemToggle::getRequiredLayout(void) { return 0; }
+
 //** C callback **
 void cb_menu(void *w,void *p)
 {
@@ -211,6 +213,8 @@
   gtk_widget_set_sensitive(GTK_WIDGET(wuint),onoff);
 }
 
+int diaElemToggleUint::getRequiredLayout(void) { return 0; }
+
 //** C callback **
 void cb_menu2(void *w,void *p)
 {
@@ -281,6 +285,8 @@
   if(*emb>_max) *emb=_max;
 }
 
+int diaElemToggleInt::getRequiredLayout(void) { return 0; }
+
 //** C callback **
 void cb_menu3(void *w,void *p)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -52,6 +52,8 @@
 
 }
 
+int diaElemToggle::getRequiredLayout(void) { return 0; }
+
 //******************************************************
 diaElemInteger::diaElemInteger(int32_t *intValue,const char *toggleTitle, int32_t min, int32_t max,const char *tip)
   : diaElem(ELEM_TOGGLE)
@@ -75,6 +77,8 @@
   
 }
 void diaElemInteger::enable(uint32_t onoff) {}
+int diaElemInteger::getRequiredLayout(void) { return 0; }
+
 //******************************************************
 diaElemUInteger::diaElemUInteger(uint32_t *intValue,const char *toggleTitle, uint32_t min, uint32_t max,const char *tip)
   : diaElem(ELEM_TOGGLE)
@@ -94,6 +98,8 @@
  
 }
 void diaElemUInteger::enable(uint32_t onoff) {}
+int diaElemUInteger::getRequiredLayout(void) { return 0; }
+
 //******************************************************
 
 diaElemFloat::diaElemFloat(ELEM_TYPE_FLOAT *intValue,const char *toggleTitle, 
@@ -115,6 +121,8 @@
  
 }
 void diaElemFloat::enable(uint32_t onoff) {}
+int diaElemFloat::getRequiredLayout(void) { return 0; }
+
 //******************************************************
 
 diaElemBar::diaElemBar(uint32_t percent,const char *toggleTitle)
@@ -135,6 +143,8 @@
  
 }
 
+int diaElemBar::getRequiredLayout(void) { return 0; }
+
 //******************************************************
 
 diaElemMenu::diaElemMenu(uint32_t *intValue,const char *itle, uint32_t nb, 
@@ -163,6 +173,9 @@
 void diaElemMenu::finalize(void)
 { 
 }
+
+int diaElemMenu::getRequiredLayout(void) { return 0; }
+
 //*****************
 diaElemFile::diaElemFile(uint32_t write,char **filename,const char *toggleTitle,
                          const char *defaultSuffix, const char *tip)
@@ -192,6 +205,9 @@
 {
   
 }
+
+int diaElemFile::getRequiredLayout(void) { return 0; }
+
 diaElemBitrate::~diaElemBitrate()
 {
   
@@ -205,6 +221,9 @@
 {
  
 }
+
+int diaElemBitrate::getRequiredLayout(void) { return 0; }
+
 //******************************************************
 diaElemReadOnlyText::diaElemReadOnlyText(char *readyOnly,const char *toggleTitle,const char *tip)
   : diaElem(ELEM_ROTEXT)
@@ -225,6 +244,8 @@
  
 }
 
+int diaElemReadOnlyText::getRequiredLayout(void) { return 0; }
+
 //******************************************************
 diaElemNotch::diaElemNotch(uint32_t yes,const char *toggleTitle, const char *tip)
   : diaElem(ELEM_NOTCH)
@@ -240,6 +261,9 @@
 {
   
 }
+
+int diaElemNotch::getRequiredLayout(void) { return 0; }
+
 //******************************************************
 diaElemDirSelect::diaElemDirSelect(char **filename,const char *toggleTitle,const char *tip)  : diaElem(ELEM_NOTCH) {}
 diaElemDirSelect::~diaElemDirSelect() {}
@@ -248,6 +272,7 @@
   
 void diaElemDirSelect::changeFile(void) {}
 void   diaElemDirSelect::enable(uint32_t onoff){}
+int diaElemDirSelect::getRequiredLayout(void) { return 0; }
 //******************************************************
 diaElemText::diaElemText(char **text,const char *toggleTitle,const char *tip)
     : diaElem(ELEM_NOTCH) {}
@@ -255,7 +280,7 @@
 void diaElemText::setMe(void *dialog, void *opaque,uint32_t line) {}
 void diaElemText::getMe(void) {}  
 void diaElemText::enable(uint32_t onoff) {};
-            
+int diaElemText::getRequiredLayout(void) { return 0; }
 //******************************************************
 diaElemMenuDynamic::diaElemMenuDynamic(uint32_t *intValue,const char *itle, uint32_t nb, 
                 diaMenuEntryDynamic **menu,const char *tip)
@@ -281,6 +306,8 @@
 void diaElemMenuDynamic::finalize(void)
 { 
 }
+int diaElemMenuDynamic::getRequiredLayout(void) { return 0; }
+
 //******************************************************
 diaElemFrame::diaElemFrame(const char *toggleTitle, const char *tip)
   : diaElem(ELEM_FRAME)
@@ -310,6 +337,8 @@
 void diaElemFrame::finalize(void)
 {
 }
+
+int diaElemFrame::getRequiredLayout(void) { return 0; }
 //**************************
 
   
@@ -318,6 +347,7 @@
   void diaElemHex::setMe(void *dialog, void *opaque,uint32_t line) {};
   void diaElemHex::getMe(void) {} ;
   void diaElemHex::finalize(void) {};
+  int diaElemHex::getRequiredLayout(void) { return 0; }
 //**************************
 diaElemToggleUint::diaElemToggleUint(uint32_t *toggleValue,const char *toggleTitle, uint32_t *uintval, const char *name,uint32_t min,uint32_t max,const char *tip)
   : diaElem(ELEM_TOGGLE_UINT)
@@ -350,6 +380,9 @@
 {
    
 }
+
+int diaElemToggleUint::getRequiredLayout(void) { return 0; }
+
 //**************************
 diaElemToggleInt::diaElemToggleInt(uint32_t *toggleValue,const char *toggleTitle, int32_t *uintval, const char *name,int32_t min,int32_t max,const char *tip)
   :diaElemToggleUint(toggleValue,toggleTitle, NULL, name,0,0,tip)
@@ -369,6 +402,9 @@
 {
   
 }
+
+int diaElemToggleInt::getRequiredLayout(void) { return 0; }
+
 //*********************************************************
 diaElemButton:: diaElemButton(const char *toggleTitle, ADM_FAC_CALLBACK *cb,void *cookie,const char *tip)
   : diaElem(ELEM_BUTTON)
@@ -392,6 +428,9 @@
 {
 
 }
+
+int diaElemButton::getRequiredLayout(void) { return 0; }
+
 //***
  
  template <typename T>
@@ -420,6 +459,9 @@
   {
   }
   
+template <typename T>
+int diaElemGenericSlider<T>::getRequiredLayout(void) { return 0; }
+
  template class diaElemGenericSlider <int32_t>;
  template class diaElemGenericSlider <uint32_t>;
  template class diaElemGenericSlider <ELEM_TYPE_FLOAT>;
@@ -447,12 +489,13 @@
  {
  }
 
+int diaElemMatrix::getRequiredLayout(void) { return 0; }
 
-
 //***
 diaElemThreadCount::diaElemThreadCount(uint32_t *value, const char *title, const char *tip) : diaElem(ELEM_THREAD_COUNT) {}
 diaElemThreadCount::~diaElemThreadCount() {}
 void diaElemThreadCount::setMe(void *dialog, void *opaque, uint32_t line) {}
 void diaElemThreadCount::getMe(void) {}
+int diaElemThreadCount::getRequiredLayout(void) { return 0; }
 
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_bar.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_bar.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_bar.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -30,8 +30,8 @@
 #include "default.h"
 #include "ADM_commonUI/DIA_factory.h"
 #include "ADM_assert.h"
+#include "dialogFactoryQt4.h"
 
-
 extern const char *shortkey(const char *);
 
 
@@ -69,4 +69,6 @@
 {
 }
 
+int diaElemBar::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
+
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_float.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_float.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_float.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -29,6 +29,7 @@
 #include "default.h"
 #include "ADM_commonUI/DIA_factory.h"
 #include "ADM_assert.h"
+#include "dialogFactoryQt4.h"
 
 extern const char *shortkey(const char *);
 
@@ -53,18 +54,23 @@
 {
   QDoubleSpinBox *box=new QDoubleSpinBox((QWidget *)dialog);
   QGridLayout *layout=(QGridLayout*) opaque;
+  QHBoxLayout *hboxLayout = new QHBoxLayout();
  myWidget=(void *)box; 
    
  box->setMinimum(min);
  box->setMaximum(max);
  box->setValue(*(ELEM_TYPE_FLOAT *)param);
  
- box->show();
- 
  QLabel *text=new QLabel( QString::fromUtf8(this->paramTitle),(QWidget *)dialog);
  text->setBuddy(box);
+
+ QSpacerItem *spacer = new QSpacerItem(20, 20, QSizePolicy::Expanding, QSizePolicy::Minimum);
+
+ hboxLayout->addWidget(box);
+ hboxLayout->addItem(spacer);
+
  layout->addWidget(text,line,0);
- layout->addWidget(box,line,1);
+ layout->addLayout(hboxLayout,line,1);
  
 }
 void diaElemFloat::getMe(void)
@@ -86,3 +92,5 @@
   else
     box->setDisabled(1);
 }
+
+int diaElemFloat::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
\ No newline at end of file

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_frame.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_frame.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_frame.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -30,6 +30,7 @@
 #include "default.h"
 #include "ADM_commonUI/DIA_factory.h"
 #include "ADM_assert.h"
+#include "dialogFactoryQt4.h"
 
 extern const char *shortkey(const char *);
 
@@ -59,18 +60,42 @@
 
 void diaElemFrame::setMe(void *dialog, void *opaque,uint32_t line)
 {
-	QGridLayout *layout = (QGridLayout*)opaque;
+	QVBoxLayout *layout = (QVBoxLayout*)opaque;
 	QGroupBox *groupBox = new QGroupBox(QString::fromUtf8(paramTitle));
-	QGridLayout *layout2 = new QGridLayout(groupBox);
-	int v = 0;
+	QVBoxLayout *vboxlayout = new QVBoxLayout(groupBox);
+	QLayout *layout2 = NULL;
+	int currentLayout = 0;
+	int v;
 
 	for (int i = 0; i < nbElems; i++)
 	{
+		if (elems[i]->getRequiredLayout() != currentLayout)
+		{
+			if (layout2)
+				vboxlayout->addLayout(layout2);
+
+			switch (elems[i]->getRequiredLayout())
+			{
+				case FAC_QT_GRIDLAYOUT:
+					layout2 = new QGridLayout();
+					break;
+				case FAC_QT_VBOXLAYOUT:
+					layout2 = new QVBoxLayout();
+					break;
+			}
+
+			currentLayout = elems[i]->getRequiredLayout();
+			v = 0;
+		}
+
 		elems[i]->setMe(groupBox, layout2, v); 
 		v += elems[i]->getSize();
 	}
 
-	layout->addWidget(groupBox, line, 0);
+	if (layout2)
+		vboxlayout->addLayout(layout2);
+
+	layout->addWidget(groupBox);
 }
 
 //*****************************
@@ -93,6 +118,8 @@
   
 }
 
+int diaElemFrame::getRequiredLayout(void) { return FAC_QT_VBOXLAYOUT; }
+
 //******************************************************
 
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_hex.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_hex.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_hex.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -13,22 +13,11 @@
  *                                                                         *
  ***************************************************************************/
 
-#include <config.h>
-
-
-#include <string.h>
-#include <stdio.h>
-#include <stdlib.h>
-#include <math.h>
-
-#include <QDialog>
-#include <QMessageBox>
-#include <QGridLayout>
-#include <QCheckBox>
-
+#include "config.h"
 #include "default.h"
 #include "ADM_commonUI/DIA_factory.h"
 #include "ADM_assert.h"
+#include "dialogFactoryQt4.h"
 
 extern const char *shortkey(const char *);
   diaElemHex::diaElemHex(const char *toggleTitle, uint32_t dataSize,uint8_t *data) :diaElem(ELEM_HEXDUMP){};
@@ -36,6 +25,7 @@
   void diaElemHex::setMe(void *dialog, void *opaque,uint32_t line) {};
   void diaElemHex::getMe(void) {} ;
   void diaElemHex::finalize(void) {};
+  int diaElemHex::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
 //******************************************************
 
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_integer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_integer.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_integer.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -30,8 +30,8 @@
 #include "default.h"
 #include "ADM_commonUI/DIA_factory.h"
 #include "ADM_assert.h"
+#include "dialogFactoryQt4.h"
 
-
 extern const char *shortkey(const char *);
 
 
@@ -56,19 +56,24 @@
 {
   QSpinBox *box=new QSpinBox((QWidget *)dialog);
   QGridLayout *layout=(QGridLayout*) opaque;
+  QHBoxLayout *hboxLayout = new QHBoxLayout();
  myWidget=(void *)box; 
    
  box->setMinimum(min);
  box->setMaximum(max);
  box->setValue(*(int32_t *)param);
  
- box->show();
- 
  QLabel *text=new QLabel( QString::fromUtf8(this->paramTitle),(QWidget *)dialog);
+ text->setSizePolicy(QSizePolicy::Fixed, QSizePolicy::Fixed);
  text->setBuddy(box);
+
+ QSpacerItem *spacer = new QSpacerItem(20, 20, QSizePolicy::Expanding, QSizePolicy::Minimum);
+
+ hboxLayout->addWidget(box);
+ hboxLayout->addItem(spacer);
+
  layout->addWidget(text,line,0);
- layout->addWidget(box,line,1);
- 
+ layout->addLayout(hboxLayout,line,1);
 }
 void diaElemInteger::getMe(void)
 {
@@ -89,6 +94,9 @@
   else
     box->setDisabled(1);
 }
+
+int diaElemInteger::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
+
 //******************************************************
 diaElemUInteger::diaElemUInteger(uint32_t *intValue,const char *toggleTitle, uint32_t min, uint32_t max,const char *tip)
   : diaElem(ELEM_TOGGLE)
@@ -110,18 +118,24 @@
 {
   QSpinBox *box=new QSpinBox((QWidget *)dialog);
   QGridLayout *layout=(QGridLayout*) opaque;
+  QHBoxLayout *hboxLayout = new QHBoxLayout();
  myWidget=(void *)box; 
    
  box->setMinimum(min);
  box->setMaximum(max);
  box->setValue(*(uint32_t *)param);
  
- box->show();
- 
  QLabel *text=new QLabel( QString::fromUtf8(this->paramTitle),(QWidget *)dialog);
+ text->setSizePolicy(QSizePolicy::Fixed, QSizePolicy::Fixed);
  text->setBuddy(box);
+
+ QSpacerItem *spacer = new QSpacerItem(20, 20, QSizePolicy::Expanding, QSizePolicy::Minimum);
+
+ hboxLayout->addWidget(box);
+ hboxLayout->addItem(spacer);
+
  layout->addWidget(text,line,0);
- layout->addWidget(box,line,1);
+ layout->addLayout(hboxLayout,line,1);
 }
 void diaElemUInteger::getMe(void)
 {
@@ -143,6 +157,9 @@
   else
     box->setDisabled(1);
 }
+
+int diaElemUInteger::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
+
 //********************************************
 
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_matrix.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_matrix.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_matrix.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -29,6 +29,7 @@
 #include "default.h"
 #include "ADM_commonUI/DIA_factory.h"
 #include "ADM_assert.h"
+#include "dialogFactoryQt4.h"
 
 extern const char *shortkey(const char *);
 
@@ -115,3 +116,4 @@
 			  }
 }
 
+int diaElemMatrix::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_notch.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_notch.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_notch.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -29,6 +29,7 @@
 #include "default.h"
 #include "ADM_commonUI/DIA_factory.h"
 #include "ADM_assert.h"
+#include "dialogFactoryQt4.h"
 
 extern const char *shortkey(const char *);
 
@@ -56,6 +57,7 @@
  box->show();
  layout->addWidget(box,line,0);
 }
-//******************************************************
 
+int diaElemNotch::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
+
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_readOnlyText.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_readOnlyText.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_readOnlyText.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -30,8 +30,8 @@
 #include "default.h"
 #include "ADM_commonUI/DIA_factory.h"
 #include "ADM_assert.h"
+#include "dialogFactoryQt4.h"
 
-
 extern const char *shortkey(const char *);
 
 
@@ -70,6 +70,9 @@
 
  
 }
+
+int diaElemReadOnlyText::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
+
 //*********************************
 
 diaElemText::diaElemText(char **text,const char *toggleTitle,const char *tip)
@@ -120,4 +123,6 @@
     lineEdit->setDisabled(TRUE);
 }
 
+int diaElemText::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
+
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -31,6 +31,7 @@
 #include "default.h"
 #include "ADM_commonUI/DIA_factory.h"
 #include "ADM_assert.h"
+#include "dialogFactoryQt4.h"
 
 extern const char *shortkey(const char *);
 
@@ -250,5 +251,7 @@
   memcpy(param,&copy,sizeof(copy));
 }
 
+int diaElemBitrate::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
+
 //EOF
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_button.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_button.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_button.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -31,6 +31,7 @@
 #include "default.h"
 #include "ADM_commonUI/DIA_factory.h"
 #include "ADM_assert.h"
+#include "dialogFactoryQt4.h"
 
 extern const char *shortkey(const char *);
 
@@ -105,5 +106,8 @@
 {
 
 }
+
+int diaElemButton::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
+
 //EOF
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_dialogFactory.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -32,6 +32,7 @@
 #include "ADM_commonUI/DIA_factory.h"
 #include "ADM_assert.h"
 #include "../ADM_toolkit/qtToolkit.h"
+#include "dialogFactoryQt4.h"
 
 static void insertTab(uint32_t index, diaElemTabs *tab, QTabWidget *wtab);
 
@@ -55,16 +56,38 @@
   QSpacerItem *spacer = new QSpacerItem(20, 16, QSizePolicy::Minimum, QSizePolicy::Fixed);
   QDialogButtonBox *buttonBox = new QDialogButtonBox();
   QVBoxLayout *vboxLayout = new QVBoxLayout();
-  QGridLayout *layout = new QGridLayout();
+  QLayout *layout = NULL;
+  int currentLayout = 0;
 
  int  v=0;
-  for(int i=0;i<nb;i++)
-  {
-    ADM_assert(elems[i]);
-     elems[i]->setMe( (void *)&dialog,layout,v); 
-     v+=elems[i]->getSize();
-    
-  }
+
+ for(int i=0;i<nb;i++)
+ {
+	 ADM_assert(elems[i]);
+
+	 if (elems[i]->getRequiredLayout() != currentLayout)
+	 {
+		 if (layout)
+			 vboxLayout->addLayout(layout);
+
+		 switch (elems[i]->getRequiredLayout())
+		 {
+			 case FAC_QT_GRIDLAYOUT:
+				 layout = new QGridLayout();
+				 break;
+			 case FAC_QT_VBOXLAYOUT:
+				 layout = new QVBoxLayout();
+				 break;
+		 }
+
+		 currentLayout = elems[i]->getRequiredLayout();
+		 v = 0;
+	 }
+
+	 elems[i]->setMe( (void *)&dialog,layout,v);
+	 v+=elems[i]->getSize();
+ }
+
    for(int i=0;i<nb;i++)
   {
     ADM_assert(elems[i]);
@@ -77,7 +100,9 @@
    QObject::connect(buttonBox, SIGNAL(accepted()), &dialog, SLOT(accept()));
    QObject::connect(buttonBox, SIGNAL(rejected()), &dialog, SLOT(reject()));
 
-   vboxLayout->addLayout(layout);
+   if (layout)
+	   vboxLayout->addLayout(layout);
+
    vboxLayout->addItem(spacer);
    vboxLayout->addWidget(buttonBox);
 
@@ -151,6 +176,11 @@
 
 	 dialog.setLayout(vboxLayout);
 
+	 // Expand to see all tabs but still allow the window to be resized smaller
+	 wtabs->setUsesScrollButtons(false);
+	 dialog.adjustSize();
+	 wtabs->setUsesScrollButtons(true);
+
   if(dialog.exec()==QDialog::Accepted)
   {
       // Read tabs
@@ -178,9 +208,11 @@
 void insertTab(uint32_t index, diaElemTabs *tab, QTabWidget *wtab)
 {
 
-  QWidget *wid=new QWidget;
-  QGridLayout *layout=new QGridLayout(wid);
+  QWidget *wid=new QWidget;  
   QSpacerItem *spacerItem = new QSpacerItem(20, 40, QSizePolicy::Minimum, QSizePolicy::Expanding);
+  int currentLayout = 0;
+  QVBoxLayout *vboxLayout = new QVBoxLayout(wid);
+  QLayout *layout = NULL;
   
   /* First compute the size of our window */
   int vsize=0;
@@ -190,14 +222,34 @@
      vsize+=tab->dias[i]->getSize(); 
   }
 
- int  v=0;
-  for(int i=0;i<tab->nbElems;i++)
-  {
-     ADM_assert(tab->dias[i]);
-     tab->dias[i]->setMe( wid,layout,v); 
-     v+=tab->dias[i]->getSize();
-    
-  }
+	int  v=0;
+
+	for(int i=0;i<tab->nbElems;i++)
+	{
+		ADM_assert(tab->dias[i]);
+
+		if (tab->dias[i]->getRequiredLayout() != currentLayout)
+		{
+			if (layout)
+				vboxLayout->addLayout(layout);
+
+			switch (tab->dias[i]->getRequiredLayout())
+			{
+				case FAC_QT_GRIDLAYOUT:
+					layout = new QGridLayout();
+					break;
+				case FAC_QT_VBOXLAYOUT:
+					layout = new QVBoxLayout();
+					break;
+			}
+
+			currentLayout = tab->dias[i]->getRequiredLayout();
+			v = 0;
+		}
+
+		tab->dias[i]->setMe( wid,layout,v); 
+		v+=tab->dias[i]->getSize();
+	}
   
   wtab->addTab(wid,QString::fromUtf8(tab->title));
   for(int i=0;i<tab->nbElems;i++)
@@ -205,6 +257,9 @@
     tab->dias[i]->finalize(); 
   }
 
-  layout->addItem(spacerItem, v, 0);
+  if (layout)
+	  vboxLayout->addLayout(layout);
+
+  vboxLayout->addItem(spacerItem);
 }
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -33,6 +33,8 @@
 #include "ADM_commonUI/DIA_factory.h"
 #include "ADM_assert.h"
 #include "ADM_toolkit/filesel.h"
+#include "dialogFactoryQt4.h"
+
 extern const char *shortkey(const char *);
 void GUI_FileSelRead(const char *label, char * * name);
 #define MAX_SEL 2040
@@ -105,6 +107,7 @@
         ADM_fileMode fileMode;
         const char * defaultSuffix;
 		const char* selectDesc;
+		QHBoxLayout *hboxLayout;
 
         ADM_Qfilesel(QWidget *z,const char *title,const char *entry,QGridLayout *layout,int line, ADM_fileMode mode, const char * defaultSuffix, const char* selectDesc)
             : QWidget(z),
@@ -112,29 +115,26 @@
 			  selectDesc (selectDesc)
         {          
           fileMode=mode;
-		  edit=new QLineEdit(QString::fromUtf8(entry),z);
+
+		  edit=new QLineEdit(QString::fromUtf8(entry));
           
-          edit->show();
-          
-          button=new QDialogButtonBox(QDialogButtonBox::Open,Qt::Horizontal,z);
-          button->show();
+          button=new QDialogButtonBox(QDialogButtonBox::Open,Qt::Horizontal);
+		  button->setSizePolicy(QSizePolicy::Fixed, QSizePolicy::Fixed);
 
-		  text=new QLabel(QString::fromUtf8(title),z);
+		  text=new QLabel(QString::fromUtf8(title));
           text->setBuddy(edit);
+
+		  hboxLayout = new QHBoxLayout();
+		  hboxLayout->addWidget(edit);
+		  hboxLayout->addWidget(button);
+
           layout->addWidget(text,line,0);
-          layout->addWidget(edit,line,1);
-          layout->addWidget(button,line,2);
-          //QObject::connect(&button, SIGNAL(accepted()), NULL, SLOT(accept())); 
+		  layout->addLayout(hboxLayout, line, 1);
+
           connect( button,SIGNAL(clicked(QAbstractButton  *)),this,SLOT(buttonPressed(QAbstractButton  *)));
         }
-        ~ADM_Qfilesel() 
-            {
-#if 1 //Memleak or autoclean ?
-                if(edit) delete edit;
-                if(button) delete button;
-                if(text) delete text;
-#endif
-            };
+
+		~ADM_Qfilesel() {};
 };
 
 
@@ -187,6 +187,8 @@
   fs->setEnabled(onoff);
 }
 
+int diaElemFile::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
+
 //****************************
 diaElemDirSelect::diaElemDirSelect(char **filename,const char *toggleTitle,const char *selectDirDesc) : diaElem(ELEM_DIR_SELECT)
 {
@@ -224,7 +226,7 @@
 }
 
 void diaElemDirSelect::enable(uint32_t onoff) {}
-  
 void diaElemDirSelect::changeFile(void) {}
+int diaElemDirSelect::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
 
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_menu.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_menu.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_menu.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -31,8 +31,8 @@
 #include "ADM_assert.h"
 
 #include <QCheckBox>
+#include "dialogFactoryQt4.h"
 
-
 extern const char *shortkey(const char *);
 /**/
 
@@ -122,6 +122,9 @@
 {
   dyna->finalize();
 }
+
+int diaElemMenu::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
+
 //*********************************
 //* DYNAMIC                       *
 //*********************************
@@ -150,6 +153,9 @@
      myWidget=(void *)combo; 
 
 	 QLabel *text=new QLabel( QString::fromUtf8(this->paramTitle),(QWidget *)dialog);
+	 text->setSizePolicy(QSizePolicy::Fixed, QSizePolicy::Fixed);
+
+	 QSpacerItem *spacer = new QSpacerItem(20, 20, QSizePolicy::Expanding, QSizePolicy::Minimum);
   
   // Fill in combobox
   int mem=0;
@@ -163,6 +169,7 @@
    text->setBuddy(combo);
    layout->addWidget(text,line,0);
    layout->addWidget(combo,line,1);
+   layout->addItem(spacer,line,2);
    
    combo->connectMe();
 }
@@ -241,4 +248,7 @@
 {
   finalize();
 }
+
+int diaElemMenuDynamic::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
+
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_slider.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_slider.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_slider.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -30,8 +30,8 @@
 #include "default.h"
 #include "ADM_commonUI/DIA_factory.h"
 #include "ADM_assert.h"
+#include "dialogFactoryQt4.h"
 
-
 extern const char *shortkey(const char *);
 
 
@@ -155,6 +155,9 @@
     box->setDisabled(1);
 }
 
+template <typename T>
+int diaElemGenericSlider<T>::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
+
 template class diaElemGenericSlider <int32_t>;
 template class diaElemGenericSlider <uint32_t>;
 template class diaElemGenericSlider <ELEM_TYPE_FLOAT>;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_threadCount.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_threadCount.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_threadCount.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -23,6 +23,7 @@
 
 #include "default.h"
 #include "ADM_commonUI/DIA_factory.h"
+#include "dialogFactoryQt4.h"
 
 extern const char* shortkey(const char*);
 
@@ -65,11 +66,14 @@
 		text = new QLabel(QString::fromUtf8(title), widget);
 		text->setBuddy(radiobutton1);
 
+		QSpacerItem *spacer = new QSpacerItem(20, 20, QSizePolicy::Expanding, QSizePolicy::Minimum);
+
 		layout->addWidget(text, line, 0);
 		layout->addWidget(radiobutton1, line, 1);
 		layout->addWidget(radiobutton2, line, 2);
 		layout->addWidget(radiobutton3, line, 3);
 		layout->addWidget(spinBox, line, 4);
+		layout->addItem(spacer,line,5);
 
 		QObject::connect(buttonGroup, SIGNAL(buttonClicked(QAbstractButton*)), this, SLOT(radioGroupChanged(QAbstractButton*)));
 
@@ -86,26 +90,7 @@
 		}
 	}
 
-	~ADM_QthreadCount() 
-	{
-		if (buttonGroup)
-			delete buttonGroup;
-
-		if (radiobutton1)
-			delete radiobutton1;
-
-		if (radiobutton2)
-			delete radiobutton2;
-
-		if (radiobutton3)
-			delete radiobutton3;
-
-		if (spinBox)
-			delete spinBox;
-
-		if (text)
-			delete text;
-	}
+	~ADM_QthreadCount() {}
 };
 
 diaElemThreadCount::diaElemThreadCount(uint32_t *value, const char *title, const char *tip) : diaElem(ELEM_THREAD_COUNT)
@@ -141,3 +126,5 @@
 	else
 		*val = (threadCount->spinBox)->value();
 }
+
+int diaElemThreadCount::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_toggle.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_toggle.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_toggle.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -30,6 +30,7 @@
 #include "default.h"
 #include "ADM_commonUI/DIA_factory.h"
 #include "ADM_assert.h"
+#include "dialogFactoryQt4.h"
 
 extern const char *shortkey(const char *);
 typedef enum
@@ -99,14 +100,14 @@
 void diaElemToggle::setMe(void *dialog, void *opaque,uint32_t l)
 {
  ADM_QCheckBox *box=new ADM_QCheckBox(QString::fromUtf8(paramTitle),(QWidget *)dialog,this,TT_TOGGLE);
- QGridLayout *layout=(QGridLayout*) opaque;
+ QVBoxLayout *layout=(QVBoxLayout*) opaque;
  myWidget=(void *)box; 
  if( *(uint32_t *)param)
  {
     box->setCheckState(Qt::Checked); 
  }
- box->show();
- layout->addWidget(box,l,0);
+
+ layout->addWidget(box);
  box->connectMe();
 }
 void diaElemToggle::getMe(void)
@@ -171,6 +172,9 @@
     nbLink++;
     return 1;
 }
+
+int diaElemToggle::getRequiredLayout(void) { return FAC_QT_VBOXLAYOUT; }
+
 //******************************************************
 // An UInt and a toggle linked...
 //******************************************************
@@ -196,13 +200,13 @@
 {
  ADM_QCheckBox *box=new ADM_QCheckBox(QString::fromUtf8(paramTitle),(QWidget *)dialog,this,TT_TOGGLE_UINT);
  QGridLayout *layout=(QGridLayout*) opaque;
+ QHBoxLayout *hboxLayout = new QHBoxLayout();
  myWidget=(void *)box; 
  if( *(uint32_t *)param)
  {
     box->setCheckState(Qt::Checked); 
  }
- box->show();
- layout->addWidget(box,line,0);
+
  // Now add spin
  QSpinBox *spin=new QSpinBox((QWidget *)dialog);
  widgetUint=(void *)spin; 
@@ -210,8 +214,14 @@
  spin->setMinimum(_min);
  spin->setMaximum(_max);
  spin->setValue(*(uint32_t *)emb);
- spin->show();
- layout->addWidget(spin,line,1);
+
+ QSpacerItem *spacer = new QSpacerItem(20, 20, QSizePolicy::Expanding, QSizePolicy::Minimum);
+
+ hboxLayout->addWidget(spin);
+ hboxLayout->addItem(spacer);
+
+ layout->addWidget(box,line,0);
+ layout->addLayout(hboxLayout,line,1);
  box->connectMe();
 }
 
@@ -269,6 +279,8 @@
   }
 }
 
+int diaElemToggleUint::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
+
 //******************************************************
 // An Int and a toggle linked...
 //******************************************************
@@ -294,13 +306,13 @@
 {
  ADM_QCheckBox *box=new ADM_QCheckBox(QString::fromUtf8(paramTitle),(QWidget *)dialog,this,TT_TOGGLE_INT);
  QGridLayout *layout=(QGridLayout*) opaque;
+ QHBoxLayout *hboxLayout = new QHBoxLayout();
  myWidget=(void *)box; 
  if( *(uint32_t *)param)
  {
     box->setCheckState(Qt::Checked); 
  }
- box->show();
- layout->addWidget(box,line,0);
+
  // Now add spin
  QSpinBox *spin=new QSpinBox((QWidget *)dialog);
  widgetUint=(void *)spin; 
@@ -308,8 +320,14 @@
  spin->setMinimum(_min);
  spin->setMaximum(_max);
  spin->setValue(*emb);
- spin->show();
- layout->addWidget(spin,line,1);
+
+ QSpacerItem *spacer = new QSpacerItem(20, 20, QSizePolicy::Expanding, QSizePolicy::Minimum);
+
+ hboxLayout->addWidget(spin);
+ hboxLayout->addItem(spacer);
+
+ layout->addWidget(box,line,0);
+ layout->addLayout(hboxLayout,line,1);
  box->connectMe();
 }
 
@@ -330,6 +348,9 @@
  if(u>_max) u=_max;
  *emb=u;
 }
+
+int diaElemToggleInt::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
+
 //******************************************************
 
 

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/dialogFactoryQt4.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/dialogFactoryQt4.h	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/dialogFactoryQt4.h	2008-09-22 14:55:17 UTC (rev 4397)
@@ -0,0 +1,2 @@
+#define FAC_QT_GRIDLAYOUT 1
+#define FAC_QT_VBOXLAYOUT 2
\ No newline at end of file

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2008-09-22 14:55:17 UTC (rev 4397)
@@ -71,6 +71,7 @@
           
   virtual void enable(uint32_t onoff) {printf("Enabling %d\n",onoff);}
   virtual void finalize(void) {} // in case some widget needs some stuff just before using them
+  virtual int getRequiredLayout(void)=0;
 };
 /*********************************************/
 #define MENU_MAX_lINK 10
@@ -93,6 +94,7 @@
   void      setMe(void *dialog, void *opaque,uint32_t line);
   void      getMe(void);
   void      enable(uint32_t onoff) ;
+  int getRequiredLayout(void);
 };
 
 /*********************************************/
@@ -108,6 +110,7 @@
   void      setMe(void *dialog, void *opaque,uint32_t line);
   void      getMe(void);
   void      enable(uint32_t onoff) ;
+  int getRequiredLayout(void);
 };
 /************************************/
 template <typename T>
@@ -124,6 +127,7 @@
   void      getMe(void);
   void      enable(uint32_t onoff) ;
   void      setDigits(uint32_t digits) { this->digits = digits; }
+  int getRequiredLayout(void);
 };
 typedef diaElemGenericSlider <int32_t> diaElemSlider;
 /* Same but unsigned */
@@ -147,6 +151,7 @@
   void      finalize(void);
   void      updateMe();
   uint8_t   link(uint32_t onoff,diaElem *w);
+  int getRequiredLayout(void);
 };
 /*********************************************/
 class diaElemToggleUint : public diaElem
@@ -164,6 +169,7 @@
   void      enable(uint32_t onoff) ;
   void      finalize(void);
   void      updateMe();
+  int getRequiredLayout(void);
 };
 class diaElemToggleInt : public diaElemToggleUint
 {
@@ -175,6 +181,7 @@
   virtual   ~diaElemToggleInt() ;
   void      setMe(void *dialog, void *opaque,uint32_t line);
   void      getMe(void);
+  int getRequiredLayout(void);
 };
 /*********************************************/
 class diaElemInteger : public diaElem
@@ -187,6 +194,7 @@
   void setMe(void *dialog, void *opaque,uint32_t line);
   void getMe(void);
   void      enable(uint32_t onoff) ;
+  int getRequiredLayout(void);
 };
 /* Same but unsigned */
 class diaElemUInteger : public diaElem
@@ -199,7 +207,7 @@
   void setMe(void *dialog, void *opaque,uint32_t line);
   void getMe(void);
   void      enable(uint32_t onoff) ;
-  
+  int getRequiredLayout(void);
 };
 /*************************************************/
 class diaElemBar : public diaElem
@@ -212,6 +220,7 @@
   virtual ~diaElemBar() ;
   void setMe(void *dialog, void *opaque,uint32_t line);
   void getMe(void);
+  int getRequiredLayout(void);
 };
 
 /*********************************************/
@@ -226,6 +235,7 @@
   void setMe(void *dialog, void *opaque,uint32_t line);
   void getMe(void);
   void      enable(uint32_t onoff) ;
+  int getRequiredLayout(void);
 };
 /*************************************************/
 typedef struct diaMenuEntry
@@ -281,6 +291,7 @@
   void      updateMe(void);
   void      enable(uint32_t onoff) ;
   void      finalize(void);
+  int getRequiredLayout(void);
 };
 
 class diaElemMenu : public diaElem
@@ -302,7 +313,8 @@
   uint8_t   link(diaMenuEntry *entry,uint32_t onoff,diaElem *w);
   void      updateMe(void);
   void      enable(uint32_t onoff) ;
-  void      finalize(void);;
+  void      finalize(void);
+  int getRequiredLayout(void);
 };
 
 /*************************************************/
@@ -321,8 +333,8 @@
   void getMe(void);
   void setMaxQz(uint32_t qz);
   void setMinQz(uint32_t qz);
-  
   void updateMe(void);
+  int getRequiredLayout(void);
 };
 
 /*************************************************/
@@ -341,6 +353,7 @@
   uint32_t _write;
   void   changeFile(void);
   void   enable(uint32_t onoff);
+  int getRequiredLayout(void);
 };
 /*************************************************/
 class diaElemDirSelect : public diaElem
@@ -355,6 +368,7 @@
   
   void changeFile(void);
   void   enable(uint32_t onoff);
+  int getRequiredLayout(void);
 };
 /*************************************************/
 /* The text MUST be copied internally ! */
@@ -367,7 +381,7 @@
   virtual ~diaElemReadOnlyText() ;
   void setMe(void *dialog, void *opaque,uint32_t line);
   void getMe(void);
-  
+  int getRequiredLayout(void);
 };
 /*************************************************/
 /* The text MUST be copied internally ! */
@@ -381,6 +395,7 @@
   void setMe(void *dialog, void *opaque,uint32_t line);
   void getMe(void);
   void enable(uint32_t onoff);
+  int getRequiredLayout(void);
 };
 
 /*********************************************/
@@ -393,6 +408,7 @@
   virtual ~diaElemNotch() ;
   void setMe(void *dialog, void *opaque,uint32_t line);
   void getMe(void) {};
+  int getRequiredLayout(void);
 };
 /*********************************************/
 class diaElemTabs 
@@ -429,6 +445,7 @@
   void swallow(diaElem *widget);
   void enable(uint32_t onoff);
   void finalize(void);
+  int getRequiredLayout(void);
 };
 /**********************************************/
 class diaElemHex : public diaElem
@@ -443,6 +460,7 @@
   void setMe(void *dialog, void *opaque,uint32_t line);
   void getMe(void) ;
   void finalize(void);
+  int getRequiredLayout(void);
 };
 /**********************************************/
 class diaElemThreadCount : public diaElem
@@ -454,6 +472,7 @@
   virtual ~diaElemThreadCount() ;
   void setMe(void *dialog, void *opaque, uint32_t line);
   void getMe(void);
+  int getRequiredLayout(void);
 };
 /*********************************************/
 uint8_t diaFactoryRun(const char *title,uint32_t nb,diaElem **elems);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp	2008-09-22 10:40:20 UTC (rev 4396)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp	2008-09-22 14:55:17 UTC (rev 4397)
@@ -252,9 +252,9 @@
 	{
 		_resizer->resize(_rgbBufferOut, _rgbBufferDisplay);
 
-		uint8_t* tempRgb = _rgbBufferDisplay;
-
-		_rgbBufferDisplay = _rgbBufferOut;
+		uint8_t* tempRgb = _rgbBufferDisplay;
+
+		_rgbBufferDisplay = _rgbBufferOut;
 		_rgbBufferOut = tempRgb;
 	}
 }



From gruntster at mail.berlios.de  Mon Sep 22 21:59:38 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 22 Sep 2008 21:59:38 +0200
Subject: [Avidemux-svn-commit] r4398 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory
Message-ID: <200809221959.m8MJxcRP000878@sheep.berlios.de>

Author: gruntster
Date: 2008-09-22 21:59:30 +0200 (Mon, 22 Sep 2008)
New Revision: 4398

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_menu.cpp
Log:
[Qt] more dialogFactory tidy ups

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp	2008-09-22 14:55:17 UTC (rev 4397)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp	2008-09-22 19:59:30 UTC (rev 4398)
@@ -52,11 +52,11 @@
         COMPRES_PARAMS  *compress;
 		uint32_t		_minQ;
         uint32_t        maxQ;
-        ADM_Qbitrate(QWidget *z,COMPRES_PARAMS *p,uint32_t minQ, uint32_t mq,QGridLayout *layout,int line) : QWidget(z) 
+        ADM_Qbitrate(COMPRES_PARAMS *p,uint32_t minQ, uint32_t mq,QGridLayout *layout,int line)
         {
           
            compress=p;
-           combo=new QComboBox(z);
+           combo=new QComboBox();
            
 		   _minQ=minQ;
            maxQ=mq;
@@ -72,34 +72,39 @@
   add(2PASS,2PASS,QT_TR_NOOP("Two Pass - Video Size"));
   add(2PASS_BR,2PASS_BITRATE,QT_TR_NOOP("Two Pass - Average Bitrate"));
   
-           combo->show();
-           
-           text1=new QLabel( QString::fromUtf8(QT_TR_NOOP("Encoding mode")),z);
+           text1=new QLabel( QString::fromUtf8(QT_TR_NOOP("Encoding mode")));
           text1->setBuddy(combo);
-          text1->show();
-          
-           box=new QSpinBox(z);
-           box->show();
-           
-           text2=new QLabel( QString::fromUtf8(QT_TR_NOOP("Bitrate")),z);
+
+           box=new QSpinBox();
+
+           text2=new QLabel( QString::fromUtf8(QT_TR_NOOP("Bitrate")));
            text2->setBuddy(combo);
-          
-          
+
+		   QHBoxLayout *hboxLayout = new QHBoxLayout();
+		   QHBoxLayout *hboxLayout2 = new QHBoxLayout();
+		   QSpacerItem *spacer = new QSpacerItem(20, 20, QSizePolicy::Expanding, QSizePolicy::Minimum);
+		   QSpacerItem *spacer2 = new QSpacerItem(20, 20, QSizePolicy::Expanding, QSizePolicy::Minimum);
+
+		   hboxLayout->addWidget(combo);
+		   hboxLayout->addItem(spacer);
+
           layout->addWidget(text1,line,0);
-          layout->addWidget(combo,line,1);
-          
+		  layout->addItem(hboxLayout,line,1);
+
+		  hboxLayout2->addWidget(box);
+		  hboxLayout2->addItem(spacer2);
+
           layout->addWidget(text2,line+1,0);
-          layout->addWidget(box,line+1,1);
-       
-       
+          layout->addItem(hboxLayout2,line+1,1);
+
           if(set!=-1) 
           {
         	  	combo->setCurrentIndex(set);
         	  	comboChanged(set);
           }
-          QObject::connect(combo, SIGNAL(currentIndexChanged(int )), this, SLOT(comboChanged(int )));
-          
-          
+          connect(combo, SIGNAL(currentIndexChanged(int )), this, SLOT(comboChanged(int )));
+
+
         }
         virtual ~ADM_Qbitrate() ;
         void readBack(void);
@@ -226,22 +231,13 @@
   maxQ=qz; 
 }
 
-diaElemBitrate::~diaElemBitrate()
-{
-  ADM_assert(myWidget);
-#if 0 // Automatically deleted as it is a child of main dialog
-  ADM_Qbitrate *z=(ADM_Qbitrate *)myWidget;
-  
-  if(z) delete z;
+diaElemBitrate::~diaElemBitrate() {};
 
-  myWidget=NULL;
-#endif
-}
 void diaElemBitrate::setMe(void *dialog, void *opaque,uint32_t line)
 {
   QGridLayout *layout=(QGridLayout*) opaque;
   
-  ADM_Qbitrate *b=new ADM_Qbitrate( (QWidget *)dialog,(COMPRES_PARAMS *)&copy,minQ,maxQ,layout,line);
+  ADM_Qbitrate *b=new ADM_Qbitrate((COMPRES_PARAMS *)&copy,minQ,maxQ,layout,line);
   myWidget=(void *)b;
   
 }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp	2008-09-22 14:55:17 UTC (rev 4397)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_filesel.cpp	2008-09-22 19:59:30 UTC (rev 4398)
@@ -109,9 +109,8 @@
 		const char* selectDesc;
 		QHBoxLayout *hboxLayout;
 
-        ADM_Qfilesel(QWidget *z,const char *title,const char *entry,QGridLayout *layout,int line, ADM_fileMode mode, const char * defaultSuffix, const char* selectDesc)
-            : QWidget(z),
-              defaultSuffix (defaultSuffix),
+        ADM_Qfilesel(const char *title,const char *entry,QGridLayout *layout,int line, ADM_fileMode mode, const char * defaultSuffix, const char* selectDesc)
+            : defaultSuffix (defaultSuffix),
 			  selectDesc (selectDesc)
         {          
           fileMode=mode;
@@ -165,9 +164,9 @@
  QGridLayout *layout=(QGridLayout*) opaque;
  ADM_Qfilesel *fs;
   if(_write)
-      fs=new ADM_Qfilesel((QWidget *)dialog,paramTitle, *(const char**)param, layout, line,ADM_FILEMODE_WRITE, defaultSuffix, tip);
+      fs=new ADM_Qfilesel(paramTitle, *(const char**)param, layout, line,ADM_FILEMODE_WRITE, defaultSuffix, tip);
   else
-      fs=new ADM_Qfilesel((QWidget *)dialog,paramTitle, *(const char**)param, layout, line,ADM_FILEMODE_READ, 0, tip);
+      fs=new ADM_Qfilesel(paramTitle, *(const char**)param, layout, line,ADM_FILEMODE_READ, 0, tip);
   myWidget=(void *)fs; 
 }
 
@@ -183,8 +182,13 @@
 
 void diaElemFile::enable(uint32_t onoff)
 {
-  ADM_Qfilesel *fs=(ADM_Qfilesel *)myWidget;
-  fs->setEnabled(onoff);
+	ADM_Qfilesel *fs = (ADM_Qfilesel*)myWidget;
+
+	ADM_assert(fs);
+
+	fs->text->setEnabled(onoff);
+	fs->edit->setEnabled(onoff);
+	fs->button->setEnabled(onoff);
 }
 
 int diaElemFile::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
@@ -211,7 +215,7 @@
 {
  QGridLayout *layout=(QGridLayout*) opaque;
   
-  ADM_Qfilesel *fs=new ADM_Qfilesel((QWidget *)dialog, paramTitle, *(char **)param, layout, line, ADM_FILEMODE_DIR, 0, tip);
+  ADM_Qfilesel *fs=new ADM_Qfilesel(paramTitle, *(char **)param, layout, line, ADM_FILEMODE_DIR, 0, tip);
   myWidget=(void *)fs; 
 }
 
@@ -225,7 +229,17 @@
   *n=ADM_strdup(s.toUtf8().constData());
 }
 
-void diaElemDirSelect::enable(uint32_t onoff) {}
+void diaElemDirSelect::enable(uint32_t onoff)
+{
+	ADM_Qfilesel *fs = (ADM_Qfilesel*)myWidget;
+
+	ADM_assert(fs);
+
+	fs->text->setEnabled(onoff);
+	fs->edit->setEnabled(onoff);
+	fs->button->setEnabled(onoff);
+}
+
 void diaElemDirSelect::changeFile(void) {}
 int diaElemDirSelect::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_menu.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_menu.cpp	2008-09-22 14:55:17 UTC (rev 4397)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_menu.cpp	2008-09-22 19:59:30 UTC (rev 4398)
@@ -51,7 +51,7 @@
   protected:
         diaElemMenuDynamic *_menu;
   public:
-  ADM_QComboBox(QWidget *root,diaElemMenuDynamic *menu) : QComboBox(root)
+  ADM_QComboBox(diaElemMenuDynamic *menu)
   {
     _menu=menu;
   }
@@ -148,11 +148,12 @@
 }
 void diaElemMenuDynamic::setMe(void *dialog, void *opaque,uint32_t line)
 {
-  ADM_QComboBox *combo=new ADM_QComboBox( (QWidget *)dialog,this);
+  ADM_QComboBox *combo=new ADM_QComboBox(this);
+
   QGridLayout *layout=(QGridLayout*) opaque;
      myWidget=(void *)combo; 
 
-	 QLabel *text=new QLabel( QString::fromUtf8(this->paramTitle),(QWidget *)dialog);
+	 QLabel *text=new QLabel( QString::fromUtf8(this->paramTitle));
 	 text->setSizePolicy(QSizePolicy::Fixed, QSizePolicy::Fixed);
 
 	 QSpacerItem *spacer = new QSpacerItem(20, 20, QSizePolicy::Expanding, QSizePolicy::Minimum);



From gruntster at mail.berlios.de  Mon Sep 22 22:33:46 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 22 Sep 2008 22:33:46 +0200
Subject: [Avidemux-svn-commit] r4399 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200809222033.m8MKXkFt004332@sheep.berlios.de>

Author: gruntster
Date: 2008-09-22 22:33:41 +0200 (Mon, 22 Sep 2008)
New Revision: 4399

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp
Log:
[Qt] add extra settings to x264 config dialog

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp	2008-09-22 19:59:30 UTC (rev 4398)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp	2008-09-22 20:33:41 UTC (rev 4399)
@@ -48,7 +48,7 @@
            diaElemBitrate bitrate(config,NULL);
            bitrate.setMaxQz(51);
            diaElem *main[]={&bitrate};
-           diaElemTabs tabMain(QT_TR_NOOP("Main"),1,main);
+           diaElemTabs tabMain(QT_TR_NOOP("Bitrate"),1,main);
 
            
         /* Tab 2 Motion */
@@ -138,12 +138,12 @@
         /* Tab 4 Partition & frame*/
          
              diaElemToggle    _8x8(PX(_8x8),QT_TR_NOOP("8x8 Transform"));
-             diaElemToggle    _8x8P(PX(_8x8P),QT_TR_NOOP("8x8P Transform"));
-             diaElemToggle    _8x8B(PX(_8x8B),QT_TR_NOOP("8x8B Transform"));
-             diaElemToggle    _4x4(PX(_4x4),QT_TR_NOOP("_4x4 Transform"));
-             diaElemToggle    _8x8I(PX(_8x8I),QT_TR_NOOP("_8x8I Transform"));
-             diaElemToggle    _4x4I(PX(_4x4I),QT_TR_NOOP("_4x4I Transform"));
-          diaElemFrame  frameTransform(QT_TR_NOOP("Transform"));
+             diaElemToggle    _8x8P(PX(_8x8P),QT_TR_NOOP("8x8, 8x16 and 16x8 P-frame search"));
+             diaElemToggle    _8x8B(PX(_8x8B),QT_TR_NOOP("8x8, 8x16 and 16x8 B-frame search"));
+             diaElemToggle    _4x4(PX(_4x4),QT_TR_NOOP("4x4, 4x8 and 8x4 P-frame search"));
+             diaElemToggle    _8x8I(PX(_8x8I),QT_TR_NOOP("8x8 Intra search"));
+             diaElemToggle    _4x4I(PX(_4x4I),QT_TR_NOOP("4x4 Intra search"));
+          diaElemFrame  frameTransform(QT_TR_NOOP("Partition Macroblocks"));
            frameTransform.swallow(&_8x8);
            frameTransform.swallow(&_8x8P);
            frameTransform.swallow(&_8x8B);
@@ -152,15 +152,76 @@
            frameTransform.swallow(&_4x4I);
           
            diaElemUInteger  bframe(PX(MaxBFrame),QT_TR_NOOP("Max. Consecutive"),0, 16);
-           diaElemFrame frameB(QT_TR_NOOP("B Frames"));
+		   diaElemInteger  bias(PX(Bias),QT_TR_NOOP("Bias"), -100, 100);
+		   diaElemToggle    reference(PX(BasReference),QT_TR_NOOP("Use as Reference"));
+		   diaElemToggle    bidirMe(PX(BidirME),QT_TR_NOOP("Bidirectional ME"));
+		   diaElemToggle    adaptativeDct(PX(Adaptative),QT_TR_NOOP("Adaptative DCT"));
+		   diaElemToggle    weighted(PX(Weighted),QT_TR_NOOP("Weighted Biprediction"));
+           diaMenuEntry directModeOptions[] = {
+                  {0,   QT_TR_NOOP("None")}
+                ,{1,    QT_TR_NOOP("Spatial")}
+                ,{2,    QT_TR_NOOP("Temporal")}
+				,{3,    QT_TR_NOOP("Auto")}};
+           
+		   diaElemMenu directMode(PX(DirectMode),QT_TR_NOOP("Direct Mode"),4,directModeOptions);
+           diaElemFrame frameB(QT_TR_NOOP("B-Frames"));
            frameB.swallow(&bframe);
+		   frameB.swallow(&bias);
+		   frameB.swallow(&reference);
+		   frameB.swallow(&bidirMe);
+		   frameB.swallow(&adaptativeDct);
+		   frameB.swallow(&weighted);
+		   frameB.swallow(&directMode);
            
-            diaElem *bfr[]={&frameTransform,&frameB};
-          diaElemTabs tabTransform(QT_TR_NOOP("Transform"),2,bfr);
+		   diaElem *bfr[]={&frameTransform,&frameB};
+		   diaElemTabs tabTransform(QT_TR_NOOP("Partitions && Frames"),2,bfr);
+
+		  // Rate control tab
+		  diaElemUInteger  keyframeBoost(PX(KeyframeBoost),QT_TR_NOOP("Keyframe Boost (%)"), 0, 100);
+		  diaElemUInteger  bframeReduction(PX(BframeReduction),QT_TR_NOOP("B-frame Reduction (%)"), 0, 100);
+		  diaElemUInteger  bitrateVar(PX(BitrateVariability),QT_TR_NOOP("Bitrate Variability (%)"), 0, 100);
+		  diaElemFrame frameBitrate(QT_TR_NOOP("Bitrate"));
+
+		  frameBitrate.swallow(&keyframeBoost);
+		  frameBitrate.swallow(&bframeReduction);
+		  frameBitrate.swallow(&bitrateVar);
+
+		  diaElemUInteger  minQp(PX(MinQp),QT_TR_NOOP("Min QP"), 10, 51);
+		  diaElemUInteger  maxQp(PX(MaxQp),QT_TR_NOOP("Max QP"), 10, 51);
+		  diaElemUInteger  maxQpStep(PX(QpStep),QT_TR_NOOP("Max QP Step"), 0, 10);
+		  diaElemFrame frameQuantLimits(QT_TR_NOOP("Quantisation Limits"));
+
+		  frameQuantLimits.swallow(&minQp);
+		  frameQuantLimits.swallow(&maxQp);
+		  frameQuantLimits.swallow(&maxQpStep);
+
+		  diaElemUInteger  sceneCut(PX(SceneCut),QT_TR_NOOP("Scene Cut Threshold"), 0, 100);
+		  diaElemUInteger  minIdr(PX(MinIdr),QT_TR_NOOP("Min IDR Frame Interval"), 0, 100);
+		  diaElemUInteger  maxIdr(PX(MaxIdr),QT_TR_NOOP("Max IDR Frame Interval"), 1, 1000);
+		  diaElemFrame frameMoreRate(QT_TR_NOOP("More Rate Settings"));
+
+		  frameMoreRate.swallow(&sceneCut);
+		  frameMoreRate.swallow(&minIdr);
+		  frameMoreRate.swallow(&maxIdr);
+
+		  diaElem *rateControl[]={&frameBitrate,&frameQuantLimits,&frameMoreRate};
+		  diaElemTabs tabRateControl(QT_TR_NOOP("Rate Control"),3,rateControl);
+
+		  diaElemUInteger  maxLocalBitrate(PX(vbv_max_bitrate),QT_TR_NOOP("Maximum Local Bitrate"), 0, 99999);
+		  diaElemUInteger  vbvBuffer(PX(vbv_buffer_size),QT_TR_NOOP("VBV Buffer Size"), 0, 99999);
+		  diaElemUInteger  initVbvBuffer(PX(vbv_buffer_init),QT_TR_NOOP("Initial VBV Buffer (%)"), 0, 100);
+		  diaElemFrame frameVbv(QT_TR_NOOP("Video Buffer Verifier"));
+
+		  frameVbv.swallow(&maxLocalBitrate);
+		  frameVbv.swallow(&vbvBuffer);
+		  frameVbv.swallow(&initVbvBuffer);
+
+		  diaElem *vbv[]={&frameVbv};
+		  diaElemTabs tabVbv(QT_TR_NOOP("VBV"),1,vbv);
            
           /* End of tabs */
-        diaElemTabs *tabs[4]={&tabMain,&tabMotion,&tabMisc,&tabTransform};
-        if( diaFactoryRunTabs(QT_TR_NOOP("x264 Configuration"),4,tabs))
+        diaElemTabs *tabs[6]={&tabMain,&tabMotion,&tabMisc,&tabTransform,&tabRateControl,&tabVbv};
+        if( diaFactoryRunTabs(QT_TR_NOOP("x264 Configuration"),6,tabs))
 	{
            memcpy(config->extraSettings,&localParam,sizeof(localParam));
            return 1;



From gruntster at mail.berlios.de  Mon Sep 22 23:49:22 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 22 Sep 2008 23:49:22 +0200
Subject: [Avidemux-svn-commit] r4400 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_QT4/ADM_dialog ADM_QT4/ADM_dialogFactory ADM_commonUI
Message-ID: <200809222149.m8MLnMgD010890@sheep.berlios.de>

Author: gruntster
Date: 2008-09-22 23:49:16 +0200 (Mon, 22 Sep 2008)
New Revision: 4400

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_aspectRatio.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
Log:
[Qt] add PAR to Xvid config dialog

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp	2008-09-22 20:33:41 UTC (rev 4399)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_xvid4.cpp	2008-09-22 21:49:16 UTC (rev 4400)
@@ -51,8 +51,17 @@
         MKTOGGLE(QT_TR_NOOP("_Greyscale"),         greyscale);
         MKTOGGLE(QT_TR_NOOP("Turbo mode"),      turbo);
         MKTOGGLE(QT_TR_NOOP("C_hroma optimizer"),         chroma_opt);
-        diaElem *main[]={&bitrate,&t_interlaced,&t_cartoon,&t_greyscale,&t_turbo,&t_chroma_opt};
-        diaElemTabs tabMain(QT_TR_NOOP("Main"),6,main);
+
+		diaElemToggle    parAsInput(PX(par_as_input), QT_TR_NOOP("As Input"));
+		diaElemAspectRatio  par(PX(par_width), PX(par_height), QT_TR_NOOP("Aspect Ratio:"));
+		diaElemFrame  framePar(QT_TR_NOOP("Pixel Aspect Ratio"));
+		
+		parAsInput.link(0, &par);
+		framePar.swallow(&parAsInput);
+		framePar.swallow(&par);
+
+        diaElem *main[]={&bitrate,&t_interlaced,&t_cartoon,&t_greyscale,&t_turbo,&t_chroma_opt,&framePar};
+        diaElemTabs tabMain(QT_TR_NOOP("Main"),7,main);
          /* Tab 2 motion */
          diaMenuEntry motionMenu[] = {
                              {0,       QT_TR_NOOP("None"),NULL}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/CMakeLists.txt	2008-09-22 20:33:41 UTC (rev 4399)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/CMakeLists.txt	2008-09-22 21:49:16 UTC (rev 4400)
@@ -18,7 +18,7 @@
 SET(${ADM_LIB}_SRCS
 FAC_bar.cpp    FAC_frame.cpp  FAC_integer.cpp  FAC_notch.cpp         
 FAC_float.cpp  FAC_hex.cpp    FAC_readOnlyText.cpp
-FAC_matrix.cpp
+FAC_matrix.cpp FAC_aspectRatio.cpp
 )
 
 ################################

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_aspectRatio.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_aspectRatio.cpp	2008-09-22 20:33:41 UTC (rev 4399)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_aspectRatio.cpp	2008-09-22 21:49:16 UTC (rev 4400)
@@ -0,0 +1,97 @@
+/***************************************************************************
+  FAC_aspectRatio.cpp
+  Handle dialog factory element : Aspect Ratio
+  (C) 2008 Gruntster
+***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include "config.h"
+
+#include <QDialog>
+#include <QSpinBox>
+#include <QGridLayout>
+#include <QLabel>
+
+#include "default.h"
+#include "ADM_commonUI/DIA_factory.h"
+#include "ADM_assert.h"
+#include "dialogFactoryQt4.h"
+
+extern const char *shortkey(const char *);
+
+diaElemAspectRatio::diaElemAspectRatio(uint32_t *num, uint32_t *den, const char *title, const char *tip) : diaElem(ELEM_TOGGLE)
+{
+	param = (void *)num;
+	this->den = den;
+	paramTitle = shortkey(title);
+	this->tip = tip;
+}
+
+diaElemAspectRatio::~diaElemAspectRatio()
+{
+	if(paramTitle)
+		delete paramTitle;
+}
+
+void diaElemAspectRatio::setMe(void *dialog, void *opaque, uint32_t line)
+{
+	QLabel *text = new QLabel(QString::fromUtf8(paramTitle));
+	QSpinBox *numBox = new QSpinBox();
+	QLabel *label = new QLabel(":");
+	QSpinBox *denBox = new QSpinBox();
+	QGridLayout *layout = (QGridLayout*) opaque;
+	QHBoxLayout *hboxLayout = new QHBoxLayout();
+
+	myWidget = (void*)numBox;
+	this->label = (void*)label;
+	this->denControl = (void*)denBox;
+
+	text->setSizePolicy(QSizePolicy::Fixed, QSizePolicy::Fixed);
+	text->setBuddy(numBox);
+
+	numBox->setMinimum(1);
+	numBox->setMaximum(255);
+
+	denBox->setMinimum(1);
+	denBox->setMaximum(255);
+
+	numBox->setValue(*(uint32_t*)param);
+	denBox->setValue(*(uint32_t*)den);
+
+	QSpacerItem *spacer = new QSpacerItem(20, 20, QSizePolicy::Expanding, QSizePolicy::Minimum);
+
+	hboxLayout->addWidget(numBox);
+	hboxLayout->addWidget(label);
+	hboxLayout->addWidget(denBox);
+	hboxLayout->addItem(spacer);
+
+	layout->addWidget(text,line,0);
+	layout->addLayout(hboxLayout,line,1);
+}
+
+void diaElemAspectRatio::getMe(void)
+{
+	*(uint32_t*)param = ((QSpinBox*)myWidget)->value();
+	*(uint32_t*)den = ((QSpinBox*)denControl)->value();
+}
+
+void diaElemAspectRatio::enable(uint32_t onoff) 
+{
+	QSpinBox *numBox = (QSpinBox*)myWidget;
+	QSpinBox *denBox = (QSpinBox*)denControl;
+	QLabel *label = (QLabel*)this->label;
+
+	numBox->setEnabled(onoff);
+	denBox->setEnabled(onoff);
+	label->setEnabled(onoff);
+}
+
+int diaElemAspectRatio::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/Makefile.am	2008-09-22 20:33:41 UTC (rev 4399)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/Makefile.am	2008-09-22 21:49:16 UTC (rev 4400)
@@ -7,7 +7,7 @@
 AT_filesel.cpp AT_bitrate.cpp AT_threadCount.cpp \
 AT_button.cpp \
 AT_slider.cpp \
-FAC_bar.cpp FAC_readOnlyText.cpp FAC_notch.cpp FAC_frame.cpp FAC_hex.cpp FAC_matrix.cpp
+FAC_bar.cpp FAC_readOnlyText.cpp FAC_notch.cpp FAC_frame.cpp FAC_hex.cpp FAC_matrix.cpp FAC_aspectRatio.cpp
 
 
 INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2008-09-22 20:33:41 UTC (rev 4399)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2008-09-22 21:49:16 UTC (rev 4400)
@@ -474,6 +474,21 @@
   void getMe(void);
   int getRequiredLayout(void);
 };
+/**********************************************/
+class diaElemAspectRatio : public diaElem
+{
+public:
+	uint32_t *den;
+	void *denControl, *label;
+
+	diaElemAspectRatio(uint32_t *num, uint32_t *den, const char *title, const char *tip = NULL);
+	virtual ~diaElemAspectRatio();
+	void setMe(void *dialog, void *opaque, uint32_t line);
+	void getMe(void);
+	void enable(uint32_t onoff);
+	int getRequiredLayout(void);
+};
+
 /*********************************************/
 uint8_t diaFactoryRun(const char *title,uint32_t nb,diaElem **elems);
 uint8_t diaFactoryRunTabs(const char *title,uint32_t nb,diaElemTabs **tabs);



From gruntster at mail.berlios.de  Tue Sep 23 01:07:45 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Tue, 23 Sep 2008 01:07:45 +0200
Subject: [Avidemux-svn-commit] r4401 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory
Message-ID: <200809222307.m8MN7jn9027817@sheep.berlios.de>

Author: gruntster
Date: 2008-09-23 01:07:39 +0200 (Tue, 23 Sep 2008)
New Revision: 4401

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_float.cpp
Log:
[Qt] set decimals and step increment for dialogFactory's float element

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_float.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_float.cpp	2008-09-22 21:49:16 UTC (rev 4400)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_float.cpp	2008-09-22 23:07:39 UTC (rev 4401)
@@ -59,6 +59,8 @@
    
  box->setMinimum(min);
  box->setMaximum(max);
+ box->setDecimals(2);
+ box->setSingleStep(0.1);
  box->setValue(*(ELEM_TYPE_FLOAT *)param);
  
  QLabel *text=new QLabel( QString::fromUtf8(this->paramTitle),(QWidget *)dialog);



From gruntster at mail.berlios.de  Tue Sep 23 01:17:58 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Tue, 23 Sep 2008 01:17:58 +0200
Subject: [Avidemux-svn-commit] r4402 - in
	branches/avidemux_2.4_branch/avidemux: ADM_audiofilter
	ADM_codecs ADM_encoder ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200809222317.m8MNHw3V004837@sheep.berlios.de>

Author: gruntster
Date: 2008-09-23 01:17:51 +0200 (Tue, 23 Sep 2008)
New Revision: 4402

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_lame.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264param.h
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/ADM_encCodecDesc.h
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp
Log:
[Qt] add a couple more extra settings to x264 config dialog

Modified: branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_lame.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_lame.cpp	2008-09-22 23:07:39 UTC (rev 4401)
+++ branches/avidemux_2.4_branch/avidemux/ADM_audiofilter/audioencoder_lame.cpp	2008-09-22 23:17:51 UTC (rev 4402)
@@ -249,7 +249,7 @@
     
     
     diaElemUInteger quality(PX(quality),QT_TR_NOOP("_Quality:"),0,9);
-    diaElemToggle reservoir(PX(disableReservoir),QT_TR_NOOP("_Disable reservoir:"));
+    diaElemToggle reservoir(PX(disableReservoir),QT_TR_NOOP("_Disable reservoir"));
   
       diaElem *elems[]={&menuMode,&Mode,&quality,&bitrate,&reservoir};
     

Modified: branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264.cpp	2008-09-22 23:07:39 UTC (rev 4401)
+++ branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264.cpp	2008-09-22 23:17:51 UTC (rev 4402)
@@ -144,6 +144,11 @@
   MKPARAM(analyse.b_transform_8x8,_8x8);
   MKPARAM(analyse.b_mixed_references,MixedRefs);
   MKPARAM(analyse.i_noise_reduction,NoiseReduction);
+
+#if X264_BUILD >= 62
+  MKPARAM(rc.i_aq_mode, AqMode);
+  MKPARAMF(rc.f_aq_strength, AqStrength);
+#endif
   
 #define MES(x,y) if(zparam->x) {param.analyse.inter |=X264_ANALYSE_##y;printf("[x264] "#x" is on\n");}
   param.analyse.inter=0;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264param.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264param.h	2008-09-22 23:07:39 UTC (rev 4401)
+++ branches/avidemux_2.4_branch/avidemux/ADM_codecs/ADM_x264param.h	2008-09-22 23:17:51 UTC (rev 4402)
@@ -71,6 +71,8 @@
   uint32_t vbv_buffer_size;
   uint32_t vbv_buffer_init; /* In % to be translated to float between 0 and 1 */
 
+  uint32_t AqMode;
+  uint32_t AqStrength;
 } ADM_x264Param;
 
 #endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/ADM_encCodecDesc.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/ADM_encCodecDesc.h	2008-09-22 23:07:39 UTC (rev 4401)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/ADM_encCodecDesc.h	2008-09-22 23:17:51 UTC (rev 4402)
@@ -762,8 +762,9 @@
 0,   //interlaced;
 0,    // vbv_max_bitrate;
 0,  // vbv_buffer_size;
-90  // vbv_buffer_init;
-
+90,  // vbv_buffer_init;
+1,	// AqMode
+100 // AqStrength
 };
 /**************************************/
 ADM_x264Param x264ExtraPSP = {
@@ -820,7 +821,9 @@
 0,   //interlaced;
 0,    // vbv_max_bitrate;
 0,  // vbv_buffer_size;
-90  // vbv_buffer_init;
+90,  // vbv_buffer_init;
+1,	// AqMode
+100 // AqStrength
 };
 /**************************************/
 ADM_x264Param x264ExtraDefault=x264Extra;

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp	2008-09-22 23:07:39 UTC (rev 4401)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp	2008-09-22 23:17:51 UTC (rev 4402)
@@ -37,11 +37,15 @@
 int b;
 int ret=0;
 int code;
+float AqStrength;
+
       ADM_x264Param localParam;
       ADM_assert(config->extraSettingsLen==sizeof(localParam));
       memcpy(&localParam,config->extraSettings,sizeof(localParam));
 #define PX(x) &(localParam.x)
-         
+
+	  AqStrength = localParam.AqStrength;
+	  AqStrength /= 100;
       
       // Our tabs
          /* Tab 1 main */
@@ -132,9 +136,31 @@
           frameMisc.swallow(&deblock);
           frameMisc.swallow(&deblockStrength);
           frameMisc.swallow(&deblockThreshold);
-            
-           diaElem *misc[]={&frameMisc};
-          diaElemTabs tabMisc(QT_TR_NOOP("Misc"),1,misc);
+
+#if X264_BUILD >= 62
+		  diaElemFrame  frameAq(QT_TR_NOOP("Adaptive Quantisation"));
+
+		  diaElemToggle    aq(PX(AqMode),QT_TR_NOOP("Variance AQ"));
+		  diaElemFloat  aqStrength(&AqStrength,QT_TR_NOOP("Strength"),0.5,1.5);
+		  aq.link(1, &aqStrength);
+
+		  frameAq.swallow(&aq);
+		  frameAq.swallow(&aqStrength);
+#endif
+
+		  diaElem *misc[]={&frameMisc
+#if X264_BUILD >= 62
+			  , &frameAq
+#endif
+		  };
+
+          diaElemTabs tabMisc(QT_TR_NOOP("Misc"),
+#if X264_BUILD >= 62
+			  2
+#else
+			  1
+#endif
+			  ,misc);
         /* Tab 4 Partition & frame*/
          
              diaElemToggle    _8x8(PX(_8x8),QT_TR_NOOP("8x8 Transform"));
@@ -155,8 +181,23 @@
 		   diaElemInteger  bias(PX(Bias),QT_TR_NOOP("Bias"), -100, 100);
 		   diaElemToggle    reference(PX(BasReference),QT_TR_NOOP("Use as Reference"));
 		   diaElemToggle    bidirMe(PX(BidirME),QT_TR_NOOP("Bidirectional ME"));
-		   diaElemToggle    adaptativeDct(PX(Adaptative),QT_TR_NOOP("Adaptative DCT"));
 		   diaElemToggle    weighted(PX(Weighted),QT_TR_NOOP("Weighted Biprediction"));
+
+         diaMenuEntry bframeAdapt[] = {
+                             {0,    QT_TR_NOOP("Disabled")},
+                             {1,    QT_TR_NOOP("Fast")}
+#if X264_BUILD >= 63
+							 ,{2,    QT_TR_NOOP("Optimal")}
+#endif
+							 };
+		 diaElemMenu      adaptativeDct(PX(Adaptative),QT_TR_NOOP("Adaptive DCT"),
+#if X264_BUILD >= 63
+			 3
+#else
+			 2
+#endif
+			 , bframeAdapt);
+
            diaMenuEntry directModeOptions[] = {
                   {0,   QT_TR_NOOP("None")}
                 ,{1,    QT_TR_NOOP("Spatial")}
@@ -169,8 +210,8 @@
 		   frameB.swallow(&bias);
 		   frameB.swallow(&reference);
 		   frameB.swallow(&bidirMe);
+		   frameB.swallow(&weighted);
 		   frameB.swallow(&adaptativeDct);
-		   frameB.swallow(&weighted);
 		   frameB.swallow(&directMode);
            
 		   diaElem *bfr[]={&frameTransform,&frameB};
@@ -223,6 +264,8 @@
         diaElemTabs *tabs[6]={&tabMain,&tabMotion,&tabMisc,&tabTransform,&tabRateControl,&tabVbv};
         if( diaFactoryRunTabs(QT_TR_NOOP("x264 Configuration"),6,tabs))
 	{
+		localParam.AqStrength = floor((AqStrength * 100) + 0.49);
+
            memcpy(config->extraSettings,&localParam,sizeof(localParam));
            return 1;
         }



From gruntster at mail.berlios.de  Tue Sep 23 03:59:36 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Tue, 23 Sep 2008 03:59:36 +0200
Subject: [Avidemux-svn-commit] r4403 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4:
	ADM_dialog ADM_dialogFactory
Message-ID: <200809230159.m8N1xaRx003331@sheep.berlios.de>

Author: gruntster
Date: 2008-09-23 03:59:26 +0200 (Tue, 23 Sep 2008)
New Revision: 4403

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp
Log:
[Qt] fix CRF mode and Partition Decision on x264 config dialog

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp	2008-09-22 23:17:51 UTC (rev 4402)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp	2008-09-23 01:59:26 UTC (rev 4403)
@@ -65,12 +65,12 @@
                 ,{3,    QT_TR_NOOP("4  - Medium")}
                 ,{4,    QT_TR_NOOP("5  - High (Default)")}
                 ,{5,    QT_TR_NOOP("6  - Very High")}
-                ,{6,    QT_TR_NOOP("6B - Very High (RDO on Bframes)")}
+                ,{6,    QT_TR_NOOP("6B - Very High (RDO on B-frames)")}
                 ,{7,    QT_TR_NOOP("7  - Ultra High")}
-                ,{8,    QT_TR_NOOP("7B - Ultra High (RDO on Bframes)")}};
+                ,{8,    QT_TR_NOOP("7B - Ultra High (RDO on B-frames)")}};
 
                             
-        diaElemMenu parition(PX(PartitionDecision),QT_TR_NOOP("Partition Decision"),10,partitionM);
+        diaElemMenu parition(PX(PartitionDecision),QT_TR_NOOP("Partition Decision"),9,partitionM);
         
          diaMenuEntry meM[] = {
                              {0,    QT_TR_NOOP("Diamond Search")},
@@ -131,8 +131,8 @@
           
           diaElemFrame  frameMisc(QT_TR_NOOP("Misc"));
           frameMisc.swallow(&trellis);
+		  frameMisc.swallow(&noise);
           frameMisc.swallow(&cabac);
-          frameMisc.swallow(&noise);
           frameMisc.swallow(&deblock);
           frameMisc.swallow(&deblockStrength);
           frameMisc.swallow(&deblockThreshold);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp	2008-09-22 23:17:51 UTC (rev 4402)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_bitrate.cpp	2008-09-23 01:59:26 UTC (rev 4403)
@@ -66,9 +66,9 @@
 						index++;}
   
   add(CBR,CBR,QT_TR_NOOP("Constant Bitrate"));
-  add(CQ,CQ,QT_TR_NOOP("Constant Quality"));
-  add(SAME,SAME,QT_TR_NOOP("Same Quantizer as Input"));
-  add(AQ,AQ,QT_TR_NOOP("Average Quantizer"));
+  add(CQ,CQ,QT_TR_NOOP("Constant Quantiser"));
+  add(SAME,SAME,QT_TR_NOOP("Same Quantiser as Input"));
+  add(AQ,AQ,QT_TR_NOOP("Constant Rate Factor"));
   add(2PASS,2PASS,QT_TR_NOOP("Two Pass - Video Size"));
   add(2PASS_BR,2PASS_BITRATE,QT_TR_NOOP("Two Pass - Average Bitrate"));
   
@@ -150,7 +150,7 @@
     case COMPRESS_2PASS: Mx(COMPRESS_2PASS);Vx(finalsize);break;
     case COMPRESS_2PASS_BITRATE: Mx(COMPRESS_2PASS_BITRATE);Vx(avg_bitrate);break;
     case COMPRESS_SAME: Mx(COMPRESS_SAME);break;
-    case COMPRESS_AQ: Mx(COMPRESS_AQ);break;
+    case COMPRESS_AQ: Mx(COMPRESS_AQ);Vx(qz);break;
     default :
           ADM_assert(0);
   }



From gruntster at mail.berlios.de  Wed Sep 24 02:43:45 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Wed, 24 Sep 2008 02:43:45 +0200
Subject: [Avidemux-svn-commit] r4404 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK ADM_NONE ADM_QT4 ADM_QT4/ADM_gui ADM_commonUI
Message-ID: <200809240043.m8O0hjAX027819@sheep.berlios.de>

Author: gruntster
Date: 2008-09-24 02:43:30 +0200 (Wed, 24 Sep 2008)
New Revision: 4404

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ui_support.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ui_support.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp
Log:
[Qt] report Qt renderer in prefs (rather than reporting GTK+)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ui_support.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ui_support.cpp	2008-09-23 01:59:26 UTC (rev 4403)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ui_support.cpp	2008-09-24 00:43:30 UTC (rev 4404)
@@ -2,6 +2,7 @@
 #include <gtk/gtk.h>
 
 #include "config.h"
+#include "default.h"
 
 #ifdef HAVE_GETTEXT
 #include <libintl.h>
@@ -30,3 +31,8 @@
 {
 	sprintf(desc, "GTK+ (%i.%i.%i)", gtk_major_version, gtk_minor_version, gtk_micro_version);
 }
+
+const char* getNativeRendererDesc(void)
+{
+	return QT_TR_NOOP("GTK+");
+}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ui_support.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ui_support.cpp	2008-09-23 01:59:26 UTC (rev 4403)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ui_support.cpp	2008-09-24 00:43:30 UTC (rev 4404)
@@ -28,3 +28,8 @@
 {
 	sprintf(desc, "CLI");
 }
+
+const char* getNativeRendererDesc(void)
+{
+	return "";
+}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-23 01:59:26 UTC (rev 4403)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-24 00:43:30 UTC (rev 4404)
@@ -46,41 +46,41 @@
  ColYuvRgb rgbConverter(640,480,1);
 extern void UI_purge( void );
 
-static Ui_previewWindow *previewWindow = NULL;
-
-void DIA_previewInit(uint32_t width, uint32_t height)
-{
-	previewWindow = new Ui_previewWindow(QuiMainWindows, width, height);
-	previewWindow->show();
-}
-
-uint8_t DIA_previewStillAlive(void)
-{
-	return (previewWindow != NULL);
-}
-
-uint8_t DIA_previewUpdate(uint8_t *buffer)
-{
-	if (previewWindow)
-	{
-		previewWindow->update(buffer);
-
-		return 1;
-	}
-
-	return 0;
-}
-
-void DIA_previewEnd(void)
-{
-	if (previewWindow)
-	{
-		delete previewWindow;
-		previewWindow = NULL;
-	}
-}
+static Ui_previewWindow *previewWindow = NULL;
 
+void DIA_previewInit(uint32_t width, uint32_t height)
+{
+	previewWindow = new Ui_previewWindow(QuiMainWindows, width, height);
+	previewWindow->show();
+}
 
+uint8_t DIA_previewStillAlive(void)
+{
+	return (previewWindow != NULL);
+}
+
+uint8_t DIA_previewUpdate(uint8_t *buffer)
+{
+	if (previewWindow)
+	{
+		previewWindow->update(buffer);
+
+		return 1;
+	}
+
+	return 0;
+}
+
+void DIA_previewEnd(void)
+{
+	if (previewWindow)
+	{
+		delete previewWindow;
+		previewWindow = NULL;
+	}
+}
+
+
 //****************************************************************************************************
 /*
   Function to display
@@ -97,6 +97,8 @@
   It is a base QWidget where the image will be put by painter.
 
 */
+int paintEngineType = -1;
+
 class  ADM_Qvideo : public QWidget
 {
 	Q_OBJECT
@@ -111,6 +113,16 @@
 	*/
 	void paintEvent(QPaintEvent *ev)
 	{
+		if (paintEngineType == -1)
+		{
+			QPainter painter(this);
+
+			if (painter.isActive())
+				paintEngineType = painter.paintEngine()->type();
+
+			painter.end();
+		}
+
 		if(!displayW || !displayH || !rgbDataBuffer || accelRender)
 			return ;
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp	2008-09-23 01:59:26 UTC (rev 4403)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp	2008-09-24 00:43:30 UTC (rev 4404)
@@ -2,7 +2,10 @@
 
 #include <QApplication>
 #include <QtCore>
+#include <QtGui>
 
+#include "default.h"
+
 #define MAX_UNLOADED_MSG_LENGTH 400
 static QTranslator qtTranslator;
 static QTranslator avidemuxTranslator;
@@ -106,3 +109,26 @@
 {
 	sprintf(desc, "Qt (%s)", qVersion());
 }
+
+extern int paintEngineType;
+
+const char* getNativeRendererDesc(void)
+{
+	switch (paintEngineType)
+	{
+	case QPaintEngine::X11:
+		return QT_TR_NOOP("Qt (X11)");
+	case QPaintEngine::Windows:
+		return QT_TR_NOOP("Qt (MS Windows GDI)");
+	case QPaintEngine::CoreGraphics:
+		return QT_TR_NOOP("Qt (Mac OS X Quartz 2D)");
+	case QPaintEngine::QuickDraw:
+		return QT_TR_NOOP("Qt (Mac OS X QuickDraw)");
+	case QPaintEngine::OpenGL:
+		return QT_TR_NOOP("Qt (OpenGL)");
+	case QPaintEngine::Raster:
+		return QT_TR_NOOP("Qt (Default Raster)");
+	}
+
+	return "Qt";
+}

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp	2008-09-23 01:59:26 UTC (rev 4403)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp	2008-09-24 00:43:30 UTC (rev 4404)
@@ -36,6 +36,7 @@
 #endif
 
 extern void 		AVDM_audioPref( void );
+extern const char* getNativeRendererDesc();
 
 
 // FIXME
@@ -257,16 +258,15 @@
         diaElemUInteger autoSplit(&autosplit,QT_TR_NOOP("_Split MPEG files every (MB):"),10,4096);
         
         diaElemToggle   togTagMp3(&alternate_mp3_tag,QT_TR_NOOP("_Use alternative tag for MP3 in .mp4"));
-        
         diaMenuEntry videoMode[]={
-                             {RENDER_GTK,      QT_TR_NOOP("GTK+ (slow)"),NULL}
+                             {RENDER_GTK, getNativeRendererDesc(), NULL}
 #ifdef USE_XV
                              ,{RENDER_XV,   QT_TR_NOOP("XVideo (best)"),NULL}
 #endif
 #ifdef USE_SDL
 #ifdef ADM_WIN32
-                             ,{RENDER_SDL,      QT_TR_NOOP("SDL (GDI)"),NULL}
-							 ,{RENDER_DIRECTX,      QT_TR_NOOP("SDL (DirectX)"),NULL}
+                             ,{RENDER_SDL,      QT_TR_NOOP("SDL (MS Windows GDI)"),NULL}
+							 ,{RENDER_DIRECTX,      QT_TR_NOOP("SDL (MS Windows DirectX)"),NULL}
 #else
 							 ,{RENDER_SDL,      QT_TR_NOOP("SDL (good)"),NULL}
 #endif



From gruntster at mail.berlios.de  Wed Sep 24 03:09:54 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Wed, 24 Sep 2008 03:09:54 +0200
Subject: [Avidemux-svn-commit] r4405 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4:
	. ADM_gui
Message-ID: <200809240109.m8O19sL2030016@sheep.berlios.de>

Author: gruntster
Date: 2008-09-24 03:09:49 +0200 (Wed, 24 Sep 2008)
New Revision: 4405

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp
Log:
[Qt] enable Direct3D support on Win32 if Qt libs support it (Trolltech's pre-built libs don't)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-24 00:43:30 UTC (rev 4404)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-24 01:09:49 UTC (rev 4405)
@@ -104,7 +104,13 @@
 	Q_OBJECT
     
 public:
-	ADM_Qvideo(QWidget *z) : QWidget(z) {};
+	ADM_Qvideo(QWidget *z) : QWidget(z)
+	{
+#if QT_VERSION >= 0x040400
+		setAttribute(Qt::WA_MSWindowsUseDirect3D, true);
+#endif
+	};
+
 	~ADM_Qvideo() {};
 
 	/**

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp	2008-09-24 00:43:30 UTC (rev 4404)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ui_support.cpp	2008-09-24 01:09:49 UTC (rev 4405)
@@ -126,6 +126,10 @@
 		return QT_TR_NOOP("Qt (Mac OS X QuickDraw)");
 	case QPaintEngine::OpenGL:
 		return QT_TR_NOOP("Qt (OpenGL)");
+#if QT_VERSION >= 0x040400
+	case QPaintEngine::Direct3D:
+		return QT_TR_NOOP("Qt (MS Windows Direct3D)");
+#endif
 	case QPaintEngine::Raster:
 		return QT_TR_NOOP("Qt (Default Raster)");
 	}



From gruntster at mail.berlios.de  Thu Sep 25 00:45:07 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Thu, 25 Sep 2008 00:45:07 +0200
Subject: [Avidemux-svn-commit] r4406 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200809242245.m8OMj7l3006435@sheep.berlios.de>

Author: gruntster
Date: 2008-09-25 00:44:53 +0200 (Thu, 25 Sep 2008)
New Revision: 4406

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/about.ui
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/calculator.ui
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/license.ui
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/props.ui
Log:
[Qt] use a ButtonBox on various dialogs

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/about.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/about.ui	2008-09-24 01:09:49 UTC (rev 4405)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/about.ui	2008-09-24 22:44:53 UTC (rev 4406)
@@ -1,7 +1,4 @@
 <ui version="4.0" >
- <author></author>
- <comment></comment>
- <exportmacro></exportmacro>
  <class>aboutDialog</class>
  <widget class="QDialog" name="aboutDialog" >
   <property name="geometry" >
@@ -161,7 +158,7 @@
      <property name="sizeHint" >
       <size>
        <width>20</width>
-       <height>5</height>
+       <height>16</height>
       </size>
      </property>
     </spacer>
@@ -195,12 +192,12 @@
       </spacer>
      </item>
      <item>
-      <widget class="QPushButton" name="okButton" >
-       <property name="text" >
-        <string>OK</string>
+      <widget class="QDialogButtonBox" name="buttonBox" >
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
        </property>
-       <property name="default" >
-        <bool>true</bool>
+       <property name="standardButtons" >
+        <set>QDialogButtonBox::Ok</set>
        </property>
       </widget>
      </item>
@@ -208,9 +205,8 @@
    </item>
   </layout>
  </widget>
- <pixmapfunction></pixmapfunction>
  <tabstops>
-  <tabstop>okButton</tabstop>
+  <tabstop>buttonBox</tabstop>
   <tabstop>licenseButton</tabstop>
  </tabstops>
  <resources>
@@ -218,18 +214,18 @@
  </resources>
  <connections>
   <connection>
-   <sender>okButton</sender>
-   <signal>clicked()</signal>
+   <sender>buttonBox</sender>
+   <signal>accepted()</signal>
    <receiver>aboutDialog</receiver>
    <slot>accept()</slot>
    <hints>
     <hint type="sourcelabel" >
-     <x>278</x>
-     <y>253</y>
+     <x>304</x>
+     <y>237</y>
     </hint>
     <hint type="destinationlabel" >
-     <x>96</x>
-     <y>254</y>
+     <x>193</x>
+     <y>145</y>
     </hint>
    </hints>
   </connection>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/calculator.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/calculator.ui	2008-09-24 01:09:49 UTC (rev 4405)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/calculator.ui	2008-09-24 22:44:53 UTC (rev 4406)
@@ -1,15 +1,12 @@
 <ui version="4.0" >
- <author></author>
- <comment></comment>
- <exportmacro></exportmacro>
  <class>CalculatorDialog</class>
  <widget class="QDialog" name="CalculatorDialog" >
   <property name="geometry" >
    <rect>
     <x>0</x>
     <y>0</y>
-    <width>353</width>
-    <height>299</height>
+    <width>390</width>
+    <height>314</height>
    </rect>
   </property>
   <property name="windowTitle" >
@@ -331,7 +328,7 @@
           </property>
           <property name="sizeHint" >
            <size>
-            <width>93</width>
+            <width>20</width>
             <height>20</height>
            </size>
           </property>
@@ -596,7 +593,7 @@
         </property>
         <property name="sizeHint" >
          <size>
-          <width>40</width>
+          <width>20</width>
           <height>20</height>
          </size>
         </property>
@@ -606,76 +603,64 @@
     </widget>
    </item>
    <item>
-    <layout class="QHBoxLayout" >
-     <property name="margin" >
-      <number>0</number>
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Vertical</enum>
      </property>
-     <property name="spacing" >
-      <number>6</number>
+     <property name="sizeType" >
+      <enum>QSizePolicy::Fixed</enum>
      </property>
-     <item>
-      <spacer>
-       <property name="orientation" >
-        <enum>Qt::Horizontal</enum>
-       </property>
-       <property name="sizeHint" >
-        <size>
-         <width>131</width>
-         <height>31</height>
-        </size>
-       </property>
-      </spacer>
-     </item>
-     <item>
-      <widget class="QPushButton" name="okButton" >
-       <property name="text" >
-        <string>OK</string>
-       </property>
-      </widget>
-     </item>
-     <item>
-      <widget class="QPushButton" name="cancelButton" >
-       <property name="text" >
-        <string>Cancel</string>
-       </property>
-      </widget>
-     </item>
-    </layout>
+     <property name="sizeHint" >
+      <size>
+       <width>20</width>
+       <height>16</height>
+      </size>
+     </property>
+    </spacer>
    </item>
+   <item>
+    <widget class="QDialogButtonBox" name="buttonBox" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="standardButtons" >
+      <set>QDialogButtonBox::Cancel|QDialogButtonBox::NoButton|QDialogButtonBox::Ok</set>
+     </property>
+    </widget>
+   </item>
   </layout>
  </widget>
- <pixmapfunction></pixmapfunction>
  <resources/>
  <connections>
   <connection>
-   <sender>okButton</sender>
-   <signal>clicked()</signal>
+   <sender>buttonBox</sender>
+   <signal>rejected()</signal>
    <receiver>CalculatorDialog</receiver>
-   <slot>accept()</slot>
+   <slot>reject()</slot>
    <hints>
     <hint type="sourcelabel" >
-     <x>278</x>
-     <y>253</y>
+     <x>202</x>
+     <y>321</y>
     </hint>
     <hint type="destinationlabel" >
-     <x>96</x>
-     <y>254</y>
+     <x>202</x>
+     <y>184</y>
     </hint>
    </hints>
   </connection>
   <connection>
-   <sender>cancelButton</sender>
-   <signal>clicked()</signal>
+   <sender>buttonBox</sender>
+   <signal>accepted()</signal>
    <receiver>CalculatorDialog</receiver>
-   <slot>reject()</slot>
+   <slot>accept()</slot>
    <hints>
     <hint type="sourcelabel" >
-     <x>369</x>
-     <y>253</y>
+     <x>202</x>
+     <y>321</y>
     </hint>
     <hint type="destinationlabel" >
-     <x>179</x>
-     <y>282</y>
+     <x>202</x>
+     <y>184</y>
     </hint>
    </hints>
   </connection>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/license.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/license.ui	2008-09-24 01:09:49 UTC (rev 4405)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/license.ui	2008-09-24 22:44:53 UTC (rev 4406)
@@ -1,7 +1,4 @@
 <ui version="4.0" >
- <author></author>
- <comment></comment>
- <exportmacro></exportmacro>
  <class>licenseDialog</class>
  <widget class="QDialog" name="licenseDialog" >
   <property name="geometry" >
@@ -36,53 +33,48 @@
     </widget>
    </item>
    <item>
-    <layout class="QHBoxLayout" >
-     <property name="margin" >
-      <number>0</number>
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Vertical</enum>
      </property>
-     <property name="spacing" >
-      <number>6</number>
+     <property name="sizeType" >
+      <enum>QSizePolicy::Fixed</enum>
      </property>
-     <item>
-      <spacer>
-       <property name="orientation" >
-        <enum>Qt::Horizontal</enum>
-       </property>
-       <property name="sizeHint" >
-        <size>
-         <width>131</width>
-         <height>31</height>
-        </size>
-       </property>
-      </spacer>
-     </item>
-     <item>
-      <widget class="QPushButton" name="okButton" >
-       <property name="text" >
-        <string>OK</string>
-       </property>
-      </widget>
-     </item>
-    </layout>
+     <property name="sizeHint" >
+      <size>
+       <width>20</width>
+       <height>16</height>
+      </size>
+     </property>
+    </spacer>
    </item>
+   <item>
+    <widget class="QDialogButtonBox" name="buttonBox" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="standardButtons" >
+      <set>QDialogButtonBox::Ok</set>
+     </property>
+    </widget>
+   </item>
   </layout>
  </widget>
- <pixmapfunction></pixmapfunction>
  <resources/>
  <connections>
   <connection>
-   <sender>okButton</sender>
-   <signal>clicked()</signal>
+   <sender>buttonBox</sender>
+   <signal>accepted()</signal>
    <receiver>licenseDialog</receiver>
    <slot>accept()</slot>
    <hints>
     <hint type="sourcelabel" >
-     <x>278</x>
-     <y>253</y>
+     <x>319</x>
+     <y>428</y>
     </hint>
     <hint type="destinationlabel" >
-     <x>96</x>
-     <y>254</y>
+     <x>319</x>
+     <y>238</y>
     </hint>
    </hints>
   </connection>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/props.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/props.ui	2008-09-24 01:09:49 UTC (rev 4405)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/props.ui	2008-09-24 22:44:53 UTC (rev 4406)
@@ -6,7 +6,7 @@
     <x>0</x>
     <y>0</y>
     <width>245</width>
-    <height>465</height>
+    <height>480</height>
    </rect>
   </property>
   <property name="windowTitle" >
@@ -295,24 +295,29 @@
     </widget>
    </item>
    <item>
-    <widget class="QPushButton" name="pushButton" >
-     <property name="sizePolicy" >
-      <sizepolicy>
-       <hsizetype>0</hsizetype>
-       <vsizetype>0</vsizetype>
-       <horstretch>0</horstretch>
-       <verstretch>0</verstretch>
-      </sizepolicy>
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Vertical</enum>
      </property>
-     <property name="layoutDirection" >
-      <enum>Qt::RightToLeft</enum>
+     <property name="sizeType" >
+      <enum>QSizePolicy::Fixed</enum>
      </property>
-     <property name="text" >
-      <string>OK</string>
+     <property name="sizeHint" >
+      <size>
+       <width>20</width>
+       <height>16</height>
+      </size>
      </property>
-     <property name="default" >
-      <bool>true</bool>
+    </spacer>
+   </item>
+   <item>
+    <widget class="QDialogButtonBox" name="buttonBox" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
      </property>
+     <property name="standardButtons" >
+      <set>QDialogButtonBox::Ok</set>
+     </property>
     </widget>
    </item>
   </layout>
@@ -320,18 +325,18 @@
  <resources/>
  <connections>
   <connection>
-   <sender>pushButton</sender>
-   <signal>clicked()</signal>
+   <sender>buttonBox</sender>
+   <signal>accepted()</signal>
    <receiver>Dialog</receiver>
    <slot>accept()</slot>
    <hints>
     <hint type="sourcelabel" >
-     <x>284</x>
-     <y>424</y>
+     <x>130</x>
+     <y>486</y>
     </hint>
     <hint type="destinationlabel" >
-     <x>167</x>
-     <y>252</y>
+     <x>130</x>
+     <y>267</y>
     </hint>
    </hints>
   </connection>



From gruntster at mail.berlios.de  Thu Sep 25 01:59:56 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Thu, 25 Sep 2008 01:59:56 +0200
Subject: [Avidemux-svn-commit] r4407 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui
Message-ID: <200809242359.m8ONxuNh015639@sheep.berlios.de>

Author: gruntster
Date: 2008-09-25 01:59:48 +0200 (Thu, 25 Sep 2008)
New Revision: 4407

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
Log:
[Qt] enable close button on preview window and reset preview mode when window closes

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.cpp	2008-09-24 22:44:53 UTC (rev 4406)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_preview.cpp	2008-09-24 23:59:48 UTC (rev 4407)
@@ -37,7 +37,7 @@
 	void update(uint8_t *buffer);
 };
 
-Ui_previewWindow::Ui_previewWindow(QWidget *parent, int width, int height) : QDialog(parent, Qt::WindowTitleHint)
+Ui_previewWindow::Ui_previewWindow(QWidget *parent, int width, int height) : QDialog(parent)
 {
 	ui.setupUi(this);
 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-24 22:44:53 UTC (rev 4406)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-24 23:59:48 UTC (rev 4407)
@@ -38,6 +38,7 @@
 #include "GUI_accelRender.h"
 #include "ADM_video/ADM_genvideo.hxx"
 #include "Q_preview.h"
+#include "gui_action.hxx"
 
 static QFrame *hostFrame=NULL;
 static AccelRender *accelRender=NULL;
@@ -45,12 +46,29 @@
 extern QWidget *QuiMainWindows;
  ColYuvRgb rgbConverter(640,480,1);
 extern void UI_purge( void );
+extern void UI_setCurrentPreview(int ne);
 
 static Ui_previewWindow *previewWindow = NULL;
 
+class PreviewEventReceiver : public QObject
+{
+	Q_OBJECT
+
+public slots:
+	void previewClose()
+	{
+		UI_setCurrentPreview(0);
+		HandleAction(ACT_PreviewChanged);
+	};
+};
+
+static PreviewEventReceiver *eventReceiver = NULL;
+
 void DIA_previewInit(uint32_t width, uint32_t height)
 {
+	eventReceiver = new PreviewEventReceiver;
 	previewWindow = new Ui_previewWindow(QuiMainWindows, width, height);
+	QObject::connect(previewWindow, SIGNAL(rejected()), eventReceiver, SLOT(previewClose()));
 	previewWindow->show();
 }
 
@@ -75,6 +93,7 @@
 {
 	if (previewWindow)
 	{
+		delete eventReceiver;
 		delete previewWindow;
 		previewWindow = NULL;
 	}



From gruntster at mail.berlios.de  Thu Sep 25 11:34:42 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Thu, 25 Sep 2008 11:34:42 +0200
Subject: [Avidemux-svn-commit] r4408 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200809250934.m8P9YguK028801@sheep.berlios.de>

Author: gruntster
Date: 2008-09-25 11:34:33 +0200 (Thu, 25 Sep 2008)
New Revision: 4408

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_color.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
Log:
[Qt] add colour selection dialog

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt	2008-09-24 23:59:48 UTC (rev 4407)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt	2008-09-25 09:34:33 UTC (rev 4408)
@@ -36,6 +36,7 @@
 DIA_xvid4.cpp
 OCR_none.cpp
 about_rsc.cpp
+DIA_color.cpp
 )
 
 IF(USE_FREETYPE)

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_color.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_color.cpp	2008-09-24 23:59:48 UTC (rev 4407)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_color.cpp	2008-09-25 09:34:33 UTC (rev 4408)
@@ -0,0 +1,20 @@
+#include <QtGui>
+
+#include "../ADM_toolkit/qtToolkit.h"
+
+int DIA_colorSel(uint8_t *r, uint8_t *g, uint8_t *b)
+{
+	QColor initialColor = QColor(*r, *g, *b);
+	QColor color = QColorDialog::getColor(initialColor, qtLastRegisteredDialog());
+
+	if (color.isValid())
+	{
+		*r = color.red();
+		*g = color.green();
+		*b = color.blue();
+
+		return 1;
+	}
+
+	return 0;
+}
\ No newline at end of file

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2008-09-24 23:59:48 UTC (rev 4407)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2008-09-25 09:34:33 UTC (rev 4408)
@@ -48,7 +48,6 @@
 uint8_t initFileSelector(void){return 0;}
 uint8_t initGUI( void ) {return 1;}
 void destroyGUI(void) {}
-int DIA_colorSel(uint8_t *r, uint8_t *g, uint8_t *b) {return 0;}
 uint8_t DIA_glyphEdit(void){ return 0;};
 int32_t UI_readJog(void) {return 0;}
 struct THRESHOLD_PARAM;



From gruntster at mail.berlios.de  Fri Sep 26 02:19:31 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Fri, 26 Sep 2008 02:19:31 +0200
Subject: [Avidemux-svn-commit] r4409 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory
Message-ID: <200809260019.m8Q0JVvk018919@sheep.berlios.de>

Author: gruntster
Date: 2008-09-26 02:19:22 +0200 (Fri, 26 Sep 2008)
New Revision: 4409

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_notch.cpp
Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_notch.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/CMakeLists.txt
Log:
[Qt] make dialogFactory's Notch element read-only

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/CMakeLists.txt	2008-09-25 09:34:33 UTC (rev 4408)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/CMakeLists.txt	2008-09-26 00:19:22 UTC (rev 4409)
@@ -13,10 +13,11 @@
 toggle
 threadCount
 slider
+notch
 )
 
 SET(${ADM_LIB}_SRCS
-FAC_bar.cpp    FAC_frame.cpp  FAC_integer.cpp  FAC_notch.cpp         
+FAC_bar.cpp    FAC_frame.cpp  FAC_integer.cpp
 FAC_float.cpp  FAC_hex.cpp    FAC_readOnlyText.cpp
 FAC_matrix.cpp FAC_aspectRatio.cpp
 )

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_notch.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_notch.cpp	2008-09-25 09:34:33 UTC (rev 4408)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_notch.cpp	2008-09-26 00:19:22 UTC (rev 4409)
@@ -1,63 +0,0 @@
-/***************************************************************************
-  FAC_toggle.cpp
-  Handle dialog factory element : Toggle
-  (C) 2006 Mean Fixounet at free.fr 
-***************************************************************************/
-
-/***************************************************************************
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU General Public License as published by  *
- *   the Free Software Foundation; either version 2 of the License, or     *
- *   (at your option) any later version.                                   *
- *                                                                         *
- ***************************************************************************/
-
-#include <config.h>
-
-
-#include <string.h>
-#include <stdio.h>
-#include <stdlib.h>
-#include <math.h>
-
-#include <QDialog>
-#include <QMessageBox>
-#include <QGridLayout>
-#include <QCheckBox>
-
-#include "default.h"
-#include "ADM_commonUI/DIA_factory.h"
-#include "ADM_assert.h"
-#include "dialogFactoryQt4.h"
-
-extern const char *shortkey(const char *);
-
-diaElemNotch::diaElemNotch(uint32_t yes,const char *toggleTitle, const char *tip)
-  : diaElem(ELEM_NOTCH)
-{
-  yesno=yes;
-  paramTitle=toggleTitle;
-  this->tip=tip;
-}
-
-diaElemNotch::~diaElemNotch()
-{
-  
-}
-void diaElemNotch::setMe(void *dialog, void *opaque,uint32_t line)
-{
-  QCheckBox *box=new QCheckBox(QString::fromUtf8(paramTitle),(QWidget *)dialog);
- QGridLayout *layout=(QGridLayout*) opaque;
- myWidget=(void *)box; 
- if( yesno)
- {
-    box->setCheckState(Qt::Checked); 
- }
- box->show();
- layout->addWidget(box,line,0);
-}
-
-int diaElemNotch::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
-
-//EOF

Copied: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_notch.cpp (from rev 4397, branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_notch.cpp)
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_notch.cpp	2008-09-22 14:55:17 UTC (rev 4397)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_notch.cpp	2008-09-26 00:19:22 UTC (rev 4409)
@@ -0,0 +1,84 @@
+/***************************************************************************
+  FAC_toggle.cpp
+  Handle dialog factory element : Toggle
+  (C) 2006 Mean Fixounet at free.fr 
+***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include <config.h>
+
+
+#include <string.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include <math.h>
+
+#include <QtGui>
+
+#include "default.h"
+#include "ADM_commonUI/DIA_factory.h"
+#include "ADM_assert.h"
+#include "dialogFactoryQt4.h"
+
+extern const char *shortkey(const char *);
+
+class QCheckBoxReadOnly : public QObject
+{
+	Q_OBJECT
+
+private:
+	QCheckBox *box;
+	bool state;
+
+public:
+	QCheckBoxReadOnly(QCheckBox *box, bool state)
+	{
+		this->box = box;
+		this->state = state;
+	};
+
+public slots:
+	void stateChanged(int state)
+	{
+		box->setCheckState(this->state ? Qt::Checked : Qt::Unchecked);
+	};
+};
+
+diaElemNotch::diaElemNotch(uint32_t yes,const char *toggleTitle, const char *tip)
+  : diaElem(ELEM_NOTCH)
+{
+  yesno=yes;
+  paramTitle=toggleTitle;
+  this->tip=tip;
+}
+
+diaElemNotch::~diaElemNotch()
+{
+  
+}
+void diaElemNotch::setMe(void *dialog, void *opaque,uint32_t line)
+{
+  QCheckBox *box=new QCheckBox(QString::fromUtf8(paramTitle),(QWidget *)dialog);
+  QCheckBoxReadOnly *readOnlyReceiver = new QCheckBoxReadOnly(box, yesno);
+ QGridLayout *layout=(QGridLayout*) opaque;
+ myWidget=(void *)box; 
+ if( yesno)
+ {
+    box->setCheckState(Qt::Checked); 
+ }
+
+ QObject::connect(box, SIGNAL(stateChanged(int)), readOnlyReceiver, SLOT(stateChanged(int)));
+ layout->addWidget(box,line,0);
+}
+
+int diaElemNotch::getRequiredLayout(void) { return FAC_QT_GRIDLAYOUT; }
+
+//EOF


Property changes on: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/T_notch.cpp
___________________________________________________________________
Name: svn:mergeinfo
   + 



From gruntster at mail.berlios.de  Fri Sep 26 04:43:45 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Fri, 26 Sep 2008 04:43:45 +0200
Subject: [Avidemux-svn-commit] r4410 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui
Message-ID: <200809260243.m8Q2hjMb005839@sheep.berlios.de>

Author: gruntster
Date: 2008-09-26 04:43:33 +0200 (Fri, 26 Sep 2008)
New Revision: 4410

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
Log:
[Qt] increase page step of slider on main window to improve jumping of key frames

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2008-09-26 00:19:22 UTC (rev 4409)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2008-09-26 02:43:33 UTC (rev 4410)
@@ -289,6 +289,7 @@
 	slider=ui.horizontalSlider;
 	slider->setMinimum(0);
 	slider->setMaximum(1000000000);
+	slider->setPageStep(10000000);
 	connect( slider,SIGNAL(valueChanged(int)),this,SLOT(sliderValueChanged(int)));
 	connect( slider,SIGNAL(sliderMoved(int)),this,SLOT(sliderMoved(int)));
 	connect( slider,SIGNAL(sliderReleased()),this,SLOT(sliderReleased()));



From gruntster at mail.berlios.de  Fri Sep 26 15:49:23 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Fri, 26 Sep 2008 15:49:23 +0200
Subject: [Avidemux-svn-commit] r4411 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4:
	ADM_dialog ADM_gui
Message-ID: <200809261349.m8QDnNIj018214@sheep.berlios.de>

Author: gruntster
Date: 2008-09-26 15:49:17 +0200 (Fri, 26 Sep 2008)
New Revision: 4411

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
Log:
[Qt] resize and centre flyDialogs when picture is larger than screen resolution

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp	2008-09-26 02:43:33 UTC (rev 4410)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp	2008-09-26 13:49:17 UTC (rev 4411)
@@ -14,8 +14,7 @@
 
 #include "config.h"
 
-#include <QtGui/QGraphicsView>
-#include <QtGui/QSlider>
+#include <QtGui>
 
 #include "default.h"
 #include "ADM_assert.h"
@@ -23,19 +22,61 @@
 #include "DIA_flyDialog.h"
 #include "DIA_flyDialogQt4.h"
 
+extern float UI_calcZoomToFitScreen(QWidget* window, QWidget* canvas, uint32_t imageWidth, uint32_t imageHeight);
+extern uint8_t UI_getPhysicalScreenSize(void* window, uint32_t *w, uint32_t *h);
+
+class FlyDialogEventFilter : public QObject
+{
+	Q_OBJECT
+
+	ADM_flyDialog *flyDialog;
+
+public:
+	FlyDialogEventFilter(ADM_flyDialog *flyDialog)
+	{
+		this->flyDialog = flyDialog;
+	};
+
+protected:
+	bool eventFilter(QObject *obj, QEvent *event)
+	{
+		if (event->type() == QEvent::Show)
+		{
+			QWidget* parent = (QWidget*)obj;
+			uint32_t screenWidth, screenHeight;
+
+			UI_getPhysicalScreenSize(parent, &screenWidth, &screenHeight);
+			flyDialog->recomputeSize();
+			QCoreApplication::processEvents();
+			parent->move((screenWidth - parent->frameSize().width()) / 2, (screenHeight - parent->frameSize().height()) / 2);
+		}
+	};
+};
+
 void ADM_flyDialog::postInit(uint8_t reInit)
 {
 	QWidget *graphicsView = ((ADM_QCanvas*)_canvas)->parentWidget();
 	QSlider  *slider=(QSlider *)_slider;
 
-	graphicsView->setMinimumSize(_w, _h);
-	graphicsView->resize(_w, _h);
+	if (!reInit)
+	{
+		FlyDialogEventFilter *eventFilter = new FlyDialogEventFilter(this);
 
-	if (slider)
-		slider->setMaximum(_in->getInfo()->nb_frames);
+		if (slider)
+			slider->setMaximum(_in->getInfo()->nb_frames);
+
+		graphicsView->parentWidget()->installEventFilter(eventFilter);
+	}
+
+	((ADM_QCanvas*)_canvas)->changeSize(_zoomW, _zoomH);
+	graphicsView->setMinimumSize(_zoomW, _zoomH);
+	graphicsView->resize(_zoomW, _zoomH);
 }
 
-float ADM_flyDialog::calcZoomFactor(void) {return 1;}
+float ADM_flyDialog::calcZoomFactor(void)
+{
+	return UI_calcZoomToFitScreen(((ADM_QCanvas*)_canvas)->parentWidget()->parentWidget(), ((ADM_QCanvas*)_canvas)->parentWidget(), _w, _h);
+}
 
 uint8_t  ADM_flyDialog::display(void)
 {

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-26 02:43:33 UTC (rev 4410)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-26 13:49:17 UTC (rev 4411)
@@ -47,6 +47,7 @@
  ColYuvRgb rgbConverter(640,480,1);
 extern void UI_purge( void );
 extern void UI_setCurrentPreview(int ne);
+extern uint8_t UI_getPhysicalScreenSize(void* window, uint32_t *w, uint32_t *h);
 
 static Ui_previewWindow *previewWindow = NULL;
 
@@ -93,9 +94,9 @@
 {
 	if (previewWindow)
 	{
-		delete eventReceiver;
 		delete previewWindow;
 		previewWindow = NULL;
+		delete eventReceiver;
 	}
 }
 
@@ -258,6 +259,37 @@
 	xinfo->height = displayH;
 }
 
+// Calculate the zoom ratio required to fit the whole image on the screen.
+float UI_calcZoomToFitScreen(QWidget* window, QWidget* canvas, uint32_t imageWidth, uint32_t imageHeight)
+{
+	int windowWidth, windowHeight;
+	int drawingWidth, drawingHeight;
+	uint32_t screenWidth, screenHeight;
 
-//****************************************************************************************************
-//EOF 
+	windowWidth = window->frameSize().width();
+	windowHeight = window->frameSize().height();
+
+	drawingWidth = canvas->frameSize().width();
+	drawingHeight = canvas->frameSize().height();
+
+	UI_getPhysicalScreenSize(window, &screenWidth, &screenHeight);
+
+	// Take drawing area out of the equation, how much extra do we need for additional controls?
+	windowWidth -= drawingWidth;
+	windowHeight -= drawingHeight;
+
+	// This is the true amount of screen real estate we can work with
+	screenWidth -= windowWidth;
+	screenHeight -= windowHeight;
+
+	// Calculate zoom ratio
+	if (imageWidth > screenWidth || imageHeight > screenHeight)
+	{
+		float widthRatio = (float)screenWidth / (float)imageWidth;
+		float heightRatio = (float)screenHeight / (float)imageHeight;
+
+		return (widthRatio < heightRatio ? widthRatio : heightRatio);
+	}
+	else
+		return 1;
+}



From gruntster at mail.berlios.de  Fri Sep 26 15:54:31 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Fri, 26 Sep 2008 15:54:31 +0200
Subject: [Avidemux-svn-commit] r4412 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200809261354.m8QDsVWY018890@sheep.berlios.de>

Author: gruntster
Date: 2008-09-26 15:54:27 +0200 (Fri, 26 Sep 2008)
New Revision: 4412

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp
Log:
[Qt] restore resize algorithm on resize filter window

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp	2008-09-26 13:49:17 UTC (rev 4411)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_resizing.cpp	2008-09-26 13:54:27 UTC (rev 4412)
@@ -83,6 +83,7 @@
      ui.spinBoxWidth->setValue(_param->width);
      ui.spinBoxHeight->setValue(_param->height);
      ui.horizontalSlider->setValue(100);
+	 ui.comboBoxAlgo->setCurrentIndex(_param->algo);
      updateWidthHeightSpinners();
 
 	 connect(ui.comboBoxSource, SIGNAL(currentIndexChanged(int)), this, SLOT(aspectRatioChanged(int)));



From gruntster at mail.berlios.de  Fri Sep 26 17:33:07 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Fri, 26 Sep 2008 17:33:07 +0200
Subject: [Avidemux-svn-commit] r4413 - in
	branches/avidemux_2.4_branch/avidemux: .
	ADM_userInterfaces/ADM_QT4/ADM_gui
Message-ID: <200809261533.m8QFX7I6029521@sheep.berlios.de>

Author: gruntster
Date: 2008-09-26 17:32:51 +0200 (Fri, 26 Sep 2008)
New Revision: 4413

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qslider.cpp
   branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
Log:
[GUI] don't proceed with save if marker A > B 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qslider.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qslider.cpp	2008-09-26 13:54:27 UTC (rev 4412)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/ADM_qslider.cpp	2008-09-26 15:32:51 UTC (rev 4413)
@@ -30,11 +30,13 @@
 	QSlider::paintEvent(event);	
 
 	int a = markerA, b = markerB;
+	QColor color = Qt::blue;
 
 	if (markerA > markerB)
 	{
 		b = markerA;
-		a = markerB; 
+		a = markerB;
+		color = Qt::red;
 	}
 
 	if (frameCount > 0 && (a != 0 || b != frameCount))
@@ -44,7 +46,7 @@
 
 		QPainter painter(this);
 
-		painter.setPen(Qt::blue);
+		painter.setPen(color);
 		painter.drawRect(left, 1, right - left, height() - 3);
 		painter.end();
 	}

Modified: branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2008-09-26 13:54:27 UTC (rev 4412)
+++ branches/avidemux_2.4_branch/avidemux/gtk_gui.cpp	2008-09-26 15:32:51 UTC (rev 4413)
@@ -693,7 +693,11 @@
       break;
 //----------------------test-----------------------
     case ACT_SaveAvi:
-      GUI_FileSelWrite (QT_TR_NOOP("Select File to Save"),(SELFILE_CB *)A_SaveWrapper); // A_SaveAudioNVideo);
+		if(frameEnd < frameStart)
+			GUI_Error_HIG(QT_TR_NOOP("Marker A > B"), QT_TR_NOOP("An invalid frame range has been selected.  Make sure marker A is placed before marker B."));
+		else
+			GUI_FileSelWrite(QT_TR_NOOP("Select File to Save"),(SELFILE_CB *)A_SaveWrapper);
+
       break;
 //---------------------------------------------------
     case ACT_Copy:



From gruntster at mail.berlios.de  Fri Sep 26 19:43:08 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Fri, 26 Sep 2008 19:43:08 +0200
Subject: [Avidemux-svn-commit] r4414 -
	branches/avidemux_2.4_branch/avidemux/ADM_encoder
Message-ID: <200809261743.m8QHh8fa000117@sheep.berlios.de>

Author: gruntster
Date: 2008-09-26 19:43:03 +0200 (Fri, 26 Sep 2008)
New Revision: 4414

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encConfig.cpp
Log:
[ecma] don't crash when codec config string is a different length to the default.  Defaults will be used if the string is too short and settings will be ignored if it is too long.

Modified: branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encConfig.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encConfig.cpp	2008-09-26 15:32:51 UTC (rev 4413)
+++ branches/avidemux_2.4_branch/avidemux/ADM_encoder/adm_encConfig.cpp	2008-09-26 17:43:03 UTC (rev 4414)
@@ -918,7 +918,7 @@
 	{
 	  printf ("Codec:%s\n", param->descriptor);
 	  printf ("Expected :%d got:%d\n", param->extraSettingsLen, extraLen);
-	  ADM_assert (0);
+	  //ADM_assert (0);
 	}
       memcpy (param->extraSettings, extraData, param->extraSettingsLen);
     }



From gruntster at mail.berlios.de  Mon Sep 29 21:33:46 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Mon, 29 Sep 2008 21:33:46 +0200
Subject: [Avidemux-svn-commit] r4415 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200809291933.m8TJXkGu003689@sheep.berlios.de>

Author: gruntster
Date: 2008-09-29 21:33:18 +0200 (Mon, 29 Sep 2008)
New Revision: 4415

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp
Log:
[Qt] pass flyDialog's unfiltered events to parent class 

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp	2008-09-26 17:43:03 UTC (rev 4414)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp	2008-09-29 19:33:18 UTC (rev 4415)
@@ -30,18 +30,21 @@
 	Q_OBJECT
 
 	ADM_flyDialog *flyDialog;
+	bool recomputed;
 
 public:
 	FlyDialogEventFilter(ADM_flyDialog *flyDialog)
 	{
+		recomputed = false;
 		this->flyDialog = flyDialog;
 	};
 
 protected:
 	bool eventFilter(QObject *obj, QEvent *event)
 	{
-		if (event->type() == QEvent::Show)
+		if (event->type() == QEvent::Show && !recomputed)
 		{
+			recomputed = true;
 			QWidget* parent = (QWidget*)obj;
 			uint32_t screenWidth, screenHeight;
 
@@ -50,6 +53,8 @@
 			QCoreApplication::processEvents();
 			parent->move((screenWidth - parent->frameSize().width()) / 2, (screenHeight - parent->frameSize().height()) / 2);
 		}
+		
+		return QObject::eventFilter(obj, event);
 	};
 };
 



From gruntster at mail.berlios.de  Tue Sep 30 01:31:57 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Tue, 30 Sep 2008 01:31:57 +0200
Subject: [Avidemux-svn-commit] r4416 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_QT4/ADM_dialog ADM_commonUI
Message-ID: <200809292331.m8TNVvkw016905@sheep.berlios.de>

Author: gruntster
Date: 2008-09-30 01:31:49 +0200 (Tue, 30 Sep 2008)
New Revision: 4416

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp
Log:
[GUI] fix flyDialog's buggy recomputeSize method

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp	2008-09-29 19:33:18 UTC (rev 4415)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/T_flyDialog.cpp	2008-09-29 23:31:49 UTC (rev 4416)
@@ -51,7 +51,7 @@
 			UI_getPhysicalScreenSize(parent, &screenWidth, &screenHeight);
 			flyDialog->recomputeSize();
 			QCoreApplication::processEvents();
-			parent->move((screenWidth - parent->frameSize().width()) / 2, (screenHeight - parent->frameSize().height()) / 2);
+			parent->move((((int)screenWidth) - parent->frameSize().width()) / 2, (((int)screenHeight) - parent->frameSize().height()) / 2);
 		}
 		
 		return QObject::eventFilter(obj, event);

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp	2008-09-29 19:33:18 UTC (rev 4415)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyDialog.cpp	2008-09-29 23:31:49 UTC (rev 4416)
@@ -76,7 +76,7 @@
 			_zoomH = uint32_t (_h * _zoom);
 		}
 	}
-        else
+	else
 		_zoom = 1;
 
 	if (_resizeMethod == RESIZE_AUTO || _resizeMethod == RESIZE_LAST)
@@ -105,25 +105,34 @@
 
 void ADM_flyDialog::recomputeSize(void)
 {
-    float new_zoom = calcZoomFactor();
-
+    float new_zoom;
     ResizeMethod new_resizeMethod;
     uint32_t new_zoomW;
     uint32_t new_zoomH;
 
-    if (new_zoom == 1)
-    {
-        new_resizeMethod = RESIZE_NONE;
-        new_zoomW = _w;
-        new_zoomH = _h;
-    }
-    else
-    {
-        new_resizeMethod = RESIZE_AUTO;
-        new_zoomW = uint32_t (_w * new_zoom);
-        new_zoomH = uint32_t (_h * new_zoom);
-    }
+	if (_resizeMethod == RESIZE_AUTO || _resizeMethod == RESIZE_LAST)
+	{
+		new_zoom = calcZoomFactor();
 
+		if (new_zoom == 1)
+			new_resizeMethod = RESIZE_NONE;
+		else
+		{
+			new_resizeMethod = _resizeMethod;
+			new_zoomW = uint32_t (_w * new_zoom);
+			new_zoomH = uint32_t (_h * new_zoom);
+		}
+	}
+	else
+		new_resizeMethod = RESIZE_NONE;
+
+	if (new_resizeMethod == RESIZE_NONE)
+	{
+		new_zoom = 1;
+		new_zoomW = _w;
+		new_zoomH = _h;
+	}
+
     if (new_resizeMethod == _resizeMethod && new_zoom == _zoom
         && new_zoomW == _zoomW && new_zoomH == _zoomH)
         return;
@@ -165,7 +174,9 @@
     }
 
     postInit (true);
-    sliderChanged();
+
+	if (_slider)
+		sliderChanged();
 }
 
 /**



From gruntster at mail.berlios.de  Tue Sep 30 01:47:07 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Tue, 30 Sep 2008 01:47:07 +0200
Subject: [Avidemux-svn-commit] r4417 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics
Message-ID: <200809292347.m8TNl7hI017550@sheep.berlios.de>

Author: gruntster
Date: 2008-09-30 01:46:57 +0200 (Tue, 30 Sep 2008)
New Revision: 4417

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/preview_input.png
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/preview_output.png
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/preview_separate.png
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/preview_side.png
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/preview_top.png
Log:
[Qt] redimensioned preview icons for toolbar

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/preview_input.png
===================================================================
(Binary files differ)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/preview_output.png
===================================================================
(Binary files differ)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/preview_separate.png
===================================================================
(Binary files differ)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/preview_side.png
===================================================================
(Binary files differ)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/pics/preview_top.png
===================================================================
(Binary files differ)



From gruntster at mail.berlios.de  Tue Sep 30 01:56:48 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Tue, 30 Sep 2008 01:56:48 +0200
Subject: [Avidemux-svn-commit] r4418 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog
Message-ID: <200809292356.m8TNumKj018237@sheep.berlios.de>

Author: gruntster
Date: 2008-09-30 01:56:41 +0200 (Tue, 30 Sep 2008)
New Revision: 4418

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp
Log:
[Qt] set minimum quantiser setting for x264 to zero

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp	2008-09-29 23:46:57 UTC (rev 4417)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_x264.cpp	2008-09-29 23:56:41 UTC (rev 4418)
@@ -50,6 +50,7 @@
       // Our tabs
          /* Tab 1 main */
            diaElemBitrate bitrate(config,NULL);
+		   bitrate.setMinQz(0);
            bitrate.setMaxQz(51);
            diaElem *main[]={&bitrate};
            diaElemTabs tabMain(QT_TR_NOOP("Bitrate"),1,main);



From gruntster at mail.berlios.de  Tue Sep 30 02:46:50 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Tue, 30 Sep 2008 02:46:50 +0200
Subject: [Avidemux-svn-commit] r4419 - branches/avidemux_2.4_branch/po
Message-ID: <200809300046.m8U0ko9H023901@sheep.berlios.de>

Author: gruntster
Date: 2008-09-30 02:46:44 +0200 (Tue, 30 Sep 2008)
New Revision: 4419

Modified:
   branches/avidemux_2.4_branch/po/fr.po
Log:
[I18N] French update by NSV

Modified: branches/avidemux_2.4_branch/po/fr.po
===================================================================
--- branches/avidemux_2.4_branch/po/fr.po	2008-09-29 23:56:41 UTC (rev 4418)
+++ branches/avidemux_2.4_branch/po/fr.po	2008-09-30 00:46:44 UTC (rev 4419)
@@ -5,9 +5,9 @@
 msgstr ""
 "Project-Id-Version: fr\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-06-30 23:41+0100\n"
-"PO-Revision-Date: 2008-07-01 23:37+0100\n"
-"Last-Translator: NSV <xxNSVxx at gmail.com>\n"
+"POT-Creation-Date: 2008-09-26 17:27+0100\n"
+"PO-Revision-Date: 2008-09-27 12:54+0100\n"
+"Last-Translator: NSV <nsv13 at hotmail.com>\n"
 "Language-Team:  <en at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
@@ -15,10 +15,9 @@
 "X-Generator: KBabel 1.11.4\n"
 "X-Poedit-Language: French\n"
 "X-Poedit-Country: FRANCE\n"
-"X-Poedit-Basepath: C:\\Users\\NSV\\Documents\\Projet\\Cpp\\Avidemux\\\n"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:42
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:369
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:380
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:515
 msgid "AVI"
 msgstr "AVI"
@@ -48,30 +47,30 @@
 msgstr "Vid?o MPEG"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:49
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:493
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:131
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:504
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:130
 msgid "MP4"
 msgstr "MP4"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:50
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:119
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:120
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:519
 msgid "OGM"
 msgstr "OGM"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:51
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:130
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:129
 msgid "PSP"
 msgstr "PSP"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:52
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:188
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:277
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:187
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:254
 msgid "FLV"
 msgstr "FLV"
 
 #: avidemux/ADM_editor/ADM_outputfmt.h:53
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:132
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:131
 msgid "MKV"
 msgstr "MKV"
 
@@ -124,82 +123,86 @@
 msgid "MJPEG (lavc)"
 msgstr "MJPEG (lavc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:314
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:272
+msgid "Y800 (lavc)"
+msgstr "Y800 (lavc)"
+
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:332
 msgid "VCD (lavc)"
 msgstr "VCD (lavc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:374
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:392
 msgid "DVD (lavc)"
 msgstr "DVD (lavc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:434
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:452
 msgid "SVCD (lavc)"
 msgstr "SVCD (lavc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:461
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:479
 msgid "VCD (mpeg2enc)"
 msgstr "VCD (mpeg2enc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:493
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:511
 msgid "SVCD (mpeg2enc)"
 msgstr "SVCD (mpeg2enc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:512
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:530
 msgid "MPEG-2 requant"
 msgstr ""
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:539
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:557
 msgid "DVD (mpeg2enc)"
 msgstr "DVD (mpeg2enc)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:671
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:689
 msgid "MPEG-4 ASP (Xvid4)"
 msgstr "MPEG-4 ASP (Xvid4)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:812
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:833
 msgid "MPEG-4 AVC (x264)"
 msgstr "MPEG-4 AVC (x264)"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:829
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:850
 #, fuzzy
 msgid "dummy"
 msgstr "exemple"
 
-#: avidemux/ADM_encoder/ADM_encCodecDesc.h:832
-#: avidemux/ADM_encoder/adm_encCopy.cpp:91
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:271
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:367
+#: avidemux/ADM_encoder/ADM_encCodecDesc.h:853
+#: avidemux/ADM_encoder/adm_encCopy.cpp:94
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:282
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:378
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:143
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:195
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:191
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:259
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:280
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:166
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:280
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:301
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:175
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:190
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:236
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:257
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:165
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:257
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:278
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:221
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:225
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:379
 #: avidemux/ADM_outputs/oplug_ogm/op_ogaudio.cpp:90
 #: avidemux/ADM_outputs/oplug_ogm/op_ogsavecopy.cpp:69
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1081
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1121
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1082
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1122
 msgid "Copy"
 msgstr "Copie"
 
-#: avidemux/ADM_encoder/adm_encdivx.h:52
+#: avidemux/ADM_encoder/adm_encdivx.h:53
 msgid "DivX"
 msgstr "DivX"
 
-#: avidemux/ADM_encoder/adm_encffmpeg.h:47
+#: avidemux/ADM_encoder/adm_encffmpeg.h:48
 msgid "LavCodec"
 msgstr "LavCodec"
 
-#: avidemux/ADM_encoder/adm_encmjpeg.h:60
+#: avidemux/ADM_encoder/adm_encmjpeg.h:61
 msgid "MJPEG"
 msgstr "MJPEG"
 
-#: avidemux/ADM_encoder/adm_encmpeg2enc.h:57
+#: avidemux/ADM_encoder/adm_encmpeg2enc.h:58
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavcodec.cpp:61
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:523
 msgid "MPEG"
@@ -215,11 +218,15 @@
 msgid "Xvid"
 msgstr "XviD"
 
-#: avidemux/ADM_encoder/adm_encXvid4.h:62
+#: avidemux/ADM_encoder/adm_encXvid4.h:63
 msgid "Xvid4"
 msgstr "XviD"
 
-#: avidemux/ADM_encoder/adm_encyv12.h:69
+#: avidemux/ADM_encoder/adm_ency800.h:58
+msgid "Y800"
+msgstr "Y800"
+
+#: avidemux/ADM_encoder/adm_encyv12.h:70
 msgid "YV12"
 msgstr "YV12"
 
@@ -300,8 +307,8 @@
 msgstr "_Qualit? :"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:252
-msgid "_Disable reservoir:"
-msgstr "_D?sactiver le bit reservoir (Qualit? plus basse) :"
+msgid "_Disable reservoir"
+msgstr "_D?sactiver le bit reservoir (Qualit? plus basse)"
 
 #: avidemux/ADM_audiofilter/audioencoder_lame.cpp:256
 msgid "LAME Configuration"
@@ -354,14 +361,14 @@
 msgstr "Non activ?."
 
 #: avidemux/ADM_codecs/ADM_ffmp43.cpp:45
-msgid "Internal error finding codec"
+msgid "Internal error finding codec '"
 msgstr "Erreur interne pour trouver le codec"
 
 #: avidemux/ADM_codecs/ADM_ffmpeg.cpp:49
 msgid "Internal error opening codec"
 msgstr "Erreur interne pour ouvrir le codec"
 
-#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:51
+#: avidemux/ADM_codecs/ADM_ffmpeg.cpp:52
 msgid "Internal error with context for  codec"
 msgstr "Erreur interne avec le contexte du codec"
 
@@ -497,47 +504,47 @@
 msgid "Unsupported"
 msgstr "Non support?"
 
-#: avidemux/ADM_editor/ADM_edLoadSave.cpp:300
+#: avidemux/ADM_editor/ADM_edLoadSave.cpp:298
 msgid "Old format project file"
 msgstr "Fichier projet dans un ancien format"
 
-#: avidemux/ADM_editor/ADM_edLoadSave.cpp:300
+#: avidemux/ADM_editor/ADM_edLoadSave.cpp:298
 msgid "No more supported."
 msgstr "Plus support?."
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:191
+#: avidemux/ADM_encoder/adm_encConfig.cpp:192
 msgid "Wrong output format"
 msgstr "Format de sortie erron?"
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:191
+#: avidemux/ADM_encoder/adm_encConfig.cpp:192
 msgid "Select MPEG as the output."
 msgstr "S?lectionner MPEG comme sortie"
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:196
+#: avidemux/ADM_encoder/adm_encConfig.cpp:197
 msgid "Wrong video codec"
 msgstr "Codec vid?o erron?"
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:197
+#: avidemux/ADM_encoder/adm_encConfig.cpp:198
 msgid "Select DVD as the video codec for MPEG TS output."
 msgstr "Choisir ??DVD?? comme codec vid?o pour une sortie MPEG TS."
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:717
+#: avidemux/ADM_encoder/adm_encConfig.cpp:719
 msgid "Only QCIF and subQCIF are allowed for H.263"
 msgstr "Seulement le QCIF et le subQCIF sont autoris?s pour le H.263"
 
-#: avidemux/ADM_encoder/adm_encConfig.cpp:909
+#: avidemux/ADM_encoder/adm_encConfig.cpp:911
 msgid "Fatal error"
 msgstr "Erreur fatale"
 
-#: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
+#: avidemux/ADM_encoder/adm_encffmpeg.cpp:278
 msgid "Incompatible settings"
 msgstr "R?glages incompatibles"
 
-#: avidemux/ADM_encoder/adm_encffmpeg.cpp:261
+#: avidemux/ADM_encoder/adm_encffmpeg.cpp:278
 msgid "At the moment, the DV codec only accepts 720*576 at 25"
 msgstr "Pour le moment, le codec DV accepte seulement le 720*576 at 25fps"
 
-#: avidemux/ADM_encoder/adm_encRequant.cpp:98
+#: avidemux/ADM_encoder/adm_encRequant.cpp:101
 msgid "Requant"
 msgstr ""
 
@@ -1046,7 +1053,7 @@
 msgstr "Applique un post-traitement aveugle."
 
 #: avidemux/ADM_filter/filter_declaration.cpp:159
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:113
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:122
 msgid "Subtitler"
 msgstr "Subtitler"
 
@@ -1219,11 +1226,11 @@
 msgid "Size is not (s)QCIF"
 msgstr "La taille n'est pas (s)QCIF"
 
-#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp:594
+#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Analyzer.cpp:631
 msgid "Problem reading SVQ3 headers"
 msgstr "Probl?me de lecture des en-t?tes SVQ3"
 
-#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp:346
+#: avidemux/ADM_inputs/ADM_mp4/ADM_mp4Indexer.cpp:345
 msgid "No stts table"
 msgstr "Pas de table stts"
 
@@ -1231,7 +1238,7 @@
 msgid "There is several mpeg file, append them ?"
 msgstr "Il y a plusieurs fichiers MPEG, les ajouter??"
 
-#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:250
+#: avidemux/ADM_inputs/ADM_mpegdemuxer/dmx_indexer.cpp:244
 msgid "Can't determine aspect ratio"
 msgstr "Impossible de d?terminer le rapport H/L"
 
@@ -1290,7 +1297,7 @@
 msgid "Indexing"
 msgstr "Indexation"
 
-#: avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp:379
+#: avidemux/ADM_libraries/ADM_lavformat/ADM_lavformat.cpp:381
 msgid "Incompatible frame rate"
 msgstr "Nombre d'images par seconde incompatible"
 
@@ -1309,7 +1316,7 @@
 msgstr "Echec d'initialisation du lvemux"
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_gettext.cpp:52
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:291
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:292
 msgid "_File"
 msgstr "_Fichier"
 
@@ -1330,7 +1337,7 @@
 msgstr "Erreur de conversion en BMP"
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:417
-#: avidemux/gtk_gui.cpp:1930
+#: avidemux/gtk_gui.cpp:1937
 msgid "Something bad happened"
 msgstr "Une erreur est survenue"
 
@@ -1340,9 +1347,9 @@
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
 #: avidemux/ADM_ocr/adm_glyph.cpp:221
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:590
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:618
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:366
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:113
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:107
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:112
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:119
@@ -1351,15 +1358,15 @@
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:231
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:238
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_ocr.cpp:247
-#: avidemux/gtk_gui.cpp:921
-#: avidemux/gtk_gui.cpp:1508
+#: avidemux/gtk_gui.cpp:905
+#: avidemux/gtk_gui.cpp:1515
 msgid "File error"
 msgstr "Erreur de fichier"
 
 #: avidemux/ADM_libraries/ADM_utilities/ADM_imageUtils.cpp:481
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:366
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:112
-#: avidemux/gtk_gui.cpp:1508
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:113
+#: avidemux/gtk_gui.cpp:1515
 #, c-format
 msgid "Cannot open \"%s\" for writing."
 msgstr "Impossible d'ouvrir ??%s?? en ?criture."
@@ -1389,8 +1396,8 @@
 msgstr "1:1"
 
 #: avidemux/ADM_libraries/ADM_utilities/avidemutils.cpp:334
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:599
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:796
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:600
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:797
 msgid "Unknown"
 msgstr "Inconnu"
 
@@ -1434,9 +1441,8 @@
 msgstr "Aucun sous-titre"
 
 #: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:254
-#, fuzzy
 msgid "Ifo error"
-msgstr "Erreur ifo"
+msgstr "Erreur d'IFO"
 
 #: avidemux/ADM_ocr/ADM_vob2vobsub.cpp:254
 msgid "Error reading ifo file, aborting."
@@ -1492,44 +1498,44 @@
 "Voulez-vous le charger ?\n"
 "(Il sera supprim? dans tous les cas, vous devriez le sauvegarder si vous voulez le garder)"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:211
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:235
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:264
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:277
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:290
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:239
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:263
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:292
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:305
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:318
 #: avidemux/GUI_jobs.cpp:37
 msgid "Oops"
 msgstr "Oups"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:211
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:239
 #, c-format
 msgid "can't create custom directory (%s)."
 msgstr "impossible de cr?er le dossier ??%s??."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:235
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:263
 #, c-format
 msgid "can't create job directory (%s)."
 msgstr "impossible de cr?er le dossier des t?ches ??%s??."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:264
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:292
 msgid "Can't determine the Application Data folder."
 msgstr "Impossible de trouver le dossier Application Data."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:277
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:305
 msgid "can't determine $HOME."
 msgstr "ne peut d?terminer $HOME"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:290
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:318
 msgid "Cannot create the .avidemux directory"
 msgstr "Impossible de cr?er le dossier ??.avidemux??"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:590
-#: avidemux/gtk_gui.cpp:918
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:618
+#: avidemux/gtk_gui.cpp:902
 #, c-format
 msgid "Cannot open \"%s\"."
 msgstr "Ne peut ouvrir ??%s??."
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:603
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:631
 #, c-format
 msgid ""
 "%s already exists.\n"
@@ -1540,16 +1546,16 @@
 "\n"
 "Voulez-vous le remplacer ?"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:630
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:644
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:658
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:672
 msgid "It is possible that you are trying to overwrite an input file!"
 msgstr "Il est possible que vous tentiez d'?craser un fichier d'entr?e?!"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:655
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:683
 msgid "Cannot write the file"
 msgstr "Impossible d'?crire le fichier"
 
-#: avidemux/ADM_osSupport/ADM_fileio.cpp:655
+#: avidemux/ADM_osSupport/ADM_fileio.cpp:683
 #, c-format
 msgid "No write access to \"%s\"."
 msgstr "Pas d'acc?s en ?criture ? ??%s??."
@@ -1575,8 +1581,8 @@
 msgstr "%lu secondes"
 
 #: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:74
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:244
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:846
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:245
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:847
 msgid "Normal"
 msgstr "Normal"
 
@@ -1608,20 +1614,20 @@
 msgid "AVI Muxer Options"
 msgstr "Options du multiplexeur AVI"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:188
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:189
 msgid "Error initalizing audio filters"
 msgstr "Erreur d'initialisation des filtres audio"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:197
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:198
 msgid "Error initalizing video filters"
 msgstr "Erreur d'initialisation des filtres vid?o"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:256
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:267
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:141
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:189
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:263
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:164
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:284
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:188
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:240
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:163
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:261
 #: avidemux/ADM_outputs/oplug_ogm/op_ogaudio.cpp:70
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:80
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_audioFilter.cpp:89
@@ -1630,88 +1636,88 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:377
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:385
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_coloryuv.cpp:393
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:554
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:569
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:584
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:555
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:570
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:585
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vobsub.cpp:225
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_x264.cpp:1191
 #: avidemux/ADM_videoFilter/ADM_lavpp_deint.cpp:105
 #: avidemux/ADM_videoFilter/ADM_vidDecTelecide.cpp:101
 #: avidemux/ADM_videoFilter/ADM_vidRotate.cpp:262
-#: avidemux/gtk_gui.cpp:2008
-#: avidemux/gtk_gui.cpp:2107
+#: avidemux/gtk_gui.cpp:2015
+#: avidemux/gtk_gui.cpp:2114
 msgid "None"
 msgstr "Aucun"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:446
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:457
 #: avidemux/ADM_outputs/oplug_avi/op_avisavecopy.cpp:96
 #: avidemux/ADM_outputs/oplug_avi/op_avisavecopy_pack.cpp:121
 #: avidemux/ADM_outputs/oplug_avi/op_avisavecopy_unpack.cpp:98
 msgid "Cannot initiate save"
 msgstr "Ne peut pas amorcer l'enregistrement"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:485
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:496
 msgid "DTS"
 msgstr "DTS"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:486
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:497
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:289
 msgid "PCM"
 msgstr "PCM"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:487
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:498
 msgid "MP2"
 msgstr "MP2"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:488
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:499
 msgid "MP3"
 msgstr "MP3"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:489
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:500
 msgid "WMA"
 msgstr "WMA"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:490
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:501
 msgid "LPCM"
 msgstr "LPCM"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:491
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:502
 msgid "AC3"
 msgstr "AC3"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:492
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:503
 msgid "Ogg Vorbis"
 msgstr "Ogg Vorbis"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:494
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:505
 msgid "AAC"
 msgstr "AAC"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:495
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:506
 msgid "QDM2"
 msgstr ""
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:496
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:507
 msgid "AMR-NB"
 msgstr "AMR-NB"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:497
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:508
 msgid "MSADPCM"
 msgstr "MSADPCM"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:498
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:509
 msgid "ULAW"
 msgstr "ULAW"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:499
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:510
 msgid "IMA ADPCM"
 msgstr "IMA ADPCM"
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:500
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:511
 msgid "8-bit PCM"
 msgstr ""
 
-#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:502
+#: avidemux/ADM_outputs/oplug_avi/op_avisave.cpp:513
 msgid "Unknown codec"
 msgstr "Codec inconnu"
 
@@ -1732,15 +1738,15 @@
 
 #: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:93
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:149
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:197
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:176
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:76
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:196
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:175
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:78
 msgid "Filter init failed"
 msgstr "Echec de l'initialisation du filtre"
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:127
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:417
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:100
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:128
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:414
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:103
 msgid ""
 "\n"
 " Reuse the existing log-file ?"
@@ -1748,27 +1754,26 @@
 "\n"
 " R?utiliser le fichier journal ?"
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:136
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:426
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:137
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:422
 msgid "1st Pass"
 msgstr "Premi?re passe"
 
 #: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:152
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:453
 msgid "Aborting"
 msgstr "Annulation"
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:246
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:267
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:153
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:201
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:188
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:200
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:187
 #: avidemux/ADM_outputs/oplug_mpegFF/oplug_vcdff.cpp:373
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:143
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:167
 msgid "Encoding"
 msgstr "Encodage"
 
-#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:250
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:483
+#: avidemux/ADM_outputs/oplug_avi/op_saveprocess.cpp:269
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:493
 msgid "2nd Pass"
 msgstr "Seconde passe"
 
@@ -1777,8 +1782,8 @@
 msgstr "Copie intelligente"
 
 #: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:135
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:183
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:156
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:182
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:155
 msgid "Cannot initialize the video stream"
 msgstr "Ne peut pas initialiser le flux vid?o"
 
@@ -1787,26 +1792,25 @@
 msgid "Dummy"
 msgstr "Exemple"
 
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:179
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:215
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:227
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:326
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:214
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:353
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:437
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:206
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:321
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:342
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:454
 #: avidemux/ADM_outputs/oplug_mpeg/op_mpegpass.cpp:352
 msgid "Error while encoding"
 msgstr "Erreur pendant l'encodage"
 
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:190
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:238
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:226
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:213
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:328
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:349
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:461
 msgid "KeyFrame error"
 msgstr "Erreur d'image-cl?"
 
-#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:190
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:238
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:226
+#: avidemux/ADM_outputs/oplug_dummy/oplug_dummy.cpp:213
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:328
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:349
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:461
 msgid ""
 "The beginning frame is not a key frame.\n"
 "Please move the A marker."
@@ -1814,37 +1818,37 @@
 "La premi?re image n'est pas une image-cl?.\n"
 "Veuillez d?placer le marqueur A."
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:145
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:144
 msgid "Unsupported video"
 msgstr "Vid?o non support?e"
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:145
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:144
 msgid "Only FLV1 and VP6 video are supported"
 msgstr "Seulement le FLV1 et le VP6 sont accept?s."
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:167
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:172
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:166
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:171
 msgid "Unsupported audio"
 msgstr "Audio non accept?"
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:167
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:166
 msgid "Audio must be mp3 for flv output."
 msgstr "L'audio doit ?tre en MP3 pour le format FLV."
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:172
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:171
 msgid "Frequency must be 44100, 22050 or 11025 Hz."
 msgstr "La fr?quence doit ?tre 44100, 22050 ou 11025 Hz"
 
-#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:248
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:253
+#: avidemux/ADM_outputs/oplug_flv/oplug_flv.cpp:225
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:230
 msgid "Cannot initialize the audio stream"
 msgstr "Ne peut pas initialiser le flux audio"
 
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:271
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:248
 msgid "Invalid audio stream detected"
 msgstr "Flux audio d?tect? invalide"
 
-#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:271
+#: avidemux/ADM_outputs/oplug_mp4/oplug_mp4.cpp:248
 msgid ""
 "The audio stream may be invalid for this container.\n"
 "\n"
@@ -1967,11 +1971,11 @@
 msgid "Error in pass 2"
 msgstr "Erreur pendant la 2? passe"
 
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:126
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:127
 msgid "Could not initialize video"
 msgstr "Impossible d'initialiser la vid?o"
 
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:134
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsave.cpp:135
 msgid "Could not initialize audio"
 msgstr "Impossible d'initialiser l'audio"
 
@@ -1979,11 +1983,11 @@
 msgid "Saving..."
 msgstr "Enregistrement..."
 
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:111
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:114
 msgid "Pass one"
 msgstr "Premi?re passe"
 
-#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:139
+#: avidemux/ADM_outputs/oplug_ogm/op_ogsaveprocess.cpp:163
 msgid "Pass 2"
 msgstr "Seconde passe"
 
@@ -2420,7 +2424,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flv1.cpp:44
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:116
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:275
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:278
 msgid "_Bitrate (kb/s):"
 msgstr "_D?bit (kb/s) :"
 
@@ -2586,7 +2590,7 @@
 msgstr "Configuration MPEG-4 de libavcodec"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_lavDecoder.cpp:26
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:41
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:22
 msgid "_Swap U and V"
 msgstr "_Inverser U et V"
 
@@ -2689,182 +2693,182 @@
 msgid "Save GlyphSet"
 msgstr "Enregistrer le dictionnaire de symboles"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:40
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:21
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:60
 msgid "_Filter strength:"
 msgstr "Force du _filtre :"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:51
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:32
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:350
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:72
 msgid "_Horizontal deblocking"
 msgstr "D?blocage _horizontal"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:52
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:33
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:351
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:73
 msgid "_Vertical deblocking"
 msgstr "D?blocage _vertical"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:53
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:34
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:74
 msgid "_Deringing"
 msgstr "_Eliminer les oscillations parasites"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:189
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_postproc.cpp:38
+msgid "Postprocessing"
+msgstr "Post-traitement"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:190
 msgid "_Use systray while encoding"
 msgstr "_Utiliser la zone de notification pendant l'encodage"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:190
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:191
 msgid "_Accept non-standard audio frequency for DVD"
 msgstr "_Accepter des fr?quences audio non standard pour l'encodage DVD"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:191
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:192
 msgid "_Use libavcodec MPEG-2 decoder"
 msgstr "_Utiliser le d?codeur MPEG-2 de libavcodec"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:192
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:193
 msgid "Create _OpenDML files"
 msgstr "Cr?er des fichiers _OpenDML"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:193
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:194
 msgid "Automatically _index MPEG files"
 msgstr "_Indexer automatiquement les fichiers MPEG"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:194
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:195
 msgid "Automatically _swap A and B if A>B"
 msgstr "_Inverser automatiquement les marques A et B si A > B"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:195
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:196
 #, fuzzy
 msgid "_Disable NUV audio sync"
 msgstr "_D?sactiver la synchronisation audio pour NuppelVideo"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:197
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:198
 msgid "Automatically _build VBR map"
 msgstr "_Construire automatiquement l'index VBR"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:198
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:199
 msgid "Automatically _rebuild index"
 msgstr "_Reconstruire automatiquement l'index"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:199
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:200
 msgid "Automatically remove _packed bitstream"
 msgstr "Enlever automatiquement le Bitstream em_paquet?"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:201
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:202
 msgid "SIMD"
 msgstr "SIMD"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:203
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:204
 msgid "Enable all SIMD"
 msgstr "Activer tous les SIMD"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:204
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:205
 msgid "Enable MMX"
 msgstr "Activer le MMX"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:205
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:206
 msgid "Enable MMXEXT"
 msgstr "Activer le MMXEXT"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:206
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:207
 msgid "Enable 3DNOW"
 msgstr "Activer le 3DNOW"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:207
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:208
 msgid "Enable 3DNOWEXT"
 msgstr "Activer le 3DNOWEXT"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:208
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:209
 msgid "Enable SSE"
 msgstr "Activer le SSE"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:209
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:210
 msgid "Enable SSE2"
 msgstr "Activer le SSE2"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:210
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:211
 msgid "Enable SSE3"
 msgstr "Activer le SSE3"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:211
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:212
 msgid "Enable SSSE3"
 msgstr "Activer le SSSE3"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:232
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:233
 msgid "_lavc threads:"
 msgstr "Processus _lavc :"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:233
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:234
 msgid "_x264 threads:"
 msgstr "Processus _x264 :"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:234
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:235
 msgid "X_vid threads:"
 msgstr "Processus X_viD :"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:236
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:237
 msgid "Multi-threading"
 msgstr "Multit?che"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:242
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:844
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:243
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:845
 msgid "High"
 msgstr "Haute"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:243
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:244
 msgid "Above normal"
 msgstr "Sup?rieure ? la normale"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:245
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:246
 msgid "Below normal"
 msgstr "Inf?rieur ? la normale"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:246
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:848
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:247
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:849
 msgid "Low"
 msgstr "Basse"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:248
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:249
 msgid "_Encoding priority:"
 msgstr "Priorit? d'_encodage :"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:249
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:250
 msgid "_Indexing/unpacking priority:"
 msgstr "Priorit? d'_indexation/d?paquetage :"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:250
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:251
 msgid "_Playback priority:"
 msgstr "Priorit? de _lecture :"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:252
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:253
 msgid "Prioritisation"
 msgstr "Gestion des priorit?s"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:257
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:258
 msgid "_Split MPEG files every (MB):"
 msgstr "_Couper chaque fichier MPEG (Mo) :"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:259
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:260
 msgid "_Use alternative tag for MP3 in .mp4"
 msgstr "_Utiliser des attributs alternatifs pour le MP3 dans le .mp4"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:262
-msgid "GTK+ (slow)"
-msgstr "GTK+ (lent)"
-
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:264
 msgid "XVideo (best)"
 msgstr "XVideo (meilleur)"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:268
-msgid "SDL (GDI)"
-msgstr "SDL (GDI)"
+msgid "SDL (MS Windows GDI)"
+msgstr "SDL (MS Windows GDI)"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:269
-msgid "SDL (DirectX)"
-msgstr "SDL (DirectX)"
+msgid "SDL (MS Windows DirectX)"
+msgstr "SDL (MS Windows DirectX)"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:271
 msgid "SDL (good)"
@@ -2994,7 +2998,7 @@
 msgstr "Audio"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_prefs.cpp:406
-#: avidemux/gtk_gui.cpp:2007
+#: avidemux/gtk_gui.cpp:2014
 msgid "Video"
 msgstr "Vid?o"
 
@@ -3063,75 +3067,91 @@
 msgstr "Configuration automatique"
 
 #: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:51
+msgid "Arabic"
+msgstr "Arabe"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:52
+msgid "Baltic"
+msgstr "Europe du Nord (Latin-4)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:53
 msgid "Chinese Simplified (GB2312)"
 msgstr "Chinois simplifi? (GB2312)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:52
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:54
 msgid "Chinese Traditional (Big5)"
 msgstr "Chinois traditionnel (Big5)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:53
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:55
 msgid "Cyrillic"
 msgstr "Cyrillique (Windows-1251)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:54
-msgid "Czech"
-msgstr "Europe centrale (ISO-8859-2)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:56
+msgid "Latin-1 (Western European)"
+msgstr "Europe occidentale (Latin-1)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:55
-msgid "German"
-msgstr "Occidental (ISO 8859-9)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:57
+msgid "Latin-2 (Central European)"
+msgstr "Europe centrale (Latin-2)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:56
-msgid "Latin-1"
-msgstr "Occidental (ISO-8859-1)"
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:58
+msgid "Greek"
+msgstr "Grec"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:57
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:59
+msgid "Hebrew"
+msgstr "H?breu"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:60
 msgid "Slovene"
 msgstr "Europe centrale (Windows-1250)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:58
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:61
+msgid "Turkish"
+msgstr "Turc (Latin-5)"
+
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:62
 msgid "UTF-8"
 msgstr "Unicode (UTF-8)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:59
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:63
 msgid "UTF-16"
 msgstr "Unicode (UTF-16)"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:89
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:98
 msgid "_Subtitle file:"
 msgstr "Fichier de _sous-titres :"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:89
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:98
 #: avidemux/ADM_videoFilter/ADM_vidASS.cpp:87
 msgid "Select Subtitle file"
 msgstr "S?lectionner le fichier de sous-titres"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:90
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:99
 msgid "_Font (TTF):"
 msgstr "_Police (TTF) :"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:90
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:99
 msgid "Select TTF file"
 msgstr "S?lectionner le fichier TTF"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:105
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:114
 msgid "_Encoding:"
 msgstr "_Encodage :"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:107
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:116
 msgid "S_elect C_olor"
 msgstr "Choisir la c_oul_eur"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:108
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:117
 msgid "Set Size and _Position"
 msgstr "Choisir la taille et la _position"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:109
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:118
 msgid "_Auto split"
 msgstr "D?coupe _automatique"
 
-#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:110
+#: avidemux/ADM_userInterfaces/ADM_commonUI/DIA_srt.cpp:119
 msgid "_Delay (ms):"
 msgstr "_Retard (ms) :"
 
@@ -3212,17 +3232,17 @@
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:652
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:668
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:698
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:662
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:669
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:676
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:789
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:663
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:670
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:677
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:790
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:166
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:206
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:79
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_ocr.cpp:93
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:426
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_resize.cpp:440
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1213
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1218
 msgid "0"
 msgstr "0"
 
@@ -3753,7 +3773,7 @@
 msgstr "Occup?"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:405
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:999
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1000
 msgid "Calculator"
 msgstr "Calculatrice"
 
@@ -3766,7 +3786,7 @@
 msgstr "Dur?e :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_calculator.cpp:451
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:803
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:804
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_idx_pg.cpp:198
 msgid "00:00:00"
 msgstr "00:00:00"
@@ -4053,121 +4073,121 @@
 msgid "Auto Crop"
 msgstr "Retaillage automatique"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:162
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:184
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:163
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:185
 msgid "Privileges Required"
 msgstr "Privil?ges requis"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:162
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:184
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:163
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:185
 msgid "Root privileges are required to perform this operation."
 msgstr "Les privil?ges d'administrateur sont requis pour effectuer cette op?ration."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:205
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:206
 msgid "Shutting down"
 msgstr "Eteindre"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:382
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:383
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:150
 #, c-format
 msgid "%d%%"
 msgstr "%d%%"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:405
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:412
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:419
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:406
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:413
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:420
 #, c-format
 msgid "%lu MB"
 msgstr "%lu Mo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:515
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:516
 msgid "Encoding..."
 msgstr "Encodage..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:546
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:547
 msgid "<b>Phase:</b>"
 msgstr "<b>Phase :</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:561
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:562
 msgid "<b>Video Codec:</b>"
 msgstr "<b>Codec vid?o :</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:576
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:577
 msgid "<b>Audio Codec:</b>"
 msgstr "<b>Codec audio :</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:591
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:592
 msgid "<b>Container:</b>"
 msgstr "<b>Conteneur :</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:623
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:624
 msgid "<b>Processed Frames:</b>"
 msgstr "<b>Image trait?es :</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:631
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:632
 msgid "<b>Total Frames:</b>"
 msgstr "<b>Images totales :</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:639
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:640
 msgid "<b>Quantiser:</b>"
 msgstr "<b>Quantificateur :</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:647
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:648
 msgid "<b>Average Bitrate:</b>"
 msgstr "<b>D?bit moyen :</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:655
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:656
 msgid "0 kB/s"
 msgstr "0 ko/s"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:700
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:701
 msgid "<b>Video Size:</b>"
 msgstr "<b>Taille de la vid?o?:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:708
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:709
 msgid "<b>Audio Size:</b>"
 msgstr "<b>Taille de l'audio?:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:716
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:717
 msgid "<b>Total Size:</b>"
 msgstr "<b>Taille totale?:</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:724
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:732
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:740
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:725
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:733
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:741
 msgid "0 MB"
 msgstr "0 Mo"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:765
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:766
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_working.cpp:244
 msgid "<b>Elapsed:</b>"
 msgstr "<b>Ecoul? :</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:773
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:774
 msgid "<b>Time Remaining:</b>"
 msgstr "<b>Restant :</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:781
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:782
 msgid "<b>Frames/sec:</b>"
 msgstr "<b>Images/sec :</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:827
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:828
 msgid "Shut down computer when finished"
 msgstr "Eteindre le PC une fois fini"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:835
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:836
 msgid "Priority:"
 msgstr "Priorit? :"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:845
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:846
 msgid "Above Normal"
 msgstr "Au-dessus de normal"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:847
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:848
 msgid "Below Normal"
 msgstr "En-dessous de normal"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:885
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_encoding.cpp:886
 msgid "Pause / Abort"
 msgstr "Pause"
 
@@ -4280,7 +4300,7 @@
 msgstr "R?ussie"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_jobs.cpp:25
-#: avidemux/gtk_gui.cpp:2285
+#: avidemux/gtk_gui.cpp:2292
 msgid "Failed"
 msgstr "Echou?e"
 
@@ -4499,7 +4519,7 @@
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_preview.cpp:180
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_threshold.cpp:548
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:336
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:337
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtersub.cpp:150
 msgid "Preview"
 msgstr "Pr?visualisation"
@@ -4583,7 +4603,7 @@
 msgstr "Rapport H/L :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:311
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1063
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1064
 msgid "<b>Video</b>"
 msgstr "<b>Vid?o</b>"
 
@@ -4628,7 +4648,7 @@
 msgstr "D?bit variable :"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_properties.cpp:489
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1103
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1104
 msgid "<b>Audio</b>"
 msgstr "<b>Audio</b>"
 
@@ -4736,8 +4756,8 @@
 msgstr "Encodeur vid?o"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_vcodec.cpp:123
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1083
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1123
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1084
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1124
 msgid "Configure"
 msgstr "Configurer"
 
@@ -5934,7 +5954,7 @@
 msgstr "S?lectionner couleur"
 
 #: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp:90
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp:245
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/DIA_filesel.cpp:247
 msgid "_Browse..."
 msgstr "_Parcourir..."
 
@@ -5966,24 +5986,24 @@
 msgid "Two pass - average bitrate"
 msgstr "Deux passes - d?bit variable"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:280
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:283
 #: avidemux/ADM_videoFilter/ADM_vidForcedPP.cpp:61
 msgid "_Quantizer:"
 msgstr "_Quantificateur :"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:285
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:288
 msgid "A_vg Quantizer:"
 msgstr "Quantificateur _moyen :"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:290
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:293
 msgid "_Video size (MB):"
 msgstr "Taille de la _vid?o (Mo) :"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:295
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:298
 msgid "_Average bitrate (kb/s):"
 msgstr "D?bit _moyen (kb/s) :"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:300
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_bitrate.cpp:303
 msgid "-"
 msgstr "-"
 
@@ -6036,21 +6056,21 @@
 msgid "Miscellaneous"
 msgstr "Divers"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:244
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:245
 msgid "The filter is already partial"
 msgstr "Le filtre est d?j? partiel"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:342
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:344
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:343
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:345
 msgid "Load set of filters"
 msgstr "Charger un jeu de filtres"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:357
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:358
 msgid "Nothing to save"
 msgstr "Rien ? enregistrer"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:361
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:363
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:362
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_filters/gui_filtermanager.cpp:364
 msgid "Save set of filters"
 msgstr "Enregistrer un jeu de filtres"
 
@@ -6215,502 +6235,506 @@
 msgid "Frame:%c(%02d)"
 msgstr "Image?: %c(%02d)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:274
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:275
 msgid "Avidemux"
 msgstr "Avidemux "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:298
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:299
 msgid "_Open..."
 msgstr "_Ouvrir..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:309
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:310
 msgid "_Append..."
 msgstr "_Ajouter..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:320
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:321
 msgid "_Save"
 msgstr "_Enregistrer"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:331
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:332
 msgid "Save _Video..."
 msgstr "_Enregistrer une vid?o..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:343
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:344
 msgid "Save _BMP Image..."
 msgstr "Enregistrer en image _BMP..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:347
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:348
 msgid "Save _JPEG Image..."
 msgstr "Enregistrer en image _JPEG..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:351
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:352
 msgid "Save _Selection as JPEG Images..."
 msgstr "Enregistrer la _s?lection en images JPEG..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:364
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:365
 msgid "Save _Project"
 msgstr "Enregistrer le _projet"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:372
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:373
 msgid "Save P_roject As..."
 msgstr "Enregistrer le p_rojet sous..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:380
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:381
 msgid "_Load/Run Project..."
 msgstr "_Charger/Lancer un projet..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:388
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:389
 msgid "A_dd to Joblist..."
 msgstr "A_jouter ? la liste des t?ches..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:392
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:393
 msgid "Show _Joblist"
 msgstr "Ouvrir la _liste des t?ches"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:404
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:405
 msgid "Co_nnect to avsproxy"
 msgstr "Co_nnexion ? avsproxy"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:413
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:414
 msgid "Proper_ties"
 msgstr "Propr_i?t?s"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:424
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:425
 msgid "AVI _Muxer Options"
 msgstr "Options du _multiplexeur AVI"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:433
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:434
 msgid "_Quit"
 msgstr "_Quitter"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:444
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:445
 msgid "_Edit"
 msgstr "_Edition"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:451
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:452
 msgid "_Reset Edits"
 msgstr "_Annuler tout"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:464
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:465
 msgid "Cu_t"
 msgstr "Coup_er"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:475
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:476
 msgid "_Copy"
 msgstr "Co_pier"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:486
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:487
 msgid "_Paste"
 msgstr "C_oller"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:497
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:498
 msgid "_Delete"
 msgstr "_Supprimer"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:513
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:514
 msgid "Set Marker _A"
 msgstr "Marqueur _A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:520
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:521
 msgid "Set Marker _B"
 msgstr "Marqueur _B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:532
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:533
 msgid "Pre_ferences"
 msgstr "Pr?_f?rences"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:540
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:541
 msgid "_View"
 msgstr "_Affichage"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:547
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:548
 msgid "_Main Toolbar"
 msgstr "Barre _principale"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:552
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:553
 msgid "_A/V Sidebar"
 msgstr "Barre _audio/vid?o"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:562
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:563
 msgid "_Zoom 1:4"
 msgstr "_Zoom 1:4"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:569
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:570
 msgid "Z_oom 1:2"
 msgstr "Z_oom 1:2"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:576
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:577
 msgid "Zoom _1:1"
 msgstr "Zoom _1:1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:583
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:584
 msgid "Zoom _2:1"
 msgstr "Zoom _2:1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:590
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:591
 msgid "Vi_deo"
 msgstr "Vi_d?o"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:597
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:598
 msgid "_Decoder Options"
 msgstr "Options du _d?codeur"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:604
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:605
 msgid "_Postprocessing"
 msgstr "_Post-traitement"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:607
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:608
 msgid "Select postprocessing level"
 msgstr "Choisir le niveau de post-traitement"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:617
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:618
 msgid "P_review"
 msgstr "A_per?u"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:624
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:625
 msgid "Display _Output"
 msgstr "Afficher la _sortie"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:636
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:637
 msgid "_Frame Rate"
 msgstr "_Images par seconde"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:640
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:689
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:641
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:690
 msgid "_Encoder"
 msgstr "_Encodeur"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:647
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:648
 msgid "Fil_ters"
 msgstr "Fil_tres"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:654
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:655
 msgid "_Audio"
 msgstr "_Audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:661
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:662
 msgid "_Main Track"
 msgstr "Piste _principale"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:665
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:666
 msgid "_Second Track"
 msgstr "Piste _secondaire"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:669
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:670
 msgid "_Build VBR Time Map"
 msgstr "_Construire l'index temporel VBR"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:678
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:679
 msgid "S_ave..."
 msgstr "E_nregistrer..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:696
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:697
 msgid "_Filters"
 msgstr "_Filtres"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:700
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:701
 msgid "_Tools"
 msgstr "_Outils"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:707
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:708
 msgid "_Calculator"
 msgstr "_Calculatrice"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:723
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:724
 msgid "_Rebuild Frames (I & B)"
 msgstr "_Reconstruire les images (I & B)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:727
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:728
 msgid "C_heck Frames (slow)"
 msgstr "V_?rifier toutes les images (lent)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:731
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:732
 msgid "_Bitrate Histogram"
 msgstr "Histogramme du _d?bit"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:735
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:736
 msgid "_Scan for Black Frames..."
 msgstr "_Chercher l'image noire suivante..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:744
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:745
 msgid "_VOB -> VobSub"
 msgstr "_VOB -> VobSub"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:748
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:749
 msgid "_OCR (VobSub -> srt)"
 msgstr "_OCR (VobSub -> srt)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:752
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:753
 msgid "OCR (TS->srt)"
 msgstr "OCR (TS -> srt)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:756
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:757
 msgid "_Edit Glyph"
 msgstr "_Editer les symboles"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:765
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:766
 msgid "_Frame Hex Dump"
 msgstr "Dump hexad?cimal des _images"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:769
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:770
 msgid "A_uto"
 msgstr "A_uto"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:776
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:777
 msgid "_VCD"
 msgstr "_VCD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:780
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:781
 msgid "_SVCD"
 msgstr "_SVCD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:784
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:785
 msgid "_DVD"
 msgstr "_DVD"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:788
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:789
 msgid "_PSP"
 msgstr "_PSP"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:792
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:793
 msgid "PSP (_H.264)"
 msgstr "PSP (_ H.264)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:796
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:797
 msgid "F_LV"
 msgstr "F_LV"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:800
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:801
 msgid "IPOD (mpeg4)"
 msgstr "IPOD (MPEG4)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:804
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:805
 msgid "_Go"
 msgstr "_Aller ?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:811
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:812
 msgid "_Play/Stop"
 msgstr "_Lecture/Pause"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:822
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:823
 msgid "P_revious Frame"
 msgstr "Image _pr?c?dente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:833
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:834
 msgid "_Next Frame"
 msgstr "Image _suivante"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:844
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:845
 msgid "Pr_evious Intra Frame"
 msgstr "Image-I p_r?c?dente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:855
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:856
 msgid "Next _Intra Frame"
 msgstr "Image-I s_uivante"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:866
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:867
 msgid "Previou_s Black Frame"
 msgstr "Image noire pr?c?dent_e"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:870
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:871
 msgid "Ne_xt Black Frame"
 msgstr "Image noire su_ivante"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:874
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:875
 msgid "_First Frame"
 msgstr "Premi?re ima_ge"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:885
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:886
 msgid "_Last Frame"
 msgstr "_Derni?re image"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:901
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:902
 msgid "Go to Marker _A"
 msgstr "Aller au marqueur _A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:908
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:909
 msgid "Go to Marker _B"
 msgstr "Aller au marqueur _B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:920
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:921
 msgid "Go to Fra_me..."
 msgstr "Aller ? l'i_mage..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:931
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:932
 msgid "Go to _Time..."
 msgstr "Aller au _temps..."
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:942
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:943
 msgid "_Custom"
 msgstr "_Personnalis?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:946
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:947
 msgid "_Help"
 msgstr "_Aide"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:953
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:954
 msgid "_Built-in Support"
 msgstr "_Support int?gr? pour"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:957
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:958
 msgid "_About"
 msgstr "_A propos"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:975
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:976
 msgid "Open a file"
 msgstr "Ouvrir un fichier"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:985
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:986
 msgid "Save the file"
 msgstr "Enregistrer le fichier"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:991
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:992
 msgid "Audio/video file information"
 msgstr "Informations fichier audio/vid?o"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1002
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1003
 msgid "Bitrate/size calculator"
 msgstr "Calculatrice d?bit/taille"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1086
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1087
 msgid "Configure video encoder"
 msgstr "Configurer l'encodeur vid?o"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1091
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1147
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1092
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1148
 msgid "Filters"
 msgstr "Filtres"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1094
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1095
 msgid "Video filters"
 msgstr "Filtres Vid?o"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1126
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1127
 msgid "Configure audio encoder"
 msgstr "Configurer l'encodeur audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1134
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1135
 msgid "Audio filters"
 msgstr "Filtres audio"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1155
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1156
 msgid "Shift:"
 msgstr "D?calage?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1158
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1159
 msgid "Enable time shift"
 msgstr "Permet le d?calage"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1164
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1165
 msgid "Audio/video time shift (ms)"
 msgstr "D?calage audio/vid?o (ms)"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1171
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1168
+msgid "ms"
+msgstr "ms"
+
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1176
 msgid "<b>Format</b>"
 msgstr "<b>Format</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1204
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1209
 msgid "Frame: "
 msgstr "Image?: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1211
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1216
 msgid "Current frame"
 msgstr "Image actuelle"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1216
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1221
 msgid "/ 0000000"
 msgstr "/ 0000000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1223
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1228
 msgid "Time: "
 msgstr "Temps?: "
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1230
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1235
 msgid "Current time"
 msgstr "Temps actuel"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1231
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1236
 msgid "00:00:00.000"
 msgstr "00:00:00.000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1234
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1239
 msgid "/ 00:00:00,000"
 msgstr "/ 00:00:00,000"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1241
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1246
 msgid "Frame: ?"
 msgstr "Image?: ?"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1265
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1270
 msgid "Play"
 msgstr "Lecture"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1279
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1284
 msgid "Stop"
 msgstr "Stop"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1291
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1296
 msgid "Previous frame"
 msgstr "Image pr?c?dente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1306
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1311
 msgid "Next frame"
 msgstr "Image suivante"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1321
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1326
 msgid "Previous keyframe"
 msgstr "Image-cl? pr?c?dente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1336
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1341
 msgid "Next keyframe"
 msgstr "Image-cl? suivante"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1350
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1355
 msgid "Selection: start"
 msgstr "S?lection?: d?but"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1361
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1366
 msgid "Selection: end"
 msgstr "S?lection?: fin"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1372
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1377
 msgid "Previous black frame"
 msgstr "Image noire pr?c?dente"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1383
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1388
 msgid "Next black frame"
 msgstr "Image noire suivante"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1394
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1399
 msgid "First frame"
 msgstr "Premi?re image"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1405
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1410
 msgid "Last frame"
 msgstr "Derni?re image"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1419
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1424
 msgid "<b>Selection</b>"
 msgstr "<b>S?lection</b>"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1436
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1441
 msgid "B:"
 msgstr "B?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1443
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1448
 msgid "Go to marker B"
 msgstr "Aller au marqueur B"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1445
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1450
 msgid "A:"
 msgstr "A?:"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1452
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1457
 msgid "Go to marker A"
 msgstr "Aller au marqueur A"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1454
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1462
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1459
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_main2.cpp:1467
 msgid " 0000000"
 msgstr " 0000000"
 
@@ -6781,18 +6805,22 @@
 msgid "All"
 msgstr "Tous"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:582
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:660
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:728
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:788
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:851
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:574
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:652
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:720
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:780
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:843
 msgid "label1"
 msgstr "label1"
 
-#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:715
+#: avidemux/ADM_userInterfaces/ADM_GTK/ADM_toolkit_gtk/toolkit_dialog.cpp:707
 msgid "Alert"
 msgstr "Alerte"
 
+#: avidemux/ADM_userInterfaces/ADM_GTK/ui_support.cpp:37
+msgid "GTK+"
+msgstr "GTK+"
+
 #: avidemux/ADM_video/ADM_vidFieldUnblend.cpp:81
 msgid "Metrics"
 msgstr "Mesures"
@@ -6903,7 +6931,6 @@
 msgstr "_Seuil?:"
 
 #: avidemux/ADM_videoFilter/ADM_vidBlendRemoval.cpp:83
-#, fuzzy
 msgid "If value is smaller than threshold it is considered valid.Smaller value might mean more false positive."
 msgstr "Si la valeur est plus petite que le seuil, elle est consid?r? valide. Une valuer plus petite peut signifier plus de faux positif."
 
@@ -7519,8 +7546,8 @@
 
 #: avidemux/ADM_videoFilter/ADM_vidParticle.cpp:191
 #: avidemux/ADM_videoFilter/ADM_vidSwissArmyKnife.cpp:324
-#: avidemux/gtk_gui.cpp:2019
-#: avidemux/gtk_gui.cpp:2116
+#: avidemux/gtk_gui.cpp:2026
+#: avidemux/gtk_gui.cpp:2123
 msgid "Select file"
 msgstr "S?lectionner un fichier"
 
@@ -7766,27 +7793,24 @@
 msgid "_Order:"
 msgstr "_Ordre :"
 
-#: avidemux/gtk_gui.cpp:250
+#: avidemux/gtk_gui.cpp:248
 msgid "Select ECMAScript to Run"
 msgstr ""
 
-#: avidemux/gtk_gui.cpp:297
-#: avidemux/gtk_gui.cpp:336
+#: avidemux/gtk_gui.cpp:329
 msgid "Obsolete"
 msgstr "Obsol?te"
 
-#: avidemux/gtk_gui.cpp:364
+#: avidemux/gtk_gui.cpp:357
 msgid "Not coded in this version"
 msgstr "Pas cod? dans cette version"
 
-#: avidemux/gtk_gui.cpp:379
-#: avidemux/gtk_gui.cpp:384
-#: avidemux/gtk_gui.cpp:505
-#: avidemux/gtk_gui.cpp:508
+#: avidemux/gtk_gui.cpp:372
+#: avidemux/gtk_gui.cpp:489
 msgid "Select AVI File..."
 msgstr "S?lectionner le fichier AVI..."
 
-#: avidemux/gtk_gui.cpp:441
+#: avidemux/gtk_gui.cpp:425
 msgid ""
 "This is to be used to undo packed VOP on MPEG-4.\n"
 "Continue ?"
@@ -7794,161 +7818,173 @@
 "Cela doit ?tre utilis? pour enlever les VOP sur du MPEG4.\n"
 "Continuer??"
 
-#: avidemux/gtk_gui.cpp:443
+#: avidemux/gtk_gui.cpp:427
 msgid "Select AVI File to Write"
 msgstr "S?lectionner le fichier AVI ? ?crire"
 
-#: avidemux/gtk_gui.cpp:449
+#: avidemux/gtk_gui.cpp:433
 msgid "Select OGM File to Write"
 msgstr "S?lectionner le fichier OGM ? ?crire"
 
-#: avidemux/gtk_gui.cpp:453
-#: avidemux/gtk_gui.cpp:465
+#: avidemux/gtk_gui.cpp:437
+#: avidemux/gtk_gui.cpp:449
 msgid "Select Workbench to Save"
 msgstr "S?lectionner le fichier projet ? enregistrer"
 
-#: avidemux/gtk_gui.cpp:495
+#: avidemux/gtk_gui.cpp:479
 msgid "Select Raw File to Save"
 msgstr "S?lectionner le fichier brut ? enregistrer"
 
-#: avidemux/gtk_gui.cpp:511
+#: avidemux/gtk_gui.cpp:492
 msgid "Select AVI File to Append..."
 msgstr "S?lectionner le fichier AVI ? ajouter..."
 
-#: avidemux/gtk_gui.cpp:515
+#: avidemux/gtk_gui.cpp:496
 msgid "Select File to Save Audio"
 msgstr "S?lectionner le fichier o? sauvegarder l'audio"
 
-#: avidemux/gtk_gui.cpp:549
+#: avidemux/gtk_gui.cpp:530
 msgid "Select JPEG Sequence to Save"
 msgstr "S?lectionner la s?quence JPEG ? enregistrer"
 
-#: avidemux/gtk_gui.cpp:552
+#: avidemux/gtk_gui.cpp:533
 msgid "Select BMP to Save"
 msgstr "S?lectionner le BMP ? enregistrer"
 
-#: avidemux/gtk_gui.cpp:556
+#: avidemux/gtk_gui.cpp:537
 msgid "Select JPEG to Save"
 msgstr "S?lectionner le JPEG ? enregistrer"
 
-#: avidemux/gtk_gui.cpp:609
-#: avidemux/gtk_gui.cpp:715
+#: avidemux/gtk_gui.cpp:590
+#: avidemux/gtk_gui.cpp:699
 msgid "Select File to Save"
 msgstr "S?lectionner le fichier ? enregistrer"
 
-#: avidemux/gtk_gui.cpp:661
+#: avidemux/gtk_gui.cpp:642
 msgid "Select MP3 to Load"
 msgstr "S?lectionner le MP3 ? charger"
 
-#: avidemux/gtk_gui.cpp:664
+#: avidemux/gtk_gui.cpp:645
 msgid "Select AC3 to Load"
 msgstr "S?lectionner l'AC3 ? charger"
 
-#: avidemux/gtk_gui.cpp:667
+#: avidemux/gtk_gui.cpp:648
 msgid "Select WAV to Load"
 msgstr "S?lectionner le WAV ? charger"
 
-#: avidemux/gtk_gui.cpp:705
+#: avidemux/gtk_gui.cpp:686
 msgid "Go to Frame"
 msgstr "Aller ? l'image"
 
-#: avidemux/gtk_gui.cpp:705
+#: avidemux/gtk_gui.cpp:686
 msgid "_Go to frame:"
 msgstr "_Aller ? l'image :"
 
-#: avidemux/gtk_gui.cpp:710
+#: avidemux/gtk_gui.cpp:691
 msgid "Out of bounds"
 msgstr "Hors limites"
 
-#: avidemux/gtk_gui.cpp:720
-#: avidemux/gtk_gui.cpp:1918
+#: avidemux/gtk_gui.cpp:697
+#: avidemux/gtk_gui.cpp:705
+#: avidemux/gtk_gui.cpp:1925
 msgid "Marker A > B"
 msgstr "Marqueur A?>?B"
 
-#: avidemux/gtk_gui.cpp:720
+#: avidemux/gtk_gui.cpp:697
+msgid "An invalid frame range has been selected.  Make sure marker A is placed before marker B."
+msgstr "Un intervalle incorrect d'images a ?t? s?lectionn?. Veuillez vous assurer que le marqueur A est plac? avant le marqueur B."
+
+#: avidemux/gtk_gui.cpp:705
 msgid "Cannot copy."
 msgstr "Ne peut pas copier"
 
-#: avidemux/gtk_gui.cpp:732
+#: avidemux/gtk_gui.cpp:717
 msgid "Something bad happened (II))"
 msgstr "Quelque chose de mauvais c'est pass? (II)"
 
-#: avidemux/gtk_gui.cpp:746
+#: avidemux/gtk_gui.cpp:731
 msgid "Are you sure?"
 msgstr "Etes vous s?r??"
 
-#: avidemux/gtk_gui.cpp:805
+#: avidemux/gtk_gui.cpp:790
 msgid "Use custom value"
 msgstr "Utiliser une valeur personnalis?e"
 
-#: avidemux/gtk_gui.cpp:806
+#: avidemux/gtk_gui.cpp:791
 msgid "Frame Rate"
 msgstr "Images par seconde"
 
-#: avidemux/gtk_gui.cpp:806
+#: avidemux/gtk_gui.cpp:791
 msgid "_Frames per second"
 msgstr "_Images par seconde :"
 
-#: avidemux/gtk_gui.cpp:809
+#: avidemux/gtk_gui.cpp:794
 msgid "PAL - 25 FPS"
 msgstr "PAL - 25 FPS"
 
-#: avidemux/gtk_gui.cpp:810
+#: avidemux/gtk_gui.cpp:795
 msgid "FILM- 24 FPS"
 msgstr "FILM- 24 FPS"
 
-#: avidemux/gtk_gui.cpp:811
+#: avidemux/gtk_gui.cpp:796
 msgid "NTSC- 30 FPS"
 msgstr "NTSC - 30fps"
 
-#: avidemux/gtk_gui.cpp:813
-#, fuzzy
+#: avidemux/gtk_gui.cpp:798
 msgid "Standard FrameRate:"
-msgstr "Image par seconde standard :"
+msgstr "Nombres d'images par seconde standard :"
 
-#: avidemux/gtk_gui.cpp:819
-#, fuzzy
+#: avidemux/gtk_gui.cpp:804
 msgid "Change FrameRate"
-msgstr "Chnager les images par seconde"
+msgstr "Changer le nombre d'images par seconde"
 
-#: avidemux/gtk_gui.cpp:850
+#: avidemux/gtk_gui.cpp:835
 msgid "Width is not a multiple of 8"
 msgstr "La largeur n'est pas un multiple de 8"
 
-#: avidemux/gtk_gui.cpp:851
+#: avidemux/gtk_gui.cpp:836
 msgid "This will make trouble for AVI files."
 msgstr "Cela devrait engendrer des ennuis pour les fichiers AVI."
 
-#: avidemux/gtk_gui.cpp:861
+#: avidemux/gtk_gui.cpp:846
 msgid "Rebuild all Keyframes?"
 msgstr "Reconstruire toutes les images-cl???"
 
-#: avidemux/gtk_gui.cpp:918
+#: avidemux/gtk_gui.cpp:902
 msgid "Permission error"
 msgstr "Erreur de permission"
 
-#: avidemux/gtk_gui.cpp:921
+#: avidemux/gtk_gui.cpp:905
 #, c-format
 msgid "\"%s\" does not exist."
 msgstr "??%s?? n'existe pas."
 
-#: avidemux/gtk_gui.cpp:960
+#: avidemux/gtk_gui.cpp:908
+msgid "Error opening file"
+msgstr "Erreur lors de l'ouverture du fichier"
+
+#: avidemux/gtk_gui.cpp:908
+#, c-format
+msgid "Error opening \"%s\"."
+msgstr "Erreur lors de l'ouverture de ??%s??."
+
+#: avidemux/gtk_gui.cpp:952
 msgid "Cannot open project using the video loader."
 msgstr "Ne peut pas ouvrir le projet utilisant le chargeur vid?o."
 
-#: avidemux/gtk_gui.cpp:961
+#: avidemux/gtk_gui.cpp:953
 msgid "Try 'File' -> 'Load/Run Project...'"
 msgstr "Essayez ??Fichier -> Charger/Lancer un projet...??"
 
-#: avidemux/gtk_gui.cpp:963
+#: avidemux/gtk_gui.cpp:955
 msgid "Could not open the file"
 msgstr "Ne peut ouvrir le fichier"
 
-#: avidemux/gtk_gui.cpp:997
+#: avidemux/gtk_gui.cpp:989
 msgid "Multiple Audio Tracks"
 msgstr "Multiple pistes audio"
 
-#: avidemux/gtk_gui.cpp:997
+#: avidemux/gtk_gui.cpp:989
 msgid ""
 "The file you just loaded contains several audio tracks.\n"
 "Go to Audio->MainTrack to select the active one."
@@ -7956,276 +7992,276 @@
 "Le fichier charg? contient plusieurs pistes audio.\n"
 "Aller ? ??Audio -> Piste Principale?? pour choisir la piste active."
 
-#: avidemux/gtk_gui.cpp:1051
+#: avidemux/gtk_gui.cpp:1043
 msgid "No audio decoder found for this file"
 msgstr "Pas de d?codeur audio pour ce fichier"
 
-#: avidemux/gtk_gui.cpp:1052
+#: avidemux/gtk_gui.cpp:1044
 msgid "Save (A+V) will generate bad AVI. Save audio will work."
 msgstr "Enregistrer l'audio et la vid?o g?n?rera un mauvais AVI. Enregistrer l'audio fonctionnera."
 
-#: avidemux/gtk_gui.cpp:1111
+#: avidemux/gtk_gui.cpp:1103
 msgid "Something failed when appending"
 msgstr "Quelque chose de mauvais c'est pass?"
 
-#: avidemux/gtk_gui.cpp:1120
-#: avidemux/gtk_gui.cpp:1937
+#: avidemux/gtk_gui.cpp:1114
+#: avidemux/gtk_gui.cpp:1944
 msgid "Something bad happened (II)"
 msgstr "Quelque chose de mauvais c'est pass? (II)"
 
-#: avidemux/gtk_gui.cpp:1184
+#: avidemux/gtk_gui.cpp:1178
 msgid "Cannot save the audio in copy mode"
 msgstr "Ne peut pas enregistrer l'audio en mode copie"
 
-#: avidemux/gtk_gui.cpp:1184
+#: avidemux/gtk_gui.cpp:1178
 msgid "Select WAV PCM as the audio codec, otherwise the audio file would be raw PCM."
 msgstr "Choisissez WAV PCM comme codec audio, autrement le fichier audio sera en PCM brut."
 
-#: avidemux/gtk_gui.cpp:1192
-#: avidemux/gtk_gui.cpp:1547
+#: avidemux/gtk_gui.cpp:1186
+#: avidemux/gtk_gui.cpp:1554
 msgid "Saving audio"
 msgstr "Enregistre la piste audio"
 
-#: avidemux/gtk_gui.cpp:1269
+#: avidemux/gtk_gui.cpp:1263
 msgid "Get Frame"
 msgstr "Capture de l'image"
 
-#: avidemux/gtk_gui.cpp:1269
+#: avidemux/gtk_gui.cpp:1263
 msgid "Cannot get this frame to save"
 msgstr "Ne peut enregistrer l'image"
 
-#: avidemux/gtk_gui.cpp:1307
+#: avidemux/gtk_gui.cpp:1301
 msgid "Mark A > B"
 msgstr "Marque A > B"
 
-#: avidemux/gtk_gui.cpp:1307
+#: avidemux/gtk_gui.cpp:1301
 msgid "Set your markers correctly."
 msgstr "Mettez vos marqueurs correctement."
 
-#: avidemux/gtk_gui.cpp:1316
+#: avidemux/gtk_gui.cpp:1310
 msgid "Saving as set of jpegs"
 msgstr "Enregistre comme un jeu de JPEGs"
 
-#: avidemux/gtk_gui.cpp:1322
+#: avidemux/gtk_gui.cpp:1316
 msgid "Cannot decode frame"
 msgstr "Ne peut d?coder l'image"
 
-#: avidemux/gtk_gui.cpp:1322
+#: avidemux/gtk_gui.cpp:1316
 msgid "Aborting."
 msgstr "Annulation."
 
-#: avidemux/gtk_gui.cpp:1333
-#: avidemux/gtk_gui.cpp:1352
-#: avidemux/gtk_gui.cpp:2281
+#: avidemux/gtk_gui.cpp:1327
+#: avidemux/gtk_gui.cpp:1346
+#: avidemux/gtk_gui.cpp:2288
 msgid "Done"
 msgstr "Fini"
 
-#: avidemux/gtk_gui.cpp:1333
+#: avidemux/gtk_gui.cpp:1327
 #, c-format
 msgid "Saved %d images."
 msgstr "%d images enregistr?es."
 
-#: avidemux/gtk_gui.cpp:1335
+#: avidemux/gtk_gui.cpp:1329
 msgid "Error"
 msgstr "Erreur"
 
-#: avidemux/gtk_gui.cpp:1335
+#: avidemux/gtk_gui.cpp:1329
 msgid "Could not save all images."
 msgstr "N'a pas pu enregistrer toutes les images"
 
-#: avidemux/gtk_gui.cpp:1352
+#: avidemux/gtk_gui.cpp:1346
 #, c-format
 msgid "Saved \"%s\"."
 msgstr "Enregistr? ??%s??."
 
-#: avidemux/gtk_gui.cpp:1354
+#: avidemux/gtk_gui.cpp:1348
 msgid "BMP op failed"
 msgstr ""
 
-#: avidemux/gtk_gui.cpp:1354
+#: avidemux/gtk_gui.cpp:1348
 #, c-format
 msgid "Saving %s as a BMP file failed."
 msgstr "Echec de l'enregistrement de %s comme fichier BMP."
 
-#: avidemux/gtk_gui.cpp:1374
-#: avidemux/gtk_gui.cpp:1431
+#: avidemux/gtk_gui.cpp:1370
+#: avidemux/gtk_gui.cpp:1436
 msgid "Failed to open the file"
 msgstr "Echec d'ouverture de fichier"
 
-#: avidemux/gtk_gui.cpp:1374
-#: avidemux/gtk_gui.cpp:1431
+#: avidemux/gtk_gui.cpp:1370
+#: avidemux/gtk_gui.cpp:1436
 msgid "Not a WAV file?"
 msgstr "Ce n'est pas un fichier WAV??"
 
-#: avidemux/gtk_gui.cpp:1375
+#: avidemux/gtk_gui.cpp:1371
 msgid "WAV open file failed..."
 msgstr "Echec de l'ouverture fichier WAV..."
 
-#: avidemux/gtk_gui.cpp:1501
+#: avidemux/gtk_gui.cpp:1508
 msgid "Cannot decompress audio frame"
 msgstr "Ne peut d?compresser l'image audio"
 
-#: avidemux/gtk_gui.cpp:1515
+#: avidemux/gtk_gui.cpp:1522
 msgid "Memory Error"
 msgstr "Erreur m?moire"
 
-#: avidemux/gtk_gui.cpp:1568
+#: avidemux/gtk_gui.cpp:1575
 msgid "No frames to encode"
 msgstr "Pas d'images ? encoder"
 
-#: avidemux/gtk_gui.cpp:1568
+#: avidemux/gtk_gui.cpp:1575
 msgid "Please check markers. Is \"A>\" == \">B\"?"
 msgstr "V?rifiez les marqueurs. ??A> ? == ? >B????"
 
-#: avidemux/gtk_gui.cpp:1707
+#: avidemux/gtk_gui.cpp:1714
 msgid "Saving raw video stream"
 msgstr "Enregistrer la video brute (flux ?l?mentaire)"
 
-#: avidemux/gtk_gui.cpp:1853
+#: avidemux/gtk_gui.cpp:1860
 msgid "Checking video"
 msgstr "V?rification de la vid?o"
 
-#: avidemux/gtk_gui.cpp:1869
+#: avidemux/gtk_gui.cpp:1876
 msgid "No error found"
 msgstr "Aucune erreur trouv?e"
 
-#: avidemux/gtk_gui.cpp:1873
+#: avidemux/gtk_gui.cpp:1880
 #, c-format
 msgid "Errors found in %u frames"
 msgstr "Erreurs trouv?es dans %u images"
 
-#: avidemux/gtk_gui.cpp:1891
+#: avidemux/gtk_gui.cpp:1898
 msgid "Cannot decompress the audio stream"
 msgstr "Ne peut d?compresser le flux audio"
 
-#: avidemux/gtk_gui.cpp:1891
+#: avidemux/gtk_gui.cpp:1898
 msgid "Switch audio codec to Copy."
 msgstr "Commutez le codec audio en ??Copie??."
 
-#: avidemux/gtk_gui.cpp:1918
+#: avidemux/gtk_gui.cpp:1925
 msgid "Cannot delete the selection."
 msgstr "Ne peut pas effacer la s?lection."
 
-#: avidemux/gtk_gui.cpp:1923
+#: avidemux/gtk_gui.cpp:1930
 msgid "You can't remove all frames"
 msgstr "Vous ne pouvez pas enlever toutes les images"
 
-#: avidemux/gtk_gui.cpp:1999
+#: avidemux/gtk_gui.cpp:2006
 msgid "Could not get tracks info"
 msgstr "Ne pouvait pas obtenir des infos de la piste"
 
-#: avidemux/gtk_gui.cpp:2007
+#: avidemux/gtk_gui.cpp:2014
 msgid "Take audio from video file"
 msgstr "R?cup?rer l'audio venant du fichier vid?o"
 
-#: avidemux/gtk_gui.cpp:2008
-#: avidemux/gtk_gui.cpp:2107
+#: avidemux/gtk_gui.cpp:2015
+#: avidemux/gtk_gui.cpp:2114
 msgid "No audio"
 msgstr "Pas d'audio"
 
-#: avidemux/gtk_gui.cpp:2009
-#: avidemux/gtk_gui.cpp:2108
+#: avidemux/gtk_gui.cpp:2016
+#: avidemux/gtk_gui.cpp:2115
 msgid "External AC3"
 msgstr "AC3 externe"
 
-#: avidemux/gtk_gui.cpp:2009
-#: avidemux/gtk_gui.cpp:2108
+#: avidemux/gtk_gui.cpp:2016
+#: avidemux/gtk_gui.cpp:2115
 msgid "Take audio from external AC3 file"
 msgstr "Prendre l'audio d'un fichier AC3 externe"
 
-#: avidemux/gtk_gui.cpp:2010
-#: avidemux/gtk_gui.cpp:2109
+#: avidemux/gtk_gui.cpp:2017
+#: avidemux/gtk_gui.cpp:2116
 msgid "External MP3"
 msgstr "MP3 externe"
 
-#: avidemux/gtk_gui.cpp:2010
-#: avidemux/gtk_gui.cpp:2109
+#: avidemux/gtk_gui.cpp:2017
+#: avidemux/gtk_gui.cpp:2116
 msgid "Take audio from external MP3 file"
 msgstr "Prendre l'audio d'un fichier MP3 externe"
 
-#: avidemux/gtk_gui.cpp:2011
-#: avidemux/gtk_gui.cpp:2110
+#: avidemux/gtk_gui.cpp:2018
+#: avidemux/gtk_gui.cpp:2117
 msgid "External WAV"
 msgstr "WAV externe"
 
-#: avidemux/gtk_gui.cpp:2011
-#: avidemux/gtk_gui.cpp:2110
+#: avidemux/gtk_gui.cpp:2018
+#: avidemux/gtk_gui.cpp:2117
 msgid "Take audio from external WAV file"
 msgstr "Prendre l'audio d'un fichier WAV externe"
 
-#: avidemux/gtk_gui.cpp:2015
-#: avidemux/gtk_gui.cpp:2115
+#: avidemux/gtk_gui.cpp:2022
+#: avidemux/gtk_gui.cpp:2122
 msgid "_Audio source:"
 msgstr "Source _audio :"
 
-#: avidemux/gtk_gui.cpp:2019
-#: avidemux/gtk_gui.cpp:2116
+#: avidemux/gtk_gui.cpp:2026
+#: avidemux/gtk_gui.cpp:2123
 msgid "_External file:"
 msgstr "_Fichier externe :"
 
-#: avidemux/gtk_gui.cpp:2034
+#: avidemux/gtk_gui.cpp:2041
 msgid "_Track from video:"
 msgstr "_Piste de la vid?o :"
 
-#: avidemux/gtk_gui.cpp:2044
+#: avidemux/gtk_gui.cpp:2051
 msgid "Main Audio Track"
 msgstr "Piste audio principale"
 
-#: avidemux/gtk_gui.cpp:2050
-#: avidemux/gtk_gui.cpp:2128
+#: avidemux/gtk_gui.cpp:2057
+#: avidemux/gtk_gui.cpp:2135
 msgid "Cannot load"
 msgstr "Ne peut pas charger"
 
-#: avidemux/gtk_gui.cpp:2050
-#: avidemux/gtk_gui.cpp:2128
+#: avidemux/gtk_gui.cpp:2057
+#: avidemux/gtk_gui.cpp:2135
 msgid "The selected audio file does not exist."
 msgstr "L'audio s?lectionn? n'existe pas."
 
-#: avidemux/gtk_gui.cpp:2125
+#: avidemux/gtk_gui.cpp:2132
 msgid "Second Audio Track"
 msgstr "Seconde piste audio"
 
-#: avidemux/gtk_gui.cpp:2157
+#: avidemux/gtk_gui.cpp:2164
 msgid "Error loading the MP3 file"
 msgstr "Erreur de chargement de fichier MP3"
 
-#: avidemux/gtk_gui.cpp:2166
-#: avidemux/gtk_gui.cpp:2188
-#: avidemux/gtk_gui.cpp:2210
+#: avidemux/gtk_gui.cpp:2173
+#: avidemux/gtk_gui.cpp:2195
+#: avidemux/gtk_gui.cpp:2217
 msgid "Second track loaded"
 msgstr "Seconde piste charg?e"
 
-#: avidemux/gtk_gui.cpp:2180
+#: avidemux/gtk_gui.cpp:2187
 msgid "Error loading the AC3 file"
 msgstr "Erreur de chargement de fichier AC3"
 
-#: avidemux/gtk_gui.cpp:2202
+#: avidemux/gtk_gui.cpp:2209
 msgid "Error loading the WAV file"
 msgstr "Erreur de chargement de fichier WAV"
 
-#: avidemux/gtk_gui.cpp:2269
+#: avidemux/gtk_gui.cpp:2276
 msgid "Saving failed"
 msgstr "Echec de l'enregistrement"
 
-#: avidemux/gtk_gui.cpp:2269
+#: avidemux/gtk_gui.cpp:2276
 msgid "Saving the job failed. Maybe you have permission issue with ~/.avidemux"
 msgstr "Echec de l'enregistrement des t?ches. Peut-?tre qu'il des probl?me de permission avec ~/.avidemux"
 
-#: avidemux/gtk_gui.cpp:2281
+#: avidemux/gtk_gui.cpp:2288
 #, c-format
 msgid "File %s has been successfully saved."
 msgstr "Le fichier ??%s?? a ?t? enregistr? avec succ?s."
 
-#: avidemux/gtk_gui.cpp:2285
+#: avidemux/gtk_gui.cpp:2292
 #, c-format
 msgid "File %s was NOT saved correctly."
 msgstr "Le fichier ??%s?? n'a pas ?t? enregistr? correctement."
 
-#: avidemux/gtk_gui.cpp:2451
+#: avidemux/gtk_gui.cpp:2458
 msgid "AvsProxy"
 msgstr "AvsProxy"
 
-#: avidemux/gtk_gui.cpp:2451
+#: avidemux/gtk_gui.cpp:2458
 msgid ""
 "Failed to connect to avsproxy.\n"
 "Is it running ?"
@@ -8233,19 +8269,19 @@
 "Echec de connexion ? l'avsproxy.\n"
 "Est il lanc? ?"
 
-#: avidemux/gtk_gui.cpp:2456
+#: avidemux/gtk_gui.cpp:2463
 msgid "avsproxy"
 msgstr "avsproxy"
 
-#: avidemux/gtk_gui.cpp:2484
+#: avidemux/gtk_gui.cpp:2491
 msgid "Frame type:"
 msgstr "Type d'image :"
 
-#: avidemux/gtk_gui.cpp:2485
+#: avidemux/gtk_gui.cpp:2492
 msgid "Frame size:"
 msgstr "Taille de l'image :"
 
-#: avidemux/gtk_gui.cpp:2487
+#: avidemux/gtk_gui.cpp:2494
 msgid "Frame Hex Dump"
 msgstr "Dump hexad?cimal des images"
 
@@ -8337,35 +8373,35 @@
 msgid "Select Copy as the video codec."
 msgstr "S?lectionner ??Copie?? pour le codec vid?o."
 
-#: avidemux/gui_savenew.cpp:207
-#: avidemux/gui_savenew.cpp:223
-#: avidemux/gui_savenew.cpp:236
+#: avidemux/gui_savenew.cpp:209
+#: avidemux/gui_savenew.cpp:225
+#: avidemux/gui_savenew.cpp:238
 msgid "Incompatible output format"
 msgstr "Format de sortie incompatible"
 
-#: avidemux/gui_savenew.cpp:254
+#: avidemux/gui_savenew.cpp:259
 msgid "There is no second track"
 msgstr "Il n'y a pas de seconde piste"
 
-#: avidemux/gui_savenew.cpp:254
+#: avidemux/gui_savenew.cpp:259
 msgid "Select a second audio track in the Audio menu."
 msgstr "S?lectionner une seconde piste audio dans le menu Audio"
 
-#: avidemux/gui_savenew.cpp:258
+#: avidemux/gui_savenew.cpp:263
 msgid "Select dual audio AVI to write"
 msgstr "S?lection d'un fichier AVI double audio ? ?crire"
 
-#: avidemux/gui_savenew.cpp:280
-#: avidemux/gui_savenew.cpp:298
+#: avidemux/gui_savenew.cpp:285
+#: avidemux/gui_savenew.cpp:303
 msgid "This cannot have packed VOP"
 msgstr "Ceci n'a pas de VOP empaquet?"
 
-#: avidemux/gui_savenew.cpp:280
-#: avidemux/gui_savenew.cpp:298
+#: avidemux/gui_savenew.cpp:285
+#: avidemux/gui_savenew.cpp:303
 msgid "It is not MPEG-4 video. File will not be saved."
 msgstr "Ce n'est pas une vid?o MPEG4. Le fichier ne sera pas enregistr?."
 
-#: avidemux/gui_savenew.cpp:344
+#: avidemux/gui_savenew.cpp:349
 msgid ""
 "You may need smart copy.\n"
 " Enable it ?"
@@ -8373,6 +8409,14 @@
 "Vous pouvez avoir besoin de la copie intelligente.\n"
 "La permettez-vous??"
 
+#~ msgid "GTK+ (slow)"
+#~ msgstr "GTK+ (lent)"
+#~ msgid "Czech"
+#~ msgstr "Europe centrale (ISO-8859-2)"
+#~ msgid "German"
+#~ msgstr "Occidental (ISO 8859-9)"
+#~ msgid "Latin-1"
+#~ msgstr "Occidental (ISO-8859-1)"
 #~ msgid "can't determine $USERPROFILE."
 #~ msgstr "ne peut d?terminer $USERPROFILE."
 #~ msgid "Reset"



From gruntster at mail.berlios.de  Tue Sep 30 02:49:36 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Tue, 30 Sep 2008 02:49:36 +0200
Subject: [Avidemux-svn-commit] r4420 - branches/avidemux_2.4_branch
Message-ID: <200809300049.m8U0naLq024110@sheep.berlios.de>

Author: gruntster
Date: 2008-09-30 02:49:21 +0200 (Tue, 30 Sep 2008)
New Revision: 4420

Modified:
   branches/avidemux_2.4_branch/ConfigureChecks.cmake
Log:
[CMake] detect ppc64 and set appropriate build flags

Modified: branches/avidemux_2.4_branch/ConfigureChecks.cmake
===================================================================
--- branches/avidemux_2.4_branch/ConfigureChecks.cmake	2008-09-30 00:46:44 UTC (rev 4419)
+++ branches/avidemux_2.4_branch/ConfigureChecks.cmake	2008-09-30 00:49:21 UTC (rev 4420)
@@ -32,6 +32,9 @@
 		SET(ADM_CPU_X86_64 1)
 	ELSEIF (${CMAKE_SYSTEM_PROCESSOR} STREQUAL "ppc")
 		SET(ADM_CPU_PPC 1)
+	ELSEIF (${CMAKE_SYSTEM_PROCESSOR} STREQUAL "ppc64")
+		SET(ADM_CPU_PPC 1)
+		SET(ARCH_64_BITS 1)	
 	ENDIF (${CMAKE_SYSTEM_PROCESSOR} STREQUAL "i386" OR ${CMAKE_SYSTEM_PROCESSOR} STREQUAL "i586" OR ${CMAKE_SYSTEM_PROCESSOR} STREQUAL "i686")
 ENDIF (WIN32)
 



From gruntster at mail.berlios.de  Tue Sep 30 03:36:49 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Tue, 30 Sep 2008 03:36:49 +0200
Subject: [Avidemux-svn-commit] r4421 -
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui
Message-ID: <200809300136.m8U1anmA027239@sheep.berlios.de>

Author: gruntster
Date: 2008-09-30 03:36:42 +0200 (Tue, 30 Sep 2008)
New Revision: 4421

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
Log:
[Qt] check the appropriate zoom menu option after opening video

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2008-09-30 00:49:21 UTC (rev 4420)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/Q_gui2.cpp	2008-09-30 01:36:42 UTC (rev 4421)
@@ -41,6 +41,7 @@
 #include "ADM_toolkit/filesel.h"
 #include "prefs.h"
 #include "avi_vars.h"
+#include "../ADM_commonUI/GUI_render.h"
 
 extern int global_argc;
 extern char **global_argv;
@@ -1066,5 +1067,24 @@
 	return 1;
 }
 
+void UI_setZoomMode(renderZoom zoom)
+{
+	switch (zoom)
+	{
+		case ZOOM_1_4:
+			WIDGET(actionZoom_1_4)->setChecked(true);
+			break;
+		case ZOOM_1_2:
+			WIDGET(actionZoom_1_2)->setChecked(true);
+			break;
+		case ZOOM_1_1:
+			WIDGET(actionZoom_1_1)->setChecked(true);
+			break;
+		case ZOOM_2:
+			WIDGET(actionZoom_2_1)->setChecked(true);
+			break;
+	}
+}
+
 //********************************************
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-30 00:49:21 UTC (rev 4420)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_gui/T_preview.cpp	2008-09-30 01:36:42 UTC (rev 4421)
@@ -48,6 +48,7 @@
 extern void UI_purge( void );
 extern void UI_setCurrentPreview(int ne);
 extern uint8_t UI_getPhysicalScreenSize(void* window, uint32_t *w, uint32_t *h);
+extern void UI_setZoomMode(renderZoom zoom);
 
 static Ui_previewWindow *previewWindow = NULL;
 
@@ -208,6 +209,15 @@
 	if(rgbDataBuffer)
 		delete[] rgbDataBuffer;
 
+	if (displayW / 4 == w && displayH / 4 == h)
+		UI_setZoomMode(ZOOM_1_4);
+	else if (displayW / 2 == w && displayH / 2 == h)
+		UI_setZoomMode(ZOOM_1_2);
+	else if ((displayW == w && displayH == h) || displayW == 0)
+		UI_setZoomMode(ZOOM_1_1);
+	else if (displayW * 2 == w && displayH * 2 == h)
+		UI_setZoomMode(ZOOM_2);
+
 	rgbDataBuffer = new uint8_t[w * h * 4]; // 32 bits / color
 	displayW = w;
 	displayH = h;



From gruntster at mail.berlios.de  Tue Sep 30 13:59:36 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Tue, 30 Sep 2008 13:59:36 +0200
Subject: [Avidemux-svn-commit] r4422 - in
	branches/avidemux_2.4_branch/avidemux: ADM_inputs/ADM_inpics
	ADM_libraries/ADM_utilities
Message-ID: <200809301159.m8UBxaH6027411@sheep.berlios.de>

Author: gruntster
Date: 2008-09-30 13:59:28 +0200 (Tue, 30 Sep 2008)
New Revision: 4422

Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/ADM_pics.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/ADM_imageLoader.cpp
Log:
[jpeg] scan all tags in JPEG until image is found rather than first 10

Modified: branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/ADM_pics.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/ADM_pics.cpp	2008-09-30 01:36:42 UTC (rev 4421)
+++ branches/avidemux_2.4_branch/avidemux/ADM_inputs/ADM_inpics/ADM_pics.cpp	2008-09-30 11:59:28 UTC (rev 4422)
@@ -278,16 +278,17 @@
 	//_______________________
     case PIC_JPEG:
 	{
-	    uint16_t tag = 0, count = 0, off;
+	    uint16_t tag = 0, off;
 
 	    _offset = 0;
 	    fseek(fd, 0, SEEK_SET);
 	    read16(fd);	// skip jpeg ffd8
-	    while (count < 10 && tag != 0xFFC0) {
+	    while (!feof(fd) && tag != 0xFFC0) {
 
 		tag = read16(fd);
 		if ((tag >> 8) != 0xff) {
 		    printf("invalid jpeg tag found (%x)\n", tag);
+			continue;
 		}
 		if (tag == 0xFFC0) {
 		    read16(fd);	// size
@@ -296,6 +297,7 @@
 		    w = read16(fd);
                     if(w&1) w++;
                     if(h&1) h++;
+					break;
 		} else {
 
 		    off = read16(fd);
@@ -308,10 +310,9 @@
 			    off);
 		    fseek(fd, off - 2, SEEK_CUR);
 		}
-		count++;
 	    }
 	    if (tag != 0xffc0) {
-		printf("Cannot fint start of frame\n");
+		printf("Cannot find start of frame\n");
 		fclose(fd);
 		return 0;
 	    }
@@ -440,4 +441,4 @@
 	sprintf(filename, _fileMask, frameNum + _first);
 
 	return fopen(filename, "rb");
-}
+}
\ No newline at end of file

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/ADM_imageLoader.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/ADM_imageLoader.cpp	2008-09-30 01:36:42 UTC (rev 4421)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_utilities/ADM_imageLoader.cpp	2008-09-30 11:59:28 UTC (rev 4422)
@@ -113,18 +113,19 @@
 
 		//Retrieve width & height
 		//_______________________
-		    uint16_t tag = 0, count = 0, off;
+		    uint16_t tag = 0, off;
 
 		    
 		    fseek(fd, 0, SEEK_SET);
 		    read16(fd);	// skip jpeg ffd8
-		    while (count < 10 && tag != 0xFFC0) 
+		    while (!feof(fd) && tag != 0xFFC0) 
 		    {
 
 		    	tag = read16(fd);
 		    	if ((tag >> 8) != 0xff) 
 		    	{
 		    		printf("[imageLoader]invalid jpeg tag found (%x)\n", tag);
+					continue;
 		    	}
 		    	if (tag == 0xFFC0) 
 		    	{
@@ -134,6 +135,7 @@
 		    		w = read16(fd);
 	                if(w&1) w++;
 	                if(h&1) h++;
+					break;
 		    	} 
 		    	else 
 		    	{
@@ -146,11 +148,10 @@
 		    		}
 		    		fseek(fd, off - 2, SEEK_CUR);
 		    	}
-			count++;
 		    }
 		    if (tag != 0xffc0) 
 		    {
-		    	printf("[imageLoader]Cannot fint start of frame\n");
+		    	printf("[imageLoader]Cannot find start of frame\n");
 				fclose(fd);
 				return NULL;
 		    }



From gruntster at mail.berlios.de  Tue Sep 30 19:51:52 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Tue, 30 Sep 2008 19:51:52 +0200
Subject: [Avidemux-svn-commit] r4423 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_GTK/ADM_dialog ADM_QT4/ADM_dialog ADM_commonUI
Message-ID: <200809301751.m8UHpqQM019816@sheep.berlios.de>

Author: gruntster
Date: 2008-09-30 19:51:38 +0200 (Tue, 30 Sep 2008)
New Revision: 4423

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyMpDelogo.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyMpDelogo.h
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
Log:
[GTK] convert MPlayer Delogo filter window over to flyDialog

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp	2008-09-30 11:59:28 UTC (rev 4422)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_mpdelogo.cpp	2008-09-30 17:51:38 UTC (rev 4423)
@@ -1,10 +1,8 @@
 /***************************************************************************
-                          DIA_crop.cpp  -  description
-                             -------------------
+                              DIA_mpdelogo.cpp
+                              ----------------
 
-			    GUI for cropping including autocrop
-			    +Revisted the Gtk2 way
-			     +Autocrop now in RGB space (more accurate)
+                        GUI for MPlayer Delogo filter
 
     begin                : Fri May 3 2002
     copyright            : (C) 2002 by mean
@@ -22,12 +20,7 @@
 
 #include "config.h"
 
-#include <string.h>
-#include <stdio.h>
-
-#include <gdk/gdkkeysyms.h>
 #include <gtk/gtk.h>
-#include <math.h>
 
 #include "default.h"
 #include "ADM_toolkit_gtk/toolkit_gtk.h"
@@ -36,319 +29,150 @@
 
 #include "ADM_image.h"
 #include "ADM_video/ADM_genvideo.hxx"
-#include "ADM_colorspace/ADM_rgb.h"
 #include "ADM_assert.h"
 #include "ADM_video/ADM_vidMPdelogo.h"
+#include "DIA_flyDialog.h"
+#include "DIA_flyMpDelogo.h"
 
-extern "C" {
-#include "ADM_libraries/ADM_lavcodec/avcodec.h"
-}
+static GtkWidget *create_dialog1(void);
+static void gui_draw(void);
+static void ui_changed(void);
+static void frame_changed(void);
 
-static GtkWidget	*create_dialog1 (void);
-static void  		ui_read ( void);
-static void  		ui_update ( void);
-static void 		draw (GtkWidget *dialog,uint32_t w,uint32_t h );
-static gboolean 	gui_draw( void );
-static void 		autocrop (void );
-static void 		reset( void );
-static void 		ui_upload(void);
-static gboolean		ui_changed(void);
+static GtkWidget *dialog = NULL;
+static uint32_t band;
+static int lock = 0;
+static flyMpDelogo *myDelogo = NULL;
 
-
-static void		prepare(uint32_t img);
-static void 		frame_changed( void );
-
-extern void GUI_RGBDisplay(uint8_t * dis, uint32_t w, uint32_t h, void *widg);
-extern float UI_calcZoomToFitScreen(GtkWindow* window, GtkWidget* drawingArea, uint32_t imageWidth, uint32_t imageHeight);
-extern void UI_centreCanvasWindow(GtkWindow *window, GtkWidget *canvas, int newCanvasWidth, int newCanvasHeight);
-
-static ColYuvRgb    *rgbConv=NULL;
-static uint8_t *working=NULL;
-static uint8_t *rgbBufferDisplay=NULL;
-static uint8_t *original=NULL;
-static GtkWidget *dialog=NULL;
-static uint32_t x,y,w,h,zoomW,zoomH,band;
-
-static AVDMGenericVideoStream *incoming=NULL;
-static ADMImage *imgsrc=NULL;
-static ADMImageResizer *resizer=NULL;
-
-static int lock=0,width,height;
-
-
-//
-//	Video is in YV12 Colorspace
-//
-//
-uint8_t DIA_getMPdelogo(MPDELOGO_PARAM *param,AVDMGenericVideoStream *in)
-
+uint8_t DIA_getMPdelogo(MPDELOGO_PARAM *param, AVDMGenericVideoStream *in)
 {
-	// Allocate space for green-ised video
-	width=in->getInfo()->width;
-	height=in->getInfo()->height;
-		
-	working=new uint8_t [width*height*4];	
-	original=NULL;
+	uint8_t ret = 0;
+	int response;
 
-	uint8_t ret=0;
+	dialog = create_dialog1();
 
-	dialog=create_dialog1();
-
-	gtk_dialog_set_alternative_button_order(GTK_DIALOG(dialog),
-										GTK_RESPONSE_OK,
-										GTK_RESPONSE_CANCEL,
-										-1);
-
+	gtk_dialog_set_alternative_button_order(GTK_DIALOG(dialog), GTK_RESPONSE_OK, GTK_RESPONSE_CANCEL, -1);
 	gtk_register_dialog(dialog);
-	
-	x=param->xoff;
-	y=param->yoff;
-	w=param->lw;
-	h=param->lh;
-	band=param->band;
 
-	imgsrc=new ADMImage(width,height);
-	incoming=in;
-	
-	rgbConv=new ColYuvRgb(width,height);
-        rgbConv->reset(width,height);
+	band = param->band;
 
-	float zoom = UI_calcZoomToFitScreen(GTK_WINDOW(dialog), WID(drawingarea1), width, height);
+	gtk_widget_show(dialog);
 
-	zoomW = width * zoom;
-	zoomH = height * zoom;
-	rgbBufferDisplay=new uint8_t[zoomW*zoomH*4];
+#define CONNECT(x, y, z) gtk_signal_connect(GTK_OBJECT(WID(x)), #y, GTK_SIGNAL_FUNC(z), NULL);
 
-	gtk_widget_set_usize(WID(drawingarea1), zoomW, zoomH);
+	CONNECT(drawingarea1, expose_event, gui_draw);
+	CONNECT(hscale1, value_changed, frame_changed);	  
 
-	if (zoom < 1)
-	{
-		UI_centreCanvasWindow((GtkWindow*)dialog, WID(drawingarea1), zoomW, zoomH);
-		resizer = new ADMImageResizer(width, height, zoomW, zoomH, PIX_FMT_RGB32, PIX_FMT_RGB32);
-	}
+#define CONNECT_SPIN(x) CONNECT(spinbutton##x, value_changed, ui_changed)
 
-	prepare(0);
-	gtk_widget_show(dialog);
-	
-	ui_upload();
-	ui_update();
-	
-#define CONNECT(x,y,z) 	gtk_signal_connect(GTK_OBJECT(WID(x)), #y,GTK_SIGNAL_FUNC(z),   NULL);
+	CONNECT_SPIN(X);
+	CONNECT_SPIN(Y);
+	CONNECT_SPIN(W);
+	CONNECT_SPIN(H);
+	CONNECT_SPIN(Band);
 
-        CONNECT(drawingarea1,expose_event,gui_draw);
-        CONNECT(hscale1,value_changed,frame_changed);	  
-		      
-#define CONNECT_SPIN(x) CONNECT(spinbutton##x, value_changed,ui_changed)
-      	  
-        CONNECT_SPIN(X);
-        CONNECT_SPIN(Y);
-        CONNECT_SPIN(W);
-        CONNECT_SPIN(H);
-        CONNECT_SPIN(Band);
-	  
-	draw(dialog,width,height);
+	myDelogo = new flyMpDelogo(in->getInfo()->width, in->getInfo()->height, in, WID(drawingarea1), WID(hscale1));
+	myDelogo->x = param->xoff;
+	myDelogo->y = param->yoff;
+	myDelogo->width = param->lw;
+	myDelogo->height = param->lh;
+	myDelogo->upload();	
+	myDelogo->sliderChanged();
 
-	ret=0;
-	int response;
-	while( (response=gtk_dialog_run(GTK_DIALOG(dialog)))==GTK_RESPONSE_APPLY)
-	{
+	while ((response = gtk_dialog_run(GTK_DIALOG(dialog))) == GTK_RESPONSE_APPLY)
 		ui_changed();
-		
-	}
-	if(response==GTK_RESPONSE_OK)
-        {
-		ui_read( );
-		param->xoff=x;
-                param->yoff=y;
-                param->lw=w;
-                param->lh=h;
-                param->band=band;
-		ret=1;
-	}
-        gtk_unregister_dialog(dialog);
-	gtk_widget_destroy(dialog);
-	delete working;	
-	delete imgsrc;
-	delete rgbConv;
 
-	if (resizer)
+	if (response == GTK_RESPONSE_OK)
 	{
-		delete resizer;
-		delete[] rgbBufferDisplay;
-
-		resizer=NULL;
-		rgbBufferDisplay=NULL;
+		myDelogo->download();
+		param->xoff = myDelogo->x;
+		param->yoff = myDelogo->y;
+		param->lw = myDelogo->width;
+		param->lh = myDelogo->height;
+		param->band = band;
+		ret = 1;
 	}
 
-	working=NULL;
-	dialog=NULL;
-	original=NULL;
-	imgsrc=NULL;
+	gtk_unregister_dialog(dialog);
+	gtk_widget_destroy(dialog);
+
 	return ret;
 }
-void frame_changed( void )
-{
-uint32_t new_frame,max,l,f;
-double   percent;
-GtkWidget *wid;	
-GtkAdjustment *adj;
 
-        max=incoming->getInfo()->nb_frames;
-        wid=WID(hscale1);
-        adj=gtk_range_get_adjustment (GTK_RANGE(wid));
-        new_frame=0;
-        
-        percent=(double)GTK_ADJUSTMENT(adj)->value;
-        percent*=max;
-        percent/=100.;
-        new_frame=(uint32_t)floor(percent);
-        
-        if(new_frame>=max) new_frame=max-1;
-        
-        prepare(new_frame);
-        ui_update();
-        gui_draw();
-
-
-}
-void prepare(uint32_t img)
+void frame_changed(void)
 {
-	uint32_t l,f;
-	
-	ADM_assert(incoming->getFrameNumberNoAlloc(img,&l,imgsrc,&f));
-	original=imgsrc->data;
-	
-
+	myDelogo->sliderChanged();
 }
-gboolean ui_changed(void)
+
+void ui_changed(void)
 {
-	if(!lock)
+	if (!lock)
 	{
-		ui_read();
-		memcpy(working,original,(width*height*3)>>1);
-		ui_update();
-		draw(dialog,width,height);
+		myDelogo->download();
+		myDelogo->process();
+		myDelogo->display();
 	}
-		return true;
 }
 
-
-/*---------------------------------------------------------------------------
-	Actually draw the working frame on screen
-*/
-gboolean gui_draw( void )
+void gui_draw(void)
 {
-	draw(dialog,width,height);
-	return true;
+	myDelogo->display();
 }
-void draw (GtkWidget *dialog,uint32_t w,uint32_t h )
+
+uint8_t flyMpDelogo::download(void)
 {
-	GtkWidget *draw=WID(drawingarea1);
+#define SPIN_GET(x, y) { x = gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(WID(spinbutton##y))); }
 
-	if (resizer)
+	int reject = 0;
+
+	SPIN_GET(x, X);
+	SPIN_GET(y, Y);
+	SPIN_GET(height, H);
+	SPIN_GET(width, W);
+	SPIN_GET(band, Band);
+
+	x &= 0xffffe;
+	y &= 0xffffe;
+	height &= 0xffffe;
+	width &= 0xffffe;
+
+	if ((x + width) > _w)
 	{
-		resizer->resize(working, rgbBufferDisplay);
-		GUI_RGBDisplay(rgbBufferDisplay, zoomW, zoomH, (void*)draw);
+		if(width >= _w)
+			width = _w;
+
+		x = _w - width;
+		reject = 1;
 	}
-	else
-		GUI_RGBDisplay(working, w, h, (void*)draw);
-}
-/*---------------------------------------------------------------------------
-	Read entried from dialog box
-*/
 
-#define SPIN_GET(x,y) {x= gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(WID(spinbutton##y))) ;}
-#define SPIN_SET(x,y)  {gtk_spin_button_set_value(GTK_SPIN_BUTTON(WID(spinbutton##y)),(gfloat)x) ;}
+	if ((y + height) > _h)
+	{
+		if(height >= _h)
+			height = _h;
 
+		y = _h - height;
+		reject = 1;
+	}
 
-void ui_read (void )
-{
-	int reject=0;
-	
-			SPIN_GET(x,X);
-			SPIN_GET(y,Y);
-			SPIN_GET(h,H);
-			SPIN_GET(w,W);
-                        SPIN_GET(band,Band);
-			
-			//printf("%d %d %d %d\n",x,y,w,h);
-			
-			x&=0xffffe;
-			y&=0xffffe;
-			h&=0xffffe;
-			w&=0xffffe;
-			
-			if((x+w)>width)
-				{
-                                        if(w>=width) w=width;
-                                        x=width-w;
-                                        reject=1;
-				}
-			if((y+h)>height)
-				{
-                                        if(h>=height) h=height;
-                                        y=height-h;
-                                        reject=1;
-				}
-			if(reject)
-				ui_upload();
+	if (reject)
+		upload();
 }
 
-void ui_upload(void)
+uint8_t flyMpDelogo::upload(void)
 {
+#define SPIN_SET(x, y) { gtk_spin_button_set_value(GTK_SPIN_BUTTON(WID(spinbutton##y)), (gfloat)x); }
+
 	lock++;
-	SPIN_SET(x,X);
-	SPIN_SET(y,Y);
-	SPIN_SET(w,W);
-	SPIN_SET(h,H);
-        SPIN_SET(band,Band);
+	SPIN_SET(x, X);
+	SPIN_SET(y, Y);
+	SPIN_SET(width, W);
+	SPIN_SET(height, H);
+	SPIN_SET(band, Band);
 	lock--;
-}
-//____________________________________
-void reset( void )
-{
-	
-	x=y=w=h=0;
-	ui_upload();
-	ui_update();
-	gui_draw();
-	
 
+	return 1;
 }
-/*---------------------------------------------------------------------------
-	Green-ify the displayed frame on cropped parts
-*/
-void ui_update( )
-{
 
-        uint8_t  *in,*in2;
-        uint8_t *buffer=working;
-
-        rgbConv->scale(original,buffer);
-        // Buffer is in RGB space
-        in=buffer+x*4+y*width*4;
-        in2=buffer+(x+w)*4+y*width*4;
-        
-        for(int yy=0;yy<h;yy++)
-        {
-          in[0]=in[2]=0;in[1]=0xff;
-          in2[0]=in2[2]=0;in2[1]=0xff;
-          in+=width*4;
-          in2+=width*4;
-        }
-        in=buffer+(y*width+x)*4;
-        in2=buffer+((y+h)*width+x)*4;
-        for(int yy=0;yy<w;yy++)
-        {
-          in[0]=in[2]=0;in[1]=0xff;
-          in2[0]=in2[2]=0;in2[1]=0xff;
-          in+=4;
-          in2+=4;
-        }
-
-}
-
-//--------------------------------------------
 GtkWidget*
 create_dialog1 (void)
 {
@@ -536,5 +360,3 @@
 
   return dialog1;
 }
-
-

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt	2008-09-30 11:59:28 UTC (rev 4422)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/CMakeLists.txt	2008-09-30 17:51:38 UTC (rev 4423)
@@ -14,6 +14,7 @@
 encoding
 hue
 license
+mpdelogo
 props
 resizing
 jobs

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyMpDelogo.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyMpDelogo.cpp	2008-09-30 11:59:28 UTC (rev 4422)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyMpDelogo.cpp	2008-09-30 17:51:38 UTC (rev 4423)
@@ -0,0 +1,69 @@
+/***************************************************************************
+                             DIA_flyMpDelogo.cpp
+                             -------------------
+
+    Common part of the MPlayer Delogo dialog
+    
+    copyright            : (C) 2008 by mean
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include "default.h"
+
+#include "ADM_image.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_assert.h"
+#include "DIA_flyDialog.h"
+#include "DIA_flyMpDelogo.h"
+
+flyMpDelogo::flyMpDelogo(uint32_t width, uint32_t height, AVDMGenericVideoStream *in, void *canvas, void *slider) : ADM_flyDialog(width, height, in, canvas, slider, 0, RESIZE_LAST)
+{
+}
+
+uint8_t flyMpDelogo::process(void)
+{
+	memcpy(_rgbBufferOut,_rgbBuffer, _w * _h * 4);
+
+	uint8_t *in, *in2;
+	uint8_t *buffer = _rgbBufferOut;
+
+	in = buffer + x * 4 + y * _w * 4;
+	in2 = buffer + (x + width) * 4 + y * _w * 4;
+
+	for (int yy = 0; yy < height; yy++)
+	{
+		in[0] = in[2] = 0;
+		in[1] = 0xff;
+
+		in2[0] = in2[2] = 0;
+		in2[1] = 0xff;
+
+		in += _w * 4;
+		in2 += _w * 4;
+	}
+
+	in = buffer + (y * _w + x) * 4;
+	in2 = buffer + ((y + height) * _w + x) * 4;
+
+	for (int yy = 0; yy < width; yy++)
+	{
+		in[0] = in[2] = 0;
+		in[1] = 0xff;
+
+		in2[0] = in2[2] = 0;
+		in2[1] = 0xff;
+
+		in += 4;
+		in2 += 4;
+	}
+
+	copyRgbFinalToDisplay();
+}

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyMpDelogo.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyMpDelogo.h	2008-09-30 11:59:28 UTC (rev 4422)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_flyMpDelogo.h	2008-09-30 17:51:38 UTC (rev 4423)
@@ -0,0 +1,13 @@
+#ifndef FLY_MPDELOGO_H
+#define FLY_MPDELOGO_H
+class flyMpDelogo : public ADM_flyDialog
+{
+public:
+	uint32_t x, y, width, height;
+
+	uint8_t    process(void);
+	uint8_t    download(void);
+	uint8_t    upload(void);
+	flyMpDelogo(uint32_t width, uint32_t height, AVDMGenericVideoStream *in, void *canvas, void *slider);
+};
+#endif

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2008-09-30 11:59:28 UTC (rev 4422)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/Makefile.am	2008-09-30 17:51:38 UTC (rev 4423)
@@ -20,7 +20,8 @@
 DIA_flyParticle.cpp \
 DIA_flyEraser.cpp \
 DIA_flv1.cpp \
-DIA_jobs_save.cpp
+DIA_jobs_save.cpp \
+DIA_flyMpDelogo
 
 commonObjs:=$(subst .cpp,.o,$(libADM_CommonUI_a_SOURCES))
 



From gruntster at mail.berlios.de  Tue Sep 30 20:28:08 2008
From: gruntster at mail.berlios.de (gruntster at mail.berlios.de)
Date: Tue, 30 Sep 2008 20:28:08 +0200
Subject: [Avidemux-svn-commit] r4424 - in
	branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces:
	ADM_QT4/ADM_dialog ADM_QT4/ADM_dialogFactory ADM_commonUI
Message-ID: <200809301828.m8UIS84i023903@sheep.berlios.de>

Author: gruntster
Date: 2008-09-30 20:28:00 +0200 (Tue, 30 Sep 2008)
New Revision: 4424

Added:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_mpdelogo.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/mpdelogo.ui
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt
Log:
[Qt] MPlayer Delogo filter window for Qt UI

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2008-09-30 17:51:38 UTC (rev 4423)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/DIA_none.cpp	2008-09-30 18:28:00 UTC (rev 4424)
@@ -40,7 +40,6 @@
 uint8_t DIA_cnr2(CNR2Param *param){return 0;}
 uint8_t DIA_getEqualizer(EqualizerParam *param, ADMImage *image){return 0;}
 uint8_t DIA_getEqualizer(EqualizerParam *param, AVDMGenericVideoStream *in){return 0;}
-uint8_t DIA_getMPdelogo(MPDELOGO_PARAM *param,AVDMGenericVideoStream *in){return 0;}
 uint8_t DIA_videoCodec (SelectCodecType * codec){return 0;}
 uint8_t DIA_audioCodec( AUDIOENCODER *codec ) {return 0;}
 uint8_t DIA_quota(char *) {return 0;}

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_mpdelogo.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_mpdelogo.cpp	2008-09-30 17:51:38 UTC (rev 4423)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/Q_mpdelogo.cpp	2008-09-30 18:28:00 UTC (rev 4424)
@@ -0,0 +1,189 @@
+/***************************************************************************
+                              DIA_mpdelogo.cpp
+                              ----------------
+
+                        GUI for MPlayer Delogo filter
+
+    begin                : Tue Sep 30 2008
+    copyright            : (C) 2002 by gruntster
+ ***************************************************************************/
+
+/***************************************************************************
+ *                                                                         *
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ ***************************************************************************/
+
+#include "config.h"
+
+#include <string.h>
+#include <stdio.h>
+
+#include "ui_mpdelogo.h"
+
+#include "default.h"
+#include "ADM_toolkit/toolkit.hxx"
+#include "ADM_image.h"
+#include "ADM_video/ADM_genvideo.hxx"
+#include "ADM_colorspace/ADM_rgb.h"
+#include "ADM_assert.h"
+#include "ADM_video/ADM_vidMPdelogo.h"
+#include "DIA_flyDialog.h"
+#include "DIA_flyDialogQt4.h"
+#include "../ADM_toolkit/qtToolkit.h"
+#include "DIA_flyMpDelogo.h"
+
+class Ui_mpdelogoWindow : public QDialog
+{
+	Q_OBJECT
+
+protected:
+	int lock;
+
+public:
+	flyMpDelogo *myDelogo;
+	ADM_QCanvas *canvas;
+	Ui_mpdelogoWindow(QWidget* parent, MPDELOGO_PARAM *param, AVDMGenericVideoStream *in);
+	~Ui_mpdelogoWindow();
+	Ui_MPDelogoDialog ui;
+
+public slots:
+	void gather(MPDELOGO_PARAM *param);
+
+private slots:
+	void sliderUpdate(int value);
+	void valueChanged(int value);
+};
+
+Ui_mpdelogoWindow::Ui_mpdelogoWindow(QWidget* parent, MPDELOGO_PARAM *param, AVDMGenericVideoStream *in)
+{
+	ui.setupUi(this);
+
+	lock = 0;
+
+	canvas = new ADM_QCanvas(ui.graphicsView, in->getInfo()->width, in->getInfo()->height);
+
+	myDelogo = new flyMpDelogo(in->getInfo()->width, in->getInfo()->height, in, canvas, ui.horizontalSlider);
+	myDelogo->x = param->xoff;
+	myDelogo->y = param->yoff;
+	myDelogo->width = param->lw;
+	myDelogo->height = param->lh;
+	myDelogo->_cookie = this;
+	myDelogo->upload();
+	myDelogo->sliderChanged();
+
+	ui.spinBoxBand->setValue(param->band);
+
+	connect(ui.horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(sliderUpdate(int)));
+	connect(ui.spinBoxX, SIGNAL(valueChanged(int)), this, SLOT(valueChanged(int)));
+	connect(ui.spinBoxY, SIGNAL(valueChanged(int)), this, SLOT(valueChanged(int)));
+	connect(ui.spinBoxWidth, SIGNAL(valueChanged(int)), this, SLOT(valueChanged(int)));
+	connect(ui.spinBoxHeight, SIGNAL(valueChanged(int)), this, SLOT(valueChanged(int)));
+}
+
+void Ui_mpdelogoWindow::sliderUpdate(int value)
+{
+	myDelogo->sliderChanged();
+}
+
+void Ui_mpdelogoWindow::gather(MPDELOGO_PARAM *param)
+{
+	myDelogo->download();
+
+	param->xoff = myDelogo->x;
+	param->yoff = myDelogo->y;
+	param->lw = myDelogo->width;
+	param->lh = myDelogo->height;
+	param->band = ui.spinBoxBand->value();
+}
+
+Ui_mpdelogoWindow::~Ui_mpdelogoWindow()
+{
+	delete canvas;
+}
+
+void Ui_mpdelogoWindow::valueChanged(int value)
+{
+	if (lock)
+		return;
+
+	lock++;
+	myDelogo->download();
+	myDelogo->process();
+	myDelogo->display();
+	lock--;
+}
+
+uint8_t flyMpDelogo::download(void)
+{
+#define SPIN_GET(x, y) x = w->ui.spinBox##y->value();
+
+	Ui_mpdelogoWindow *w = (Ui_mpdelogoWindow*)_cookie;
+	int reject = 0;
+
+	SPIN_GET(x, X);
+	SPIN_GET(y, Y);
+	SPIN_GET(height, Height);
+	SPIN_GET(width, Width);
+
+	x &= 0xffffe;
+	y &= 0xffffe;
+	height &= 0xffffe;
+	width &= 0xffffe;
+
+	if ((x + width) > _w)
+	{
+		if(width >= _w)
+			width = _w;
+
+		x = _w - width;
+		reject = 1;
+	}
+
+	if ((y + height) > _h)
+	{
+		if(height >= _h)
+			height = _h;
+
+		y = _h - height;
+		reject = 1;
+	}
+
+	if (reject)
+		upload();
+}
+
+uint8_t flyMpDelogo::upload(void)
+{
+#define SPIN_SET(x, y) { w->ui.spinBox##y->setValue(x); }
+
+	Ui_mpdelogoWindow *w = (Ui_mpdelogoWindow*)_cookie;
+
+	SPIN_SET(x, X);
+	SPIN_SET(y, Y);
+	SPIN_SET(width, Width);
+	SPIN_SET(height, Height);
+
+	return 1;
+}
+
+uint8_t DIA_getMPdelogo(MPDELOGO_PARAM *param, AVDMGenericVideoStream *in)
+{
+	uint8_t ret = 0;
+
+	Ui_mpdelogoWindow dialog(qtLastRegisteredDialog(), param, in);
+	qtRegisterDialog(&dialog);
+
+	if(dialog.exec() == QDialog::Accepted)
+	{
+		dialog.gather(param); 
+		ret = 1;
+	}
+
+	qtUnregisterDialog(&dialog);
+
+	return ret;
+}

Added: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/mpdelogo.ui
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/mpdelogo.ui	2008-09-30 17:51:38 UTC (rev 4423)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialog/mpdelogo.ui	2008-09-30 18:28:00 UTC (rev 4424)
@@ -0,0 +1,249 @@
+<ui version="4.0" >
+ <class>MPDelogoDialog</class>
+ <widget class="QDialog" name="MPDelogoDialog" >
+  <property name="geometry" >
+   <rect>
+    <x>0</x>
+    <y>0</y>
+    <width>397</width>
+    <height>295</height>
+   </rect>
+  </property>
+  <property name="windowTitle" >
+   <string>MPlayer Delogo</string>
+  </property>
+  <layout class="QVBoxLayout" >
+   <property name="margin" >
+    <number>9</number>
+   </property>
+   <property name="spacing" >
+    <number>6</number>
+   </property>
+   <item>
+    <layout class="QGridLayout" >
+     <property name="margin" >
+      <number>0</number>
+     </property>
+     <property name="spacing" >
+      <number>6</number>
+     </property>
+     <item row="0" column="4" >
+      <widget class="QSpinBox" name="spinBoxWidth" >
+       <property name="maximum" >
+        <number>2147483647</number>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="6" >
+      <widget class="QLabel" name="label_5" >
+       <property name="text" >
+        <string>Band:</string>
+       </property>
+      </widget>
+     </item>
+     <item row="1" column="3" >
+      <widget class="QLabel" name="label_3" >
+       <property name="text" >
+        <string>Height:</string>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="3" >
+      <widget class="QLabel" name="label_2" >
+       <property name="text" >
+        <string>Width:</string>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="1" >
+      <widget class="QSpinBox" name="spinBoxX" >
+       <property name="maximum" >
+        <number>2147483647</number>
+       </property>
+      </widget>
+     </item>
+     <item row="1" column="1" >
+      <widget class="QSpinBox" name="spinBoxY" >
+       <property name="maximum" >
+        <number>2147483647</number>
+       </property>
+      </widget>
+     </item>
+     <item row="1" column="4" >
+      <widget class="QSpinBox" name="spinBoxHeight" >
+       <property name="maximum" >
+        <number>2147483647</number>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="5" >
+      <spacer>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+       <property name="sizeType" >
+        <enum>QSizePolicy::Fixed</enum>
+       </property>
+       <property name="sizeHint" >
+        <size>
+         <width>26</width>
+         <height>20</height>
+        </size>
+       </property>
+      </spacer>
+     </item>
+     <item row="1" column="2" >
+      <spacer>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+       <property name="sizeType" >
+        <enum>QSizePolicy::Fixed</enum>
+       </property>
+       <property name="sizeHint" >
+        <size>
+         <width>26</width>
+         <height>20</height>
+        </size>
+       </property>
+      </spacer>
+     </item>
+     <item row="1" column="0" >
+      <widget class="QLabel" name="label_4" >
+       <property name="text" >
+        <string>Y:</string>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="7" >
+      <widget class="QSpinBox" name="spinBoxBand" >
+       <property name="maximum" >
+        <number>100</number>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="2" >
+      <spacer>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+       <property name="sizeType" >
+        <enum>QSizePolicy::Fixed</enum>
+       </property>
+       <property name="sizeHint" >
+        <size>
+         <width>26</width>
+         <height>20</height>
+        </size>
+       </property>
+      </spacer>
+     </item>
+     <item row="0" column="0" >
+      <widget class="QLabel" name="label" >
+       <property name="text" >
+        <string>X:</string>
+       </property>
+      </widget>
+     </item>
+     <item row="0" column="8" >
+      <spacer>
+       <property name="orientation" >
+        <enum>Qt::Horizontal</enum>
+       </property>
+       <property name="sizeType" >
+        <enum>QSizePolicy::Expanding</enum>
+       </property>
+       <property name="sizeHint" >
+        <size>
+         <width>40</width>
+         <height>20</height>
+        </size>
+       </property>
+      </spacer>
+     </item>
+    </layout>
+   </item>
+   <item>
+    <widget class="QSlider" name="horizontalSlider" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+    </widget>
+   </item>
+   <item>
+    <widget class="QGraphicsView" name="graphicsView" />
+   </item>
+   <item>
+    <spacer>
+     <property name="orientation" >
+      <enum>Qt::Vertical</enum>
+     </property>
+     <property name="sizeType" >
+      <enum>QSizePolicy::Fixed</enum>
+     </property>
+     <property name="sizeHint" >
+      <size>
+       <width>20</width>
+       <height>16</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+   <item>
+    <widget class="QDialogButtonBox" name="buttonBox" >
+     <property name="orientation" >
+      <enum>Qt::Horizontal</enum>
+     </property>
+     <property name="standardButtons" >
+      <set>QDialogButtonBox::Cancel|QDialogButtonBox::NoButton|QDialogButtonBox::Ok</set>
+     </property>
+    </widget>
+   </item>
+  </layout>
+ </widget>
+ <tabstops>
+  <tabstop>spinBoxX</tabstop>
+  <tabstop>spinBoxY</tabstop>
+  <tabstop>spinBoxWidth</tabstop>
+  <tabstop>spinBoxHeight</tabstop>
+  <tabstop>spinBoxBand</tabstop>
+  <tabstop>horizontalSlider</tabstop>
+  <tabstop>graphicsView</tabstop>
+  <tabstop>buttonBox</tabstop>
+ </tabstops>
+ <resources/>
+ <connections>
+  <connection>
+   <sender>buttonBox</sender>
+   <signal>accepted()</signal>
+   <receiver>MPDelogoDialog</receiver>
+   <slot>accept()</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>248</x>
+     <y>254</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>157</x>
+     <y>274</y>
+    </hint>
+   </hints>
+  </connection>
+  <connection>
+   <sender>buttonBox</sender>
+   <signal>rejected()</signal>
+   <receiver>MPDelogoDialog</receiver>
+   <slot>reject()</slot>
+   <hints>
+    <hint type="sourcelabel" >
+     <x>316</x>
+     <y>260</y>
+    </hint>
+    <hint type="destinationlabel" >
+     <x>286</x>
+     <y>274</y>
+    </hint>
+   </hints>
+  </connection>
+ </connections>
+</ui>

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/Makefile.am	2008-09-30 17:51:38 UTC (rev 4423)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/Makefile.am	2008-09-30 18:28:00 UTC (rev 4424)
@@ -7,7 +7,7 @@
 AT_filesel.cpp AT_bitrate.cpp AT_threadCount.cpp \
 AT_button.cpp \
 AT_slider.cpp \
-FAC_bar.cpp FAC_readOnlyText.cpp FAC_notch.cpp FAC_frame.cpp FAC_hex.cpp FAC_matrix.cpp FAC_aspectRatio.cpp
+FAC_bar.cpp FAC_readOnlyText.cpp AT_notch.cpp FAC_frame.cpp FAC_hex.cpp FAC_matrix.cpp FAC_aspectRatio.cpp
 
 
 INCLUDES = $(all_includes)  $(XML_CFLAGS)  $(FREETYPE_CFLAGS) -DADM_SUBVERSION=@ADM_SUBVERSION@ \

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt	2008-09-30 17:51:38 UTC (rev 4423)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/CMakeLists.txt	2008-09-30 18:28:00 UTC (rev 4424)
@@ -11,6 +11,7 @@
 DIA_builtin.cpp       DIA_flyChromaShift.cpp  DIA_flyHue.cpp       DIA_lavDecoder.cpp  DIA_requant.cpp   DIA_tdeint.cpp     GUI_xvRender.cpp
 DIA_animated.cpp      DIA_ocr.cpp             DIA_tsSub.cpp        DIA_jobs_save.cpp
 DIA_flyEq2.cpp        DIA_flv1.cpp            DIA_flyThreshold.cpp DIA_flyParticle.cpp DIA_flyEraser.cpp DIA_flySwissArmyKnife.cpp
+DIA_flyMpDelogo.cpp
 )
 
 IF (ADM_OS_APPLE)



