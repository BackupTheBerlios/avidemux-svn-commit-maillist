<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r2916 - in	branches/avidemux_2.4_branch/avidemux: .	ADM_libraries/ADM_lavcodec ADM_libraries/ADM_lavutil	ADM_userInterfaces/ADM_GTK/ADM_gui2
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2007-April/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r2916%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20.%0A%09ADM_libraries/ADM_lavcodec%20ADM_libraries/ADM_lavutil%0A%09ADM_userInterfaces/ADM_GTK/ADM_gui2&In-Reply-To=%3C200704011957.l31JvucG003617%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000233.html">
   <LINK REL="Next"  HREF="000235.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r2916 - in	branches/avidemux_2.4_branch/avidemux: .	ADM_libraries/ADM_lavcodec ADM_libraries/ADM_lavutil	ADM_userInterfaces/ADM_GTK/ADM_gui2</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r2916%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20.%0A%09ADM_libraries/ADM_lavcodec%20ADM_libraries/ADM_lavutil%0A%09ADM_userInterfaces/ADM_GTK/ADM_gui2&In-Reply-To=%3C200704011957.l31JvucG003617%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r2916 - in	branches/avidemux_2.4_branch/avidemux: .	ADM_libraries/ADM_lavcodec ADM_libraries/ADM_lavutil	ADM_userInterfaces/ADM_GTK/ADM_gui2">mean at mail.berlios.de
       </A><BR>
    <I>Sun Apr  1 21:57:56 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000233.html">[Avidemux-svn-commit] r2915 - in	branches/avidemux_2.4_branch/avidemux: .	ADM_userInterfaces/ADM_GTK/ADM_gui2	ADM_userInterfaces/ADM_QT4/ADM_gui ADM_userInterfaces/ADM_commonUI
</A></li>
        <LI>Next message: <A HREF="000235.html">[Avidemux-svn-commit] r2917 - in	branches/avidemux_2.4_branch/avidemux: .	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory	ADM_userInterfaces/ADM_NONE/ADM_dialogFactory	ADM_userInterfaces/ADM_QT4/ADM_dialogFactory	ADM_userInterfaces/ADM_commonUI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#234">[ date ]</a>
              <a href="thread.html#234">[ thread ]</a>
              <a href="subject.html#234">[ subject ]</a>
              <a href="author.html#234">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2007-04-01 21:57:56 +0200 (Sun, 01 Apr 2007)
New Revision: 2916

Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/swscale.h
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavutil/log.h
   branches/avidemux_2.4_branch/avidemux/ADM_preview.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_gtkRender.cpp
Log:
small update

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/swscale.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/swscale.h	2007-04-01 17:03:11 UTC (rev 2915)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavcodec/swscale.h	2007-04-01 19:57:56 UTC (rev 2916)
@@ -1,32 +0,0 @@
-#ifndef SWSCALE_EMU_H
-#define SWSCALE_EMU_H
-/* Dummy, only useful for compilation! */
-#define SWS_FAST_BILINEAR 1
-#define SWS_BILINEAR 2
-#define SWS_BICUBIC  4
-#define SWS_X        8
-#define SWS_POINT    0x10
-#define SWS_AREA     0x20
-#define SWS_BICUBLIN 0x40
-#define SWS_GAUSS    0x80
-#define SWS_SINC     0x100
-#define SWS_LANCZOS  0x200
-#define SWS_SPLINE   0x400
-
-#define SwsFilter void
-struct SwsContext {
-    struct ImgReSampleContext *resampling_ctx;
-    enum PixelFormat src_pix_fmt, dst_pix_fmt;
-};
-
-struct SwsContext *sws_getContext(int srcW, int srcH, int srcFormat,
-                                  int dstW, int dstH, int dstFormat,
-                                  int flags, SwsFilter *srcFilter,
-                                  SwsFilter *dstFilter, double *param);
-
-int sws_scale(struct SwsContext *ctx, uint8_t* src[], int srcStride[],
-              int srcSliceY, int srcSliceH, uint8_t* dst[], int dstStride[]);
-
-void sws_freeContext(struct SwsContext *swsContext);
-
-#endif /* SWSCALE_EMU_H */

Modified: branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavutil/log.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavutil/log.h	2007-04-01 17:03:11 UTC (rev 2915)
+++ branches/avidemux_2.4_branch/avidemux/ADM_libraries/ADM_lavutil/log.h	2007-04-01 19:57:56 UTC (rev 2916)
@@ -42,6 +42,8 @@
 #define AV_LOG_ERROR 0
 #define AV_LOG_INFO 1
 #define AV_LOG_DEBUG 2
+#define AV_LOG_VERBOSE 2
+
 extern int av_log_level;
 
 #ifdef __GNUC__

Modified: branches/avidemux_2.4_branch/avidemux/ADM_preview.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_preview.cpp	2007-04-01 17:03:11 UTC (rev 2915)
+++ branches/avidemux_2.4_branch/avidemux/ADM_preview.cpp	2007-04-01 19:57:56 UTC (rev 2916)
@@ -270,14 +270,14 @@
       }
       if(zoom!=ZOOM_1_1)
       {
-          ADM_assert(resized);
-          ADM_assert(resizer);
-          delete resized;
-          delete resizer;
+          
+          
+          if(resized) delete resized;
+          if(resizer) delete resizer;
           resized=NULL;
           resizer=NULL;
       }
-  renderUnlock();
+      renderUnlock();
 }
 /**
       \fn admPreview::updateFilters

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_gtkRender.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_gtkRender.cpp	2007-04-01 17:03:11 UTC (rev 2915)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_gui2/GUI_gtkRender.cpp	2007-04-01 19:57:56 UTC (rev 2916)
@@ -58,7 +58,7 @@
 
 extern GtkWidget *getDrawWidget( void );
  ColYuvRgb rgbConverter(640,480);
-
+uint32_t lastW,lastH;
 /**
     \brief return pointer to the drawing widget that displays video
 */
@@ -74,6 +74,10 @@
     GtkWidget *widget;
     widget = (GtkWidget *)widg; 
 
+    if(lastW&gt;w || lastH&gt;h)
+    {
+      printf(&quot;[Gtk] Warning window bigger than display %u x %u vs %u x %u\n&quot;,w,h,lastW,lastH);
+    }
 
     gdk_draw_rgb_32_image(widget-&gt;window, widget-&gt;style-&gt;fg_gc[GTK_STATE_NORMAL], 0,    // X
                        0,       // y
@@ -93,6 +97,10 @@
     gtk_widget_set_usize((GtkWidget *)win, w, h);
     UI_purge();
     GUI_gtk_grow_off(1);
+    lastW=w;
+    lastH=h;
+    printf(&quot;[GTK] Changing size to %u %u\n&quot;,w,h);
+    UI_purge();
 }
 /**
       \brief Retrieve info from window, needed for accel layer


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000233.html">[Avidemux-svn-commit] r2915 - in	branches/avidemux_2.4_branch/avidemux: .	ADM_userInterfaces/ADM_GTK/ADM_gui2	ADM_userInterfaces/ADM_QT4/ADM_gui ADM_userInterfaces/ADM_commonUI
</A></li>
	<LI>Next message: <A HREF="000235.html">[Avidemux-svn-commit] r2917 - in	branches/avidemux_2.4_branch/avidemux: .	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory	ADM_userInterfaces/ADM_NONE/ADM_dialogFactory	ADM_userInterfaces/ADM_QT4/ADM_dialogFactory	ADM_userInterfaces/ADM_commonUI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#234">[ date ]</a>
              <a href="thread.html#234">[ thread ]</a>
              <a href="subject.html#234">[ subject ]</a>
              <a href="author.html#234">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
