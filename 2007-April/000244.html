<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Avidemux-svn-commit] r2926 - in	branches/avidemux_2.4_branch/avidemux: ADM_outputs/oplug_avi	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory	ADM_userInterfaces/ADM_NONE/ADM_dialogFactory	ADM_userInterfaces/ADM_QT4/ADM_dialogFactory	ADM_userInterfaces/ADM_commonUI
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/avidemux-svn-commit/2007-April/index.html" >
   <LINK REL="made" HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r2926%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20ADM_outputs/oplug_avi%0A%09ADM_userInterfaces/ADM_GTK/ADM_dialog%0A%09ADM_userInterfaces/ADM_GTK/ADM_dialogFactory%0A%09ADM_userInterfaces/ADM_NONE/ADM_dialogFactory%0A%09ADM_userInterfaces/ADM_QT4/ADM_dialogFactory%0A%09ADM_userInterfaces/ADM_commonUI&In-Reply-To=%3C200704070858.l378wk3q010280%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000243.html">
   <LINK REL="Next"  HREF="000245.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Avidemux-svn-commit] r2926 - in	branches/avidemux_2.4_branch/avidemux: ADM_outputs/oplug_avi	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory	ADM_userInterfaces/ADM_NONE/ADM_dialogFactory	ADM_userInterfaces/ADM_QT4/ADM_dialogFactory	ADM_userInterfaces/ADM_commonUI</H1>
    <B>mean at BerliOS</B> 
    <A HREF="mailto:avidemux-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BAvidemux-svn-commit%5D%20r2926%20-%20in%0A%09branches/avidemux_2.4_branch/avidemux%3A%20ADM_outputs/oplug_avi%0A%09ADM_userInterfaces/ADM_GTK/ADM_dialog%0A%09ADM_userInterfaces/ADM_GTK/ADM_dialogFactory%0A%09ADM_userInterfaces/ADM_NONE/ADM_dialogFactory%0A%09ADM_userInterfaces/ADM_QT4/ADM_dialogFactory%0A%09ADM_userInterfaces/ADM_commonUI&In-Reply-To=%3C200704070858.l378wk3q010280%40sheep.berlios.de%3E"
       TITLE="[Avidemux-svn-commit] r2926 - in	branches/avidemux_2.4_branch/avidemux: ADM_outputs/oplug_avi	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory	ADM_userInterfaces/ADM_NONE/ADM_dialogFactory	ADM_userInterfaces/ADM_QT4/ADM_dialogFactory	ADM_userInterfaces/ADM_commonUI">mean at mail.berlios.de
       </A><BR>
    <I>Sat Apr  7 10:58:46 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000243.html">[Avidemux-svn-commit] r2925 - in branches/avidemux_2.4_branch: .	avidemux/ADM_audiofilter
</A></li>
        <LI>Next message: <A HREF="000245.html">[Avidemux-svn-commit] r2927 - in	branches/avidemux_2.4_branch/avidemux: .	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory	ADM_userInterfaces/ADM_commonUI ADM_video
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#244">[ date ]</a>
              <a href="thread.html#244">[ thread ]</a>
              <a href="subject.html#244">[ subject ]</a>
              <a href="author.html#244">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mean
Date: 2007-04-07 10:58:39 +0200 (Sat, 07 Apr 2007)
New Revision: 2926

Removed:
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_muxer.cpp
Modified:
   branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_float.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_float.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_integer.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_toggle.cpp
   branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
Log:
redone avi muxer with dialog factory

Modified: branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp	2007-04-05 19:21:01 UTC (rev 2925)
+++ branches/avidemux_2.4_branch/avidemux/ADM_outputs/oplug_avi/op_avisave.cpp	2007-04-07 08:58:39 UTC (rev 2926)
@@ -58,13 +58,49 @@
 
 
 #include &quot;ADM_audiofilter/audioeng_buildfilters.h&quot;
-
+#include &quot;DIA_factory.h&quot;
 const char *getStrFromAudioCodec( uint32_t codec);
 //_________________________
 uint8_t ADM_aviUISetMuxer(  void )
 {
-	return DIA_setUserMuxParam ((int *) &amp;muxMode, (int *) &amp;muxParam, (int *) &amp;muxSize);
-}
+  
+//	return DIA_setUserMuxParam ((int *) &amp;muxMode, (int *) &amp;muxParam, (int *) &amp;muxSize);
+  uint32_t mux_n_frame=muxParam;
+  uint32_t mux_size_block=muxParam;
+  uint32_t mux_mode=(uint32_t)muxMode;
+  
+  
+  diaMenuEntry muxingType[]={
+  {MUX_REGULAR,_(&quot;Normal&quot;)},
+  {MUX_N_FRAMES,_(&quot;Mux every N video frames&quot;)},
+  {MUX_N_BYTES,_(&quot;Mux by packet size&quot;)}
+  };
+  
+    diaElemMenu      mux(&amp;(mux_mode),_(&quot;Muxing Type&quot;),3,muxingType);
+    diaElemUInteger blockSize(&amp;(muxSize),_(&quot;Split every MBytes&quot;),1,9000);
+    
+    diaElemUInteger n_frames(&amp;(mux_n_frame),_(&quot;Mux Every x video frames&quot;),1,100);
+    diaElemUInteger n_block(&amp;(mux_size_block),_(&quot;Mux with block of size&quot;),1,50000);
+    
+    
+     mux.link(&amp;(muxingType[1]),1,&amp;n_frames);
+     mux.link(&amp;(muxingType[2]),1,&amp;n_block);
+    
+     diaElem *elems[4]={&amp;mux,&amp;n_frames,&amp;n_block,&amp;blockSize};
+     if( diaFactoryRun(&quot;Mpeg2 Encoding&quot;,4,elems))
+    {
+      muxMode=(PARAM_MUX)mux_mode;
+      switch(muxMode)
+      {
+        case MUX_REGULAR: muxParam=1;break;
+        case MUX_N_FRAMES: muxParam=mux_n_frame;break;
+        case MUX_N_BYTES: muxParam=mux_size_block;break;
+        default: ADM_assert(0);
+      }
+      return 1;
+    }
+    return 0;
+};
 
 
 //_______ set the autosplit size

Deleted: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_muxer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_muxer.cpp	2007-04-05 19:21:01 UTC (rev 2925)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/DIA_muxer.cpp	2007-04-07 08:58:39 UTC (rev 2926)
@@ -1,240 +0,0 @@
-
-#include &lt;config.h&gt;
-
-#include &lt;sys/types.h&gt;
-#include &lt;sys/stat.h&gt;
-#include &lt;unistd.h&gt;
-#include &lt;string.h&gt;
-#include &lt;stdio.h&gt;
-
-#include &lt;gdk/gdkkeysyms.h&gt;
-#include &lt;gtk/gtk.h&gt;
-
-
-#include &lt;gdk/gdkkeysyms.h&gt;
-#include &lt;gtk/gtk.h&gt;
-
-#include &quot;default.h&quot;
-#include &quot;ADM_toolkit_gtk/toolkit_gtk.h&quot;
-#include &quot;ADM_toolkit_gtk/toolkit_gtk_include.h&quot;
-
-
-
-
-//#include &quot;avi_vars.h&quot;
-
-#include &quot;ADM_assert.h&quot; 
-
-#include &quot;ADM_toolkit_gtk/ADM_gladeSupport.h&quot;
-
-
-
-#include &quot;oplug_avi/GUI_mux.h&quot;
-
-static GtkWidget	*create_dialog1 (void);
-
-#define ADJ_SET(widget_name,value) gtk_adjustment_set_value( GTK_ADJUSTMENT(gtk_spin_button_get_adjustment (GTK_SPIN_BUTTON (WID(widget_name)))),value)
-#define ADJ_GET(widget_name) (int)gtk_adjustment_get_value( GTK_ADJUSTMENT(gtk_spin_button_get_adjustment (GTK_SPIN_BUTTON (WID(widget_name)))))
-#define WID(x) lookup_widget(dialog,#x)
-
-uint8_t  DIA_setUserMuxParam( int *mode, int *param, int *muxsize)
-{
-
-  GtkWidget *dialog;
-
-	// gchar *str;
-	// char string[200];
-	int ret=0;
-
-                dialog=create_dialog1();
-//		gtk_transient(dialog);
-                gtk_register_dialog(dialog);
-                switch(*mode)
-                	{
-                   	case MUX_REGULAR:
-					RADIO_SET(radioN,1);
-					ADJ_SET(spinFrame,1);
-		                    	break;
-                   	case MUX_N_FRAMES:
-					RADIO_SET(radioN,1);
-					ADJ_SET(spinFrame,*param);
-		                    	break;
-                	case MUX_N_BYTES:
-					ADJ_SET(spinSize,*param);
-					RADIO_SET(radioBytes,1);
-         				break  ;
-               		default:
-                 				ADM_assert(0);
-                     }
-		ADJ_SET(spinbutton3,*muxsize);
-
-             if(gtk_dialog_run(GTK_DIALOG(dialog))==GTK_RESPONSE_OK)
-		{
-				int r; // ,value=0;
-				ret=1;
-				r=(RADIO_GET(radioN))+(2*RADIO_GET(radioBytes));
-				printf(&quot;\n r: %d \n&quot;,r);
-				switch(r)
-				{
-					case 1: // every or N
-							*param=ADJ_GET(spinFrame);
-							if(*param==1)
-								*mode=MUX_REGULAR;
-							else
-								*mode=MUX_N_FRAMES;
-							break;
-					case 2: // byte
-							*mode=MUX_N_BYTES;
-							*param=ADJ_GET(spinSize);
-							break;
-					default:
-							ADM_assert(0);
-							break;
-				}
-
-	        	        	*muxsize=ADJ_GET(spinbutton3);
-            }
-        gtk_unregister_dialog(dialog);
-	gtk_widget_destroy(dialog);
-	 return ret;
-}
-
-GtkWidget	*create_dialog1 (void)
-{
-  GtkWidget *dialog;
-  GtkWidget *dialog_vbox1;
-  GtkWidget *table1;
-  GtkWidget *radioN;
-  GSList *radioN_group = NULL;
-  GtkWidget *radioBytes;
-  GtkObject *spinFrame_adj;
-  GtkWidget *spinFrame;
-  GtkObject *spinSize_adj;
-  GtkWidget *spinSize;
-  GtkWidget *label1;
-  GtkWidget *label2;
-  GtkWidget *label3;
-  GtkObject *spinbutton3_adj;
-  GtkWidget *spinbutton3;
-  GtkWidget *label4;
-  GtkWidget *dialog_action_area1;
-  GtkWidget *cancelbutton1;
-  GtkWidget *okbutton1;
-
-  dialog = gtk_dialog_new ();
-  gtk_window_set_title (GTK_WINDOW (dialog), _(&quot;AVI muxer options&quot;));
-  gtk_window_set_modal (GTK_WINDOW (dialog), TRUE);
-
-  dialog_vbox1 = GTK_DIALOG (dialog)-&gt;vbox;
-  gtk_widget_show (dialog_vbox1);
-
-  table1 = gtk_table_new (3, 3, FALSE);
-  gtk_widget_show (table1);
-  gtk_box_pack_start (GTK_BOX (dialog_vbox1), table1, TRUE, TRUE, 0);
-  gtk_container_set_border_width (GTK_CONTAINER (table1), 5);
-  gtk_table_set_row_spacings (GTK_TABLE (table1), 5);
-  gtk_table_set_col_spacings (GTK_TABLE (table1), 5);
-
-  radioN = gtk_radio_button_new_with_mnemonic (NULL, _(&quot;Mux audio every&quot;));
-  gtk_widget_show (radioN);
-  gtk_table_attach (GTK_TABLE (table1), radioN, 0, 1, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_radio_button_set_group (GTK_RADIO_BUTTON (radioN), radioN_group);
-  radioN_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (radioN));
-
-  radioBytes = gtk_radio_button_new_with_mnemonic (NULL, _(&quot;Split in packets of&quot;));
-  gtk_widget_show (radioBytes);
-  gtk_table_attach (GTK_TABLE (table1), radioBytes, 0, 1, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_radio_button_set_group (GTK_RADIO_BUTTON (radioBytes), radioN_group);
-  radioN_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (radioBytes));
-
-  spinFrame_adj = gtk_adjustment_new (1, 0, 100, 1, 10, 10);
-  spinFrame = gtk_spin_button_new (GTK_ADJUSTMENT (spinFrame_adj), 1, 0);
-  gtk_widget_show (spinFrame);
-  gtk_table_attach (GTK_TABLE (table1), spinFrame, 1, 2, 0, 1,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  spinSize_adj = gtk_adjustment_new (2048, 0, 100000, 1, 10, 10);
-  spinSize = gtk_spin_button_new (GTK_ADJUSTMENT (spinSize_adj), 1, 0);
-  gtk_widget_show (spinSize);
-  gtk_table_attach (GTK_TABLE (table1), spinSize, 1, 2, 1, 2,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  label1 = gtk_label_new (_(&quot;video frame(s)&quot;));
-  gtk_widget_show (label1);
-  gtk_table_attach (GTK_TABLE (table1), label1, 2, 3, 0, 1,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_label_set_justify (GTK_LABEL (label1), GTK_JUSTIFY_LEFT);
-  gtk_misc_set_alignment (GTK_MISC (label1), 0, 0.5);
-
-  label2 = gtk_label_new (_(&quot;bytes&quot;));
-  gtk_widget_show (label2);
-  gtk_table_attach (GTK_TABLE (table1), label2, 2, 3, 1, 2,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_label_set_justify (GTK_LABEL (label2), GTK_JUSTIFY_LEFT);
-  gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);
-
-  label3 = gtk_label_new (_(&quot;Autosplit file every&quot;));
-  gtk_widget_show (label3);
-  gtk_table_attach (GTK_TABLE (table1), label3, 0, 1, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_label_set_justify (GTK_LABEL (label3), GTK_JUSTIFY_LEFT);
-  gtk_misc_set_alignment (GTK_MISC (label3), 0, 0.5);
-
-  spinbutton3_adj = gtk_adjustment_new (4090, 10, 4095, 1, 10, 10);
-  spinbutton3 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton3_adj), 1, 0);
-  gtk_widget_show (spinbutton3);
-  gtk_table_attach (GTK_TABLE (table1), spinbutton3, 1, 2, 2, 3,
-                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-
-  label4 = gtk_label_new (_(&quot;megabytes&quot;));
-  gtk_widget_show (label4);
-  gtk_table_attach (GTK_TABLE (table1), label4, 2, 3, 2, 3,
-                    (GtkAttachOptions) (GTK_FILL),
-                    (GtkAttachOptions) (0), 0, 0);
-  gtk_label_set_justify (GTK_LABEL (label4), GTK_JUSTIFY_LEFT);
-  gtk_misc_set_alignment (GTK_MISC (label4), 0, 0.5);
-
-  dialog_action_area1 = GTK_DIALOG (dialog)-&gt;action_area;
-  gtk_widget_show (dialog_action_area1);
-  gtk_button_box_set_layout (GTK_BUTTON_BOX (dialog_action_area1), GTK_BUTTONBOX_END);
-
-  cancelbutton1 = gtk_button_new_from_stock (&quot;gtk-cancel&quot;);
-  gtk_widget_show (cancelbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog), cancelbutton1, GTK_RESPONSE_CANCEL);
-  GTK_WIDGET_SET_FLAGS (cancelbutton1, GTK_CAN_DEFAULT);
-
-  okbutton1 = gtk_button_new_from_stock (&quot;gtk-ok&quot;);
-  gtk_widget_show (okbutton1);
-  gtk_dialog_add_action_widget (GTK_DIALOG (dialog), okbutton1, GTK_RESPONSE_OK);
-  GTK_WIDGET_SET_FLAGS (okbutton1, GTK_CAN_DEFAULT);
-
-  /* Store pointers to all widgets, for use by lookup_widget(). */
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog, dialog, &quot;dialog&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog, dialog_vbox1, &quot;dialog_vbox1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog, table1, &quot;table1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog, radioN, &quot;radioN&quot;);
-  GLADE_HOOKUP_OBJECT (dialog, radioBytes, &quot;radioBytes&quot;);
-  GLADE_HOOKUP_OBJECT (dialog, spinFrame, &quot;spinFrame&quot;);
-  GLADE_HOOKUP_OBJECT (dialog, spinSize, &quot;spinSize&quot;);
-  GLADE_HOOKUP_OBJECT (dialog, label1, &quot;label1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog, label2, &quot;label2&quot;);
-  GLADE_HOOKUP_OBJECT (dialog, label3, &quot;label3&quot;);
-  GLADE_HOOKUP_OBJECT (dialog, spinbutton3, &quot;spinbutton3&quot;);
-  GLADE_HOOKUP_OBJECT (dialog, label4, &quot;label4&quot;);
-  GLADE_HOOKUP_OBJECT_NO_REF (dialog, dialog_action_area1, &quot;dialog_action_area1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog, cancelbutton1, &quot;cancelbutton1&quot;);
-  GLADE_HOOKUP_OBJECT (dialog, okbutton1, &quot;okbutton1&quot;);
-
-  return dialog;
-}
-

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-04-05 19:21:01 UTC (rev 2925)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialog/Makefile.am	2007-04-07 08:58:39 UTC (rev 2926)
@@ -12,7 +12,7 @@
 	DIA_properties.cpp DIA_mjpeg.cpp DIA_about.cpp DIA_recent.cpp \
 	DIA_resize.cpp DIA_working.cpp \
 	DIA_working.h DIA_busy.cpp DIA_busy.h DIA_exLame.cpp DIA_pipe.cpp DIA_mpeg2opt.cpp \
-	DIA_xvcd.cpp DIA_muxer.cpp \
+	DIA_xvcd.cpp  \
 	DIA_xvid.cpp DIA_crop.cpp DIA_color.cpp DIA_encoding.cpp   \
 	DIA_requant.cpp DIA_xvid4.cpp DIA_lavcodec.cpp \
 	DIA_pause.cpp \
@@ -42,7 +42,7 @@
 DIA_coloryuv.cpp      DIA_equalizer.cpp    DIA_mpdelogo.cpp    DIA_rotate.cpp \
 DIA_contrast.cpp      DIA_exLame.cpp       DIA_mpeg2opt.cpp    DIA_srt.cpp \
 DIA_about.cpp        DIA_tdeint.cpp \
-DIA_acodec.cpp       DIA_crop.cpp          DIA_gototime.cpp     DIA_muxer.cpp       DIA_v2v.cpp \
+DIA_acodec.cpp       DIA_crop.cpp          DIA_gototime.cpp   DIA_v2v.cpp \
 DIA_animated.cpp     DIA_hue.cpp          DIA_ocr.cpp         DIA_vcodec.cpp \
 DIA_asharp.cpp       DIA_idx_pg.cpp       DIA_partial.cpp     DIA_vobsub.cpp \
 DIA_audio.cpp        DIA_idx_pg.h         DIA_pause.cpp       \

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_float.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_float.cpp	2007-04-05 19:21:01 UTC (rev 2925)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_float.cpp	2007-04-07 08:58:39 UTC (rev 2926)
@@ -85,5 +85,10 @@
   if(*val&lt;min) *val=min;
   if(*val&gt;max) *val=max;
 }
+void diaElemFloat::enable(uint32_t onoff)
+{
+  GtkWidget *widget=(GtkWidget *)myWidget;
+  gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);
+}
 
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp	2007-04-05 19:21:01 UTC (rev 2925)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_integer.cpp	2007-04-07 08:58:39 UTC (rev 2926)
@@ -86,6 +86,13 @@
   if(*val&gt;max) *val=max;
   
 }
+
+void diaElemInteger::enable(uint32_t onoff)
+{
+  GtkWidget *widget=(GtkWidget *)myWidget;
+  gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);
+}
+
 //**********************************************************************************
 
 diaElemUInteger::diaElemUInteger(uint32_t *intValue,const char *toggleTitle, uint32_t min, uint32_t max,const char *tip)
@@ -146,6 +153,11 @@
   if(*val&gt;max) *val=max;
 
 }
+void diaElemUInteger::enable(uint32_t onoff)
+{
+  GtkWidget *widget=(GtkWidget *)myWidget;
+  gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);
+}
 
 
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp	2007-04-05 19:21:01 UTC (rev 2925)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_GTK/ADM_dialogFactory/FAC_toggle.cpp	2007-04-07 08:58:39 UTC (rev 2926)
@@ -62,5 +62,9 @@
   ADM_assert(widget);
   *(uint32_t *)param=gtk_toggle_button_get_active (GTK_TOGGLE_BUTTON (widget));
 }
-
+void diaElemToggle::enable(uint32_t onoff)
+{
+  GtkWidget *widget=(GtkWidget *)myWidget;
+  gtk_widget_set_sensitive(GTK_WIDGET(myWidget),onoff);
+}
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp	2007-04-05 19:21:01 UTC (rev 2925)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_NONE/ADM_dialogFactory/FAC_toggle.cpp	2007-04-07 08:58:39 UTC (rev 2926)
@@ -42,7 +42,7 @@
 void diaElemToggle::getMe(void)
 {
 }
-
+void diaElemToggle::enable(uint32_t onoff) {}
 //******************************************************
 diaElemInteger::diaElemInteger(int32_t *intValue,const char *toggleTitle, int32_t min, int32_t max,const char *tip)
   : diaElem(ELEM_TOGGLE)
@@ -61,7 +61,7 @@
 {
  
 }
-
+void diaElemInteger::enable(uint32_t onoff) {}
 //******************************************************
 diaElemUInteger::diaElemUInteger(uint32_t *intValue,const char *toggleTitle, uint32_t min, uint32_t max,const char *tip)
   : diaElem(ELEM_TOGGLE)
@@ -80,7 +80,7 @@
 {
  
 }
-
+void diaElemUInteger::enable(uint32_t onoff) {}
 //******************************************************
 
 diaElemFloat::diaElemFloat(ELEM_TYPE_FLOAT *intValue,const char *toggleTitle, 
@@ -101,6 +101,7 @@
 {
  
 }
+void diaElemFloat::enable(uint32_t onoff) {}
 //******************************************************
 
 diaElemBar::diaElemBar(uint32_t percent,const char *toggleTitle)

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_float.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_float.cpp	2007-04-05 19:21:01 UTC (rev 2925)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_float.cpp	2007-04-07 08:58:39 UTC (rev 2926)
@@ -76,4 +76,5 @@
  if(val&gt;max) val=max;
  *(ELEM_TYPE_FLOAT *)param=val;
  
-}
\ No newline at end of file
+}
+void diaElemFloat::enable(uint32_t onoff) {}
\ No newline at end of file

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_integer.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_integer.cpp	2007-04-05 19:21:01 UTC (rev 2925)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_integer.cpp	2007-04-07 08:58:39 UTC (rev 2926)
@@ -79,6 +79,7 @@
  *(int32_t *)param=val;
  
 }
+void diaElemInteger::enable(uint32_t onoff) {}
 //******************************************************
 diaElemUInteger::diaElemUInteger(uint32_t *intValue,const char *toggleTitle, uint32_t min, uint32_t max,const char *tip)
   : diaElem(ELEM_TOGGLE)
@@ -124,6 +125,6 @@
 
 }
 
+void diaElemUInteger::enable(uint32_t onoff) {}
 
-
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_toggle.cpp
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_toggle.cpp	2007-04-05 19:21:01 UTC (rev 2925)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_QT4/ADM_dialogFactory/FAC_toggle.cpp	2007-04-07 08:58:39 UTC (rev 2926)
@@ -71,9 +71,9 @@
   }else
     *val=0;
 }
+void diaElemToggle::enable(uint32_t onoff) {}
 
 
-
 //******************************************************
 
 //EOF

Modified: branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h
===================================================================
--- branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-04-05 19:21:01 UTC (rev 2925)
+++ branches/avidemux_2.4_branch/avidemux/ADM_userInterfaces/ADM_commonUI/DIA_factory.h	2007-04-07 08:58:39 UTC (rev 2926)
@@ -68,6 +68,7 @@
   virtual ~diaElemToggle() ;
   void setMe(void *dialog, void *opaque,uint32_t line);
   void getMe(void);
+  void      enable(uint32_t onoff) ;
 };
 /*********************************************/
 class diaElemInteger : public diaElem
@@ -79,6 +80,7 @@
   virtual ~diaElemInteger() ;
   void setMe(void *dialog, void *opaque,uint32_t line);
   void getMe(void);
+  void      enable(uint32_t onoff) ;
 };
 /* Same but unsigned */
 class diaElemUInteger : public diaElem
@@ -90,6 +92,7 @@
   virtual ~diaElemUInteger() ;
   void setMe(void *dialog, void *opaque,uint32_t line);
   void getMe(void);
+  void      enable(uint32_t onoff) ;
   
 };
 /*************************************************/
@@ -117,6 +120,7 @@
   virtual ~diaElemFloat() ;
   void setMe(void *dialog, void *opaque,uint32_t line);
   void getMe(void);
+  void      enable(uint32_t onoff) ;
 };
 /*************************************************/
 typedef struct diaMenuEntry


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000243.html">[Avidemux-svn-commit] r2925 - in branches/avidemux_2.4_branch: .	avidemux/ADM_audiofilter
</A></li>
	<LI>Next message: <A HREF="000245.html">[Avidemux-svn-commit] r2927 - in	branches/avidemux_2.4_branch/avidemux: .	ADM_userInterfaces/ADM_GTK/ADM_dialog	ADM_userInterfaces/ADM_GTK/ADM_dialogFactory	ADM_userInterfaces/ADM_commonUI ADM_video
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#244">[ date ]</a>
              <a href="thread.html#244">[ thread ]</a>
              <a href="subject.html#244">[ subject ]</a>
              <a href="author.html#244">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/avidemux-svn-commit">More information about the Avidemux-svn-commit
mailing list</a><br>
</body></html>
